var JSONM=(()=>{var mse=Object.create;var yv=Object.defineProperty,vse=Object.defineProperties,gse=Object.getOwnPropertyDescriptor,yse=Object.getOwnPropertyDescriptors,bse=Object.getOwnPropertyNames,hb=Object.getOwnPropertySymbols,PO=Object.getPrototypeOf,iM=Object.prototype.hasOwnProperty,qO=Object.prototype.propertyIsEnumerable,wse=Reflect.get;var Or=Math.pow,nM=(t,e,r)=>e in t?yv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,st=(t,e)=>{for(var r in e||(e={}))iM.call(e,r)&&nM(t,r,e[r]);if(hb)for(var r of hb(e))qO.call(e,r)&&nM(t,r,e[r]);return t},yi=(t,e)=>vse(t,yse(e));var aM=(t,e)=>{var r={};for(var n in t)iM.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&hb)for(var n of hb(t))e.indexOf(n)<0&&qO.call(t,n)&&(r[n]=t[n]);return r};var ne=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Qf=(t,e)=>{for(var r in e)yv(t,r,{get:e[r],enumerable:!0})},$O=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of bse(e))!iM.call(t,a)&&a!==r&&yv(t,a,{get:()=>e[a],enumerable:!(n=gse(e,a))||n.enumerable});return t};var lt=(t,e,r)=>(r=t!=null?mse(PO(t)):{},$O(e||!t||!t.__esModule?yv(r,"default",{value:t,enumerable:!0}):r,t)),_se=t=>$O(yv({},"__esModule",{value:!0}),t);var Xe=(t,e,r)=>(nM(t,typeof e!="symbol"?e+"":e,r),r);var sM=(t,e,r)=>wse(PO(t),r,e);var Ke=(t,e,r)=>new Promise((n,a)=>{var s=l=>{try{u(r.next(l))}catch(h){a(h)}},o=l=>{try{u(r.throw(l))}catch(h){a(h)}},u=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,o);u((r=r.apply(t,e)).next())});var fM=ne(bs=>{bs.fetch=bv(global.fetch)&&bv(global.ReadableStream);bs.writableStream=bv(global.WritableStream);bs.abortController=bv(global.AbortController);var el;function oM(){if(el!==void 0)return el;if(global.XMLHttpRequest){el=new global.XMLHttpRequest;try{el.open("GET",global.XDomainRequest?"/":"https://example.com")}catch(t){el=null}}else el=null;return el}function uM(t){var e=oM();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(r){}return!1}bs.arraybuffer=bs.fetch||uM("arraybuffer");bs.msstream=!bs.fetch&&uM("ms-stream");bs.mozchunkedarraybuffer=!bs.fetch&&uM("moz-chunked-arraybuffer");bs.overrideMimeType=bs.fetch||(oM()?bv(oM().overrideMimeType):!1);function bv(t){return typeof t=="function"}el=null});var At=ne((SYe,lM)=>{typeof Object.create=="function"?lM.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:lM.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var ws=ne((EYe,cM)=>{"use strict";var Ed=typeof Reflect=="object"?Reflect:null,zO=Ed&&typeof Ed.apply=="function"?Ed.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},db;Ed&&typeof Ed.ownKeys=="function"?db=Ed.ownKeys:Object.getOwnPropertySymbols?db=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:db=function(e){return Object.getOwnPropertyNames(e)};function xse(t){console&&console.warn&&console.warn(t)}var UO=Number.isNaN||function(e){return e!==e};function on(){on.init.call(this)}cM.exports=on;cM.exports.once=Ase;on.EventEmitter=on;on.prototype._events=void 0;on.prototype._eventsCount=0;on.prototype._maxListeners=void 0;var jO=10;function pb(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(on,"defaultMaxListeners",{enumerable:!0,get:function(){return jO},set:function(t){if(typeof t!="number"||t<0||UO(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");jO=t}});on.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};on.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||UO(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function VO(t){return t._maxListeners===void 0?on.defaultMaxListeners:t._maxListeners}on.prototype.getMaxListeners=function(){return VO(this)};on.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var a=e==="error",s=this._events;if(s!==void 0)a=a&&s.error===void 0;else if(!a)return!1;if(a){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")zO(l,this,r);else for(var h=l.length,p=ZO(l,h),n=0;n<h;++n)zO(p[n],this,r);return!0};function WO(t,e,r,n){var a,s,o;if(pb(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),a=VO(t),a>0&&o.length>a&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,xse(u)}return t}on.prototype.addListener=function(e,r){return WO(this,e,r,!1)};on.prototype.on=on.prototype.addListener;on.prototype.prependListener=function(e,r){return WO(this,e,r,!0)};function Sse(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function GO(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},a=Sse.bind(n);return a.listener=r,n.wrapFn=a,a}on.prototype.once=function(e,r){return pb(r),this.on(e,GO(this,e,r)),this};on.prototype.prependOnceListener=function(e,r){return pb(r),this.prependListener(e,GO(this,e,r)),this};on.prototype.removeListener=function(e,r){var n,a,s,o,u;if(pb(r),a=this._events,a===void 0)return this;if(n=a[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){u=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():Ese(n,s),n.length===1&&(a[e]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",e,u||r)}return this};on.prototype.off=on.prototype.removeListener;on.prototype.removeAllListeners=function(e){var r,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(a=0;a<s.length;++a)o=s[a],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(e,r[a]);return this};function HO(t,e,r){var n=t._events;if(n===void 0)return[];var a=n[e];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?Mse(a):ZO(a,a.length)}on.prototype.listeners=function(e){return HO(this,e,!0)};on.prototype.rawListeners=function(e){return HO(this,e,!1)};on.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):KO.call(t,e)};on.prototype.listenerCount=KO;function KO(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}on.prototype.eventNames=function(){return this._eventsCount>0?db(this._events):[]};function ZO(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Ese(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Mse(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Ase(t,e){return new Promise(function(r,n){function a(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",a),r([].slice.call(arguments))}JO(t,e,s,{once:!0}),e!=="error"&&kse(t,a,{once:!0})})}function kse(t,e,r){typeof t.on=="function"&&JO(t,"error",e,r)}function JO(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function a(s){n.once&&t.removeEventListener(e,a),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var hM=ne((MYe,YO)=>{YO.exports=ws().EventEmitter});var e5=ne(mb=>{"use strict";mb.byteLength=Nse;mb.toByteArray=Dse;mb.fromByteArray=Cse;var lu=[],_s=[],Tse=typeof Uint8Array!="undefined"?Uint8Array:Array,dM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(cc=0,XO=dM.length;cc<XO;++cc)lu[cc]=dM[cc],_s[dM.charCodeAt(cc)]=cc;var cc,XO;_s["-".charCodeAt(0)]=62;_s["_".charCodeAt(0)]=63;function QO(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Nse(t){var e=QO(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Ise(t,e,r){return(e+r)*3/4-r}function Dse(t){var e,r=QO(t),n=r[0],a=r[1],s=new Tse(Ise(t,n,a)),o=0,u=a>0?n-4:n,l;for(l=0;l<u;l+=4)e=_s[t.charCodeAt(l)]<<18|_s[t.charCodeAt(l+1)]<<12|_s[t.charCodeAt(l+2)]<<6|_s[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return a===2&&(e=_s[t.charCodeAt(l)]<<2|_s[t.charCodeAt(l+1)]>>4,s[o++]=e&255),a===1&&(e=_s[t.charCodeAt(l)]<<10|_s[t.charCodeAt(l+1)]<<4|_s[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Ose(t){return lu[t>>18&63]+lu[t>>12&63]+lu[t>>6&63]+lu[t&63]}function Rse(t,e,r){for(var n,a=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),a.push(Ose(n));return a.join("")}function Cse(t){for(var e,r=t.length,n=r%3,a=[],s=16383,o=0,u=r-n;o<u;o+=s)a.push(Rse(t,o,o+s>u?u:o+s));return n===1?(e=t[r-1],a.push(lu[e>>2]+lu[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],a.push(lu[e>>10]+lu[e>>4&63]+lu[e<<2&63]+"=")),a.join("")}});var t5=ne(pM=>{pM.read=function(t,e,r,n,a){var s,o,u=a*8-n-1,l=(1<<u)-1,h=l>>1,p=-7,v=r?a-1:0,y=r?-1:1,S=t[e+v];for(v+=y,s=S&(1<<-p)-1,S>>=-p,p+=u;p>0;s=s*256+t[e+v],v+=y,p-=8);for(o=s&(1<<-p)-1,s>>=-p,p+=n;p>0;o=o*256+t[e+v],v+=y,p-=8);if(s===0)s=1-h;else{if(s===l)return o?NaN:(S?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-h}return(S?-1:1)*o*Math.pow(2,s-n)};pM.write=function(t,e,r,n,a,s){var o,u,l,h=s*8-a-1,p=(1<<h)-1,v=p>>1,y=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=n?0:s-1,A=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+v>=1?e+=y/l:e+=y*Math.pow(2,1-v),e*l>=2&&(o++,l/=2),o+v>=p?(u=0,o=p):o+v>=1?(u=(e*l-1)*Math.pow(2,a),o=o+v):(u=e*Math.pow(2,v-1)*Math.pow(2,a),o=0));a>=8;t[r+S]=u&255,S+=A,u/=256,a-=8);for(o=o<<a|u,h+=a;h>0;t[r+S]=o&255,S+=A,o/=256,h-=8);t[r+S-A]|=T*128}});var yn=ne(Td=>{"use strict";var mM=e5(),Ad=t5(),r5=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Td.Buffer=Qe;Td.SlowBuffer=$se;Td.INSPECT_MAX_BYTES=50;var vb=2147483647;Td.kMaxLength=vb;Qe.TYPED_ARRAY_SUPPORT=Fse();!Qe.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Fse(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return!1}}Object.defineProperty(Qe.prototype,"parent",{enumerable:!0,get:function(){if(!!Qe.isBuffer(this))return this.buffer}});Object.defineProperty(Qe.prototype,"offset",{enumerable:!0,get:function(){if(!!Qe.isBuffer(this))return this.byteOffset}});function Ju(t){if(t>vb)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,Qe.prototype),e}function Qe(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return bM(t)}return s5(t,e,r)}Qe.poolSize=8192;function s5(t,e,r){if(typeof t=="string")return Lse(t,e);if(ArrayBuffer.isView(t))return Pse(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(cu(t,ArrayBuffer)||t&&cu(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(cu(t,SharedArrayBuffer)||t&&cu(t.buffer,SharedArrayBuffer)))return gM(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return Qe.from(n,e,r);let a=qse(t);if(a)return a;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return Qe.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}Qe.from=function(t,e,r){return s5(t,e,r)};Object.setPrototypeOf(Qe.prototype,Uint8Array.prototype);Object.setPrototypeOf(Qe,Uint8Array);function o5(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Bse(t,e,r){return o5(t),t<=0?Ju(t):e!==void 0?typeof r=="string"?Ju(t).fill(e,r):Ju(t).fill(e):Ju(t)}Qe.alloc=function(t,e,r){return Bse(t,e,r)};function bM(t){return o5(t),Ju(t<0?0:wM(t)|0)}Qe.allocUnsafe=function(t){return bM(t)};Qe.allocUnsafeSlow=function(t){return bM(t)};function Lse(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Qe.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=u5(t,e)|0,n=Ju(r),a=n.write(t,e);return a!==r&&(n=n.slice(0,a)),n}function vM(t){let e=t.length<0?0:wM(t.length)|0,r=Ju(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Pse(t){if(cu(t,Uint8Array)){let e=new Uint8Array(t);return gM(e.buffer,e.byteOffset,e.byteLength)}return vM(t)}function gM(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,Qe.prototype),n}function qse(t){if(Qe.isBuffer(t)){let e=wM(t.length)|0,r=Ju(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||xM(t.length)?Ju(0):vM(t);if(t.type==="Buffer"&&Array.isArray(t.data))return vM(t.data)}function wM(t){if(t>=vb)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+vb.toString(16)+" bytes");return t|0}function $se(t){return+t!=t&&(t=0),Qe.alloc(+t)}Qe.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Qe.prototype};Qe.compare=function(e,r){if(cu(e,Uint8Array)&&(e=Qe.from(e,e.offset,e.byteLength)),cu(r,Uint8Array)&&(r=Qe.from(r,r.offset,r.byteLength)),!Qe.isBuffer(e)||!Qe.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,a=r.length;for(let s=0,o=Math.min(n,a);s<o;++s)if(e[s]!==r[s]){n=e[s],a=r[s];break}return n<a?-1:a<n?1:0};Qe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Qe.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Qe.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let a=Qe.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){let o=e[n];if(cu(o,Uint8Array))s+o.length>a.length?(Qe.isBuffer(o)||(o=Qe.from(o)),o.copy(a,s)):Uint8Array.prototype.set.call(a,o,s);else if(Qe.isBuffer(o))o.copy(a,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return a};function u5(t,e){if(Qe.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||cu(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let a=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return yM(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return g5(t).length;default:if(a)return n?-1:yM(t).length;e=(""+e).toLowerCase(),a=!0}}Qe.byteLength=u5;function zse(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Yse(this,e,r);case"utf8":case"utf-8":return l5(this,e,r);case"ascii":return Zse(this,e,r);case"latin1":case"binary":return Jse(this,e,r);case"base64":return Hse(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xse(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}Qe.prototype._isBuffer=!0;function hc(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}Qe.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)hc(this,r,r+1);return this};Qe.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)hc(this,r,r+3),hc(this,r+1,r+2);return this};Qe.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)hc(this,r,r+7),hc(this,r+1,r+6),hc(this,r+2,r+5),hc(this,r+3,r+4);return this};Qe.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?l5(this,0,e):zse.apply(this,arguments)};Qe.prototype.toLocaleString=Qe.prototype.toString;Qe.prototype.equals=function(e){if(!Qe.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Qe.compare(this,e)===0};Qe.prototype.inspect=function(){let e="",r=Td.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};r5&&(Qe.prototype[r5]=Qe.prototype.inspect);Qe.prototype.compare=function(e,r,n,a,s){if(cu(e,Uint8Array)&&(e=Qe.from(e,e.offset,e.byteLength)),!Qe.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),a===void 0&&(a=0),s===void 0&&(s=this.length),r<0||n>e.length||a<0||s>this.length)throw new RangeError("out of range index");if(a>=s&&r>=n)return 0;if(a>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,a>>>=0,s>>>=0,this===e)return 0;let o=s-a,u=n-r,l=Math.min(o,u),h=this.slice(a,s),p=e.slice(r,n);for(let v=0;v<l;++v)if(h[v]!==p[v]){o=h[v],u=p[v];break}return o<u?-1:u<o?1:0};function f5(t,e,r,n,a){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,xM(r)&&(r=a?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(a)return-1;r=t.length-1}else if(r<0)if(a)r=0;else return-1;if(typeof e=="string"&&(e=Qe.from(e,n)),Qe.isBuffer(e))return e.length===0?-1:n5(t,e,r,n,a);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?a?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):n5(t,[e],r,n,a);throw new TypeError("val must be string, number or Buffer")}function n5(t,e,r,n,a){let s=1,o=t.length,u=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,u/=2,r/=2}function l(p,v){return s===1?p[v]:p.readUInt16BE(v*s)}let h;if(a){let p=-1;for(h=r;h<o;h++)if(l(t,h)===l(e,p===-1?0:h-p)){if(p===-1&&(p=h),h-p+1===u)return p*s}else p!==-1&&(h-=h-p),p=-1}else for(r+u>o&&(r=o-u),h=r;h>=0;h--){let p=!0;for(let v=0;v<u;v++)if(l(t,h+v)!==l(e,v)){p=!1;break}if(p)return h}return-1}Qe.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};Qe.prototype.indexOf=function(e,r,n){return f5(this,e,r,n,!0)};Qe.prototype.lastIndexOf=function(e,r,n){return f5(this,e,r,n,!1)};function jse(t,e,r,n){r=Number(r)||0;let a=t.length-r;n?(n=Number(n),n>a&&(n=a)):n=a;let s=e.length;n>s/2&&(n=s/2);let o;for(o=0;o<n;++o){let u=parseInt(e.substr(o*2,2),16);if(xM(u))return o;t[r+o]=u}return o}function Use(t,e,r,n){return gb(yM(e,t.length-r),t,r,n)}function Vse(t,e,r,n){return gb(roe(e),t,r,n)}function Wse(t,e,r,n){return gb(g5(e),t,r,n)}function Gse(t,e,r,n){return gb(noe(e,t.length-r),t,r,n)}Qe.prototype.write=function(e,r,n,a){if(r===void 0)a="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")a=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,a===void 0&&(a="utf8")):(a=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let o=!1;for(;;)switch(a){case"hex":return jse(this,e,r,n);case"utf8":case"utf-8":return Use(this,e,r,n);case"ascii":case"latin1":case"binary":return Vse(this,e,r,n);case"base64":return Wse(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Gse(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),o=!0}};Qe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Hse(t,e,r){return e===0&&r===t.length?mM.fromByteArray(t):mM.fromByteArray(t.slice(e,r))}function l5(t,e,r){r=Math.min(t.length,r);let n=[],a=e;for(;a<r;){let s=t[a],o=null,u=s>239?4:s>223?3:s>191?2:1;if(a+u<=r){let l,h,p,v;switch(u){case 1:s<128&&(o=s);break;case 2:l=t[a+1],(l&192)===128&&(v=(s&31)<<6|l&63,v>127&&(o=v));break;case 3:l=t[a+1],h=t[a+2],(l&192)===128&&(h&192)===128&&(v=(s&15)<<12|(l&63)<<6|h&63,v>2047&&(v<55296||v>57343)&&(o=v));break;case 4:l=t[a+1],h=t[a+2],p=t[a+3],(l&192)===128&&(h&192)===128&&(p&192)===128&&(v=(s&15)<<18|(l&63)<<12|(h&63)<<6|p&63,v>65535&&v<1114112&&(o=v))}}o===null?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),a+=u}return Kse(n)}var i5=4096;function Kse(t){let e=t.length;if(e<=i5)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=i5));return r}function Zse(t,e,r){let n="";r=Math.min(t.length,r);for(let a=e;a<r;++a)n+=String.fromCharCode(t[a]&127);return n}function Jse(t,e,r){let n="";r=Math.min(t.length,r);for(let a=e;a<r;++a)n+=String.fromCharCode(t[a]);return n}function Yse(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let a="";for(let s=e;s<r;++s)a+=ioe[t[s]];return a}function Xse(t,e,r){let n=t.slice(e,r),a="";for(let s=0;s<n.length-1;s+=2)a+=String.fromCharCode(n[s]+n[s+1]*256);return a}Qe.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let a=this.subarray(e,r);return Object.setPrototypeOf(a,Qe.prototype),a};function Ri(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}Qe.prototype.readUintLE=Qe.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ri(e,r,this.length);let a=this[e],s=1,o=0;for(;++o<r&&(s*=256);)a+=this[e+o]*s;return a};Qe.prototype.readUintBE=Qe.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ri(e,r,this.length);let a=this[e+--r],s=1;for(;r>0&&(s*=256);)a+=this[e+--r]*s;return a};Qe.prototype.readUint8=Qe.prototype.readUInt8=function(e,r){return e=e>>>0,r||Ri(e,1,this.length),this[e]};Qe.prototype.readUint16LE=Qe.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Ri(e,2,this.length),this[e]|this[e+1]<<8};Qe.prototype.readUint16BE=Qe.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Ri(e,2,this.length),this[e]<<8|this[e+1]};Qe.prototype.readUint32LE=Qe.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Ri(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Qe.prototype.readUint32BE=Qe.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Ri(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Qe.prototype.readBigUInt64LE=tl(function(e){e=e>>>0,kd(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&wv(e,this.length-8);let a=r+this[++e]*Or(2,8)+this[++e]*Or(2,16)+this[++e]*Or(2,24),s=this[++e]+this[++e]*Or(2,8)+this[++e]*Or(2,16)+n*Or(2,24);return BigInt(a)+(BigInt(s)<<BigInt(32))});Qe.prototype.readBigUInt64BE=tl(function(e){e=e>>>0,kd(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&wv(e,this.length-8);let a=r*Or(2,24)+this[++e]*Or(2,16)+this[++e]*Or(2,8)+this[++e],s=this[++e]*Or(2,24)+this[++e]*Or(2,16)+this[++e]*Or(2,8)+n;return(BigInt(a)<<BigInt(32))+BigInt(s)});Qe.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ri(e,r,this.length);let a=this[e],s=1,o=0;for(;++o<r&&(s*=256);)a+=this[e+o]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*r)),a};Qe.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ri(e,r,this.length);let a=r,s=1,o=this[e+--a];for(;a>0&&(s*=256);)o+=this[e+--a]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};Qe.prototype.readInt8=function(e,r){return e=e>>>0,r||Ri(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Qe.prototype.readInt16LE=function(e,r){e=e>>>0,r||Ri(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};Qe.prototype.readInt16BE=function(e,r){e=e>>>0,r||Ri(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};Qe.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Ri(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Qe.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Ri(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Qe.prototype.readBigInt64LE=tl(function(e){e=e>>>0,kd(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&wv(e,this.length-8);let a=this[e+4]+this[e+5]*Or(2,8)+this[e+6]*Or(2,16)+(n<<24);return(BigInt(a)<<BigInt(32))+BigInt(r+this[++e]*Or(2,8)+this[++e]*Or(2,16)+this[++e]*Or(2,24))});Qe.prototype.readBigInt64BE=tl(function(e){e=e>>>0,kd(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&wv(e,this.length-8);let a=(r<<24)+this[++e]*Or(2,16)+this[++e]*Or(2,8)+this[++e];return(BigInt(a)<<BigInt(32))+BigInt(this[++e]*Or(2,24)+this[++e]*Or(2,16)+this[++e]*Or(2,8)+n)});Qe.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Ri(e,4,this.length),Ad.read(this,e,!0,23,4)};Qe.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Ri(e,4,this.length),Ad.read(this,e,!1,23,4)};Qe.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Ri(e,8,this.length),Ad.read(this,e,!0,52,8)};Qe.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Ri(e,8,this.length),Ad.read(this,e,!1,52,8)};function qa(t,e,r,n,a,s){if(!Qe.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>a||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}Qe.prototype.writeUintLE=Qe.prototype.writeUIntLE=function(e,r,n,a){if(e=+e,r=r>>>0,n=n>>>0,!a){let u=Math.pow(2,8*n)-1;qa(this,e,r,n,u,0)}let s=1,o=0;for(this[r]=e&255;++o<n&&(s*=256);)this[r+o]=e/s&255;return r+n};Qe.prototype.writeUintBE=Qe.prototype.writeUIntBE=function(e,r,n,a){if(e=+e,r=r>>>0,n=n>>>0,!a){let u=Math.pow(2,8*n)-1;qa(this,e,r,n,u,0)}let s=n-1,o=1;for(this[r+s]=e&255;--s>=0&&(o*=256);)this[r+s]=e/o&255;return r+n};Qe.prototype.writeUint8=Qe.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||qa(this,e,r,1,255,0),this[r]=e&255,r+1};Qe.prototype.writeUint16LE=Qe.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||qa(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};Qe.prototype.writeUint16BE=Qe.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||qa(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};Qe.prototype.writeUint32LE=Qe.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||qa(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};Qe.prototype.writeUint32BE=Qe.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||qa(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function c5(t,e,r,n,a){v5(e,n,a,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,r}function h5(t,e,r,n,a){v5(e,n,a,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s=s>>8,t[r+6]=s,s=s>>8,t[r+5]=s,s=s>>8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o=o>>8,t[r+2]=o,o=o>>8,t[r+1]=o,o=o>>8,t[r]=o,r+8}Qe.prototype.writeBigUInt64LE=tl(function(e,r=0){return c5(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});Qe.prototype.writeBigUInt64BE=tl(function(e,r=0){return h5(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});Qe.prototype.writeIntLE=function(e,r,n,a){if(e=+e,r=r>>>0,!a){let l=Math.pow(2,8*n-1);qa(this,e,r,n,l-1,-l)}let s=0,o=1,u=0;for(this[r]=e&255;++s<n&&(o*=256);)e<0&&u===0&&this[r+s-1]!==0&&(u=1),this[r+s]=(e/o>>0)-u&255;return r+n};Qe.prototype.writeIntBE=function(e,r,n,a){if(e=+e,r=r>>>0,!a){let l=Math.pow(2,8*n-1);qa(this,e,r,n,l-1,-l)}let s=n-1,o=1,u=0;for(this[r+s]=e&255;--s>=0&&(o*=256);)e<0&&u===0&&this[r+s+1]!==0&&(u=1),this[r+s]=(e/o>>0)-u&255;return r+n};Qe.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||qa(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};Qe.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||qa(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};Qe.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||qa(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};Qe.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||qa(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};Qe.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||qa(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};Qe.prototype.writeBigInt64LE=tl(function(e,r=0){return c5(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});Qe.prototype.writeBigInt64BE=tl(function(e,r=0){return h5(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function d5(t,e,r,n,a,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function p5(t,e,r,n,a){return e=+e,r=r>>>0,a||d5(t,e,r,4,34028234663852886e22,-34028234663852886e22),Ad.write(t,e,r,n,23,4),r+4}Qe.prototype.writeFloatLE=function(e,r,n){return p5(this,e,r,!0,n)};Qe.prototype.writeFloatBE=function(e,r,n){return p5(this,e,r,!1,n)};function m5(t,e,r,n,a){return e=+e,r=r>>>0,a||d5(t,e,r,8,17976931348623157e292,-17976931348623157e292),Ad.write(t,e,r,n,52,8),r+8}Qe.prototype.writeDoubleLE=function(e,r,n){return m5(this,e,r,!0,n)};Qe.prototype.writeDoubleBE=function(e,r,n){return m5(this,e,r,!1,n)};Qe.prototype.copy=function(e,r,n,a){if(!Qe.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!a&&a!==0&&(a=this.length),r>=e.length&&(r=e.length),r||(r=0),a>0&&a<n&&(a=n),a===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-r<a-n&&(a=e.length-r+n);let s=a-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,a):Uint8Array.prototype.set.call(e,this.subarray(n,a),r),s};Qe.prototype.fill=function(e,r,n,a){if(typeof e=="string"){if(typeof r=="string"?(a=r,r=0,n=this.length):typeof n=="string"&&(a=n,n=this.length),a!==void 0&&typeof a!="string")throw new TypeError("encoding must be a string");if(typeof a=="string"&&!Qe.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(e.length===1){let o=e.charCodeAt(0);(a==="utf8"&&o<128||a==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{let o=Qe.isBuffer(e)?e:Qe.from(e,a),u=o.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=o[s%u]}return this};var Md={};function _M(t,e,r){Md[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}_M("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);_M("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);_M("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,a=r;return Number.isInteger(r)&&Math.abs(r)>Or(2,32)?a=a5(String(r)):typeof r=="bigint"&&(a=String(r),(r>Or(BigInt(2),BigInt(32))||r<-Or(BigInt(2),BigInt(32)))&&(a=a5(a)),a+="n"),n+=` It must be ${e}. Received ${a}`,n},RangeError);function a5(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Qse(t,e,r){kd(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&wv(e,t.length-(r+1))}function v5(t,e,r,n,a,s){if(t>r||t<e){let o=typeof e=="bigint"?"n":"",u;throw s>3?e===0||e===BigInt(0)?u=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:u=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:u=`>= ${e}${o} and <= ${r}${o}`,new Md.ERR_OUT_OF_RANGE("value",u,t)}Qse(n,a,s)}function kd(t,e){if(typeof t!="number")throw new Md.ERR_INVALID_ARG_TYPE(e,"number",t)}function wv(t,e,r){throw Math.floor(t)!==t?(kd(t,r),new Md.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Md.ERR_BUFFER_OUT_OF_BOUNDS:new Md.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var eoe=/[^+/0-9A-Za-z-_]/g;function toe(t){if(t=t.split("=")[0],t=t.trim().replace(eoe,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function yM(t,e){e=e||1/0;let r,n=t.length,a=null,s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!a){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}a=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),a=r;continue}r=(a-55296<<10|r-56320)+65536}else a&&(e-=3)>-1&&s.push(239,191,189);if(a=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function roe(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function noe(t,e){let r,n,a,s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,a=r%256,s.push(a),s.push(n);return s}function g5(t){return mM.toByteArray(toe(t))}function gb(t,e,r,n){let a;for(a=0;a<n&&!(a+r>=e.length||a>=t.length);++a)e[a+r]=t[a];return a}function cu(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function xM(t){return t!==t}var ioe=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let a=0;a<16;++a)e[n+a]=t[r]+t[a]}return e}();function tl(t){return typeof BigInt=="undefined"?aoe:t}function aoe(){throw new Error("BigInt not supported")}});var SM=ne((IYe,y5)=>{"use strict";y5.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==a||o.enumerable!==!0)return!1}return!0}});var _v=ne((DYe,b5)=>{"use strict";var soe=SM();b5.exports=function(){return soe()&&!!Symbol.toStringTag}});var x5=ne((OYe,_5)=>{"use strict";var w5=typeof Symbol!="undefined"&&Symbol,ooe=SM();_5.exports=function(){return typeof w5!="function"||typeof Symbol!="function"||typeof w5("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ooe()}});var E5=ne((RYe,S5)=>{"use strict";var uoe="Function.prototype.bind called on incompatible ",EM=Array.prototype.slice,foe=Object.prototype.toString,loe="[object Function]";S5.exports=function(e){var r=this;if(typeof r!="function"||foe.call(r)!==loe)throw new TypeError(uoe+r);for(var n=EM.call(arguments,1),a,s=function(){if(this instanceof a){var p=r.apply(this,n.concat(EM.call(arguments)));return Object(p)===p?p:this}else return r.apply(e,n.concat(EM.call(arguments)))},o=Math.max(0,r.length-n.length),u=[],l=0;l<o;l++)u.push("$"+l);if(a=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=function(){};h.prototype=r.prototype,a.prototype=new h,h.prototype=null}return a}});var yb=ne((CYe,M5)=>{"use strict";var coe=E5();M5.exports=Function.prototype.bind||coe});var k5=ne((FYe,A5)=>{"use strict";var hoe=yb();A5.exports=hoe.call(Function.call,Object.prototype.hasOwnProperty)});var _b=ne((BYe,D5)=>{"use strict";var mr,Rd=SyntaxError,I5=Function,Dd=TypeError,MM=function(t){try{return I5('"use strict"; return ('+t+").constructor;")()}catch(e){}},dc=Object.getOwnPropertyDescriptor;if(dc)try{dc({},"")}catch(t){dc=null}var AM=function(){throw new Dd},doe=dc?function(){try{return arguments.callee,AM}catch(t){try{return dc(arguments,"callee").get}catch(e){return AM}}}():AM,Nd=x5()(),rl=Object.getPrototypeOf||function(t){return t.__proto__},Id={},poe=typeof Uint8Array=="undefined"?mr:rl(Uint8Array),Od={"%AggregateError%":typeof AggregateError=="undefined"?mr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?mr:ArrayBuffer,"%ArrayIteratorPrototype%":Nd?rl([][Symbol.iterator]()):mr,"%AsyncFromSyncIteratorPrototype%":mr,"%AsyncFunction%":Id,"%AsyncGenerator%":Id,"%AsyncGeneratorFunction%":Id,"%AsyncIteratorPrototype%":Id,"%Atomics%":typeof Atomics=="undefined"?mr:Atomics,"%BigInt%":typeof BigInt=="undefined"?mr:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?mr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?mr:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?mr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?mr:FinalizationRegistry,"%Function%":I5,"%GeneratorFunction%":Id,"%Int8Array%":typeof Int8Array=="undefined"?mr:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?mr:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?mr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Nd?rl(rl([][Symbol.iterator]())):mr,"%JSON%":typeof JSON=="object"?JSON:mr,"%Map%":typeof Map=="undefined"?mr:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Nd?mr:rl(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?mr:Promise,"%Proxy%":typeof Proxy=="undefined"?mr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?mr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?mr:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Nd?mr:rl(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?mr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Nd?rl(""[Symbol.iterator]()):mr,"%Symbol%":Nd?Symbol:mr,"%SyntaxError%":Rd,"%ThrowTypeError%":doe,"%TypedArray%":poe,"%TypeError%":Dd,"%Uint8Array%":typeof Uint8Array=="undefined"?mr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?mr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?mr:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?mr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?mr:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?mr:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?mr:WeakSet},moe=function t(e){var r;if(e==="%AsyncFunction%")r=MM("async function () {}");else if(e==="%GeneratorFunction%")r=MM("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=MM("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&(r=rl(a.prototype))}return Od[e]=r,r},T5={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xv=yb(),bb=k5(),voe=xv.call(Function.call,Array.prototype.concat),goe=xv.call(Function.apply,Array.prototype.splice),N5=xv.call(Function.call,String.prototype.replace),wb=xv.call(Function.call,String.prototype.slice),yoe=xv.call(Function.call,RegExp.prototype.exec),boe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,woe=/\\(\\)?/g,_oe=function(e){var r=wb(e,0,1),n=wb(e,-1);if(r==="%"&&n!=="%")throw new Rd("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Rd("invalid intrinsic syntax, expected opening `%`");var a=[];return N5(e,boe,function(s,o,u,l){a[a.length]=u?N5(l,woe,"$1"):o||s}),a},xoe=function(e,r){var n=e,a;if(bb(T5,n)&&(a=T5[n],n="%"+a[0]+"%"),bb(Od,n)){var s=Od[n];if(s===Id&&(s=moe(n)),typeof s=="undefined"&&!r)throw new Dd("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:s}}throw new Rd("intrinsic "+e+" does not exist!")};D5.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Dd("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Dd('"allowMissing" argument must be a boolean');if(yoe(/^%?[^%]*%?$/g,e)===null)throw new Rd("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=_oe(e),a=n.length>0?n[0]:"",s=xoe("%"+a+"%",r),o=s.name,u=s.value,l=!1,h=s.alias;h&&(a=h[0],goe(n,voe([0,1],h)));for(var p=1,v=!0;p<n.length;p+=1){var y=n[p],S=wb(y,0,1),A=wb(y,-1);if((S==='"'||S==="'"||S==="`"||A==='"'||A==="'"||A==="`")&&S!==A)throw new Rd("property names with quotes must have matching quotes");if((y==="constructor"||!v)&&(l=!0),a+="."+y,o="%"+a+"%",bb(Od,o))u=Od[o];else if(u!=null){if(!(y in u)){if(!r)throw new Dd("base intrinsic for "+e+" exists, but the property is not available.");return}if(dc&&p+1>=n.length){var T=dc(u,y);v=!!T,v&&"get"in T&&!("originalValue"in T.get)?u=T.get:u=u[y]}else v=bb(u,y),u=u[y];v&&!l&&(Od[o]=u)}}return u}});var L5=ne((LYe,xb)=>{"use strict";var kM=yb(),Cd=_b(),C5=Cd("%Function.prototype.apply%"),F5=Cd("%Function.prototype.call%"),B5=Cd("%Reflect.apply%",!0)||kM.call(F5,C5),O5=Cd("%Object.getOwnPropertyDescriptor%",!0),pc=Cd("%Object.defineProperty%",!0),Soe=Cd("%Math.max%");if(pc)try{pc({},"a",{value:1})}catch(t){pc=null}xb.exports=function(e){var r=B5(kM,F5,arguments);if(O5&&pc){var n=O5(r,"length");n.configurable&&pc(r,"length",{value:1+Soe(0,e.length-(arguments.length-1))})}return r};var R5=function(){return B5(kM,C5,arguments)};pc?pc(xb.exports,"apply",{value:R5}):xb.exports.apply=R5});var Sb=ne((PYe,$5)=>{"use strict";var P5=_b(),q5=L5(),Eoe=q5(P5("String.prototype.indexOf"));$5.exports=function(e,r){var n=P5(e,!!r);return typeof n=="function"&&Eoe(e,".prototype.")>-1?q5(n):n}});var U5=ne((qYe,j5)=>{"use strict";var Moe=_v()(),Aoe=Sb(),TM=Aoe("Object.prototype.toString"),Eb=function(e){return Moe&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:TM(e)==="[object Arguments]"},z5=function(e){return Eb(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&TM(e)!=="[object Array]"&&TM(e.callee)==="[object Function]"},koe=function(){return Eb(arguments)}();Eb.isLegacyArguments=z5;j5.exports=koe?Eb:z5});var G5=ne(($Ye,W5)=>{"use strict";var Toe=Object.prototype.toString,Noe=Function.prototype.toString,Ioe=/^\s*(?:function)?\*/,V5=_v()(),NM=Object.getPrototypeOf,Doe=function(){if(!V5)return!1;try{return Function("return function*() {}")()}catch(t){}},IM;W5.exports=function(e){if(typeof e!="function")return!1;if(Ioe.test(Noe.call(e)))return!0;if(!V5){var r=Toe.call(e);return r==="[object GeneratorFunction]"}if(!NM)return!1;if(typeof IM=="undefined"){var n=Doe();IM=n?NM(n):!1}return NM(e)===IM}});var J5=ne((zYe,Z5)=>{"use strict";var K5=Function.prototype.toString,Fd=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,DM,Mb;if(typeof Fd=="function"&&typeof Object.defineProperty=="function")try{DM=Object.defineProperty({},"length",{get:function(){throw Mb}}),Mb={},Fd(function(){throw 42},null,DM)}catch(t){t!==Mb&&(Fd=null)}else Fd=null;var Ooe=/^\s*class\b/,OM=function(e){try{var r=K5.call(e);return Ooe.test(r)}catch(n){return!1}},Roe=function(e){try{return OM(e)?!1:(K5.call(e),!0)}catch(r){return!1}},Coe=Object.prototype.toString,Foe="[object Function]",Boe="[object GeneratorFunction]",Loe=typeof Symbol=="function"&&!!Symbol.toStringTag,H5=typeof document=="object"&&typeof document.all=="undefined"&&document.all!==void 0?document.all:{};Z5.exports=Fd?function(e){if(e===H5)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;try{Fd(e,null,DM)}catch(r){if(r!==Mb)return!1}return!OM(e)}:function(e){if(e===H5)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;if(Loe)return Roe(e);if(OM(e))return!1;var r=Coe.call(e);return r===Foe||r===Boe}});var RM=ne((jYe,X5)=>{"use strict";var Poe=J5(),qoe=Object.prototype.toString,Y5=Object.prototype.hasOwnProperty,$oe=function(e,r,n){for(var a=0,s=e.length;a<s;a++)Y5.call(e,a)&&(n==null?r(e[a],a,e):r.call(n,e[a],a,e))},zoe=function(e,r,n){for(var a=0,s=e.length;a<s;a++)n==null?r(e.charAt(a),a,e):r.call(n,e.charAt(a),a,e)},joe=function(e,r,n){for(var a in e)Y5.call(e,a)&&(n==null?r(e[a],a,e):r.call(n,e[a],a,e))},Uoe=function(e,r,n){if(!Poe(r))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),qoe.call(e)==="[object Array]"?$oe(e,r,a):typeof e=="string"?zoe(e,r,a):joe(e,r,a)};X5.exports=Uoe});var FM=ne((UYe,Q5)=>{"use strict";var CM=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Voe=typeof globalThis=="undefined"?global:globalThis;Q5.exports=function(){for(var e=[],r=0;r<CM.length;r++)typeof Voe[CM[r]]=="function"&&(e[e.length]=CM[r]);return e}});var BM=ne((VYe,eR)=>{"use strict";var Woe=_b(),Ab=Woe("%Object.getOwnPropertyDescriptor%",!0);if(Ab)try{Ab([],"length")}catch(t){Ab=null}eR.exports=Ab});var qM=ne((WYe,aR)=>{"use strict";var tR=RM(),Goe=FM(),PM=Sb(),Hoe=PM("Object.prototype.toString"),rR=_v()(),Koe=typeof globalThis=="undefined"?global:globalThis,nR=Goe(),Zoe=PM("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Joe=PM("String.prototype.slice"),iR={},kb=BM(),LM=Object.getPrototypeOf;rR&&kb&&LM&&tR(nR,function(t){var e=new Koe[t];if(Symbol.toStringTag in e){var r=LM(e),n=kb(r,Symbol.toStringTag);if(!n){var a=LM(r);n=kb(a,Symbol.toStringTag)}iR[t]=n.get}});var Yoe=function(e){var r=!1;return tR(iR,function(n,a){if(!r)try{r=n.call(e)===a}catch(s){}}),r};aR.exports=function(e){if(!e||typeof e!="object")return!1;if(!rR||!(Symbol.toStringTag in e)){var r=Joe(Hoe(e),8,-1);return Zoe(nR,r)>-1}return kb?Yoe(e):!1}});var hR=ne((GYe,cR)=>{"use strict";var oR=RM(),Xoe=FM(),uR=Sb(),Qoe=uR("Object.prototype.toString"),fR=_v()(),sR=typeof globalThis=="undefined"?global:globalThis,eue=Xoe(),tue=uR("String.prototype.slice"),lR={},$M=BM(),zM=Object.getPrototypeOf;fR&&$M&&zM&&oR(eue,function(t){if(typeof sR[t]=="function"){var e=new sR[t];if(Symbol.toStringTag in e){var r=zM(e),n=$M(r,Symbol.toStringTag);if(!n){var a=zM(r);n=$M(a,Symbol.toStringTag)}lR[t]=n.get}}});var rue=function(e){var r=!1;return oR(lR,function(n,a){if(!r)try{var s=n.call(e);s===a&&(r=s)}catch(o){}}),r},nue=qM();cR.exports=function(e){return nue(e)?!fR||!(Symbol.toStringTag in e)?tue(Qoe(e),8,-1):rue(e):!1}});var AR=ne(sr=>{"use strict";var iue=U5(),aue=G5(),To=hR(),dR=qM();function Bd(t){return t.call.bind(t)}var pR=typeof BigInt!="undefined",mR=typeof Symbol!="undefined",xs=Bd(Object.prototype.toString),sue=Bd(Number.prototype.valueOf),oue=Bd(String.prototype.valueOf),uue=Bd(Boolean.prototype.valueOf);pR&&(vR=Bd(BigInt.prototype.valueOf));var vR;mR&&(gR=Bd(Symbol.prototype.valueOf));var gR;function Ev(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch(r){return!1}}sr.isArgumentsObject=iue;sr.isGeneratorFunction=aue;sr.isTypedArray=dR;function fue(t){return typeof Promise!="undefined"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}sr.isPromise=fue;function lue(t){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(t):dR(t)||bR(t)}sr.isArrayBufferView=lue;function cue(t){return To(t)==="Uint8Array"}sr.isUint8Array=cue;function hue(t){return To(t)==="Uint8ClampedArray"}sr.isUint8ClampedArray=hue;function due(t){return To(t)==="Uint16Array"}sr.isUint16Array=due;function pue(t){return To(t)==="Uint32Array"}sr.isUint32Array=pue;function mue(t){return To(t)==="Int8Array"}sr.isInt8Array=mue;function vue(t){return To(t)==="Int16Array"}sr.isInt16Array=vue;function gue(t){return To(t)==="Int32Array"}sr.isInt32Array=gue;function yue(t){return To(t)==="Float32Array"}sr.isFloat32Array=yue;function bue(t){return To(t)==="Float64Array"}sr.isFloat64Array=bue;function wue(t){return To(t)==="BigInt64Array"}sr.isBigInt64Array=wue;function _ue(t){return To(t)==="BigUint64Array"}sr.isBigUint64Array=_ue;function Tb(t){return xs(t)==="[object Map]"}Tb.working=typeof Map!="undefined"&&Tb(new Map);function xue(t){return typeof Map=="undefined"?!1:Tb.working?Tb(t):t instanceof Map}sr.isMap=xue;function Nb(t){return xs(t)==="[object Set]"}Nb.working=typeof Set!="undefined"&&Nb(new Set);function Sue(t){return typeof Set=="undefined"?!1:Nb.working?Nb(t):t instanceof Set}sr.isSet=Sue;function Ib(t){return xs(t)==="[object WeakMap]"}Ib.working=typeof WeakMap!="undefined"&&Ib(new WeakMap);function Eue(t){return typeof WeakMap=="undefined"?!1:Ib.working?Ib(t):t instanceof WeakMap}sr.isWeakMap=Eue;function UM(t){return xs(t)==="[object WeakSet]"}UM.working=typeof WeakSet!="undefined"&&UM(new WeakSet);function Mue(t){return UM(t)}sr.isWeakSet=Mue;function Db(t){return xs(t)==="[object ArrayBuffer]"}Db.working=typeof ArrayBuffer!="undefined"&&Db(new ArrayBuffer);function yR(t){return typeof ArrayBuffer=="undefined"?!1:Db.working?Db(t):t instanceof ArrayBuffer}sr.isArrayBuffer=yR;function Ob(t){return xs(t)==="[object DataView]"}Ob.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&Ob(new DataView(new ArrayBuffer(1),0,1));function bR(t){return typeof DataView=="undefined"?!1:Ob.working?Ob(t):t instanceof DataView}sr.isDataView=bR;var jM=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function Sv(t){return xs(t)==="[object SharedArrayBuffer]"}function wR(t){return typeof jM=="undefined"?!1:(typeof Sv.working=="undefined"&&(Sv.working=Sv(new jM)),Sv.working?Sv(t):t instanceof jM)}sr.isSharedArrayBuffer=wR;function Aue(t){return xs(t)==="[object AsyncFunction]"}sr.isAsyncFunction=Aue;function kue(t){return xs(t)==="[object Map Iterator]"}sr.isMapIterator=kue;function Tue(t){return xs(t)==="[object Set Iterator]"}sr.isSetIterator=Tue;function Nue(t){return xs(t)==="[object Generator]"}sr.isGeneratorObject=Nue;function Iue(t){return xs(t)==="[object WebAssembly.Module]"}sr.isWebAssemblyCompiledModule=Iue;function _R(t){return Ev(t,sue)}sr.isNumberObject=_R;function xR(t){return Ev(t,oue)}sr.isStringObject=xR;function SR(t){return Ev(t,uue)}sr.isBooleanObject=SR;function ER(t){return pR&&Ev(t,vR)}sr.isBigIntObject=ER;function MR(t){return mR&&Ev(t,gR)}sr.isSymbolObject=MR;function Due(t){return _R(t)||xR(t)||SR(t)||ER(t)||MR(t)}sr.isBoxedPrimitive=Due;function Oue(t){return typeof Uint8Array!="undefined"&&(yR(t)||wR(t))}sr.isAnyArrayBuffer=Oue;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(sr,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var TR=ne((KYe,kR)=>{kR.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var hu=ne(or=>{var NR=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),n={},a=0;a<r.length;a++)n[r[a]]=Object.getOwnPropertyDescriptor(e,r[a]);return n},Rue=/%[sdj%]/g;or.format=function(t){if(!qb(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(nl(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,a=n.length,s=String(t).replace(Rue,function(u){if(u==="%%")return"%";if(r>=a)return u;switch(u){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(l){return"[Circular]"}default:return u}}),o=n[r];r<a;o=n[++r])Pb(o)||!Ld(o)?s+=" "+o:s+=" "+nl(o);return s};or.deprecate=function(t,e){if(typeof process!="undefined"&&process.noDeprecation===!0)return t;if(typeof process=="undefined")return function(){return or.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n};var Rb={},IR=/^$/;process.env.NODE_DEBUG&&(Cb=process.env.NODE_DEBUG,Cb=Cb.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),IR=new RegExp("^"+Cb+"$","i"));var Cb;or.debuglog=function(t){if(t=t.toUpperCase(),!Rb[t])if(IR.test(t)){var e=process.pid;Rb[t]=function(){var r=or.format.apply(or,arguments);console.error("%s %d: %s",t,e,r)}}else Rb[t]=function(){};return Rb[t]};function nl(t,e){var r={seen:[],stylize:Fue};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),HM(e)?r.showHidden=e:e&&or._extend(r,e),vc(r.showHidden)&&(r.showHidden=!1),vc(r.depth)&&(r.depth=2),vc(r.colors)&&(r.colors=!1),vc(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Cue),Bb(r,t,r.depth)}or.inspect=nl;nl.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};nl.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Cue(t,e){var r=nl.styles[e];return r?"\x1B["+nl.colors[r][0]+"m"+t+"\x1B["+nl.colors[r][1]+"m":t}function Fue(t,e){return t}function Bue(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function Bb(t,e,r){if(t.customInspect&&e&&Fb(e.inspect)&&e.inspect!==or.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return qb(n)||(n=Bb(t,n,r)),n}var a=Lue(t,e);if(a)return a;var s=Object.keys(e),o=Bue(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),Av(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return VM(e);if(s.length===0){if(Fb(e)){var u=e.name?": "+e.name:"";return t.stylize("[Function"+u+"]","special")}if(Mv(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Lb(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Av(e))return VM(e)}var l="",h=!1,p=["{","}"];if(DR(e)&&(h=!0,p=["[","]"]),Fb(e)){var v=e.name?": "+e.name:"";l=" [Function"+v+"]"}if(Mv(e)&&(l=" "+RegExp.prototype.toString.call(e)),Lb(e)&&(l=" "+Date.prototype.toUTCString.call(e)),Av(e)&&(l=" "+VM(e)),s.length===0&&(!h||e.length==0))return p[0]+l+p[1];if(r<0)return Mv(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var y;return h?y=Pue(t,e,r,o,s):y=s.map(function(S){return GM(t,e,r,o,S,h)}),t.seen.pop(),que(y,l,p)}function Lue(t,e){if(vc(e))return t.stylize("undefined","undefined");if(qb(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(OR(e))return t.stylize(""+e,"number");if(HM(e))return t.stylize(""+e,"boolean");if(Pb(e))return t.stylize("null","null")}function VM(t){return"["+Error.prototype.toString.call(t)+"]"}function Pue(t,e,r,n,a){for(var s=[],o=0,u=e.length;o<u;++o)RR(e,String(o))?s.push(GM(t,e,r,n,String(o),!0)):s.push("");return a.forEach(function(l){l.match(/^\d+$/)||s.push(GM(t,e,r,n,l,!0))}),s}function GM(t,e,r,n,a,s){var o,u,l;if(l=Object.getOwnPropertyDescriptor(e,a)||{value:e[a]},l.get?l.set?u=t.stylize("[Getter/Setter]","special"):u=t.stylize("[Getter]","special"):l.set&&(u=t.stylize("[Setter]","special")),RR(n,a)||(o="["+a+"]"),u||(t.seen.indexOf(l.value)<0?(Pb(r)?u=Bb(t,l.value,null):u=Bb(t,l.value,r-1),u.indexOf(`
`)>-1&&(s?u=u.split(`
`).map(function(h){return"  "+h}).join(`
`).substr(2):u=`
`+u.split(`
`).map(function(h){return"   "+h}).join(`
`))):u=t.stylize("[Circular]","special")),vc(o)){if(s&&a.match(/^\d+$/))return u;o=JSON.stringify(""+a),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+u}function que(t,e,r){var n=0,a=t.reduce(function(s,o){return n++,o.indexOf(`
`)>=0&&n++,s+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return a>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}or.types=AR();function DR(t){return Array.isArray(t)}or.isArray=DR;function HM(t){return typeof t=="boolean"}or.isBoolean=HM;function Pb(t){return t===null}or.isNull=Pb;function $ue(t){return t==null}or.isNullOrUndefined=$ue;function OR(t){return typeof t=="number"}or.isNumber=OR;function qb(t){return typeof t=="string"}or.isString=qb;function zue(t){return typeof t=="symbol"}or.isSymbol=zue;function vc(t){return t===void 0}or.isUndefined=vc;function Mv(t){return Ld(t)&&KM(t)==="[object RegExp]"}or.isRegExp=Mv;or.types.isRegExp=Mv;function Ld(t){return typeof t=="object"&&t!==null}or.isObject=Ld;function Lb(t){return Ld(t)&&KM(t)==="[object Date]"}or.isDate=Lb;or.types.isDate=Lb;function Av(t){return Ld(t)&&(KM(t)==="[object Error]"||t instanceof Error)}or.isError=Av;or.types.isNativeError=Av;function Fb(t){return typeof t=="function"}or.isFunction=Fb;function jue(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t=="undefined"}or.isPrimitive=jue;or.isBuffer=TR();function KM(t){return Object.prototype.toString.call(t)}function WM(t){return t<10?"0"+t.toString(10):t.toString(10)}var Uue=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Vue(){var t=new Date,e=[WM(t.getHours()),WM(t.getMinutes()),WM(t.getSeconds())].join(":");return[t.getDate(),Uue[t.getMonth()],e].join(" ")}or.log=function(){console.log("%s - %s",Vue(),or.format.apply(or,arguments))};or.inherits=At();or._extend=function(t,e){if(!e||!Ld(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function RR(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var mc=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;or.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(mc&&e[mc]){var r=e[mc];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,mc,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,a,s=new Promise(function(l,h){n=l,a=h}),o=[],u=0;u<arguments.length;u++)o.push(arguments[u]);o.push(function(l,h){l?a(l):n(h)});try{e.apply(this,o)}catch(l){a(l)}return s}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),mc&&Object.defineProperty(r,mc,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,NR(e))};or.promisify.custom=mc;function Wue(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function Gue(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var a=r.pop();if(typeof a!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return a.apply(s,arguments)};t.apply(this,r).then(function(u){process.nextTick(o.bind(null,null,u))},function(u){process.nextTick(Wue.bind(null,u,o))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,NR(t)),e}or.callbackify=Gue});var LR=ne((JYe,BR)=>{"use strict";function CR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(r),!0).forEach(function(n){Kue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kue(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Jue(t,e,r){return e&&FR(t.prototype,e),r&&FR(t,r),t}var Yue=yn(),$b=Yue.Buffer,Xue=hu(),ZM=Xue.inspect,Que=ZM&&ZM.custom||"inspect";function efe(t,e,r){$b.prototype.copy.call(t,e,r)}BR.exports=function(){function t(){Zue(this,t),this.head=null,this.tail=null,this.length=0}return Jue(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,a=""+n.data;n=n.next;)a+=r+n.data;return a}},{key:"concat",value:function(r){if(this.length===0)return $b.alloc(0);for(var n=$b.allocUnsafe(r>>>0),a=this.head,s=0;a;)efe(a.data,n,s),s+=a.data.length,a=a.next;return n}},{key:"consume",value:function(r,n){var a;return r<this.head.data.length?(a=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?a=this.shift():a=n?this._getString(r):this._getBuffer(r),a}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,a=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,u=r>o.length?o.length:r;if(u===o.length?s+=o:s+=o.slice(0,r),r-=u,r===0){u===o.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(u));break}++a}return this.length-=a,s}},{key:"_getBuffer",value:function(r){var n=$b.allocUnsafe(r),a=this.head,s=1;for(a.data.copy(n),r-=a.data.length;a=a.next;){var o=a.data,u=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,u),r-=u,r===0){u===o.length?(++s,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=o.slice(u));break}++s}return this.length-=s,n}},{key:Que,value:function(r,n){return ZM(this,Hue({},n,{depth:0,customInspect:!1}))}}]),t}()});var YM=ne((YYe,qR)=>{"use strict";function tfe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(JM,this,t)):process.nextTick(JM,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(zb,r):(r._writableState.errorEmitted=!0,process.nextTick(PR,r,s)):process.nextTick(PR,r,s):e?(process.nextTick(zb,r),e(s)):process.nextTick(zb,r)}),this)}function PR(t,e){JM(t,e),zb(t)}function zb(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function rfe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function JM(t,e){t.emit("error",e)}function nfe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}qR.exports={destroy:tfe,undestroy:rfe,errorOrDestroy:nfe}});var gc=ne((XYe,jR)=>{"use strict";function ife(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var zR={};function Ss(t,e,r){r||(r=Error);function n(s,o,u){return typeof e=="string"?e:e(s,o,u)}var a=function(s){ife(o,s);function o(u,l,h){return s.call(this,n(u,l,h))||this}return o}(r);a.prototype.name=r.name,a.prototype.code=t,zR[t]=a}function $R(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function afe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function sfe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function ofe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ss("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ss("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&afe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var a;if(sfe(t," argument"))a="The ".concat(t," ").concat(n," ").concat($R(e,"type"));else{var s=ofe(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat($R(e,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);Ss("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ss("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ss("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ss("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ss("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ss("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ss("ERR_STREAM_WRITE_AFTER_END","write after end");Ss("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ss("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ss("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");jR.exports.codes=zR});var XM=ne((QYe,UR)=>{"use strict";var ufe=gc().codes.ERR_INVALID_OPT_VALUE;function ffe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function lfe(t,e,r,n){var a=ffe(e,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var s=n?r:"highWaterMark";throw new ufe(s,a)}return Math.floor(a)}return t.objectMode?16:16*1024}UR.exports={getHighWaterMark:lfe}});var kv=ne((eXe,VR)=>{VR.exports=cfe;function cfe(t,e){if(QM("noDeprecation"))return t;var r=!1;function n(){if(!r){if(QM("throwDeprecation"))throw new Error(e);QM("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function QM(t){try{if(!global.localStorage)return!1}catch(r){return!1}var e=global.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var rA=ne((tXe,JR)=>{"use strict";JR.exports=ii;function GR(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Pfe(e,t)}}var Pd;ii.WritableState=Nv;var hfe={deprecate:kv()},HR=hM(),Ub=yn().Buffer,dfe=global.Uint8Array||function(){};function pfe(t){return Ub.from(t)}function mfe(t){return Ub.isBuffer(t)||t instanceof dfe}var tA=YM(),vfe=XM(),gfe=vfe.getHighWaterMark,il=gc().codes,yfe=il.ERR_INVALID_ARG_TYPE,bfe=il.ERR_METHOD_NOT_IMPLEMENTED,wfe=il.ERR_MULTIPLE_CALLBACK,_fe=il.ERR_STREAM_CANNOT_PIPE,xfe=il.ERR_STREAM_DESTROYED,Sfe=il.ERR_STREAM_NULL_VALUES,Efe=il.ERR_STREAM_WRITE_AFTER_END,Mfe=il.ERR_UNKNOWN_ENCODING,qd=tA.errorOrDestroy;At()(ii,HR);function Afe(){}function Nv(t,e,r){Pd=Pd||yc(),t=t||{},typeof r!="boolean"&&(r=e instanceof Pd),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=gfe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){Rfe(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new GR(this)}Nv.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Nv.prototype,"buffer",{get:hfe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var jb;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(jb=Function.prototype[Symbol.hasInstance],Object.defineProperty(ii,Symbol.hasInstance,{value:function(e){return jb.call(this,e)?!0:this!==ii?!1:e&&e._writableState instanceof Nv}})):jb=function(e){return e instanceof this};function ii(t){Pd=Pd||yc();var e=this instanceof Pd;if(!e&&!jb.call(ii,this))return new ii(t);this._writableState=new Nv(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),HR.call(this)}ii.prototype.pipe=function(){qd(this,new _fe)};function kfe(t,e){var r=new Efe;qd(t,r),process.nextTick(e,r)}function Tfe(t,e,r,n){var a;return r===null?a=new Sfe:typeof r!="string"&&!e.objectMode&&(a=new yfe("chunk",["string","Buffer"],r)),a?(qd(t,a),process.nextTick(n,a),!1):!0}ii.prototype.write=function(t,e,r){var n=this._writableState,a=!1,s=!n.objectMode&&mfe(t);return s&&!Ub.isBuffer(t)&&(t=pfe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Afe),n.ending?kfe(this,r):(s||Tfe(this,n,t,r))&&(n.pendingcb++,a=Ife(this,n,s,t,e,r)),a};ii.prototype.cork=function(){this._writableState.corked++};ii.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&KR(this,t))};ii.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Mfe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(ii.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Nfe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Ub.from(e,r)),e}Object.defineProperty(ii.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ife(t,e,r,n,a,s){if(!r){var o=Nfe(e,n,a);n!==o&&(r=!0,a="buffer",n=o)}var u=e.objectMode?1:n.length;e.length+=u;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else eA(t,e,!1,u,n,a,s);return l}function eA(t,e,r,n,a,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new xfe("write")):r?t._writev(a,e.onwrite):t._write(a,s,e.onwrite),e.sync=!1}function Dfe(t,e,r,n,a){--e.pendingcb,r?(process.nextTick(a,n),process.nextTick(Tv,t,e),t._writableState.errorEmitted=!0,qd(t,n)):(a(n),t._writableState.errorEmitted=!0,qd(t,n),Tv(t,e))}function Ofe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Rfe(t,e){var r=t._writableState,n=r.sync,a=r.writecb;if(typeof a!="function")throw new wfe;if(Ofe(r),e)Dfe(t,r,n,e,a);else{var s=ZR(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&KR(t,r),n?process.nextTick(WR,t,r,s,a):WR(t,r,s,a)}}function WR(t,e,r,n){r||Cfe(t,e),e.pendingcb--,n(),Tv(t,e)}function Cfe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function KR(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,a=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,u=!0;r;)a[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;a.allBuffers=u,eA(t,e,!0,e.length,a,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new GR(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,h=r.encoding,p=r.callback,v=e.objectMode?1:l.length;if(eA(t,e,!1,v,l,h,p),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}ii.prototype._write=function(t,e,r){r(new bfe("_write()"))};ii.prototype._writev=null;ii.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Lfe(this,n,r),this};Object.defineProperty(ii.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ZR(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Ffe(t,e){t._final(function(r){e.pendingcb--,r&&qd(t,r),e.prefinished=!0,t.emit("prefinish"),Tv(t,e)})}function Bfe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Ffe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Tv(t,e){var r=ZR(e);if(r&&(Bfe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function Lfe(t,e,r){e.ending=!0,Tv(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Pfe(t,e,r){var n=t.entry;for(t.entry=null;n;){var a=n.callback;e.pendingcb--,a(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(ii.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});ii.prototype.destroy=tA.destroy;ii.prototype._undestroy=tA.undestroy;ii.prototype._destroy=function(t,e){e(t)}});var yc=ne((rXe,XR)=>{"use strict";var qfe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};XR.exports=du;var YR=aA(),iA=rA();At()(du,YR);for(nA=qfe(iA.prototype),Vb=0;Vb<nA.length;Vb++)Wb=nA[Vb],du.prototype[Wb]||(du.prototype[Wb]=iA.prototype[Wb]);var nA,Wb,Vb;function du(t){if(!(this instanceof du))return new du(t);YR.call(this,t),iA.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",$fe)))}Object.defineProperty(du.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(du.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(du.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function $fe(){this._writableState.ended||process.nextTick(zfe,this)}function zfe(t){t.end()}Object.defineProperty(du.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var tC=ne((sA,eC)=>{var Gb=yn(),pu=Gb.Buffer;function QR(t,e){for(var r in t)e[r]=t[r]}pu.from&&pu.alloc&&pu.allocUnsafe&&pu.allocUnsafeSlow?eC.exports=Gb:(QR(Gb,sA),sA.Buffer=bc);function bc(t,e,r){return pu(t,e,r)}bc.prototype=Object.create(pu.prototype);QR(pu,bc);bc.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return pu(t,e,r)};bc.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=pu(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};bc.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return pu(t)};bc.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Gb.SlowBuffer(t)}});var mu=ne(nC=>{"use strict";var uA=tC().Buffer,rC=uA.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function jfe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Ufe(t){var e=jfe(t);if(typeof e!="string"&&(uA.isEncoding===rC||!rC(t)))throw new Error("Unknown encoding: "+t);return e||t}nC.StringDecoder=Iv;function Iv(t){this.encoding=Ufe(t);var e;switch(this.encoding){case"utf16le":this.text=Zfe,this.end=Jfe,e=4;break;case"utf8":this.fillLast=Gfe,e=4;break;case"base64":this.text=Yfe,this.end=Xfe,e=3;break;default:this.write=Qfe,this.end=ele;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=uA.allocUnsafe(e)}Iv.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Iv.prototype.end=Kfe;Iv.prototype.text=Hfe;Iv.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function oA(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Vfe(t,e,r){var n=e.length-1;if(n<r)return 0;var a=oA(e[n]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--n<r||a===-2?0:(a=oA(e[n]),a>=0?(a>0&&(t.lastNeed=a-2),a):--n<r||a===-2?0:(a=oA(e[n]),a>=0?(a>0&&(a===2?a=0:t.lastNeed=a-3),a):0))}function Wfe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Gfe(t){var e=this.lastTotal-this.lastNeed,r=Wfe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Hfe(t,e){var r=Vfe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Kfe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Zfe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Jfe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Yfe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Xfe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Qfe(t){return t.toString(this.encoding)}function ele(t){return t&&t.length?this.write(t):""}});var Hb=ne((iXe,sC)=>{"use strict";var iC=gc().codes.ERR_STREAM_PREMATURE_CLOSE;function tle(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];t.apply(this,n)}}}function rle(){}function nle(t){return t.setHeader&&typeof t.abort=="function"}function aC(t,e,r){if(typeof e=="function")return aC(t,null,e);e||(e={}),r=tle(r||rle);var n=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||u()},o=t._writableState&&t._writableState.finished,u=function(){a=!1,o=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,h=function(){n=!1,l=!0,a||r.call(t)},p=function(A){r.call(t,A)},v=function(){var A;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(A=new iC),r.call(t,A);if(a&&!o)return(!t._writableState||!t._writableState.ended)&&(A=new iC),r.call(t,A)},y=function(){t.req.on("finish",u)};return nle(t)?(t.on("complete",u),t.on("abort",v),t.req?y():t.on("request",y)):a&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",h),t.on("finish",u),e.error!==!1&&t.on("error",p),t.on("close",v),function(){t.removeListener("complete",u),t.removeListener("abort",v),t.removeListener("request",y),t.req&&t.req.removeListener("finish",u),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",u),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",v)}}sC.exports=aC});var uC=ne((aXe,oC)=>{"use strict";var Kb;function al(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ile=Hb(),sl=Symbol("lastResolve"),wc=Symbol("lastReject"),Dv=Symbol("error"),Zb=Symbol("ended"),_c=Symbol("lastPromise"),fA=Symbol("handlePromise"),xc=Symbol("stream");function ol(t,e){return{value:t,done:e}}function ale(t){var e=t[sl];if(e!==null){var r=t[xc].read();r!==null&&(t[_c]=null,t[sl]=null,t[wc]=null,e(ol(r,!1)))}}function sle(t){process.nextTick(ale,t)}function ole(t,e){return function(r,n){t.then(function(){if(e[Zb]){r(ol(void 0,!0));return}e[fA](r,n)},n)}}var ule=Object.getPrototypeOf(function(){}),fle=Object.setPrototypeOf((Kb={get stream(){return this[xc]},next:function(){var e=this,r=this[Dv];if(r!==null)return Promise.reject(r);if(this[Zb])return Promise.resolve(ol(void 0,!0));if(this[xc].destroyed)return new Promise(function(o,u){process.nextTick(function(){e[Dv]?u(e[Dv]):o(ol(void 0,!0))})});var n=this[_c],a;if(n)a=new Promise(ole(n,this));else{var s=this[xc].read();if(s!==null)return Promise.resolve(ol(s,!1));a=new Promise(this[fA])}return this[_c]=a,a}},al(Kb,Symbol.asyncIterator,function(){return this}),al(Kb,"return",function(){var e=this;return new Promise(function(r,n){e[xc].destroy(null,function(a){if(a){n(a);return}r(ol(void 0,!0))})})}),Kb),ule),lle=function(e){var r,n=Object.create(fle,(r={},al(r,xc,{value:e,writable:!0}),al(r,sl,{value:null,writable:!0}),al(r,wc,{value:null,writable:!0}),al(r,Dv,{value:null,writable:!0}),al(r,Zb,{value:e._readableState.endEmitted,writable:!0}),al(r,fA,{value:function(s,o){var u=n[xc].read();u?(n[_c]=null,n[sl]=null,n[wc]=null,s(ol(u,!1))):(n[sl]=s,n[wc]=o)},writable:!0}),r));return n[_c]=null,ile(e,function(a){if(a&&a.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[wc];s!==null&&(n[_c]=null,n[sl]=null,n[wc]=null,s(a)),n[Dv]=a;return}var o=n[sl];o!==null&&(n[_c]=null,n[sl]=null,n[wc]=null,o(ol(void 0,!0))),n[Zb]=!0}),e.on("readable",sle.bind(null,n)),n};oC.exports=lle});var lC=ne((sXe,fC)=>{fC.exports=function(){throw new Error("Readable.from is not available in the browser")}});var aA=ne((uXe,wC)=>{"use strict";wC.exports=yr;var $d;yr.ReadableState=pC;var oXe=ws().EventEmitter,dC=function(e,r){return e.listeners(r).length},Rv=hM(),Jb=yn().Buffer,cle=global.Uint8Array||function(){};function hle(t){return Jb.from(t)}function dle(t){return Jb.isBuffer(t)||t instanceof cle}var lA=hu(),tr;lA&&lA.debuglog?tr=lA.debuglog("stream"):tr=function(){};var ple=LR(),gA=YM(),mle=XM(),vle=mle.getHighWaterMark,Yb=gc().codes,gle=Yb.ERR_INVALID_ARG_TYPE,yle=Yb.ERR_STREAM_PUSH_AFTER_EOF,ble=Yb.ERR_METHOD_NOT_IMPLEMENTED,wle=Yb.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,zd,cA,hA;At()(yr,Rv);var Ov=gA.errorOrDestroy,dA=["error","close","destroy","pause","resume"];function _le(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function pC(t,e,r){$d=$d||yc(),t=t||{},typeof r!="boolean"&&(r=e instanceof $d),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=vle(this,t,"readableHighWaterMark",r),this.buffer=new ple,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(zd||(zd=mu().StringDecoder),this.decoder=new zd(t.encoding),this.encoding=t.encoding)}function yr(t){if($d=$d||yc(),!(this instanceof yr))return new yr(t);var e=this instanceof $d;this._readableState=new pC(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Rv.call(this)}Object.defineProperty(yr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});yr.prototype.destroy=gA.destroy;yr.prototype._undestroy=gA.undestroy;yr.prototype._destroy=function(t,e){e(t)};yr.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Jb.from(t,e),e=""),n=!0),mC(this,t,e,!1,n)};yr.prototype.unshift=function(t){return mC(this,t,null,!0,!1)};function mC(t,e,r,n,a){tr("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,Ele(t,s);else{var o;if(a||(o=xle(s,e)),o)Ov(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Jb.prototype&&(e=hle(e)),n)s.endEmitted?Ov(t,new wle):pA(t,s,e,!0);else if(s.ended)Ov(t,new yle);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?pA(t,s,e,!1):vA(t,s)):pA(t,s,e,!1)}else n||(s.reading=!1,vA(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function pA(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Xb(t)),vA(t,e)}function xle(t,e){var r;return!dle(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new gle("chunk",["string","Buffer","Uint8Array"],e)),r}yr.prototype.isPaused=function(){return this._readableState.flowing===!1};yr.prototype.setEncoding=function(t){zd||(zd=mu().StringDecoder);var e=new zd(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var cC=1073741824;function Sle(t){return t>=cC?t=cC:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function hC(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Sle(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}yr.prototype.read=function(t){tr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return tr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?mA(this):Xb(this),null;if(t=hC(t,e),t===0&&e.ended)return e.length===0&&mA(this),null;var n=e.needReadable;tr("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,tr("length less than watermark",n)),e.ended||e.reading?(n=!1,tr("reading or ended",n)):n&&(tr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=hC(r,e)));var a;return t>0?a=yC(t,e):a=null,a===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&mA(this)),a!==null&&this.emit("data",a),a};function Ele(t,e){if(tr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Xb(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,vC(t)))}}function Xb(t){var e=t._readableState;tr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(tr("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(vC,t))}function vC(t){var e=t._readableState;tr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,yA(t)}function vA(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(Mle,t,e))}function Mle(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(tr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}yr.prototype._read=function(t){Ov(this,new ble("_read()"))};yr.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,tr("pipe count=%d opts=%j",n.pipesCount,e);var a=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=a?u:T;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(I,N){tr("onunpipe"),I===r&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,p())}function u(){tr("onend"),t.end()}var l=Ale(r);t.on("drain",l);var h=!1;function p(){tr("cleanup"),t.removeListener("close",S),t.removeListener("finish",A),t.removeListener("drain",l),t.removeListener("error",y),t.removeListener("unpipe",o),r.removeListener("end",u),r.removeListener("end",T),r.removeListener("data",v),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",v);function v(I){tr("ondata");var N=t.write(I);tr("dest.write",N),N===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&bC(n.pipes,t)!==-1)&&!h&&(tr("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function y(I){tr("onerror",I),T(),t.removeListener("error",y),dC(t,"error")===0&&Ov(t,I)}_le(t,"error",y);function S(){t.removeListener("finish",A),T()}t.once("close",S);function A(){tr("onfinish"),t.removeListener("close",S),T()}t.once("finish",A);function T(){tr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(tr("pipe resume"),r.resume()),t};function Ale(t){return function(){var r=t._readableState;tr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&dC(t,"data")&&(r.flowing=!0,yA(t))}}yr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,a=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<a;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=bC(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};yr.prototype.on=function(t,e){var r=Rv.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,tr("on readable",n.length,n.reading),n.length?Xb(this):n.reading||process.nextTick(kle,this)),r};yr.prototype.addListener=yr.prototype.on;yr.prototype.removeListener=function(t,e){var r=Rv.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(gC,this),r};yr.prototype.removeAllListeners=function(t){var e=Rv.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(gC,this),e};function gC(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function kle(t){tr("readable nexttick read 0"),t.read(0)}yr.prototype.resume=function(){var t=this._readableState;return t.flowing||(tr("resume"),t.flowing=!t.readableListening,Tle(this,t)),t.paused=!1,this};function Tle(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(Nle,t,e))}function Nle(t,e){tr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),yA(t),e.flowing&&!e.reading&&t.read(0)}yr.prototype.pause=function(){return tr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(tr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function yA(t){var e=t._readableState;for(tr("flow",e.flowing);e.flowing&&t.read()!==null;);}yr.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(tr("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(tr("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var u=e.push(o);u||(n=!0,t.pause())}});for(var a in t)this[a]===void 0&&typeof t[a]=="function"&&(this[a]=function(u){return function(){return t[u].apply(t,arguments)}}(a));for(var s=0;s<dA.length;s++)t.on(dA[s],this.emit.bind(this,dA[s]));return this._read=function(o){tr("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(yr.prototype[Symbol.asyncIterator]=function(){return cA===void 0&&(cA=uC()),cA(this)});Object.defineProperty(yr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(yr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(yr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});yr._fromList=yC;Object.defineProperty(yr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function yC(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function mA(t){var e=t._readableState;tr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(Ile,e,t))}function Ile(t,e){if(tr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(yr.from=function(t,e){return hA===void 0&&(hA=lC()),hA(yr,t,e)});function bC(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var bA=ne((fXe,xC)=>{"use strict";xC.exports=Yu;var Qb=gc().codes,Dle=Qb.ERR_METHOD_NOT_IMPLEMENTED,Ole=Qb.ERR_MULTIPLE_CALLBACK,Rle=Qb.ERR_TRANSFORM_ALREADY_TRANSFORMING,Cle=Qb.ERR_TRANSFORM_WITH_LENGTH_0,ew=yc();At()(Yu,ew);function Fle(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Ole);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function Yu(t){if(!(this instanceof Yu))return new Yu(t);ew.call(this,t),this._transformState={afterTransform:Fle.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Ble)}function Ble(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){_C(t,e,r)}):_C(this,null,null)}Yu.prototype.push=function(t,e){return this._transformState.needTransform=!1,ew.prototype.push.call(this,t,e)};Yu.prototype._transform=function(t,e,r){r(new Dle("_transform()"))};Yu.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};Yu.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Yu.prototype._destroy=function(t,e){ew.prototype._destroy.call(this,t,function(r){e(r)})};function _C(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Cle;if(t._transformState.transforming)throw new Rle;return t.push(null)}});var MC=ne((lXe,EC)=>{"use strict";EC.exports=Cv;var SC=bA();At()(Cv,SC);function Cv(t){if(!(this instanceof Cv))return new Cv(t);SC.call(this,t)}Cv.prototype._transform=function(t,e,r){r(null,t)}});var IC=ne((cXe,NC)=>{"use strict";var wA;function Lle(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var TC=gc().codes,Ple=TC.ERR_MISSING_ARGS,qle=TC.ERR_STREAM_DESTROYED;function AC(t){if(t)throw t}function $le(t){return t.setHeader&&typeof t.abort=="function"}function zle(t,e,r,n){n=Lle(n);var a=!1;t.on("close",function(){a=!0}),wA===void 0&&(wA=Hb()),wA(t,{readable:e,writable:r},function(o){if(o)return n(o);a=!0,n()});var s=!1;return function(o){if(!a&&!s){if(s=!0,$le(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new qle("pipe"))}}}function kC(t){t()}function jle(t,e){return t.pipe(e)}function Ule(t){return!t.length||typeof t[t.length-1]!="function"?AC:t.pop()}function Vle(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Ule(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Ple("streams");var a,s=e.map(function(o,u){var l=u<e.length-1,h=u>0;return zle(o,l,h,function(p){a||(a=p),p&&s.forEach(kC),!l&&(s.forEach(kC),n(a))})});return e.reduce(jle)}NC.exports=Vle});var _A=ne((Es,DC)=>{Es=DC.exports=aA();Es.Stream=Es;Es.Readable=Es;Es.Writable=rA();Es.Duplex=yc();Es.Transform=bA();Es.PassThrough=MC();Es.finished=Hb();Es.pipeline=IC()});var EA=ne(SA=>{var OC=fM(),Wle=At(),RC=_A(),tw=SA.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},xA=SA.IncomingMessage=function(t,e,r,n){var a=this;if(RC.Readable.call(a),a._mode=r,a.headers={},a.rawHeaders=[],a.trailers={},a.rawTrailers=[],a.on("end",function(){process.nextTick(function(){a.emit("close")})}),r==="fetch"){let v=function(){o.read().then(function(y){if(!a._destroyed){if(n(y.done),y.done){a.push(null);return}a.push(Buffer.from(y.value)),v()}}).catch(function(y){n(!0),a._destroyed||a.emit("error",y)})};var p=v;if(a._fetchResponse=e,a.url=e.url,a.statusCode=e.status,a.statusMessage=e.statusText,e.headers.forEach(function(y,S){a.headers[S.toLowerCase()]=y,a.rawHeaders.push(S,y)}),OC.writableStream){var s=new WritableStream({write:function(y){return n(!1),new Promise(function(S,A){a._destroyed?A():a.push(Buffer.from(y))?S():a._resumeFetch=S})},close:function(){n(!0),a._destroyed||a.push(null)},abort:function(y){n(!0),a._destroyed||a.emit("error",y)}});try{e.body.pipeTo(s).catch(function(y){n(!0),a._destroyed||a.emit("error",y)});return}catch(y){}}var o=e.body.getReader();v()}else{a._xhr=t,a._pos=0,a.url=t.responseURL,a.statusCode=t.status,a.statusMessage=t.statusText;var u=t.getAllResponseHeaders().split(/\r?\n/);if(u.forEach(function(v){var y=v.match(/^([^:]+):\s*(.*)/);if(y){var S=y[1].toLowerCase();S==="set-cookie"?(a.headers[S]===void 0&&(a.headers[S]=[]),a.headers[S].push(y[2])):a.headers[S]!==void 0?a.headers[S]+=", "+y[2]:a.headers[S]=y[2],a.rawHeaders.push(y[1],y[2])}}),a._charset="x-user-defined",!OC.overrideMimeType){var l=a.rawHeaders["mime-type"];if(l){var h=l.match(/;\s*charset=([^;])(;|$)/);h&&(a._charset=h[1].toLowerCase())}a._charset||(a._charset="utf-8")}}};Wle(xA,RC.Readable);xA.prototype._read=function(){var t=this,e=t._resumeFetch;e&&(t._resumeFetch=null,e())};xA.prototype._onXHRProgress=function(t){var e=this,r=e._xhr,n=null;switch(e._mode){case"text":if(n=r.responseText,n.length>e._pos){var a=n.substr(e._pos);if(e._charset==="x-user-defined"){for(var s=Buffer.alloc(a.length),o=0;o<a.length;o++)s[o]=a.charCodeAt(o)&255;e.push(s)}else e.push(a,e._charset);e._pos=n.length}break;case"arraybuffer":if(r.readyState!==tw.DONE||!r.response)break;n=r.response,e.push(Buffer.from(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=r.response,r.readyState!==tw.LOADING||!n)break;e.push(Buffer.from(new Uint8Array(n)));break;case"ms-stream":if(n=r.response,r.readyState!==tw.LOADING)break;var u=new global.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(Buffer.from(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){t(!0),e.push(null)},u.readAsArrayBuffer(n);break}e._xhr.readyState===tw.DONE&&e._mode!=="ms-stream"&&(t(!0),e.push(null))}});var LC=ne((dXe,BC)=>{var Sc=fM(),Gle=At(),FC=EA(),MA=_A(),Hle=FC.IncomingMessage,CC=FC.readyStates;function Kle(t,e){return Sc.fetch&&e?"fetch":Sc.mozchunkedarraybuffer?"moz-chunked-arraybuffer":Sc.msstream?"ms-stream":Sc.arraybuffer&&t?"arraybuffer":"text"}var sa=BC.exports=function(t){var e=this;MA.Writable.call(e),e._opts=t,e._body=[],e._headers={},t.auth&&e.setHeader("Authorization","Basic "+Buffer.from(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(a){e.setHeader(a,t.headers[a])});var r,n=!0;if(t.mode==="disable-fetch"||"requestTimeout"in t&&!Sc.abortController)n=!1,r=!0;else if(t.mode==="prefer-streaming")r=!1;else if(t.mode==="allow-wrong-content-type")r=!Sc.overrideMimeType;else if(!t.mode||t.mode==="default"||t.mode==="prefer-fast")r=!0;else throw new Error("Invalid value for opts.mode");e._mode=Kle(r,n),e._fetchTimer=null,e._socketTimeout=null,e._socketTimer=null,e.on("finish",function(){e._onFinish()})};Gle(sa,MA.Writable);sa.prototype.setHeader=function(t,e){var r=this,n=t.toLowerCase();Jle.indexOf(n)===-1&&(r._headers[n]={name:t,value:e})};sa.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null};sa.prototype.removeHeader=function(t){var e=this;delete e._headers[t.toLowerCase()]};sa.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e=t._opts;"timeout"in e&&e.timeout!==0&&t.setTimeout(e.timeout);var r=t._headers,n=null;e.method!=="GET"&&e.method!=="HEAD"&&(n=new Blob(t._body,{type:(r["content-type"]||{}).value||""}));var a=[];if(Object.keys(r).forEach(function(l){var h=r[l].name,p=r[l].value;Array.isArray(p)?p.forEach(function(v){a.push([h,v])}):a.push([h,p])}),t._mode==="fetch"){var s=null;if(Sc.abortController){var o=new AbortController;s=o.signal,t._fetchAbortController=o,"requestTimeout"in e&&e.requestTimeout!==0&&(t._fetchTimer=global.setTimeout(function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()},e.requestTimeout))}global.fetch(t._opts.url,{method:t._opts.method,headers:a,body:n||void 0,mode:"cors",credentials:e.withCredentials?"include":"same-origin",signal:s}).then(function(l){t._fetchResponse=l,t._resetTimers(!1),t._connect()},function(l){t._resetTimers(!0),t._destroyed||t.emit("error",l)})}else{var u=t._xhr=new global.XMLHttpRequest;try{u.open(t._opts.method,t._opts.url,!0)}catch(l){process.nextTick(function(){t.emit("error",l)});return}"responseType"in u&&(u.responseType=t._mode),"withCredentials"in u&&(u.withCredentials=!!e.withCredentials),t._mode==="text"&&"overrideMimeType"in u&&u.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in e&&(u.timeout=e.requestTimeout,u.ontimeout=function(){t.emit("requestTimeout")}),a.forEach(function(l){u.setRequestHeader(l[0],l[1])}),t._response=null,u.onreadystatechange=function(){switch(u.readyState){case CC.LOADING:case CC.DONE:t._onXHRProgress();break}},t._mode==="moz-chunked-arraybuffer"&&(u.onprogress=function(){t._onXHRProgress()}),u.onerror=function(){t._destroyed||(t._resetTimers(!0),t.emit("error",new Error("XHR error")))};try{u.send(n)}catch(l){process.nextTick(function(){t.emit("error",l)});return}}}};function Zle(t){try{var e=t.status;return e!==null&&e!==0}catch(r){return!1}}sa.prototype._onXHRProgress=function(){var t=this;t._resetTimers(!1),!(!Zle(t._xhr)||t._destroyed)&&(t._response||t._connect(),t._response._onXHRProgress(t._resetTimers.bind(t)))};sa.prototype._connect=function(){var t=this;t._destroyed||(t._response=new Hle(t._xhr,t._fetchResponse,t._mode,t._resetTimers.bind(t)),t._response.on("error",function(e){t.emit("error",e)}),t.emit("response",t._response))};sa.prototype._write=function(t,e,r){var n=this;n._body.push(t),r()};sa.prototype._resetTimers=function(t){var e=this;global.clearTimeout(e._socketTimer),e._socketTimer=null,t?(global.clearTimeout(e._fetchTimer),e._fetchTimer=null):e._socketTimeout&&(e._socketTimer=global.setTimeout(function(){e.emit("timeout")},e._socketTimeout))};sa.prototype.abort=sa.prototype.destroy=function(t){var e=this;e._destroyed=!0,e._resetTimers(!0),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort(),t&&e.emit("error",t)};sa.prototype.end=function(t,e,r){var n=this;typeof t=="function"&&(r=t,t=void 0),MA.Writable.prototype.end.call(n,t,e,r)};sa.prototype.setTimeout=function(t,e){var r=this;e&&r.once("timeout",e),r._socketTimeout=t,r._resetTimers(!1)};sa.prototype.flushHeaders=function(){};sa.prototype.setNoDelay=function(){};sa.prototype.setSocketKeepAlive=function(){};var Jle=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]});var qC=ne((pXe,PC)=>{PC.exports=Xle;var Yle=Object.prototype.hasOwnProperty;function Xle(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)Yle.call(r,n)&&(t[n]=r[n])}return t}});var zC=ne((mXe,$C)=>{$C.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}});var JC=ne((vXe,ZC)=>{"use strict";var UC="-",Qle=/^xn--/,ece=/[^\0-\x7E]/,tce=/[\x2E\u3002\uFF0E\uFF61]/g,rce={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},AA=36-1,vu=Math.floor,kA=String.fromCharCode;function Ec(t){throw new RangeError(rce[t])}function nce(t,e){let r=[],n=t.length;for(;n--;)r[n]=e(t[n]);return r}function VC(t,e){let r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(tce,".");let a=t.split("."),s=nce(a,e).join(".");return n+s}function WC(t){let e=[],r=0,n=t.length;for(;r<n;){let a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){let s=t.charCodeAt(r++);(s&64512)==56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),r--)}else e.push(a)}return e}var ice=t=>String.fromCodePoint(...t),ace=function(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36},jC=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},GC=function(t,e,r){let n=0;for(t=r?vu(t/700):t>>1,t+=vu(t/e);t>AA*26>>1;n+=36)t=vu(t/AA);return vu(n+(AA+1)*t/(t+38))},HC=function(t){let e=[],r=t.length,n=0,a=128,s=72,o=t.lastIndexOf(UC);o<0&&(o=0);for(let u=0;u<o;++u)t.charCodeAt(u)>=128&&Ec("not-basic"),e.push(t.charCodeAt(u));for(let u=o>0?o+1:0;u<r;){let l=n;for(let p=1,v=36;;v+=36){u>=r&&Ec("invalid-input");let y=ace(t.charCodeAt(u++));(y>=36||y>vu((2147483647-n)/p))&&Ec("overflow"),n+=y*p;let S=v<=s?1:v>=s+26?26:v-s;if(y<S)break;let A=36-S;p>vu(2147483647/A)&&Ec("overflow"),p*=A}let h=e.length+1;s=GC(n-l,h,l==0),vu(n/h)>2147483647-a&&Ec("overflow"),a+=vu(n/h),n%=h,e.splice(n++,0,a)}return String.fromCodePoint(...e)},KC=function(t){let e=[];t=WC(t);let r=t.length,n=128,a=0,s=72;for(let l of t)l<128&&e.push(kA(l));let o=e.length,u=o;for(o&&e.push(UC);u<r;){let l=2147483647;for(let p of t)p>=n&&p<l&&(l=p);let h=u+1;l-n>vu((2147483647-a)/h)&&Ec("overflow"),a+=(l-n)*h,n=l;for(let p of t)if(p<n&&++a>2147483647&&Ec("overflow"),p==n){let v=a;for(let y=36;;y+=36){let S=y<=s?1:y>=s+26?26:y-s;if(v<S)break;let A=v-S,T=36-S;e.push(kA(jC(S+A%T,0))),v=vu(A/T)}e.push(kA(jC(v,0))),s=GC(a,h,u==o),a=0,++u}++a,++n}return e.join("")},sce=function(t){return VC(t,function(e){return Qle.test(e)?HC(e.slice(4).toLowerCase()):e})},oce=function(t){return VC(t,function(e){return ece.test(e)?"xn--"+KC(e):e})},uce={version:"2.1.0",ucs2:{decode:WC,encode:ice},decode:HC,encode:KC,toASCII:oce,toUnicode:sce};ZC.exports=uce});var XC=ne((gXe,YC)=>{"use strict";YC.exports={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}}});var eF=ne((yXe,QC)=>{"use strict";function fce(t,e){return Object.prototype.hasOwnProperty.call(t,e)}QC.exports=function(t,e,r,n){e=e||"&",r=r||"=";var a={};if(typeof t!="string"||t.length===0)return a;var s=/\+/g;t=t.split(e);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var u=t.length;o>0&&u>o&&(u=o);for(var l=0;l<u;++l){var h=t[l].replace(s,"%20"),p=h.indexOf(r),v,y,S,A;p>=0?(v=h.substr(0,p),y=h.substr(p+1)):(v=h,y=""),S=decodeURIComponent(v),A=decodeURIComponent(y),fce(a,S)?lce(a[S])?a[S].push(A):a[S]=[a[S],A]:a[S]=A}return a};var lce=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var nF=ne((bXe,rF)=>{"use strict";var Fv=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};rF.exports=function(t,e,r,n){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?tF(hce(t),function(a){var s=encodeURIComponent(Fv(a))+r;return cce(t[a])?tF(t[a],function(o){return s+encodeURIComponent(Fv(o))}).join(e):s+encodeURIComponent(Fv(t[a]))}).join(e):n?encodeURIComponent(Fv(n))+r+encodeURIComponent(Fv(t)):""};var cce=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function tF(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var hce=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}});var iF=ne(Bv=>{"use strict";Bv.decode=Bv.parse=eF();Bv.encode=Bv.stringify=nF()});var DA=ne(Ud=>{"use strict";var dce=JC(),gu=XC();Ud.parse=Lv;Ud.resolve=Sce;Ud.resolveObject=Ece;Ud.format=xce;Ud.Url=Ms;function Ms(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var pce=/^([a-z0-9.+-]+:)/i,mce=/:[0-9]*$/,vce=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,gce=["<",">",'"',"`"," ","\r",`
`,"	"],yce=["{","}","|","\\","^","`"].concat(gce),TA=["'"].concat(yce),aF=["%","/","?",";","#"].concat(TA),sF=["/","?","#"],bce=255,oF=/^[+a-z0-9A-Z_-]{0,63}$/,wce=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_ce={javascript:!0,"javascript:":!0},NA={javascript:!0,"javascript:":!0},jd={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},IA=iF();function Lv(t,e,r){if(t&&gu.isObject(t)&&t instanceof Ms)return t;var n=new Ms;return n.parse(t,e,r),n}Ms.prototype.parse=function(t,e,r){if(!gu.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),a=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(a),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(a);var u=t;if(u=u.trim(),!r&&t.split("#").length===1){var l=vce.exec(u);if(l)return this.path=u,this.href=u,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=IA.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=pce.exec(u);if(h){h=h[0];var p=h.toLowerCase();this.protocol=p,u=u.substr(h.length)}if(r||h||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var v=u.substr(0,2)==="//";v&&!(h&&NA[h])&&(u=u.substr(2),this.slashes=!0)}if(!NA[h]&&(v||h&&!jd[h])){for(var y=-1,S=0;S<sF.length;S++){var A=u.indexOf(sF[S]);A!==-1&&(y===-1||A<y)&&(y=A)}var T,I;y===-1?I=u.lastIndexOf("@"):I=u.lastIndexOf("@",y),I!==-1&&(T=u.slice(0,I),u=u.slice(I+1),this.auth=decodeURIComponent(T)),y=-1;for(var S=0;S<aF.length;S++){var A=u.indexOf(aF[S]);A!==-1&&(y===-1||A<y)&&(y=A)}y===-1&&(y=u.length),this.host=u.slice(0,y),u=u.slice(y),this.parseHost(),this.hostname=this.hostname||"";var N=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!N)for(var D=this.hostname.split(/\./),S=0,C=D.length;S<C;S++){var L=D[S];if(!!L&&!L.match(oF)){for(var z="",$=0,G=L.length;$<G;$++)L.charCodeAt($)>127?z+="x":z+=L[$];if(!z.match(oF)){var j=D.slice(0,S),Z=D.slice(S+1),M=L.match(wce);M&&(j.push(M[1]),Z.unshift(M[2])),Z.length&&(u="/"+Z.join(".")+u),this.hostname=j.join(".");break}}}this.hostname.length>bce?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=dce.toASCII(this.hostname));var f=this.port?":"+this.port:"",d=this.hostname||"";this.host=d+f,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!_ce[p])for(var S=0,C=TA.length;S<C;S++){var g=TA[S];if(u.indexOf(g)!==-1){var m=encodeURIComponent(g);m===g&&(m=escape(g)),u=u.split(g).join(m)}}var b=u.indexOf("#");b!==-1&&(this.hash=u.substr(b),u=u.slice(0,b));var E=u.indexOf("?");if(E!==-1?(this.search=u.substr(E),this.query=u.substr(E+1),e&&(this.query=IA.parse(this.query)),u=u.slice(0,E)):e&&(this.search="",this.query={}),u&&(this.pathname=u),jd[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var f=this.pathname||"",k=this.search||"";this.path=f+k}return this.href=this.format(),this};function xce(t){return gu.isString(t)&&(t=Lv(t)),t instanceof Ms?t.format():Ms.prototype.format.call(t)}Ms.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,s="";this.host?a=t+this.host:this.hostname&&(a=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&gu.isObject(this.query)&&Object.keys(this.query).length&&(s=IA.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||jd[e])&&a!==!1?(a="//"+(a||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):a||(a=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),o=o.replace("#","%23"),e+a+r+o+n};function Sce(t,e){return Lv(t,!1,!0).resolve(e)}Ms.prototype.resolve=function(t){return this.resolveObject(Lv(t,!1,!0)).format()};function Ece(t,e){return t?Lv(t,!1,!0).resolveObject(e):e}Ms.prototype.resolveObject=function(t){if(gu.isString(t)){var e=new Ms;e.parse(t,!1,!0),t=e}for(var r=new Ms,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),u=0;u<o.length;u++){var l=o[u];l!=="protocol"&&(r[l]=t[l])}return jd[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!jd[t.protocol]){for(var h=Object.keys(t),p=0;p<h.length;p++){var v=h[p];r[v]=t[v]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!NA[t.protocol]){for(var C=(t.pathname||"").split("/");C.length&&!(t.host=C.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),C[0]!==""&&C.unshift(""),C.length<2&&C.unshift(""),r.pathname=C.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var y=r.pathname||"",S=r.search||"";r.path=y+S}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var A=r.pathname&&r.pathname.charAt(0)==="/",T=t.host||t.pathname&&t.pathname.charAt(0)==="/",I=T||A||r.host&&t.pathname,N=I,D=r.pathname&&r.pathname.split("/")||[],C=t.pathname&&t.pathname.split("/")||[],L=r.protocol&&!jd[r.protocol];if(L&&(r.hostname="",r.port=null,r.host&&(D[0]===""?D[0]=r.host:D.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(C[0]===""?C[0]=t.host:C.unshift(t.host)),t.host=null),I=I&&(C[0]===""||D[0]==="")),T)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,D=C;else if(C.length)D||(D=[]),D.pop(),D=D.concat(C),r.search=t.search,r.query=t.query;else if(!gu.isNullOrUndefined(t.search)){if(L){r.hostname=r.host=D.shift();var z=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;z&&(r.auth=z.shift(),r.host=r.hostname=z.shift())}return r.search=t.search,r.query=t.query,(!gu.isNull(r.pathname)||!gu.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!D.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var $=D.slice(-1)[0],G=(r.host||t.host||D.length>1)&&($==="."||$==="..")||$==="",j=0,Z=D.length;Z>=0;Z--)$=D[Z],$==="."?D.splice(Z,1):$===".."?(D.splice(Z,1),j++):j&&(D.splice(Z,1),j--);if(!I&&!N)for(;j--;j)D.unshift("..");I&&D[0]!==""&&(!D[0]||D[0].charAt(0)!=="/")&&D.unshift(""),G&&D.join("/").substr(-1)!=="/"&&D.push("");var M=D[0]===""||D[0]&&D[0].charAt(0)==="/";if(L){r.hostname=r.host=M?"":D.length?D.shift():"";var z=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;z&&(r.auth=z.shift(),r.host=r.hostname=z.shift())}return I=I||r.host&&D.length,I&&!M&&D.unshift(""),D.length?r.pathname=D.join("/"):(r.pathname=null,r.path=null),(!gu.isNull(r.pathname)||!gu.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Ms.prototype.parseHost=function(){var t=this.host,e=mce.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}});var rw=ne(fF=>{var uF=LC(),Mce=EA(),Ace=qC(),kce=zC(),Tce=DA(),No=fF;No.request=function(t,e){typeof t=="string"?t=Tce.parse(t):t=Ace(t);var r=global.location.protocol.search(/^https?:$/)===-1?"http:":"",n=t.protocol||r,a=t.hostname||t.host,s=t.port,o=t.path||"/";a&&a.indexOf(":")!==-1&&(a="["+a+"]"),t.url=(a?n+"//"+a:"")+(s?":"+s:"")+o,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var u=new uF(t);return e&&u.on("response",e),u};No.get=function(e,r){var n=No.request(e,r);return n.end(),n};No.ClientRequest=uF;No.IncomingMessage=Mce.IncomingMessage;No.Agent=function(){};No.Agent.defaultMaxSockets=4;No.globalAgent=new No.Agent;No.STATUS_CODES=kce;No.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]});var RA=ne((SXe,cF)=>{var Pv=rw(),Nce=DA(),OA=cF.exports;for(nw in Pv)Pv.hasOwnProperty(nw)&&(OA[nw]=Pv[nw]);var nw;OA.request=function(t,e){return t=lF(t),Pv.request.call(this,t,e)};OA.get=function(t,e){return t=lF(t),Pv.get.call(this,t,e)};function lF(t){if(typeof t=="string"&&(t=Nce.parse(t)),t.protocol||(t.protocol="https:"),t.protocol!=="https:")throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}});var CA=ne((EXe,hF)=>{(function(t){"use strict";t.exports.is_uri=r,t.exports.is_http_uri=n,t.exports.is_https_uri=a,t.exports.is_web_uri=s,t.exports.isUri=r,t.exports.isHttpUri=n,t.exports.isHttpsUri=a,t.exports.isWebUri=s;var e=function(o){var u=o.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return u};function r(o){if(!!o&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(o)&&!/%[^0-9a-f]/i.test(o)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(o)){var u=[],l="",h="",p="",v="",y="",S="";if(u=e(o),l=u[1],h=u[2],p=u[3],v=u[4],y=u[5],!!(l&&l.length&&p.length>=0)){if(h&&h.length){if(!(p.length===0||/^\//.test(p)))return}else if(/^\/\//.test(p))return;if(!!/^[a-z][a-z0-9\+\-\.]*$/.test(l.toLowerCase()))return S+=l+":",h&&h.length&&(S+="//"+h),S+=p,v&&v.length&&(S+="?"+v),y&&y.length&&(S+="#"+y),S}}}function n(o,u){if(!!r(o)){var l=[],h="",p="",v="",y="",S="",A="",T="";if(l=e(o),h=l[1],p=l[2],v=l[3],S=l[4],A=l[5],!!h){if(u){if(h.toLowerCase()!="https")return}else if(h.toLowerCase()!="http")return;if(!!p)return/:(\d+)$/.test(p)&&(y=p.match(/:(\d+)$/)[0],p=p.replace(/:\d+$/,"")),T+=h+":",T+="//"+p,y&&(T+=y),T+=v,S&&S.length&&(T+="?"+S),A&&A.length&&(T+="#"+A),T}}}function a(o){return n(o,!0)}function s(o){return n(o)||a(o)}})(hF)});var FA=ne((MXe,dF)=>{dF.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(n,a,s){r.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:s})},r.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,a){if(1&a&&(n=r(n)),8&a||4&a&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&a&&typeof n!="string")for(var o in n)r.d(s,o,function(u){return n[u]}.bind(null,o));return s},r.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(a,"a",a),a},r.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},r.p="",r(r.s=32)}([function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(n){typeof window=="object"&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n=r(6),a=Object.keys||function(A){var T=[];for(var I in A)T.push(I);return T};t.exports=v;var s=r(5);s.inherits=r(2);var o=r(23),u=r(14);s.inherits(v,o);for(var l=a(u.prototype),h=0;h<l.length;h++){var p=l[h];v.prototype[p]||(v.prototype[p]=u.prototype[p])}function v(A){if(!(this instanceof v))return new v(A);o.call(this,A),u.call(this,A),A&&A.readable===!1&&(this.readable=!1),A&&A.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,A&&A.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",y)}function y(){this.allowHalfOpen||this._writableState.ended||n.nextTick(S,this)}function S(A){A.end()}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(v.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(A){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=A,this._writableState.destroyed=A)}}),v.prototype._destroy=function(A,T){this.push(null),this.end(),n.nextTick(T,A)}},function(t,e){typeof Object.create=="function"?t.exports=function(r,n){r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(r,n){r.super_=n;var a=function(){};a.prototype=n.prototype,r.prototype=new a,r.prototype.constructor=r}},function(t,e,r){"use strict";(function(n){var a=r(38),s=r(39),o=r(40);function u(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(B,q){if(u()<q)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(B=new Uint8Array(q)).__proto__=h.prototype:(B===null&&(B=new h(q)),B.length=q),B}function h(B,q,Y){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(B,q,Y);if(typeof B=="number"){if(typeof q=="string")throw new Error("If encoding is specified then the first argument must be a string");return y(this,B)}return p(this,B,q,Y)}function p(B,q,Y,X){if(typeof q=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&q instanceof ArrayBuffer?function(Q,be,ue,me){if(be.byteLength,ue<0||be.byteLength<ue)throw new RangeError("'offset' is out of bounds");if(be.byteLength<ue+(me||0))throw new RangeError("'length' is out of bounds");return be=ue===void 0&&me===void 0?new Uint8Array(be):me===void 0?new Uint8Array(be,ue):new Uint8Array(be,ue,me),h.TYPED_ARRAY_SUPPORT?(Q=be).__proto__=h.prototype:Q=S(Q,be),Q}(B,q,Y,X):typeof q=="string"?function(Q,be,ue){if(typeof ue=="string"&&ue!==""||(ue="utf8"),!h.isEncoding(ue))throw new TypeError('"encoding" must be a valid string encoding');var me=0|T(be,ue),yt=(Q=l(Q,me)).write(be,ue);return yt!==me&&(Q=Q.slice(0,yt)),Q}(B,q,Y):function(Q,be){if(h.isBuffer(be)){var ue=0|A(be.length);return(Q=l(Q,ue)).length===0||be.copy(Q,0,0,ue),Q}if(be){if(typeof ArrayBuffer!="undefined"&&be.buffer instanceof ArrayBuffer||"length"in be)return typeof be.length!="number"||function(me){return me!=me}(be.length)?l(Q,0):S(Q,be);if(be.type==="Buffer"&&o(be.data))return S(Q,be.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(B,q)}function v(B){if(typeof B!="number")throw new TypeError('"size" argument must be a number');if(B<0)throw new RangeError('"size" argument must not be negative')}function y(B,q){if(v(q),B=l(B,q<0?0:0|A(q)),!h.TYPED_ARRAY_SUPPORT)for(var Y=0;Y<q;++Y)B[Y]=0;return B}function S(B,q){var Y=q.length<0?0:0|A(q.length);B=l(B,Y);for(var X=0;X<Y;X+=1)B[X]=255&q[X];return B}function A(B){if(B>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|B}function T(B,q){if(h.isBuffer(B))return B.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(B)||B instanceof ArrayBuffer))return B.byteLength;typeof B!="string"&&(B=""+B);var Y=B.length;if(Y===0)return 0;for(var X=!1;;)switch(q){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":case void 0:return H(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Y;case"hex":return Y>>>1;case"base64":return J(B).length;default:if(X)return H(B).length;q=(""+q).toLowerCase(),X=!0}}function I(B,q,Y){var X=B[q];B[q]=B[Y],B[Y]=X}function N(B,q,Y,X,Q){if(B.length===0)return-1;if(typeof Y=="string"?(X=Y,Y=0):Y>2147483647?Y=2147483647:Y<-2147483648&&(Y=-2147483648),Y=+Y,isNaN(Y)&&(Y=Q?0:B.length-1),Y<0&&(Y=B.length+Y),Y>=B.length){if(Q)return-1;Y=B.length-1}else if(Y<0){if(!Q)return-1;Y=0}if(typeof q=="string"&&(q=h.from(q,X)),h.isBuffer(q))return q.length===0?-1:D(B,q,Y,X,Q);if(typeof q=="number")return q&=255,h.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(B,q,Y):Uint8Array.prototype.lastIndexOf.call(B,q,Y):D(B,[q],Y,X,Q);throw new TypeError("val must be string, number or Buffer")}function D(B,q,Y,X,Q){var be,ue=1,me=B.length,yt=q.length;if(X!==void 0&&((X=String(X).toLowerCase())==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(B.length<2||q.length<2)return-1;ue=2,me/=2,yt/=2,Y/=2}function xe(Te,ot){return ue===1?Te[ot]:Te.readUInt16BE(ot*ue)}if(Q){var le=-1;for(be=Y;be<me;be++)if(xe(B,be)===xe(q,le===-1?0:be-le)){if(le===-1&&(le=be),be-le+1===yt)return le*ue}else le!==-1&&(be-=be-le),le=-1}else for(Y+yt>me&&(Y=me-yt),be=Y;be>=0;be--){for(var zt=!0,we=0;we<yt;we++)if(xe(B,be+we)!==xe(q,we)){zt=!1;break}if(zt)return be}return-1}function C(B,q,Y,X){Y=Number(Y)||0;var Q=B.length-Y;X?(X=Number(X))>Q&&(X=Q):X=Q;var be=q.length;if(be%2!=0)throw new TypeError("Invalid hex string");X>be/2&&(X=be/2);for(var ue=0;ue<X;++ue){var me=parseInt(q.substr(2*ue,2),16);if(isNaN(me))return ue;B[Y+ue]=me}return ue}function L(B,q,Y,X){return fe(H(q,B.length-Y),B,Y,X)}function z(B,q,Y,X){return fe(function(Q){for(var be=[],ue=0;ue<Q.length;++ue)be.push(255&Q.charCodeAt(ue));return be}(q),B,Y,X)}function $(B,q,Y,X){return z(B,q,Y,X)}function G(B,q,Y,X){return fe(J(q),B,Y,X)}function j(B,q,Y,X){return fe(function(Q,be){for(var ue,me,yt,xe=[],le=0;le<Q.length&&!((be-=2)<0);++le)me=(ue=Q.charCodeAt(le))>>8,yt=ue%256,xe.push(yt),xe.push(me);return xe}(q,B.length-Y),B,Y,X)}function Z(B,q,Y){return q===0&&Y===B.length?a.fromByteArray(B):a.fromByteArray(B.slice(q,Y))}function M(B,q,Y){Y=Math.min(B.length,Y);for(var X=[],Q=q;Q<Y;){var be,ue,me,yt,xe=B[Q],le=null,zt=xe>239?4:xe>223?3:xe>191?2:1;if(Q+zt<=Y)switch(zt){case 1:xe<128&&(le=xe);break;case 2:(192&(be=B[Q+1]))==128&&(yt=(31&xe)<<6|63&be)>127&&(le=yt);break;case 3:be=B[Q+1],ue=B[Q+2],(192&be)==128&&(192&ue)==128&&(yt=(15&xe)<<12|(63&be)<<6|63&ue)>2047&&(yt<55296||yt>57343)&&(le=yt);break;case 4:be=B[Q+1],ue=B[Q+2],me=B[Q+3],(192&be)==128&&(192&ue)==128&&(192&me)==128&&(yt=(15&xe)<<18|(63&be)<<12|(63&ue)<<6|63&me)>65535&&yt<1114112&&(le=yt)}le===null?(le=65533,zt=1):le>65535&&(le-=65536,X.push(le>>>10&1023|55296),le=56320|1023&le),X.push(le),Q+=zt}return function(we){var Te=we.length;if(Te<=f)return String.fromCharCode.apply(String,we);for(var ot="",ee=0;ee<Te;)ot+=String.fromCharCode.apply(String,we.slice(ee,ee+=f));return ot}(X)}e.Buffer=h,e.SlowBuffer=function(B){return+B!=B&&(B=0),h.alloc(+B)},e.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=n.TYPED_ARRAY_SUPPORT!==void 0?n.TYPED_ARRAY_SUPPORT:function(){try{var B=new Uint8Array(1);return B.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},B.foo()===42&&typeof B.subarray=="function"&&B.subarray(1,1).byteLength===0}catch(q){return!1}}(),e.kMaxLength=u(),h.poolSize=8192,h._augment=function(B){return B.__proto__=h.prototype,B},h.from=function(B,q,Y){return p(null,B,q,Y)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(B,q,Y){return function(X,Q,be,ue){return v(Q),Q<=0?l(X,Q):be!==void 0?typeof ue=="string"?l(X,Q).fill(be,ue):l(X,Q).fill(be):l(X,Q)}(null,B,q,Y)},h.allocUnsafe=function(B){return y(null,B)},h.allocUnsafeSlow=function(B){return y(null,B)},h.isBuffer=function(B){return!(B==null||!B._isBuffer)},h.compare=function(B,q){if(!h.isBuffer(B)||!h.isBuffer(q))throw new TypeError("Arguments must be Buffers");if(B===q)return 0;for(var Y=B.length,X=q.length,Q=0,be=Math.min(Y,X);Q<be;++Q)if(B[Q]!==q[Q]){Y=B[Q],X=q[Q];break}return Y<X?-1:X<Y?1:0},h.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(B,q){if(!o(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return h.alloc(0);var Y;if(q===void 0)for(q=0,Y=0;Y<B.length;++Y)q+=B[Y].length;var X=h.allocUnsafe(q),Q=0;for(Y=0;Y<B.length;++Y){var be=B[Y];if(!h.isBuffer(be))throw new TypeError('"list" argument must be an Array of Buffers');be.copy(X,Q),Q+=be.length}return X},h.byteLength=T,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var B=this.length;if(B%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var q=0;q<B;q+=2)I(this,q,q+1);return this},h.prototype.swap32=function(){var B=this.length;if(B%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var q=0;q<B;q+=4)I(this,q,q+3),I(this,q+1,q+2);return this},h.prototype.swap64=function(){var B=this.length;if(B%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var q=0;q<B;q+=8)I(this,q,q+7),I(this,q+1,q+6),I(this,q+2,q+5),I(this,q+3,q+4);return this},h.prototype.toString=function(){var B=0|this.length;return B===0?"":arguments.length===0?M(this,0,B):function(q,Y,X){var Q=!1;if((Y===void 0||Y<0)&&(Y=0),Y>this.length||((X===void 0||X>this.length)&&(X=this.length),X<=0)||(X>>>=0)<=(Y>>>=0))return"";for(q||(q="utf8");;)switch(q){case"hex":return m(this,Y,X);case"utf8":case"utf-8":return M(this,Y,X);case"ascii":return d(this,Y,X);case"latin1":case"binary":return g(this,Y,X);case"base64":return Z(this,Y,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,Y,X);default:if(Q)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),Q=!0}}.apply(this,arguments)},h.prototype.equals=function(B){if(!h.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B||h.compare(this,B)===0},h.prototype.inspect=function(){var B="",q=e.INSPECT_MAX_BYTES;return this.length>0&&(B=this.toString("hex",0,q).match(/.{2}/g).join(" "),this.length>q&&(B+=" ... ")),"<Buffer "+B+">"},h.prototype.compare=function(B,q,Y,X,Q){if(!h.isBuffer(B))throw new TypeError("Argument must be a Buffer");if(q===void 0&&(q=0),Y===void 0&&(Y=B?B.length:0),X===void 0&&(X=0),Q===void 0&&(Q=this.length),q<0||Y>B.length||X<0||Q>this.length)throw new RangeError("out of range index");if(X>=Q&&q>=Y)return 0;if(X>=Q)return-1;if(q>=Y)return 1;if(q>>>=0,Y>>>=0,X>>>=0,Q>>>=0,this===B)return 0;for(var be=Q-X,ue=Y-q,me=Math.min(be,ue),yt=this.slice(X,Q),xe=B.slice(q,Y),le=0;le<me;++le)if(yt[le]!==xe[le]){be=yt[le],ue=xe[le];break}return be<ue?-1:ue<be?1:0},h.prototype.includes=function(B,q,Y){return this.indexOf(B,q,Y)!==-1},h.prototype.indexOf=function(B,q,Y){return N(this,B,q,Y,!0)},h.prototype.lastIndexOf=function(B,q,Y){return N(this,B,q,Y,!1)},h.prototype.write=function(B,q,Y,X){if(q===void 0)X="utf8",Y=this.length,q=0;else if(Y===void 0&&typeof q=="string")X=q,Y=this.length,q=0;else{if(!isFinite(q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");q|=0,isFinite(Y)?(Y|=0,X===void 0&&(X="utf8")):(X=Y,Y=void 0)}var Q=this.length-q;if((Y===void 0||Y>Q)&&(Y=Q),B.length>0&&(Y<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");for(var be=!1;;)switch(X){case"hex":return C(this,B,q,Y);case"utf8":case"utf-8":return L(this,B,q,Y);case"ascii":return z(this,B,q,Y);case"latin1":case"binary":return $(this,B,q,Y);case"base64":return G(this,B,q,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,B,q,Y);default:if(be)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),be=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var f=4096;function d(B,q,Y){var X="";Y=Math.min(B.length,Y);for(var Q=q;Q<Y;++Q)X+=String.fromCharCode(127&B[Q]);return X}function g(B,q,Y){var X="";Y=Math.min(B.length,Y);for(var Q=q;Q<Y;++Q)X+=String.fromCharCode(B[Q]);return X}function m(B,q,Y){var X=B.length;(!q||q<0)&&(q=0),(!Y||Y<0||Y>X)&&(Y=X);for(var Q="",be=q;be<Y;++be)Q+=U(B[be]);return Q}function b(B,q,Y){for(var X=B.slice(q,Y),Q="",be=0;be<X.length;be+=2)Q+=String.fromCharCode(X[be]+256*X[be+1]);return Q}function E(B,q,Y){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+q>Y)throw new RangeError("Trying to access beyond buffer length")}function k(B,q,Y,X,Q,be){if(!h.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(q>Q||q<be)throw new RangeError('"value" argument is out of bounds');if(Y+X>B.length)throw new RangeError("Index out of range")}function w(B,q,Y,X){q<0&&(q=65535+q+1);for(var Q=0,be=Math.min(B.length-Y,2);Q<be;++Q)B[Y+Q]=(q&255<<8*(X?Q:1-Q))>>>8*(X?Q:1-Q)}function c(B,q,Y,X){q<0&&(q=4294967295+q+1);for(var Q=0,be=Math.min(B.length-Y,4);Q<be;++Q)B[Y+Q]=q>>>8*(X?Q:3-Q)&255}function _(B,q,Y,X,Q,be){if(Y+X>B.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function R(B,q,Y,X,Q){return Q||_(B,0,Y,4),s.write(B,q,Y,X,23,4),Y+4}function O(B,q,Y,X,Q){return Q||_(B,0,Y,8),s.write(B,q,Y,X,52,8),Y+8}h.prototype.slice=function(B,q){var Y,X=this.length;if(B=~~B,q=q===void 0?X:~~q,B<0?(B+=X)<0&&(B=0):B>X&&(B=X),q<0?(q+=X)<0&&(q=0):q>X&&(q=X),q<B&&(q=B),h.TYPED_ARRAY_SUPPORT)(Y=this.subarray(B,q)).__proto__=h.prototype;else{var Q=q-B;Y=new h(Q,void 0);for(var be=0;be<Q;++be)Y[be]=this[be+B]}return Y},h.prototype.readUIntLE=function(B,q,Y){B|=0,q|=0,Y||E(B,q,this.length);for(var X=this[B],Q=1,be=0;++be<q&&(Q*=256);)X+=this[B+be]*Q;return X},h.prototype.readUIntBE=function(B,q,Y){B|=0,q|=0,Y||E(B,q,this.length);for(var X=this[B+--q],Q=1;q>0&&(Q*=256);)X+=this[B+--q]*Q;return X},h.prototype.readUInt8=function(B,q){return q||E(B,1,this.length),this[B]},h.prototype.readUInt16LE=function(B,q){return q||E(B,2,this.length),this[B]|this[B+1]<<8},h.prototype.readUInt16BE=function(B,q){return q||E(B,2,this.length),this[B]<<8|this[B+1]},h.prototype.readUInt32LE=function(B,q){return q||E(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+16777216*this[B+3]},h.prototype.readUInt32BE=function(B,q){return q||E(B,4,this.length),16777216*this[B]+(this[B+1]<<16|this[B+2]<<8|this[B+3])},h.prototype.readIntLE=function(B,q,Y){B|=0,q|=0,Y||E(B,q,this.length);for(var X=this[B],Q=1,be=0;++be<q&&(Q*=256);)X+=this[B+be]*Q;return X>=(Q*=128)&&(X-=Math.pow(2,8*q)),X},h.prototype.readIntBE=function(B,q,Y){B|=0,q|=0,Y||E(B,q,this.length);for(var X=q,Q=1,be=this[B+--X];X>0&&(Q*=256);)be+=this[B+--X]*Q;return be>=(Q*=128)&&(be-=Math.pow(2,8*q)),be},h.prototype.readInt8=function(B,q){return q||E(B,1,this.length),128&this[B]?-1*(255-this[B]+1):this[B]},h.prototype.readInt16LE=function(B,q){q||E(B,2,this.length);var Y=this[B]|this[B+1]<<8;return 32768&Y?4294901760|Y:Y},h.prototype.readInt16BE=function(B,q){q||E(B,2,this.length);var Y=this[B+1]|this[B]<<8;return 32768&Y?4294901760|Y:Y},h.prototype.readInt32LE=function(B,q){return q||E(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},h.prototype.readInt32BE=function(B,q){return q||E(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},h.prototype.readFloatLE=function(B,q){return q||E(B,4,this.length),s.read(this,B,!0,23,4)},h.prototype.readFloatBE=function(B,q){return q||E(B,4,this.length),s.read(this,B,!1,23,4)},h.prototype.readDoubleLE=function(B,q){return q||E(B,8,this.length),s.read(this,B,!0,52,8)},h.prototype.readDoubleBE=function(B,q){return q||E(B,8,this.length),s.read(this,B,!1,52,8)},h.prototype.writeUIntLE=function(B,q,Y,X){B=+B,q|=0,Y|=0,X||k(this,B,q,Y,Math.pow(2,8*Y)-1,0);var Q=1,be=0;for(this[q]=255&B;++be<Y&&(Q*=256);)this[q+be]=B/Q&255;return q+Y},h.prototype.writeUIntBE=function(B,q,Y,X){B=+B,q|=0,Y|=0,X||k(this,B,q,Y,Math.pow(2,8*Y)-1,0);var Q=Y-1,be=1;for(this[q+Q]=255&B;--Q>=0&&(be*=256);)this[q+Q]=B/be&255;return q+Y},h.prototype.writeUInt8=function(B,q,Y){return B=+B,q|=0,Y||k(this,B,q,1,255,0),h.TYPED_ARRAY_SUPPORT||(B=Math.floor(B)),this[q]=255&B,q+1},h.prototype.writeUInt16LE=function(B,q,Y){return B=+B,q|=0,Y||k(this,B,q,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[q]=255&B,this[q+1]=B>>>8):w(this,B,q,!0),q+2},h.prototype.writeUInt16BE=function(B,q,Y){return B=+B,q|=0,Y||k(this,B,q,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[q]=B>>>8,this[q+1]=255&B):w(this,B,q,!1),q+2},h.prototype.writeUInt32LE=function(B,q,Y){return B=+B,q|=0,Y||k(this,B,q,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[q+3]=B>>>24,this[q+2]=B>>>16,this[q+1]=B>>>8,this[q]=255&B):c(this,B,q,!0),q+4},h.prototype.writeUInt32BE=function(B,q,Y){return B=+B,q|=0,Y||k(this,B,q,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[q]=B>>>24,this[q+1]=B>>>16,this[q+2]=B>>>8,this[q+3]=255&B):c(this,B,q,!1),q+4},h.prototype.writeIntLE=function(B,q,Y,X){if(B=+B,q|=0,!X){var Q=Math.pow(2,8*Y-1);k(this,B,q,Y,Q-1,-Q)}var be=0,ue=1,me=0;for(this[q]=255&B;++be<Y&&(ue*=256);)B<0&&me===0&&this[q+be-1]!==0&&(me=1),this[q+be]=(B/ue>>0)-me&255;return q+Y},h.prototype.writeIntBE=function(B,q,Y,X){if(B=+B,q|=0,!X){var Q=Math.pow(2,8*Y-1);k(this,B,q,Y,Q-1,-Q)}var be=Y-1,ue=1,me=0;for(this[q+be]=255&B;--be>=0&&(ue*=256);)B<0&&me===0&&this[q+be+1]!==0&&(me=1),this[q+be]=(B/ue>>0)-me&255;return q+Y},h.prototype.writeInt8=function(B,q,Y){return B=+B,q|=0,Y||k(this,B,q,1,127,-128),h.TYPED_ARRAY_SUPPORT||(B=Math.floor(B)),B<0&&(B=255+B+1),this[q]=255&B,q+1},h.prototype.writeInt16LE=function(B,q,Y){return B=+B,q|=0,Y||k(this,B,q,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[q]=255&B,this[q+1]=B>>>8):w(this,B,q,!0),q+2},h.prototype.writeInt16BE=function(B,q,Y){return B=+B,q|=0,Y||k(this,B,q,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[q]=B>>>8,this[q+1]=255&B):w(this,B,q,!1),q+2},h.prototype.writeInt32LE=function(B,q,Y){return B=+B,q|=0,Y||k(this,B,q,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[q]=255&B,this[q+1]=B>>>8,this[q+2]=B>>>16,this[q+3]=B>>>24):c(this,B,q,!0),q+4},h.prototype.writeInt32BE=function(B,q,Y){return B=+B,q|=0,Y||k(this,B,q,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),h.TYPED_ARRAY_SUPPORT?(this[q]=B>>>24,this[q+1]=B>>>16,this[q+2]=B>>>8,this[q+3]=255&B):c(this,B,q,!1),q+4},h.prototype.writeFloatLE=function(B,q,Y){return R(this,B,q,!0,Y)},h.prototype.writeFloatBE=function(B,q,Y){return R(this,B,q,!1,Y)},h.prototype.writeDoubleLE=function(B,q,Y){return O(this,B,q,!0,Y)},h.prototype.writeDoubleBE=function(B,q,Y){return O(this,B,q,!1,Y)},h.prototype.copy=function(B,q,Y,X){if(Y||(Y=0),X||X===0||(X=this.length),q>=B.length&&(q=B.length),q||(q=0),X>0&&X<Y&&(X=Y),X===Y||B.length===0||this.length===0)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("sourceStart out of bounds");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),B.length-q<X-Y&&(X=B.length-q+Y);var Q,be=X-Y;if(this===B&&Y<q&&q<X)for(Q=be-1;Q>=0;--Q)B[Q+q]=this[Q+Y];else if(be<1e3||!h.TYPED_ARRAY_SUPPORT)for(Q=0;Q<be;++Q)B[Q+q]=this[Q+Y];else Uint8Array.prototype.set.call(B,this.subarray(Y,Y+be),q);return be},h.prototype.fill=function(B,q,Y,X){if(typeof B=="string"){if(typeof q=="string"?(X=q,q=0,Y=this.length):typeof Y=="string"&&(X=Y,Y=this.length),B.length===1){var Q=B.charCodeAt(0);Q<256&&(B=Q)}if(X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!h.isEncoding(X))throw new TypeError("Unknown encoding: "+X)}else typeof B=="number"&&(B&=255);if(q<0||this.length<q||this.length<Y)throw new RangeError("Out of range index");if(Y<=q)return this;var be;if(q>>>=0,Y=Y===void 0?this.length:Y>>>0,B||(B=0),typeof B=="number")for(be=q;be<Y;++be)this[be]=B;else{var ue=h.isBuffer(B)?B:H(new h(B,X).toString()),me=ue.length;for(be=0;be<Y-q;++be)this[be+q]=ue[be%me]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(B){return B<16?"0"+B.toString(16):B.toString(16)}function H(B,q){var Y;q=q||1/0;for(var X=B.length,Q=null,be=[],ue=0;ue<X;++ue){if((Y=B.charCodeAt(ue))>55295&&Y<57344){if(!Q){if(Y>56319){(q-=3)>-1&&be.push(239,191,189);continue}if(ue+1===X){(q-=3)>-1&&be.push(239,191,189);continue}Q=Y;continue}if(Y<56320){(q-=3)>-1&&be.push(239,191,189),Q=Y;continue}Y=65536+(Q-55296<<10|Y-56320)}else Q&&(q-=3)>-1&&be.push(239,191,189);if(Q=null,Y<128){if((q-=1)<0)break;be.push(Y)}else if(Y<2048){if((q-=2)<0)break;be.push(Y>>6|192,63&Y|128)}else if(Y<65536){if((q-=3)<0)break;be.push(Y>>12|224,Y>>6&63|128,63&Y|128)}else{if(!(Y<1114112))throw new Error("Invalid code point");if((q-=4)<0)break;be.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,63&Y|128)}}return be}function J(B){return a.toByteArray(function(q){if((q=function(Y){return Y.trim?Y.trim():Y.replace(/^\s+|\s+$/g,"")}(q).replace(F,"")).length<2)return"";for(;q.length%4!=0;)q+="=";return q}(B))}function fe(B,q,Y,X){for(var Q=0;Q<X&&!(Q+Y>=q.length||Q>=B.length);++Q)q[Q+Y]=B[Q];return Q}}).call(this,r(0))},function(t,e){var r,n,a=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(I){if(r===setTimeout)return setTimeout(I,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(I,0);try{return r(I,0)}catch(N){try{return r.call(null,I,0)}catch(D){return r.call(this,I,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:s}catch(I){r=s}try{n=typeof clearTimeout=="function"?clearTimeout:o}catch(I){n=o}})();var l,h=[],p=!1,v=-1;function y(){p&&l&&(p=!1,l.length?h=l.concat(h):v=-1,h.length&&S())}function S(){if(!p){var I=u(y);p=!0;for(var N=h.length;N;){for(l=h,h=[];++v<N;)l&&l[v].run();v=-1,N=h.length}l=null,p=!1,function(D){if(n===clearTimeout)return clearTimeout(D);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(D);try{n(D)}catch(C){try{return n.call(null,D)}catch(L){return n.call(this,D)}}}(I)}}function A(I,N){this.fun=I,this.array=N}function T(){}a.nextTick=function(I){var N=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)N[D-1]=arguments[D];h.push(new A(I,N)),h.length!==1||p||u(S)},A.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=T,a.addListener=T,a.once=T,a.off=T,a.removeListener=T,a.removeAllListeners=T,a.emit=T,a.prependListener=T,a.prependOnceListener=T,a.listeners=function(I){return[]},a.binding=function(I){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(I){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,r){(function(n){function a(s){return Object.prototype.toString.call(s)}e.isArray=function(s){return Array.isArray?Array.isArray(s):a(s)==="[object Array]"},e.isBoolean=function(s){return typeof s=="boolean"},e.isNull=function(s){return s===null},e.isNullOrUndefined=function(s){return s==null},e.isNumber=function(s){return typeof s=="number"},e.isString=function(s){return typeof s=="string"},e.isSymbol=function(s){return typeof s=="symbol"},e.isUndefined=function(s){return s===void 0},e.isRegExp=function(s){return a(s)==="[object RegExp]"},e.isObject=function(s){return typeof s=="object"&&s!==null},e.isDate=function(s){return a(s)==="[object Date]"},e.isError=function(s){return a(s)==="[object Error]"||s instanceof Error},e.isFunction=function(s){return typeof s=="function"},e.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},e.isBuffer=n.isBuffer}).call(this,r(3).Buffer)},function(t,e,r){"use strict";(function(n){!n.version||n.version.indexOf("v0.")===0||n.version.indexOf("v1.")===0&&n.version.indexOf("v1.8.")!==0?t.exports={nextTick:function(a,s,o,u){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var l,h,p=arguments.length;switch(p){case 0:case 1:return n.nextTick(a);case 2:return n.nextTick(function(){a.call(null,s)});case 3:return n.nextTick(function(){a.call(null,s,o)});case 4:return n.nextTick(function(){a.call(null,s,o,u)});default:for(l=new Array(p-1),h=0;h<l.length;)l[h++]=arguments[h];return n.nextTick(function(){a.apply(null,l)})}}}:t.exports=n}).call(this,r(4))},function(t,e,r){var n=r(3),a=n.Buffer;function s(u,l){for(var h in u)l[h]=u[h]}function o(u,l,h){return a(u,l,h)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=o),s(a,o),o.from=function(u,l,h){if(typeof u=="number")throw new TypeError("Argument must not be a number");return a(u,l,h)},o.alloc=function(u,l,h){if(typeof u!="number")throw new TypeError("Argument must be a number");var p=a(u);return l!==void 0?typeof h=="string"?p.fill(l,h):p.fill(l):p.fill(0),p},o.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return a(u)},o.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}},function(t,e,r){var n=r(17)(Object,"create");t.exports=n},function(t,e,r){var n=r(31);t.exports=function(a,s){for(var o=a.length;o--;)if(n(a[o][0],s))return o;return-1}},function(t,e,r){var n=r(96);t.exports=function(a,s){var o=a.__data__;return n(s)?o[typeof s=="string"?"string":"hash"]:o.map}},function(t,e,r){(function(n){var a=n!==void 0&&n||typeof self!="undefined"&&self||window,s=Function.prototype.apply;function o(u,l){this._id=u,this._clearFn=l}e.setTimeout=function(){return new o(s.call(setTimeout,a,arguments),clearTimeout)},e.setInterval=function(){return new o(s.call(setInterval,a,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(u){u&&u.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(a,this._id)},e.enroll=function(u,l){clearTimeout(u._idleTimeoutId),u._idleTimeout=l},e.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},e._unrefActive=e.active=function(u){clearTimeout(u._idleTimeoutId);var l=u._idleTimeout;l>=0&&(u._idleTimeoutId=setTimeout(function(){u._onTimeout&&u._onTimeout()},l))},r(35),e.setImmediate=typeof self!="undefined"&&self.setImmediate||n!==void 0&&n.setImmediate||this&&this.setImmediate,e.clearImmediate=typeof self!="undefined"&&self.clearImmediate||n!==void 0&&n.clearImmediate||this&&this.clearImmediate}).call(this,r(0))},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(o){return typeof o=="function"}function a(o){return typeof o=="object"&&o!==null}function s(o){return o===void 0}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(o){if(!function(u){return typeof u=="number"}(o)||o<0||isNaN(o))throw TypeError("n must be a positive number");return this._maxListeners=o,this},r.prototype.emit=function(o){var u,l,h,p,v,y;if(this._events||(this._events={}),o==="error"&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((u=arguments[1])instanceof Error)throw u;var S=new Error('Uncaught, unspecified "error" event. ('+u+")");throw S.context=u,S}if(s(l=this._events[o]))return!1;if(n(l))switch(arguments.length){case 1:l.call(this);break;case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:p=Array.prototype.slice.call(arguments,1),l.apply(this,p)}else if(a(l))for(p=Array.prototype.slice.call(arguments,1),h=(y=l.slice()).length,v=0;v<h;v++)y[v].apply(this,p);return!0},r.prototype.addListener=function(o,u){var l;if(!n(u))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",o,n(u.listener)?u.listener:u),this._events[o]?a(this._events[o])?this._events[o].push(u):this._events[o]=[this._events[o],u]:this._events[o]=u,a(this._events[o])&&!this._events[o].warned&&(l=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&l>0&&this._events[o].length>l&&(this._events[o].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[o].length),typeof console.trace=="function"&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(o,u){if(!n(u))throw TypeError("listener must be a function");var l=!1;function h(){this.removeListener(o,h),l||(l=!0,u.apply(this,arguments))}return h.listener=u,this.on(o,h),this},r.prototype.removeListener=function(o,u){var l,h,p,v;if(!n(u))throw TypeError("listener must be a function");if(!this._events||!this._events[o])return this;if(p=(l=this._events[o]).length,h=-1,l===u||n(l.listener)&&l.listener===u)delete this._events[o],this._events.removeListener&&this.emit("removeListener",o,u);else if(a(l)){for(v=p;v-- >0;)if(l[v]===u||l[v].listener&&l[v].listener===u){h=v;break}if(h<0)return this;l.length===1?(l.length=0,delete this._events[o]):l.splice(h,1),this._events.removeListener&&this.emit("removeListener",o,u)}return this},r.prototype.removeAllListeners=function(o){var u,l;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[o]&&delete this._events[o],this;if(arguments.length===0){for(u in this._events)u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events={},this}if(n(l=this._events[o]))this.removeListener(o,l);else if(l)for(;l.length;)this.removeListener(o,l[l.length-1]);return delete this._events[o],this},r.prototype.listeners=function(o){return this._events&&this._events[o]?n(this._events[o])?[this._events[o]]:this._events[o].slice():[]},r.prototype.listenerCount=function(o){if(this._events){var u=this._events[o];if(n(u))return 1;if(u)return u.length}return 0},r.listenerCount=function(o,u){return o.listenerCount(u)}},function(t,e,r){(e=t.exports=r(23)).Stream=e,e.Readable=e,e.Writable=r(14),e.Duplex=r(1),e.Transform=r(27),e.PassThrough=r(45)},function(t,e,r){"use strict";(function(n,a,s){var o=r(6);function u(M){var f=this;this.next=null,this.entry=null,this.finish=function(){(function(d,g,m){var b=d.entry;for(d.entry=null;b;){var E=b.callback;g.pendingcb--,E(void 0),b=b.next}g.corkedRequestsFree?g.corkedRequestsFree.next=d:g.corkedRequestsFree=d})(f,M)}}t.exports=C;var l,h=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?a:o.nextTick;C.WritableState=D;var p=r(5);p.inherits=r(2);var v,y={deprecate:r(44)},S=r(24),A=r(7).Buffer,T=s.Uint8Array||function(){},I=r(25);function N(){}function D(M,f){l=l||r(1),M=M||{};var d=f instanceof l;this.objectMode=!!M.objectMode,d&&(this.objectMode=this.objectMode||!!M.writableObjectMode);var g=M.highWaterMark,m=M.writableHighWaterMark,b=this.objectMode?16:16384;this.highWaterMark=g||g===0?g:d&&(m||m===0)?m:b,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var E=M.decodeStrings===!1;this.decodeStrings=!E,this.defaultEncoding=M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(k){(function(w,c){var _=w._writableState,R=_.sync,O=_.writecb;if(function(U){U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0}(_),c)(function(U,H,J,fe,B){--H.pendingcb,J?(o.nextTick(B,fe),o.nextTick(Z,U,H),U._writableState.errorEmitted=!0,U.emit("error",fe)):(B(fe),U._writableState.errorEmitted=!0,U.emit("error",fe),Z(U,H))})(w,_,R,c,O);else{var F=G(_);F||_.corked||_.bufferProcessing||!_.bufferedRequest||$(w,_),R?h(z,w,_,F,O):z(w,_,F,O)}})(f,k)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function C(M){if(l=l||r(1),!(v.call(C,this)||this instanceof l))return new C(M);this._writableState=new D(M,this),this.writable=!0,M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final)),S.call(this)}function L(M,f,d,g,m,b,E){f.writelen=g,f.writecb=E,f.writing=!0,f.sync=!0,d?M._writev(m,f.onwrite):M._write(m,b,f.onwrite),f.sync=!1}function z(M,f,d,g){d||function(m,b){b.length===0&&b.needDrain&&(b.needDrain=!1,m.emit("drain"))}(M,f),f.pendingcb--,g(),Z(M,f)}function $(M,f){f.bufferProcessing=!0;var d=f.bufferedRequest;if(M._writev&&d&&d.next){var g=f.bufferedRequestCount,m=new Array(g),b=f.corkedRequestsFree;b.entry=d;for(var E=0,k=!0;d;)m[E]=d,d.isBuf||(k=!1),d=d.next,E+=1;m.allBuffers=k,L(M,f,!0,f.length,m,"",b.finish),f.pendingcb++,f.lastBufferedRequest=null,b.next?(f.corkedRequestsFree=b.next,b.next=null):f.corkedRequestsFree=new u(f),f.bufferedRequestCount=0}else{for(;d;){var w=d.chunk,c=d.encoding,_=d.callback;if(L(M,f,!1,f.objectMode?1:w.length,w,c,_),d=d.next,f.bufferedRequestCount--,f.writing)break}d===null&&(f.lastBufferedRequest=null)}f.bufferedRequest=d,f.bufferProcessing=!1}function G(M){return M.ending&&M.length===0&&M.bufferedRequest===null&&!M.finished&&!M.writing}function j(M,f){M._final(function(d){f.pendingcb--,d&&M.emit("error",d),f.prefinished=!0,M.emit("prefinish"),Z(M,f)})}function Z(M,f){var d=G(f);return d&&(function(g,m){m.prefinished||m.finalCalled||(typeof g._final=="function"?(m.pendingcb++,m.finalCalled=!0,o.nextTick(j,g,m)):(m.prefinished=!0,g.emit("prefinish")))}(M,f),f.pendingcb===0&&(f.finished=!0,M.emit("finish"))),d}p.inherits(C,S),D.prototype.getBuffer=function(){for(var M=this.bufferedRequest,f=[];M;)f.push(M),M=M.next;return f},function(){try{Object.defineProperty(D.prototype,"buffer",{get:y.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(M){}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(M){return!!v.call(this,M)||this===C&&M&&M._writableState instanceof D}})):v=function(M){return M instanceof this},C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},C.prototype.write=function(M,f,d){var g=this._writableState,m=!1,b=!g.objectMode&&function(E){return A.isBuffer(E)||E instanceof T}(M);return b&&!A.isBuffer(M)&&(M=function(E){return A.from(E)}(M)),typeof f=="function"&&(d=f,f=null),b?f="buffer":f||(f=g.defaultEncoding),typeof d!="function"&&(d=N),g.ended?function(E,k){var w=new Error("write after end");E.emit("error",w),o.nextTick(k,w)}(this,d):(b||function(E,k,w,c){var _=!0,R=!1;return w===null?R=new TypeError("May not write null values to stream"):typeof w=="string"||w===void 0||k.objectMode||(R=new TypeError("Invalid non-string/buffer chunk")),R&&(E.emit("error",R),o.nextTick(c,R),_=!1),_}(this,g,M,d))&&(g.pendingcb++,m=function(E,k,w,c,_,R){if(!w){var O=function(J,fe,B){return J.objectMode||J.decodeStrings===!1||typeof fe!="string"||(fe=A.from(fe,B)),fe}(k,c,_);c!==O&&(w=!0,_="buffer",c=O)}var F=k.objectMode?1:c.length;k.length+=F;var U=k.length<k.highWaterMark;if(U||(k.needDrain=!0),k.writing||k.corked){var H=k.lastBufferedRequest;k.lastBufferedRequest={chunk:c,encoding:_,isBuf:w,callback:R,next:null},H?H.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else L(E,k,!1,F,c,_,R);return U}(this,g,b,M,f,d)),m},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var M=this._writableState;M.corked&&(M.corked--,M.writing||M.corked||M.finished||M.bufferProcessing||!M.bufferedRequest||$(this,M))},C.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=M.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((M+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+M);return this._writableState.defaultEncoding=M,this},Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(M,f,d){d(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(M,f,d){var g=this._writableState;typeof M=="function"?(d=M,M=null,f=null):typeof f=="function"&&(d=f,f=null),M!=null&&this.write(M,f),g.corked&&(g.corked=1,this.uncork()),g.ending||g.finished||function(m,b,E){b.ending=!0,Z(m,b),E&&(b.finished?o.nextTick(E):m.once("finish",E)),b.ended=!0,m.writable=!1}(this,g,d)},Object.defineProperty(C.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(M){this._writableState&&(this._writableState.destroyed=M)}}),C.prototype.destroy=I.destroy,C.prototype._undestroy=I.undestroy,C.prototype._destroy=function(M,f){this.end(),f(M)}}).call(this,r(4),r(11).setImmediate,r(0))},function(t,e,r){(function(n,a,s){t.exports=function o(u,l,h){function p(S,A){if(!l[S]){if(!u[S]){var T=typeof _dereq_=="function"&&_dereq_;if(!A&&T)return T(S,!0);if(v)return v(S,!0);var I=new Error("Cannot find module '"+S+"'");throw I.code="MODULE_NOT_FOUND",I}var N=l[S]={exports:{}};u[S][0].call(N.exports,function(D){return p(u[S][1][D]||D)},N,N.exports,o,u,l,h)}return l[S].exports}for(var v=typeof _dereq_=="function"&&_dereq_,y=0;y<h.length;y++)p(h[y]);return p}({1:[function(o,u,l){"use strict";u.exports=function(h){var p=h._SomePromiseArray;function v(y){var S=new p(y),A=S.promise();return S.setHowMany(1),S.setUnwrap(),S.init(),A}h.any=function(y){return v(y)},h.prototype.any=function(){return v(this)}}},{}],2:[function(o,u,l){"use strict";var h;try{throw new Error}catch(N){h=N}var p=o("./schedule"),v=o("./queue"),y=o("./util");function S(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new v(16),this._normalQueue=new v(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var N=this;this.drainQueues=function(){N._drainQueues()},this._schedule=p}function A(N,D,C){this._lateQueue.push(N,D,C),this._queueTick()}function T(N,D,C){this._normalQueue.push(N,D,C),this._queueTick()}function I(N){this._normalQueue._pushOne(N),this._queueTick()}S.prototype.setScheduler=function(N){var D=this._schedule;return this._schedule=N,this._customScheduler=!0,D},S.prototype.hasCustomScheduler=function(){return this._customScheduler},S.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},S.prototype.disableTrampolineIfNecessary=function(){y.hasDevTools&&(this._trampolineEnabled=!1)},S.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},S.prototype.fatalError=function(N,D){D?(n.stderr.write("Fatal "+(N instanceof Error?N.stack:N)+`
`),n.exit(2)):this.throwLater(N)},S.prototype.throwLater=function(N,D){if(arguments.length===1&&(D=N,N=function(){throw D}),typeof setTimeout!="undefined")setTimeout(function(){N(D)},0);else try{this._schedule(function(){N(D)})}catch(C){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},y.hasDevTools?(S.prototype.invokeLater=function(N,D,C){this._trampolineEnabled?A.call(this,N,D,C):this._schedule(function(){setTimeout(function(){N.call(D,C)},100)})},S.prototype.invoke=function(N,D,C){this._trampolineEnabled?T.call(this,N,D,C):this._schedule(function(){N.call(D,C)})},S.prototype.settlePromises=function(N){this._trampolineEnabled?I.call(this,N):this._schedule(function(){N._settlePromises()})}):(S.prototype.invokeLater=A,S.prototype.invoke=T,S.prototype.settlePromises=I),S.prototype._drainQueue=function(N){for(;N.length()>0;){var D=N.shift();if(typeof D=="function"){var C=N.shift(),L=N.shift();D.call(C,L)}else D._settlePromises()}},S.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},S.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},S.prototype._reset=function(){this._isTickUsed=!1},u.exports=S,u.exports.firstLineError=h},{"./queue":26,"./schedule":29,"./util":36}],3:[function(o,u,l){"use strict";u.exports=function(h,p,v,y){var S=!1,A=function(D,C){this._reject(C)},T=function(D,C){C.promiseRejectionQueued=!0,C.bindingPromise._then(A,A,null,this,D)},I=function(D,C){(50397184&this._bitField)==0&&this._resolveCallback(C.target)},N=function(D,C){C.promiseRejectionQueued||this._reject(D)};h.prototype.bind=function(D){S||(S=!0,h.prototype._propagateFrom=y.propagateFromFunction(),h.prototype._boundValue=y.boundValueFunction());var C=v(D),L=new h(p);L._propagateFrom(this,1);var z=this._target();if(L._setBoundTo(C),C instanceof h){var $={promiseRejectionQueued:!1,promise:L,target:z,bindingPromise:C};z._then(p,T,void 0,L,$),C._then(I,N,void 0,L,$),L._setOnCancel(C)}else L._resolveCallback(z);return L},h.prototype._setBoundTo=function(D){D!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=D):this._bitField=-2097153&this._bitField},h.prototype._isBound=function(){return(2097152&this._bitField)==2097152},h.bind=function(D,C){return h.resolve(C).bind(D)}}},{}],4:[function(o,u,l){"use strict";var h;typeof Promise!="undefined"&&(h=Promise);var p=o("./promise")();p.noConflict=function(){try{Promise===p&&(Promise=h)}catch(v){}return p},u.exports=p},{"./promise":22}],5:[function(o,u,l){"use strict";var h=Object.create;if(h){var p=h(null),v=h(null);p[" size"]=v[" size"]=0}u.exports=function(y){var S=o("./util"),A=S.canEvaluate;function T(D){return function(C,L){var z;if(C!=null&&(z=C[L]),typeof z!="function"){var $="Object "+S.classString(C)+" has no method '"+S.toString(L)+"'";throw new y.TypeError($)}return z}(D,this.pop()).apply(D,this)}function I(D){return D[this]}function N(D){var C=+this;return C<0&&(C=Math.max(0,C+D.length)),D[C]}S.isIdentifier,y.prototype.call=function(D){var C=[].slice.call(arguments,1);return C.push(D),this._then(T,void 0,void 0,C,void 0)},y.prototype.get=function(D){var C;if(typeof D=="number")C=N;else if(A){var L=(void 0)(D);C=L!==null?L:I}else C=I;return this._then(C,void 0,void 0,D,void 0)}}},{"./util":36}],6:[function(o,u,l){"use strict";u.exports=function(h,p,v,y){var S=o("./util"),A=S.tryCatch,T=S.errorObj,I=h._async;h.prototype.break=h.prototype.cancel=function(){if(!y.cancellation())return this._warn("cancellation is disabled");for(var N=this,D=N;N._isCancellable();){if(!N._cancelBy(D)){D._isFollowing()?D._followee().cancel():D._cancelBranched();break}var C=N._cancellationParent;if(C==null||!C._isCancellable()){N._isFollowing()?N._followee().cancel():N._cancelBranched();break}N._isFollowing()&&N._followee().cancel(),N._setWillBeCancelled(),D=N,N=C}},h.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},h.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},h.prototype._cancelBy=function(N){return N===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},h.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},h.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),I.invoke(this._cancelPromises,this,void 0))},h.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},h.prototype._unsetOnCancel=function(){this._onCancelField=void 0},h.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},h.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},h.prototype._doInvokeOnCancel=function(N,D){if(S.isArray(N))for(var C=0;C<N.length;++C)this._doInvokeOnCancel(N[C],D);else if(N!==void 0)if(typeof N=="function"){if(!D){var L=A(N).call(this._boundValue());L===T&&(this._attachExtraTrace(L.e),I.throwLater(L.e))}}else N._resultCancelled(this)},h.prototype._invokeOnCancel=function(){var N=this._onCancel();this._unsetOnCancel(),I.invoke(this._doInvokeOnCancel,this,N)},h.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},h.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(o,u,l){"use strict";u.exports=function(h){var p=o("./util"),v=o("./es5").keys,y=p.tryCatch,S=p.errorObj;return function(A,T,I){return function(N){var D=I._boundValue();e:for(var C=0;C<A.length;++C){var L=A[C];if(L===Error||L!=null&&L.prototype instanceof Error){if(N instanceof L)return y(T).call(D,N)}else if(typeof L=="function"){var z=y(L).call(D,N);if(z===S)return z;if(z)return y(T).call(D,N)}else if(p.isObject(N)){for(var $=v(L),G=0;G<$.length;++G){var j=$[G];if(L[j]!=N[j])continue e}return y(T).call(D,N)}}return h}}}},{"./es5":13,"./util":36}],8:[function(o,u,l){"use strict";u.exports=function(h){var p=!1,v=[];function y(){this._trace=new y.CapturedTrace(S())}function S(){var A=v.length-1;if(A>=0)return v[A]}return h.prototype._promiseCreated=function(){},h.prototype._pushContext=function(){},h.prototype._popContext=function(){return null},h._peekContext=h.prototype._peekContext=function(){},y.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,v.push(this._trace))},y.prototype._popContext=function(){if(this._trace!==void 0){var A=v.pop(),T=A._promiseCreated;return A._promiseCreated=null,T}return null},y.CapturedTrace=null,y.create=function(){if(p)return new y},y.deactivateLongStackTraces=function(){},y.activateLongStackTraces=function(){var A=h.prototype._pushContext,T=h.prototype._popContext,I=h._peekContext,N=h.prototype._peekContext,D=h.prototype._promiseCreated;y.deactivateLongStackTraces=function(){h.prototype._pushContext=A,h.prototype._popContext=T,h._peekContext=I,h.prototype._peekContext=N,h.prototype._promiseCreated=D,p=!1},p=!0,h.prototype._pushContext=y.prototype._pushContext,h.prototype._popContext=y.prototype._popContext,h._peekContext=h.prototype._peekContext=S,h.prototype._promiseCreated=function(){var C=this._peekContext();C&&C._promiseCreated==null&&(C._promiseCreated=this)}},y}},{}],9:[function(o,u,l){"use strict";u.exports=function(h,p){var v,y,S,A=h._getDomain,T=h._async,I=o("./errors").Warning,N=o("./util"),D=N.canAttachTrace,C=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,L=/\((?:timers\.js):\d+:\d+\)/,z=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,$=null,G=null,j=!1,Z=N.env("BLUEBIRD_DEBUG")!=0,M=!(N.env("BLUEBIRD_WARNINGS")==0||!Z&&!N.env("BLUEBIRD_WARNINGS")),f=!(N.env("BLUEBIRD_LONG_STACK_TRACES")==0||!Z&&!N.env("BLUEBIRD_LONG_STACK_TRACES")),d=N.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(M||!!N.env("BLUEBIRD_W_FORGOTTEN_RETURN"));h.prototype.suppressUnhandledRejections=function(){var ee=this._target();ee._bitField=-1048577&ee._bitField|524288},h.prototype._ensurePossibleRejectionHandled=function(){if((524288&this._bitField)==0){this._setRejectionIsUnhandled();var ee=this;setTimeout(function(){ee._notifyUnhandledRejection()},1)}},h.prototype._notifyUnhandledRejectionIsHandled=function(){ue("rejectionHandled",v,void 0,this)},h.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},h.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!=0},h.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ee=this._settledValue();this._setUnhandledRejectionIsNotified(),ue("unhandledRejection",y,ee,this)}},h.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},h.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},h.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},h.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},h.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},h.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},h.prototype._warn=function(ee,ie,rt){return Y(ee,ie,rt||this)},h.onPossiblyUnhandledRejection=function(ee){var ie=A();y=typeof ee=="function"?ie===null?ee:N.domainBind(ie,ee):void 0},h.onUnhandledRejectionHandled=function(ee){var ie=A();v=typeof ee=="function"?ie===null?ee:N.domainBind(ie,ee):void 0};var g=function(){};h.longStackTraces=function(){if(T.haveItemsQueued()&&!ot.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!ot.longStackTraces&&yt()){var ee=h.prototype._captureStackTrace,ie=h.prototype._attachExtraTrace;ot.longStackTraces=!0,g=function(){if(T.haveItemsQueued()&&!ot.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);h.prototype._captureStackTrace=ee,h.prototype._attachExtraTrace=ie,p.deactivateLongStackTraces(),T.enableTrampoline(),ot.longStackTraces=!1},h.prototype._captureStackTrace=B,h.prototype._attachExtraTrace=q,p.activateLongStackTraces(),T.disableTrampolineIfNecessary()}},h.hasLongStackTraces=function(){return ot.longStackTraces&&yt()};var m=function(){try{if(typeof CustomEvent=="function"){var ee=new CustomEvent("CustomEvent");return N.global.dispatchEvent(ee),function(ie,rt){var ae=new CustomEvent(ie.toLowerCase(),{detail:rt,cancelable:!0});return!N.global.dispatchEvent(ae)}}return typeof Event=="function"?(ee=new Event("CustomEvent"),N.global.dispatchEvent(ee),function(ie,rt){var ae=new Event(ie.toLowerCase(),{cancelable:!0});return ae.detail=rt,!N.global.dispatchEvent(ae)}):((ee=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),N.global.dispatchEvent(ee),function(ie,rt){var ae=document.createEvent("CustomEvent");return ae.initCustomEvent(ie.toLowerCase(),!1,!0,rt),!N.global.dispatchEvent(ae)})}catch(ie){}return function(){return!1}}(),b=N.isNode?function(){return n.emit.apply(n,arguments)}:N.global?function(ee){var ie="on"+ee.toLowerCase(),rt=N.global[ie];return!!rt&&(rt.apply(N.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function E(ee,ie){return{promise:ie}}var k={promiseCreated:E,promiseFulfilled:E,promiseRejected:E,promiseResolved:E,promiseCancelled:E,promiseChained:function(ee,ie,rt){return{promise:ie,child:rt}},warning:function(ee,ie){return{warning:ie}},unhandledRejection:function(ee,ie,rt){return{reason:ie,promise:rt}},rejectionHandled:E},w=function(ee){var ie=!1;try{ie=b.apply(null,arguments)}catch(ae){T.throwLater(ae),ie=!0}var rt=!1;try{rt=m(ee,k[ee].apply(null,arguments))}catch(ae){T.throwLater(ae),rt=!0}return rt||ie};function c(){return!1}function _(ee,ie,rt){var ae=this;try{ee(ie,rt,function(de){if(typeof de!="function")throw new TypeError("onCancel must be a function, got: "+N.toString(de));ae._attachCancellationCallback(de)})}catch(de){return de}}function R(ee){if(!this._isCancellable())return this;var ie=this._onCancel();ie!==void 0?N.isArray(ie)?ie.push(ee):this._setOnCancel([ie,ee]):this._setOnCancel(ee)}function O(){return this._onCancelField}function F(ee){this._onCancelField=ee}function U(){this._cancellationParent=void 0,this._onCancelField=void 0}function H(ee,ie){if((1&ie)!=0){this._cancellationParent=ee;var rt=ee._branchesRemainingToCancel;rt===void 0&&(rt=0),ee._branchesRemainingToCancel=rt+1}(2&ie)!=0&&ee._isBound()&&this._setBoundTo(ee._boundTo)}h.config=function(ee){if("longStackTraces"in(ee=Object(ee))&&(ee.longStackTraces?h.longStackTraces():!ee.longStackTraces&&h.hasLongStackTraces()&&g()),"warnings"in ee){var ie=ee.warnings;ot.warnings=!!ie,d=ot.warnings,N.isObject(ie)&&"wForgottenReturn"in ie&&(d=!!ie.wForgottenReturn)}if("cancellation"in ee&&ee.cancellation&&!ot.cancellation){if(T.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");h.prototype._clearCancellationData=U,h.prototype._propagateFrom=H,h.prototype._onCancel=O,h.prototype._setOnCancel=F,h.prototype._attachCancellationCallback=R,h.prototype._execute=_,J=H,ot.cancellation=!0}return"monitoring"in ee&&(ee.monitoring&&!ot.monitoring?(ot.monitoring=!0,h.prototype._fireEvent=w):!ee.monitoring&&ot.monitoring&&(ot.monitoring=!1,h.prototype._fireEvent=c)),h},h.prototype._fireEvent=c,h.prototype._execute=function(ee,ie,rt){try{ee(ie,rt)}catch(ae){return ae}},h.prototype._onCancel=function(){},h.prototype._setOnCancel=function(ee){},h.prototype._attachCancellationCallback=function(ee){},h.prototype._captureStackTrace=function(){},h.prototype._attachExtraTrace=function(){},h.prototype._clearCancellationData=function(){},h.prototype._propagateFrom=function(ee,ie){};var J=function(ee,ie){(2&ie)!=0&&ee._isBound()&&this._setBoundTo(ee._boundTo)};function fe(){var ee=this._boundTo;return ee!==void 0&&ee instanceof h?ee.isFulfilled()?ee.value():void 0:ee}function B(){this._trace=new we(this._peekContext())}function q(ee,ie){if(D(ee)){var rt=this._trace;if(rt!==void 0&&ie&&(rt=rt._parent),rt!==void 0)rt.attachExtraTrace(ee);else if(!ee.__stackCleaned__){var ae=Q(ee);N.notEnumerableProp(ee,"stack",ae.message+`
`+ae.stack.join(`
`)),N.notEnumerableProp(ee,"__stackCleaned__",!0)}}}function Y(ee,ie,rt){if(ot.warnings){var ae,de=new I(ee);if(ie)rt._attachExtraTrace(de);else if(ot.longStackTraces&&(ae=h._peekContext()))ae.attachExtraTrace(de);else{var Je=Q(de);de.stack=Je.message+`
`+Je.stack.join(`
`)}w("warning",de)||be(de,"",!0)}}function X(ee){for(var ie=[],rt=0;rt<ee.length;++rt){var ae=ee[rt],de=ae==="    (No stack trace)"||$.test(ae),Je=de&&xe(ae);de&&!Je&&(j&&ae.charAt(0)!==" "&&(ae="    "+ae),ie.push(ae))}return ie}function Q(ee){var ie=ee.stack,rt=ee.toString();return ie=typeof ie=="string"&&ie.length>0?function(ae){for(var de=ae.stack.replace(/\s+$/g,"").split(`
`),Je=0;Je<de.length;++Je){var he=de[Je];if(he==="    (No stack trace)"||$.test(he))break}return Je>0&&ae.name!="SyntaxError"&&(de=de.slice(Je)),de}(ee):["    (No stack trace)"],{message:rt,stack:ee.name=="SyntaxError"?ie:X(ie)}}function be(ee,ie,rt){if(typeof console!="undefined"){var ae;if(N.isObject(ee)){var de=ee.stack;ae=ie+G(de,ee)}else ae=ie+String(ee);typeof S=="function"?S(ae,rt):typeof console.log!="function"&&typeof console.log!="object"||console.log(ae)}}function ue(ee,ie,rt,ae){var de=!1;try{typeof ie=="function"&&(de=!0,ee==="rejectionHandled"?ie(ae):ie(rt,ae))}catch(Je){T.throwLater(Je)}ee==="unhandledRejection"?w(ee,rt,ae)||de||be(rt,"Unhandled rejection "):w(ee,ae)}function me(ee){var ie;if(typeof ee=="function")ie="[function "+(ee.name||"anonymous")+"]";else{if(ie=ee&&typeof ee.toString=="function"?ee.toString():N.toString(ee),/\[object [a-zA-Z0-9$_]+\]/.test(ie))try{ie=JSON.stringify(ee)}catch(rt){}ie.length===0&&(ie="(empty array)")}return"(<"+function(rt){return rt.length<41?rt:rt.substr(0,38)+"..."}(ie)+">, no stack trace)"}function yt(){return typeof Te=="function"}var xe=function(){return!1},le=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function zt(ee){var ie=ee.match(le);if(ie)return{fileName:ie[1],line:parseInt(ie[2],10)}}function we(ee){this._parent=ee,this._promisesCreated=0;var ie=this._length=1+(ee===void 0?0:ee._length);Te(this,we),ie>32&&this.uncycle()}N.inherits(we,Error),p.CapturedTrace=we,we.prototype.uncycle=function(){var ee=this._length;if(!(ee<2)){for(var ie=[],rt={},ae=0,de=this;de!==void 0;++ae)ie.push(de),de=de._parent;for(ae=(ee=this._length=ae)-1;ae>=0;--ae){var Je=ie[ae].stack;rt[Je]===void 0&&(rt[Je]=ae)}for(ae=0;ae<ee;++ae){var he=rt[ie[ae].stack];if(he!==void 0&&he!==ae){he>0&&(ie[he-1]._parent=void 0,ie[he-1]._length=1),ie[ae]._parent=void 0,ie[ae]._length=1;var Se=ae>0?ie[ae-1]:this;he<ee-1?(Se._parent=ie[he+1],Se._parent.uncycle(),Se._length=Se._parent._length+1):(Se._parent=void 0,Se._length=1);for(var Tt=Se._length+1,_e=ae-2;_e>=0;--_e)ie[_e]._length=Tt,Tt++;return}}}},we.prototype.attachExtraTrace=function(ee){if(!ee.__stackCleaned__){this.uncycle();for(var ie=Q(ee),rt=ie.message,ae=[ie.stack],de=this;de!==void 0;)ae.push(X(de.stack.split(`
`))),de=de._parent;(function(Je){for(var he=Je[0],Se=1;Se<Je.length;++Se){for(var Tt=Je[Se],_e=he.length-1,Ie=he[_e],ar=-1,Ne=Tt.length-1;Ne>=0;--Ne)if(Tt[Ne]===Ie){ar=Ne;break}for(Ne=ar;Ne>=0;--Ne){var Re=Tt[Ne];if(he[_e]!==Re)break;he.pop(),_e--}he=Tt}})(ae),function(Je){for(var he=0;he<Je.length;++he)(Je[he].length===0||he+1<Je.length&&Je[he][0]===Je[he+1][0])&&(Je.splice(he,1),he--)}(ae),N.notEnumerableProp(ee,"stack",function(Je,he){for(var Se=0;Se<he.length-1;++Se)he[Se].push("From previous event:"),he[Se]=he[Se].join(`
`);return Se<he.length&&(he[Se]=he[Se].join(`
`)),Je+`
`+he.join(`
`)}(rt,ae)),N.notEnumerableProp(ee,"__stackCleaned__",!0)}};var Te=function(){var ee=/^\s*at\s*/,ie=function(Je,he){return typeof Je=="string"?Je:he.name!==void 0&&he.message!==void 0?he.toString():me(he)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,$=ee,G=ie;var rt=Error.captureStackTrace;return xe=function(Je){return C.test(Je)},function(Je,he){Error.stackTraceLimit+=6,rt(Je,he),Error.stackTraceLimit-=6}}var ae,de=new Error;if(typeof de.stack=="string"&&de.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return $=/@/,G=ie,j=!0,function(Je){Je.stack=new Error().stack};try{throw new Error}catch(Je){ae="stack"in Je}return"stack"in de||!ae||typeof Error.stackTraceLimit!="number"?(G=function(Je,he){return typeof Je=="string"?Je:typeof he!="object"&&typeof he!="function"||he.name===void 0||he.message===void 0?me(he):he.toString()},null):($=ee,G=ie,function(Je){Error.stackTraceLimit+=6;try{throw new Error}catch(he){Je.stack=he.stack}Error.stackTraceLimit-=6})}();typeof console!="undefined"&&console.warn!==void 0&&(S=function(ee){console.warn(ee)},N.isNode&&n.stderr.isTTY?S=function(ee,ie){var rt=ie?"\x1B[33m":"\x1B[31m";console.warn(rt+ee+`\x1B[0m
`)}:N.isNode||typeof new Error().stack!="string"||(S=function(ee,ie){console.warn("%c"+ee,ie?"color: darkorange":"color: red")}));var ot={warnings:M,longStackTraces:!1,cancellation:!1,monitoring:!1};return f&&h.longStackTraces(),{longStackTraces:function(){return ot.longStackTraces},warnings:function(){return ot.warnings},cancellation:function(){return ot.cancellation},monitoring:function(){return ot.monitoring},propagateFromFunction:function(){return J},boundValueFunction:function(){return fe},checkForgottenReturns:function(ee,ie,rt,ae,de){if(ee===void 0&&ie!==null&&d){if(de!==void 0&&de._returnedNonUndefined()||(65535&ae._bitField)==0)return;rt&&(rt+=" ");var Je="",he="";if(ie._trace){for(var Se=ie._trace.stack.split(`
`),Tt=X(Se),_e=Tt.length-1;_e>=0;--_e){var Ie=Tt[_e];if(!L.test(Ie)){var ar=Ie.match(z);ar&&(Je="at "+ar[1]+":"+ar[2]+":"+ar[3]+" ");break}}if(Tt.length>0){var Ne=Tt[0];for(_e=0;_e<Se.length;++_e)if(Se[_e]===Ne){_e>0&&(he=`
`+Se[_e-1]);break}}}var Re="a promise was created in a "+rt+"handler "+Je+"but was not returned from it, see http://goo.gl/rRqMUw"+he;ae._warn(Re,!0,ie)}},setBounds:function(ee,ie){if(yt()){for(var rt,ae,de=ee.stack.split(`
`),Je=ie.stack.split(`
`),he=-1,Se=-1,Tt=0;Tt<de.length;++Tt)if(_e=zt(de[Tt])){rt=_e.fileName,he=_e.line;break}for(Tt=0;Tt<Je.length;++Tt){var _e;if(_e=zt(Je[Tt])){ae=_e.fileName,Se=_e.line;break}}he<0||Se<0||!rt||!ae||rt!==ae||he>=Se||(xe=function(Ie){if(C.test(Ie))return!0;var ar=zt(Ie);return!!(ar&&ar.fileName===rt&&he<=ar.line&&ar.line<=Se)})}},warn:Y,deprecated:function(ee,ie){var rt=ee+" is deprecated and will be removed in a future version.";return ie&&(rt+=" Use "+ie+" instead."),Y(rt)},CapturedTrace:we,fireDomEvent:m,fireGlobalEvent:b}}},{"./errors":12,"./util":36}],10:[function(o,u,l){"use strict";u.exports=function(h){function p(){return this.value}function v(){throw this.reason}h.prototype.return=h.prototype.thenReturn=function(y){return y instanceof h&&y.suppressUnhandledRejections(),this._then(p,void 0,void 0,{value:y},void 0)},h.prototype.throw=h.prototype.thenThrow=function(y){return this._then(v,void 0,void 0,{reason:y},void 0)},h.prototype.catchThrow=function(y){if(arguments.length<=1)return this._then(void 0,v,void 0,{reason:y},void 0);var S=arguments[1];return this.caught(y,function(){throw S})},h.prototype.catchReturn=function(y){if(arguments.length<=1)return y instanceof h&&y.suppressUnhandledRejections(),this._then(void 0,p,void 0,{value:y},void 0);var S=arguments[1];return S instanceof h&&S.suppressUnhandledRejections(),this.caught(y,function(){return S})}}},{}],11:[function(o,u,l){"use strict";u.exports=function(h,p){var v=h.reduce,y=h.all;function S(){return y(this)}h.prototype.each=function(A){return v(this,A,p,0)._then(S,void 0,void 0,this,void 0)},h.prototype.mapSeries=function(A){return v(this,A,p,p)},h.each=function(A,T){return v(A,T,p,0)._then(S,void 0,void 0,A,void 0)},h.mapSeries=function(A,T){return v(A,T,p,p)}}},{}],12:[function(o,u,l){"use strict";var h,p,v=o("./es5"),y=v.freeze,S=o("./util"),A=S.inherits,T=S.notEnumerableProp;function I(M,f){function d(g){if(!(this instanceof d))return new d(g);T(this,"message",typeof g=="string"?g:f),T(this,"name",M),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return A(d,Error),d}var N=I("Warning","warning"),D=I("CancellationError","cancellation error"),C=I("TimeoutError","timeout error"),L=I("AggregateError","aggregate error");try{h=TypeError,p=RangeError}catch(M){h=I("TypeError","type error"),p=I("RangeError","range error")}for(var z="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),$=0;$<z.length;++$)typeof Array.prototype[z[$]]=="function"&&(L.prototype[z[$]]=Array.prototype[z[$]]);v.defineProperty(L.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),L.prototype.isOperational=!0;var G=0;function j(M){if(!(this instanceof j))return new j(M);T(this,"name","OperationalError"),T(this,"message",M),this.cause=M,this.isOperational=!0,M instanceof Error?(T(this,"message",M.message),T(this,"stack",M.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}L.prototype.toString=function(){var M=Array(4*G+1).join(" "),f=`
`+M+`AggregateError of:
`;G++,M=Array(4*G+1).join(" ");for(var d=0;d<this.length;++d){for(var g=this[d]===this?"[Circular AggregateError]":this[d]+"",m=g.split(`
`),b=0;b<m.length;++b)m[b]=M+m[b];f+=(g=m.join(`
`))+`
`}return G--,f},A(j,Error);var Z=Error.__BluebirdErrorTypes__;Z||(Z=y({CancellationError:D,TimeoutError:C,OperationalError:j,RejectionError:j,AggregateError:L}),v.defineProperty(Error,"__BluebirdErrorTypes__",{value:Z,writable:!1,enumerable:!1,configurable:!1})),u.exports={Error,TypeError:h,RangeError:p,CancellationError:Z.CancellationError,OperationalError:Z.OperationalError,TimeoutError:Z.TimeoutError,AggregateError:Z.AggregateError,Warning:N}},{"./es5":13,"./util":36}],13:[function(o,u,l){var h=function(){"use strict";return this===void 0}();if(h)u.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:h,propertyIsWritable:function(A,T){var I=Object.getOwnPropertyDescriptor(A,T);return!(I&&!I.writable&&!I.set)}};else{var p={}.hasOwnProperty,v={}.toString,y={}.constructor.prototype,S=function(A){var T=[];for(var I in A)p.call(A,I)&&T.push(I);return T};u.exports={isArray:function(A){try{return v.call(A)==="[object Array]"}catch(T){return!1}},keys:S,names:S,defineProperty:function(A,T,I){return A[T]=I.value,A},getDescriptor:function(A,T){return{value:A[T]}},freeze:function(A){return A},getPrototypeOf:function(A){try{return Object(A).constructor.prototype}catch(T){return y}},isES5:h,propertyIsWritable:function(){return!0}}}},{}],14:[function(o,u,l){"use strict";u.exports=function(h,p){var v=h.map;h.prototype.filter=function(y,S){return v(this,y,S,p)},h.filter=function(y,S,A){return v(y,S,A,p)}}},{}],15:[function(o,u,l){"use strict";u.exports=function(h,p,v){var y=o("./util"),S=h.CancellationError,A=y.errorObj,T=o("./catch_filter")(v);function I($,G,j){this.promise=$,this.type=G,this.handler=j,this.called=!1,this.cancelPromise=null}function N($){this.finallyHandler=$}function D($,G){return $.cancelPromise!=null&&(arguments.length>1?$.cancelPromise._reject(G):$.cancelPromise._cancel(),$.cancelPromise=null,!0)}function C(){return z.call(this,this.promise._target()._settledValue())}function L($){if(!D(this,$))return A.e=$,A}function z($){var G=this.promise,j=this.handler;if(!this.called){this.called=!0;var Z=this.isFinallyHandler()?j.call(G._boundValue()):j.call(G._boundValue(),$);if(Z===v)return Z;if(Z!==void 0){G._setReturnedNonUndefined();var M=p(Z,G);if(M instanceof h){if(this.cancelPromise!=null){if(M._isCancelled()){var f=new S("late cancellation observer");return G._attachExtraTrace(f),A.e=f,A}M.isPending()&&M._attachCancellationCallback(new N(this))}return M._then(C,L,void 0,this,void 0)}}}return G.isRejected()?(D(this),A.e=$,A):(D(this),$)}return I.prototype.isFinallyHandler=function(){return this.type===0},N.prototype._resultCancelled=function(){D(this.finallyHandler)},h.prototype._passThrough=function($,G,j,Z){return typeof $!="function"?this.then():this._then(j,Z,void 0,new I(this,G,$),void 0)},h.prototype.lastly=h.prototype.finally=function($){return this._passThrough($,0,z,z)},h.prototype.tap=function($){return this._passThrough($,1,z)},h.prototype.tapCatch=function($){var G=arguments.length;if(G===1)return this._passThrough($,1,void 0,z);var j,Z=new Array(G-1),M=0;for(j=0;j<G-1;++j){var f=arguments[j];if(!y.isObject(f))return h.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+y.classString(f)));Z[M++]=f}Z.length=M;var d=arguments[j];return this._passThrough(T(Z,d,this),1,void 0,z)},I}},{"./catch_filter":7,"./util":36}],16:[function(o,u,l){"use strict";u.exports=function(h,p,v,y,S,A){var T=o("./errors").TypeError,I=o("./util"),N=I.errorObj,D=I.tryCatch,C=[];function L(z,$,G,j){if(A.cancellation()){var Z=new h(v),M=this._finallyPromise=new h(v);this._promise=Z.lastly(function(){return M}),Z._captureStackTrace(),Z._setOnCancel(this)}else(this._promise=new h(v))._captureStackTrace();this._stack=j,this._generatorFunction=z,this._receiver=$,this._generator=void 0,this._yieldHandlers=typeof G=="function"?[G].concat(C):C,this._yieldedPromise=null,this._cancellationPhase=!1}I.inherits(L,S),L.prototype._isResolved=function(){return this._promise===null},L.prototype._cleanup=function(){this._promise=this._generator=null,A.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},L.prototype._promiseCancelled=function(){if(!this._isResolved()){var z;if(this._generator.return!==void 0)this._promise._pushContext(),z=D(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var $=new h.CancellationError("generator .return() sentinel");h.coroutine.returnSentinel=$,this._promise._attachExtraTrace($),this._promise._pushContext(),z=D(this._generator.throw).call(this._generator,$),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(z)}},L.prototype._promiseFulfilled=function(z){this._yieldedPromise=null,this._promise._pushContext();var $=D(this._generator.next).call(this._generator,z);this._promise._popContext(),this._continue($)},L.prototype._promiseRejected=function(z){this._yieldedPromise=null,this._promise._attachExtraTrace(z),this._promise._pushContext();var $=D(this._generator.throw).call(this._generator,z);this._promise._popContext(),this._continue($)},L.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof h){var z=this._yieldedPromise;this._yieldedPromise=null,z.cancel()}},L.prototype.promise=function(){return this._promise},L.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},L.prototype._continue=function(z){var $=this._promise;if(z===N)return this._cleanup(),this._cancellationPhase?$.cancel():$._rejectCallback(z.e,!1);var G=z.value;if(z.done===!0)return this._cleanup(),this._cancellationPhase?$.cancel():$._resolveCallback(G);var j=y(G,this._promise);if(j instanceof h||(j=function(M,f,d){for(var g=0;g<f.length;++g){d._pushContext();var m=D(f[g])(M);if(d._popContext(),m===N){d._pushContext();var b=h.reject(N.e);return d._popContext(),b}var E=y(m,d);if(E instanceof h)return E}return null}(j,this._yieldHandlers,this._promise))!==null){var Z=(j=j._target())._bitField;(50397184&Z)==0?(this._yieldedPromise=j,j._proxy(this,null)):(33554432&Z)!=0?h._async.invoke(this._promiseFulfilled,this,j._value()):(16777216&Z)!=0?h._async.invoke(this._promiseRejected,this,j._reason()):this._promiseCancelled()}else this._promiseRejected(new T(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(G))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)))},h.coroutine=function(z,$){if(typeof z!="function")throw new T(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var G=Object($).yieldHandler,j=L,Z=new Error().stack;return function(){var M=z.apply(this,arguments),f=new j(void 0,void 0,G,Z),d=f.promise();return f._generator=M,f._promiseFulfilled(void 0),d}},h.coroutine.addYieldHandler=function(z){if(typeof z!="function")throw new T("expecting a function but got "+I.classString(z));C.push(z)},h.spawn=function(z){if(A.deprecated("Promise.spawn()","Promise.coroutine()"),typeof z!="function")return p(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var $=new L(z,this),G=$.promise();return $._run(h.spawn),G}}},{"./errors":12,"./util":36}],17:[function(o,u,l){"use strict";u.exports=function(h,p,v,y,S,A){var T=o("./util");T.canEvaluate,T.tryCatch,T.errorObj,h.join=function(){var I,N=arguments.length-1;N>0&&typeof arguments[N]=="function"&&(I=arguments[N]);var D=[].slice.call(arguments);I&&D.pop();var C=new p(D).promise();return I!==void 0?C.spread(I):C}}},{"./util":36}],18:[function(o,u,l){"use strict";u.exports=function(h,p,v,y,S,A){var T=h._getDomain,I=o("./util"),N=I.tryCatch,D=I.errorObj,C=h._async;function L($,G,j,Z){this.constructor$($),this._promise._captureStackTrace();var M=T();this._callback=M===null?G:I.domainBind(M,G),this._preservedValues=Z===S?new Array(this.length()):null,this._limit=j,this._inFlight=0,this._queue=[],C.invoke(this._asyncInit,this,void 0)}function z($,G,j,Z){if(typeof G!="function")return v("expecting a function but got "+I.classString(G));var M=0;if(j!==void 0){if(typeof j!="object"||j===null)return h.reject(new TypeError("options argument must be an object but it is "+I.classString(j)));if(typeof j.concurrency!="number")return h.reject(new TypeError("'concurrency' must be a number but it is "+I.classString(j.concurrency)));M=j.concurrency}return new L($,G,M=typeof M=="number"&&isFinite(M)&&M>=1?M:0,Z).promise()}I.inherits(L,p),L.prototype._asyncInit=function(){this._init$(void 0,-2)},L.prototype._init=function(){},L.prototype._promiseFulfilled=function($,G){var j=this._values,Z=this.length(),M=this._preservedValues,f=this._limit;if(G<0){if(j[G=-1*G-1]=$,f>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(f>=1&&this._inFlight>=f)return j[G]=$,this._queue.push(G),!1;M!==null&&(M[G]=$);var d=this._promise,g=this._callback,m=d._boundValue();d._pushContext();var b=N(g).call(m,$,G,Z),E=d._popContext();if(A.checkForgottenReturns(b,E,M!==null?"Promise.filter":"Promise.map",d),b===D)return this._reject(b.e),!0;var k=y(b,this._promise);if(k instanceof h){var w=(k=k._target())._bitField;if((50397184&w)==0)return f>=1&&this._inFlight++,j[G]=k,k._proxy(this,-1*(G+1)),!1;if((33554432&w)==0)return(16777216&w)!=0?(this._reject(k._reason()),!0):(this._cancel(),!0);b=k._value()}j[G]=b}return++this._totalResolved>=Z&&(M!==null?this._filter(j,M):this._resolve(j),!0)},L.prototype._drainQueue=function(){for(var $=this._queue,G=this._limit,j=this._values;$.length>0&&this._inFlight<G;){if(this._isResolved())return;var Z=$.pop();this._promiseFulfilled(j[Z],Z)}},L.prototype._filter=function($,G){for(var j=G.length,Z=new Array(j),M=0,f=0;f<j;++f)$[f]&&(Z[M++]=G[f]);Z.length=M,this._resolve(Z)},L.prototype.preservedValues=function(){return this._preservedValues},h.prototype.map=function($,G){return z(this,$,G,null)},h.map=function($,G,j,Z){return z($,G,j,Z)}}},{"./util":36}],19:[function(o,u,l){"use strict";u.exports=function(h,p,v,y,S){var A=o("./util"),T=A.tryCatch;h.method=function(I){if(typeof I!="function")throw new h.TypeError("expecting a function but got "+A.classString(I));return function(){var N=new h(p);N._captureStackTrace(),N._pushContext();var D=T(I).apply(this,arguments),C=N._popContext();return S.checkForgottenReturns(D,C,"Promise.method",N),N._resolveFromSyncValue(D),N}},h.attempt=h.try=function(I){if(typeof I!="function")return y("expecting a function but got "+A.classString(I));var N,D=new h(p);if(D._captureStackTrace(),D._pushContext(),arguments.length>1){S.deprecated("calling Promise.try with more than 1 argument");var C=arguments[1],L=arguments[2];N=A.isArray(C)?T(I).apply(L,C):T(I).call(L,C)}else N=T(I)();var z=D._popContext();return S.checkForgottenReturns(N,z,"Promise.try",D),D._resolveFromSyncValue(N),D},h.prototype._resolveFromSyncValue=function(I){I===A.errorObj?this._rejectCallback(I.e,!1):this._resolveCallback(I,!0)}}},{"./util":36}],20:[function(o,u,l){"use strict";var h=o("./util"),p=h.maybeWrapAsError,v=o("./errors").OperationalError,y=o("./es5"),S=/^(?:name|message|stack|cause)$/;function A(T){var I;if(function(L){return L instanceof Error&&y.getPrototypeOf(L)===Error.prototype}(T)){(I=new v(T)).name=T.name,I.message=T.message,I.stack=T.stack;for(var N=y.keys(T),D=0;D<N.length;++D){var C=N[D];S.test(C)||(I[C]=T[C])}return I}return h.markAsOriginatingFromRejection(T),T}u.exports=function(T,I){return function(N,D){if(T!==null){if(N){var C=A(p(N));T._attachExtraTrace(C),T._reject(C)}else if(I){var L=[].slice.call(arguments,1);T._fulfill(L)}else T._fulfill(D);T=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(o,u,l){"use strict";u.exports=function(h){var p=o("./util"),v=h._async,y=p.tryCatch,S=p.errorObj;function A(N,D){if(!p.isArray(N))return T.call(this,N,D);var C=y(D).apply(this._boundValue(),[null].concat(N));C===S&&v.throwLater(C.e)}function T(N,D){var C=this._boundValue(),L=N===void 0?y(D).call(C,null):y(D).call(C,null,N);L===S&&v.throwLater(L.e)}function I(N,D){if(!N){var C=new Error(N+"");C.cause=N,N=C}var L=y(D).call(this._boundValue(),N);L===S&&v.throwLater(L.e)}h.prototype.asCallback=h.prototype.nodeify=function(N,D){if(typeof N=="function"){var C=T;D!==void 0&&Object(D).spread&&(C=A),this._then(C,I,void 0,this,N)}return this}}},{"./util":36}],22:[function(o,u,l){"use strict";u.exports=function(){var h=function(){return new L(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},p=function(){return new c.PromiseInspection(this._target())},v=function(F){return c.reject(new L(F))};function y(){}var S,A={},T=o("./util");S=T.isNode?function(){var F=n.domain;return F===void 0&&(F=null),F}:function(){return null},T.notEnumerableProp(c,"_getDomain",S);var I=o("./es5"),N=o("./async"),D=new N;I.defineProperty(c,"_async",{value:D});var C=o("./errors"),L=c.TypeError=C.TypeError;c.RangeError=C.RangeError;var z=c.CancellationError=C.CancellationError;c.TimeoutError=C.TimeoutError,c.OperationalError=C.OperationalError,c.RejectionError=C.OperationalError,c.AggregateError=C.AggregateError;var $=function(){},G={},j={},Z=o("./thenables")(c,$),M=o("./promise_array")(c,$,Z,v,y),f=o("./context")(c),d=f.create,g=o("./debuggability")(c,f),m=(g.CapturedTrace,o("./finally")(c,Z,j)),b=o("./catch_filter")(j),E=o("./nodeback"),k=T.errorObj,w=T.tryCatch;function c(F){F!==$&&function(U,H){if(U==null||U.constructor!==c)throw new L(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof H!="function")throw new L("expecting a function but got "+T.classString(H))}(this,F),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(F),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function _(F){this.promise._resolveCallback(F)}function R(F){this.promise._rejectCallback(F,!1)}function O(F){var U=new c($);U._fulfillmentHandler0=F,U._rejectionHandler0=F,U._promise0=F,U._receiver0=F}return c.prototype.toString=function(){return"[object Promise]"},c.prototype.caught=c.prototype.catch=function(F){var U=arguments.length;if(U>1){var H,J=new Array(U-1),fe=0;for(H=0;H<U-1;++H){var B=arguments[H];if(!T.isObject(B))return v("Catch statement predicate: expecting an object but got "+T.classString(B));J[fe++]=B}return J.length=fe,F=arguments[H],this.then(void 0,b(J,F,this))}return this.then(void 0,F)},c.prototype.reflect=function(){return this._then(p,p,void 0,this,void 0)},c.prototype.then=function(F,U){if(g.warnings()&&arguments.length>0&&typeof F!="function"&&typeof U!="function"){var H=".then() only accepts functions but was passed: "+T.classString(F);arguments.length>1&&(H+=", "+T.classString(U)),this._warn(H)}return this._then(F,U,void 0,void 0,void 0)},c.prototype.done=function(F,U){this._then(F,U,void 0,void 0,void 0)._setIsFinal()},c.prototype.spread=function(F){return typeof F!="function"?v("expecting a function but got "+T.classString(F)):this.all()._then(F,void 0,void 0,G,void 0)},c.prototype.toJSON=function(){var F={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(F.fulfillmentValue=this.value(),F.isFulfilled=!0):this.isRejected()&&(F.rejectionReason=this.reason(),F.isRejected=!0),F},c.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new M(this).promise()},c.prototype.error=function(F){return this.caught(T.originatesFromRejection,F)},c.getNewLibraryCopy=u.exports,c.is=function(F){return F instanceof c},c.fromNode=c.fromCallback=function(F){var U=new c($);U._captureStackTrace();var H=arguments.length>1&&!!Object(arguments[1]).multiArgs,J=w(F)(E(U,H));return J===k&&U._rejectCallback(J.e,!0),U._isFateSealed()||U._setAsyncGuaranteed(),U},c.all=function(F){return new M(F).promise()},c.cast=function(F){var U=Z(F);return U instanceof c||((U=new c($))._captureStackTrace(),U._setFulfilled(),U._rejectionHandler0=F),U},c.resolve=c.fulfilled=c.cast,c.reject=c.rejected=function(F){var U=new c($);return U._captureStackTrace(),U._rejectCallback(F,!0),U},c.setScheduler=function(F){if(typeof F!="function")throw new L("expecting a function but got "+T.classString(F));return D.setScheduler(F)},c.prototype._then=function(F,U,H,J,fe){var B=fe!==void 0,q=B?fe:new c($),Y=this._target(),X=Y._bitField;B||(q._propagateFrom(this,3),q._captureStackTrace(),J===void 0&&(2097152&this._bitField)!=0&&(J=(50397184&X)!=0?this._boundValue():Y===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,q));var Q=S();if((50397184&X)!=0){var be,ue,me=Y._settlePromiseCtx;(33554432&X)!=0?(ue=Y._rejectionHandler0,be=F):(16777216&X)!=0?(ue=Y._fulfillmentHandler0,be=U,Y._unsetRejectionIsUnhandled()):(me=Y._settlePromiseLateCancellationObserver,ue=new z("late cancellation observer"),Y._attachExtraTrace(ue),be=U),D.invoke(me,Y,{handler:Q===null?be:typeof be=="function"&&T.domainBind(Q,be),promise:q,receiver:J,value:ue})}else Y._addCallbacks(F,U,q,J,Q);return q},c.prototype._length=function(){return 65535&this._bitField},c.prototype._isFateSealed=function(){return(117506048&this._bitField)!=0},c.prototype._isFollowing=function(){return(67108864&this._bitField)==67108864},c.prototype._setLength=function(F){this._bitField=-65536&this._bitField|65535&F},c.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},c.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},c.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},c.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},c.prototype._isFinal=function(){return(4194304&this._bitField)>0},c.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},c.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},c.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},c.prototype._setAsyncGuaranteed=function(){D.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},c.prototype._receiverAt=function(F){var U=F===0?this._receiver0:this[4*F-4+3];if(U!==A)return U===void 0&&this._isBound()?this._boundValue():U},c.prototype._promiseAt=function(F){return this[4*F-4+2]},c.prototype._fulfillmentHandlerAt=function(F){return this[4*F-4+0]},c.prototype._rejectionHandlerAt=function(F){return this[4*F-4+1]},c.prototype._boundValue=function(){},c.prototype._migrateCallback0=function(F){F._bitField;var U=F._fulfillmentHandler0,H=F._rejectionHandler0,J=F._promise0,fe=F._receiverAt(0);fe===void 0&&(fe=A),this._addCallbacks(U,H,J,fe,null)},c.prototype._migrateCallbackAt=function(F,U){var H=F._fulfillmentHandlerAt(U),J=F._rejectionHandlerAt(U),fe=F._promiseAt(U),B=F._receiverAt(U);B===void 0&&(B=A),this._addCallbacks(H,J,fe,B,null)},c.prototype._addCallbacks=function(F,U,H,J,fe){var B=this._length();if(B>=65531&&(B=0,this._setLength(0)),B===0)this._promise0=H,this._receiver0=J,typeof F=="function"&&(this._fulfillmentHandler0=fe===null?F:T.domainBind(fe,F)),typeof U=="function"&&(this._rejectionHandler0=fe===null?U:T.domainBind(fe,U));else{var q=4*B-4;this[q+2]=H,this[q+3]=J,typeof F=="function"&&(this[q+0]=fe===null?F:T.domainBind(fe,F)),typeof U=="function"&&(this[q+1]=fe===null?U:T.domainBind(fe,U))}return this._setLength(B+1),B},c.prototype._proxy=function(F,U){this._addCallbacks(void 0,void 0,U,F,null)},c.prototype._resolveCallback=function(F,U){if((117506048&this._bitField)==0){if(F===this)return this._rejectCallback(h(),!1);var H=Z(F,this);if(!(H instanceof c))return this._fulfill(F);U&&this._propagateFrom(H,2);var J=H._target();if(J!==this){var fe=J._bitField;if((50397184&fe)==0){var B=this._length();B>0&&J._migrateCallback0(this);for(var q=1;q<B;++q)J._migrateCallbackAt(this,q);this._setFollowing(),this._setLength(0),this._setFollowee(J)}else if((33554432&fe)!=0)this._fulfill(J._value());else if((16777216&fe)!=0)this._reject(J._reason());else{var Y=new z("late cancellation observer");J._attachExtraTrace(Y),this._reject(Y)}}else this._reject(h())}},c.prototype._rejectCallback=function(F,U,H){var J=T.ensureErrorObject(F),fe=J===F;if(!fe&&!H&&g.warnings()){var B="a promise was rejected with a non-error: "+T.classString(F);this._warn(B,!0)}this._attachExtraTrace(J,!!U&&fe),this._reject(F)},c.prototype._resolveFromExecutor=function(F){if(F!==$){var U=this;this._captureStackTrace(),this._pushContext();var H=!0,J=this._execute(F,function(fe){U._resolveCallback(fe)},function(fe){U._rejectCallback(fe,H)});H=!1,this._popContext(),J!==void 0&&U._rejectCallback(J,!0)}},c.prototype._settlePromiseFromHandler=function(F,U,H,J){var fe=J._bitField;if((65536&fe)==0){var B;J._pushContext(),U===G?H&&typeof H.length=="number"?B=w(F).apply(this._boundValue(),H):(B=k).e=new L("cannot .spread() a non-array: "+T.classString(H)):B=w(F).call(U,H);var q=J._popContext();(65536&(fe=J._bitField))==0&&(B===j?J._reject(H):B===k?J._rejectCallback(B.e,!1):(g.checkForgottenReturns(B,q,"",J,this),J._resolveCallback(B)))}},c.prototype._target=function(){for(var F=this;F._isFollowing();)F=F._followee();return F},c.prototype._followee=function(){return this._rejectionHandler0},c.prototype._setFollowee=function(F){this._rejectionHandler0=F},c.prototype._settlePromise=function(F,U,H,J){var fe=F instanceof c,B=this._bitField,q=(134217728&B)!=0;(65536&B)!=0?(fe&&F._invokeInternalOnCancel(),H instanceof m&&H.isFinallyHandler()?(H.cancelPromise=F,w(U).call(H,J)===k&&F._reject(k.e)):U===p?F._fulfill(p.call(H)):H instanceof y?H._promiseCancelled(F):fe||F instanceof M?F._cancel():H.cancel()):typeof U=="function"?fe?(q&&F._setAsyncGuaranteed(),this._settlePromiseFromHandler(U,H,J,F)):U.call(H,J,F):H instanceof y?H._isResolved()||((33554432&B)!=0?H._promiseFulfilled(J,F):H._promiseRejected(J,F)):fe&&(q&&F._setAsyncGuaranteed(),(33554432&B)!=0?F._fulfill(J):F._reject(J))},c.prototype._settlePromiseLateCancellationObserver=function(F){var U=F.handler,H=F.promise,J=F.receiver,fe=F.value;typeof U=="function"?H instanceof c?this._settlePromiseFromHandler(U,J,fe,H):U.call(J,fe,H):H instanceof c&&H._reject(fe)},c.prototype._settlePromiseCtx=function(F){this._settlePromise(F.promise,F.handler,F.receiver,F.value)},c.prototype._settlePromise0=function(F,U,H){var J=this._promise0,fe=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(J,F,fe,U)},c.prototype._clearCallbackDataAtIndex=function(F){var U=4*F-4;this[U+2]=this[U+3]=this[U+0]=this[U+1]=void 0},c.prototype._fulfill=function(F){var U=this._bitField;if(!((117506048&U)>>>16)){if(F===this){var H=h();return this._attachExtraTrace(H),this._reject(H)}this._setFulfilled(),this._rejectionHandler0=F,(65535&U)>0&&((134217728&U)!=0?this._settlePromises():D.settlePromises(this))}},c.prototype._reject=function(F){var U=this._bitField;if(!((117506048&U)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=F,this._isFinal())return D.fatalError(F,T.isNode);(65535&U)>0?D.settlePromises(this):this._ensurePossibleRejectionHandled()}},c.prototype._fulfillPromises=function(F,U){for(var H=1;H<F;H++){var J=this._fulfillmentHandlerAt(H),fe=this._promiseAt(H),B=this._receiverAt(H);this._clearCallbackDataAtIndex(H),this._settlePromise(fe,J,B,U)}},c.prototype._rejectPromises=function(F,U){for(var H=1;H<F;H++){var J=this._rejectionHandlerAt(H),fe=this._promiseAt(H),B=this._receiverAt(H);this._clearCallbackDataAtIndex(H),this._settlePromise(fe,J,B,U)}},c.prototype._settlePromises=function(){var F=this._bitField,U=65535&F;if(U>0){if((16842752&F)!=0){var H=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,H,F),this._rejectPromises(U,H)}else{var J=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,J,F),this._fulfillPromises(U,J)}this._setLength(0)}this._clearCancellationData()},c.prototype._settledValue=function(){var F=this._bitField;return(33554432&F)!=0?this._rejectionHandler0:(16777216&F)!=0?this._fulfillmentHandler0:void 0},c.defer=c.pending=function(){return g.deprecated("Promise.defer","new Promise"),{promise:new c($),resolve:_,reject:R}},T.notEnumerableProp(c,"_makeSelfResolutionError",h),o("./method")(c,$,Z,v,g),o("./bind")(c,$,Z,g),o("./cancel")(c,M,v,g),o("./direct_resolve")(c),o("./synchronous_inspection")(c),o("./join")(c,M,Z,$,D,S),c.Promise=c,c.version="3.5.1",o("./map.js")(c,M,v,Z,$,g),o("./call_get.js")(c),o("./using.js")(c,v,Z,d,$,g),o("./timers.js")(c,$,g),o("./generators.js")(c,v,$,Z,y,g),o("./nodeify.js")(c),o("./promisify.js")(c,$),o("./props.js")(c,M,Z,v),o("./race.js")(c,$,Z,v),o("./reduce.js")(c,M,v,Z,$,g),o("./settle.js")(c,M,g),o("./some.js")(c,M,v),o("./filter.js")(c,$),o("./each.js")(c,$),o("./any.js")(c),T.toFastProperties(c),T.toFastProperties(c.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new c($)),g.setBounds(N.firstLineError,T.lastLineError),c}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(o,u,l){"use strict";u.exports=function(h,p,v,y,S){var A=o("./util");function T(I){var N=this._promise=new h(p);I instanceof h&&N._propagateFrom(I,3),N._setOnCancel(this),this._values=I,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return A.isArray,A.inherits(T,S),T.prototype.length=function(){return this._length},T.prototype.promise=function(){return this._promise},T.prototype._init=function I(N,D){var C=v(this._values,this._promise);if(C instanceof h){var L=(C=C._target())._bitField;if(this._values=C,(50397184&L)==0)return this._promise._setAsyncGuaranteed(),C._then(I,this._reject,void 0,this,D);if((33554432&L)==0)return(16777216&L)!=0?this._reject(C._reason()):this._cancel();C=C._value()}if((C=A.asArray(C))!==null)C.length!==0?this._iterate(C):D===-5?this._resolveEmptyArray():this._resolve(function($){switch(D){case-2:return[];case-3:return{};case-6:return new Map}}());else{var z=y("expecting an array or an iterable object but got "+A.classString(C)).reason();this._promise._rejectCallback(z,!1)}},T.prototype._iterate=function(I){var N=this.getActualLength(I.length);this._length=N,this._values=this.shouldCopyValues()?new Array(N):this._values;for(var D=this._promise,C=!1,L=null,z=0;z<N;++z){var $=v(I[z],D);L=$ instanceof h?($=$._target())._bitField:null,C?L!==null&&$.suppressUnhandledRejections():L!==null?(50397184&L)==0?($._proxy(this,z),this._values[z]=$):C=(33554432&L)!=0?this._promiseFulfilled($._value(),z):(16777216&L)!=0?this._promiseRejected($._reason(),z):this._promiseCancelled(z):C=this._promiseFulfilled($,z)}C||D._setAsyncGuaranteed()},T.prototype._isResolved=function(){return this._values===null},T.prototype._resolve=function(I){this._values=null,this._promise._fulfill(I)},T.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},T.prototype._reject=function(I){this._values=null,this._promise._rejectCallback(I,!1)},T.prototype._promiseFulfilled=function(I,N){return this._values[N]=I,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},T.prototype._promiseCancelled=function(){return this._cancel(),!0},T.prototype._promiseRejected=function(I){return this._totalResolved++,this._reject(I),!0},T.prototype._resultCancelled=function(){if(!this._isResolved()){var I=this._values;if(this._cancel(),I instanceof h)I.cancel();else for(var N=0;N<I.length;++N)I[N]instanceof h&&I[N].cancel()}},T.prototype.shouldCopyValues=function(){return!0},T.prototype.getActualLength=function(I){return I},T}},{"./util":36}],24:[function(o,u,l){"use strict";u.exports=function(h,p){var v={},y=o("./util"),S=o("./nodeback"),A=y.withAppended,T=y.maybeWrapAsError,I=y.canEvaluate,N=o("./errors").TypeError,D={__isPromisified__:!0},C=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),L=function(d){return y.isIdentifier(d)&&d.charAt(0)!=="_"&&d!=="constructor"};function z(d){return!C.test(d)}function $(d){try{return d.__isPromisified__===!0}catch(g){return!1}}function G(d,g,m){var b=y.getDataPropertyOrDefault(d,g+m,D);return!!b&&$(b)}function j(d,g,m,b){for(var E=y.inheritedDataKeys(d),k=[],w=0;w<E.length;++w){var c=E[w],_=d[c],R=b===L||L(c,_,d);typeof _!="function"||$(_)||G(d,c,g)||!b(c,_,d,R)||k.push(c,_)}return function(O,F,U){for(var H=0;H<O.length;H+=2){var J=O[H];if(U.test(J)){for(var fe=J.replace(U,""),B=0;B<O.length;B+=2)if(O[B]===fe)throw new N(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",F))}}}(k,g,m),k}var Z=function(d){return d.replace(/([$])/,"\\$")},M=I?void 0:function(d,g,m,b,E,k){var w=function(){return this}(),c=d;function _(){var R=g;g===v&&(R=this);var O=new h(p);O._captureStackTrace();var F=typeof c=="string"&&this!==w?this[c]:d,U=S(O,k);try{F.apply(R,A(arguments,U))}catch(H){O._rejectCallback(T(H),!0,!0)}return O._isFateSealed()||O._setAsyncGuaranteed(),O}return typeof c=="string"&&(d=b),y.notEnumerableProp(_,"__isPromisified__",!0),_};function f(d,g,m,b,E){for(var k=new RegExp(Z(g)+"$"),w=j(d,g,k,m),c=0,_=w.length;c<_;c+=2){var R=w[c],O=w[c+1],F=R+g;if(b===M)d[F]=M(R,v,R,O,g,E);else{var U=b(O,function(){return M(R,v,R,O,g,E)});y.notEnumerableProp(U,"__isPromisified__",!0),d[F]=U}}return y.toFastProperties(d),d}h.promisify=function(d,g){if(typeof d!="function")throw new N("expecting a function but got "+y.classString(d));if($(d))return d;var m=(g=Object(g)).context===void 0?v:g.context,b=!!g.multiArgs,E=function(k,w,c){return M(k,w,void 0,k,null,b)}(d,m);return y.copyDescriptors(d,E,z),E},h.promisifyAll=function(d,g){if(typeof d!="function"&&typeof d!="object")throw new N(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);var m=!!(g=Object(g)).multiArgs,b=g.suffix;typeof b!="string"&&(b="Async");var E=g.filter;typeof E!="function"&&(E=L);var k=g.promisifier;if(typeof k!="function"&&(k=M),!y.isIdentifier(b))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var w=y.inheritedDataKeys(d),c=0;c<w.length;++c){var _=d[w[c]];w[c]!=="constructor"&&y.isClass(_)&&(f(_.prototype,b,E,k,m),f(_,b,E,k,m))}return f(d,b,E,k,m)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(o,u,l){"use strict";u.exports=function(h,p,v,y){var S,A=o("./util"),T=A.isObject,I=o("./es5");typeof Map=="function"&&(S=Map);var N=function(){var L=0,z=0;function $(G,j){this[L]=G,this[L+z]=j,L++}return function(G){z=G.size,L=0;var j=new Array(2*G.size);return G.forEach($,j),j}}();function D(L){var z,$=!1;if(S!==void 0&&L instanceof S)z=N(L),$=!0;else{var G=I.keys(L),j=G.length;z=new Array(2*j);for(var Z=0;Z<j;++Z){var M=G[Z];z[Z]=L[M],z[Z+j]=M}}this.constructor$(z),this._isMap=$,this._init$(void 0,$?-6:-3)}function C(L){var z,$=v(L);return T($)?(z=$ instanceof h?$._then(h.props,void 0,void 0,void 0,void 0):new D($).promise(),$ instanceof h&&z._propagateFrom($,2),z):y(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`)}A.inherits(D,p),D.prototype._init=function(){},D.prototype._promiseFulfilled=function(L,z){if(this._values[z]=L,++this._totalResolved>=this._length){var $;if(this._isMap)$=function(M){for(var f=new S,d=M.length/2|0,g=0;g<d;++g){var m=M[d+g],b=M[g];f.set(m,b)}return f}(this._values);else{$={};for(var G=this.length(),j=0,Z=this.length();j<Z;++j)$[this._values[j+G]]=this._values[j]}return this._resolve($),!0}return!1},D.prototype.shouldCopyValues=function(){return!1},D.prototype.getActualLength=function(L){return L>>1},h.prototype.props=function(){return C(this)},h.props=function(L){return C(L)}}},{"./es5":13,"./util":36}],26:[function(o,u,l){"use strict";function h(p){this._capacity=p,this._length=0,this._front=0}h.prototype._willBeOverCapacity=function(p){return this._capacity<p},h.prototype._pushOne=function(p){var v=this.length();this._checkCapacity(v+1),this[this._front+v&this._capacity-1]=p,this._length=v+1},h.prototype.push=function(p,v,y){var S=this.length()+3;if(this._willBeOverCapacity(S))return this._pushOne(p),this._pushOne(v),void this._pushOne(y);var A=this._front+S-3;this._checkCapacity(S);var T=this._capacity-1;this[A+0&T]=p,this[A+1&T]=v,this[A+2&T]=y,this._length=S},h.prototype.shift=function(){var p=this._front,v=this[p];return this[p]=void 0,this._front=p+1&this._capacity-1,this._length--,v},h.prototype.length=function(){return this._length},h.prototype._checkCapacity=function(p){this._capacity<p&&this._resizeTo(this._capacity<<1)},h.prototype._resizeTo=function(p){var v=this._capacity;this._capacity=p,function(y,S,A,T,I){for(var N=0;N<I;++N)A[N+T]=y[N+0],y[N+0]=void 0}(this,0,this,v,this._front+this._length&v-1)},u.exports=h},{}],27:[function(o,u,l){"use strict";u.exports=function(h,p,v,y){var S=o("./util"),A=function(I){return I.then(function(N){return T(N,I)})};function T(I,N){var D=v(I);if(D instanceof h)return A(D);if((I=S.asArray(I))===null)return y("expecting an array or an iterable object but got "+S.classString(I));var C=new h(p);N!==void 0&&C._propagateFrom(N,3);for(var L=C._fulfill,z=C._reject,$=0,G=I.length;$<G;++$){var j=I[$];(j!==void 0||$ in I)&&h.cast(j)._then(L,z,void 0,C,null)}return C}h.race=function(I){return T(I,void 0)},h.prototype.race=function(){return T(this,void 0)}}},{"./util":36}],28:[function(o,u,l){"use strict";u.exports=function(h,p,v,y,S,A){var T=h._getDomain,I=o("./util"),N=I.tryCatch;function D(G,j,Z,M){this.constructor$(G);var f=T();this._fn=f===null?j:I.domainBind(f,j),Z!==void 0&&(Z=h.resolve(Z))._attachCancellationCallback(this),this._initialValue=Z,this._currentCancellable=null,this._eachValues=M===S?Array(this._length):M===0?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function C(G,j){this.isFulfilled()?j._resolve(G):j._reject(G)}function L(G,j,Z,M){return typeof j!="function"?v("expecting a function but got "+I.classString(j)):new D(G,j,Z,M).promise()}function z(G){this.accum=G,this.array._gotAccum(G);var j=y(this.value,this.array._promise);return j instanceof h?(this.array._currentCancellable=j,j._then($,void 0,void 0,this,void 0)):$.call(this,j)}function $(G){var j,Z=this.array,M=Z._promise,f=N(Z._fn);M._pushContext(),(j=Z._eachValues!==void 0?f.call(M._boundValue(),G,this.index,this.length):f.call(M._boundValue(),this.accum,G,this.index,this.length))instanceof h&&(Z._currentCancellable=j);var d=M._popContext();return A.checkForgottenReturns(j,d,Z._eachValues!==void 0?"Promise.each":"Promise.reduce",M),j}I.inherits(D,p),D.prototype._gotAccum=function(G){this._eachValues!==void 0&&this._eachValues!==null&&G!==S&&this._eachValues.push(G)},D.prototype._eachComplete=function(G){return this._eachValues!==null&&this._eachValues.push(G),this._eachValues},D.prototype._init=function(){},D.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},D.prototype.shouldCopyValues=function(){return!1},D.prototype._resolve=function(G){this._promise._resolveCallback(G),this._values=null},D.prototype._resultCancelled=function(G){if(G===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof h&&this._currentCancellable.cancel(),this._initialValue instanceof h&&this._initialValue.cancel())},D.prototype._iterate=function(G){var j,Z;this._values=G;var M=G.length;if(this._initialValue!==void 0?(j=this._initialValue,Z=0):(j=h.resolve(G[0]),Z=1),this._currentCancellable=j,!j.isRejected())for(;Z<M;++Z){var f={accum:null,value:G[Z],index:Z,length:M,array:this};j=j._then(z,void 0,void 0,f,void 0)}this._eachValues!==void 0&&(j=j._then(this._eachComplete,void 0,void 0,this,void 0)),j._then(C,C,void 0,j,this)},h.prototype.reduce=function(G,j){return L(this,G,j,null)},h.reduce=function(G,j,Z,M){return L(G,j,Z,M)}}},{"./util":36}],29:[function(o,u,l){"use strict";var h,p=o("./util"),v=p.getNativePromise();if(p.isNode&&typeof MutationObserver=="undefined"){var y=a.setImmediate,S=n.nextTick;h=p.isRecentNode?function(T){y.call(a,T)}:function(T){S.call(n,T)}}else if(typeof v=="function"&&typeof v.resolve=="function"){var A=v.resolve();h=function(T){A.then(T)}}else h=typeof MutationObserver=="undefined"||typeof window!="undefined"&&window.navigator&&(window.navigator.standalone||window.cordova)?s!==void 0?function(T){s(T)}:typeof setTimeout!="undefined"?function(T){setTimeout(T,0)}:function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}:function(){var T=document.createElement("div"),I={attributes:!0},N=!1,D=document.createElement("div");return new MutationObserver(function(){T.classList.toggle("foo"),N=!1}).observe(D,I),function(C){var L=new MutationObserver(function(){L.disconnect(),C()});L.observe(T,I),N||(N=!0,D.classList.toggle("foo"))}}();u.exports=h},{"./util":36}],30:[function(o,u,l){"use strict";u.exports=function(h,p,v){var y=h.PromiseInspection;function S(A){this.constructor$(A)}o("./util").inherits(S,p),S.prototype._promiseResolved=function(A,T){return this._values[A]=T,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},S.prototype._promiseFulfilled=function(A,T){var I=new y;return I._bitField=33554432,I._settledValueField=A,this._promiseResolved(T,I)},S.prototype._promiseRejected=function(A,T){var I=new y;return I._bitField=16777216,I._settledValueField=A,this._promiseResolved(T,I)},h.settle=function(A){return v.deprecated(".settle()",".reflect()"),new S(A).promise()},h.prototype.settle=function(){return h.settle(this)}}},{"./util":36}],31:[function(o,u,l){"use strict";u.exports=function(h,p,v){var y=o("./util"),S=o("./errors").RangeError,A=o("./errors").AggregateError,T=y.isArray,I={};function N(C){this.constructor$(C),this._howMany=0,this._unwrap=!1,this._initialized=!1}function D(C,L){if((0|L)!==L||L<0)return v(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var z=new N(C),$=z.promise();return z.setHowMany(L),z.init(),$}y.inherits(N,p),N.prototype._init=function(){if(this._initialized)if(this._howMany!==0){this._init$(void 0,-5);var C=T(this._values);!this._isResolved()&&C&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},N.prototype.init=function(){this._initialized=!0,this._init()},N.prototype.setUnwrap=function(){this._unwrap=!0},N.prototype.howMany=function(){return this._howMany},N.prototype.setHowMany=function(C){this._howMany=C},N.prototype._promiseFulfilled=function(C){return this._addFulfilled(C),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},N.prototype._promiseRejected=function(C){return this._addRejected(C),this._checkOutcome()},N.prototype._promiseCancelled=function(){return this._values instanceof h||this._values==null?this._cancel():(this._addRejected(I),this._checkOutcome())},N.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var C=new A,L=this.length();L<this._values.length;++L)this._values[L]!==I&&C.push(this._values[L]);return C.length>0?this._reject(C):this._cancel(),!0}return!1},N.prototype._fulfilled=function(){return this._totalResolved},N.prototype._rejected=function(){return this._values.length-this.length()},N.prototype._addRejected=function(C){this._values.push(C)},N.prototype._addFulfilled=function(C){this._values[this._totalResolved++]=C},N.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},N.prototype._getRangeError=function(C){var L="Input array must contain at least "+this._howMany+" items but contains only "+C+" items";return new S(L)},N.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},h.some=function(C,L){return D(C,L)},h.prototype.some=function(C){return D(this,C)},h._SomePromiseArray=N}},{"./errors":12,"./util":36}],32:[function(o,u,l){"use strict";u.exports=function(h){function p(N){N!==void 0?(N=N._target(),this._bitField=N._bitField,this._settledValueField=N._isFateSealed()?N._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}p.prototype._settledValue=function(){return this._settledValueField};var v=p.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},y=p.prototype.error=p.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},S=p.prototype.isFulfilled=function(){return(33554432&this._bitField)!=0},A=p.prototype.isRejected=function(){return(16777216&this._bitField)!=0},T=p.prototype.isPending=function(){return(50397184&this._bitField)==0},I=p.prototype.isResolved=function(){return(50331648&this._bitField)!=0};p.prototype.isCancelled=function(){return(8454144&this._bitField)!=0},h.prototype.__isCancelled=function(){return(65536&this._bitField)==65536},h.prototype._isCancelled=function(){return this._target().__isCancelled()},h.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!=0},h.prototype.isPending=function(){return T.call(this._target())},h.prototype.isRejected=function(){return A.call(this._target())},h.prototype.isFulfilled=function(){return S.call(this._target())},h.prototype.isResolved=function(){return I.call(this._target())},h.prototype.value=function(){return v.call(this._target())},h.prototype.reason=function(){var N=this._target();return N._unsetRejectionIsUnhandled(),y.call(N)},h.prototype._value=function(){return this._settledValue()},h.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},h.PromiseInspection=p}},{}],33:[function(o,u,l){"use strict";u.exports=function(h,p){var v=o("./util"),y=v.errorObj,S=v.isObject,A={}.hasOwnProperty;return function(T,I){if(S(T)){if(T instanceof h)return T;var N=function(C){try{return function(L){return L.then}(C)}catch(L){return y.e=L,y}}(T);if(N===y){I&&I._pushContext();var D=h.reject(N.e);return I&&I._popContext(),D}if(typeof N=="function")return function(C){try{return A.call(C,"_promise0")}catch(L){return!1}}(T)?(D=new h(p),T._then(D._fulfill,D._reject,void 0,D,null),D):function(C,L,z){var $=new h(p),G=$;z&&z._pushContext(),$._captureStackTrace(),z&&z._popContext();var j=!0,Z=v.tryCatch(L).call(C,function(M){$&&($._resolveCallback(M),$=null)},function(M){$&&($._rejectCallback(M,j,!0),$=null)});return j=!1,$&&Z===y&&($._rejectCallback(Z.e,!0,!0),$=null),G}(T,N,I)}return T}}},{"./util":36}],34:[function(o,u,l){"use strict";u.exports=function(h,p,v){var y=o("./util"),S=h.TimeoutError;function A(C){this.handle=C}A.prototype._resultCancelled=function(){clearTimeout(this.handle)};var T=function(C){return I(+this).thenReturn(C)},I=h.delay=function(C,L){var z,$;return L!==void 0?(z=h.resolve(L)._then(T,null,null,C,void 0),v.cancellation()&&L instanceof h&&z._setOnCancel(L)):(z=new h(p),$=setTimeout(function(){z._fulfill()},+C),v.cancellation()&&z._setOnCancel(new A($)),z._captureStackTrace()),z._setAsyncGuaranteed(),z};function N(C){return clearTimeout(this.handle),C}function D(C){throw clearTimeout(this.handle),C}h.prototype.delay=function(C){return I(C,this)},h.prototype.timeout=function(C,L){var z,$;C=+C;var G=new A(setTimeout(function(){z.isPending()&&function(j,Z,M){var f;f=typeof Z!="string"?Z instanceof Error?Z:new S("operation timed out"):new S(Z),y.markAsOriginatingFromRejection(f),j._attachExtraTrace(f),j._reject(f),M!=null&&M.cancel()}(z,L,$)},C));return v.cancellation()?($=this.then(),(z=$._then(N,D,void 0,G,void 0))._setOnCancel(G)):z=this._then(N,D,void 0,G,void 0),z}}},{"./util":36}],35:[function(o,u,l){"use strict";u.exports=function(h,p,v,y,S,A){var T=o("./util"),I=o("./errors").TypeError,N=o("./util").inherits,D=T.errorObj,C=T.tryCatch,L={};function z(f){setTimeout(function(){throw f},0)}function $(f,d){var g=0,m=f.length,b=new h(S);return function E(){if(g>=m)return b._fulfill();var k=function(w){var c=v(w);return c!==w&&typeof w._isDisposable=="function"&&typeof w._getDisposer=="function"&&w._isDisposable()&&c._setDisposable(w._getDisposer()),c}(f[g++]);if(k instanceof h&&k._isDisposable()){try{k=v(k._getDisposer().tryDispose(d),f.promise)}catch(w){return z(w)}if(k instanceof h)return k._then(E,z,null,null,null)}E()}(),b}function G(f,d,g){this._data=f,this._promise=d,this._context=g}function j(f,d,g){this.constructor$(f,d,g)}function Z(f){return G.isDisposer(f)?(this.resources[this.index]._setDisposable(f),f.promise()):f}function M(f){this.length=f,this.promise=null,this[f-1]=null}G.prototype.data=function(){return this._data},G.prototype.promise=function(){return this._promise},G.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():L},G.prototype.tryDispose=function(f){var d=this.resource(),g=this._context;g!==void 0&&g._pushContext();var m=d!==L?this.doDispose(d,f):null;return g!==void 0&&g._popContext(),this._promise._unsetDisposable(),this._data=null,m},G.isDisposer=function(f){return f!=null&&typeof f.resource=="function"&&typeof f.tryDispose=="function"},N(j,G),j.prototype.doDispose=function(f,d){return this.data().call(f,f,d)},M.prototype._resultCancelled=function(){for(var f=this.length,d=0;d<f;++d){var g=this[d];g instanceof h&&g.cancel()}},h.using=function(){var f=arguments.length;if(f<2)return p("you must pass at least 2 arguments to Promise.using");var d,g=arguments[f-1];if(typeof g!="function")return p("expecting a function but got "+T.classString(g));var m=!0;f===2&&Array.isArray(arguments[0])?(f=(d=arguments[0]).length,m=!1):(d=arguments,f--);for(var b=new M(f),E=0;E<f;++E){var k=d[E];if(G.isDisposer(k)){var w=k;(k=k.promise())._setDisposable(w)}else{var c=v(k);c instanceof h&&(k=c._then(Z,null,null,{resources:b,index:E},void 0))}b[E]=k}var _=new Array(b.length);for(E=0;E<_.length;++E)_[E]=h.resolve(b[E]).reflect();var R=h.all(_).then(function(F){for(var U=0;U<F.length;++U){var H=F[U];if(H.isRejected())return D.e=H.error(),D;if(!H.isFulfilled())return void R.cancel();F[U]=H.value()}O._pushContext(),g=C(g);var J=m?g.apply(void 0,F):g(F),fe=O._popContext();return A.checkForgottenReturns(J,fe,"Promise.using",O),J}),O=R.lastly(function(){var F=new h.PromiseInspection(R);return $(b,F)});return b.promise=O,O._setOnCancel(b),O},h.prototype._setDisposable=function(f){this._bitField=131072|this._bitField,this._disposer=f},h.prototype._isDisposable=function(){return(131072&this._bitField)>0},h.prototype._getDisposer=function(){return this._disposer},h.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},h.prototype.disposer=function(f){if(typeof f=="function")return new j(f,this,y());throw new I}}},{"./errors":12,"./util":36}],36:[function(o,u,l){"use strict";var h,p=o("./es5"),v=typeof navigator=="undefined",y={e:{}},S=typeof self!="undefined"?self:typeof window!="undefined"?window:a!==void 0?a:this!==void 0?this:null;function A(){try{var m=h;return h=null,m.apply(this,arguments)}catch(b){return y.e=b,y}}function T(m){return m==null||m===!0||m===!1||typeof m=="string"||typeof m=="number"}function I(m,b,E){if(T(m))return m;var k={value:E,configurable:!0,enumerable:!1,writable:!0};return p.defineProperty(m,b,k),m}var N=function(){var m=[Array.prototype,Object.prototype,Function.prototype],b=function(w){for(var c=0;c<m.length;++c)if(m[c]===w)return!0;return!1};if(p.isES5){var E=Object.getOwnPropertyNames;return function(w){for(var c=[],_=Object.create(null);w!=null&&!b(w);){var R;try{R=E(w)}catch(H){return c}for(var O=0;O<R.length;++O){var F=R[O];if(!_[F]){_[F]=!0;var U=Object.getOwnPropertyDescriptor(w,F);U!=null&&U.get==null&&U.set==null&&c.push(F)}}w=p.getPrototypeOf(w)}return c}}var k={}.hasOwnProperty;return function(w){if(b(w))return[];var c=[];e:for(var _ in w)if(k.call(w,_))c.push(_);else{for(var R=0;R<m.length;++R)if(k.call(m[R],_))continue e;c.push(_)}return c}}(),D=/this\s*\.\s*\S+\s*=/,C=/^[a-z$_][a-z$_0-9]*$/i;function L(m){try{return m+""}catch(b){return"[no string representation]"}}function z(m){return m instanceof Error||m!==null&&typeof m=="object"&&typeof m.message=="string"&&typeof m.name=="string"}function $(m){return z(m)&&p.propertyIsWritable(m,"stack")}var G="stack"in new Error?function(m){return $(m)?m:new Error(L(m))}:function(m){if($(m))return m;try{throw new Error(L(m))}catch(b){return b}};function j(m){return{}.toString.call(m)}var Z=function(m){return p.isArray(m)?m:null};if(typeof Symbol!="undefined"&&Symbol.iterator){var M=typeof Array.from=="function"?function(m){return Array.from(m)}:function(m){for(var b,E=[],k=m[Symbol.iterator]();!(b=k.next()).done;)E.push(b.value);return E};Z=function(m){return p.isArray(m)?m:m!=null&&typeof m[Symbol.iterator]=="function"?M(m):null}}var f=n!==void 0&&j(n).toLowerCase()==="[object process]",d=n!==void 0&&n.env!==void 0,g={isClass:function(m){try{if(typeof m=="function"){var b=p.names(m.prototype),E=p.isES5&&b.length>1,k=b.length>0&&!(b.length===1&&b[0]==="constructor"),w=D.test(m+"")&&p.names(m).length>0;if(E||k||w)return!0}return!1}catch(c){return!1}},isIdentifier:function(m){return C.test(m)},inheritedDataKeys:N,getDataPropertyOrDefault:function(m,b,E){if(!p.isES5)return{}.hasOwnProperty.call(m,b)?m[b]:void 0;var k=Object.getOwnPropertyDescriptor(m,b);return k!=null?k.get==null&&k.set==null?k.value:E:void 0},thrower:function(m){throw m},isArray:p.isArray,asArray:Z,notEnumerableProp:I,isPrimitive:T,isObject:function(m){return typeof m=="function"||typeof m=="object"&&m!==null},isError:z,canEvaluate:v,errorObj:y,tryCatch:function(m){return h=m,A},inherits:function(m,b){var E={}.hasOwnProperty;function k(){for(var w in this.constructor=m,this.constructor$=b,b.prototype)E.call(b.prototype,w)&&w.charAt(w.length-1)!=="$"&&(this[w+"$"]=b.prototype[w])}return k.prototype=b.prototype,m.prototype=new k,m.prototype},withAppended:function(m,b){var E,k=m.length,w=new Array(k+1);for(E=0;E<k;++E)w[E]=m[E];return w[E]=b,w},maybeWrapAsError:function(m){return T(m)?new Error(L(m)):m},toFastProperties:function(m){function b(){}b.prototype=m;for(var E=8;E--;)new b;return m},filledRange:function(m,b,E){for(var k=new Array(m),w=0;w<m;++w)k[w]=b+w+E;return k},toString:L,canAttachTrace:$,ensureErrorObject:G,originatesFromRejection:function(m){return m!=null&&(m instanceof Error.__BluebirdErrorTypes__.OperationalError||m.isOperational===!0)},markAsOriginatingFromRejection:function(m){try{I(m,"isOperational",!0)}catch(b){}},classString:j,copyDescriptors:function(m,b,E){for(var k=p.names(m),w=0;w<k.length;++w){var c=k[w];if(E(c))try{p.defineProperty(b,c,p.getDescriptor(m,c))}catch(_){}}},hasDevTools:typeof chrome!="undefined"&&chrome&&typeof chrome.loadTimes=="function",isNode:f,hasEnvVariables:d,env:function(m){return d?n.env[m]:void 0},global:S,getNativePromise:function(){if(typeof Promise=="function")try{var m=new Promise(function(){});if({}.toString.call(m)==="[object Promise]")return Promise}catch(b){}},domainBind:function(m,b){return m.bind(b)}};g.isRecentNode=g.isNode&&function(){var m=n.versions.node.split(".").map(Number);return m[0]===0&&m[1]>10||m[0]>0}(),g.isNode&&g.toFastProperties(n);try{throw new Error}catch(m){g.lastLineError=m}u.exports=g},{"./es5":13}]},{},[4])(4),typeof window!="undefined"&&window!==null?window.P=window.Promise:typeof self!="undefined"&&self!==null&&(self.P=self.Promise)}).call(this,r(4),r(0),r(11).setImmediate)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,a){if(!a.eol&&n){for(var s=0,o=n.length;s<o;s++)if(n[s]==="\r"){if(n[s+1]===`
`){a.eol=`\r
`;break}if(n[s+1]){a.eol="\r";break}}else if(n[s]===`
`){a.eol=`
`;break}}return a.eol||`
`}},function(t,e,r){var n=r(65),a=r(73);t.exports=function(s,o){var u=a(s,o);return n(u)?u:void 0}},function(t,e,r){var n=r(19).Symbol;t.exports=n},function(t,e,r){var n=r(67),a=typeof self=="object"&&self&&self.Object===Object&&self,s=n||a||Function("return this")();t.exports=s},function(t,e){t.exports=function(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){var n=r(30),a=r(76);t.exports=function(s){return typeof s=="symbol"||a(s)&&n(s)=="[object Symbol]"}},function(t,e,r){"use strict";(function(n,a){var s=r(6);t.exports=L;var o,u=r(37);L.ReadableState=C,r(12).EventEmitter;var l=function(_,R){return _.listeners(R).length},h=r(24),p=r(7).Buffer,v=n.Uint8Array||function(){},y=r(5);y.inherits=r(2);var S=r(41),A=void 0;A=S&&S.debuglog?S.debuglog("stream"):function(){};var T,I=r(42),N=r(25);y.inherits(L,h);var D=["error","close","destroy","pause","resume"];function C(_,R){o=o||r(1),_=_||{};var O=R instanceof o;this.objectMode=!!_.objectMode,O&&(this.objectMode=this.objectMode||!!_.readableObjectMode);var F=_.highWaterMark,U=_.readableHighWaterMark,H=this.objectMode?16:16384;this.highWaterMark=F||F===0?F:O&&(U||U===0)?U:H,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new I,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=_.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_.encoding&&(T||(T=r(26).StringDecoder),this.decoder=new T(_.encoding),this.encoding=_.encoding)}function L(_){if(o=o||r(1),!(this instanceof L))return new L(_);this._readableState=new C(_,this),this.readable=!0,_&&(typeof _.read=="function"&&(this._read=_.read),typeof _.destroy=="function"&&(this._destroy=_.destroy)),h.call(this)}function z(_,R,O,F,U){var H,J=_._readableState;return R===null?(J.reading=!1,function(fe,B){if(!B.ended){if(B.decoder){var q=B.decoder.end();q&&q.length&&(B.buffer.push(q),B.length+=B.objectMode?1:q.length)}B.ended=!0,Z(fe)}}(_,J)):(U||(H=function(fe,B){var q;return function(Y){return p.isBuffer(Y)||Y instanceof v}(B)||typeof B=="string"||B===void 0||fe.objectMode||(q=new TypeError("Invalid non-string/buffer chunk")),q}(J,R)),H?_.emit("error",H):J.objectMode||R&&R.length>0?(typeof R=="string"||J.objectMode||Object.getPrototypeOf(R)===p.prototype||(R=function(fe){return p.from(fe)}(R)),F?J.endEmitted?_.emit("error",new Error("stream.unshift() after end event")):$(_,J,R,!0):J.ended?_.emit("error",new Error("stream.push() after EOF")):(J.reading=!1,J.decoder&&!O?(R=J.decoder.write(R),J.objectMode||R.length!==0?$(_,J,R,!1):f(_,J)):$(_,J,R,!1))):F||(J.reading=!1)),function(fe){return!fe.ended&&(fe.needReadable||fe.length<fe.highWaterMark||fe.length===0)}(J)}function $(_,R,O,F){R.flowing&&R.length===0&&!R.sync?(_.emit("data",O),_.read(0)):(R.length+=R.objectMode?1:O.length,F?R.buffer.unshift(O):R.buffer.push(O),R.needReadable&&Z(_)),f(_,R)}Object.defineProperty(L.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(_){this._readableState&&(this._readableState.destroyed=_)}}),L.prototype.destroy=N.destroy,L.prototype._undestroy=N.undestroy,L.prototype._destroy=function(_,R){this.push(null),R(_)},L.prototype.push=function(_,R){var O,F=this._readableState;return F.objectMode?O=!0:typeof _=="string"&&((R=R||F.defaultEncoding)!==F.encoding&&(_=p.from(_,R),R=""),O=!0),z(this,_,R,!1,O)},L.prototype.unshift=function(_){return z(this,_,null,!0,!1)},L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(_){return T||(T=r(26).StringDecoder),this._readableState.decoder=new T(_),this._readableState.encoding=_,this};var G=8388608;function j(_,R){return _<=0||R.length===0&&R.ended?0:R.objectMode?1:_!=_?R.flowing&&R.length?R.buffer.head.data.length:R.length:(_>R.highWaterMark&&(R.highWaterMark=function(O){return O>=G?O=G:(O--,O|=O>>>1,O|=O>>>2,O|=O>>>4,O|=O>>>8,O|=O>>>16,O++),O}(_)),_<=R.length?_:R.ended?R.length:(R.needReadable=!0,0))}function Z(_){var R=_._readableState;R.needReadable=!1,R.emittedReadable||(A("emitReadable",R.flowing),R.emittedReadable=!0,R.sync?s.nextTick(M,_):M(_))}function M(_){A("emit readable"),_.emit("readable"),b(_)}function f(_,R){R.readingMore||(R.readingMore=!0,s.nextTick(d,_,R))}function d(_,R){for(var O=R.length;!R.reading&&!R.flowing&&!R.ended&&R.length<R.highWaterMark&&(A("maybeReadMore read 0"),_.read(0),O!==R.length);)O=R.length;R.readingMore=!1}function g(_){A("readable nexttick read 0"),_.read(0)}function m(_,R){R.reading||(A("resume read 0"),_.read(0)),R.resumeScheduled=!1,R.awaitDrain=0,_.emit("resume"),b(_),R.flowing&&!R.reading&&_.read(0)}function b(_){var R=_._readableState;for(A("flow",R.flowing);R.flowing&&_.read()!==null;);}function E(_,R){return R.length===0?null:(R.objectMode?O=R.buffer.shift():!_||_>=R.length?(O=R.decoder?R.buffer.join(""):R.buffer.length===1?R.buffer.head.data:R.buffer.concat(R.length),R.buffer.clear()):O=function(F,U,H){var J;return F<U.head.data.length?(J=U.head.data.slice(0,F),U.head.data=U.head.data.slice(F)):J=F===U.head.data.length?U.shift():H?function(fe,B){var q=B.head,Y=1,X=q.data;for(fe-=X.length;q=q.next;){var Q=q.data,be=fe>Q.length?Q.length:fe;if(be===Q.length?X+=Q:X+=Q.slice(0,fe),(fe-=be)==0){be===Q.length?(++Y,q.next?B.head=q.next:B.head=B.tail=null):(B.head=q,q.data=Q.slice(be));break}++Y}return B.length-=Y,X}(F,U):function(fe,B){var q=p.allocUnsafe(fe),Y=B.head,X=1;for(Y.data.copy(q),fe-=Y.data.length;Y=Y.next;){var Q=Y.data,be=fe>Q.length?Q.length:fe;if(Q.copy(q,q.length-fe,0,be),(fe-=be)==0){be===Q.length?(++X,Y.next?B.head=Y.next:B.head=B.tail=null):(B.head=Y,Y.data=Q.slice(be));break}++X}return B.length-=X,q}(F,U),J}(_,R.buffer,R.decoder),O);var O}function k(_){var R=_._readableState;if(R.length>0)throw new Error('"endReadable()" called on non-empty stream');R.endEmitted||(R.ended=!0,s.nextTick(w,R,_))}function w(_,R){_.endEmitted||_.length!==0||(_.endEmitted=!0,R.readable=!1,R.emit("end"))}function c(_,R){for(var O=0,F=_.length;O<F;O++)if(_[O]===R)return O;return-1}L.prototype.read=function(_){A("read",_),_=parseInt(_,10);var R=this._readableState,O=_;if(_!==0&&(R.emittedReadable=!1),_===0&&R.needReadable&&(R.length>=R.highWaterMark||R.ended))return A("read: emitReadable",R.length,R.ended),R.length===0&&R.ended?k(this):Z(this),null;if((_=j(_,R))===0&&R.ended)return R.length===0&&k(this),null;var F,U=R.needReadable;return A("need readable",U),(R.length===0||R.length-_<R.highWaterMark)&&A("length less than watermark",U=!0),R.ended||R.reading?A("reading or ended",U=!1):U&&(A("do read"),R.reading=!0,R.sync=!0,R.length===0&&(R.needReadable=!0),this._read(R.highWaterMark),R.sync=!1,R.reading||(_=j(O,R))),(F=_>0?E(_,R):null)===null?(R.needReadable=!0,_=0):R.length-=_,R.length===0&&(R.ended||(R.needReadable=!0),O!==_&&R.ended&&k(this)),F!==null&&this.emit("data",F),F},L.prototype._read=function(_){this.emit("error",new Error("_read() is not implemented"))},L.prototype.pipe=function(_,R){var O=this,F=this._readableState;switch(F.pipesCount){case 0:F.pipes=_;break;case 1:F.pipes=[F.pipes,_];break;default:F.pipes.push(_)}F.pipesCount+=1,A("pipe count=%d opts=%j",F.pipesCount,R);var U=R&&R.end===!1||_===a.stdout||_===a.stderr?be:H;function H(){A("onend"),_.end()}F.endEmitted?s.nextTick(U):O.once("end",U),_.on("unpipe",function ue(me,yt){A("onunpipe"),me===O&&yt&&yt.hasUnpiped===!1&&(yt.hasUnpiped=!0,A("cleanup"),_.removeListener("close",X),_.removeListener("finish",Q),_.removeListener("drain",J),_.removeListener("error",Y),_.removeListener("unpipe",ue),O.removeListener("end",H),O.removeListener("end",be),O.removeListener("data",q),fe=!0,!F.awaitDrain||_._writableState&&!_._writableState.needDrain||J())});var J=function(ue){return function(){var me=ue._readableState;A("pipeOnDrain",me.awaitDrain),me.awaitDrain&&me.awaitDrain--,me.awaitDrain===0&&l(ue,"data")&&(me.flowing=!0,b(ue))}}(O);_.on("drain",J);var fe=!1,B=!1;function q(ue){A("ondata"),B=!1,_.write(ue)!==!1||B||((F.pipesCount===1&&F.pipes===_||F.pipesCount>1&&c(F.pipes,_)!==-1)&&!fe&&(A("false write response, pause",O._readableState.awaitDrain),O._readableState.awaitDrain++,B=!0),O.pause())}function Y(ue){A("onerror",ue),be(),_.removeListener("error",Y),l(_,"error")===0&&_.emit("error",ue)}function X(){_.removeListener("finish",Q),be()}function Q(){A("onfinish"),_.removeListener("close",X),be()}function be(){A("unpipe"),O.unpipe(_)}return O.on("data",q),function(ue,me,yt){if(typeof ue.prependListener=="function")return ue.prependListener(me,yt);ue._events&&ue._events[me]?u(ue._events[me])?ue._events[me].unshift(yt):ue._events[me]=[yt,ue._events[me]]:ue.on(me,yt)}(_,"error",Y),_.once("close",X),_.once("finish",Q),_.emit("pipe",O),F.flowing||(A("pipe resume"),O.resume()),_},L.prototype.unpipe=function(_){var R=this._readableState,O={hasUnpiped:!1};if(R.pipesCount===0)return this;if(R.pipesCount===1)return _&&_!==R.pipes?this:(_||(_=R.pipes),R.pipes=null,R.pipesCount=0,R.flowing=!1,_&&_.emit("unpipe",this,O),this);if(!_){var F=R.pipes,U=R.pipesCount;R.pipes=null,R.pipesCount=0,R.flowing=!1;for(var H=0;H<U;H++)F[H].emit("unpipe",this,O);return this}var J=c(R.pipes,_);return J===-1?this:(R.pipes.splice(J,1),R.pipesCount-=1,R.pipesCount===1&&(R.pipes=R.pipes[0]),_.emit("unpipe",this,O),this)},L.prototype.on=function(_,R){var O=h.prototype.on.call(this,_,R);if(_==="data")this._readableState.flowing!==!1&&this.resume();else if(_==="readable"){var F=this._readableState;F.endEmitted||F.readableListening||(F.readableListening=F.needReadable=!0,F.emittedReadable=!1,F.reading?F.length&&Z(this):s.nextTick(g,this))}return O},L.prototype.addListener=L.prototype.on,L.prototype.resume=function(){var _=this._readableState;return _.flowing||(A("resume"),_.flowing=!0,function(R,O){O.resumeScheduled||(O.resumeScheduled=!0,s.nextTick(m,R,O))}(this,_)),this},L.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this},L.prototype.wrap=function(_){var R=this,O=this._readableState,F=!1;for(var U in _.on("end",function(){if(A("wrapped end"),O.decoder&&!O.ended){var J=O.decoder.end();J&&J.length&&R.push(J)}R.push(null)}),_.on("data",function(J){A("wrapped data"),O.decoder&&(J=O.decoder.write(J)),(!O.objectMode||J!=null)&&(O.objectMode||J&&J.length)&&(R.push(J)||(F=!0,_.pause()))}),_)this[U]===void 0&&typeof _[U]=="function"&&(this[U]=function(J){return function(){return _[J].apply(_,arguments)}}(U));for(var H=0;H<D.length;H++)_.on(D[H],this.emit.bind(this,D[H]));return this._read=function(J){A("wrapped _read",J),F&&(F=!1,_.resume())},this},Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),L._fromList=E}).call(this,r(0),r(4))},function(t,e,r){t.exports=r(12).EventEmitter},function(t,e,r){"use strict";var n=r(6);function a(s,o){s.emit("error",o)}t.exports={destroy:function(s,o){var u=this,l=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return l||h?(o?o(s):!s||this._writableState&&this._writableState.errorEmitted||n.nextTick(a,this,s),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(p){!o&&p?(n.nextTick(a,u,p),u._writableState&&(u._writableState.errorEmitted=!0)):o&&o(p)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){"use strict";var n=r(7).Buffer,a=n.isEncoding||function(A){switch((A=""+A)&&A.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(A){var T;switch(this.encoding=function(I){var N=function(D){if(!D)return"utf8";for(var C;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if(C)return;D=(""+D).toLowerCase(),C=!0}}(I);if(typeof N!="string"&&(n.isEncoding===a||!a(I)))throw new Error("Unknown encoding: "+I);return N||I}(A),this.encoding){case"utf16le":this.text=l,this.end=h,T=4;break;case"utf8":this.fillLast=u,T=4;break;case"base64":this.text=p,this.end=v,T=3;break;default:return this.write=y,void(this.end=S)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(T)}function o(A){return A<=127?0:A>>5==6?2:A>>4==14?3:A>>3==30?4:A>>6==2?-1:-2}function u(A){var T=this.lastTotal-this.lastNeed,I=function(N,D,C){if((192&D[0])!=128)return N.lastNeed=0,"\uFFFD";if(N.lastNeed>1&&D.length>1){if((192&D[1])!=128)return N.lastNeed=1,"\uFFFD";if(N.lastNeed>2&&D.length>2&&(192&D[2])!=128)return N.lastNeed=2,"\uFFFD"}}(this,A);return I!==void 0?I:this.lastNeed<=A.length?(A.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(A.copy(this.lastChar,T,0,A.length),void(this.lastNeed-=A.length))}function l(A,T){if((A.length-T)%2==0){var I=A.toString("utf16le",T);if(I){var N=I.charCodeAt(I.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=A[A.length-1],A.toString("utf16le",T,A.length-1)}function h(A){var T=A&&A.length?this.write(A):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,I)}return T}function p(A,T){var I=(A.length-T)%3;return I===0?A.toString("base64",T):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=A[A.length-1]:(this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1]),A.toString("base64",T,A.length-I))}function v(A){var T=A&&A.length?this.write(A):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function y(A){return A.toString(this.encoding)}function S(A){return A&&A.length?this.write(A):""}e.StringDecoder=s,s.prototype.write=function(A){if(A.length===0)return"";var T,I;if(this.lastNeed){if((T=this.fillLast(A))===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<A.length?T?T+this.text(A,I):this.text(A,I):T||""},s.prototype.end=function(A){var T=A&&A.length?this.write(A):"";return this.lastNeed?T+"\uFFFD":T},s.prototype.text=function(A,T){var I=function(D,C,L){var z=C.length-1;if(z<L)return 0;var $=o(C[z]);return $>=0?($>0&&(D.lastNeed=$-1),$):--z<L||$===-2?0:($=o(C[z]))>=0?($>0&&(D.lastNeed=$-2),$):--z<L||$===-2?0:($=o(C[z]))>=0?($>0&&($===2?$=0:D.lastNeed=$-3),$):0}(this,A,T);if(!this.lastNeed)return A.toString("utf8",T);this.lastTotal=I;var N=A.length-(I-this.lastNeed);return A.copy(this.lastChar,0,N),A.toString("utf8",T,N)},s.prototype.fillLast=function(A){if(this.lastNeed<=A.length)return A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,A.length),this.lastNeed-=A.length}},function(t,e,r){"use strict";t.exports=s;var n=r(1),a=r(5);function s(l){if(!(this instanceof s))return new s(l);n.call(this,l),this._transformState={afterTransform:function(h,p){var v=this._transformState;v.transforming=!1;var y=v.writecb;if(!y)return this.emit("error",new Error("write callback called multiple times"));v.writechunk=null,v.writecb=null,p!=null&&this.push(p),y(h);var S=this._readableState;S.reading=!1,(S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",o)}function o(){var l=this;typeof this._flush=="function"?this._flush(function(h,p){u(l,h,p)}):u(this,null,null)}function u(l,h,p){if(h)return l.emit("error",h);if(p!=null&&l.push(p),l._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(l._transformState.transforming)throw new Error("Calling transform done when still transforming");return l.push(null)}a.inherits=r(2),a.inherits(s,n),s.prototype.push=function(l,h){return this._transformState.needTransform=!1,n.prototype.push.call(this,l,h)},s.prototype._transform=function(l,h,p){throw new Error("_transform() is not implemented")},s.prototype._write=function(l,h,p){var v=this._transformState;if(v.writecb=p,v.writechunk=l,v.writeencoding=h,!v.transforming){var y=this._readableState;(v.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},s.prototype._read=function(l){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},s.prototype._destroy=function(l,h){var p=this;n.prototype._destroy.call(this,l,function(v){h(v),p.emit("close")})}},function(t,e,r){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.bufFromString=function(a){var s=n.byteLength(a),o=n.allocUnsafe?n.allocUnsafe(s):new n(s);return o.write(a),o},e.emptyBuffer=function(){return n.allocUnsafe?n.allocUnsafe(0):new n(0)},e.filterArray=function(a,s){for(var o=[],u=0;u<a.length;u++)s.indexOf(u)>-1&&o.push(a[u]);return o},e.trimLeft=String.prototype.trimLeft?function(a){return a.trimLeft()}:function(a){return a.replace(/^\s+/,"")},e.trimRight=String.prototype.trimRight?function(a){return a.trimRight()}:function(a){return a.replace(/\s+$/,"")}}).call(this,r(3).Buffer)},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var l in u)u.hasOwnProperty(l)&&(o[l]=u[l])};return function(o,u){function l(){this.constructor=o}s(o,u),o.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=function(s){function o(u,l,h){var p=s.call(this,"Error: "+u+". JSON Line number: "+l+(h?" near: "+h:""))||this;return p.err=u,p.line=l,p.extra=h,p.name="CSV Parse Error",p}return n(o,s),o.column_mismatched=function(u,l){return new o("column_mismatched",u,l)},o.unclosed_quote=function(u,l){return new o("unclosed_quote",u,l)},o.fromJSON=function(u){return new o(u.err,u.line,u.extra)},o.prototype.toJSON=function(){return{err:this.err,line:this.line,extra:this.extra}},o}(Error);e.default=a},function(t,e,r){var n=r(18),a=r(68),s=r(69),o=n?n.toStringTag:void 0;t.exports=function(u){return u==null?u===void 0?"[object Undefined]":"[object Null]":o&&o in Object(u)?a(u):s(u)}},function(t,e){t.exports=function(r,n){return r===n||r!=r&&n!=n}},function(t,e,r){t.exports=r(33)},function(t,e,r){"use strict";var n=r(34),a=function(s,o){return new n.Converter(s,o)};a.csv=a,a.Converter=n.Converter,t.exports=a},function(t,e,r){"use strict";(function(n){var a=this&&this.__extends||function(){var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var I in T)T.hasOwnProperty(I)&&(A[I]=T[I])};return function(A,T){function I(){this.constructor=A}S(A,T),A.prototype=T===null?Object.create(T):(I.prototype=T.prototype,new I)}}(),s=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(36),u=r(50),l=r(51),h=s(r(15)),p=r(52),v=r(105),y=function(S){function A(T,I){I===void 0&&(I={});var N=S.call(this,I)||this;return N.options=I,N.params=u.mergeParams(T),N.runtime=l.initParseRuntime(N),N.result=new v.Result(N),N.processor=new p.ProcessorLocal(N),N.once("error",function(D){n(function(){N.result.processError(D),N.emit("done",D)})}),N.once("done",function(){N.processor.destroy()}),N}return a(A,S),A.prototype.preRawData=function(T){return this.runtime.preRawDataHook=T,this},A.prototype.preFileLine=function(T){return this.runtime.preFileLineHook=T,this},A.prototype.subscribe=function(T,I,N){return this.parseRuntime.subscribe={onNext:T,onError:I,onCompleted:N},this},A.prototype.fromFile=function(T,I){var N=this,D=r(!function(){var C=new Error("Cannot find module 'fs'");throw C.code="MODULE_NOT_FOUND",C}());return D.exists(T,function(C){C?D.createReadStream(T,I).pipe(N):N.emit("error",new Error("File does not exist. Check to make sure the file path to your csv is correct."))}),this},A.prototype.fromStream=function(T){return T.pipe(this),this},A.prototype.fromString=function(T){T.toString();var I=new o.Readable,N=0;return I._read=function(D){if(N>=T.length)this.push(null);else{var C=T.substr(N,D);this.push(C),N+=D}},this.fromStream(I)},A.prototype.then=function(T,I){var N=this;return new h.default(function(D,C){N.parseRuntime.then={onfulfilled:function(L){D(T?T(L):L)},onrejected:function(L){I?D(I(L)):C(L)}}})},Object.defineProperty(A.prototype,"parseParam",{get:function(){return this.params},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"parseRuntime",{get:function(){return this.runtime},enumerable:!0,configurable:!0}),A.prototype._transform=function(T,I,N){var D=this;this.processor.process(T).then(function(C){if(C.length>0)return D.runtime.started=!0,D.result.processResult(C)}).then(function(){D.emit("drained"),N()},function(C){D.runtime.hasError=!0,D.runtime.error=C,D.emit("error",C),N()})},A.prototype._flush=function(T){var I=this;this.processor.flush().then(function(N){if(N.length>0)return I.result.processResult(N)}).then(function(){I.processEnd(T)},function(N){I.emit("error",N),T()})},A.prototype.processEnd=function(T){this.result.endProcess(),this.emit("done"),T()},Object.defineProperty(A.prototype,"parsedLineNumber",{get:function(){return this.runtime.parsedLineNumber},enumerable:!0,configurable:!0}),A}(o.Transform);e.Converter=y}).call(this,r(11).setImmediate)},function(t,e,r){(function(n,a){(function(s,o){"use strict";if(!s.setImmediate){var u,l=1,h={},p=!1,v=s.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(s);y=y&&y.setTimeout?y:s,{}.toString.call(s.process)==="[object process]"?u=function(T){a.nextTick(function(){A(T)})}:function(){if(s.postMessage&&!s.importScripts){var T=!0,I=s.onmessage;return s.onmessage=function(){T=!1},s.postMessage("","*"),s.onmessage=I,T}}()?function(){var T="setImmediate$"+Math.random()+"$",I=function(N){N.source===s&&typeof N.data=="string"&&N.data.indexOf(T)===0&&A(+N.data.slice(T.length))};s.addEventListener?s.addEventListener("message",I,!1):s.attachEvent("onmessage",I),u=function(N){s.postMessage(T+N,"*")}}():s.MessageChannel?function(){var T=new MessageChannel;T.port1.onmessage=function(I){A(I.data)},u=function(I){T.port2.postMessage(I)}}():v&&"onreadystatechange"in v.createElement("script")?function(){var T=v.documentElement;u=function(I){var N=v.createElement("script");N.onreadystatechange=function(){A(I),N.onreadystatechange=null,T.removeChild(N),N=null},T.appendChild(N)}}():u=function(T){setTimeout(A,0,T)},y.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var I=new Array(arguments.length-1),N=0;N<I.length;N++)I[N]=arguments[N+1];var D={callback:T,args:I};return h[l]=D,u(l),l++},y.clearImmediate=S}function S(T){delete h[T]}function A(T){if(p)setTimeout(A,0,T);else{var I=h[T];if(I){p=!0;try{(function(N){var D=N.callback,C=N.args;switch(C.length){case 0:D();break;case 1:D(C[0]);break;case 2:D(C[0],C[1]);break;case 3:D(C[0],C[1],C[2]);break;default:D.apply(o,C)}})(I)}finally{S(T),p=!1}}}}})(typeof self=="undefined"?n===void 0?this:n:self)}).call(this,r(0),r(4))},function(t,e,r){t.exports=a;var n=r(12).EventEmitter;function a(){n.call(this)}r(2)(a,n),a.Readable=r(13),a.Writable=r(46),a.Duplex=r(47),a.Transform=r(48),a.PassThrough=r(49),a.Stream=a,a.prototype.pipe=function(s,o){var u=this;function l(T){s.writable&&s.write(T)===!1&&u.pause&&u.pause()}function h(){u.readable&&u.resume&&u.resume()}u.on("data",l),s.on("drain",h),s._isStdio||o&&o.end===!1||(u.on("end",v),u.on("close",y));var p=!1;function v(){p||(p=!0,s.end())}function y(){p||(p=!0,typeof s.destroy=="function"&&s.destroy())}function S(T){if(A(),n.listenerCount(this,"error")===0)throw T}function A(){u.removeListener("data",l),s.removeListener("drain",h),u.removeListener("end",v),u.removeListener("close",y),u.removeListener("error",S),s.removeListener("error",S),u.removeListener("end",A),u.removeListener("close",A),s.removeListener("close",A)}return u.on("error",S),s.on("error",S),u.on("end",A),u.on("close",A),s.on("close",A),s.emit("pipe",u),s}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(n){return r.call(n)=="[object Array]"}},function(t,e,r){"use strict";e.byteLength=function(y){var S=h(y),A=S[0],T=S[1];return 3*(A+T)/4-T},e.toByteArray=function(y){for(var S,A=h(y),T=A[0],I=A[1],N=new s(3*(T+I)/4-I),D=0,C=I>0?T-4:T,L=0;L<C;L+=4)S=a[y.charCodeAt(L)]<<18|a[y.charCodeAt(L+1)]<<12|a[y.charCodeAt(L+2)]<<6|a[y.charCodeAt(L+3)],N[D++]=S>>16&255,N[D++]=S>>8&255,N[D++]=255&S;return I===2&&(S=a[y.charCodeAt(L)]<<2|a[y.charCodeAt(L+1)]>>4,N[D++]=255&S),I===1&&(S=a[y.charCodeAt(L)]<<10|a[y.charCodeAt(L+1)]<<4|a[y.charCodeAt(L+2)]>>2,N[D++]=S>>8&255,N[D++]=255&S),N},e.fromByteArray=function(y){for(var S,A=y.length,T=A%3,I=[],N=0,D=A-T;N<D;N+=16383)I.push(v(y,N,N+16383>D?D:N+16383));return T===1?(S=y[A-1],I.push(n[S>>2]+n[S<<4&63]+"==")):T===2&&(S=(y[A-2]<<8)+y[A-1],I.push(n[S>>10]+n[S>>4&63]+n[S<<2&63]+"=")),I.join("")};for(var n=[],a=[],s=typeof Uint8Array!="undefined"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=o.length;u<l;++u)n[u]=o[u],a[o.charCodeAt(u)]=u;function h(y){var S=y.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var A=y.indexOf("=");return A===-1&&(A=S),[A,A===S?0:4-A%4]}function p(y){return n[y>>18&63]+n[y>>12&63]+n[y>>6&63]+n[63&y]}function v(y,S,A){for(var T,I=[],N=S;N<A;N+=3)T=(y[N]<<16&16711680)+(y[N+1]<<8&65280)+(255&y[N+2]),I.push(p(T));return I.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(t,e){e.read=function(r,n,a,s,o){var u,l,h=8*o-s-1,p=(1<<h)-1,v=p>>1,y=-7,S=a?o-1:0,A=a?-1:1,T=r[n+S];for(S+=A,u=T&(1<<-y)-1,T>>=-y,y+=h;y>0;u=256*u+r[n+S],S+=A,y-=8);for(l=u&(1<<-y)-1,u>>=-y,y+=s;y>0;l=256*l+r[n+S],S+=A,y-=8);if(u===0)u=1-v;else{if(u===p)return l?NaN:1/0*(T?-1:1);l+=Math.pow(2,s),u-=v}return(T?-1:1)*l*Math.pow(2,u-s)},e.write=function(r,n,a,s,o,u){var l,h,p,v=8*u-o-1,y=(1<<v)-1,S=y>>1,A=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=s?0:u-1,I=s?1:-1,N=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(h=isNaN(n)?1:0,l=y):(l=Math.floor(Math.log(n)/Math.LN2),n*(p=Math.pow(2,-l))<1&&(l--,p*=2),(n+=l+S>=1?A/p:A*Math.pow(2,1-S))*p>=2&&(l++,p/=2),l+S>=y?(h=0,l=y):l+S>=1?(h=(n*p-1)*Math.pow(2,o),l+=S):(h=n*Math.pow(2,S-1)*Math.pow(2,o),l=0));o>=8;r[a+T]=255&h,T+=I,h/=256,o-=8);for(l=l<<o|h,v+=o;v>0;r[a+T]=255&l,T+=I,l/=256,v-=8);r[a+T-I]|=128*N}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(n){return r.call(n)=="[object Array]"}},function(t,e){},function(t,e,r){"use strict";var n=r(7).Buffer,a=r(43);function s(o,u,l){o.copy(u,l)}t.exports=function(){function o(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(u){var l={data:u,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},o.prototype.unshift=function(u){var l={data:u,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},o.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(u){if(this.length===0)return"";for(var l=this.head,h=""+l.data;l=l.next;)h+=u+l.data;return h},o.prototype.concat=function(u){if(this.length===0)return n.alloc(0);if(this.length===1)return this.head.data;for(var l=n.allocUnsafe(u>>>0),h=this.head,p=0;h;)s(h.data,l,p),p+=h.data.length,h=h.next;return l},o}(),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var o=a.inspect({length:this.length});return this.constructor.name+" "+o})},function(t,e){},function(t,e,r){(function(n){function a(s){try{if(!n.localStorage)return!1}catch(u){return!1}var o=n.localStorage[s];return o!=null&&String(o).toLowerCase()==="true"}t.exports=function(s,o){if(a("noDeprecation"))return s;var u=!1;return function(){if(!u){if(a("throwDeprecation"))throw new Error(o);a("traceDeprecation")?console.trace(o):console.warn(o),u=!0}return s.apply(this,arguments)}}}).call(this,r(0))},function(t,e,r){"use strict";t.exports=s;var n=r(27),a=r(5);function s(o){if(!(this instanceof s))return new s(o);n.call(this,o)}a.inherits=r(2),a.inherits(s,n),s.prototype._transform=function(o,u,l){l(null,o)}},function(t,e,r){t.exports=r(14)},function(t,e,r){t.exports=r(1)},function(t,e,r){t.exports=r(13).Transform},function(t,e,r){t.exports=r(13).PassThrough},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeParams=function(n){var a={delimiter:",",ignoreColumns:void 0,includeColumns:void 0,quote:'"',trim:!0,checkType:!1,ignoreEmpty:!1,noheader:!1,headers:void 0,flatKeys:!1,maxRowLength:0,checkColumn:!1,escape:'"',colParser:{},eol:void 0,alwaysSplitAtEOL:!1,output:"json",nullObject:!1,downstreamFormat:"line",needEmitAll:!0};for(var s in n||(n={}),n)n.hasOwnProperty(s)&&(Array.isArray(n[s])?a[s]=[].concat(n[s]):a[s]=n[s]);return a}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initParseRuntime=function(n){var a=n.parseParam,s={needProcessIgnoreColumn:!1,needProcessIncludeColumn:!1,selectedColumns:void 0,ended:!1,hasError:!1,error:void 0,delimiter:n.parseParam.delimiter,eol:n.parseParam.eol,columnConv:[],headerType:[],headerTitle:[],headerFlag:[],headers:void 0,started:!1,parsedLineNumber:0,columnValueSetter:[]};return a.ignoreColumns&&(s.needProcessIgnoreColumn=!0),a.includeColumns&&(s.needProcessIncludeColumn=!0),s}},function(t,e,r){"use strict";(function(n){var a=this&&this.__extends||function(){var I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,D){N.__proto__=D}||function(N,D){for(var C in D)D.hasOwnProperty(C)&&(N[C]=D[C])};return function(N,D){function C(){this.constructor=N}I(N,D),N.prototype=D===null?Object.create(D):(C.prototype=D.prototype,new C)}}(),s=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(53),u=s(r(15)),l=r(54),h=s(r(16)),p=r(57),v=r(28),y=r(58),S=s(r(59)),A=s(r(29)),T=function(I){function N(){var D=I!==null&&I.apply(this,arguments)||this;return D.rowSplit=new y.RowSplit(D.converter),D.eolEmitted=!1,D._needEmitEol=void 0,D.headEmitted=!1,D._needEmitHead=void 0,D}return a(N,I),N.prototype.flush=function(){var D=this;if(this.runtime.csvLineBuffer&&this.runtime.csvLineBuffer.length>0){var C=this.runtime.csvLineBuffer;return this.runtime.csvLineBuffer=void 0,this.process(C,!0).then(function(L){return D.runtime.csvLineBuffer&&D.runtime.csvLineBuffer.length>0?u.default.reject(A.default.unclosed_quote(D.runtime.parsedLineNumber,D.runtime.csvLineBuffer.toString())):u.default.resolve(L)})}return u.default.resolve([])},N.prototype.destroy=function(){return u.default.resolve()},Object.defineProperty(N.prototype,"needEmitEol",{get:function(){return this._needEmitEol===void 0&&(this._needEmitEol=this.converter.listeners("eol").length>0),this._needEmitEol},enumerable:!0,configurable:!0}),Object.defineProperty(N.prototype,"needEmitHead",{get:function(){return this._needEmitHead===void 0&&(this._needEmitHead=this.converter.listeners("header").length>0),this._needEmitHead},enumerable:!0,configurable:!0}),N.prototype.process=function(D,C){var L,z=this;return C===void 0&&(C=!1),L=C?D.toString():l.prepareData(D,this.converter.parseRuntime),u.default.resolve().then(function(){return z.runtime.preRawDataHook?z.runtime.preRawDataHook(L):L}).then(function($){return $&&$.length>0?z.processCSV($,C):u.default.resolve([])})},N.prototype.processCSV=function(D,C){var L=this,z=this.params,$=this.runtime;$.eol||h.default(D,$),this.needEmitEol&&!this.eolEmitted&&$.eol&&(this.converter.emit("eol",$.eol),this.eolEmitted=!0),z.ignoreEmpty&&!$.started&&(D=v.trimLeft(D));var G=p.stringToLines(D,$);return C?(G.lines.push(G.partial),G.partial=""):this.prependLeftBuf(v.bufFromString(G.partial)),G.lines.length>0?($.preFileLineHook?this.runPreLineHook(G.lines):u.default.resolve(G.lines)).then(function(j){return $.started||L.runtime.headers?L.processCSVBody(j):L.processDataWithHead(j)}):u.default.resolve([])},N.prototype.processDataWithHead=function(D){if(this.params.noheader)this.params.headers?this.runtime.headers=this.params.headers:this.runtime.headers=[];else{for(var C="",L=[];D.length;){var z=C+D.shift(),$=this.rowSplit.parse(z);if($.closed){L=$.cells,C="";break}C=z+h.default(z,this.runtime)}if(this.prependLeftBuf(v.bufFromString(C)),L.length===0)return[];this.params.headers?this.runtime.headers=this.params.headers:this.runtime.headers=L}return(this.runtime.needProcessIgnoreColumn||this.runtime.needProcessIncludeColumn)&&this.filterHeader(),this.needEmitHead&&!this.headEmitted&&(this.converter.emit("header",this.runtime.headers),this.headEmitted=!0),this.processCSVBody(D)},N.prototype.filterHeader=function(){if(this.runtime.selectedColumns=[],this.runtime.headers){for(var D=this.runtime.headers,C=0;C<D.length;C++)if(this.params.ignoreColumns)if(this.params.ignoreColumns.test(D[C])){if(!this.params.includeColumns||!this.params.includeColumns.test(D[C]))continue;this.runtime.selectedColumns.push(C)}else this.runtime.selectedColumns.push(C);else this.params.includeColumns?this.params.includeColumns.test(D[C])&&this.runtime.selectedColumns.push(C):this.runtime.selectedColumns.push(C);this.runtime.headers=v.filterArray(this.runtime.headers,this.runtime.selectedColumns)}},N.prototype.processCSVBody=function(D){if(this.params.output==="line")return D;var C=this.rowSplit.parseMultiLines(D);return this.prependLeftBuf(v.bufFromString(C.partial)),this.params.output==="csv"?C.rowsCells:S.default(C.rowsCells,this.converter)},N.prototype.prependLeftBuf=function(D){D&&(this.runtime.csvLineBuffer?this.runtime.csvLineBuffer=n.concat([D,this.runtime.csvLineBuffer]):this.runtime.csvLineBuffer=D)},N.prototype.runPreLineHook=function(D){var C=this;return new u.default(function(L,z){(function $(G,j,Z,M){if(Z>=G.length)M();else if(j.preFileLineHook){var f=G[Z],d=j.preFileLineHook(f,j.parsedLineNumber+Z);if(Z++,d&&d.then)d.then(function(g){G[Z-1]=g,$(G,j,Z,M)});else{for(G[Z-1]=d;Z<G.length;)G[Z]=j.preFileLineHook(G[Z],j.parsedLineNumber+Z),Z++;M()}}else M()})(D,C.runtime,0,function($){$?z($):L(D)})})},N}(o.Processor);e.ProcessorLocal=T}).call(this,r(3).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(a){this.converter=a,this.params=a.parseParam,this.runtime=a.parseRuntime};e.Processor=n},function(t,e,r){"use strict";(function(n){var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(r(55));e.prepareData=function(o,u){var l=function(p,v){return v.csvLineBuffer&&v.csvLineBuffer.length>0?n.concat([v.csvLineBuffer,p]):p}(o,u);u.csvLineBuffer=void 0;var h=function(p,v){var y=p.length-1;if((128&p[y])!=0){for(;(192&p[y])==128;)y--;y--}return y!=p.length-1?(v.csvLineBuffer=p.slice(y+1),p.slice(0,y+1)):p}(l,u).toString("utf8");return u.started===!1?s.default(h):h}}).call(this,r(3).Buffer)},function(t,e,r){"use strict";(function(n){var a=r(56);t.exports=function(s){return typeof s=="string"&&s.charCodeAt(0)===65279?s.slice(1):n.isBuffer(s)&&a(s)&&s[0]===239&&s[1]===187&&s[2]===191?s.slice(3):s}}).call(this,r(3).Buffer)},function(t,e){t.exports=function(r){for(var n=0;n<r.length;)if(r[n]==9||r[n]==10||r[n]==13||32<=r[n]&&r[n]<=126)n+=1;else if(194<=r[n]&&r[n]<=223&&128<=r[n+1]&&r[n+1]<=191)n+=2;else if(r[n]==224&&160<=r[n+1]&&r[n+1]<=191&&128<=r[n+2]&&r[n+2]<=191||(225<=r[n]&&r[n]<=236||r[n]==238||r[n]==239)&&128<=r[n+1]&&r[n+1]<=191&&128<=r[n+2]&&r[n+2]<=191||r[n]==237&&128<=r[n+1]&&r[n+1]<=159&&128<=r[n+2]&&r[n+2]<=191)n+=3;else{if(!(r[n]==240&&144<=r[n+1]&&r[n+1]<=191&&128<=r[n+2]&&r[n+2]<=191&&128<=r[n+3]&&r[n+3]<=191||241<=r[n]&&r[n]<=243&&128<=r[n+1]&&r[n+1]<=191&&128<=r[n+2]&&r[n+2]<=191&&128<=r[n+3]&&r[n+3]<=191||r[n]==244&&128<=r[n+1]&&r[n+1]<=143&&128<=r[n+2]&&r[n+2]<=191&&128<=r[n+3]&&r[n+3]<=191))return!1;n+=4}return!0}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(r(16));e.stringToLines=function(s,o){var u=a.default(s,o),l=s.split(u);return{lines:l,partial:l.pop()||""}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(r(16)),s=r(28),o=[",","|","	",";",":"],u=function(){function l(h){this.conv=h,this.cachedRegExp={},this.delimiterEmitted=!1,this._needEmitDelimiter=void 0,this.quote=h.parseParam.quote,this.trim=h.parseParam.trim,this.escape=h.parseParam.escape}return Object.defineProperty(l.prototype,"needEmitDelimiter",{get:function(){return this._needEmitDelimiter===void 0&&(this._needEmitDelimiter=this.conv.listeners("delimiter").length>0),this._needEmitDelimiter},enumerable:!0,configurable:!0}),l.prototype.parse=function(h){if(h.length===0||this.conv.parseParam.ignoreEmpty&&h.trim().length===0)return{cells:[],closed:!0};var p=this.quote,v=this.trim;this.escape,(this.conv.parseRuntime.delimiter instanceof Array||this.conv.parseRuntime.delimiter.toLowerCase()==="auto")&&(this.conv.parseRuntime.delimiter=this.getDelimiter(h)),this.needEmitDelimiter&&!this.delimiterEmitted&&(this.conv.emit("delimiter",this.conv.parseRuntime.delimiter),this.delimiterEmitted=!0);var y=this.conv.parseRuntime.delimiter,S=h.split(y);if(p==="off"){if(v)for(var A=0;A<S.length;A++)S[A]=S[A].trim();return{cells:S,closed:!0}}return this.toCSVRow(S,v,p,y)},l.prototype.toCSVRow=function(h,p,v,y){for(var S=[],A=!1,T="",I=0,N=h.length;I<N;I++){var D=h[I];!A&&p&&(D=s.trimLeft(D));var C=D.length;if(A)this.isQuoteClose(D)?(A=!1,T+=y+(D=D.substr(0,C-1)),T=this.escapeQuote(T),p&&(T=s.trimRight(T)),S.push(T),T=""):T+=y+D;else{if(C===2&&D===this.quote+this.quote){S.push("");continue}if(this.isQuoteOpen(D)){if(D=D.substr(1),this.isQuoteClose(D)){D=D.substring(0,D.lastIndexOf(v)),D=this.escapeQuote(D),S.push(D);continue}if(D.indexOf(v)!==-1){for(var L=0,z="",$=0,G=D;$<G.length;$++){var j=G[$];j===v&&z!==this.escape?(L++,z=""):z=j}if(L%2==1){p&&(D=s.trimRight(D)),S.push(v+D);continue}A=!0,T+=D;continue}A=!0,T+=D;continue}p&&(D=s.trimRight(D)),S.push(D)}}return{cells:S,closed:!A}},l.prototype.getDelimiter=function(h){var p;if(this.conv.parseParam.delimiter==="auto")p=o;else{if(!(this.conv.parseParam.delimiter instanceof Array))return this.conv.parseParam.delimiter;p=this.conv.parseParam.delimiter}var v=0,y=",";return p.forEach(function(S){var A=h.split(S).length;A>v&&(y=S,v=A)}),y},l.prototype.isQuoteOpen=function(h){var p=this.quote,v=this.escape;return h[0]===p&&(h[1]!==p||h[1]===v&&(h[2]===p||h.length===2))},l.prototype.isQuoteClose=function(h){var p=this.quote,v=this.escape;this.conv.parseParam.trim&&(h=s.trimRight(h));for(var y=0,S=h.length-1;h[S]===p||h[S]===v;)S--,y++;return y%2!=0},l.prototype.escapeQuote=function(h){var p="es|"+this.quote+"|"+this.escape;this.cachedRegExp[p]===void 0&&(this.cachedRegExp[p]=new RegExp("\\"+this.escape+"\\"+this.quote,"g"));var v=this.cachedRegExp[p];return h.replace(v,this.quote)},l.prototype.parseMultiLines=function(h){for(var p=[],v="";h.length;){var y=v+h.shift(),S=this.parse(y);S.cells.length===0&&this.conv.parseParam.ignoreEmpty||(S.closed||this.conv.parseParam.alwaysSplitAtEOL?(this.conv.parseRuntime.selectedColumns?p.push(s.filterArray(S.cells,this.conv.parseRuntime.selectedColumns)):p.push(S.cells),v=""):v=y+(a.default(y,this.conv.parseRuntime)||`
`))}return{rowsCells:p,partial:v}},l}();e.RowSplit=u},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(r(29)),s=n(r(60)),o=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/;function u(N,D,C){if(D.parseParam.checkColumn&&D.parseRuntime.headers&&N.length!==D.parseRuntime.headers.length)throw a.default.column_mismatched(D.parseRuntime.parsedLineNumber+C);return function(L,z,$){for(var G=!1,j={},Z=0,M=L.length;Z<M;Z++){var f=L[Z];if(!$.parseParam.ignoreEmpty||f!==""){G=!0;var d=z[Z];d&&d!==""||(d=z[Z]="field"+(Z+1));var g=h(d,Z,$);if(g){var m=g(f,d,j,L,Z);m!==void 0&&p(j,d,m,$,Z)}else $.parseParam.checkType&&(f=S(f,d,Z,$)(f)),f!==void 0&&p(j,d,f,$,Z)}}return G?j:null}(N,D.parseRuntime.headers||[],D)||null}e.default=function(N,D){for(var C=[],L=0,z=N.length;L<z;L++){var $=u(N[L],D,L);$&&C.push($)}return C};var l={string:T,number:A,omit:function(){}};function h(N,D,C){if(C.parseRuntime.columnConv[D]!==void 0)return C.parseRuntime.columnConv[D];var L=C.parseParam.colParser[N];if(L===void 0)return C.parseRuntime.columnConv[D]=null;if(typeof L=="object"&&(L=L.cellParser||"string"),typeof L=="string"){L=L.trim().toLowerCase();var z=l[L];return C.parseRuntime.columnConv[D]=z||null}return C.parseRuntime.columnConv[D]=typeof L=="function"?L:null}function p(N,D,C,L,z){if(!L.parseRuntime.columnValueSetter[z])if(L.parseParam.flatKeys)L.parseRuntime.columnValueSetter[z]=v;else if(D.indexOf(".")>-1){for(var $=D.split("."),G=!0;$.length>0;)if($.shift().length===0){G=!1;break}!G||L.parseParam.colParser[D]&&L.parseParam.colParser[D].flat?L.parseRuntime.columnValueSetter[z]=v:L.parseRuntime.columnValueSetter[z]=y}else L.parseRuntime.columnValueSetter[z]=v;L.parseParam.nullObject===!0&&C==="null"&&(C=null),L.parseRuntime.columnValueSetter[z](N,D,C)}function v(N,D,C){N[D]=C}function y(N,D,C){s.default(N,D,C)}function S(N,D,C,L){return L.parseRuntime.headerType[C]?L.parseRuntime.headerType[C]:D.indexOf("number#!")>-1?L.parseRuntime.headerType[C]=A:D.indexOf("string#!")>-1?L.parseRuntime.headerType[C]=T:L.parseParam.checkType?L.parseRuntime.headerType[C]=I:L.parseRuntime.headerType[C]=T}function A(N){var D=parseFloat(N);return isNaN(D)?N:D}function T(N){return N.toString()}function I(N){var D=N.trim();return D===""?T(N):o.test(D)?A(N):D.length===5&&D.toLowerCase()==="false"||D.length===4&&D.toLowerCase()==="true"?function(C){var L=C.trim();return L.length!==5||L.toLowerCase()!=="false"}(N):D[0]==="{"&&D[D.length-1]==="}"||D[0]==="["&&D[D.length-1]==="]"?function(C){try{return JSON.parse(C)}catch(L){return C}}(N):T(N)}},function(t,e,r){var n=r(61);t.exports=function(a,s,o){return a==null?a:n(a,s,o)}},function(t,e,r){var n=r(62),a=r(74),s=r(103),o=r(20),u=r(104);t.exports=function(l,h,p,v){if(!o(l))return l;for(var y=-1,S=(h=a(h,l)).length,A=S-1,T=l;T!=null&&++y<S;){var I=u(h[y]),N=p;if(y!=A){var D=T[I];(N=v?v(D,I,T):void 0)===void 0&&(N=o(D)?D:s(h[y+1])?[]:{})}n(T,I,N),T=T[I]}return l}},function(t,e,r){var n=r(63),a=r(31),s=Object.prototype.hasOwnProperty;t.exports=function(o,u,l){var h=o[u];s.call(o,u)&&a(h,l)&&(l!==void 0||u in o)||n(o,u,l)}},function(t,e,r){var n=r(64);t.exports=function(a,s,o){s=="__proto__"&&n?n(a,s,{configurable:!0,enumerable:!0,value:o,writable:!0}):a[s]=o}},function(t,e,r){var n=r(17),a=function(){try{var s=n(Object,"defineProperty");return s({},"",{}),s}catch(o){}}();t.exports=a},function(t,e,r){var n=r(66),a=r(70),s=r(20),o=r(72),u=/^\[object .+?Constructor\]$/,l=Function.prototype,h=Object.prototype,p=l.toString,v=h.hasOwnProperty,y=RegExp("^"+p.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(S){return!(!s(S)||a(S))&&(n(S)?y:u).test(o(S))}},function(t,e,r){var n=r(30),a=r(20);t.exports=function(s){if(!a(s))return!1;var o=n(s);return o=="[object Function]"||o=="[object GeneratorFunction]"||o=="[object AsyncFunction]"||o=="[object Proxy]"}},function(t,e,r){(function(n){var a=typeof n=="object"&&n&&n.Object===Object&&n;t.exports=a}).call(this,r(0))},function(t,e,r){var n=r(18),a=Object.prototype,s=a.hasOwnProperty,o=a.toString,u=n?n.toStringTag:void 0;t.exports=function(l){var h=s.call(l,u),p=l[u];try{l[u]=void 0;var v=!0}catch(S){}var y=o.call(l);return v&&(h?l[u]=p:delete l[u]),y}},function(t,e){var r=Object.prototype.toString;t.exports=function(n){return r.call(n)}},function(t,e,r){var n=r(71),a=function(){var s=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();t.exports=function(s){return!!a&&a in s}},function(t,e,r){var n=r(19)["__core-js_shared__"];t.exports=n},function(t,e){var r=Function.prototype.toString;t.exports=function(n){if(n!=null){try{return r.call(n)}catch(a){}try{return n+""}catch(a){}}return""}},function(t,e){t.exports=function(r,n){return r==null?void 0:r[n]}},function(t,e,r){var n=r(21),a=r(75),s=r(77),o=r(100);t.exports=function(u,l){return n(u)?u:a(u,l)?[u]:s(o(u))}},function(t,e,r){var n=r(21),a=r(22),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(u,l){if(n(u))return!1;var h=typeof u;return!(h!="number"&&h!="symbol"&&h!="boolean"&&u!=null&&!a(u))||o.test(u)||!s.test(u)||l!=null&&u in Object(l)}},function(t,e){t.exports=function(r){return r!=null&&typeof r=="object"}},function(t,e,r){var n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=r(78)(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(n,function(l,h,p,v){u.push(p?v.replace(a,"$1"):h||l)}),u});t.exports=s},function(t,e,r){var n=r(79);t.exports=function(a){var s=n(a,function(u){return o.size===500&&o.clear(),u}),o=s.cache;return s}},function(t,e,r){var n=r(80),a="Expected a function";function s(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new TypeError(a);var l=function(){var h=arguments,p=u?u.apply(this,h):h[0],v=l.cache;if(v.has(p))return v.get(p);var y=o.apply(this,h);return l.cache=v.set(p,y)||v,y};return l.cache=new(s.Cache||n),l}s.Cache=n,t.exports=s},function(t,e,r){var n=r(81),a=r(95),s=r(97),o=r(98),u=r(99);function l(h){var p=-1,v=h==null?0:h.length;for(this.clear();++p<v;){var y=h[p];this.set(y[0],y[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=u,t.exports=l},function(t,e,r){var n=r(82),a=r(88),s=r(94);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(s||a),string:new n}}},function(t,e,r){var n=r(83),a=r(84),s=r(85),o=r(86),u=r(87);function l(h){var p=-1,v=h==null?0:h.length;for(this.clear();++p<v;){var y=h[p];this.set(y[0],y[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=u,t.exports=l},function(t,e,r){var n=r(8);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,e){t.exports=function(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}},function(t,e,r){var n=r(8),a=Object.prototype.hasOwnProperty;t.exports=function(s){var o=this.__data__;if(n){var u=o[s];return u==="__lodash_hash_undefined__"?void 0:u}return a.call(o,s)?o[s]:void 0}},function(t,e,r){var n=r(8),a=Object.prototype.hasOwnProperty;t.exports=function(s){var o=this.__data__;return n?o[s]!==void 0:a.call(o,s)}},function(t,e,r){var n=r(8);t.exports=function(a,s){var o=this.__data__;return this.size+=this.has(a)?0:1,o[a]=n&&s===void 0?"__lodash_hash_undefined__":s,this}},function(t,e,r){var n=r(89),a=r(90),s=r(91),o=r(92),u=r(93);function l(h){var p=-1,v=h==null?0:h.length;for(this.clear();++p<v;){var y=h[p];this.set(y[0],y[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=u,t.exports=l},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,r){var n=r(9),a=Array.prototype.splice;t.exports=function(s){var o=this.__data__,u=n(o,s);return!(u<0||(u==o.length-1?o.pop():a.call(o,u,1),--this.size,0))}},function(t,e,r){var n=r(9);t.exports=function(a){var s=this.__data__,o=n(s,a);return o<0?void 0:s[o][1]}},function(t,e,r){var n=r(9);t.exports=function(a){return n(this.__data__,a)>-1}},function(t,e,r){var n=r(9);t.exports=function(a,s){var o=this.__data__,u=n(o,a);return u<0?(++this.size,o.push([a,s])):o[u][1]=s,this}},function(t,e,r){var n=r(17)(r(19),"Map");t.exports=n},function(t,e,r){var n=r(10);t.exports=function(a){var s=n(this,a).delete(a);return this.size-=s?1:0,s}},function(t,e){t.exports=function(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}},function(t,e,r){var n=r(10);t.exports=function(a){return n(this,a).get(a)}},function(t,e,r){var n=r(10);t.exports=function(a){return n(this,a).has(a)}},function(t,e,r){var n=r(10);t.exports=function(a,s){var o=n(this,a),u=o.size;return o.set(a,s),this.size+=o.size==u?0:1,this}},function(t,e,r){var n=r(101);t.exports=function(a){return a==null?"":n(a)}},function(t,e,r){var n=r(18),a=r(102),s=r(21),o=r(22),u=n?n.prototype:void 0,l=u?u.toString:void 0;t.exports=function h(p){if(typeof p=="string")return p;if(s(p))return a(p,h)+"";if(o(p))return l?l.call(p):"";var v=p+"";return v=="0"&&1/p==-1/0?"-0":v}},function(t,e){t.exports=function(r,n){for(var a=-1,s=r==null?0:r.length,o=Array(s);++a<s;)o[a]=n(r[a],a,r);return o}},function(t,e){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(n,a){var s=typeof n;return!!(a=a==null?9007199254740991:a)&&(s=="number"||s!="symbol"&&r.test(n))&&n>-1&&n%1==0&&n<a}},function(t,e,r){var n=r(22);t.exports=function(a){if(typeof a=="string"||n(a))return a;var s=a+"";return s=="0"&&1/a==-1/0?"-0":s}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(r(15)),s=r(106),o=function(){function l(h){this.converter=h,this.finalResult=[]}return Object.defineProperty(l.prototype,"needEmitLine",{get:function(){return!!this.converter.parseRuntime.subscribe&&!!this.converter.parseRuntime.subscribe.onNext||this.needPushDownstream},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"needPushDownstream",{get:function(){return this._needPushDownstream===void 0&&(this._needPushDownstream=this.converter.listeners("data").length>0||this.converter.listeners("readable").length>0),this._needPushDownstream},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"needEmitAll",{get:function(){return!!this.converter.parseRuntime.then&&this.converter.parseParam.needEmitAll},enumerable:!0,configurable:!0}),l.prototype.processResult=function(h){var p=this,v=this.converter.parseRuntime.parsedLineNumber;return this.needPushDownstream&&this.converter.parseParam.downstreamFormat==="array"&&v===0&&u(this.converter,"["+s.EOL),new a.default(function(y,S){p.needEmitLine?function A(T,I,N,D,C){if(N>=T.length)C();else if(I.parseRuntime.subscribe&&I.parseRuntime.subscribe.onNext){var L=I.parseRuntime.subscribe.onNext,z=T[N],$=L(z,I.parseRuntime.parsedLineNumber+N);if(N++,$&&$.then)$.then(function(){(function(j,Z,M,f,d,g,m){d&&u(M,m),A(j,M,f,d,g)})(T,0,I,N,D,C,z)},C);else{for(D&&u(I,z);N<T.length;){var G=T[N];L(G,I.parseRuntime.parsedLineNumber+N),N++,D&&u(I,G)}C()}}else{if(D)for(;N<T.length;)G=T[N++],u(I,G);C()}}(h,p.converter,0,p.needPushDownstream,function(A){A?S(A):(p.appendFinalResult(h),y())}):(p.appendFinalResult(h),y())})},l.prototype.appendFinalResult=function(h){this.needEmitAll&&(this.finalResult=this.finalResult.concat(h)),this.converter.parseRuntime.parsedLineNumber+=h.length},l.prototype.processError=function(h){this.converter.parseRuntime.subscribe&&this.converter.parseRuntime.subscribe.onError&&this.converter.parseRuntime.subscribe.onError(h),this.converter.parseRuntime.then&&this.converter.parseRuntime.then.onrejected&&this.converter.parseRuntime.then.onrejected(h)},l.prototype.endProcess=function(){this.converter.parseRuntime.then&&this.converter.parseRuntime.then.onfulfilled&&(this.needEmitAll?this.converter.parseRuntime.then.onfulfilled(this.finalResult):this.converter.parseRuntime.then.onfulfilled([])),this.converter.parseRuntime.subscribe&&this.converter.parseRuntime.subscribe.onCompleted&&this.converter.parseRuntime.subscribe.onCompleted(),this.needPushDownstream&&this.converter.parseParam.downstreamFormat==="array"&&u(this.converter,"]"+s.EOL)},l}();function u(l,h){if(typeof h!="object"||l.options.objectMode)l.push(h);else{var p=JSON.stringify(h);l.push(p+(l.parseParam.downstreamFormat==="array"?","+s.EOL:s.EOL),"utf8")}}e.Result=o},function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return typeof location!="undefined"?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return typeof navigator!="undefined"?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL=`
`,e.homedir=function(){return"/"}}])});var cr=ne((BA,mF)=>{var iw=yn(),Xu=iw.Buffer;function pF(t,e){for(var r in t)e[r]=t[r]}Xu.from&&Xu.alloc&&Xu.allocUnsafe&&Xu.allocUnsafeSlow?mF.exports=iw:(pF(iw,BA),BA.Buffer=Vd);function Vd(t,e,r){return Xu(t,e,r)}pF(Xu,Vd);Vd.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Xu(t,e,r)};Vd.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Xu(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Vd.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Xu(t)};Vd.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return iw.SlowBuffer(t)}});var Mc=ne((AXe,PA)=>{"use strict";var LA=65536,Ice=4294967295;function Dce(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Oce=cr().Buffer,aw=global.crypto||global.msCrypto;aw&&aw.getRandomValues?PA.exports=Rce:PA.exports=Dce;function Rce(t,e){if(t>Ice)throw new RangeError("requested too many random bytes");var r=Oce.allocUnsafe(t);if(t>0)if(t>LA)for(var n=0;n<t;n+=LA)aw.getRandomValues(r.slice(n,n+LA));else aw.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}});var yF=ne((qA,gF)=>{var sw=yn(),yu=sw.Buffer;function vF(t,e){for(var r in t)e[r]=t[r]}yu.from&&yu.alloc&&yu.allocUnsafe&&yu.allocUnsafeSlow?gF.exports=sw:(vF(sw,qA),qA.Buffer=Ac);function Ac(t,e,r){return yu(t,e,r)}Ac.prototype=Object.create(yu.prototype);vF(yu,Ac);Ac.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return yu(t,e,r)};Ac.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=yu(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ac.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return yu(t)};Ac.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return sw.SlowBuffer(t)}});var $A=ne((kXe,bF)=>{bF.exports=ws().EventEmitter});var SF=ne((TXe,xF)=>{"use strict";function wF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(r),!0).forEach(function(n){Fce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fce(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Lce(t,e,r){return e&&_F(t.prototype,e),r&&_F(t,r),t}var Pce=yn(),ow=Pce.Buffer,qce=hu(),zA=qce.inspect,$ce=zA&&zA.custom||"inspect";function zce(t,e,r){ow.prototype.copy.call(t,e,r)}xF.exports=function(){function t(){Bce(this,t),this.head=null,this.tail=null,this.length=0}return Lce(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,a=""+n.data;n=n.next;)a+=r+n.data;return a}},{key:"concat",value:function(r){if(this.length===0)return ow.alloc(0);for(var n=ow.allocUnsafe(r>>>0),a=this.head,s=0;a;)zce(a.data,n,s),s+=a.data.length,a=a.next;return n}},{key:"consume",value:function(r,n){var a;return r<this.head.data.length?(a=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?a=this.shift():a=n?this._getString(r):this._getBuffer(r),a}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,a=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,u=r>o.length?o.length:r;if(u===o.length?s+=o:s+=o.slice(0,r),r-=u,r===0){u===o.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(u));break}++a}return this.length-=a,s}},{key:"_getBuffer",value:function(r){var n=ow.allocUnsafe(r),a=this.head,s=1;for(a.data.copy(n),r-=a.data.length;a=a.next;){var o=a.data,u=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,u),r-=u,r===0){u===o.length?(++s,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=o.slice(u));break}++s}return this.length-=s,n}},{key:$ce,value:function(r,n){return zA(this,Cce({},n,{depth:0,customInspect:!1}))}}]),t}()});var UA=ne((NXe,MF)=>{"use strict";function jce(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(jA,this,t)):process.nextTick(jA,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(uw,r):(r._writableState.errorEmitted=!0,process.nextTick(EF,r,s)):process.nextTick(EF,r,s):e?(process.nextTick(uw,r),e(s)):process.nextTick(uw,r)}),this)}function EF(t,e){jA(t,e),uw(t)}function uw(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Uce(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function jA(t,e){t.emit("error",e)}function Vce(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}MF.exports={destroy:jce,undestroy:Uce,errorOrDestroy:Vce}});var kc=ne((IXe,TF)=>{"use strict";function Wce(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var kF={};function As(t,e,r){r||(r=Error);function n(s,o,u){return typeof e=="string"?e:e(s,o,u)}var a=function(s){Wce(o,s);function o(u,l,h){return s.call(this,n(u,l,h))||this}return o}(r);a.prototype.name=r.name,a.prototype.code=t,kF[t]=a}function AF(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Gce(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Hce(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Kce(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}As("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);As("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Gce(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var a;if(Hce(t," argument"))a="The ".concat(t," ").concat(n," ").concat(AF(e,"type"));else{var s=Kce(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(AF(e,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);As("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");As("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});As("ERR_STREAM_PREMATURE_CLOSE","Premature close");As("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});As("ERR_MULTIPLE_CALLBACK","Callback called multiple times");As("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");As("ERR_STREAM_WRITE_AFTER_END","write after end");As("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);As("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);As("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");TF.exports.codes=kF});var VA=ne((DXe,NF)=>{"use strict";var Zce=kc().codes.ERR_INVALID_OPT_VALUE;function Jce(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Yce(t,e,r,n){var a=Jce(e,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var s=n?r:"highWaterMark";throw new Zce(s,a)}return Math.floor(a)}return t.objectMode?16:16*1024}NF.exports={getHighWaterMark:Yce}});var HA=ne((OXe,FF)=>{"use strict";FF.exports=ai;function DF(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Ehe(e,t)}}var Wd;ai.WritableState=$v;var Xce={deprecate:kv()},OF=$A(),lw=yn().Buffer,Qce=global.Uint8Array||function(){};function ehe(t){return lw.from(t)}function the(t){return lw.isBuffer(t)||t instanceof Qce}var GA=UA(),rhe=VA(),nhe=rhe.getHighWaterMark,ul=kc().codes,ihe=ul.ERR_INVALID_ARG_TYPE,ahe=ul.ERR_METHOD_NOT_IMPLEMENTED,she=ul.ERR_MULTIPLE_CALLBACK,ohe=ul.ERR_STREAM_CANNOT_PIPE,uhe=ul.ERR_STREAM_DESTROYED,fhe=ul.ERR_STREAM_NULL_VALUES,lhe=ul.ERR_STREAM_WRITE_AFTER_END,che=ul.ERR_UNKNOWN_ENCODING,Gd=GA.errorOrDestroy;At()(ai,OF);function hhe(){}function $v(t,e,r){Wd=Wd||Tc(),t=t||{},typeof r!="boolean"&&(r=e instanceof Wd),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=nhe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){bhe(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new DF(this)}$v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty($v.prototype,"buffer",{get:Xce.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var fw;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(fw=Function.prototype[Symbol.hasInstance],Object.defineProperty(ai,Symbol.hasInstance,{value:function(e){return fw.call(this,e)?!0:this!==ai?!1:e&&e._writableState instanceof $v}})):fw=function(e){return e instanceof this};function ai(t){Wd=Wd||Tc();var e=this instanceof Wd;if(!e&&!fw.call(ai,this))return new ai(t);this._writableState=new $v(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),OF.call(this)}ai.prototype.pipe=function(){Gd(this,new ohe)};function dhe(t,e){var r=new lhe;Gd(t,r),process.nextTick(e,r)}function phe(t,e,r,n){var a;return r===null?a=new fhe:typeof r!="string"&&!e.objectMode&&(a=new ihe("chunk",["string","Buffer"],r)),a?(Gd(t,a),process.nextTick(n,a),!1):!0}ai.prototype.write=function(t,e,r){var n=this._writableState,a=!1,s=!n.objectMode&&the(t);return s&&!lw.isBuffer(t)&&(t=ehe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=hhe),n.ending?dhe(this,r):(s||phe(this,n,t,r))&&(n.pendingcb++,a=vhe(this,n,s,t,e,r)),a};ai.prototype.cork=function(){this._writableState.corked++};ai.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&RF(this,t))};ai.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new che(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(ai.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function mhe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=lw.from(e,r)),e}Object.defineProperty(ai.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function vhe(t,e,r,n,a,s){if(!r){var o=mhe(e,n,a);n!==o&&(r=!0,a="buffer",n=o)}var u=e.objectMode?1:n.length;e.length+=u;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else WA(t,e,!1,u,n,a,s);return l}function WA(t,e,r,n,a,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new uhe("write")):r?t._writev(a,e.onwrite):t._write(a,s,e.onwrite),e.sync=!1}function ghe(t,e,r,n,a){--e.pendingcb,r?(process.nextTick(a,n),process.nextTick(qv,t,e),t._writableState.errorEmitted=!0,Gd(t,n)):(a(n),t._writableState.errorEmitted=!0,Gd(t,n),qv(t,e))}function yhe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function bhe(t,e){var r=t._writableState,n=r.sync,a=r.writecb;if(typeof a!="function")throw new she;if(yhe(r),e)ghe(t,r,n,e,a);else{var s=CF(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&RF(t,r),n?process.nextTick(IF,t,r,s,a):IF(t,r,s,a)}}function IF(t,e,r,n){r||whe(t,e),e.pendingcb--,n(),qv(t,e)}function whe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function RF(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,a=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,u=!0;r;)a[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;a.allBuffers=u,WA(t,e,!0,e.length,a,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new DF(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,h=r.encoding,p=r.callback,v=e.objectMode?1:l.length;if(WA(t,e,!1,v,l,h,p),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}ai.prototype._write=function(t,e,r){r(new ahe("_write()"))};ai.prototype._writev=null;ai.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||She(this,n,r),this};Object.defineProperty(ai.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function CF(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function _he(t,e){t._final(function(r){e.pendingcb--,r&&Gd(t,r),e.prefinished=!0,t.emit("prefinish"),qv(t,e)})}function xhe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(_he,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function qv(t,e){var r=CF(e);if(r&&(xhe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function She(t,e,r){e.ending=!0,qv(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Ehe(t,e,r){var n=t.entry;for(t.entry=null;n;){var a=n.callback;e.pendingcb--,a(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(ai.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});ai.prototype.destroy=GA.destroy;ai.prototype._undestroy=GA.undestroy;ai.prototype._destroy=function(t,e){e(t)}});var Tc=ne((RXe,LF)=>{"use strict";var Mhe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};LF.exports=bu;var BF=JA(),ZA=HA();At()(bu,BF);for(KA=Mhe(ZA.prototype),cw=0;cw<KA.length;cw++)hw=KA[cw],bu.prototype[hw]||(bu.prototype[hw]=ZA.prototype[hw]);var KA,hw,cw;function bu(t){if(!(this instanceof bu))return new bu(t);BF.call(this,t),ZA.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Ahe)))}Object.defineProperty(bu.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(bu.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(bu.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ahe(){this._writableState.ended||process.nextTick(khe,this)}function khe(t){t.end()}Object.defineProperty(bu.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var dw=ne((CXe,$F)=>{"use strict";var PF=kc().codes.ERR_STREAM_PREMATURE_CLOSE;function The(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];t.apply(this,n)}}}function Nhe(){}function Ihe(t){return t.setHeader&&typeof t.abort=="function"}function qF(t,e,r){if(typeof e=="function")return qF(t,null,e);e||(e={}),r=The(r||Nhe);var n=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||u()},o=t._writableState&&t._writableState.finished,u=function(){a=!1,o=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,h=function(){n=!1,l=!0,a||r.call(t)},p=function(A){r.call(t,A)},v=function(){var A;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(A=new PF),r.call(t,A);if(a&&!o)return(!t._writableState||!t._writableState.ended)&&(A=new PF),r.call(t,A)},y=function(){t.req.on("finish",u)};return Ihe(t)?(t.on("complete",u),t.on("abort",v),t.req?y():t.on("request",y)):a&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",h),t.on("finish",u),e.error!==!1&&t.on("error",p),t.on("close",v),function(){t.removeListener("complete",u),t.removeListener("abort",v),t.removeListener("request",y),t.req&&t.req.removeListener("finish",u),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",u),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",v)}}$F.exports=qF});var jF=ne((FXe,zF)=>{"use strict";var pw;function fl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Dhe=dw(),ll=Symbol("lastResolve"),Nc=Symbol("lastReject"),zv=Symbol("error"),mw=Symbol("ended"),Ic=Symbol("lastPromise"),YA=Symbol("handlePromise"),Dc=Symbol("stream");function cl(t,e){return{value:t,done:e}}function Ohe(t){var e=t[ll];if(e!==null){var r=t[Dc].read();r!==null&&(t[Ic]=null,t[ll]=null,t[Nc]=null,e(cl(r,!1)))}}function Rhe(t){process.nextTick(Ohe,t)}function Che(t,e){return function(r,n){t.then(function(){if(e[mw]){r(cl(void 0,!0));return}e[YA](r,n)},n)}}var Fhe=Object.getPrototypeOf(function(){}),Bhe=Object.setPrototypeOf((pw={get stream(){return this[Dc]},next:function(){var e=this,r=this[zv];if(r!==null)return Promise.reject(r);if(this[mw])return Promise.resolve(cl(void 0,!0));if(this[Dc].destroyed)return new Promise(function(o,u){process.nextTick(function(){e[zv]?u(e[zv]):o(cl(void 0,!0))})});var n=this[Ic],a;if(n)a=new Promise(Che(n,this));else{var s=this[Dc].read();if(s!==null)return Promise.resolve(cl(s,!1));a=new Promise(this[YA])}return this[Ic]=a,a}},fl(pw,Symbol.asyncIterator,function(){return this}),fl(pw,"return",function(){var e=this;return new Promise(function(r,n){e[Dc].destroy(null,function(a){if(a){n(a);return}r(cl(void 0,!0))})})}),pw),Fhe),Lhe=function(e){var r,n=Object.create(Bhe,(r={},fl(r,Dc,{value:e,writable:!0}),fl(r,ll,{value:null,writable:!0}),fl(r,Nc,{value:null,writable:!0}),fl(r,zv,{value:null,writable:!0}),fl(r,mw,{value:e._readableState.endEmitted,writable:!0}),fl(r,YA,{value:function(s,o){var u=n[Dc].read();u?(n[Ic]=null,n[ll]=null,n[Nc]=null,s(cl(u,!1))):(n[ll]=s,n[Nc]=o)},writable:!0}),r));return n[Ic]=null,Dhe(e,function(a){if(a&&a.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Nc];s!==null&&(n[Ic]=null,n[ll]=null,n[Nc]=null,s(a)),n[zv]=a;return}var o=n[ll];o!==null&&(n[Ic]=null,n[ll]=null,n[Nc]=null,o(cl(void 0,!0))),n[mw]=!0}),e.on("readable",Rhe.bind(null,n)),n};zF.exports=Lhe});var VF=ne((BXe,UF)=>{UF.exports=function(){throw new Error("Readable.from is not available in the browser")}});var JA=ne((PXe,e7)=>{"use strict";e7.exports=br;var Hd;br.ReadableState=KF;var LXe=ws().EventEmitter,HF=function(e,r){return e.listeners(r).length},Uv=$A(),vw=yn().Buffer,Phe=global.Uint8Array||function(){};function qhe(t){return vw.from(t)}function $he(t){return vw.isBuffer(t)||t instanceof Phe}var XA=hu(),rr;XA&&XA.debuglog?rr=XA.debuglog("stream"):rr=function(){};var zhe=SF(),ak=UA(),jhe=VA(),Uhe=jhe.getHighWaterMark,gw=kc().codes,Vhe=gw.ERR_INVALID_ARG_TYPE,Whe=gw.ERR_STREAM_PUSH_AFTER_EOF,Ghe=gw.ERR_METHOD_NOT_IMPLEMENTED,Hhe=gw.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Kd,QA,ek;At()(br,Uv);var jv=ak.errorOrDestroy,tk=["error","close","destroy","pause","resume"];function Khe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function KF(t,e,r){Hd=Hd||Tc(),t=t||{},typeof r!="boolean"&&(r=e instanceof Hd),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Uhe(this,t,"readableHighWaterMark",r),this.buffer=new zhe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Kd||(Kd=mu().StringDecoder),this.decoder=new Kd(t.encoding),this.encoding=t.encoding)}function br(t){if(Hd=Hd||Tc(),!(this instanceof br))return new br(t);var e=this instanceof Hd;this._readableState=new KF(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Uv.call(this)}Object.defineProperty(br.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});br.prototype.destroy=ak.destroy;br.prototype._undestroy=ak.undestroy;br.prototype._destroy=function(t,e){e(t)};br.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=vw.from(t,e),e=""),n=!0),ZF(this,t,e,!1,n)};br.prototype.unshift=function(t){return ZF(this,t,null,!0,!1)};function ZF(t,e,r,n,a){rr("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,Yhe(t,s);else{var o;if(a||(o=Zhe(s,e)),o)jv(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==vw.prototype&&(e=qhe(e)),n)s.endEmitted?jv(t,new Hhe):rk(t,s,e,!0);else if(s.ended)jv(t,new Whe);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?rk(t,s,e,!1):ik(t,s)):rk(t,s,e,!1)}else n||(s.reading=!1,ik(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function rk(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&yw(t)),ik(t,e)}function Zhe(t,e){var r;return!$he(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Vhe("chunk",["string","Buffer","Uint8Array"],e)),r}br.prototype.isPaused=function(){return this._readableState.flowing===!1};br.prototype.setEncoding=function(t){Kd||(Kd=mu().StringDecoder);var e=new Kd(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var WF=1073741824;function Jhe(t){return t>=WF?t=WF:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function GF(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Jhe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}br.prototype.read=function(t){rr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return rr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?nk(this):yw(this),null;if(t=GF(t,e),t===0&&e.ended)return e.length===0&&nk(this),null;var n=e.needReadable;rr("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,rr("length less than watermark",n)),e.ended||e.reading?(n=!1,rr("reading or ended",n)):n&&(rr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=GF(r,e)));var a;return t>0?a=XF(t,e):a=null,a===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&nk(this)),a!==null&&this.emit("data",a),a};function Yhe(t,e){if(rr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?yw(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,JF(t)))}}function yw(t){var e=t._readableState;rr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(rr("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(JF,t))}function JF(t){var e=t._readableState;rr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,sk(t)}function ik(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(Xhe,t,e))}function Xhe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(rr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}br.prototype._read=function(t){jv(this,new Ghe("_read()"))};br.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,rr("pipe count=%d opts=%j",n.pipesCount,e);var a=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=a?u:T;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(I,N){rr("onunpipe"),I===r&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,p())}function u(){rr("onend"),t.end()}var l=Qhe(r);t.on("drain",l);var h=!1;function p(){rr("cleanup"),t.removeListener("close",S),t.removeListener("finish",A),t.removeListener("drain",l),t.removeListener("error",y),t.removeListener("unpipe",o),r.removeListener("end",u),r.removeListener("end",T),r.removeListener("data",v),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",v);function v(I){rr("ondata");var N=t.write(I);rr("dest.write",N),N===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&QF(n.pipes,t)!==-1)&&!h&&(rr("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function y(I){rr("onerror",I),T(),t.removeListener("error",y),HF(t,"error")===0&&jv(t,I)}Khe(t,"error",y);function S(){t.removeListener("finish",A),T()}t.once("close",S);function A(){rr("onfinish"),t.removeListener("close",S),T()}t.once("finish",A);function T(){rr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(rr("pipe resume"),r.resume()),t};function Qhe(t){return function(){var r=t._readableState;rr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&HF(t,"data")&&(r.flowing=!0,sk(t))}}br.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,a=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<a;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=QF(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};br.prototype.on=function(t,e){var r=Uv.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,rr("on readable",n.length,n.reading),n.length?yw(this):n.reading||process.nextTick(ede,this)),r};br.prototype.addListener=br.prototype.on;br.prototype.removeListener=function(t,e){var r=Uv.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(YF,this),r};br.prototype.removeAllListeners=function(t){var e=Uv.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(YF,this),e};function YF(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function ede(t){rr("readable nexttick read 0"),t.read(0)}br.prototype.resume=function(){var t=this._readableState;return t.flowing||(rr("resume"),t.flowing=!t.readableListening,tde(this,t)),t.paused=!1,this};function tde(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(rde,t,e))}function rde(t,e){rr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),sk(t),e.flowing&&!e.reading&&t.read(0)}br.prototype.pause=function(){return rr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(rr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function sk(t){var e=t._readableState;for(rr("flow",e.flowing);e.flowing&&t.read()!==null;);}br.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(rr("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(rr("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var u=e.push(o);u||(n=!0,t.pause())}});for(var a in t)this[a]===void 0&&typeof t[a]=="function"&&(this[a]=function(u){return function(){return t[u].apply(t,arguments)}}(a));for(var s=0;s<tk.length;s++)t.on(tk[s],this.emit.bind(this,tk[s]));return this._read=function(o){rr("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(br.prototype[Symbol.asyncIterator]=function(){return QA===void 0&&(QA=jF()),QA(this)});Object.defineProperty(br.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(br.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(br.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});br._fromList=XF;Object.defineProperty(br.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function XF(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function nk(t){var e=t._readableState;rr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(nde,e,t))}function nde(t,e){if(rr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(br.from=function(t,e){return ek===void 0&&(ek=VF()),ek(br,t,e)});function QF(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var ok=ne((qXe,r7)=>{"use strict";r7.exports=Qu;var bw=kc().codes,ide=bw.ERR_METHOD_NOT_IMPLEMENTED,ade=bw.ERR_MULTIPLE_CALLBACK,sde=bw.ERR_TRANSFORM_ALREADY_TRANSFORMING,ode=bw.ERR_TRANSFORM_WITH_LENGTH_0,ww=Tc();At()(Qu,ww);function ude(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new ade);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function Qu(t){if(!(this instanceof Qu))return new Qu(t);ww.call(this,t),this._transformState={afterTransform:ude.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",fde)}function fde(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){t7(t,e,r)}):t7(this,null,null)}Qu.prototype.push=function(t,e){return this._transformState.needTransform=!1,ww.prototype.push.call(this,t,e)};Qu.prototype._transform=function(t,e,r){r(new ide("_transform()"))};Qu.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};Qu.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Qu.prototype._destroy=function(t,e){ww.prototype._destroy.call(this,t,function(r){e(r)})};function t7(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new ode;if(t._transformState.transforming)throw new sde;return t.push(null)}});var a7=ne(($Xe,i7)=>{"use strict";i7.exports=Vv;var n7=ok();At()(Vv,n7);function Vv(t){if(!(this instanceof Vv))return new Vv(t);n7.call(this,t)}Vv.prototype._transform=function(t,e,r){r(null,t)}});var l7=ne((zXe,f7)=>{"use strict";var uk;function lde(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var u7=kc().codes,cde=u7.ERR_MISSING_ARGS,hde=u7.ERR_STREAM_DESTROYED;function s7(t){if(t)throw t}function dde(t){return t.setHeader&&typeof t.abort=="function"}function pde(t,e,r,n){n=lde(n);var a=!1;t.on("close",function(){a=!0}),uk===void 0&&(uk=dw()),uk(t,{readable:e,writable:r},function(o){if(o)return n(o);a=!0,n()});var s=!1;return function(o){if(!a&&!s){if(s=!0,dde(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new hde("pipe"))}}}function o7(t){t()}function mde(t,e){return t.pipe(e)}function vde(t){return!t.length||typeof t[t.length-1]!="function"?s7:t.pop()}function gde(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=vde(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new cde("streams");var a,s=e.map(function(o,u){var l=u<e.length-1,h=u>0;return pde(o,l,h,function(p){a||(a=p),p&&s.forEach(o7),!l&&(s.forEach(o7),n(a))})});return e.reduce(mde)}f7.exports=gde});var h7=ne((ks,c7)=>{ks=c7.exports=JA();ks.Stream=ks;ks.Readable=ks;ks.Writable=HA();ks.Duplex=Tc();ks.Transform=ok();ks.PassThrough=a7();ks.finished=dw();ks.pipeline=l7()});var fk=ne((jXe,p7)=>{"use strict";var _w=yF().Buffer,d7=h7().Transform,yde=At();function bde(t,e){if(!_w.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function hl(t){d7.call(this),this._block=_w.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}yde(hl,d7);hl.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(a){n=a}r(n)};hl.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};hl.prototype.update=function(t,e){if(bde(t,"Data"),this._finalized)throw new Error("Digest already called");_w.isBuffer(t)||(t=_w.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)r[a++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,o=t.length*8;o>0;++s)this._length[s]+=o,o=this._length[s]/4294967296|0,o>0&&(this._length[s]-=4294967296*o);return this};hl.prototype._update=function(){throw new Error("_update is not implemented")};hl.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};hl.prototype._digest=function(){throw new Error("_digest is not implemented")};p7.exports=hl});var Ew=ne((UXe,v7)=>{"use strict";var wde=At(),m7=fk(),_de=cr().Buffer,xde=new Array(16);function xw(){m7.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}wde(xw,m7);xw.prototype._update=function(){for(var t=xde,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,a=this._c,s=this._d;r=oa(r,n,a,s,t[0],3614090360,7),s=oa(s,r,n,a,t[1],3905402710,12),a=oa(a,s,r,n,t[2],606105819,17),n=oa(n,a,s,r,t[3],3250441966,22),r=oa(r,n,a,s,t[4],4118548399,7),s=oa(s,r,n,a,t[5],1200080426,12),a=oa(a,s,r,n,t[6],2821735955,17),n=oa(n,a,s,r,t[7],4249261313,22),r=oa(r,n,a,s,t[8],1770035416,7),s=oa(s,r,n,a,t[9],2336552879,12),a=oa(a,s,r,n,t[10],4294925233,17),n=oa(n,a,s,r,t[11],2304563134,22),r=oa(r,n,a,s,t[12],1804603682,7),s=oa(s,r,n,a,t[13],4254626195,12),a=oa(a,s,r,n,t[14],2792965006,17),n=oa(n,a,s,r,t[15],1236535329,22),r=ua(r,n,a,s,t[1],4129170786,5),s=ua(s,r,n,a,t[6],3225465664,9),a=ua(a,s,r,n,t[11],643717713,14),n=ua(n,a,s,r,t[0],3921069994,20),r=ua(r,n,a,s,t[5],3593408605,5),s=ua(s,r,n,a,t[10],38016083,9),a=ua(a,s,r,n,t[15],3634488961,14),n=ua(n,a,s,r,t[4],3889429448,20),r=ua(r,n,a,s,t[9],568446438,5),s=ua(s,r,n,a,t[14],3275163606,9),a=ua(a,s,r,n,t[3],4107603335,14),n=ua(n,a,s,r,t[8],1163531501,20),r=ua(r,n,a,s,t[13],2850285829,5),s=ua(s,r,n,a,t[2],4243563512,9),a=ua(a,s,r,n,t[7],1735328473,14),n=ua(n,a,s,r,t[12],2368359562,20),r=fa(r,n,a,s,t[5],4294588738,4),s=fa(s,r,n,a,t[8],2272392833,11),a=fa(a,s,r,n,t[11],1839030562,16),n=fa(n,a,s,r,t[14],4259657740,23),r=fa(r,n,a,s,t[1],2763975236,4),s=fa(s,r,n,a,t[4],1272893353,11),a=fa(a,s,r,n,t[7],4139469664,16),n=fa(n,a,s,r,t[10],3200236656,23),r=fa(r,n,a,s,t[13],681279174,4),s=fa(s,r,n,a,t[0],3936430074,11),a=fa(a,s,r,n,t[3],3572445317,16),n=fa(n,a,s,r,t[6],76029189,23),r=fa(r,n,a,s,t[9],3654602809,4),s=fa(s,r,n,a,t[12],3873151461,11),a=fa(a,s,r,n,t[15],530742520,16),n=fa(n,a,s,r,t[2],3299628645,23),r=la(r,n,a,s,t[0],4096336452,6),s=la(s,r,n,a,t[7],1126891415,10),a=la(a,s,r,n,t[14],2878612391,15),n=la(n,a,s,r,t[5],4237533241,21),r=la(r,n,a,s,t[12],1700485571,6),s=la(s,r,n,a,t[3],2399980690,10),a=la(a,s,r,n,t[10],4293915773,15),n=la(n,a,s,r,t[1],2240044497,21),r=la(r,n,a,s,t[8],1873313359,6),s=la(s,r,n,a,t[15],4264355552,10),a=la(a,s,r,n,t[6],2734768916,15),n=la(n,a,s,r,t[13],1309151649,21),r=la(r,n,a,s,t[4],4149444226,6),s=la(s,r,n,a,t[11],3174756917,10),a=la(a,s,r,n,t[2],718787259,15),n=la(n,a,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+a|0,this._d=this._d+s|0};xw.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=_de.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function Sw(t,e){return t<<e|t>>>32-e}function oa(t,e,r,n,a,s,o){return Sw(t+(e&r|~e&n)+a+s|0,o)+e|0}function ua(t,e,r,n,a,s,o){return Sw(t+(e&n|r&~n)+a+s|0,o)+e|0}function fa(t,e,r,n,a,s,o){return Sw(t+(e^r^n)+a+s|0,o)+e|0}function la(t,e,r,n,a,s,o){return Sw(t+(r^(e|~n))+a+s|0,o)+e|0}v7.exports=xw});var Aw=ne((VXe,S7)=>{"use strict";var lk=yn().Buffer,Sde=At(),x7=fk(),Ede=new Array(16),Wv=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Gv=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Hv=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Kv=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Zv=[0,1518500249,1859775393,2400959708,2840853838],Jv=[1352829926,1548603684,1836072691,2053994217,0];function Mw(){x7.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}Sde(Mw,x7);Mw.prototype._update=function(){for(var t=Ede,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,a=this._c|0,s=this._d|0,o=this._e|0,u=this._a|0,l=this._b|0,h=this._c|0,p=this._d|0,v=this._e|0,y=0;y<80;y+=1){var S,A;y<16?(S=g7(r,n,a,s,o,t[Wv[y]],Zv[0],Hv[y]),A=_7(u,l,h,p,v,t[Gv[y]],Jv[0],Kv[y])):y<32?(S=y7(r,n,a,s,o,t[Wv[y]],Zv[1],Hv[y]),A=w7(u,l,h,p,v,t[Gv[y]],Jv[1],Kv[y])):y<48?(S=b7(r,n,a,s,o,t[Wv[y]],Zv[2],Hv[y]),A=b7(u,l,h,p,v,t[Gv[y]],Jv[2],Kv[y])):y<64?(S=w7(r,n,a,s,o,t[Wv[y]],Zv[3],Hv[y]),A=y7(u,l,h,p,v,t[Gv[y]],Jv[3],Kv[y])):(S=_7(r,n,a,s,o,t[Wv[y]],Zv[4],Hv[y]),A=g7(u,l,h,p,v,t[Gv[y]],Jv[4],Kv[y])),r=o,o=s,s=Oc(a,10),a=n,n=S,u=v,v=p,p=Oc(h,10),h=l,l=A}var T=this._b+a+p|0;this._b=this._c+s+v|0,this._c=this._d+o+u|0,this._d=this._e+r+l|0,this._e=this._a+n+h|0,this._a=T};Mw.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=lk.alloc?lk.alloc(20):new lk(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Oc(t,e){return t<<e|t>>>32-e}function g7(t,e,r,n,a,s,o,u){return Oc(t+(e^r^n)+s+o|0,u)+a|0}function y7(t,e,r,n,a,s,o,u){return Oc(t+(e&r|~e&n)+s+o|0,u)+a|0}function b7(t,e,r,n,a,s,o,u){return Oc(t+((e|~r)^n)+s+o|0,u)+a|0}function w7(t,e,r,n,a,s,o,u){return Oc(t+(e&n|r&~n)+s+o|0,u)+a|0}function _7(t,e,r,n,a,s,o,u){return Oc(t+(e^(r|~n))+s+o|0,u)+a|0}S7.exports=Mw});var Rc=ne((WXe,M7)=>{var E7=cr().Buffer;function kw(t,e){this._block=E7.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}kw.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=E7.from(t,e));for(var r=this._block,n=this._blockSize,a=t.length,s=this._len,o=0;o<a;){for(var u=s%n,l=Math.min(a-o,n-u),h=0;h<l;h++)r[u+h]=t[o+h];s+=l,o+=l,s%n===0&&this._update(r)}return this._len+=a,this};kw.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,a=(r-n)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};kw.prototype._update=function(){throw new Error("_update must be implemented by subclass")};M7.exports=kw});var T7=ne((GXe,k7)=>{var Mde=At(),A7=Rc(),Ade=cr().Buffer,kde=[1518500249,1859775393,-1894007588,-899497514],Tde=new Array(80);function Yv(){this.init(),this._w=Tde,A7.call(this,64,56)}Mde(Yv,A7);Yv.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Nde(t){return t<<5|t>>>27}function Ide(t){return t<<30|t>>>2}function Dde(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Yv.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,a=this._c|0,s=this._d|0,o=this._e|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<80;++u)e[u]=e[u-3]^e[u-8]^e[u-14]^e[u-16];for(var l=0;l<80;++l){var h=~~(l/20),p=Nde(r)+Dde(h,n,a,s)+o+e[l]+kde[h]|0;o=s,s=a,a=Ide(n),n=r,r=p}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Yv.prototype._hash=function(){var t=Ade.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};k7.exports=Yv});var D7=ne((HXe,I7)=>{var Ode=At(),N7=Rc(),Rde=cr().Buffer,Cde=[1518500249,1859775393,-1894007588,-899497514],Fde=new Array(80);function Xv(){this.init(),this._w=Fde,N7.call(this,64,56)}Ode(Xv,N7);Xv.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Bde(t){return t<<1|t>>>31}function Lde(t){return t<<5|t>>>27}function Pde(t){return t<<30|t>>>2}function qde(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Xv.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,a=this._c|0,s=this._d|0,o=this._e|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<80;++u)e[u]=Bde(e[u-3]^e[u-8]^e[u-14]^e[u-16]);for(var l=0;l<80;++l){var h=~~(l/20),p=Lde(r)+qde(h,n,a,s)+o+e[l]+Cde[h]|0;o=s,s=a,a=Pde(n),n=r,r=p}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Xv.prototype._hash=function(){var t=Rde.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};I7.exports=Xv});var ck=ne((KXe,R7)=>{var $de=At(),O7=Rc(),zde=cr().Buffer,jde=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Ude=new Array(64);function Qv(){this.init(),this._w=Ude,O7.call(this,64,56)}$de(Qv,O7);Qv.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Vde(t,e,r){return r^t&(e^r)}function Wde(t,e,r){return t&e|r&(t|e)}function Gde(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Hde(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Kde(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Zde(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Qv.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,a=this._c|0,s=this._d|0,o=this._e|0,u=this._f|0,l=this._g|0,h=this._h|0,p=0;p<16;++p)e[p]=t.readInt32BE(p*4);for(;p<64;++p)e[p]=Zde(e[p-2])+e[p-7]+Kde(e[p-15])+e[p-16]|0;for(var v=0;v<64;++v){var y=h+Hde(o)+Vde(o,u,l)+jde[v]+e[v]|0,S=Gde(r)+Wde(r,n,a)|0;h=l,l=u,u=o,o=s+y|0,s=a,a=n,n=r,r=y+S|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=u+this._f|0,this._g=l+this._g|0,this._h=h+this._h|0};Qv.prototype._hash=function(){var t=zde.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};R7.exports=Qv});var F7=ne((ZXe,C7)=>{var Jde=At(),Yde=ck(),Xde=Rc(),Qde=cr().Buffer,epe=new Array(64);function Tw(){this.init(),this._w=epe,Xde.call(this,64,56)}Jde(Tw,Yde);Tw.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Tw.prototype._hash=function(){var t=Qde.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};C7.exports=Tw});var hk=ne((JXe,j7)=>{var tpe=At(),z7=Rc(),rpe=cr().Buffer,B7=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],npe=new Array(160);function eg(){this.init(),this._w=npe,z7.call(this,128,112)}tpe(eg,z7);eg.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function L7(t,e,r){return r^t&(e^r)}function P7(t,e,r){return t&e|r&(t|e)}function q7(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function $7(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function ipe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function ape(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function spe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function ope(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Ci(t,e){return t>>>0<e>>>0?1:0}eg.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,a=this._ch|0,s=this._dh|0,o=this._eh|0,u=this._fh|0,l=this._gh|0,h=this._hh|0,p=this._al|0,v=this._bl|0,y=this._cl|0,S=this._dl|0,A=this._el|0,T=this._fl|0,I=this._gl|0,N=this._hl|0,D=0;D<32;D+=2)e[D]=t.readInt32BE(D*4),e[D+1]=t.readInt32BE(D*4+4);for(;D<160;D+=2){var C=e[D-30],L=e[D-15*2+1],z=ipe(C,L),$=ape(L,C);C=e[D-2*2],L=e[D-2*2+1];var G=spe(C,L),j=ope(L,C),Z=e[D-7*2],M=e[D-7*2+1],f=e[D-16*2],d=e[D-16*2+1],g=$+M|0,m=z+Z+Ci(g,$)|0;g=g+j|0,m=m+G+Ci(g,j)|0,g=g+d|0,m=m+f+Ci(g,d)|0,e[D]=m,e[D+1]=g}for(var b=0;b<160;b+=2){m=e[b],g=e[b+1];var E=P7(r,n,a),k=P7(p,v,y),w=q7(r,p),c=q7(p,r),_=$7(o,A),R=$7(A,o),O=B7[b],F=B7[b+1],U=L7(o,u,l),H=L7(A,T,I),J=N+R|0,fe=h+_+Ci(J,N)|0;J=J+H|0,fe=fe+U+Ci(J,H)|0,J=J+F|0,fe=fe+O+Ci(J,F)|0,J=J+g|0,fe=fe+m+Ci(J,g)|0;var B=c+k|0,q=w+E+Ci(B,c)|0;h=l,N=I,l=u,I=T,u=o,T=A,A=S+J|0,o=s+fe+Ci(A,S)|0,s=a,S=y,a=n,y=v,n=r,v=p,p=J+B|0,r=fe+q+Ci(p,J)|0}this._al=this._al+p|0,this._bl=this._bl+v|0,this._cl=this._cl+y|0,this._dl=this._dl+S|0,this._el=this._el+A|0,this._fl=this._fl+T|0,this._gl=this._gl+I|0,this._hl=this._hl+N|0,this._ah=this._ah+r+Ci(this._al,p)|0,this._bh=this._bh+n+Ci(this._bl,v)|0,this._ch=this._ch+a+Ci(this._cl,y)|0,this._dh=this._dh+s+Ci(this._dl,S)|0,this._eh=this._eh+o+Ci(this._el,A)|0,this._fh=this._fh+u+Ci(this._fl,T)|0,this._gh=this._gh+l+Ci(this._gl,I)|0,this._hh=this._hh+h+Ci(this._hl,N)|0};eg.prototype._hash=function(){var t=rpe.allocUnsafe(64);function e(r,n,a){t.writeInt32BE(r,a),t.writeInt32BE(n,a+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};j7.exports=eg});var V7=ne((YXe,U7)=>{var upe=At(),fpe=hk(),lpe=Rc(),cpe=cr().Buffer,hpe=new Array(160);function Nw(){this.init(),this._w=hpe,lpe.call(this,128,112)}upe(Nw,fpe);Nw.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Nw.prototype._hash=function(){var t=cpe.allocUnsafe(48);function e(r,n,a){t.writeInt32BE(r,a),t.writeInt32BE(n,a+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};U7.exports=Nw});var Iw=ne((ef,W7)=>{var ef=W7.exports=function(e){e=e.toLowerCase();var r=ef[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};ef.sha=T7();ef.sha1=D7();ef.sha224=F7();ef.sha256=ck();ef.sha384=V7();ef.sha512=hk()});var dk=ne((XXe,G7)=>{G7.exports=ws().EventEmitter});var J7=ne((QXe,Z7)=>{"use strict";function H7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dpe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H7(Object(r),!0).forEach(function(n){ppe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ppe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vpe(t,e,r){return e&&K7(t.prototype,e),r&&K7(t,r),t}var gpe=yn(),Dw=gpe.Buffer,ype=hu(),pk=ype.inspect,bpe=pk&&pk.custom||"inspect";function wpe(t,e,r){Dw.prototype.copy.call(t,e,r)}Z7.exports=function(){function t(){mpe(this,t),this.head=null,this.tail=null,this.length=0}return vpe(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,a=""+n.data;n=n.next;)a+=r+n.data;return a}},{key:"concat",value:function(r){if(this.length===0)return Dw.alloc(0);for(var n=Dw.allocUnsafe(r>>>0),a=this.head,s=0;a;)wpe(a.data,n,s),s+=a.data.length,a=a.next;return n}},{key:"consume",value:function(r,n){var a;return r<this.head.data.length?(a=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?a=this.shift():a=n?this._getString(r):this._getBuffer(r),a}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,a=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,u=r>o.length?o.length:r;if(u===o.length?s+=o:s+=o.slice(0,r),r-=u,r===0){u===o.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(u));break}++a}return this.length-=a,s}},{key:"_getBuffer",value:function(r){var n=Dw.allocUnsafe(r),a=this.head,s=1;for(a.data.copy(n),r-=a.data.length;a=a.next;){var o=a.data,u=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,u),r-=u,r===0){u===o.length?(++s,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=o.slice(u));break}++s}return this.length-=s,n}},{key:bpe,value:function(r,n){return pk(this,dpe({},n,{depth:0,customInspect:!1}))}}]),t}()});var vk=ne((eQe,X7)=>{"use strict";function _pe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(mk,this,t)):process.nextTick(mk,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Ow,r):(r._writableState.errorEmitted=!0,process.nextTick(Y7,r,s)):process.nextTick(Y7,r,s):e?(process.nextTick(Ow,r),e(s)):process.nextTick(Ow,r)}),this)}function Y7(t,e){mk(t,e),Ow(t)}function Ow(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function xpe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function mk(t,e){t.emit("error",e)}function Spe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}X7.exports={destroy:_pe,undestroy:xpe,errorOrDestroy:Spe}});var Cc=ne((tQe,t9)=>{"use strict";function Epe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var e9={};function Ts(t,e,r){r||(r=Error);function n(s,o,u){return typeof e=="string"?e:e(s,o,u)}var a=function(s){Epe(o,s);function o(u,l,h){return s.call(this,n(u,l,h))||this}return o}(r);a.prototype.name=r.name,a.prototype.code=t,e9[t]=a}function Q7(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Mpe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Ape(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function kpe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ts("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ts("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Mpe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var a;if(Ape(t," argument"))a="The ".concat(t," ").concat(n," ").concat(Q7(e,"type"));else{var s=kpe(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Q7(e,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);Ts("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ts("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ts("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ts("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ts("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ts("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ts("ERR_STREAM_WRITE_AFTER_END","write after end");Ts("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ts("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ts("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");t9.exports.codes=e9});var gk=ne((rQe,r9)=>{"use strict";var Tpe=Cc().codes.ERR_INVALID_OPT_VALUE;function Npe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Ipe(t,e,r,n){var a=Npe(e,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var s=n?r:"highWaterMark";throw new Tpe(s,a)}return Math.floor(a)}return t.objectMode?16:16*1024}r9.exports={getHighWaterMark:Ipe}});var wk=ne((nQe,u9)=>{"use strict";u9.exports=si;function i9(t){var e=this;this.next=null,this.entry=null,this.finish=function(){n0e(e,t)}}var Zd;si.WritableState=rg;var Dpe={deprecate:kv()},a9=dk(),Cw=yn().Buffer,Ope=global.Uint8Array||function(){};function Rpe(t){return Cw.from(t)}function Cpe(t){return Cw.isBuffer(t)||t instanceof Ope}var bk=vk(),Fpe=gk(),Bpe=Fpe.getHighWaterMark,dl=Cc().codes,Lpe=dl.ERR_INVALID_ARG_TYPE,Ppe=dl.ERR_METHOD_NOT_IMPLEMENTED,qpe=dl.ERR_MULTIPLE_CALLBACK,$pe=dl.ERR_STREAM_CANNOT_PIPE,zpe=dl.ERR_STREAM_DESTROYED,jpe=dl.ERR_STREAM_NULL_VALUES,Upe=dl.ERR_STREAM_WRITE_AFTER_END,Vpe=dl.ERR_UNKNOWN_ENCODING,Jd=bk.errorOrDestroy;At()(si,a9);function Wpe(){}function rg(t,e,r){Zd=Zd||Fc(),t=t||{},typeof r!="boolean"&&(r=e instanceof Zd),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Bpe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){Xpe(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i9(this)}rg.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(rg.prototype,"buffer",{get:Dpe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var Rw;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Rw=Function.prototype[Symbol.hasInstance],Object.defineProperty(si,Symbol.hasInstance,{value:function(e){return Rw.call(this,e)?!0:this!==si?!1:e&&e._writableState instanceof rg}})):Rw=function(e){return e instanceof this};function si(t){Zd=Zd||Fc();var e=this instanceof Zd;if(!e&&!Rw.call(si,this))return new si(t);this._writableState=new rg(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),a9.call(this)}si.prototype.pipe=function(){Jd(this,new $pe)};function Gpe(t,e){var r=new Upe;Jd(t,r),process.nextTick(e,r)}function Hpe(t,e,r,n){var a;return r===null?a=new jpe:typeof r!="string"&&!e.objectMode&&(a=new Lpe("chunk",["string","Buffer"],r)),a?(Jd(t,a),process.nextTick(n,a),!1):!0}si.prototype.write=function(t,e,r){var n=this._writableState,a=!1,s=!n.objectMode&&Cpe(t);return s&&!Cw.isBuffer(t)&&(t=Rpe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Wpe),n.ending?Gpe(this,r):(s||Hpe(this,n,t,r))&&(n.pendingcb++,a=Zpe(this,n,s,t,e,r)),a};si.prototype.cork=function(){this._writableState.corked++};si.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&s9(this,t))};si.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Vpe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(si.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Kpe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Cw.from(e,r)),e}Object.defineProperty(si.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Zpe(t,e,r,n,a,s){if(!r){var o=Kpe(e,n,a);n!==o&&(r=!0,a="buffer",n=o)}var u=e.objectMode?1:n.length;e.length+=u;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else yk(t,e,!1,u,n,a,s);return l}function yk(t,e,r,n,a,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new zpe("write")):r?t._writev(a,e.onwrite):t._write(a,s,e.onwrite),e.sync=!1}function Jpe(t,e,r,n,a){--e.pendingcb,r?(process.nextTick(a,n),process.nextTick(tg,t,e),t._writableState.errorEmitted=!0,Jd(t,n)):(a(n),t._writableState.errorEmitted=!0,Jd(t,n),tg(t,e))}function Ype(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Xpe(t,e){var r=t._writableState,n=r.sync,a=r.writecb;if(typeof a!="function")throw new qpe;if(Ype(r),e)Jpe(t,r,n,e,a);else{var s=o9(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&s9(t,r),n?process.nextTick(n9,t,r,s,a):n9(t,r,s,a)}}function n9(t,e,r,n){r||Qpe(t,e),e.pendingcb--,n(),tg(t,e)}function Qpe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function s9(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,a=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,u=!0;r;)a[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;a.allBuffers=u,yk(t,e,!0,e.length,a,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new i9(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,h=r.encoding,p=r.callback,v=e.objectMode?1:l.length;if(yk(t,e,!1,v,l,h,p),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}si.prototype._write=function(t,e,r){r(new Ppe("_write()"))};si.prototype._writev=null;si.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||r0e(this,n,r),this};Object.defineProperty(si.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o9(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function e0e(t,e){t._final(function(r){e.pendingcb--,r&&Jd(t,r),e.prefinished=!0,t.emit("prefinish"),tg(t,e)})}function t0e(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(e0e,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function tg(t,e){var r=o9(e);if(r&&(t0e(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function r0e(t,e,r){e.ending=!0,tg(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function n0e(t,e,r){var n=t.entry;for(t.entry=null;n;){var a=n.callback;e.pendingcb--,a(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(si.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});si.prototype.destroy=bk.destroy;si.prototype._undestroy=bk.undestroy;si.prototype._destroy=function(t,e){e(t)}});var Fc=ne((iQe,l9)=>{"use strict";var i0e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};l9.exports=wu;var f9=Sk(),xk=wk();At()(wu,f9);for(_k=i0e(xk.prototype),Fw=0;Fw<_k.length;Fw++)Bw=_k[Fw],wu.prototype[Bw]||(wu.prototype[Bw]=xk.prototype[Bw]);var _k,Bw,Fw;function wu(t){if(!(this instanceof wu))return new wu(t);f9.call(this,t),xk.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a0e)))}Object.defineProperty(wu.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(wu.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(wu.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a0e(){this._writableState.ended||process.nextTick(s0e,this)}function s0e(t){t.end()}Object.defineProperty(wu.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var Lw=ne((aQe,d9)=>{"use strict";var c9=Cc().codes.ERR_STREAM_PREMATURE_CLOSE;function o0e(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];t.apply(this,n)}}}function u0e(){}function f0e(t){return t.setHeader&&typeof t.abort=="function"}function h9(t,e,r){if(typeof e=="function")return h9(t,null,e);e||(e={}),r=o0e(r||u0e);var n=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||u()},o=t._writableState&&t._writableState.finished,u=function(){a=!1,o=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,h=function(){n=!1,l=!0,a||r.call(t)},p=function(A){r.call(t,A)},v=function(){var A;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(A=new c9),r.call(t,A);if(a&&!o)return(!t._writableState||!t._writableState.ended)&&(A=new c9),r.call(t,A)},y=function(){t.req.on("finish",u)};return f0e(t)?(t.on("complete",u),t.on("abort",v),t.req?y():t.on("request",y)):a&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",h),t.on("finish",u),e.error!==!1&&t.on("error",p),t.on("close",v),function(){t.removeListener("complete",u),t.removeListener("abort",v),t.removeListener("request",y),t.req&&t.req.removeListener("finish",u),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",u),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",v)}}d9.exports=h9});var m9=ne((sQe,p9)=>{"use strict";var Pw;function pl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l0e=Lw(),ml=Symbol("lastResolve"),Bc=Symbol("lastReject"),ng=Symbol("error"),qw=Symbol("ended"),Lc=Symbol("lastPromise"),Ek=Symbol("handlePromise"),Pc=Symbol("stream");function vl(t,e){return{value:t,done:e}}function c0e(t){var e=t[ml];if(e!==null){var r=t[Pc].read();r!==null&&(t[Lc]=null,t[ml]=null,t[Bc]=null,e(vl(r,!1)))}}function h0e(t){process.nextTick(c0e,t)}function d0e(t,e){return function(r,n){t.then(function(){if(e[qw]){r(vl(void 0,!0));return}e[Ek](r,n)},n)}}var p0e=Object.getPrototypeOf(function(){}),m0e=Object.setPrototypeOf((Pw={get stream(){return this[Pc]},next:function(){var e=this,r=this[ng];if(r!==null)return Promise.reject(r);if(this[qw])return Promise.resolve(vl(void 0,!0));if(this[Pc].destroyed)return new Promise(function(o,u){process.nextTick(function(){e[ng]?u(e[ng]):o(vl(void 0,!0))})});var n=this[Lc],a;if(n)a=new Promise(d0e(n,this));else{var s=this[Pc].read();if(s!==null)return Promise.resolve(vl(s,!1));a=new Promise(this[Ek])}return this[Lc]=a,a}},pl(Pw,Symbol.asyncIterator,function(){return this}),pl(Pw,"return",function(){var e=this;return new Promise(function(r,n){e[Pc].destroy(null,function(a){if(a){n(a);return}r(vl(void 0,!0))})})}),Pw),p0e),v0e=function(e){var r,n=Object.create(m0e,(r={},pl(r,Pc,{value:e,writable:!0}),pl(r,ml,{value:null,writable:!0}),pl(r,Bc,{value:null,writable:!0}),pl(r,ng,{value:null,writable:!0}),pl(r,qw,{value:e._readableState.endEmitted,writable:!0}),pl(r,Ek,{value:function(s,o){var u=n[Pc].read();u?(n[Lc]=null,n[ml]=null,n[Bc]=null,s(vl(u,!1))):(n[ml]=s,n[Bc]=o)},writable:!0}),r));return n[Lc]=null,l0e(e,function(a){if(a&&a.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Bc];s!==null&&(n[Lc]=null,n[ml]=null,n[Bc]=null,s(a)),n[ng]=a;return}var o=n[ml];o!==null&&(n[Lc]=null,n[ml]=null,n[Bc]=null,o(vl(void 0,!0))),n[qw]=!0}),e.on("readable",h0e.bind(null,n)),n};p9.exports=v0e});var g9=ne((oQe,v9)=>{v9.exports=function(){throw new Error("Readable.from is not available in the browser")}});var Sk=ne((fQe,k9)=>{"use strict";k9.exports=wr;var Yd;wr.ReadableState=_9;var uQe=ws().EventEmitter,w9=function(e,r){return e.listeners(r).length},ag=dk(),$w=yn().Buffer,g0e=global.Uint8Array||function(){};function y0e(t){return $w.from(t)}function b0e(t){return $w.isBuffer(t)||t instanceof g0e}var Mk=hu(),nr;Mk&&Mk.debuglog?nr=Mk.debuglog("stream"):nr=function(){};var w0e=J7(),Ok=vk(),_0e=gk(),x0e=_0e.getHighWaterMark,zw=Cc().codes,S0e=zw.ERR_INVALID_ARG_TYPE,E0e=zw.ERR_STREAM_PUSH_AFTER_EOF,M0e=zw.ERR_METHOD_NOT_IMPLEMENTED,A0e=zw.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Xd,Ak,kk;At()(wr,ag);var ig=Ok.errorOrDestroy,Tk=["error","close","destroy","pause","resume"];function k0e(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function _9(t,e,r){Yd=Yd||Fc(),t=t||{},typeof r!="boolean"&&(r=e instanceof Yd),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=x0e(this,t,"readableHighWaterMark",r),this.buffer=new w0e,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Xd||(Xd=mu().StringDecoder),this.decoder=new Xd(t.encoding),this.encoding=t.encoding)}function wr(t){if(Yd=Yd||Fc(),!(this instanceof wr))return new wr(t);var e=this instanceof Yd;this._readableState=new _9(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),ag.call(this)}Object.defineProperty(wr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});wr.prototype.destroy=Ok.destroy;wr.prototype._undestroy=Ok.undestroy;wr.prototype._destroy=function(t,e){e(t)};wr.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=$w.from(t,e),e=""),n=!0),x9(this,t,e,!1,n)};wr.prototype.unshift=function(t){return x9(this,t,null,!0,!1)};function x9(t,e,r,n,a){nr("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,I0e(t,s);else{var o;if(a||(o=T0e(s,e)),o)ig(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==$w.prototype&&(e=y0e(e)),n)s.endEmitted?ig(t,new A0e):Nk(t,s,e,!0);else if(s.ended)ig(t,new E0e);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?Nk(t,s,e,!1):Dk(t,s)):Nk(t,s,e,!1)}else n||(s.reading=!1,Dk(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function Nk(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&jw(t)),Dk(t,e)}function T0e(t,e){var r;return!b0e(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new S0e("chunk",["string","Buffer","Uint8Array"],e)),r}wr.prototype.isPaused=function(){return this._readableState.flowing===!1};wr.prototype.setEncoding=function(t){Xd||(Xd=mu().StringDecoder);var e=new Xd(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var y9=1073741824;function N0e(t){return t>=y9?t=y9:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function b9(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=N0e(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}wr.prototype.read=function(t){nr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return nr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Ik(this):jw(this),null;if(t=b9(t,e),t===0&&e.ended)return e.length===0&&Ik(this),null;var n=e.needReadable;nr("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,nr("length less than watermark",n)),e.ended||e.reading?(n=!1,nr("reading or ended",n)):n&&(nr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=b9(r,e)));var a;return t>0?a=M9(t,e):a=null,a===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Ik(this)),a!==null&&this.emit("data",a),a};function I0e(t,e){if(nr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?jw(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,S9(t)))}}function jw(t){var e=t._readableState;nr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(nr("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(S9,t))}function S9(t){var e=t._readableState;nr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Rk(t)}function Dk(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(D0e,t,e))}function D0e(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(nr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}wr.prototype._read=function(t){ig(this,new M0e("_read()"))};wr.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,nr("pipe count=%d opts=%j",n.pipesCount,e);var a=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=a?u:T;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(I,N){nr("onunpipe"),I===r&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,p())}function u(){nr("onend"),t.end()}var l=O0e(r);t.on("drain",l);var h=!1;function p(){nr("cleanup"),t.removeListener("close",S),t.removeListener("finish",A),t.removeListener("drain",l),t.removeListener("error",y),t.removeListener("unpipe",o),r.removeListener("end",u),r.removeListener("end",T),r.removeListener("data",v),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",v);function v(I){nr("ondata");var N=t.write(I);nr("dest.write",N),N===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&A9(n.pipes,t)!==-1)&&!h&&(nr("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function y(I){nr("onerror",I),T(),t.removeListener("error",y),w9(t,"error")===0&&ig(t,I)}k0e(t,"error",y);function S(){t.removeListener("finish",A),T()}t.once("close",S);function A(){nr("onfinish"),t.removeListener("close",S),T()}t.once("finish",A);function T(){nr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(nr("pipe resume"),r.resume()),t};function O0e(t){return function(){var r=t._readableState;nr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&w9(t,"data")&&(r.flowing=!0,Rk(t))}}wr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,a=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<a;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=A9(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};wr.prototype.on=function(t,e){var r=ag.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,nr("on readable",n.length,n.reading),n.length?jw(this):n.reading||process.nextTick(R0e,this)),r};wr.prototype.addListener=wr.prototype.on;wr.prototype.removeListener=function(t,e){var r=ag.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(E9,this),r};wr.prototype.removeAllListeners=function(t){var e=ag.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(E9,this),e};function E9(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function R0e(t){nr("readable nexttick read 0"),t.read(0)}wr.prototype.resume=function(){var t=this._readableState;return t.flowing||(nr("resume"),t.flowing=!t.readableListening,C0e(this,t)),t.paused=!1,this};function C0e(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(F0e,t,e))}function F0e(t,e){nr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Rk(t),e.flowing&&!e.reading&&t.read(0)}wr.prototype.pause=function(){return nr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(nr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Rk(t){var e=t._readableState;for(nr("flow",e.flowing);e.flowing&&t.read()!==null;);}wr.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(nr("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(nr("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var u=e.push(o);u||(n=!0,t.pause())}});for(var a in t)this[a]===void 0&&typeof t[a]=="function"&&(this[a]=function(u){return function(){return t[u].apply(t,arguments)}}(a));for(var s=0;s<Tk.length;s++)t.on(Tk[s],this.emit.bind(this,Tk[s]));return this._read=function(o){nr("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(wr.prototype[Symbol.asyncIterator]=function(){return Ak===void 0&&(Ak=m9()),Ak(this)});Object.defineProperty(wr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(wr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(wr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});wr._fromList=M9;Object.defineProperty(wr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function M9(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Ik(t){var e=t._readableState;nr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(B0e,e,t))}function B0e(t,e){if(nr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(wr.from=function(t,e){return kk===void 0&&(kk=g9()),kk(wr,t,e)});function A9(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var Ck=ne((lQe,N9)=>{"use strict";N9.exports=tf;var Uw=Cc().codes,L0e=Uw.ERR_METHOD_NOT_IMPLEMENTED,P0e=Uw.ERR_MULTIPLE_CALLBACK,q0e=Uw.ERR_TRANSFORM_ALREADY_TRANSFORMING,$0e=Uw.ERR_TRANSFORM_WITH_LENGTH_0,Vw=Fc();At()(tf,Vw);function z0e(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new P0e);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function tf(t){if(!(this instanceof tf))return new tf(t);Vw.call(this,t),this._transformState={afterTransform:z0e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",j0e)}function j0e(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){T9(t,e,r)}):T9(this,null,null)}tf.prototype.push=function(t,e){return this._transformState.needTransform=!1,Vw.prototype.push.call(this,t,e)};tf.prototype._transform=function(t,e,r){r(new L0e("_transform()"))};tf.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};tf.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};tf.prototype._destroy=function(t,e){Vw.prototype._destroy.call(this,t,function(r){e(r)})};function T9(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new $0e;if(t._transformState.transforming)throw new q0e;return t.push(null)}});var O9=ne((cQe,D9)=>{"use strict";D9.exports=sg;var I9=Ck();At()(sg,I9);function sg(t){if(!(this instanceof sg))return new sg(t);I9.call(this,t)}sg.prototype._transform=function(t,e,r){r(null,t)}});var L9=ne((hQe,B9)=>{"use strict";var Fk;function U0e(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var F9=Cc().codes,V0e=F9.ERR_MISSING_ARGS,W0e=F9.ERR_STREAM_DESTROYED;function R9(t){if(t)throw t}function G0e(t){return t.setHeader&&typeof t.abort=="function"}function H0e(t,e,r,n){n=U0e(n);var a=!1;t.on("close",function(){a=!0}),Fk===void 0&&(Fk=Lw()),Fk(t,{readable:e,writable:r},function(o){if(o)return n(o);a=!0,n()});var s=!1;return function(o){if(!a&&!s){if(s=!0,G0e(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new W0e("pipe"))}}}function C9(t){t()}function K0e(t,e){return t.pipe(e)}function Z0e(t){return!t.length||typeof t[t.length-1]!="function"?R9:t.pop()}function J0e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Z0e(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new V0e("streams");var a,s=e.map(function(o,u){var l=u<e.length-1,h=u>0;return H0e(o,l,h,function(p){a||(a=p),p&&s.forEach(C9),!l&&(s.forEach(C9),n(a))})});return e.reduce(K0e)}B9.exports=J0e});var q9=ne((dQe,P9)=>{P9.exports=Ns;var Bk=ws().EventEmitter,Y0e=At();Y0e(Ns,Bk);Ns.Readable=Sk();Ns.Writable=wk();Ns.Duplex=Fc();Ns.Transform=Ck();Ns.PassThrough=O9();Ns.finished=Lw();Ns.pipeline=L9();Ns.Stream=Ns;function Ns(){Bk.call(this)}Ns.prototype.pipe=function(t,e){var r=this;function n(p){t.writable&&t.write(p)===!1&&r.pause&&r.pause()}r.on("data",n);function a(){r.readable&&r.resume&&r.resume()}t.on("drain",a),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",u));var s=!1;function o(){s||(s=!0,t.end())}function u(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(p){if(h(),Bk.listenerCount(this,"error")===0)throw p}r.on("error",l),t.on("error",l);function h(){r.removeListener("data",n),t.removeListener("drain",a),r.removeListener("end",o),r.removeListener("close",u),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",h),r.removeListener("close",h),t.removeListener("close",h)}return r.on("end",h),r.on("close",h),t.on("close",h),t.emit("pipe",r),t}});var rf=ne((pQe,j9)=>{var $9=cr().Buffer,z9=q9().Transform,X0e=mu().StringDecoder,Q0e=At();function Io(t){z9.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Q0e(Io,z9);Io.prototype.update=function(t,e,r){typeof t=="string"&&(t=$9.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};Io.prototype.setAutoPadding=function(){};Io.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Io.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Io.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Io.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(a){n=a}finally{r(n)}};Io.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Io.prototype._finalOrDigest=function(t){var e=this.__final()||$9.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Io.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new X0e(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};j9.exports=Io});var Qd=ne((mQe,V9)=>{"use strict";var eme=At(),tme=Ew(),rme=Aw(),nme=Iw(),U9=rf();function Ww(t){U9.call(this,"digest"),this._hash=t}eme(Ww,U9);Ww.prototype._update=function(t){this._hash.update(t)};Ww.prototype._final=function(){return this._hash.digest()};V9.exports=function(e){return e=e.toLowerCase(),e==="md5"?new tme:e==="rmd160"||e==="ripemd160"?new rme:new Ww(nme(e))}});var H9=ne((vQe,G9)=>{"use strict";var ime=At(),qc=cr().Buffer,W9=rf(),ame=qc.alloc(128),ep=64;function Gw(t,e){W9.call(this,"digest"),typeof e=="string"&&(e=qc.from(e)),this._alg=t,this._key=e,e.length>ep?e=t(e):e.length<ep&&(e=qc.concat([e,ame],ep));for(var r=this._ipad=qc.allocUnsafe(ep),n=this._opad=qc.allocUnsafe(ep),a=0;a<ep;a++)r[a]=e[a]^54,n[a]=e[a]^92;this._hash=[r]}ime(Gw,W9);Gw.prototype._update=function(t){this._hash.push(t)};Gw.prototype._final=function(){var t=this._alg(qc.concat(this._hash));return this._alg(qc.concat([this._opad,t]))};G9.exports=Gw});var Lk=ne((gQe,K9)=>{var sme=Ew();K9.exports=function(t){return new sme().update(t).digest()}});var $k=ne((yQe,J9)=>{"use strict";var ome=At(),ume=H9(),Z9=rf(),og=cr().Buffer,fme=Lk(),Pk=Aw(),qk=Iw(),lme=og.alloc(128);function ug(t,e){Z9.call(this,"digest"),typeof e=="string"&&(e=og.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new Pk:qk(t);e=n.update(e).digest()}else e.length<r&&(e=og.concat([e,lme],r));for(var a=this._ipad=og.allocUnsafe(r),s=this._opad=og.allocUnsafe(r),o=0;o<r;o++)a[o]=e[o]^54,s[o]=e[o]^92;this._hash=t==="rmd160"?new Pk:qk(t),this._hash.update(a)}ome(ug,Z9);ug.prototype._update=function(t){this._hash.update(t)};ug.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new Pk:qk(this._alg);return e.update(this._opad).update(t).digest()};J9.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new ug("rmd160",r):e==="md5"?new ume(fme,r):new ug(e,r)}});var zk=ne((bQe,cme)=>{cme.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var X9=ne((wQe,Y9)=>{Y9.exports=zk()});var jk=ne((_Qe,Q9)=>{var hme=Math.pow(2,30)-1;Q9.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>hme||e!==e)throw new TypeError("Bad key length")}});var Uk=ne((xQe,tB)=>{var Hw;global.process&&global.process.browser?Hw="utf-8":global.process&&global.process.version?(eB=parseInt(process.version.split(".")[0].slice(1),10),Hw=eB>=6?"utf-8":"binary"):Hw="utf-8";var eB;tB.exports=Hw});var Wk=ne((SQe,rB)=>{var Vk=cr().Buffer;rB.exports=function(t,e,r){if(Vk.isBuffer(t))return t;if(typeof t=="string")return Vk.from(t,e);if(ArrayBuffer.isView(t))return Vk.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var Gk=ne((EQe,sB)=>{var dme=Lk(),pme=Aw(),mme=Iw(),$c=cr().Buffer,vme=jk(),nB=Uk(),iB=Wk(),gme=$c.alloc(128),Kw={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function aB(t,e,r){var n=yme(t),a=t==="sha512"||t==="sha384"?128:64;e.length>a?e=n(e):e.length<a&&(e=$c.concat([e,gme],a));for(var s=$c.allocUnsafe(a+Kw[t]),o=$c.allocUnsafe(a+Kw[t]),u=0;u<a;u++)s[u]=e[u]^54,o[u]=e[u]^92;var l=$c.allocUnsafe(a+r+4);s.copy(l,0,0,a),this.ipad1=l,this.ipad2=s,this.opad=o,this.alg=t,this.blocksize=a,this.hash=n,this.size=Kw[t]}aB.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function yme(t){function e(n){return mme(t).update(n).digest()}function r(n){return new pme().update(n).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?dme:e}function bme(t,e,r,n,a){vme(r,n),t=iB(t,nB,"Password"),e=iB(e,nB,"Salt"),a=a||"sha1";var s=new aB(a,t,e.length),o=$c.allocUnsafe(n),u=$c.allocUnsafe(e.length+4);e.copy(u,0,0,e.length);for(var l=0,h=Kw[a],p=Math.ceil(n/h),v=1;v<=p;v++){u.writeUInt32BE(v,e.length);for(var y=s.run(u,s.ipad1),S=y,A=1;A<r;A++){S=s.run(S,s.ipad2);for(var T=0;T<h;T++)y[T]^=S[T]}y.copy(o,l),l+=h}return o}sB.exports=bme});var dB=ne((MQe,hB)=>{var lB=cr().Buffer,wme=jk(),oB=Uk(),uB=Gk(),fB=Wk(),Zw,fg=global.crypto&&global.crypto.subtle,_me={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Hk=[];function xme(t){if(global.process&&!global.process.browser||!fg||!fg.importKey||!fg.deriveBits)return Promise.resolve(!1);if(Hk[t]!==void 0)return Hk[t];Zw=Zw||lB.alloc(8);var e=cB(Zw,Zw,10,128,t).then(function(){return!0}).catch(function(){return!1});return Hk[t]=e,e}var zc;function Kk(){return zc||(global.process&&global.process.nextTick?zc=global.process.nextTick:global.queueMicrotask?zc=global.queueMicrotask:global.setImmediate?zc=global.setImmediate:zc=global.setTimeout,zc)}function cB(t,e,r,n,a){return fg.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return fg.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:a}},s,n<<3)}).then(function(s){return lB.from(s)})}function Sme(t,e){t.then(function(r){Kk()(function(){e(null,r)})},function(r){Kk()(function(){e(r)})})}hB.exports=function(t,e,r,n,a,s){typeof a=="function"&&(s=a,a=void 0),a=a||"sha1";var o=_me[a.toLowerCase()];if(!o||typeof global.Promise!="function"){Kk()(function(){var u;try{u=uB(t,e,r,n,a)}catch(l){return s(l)}s(null,u)});return}if(wme(r,n),t=fB(t,oB,"Password"),e=fB(e,oB,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");Sme(xme(o).then(function(u){return u?cB(t,e,r,n,o):uB(t,e,r,n,a)}),s)}});var Jk=ne(Zk=>{Zk.pbkdf2=dB();Zk.pbkdf2Sync=Gk()});var Yk=ne(Is=>{"use strict";Is.readUInt32BE=function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0};Is.writeUInt32BE=function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255};Is.ip=function(e,r,n,a){for(var s=0,o=0,u=6;u>=0;u-=2){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>>l+u&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>>l+u&1}for(var u=6;u>=0;u-=2){for(var l=1;l<=25;l+=8)o<<=1,o|=r>>>l+u&1;for(var l=1;l<=25;l+=8)o<<=1,o|=e>>>l+u&1}n[a+0]=s>>>0,n[a+1]=o>>>0};Is.rip=function(e,r,n,a){for(var s=0,o=0,u=0;u<4;u++)for(var l=24;l>=0;l-=8)s<<=1,s|=r>>>l+u&1,s<<=1,s|=e>>>l+u&1;for(var u=4;u<8;u++)for(var l=24;l>=0;l-=8)o<<=1,o|=r>>>l+u&1,o<<=1,o|=e>>>l+u&1;n[a+0]=s>>>0,n[a+1]=o>>>0};Is.pc1=function(e,r,n,a){for(var s=0,o=0,u=7;u>=5;u--){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+u&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+u&1}for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+u&1;for(var u=1;u<=3;u++){for(var l=0;l<=24;l+=8)o<<=1,o|=r>>l+u&1;for(var l=0;l<=24;l+=8)o<<=1,o|=e>>l+u&1}for(var l=0;l<=24;l+=8)o<<=1,o|=e>>l+u&1;n[a+0]=s>>>0,n[a+1]=o>>>0};Is.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var Jw=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Is.pc2=function(e,r,n,a){for(var s=0,o=0,u=Jw.length>>>1,l=0;l<u;l++)s<<=1,s|=e>>>Jw[l]&1;for(var l=u;l<Jw.length;l++)o<<=1,o|=r>>>Jw[l]&1;n[a+0]=s>>>0,n[a+1]=o>>>0};Is.expand=function(e,r,n){var a=0,s=0;a=(e&1)<<5|e>>>27;for(var o=23;o>=15;o-=4)a<<=6,a|=e>>>o&63;for(var o=11;o>=3;o-=4)s|=e>>>o&63,s<<=6;s|=(e&31)<<1|e>>>31,r[n+0]=a>>>0,r[n+1]=s>>>0};var pB=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Is.substitute=function(e,r){for(var n=0,a=0;a<4;a++){var s=e>>>18-a*6&63,o=pB[a*64+s];n<<=4,n|=o}for(var a=0;a<4;a++){var s=r>>>18-a*6&63,o=pB[4*64+a*64+s];n<<=4,n|=o}return n>>>0};var mB=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Is.permute=function(e){for(var r=0,n=0;n<mB.length;n++)r<<=1,r|=e>>>mB[n]&1;return r>>>0};Is.padSplit=function(e,r,n){for(var a=e.toString(2);a.length<r;)a="0"+a;for(var s=[],o=0;o<r;o+=n)s.push(a.slice(o,o+n));return s.join(" ")}});var is=ne((TQe,gB)=>{gB.exports=vB;function vB(t,e){if(!t)throw new Error(e||"Assertion failed")}vB.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}});var Yw=ne((NQe,yB)=>{"use strict";var Eme=is();function Ds(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}yB.exports=Ds;Ds.prototype._init=function(){};Ds.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};Ds.prototype._buffer=function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),a=0;a<n;a++)this.buffer[this.bufferOff+a]=e[r+a];return this.bufferOff+=n,n};Ds.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};Ds.prototype._updateEncrypt=function(e){var r=0,n=0,a=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(a*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(s,n)));for(var o=e.length-(e.length-r)%this.blockSize;r<o;r+=this.blockSize)this._update(e,r,s,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return s};Ds.prototype._updateDecrypt=function(e){for(var r=0,n=0,a=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(a*this.blockSize);a>0;a--)r+=this._buffer(e,r),n+=this._flushBuffer(s,n);return r+=this._buffer(e,r),s};Ds.prototype.final=function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};Ds.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};Ds.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};Ds.prototype._unpad=function(e){return e};Ds.prototype._finalDecrypt=function(){Eme.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var Xk=ne((IQe,_B)=>{"use strict";var bB=is(),Mme=At(),Ei=Yk(),wB=Yw();function Ame(){this.tmp=new Array(2),this.keys=null}function _u(t){wB.call(this,t);var e=new Ame;this._desState=e,this.deriveKeys(e,t.key)}Mme(_u,wB);_B.exports=_u;_u.create=function(e){return new _u(e)};var kme=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];_u.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),bB.equal(r.length,this.blockSize,"Invalid key length");var n=Ei.readUInt32BE(r,0),a=Ei.readUInt32BE(r,4);Ei.pc1(n,a,e.tmp,0),n=e.tmp[0],a=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var o=kme[s>>>1];n=Ei.r28shl(n,o),a=Ei.r28shl(a,o),Ei.pc2(n,a,e.keys,s)}};_u.prototype._update=function(e,r,n,a){var s=this._desState,o=Ei.readUInt32BE(e,r),u=Ei.readUInt32BE(e,r+4);Ei.ip(o,u,s.tmp,0),o=s.tmp[0],u=s.tmp[1],this.type==="encrypt"?this._encrypt(s,o,u,s.tmp,0):this._decrypt(s,o,u,s.tmp,0),o=s.tmp[0],u=s.tmp[1],Ei.writeUInt32BE(n,o,a),Ei.writeUInt32BE(n,u,a+4)};_u.prototype._pad=function(e,r){for(var n=e.length-r,a=r;a<e.length;a++)e[a]=n;return!0};_u.prototype._unpad=function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)bB.equal(e[n],r);return e.slice(0,e.length-r)};_u.prototype._encrypt=function(e,r,n,a,s){for(var o=r,u=n,l=0;l<e.keys.length;l+=2){var h=e.keys[l],p=e.keys[l+1];Ei.expand(u,e.tmp,0),h^=e.tmp[0],p^=e.tmp[1];var v=Ei.substitute(h,p),y=Ei.permute(v),S=u;u=(o^y)>>>0,o=S}Ei.rip(u,o,a,s)};_u.prototype._decrypt=function(e,r,n,a,s){for(var o=n,u=r,l=e.keys.length-2;l>=0;l-=2){var h=e.keys[l],p=e.keys[l+1];Ei.expand(o,e.tmp,0),h^=e.tmp[0],p^=e.tmp[1];var v=Ei.substitute(h,p),y=Ei.permute(v),S=o;o=(u^y)>>>0,u=S}Ei.rip(o,u,a,s)}});var SB=ne(xB=>{"use strict";var Tme=is(),Nme=At(),Xw={};function Ime(t){Tme.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function Dme(t){function e(s){t.call(this,s),this._cbcInit()}Nme(e,t);for(var r=Object.keys(Xw),n=0;n<r.length;n++){var a=r[n];e.prototype[a]=Xw[a]}return e.create=function(o){return new e(o)},e}xB.instantiate=Dme;Xw._cbcInit=function(){var e=new Ime(this.options.iv);this._cbcState=e};Xw._update=function(e,r,n,a){var s=this._cbcState,o=this.constructor.super_.prototype,u=s.iv;if(this.type==="encrypt"){for(var l=0;l<this.blockSize;l++)u[l]^=e[r+l];o._update.call(this,u,0,n,a);for(var l=0;l<this.blockSize;l++)u[l]=n[a+l]}else{o._update.call(this,e,r,n,a);for(var l=0;l<this.blockSize;l++)n[a+l]^=u[l];for(var l=0;l<this.blockSize;l++)u[l]=e[r+l]}}});var AB=ne((OQe,MB)=>{"use strict";var Ome=is(),Rme=At(),EB=Yw(),gl=Xk();function Cme(t,e){Ome.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),a=e.slice(16,24);t==="encrypt"?this.ciphers=[gl.create({type:"encrypt",key:r}),gl.create({type:"decrypt",key:n}),gl.create({type:"encrypt",key:a})]:this.ciphers=[gl.create({type:"decrypt",key:a}),gl.create({type:"encrypt",key:n}),gl.create({type:"decrypt",key:r})]}function jc(t){EB.call(this,t);var e=new Cme(this.type,this.options.key);this._edeState=e}Rme(jc,EB);MB.exports=jc;jc.create=function(e){return new jc(e)};jc.prototype._update=function(e,r,n,a){var s=this._edeState;s.ciphers[0]._update(e,r,n,a),s.ciphers[1]._update(n,a,n,a),s.ciphers[2]._update(n,a,n,a)};jc.prototype._pad=gl.prototype._pad;jc.prototype._unpad=gl.prototype._unpad});var kB=ne(tp=>{"use strict";tp.utils=Yk();tp.Cipher=Yw();tp.DES=Xk();tp.CBC=SB();tp.EDE=AB()});var IB=ne((CQe,NB)=>{var TB=rf(),nf=kB(),Fme=At(),Uc=cr().Buffer,lg={"des-ede3-cbc":nf.CBC.instantiate(nf.EDE),"des-ede3":nf.EDE,"des-ede-cbc":nf.CBC.instantiate(nf.EDE),"des-ede":nf.EDE,"des-cbc":nf.CBC.instantiate(nf.DES),"des-ecb":nf.DES};lg.des=lg["des-cbc"];lg.des3=lg["des-ede3-cbc"];NB.exports=Qw;Fme(Qw,TB);function Qw(t){TB.call(this);var e=t.mode.toLowerCase(),r=lg[e],n;t.decrypt?n="decrypt":n="encrypt";var a=t.key;Uc.isBuffer(a)||(a=Uc.from(a)),(e==="des-ede"||e==="des-ede-cbc")&&(a=Uc.concat([a,a.slice(0,8)]));var s=t.iv;Uc.isBuffer(s)||(s=Uc.from(s)),this._des=r.create({key:a,iv:s,type:n})}Qw.prototype._update=function(t){return Uc.from(this._des.update(t))};Qw.prototype._final=function(){return Uc.from(this._des.final())}});var DB=ne(Qk=>{Qk.encrypt=function(t,e){return t._cipher.encryptBlock(e)};Qk.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var rp=ne((BQe,OB)=>{OB.exports=function(e,r){for(var n=Math.min(e.length,r.length),a=new Buffer(n),s=0;s<n;++s)a[s]=e[s]^r[s];return a}});var CB=ne(eT=>{var RB=rp();eT.encrypt=function(t,e){var r=RB(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};eT.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return RB(n,r)}});var LB=ne(BB=>{var cg=cr().Buffer,Bme=rp();function FB(t,e,r){var n=e.length,a=Bme(e,t._cache);return t._cache=t._cache.slice(n),t._prev=cg.concat([t._prev,r?e:a]),a}BB.encrypt=function(t,e,r){for(var n=cg.allocUnsafe(0),a;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=cg.allocUnsafe(0)),t._cache.length<=e.length)a=t._cache.length,n=cg.concat([n,FB(t,e.slice(0,a),r)]),e=e.slice(a);else{n=cg.concat([n,FB(t,e,r)]);break}return n}});var qB=ne(PB=>{var tT=cr().Buffer;function Lme(t,e,r){var n=t._cipher.encryptBlock(t._prev),a=n[0]^e;return t._prev=tT.concat([t._prev.slice(1),tT.from([r?e:a])]),a}PB.encrypt=function(t,e,r){for(var n=e.length,a=tT.allocUnsafe(n),s=-1;++s<n;)a[s]=Lme(t,e[s],r);return a}});var zB=ne($B=>{var e_=cr().Buffer;function Pme(t,e,r){for(var n,a=-1,s=8,o=0,u,l;++a<s;)n=t._cipher.encryptBlock(t._prev),u=e&1<<7-a?128:0,l=n[0]^u,o+=(l&128)>>a%8,t._prev=qme(t._prev,r?u:l);return o}function qme(t,e){var r=t.length,n=-1,a=e_.allocUnsafe(t.length);for(t=e_.concat([t,e_.from([e])]);++n<r;)a[n]=t[n]<<1|t[n+1]>>7;return a}$B.encrypt=function(t,e,r){for(var n=e.length,a=e_.allocUnsafe(n),s=-1;++s<n;)a[s]=Pme(t,e[s],r);return a}});var UB=ne(jB=>{var $me=rp();function zme(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}jB.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Buffer.concat([t._cache,zme(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),$me(e,r)}});var rT=ne((jQe,VB)=>{function jme(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}VB.exports=jme});var iT=ne(GB=>{var Ume=rp(),WB=cr().Buffer,Vme=rT();function Wme(t){var e=t._cipher.encryptBlockRaw(t._prev);return Vme(t._prev),e}var nT=16;GB.encrypt=function(t,e){var r=Math.ceil(e.length/nT),n=t._cache.length;t._cache=WB.concat([t._cache,WB.allocUnsafe(r*nT)]);for(var a=0;a<r;a++){var s=Wme(t),o=n+a*nT;t._cache.writeUInt32BE(s[0],o+0),t._cache.writeUInt32BE(s[1],o+4),t._cache.writeUInt32BE(s[2],o+8),t._cache.writeUInt32BE(s[3],o+12)}var u=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Ume(e,u)}});var aT=ne((VQe,Gme)=>{Gme.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var r_=ne((WQe,HB)=>{var Hme={ECB:DB(),CBC:CB(),CFB:LB(),CFB8:qB(),CFB1:zB(),OFB:UB(),CTR:iT(),GCM:iT()},t_=aT();for(sT in t_)t_[sT].module=Hme[t_[sT].mode];var sT;HB.exports=t_});var hg=ne((GQe,ZB)=>{var n_=cr().Buffer;function uT(t){n_.isBuffer(t)||(t=n_.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}function oT(t){for(var e=0;e<t.length;t++)t[e]=0}function KB(t,e,r,n,a){for(var s=r[0],o=r[1],u=r[2],l=r[3],h=t[0]^e[0],p=t[1]^e[1],v=t[2]^e[2],y=t[3]^e[3],S,A,T,I,N=4,D=1;D<a;D++)S=s[h>>>24]^o[p>>>16&255]^u[v>>>8&255]^l[y&255]^e[N++],A=s[p>>>24]^o[v>>>16&255]^u[y>>>8&255]^l[h&255]^e[N++],T=s[v>>>24]^o[y>>>16&255]^u[h>>>8&255]^l[p&255]^e[N++],I=s[y>>>24]^o[h>>>16&255]^u[p>>>8&255]^l[v&255]^e[N++],h=S,p=A,v=T,y=I;return S=(n[h>>>24]<<24|n[p>>>16&255]<<16|n[v>>>8&255]<<8|n[y&255])^e[N++],A=(n[p>>>24]<<24|n[v>>>16&255]<<16|n[y>>>8&255]<<8|n[h&255])^e[N++],T=(n[v>>>24]<<24|n[y>>>16&255]<<16|n[h>>>8&255]<<8|n[p&255])^e[N++],I=(n[y>>>24]<<24|n[h>>>16&255]<<16|n[p>>>8&255]<<8|n[v&255])^e[N++],S=S>>>0,A=A>>>0,T=T>>>0,I=I>>>0,[S,A,T,I]}var Kme=[0,1,2,4,8,16,32,64,128,27,54],bi=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],a=[[],[],[],[]],s=[[],[],[],[]],o=0,u=0,l=0;l<256;++l){var h=u^u<<1^u<<2^u<<3^u<<4;h=h>>>8^h&255^99,r[o]=h,n[h]=o;var p=t[o],v=t[p],y=t[v],S=t[h]*257^h*16843008;a[0][o]=S<<24|S>>>8,a[1][o]=S<<16|S>>>16,a[2][o]=S<<8|S>>>24,a[3][o]=S,S=y*16843009^v*65537^p*257^o*16843008,s[0][h]=S<<24|S>>>8,s[1][h]=S<<16|S>>>16,s[2][h]=S<<8|S>>>24,s[3][h]=S,o===0?o=u=1:(o=p^t[t[t[y^p]]],u^=t[t[u]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:a,INV_SUB_MIX:s}}();function Os(t){this._key=uT(t),this._reset()}Os.blockSize=4*4;Os.keySize=256/8;Os.prototype.blockSize=Os.blockSize;Os.prototype.keySize=Os.keySize;Os.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,a=[],s=0;s<e;s++)a[s]=t[s];for(s=e;s<n;s++){var o=a[s-1];s%e===0?(o=o<<8|o>>>24,o=bi.SBOX[o>>>24]<<24|bi.SBOX[o>>>16&255]<<16|bi.SBOX[o>>>8&255]<<8|bi.SBOX[o&255],o^=Kme[s/e|0]<<24):e>6&&s%e===4&&(o=bi.SBOX[o>>>24]<<24|bi.SBOX[o>>>16&255]<<16|bi.SBOX[o>>>8&255]<<8|bi.SBOX[o&255]),a[s]=a[s-e]^o}for(var u=[],l=0;l<n;l++){var h=n-l,p=a[h-(l%4?0:4)];l<4||h<=4?u[l]=p:u[l]=bi.INV_SUB_MIX[0][bi.SBOX[p>>>24]]^bi.INV_SUB_MIX[1][bi.SBOX[p>>>16&255]]^bi.INV_SUB_MIX[2][bi.SBOX[p>>>8&255]]^bi.INV_SUB_MIX[3][bi.SBOX[p&255]]}this._nRounds=r,this._keySchedule=a,this._invKeySchedule=u};Os.prototype.encryptBlockRaw=function(t){return t=uT(t),KB(t,this._keySchedule,bi.SUB_MIX,bi.SBOX,this._nRounds)};Os.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=n_.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};Os.prototype.decryptBlock=function(t){t=uT(t);var e=t[1];t[1]=t[3],t[3]=e;var r=KB(t,this._invKeySchedule,bi.INV_SUB_MIX,bi.INV_SBOX,this._nRounds),n=n_.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};Os.prototype.scrub=function(){oT(this._keySchedule),oT(this._invKeySchedule),oT(this._key)};ZB.exports.AES=Os});var XB=ne((HQe,YB)=>{var np=cr().Buffer,Zme=np.alloc(16,0);function Jme(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function JB(t){var e=np.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function dg(t){this.h=t,this.state=np.alloc(16,0),this.cache=np.allocUnsafe(0)}dg.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};dg.prototype._multiply=function(){for(var t=Jme(this.h),e=[0,0,0,0],r,n,a,s=-1;++s<128;){for(n=(this.state[~~(s/8)]&1<<7-s%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),a=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,a&&(t[0]=t[0]^225<<24)}this.state=JB(e)};dg.prototype.update=function(t){this.cache=np.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};dg.prototype.final=function(t,e){return this.cache.length&&this.ghash(np.concat([this.cache,Zme],16)),this.ghash(JB([0,t,0,e])),this.state};YB.exports=dg});var fT=ne((KQe,tL)=>{var Yme=hg(),$a=cr().Buffer,QB=rf(),Xme=At(),eL=XB(),Qme=rp(),eve=rT();function tve(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),a=0;a<n;++a)r+=t[a]^e[a];return r}function rve(t,e,r){if(e.length===12)return t._finID=$a.concat([e,$a.from([0,0,0,1])]),$a.concat([e,$a.from([0,0,0,2])]);var n=new eL(r),a=e.length,s=a%16;n.update(e),s&&(s=16-s,n.update($a.alloc(s,0))),n.update($a.alloc(8,0));var o=a*8,u=$a.alloc(8);u.writeUIntBE(o,0,8),n.update(u),t._finID=n.state;var l=$a.from(t._finID);return eve(l),l}function Vc(t,e,r,n){QB.call(this);var a=$a.alloc(4,0);this._cipher=new Yme.AES(e);var s=this._cipher.encryptBlock(a);this._ghash=new eL(s),r=rve(this,r,s),this._prev=$a.from(r),this._cache=$a.allocUnsafe(0),this._secCache=$a.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}Xme(Vc,QB);Vc.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=$a.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};Vc.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=Qme(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&tve(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};Vc.prototype.getAuthTag=function(){if(this._decrypt||!$a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};Vc.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};Vc.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};tL.exports=Vc});var cT=ne((ZQe,nL)=>{var nve=hg(),lT=cr().Buffer,rL=rf(),ive=At();function i_(t,e,r,n){rL.call(this),this._cipher=new nve.AES(e),this._prev=lT.from(r),this._cache=lT.allocUnsafe(0),this._secCache=lT.allocUnsafe(0),this._decrypt=n,this._mode=t}ive(i_,rL);i_.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};i_.prototype._final=function(){this._cipher.scrub()};nL.exports=i_});var pg=ne((JQe,iL)=>{var Wc=cr().Buffer,ave=Ew();function sve(t,e,r,n){if(Wc.isBuffer(t)||(t=Wc.from(t,"binary")),e&&(Wc.isBuffer(e)||(e=Wc.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=r/8,s=Wc.alloc(a),o=Wc.alloc(n||0),u=Wc.alloc(0);a>0||n>0;){var l=new ave;l.update(u),l.update(t),e&&l.update(e),u=l.digest();var h=0;if(a>0){var p=s.length-a;h=Math.min(a,u.length),u.copy(s,p,0,h),a-=h}if(h<u.length&&n>0){var v=o.length-n,y=Math.min(n,u.length-h);u.copy(o,v,h,h+y),n-=y}}return u.fill(0),{key:s,iv:o}}iL.exports=sve});var uL=ne(hT=>{var aL=r_(),ove=fT(),af=cr().Buffer,uve=cT(),sL=rf(),fve=hg(),lve=pg(),cve=At();function mg(t,e,r){sL.call(this),this._cache=new a_,this._cipher=new fve.AES(e),this._prev=af.from(r),this._mode=t,this._autopadding=!0}cve(mg,sL);mg.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return af.concat(n)};var hve=af.alloc(16,16);mg.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(hve))throw this._cipher.scrub(),new Error("data not multiple of block length")};mg.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function a_(){this.cache=af.allocUnsafe(0)}a_.prototype.add=function(t){this.cache=af.concat([this.cache,t])};a_.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};a_.prototype.flush=function(){for(var t=16-this.cache.length,e=af.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return af.concat([this.cache,e])};function oL(t,e,r){var n=aL[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=af.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=af.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new uve(n.module,e,r):n.type==="auth"?new ove(n.module,e,r):new mg(n.module,e,r)}function dve(t,e){var r=aL[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=lve(e,!1,r.key,r.iv);return oL(t,n.key,n.iv)}hT.createCipheriv=oL;hT.createCipher=dve});var hL=ne(dT=>{var pve=fT(),ip=cr().Buffer,fL=r_(),mve=cT(),lL=rf(),vve=hg(),gve=pg(),yve=At();function vg(t,e,r){lL.call(this),this._cache=new s_,this._last=void 0,this._cipher=new vve.AES(e),this._prev=ip.from(r),this._mode=t,this._autopadding=!0}yve(vg,lL);vg.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return ip.concat(n)};vg.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return bve(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};vg.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function s_(){this.cache=ip.allocUnsafe(0)}s_.prototype.add=function(t){this.cache=ip.concat([this.cache,t])};s_.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};s_.prototype.flush=function(){if(this.cache.length)return this.cache};function bve(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function cL(t,e,r){var n=fL[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=ip.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=ip.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new mve(n.module,e,r,!0):n.type==="auth"?new pve(n.module,e,r,!0):new vg(n.module,e,r)}function wve(t,e){var r=fL[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=gve(e,!1,r.key,r.iv);return cL(t,n.key,n.iv)}dT.createDecipher=wve;dT.createDecipheriv=cL});var o_=ne(Do=>{var dL=uL(),pL=hL(),_ve=aT();function xve(){return Object.keys(_ve)}Do.createCipher=Do.Cipher=dL.createCipher;Do.createCipheriv=Do.Cipheriv=dL.createCipheriv;Do.createDecipher=Do.Decipher=pL.createDecipher;Do.createDecipheriv=Do.Decipheriv=pL.createDecipheriv;Do.listCiphers=Do.getCiphers=xve});var mL=ne(sf=>{sf["des-ecb"]={key:8,iv:0};sf["des-cbc"]=sf.des={key:8,iv:8};sf["des-ede3-cbc"]=sf.des3={key:24,iv:8};sf["des-ede3"]={key:24,iv:0};sf["des-ede-cbc"]={key:16,iv:8};sf["des-ede"]={key:16,iv:0}});var wL=ne(Oo=>{var vL=IB(),pT=o_(),yl=r_(),of=mL(),gL=pg();function Sve(t,e){t=t.toLowerCase();var r,n;if(yl[t])r=yl[t].key,n=yl[t].iv;else if(of[t])r=of[t].key*8,n=of[t].iv;else throw new TypeError("invalid suite type");var a=gL(e,!1,r,n);return yL(t,a.key,a.iv)}function Eve(t,e){t=t.toLowerCase();var r,n;if(yl[t])r=yl[t].key,n=yl[t].iv;else if(of[t])r=of[t].key*8,n=of[t].iv;else throw new TypeError("invalid suite type");var a=gL(e,!1,r,n);return bL(t,a.key,a.iv)}function yL(t,e,r){if(t=t.toLowerCase(),yl[t])return pT.createCipheriv(t,e,r);if(of[t])return new vL({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function bL(t,e,r){if(t=t.toLowerCase(),yl[t])return pT.createDecipheriv(t,e,r);if(of[t])return new vL({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function Mve(){return Object.keys(of).concat(pT.getCiphers())}Oo.createCipher=Oo.Cipher=Sve;Oo.createCipheriv=Oo.Cipheriv=yL;Oo.createDecipher=Oo.Decipher=Eve;Oo.createDecipheriv=Oo.Decipheriv=bL;Oo.listCiphers=Oo.getCiphers=Mve});var vT=ne((_L,mT)=>{(function(t,e){"use strict";function r(M,f){if(!M)throw new Error(f||"Assertion failed")}function n(M,f){M.super_=f;var d=function(){};d.prototype=f.prototype,M.prototype=new d,M.prototype.constructor=M}function a(M,f,d){if(a.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(M||0,f||10,d||"be"))}typeof t=="object"?t.exports=a:e.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=yn().Buffer}catch(M){}a.isBN=function(f){return f instanceof a?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===a.wordSize&&Array.isArray(f.words)},a.max=function(f,d){return f.cmp(d)>0?f:d},a.min=function(f,d){return f.cmp(d)<0?f:d},a.prototype._init=function(f,d,g){if(typeof f=="number")return this._initNumber(f,d,g);if(typeof f=="object")return this._initArray(f,d,g);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var m=0;f[0]==="-"&&(m++,this.negative=1),m<f.length&&(d===16?this._parseHex(f,m,g):(this._parseBase(f,d,m),g==="le"&&this._initArray(this.toArray(),d,g)))},a.prototype._initNumber=function(f,d,g){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),d,g)},a.prototype._initArray=function(f,d,g){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var b,E,k=0;if(g==="be")for(m=f.length-1,b=0;m>=0;m-=3)E=f[m]|f[m-1]<<8|f[m-2]<<16,this.words[b]|=E<<k&67108863,this.words[b+1]=E>>>26-k&67108863,k+=24,k>=26&&(k-=26,b++);else if(g==="le")for(m=0,b=0;m<f.length;m+=3)E=f[m]|f[m+1]<<8|f[m+2]<<16,this.words[b]|=E<<k&67108863,this.words[b+1]=E>>>26-k&67108863,k+=24,k>=26&&(k-=26,b++);return this.strip()};function o(M,f){var d=M.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function u(M,f,d){var g=o(M,d);return d-1>=f&&(g|=o(M,d-1)<<4),g}a.prototype._parseHex=function(f,d,g){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var b=0,E=0,k;if(g==="be")for(m=f.length-1;m>=d;m-=2)k=u(f,d,m)<<b,this.words[E]|=k&67108863,b>=18?(b-=18,E+=1,this.words[E]|=k>>>26):b+=8;else{var w=f.length-d;for(m=w%2===0?d+1:d;m<f.length;m+=2)k=u(f,d,m)<<b,this.words[E]|=k&67108863,b>=18?(b-=18,E+=1,this.words[E]|=k>>>26):b+=8}this.strip()};function l(M,f,d,g){for(var m=0,b=Math.min(M.length,d),E=f;E<b;E++){var k=M.charCodeAt(E)-48;m*=g,k>=49?m+=k-49+10:k>=17?m+=k-17+10:m+=k}return m}a.prototype._parseBase=function(f,d,g){this.words=[0],this.length=1;for(var m=0,b=1;b<=67108863;b*=d)m++;m--,b=b/d|0;for(var E=f.length-g,k=E%m,w=Math.min(E,E-k)+g,c=0,_=g;_<w;_+=m)c=l(f,_,_+m,d),this.imuln(b),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(k!==0){var R=1;for(c=l(f,_,f.length,d),_=0;_<k;_++)R*=d;this.imuln(R),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},a.prototype.copy=function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},a.prototype.clone=function(){var f=new a(null);return this.copy(f),f},a.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(f,d){f=f||10,d=d|0||1;var g;if(f===16||f==="hex"){g="";for(var m=0,b=0,E=0;E<this.length;E++){var k=this.words[E],w=((k<<m|b)&16777215).toString(16);b=k>>>24-m&16777215,b!==0||E!==this.length-1?g=h[6-w.length]+w+g:g=w+g,m+=2,m>=26&&(m-=26,E--)}for(b!==0&&(g=b.toString(16)+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(f===(f|0)&&f>=2&&f<=36){var c=p[f],_=v[f];g="";var R=this.clone();for(R.negative=0;!R.isZero();){var O=R.modn(_).toString(f);R=R.idivn(_),R.isZero()?g=O+g:g=h[c-O.length]+O+g}for(this.isZero()&&(g="0"+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(f,d){return r(typeof s!="undefined"),this.toArrayLike(s,f,d)},a.prototype.toArray=function(f,d){return this.toArrayLike(Array,f,d)},a.prototype.toArrayLike=function(f,d,g){var m=this.byteLength(),b=g||Math.max(1,m);r(m<=b,"byte array longer than desired length"),r(b>0,"Requested array length <= 0"),this.strip();var E=d==="le",k=new f(b),w,c,_=this.clone();if(E){for(c=0;!_.isZero();c++)w=_.andln(255),_.iushrn(8),k[c]=w;for(;c<b;c++)k[c]=0}else{for(c=0;c<b-m;c++)k[c]=0;for(c=0;!_.isZero();c++)w=_.andln(255),_.iushrn(8),k[b-c-1]=w}return k},Math.clz32?a.prototype._countBits=function(f){return 32-Math.clz32(f)}:a.prototype._countBits=function(f){var d=f,g=0;return d>=4096&&(g+=13,d>>>=13),d>=64&&(g+=7,d>>>=7),d>=8&&(g+=4,d>>>=4),d>=2&&(g+=2,d>>>=2),g+d},a.prototype._zeroBits=function(f){if(f===0)return 26;var d=f,g=0;return(d&8191)===0&&(g+=13,d>>>=13),(d&127)===0&&(g+=7,d>>>=7),(d&15)===0&&(g+=4,d>>>=4),(d&3)===0&&(g+=2,d>>>=2),(d&1)===0&&g++,g},a.prototype.bitLength=function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d};function y(M){for(var f=new Array(M.bitLength()),d=0;d<f.length;d++){var g=d/26|0,m=d%26;f[d]=(M.words[g]&1<<m)>>>m}return f}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var g=this._zeroBits(this.words[d]);if(f+=g,g!==26)break}return f},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},a.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},a.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},a.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},a.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},a.prototype.iuand=function(f){var d;this.length>f.length?d=f:d=this;for(var g=0;g<d.length;g++)this.words[g]=this.words[g]&f.words[g];return this.length=d.length,this.strip()},a.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},a.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},a.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},a.prototype.iuxor=function(f){var d,g;this.length>f.length?(d=this,g=f):(d=f,g=this);for(var m=0;m<g.length;m++)this.words[m]=d.words[m]^g.words[m];if(this!==d)for(;m<d.length;m++)this.words[m]=d.words[m];return this.length=d.length,this.strip()},a.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},a.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},a.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},a.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,g=f%26;this._expand(d),g>0&&d--;for(var m=0;m<d;m++)this.words[m]=~this.words[m]&67108863;return g>0&&(this.words[m]=~this.words[m]&67108863>>26-g),this.strip()},a.prototype.notn=function(f){return this.clone().inotn(f)},a.prototype.setn=function(f,d){r(typeof f=="number"&&f>=0);var g=f/26|0,m=f%26;return this._expand(g+1),d?this.words[g]=this.words[g]|1<<m:this.words[g]=this.words[g]&~(1<<m),this.strip()},a.prototype.iadd=function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var g,m;this.length>f.length?(g=this,m=f):(g=f,m=this);for(var b=0,E=0;E<m.length;E++)d=(g.words[E]|0)+(m.words[E]|0)+b,this.words[E]=d&67108863,b=d>>>26;for(;b!==0&&E<g.length;E++)d=(g.words[E]|0)+b,this.words[E]=d&67108863,b=d>>>26;if(this.length=g.length,b!==0)this.words[this.length]=b,this.length++;else if(g!==this)for(;E<g.length;E++)this.words[E]=g.words[E];return this},a.prototype.add=function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},a.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var g=this.cmp(f);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,b;g>0?(m=this,b=f):(m=f,b=this);for(var E=0,k=0;k<b.length;k++)d=(m.words[k]|0)-(b.words[k]|0)+E,E=d>>26,this.words[k]=d&67108863;for(;E!==0&&k<m.length;k++)d=(m.words[k]|0)+E,E=d>>26,this.words[k]=d&67108863;if(E===0&&k<m.length&&m!==this)for(;k<m.length;k++)this.words[k]=m.words[k];return this.length=Math.max(this.length,k),m!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(f){return this.clone().isub(f)};function S(M,f,d){d.negative=f.negative^M.negative;var g=M.length+f.length|0;d.length=g,g=g-1|0;var m=M.words[0]|0,b=f.words[0]|0,E=m*b,k=E&67108863,w=E/67108864|0;d.words[0]=k;for(var c=1;c<g;c++){for(var _=w>>>26,R=w&67108863,O=Math.min(c,f.length-1),F=Math.max(0,c-M.length+1);F<=O;F++){var U=c-F|0;m=M.words[U]|0,b=f.words[F]|0,E=m*b+R,_+=E/67108864|0,R=E&67108863}d.words[c]=R|0,w=_|0}return w!==0?d.words[c]=w|0:d.length--,d.strip()}var A=function(f,d,g){var m=f.words,b=d.words,E=g.words,k=0,w,c,_,R=m[0]|0,O=R&8191,F=R>>>13,U=m[1]|0,H=U&8191,J=U>>>13,fe=m[2]|0,B=fe&8191,q=fe>>>13,Y=m[3]|0,X=Y&8191,Q=Y>>>13,be=m[4]|0,ue=be&8191,me=be>>>13,yt=m[5]|0,xe=yt&8191,le=yt>>>13,zt=m[6]|0,we=zt&8191,Te=zt>>>13,ot=m[7]|0,ee=ot&8191,ie=ot>>>13,rt=m[8]|0,ae=rt&8191,de=rt>>>13,Je=m[9]|0,he=Je&8191,Se=Je>>>13,Tt=b[0]|0,_e=Tt&8191,Ie=Tt>>>13,ar=b[1]|0,Ne=ar&8191,Re=ar>>>13,ri=b[2]|0,qe=ri&8191,Fe=ri>>>13,Un=b[3]|0,$e=Un&8191,Be=Un>>>13,Vn=b[4]|0,Le=Vn&8191,ze=Vn>>>13,ni=b[5]|0,Pe=ni&8191,Oe=ni>>>13,Wn=b[6]|0,je=Wn&8191,Ue=Wn>>>13,Er=b[7]|0,ke=Er&8191,Ve=Er>>>13,In=b[8]|0,De=In&8191,We=In>>>13,Fn=b[9]|0,Ge=Fn&8191,He=Fn>>>13;g.negative=f.negative^d.negative,g.length=19,w=Math.imul(O,_e),c=Math.imul(O,Ie),c=c+Math.imul(F,_e)|0,_=Math.imul(F,Ie);var sn=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(sn>>>26)|0,sn&=67108863,w=Math.imul(H,_e),c=Math.imul(H,Ie),c=c+Math.imul(J,_e)|0,_=Math.imul(J,Ie),w=w+Math.imul(O,Ne)|0,c=c+Math.imul(O,Re)|0,c=c+Math.imul(F,Ne)|0,_=_+Math.imul(F,Re)|0;var Ct=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,w=Math.imul(B,_e),c=Math.imul(B,Ie),c=c+Math.imul(q,_e)|0,_=Math.imul(q,Ie),w=w+Math.imul(H,Ne)|0,c=c+Math.imul(H,Re)|0,c=c+Math.imul(J,Ne)|0,_=_+Math.imul(J,Re)|0,w=w+Math.imul(O,qe)|0,c=c+Math.imul(O,Fe)|0,c=c+Math.imul(F,qe)|0,_=_+Math.imul(F,Fe)|0;var Ft=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,w=Math.imul(X,_e),c=Math.imul(X,Ie),c=c+Math.imul(Q,_e)|0,_=Math.imul(Q,Ie),w=w+Math.imul(B,Ne)|0,c=c+Math.imul(B,Re)|0,c=c+Math.imul(q,Ne)|0,_=_+Math.imul(q,Re)|0,w=w+Math.imul(H,qe)|0,c=c+Math.imul(H,Fe)|0,c=c+Math.imul(J,qe)|0,_=_+Math.imul(J,Fe)|0,w=w+Math.imul(O,$e)|0,c=c+Math.imul(O,Be)|0,c=c+Math.imul(F,$e)|0,_=_+Math.imul(F,Be)|0;var $r=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+($r>>>26)|0,$r&=67108863,w=Math.imul(ue,_e),c=Math.imul(ue,Ie),c=c+Math.imul(me,_e)|0,_=Math.imul(me,Ie),w=w+Math.imul(X,Ne)|0,c=c+Math.imul(X,Re)|0,c=c+Math.imul(Q,Ne)|0,_=_+Math.imul(Q,Re)|0,w=w+Math.imul(B,qe)|0,c=c+Math.imul(B,Fe)|0,c=c+Math.imul(q,qe)|0,_=_+Math.imul(q,Fe)|0,w=w+Math.imul(H,$e)|0,c=c+Math.imul(H,Be)|0,c=c+Math.imul(J,$e)|0,_=_+Math.imul(J,Be)|0,w=w+Math.imul(O,Le)|0,c=c+Math.imul(O,ze)|0,c=c+Math.imul(F,Le)|0,_=_+Math.imul(F,ze)|0;var zr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(zr>>>26)|0,zr&=67108863,w=Math.imul(xe,_e),c=Math.imul(xe,Ie),c=c+Math.imul(le,_e)|0,_=Math.imul(le,Ie),w=w+Math.imul(ue,Ne)|0,c=c+Math.imul(ue,Re)|0,c=c+Math.imul(me,Ne)|0,_=_+Math.imul(me,Re)|0,w=w+Math.imul(X,qe)|0,c=c+Math.imul(X,Fe)|0,c=c+Math.imul(Q,qe)|0,_=_+Math.imul(Q,Fe)|0,w=w+Math.imul(B,$e)|0,c=c+Math.imul(B,Be)|0,c=c+Math.imul(q,$e)|0,_=_+Math.imul(q,Be)|0,w=w+Math.imul(H,Le)|0,c=c+Math.imul(H,ze)|0,c=c+Math.imul(J,Le)|0,_=_+Math.imul(J,ze)|0,w=w+Math.imul(O,Pe)|0,c=c+Math.imul(O,Oe)|0,c=c+Math.imul(F,Pe)|0,_=_+Math.imul(F,Oe)|0;var jr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(jr>>>26)|0,jr&=67108863,w=Math.imul(we,_e),c=Math.imul(we,Ie),c=c+Math.imul(Te,_e)|0,_=Math.imul(Te,Ie),w=w+Math.imul(xe,Ne)|0,c=c+Math.imul(xe,Re)|0,c=c+Math.imul(le,Ne)|0,_=_+Math.imul(le,Re)|0,w=w+Math.imul(ue,qe)|0,c=c+Math.imul(ue,Fe)|0,c=c+Math.imul(me,qe)|0,_=_+Math.imul(me,Fe)|0,w=w+Math.imul(X,$e)|0,c=c+Math.imul(X,Be)|0,c=c+Math.imul(Q,$e)|0,_=_+Math.imul(Q,Be)|0,w=w+Math.imul(B,Le)|0,c=c+Math.imul(B,ze)|0,c=c+Math.imul(q,Le)|0,_=_+Math.imul(q,ze)|0,w=w+Math.imul(H,Pe)|0,c=c+Math.imul(H,Oe)|0,c=c+Math.imul(J,Pe)|0,_=_+Math.imul(J,Oe)|0,w=w+Math.imul(O,je)|0,c=c+Math.imul(O,Ue)|0,c=c+Math.imul(F,je)|0,_=_+Math.imul(F,Ue)|0;var Ur=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,w=Math.imul(ee,_e),c=Math.imul(ee,Ie),c=c+Math.imul(ie,_e)|0,_=Math.imul(ie,Ie),w=w+Math.imul(we,Ne)|0,c=c+Math.imul(we,Re)|0,c=c+Math.imul(Te,Ne)|0,_=_+Math.imul(Te,Re)|0,w=w+Math.imul(xe,qe)|0,c=c+Math.imul(xe,Fe)|0,c=c+Math.imul(le,qe)|0,_=_+Math.imul(le,Fe)|0,w=w+Math.imul(ue,$e)|0,c=c+Math.imul(ue,Be)|0,c=c+Math.imul(me,$e)|0,_=_+Math.imul(me,Be)|0,w=w+Math.imul(X,Le)|0,c=c+Math.imul(X,ze)|0,c=c+Math.imul(Q,Le)|0,_=_+Math.imul(Q,ze)|0,w=w+Math.imul(B,Pe)|0,c=c+Math.imul(B,Oe)|0,c=c+Math.imul(q,Pe)|0,_=_+Math.imul(q,Oe)|0,w=w+Math.imul(H,je)|0,c=c+Math.imul(H,Ue)|0,c=c+Math.imul(J,je)|0,_=_+Math.imul(J,Ue)|0,w=w+Math.imul(O,ke)|0,c=c+Math.imul(O,Ve)|0,c=c+Math.imul(F,ke)|0,_=_+Math.imul(F,Ve)|0;var Vr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,w=Math.imul(ae,_e),c=Math.imul(ae,Ie),c=c+Math.imul(de,_e)|0,_=Math.imul(de,Ie),w=w+Math.imul(ee,Ne)|0,c=c+Math.imul(ee,Re)|0,c=c+Math.imul(ie,Ne)|0,_=_+Math.imul(ie,Re)|0,w=w+Math.imul(we,qe)|0,c=c+Math.imul(we,Fe)|0,c=c+Math.imul(Te,qe)|0,_=_+Math.imul(Te,Fe)|0,w=w+Math.imul(xe,$e)|0,c=c+Math.imul(xe,Be)|0,c=c+Math.imul(le,$e)|0,_=_+Math.imul(le,Be)|0,w=w+Math.imul(ue,Le)|0,c=c+Math.imul(ue,ze)|0,c=c+Math.imul(me,Le)|0,_=_+Math.imul(me,ze)|0,w=w+Math.imul(X,Pe)|0,c=c+Math.imul(X,Oe)|0,c=c+Math.imul(Q,Pe)|0,_=_+Math.imul(Q,Oe)|0,w=w+Math.imul(B,je)|0,c=c+Math.imul(B,Ue)|0,c=c+Math.imul(q,je)|0,_=_+Math.imul(q,Ue)|0,w=w+Math.imul(H,ke)|0,c=c+Math.imul(H,Ve)|0,c=c+Math.imul(J,ke)|0,_=_+Math.imul(J,Ve)|0,w=w+Math.imul(O,De)|0,c=c+Math.imul(O,We)|0,c=c+Math.imul(F,De)|0,_=_+Math.imul(F,We)|0;var Wr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,w=Math.imul(he,_e),c=Math.imul(he,Ie),c=c+Math.imul(Se,_e)|0,_=Math.imul(Se,Ie),w=w+Math.imul(ae,Ne)|0,c=c+Math.imul(ae,Re)|0,c=c+Math.imul(de,Ne)|0,_=_+Math.imul(de,Re)|0,w=w+Math.imul(ee,qe)|0,c=c+Math.imul(ee,Fe)|0,c=c+Math.imul(ie,qe)|0,_=_+Math.imul(ie,Fe)|0,w=w+Math.imul(we,$e)|0,c=c+Math.imul(we,Be)|0,c=c+Math.imul(Te,$e)|0,_=_+Math.imul(Te,Be)|0,w=w+Math.imul(xe,Le)|0,c=c+Math.imul(xe,ze)|0,c=c+Math.imul(le,Le)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(ue,Pe)|0,c=c+Math.imul(ue,Oe)|0,c=c+Math.imul(me,Pe)|0,_=_+Math.imul(me,Oe)|0,w=w+Math.imul(X,je)|0,c=c+Math.imul(X,Ue)|0,c=c+Math.imul(Q,je)|0,_=_+Math.imul(Q,Ue)|0,w=w+Math.imul(B,ke)|0,c=c+Math.imul(B,Ve)|0,c=c+Math.imul(q,ke)|0,_=_+Math.imul(q,Ve)|0,w=w+Math.imul(H,De)|0,c=c+Math.imul(H,We)|0,c=c+Math.imul(J,De)|0,_=_+Math.imul(J,We)|0,w=w+Math.imul(O,Ge)|0,c=c+Math.imul(O,He)|0,c=c+Math.imul(F,Ge)|0,_=_+Math.imul(F,He)|0;var Gr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,w=Math.imul(he,Ne),c=Math.imul(he,Re),c=c+Math.imul(Se,Ne)|0,_=Math.imul(Se,Re),w=w+Math.imul(ae,qe)|0,c=c+Math.imul(ae,Fe)|0,c=c+Math.imul(de,qe)|0,_=_+Math.imul(de,Fe)|0,w=w+Math.imul(ee,$e)|0,c=c+Math.imul(ee,Be)|0,c=c+Math.imul(ie,$e)|0,_=_+Math.imul(ie,Be)|0,w=w+Math.imul(we,Le)|0,c=c+Math.imul(we,ze)|0,c=c+Math.imul(Te,Le)|0,_=_+Math.imul(Te,ze)|0,w=w+Math.imul(xe,Pe)|0,c=c+Math.imul(xe,Oe)|0,c=c+Math.imul(le,Pe)|0,_=_+Math.imul(le,Oe)|0,w=w+Math.imul(ue,je)|0,c=c+Math.imul(ue,Ue)|0,c=c+Math.imul(me,je)|0,_=_+Math.imul(me,Ue)|0,w=w+Math.imul(X,ke)|0,c=c+Math.imul(X,Ve)|0,c=c+Math.imul(Q,ke)|0,_=_+Math.imul(Q,Ve)|0,w=w+Math.imul(B,De)|0,c=c+Math.imul(B,We)|0,c=c+Math.imul(q,De)|0,_=_+Math.imul(q,We)|0,w=w+Math.imul(H,Ge)|0,c=c+Math.imul(H,He)|0,c=c+Math.imul(J,Ge)|0,_=_+Math.imul(J,He)|0;var Hr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w=Math.imul(he,qe),c=Math.imul(he,Fe),c=c+Math.imul(Se,qe)|0,_=Math.imul(Se,Fe),w=w+Math.imul(ae,$e)|0,c=c+Math.imul(ae,Be)|0,c=c+Math.imul(de,$e)|0,_=_+Math.imul(de,Be)|0,w=w+Math.imul(ee,Le)|0,c=c+Math.imul(ee,ze)|0,c=c+Math.imul(ie,Le)|0,_=_+Math.imul(ie,ze)|0,w=w+Math.imul(we,Pe)|0,c=c+Math.imul(we,Oe)|0,c=c+Math.imul(Te,Pe)|0,_=_+Math.imul(Te,Oe)|0,w=w+Math.imul(xe,je)|0,c=c+Math.imul(xe,Ue)|0,c=c+Math.imul(le,je)|0,_=_+Math.imul(le,Ue)|0,w=w+Math.imul(ue,ke)|0,c=c+Math.imul(ue,Ve)|0,c=c+Math.imul(me,ke)|0,_=_+Math.imul(me,Ve)|0,w=w+Math.imul(X,De)|0,c=c+Math.imul(X,We)|0,c=c+Math.imul(Q,De)|0,_=_+Math.imul(Q,We)|0,w=w+Math.imul(B,Ge)|0,c=c+Math.imul(B,He)|0,c=c+Math.imul(q,Ge)|0,_=_+Math.imul(q,He)|0;var Kr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,w=Math.imul(he,$e),c=Math.imul(he,Be),c=c+Math.imul(Se,$e)|0,_=Math.imul(Se,Be),w=w+Math.imul(ae,Le)|0,c=c+Math.imul(ae,ze)|0,c=c+Math.imul(de,Le)|0,_=_+Math.imul(de,ze)|0,w=w+Math.imul(ee,Pe)|0,c=c+Math.imul(ee,Oe)|0,c=c+Math.imul(ie,Pe)|0,_=_+Math.imul(ie,Oe)|0,w=w+Math.imul(we,je)|0,c=c+Math.imul(we,Ue)|0,c=c+Math.imul(Te,je)|0,_=_+Math.imul(Te,Ue)|0,w=w+Math.imul(xe,ke)|0,c=c+Math.imul(xe,Ve)|0,c=c+Math.imul(le,ke)|0,_=_+Math.imul(le,Ve)|0,w=w+Math.imul(ue,De)|0,c=c+Math.imul(ue,We)|0,c=c+Math.imul(me,De)|0,_=_+Math.imul(me,We)|0,w=w+Math.imul(X,Ge)|0,c=c+Math.imul(X,He)|0,c=c+Math.imul(Q,Ge)|0,_=_+Math.imul(Q,He)|0;var Zr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,w=Math.imul(he,Le),c=Math.imul(he,ze),c=c+Math.imul(Se,Le)|0,_=Math.imul(Se,ze),w=w+Math.imul(ae,Pe)|0,c=c+Math.imul(ae,Oe)|0,c=c+Math.imul(de,Pe)|0,_=_+Math.imul(de,Oe)|0,w=w+Math.imul(ee,je)|0,c=c+Math.imul(ee,Ue)|0,c=c+Math.imul(ie,je)|0,_=_+Math.imul(ie,Ue)|0,w=w+Math.imul(we,ke)|0,c=c+Math.imul(we,Ve)|0,c=c+Math.imul(Te,ke)|0,_=_+Math.imul(Te,Ve)|0,w=w+Math.imul(xe,De)|0,c=c+Math.imul(xe,We)|0,c=c+Math.imul(le,De)|0,_=_+Math.imul(le,We)|0,w=w+Math.imul(ue,Ge)|0,c=c+Math.imul(ue,He)|0,c=c+Math.imul(me,Ge)|0,_=_+Math.imul(me,He)|0;var Jr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,w=Math.imul(he,Pe),c=Math.imul(he,Oe),c=c+Math.imul(Se,Pe)|0,_=Math.imul(Se,Oe),w=w+Math.imul(ae,je)|0,c=c+Math.imul(ae,Ue)|0,c=c+Math.imul(de,je)|0,_=_+Math.imul(de,Ue)|0,w=w+Math.imul(ee,ke)|0,c=c+Math.imul(ee,Ve)|0,c=c+Math.imul(ie,ke)|0,_=_+Math.imul(ie,Ve)|0,w=w+Math.imul(we,De)|0,c=c+Math.imul(we,We)|0,c=c+Math.imul(Te,De)|0,_=_+Math.imul(Te,We)|0,w=w+Math.imul(xe,Ge)|0,c=c+Math.imul(xe,He)|0,c=c+Math.imul(le,Ge)|0,_=_+Math.imul(le,He)|0;var Yr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,w=Math.imul(he,je),c=Math.imul(he,Ue),c=c+Math.imul(Se,je)|0,_=Math.imul(Se,Ue),w=w+Math.imul(ae,ke)|0,c=c+Math.imul(ae,Ve)|0,c=c+Math.imul(de,ke)|0,_=_+Math.imul(de,Ve)|0,w=w+Math.imul(ee,De)|0,c=c+Math.imul(ee,We)|0,c=c+Math.imul(ie,De)|0,_=_+Math.imul(ie,We)|0,w=w+Math.imul(we,Ge)|0,c=c+Math.imul(we,He)|0,c=c+Math.imul(Te,Ge)|0,_=_+Math.imul(Te,He)|0;var Xr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,w=Math.imul(he,ke),c=Math.imul(he,Ve),c=c+Math.imul(Se,ke)|0,_=Math.imul(Se,Ve),w=w+Math.imul(ae,De)|0,c=c+Math.imul(ae,We)|0,c=c+Math.imul(de,De)|0,_=_+Math.imul(de,We)|0,w=w+Math.imul(ee,Ge)|0,c=c+Math.imul(ee,He)|0,c=c+Math.imul(ie,Ge)|0,_=_+Math.imul(ie,He)|0;var Qr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,w=Math.imul(he,De),c=Math.imul(he,We),c=c+Math.imul(Se,De)|0,_=Math.imul(Se,We),w=w+Math.imul(ae,Ge)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul(de,Ge)|0,_=_+Math.imul(de,He)|0;var er=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(er>>>26)|0,er&=67108863,w=Math.imul(he,Ge),c=Math.imul(he,He),c=c+Math.imul(Se,Ge)|0,_=Math.imul(Se,He);var Ir=(k+w|0)+((c&8191)<<13)|0;return k=(_+(c>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,E[0]=sn,E[1]=Ct,E[2]=Ft,E[3]=$r,E[4]=zr,E[5]=jr,E[6]=Ur,E[7]=Vr,E[8]=Wr,E[9]=Gr,E[10]=Hr,E[11]=Kr,E[12]=Zr,E[13]=Jr,E[14]=Yr,E[15]=Xr,E[16]=Qr,E[17]=er,E[18]=Ir,k!==0&&(E[19]=k,g.length++),g};Math.imul||(A=S);function T(M,f,d){d.negative=f.negative^M.negative,d.length=M.length+f.length;for(var g=0,m=0,b=0;b<d.length-1;b++){var E=m;m=0;for(var k=g&67108863,w=Math.min(b,f.length-1),c=Math.max(0,b-M.length+1);c<=w;c++){var _=b-c,R=M.words[_]|0,O=f.words[c]|0,F=R*O,U=F&67108863;E=E+(F/67108864|0)|0,U=U+k|0,k=U&67108863,E=E+(U>>>26)|0,m+=E>>>26,E&=67108863}d.words[b]=k,g=E,E=m}return g!==0?d.words[b]=g:d.length--,d.strip()}function I(M,f,d){var g=new N;return g.mulp(M,f,d)}a.prototype.mulTo=function(f,d){var g,m=this.length+f.length;return this.length===10&&f.length===10?g=A(this,f,d):m<63?g=S(this,f,d):m<1024?g=T(this,f,d):g=I(this,f,d),g};function N(M,f){this.x=M,this.y=f}N.prototype.makeRBT=function(f){for(var d=new Array(f),g=a.prototype._countBits(f)-1,m=0;m<f;m++)d[m]=this.revBin(m,g,f);return d},N.prototype.revBin=function(f,d,g){if(f===0||f===g-1)return f;for(var m=0,b=0;b<d;b++)m|=(f&1)<<d-b-1,f>>=1;return m},N.prototype.permute=function(f,d,g,m,b,E){for(var k=0;k<E;k++)m[k]=d[f[k]],b[k]=g[f[k]]},N.prototype.transform=function(f,d,g,m,b,E){this.permute(E,f,d,g,m,b);for(var k=1;k<b;k<<=1)for(var w=k<<1,c=Math.cos(2*Math.PI/w),_=Math.sin(2*Math.PI/w),R=0;R<b;R+=w)for(var O=c,F=_,U=0;U<k;U++){var H=g[R+U],J=m[R+U],fe=g[R+U+k],B=m[R+U+k],q=O*fe-F*B;B=O*B+F*fe,fe=q,g[R+U]=H+fe,m[R+U]=J+B,g[R+U+k]=H-fe,m[R+U+k]=J-B,U!==w&&(q=c*O-_*F,F=c*F+_*O,O=q)}},N.prototype.guessLen13b=function(f,d){var g=Math.max(d,f)|1,m=g&1,b=0;for(g=g/2|0;g;g=g>>>1)b++;return 1<<b+1+m},N.prototype.conjugate=function(f,d,g){if(!(g<=1))for(var m=0;m<g/2;m++){var b=f[m];f[m]=f[g-m-1],f[g-m-1]=b,b=d[m],d[m]=-d[g-m-1],d[g-m-1]=-b}},N.prototype.normalize13b=function(f,d){for(var g=0,m=0;m<d/2;m++){var b=Math.round(f[2*m+1]/d)*8192+Math.round(f[2*m]/d)+g;f[m]=b&67108863,b<67108864?g=0:g=b/67108864|0}return f},N.prototype.convert13b=function(f,d,g,m){for(var b=0,E=0;E<d;E++)b=b+(f[E]|0),g[2*E]=b&8191,b=b>>>13,g[2*E+1]=b&8191,b=b>>>13;for(E=2*d;E<m;++E)g[E]=0;r(b===0),r((b&-8192)===0)},N.prototype.stub=function(f){for(var d=new Array(f),g=0;g<f;g++)d[g]=0;return d},N.prototype.mulp=function(f,d,g){var m=2*this.guessLen13b(f.length,d.length),b=this.makeRBT(m),E=this.stub(m),k=new Array(m),w=new Array(m),c=new Array(m),_=new Array(m),R=new Array(m),O=new Array(m),F=g.words;F.length=m,this.convert13b(f.words,f.length,k,m),this.convert13b(d.words,d.length,_,m),this.transform(k,E,w,c,m,b),this.transform(_,E,R,O,m,b);for(var U=0;U<m;U++){var H=w[U]*R[U]-c[U]*O[U];c[U]=w[U]*O[U]+c[U]*R[U],w[U]=H}return this.conjugate(w,c,m),this.transform(w,c,F,E,m,b),this.conjugate(F,E,m),this.normalize13b(F,m),g.negative=f.negative^d.negative,g.length=f.length+d.length,g.strip()},a.prototype.mul=function(f){var d=new a(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},a.prototype.mulf=function(f){var d=new a(null);return d.words=new Array(this.length+f.length),I(this,f,d)},a.prototype.imul=function(f){return this.clone().mulTo(f,this)},a.prototype.imuln=function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,g=0;g<this.length;g++){var m=(this.words[g]|0)*f,b=(m&67108863)+(d&67108863);d>>=26,d+=m/67108864|0,d+=b>>>26,this.words[g]=b&67108863}return d!==0&&(this.words[g]=d,this.length++),this},a.prototype.muln=function(f){return this.clone().imuln(f)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(f){var d=y(f);if(d.length===0)return new a(1);for(var g=this,m=0;m<d.length&&d[m]===0;m++,g=g.sqr());if(++m<d.length)for(var b=g.sqr();m<d.length;m++,b=b.sqr())d[m]!==0&&(g=g.mul(b));return g},a.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26,m=67108863>>>26-d<<26-d,b;if(d!==0){var E=0;for(b=0;b<this.length;b++){var k=this.words[b]&m,w=(this.words[b]|0)-k<<d;this.words[b]=w|E,E=k>>>26-d}E&&(this.words[b]=E,this.length++)}if(g!==0){for(b=this.length-1;b>=0;b--)this.words[b+g]=this.words[b];for(b=0;b<g;b++)this.words[b]=0;this.length+=g}return this.strip()},a.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},a.prototype.iushrn=function(f,d,g){r(typeof f=="number"&&f>=0);var m;d?m=(d-d%26)/26:m=0;var b=f%26,E=Math.min((f-b)/26,this.length),k=67108863^67108863>>>b<<b,w=g;if(m-=E,m=Math.max(0,m),w){for(var c=0;c<E;c++)w.words[c]=this.words[c];w.length=E}if(E!==0)if(this.length>E)for(this.length-=E,c=0;c<this.length;c++)this.words[c]=this.words[c+E];else this.words[0]=0,this.length=1;var _=0;for(c=this.length-1;c>=0&&(_!==0||c>=m);c--){var R=this.words[c]|0;this.words[c]=_<<26-b|R>>>b,_=R&k}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(f,d,g){return r(this.negative===0),this.iushrn(f,d,g)},a.prototype.shln=function(f){return this.clone().ishln(f)},a.prototype.ushln=function(f){return this.clone().iushln(f)},a.prototype.shrn=function(f){return this.clone().ishrn(f)},a.prototype.ushrn=function(f){return this.clone().iushrn(f)},a.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26,m=1<<d;if(this.length<=g)return!1;var b=this.words[g];return!!(b&m)},a.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(d!==0&&g++,this.length=Math.min(g,this.length),d!==0){var m=67108863^67108863>>>d<<d;this.words[this.length-1]&=m}return this.strip()},a.prototype.maskn=function(f){return this.clone().imaskn(f)},a.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},a.prototype._iaddn=function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},a.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},a.prototype.addn=function(f){return this.clone().iaddn(f)},a.prototype.subn=function(f){return this.clone().isubn(f)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(f,d,g){var m=f.length+g,b;this._expand(m);var E,k=0;for(b=0;b<f.length;b++){E=(this.words[b+g]|0)+k;var w=(f.words[b]|0)*d;E-=w&67108863,k=(E>>26)-(w/67108864|0),this.words[b+g]=E&67108863}for(;b<this.length-g;b++)E=(this.words[b+g]|0)+k,k=E>>26,this.words[b+g]=E&67108863;if(k===0)return this.strip();for(r(k===-1),k=0,b=0;b<this.length;b++)E=-(this.words[b]|0)+k,k=E>>26,this.words[b]=E&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(f,d){var g=this.length-f.length,m=this.clone(),b=f,E=b.words[b.length-1]|0,k=this._countBits(E);g=26-k,g!==0&&(b=b.ushln(g),m.iushln(g),E=b.words[b.length-1]|0);var w=m.length-b.length,c;if(d!=="mod"){c=new a(null),c.length=w+1,c.words=new Array(c.length);for(var _=0;_<c.length;_++)c.words[_]=0}var R=m.clone()._ishlnsubmul(b,1,w);R.negative===0&&(m=R,c&&(c.words[w]=1));for(var O=w-1;O>=0;O--){var F=(m.words[b.length+O]|0)*67108864+(m.words[b.length+O-1]|0);for(F=Math.min(F/E|0,67108863),m._ishlnsubmul(b,F,O);m.negative!==0;)F--,m.negative=0,m._ishlnsubmul(b,1,O),m.isZero()||(m.negative^=1);c&&(c.words[O]=F)}return c&&c.strip(),m.strip(),d!=="div"&&g!==0&&m.iushrn(g),{div:c||null,mod:m}},a.prototype.divmod=function(f,d,g){if(r(!f.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var m,b,E;return this.negative!==0&&f.negative===0?(E=this.neg().divmod(f,d),d!=="mod"&&(m=E.div.neg()),d!=="div"&&(b=E.mod.neg(),g&&b.negative!==0&&b.iadd(f)),{div:m,mod:b}):this.negative===0&&f.negative!==0?(E=this.divmod(f.neg(),d),d!=="mod"&&(m=E.div.neg()),{div:m,mod:E.mod}):(this.negative&f.negative)!==0?(E=this.neg().divmod(f.neg(),d),d!=="div"&&(b=E.mod.neg(),g&&b.negative!==0&&b.isub(f)),{div:E.div,mod:b}):f.length>this.length||this.cmp(f)<0?{div:new a(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new a(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new a(this.modn(f.words[0]))}:this._wordDiv(f,d)},a.prototype.div=function(f){return this.divmod(f,"div",!1).div},a.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},a.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},a.prototype.divRound=function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var g=d.div.negative!==0?d.mod.isub(f):d.mod,m=f.ushrn(1),b=f.andln(1),E=g.cmp(m);return E<0||b===1&&E===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},a.prototype.modn=function(f){r(f<=67108863);for(var d=(1<<26)%f,g=0,m=this.length-1;m>=0;m--)g=(d*g+(this.words[m]|0))%f;return g},a.prototype.idivn=function(f){r(f<=67108863);for(var d=0,g=this.length-1;g>=0;g--){var m=(this.words[g]|0)+d*67108864;this.words[g]=m/f|0,d=m%f}return this.strip()},a.prototype.divn=function(f){return this.clone().idivn(f)},a.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var d=this,g=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var m=new a(1),b=new a(0),E=new a(0),k=new a(1),w=0;d.isEven()&&g.isEven();)d.iushrn(1),g.iushrn(1),++w;for(var c=g.clone(),_=d.clone();!d.isZero();){for(var R=0,O=1;(d.words[0]&O)===0&&R<26;++R,O<<=1);if(R>0)for(d.iushrn(R);R-- >0;)(m.isOdd()||b.isOdd())&&(m.iadd(c),b.isub(_)),m.iushrn(1),b.iushrn(1);for(var F=0,U=1;(g.words[0]&U)===0&&F<26;++F,U<<=1);if(F>0)for(g.iushrn(F);F-- >0;)(E.isOdd()||k.isOdd())&&(E.iadd(c),k.isub(_)),E.iushrn(1),k.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(E),b.isub(k)):(g.isub(d),E.isub(m),k.isub(b))}return{a:E,b:k,gcd:g.iushln(w)}},a.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var d=this,g=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var m=new a(1),b=new a(0),E=g.clone();d.cmpn(1)>0&&g.cmpn(1)>0;){for(var k=0,w=1;(d.words[0]&w)===0&&k<26;++k,w<<=1);if(k>0)for(d.iushrn(k);k-- >0;)m.isOdd()&&m.iadd(E),m.iushrn(1);for(var c=0,_=1;(g.words[0]&_)===0&&c<26;++c,_<<=1);if(c>0)for(g.iushrn(c);c-- >0;)b.isOdd()&&b.iadd(E),b.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(b)):(g.isub(d),b.isub(m))}var R;return d.cmpn(1)===0?R=m:R=b,R.cmpn(0)<0&&R.iadd(f),R},a.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),g=f.clone();d.negative=0,g.negative=0;for(var m=0;d.isEven()&&g.isEven();m++)d.iushrn(1),g.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;g.isEven();)g.iushrn(1);var b=d.cmp(g);if(b<0){var E=d;d=g,g=E}else if(b===0||g.cmpn(1)===0)break;d.isub(g)}while(!0);return g.iushln(m)},a.prototype.invm=function(f){return this.egcd(f).a.umod(f)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(f){return this.words[0]&f},a.prototype.bincn=function(f){r(typeof f=="number");var d=f%26,g=(f-d)/26,m=1<<d;if(this.length<=g)return this._expand(g+1),this.words[g]|=m,this;for(var b=m,E=g;b!==0&&E<this.length;E++){var k=this.words[E]|0;k+=b,b=k>>>26,k&=67108863,this.words[E]=k}return b!==0&&(this.words[E]=b,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var g;if(this.length>1)g=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var m=this.words[0]|0;g=m===f?0:m<f?-1:1}return this.negative!==0?-g|0:g},a.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},a.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,g=this.length-1;g>=0;g--){var m=this.words[g]|0,b=f.words[g]|0;if(m!==b){m<b?d=-1:m>b&&(d=1);break}}return d},a.prototype.gtn=function(f){return this.cmpn(f)===1},a.prototype.gt=function(f){return this.cmp(f)===1},a.prototype.gten=function(f){return this.cmpn(f)>=0},a.prototype.gte=function(f){return this.cmp(f)>=0},a.prototype.ltn=function(f){return this.cmpn(f)===-1},a.prototype.lt=function(f){return this.cmp(f)===-1},a.prototype.lten=function(f){return this.cmpn(f)<=0},a.prototype.lte=function(f){return this.cmp(f)<=0},a.prototype.eqn=function(f){return this.cmpn(f)===0},a.prototype.eq=function(f){return this.cmp(f)===0},a.red=function(f){return new j(f)},a.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(f){return this.red=f,this},a.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},a.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},a.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},a.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},a.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},a.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},a.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},a.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var D={k256:null,p224:null,p192:null,p25519:null};function C(M,f){this.name=M,this.p=new a(f,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var f=new a(null);return f.words=new Array(Math.ceil(this.n/13)),f},C.prototype.ireduce=function(f){var d=f,g;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),g=d.bitLength();while(g>this.n);var m=g<this.n?-1:d.ucmp(this.p);return m===0?(d.words[0]=0,d.length=1):m>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},C.prototype.split=function(f,d){f.iushrn(this.n,0,d)},C.prototype.imulK=function(f){return f.imul(this.k)};function L(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(L,C),L.prototype.split=function(f,d){for(var g=4194303,m=Math.min(f.length,9),b=0;b<m;b++)d.words[b]=f.words[b];if(d.length=m,f.length<=9){f.words[0]=0,f.length=1;return}var E=f.words[9];for(d.words[d.length++]=E&g,b=10;b<f.length;b++){var k=f.words[b]|0;f.words[b-10]=(k&g)<<4|E>>>22,E=k}E>>>=22,f.words[b-10]=E,E===0&&f.length>10?f.length-=10:f.length-=9},L.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,g=0;g<f.length;g++){var m=f.words[g]|0;d+=m*977,f.words[g]=d&67108863,d=m*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function z(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(z,C);function $(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n($,C);function G(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(G,C),G.prototype.imulK=function(f){for(var d=0,g=0;g<f.length;g++){var m=(f.words[g]|0)*19+d,b=m&67108863;m>>>=26,f.words[g]=b,d=m}return d!==0&&(f.words[f.length++]=d),f},a._prime=function(f){if(D[f])return D[f];var d;if(f==="k256")d=new L;else if(f==="p224")d=new z;else if(f==="p192")d=new $;else if(f==="p25519")d=new G;else throw new Error("Unknown prime "+f);return D[f]=d,d};function j(M){if(typeof M=="string"){var f=a._prime(M);this.m=f.p,this.prime=f}else r(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}j.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},j.prototype._verify2=function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},j.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},j.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},j.prototype.add=function(f,d){this._verify2(f,d);var g=f.add(d);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},j.prototype.iadd=function(f,d){this._verify2(f,d);var g=f.iadd(d);return g.cmp(this.m)>=0&&g.isub(this.m),g},j.prototype.sub=function(f,d){this._verify2(f,d);var g=f.sub(d);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},j.prototype.isub=function(f,d){this._verify2(f,d);var g=f.isub(d);return g.cmpn(0)<0&&g.iadd(this.m),g},j.prototype.shl=function(f,d){return this._verify1(f),this.imod(f.ushln(d))},j.prototype.imul=function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},j.prototype.mul=function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},j.prototype.isqr=function(f){return this.imul(f,f.clone())},j.prototype.sqr=function(f){return this.mul(f,f)},j.prototype.sqrt=function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var g=this.m.add(new a(1)).iushrn(2);return this.pow(f,g)}for(var m=this.m.subn(1),b=0;!m.isZero()&&m.andln(1)===0;)b++,m.iushrn(1);r(!m.isZero());var E=new a(1).toRed(this),k=E.redNeg(),w=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new a(2*c*c).toRed(this);this.pow(c,w).cmp(k)!==0;)c.redIAdd(k);for(var _=this.pow(c,m),R=this.pow(f,m.addn(1).iushrn(1)),O=this.pow(f,m),F=b;O.cmp(E)!==0;){for(var U=O,H=0;U.cmp(E)!==0;H++)U=U.redSqr();r(H<F);var J=this.pow(_,new a(1).iushln(F-H-1));R=R.redMul(J),_=J.redSqr(),O=O.redMul(_),F=H}return R},j.prototype.invm=function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},j.prototype.pow=function(f,d){if(d.isZero())return new a(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var g=4,m=new Array(1<<g);m[0]=new a(1).toRed(this),m[1]=f;for(var b=2;b<m.length;b++)m[b]=this.mul(m[b-1],f);var E=m[0],k=0,w=0,c=d.bitLength()%26;for(c===0&&(c=26),b=d.length-1;b>=0;b--){for(var _=d.words[b],R=c-1;R>=0;R--){var O=_>>R&1;if(E!==m[0]&&(E=this.sqr(E)),O===0&&k===0){w=0;continue}k<<=1,k|=O,w++,!(w!==g&&(b!==0||R!==0))&&(E=this.mul(E,m[k]),w=0,k=0)}c=26}return E},j.prototype.convertTo=function(f){var d=f.umod(this.m);return d===f?d.clone():d},j.prototype.convertFrom=function(f){var d=f.clone();return d.red=null,d},a.mont=function(f){return new Z(f)};function Z(M){j.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Z,j),Z.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Z.prototype.convertFrom=function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},Z.prototype.imul=function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var g=f.imul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=g.isub(m).iushrn(this.shift),E=b;return b.cmp(this.m)>=0?E=b.isub(this.m):b.cmpn(0)<0&&(E=b.iadd(this.m)),E._forceRed(this)},Z.prototype.mul=function(f,d){if(f.isZero()||d.isZero())return new a(0)._forceRed(this);var g=f.mul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=g.isub(m).iushrn(this.shift),E=b;return b.cmp(this.m)>=0?E=b.isub(this.m):b.cmpn(0)<0&&(E=b.iadd(this.m)),E._forceRed(this)},Z.prototype.invm=function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof mT=="undefined"||mT,_L)});var SL=ne((xL,gT)=>{(function(t,e){"use strict";function r(M,f){if(!M)throw new Error(f||"Assertion failed")}function n(M,f){M.super_=f;var d=function(){};d.prototype=f.prototype,M.prototype=new d,M.prototype.constructor=M}function a(M,f,d){if(a.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(M||0,f||10,d||"be"))}typeof t=="object"?t.exports=a:e.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=yn().Buffer}catch(M){}a.isBN=function(f){return f instanceof a?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===a.wordSize&&Array.isArray(f.words)},a.max=function(f,d){return f.cmp(d)>0?f:d},a.min=function(f,d){return f.cmp(d)<0?f:d},a.prototype._init=function(f,d,g){if(typeof f=="number")return this._initNumber(f,d,g);if(typeof f=="object")return this._initArray(f,d,g);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var m=0;f[0]==="-"&&(m++,this.negative=1),m<f.length&&(d===16?this._parseHex(f,m,g):(this._parseBase(f,d,m),g==="le"&&this._initArray(this.toArray(),d,g)))},a.prototype._initNumber=function(f,d,g){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),d,g)},a.prototype._initArray=function(f,d,g){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var b,E,k=0;if(g==="be")for(m=f.length-1,b=0;m>=0;m-=3)E=f[m]|f[m-1]<<8|f[m-2]<<16,this.words[b]|=E<<k&67108863,this.words[b+1]=E>>>26-k&67108863,k+=24,k>=26&&(k-=26,b++);else if(g==="le")for(m=0,b=0;m<f.length;m+=3)E=f[m]|f[m+1]<<8|f[m+2]<<16,this.words[b]|=E<<k&67108863,this.words[b+1]=E>>>26-k&67108863,k+=24,k>=26&&(k-=26,b++);return this.strip()};function o(M,f){var d=M.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function u(M,f,d){var g=o(M,d);return d-1>=f&&(g|=o(M,d-1)<<4),g}a.prototype._parseHex=function(f,d,g){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var b=0,E=0,k;if(g==="be")for(m=f.length-1;m>=d;m-=2)k=u(f,d,m)<<b,this.words[E]|=k&67108863,b>=18?(b-=18,E+=1,this.words[E]|=k>>>26):b+=8;else{var w=f.length-d;for(m=w%2===0?d+1:d;m<f.length;m+=2)k=u(f,d,m)<<b,this.words[E]|=k&67108863,b>=18?(b-=18,E+=1,this.words[E]|=k>>>26):b+=8}this.strip()};function l(M,f,d,g){for(var m=0,b=Math.min(M.length,d),E=f;E<b;E++){var k=M.charCodeAt(E)-48;m*=g,k>=49?m+=k-49+10:k>=17?m+=k-17+10:m+=k}return m}a.prototype._parseBase=function(f,d,g){this.words=[0],this.length=1;for(var m=0,b=1;b<=67108863;b*=d)m++;m--,b=b/d|0;for(var E=f.length-g,k=E%m,w=Math.min(E,E-k)+g,c=0,_=g;_<w;_+=m)c=l(f,_,_+m,d),this.imuln(b),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(k!==0){var R=1;for(c=l(f,_,f.length,d),_=0;_<k;_++)R*=d;this.imuln(R),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},a.prototype.copy=function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},a.prototype.clone=function(){var f=new a(null);return this.copy(f),f},a.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(f,d){f=f||10,d=d|0||1;var g;if(f===16||f==="hex"){g="";for(var m=0,b=0,E=0;E<this.length;E++){var k=this.words[E],w=((k<<m|b)&16777215).toString(16);b=k>>>24-m&16777215,b!==0||E!==this.length-1?g=h[6-w.length]+w+g:g=w+g,m+=2,m>=26&&(m-=26,E--)}for(b!==0&&(g=b.toString(16)+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(f===(f|0)&&f>=2&&f<=36){var c=p[f],_=v[f];g="";var R=this.clone();for(R.negative=0;!R.isZero();){var O=R.modn(_).toString(f);R=R.idivn(_),R.isZero()?g=O+g:g=h[c-O.length]+O+g}for(this.isZero()&&(g="0"+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(f,d){return r(typeof s!="undefined"),this.toArrayLike(s,f,d)},a.prototype.toArray=function(f,d){return this.toArrayLike(Array,f,d)},a.prototype.toArrayLike=function(f,d,g){var m=this.byteLength(),b=g||Math.max(1,m);r(m<=b,"byte array longer than desired length"),r(b>0,"Requested array length <= 0"),this.strip();var E=d==="le",k=new f(b),w,c,_=this.clone();if(E){for(c=0;!_.isZero();c++)w=_.andln(255),_.iushrn(8),k[c]=w;for(;c<b;c++)k[c]=0}else{for(c=0;c<b-m;c++)k[c]=0;for(c=0;!_.isZero();c++)w=_.andln(255),_.iushrn(8),k[b-c-1]=w}return k},Math.clz32?a.prototype._countBits=function(f){return 32-Math.clz32(f)}:a.prototype._countBits=function(f){var d=f,g=0;return d>=4096&&(g+=13,d>>>=13),d>=64&&(g+=7,d>>>=7),d>=8&&(g+=4,d>>>=4),d>=2&&(g+=2,d>>>=2),g+d},a.prototype._zeroBits=function(f){if(f===0)return 26;var d=f,g=0;return(d&8191)===0&&(g+=13,d>>>=13),(d&127)===0&&(g+=7,d>>>=7),(d&15)===0&&(g+=4,d>>>=4),(d&3)===0&&(g+=2,d>>>=2),(d&1)===0&&g++,g},a.prototype.bitLength=function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d};function y(M){for(var f=new Array(M.bitLength()),d=0;d<f.length;d++){var g=d/26|0,m=d%26;f[d]=(M.words[g]&1<<m)>>>m}return f}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var g=this._zeroBits(this.words[d]);if(f+=g,g!==26)break}return f},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},a.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},a.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},a.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},a.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},a.prototype.iuand=function(f){var d;this.length>f.length?d=f:d=this;for(var g=0;g<d.length;g++)this.words[g]=this.words[g]&f.words[g];return this.length=d.length,this.strip()},a.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},a.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},a.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},a.prototype.iuxor=function(f){var d,g;this.length>f.length?(d=this,g=f):(d=f,g=this);for(var m=0;m<g.length;m++)this.words[m]=d.words[m]^g.words[m];if(this!==d)for(;m<d.length;m++)this.words[m]=d.words[m];return this.length=d.length,this.strip()},a.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},a.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},a.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},a.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,g=f%26;this._expand(d),g>0&&d--;for(var m=0;m<d;m++)this.words[m]=~this.words[m]&67108863;return g>0&&(this.words[m]=~this.words[m]&67108863>>26-g),this.strip()},a.prototype.notn=function(f){return this.clone().inotn(f)},a.prototype.setn=function(f,d){r(typeof f=="number"&&f>=0);var g=f/26|0,m=f%26;return this._expand(g+1),d?this.words[g]=this.words[g]|1<<m:this.words[g]=this.words[g]&~(1<<m),this.strip()},a.prototype.iadd=function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var g,m;this.length>f.length?(g=this,m=f):(g=f,m=this);for(var b=0,E=0;E<m.length;E++)d=(g.words[E]|0)+(m.words[E]|0)+b,this.words[E]=d&67108863,b=d>>>26;for(;b!==0&&E<g.length;E++)d=(g.words[E]|0)+b,this.words[E]=d&67108863,b=d>>>26;if(this.length=g.length,b!==0)this.words[this.length]=b,this.length++;else if(g!==this)for(;E<g.length;E++)this.words[E]=g.words[E];return this},a.prototype.add=function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},a.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var g=this.cmp(f);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,b;g>0?(m=this,b=f):(m=f,b=this);for(var E=0,k=0;k<b.length;k++)d=(m.words[k]|0)-(b.words[k]|0)+E,E=d>>26,this.words[k]=d&67108863;for(;E!==0&&k<m.length;k++)d=(m.words[k]|0)+E,E=d>>26,this.words[k]=d&67108863;if(E===0&&k<m.length&&m!==this)for(;k<m.length;k++)this.words[k]=m.words[k];return this.length=Math.max(this.length,k),m!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(f){return this.clone().isub(f)};function S(M,f,d){d.negative=f.negative^M.negative;var g=M.length+f.length|0;d.length=g,g=g-1|0;var m=M.words[0]|0,b=f.words[0]|0,E=m*b,k=E&67108863,w=E/67108864|0;d.words[0]=k;for(var c=1;c<g;c++){for(var _=w>>>26,R=w&67108863,O=Math.min(c,f.length-1),F=Math.max(0,c-M.length+1);F<=O;F++){var U=c-F|0;m=M.words[U]|0,b=f.words[F]|0,E=m*b+R,_+=E/67108864|0,R=E&67108863}d.words[c]=R|0,w=_|0}return w!==0?d.words[c]=w|0:d.length--,d.strip()}var A=function(f,d,g){var m=f.words,b=d.words,E=g.words,k=0,w,c,_,R=m[0]|0,O=R&8191,F=R>>>13,U=m[1]|0,H=U&8191,J=U>>>13,fe=m[2]|0,B=fe&8191,q=fe>>>13,Y=m[3]|0,X=Y&8191,Q=Y>>>13,be=m[4]|0,ue=be&8191,me=be>>>13,yt=m[5]|0,xe=yt&8191,le=yt>>>13,zt=m[6]|0,we=zt&8191,Te=zt>>>13,ot=m[7]|0,ee=ot&8191,ie=ot>>>13,rt=m[8]|0,ae=rt&8191,de=rt>>>13,Je=m[9]|0,he=Je&8191,Se=Je>>>13,Tt=b[0]|0,_e=Tt&8191,Ie=Tt>>>13,ar=b[1]|0,Ne=ar&8191,Re=ar>>>13,ri=b[2]|0,qe=ri&8191,Fe=ri>>>13,Un=b[3]|0,$e=Un&8191,Be=Un>>>13,Vn=b[4]|0,Le=Vn&8191,ze=Vn>>>13,ni=b[5]|0,Pe=ni&8191,Oe=ni>>>13,Wn=b[6]|0,je=Wn&8191,Ue=Wn>>>13,Er=b[7]|0,ke=Er&8191,Ve=Er>>>13,In=b[8]|0,De=In&8191,We=In>>>13,Fn=b[9]|0,Ge=Fn&8191,He=Fn>>>13;g.negative=f.negative^d.negative,g.length=19,w=Math.imul(O,_e),c=Math.imul(O,Ie),c=c+Math.imul(F,_e)|0,_=Math.imul(F,Ie);var sn=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(sn>>>26)|0,sn&=67108863,w=Math.imul(H,_e),c=Math.imul(H,Ie),c=c+Math.imul(J,_e)|0,_=Math.imul(J,Ie),w=w+Math.imul(O,Ne)|0,c=c+Math.imul(O,Re)|0,c=c+Math.imul(F,Ne)|0,_=_+Math.imul(F,Re)|0;var Ct=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,w=Math.imul(B,_e),c=Math.imul(B,Ie),c=c+Math.imul(q,_e)|0,_=Math.imul(q,Ie),w=w+Math.imul(H,Ne)|0,c=c+Math.imul(H,Re)|0,c=c+Math.imul(J,Ne)|0,_=_+Math.imul(J,Re)|0,w=w+Math.imul(O,qe)|0,c=c+Math.imul(O,Fe)|0,c=c+Math.imul(F,qe)|0,_=_+Math.imul(F,Fe)|0;var Ft=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,w=Math.imul(X,_e),c=Math.imul(X,Ie),c=c+Math.imul(Q,_e)|0,_=Math.imul(Q,Ie),w=w+Math.imul(B,Ne)|0,c=c+Math.imul(B,Re)|0,c=c+Math.imul(q,Ne)|0,_=_+Math.imul(q,Re)|0,w=w+Math.imul(H,qe)|0,c=c+Math.imul(H,Fe)|0,c=c+Math.imul(J,qe)|0,_=_+Math.imul(J,Fe)|0,w=w+Math.imul(O,$e)|0,c=c+Math.imul(O,Be)|0,c=c+Math.imul(F,$e)|0,_=_+Math.imul(F,Be)|0;var $r=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+($r>>>26)|0,$r&=67108863,w=Math.imul(ue,_e),c=Math.imul(ue,Ie),c=c+Math.imul(me,_e)|0,_=Math.imul(me,Ie),w=w+Math.imul(X,Ne)|0,c=c+Math.imul(X,Re)|0,c=c+Math.imul(Q,Ne)|0,_=_+Math.imul(Q,Re)|0,w=w+Math.imul(B,qe)|0,c=c+Math.imul(B,Fe)|0,c=c+Math.imul(q,qe)|0,_=_+Math.imul(q,Fe)|0,w=w+Math.imul(H,$e)|0,c=c+Math.imul(H,Be)|0,c=c+Math.imul(J,$e)|0,_=_+Math.imul(J,Be)|0,w=w+Math.imul(O,Le)|0,c=c+Math.imul(O,ze)|0,c=c+Math.imul(F,Le)|0,_=_+Math.imul(F,ze)|0;var zr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(zr>>>26)|0,zr&=67108863,w=Math.imul(xe,_e),c=Math.imul(xe,Ie),c=c+Math.imul(le,_e)|0,_=Math.imul(le,Ie),w=w+Math.imul(ue,Ne)|0,c=c+Math.imul(ue,Re)|0,c=c+Math.imul(me,Ne)|0,_=_+Math.imul(me,Re)|0,w=w+Math.imul(X,qe)|0,c=c+Math.imul(X,Fe)|0,c=c+Math.imul(Q,qe)|0,_=_+Math.imul(Q,Fe)|0,w=w+Math.imul(B,$e)|0,c=c+Math.imul(B,Be)|0,c=c+Math.imul(q,$e)|0,_=_+Math.imul(q,Be)|0,w=w+Math.imul(H,Le)|0,c=c+Math.imul(H,ze)|0,c=c+Math.imul(J,Le)|0,_=_+Math.imul(J,ze)|0,w=w+Math.imul(O,Pe)|0,c=c+Math.imul(O,Oe)|0,c=c+Math.imul(F,Pe)|0,_=_+Math.imul(F,Oe)|0;var jr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(jr>>>26)|0,jr&=67108863,w=Math.imul(we,_e),c=Math.imul(we,Ie),c=c+Math.imul(Te,_e)|0,_=Math.imul(Te,Ie),w=w+Math.imul(xe,Ne)|0,c=c+Math.imul(xe,Re)|0,c=c+Math.imul(le,Ne)|0,_=_+Math.imul(le,Re)|0,w=w+Math.imul(ue,qe)|0,c=c+Math.imul(ue,Fe)|0,c=c+Math.imul(me,qe)|0,_=_+Math.imul(me,Fe)|0,w=w+Math.imul(X,$e)|0,c=c+Math.imul(X,Be)|0,c=c+Math.imul(Q,$e)|0,_=_+Math.imul(Q,Be)|0,w=w+Math.imul(B,Le)|0,c=c+Math.imul(B,ze)|0,c=c+Math.imul(q,Le)|0,_=_+Math.imul(q,ze)|0,w=w+Math.imul(H,Pe)|0,c=c+Math.imul(H,Oe)|0,c=c+Math.imul(J,Pe)|0,_=_+Math.imul(J,Oe)|0,w=w+Math.imul(O,je)|0,c=c+Math.imul(O,Ue)|0,c=c+Math.imul(F,je)|0,_=_+Math.imul(F,Ue)|0;var Ur=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,w=Math.imul(ee,_e),c=Math.imul(ee,Ie),c=c+Math.imul(ie,_e)|0,_=Math.imul(ie,Ie),w=w+Math.imul(we,Ne)|0,c=c+Math.imul(we,Re)|0,c=c+Math.imul(Te,Ne)|0,_=_+Math.imul(Te,Re)|0,w=w+Math.imul(xe,qe)|0,c=c+Math.imul(xe,Fe)|0,c=c+Math.imul(le,qe)|0,_=_+Math.imul(le,Fe)|0,w=w+Math.imul(ue,$e)|0,c=c+Math.imul(ue,Be)|0,c=c+Math.imul(me,$e)|0,_=_+Math.imul(me,Be)|0,w=w+Math.imul(X,Le)|0,c=c+Math.imul(X,ze)|0,c=c+Math.imul(Q,Le)|0,_=_+Math.imul(Q,ze)|0,w=w+Math.imul(B,Pe)|0,c=c+Math.imul(B,Oe)|0,c=c+Math.imul(q,Pe)|0,_=_+Math.imul(q,Oe)|0,w=w+Math.imul(H,je)|0,c=c+Math.imul(H,Ue)|0,c=c+Math.imul(J,je)|0,_=_+Math.imul(J,Ue)|0,w=w+Math.imul(O,ke)|0,c=c+Math.imul(O,Ve)|0,c=c+Math.imul(F,ke)|0,_=_+Math.imul(F,Ve)|0;var Vr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,w=Math.imul(ae,_e),c=Math.imul(ae,Ie),c=c+Math.imul(de,_e)|0,_=Math.imul(de,Ie),w=w+Math.imul(ee,Ne)|0,c=c+Math.imul(ee,Re)|0,c=c+Math.imul(ie,Ne)|0,_=_+Math.imul(ie,Re)|0,w=w+Math.imul(we,qe)|0,c=c+Math.imul(we,Fe)|0,c=c+Math.imul(Te,qe)|0,_=_+Math.imul(Te,Fe)|0,w=w+Math.imul(xe,$e)|0,c=c+Math.imul(xe,Be)|0,c=c+Math.imul(le,$e)|0,_=_+Math.imul(le,Be)|0,w=w+Math.imul(ue,Le)|0,c=c+Math.imul(ue,ze)|0,c=c+Math.imul(me,Le)|0,_=_+Math.imul(me,ze)|0,w=w+Math.imul(X,Pe)|0,c=c+Math.imul(X,Oe)|0,c=c+Math.imul(Q,Pe)|0,_=_+Math.imul(Q,Oe)|0,w=w+Math.imul(B,je)|0,c=c+Math.imul(B,Ue)|0,c=c+Math.imul(q,je)|0,_=_+Math.imul(q,Ue)|0,w=w+Math.imul(H,ke)|0,c=c+Math.imul(H,Ve)|0,c=c+Math.imul(J,ke)|0,_=_+Math.imul(J,Ve)|0,w=w+Math.imul(O,De)|0,c=c+Math.imul(O,We)|0,c=c+Math.imul(F,De)|0,_=_+Math.imul(F,We)|0;var Wr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,w=Math.imul(he,_e),c=Math.imul(he,Ie),c=c+Math.imul(Se,_e)|0,_=Math.imul(Se,Ie),w=w+Math.imul(ae,Ne)|0,c=c+Math.imul(ae,Re)|0,c=c+Math.imul(de,Ne)|0,_=_+Math.imul(de,Re)|0,w=w+Math.imul(ee,qe)|0,c=c+Math.imul(ee,Fe)|0,c=c+Math.imul(ie,qe)|0,_=_+Math.imul(ie,Fe)|0,w=w+Math.imul(we,$e)|0,c=c+Math.imul(we,Be)|0,c=c+Math.imul(Te,$e)|0,_=_+Math.imul(Te,Be)|0,w=w+Math.imul(xe,Le)|0,c=c+Math.imul(xe,ze)|0,c=c+Math.imul(le,Le)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(ue,Pe)|0,c=c+Math.imul(ue,Oe)|0,c=c+Math.imul(me,Pe)|0,_=_+Math.imul(me,Oe)|0,w=w+Math.imul(X,je)|0,c=c+Math.imul(X,Ue)|0,c=c+Math.imul(Q,je)|0,_=_+Math.imul(Q,Ue)|0,w=w+Math.imul(B,ke)|0,c=c+Math.imul(B,Ve)|0,c=c+Math.imul(q,ke)|0,_=_+Math.imul(q,Ve)|0,w=w+Math.imul(H,De)|0,c=c+Math.imul(H,We)|0,c=c+Math.imul(J,De)|0,_=_+Math.imul(J,We)|0,w=w+Math.imul(O,Ge)|0,c=c+Math.imul(O,He)|0,c=c+Math.imul(F,Ge)|0,_=_+Math.imul(F,He)|0;var Gr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,w=Math.imul(he,Ne),c=Math.imul(he,Re),c=c+Math.imul(Se,Ne)|0,_=Math.imul(Se,Re),w=w+Math.imul(ae,qe)|0,c=c+Math.imul(ae,Fe)|0,c=c+Math.imul(de,qe)|0,_=_+Math.imul(de,Fe)|0,w=w+Math.imul(ee,$e)|0,c=c+Math.imul(ee,Be)|0,c=c+Math.imul(ie,$e)|0,_=_+Math.imul(ie,Be)|0,w=w+Math.imul(we,Le)|0,c=c+Math.imul(we,ze)|0,c=c+Math.imul(Te,Le)|0,_=_+Math.imul(Te,ze)|0,w=w+Math.imul(xe,Pe)|0,c=c+Math.imul(xe,Oe)|0,c=c+Math.imul(le,Pe)|0,_=_+Math.imul(le,Oe)|0,w=w+Math.imul(ue,je)|0,c=c+Math.imul(ue,Ue)|0,c=c+Math.imul(me,je)|0,_=_+Math.imul(me,Ue)|0,w=w+Math.imul(X,ke)|0,c=c+Math.imul(X,Ve)|0,c=c+Math.imul(Q,ke)|0,_=_+Math.imul(Q,Ve)|0,w=w+Math.imul(B,De)|0,c=c+Math.imul(B,We)|0,c=c+Math.imul(q,De)|0,_=_+Math.imul(q,We)|0,w=w+Math.imul(H,Ge)|0,c=c+Math.imul(H,He)|0,c=c+Math.imul(J,Ge)|0,_=_+Math.imul(J,He)|0;var Hr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w=Math.imul(he,qe),c=Math.imul(he,Fe),c=c+Math.imul(Se,qe)|0,_=Math.imul(Se,Fe),w=w+Math.imul(ae,$e)|0,c=c+Math.imul(ae,Be)|0,c=c+Math.imul(de,$e)|0,_=_+Math.imul(de,Be)|0,w=w+Math.imul(ee,Le)|0,c=c+Math.imul(ee,ze)|0,c=c+Math.imul(ie,Le)|0,_=_+Math.imul(ie,ze)|0,w=w+Math.imul(we,Pe)|0,c=c+Math.imul(we,Oe)|0,c=c+Math.imul(Te,Pe)|0,_=_+Math.imul(Te,Oe)|0,w=w+Math.imul(xe,je)|0,c=c+Math.imul(xe,Ue)|0,c=c+Math.imul(le,je)|0,_=_+Math.imul(le,Ue)|0,w=w+Math.imul(ue,ke)|0,c=c+Math.imul(ue,Ve)|0,c=c+Math.imul(me,ke)|0,_=_+Math.imul(me,Ve)|0,w=w+Math.imul(X,De)|0,c=c+Math.imul(X,We)|0,c=c+Math.imul(Q,De)|0,_=_+Math.imul(Q,We)|0,w=w+Math.imul(B,Ge)|0,c=c+Math.imul(B,He)|0,c=c+Math.imul(q,Ge)|0,_=_+Math.imul(q,He)|0;var Kr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,w=Math.imul(he,$e),c=Math.imul(he,Be),c=c+Math.imul(Se,$e)|0,_=Math.imul(Se,Be),w=w+Math.imul(ae,Le)|0,c=c+Math.imul(ae,ze)|0,c=c+Math.imul(de,Le)|0,_=_+Math.imul(de,ze)|0,w=w+Math.imul(ee,Pe)|0,c=c+Math.imul(ee,Oe)|0,c=c+Math.imul(ie,Pe)|0,_=_+Math.imul(ie,Oe)|0,w=w+Math.imul(we,je)|0,c=c+Math.imul(we,Ue)|0,c=c+Math.imul(Te,je)|0,_=_+Math.imul(Te,Ue)|0,w=w+Math.imul(xe,ke)|0,c=c+Math.imul(xe,Ve)|0,c=c+Math.imul(le,ke)|0,_=_+Math.imul(le,Ve)|0,w=w+Math.imul(ue,De)|0,c=c+Math.imul(ue,We)|0,c=c+Math.imul(me,De)|0,_=_+Math.imul(me,We)|0,w=w+Math.imul(X,Ge)|0,c=c+Math.imul(X,He)|0,c=c+Math.imul(Q,Ge)|0,_=_+Math.imul(Q,He)|0;var Zr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,w=Math.imul(he,Le),c=Math.imul(he,ze),c=c+Math.imul(Se,Le)|0,_=Math.imul(Se,ze),w=w+Math.imul(ae,Pe)|0,c=c+Math.imul(ae,Oe)|0,c=c+Math.imul(de,Pe)|0,_=_+Math.imul(de,Oe)|0,w=w+Math.imul(ee,je)|0,c=c+Math.imul(ee,Ue)|0,c=c+Math.imul(ie,je)|0,_=_+Math.imul(ie,Ue)|0,w=w+Math.imul(we,ke)|0,c=c+Math.imul(we,Ve)|0,c=c+Math.imul(Te,ke)|0,_=_+Math.imul(Te,Ve)|0,w=w+Math.imul(xe,De)|0,c=c+Math.imul(xe,We)|0,c=c+Math.imul(le,De)|0,_=_+Math.imul(le,We)|0,w=w+Math.imul(ue,Ge)|0,c=c+Math.imul(ue,He)|0,c=c+Math.imul(me,Ge)|0,_=_+Math.imul(me,He)|0;var Jr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,w=Math.imul(he,Pe),c=Math.imul(he,Oe),c=c+Math.imul(Se,Pe)|0,_=Math.imul(Se,Oe),w=w+Math.imul(ae,je)|0,c=c+Math.imul(ae,Ue)|0,c=c+Math.imul(de,je)|0,_=_+Math.imul(de,Ue)|0,w=w+Math.imul(ee,ke)|0,c=c+Math.imul(ee,Ve)|0,c=c+Math.imul(ie,ke)|0,_=_+Math.imul(ie,Ve)|0,w=w+Math.imul(we,De)|0,c=c+Math.imul(we,We)|0,c=c+Math.imul(Te,De)|0,_=_+Math.imul(Te,We)|0,w=w+Math.imul(xe,Ge)|0,c=c+Math.imul(xe,He)|0,c=c+Math.imul(le,Ge)|0,_=_+Math.imul(le,He)|0;var Yr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,w=Math.imul(he,je),c=Math.imul(he,Ue),c=c+Math.imul(Se,je)|0,_=Math.imul(Se,Ue),w=w+Math.imul(ae,ke)|0,c=c+Math.imul(ae,Ve)|0,c=c+Math.imul(de,ke)|0,_=_+Math.imul(de,Ve)|0,w=w+Math.imul(ee,De)|0,c=c+Math.imul(ee,We)|0,c=c+Math.imul(ie,De)|0,_=_+Math.imul(ie,We)|0,w=w+Math.imul(we,Ge)|0,c=c+Math.imul(we,He)|0,c=c+Math.imul(Te,Ge)|0,_=_+Math.imul(Te,He)|0;var Xr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,w=Math.imul(he,ke),c=Math.imul(he,Ve),c=c+Math.imul(Se,ke)|0,_=Math.imul(Se,Ve),w=w+Math.imul(ae,De)|0,c=c+Math.imul(ae,We)|0,c=c+Math.imul(de,De)|0,_=_+Math.imul(de,We)|0,w=w+Math.imul(ee,Ge)|0,c=c+Math.imul(ee,He)|0,c=c+Math.imul(ie,Ge)|0,_=_+Math.imul(ie,He)|0;var Qr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,w=Math.imul(he,De),c=Math.imul(he,We),c=c+Math.imul(Se,De)|0,_=Math.imul(Se,We),w=w+Math.imul(ae,Ge)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul(de,Ge)|0,_=_+Math.imul(de,He)|0;var er=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(er>>>26)|0,er&=67108863,w=Math.imul(he,Ge),c=Math.imul(he,He),c=c+Math.imul(Se,Ge)|0,_=Math.imul(Se,He);var Ir=(k+w|0)+((c&8191)<<13)|0;return k=(_+(c>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,E[0]=sn,E[1]=Ct,E[2]=Ft,E[3]=$r,E[4]=zr,E[5]=jr,E[6]=Ur,E[7]=Vr,E[8]=Wr,E[9]=Gr,E[10]=Hr,E[11]=Kr,E[12]=Zr,E[13]=Jr,E[14]=Yr,E[15]=Xr,E[16]=Qr,E[17]=er,E[18]=Ir,k!==0&&(E[19]=k,g.length++),g};Math.imul||(A=S);function T(M,f,d){d.negative=f.negative^M.negative,d.length=M.length+f.length;for(var g=0,m=0,b=0;b<d.length-1;b++){var E=m;m=0;for(var k=g&67108863,w=Math.min(b,f.length-1),c=Math.max(0,b-M.length+1);c<=w;c++){var _=b-c,R=M.words[_]|0,O=f.words[c]|0,F=R*O,U=F&67108863;E=E+(F/67108864|0)|0,U=U+k|0,k=U&67108863,E=E+(U>>>26)|0,m+=E>>>26,E&=67108863}d.words[b]=k,g=E,E=m}return g!==0?d.words[b]=g:d.length--,d.strip()}function I(M,f,d){var g=new N;return g.mulp(M,f,d)}a.prototype.mulTo=function(f,d){var g,m=this.length+f.length;return this.length===10&&f.length===10?g=A(this,f,d):m<63?g=S(this,f,d):m<1024?g=T(this,f,d):g=I(this,f,d),g};function N(M,f){this.x=M,this.y=f}N.prototype.makeRBT=function(f){for(var d=new Array(f),g=a.prototype._countBits(f)-1,m=0;m<f;m++)d[m]=this.revBin(m,g,f);return d},N.prototype.revBin=function(f,d,g){if(f===0||f===g-1)return f;for(var m=0,b=0;b<d;b++)m|=(f&1)<<d-b-1,f>>=1;return m},N.prototype.permute=function(f,d,g,m,b,E){for(var k=0;k<E;k++)m[k]=d[f[k]],b[k]=g[f[k]]},N.prototype.transform=function(f,d,g,m,b,E){this.permute(E,f,d,g,m,b);for(var k=1;k<b;k<<=1)for(var w=k<<1,c=Math.cos(2*Math.PI/w),_=Math.sin(2*Math.PI/w),R=0;R<b;R+=w)for(var O=c,F=_,U=0;U<k;U++){var H=g[R+U],J=m[R+U],fe=g[R+U+k],B=m[R+U+k],q=O*fe-F*B;B=O*B+F*fe,fe=q,g[R+U]=H+fe,m[R+U]=J+B,g[R+U+k]=H-fe,m[R+U+k]=J-B,U!==w&&(q=c*O-_*F,F=c*F+_*O,O=q)}},N.prototype.guessLen13b=function(f,d){var g=Math.max(d,f)|1,m=g&1,b=0;for(g=g/2|0;g;g=g>>>1)b++;return 1<<b+1+m},N.prototype.conjugate=function(f,d,g){if(!(g<=1))for(var m=0;m<g/2;m++){var b=f[m];f[m]=f[g-m-1],f[g-m-1]=b,b=d[m],d[m]=-d[g-m-1],d[g-m-1]=-b}},N.prototype.normalize13b=function(f,d){for(var g=0,m=0;m<d/2;m++){var b=Math.round(f[2*m+1]/d)*8192+Math.round(f[2*m]/d)+g;f[m]=b&67108863,b<67108864?g=0:g=b/67108864|0}return f},N.prototype.convert13b=function(f,d,g,m){for(var b=0,E=0;E<d;E++)b=b+(f[E]|0),g[2*E]=b&8191,b=b>>>13,g[2*E+1]=b&8191,b=b>>>13;for(E=2*d;E<m;++E)g[E]=0;r(b===0),r((b&-8192)===0)},N.prototype.stub=function(f){for(var d=new Array(f),g=0;g<f;g++)d[g]=0;return d},N.prototype.mulp=function(f,d,g){var m=2*this.guessLen13b(f.length,d.length),b=this.makeRBT(m),E=this.stub(m),k=new Array(m),w=new Array(m),c=new Array(m),_=new Array(m),R=new Array(m),O=new Array(m),F=g.words;F.length=m,this.convert13b(f.words,f.length,k,m),this.convert13b(d.words,d.length,_,m),this.transform(k,E,w,c,m,b),this.transform(_,E,R,O,m,b);for(var U=0;U<m;U++){var H=w[U]*R[U]-c[U]*O[U];c[U]=w[U]*O[U]+c[U]*R[U],w[U]=H}return this.conjugate(w,c,m),this.transform(w,c,F,E,m,b),this.conjugate(F,E,m),this.normalize13b(F,m),g.negative=f.negative^d.negative,g.length=f.length+d.length,g.strip()},a.prototype.mul=function(f){var d=new a(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},a.prototype.mulf=function(f){var d=new a(null);return d.words=new Array(this.length+f.length),I(this,f,d)},a.prototype.imul=function(f){return this.clone().mulTo(f,this)},a.prototype.imuln=function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,g=0;g<this.length;g++){var m=(this.words[g]|0)*f,b=(m&67108863)+(d&67108863);d>>=26,d+=m/67108864|0,d+=b>>>26,this.words[g]=b&67108863}return d!==0&&(this.words[g]=d,this.length++),this},a.prototype.muln=function(f){return this.clone().imuln(f)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(f){var d=y(f);if(d.length===0)return new a(1);for(var g=this,m=0;m<d.length&&d[m]===0;m++,g=g.sqr());if(++m<d.length)for(var b=g.sqr();m<d.length;m++,b=b.sqr())d[m]!==0&&(g=g.mul(b));return g},a.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26,m=67108863>>>26-d<<26-d,b;if(d!==0){var E=0;for(b=0;b<this.length;b++){var k=this.words[b]&m,w=(this.words[b]|0)-k<<d;this.words[b]=w|E,E=k>>>26-d}E&&(this.words[b]=E,this.length++)}if(g!==0){for(b=this.length-1;b>=0;b--)this.words[b+g]=this.words[b];for(b=0;b<g;b++)this.words[b]=0;this.length+=g}return this.strip()},a.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},a.prototype.iushrn=function(f,d,g){r(typeof f=="number"&&f>=0);var m;d?m=(d-d%26)/26:m=0;var b=f%26,E=Math.min((f-b)/26,this.length),k=67108863^67108863>>>b<<b,w=g;if(m-=E,m=Math.max(0,m),w){for(var c=0;c<E;c++)w.words[c]=this.words[c];w.length=E}if(E!==0)if(this.length>E)for(this.length-=E,c=0;c<this.length;c++)this.words[c]=this.words[c+E];else this.words[0]=0,this.length=1;var _=0;for(c=this.length-1;c>=0&&(_!==0||c>=m);c--){var R=this.words[c]|0;this.words[c]=_<<26-b|R>>>b,_=R&k}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(f,d,g){return r(this.negative===0),this.iushrn(f,d,g)},a.prototype.shln=function(f){return this.clone().ishln(f)},a.prototype.ushln=function(f){return this.clone().iushln(f)},a.prototype.shrn=function(f){return this.clone().ishrn(f)},a.prototype.ushrn=function(f){return this.clone().iushrn(f)},a.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26,m=1<<d;if(this.length<=g)return!1;var b=this.words[g];return!!(b&m)},a.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(d!==0&&g++,this.length=Math.min(g,this.length),d!==0){var m=67108863^67108863>>>d<<d;this.words[this.length-1]&=m}return this.strip()},a.prototype.maskn=function(f){return this.clone().imaskn(f)},a.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},a.prototype._iaddn=function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},a.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},a.prototype.addn=function(f){return this.clone().iaddn(f)},a.prototype.subn=function(f){return this.clone().isubn(f)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(f,d,g){var m=f.length+g,b;this._expand(m);var E,k=0;for(b=0;b<f.length;b++){E=(this.words[b+g]|0)+k;var w=(f.words[b]|0)*d;E-=w&67108863,k=(E>>26)-(w/67108864|0),this.words[b+g]=E&67108863}for(;b<this.length-g;b++)E=(this.words[b+g]|0)+k,k=E>>26,this.words[b+g]=E&67108863;if(k===0)return this.strip();for(r(k===-1),k=0,b=0;b<this.length;b++)E=-(this.words[b]|0)+k,k=E>>26,this.words[b]=E&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(f,d){var g=this.length-f.length,m=this.clone(),b=f,E=b.words[b.length-1]|0,k=this._countBits(E);g=26-k,g!==0&&(b=b.ushln(g),m.iushln(g),E=b.words[b.length-1]|0);var w=m.length-b.length,c;if(d!=="mod"){c=new a(null),c.length=w+1,c.words=new Array(c.length);for(var _=0;_<c.length;_++)c.words[_]=0}var R=m.clone()._ishlnsubmul(b,1,w);R.negative===0&&(m=R,c&&(c.words[w]=1));for(var O=w-1;O>=0;O--){var F=(m.words[b.length+O]|0)*67108864+(m.words[b.length+O-1]|0);for(F=Math.min(F/E|0,67108863),m._ishlnsubmul(b,F,O);m.negative!==0;)F--,m.negative=0,m._ishlnsubmul(b,1,O),m.isZero()||(m.negative^=1);c&&(c.words[O]=F)}return c&&c.strip(),m.strip(),d!=="div"&&g!==0&&m.iushrn(g),{div:c||null,mod:m}},a.prototype.divmod=function(f,d,g){if(r(!f.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var m,b,E;return this.negative!==0&&f.negative===0?(E=this.neg().divmod(f,d),d!=="mod"&&(m=E.div.neg()),d!=="div"&&(b=E.mod.neg(),g&&b.negative!==0&&b.iadd(f)),{div:m,mod:b}):this.negative===0&&f.negative!==0?(E=this.divmod(f.neg(),d),d!=="mod"&&(m=E.div.neg()),{div:m,mod:E.mod}):(this.negative&f.negative)!==0?(E=this.neg().divmod(f.neg(),d),d!=="div"&&(b=E.mod.neg(),g&&b.negative!==0&&b.isub(f)),{div:E.div,mod:b}):f.length>this.length||this.cmp(f)<0?{div:new a(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new a(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new a(this.modn(f.words[0]))}:this._wordDiv(f,d)},a.prototype.div=function(f){return this.divmod(f,"div",!1).div},a.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},a.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},a.prototype.divRound=function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var g=d.div.negative!==0?d.mod.isub(f):d.mod,m=f.ushrn(1),b=f.andln(1),E=g.cmp(m);return E<0||b===1&&E===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},a.prototype.modn=function(f){r(f<=67108863);for(var d=(1<<26)%f,g=0,m=this.length-1;m>=0;m--)g=(d*g+(this.words[m]|0))%f;return g},a.prototype.idivn=function(f){r(f<=67108863);for(var d=0,g=this.length-1;g>=0;g--){var m=(this.words[g]|0)+d*67108864;this.words[g]=m/f|0,d=m%f}return this.strip()},a.prototype.divn=function(f){return this.clone().idivn(f)},a.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var d=this,g=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var m=new a(1),b=new a(0),E=new a(0),k=new a(1),w=0;d.isEven()&&g.isEven();)d.iushrn(1),g.iushrn(1),++w;for(var c=g.clone(),_=d.clone();!d.isZero();){for(var R=0,O=1;(d.words[0]&O)===0&&R<26;++R,O<<=1);if(R>0)for(d.iushrn(R);R-- >0;)(m.isOdd()||b.isOdd())&&(m.iadd(c),b.isub(_)),m.iushrn(1),b.iushrn(1);for(var F=0,U=1;(g.words[0]&U)===0&&F<26;++F,U<<=1);if(F>0)for(g.iushrn(F);F-- >0;)(E.isOdd()||k.isOdd())&&(E.iadd(c),k.isub(_)),E.iushrn(1),k.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(E),b.isub(k)):(g.isub(d),E.isub(m),k.isub(b))}return{a:E,b:k,gcd:g.iushln(w)}},a.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var d=this,g=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var m=new a(1),b=new a(0),E=g.clone();d.cmpn(1)>0&&g.cmpn(1)>0;){for(var k=0,w=1;(d.words[0]&w)===0&&k<26;++k,w<<=1);if(k>0)for(d.iushrn(k);k-- >0;)m.isOdd()&&m.iadd(E),m.iushrn(1);for(var c=0,_=1;(g.words[0]&_)===0&&c<26;++c,_<<=1);if(c>0)for(g.iushrn(c);c-- >0;)b.isOdd()&&b.iadd(E),b.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(b)):(g.isub(d),b.isub(m))}var R;return d.cmpn(1)===0?R=m:R=b,R.cmpn(0)<0&&R.iadd(f),R},a.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),g=f.clone();d.negative=0,g.negative=0;for(var m=0;d.isEven()&&g.isEven();m++)d.iushrn(1),g.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;g.isEven();)g.iushrn(1);var b=d.cmp(g);if(b<0){var E=d;d=g,g=E}else if(b===0||g.cmpn(1)===0)break;d.isub(g)}while(!0);return g.iushln(m)},a.prototype.invm=function(f){return this.egcd(f).a.umod(f)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(f){return this.words[0]&f},a.prototype.bincn=function(f){r(typeof f=="number");var d=f%26,g=(f-d)/26,m=1<<d;if(this.length<=g)return this._expand(g+1),this.words[g]|=m,this;for(var b=m,E=g;b!==0&&E<this.length;E++){var k=this.words[E]|0;k+=b,b=k>>>26,k&=67108863,this.words[E]=k}return b!==0&&(this.words[E]=b,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var g;if(this.length>1)g=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var m=this.words[0]|0;g=m===f?0:m<f?-1:1}return this.negative!==0?-g|0:g},a.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},a.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,g=this.length-1;g>=0;g--){var m=this.words[g]|0,b=f.words[g]|0;if(m!==b){m<b?d=-1:m>b&&(d=1);break}}return d},a.prototype.gtn=function(f){return this.cmpn(f)===1},a.prototype.gt=function(f){return this.cmp(f)===1},a.prototype.gten=function(f){return this.cmpn(f)>=0},a.prototype.gte=function(f){return this.cmp(f)>=0},a.prototype.ltn=function(f){return this.cmpn(f)===-1},a.prototype.lt=function(f){return this.cmp(f)===-1},a.prototype.lten=function(f){return this.cmpn(f)<=0},a.prototype.lte=function(f){return this.cmp(f)<=0},a.prototype.eqn=function(f){return this.cmpn(f)===0},a.prototype.eq=function(f){return this.cmp(f)===0},a.red=function(f){return new j(f)},a.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(f){return this.red=f,this},a.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},a.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},a.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},a.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},a.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},a.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},a.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},a.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var D={k256:null,p224:null,p192:null,p25519:null};function C(M,f){this.name=M,this.p=new a(f,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var f=new a(null);return f.words=new Array(Math.ceil(this.n/13)),f},C.prototype.ireduce=function(f){var d=f,g;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),g=d.bitLength();while(g>this.n);var m=g<this.n?-1:d.ucmp(this.p);return m===0?(d.words[0]=0,d.length=1):m>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},C.prototype.split=function(f,d){f.iushrn(this.n,0,d)},C.prototype.imulK=function(f){return f.imul(this.k)};function L(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(L,C),L.prototype.split=function(f,d){for(var g=4194303,m=Math.min(f.length,9),b=0;b<m;b++)d.words[b]=f.words[b];if(d.length=m,f.length<=9){f.words[0]=0,f.length=1;return}var E=f.words[9];for(d.words[d.length++]=E&g,b=10;b<f.length;b++){var k=f.words[b]|0;f.words[b-10]=(k&g)<<4|E>>>22,E=k}E>>>=22,f.words[b-10]=E,E===0&&f.length>10?f.length-=10:f.length-=9},L.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,g=0;g<f.length;g++){var m=f.words[g]|0;d+=m*977,f.words[g]=d&67108863,d=m*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function z(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(z,C);function $(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n($,C);function G(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(G,C),G.prototype.imulK=function(f){for(var d=0,g=0;g<f.length;g++){var m=(f.words[g]|0)*19+d,b=m&67108863;m>>>=26,f.words[g]=b,d=m}return d!==0&&(f.words[f.length++]=d),f},a._prime=function(f){if(D[f])return D[f];var d;if(f==="k256")d=new L;else if(f==="p224")d=new z;else if(f==="p192")d=new $;else if(f==="p25519")d=new G;else throw new Error("Unknown prime "+f);return D[f]=d,d};function j(M){if(typeof M=="string"){var f=a._prime(M);this.m=f.p,this.prime=f}else r(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}j.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},j.prototype._verify2=function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},j.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},j.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},j.prototype.add=function(f,d){this._verify2(f,d);var g=f.add(d);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},j.prototype.iadd=function(f,d){this._verify2(f,d);var g=f.iadd(d);return g.cmp(this.m)>=0&&g.isub(this.m),g},j.prototype.sub=function(f,d){this._verify2(f,d);var g=f.sub(d);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},j.prototype.isub=function(f,d){this._verify2(f,d);var g=f.isub(d);return g.cmpn(0)<0&&g.iadd(this.m),g},j.prototype.shl=function(f,d){return this._verify1(f),this.imod(f.ushln(d))},j.prototype.imul=function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},j.prototype.mul=function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},j.prototype.isqr=function(f){return this.imul(f,f.clone())},j.prototype.sqr=function(f){return this.mul(f,f)},j.prototype.sqrt=function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var g=this.m.add(new a(1)).iushrn(2);return this.pow(f,g)}for(var m=this.m.subn(1),b=0;!m.isZero()&&m.andln(1)===0;)b++,m.iushrn(1);r(!m.isZero());var E=new a(1).toRed(this),k=E.redNeg(),w=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new a(2*c*c).toRed(this);this.pow(c,w).cmp(k)!==0;)c.redIAdd(k);for(var _=this.pow(c,m),R=this.pow(f,m.addn(1).iushrn(1)),O=this.pow(f,m),F=b;O.cmp(E)!==0;){for(var U=O,H=0;U.cmp(E)!==0;H++)U=U.redSqr();r(H<F);var J=this.pow(_,new a(1).iushln(F-H-1));R=R.redMul(J),_=J.redSqr(),O=O.redMul(_),F=H}return R},j.prototype.invm=function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},j.prototype.pow=function(f,d){if(d.isZero())return new a(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var g=4,m=new Array(1<<g);m[0]=new a(1).toRed(this),m[1]=f;for(var b=2;b<m.length;b++)m[b]=this.mul(m[b-1],f);var E=m[0],k=0,w=0,c=d.bitLength()%26;for(c===0&&(c=26),b=d.length-1;b>=0;b--){for(var _=d.words[b],R=c-1;R>=0;R--){var O=_>>R&1;if(E!==m[0]&&(E=this.sqr(E)),O===0&&k===0){w=0;continue}k<<=1,k|=O,w++,!(w!==g&&(b!==0||R!==0))&&(E=this.mul(E,m[k]),w=0,k=0)}c=26}return E},j.prototype.convertTo=function(f){var d=f.umod(this.m);return d===f?d.clone():d},j.prototype.convertFrom=function(f){var d=f.clone();return d.red=null,d},a.mont=function(f){return new Z(f)};function Z(M){j.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Z,j),Z.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Z.prototype.convertFrom=function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},Z.prototype.imul=function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var g=f.imul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=g.isub(m).iushrn(this.shift),E=b;return b.cmp(this.m)>=0?E=b.isub(this.m):b.cmpn(0)<0&&(E=b.iadd(this.m)),E._forceRed(this)},Z.prototype.mul=function(f,d){if(f.isZero()||d.isZero())return new a(0)._forceRed(this);var g=f.mul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=g.isub(m).iushrn(this.shift),E=b;return b.cmp(this.m)>=0?E=b.isub(this.m):b.cmpn(0)<0&&(E=b.iadd(this.m)),E._forceRed(this)},Z.prototype.invm=function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof gT=="undefined"||gT,xL)});var u_=ne((ret,wT)=>{var yT;wT.exports=function(e){return yT||(yT=new bl(null)),yT.generate(e)};function bl(t){this.rand=t}wT.exports.Rand=bl;bl.prototype.generate=function(e){return this._rand(e)};bl.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?bl.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?bl.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(bl.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(bT=f_(),typeof bT.randomBytes!="function")throw new Error("Not supported");bl.prototype._rand=function(e){return bT.randomBytes(e)}}catch(t){}var bT});var _T=ne((net,EL)=>{var Gc=SL(),Ave=u_();function Hc(t){this.rand=t||new Ave.Rand}EL.exports=Hc;Hc.create=function(e){return new Hc(e)};Hc.prototype._randbelow=function(e){var r=e.bitLength(),n=Math.ceil(r/8);do var a=new Gc(this.rand.generate(n));while(a.cmp(e)>=0);return a};Hc.prototype._randrange=function(e,r){var n=r.sub(e);return e.add(this._randbelow(n))};Hc.prototype.test=function(e,r,n){var a=e.bitLength(),s=Gc.mont(e),o=new Gc(1).toRed(s);r||(r=Math.max(1,a/48|0));for(var u=e.subn(1),l=0;!u.testn(l);l++);for(var h=e.shrn(l),p=u.toRed(s),v=!0;r>0;r--){var y=this._randrange(new Gc(2),u);n&&n(y);var S=y.toRed(s).redPow(h);if(!(S.cmp(o)===0||S.cmp(p)===0)){for(var A=1;A<l;A++){if(S=S.redSqr(),S.cmp(o)===0)return!1;if(S.cmp(p)===0)break}if(A===l)return!1}}return v};Hc.prototype.getDivisor=function(e,r){var n=e.bitLength(),a=Gc.mont(e),s=new Gc(1).toRed(a);r||(r=Math.max(1,n/48|0));for(var o=e.subn(1),u=0;!o.testn(u);u++);for(var l=e.shrn(u),h=o.toRed(a);r>0;r--){var p=this._randrange(new Gc(2),o),v=e.gcd(p);if(v.cmpn(1)!==0)return v;var y=p.toRed(a).redPow(l);if(!(y.cmp(s)===0||y.cmp(h)===0)){for(var S=1;S<u;S++){if(y=y.redSqr(),y.cmp(s)===0)return y.fromRed().subn(1).gcd(e);if(y.cmp(h)===0)break}if(S===u)return y=y.redSqr(),y.fromRed().subn(1).gcd(e)}}return!1}});var kT=ne((uet,kL)=>{var kve=Mc();kL.exports=AT;AT.simpleSieve=ET;AT.fermatTest=MT;var Yi=vT(),Tve=new Yi(24),Nve=_T(),ML=new Nve,Ive=new Yi(1),ST=new Yi(2),Dve=new Yi(5),iet=new Yi(16),aet=new Yi(8),Ove=new Yi(10),Rve=new Yi(3),set=new Yi(7),Cve=new Yi(11),AL=new Yi(4),oet=new Yi(12),xT=null;function Fve(){if(xT!==null)return xT;var t=1048576,e=[];e[0]=2;for(var r=1,n=3;n<t;n+=2){for(var a=Math.ceil(Math.sqrt(n)),s=0;s<r&&e[s]<=a&&n%e[s]!==0;s++);r!==s&&e[s]<=a||(e[r++]=n)}return xT=e,e}function ET(t){for(var e=Fve(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function MT(t){var e=Yi.mont(t);return ST.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function AT(t,e){if(t<16)return e===2||e===5?new Yi([140,123]):new Yi([140,39]);e=new Yi(e);for(var r,n;;){for(r=new Yi(kve(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(Ive),r.testn(1)||r.iadd(ST),e.cmp(ST)){if(!e.cmp(Dve))for(;r.mod(Ove).cmp(Rve);)r.iadd(AL)}else for(;r.mod(Tve).cmp(Cve);)r.iadd(AL);if(n=r.shrn(1),ET(n)&&ET(r)&&MT(n)&&MT(r)&&ML.test(n)&&ML.test(r))return r}}});var TL=ne((fet,Bve)=>{Bve.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var OL=ne((cet,DL)=>{var Rs=vT(),Lve=_T(),NL=new Lve,Pve=new Rs(24),qve=new Rs(11),$ve=new Rs(10),zve=new Rs(3),jve=new Rs(7),IL=kT(),Uve=Mc();DL.exports=uf;function Vve(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._pub=new Rs(t),this}function Wve(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._priv=new Rs(t),this}var l_={};function Gve(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in l_)return l_[n];var a=0;if(t.isEven()||!IL.simpleSieve||!IL.fermatTest(t)||!NL.test(t))return a+=1,r==="02"||r==="05"?a+=8:a+=4,l_[n]=a,a;NL.test(t.shrn(1))||(a+=2);var s;switch(r){case"02":t.mod(Pve).cmp(qve)&&(a+=8);break;case"05":s=t.mod($ve),s.cmp(zve)&&s.cmp(jve)&&(a+=8);break;default:a+=4}return l_[n]=a,a}function uf(t,e,r){this.setGenerator(e),this.__prime=new Rs(t),this._prime=Rs.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=Vve,this.setPrivateKey=Wve):this._primeCode=8}Object.defineProperty(uf.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=Gve(this.__prime,this.__gen)),this._primeCode}});uf.prototype.generateKeys=function(){return this._priv||(this._priv=new Rs(Uve(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};uf.prototype.computeSecret=function(t){t=new Rs(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var a=new Buffer(n.length-r.length);a.fill(0),r=Buffer.concat([a,r])}return r};uf.prototype.getPublicKey=function(e){return c_(this._pub,e)};uf.prototype.getPrivateKey=function(e){return c_(this._priv,e)};uf.prototype.getPrime=function(t){return c_(this.__prime,t)};uf.prototype.getGenerator=function(t){return c_(this._gen,t)};uf.prototype.setGenerator=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.__gen=t,this._gen=new Rs(t),this};function c_(t,e){var r=new Buffer(t.toArray());return e?r.toString(e):r}});var FL=ne(ap=>{var Hve=kT(),RL=TL(),TT=OL();function Kve(t){var e=new Buffer(RL[t].prime,"hex"),r=new Buffer(RL[t].gen,"hex");return new TT(e,r)}var Zve={binary:!0,hex:!0,base64:!0};function CL(t,e,r,n){return Buffer.isBuffer(e)||Zve[e]===void 0?CL(t,"binary",e,r):(e=e||"binary",n=n||"binary",r=r||new Buffer([2]),Buffer.isBuffer(r)||(r=new Buffer(r,n)),typeof t=="number"?new TT(Hve(t,r),r,!0):(Buffer.isBuffer(t)||(t=new Buffer(t,e)),new TT(t,r,!0)))}ap.DiffieHellmanGroup=ap.createDiffieHellmanGroup=ap.getDiffieHellman=Kve;ap.createDiffieHellman=ap.DiffieHellman=CL});var d_=ne((NT,LL)=>{var h_=yn(),xu=h_.Buffer;function BL(t,e){for(var r in t)e[r]=t[r]}xu.from&&xu.alloc&&xu.allocUnsafe&&xu.allocUnsafeSlow?LL.exports=h_:(BL(h_,NT),NT.Buffer=Kc);function Kc(t,e,r){return xu(t,e,r)}Kc.prototype=Object.create(xu.prototype);BL(xu,Kc);Kc.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return xu(t,e,r)};Kc.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=xu(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Kc.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return xu(t)};Kc.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return h_.SlowBuffer(t)}});var IT=ne((det,PL)=>{PL.exports=ws().EventEmitter});var jL=ne((pet,zL)=>{"use strict";function qL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Jve(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(r),!0).forEach(function(n){Yve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yve(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Qve(t,e,r){return e&&$L(t.prototype,e),r&&$L(t,r),t}var ege=yn(),p_=ege.Buffer,tge=hu(),DT=tge.inspect,rge=DT&&DT.custom||"inspect";function nge(t,e,r){p_.prototype.copy.call(t,e,r)}zL.exports=function(){function t(){Xve(this,t),this.head=null,this.tail=null,this.length=0}return Qve(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,a=""+n.data;n=n.next;)a+=r+n.data;return a}},{key:"concat",value:function(r){if(this.length===0)return p_.alloc(0);for(var n=p_.allocUnsafe(r>>>0),a=this.head,s=0;a;)nge(a.data,n,s),s+=a.data.length,a=a.next;return n}},{key:"consume",value:function(r,n){var a;return r<this.head.data.length?(a=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?a=this.shift():a=n?this._getString(r):this._getBuffer(r),a}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,a=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,u=r>o.length?o.length:r;if(u===o.length?s+=o:s+=o.slice(0,r),r-=u,r===0){u===o.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(u));break}++a}return this.length-=a,s}},{key:"_getBuffer",value:function(r){var n=p_.allocUnsafe(r),a=this.head,s=1;for(a.data.copy(n),r-=a.data.length;a=a.next;){var o=a.data,u=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,u),r-=u,r===0){u===o.length?(++s,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=o.slice(u));break}++s}return this.length-=s,n}},{key:rge,value:function(r,n){return DT(this,Jve({},n,{depth:0,customInspect:!1}))}}]),t}()});var RT=ne((met,VL)=>{"use strict";function ige(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(OT,this,t)):process.nextTick(OT,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(m_,r):(r._writableState.errorEmitted=!0,process.nextTick(UL,r,s)):process.nextTick(UL,r,s):e?(process.nextTick(m_,r),e(s)):process.nextTick(m_,r)}),this)}function UL(t,e){OT(t,e),m_(t)}function m_(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function age(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function OT(t,e){t.emit("error",e)}function sge(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}VL.exports={destroy:ige,undestroy:age,errorOrDestroy:sge}});var Zc=ne((vet,HL)=>{"use strict";function oge(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var GL={};function Cs(t,e,r){r||(r=Error);function n(s,o,u){return typeof e=="string"?e:e(s,o,u)}var a=function(s){oge(o,s);function o(u,l,h){return s.call(this,n(u,l,h))||this}return o}(r);a.prototype.name=r.name,a.prototype.code=t,GL[t]=a}function WL(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function uge(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function fge(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function lge(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Cs("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Cs("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&uge(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var a;if(fge(t," argument"))a="The ".concat(t," ").concat(n," ").concat(WL(e,"type"));else{var s=lge(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(WL(e,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);Cs("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Cs("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Cs("ERR_STREAM_PREMATURE_CLOSE","Premature close");Cs("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Cs("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Cs("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Cs("ERR_STREAM_WRITE_AFTER_END","write after end");Cs("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Cs("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Cs("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");HL.exports.codes=GL});var CT=ne((get,KL)=>{"use strict";var cge=Zc().codes.ERR_INVALID_OPT_VALUE;function hge(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function dge(t,e,r,n){var a=hge(e,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var s=n?r:"highWaterMark";throw new cge(s,a)}return Math.floor(a)}return t.objectMode?16:16*1024}KL.exports={getHighWaterMark:dge}});var LT=ne((yet,eP)=>{"use strict";eP.exports=oi;function JL(t){var e=this;this.next=null,this.entry=null,this.finish=function(){$ge(e,t)}}var sp;oi.WritableState=yg;var pge={deprecate:kv()},YL=IT(),g_=yn().Buffer,mge=global.Uint8Array||function(){};function vge(t){return g_.from(t)}function gge(t){return g_.isBuffer(t)||t instanceof mge}var BT=RT(),yge=CT(),bge=yge.getHighWaterMark,wl=Zc().codes,wge=wl.ERR_INVALID_ARG_TYPE,_ge=wl.ERR_METHOD_NOT_IMPLEMENTED,xge=wl.ERR_MULTIPLE_CALLBACK,Sge=wl.ERR_STREAM_CANNOT_PIPE,Ege=wl.ERR_STREAM_DESTROYED,Mge=wl.ERR_STREAM_NULL_VALUES,Age=wl.ERR_STREAM_WRITE_AFTER_END,kge=wl.ERR_UNKNOWN_ENCODING,op=BT.errorOrDestroy;At()(oi,YL);function Tge(){}function yg(t,e,r){sp=sp||Jc(),t=t||{},typeof r!="boolean"&&(r=e instanceof sp),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=bge(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){Fge(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new JL(this)}yg.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(yg.prototype,"buffer",{get:pge.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var v_;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v_=Function.prototype[Symbol.hasInstance],Object.defineProperty(oi,Symbol.hasInstance,{value:function(e){return v_.call(this,e)?!0:this!==oi?!1:e&&e._writableState instanceof yg}})):v_=function(e){return e instanceof this};function oi(t){sp=sp||Jc();var e=this instanceof sp;if(!e&&!v_.call(oi,this))return new oi(t);this._writableState=new yg(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),YL.call(this)}oi.prototype.pipe=function(){op(this,new Sge)};function Nge(t,e){var r=new Age;op(t,r),process.nextTick(e,r)}function Ige(t,e,r,n){var a;return r===null?a=new Mge:typeof r!="string"&&!e.objectMode&&(a=new wge("chunk",["string","Buffer"],r)),a?(op(t,a),process.nextTick(n,a),!1):!0}oi.prototype.write=function(t,e,r){var n=this._writableState,a=!1,s=!n.objectMode&&gge(t);return s&&!g_.isBuffer(t)&&(t=vge(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Tge),n.ending?Nge(this,r):(s||Ige(this,n,t,r))&&(n.pendingcb++,a=Oge(this,n,s,t,e,r)),a};oi.prototype.cork=function(){this._writableState.corked++};oi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&XL(this,t))};oi.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new kge(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(oi.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Dge(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=g_.from(e,r)),e}Object.defineProperty(oi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Oge(t,e,r,n,a,s){if(!r){var o=Dge(e,n,a);n!==o&&(r=!0,a="buffer",n=o)}var u=e.objectMode?1:n.length;e.length+=u;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else FT(t,e,!1,u,n,a,s);return l}function FT(t,e,r,n,a,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Ege("write")):r?t._writev(a,e.onwrite):t._write(a,s,e.onwrite),e.sync=!1}function Rge(t,e,r,n,a){--e.pendingcb,r?(process.nextTick(a,n),process.nextTick(gg,t,e),t._writableState.errorEmitted=!0,op(t,n)):(a(n),t._writableState.errorEmitted=!0,op(t,n),gg(t,e))}function Cge(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Fge(t,e){var r=t._writableState,n=r.sync,a=r.writecb;if(typeof a!="function")throw new xge;if(Cge(r),e)Rge(t,r,n,e,a);else{var s=QL(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&XL(t,r),n?process.nextTick(ZL,t,r,s,a):ZL(t,r,s,a)}}function ZL(t,e,r,n){r||Bge(t,e),e.pendingcb--,n(),gg(t,e)}function Bge(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function XL(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,a=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,u=!0;r;)a[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;a.allBuffers=u,FT(t,e,!0,e.length,a,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new JL(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,h=r.encoding,p=r.callback,v=e.objectMode?1:l.length;if(FT(t,e,!1,v,l,h,p),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}oi.prototype._write=function(t,e,r){r(new _ge("_write()"))};oi.prototype._writev=null;oi.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||qge(this,n,r),this};Object.defineProperty(oi.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function QL(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Lge(t,e){t._final(function(r){e.pendingcb--,r&&op(t,r),e.prefinished=!0,t.emit("prefinish"),gg(t,e)})}function Pge(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Lge,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function gg(t,e){var r=QL(e);if(r&&(Pge(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function qge(t,e,r){e.ending=!0,gg(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function $ge(t,e,r){var n=t.entry;for(t.entry=null;n;){var a=n.callback;e.pendingcb--,a(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(oi.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});oi.prototype.destroy=BT.destroy;oi.prototype._undestroy=BT.undestroy;oi.prototype._destroy=function(t,e){e(t)}});var Jc=ne((bet,rP)=>{"use strict";var zge=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};rP.exports=Su;var tP=$T(),qT=LT();At()(Su,tP);for(PT=zge(qT.prototype),y_=0;y_<PT.length;y_++)b_=PT[y_],Su.prototype[b_]||(Su.prototype[b_]=qT.prototype[b_]);var PT,b_,y_;function Su(t){if(!(this instanceof Su))return new Su(t);tP.call(this,t),qT.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",jge)))}Object.defineProperty(Su.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Su.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Su.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function jge(){this._writableState.ended||process.nextTick(Uge,this)}function Uge(t){t.end()}Object.defineProperty(Su.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var w_=ne((wet,aP)=>{"use strict";var nP=Zc().codes.ERR_STREAM_PREMATURE_CLOSE;function Vge(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];t.apply(this,n)}}}function Wge(){}function Gge(t){return t.setHeader&&typeof t.abort=="function"}function iP(t,e,r){if(typeof e=="function")return iP(t,null,e);e||(e={}),r=Vge(r||Wge);var n=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||u()},o=t._writableState&&t._writableState.finished,u=function(){a=!1,o=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,h=function(){n=!1,l=!0,a||r.call(t)},p=function(A){r.call(t,A)},v=function(){var A;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(A=new nP),r.call(t,A);if(a&&!o)return(!t._writableState||!t._writableState.ended)&&(A=new nP),r.call(t,A)},y=function(){t.req.on("finish",u)};return Gge(t)?(t.on("complete",u),t.on("abort",v),t.req?y():t.on("request",y)):a&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",h),t.on("finish",u),e.error!==!1&&t.on("error",p),t.on("close",v),function(){t.removeListener("complete",u),t.removeListener("abort",v),t.removeListener("request",y),t.req&&t.req.removeListener("finish",u),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",u),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",v)}}aP.exports=iP});var oP=ne((_et,sP)=>{"use strict";var __;function _l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Hge=w_(),xl=Symbol("lastResolve"),Yc=Symbol("lastReject"),bg=Symbol("error"),x_=Symbol("ended"),Xc=Symbol("lastPromise"),zT=Symbol("handlePromise"),Qc=Symbol("stream");function Sl(t,e){return{value:t,done:e}}function Kge(t){var e=t[xl];if(e!==null){var r=t[Qc].read();r!==null&&(t[Xc]=null,t[xl]=null,t[Yc]=null,e(Sl(r,!1)))}}function Zge(t){process.nextTick(Kge,t)}function Jge(t,e){return function(r,n){t.then(function(){if(e[x_]){r(Sl(void 0,!0));return}e[zT](r,n)},n)}}var Yge=Object.getPrototypeOf(function(){}),Xge=Object.setPrototypeOf((__={get stream(){return this[Qc]},next:function(){var e=this,r=this[bg];if(r!==null)return Promise.reject(r);if(this[x_])return Promise.resolve(Sl(void 0,!0));if(this[Qc].destroyed)return new Promise(function(o,u){process.nextTick(function(){e[bg]?u(e[bg]):o(Sl(void 0,!0))})});var n=this[Xc],a;if(n)a=new Promise(Jge(n,this));else{var s=this[Qc].read();if(s!==null)return Promise.resolve(Sl(s,!1));a=new Promise(this[zT])}return this[Xc]=a,a}},_l(__,Symbol.asyncIterator,function(){return this}),_l(__,"return",function(){var e=this;return new Promise(function(r,n){e[Qc].destroy(null,function(a){if(a){n(a);return}r(Sl(void 0,!0))})})}),__),Yge),Qge=function(e){var r,n=Object.create(Xge,(r={},_l(r,Qc,{value:e,writable:!0}),_l(r,xl,{value:null,writable:!0}),_l(r,Yc,{value:null,writable:!0}),_l(r,bg,{value:null,writable:!0}),_l(r,x_,{value:e._readableState.endEmitted,writable:!0}),_l(r,zT,{value:function(s,o){var u=n[Qc].read();u?(n[Xc]=null,n[xl]=null,n[Yc]=null,s(Sl(u,!1))):(n[xl]=s,n[Yc]=o)},writable:!0}),r));return n[Xc]=null,Hge(e,function(a){if(a&&a.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Yc];s!==null&&(n[Xc]=null,n[xl]=null,n[Yc]=null,s(a)),n[bg]=a;return}var o=n[xl];o!==null&&(n[Xc]=null,n[xl]=null,n[Yc]=null,o(Sl(void 0,!0))),n[x_]=!0}),e.on("readable",Zge.bind(null,n)),n};sP.exports=Qge});var fP=ne((xet,uP)=>{uP.exports=function(){throw new Error("Readable.from is not available in the browser")}});var $T=ne((Met,bP)=>{"use strict";bP.exports=_r;var up;_r.ReadableState=dP;var Eet=ws().EventEmitter,hP=function(e,r){return e.listeners(r).length},_g=IT(),S_=yn().Buffer,eye=global.Uint8Array||function(){};function tye(t){return S_.from(t)}function rye(t){return S_.isBuffer(t)||t instanceof eye}var jT=hu(),ir;jT&&jT.debuglog?ir=jT.debuglog("stream"):ir=function(){};var nye=jL(),ZT=RT(),iye=CT(),aye=iye.getHighWaterMark,E_=Zc().codes,sye=E_.ERR_INVALID_ARG_TYPE,oye=E_.ERR_STREAM_PUSH_AFTER_EOF,uye=E_.ERR_METHOD_NOT_IMPLEMENTED,fye=E_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,fp,UT,VT;At()(_r,_g);var wg=ZT.errorOrDestroy,WT=["error","close","destroy","pause","resume"];function lye(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function dP(t,e,r){up=up||Jc(),t=t||{},typeof r!="boolean"&&(r=e instanceof up),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=aye(this,t,"readableHighWaterMark",r),this.buffer=new nye,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(fp||(fp=mu().StringDecoder),this.decoder=new fp(t.encoding),this.encoding=t.encoding)}function _r(t){if(up=up||Jc(),!(this instanceof _r))return new _r(t);var e=this instanceof up;this._readableState=new dP(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),_g.call(this)}Object.defineProperty(_r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});_r.prototype.destroy=ZT.destroy;_r.prototype._undestroy=ZT.undestroy;_r.prototype._destroy=function(t,e){e(t)};_r.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=S_.from(t,e),e=""),n=!0),pP(this,t,e,!1,n)};_r.prototype.unshift=function(t){return pP(this,t,null,!0,!1)};function pP(t,e,r,n,a){ir("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,dye(t,s);else{var o;if(a||(o=cye(s,e)),o)wg(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==S_.prototype&&(e=tye(e)),n)s.endEmitted?wg(t,new fye):GT(t,s,e,!0);else if(s.ended)wg(t,new oye);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?GT(t,s,e,!1):KT(t,s)):GT(t,s,e,!1)}else n||(s.reading=!1,KT(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function GT(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&M_(t)),KT(t,e)}function cye(t,e){var r;return!rye(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new sye("chunk",["string","Buffer","Uint8Array"],e)),r}_r.prototype.isPaused=function(){return this._readableState.flowing===!1};_r.prototype.setEncoding=function(t){fp||(fp=mu().StringDecoder);var e=new fp(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var lP=1073741824;function hye(t){return t>=lP?t=lP:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function cP(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=hye(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}_r.prototype.read=function(t){ir("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return ir("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?HT(this):M_(this),null;if(t=cP(t,e),t===0&&e.ended)return e.length===0&&HT(this),null;var n=e.needReadable;ir("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,ir("length less than watermark",n)),e.ended||e.reading?(n=!1,ir("reading or ended",n)):n&&(ir("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=cP(r,e)));var a;return t>0?a=gP(t,e):a=null,a===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&HT(this)),a!==null&&this.emit("data",a),a};function dye(t,e){if(ir("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?M_(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,mP(t)))}}function M_(t){var e=t._readableState;ir("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(ir("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(mP,t))}function mP(t){var e=t._readableState;ir("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,JT(t)}function KT(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(pye,t,e))}function pye(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(ir("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}_r.prototype._read=function(t){wg(this,new uye("_read()"))};_r.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,ir("pipe count=%d opts=%j",n.pipesCount,e);var a=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=a?u:T;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(I,N){ir("onunpipe"),I===r&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,p())}function u(){ir("onend"),t.end()}var l=mye(r);t.on("drain",l);var h=!1;function p(){ir("cleanup"),t.removeListener("close",S),t.removeListener("finish",A),t.removeListener("drain",l),t.removeListener("error",y),t.removeListener("unpipe",o),r.removeListener("end",u),r.removeListener("end",T),r.removeListener("data",v),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",v);function v(I){ir("ondata");var N=t.write(I);ir("dest.write",N),N===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&yP(n.pipes,t)!==-1)&&!h&&(ir("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function y(I){ir("onerror",I),T(),t.removeListener("error",y),hP(t,"error")===0&&wg(t,I)}lye(t,"error",y);function S(){t.removeListener("finish",A),T()}t.once("close",S);function A(){ir("onfinish"),t.removeListener("close",S),T()}t.once("finish",A);function T(){ir("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(ir("pipe resume"),r.resume()),t};function mye(t){return function(){var r=t._readableState;ir("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&hP(t,"data")&&(r.flowing=!0,JT(t))}}_r.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,a=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<a;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=yP(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};_r.prototype.on=function(t,e){var r=_g.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,ir("on readable",n.length,n.reading),n.length?M_(this):n.reading||process.nextTick(vye,this)),r};_r.prototype.addListener=_r.prototype.on;_r.prototype.removeListener=function(t,e){var r=_g.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(vP,this),r};_r.prototype.removeAllListeners=function(t){var e=_g.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(vP,this),e};function vP(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function vye(t){ir("readable nexttick read 0"),t.read(0)}_r.prototype.resume=function(){var t=this._readableState;return t.flowing||(ir("resume"),t.flowing=!t.readableListening,gye(this,t)),t.paused=!1,this};function gye(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(yye,t,e))}function yye(t,e){ir("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),JT(t),e.flowing&&!e.reading&&t.read(0)}_r.prototype.pause=function(){return ir("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ir("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function JT(t){var e=t._readableState;for(ir("flow",e.flowing);e.flowing&&t.read()!==null;);}_r.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(ir("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(ir("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var u=e.push(o);u||(n=!0,t.pause())}});for(var a in t)this[a]===void 0&&typeof t[a]=="function"&&(this[a]=function(u){return function(){return t[u].apply(t,arguments)}}(a));for(var s=0;s<WT.length;s++)t.on(WT[s],this.emit.bind(this,WT[s]));return this._read=function(o){ir("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(_r.prototype[Symbol.asyncIterator]=function(){return UT===void 0&&(UT=oP()),UT(this)});Object.defineProperty(_r.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(_r.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(_r.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});_r._fromList=gP;Object.defineProperty(_r.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function gP(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function HT(t){var e=t._readableState;ir("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(bye,e,t))}function bye(t,e){if(ir("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(_r.from=function(t,e){return VT===void 0&&(VT=fP()),VT(_r,t,e)});function yP(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var YT=ne((Aet,_P)=>{"use strict";_P.exports=ff;var A_=Zc().codes,wye=A_.ERR_METHOD_NOT_IMPLEMENTED,_ye=A_.ERR_MULTIPLE_CALLBACK,xye=A_.ERR_TRANSFORM_ALREADY_TRANSFORMING,Sye=A_.ERR_TRANSFORM_WITH_LENGTH_0,k_=Jc();At()(ff,k_);function Eye(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new _ye);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function ff(t){if(!(this instanceof ff))return new ff(t);k_.call(this,t),this._transformState={afterTransform:Eye.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Mye)}function Mye(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){wP(t,e,r)}):wP(this,null,null)}ff.prototype.push=function(t,e){return this._transformState.needTransform=!1,k_.prototype.push.call(this,t,e)};ff.prototype._transform=function(t,e,r){r(new wye("_transform()"))};ff.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};ff.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};ff.prototype._destroy=function(t,e){k_.prototype._destroy.call(this,t,function(r){e(r)})};function wP(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Sye;if(t._transformState.transforming)throw new xye;return t.push(null)}});var EP=ne((ket,SP)=>{"use strict";SP.exports=xg;var xP=YT();At()(xg,xP);function xg(t){if(!(this instanceof xg))return new xg(t);xP.call(this,t)}xg.prototype._transform=function(t,e,r){r(null,t)}});var NP=ne((Tet,TP)=>{"use strict";var XT;function Aye(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var kP=Zc().codes,kye=kP.ERR_MISSING_ARGS,Tye=kP.ERR_STREAM_DESTROYED;function MP(t){if(t)throw t}function Nye(t){return t.setHeader&&typeof t.abort=="function"}function Iye(t,e,r,n){n=Aye(n);var a=!1;t.on("close",function(){a=!0}),XT===void 0&&(XT=w_()),XT(t,{readable:e,writable:r},function(o){if(o)return n(o);a=!0,n()});var s=!1;return function(o){if(!a&&!s){if(s=!0,Nye(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new Tye("pipe"))}}}function AP(t){t()}function Dye(t,e){return t.pipe(e)}function Oye(t){return!t.length||typeof t[t.length-1]!="function"?MP:t.pop()}function Rye(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Oye(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new kye("streams");var a,s=e.map(function(o,u){var l=u<e.length-1,h=u>0;return Iye(o,l,h,function(p){a||(a=p),p&&s.forEach(AP),!l&&(s.forEach(AP),n(a))})});return e.reduce(Dye)}TP.exports=Rye});var DP=ne((Fs,IP)=>{Fs=IP.exports=$T();Fs.Stream=Fs;Fs.Readable=Fs;Fs.Writable=LT();Fs.Duplex=Jc();Fs.Transform=YT();Fs.PassThrough=EP();Fs.finished=w_();Fs.pipeline=NP()});var T_=ne((OP,QT)=>{(function(t,e){"use strict";function r(g,m){if(!g)throw new Error(m||"Assertion failed")}function n(g,m){g.super_=m;var b=function(){};b.prototype=m.prototype,g.prototype=new b,g.prototype.constructor=g}function a(g,m,b){if(a.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((m==="le"||m==="be")&&(b=m,m=10),this._init(g||0,m||10,b||"be"))}typeof t=="object"?t.exports=a:e.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=yn().Buffer}catch(g){}a.isBN=function(m){return m instanceof a?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===a.wordSize&&Array.isArray(m.words)},a.max=function(m,b){return m.cmp(b)>0?m:b},a.min=function(m,b){return m.cmp(b)<0?m:b},a.prototype._init=function(m,b,E){if(typeof m=="number")return this._initNumber(m,b,E);if(typeof m=="object")return this._initArray(m,b,E);b==="hex"&&(b=16),r(b===(b|0)&&b>=2&&b<=36),m=m.toString().replace(/\s+/g,"");var k=0;m[0]==="-"&&(k++,this.negative=1),k<m.length&&(b===16?this._parseHex(m,k,E):(this._parseBase(m,b,k),E==="le"&&this._initArray(this.toArray(),b,E)))},a.prototype._initNumber=function(m,b,E){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(r(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),b,E)},a.prototype._initArray=function(m,b,E){if(r(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var w,c,_=0;if(E==="be")for(k=m.length-1,w=0;k>=0;k-=3)c=m[k]|m[k-1]<<8|m[k-2]<<16,this.words[w]|=c<<_&67108863,this.words[w+1]=c>>>26-_&67108863,_+=24,_>=26&&(_-=26,w++);else if(E==="le")for(k=0,w=0;k<m.length;k+=3)c=m[k]|m[k+1]<<8|m[k+2]<<16,this.words[w]|=c<<_&67108863,this.words[w+1]=c>>>26-_&67108863,_+=24,_>=26&&(_-=26,w++);return this._strip()};function o(g,m){var b=g.charCodeAt(m);if(b>=48&&b<=57)return b-48;if(b>=65&&b<=70)return b-55;if(b>=97&&b<=102)return b-87;r(!1,"Invalid character in "+g)}function u(g,m,b){var E=o(g,b);return b-1>=m&&(E|=o(g,b-1)<<4),E}a.prototype._parseHex=function(m,b,E){this.length=Math.ceil((m.length-b)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var w=0,c=0,_;if(E==="be")for(k=m.length-1;k>=b;k-=2)_=u(m,b,k)<<w,this.words[c]|=_&67108863,w>=18?(w-=18,c+=1,this.words[c]|=_>>>26):w+=8;else{var R=m.length-b;for(k=R%2===0?b+1:b;k<m.length;k+=2)_=u(m,b,k)<<w,this.words[c]|=_&67108863,w>=18?(w-=18,c+=1,this.words[c]|=_>>>26):w+=8}this._strip()};function l(g,m,b,E){for(var k=0,w=0,c=Math.min(g.length,b),_=m;_<c;_++){var R=g.charCodeAt(_)-48;k*=E,R>=49?w=R-49+10:R>=17?w=R-17+10:w=R,r(R>=0&&w<E,"Invalid character"),k+=w}return k}a.prototype._parseBase=function(m,b,E){this.words=[0],this.length=1;for(var k=0,w=1;w<=67108863;w*=b)k++;k--,w=w/b|0;for(var c=m.length-E,_=c%k,R=Math.min(c,c-_)+E,O=0,F=E;F<R;F+=k)O=l(m,F,F+k,b),this.imuln(w),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(_!==0){var U=1;for(O=l(m,F,m.length,b),F=0;F<_;F++)U*=b;this.imuln(U),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this._strip()},a.prototype.copy=function(m){m.words=new Array(this.length);for(var b=0;b<this.length;b++)m.words[b]=this.words[b];m.length=this.length,m.negative=this.negative,m.red=this.red};function h(g,m){g.words=m.words,g.length=m.length,g.negative=m.negative,g.red=m.red}if(a.prototype._move=function(m){h(m,this)},a.prototype.clone=function(){var m=new a(null);return this.copy(m),m},a.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch(g){a.prototype.inspect=p}else a.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(m,b){m=m||10,b=b|0||1;var E;if(m===16||m==="hex"){E="";for(var k=0,w=0,c=0;c<this.length;c++){var _=this.words[c],R=((_<<k|w)&16777215).toString(16);w=_>>>24-k&16777215,k+=2,k>=26&&(k-=26,c--),w!==0||c!==this.length-1?E=v[6-R.length]+R+E:E=R+E}for(w!==0&&(E=w.toString(16)+E);E.length%b!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(m===(m|0)&&m>=2&&m<=36){var O=y[m],F=S[m];E="";var U=this.clone();for(U.negative=0;!U.isZero();){var H=U.modrn(F).toString(m);U=U.idivn(F),U.isZero()?E=H+E:E=v[O-H.length]+H+E}for(this.isZero()&&(E="0"+E);E.length%b!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},a.prototype.toJSON=function(){return this.toString(16,2)},s&&(a.prototype.toBuffer=function(m,b){return this.toArrayLike(s,m,b)}),a.prototype.toArray=function(m,b){return this.toArrayLike(Array,m,b)};var A=function(m,b){return m.allocUnsafe?m.allocUnsafe(b):new m(b)};a.prototype.toArrayLike=function(m,b,E){this._strip();var k=this.byteLength(),w=E||Math.max(1,k);r(k<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0");var c=A(m,w),_=b==="le"?"LE":"BE";return this["_toArrayLike"+_](c,k),c},a.prototype._toArrayLikeLE=function(m,b){for(var E=0,k=0,w=0,c=0;w<this.length;w++){var _=this.words[w]<<c|k;m[E++]=_&255,E<m.length&&(m[E++]=_>>8&255),E<m.length&&(m[E++]=_>>16&255),c===6?(E<m.length&&(m[E++]=_>>24&255),k=0,c=0):(k=_>>>24,c+=2)}if(E<m.length)for(m[E++]=k;E<m.length;)m[E++]=0},a.prototype._toArrayLikeBE=function(m,b){for(var E=m.length-1,k=0,w=0,c=0;w<this.length;w++){var _=this.words[w]<<c|k;m[E--]=_&255,E>=0&&(m[E--]=_>>8&255),E>=0&&(m[E--]=_>>16&255),c===6?(E>=0&&(m[E--]=_>>24&255),k=0,c=0):(k=_>>>24,c+=2)}if(E>=0)for(m[E--]=k;E>=0;)m[E--]=0},Math.clz32?a.prototype._countBits=function(m){return 32-Math.clz32(m)}:a.prototype._countBits=function(m){var b=m,E=0;return b>=4096&&(E+=13,b>>>=13),b>=64&&(E+=7,b>>>=7),b>=8&&(E+=4,b>>>=4),b>=2&&(E+=2,b>>>=2),E+b},a.prototype._zeroBits=function(m){if(m===0)return 26;var b=m,E=0;return(b&8191)===0&&(E+=13,b>>>=13),(b&127)===0&&(E+=7,b>>>=7),(b&15)===0&&(E+=4,b>>>=4),(b&3)===0&&(E+=2,b>>>=2),(b&1)===0&&E++,E},a.prototype.bitLength=function(){var m=this.words[this.length-1],b=this._countBits(m);return(this.length-1)*26+b};function T(g){for(var m=new Array(g.bitLength()),b=0;b<m.length;b++){var E=b/26|0,k=b%26;m[b]=g.words[E]>>>k&1}return m}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,b=0;b<this.length;b++){var E=this._zeroBits(this.words[b]);if(m+=E,E!==26)break}return m},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},a.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var b=0;b<m.length;b++)this.words[b]=this.words[b]|m.words[b];return this._strip()},a.prototype.ior=function(m){return r((this.negative|m.negative)===0),this.iuor(m)},a.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},a.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},a.prototype.iuand=function(m){var b;this.length>m.length?b=m:b=this;for(var E=0;E<b.length;E++)this.words[E]=this.words[E]&m.words[E];return this.length=b.length,this._strip()},a.prototype.iand=function(m){return r((this.negative|m.negative)===0),this.iuand(m)},a.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},a.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},a.prototype.iuxor=function(m){var b,E;this.length>m.length?(b=this,E=m):(b=m,E=this);for(var k=0;k<E.length;k++)this.words[k]=b.words[k]^E.words[k];if(this!==b)for(;k<b.length;k++)this.words[k]=b.words[k];return this.length=b.length,this._strip()},a.prototype.ixor=function(m){return r((this.negative|m.negative)===0),this.iuxor(m)},a.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},a.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},a.prototype.inotn=function(m){r(typeof m=="number"&&m>=0);var b=Math.ceil(m/26)|0,E=m%26;this._expand(b),E>0&&b--;for(var k=0;k<b;k++)this.words[k]=~this.words[k]&67108863;return E>0&&(this.words[k]=~this.words[k]&67108863>>26-E),this._strip()},a.prototype.notn=function(m){return this.clone().inotn(m)},a.prototype.setn=function(m,b){r(typeof m=="number"&&m>=0);var E=m/26|0,k=m%26;return this._expand(E+1),b?this.words[E]=this.words[E]|1<<k:this.words[E]=this.words[E]&~(1<<k),this._strip()},a.prototype.iadd=function(m){var b;if(this.negative!==0&&m.negative===0)return this.negative=0,b=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,b=this.isub(m),m.negative=1,b._normSign();var E,k;this.length>m.length?(E=this,k=m):(E=m,k=this);for(var w=0,c=0;c<k.length;c++)b=(E.words[c]|0)+(k.words[c]|0)+w,this.words[c]=b&67108863,w=b>>>26;for(;w!==0&&c<E.length;c++)b=(E.words[c]|0)+w,this.words[c]=b&67108863,w=b>>>26;if(this.length=E.length,w!==0)this.words[this.length]=w,this.length++;else if(E!==this)for(;c<E.length;c++)this.words[c]=E.words[c];return this},a.prototype.add=function(m){var b;return m.negative!==0&&this.negative===0?(m.negative=0,b=this.sub(m),m.negative^=1,b):m.negative===0&&this.negative!==0?(this.negative=0,b=m.sub(this),this.negative=1,b):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},a.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var b=this.iadd(m);return m.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var E=this.cmp(m);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,w;E>0?(k=this,w=m):(k=m,w=this);for(var c=0,_=0;_<w.length;_++)b=(k.words[_]|0)-(w.words[_]|0)+c,c=b>>26,this.words[_]=b&67108863;for(;c!==0&&_<k.length;_++)b=(k.words[_]|0)+c,c=b>>26,this.words[_]=b&67108863;if(c===0&&_<k.length&&k!==this)for(;_<k.length;_++)this.words[_]=k.words[_];return this.length=Math.max(this.length,_),k!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(m){return this.clone().isub(m)};function I(g,m,b){b.negative=m.negative^g.negative;var E=g.length+m.length|0;b.length=E,E=E-1|0;var k=g.words[0]|0,w=m.words[0]|0,c=k*w,_=c&67108863,R=c/67108864|0;b.words[0]=_;for(var O=1;O<E;O++){for(var F=R>>>26,U=R&67108863,H=Math.min(O,m.length-1),J=Math.max(0,O-g.length+1);J<=H;J++){var fe=O-J|0;k=g.words[fe]|0,w=m.words[J]|0,c=k*w+U,F+=c/67108864|0,U=c&67108863}b.words[O]=U|0,R=F|0}return R!==0?b.words[O]=R|0:b.length--,b._strip()}var N=function(m,b,E){var k=m.words,w=b.words,c=E.words,_=0,R,O,F,U=k[0]|0,H=U&8191,J=U>>>13,fe=k[1]|0,B=fe&8191,q=fe>>>13,Y=k[2]|0,X=Y&8191,Q=Y>>>13,be=k[3]|0,ue=be&8191,me=be>>>13,yt=k[4]|0,xe=yt&8191,le=yt>>>13,zt=k[5]|0,we=zt&8191,Te=zt>>>13,ot=k[6]|0,ee=ot&8191,ie=ot>>>13,rt=k[7]|0,ae=rt&8191,de=rt>>>13,Je=k[8]|0,he=Je&8191,Se=Je>>>13,Tt=k[9]|0,_e=Tt&8191,Ie=Tt>>>13,ar=w[0]|0,Ne=ar&8191,Re=ar>>>13,ri=w[1]|0,qe=ri&8191,Fe=ri>>>13,Un=w[2]|0,$e=Un&8191,Be=Un>>>13,Vn=w[3]|0,Le=Vn&8191,ze=Vn>>>13,ni=w[4]|0,Pe=ni&8191,Oe=ni>>>13,Wn=w[5]|0,je=Wn&8191,Ue=Wn>>>13,Er=w[6]|0,ke=Er&8191,Ve=Er>>>13,In=w[7]|0,De=In&8191,We=In>>>13,Fn=w[8]|0,Ge=Fn&8191,He=Fn>>>13,sn=w[9]|0,Ct=sn&8191,Ft=sn>>>13;E.negative=m.negative^b.negative,E.length=19,R=Math.imul(H,Ne),O=Math.imul(H,Re),O=O+Math.imul(J,Ne)|0,F=Math.imul(J,Re);var $r=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+($r>>>26)|0,$r&=67108863,R=Math.imul(B,Ne),O=Math.imul(B,Re),O=O+Math.imul(q,Ne)|0,F=Math.imul(q,Re),R=R+Math.imul(H,qe)|0,O=O+Math.imul(H,Fe)|0,O=O+Math.imul(J,qe)|0,F=F+Math.imul(J,Fe)|0;var zr=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(zr>>>26)|0,zr&=67108863,R=Math.imul(X,Ne),O=Math.imul(X,Re),O=O+Math.imul(Q,Ne)|0,F=Math.imul(Q,Re),R=R+Math.imul(B,qe)|0,O=O+Math.imul(B,Fe)|0,O=O+Math.imul(q,qe)|0,F=F+Math.imul(q,Fe)|0,R=R+Math.imul(H,$e)|0,O=O+Math.imul(H,Be)|0,O=O+Math.imul(J,$e)|0,F=F+Math.imul(J,Be)|0;var jr=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(jr>>>26)|0,jr&=67108863,R=Math.imul(ue,Ne),O=Math.imul(ue,Re),O=O+Math.imul(me,Ne)|0,F=Math.imul(me,Re),R=R+Math.imul(X,qe)|0,O=O+Math.imul(X,Fe)|0,O=O+Math.imul(Q,qe)|0,F=F+Math.imul(Q,Fe)|0,R=R+Math.imul(B,$e)|0,O=O+Math.imul(B,Be)|0,O=O+Math.imul(q,$e)|0,F=F+Math.imul(q,Be)|0,R=R+Math.imul(H,Le)|0,O=O+Math.imul(H,ze)|0,O=O+Math.imul(J,Le)|0,F=F+Math.imul(J,ze)|0;var Ur=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,R=Math.imul(xe,Ne),O=Math.imul(xe,Re),O=O+Math.imul(le,Ne)|0,F=Math.imul(le,Re),R=R+Math.imul(ue,qe)|0,O=O+Math.imul(ue,Fe)|0,O=O+Math.imul(me,qe)|0,F=F+Math.imul(me,Fe)|0,R=R+Math.imul(X,$e)|0,O=O+Math.imul(X,Be)|0,O=O+Math.imul(Q,$e)|0,F=F+Math.imul(Q,Be)|0,R=R+Math.imul(B,Le)|0,O=O+Math.imul(B,ze)|0,O=O+Math.imul(q,Le)|0,F=F+Math.imul(q,ze)|0,R=R+Math.imul(H,Pe)|0,O=O+Math.imul(H,Oe)|0,O=O+Math.imul(J,Pe)|0,F=F+Math.imul(J,Oe)|0;var Vr=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,R=Math.imul(we,Ne),O=Math.imul(we,Re),O=O+Math.imul(Te,Ne)|0,F=Math.imul(Te,Re),R=R+Math.imul(xe,qe)|0,O=O+Math.imul(xe,Fe)|0,O=O+Math.imul(le,qe)|0,F=F+Math.imul(le,Fe)|0,R=R+Math.imul(ue,$e)|0,O=O+Math.imul(ue,Be)|0,O=O+Math.imul(me,$e)|0,F=F+Math.imul(me,Be)|0,R=R+Math.imul(X,Le)|0,O=O+Math.imul(X,ze)|0,O=O+Math.imul(Q,Le)|0,F=F+Math.imul(Q,ze)|0,R=R+Math.imul(B,Pe)|0,O=O+Math.imul(B,Oe)|0,O=O+Math.imul(q,Pe)|0,F=F+Math.imul(q,Oe)|0,R=R+Math.imul(H,je)|0,O=O+Math.imul(H,Ue)|0,O=O+Math.imul(J,je)|0,F=F+Math.imul(J,Ue)|0;var Wr=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,R=Math.imul(ee,Ne),O=Math.imul(ee,Re),O=O+Math.imul(ie,Ne)|0,F=Math.imul(ie,Re),R=R+Math.imul(we,qe)|0,O=O+Math.imul(we,Fe)|0,O=O+Math.imul(Te,qe)|0,F=F+Math.imul(Te,Fe)|0,R=R+Math.imul(xe,$e)|0,O=O+Math.imul(xe,Be)|0,O=O+Math.imul(le,$e)|0,F=F+Math.imul(le,Be)|0,R=R+Math.imul(ue,Le)|0,O=O+Math.imul(ue,ze)|0,O=O+Math.imul(me,Le)|0,F=F+Math.imul(me,ze)|0,R=R+Math.imul(X,Pe)|0,O=O+Math.imul(X,Oe)|0,O=O+Math.imul(Q,Pe)|0,F=F+Math.imul(Q,Oe)|0,R=R+Math.imul(B,je)|0,O=O+Math.imul(B,Ue)|0,O=O+Math.imul(q,je)|0,F=F+Math.imul(q,Ue)|0,R=R+Math.imul(H,ke)|0,O=O+Math.imul(H,Ve)|0,O=O+Math.imul(J,ke)|0,F=F+Math.imul(J,Ve)|0;var Gr=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,R=Math.imul(ae,Ne),O=Math.imul(ae,Re),O=O+Math.imul(de,Ne)|0,F=Math.imul(de,Re),R=R+Math.imul(ee,qe)|0,O=O+Math.imul(ee,Fe)|0,O=O+Math.imul(ie,qe)|0,F=F+Math.imul(ie,Fe)|0,R=R+Math.imul(we,$e)|0,O=O+Math.imul(we,Be)|0,O=O+Math.imul(Te,$e)|0,F=F+Math.imul(Te,Be)|0,R=R+Math.imul(xe,Le)|0,O=O+Math.imul(xe,ze)|0,O=O+Math.imul(le,Le)|0,F=F+Math.imul(le,ze)|0,R=R+Math.imul(ue,Pe)|0,O=O+Math.imul(ue,Oe)|0,O=O+Math.imul(me,Pe)|0,F=F+Math.imul(me,Oe)|0,R=R+Math.imul(X,je)|0,O=O+Math.imul(X,Ue)|0,O=O+Math.imul(Q,je)|0,F=F+Math.imul(Q,Ue)|0,R=R+Math.imul(B,ke)|0,O=O+Math.imul(B,Ve)|0,O=O+Math.imul(q,ke)|0,F=F+Math.imul(q,Ve)|0,R=R+Math.imul(H,De)|0,O=O+Math.imul(H,We)|0,O=O+Math.imul(J,De)|0,F=F+Math.imul(J,We)|0;var Hr=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,R=Math.imul(he,Ne),O=Math.imul(he,Re),O=O+Math.imul(Se,Ne)|0,F=Math.imul(Se,Re),R=R+Math.imul(ae,qe)|0,O=O+Math.imul(ae,Fe)|0,O=O+Math.imul(de,qe)|0,F=F+Math.imul(de,Fe)|0,R=R+Math.imul(ee,$e)|0,O=O+Math.imul(ee,Be)|0,O=O+Math.imul(ie,$e)|0,F=F+Math.imul(ie,Be)|0,R=R+Math.imul(we,Le)|0,O=O+Math.imul(we,ze)|0,O=O+Math.imul(Te,Le)|0,F=F+Math.imul(Te,ze)|0,R=R+Math.imul(xe,Pe)|0,O=O+Math.imul(xe,Oe)|0,O=O+Math.imul(le,Pe)|0,F=F+Math.imul(le,Oe)|0,R=R+Math.imul(ue,je)|0,O=O+Math.imul(ue,Ue)|0,O=O+Math.imul(me,je)|0,F=F+Math.imul(me,Ue)|0,R=R+Math.imul(X,ke)|0,O=O+Math.imul(X,Ve)|0,O=O+Math.imul(Q,ke)|0,F=F+Math.imul(Q,Ve)|0,R=R+Math.imul(B,De)|0,O=O+Math.imul(B,We)|0,O=O+Math.imul(q,De)|0,F=F+Math.imul(q,We)|0,R=R+Math.imul(H,Ge)|0,O=O+Math.imul(H,He)|0,O=O+Math.imul(J,Ge)|0,F=F+Math.imul(J,He)|0;var Kr=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,R=Math.imul(_e,Ne),O=Math.imul(_e,Re),O=O+Math.imul(Ie,Ne)|0,F=Math.imul(Ie,Re),R=R+Math.imul(he,qe)|0,O=O+Math.imul(he,Fe)|0,O=O+Math.imul(Se,qe)|0,F=F+Math.imul(Se,Fe)|0,R=R+Math.imul(ae,$e)|0,O=O+Math.imul(ae,Be)|0,O=O+Math.imul(de,$e)|0,F=F+Math.imul(de,Be)|0,R=R+Math.imul(ee,Le)|0,O=O+Math.imul(ee,ze)|0,O=O+Math.imul(ie,Le)|0,F=F+Math.imul(ie,ze)|0,R=R+Math.imul(we,Pe)|0,O=O+Math.imul(we,Oe)|0,O=O+Math.imul(Te,Pe)|0,F=F+Math.imul(Te,Oe)|0,R=R+Math.imul(xe,je)|0,O=O+Math.imul(xe,Ue)|0,O=O+Math.imul(le,je)|0,F=F+Math.imul(le,Ue)|0,R=R+Math.imul(ue,ke)|0,O=O+Math.imul(ue,Ve)|0,O=O+Math.imul(me,ke)|0,F=F+Math.imul(me,Ve)|0,R=R+Math.imul(X,De)|0,O=O+Math.imul(X,We)|0,O=O+Math.imul(Q,De)|0,F=F+Math.imul(Q,We)|0,R=R+Math.imul(B,Ge)|0,O=O+Math.imul(B,He)|0,O=O+Math.imul(q,Ge)|0,F=F+Math.imul(q,He)|0,R=R+Math.imul(H,Ct)|0,O=O+Math.imul(H,Ft)|0,O=O+Math.imul(J,Ct)|0,F=F+Math.imul(J,Ft)|0;var Zr=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,R=Math.imul(_e,qe),O=Math.imul(_e,Fe),O=O+Math.imul(Ie,qe)|0,F=Math.imul(Ie,Fe),R=R+Math.imul(he,$e)|0,O=O+Math.imul(he,Be)|0,O=O+Math.imul(Se,$e)|0,F=F+Math.imul(Se,Be)|0,R=R+Math.imul(ae,Le)|0,O=O+Math.imul(ae,ze)|0,O=O+Math.imul(de,Le)|0,F=F+Math.imul(de,ze)|0,R=R+Math.imul(ee,Pe)|0,O=O+Math.imul(ee,Oe)|0,O=O+Math.imul(ie,Pe)|0,F=F+Math.imul(ie,Oe)|0,R=R+Math.imul(we,je)|0,O=O+Math.imul(we,Ue)|0,O=O+Math.imul(Te,je)|0,F=F+Math.imul(Te,Ue)|0,R=R+Math.imul(xe,ke)|0,O=O+Math.imul(xe,Ve)|0,O=O+Math.imul(le,ke)|0,F=F+Math.imul(le,Ve)|0,R=R+Math.imul(ue,De)|0,O=O+Math.imul(ue,We)|0,O=O+Math.imul(me,De)|0,F=F+Math.imul(me,We)|0,R=R+Math.imul(X,Ge)|0,O=O+Math.imul(X,He)|0,O=O+Math.imul(Q,Ge)|0,F=F+Math.imul(Q,He)|0,R=R+Math.imul(B,Ct)|0,O=O+Math.imul(B,Ft)|0,O=O+Math.imul(q,Ct)|0,F=F+Math.imul(q,Ft)|0;var Jr=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,R=Math.imul(_e,$e),O=Math.imul(_e,Be),O=O+Math.imul(Ie,$e)|0,F=Math.imul(Ie,Be),R=R+Math.imul(he,Le)|0,O=O+Math.imul(he,ze)|0,O=O+Math.imul(Se,Le)|0,F=F+Math.imul(Se,ze)|0,R=R+Math.imul(ae,Pe)|0,O=O+Math.imul(ae,Oe)|0,O=O+Math.imul(de,Pe)|0,F=F+Math.imul(de,Oe)|0,R=R+Math.imul(ee,je)|0,O=O+Math.imul(ee,Ue)|0,O=O+Math.imul(ie,je)|0,F=F+Math.imul(ie,Ue)|0,R=R+Math.imul(we,ke)|0,O=O+Math.imul(we,Ve)|0,O=O+Math.imul(Te,ke)|0,F=F+Math.imul(Te,Ve)|0,R=R+Math.imul(xe,De)|0,O=O+Math.imul(xe,We)|0,O=O+Math.imul(le,De)|0,F=F+Math.imul(le,We)|0,R=R+Math.imul(ue,Ge)|0,O=O+Math.imul(ue,He)|0,O=O+Math.imul(me,Ge)|0,F=F+Math.imul(me,He)|0,R=R+Math.imul(X,Ct)|0,O=O+Math.imul(X,Ft)|0,O=O+Math.imul(Q,Ct)|0,F=F+Math.imul(Q,Ft)|0;var Yr=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,R=Math.imul(_e,Le),O=Math.imul(_e,ze),O=O+Math.imul(Ie,Le)|0,F=Math.imul(Ie,ze),R=R+Math.imul(he,Pe)|0,O=O+Math.imul(he,Oe)|0,O=O+Math.imul(Se,Pe)|0,F=F+Math.imul(Se,Oe)|0,R=R+Math.imul(ae,je)|0,O=O+Math.imul(ae,Ue)|0,O=O+Math.imul(de,je)|0,F=F+Math.imul(de,Ue)|0,R=R+Math.imul(ee,ke)|0,O=O+Math.imul(ee,Ve)|0,O=O+Math.imul(ie,ke)|0,F=F+Math.imul(ie,Ve)|0,R=R+Math.imul(we,De)|0,O=O+Math.imul(we,We)|0,O=O+Math.imul(Te,De)|0,F=F+Math.imul(Te,We)|0,R=R+Math.imul(xe,Ge)|0,O=O+Math.imul(xe,He)|0,O=O+Math.imul(le,Ge)|0,F=F+Math.imul(le,He)|0,R=R+Math.imul(ue,Ct)|0,O=O+Math.imul(ue,Ft)|0,O=O+Math.imul(me,Ct)|0,F=F+Math.imul(me,Ft)|0;var Xr=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,R=Math.imul(_e,Pe),O=Math.imul(_e,Oe),O=O+Math.imul(Ie,Pe)|0,F=Math.imul(Ie,Oe),R=R+Math.imul(he,je)|0,O=O+Math.imul(he,Ue)|0,O=O+Math.imul(Se,je)|0,F=F+Math.imul(Se,Ue)|0,R=R+Math.imul(ae,ke)|0,O=O+Math.imul(ae,Ve)|0,O=O+Math.imul(de,ke)|0,F=F+Math.imul(de,Ve)|0,R=R+Math.imul(ee,De)|0,O=O+Math.imul(ee,We)|0,O=O+Math.imul(ie,De)|0,F=F+Math.imul(ie,We)|0,R=R+Math.imul(we,Ge)|0,O=O+Math.imul(we,He)|0,O=O+Math.imul(Te,Ge)|0,F=F+Math.imul(Te,He)|0,R=R+Math.imul(xe,Ct)|0,O=O+Math.imul(xe,Ft)|0,O=O+Math.imul(le,Ct)|0,F=F+Math.imul(le,Ft)|0;var Qr=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,R=Math.imul(_e,je),O=Math.imul(_e,Ue),O=O+Math.imul(Ie,je)|0,F=Math.imul(Ie,Ue),R=R+Math.imul(he,ke)|0,O=O+Math.imul(he,Ve)|0,O=O+Math.imul(Se,ke)|0,F=F+Math.imul(Se,Ve)|0,R=R+Math.imul(ae,De)|0,O=O+Math.imul(ae,We)|0,O=O+Math.imul(de,De)|0,F=F+Math.imul(de,We)|0,R=R+Math.imul(ee,Ge)|0,O=O+Math.imul(ee,He)|0,O=O+Math.imul(ie,Ge)|0,F=F+Math.imul(ie,He)|0,R=R+Math.imul(we,Ct)|0,O=O+Math.imul(we,Ft)|0,O=O+Math.imul(Te,Ct)|0,F=F+Math.imul(Te,Ft)|0;var er=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(er>>>26)|0,er&=67108863,R=Math.imul(_e,ke),O=Math.imul(_e,Ve),O=O+Math.imul(Ie,ke)|0,F=Math.imul(Ie,Ve),R=R+Math.imul(he,De)|0,O=O+Math.imul(he,We)|0,O=O+Math.imul(Se,De)|0,F=F+Math.imul(Se,We)|0,R=R+Math.imul(ae,Ge)|0,O=O+Math.imul(ae,He)|0,O=O+Math.imul(de,Ge)|0,F=F+Math.imul(de,He)|0,R=R+Math.imul(ee,Ct)|0,O=O+Math.imul(ee,Ft)|0,O=O+Math.imul(ie,Ct)|0,F=F+Math.imul(ie,Ft)|0;var Ir=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,R=Math.imul(_e,De),O=Math.imul(_e,We),O=O+Math.imul(Ie,De)|0,F=Math.imul(Ie,We),R=R+Math.imul(he,Ge)|0,O=O+Math.imul(he,He)|0,O=O+Math.imul(Se,Ge)|0,F=F+Math.imul(Se,He)|0,R=R+Math.imul(ae,Ct)|0,O=O+Math.imul(ae,Ft)|0,O=O+Math.imul(de,Ct)|0,F=F+Math.imul(de,Ft)|0;var xd=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(xd>>>26)|0,xd&=67108863,R=Math.imul(_e,Ge),O=Math.imul(_e,He),O=O+Math.imul(Ie,Ge)|0,F=Math.imul(Ie,He),R=R+Math.imul(he,Ct)|0,O=O+Math.imul(he,Ft)|0,O=O+Math.imul(Se,Ct)|0,F=F+Math.imul(Se,Ft)|0;var Sd=(_+R|0)+((O&8191)<<13)|0;_=(F+(O>>>13)|0)+(Sd>>>26)|0,Sd&=67108863,R=Math.imul(_e,Ct),O=Math.imul(_e,Ft),O=O+Math.imul(Ie,Ct)|0,F=Math.imul(Ie,Ft);var vv=(_+R|0)+((O&8191)<<13)|0;return _=(F+(O>>>13)|0)+(vv>>>26)|0,vv&=67108863,c[0]=$r,c[1]=zr,c[2]=jr,c[3]=Ur,c[4]=Vr,c[5]=Wr,c[6]=Gr,c[7]=Hr,c[8]=Kr,c[9]=Zr,c[10]=Jr,c[11]=Yr,c[12]=Xr,c[13]=Qr,c[14]=er,c[15]=Ir,c[16]=xd,c[17]=Sd,c[18]=vv,_!==0&&(c[19]=_,E.length++),E};Math.imul||(N=I);function D(g,m,b){b.negative=m.negative^g.negative,b.length=g.length+m.length;for(var E=0,k=0,w=0;w<b.length-1;w++){var c=k;k=0;for(var _=E&67108863,R=Math.min(w,m.length-1),O=Math.max(0,w-g.length+1);O<=R;O++){var F=w-O,U=g.words[F]|0,H=m.words[O]|0,J=U*H,fe=J&67108863;c=c+(J/67108864|0)|0,fe=fe+_|0,_=fe&67108863,c=c+(fe>>>26)|0,k+=c>>>26,c&=67108863}b.words[w]=_,E=c,c=k}return E!==0?b.words[w]=E:b.length--,b._strip()}function C(g,m,b){return D(g,m,b)}a.prototype.mulTo=function(m,b){var E,k=this.length+m.length;return this.length===10&&m.length===10?E=N(this,m,b):k<63?E=I(this,m,b):k<1024?E=D(this,m,b):E=C(this,m,b),E};function L(g,m){this.x=g,this.y=m}L.prototype.makeRBT=function(m){for(var b=new Array(m),E=a.prototype._countBits(m)-1,k=0;k<m;k++)b[k]=this.revBin(k,E,m);return b},L.prototype.revBin=function(m,b,E){if(m===0||m===E-1)return m;for(var k=0,w=0;w<b;w++)k|=(m&1)<<b-w-1,m>>=1;return k},L.prototype.permute=function(m,b,E,k,w,c){for(var _=0;_<c;_++)k[_]=b[m[_]],w[_]=E[m[_]]},L.prototype.transform=function(m,b,E,k,w,c){this.permute(c,m,b,E,k,w);for(var _=1;_<w;_<<=1)for(var R=_<<1,O=Math.cos(2*Math.PI/R),F=Math.sin(2*Math.PI/R),U=0;U<w;U+=R)for(var H=O,J=F,fe=0;fe<_;fe++){var B=E[U+fe],q=k[U+fe],Y=E[U+fe+_],X=k[U+fe+_],Q=H*Y-J*X;X=H*X+J*Y,Y=Q,E[U+fe]=B+Y,k[U+fe]=q+X,E[U+fe+_]=B-Y,k[U+fe+_]=q-X,fe!==R&&(Q=O*H-F*J,J=O*J+F*H,H=Q)}},L.prototype.guessLen13b=function(m,b){var E=Math.max(b,m)|1,k=E&1,w=0;for(E=E/2|0;E;E=E>>>1)w++;return 1<<w+1+k},L.prototype.conjugate=function(m,b,E){if(!(E<=1))for(var k=0;k<E/2;k++){var w=m[k];m[k]=m[E-k-1],m[E-k-1]=w,w=b[k],b[k]=-b[E-k-1],b[E-k-1]=-w}},L.prototype.normalize13b=function(m,b){for(var E=0,k=0;k<b/2;k++){var w=Math.round(m[2*k+1]/b)*8192+Math.round(m[2*k]/b)+E;m[k]=w&67108863,w<67108864?E=0:E=w/67108864|0}return m},L.prototype.convert13b=function(m,b,E,k){for(var w=0,c=0;c<b;c++)w=w+(m[c]|0),E[2*c]=w&8191,w=w>>>13,E[2*c+1]=w&8191,w=w>>>13;for(c=2*b;c<k;++c)E[c]=0;r(w===0),r((w&-8192)===0)},L.prototype.stub=function(m){for(var b=new Array(m),E=0;E<m;E++)b[E]=0;return b},L.prototype.mulp=function(m,b,E){var k=2*this.guessLen13b(m.length,b.length),w=this.makeRBT(k),c=this.stub(k),_=new Array(k),R=new Array(k),O=new Array(k),F=new Array(k),U=new Array(k),H=new Array(k),J=E.words;J.length=k,this.convert13b(m.words,m.length,_,k),this.convert13b(b.words,b.length,F,k),this.transform(_,c,R,O,k,w),this.transform(F,c,U,H,k,w);for(var fe=0;fe<k;fe++){var B=R[fe]*U[fe]-O[fe]*H[fe];O[fe]=R[fe]*H[fe]+O[fe]*U[fe],R[fe]=B}return this.conjugate(R,O,k),this.transform(R,O,J,c,k,w),this.conjugate(J,c,k),this.normalize13b(J,k),E.negative=m.negative^b.negative,E.length=m.length+b.length,E._strip()},a.prototype.mul=function(m){var b=new a(null);return b.words=new Array(this.length+m.length),this.mulTo(m,b)},a.prototype.mulf=function(m){var b=new a(null);return b.words=new Array(this.length+m.length),C(this,m,b)},a.prototype.imul=function(m){return this.clone().mulTo(m,this)},a.prototype.imuln=function(m){var b=m<0;b&&(m=-m),r(typeof m=="number"),r(m<67108864);for(var E=0,k=0;k<this.length;k++){var w=(this.words[k]|0)*m,c=(w&67108863)+(E&67108863);E>>=26,E+=w/67108864|0,E+=c>>>26,this.words[k]=c&67108863}return E!==0&&(this.words[k]=E,this.length++),b?this.ineg():this},a.prototype.muln=function(m){return this.clone().imuln(m)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(m){var b=T(m);if(b.length===0)return new a(1);for(var E=this,k=0;k<b.length&&b[k]===0;k++,E=E.sqr());if(++k<b.length)for(var w=E.sqr();k<b.length;k++,w=w.sqr())b[k]!==0&&(E=E.mul(w));return E},a.prototype.iushln=function(m){r(typeof m=="number"&&m>=0);var b=m%26,E=(m-b)/26,k=67108863>>>26-b<<26-b,w;if(b!==0){var c=0;for(w=0;w<this.length;w++){var _=this.words[w]&k,R=(this.words[w]|0)-_<<b;this.words[w]=R|c,c=_>>>26-b}c&&(this.words[w]=c,this.length++)}if(E!==0){for(w=this.length-1;w>=0;w--)this.words[w+E]=this.words[w];for(w=0;w<E;w++)this.words[w]=0;this.length+=E}return this._strip()},a.prototype.ishln=function(m){return r(this.negative===0),this.iushln(m)},a.prototype.iushrn=function(m,b,E){r(typeof m=="number"&&m>=0);var k;b?k=(b-b%26)/26:k=0;var w=m%26,c=Math.min((m-w)/26,this.length),_=67108863^67108863>>>w<<w,R=E;if(k-=c,k=Math.max(0,k),R){for(var O=0;O<c;O++)R.words[O]=this.words[O];R.length=c}if(c!==0)if(this.length>c)for(this.length-=c,O=0;O<this.length;O++)this.words[O]=this.words[O+c];else this.words[0]=0,this.length=1;var F=0;for(O=this.length-1;O>=0&&(F!==0||O>=k);O--){var U=this.words[O]|0;this.words[O]=F<<26-w|U>>>w,F=U&_}return R&&F!==0&&(R.words[R.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(m,b,E){return r(this.negative===0),this.iushrn(m,b,E)},a.prototype.shln=function(m){return this.clone().ishln(m)},a.prototype.ushln=function(m){return this.clone().iushln(m)},a.prototype.shrn=function(m){return this.clone().ishrn(m)},a.prototype.ushrn=function(m){return this.clone().iushrn(m)},a.prototype.testn=function(m){r(typeof m=="number"&&m>=0);var b=m%26,E=(m-b)/26,k=1<<b;if(this.length<=E)return!1;var w=this.words[E];return!!(w&k)},a.prototype.imaskn=function(m){r(typeof m=="number"&&m>=0);var b=m%26,E=(m-b)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(b!==0&&E++,this.length=Math.min(E,this.length),b!==0){var k=67108863^67108863>>>b<<b;this.words[this.length-1]&=k}return this._strip()},a.prototype.maskn=function(m){return this.clone().imaskn(m)},a.prototype.iaddn=function(m){return r(typeof m=="number"),r(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<=m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},a.prototype._iaddn=function(m){this.words[0]+=m;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},a.prototype.isubn=function(m){if(r(typeof m=="number"),r(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this._strip()},a.prototype.addn=function(m){return this.clone().iaddn(m)},a.prototype.subn=function(m){return this.clone().isubn(m)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(m,b,E){var k=m.length+E,w;this._expand(k);var c,_=0;for(w=0;w<m.length;w++){c=(this.words[w+E]|0)+_;var R=(m.words[w]|0)*b;c-=R&67108863,_=(c>>26)-(R/67108864|0),this.words[w+E]=c&67108863}for(;w<this.length-E;w++)c=(this.words[w+E]|0)+_,_=c>>26,this.words[w+E]=c&67108863;if(_===0)return this._strip();for(r(_===-1),_=0,w=0;w<this.length;w++)c=-(this.words[w]|0)+_,_=c>>26,this.words[w]=c&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(m,b){var E=this.length-m.length,k=this.clone(),w=m,c=w.words[w.length-1]|0,_=this._countBits(c);E=26-_,E!==0&&(w=w.ushln(E),k.iushln(E),c=w.words[w.length-1]|0);var R=k.length-w.length,O;if(b!=="mod"){O=new a(null),O.length=R+1,O.words=new Array(O.length);for(var F=0;F<O.length;F++)O.words[F]=0}var U=k.clone()._ishlnsubmul(w,1,R);U.negative===0&&(k=U,O&&(O.words[R]=1));for(var H=R-1;H>=0;H--){var J=(k.words[w.length+H]|0)*67108864+(k.words[w.length+H-1]|0);for(J=Math.min(J/c|0,67108863),k._ishlnsubmul(w,J,H);k.negative!==0;)J--,k.negative=0,k._ishlnsubmul(w,1,H),k.isZero()||(k.negative^=1);O&&(O.words[H]=J)}return O&&O._strip(),k._strip(),b!=="div"&&E!==0&&k.iushrn(E),{div:O||null,mod:k}},a.prototype.divmod=function(m,b,E){if(r(!m.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var k,w,c;return this.negative!==0&&m.negative===0?(c=this.neg().divmod(m,b),b!=="mod"&&(k=c.div.neg()),b!=="div"&&(w=c.mod.neg(),E&&w.negative!==0&&w.iadd(m)),{div:k,mod:w}):this.negative===0&&m.negative!==0?(c=this.divmod(m.neg(),b),b!=="mod"&&(k=c.div.neg()),{div:k,mod:c.mod}):(this.negative&m.negative)!==0?(c=this.neg().divmod(m.neg(),b),b!=="div"&&(w=c.mod.neg(),E&&w.negative!==0&&w.isub(m)),{div:c.div,mod:w}):m.length>this.length||this.cmp(m)<0?{div:new a(0),mod:this}:m.length===1?b==="div"?{div:this.divn(m.words[0]),mod:null}:b==="mod"?{div:null,mod:new a(this.modrn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new a(this.modrn(m.words[0]))}:this._wordDiv(m,b)},a.prototype.div=function(m){return this.divmod(m,"div",!1).div},a.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},a.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},a.prototype.divRound=function(m){var b=this.divmod(m);if(b.mod.isZero())return b.div;var E=b.div.negative!==0?b.mod.isub(m):b.mod,k=m.ushrn(1),w=m.andln(1),c=E.cmp(k);return c<0||w===1&&c===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},a.prototype.modrn=function(m){var b=m<0;b&&(m=-m),r(m<=67108863);for(var E=(1<<26)%m,k=0,w=this.length-1;w>=0;w--)k=(E*k+(this.words[w]|0))%m;return b?-k:k},a.prototype.modn=function(m){return this.modrn(m)},a.prototype.idivn=function(m){var b=m<0;b&&(m=-m),r(m<=67108863);for(var E=0,k=this.length-1;k>=0;k--){var w=(this.words[k]|0)+E*67108864;this.words[k]=w/m|0,E=w%m}return this._strip(),b?this.ineg():this},a.prototype.divn=function(m){return this.clone().idivn(m)},a.prototype.egcd=function(m){r(m.negative===0),r(!m.isZero());var b=this,E=m.clone();b.negative!==0?b=b.umod(m):b=b.clone();for(var k=new a(1),w=new a(0),c=new a(0),_=new a(1),R=0;b.isEven()&&E.isEven();)b.iushrn(1),E.iushrn(1),++R;for(var O=E.clone(),F=b.clone();!b.isZero();){for(var U=0,H=1;(b.words[0]&H)===0&&U<26;++U,H<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(k.isOdd()||w.isOdd())&&(k.iadd(O),w.isub(F)),k.iushrn(1),w.iushrn(1);for(var J=0,fe=1;(E.words[0]&fe)===0&&J<26;++J,fe<<=1);if(J>0)for(E.iushrn(J);J-- >0;)(c.isOdd()||_.isOdd())&&(c.iadd(O),_.isub(F)),c.iushrn(1),_.iushrn(1);b.cmp(E)>=0?(b.isub(E),k.isub(c),w.isub(_)):(E.isub(b),c.isub(k),_.isub(w))}return{a:c,b:_,gcd:E.iushln(R)}},a.prototype._invmp=function(m){r(m.negative===0),r(!m.isZero());var b=this,E=m.clone();b.negative!==0?b=b.umod(m):b=b.clone();for(var k=new a(1),w=new a(0),c=E.clone();b.cmpn(1)>0&&E.cmpn(1)>0;){for(var _=0,R=1;(b.words[0]&R)===0&&_<26;++_,R<<=1);if(_>0)for(b.iushrn(_);_-- >0;)k.isOdd()&&k.iadd(c),k.iushrn(1);for(var O=0,F=1;(E.words[0]&F)===0&&O<26;++O,F<<=1);if(O>0)for(E.iushrn(O);O-- >0;)w.isOdd()&&w.iadd(c),w.iushrn(1);b.cmp(E)>=0?(b.isub(E),k.isub(w)):(E.isub(b),w.isub(k))}var U;return b.cmpn(1)===0?U=k:U=w,U.cmpn(0)<0&&U.iadd(m),U},a.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var b=this.clone(),E=m.clone();b.negative=0,E.negative=0;for(var k=0;b.isEven()&&E.isEven();k++)b.iushrn(1),E.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;E.isEven();)E.iushrn(1);var w=b.cmp(E);if(w<0){var c=b;b=E,E=c}else if(w===0||E.cmpn(1)===0)break;b.isub(E)}while(!0);return E.iushln(k)},a.prototype.invm=function(m){return this.egcd(m).a.umod(m)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(m){return this.words[0]&m},a.prototype.bincn=function(m){r(typeof m=="number");var b=m%26,E=(m-b)/26,k=1<<b;if(this.length<=E)return this._expand(E+1),this.words[E]|=k,this;for(var w=k,c=E;w!==0&&c<this.length;c++){var _=this.words[c]|0;_+=w,w=_>>>26,_&=67108863,this.words[c]=_}return w!==0&&(this.words[c]=w,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(m){var b=m<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this._strip();var E;if(this.length>1)E=1;else{b&&(m=-m),r(m<=67108863,"Number is too big");var k=this.words[0]|0;E=k===m?0:k<m?-1:1}return this.negative!==0?-E|0:E},a.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var b=this.ucmp(m);return this.negative!==0?-b|0:b},a.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var b=0,E=this.length-1;E>=0;E--){var k=this.words[E]|0,w=m.words[E]|0;if(k!==w){k<w?b=-1:k>w&&(b=1);break}}return b},a.prototype.gtn=function(m){return this.cmpn(m)===1},a.prototype.gt=function(m){return this.cmp(m)===1},a.prototype.gten=function(m){return this.cmpn(m)>=0},a.prototype.gte=function(m){return this.cmp(m)>=0},a.prototype.ltn=function(m){return this.cmpn(m)===-1},a.prototype.lt=function(m){return this.cmp(m)===-1},a.prototype.lten=function(m){return this.cmpn(m)<=0},a.prototype.lte=function(m){return this.cmp(m)<=0},a.prototype.eqn=function(m){return this.cmpn(m)===0},a.prototype.eq=function(m){return this.cmp(m)===0},a.red=function(m){return new f(m)},a.prototype.toRed=function(m){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(m){return this.red=m,this},a.prototype.forceRed=function(m){return r(!this.red,"Already a number in reduction context"),this._forceRed(m)},a.prototype.redAdd=function(m){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},a.prototype.redIAdd=function(m){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},a.prototype.redSub=function(m){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},a.prototype.redISub=function(m){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},a.prototype.redShl=function(m){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},a.prototype.redMul=function(m){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},a.prototype.redIMul=function(m){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(m){return r(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var z={k256:null,p224:null,p192:null,p25519:null};function $(g,m){this.name=g,this.p=new a(m,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var m=new a(null);return m.words=new Array(Math.ceil(this.n/13)),m},$.prototype.ireduce=function(m){var b=m,E;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),E=b.bitLength();while(E>this.n);var k=E<this.n?-1:b.ucmp(this.p);return k===0?(b.words[0]=0,b.length=1):k>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},$.prototype.split=function(m,b){m.iushrn(this.n,0,b)},$.prototype.imulK=function(m){return m.imul(this.k)};function G(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(G,$),G.prototype.split=function(m,b){for(var E=4194303,k=Math.min(m.length,9),w=0;w<k;w++)b.words[w]=m.words[w];if(b.length=k,m.length<=9){m.words[0]=0,m.length=1;return}var c=m.words[9];for(b.words[b.length++]=c&E,w=10;w<m.length;w++){var _=m.words[w]|0;m.words[w-10]=(_&E)<<4|c>>>22,c=_}c>>>=22,m.words[w-10]=c,c===0&&m.length>10?m.length-=10:m.length-=9},G.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var b=0,E=0;E<m.length;E++){var k=m.words[E]|0;b+=k*977,m.words[E]=b&67108863,b=k*64+(b/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function j(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(j,$);function Z(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Z,$);function M(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(M,$),M.prototype.imulK=function(m){for(var b=0,E=0;E<m.length;E++){var k=(m.words[E]|0)*19+b,w=k&67108863;k>>>=26,m.words[E]=w,b=k}return b!==0&&(m.words[m.length++]=b),m},a._prime=function(m){if(z[m])return z[m];var b;if(m==="k256")b=new G;else if(m==="p224")b=new j;else if(m==="p192")b=new Z;else if(m==="p25519")b=new M;else throw new Error("Unknown prime "+m);return z[m]=b,b};function f(g){if(typeof g=="string"){var m=a._prime(g);this.m=m.p,this.prime=m}else r(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}f.prototype._verify1=function(m){r(m.negative===0,"red works only with positives"),r(m.red,"red works only with red numbers")},f.prototype._verify2=function(m,b){r((m.negative|b.negative)===0,"red works only with positives"),r(m.red&&m.red===b.red,"red works only with red numbers")},f.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):(h(m,m.umod(this.m)._forceRed(this)),m)},f.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},f.prototype.add=function(m,b){this._verify2(m,b);var E=m.add(b);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},f.prototype.iadd=function(m,b){this._verify2(m,b);var E=m.iadd(b);return E.cmp(this.m)>=0&&E.isub(this.m),E},f.prototype.sub=function(m,b){this._verify2(m,b);var E=m.sub(b);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},f.prototype.isub=function(m,b){this._verify2(m,b);var E=m.isub(b);return E.cmpn(0)<0&&E.iadd(this.m),E},f.prototype.shl=function(m,b){return this._verify1(m),this.imod(m.ushln(b))},f.prototype.imul=function(m,b){return this._verify2(m,b),this.imod(m.imul(b))},f.prototype.mul=function(m,b){return this._verify2(m,b),this.imod(m.mul(b))},f.prototype.isqr=function(m){return this.imul(m,m.clone())},f.prototype.sqr=function(m){return this.mul(m,m)},f.prototype.sqrt=function(m){if(m.isZero())return m.clone();var b=this.m.andln(3);if(r(b%2===1),b===3){var E=this.m.add(new a(1)).iushrn(2);return this.pow(m,E)}for(var k=this.m.subn(1),w=0;!k.isZero()&&k.andln(1)===0;)w++,k.iushrn(1);r(!k.isZero());var c=new a(1).toRed(this),_=c.redNeg(),R=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new a(2*O*O).toRed(this);this.pow(O,R).cmp(_)!==0;)O.redIAdd(_);for(var F=this.pow(O,k),U=this.pow(m,k.addn(1).iushrn(1)),H=this.pow(m,k),J=w;H.cmp(c)!==0;){for(var fe=H,B=0;fe.cmp(c)!==0;B++)fe=fe.redSqr();r(B<J);var q=this.pow(F,new a(1).iushln(J-B-1));U=U.redMul(q),F=q.redSqr(),H=H.redMul(F),J=B}return U},f.prototype.invm=function(m){var b=m._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},f.prototype.pow=function(m,b){if(b.isZero())return new a(1).toRed(this);if(b.cmpn(1)===0)return m.clone();var E=4,k=new Array(1<<E);k[0]=new a(1).toRed(this),k[1]=m;for(var w=2;w<k.length;w++)k[w]=this.mul(k[w-1],m);var c=k[0],_=0,R=0,O=b.bitLength()%26;for(O===0&&(O=26),w=b.length-1;w>=0;w--){for(var F=b.words[w],U=O-1;U>=0;U--){var H=F>>U&1;if(c!==k[0]&&(c=this.sqr(c)),H===0&&_===0){R=0;continue}_<<=1,_|=H,R++,!(R!==E&&(w!==0||U!==0))&&(c=this.mul(c,k[_]),R=0,_=0)}O=26}return c},f.prototype.convertTo=function(m){var b=m.umod(this.m);return b===m?b.clone():b},f.prototype.convertFrom=function(m){var b=m.clone();return b.red=null,b},a.mont=function(m){return new d(m)};function d(g){f.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(d,f),d.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},d.prototype.convertFrom=function(m){var b=this.imod(m.mul(this.rinv));return b.red=null,b},d.prototype.imul=function(m,b){if(m.isZero()||b.isZero())return m.words[0]=0,m.length=1,m;var E=m.imul(b),k=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=E.isub(k).iushrn(this.shift),c=w;return w.cmp(this.m)>=0?c=w.isub(this.m):w.cmpn(0)<0&&(c=w.iadd(this.m)),c._forceRed(this)},d.prototype.mul=function(m,b){if(m.isZero()||b.isZero())return new a(0)._forceRed(this);var E=m.mul(b),k=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=E.isub(k).iushrn(this.shift),c=w;return w.cmp(this.m)>=0?c=w.isub(this.m):w.cmpn(0)<0&&(c=w.iadd(this.m)),c._forceRed(this)},d.prototype.invm=function(m){var b=this.imod(m._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(typeof QT=="undefined"||QT,OP)});var N_=ne((Net,FP)=>{var lp=T_(),Cye=Mc();function Fye(t){var e=RP(t),r=e.toRed(lp.mont(t.modulus)).redPow(new lp(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function RP(t){var e=t.modulus.byteLength(),r;do r=new lp(Cye(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function CP(t,e){var r=Fye(e),n=e.modulus.byteLength(),a=new lp(t).mul(r.blinder).umod(e.modulus),s=a.toRed(lp.mont(e.prime1)),o=a.toRed(lp.mont(e.prime2)),u=e.coefficient,l=e.prime1,h=e.prime2,p=s.redPow(e.exponent1).fromRed(),v=o.redPow(e.exponent2).fromRed(),y=p.isub(v).imul(u).umod(l).imul(h);return v.iadd(y).imul(r.unblinder).umod(e.modulus).toArrayLike(Buffer,"be",n)}CP.getr=RP;FP.exports=CP});var BP=ne((Iet,Bye)=>{Bye.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Eu=ne((LP,e6)=>{(function(t,e){"use strict";function r(M,f){if(!M)throw new Error(f||"Assertion failed")}function n(M,f){M.super_=f;var d=function(){};d.prototype=f.prototype,M.prototype=new d,M.prototype.constructor=M}function a(M,f,d){if(a.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(M||0,f||10,d||"be"))}typeof t=="object"?t.exports=a:e.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=yn().Buffer}catch(M){}a.isBN=function(f){return f instanceof a?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===a.wordSize&&Array.isArray(f.words)},a.max=function(f,d){return f.cmp(d)>0?f:d},a.min=function(f,d){return f.cmp(d)<0?f:d},a.prototype._init=function(f,d,g){if(typeof f=="number")return this._initNumber(f,d,g);if(typeof f=="object")return this._initArray(f,d,g);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var m=0;f[0]==="-"&&(m++,this.negative=1),m<f.length&&(d===16?this._parseHex(f,m,g):(this._parseBase(f,d,m),g==="le"&&this._initArray(this.toArray(),d,g)))},a.prototype._initNumber=function(f,d,g){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),d,g)},a.prototype._initArray=function(f,d,g){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var b,E,k=0;if(g==="be")for(m=f.length-1,b=0;m>=0;m-=3)E=f[m]|f[m-1]<<8|f[m-2]<<16,this.words[b]|=E<<k&67108863,this.words[b+1]=E>>>26-k&67108863,k+=24,k>=26&&(k-=26,b++);else if(g==="le")for(m=0,b=0;m<f.length;m+=3)E=f[m]|f[m+1]<<8|f[m+2]<<16,this.words[b]|=E<<k&67108863,this.words[b+1]=E>>>26-k&67108863,k+=24,k>=26&&(k-=26,b++);return this.strip()};function o(M,f){var d=M.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function u(M,f,d){var g=o(M,d);return d-1>=f&&(g|=o(M,d-1)<<4),g}a.prototype._parseHex=function(f,d,g){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var b=0,E=0,k;if(g==="be")for(m=f.length-1;m>=d;m-=2)k=u(f,d,m)<<b,this.words[E]|=k&67108863,b>=18?(b-=18,E+=1,this.words[E]|=k>>>26):b+=8;else{var w=f.length-d;for(m=w%2===0?d+1:d;m<f.length;m+=2)k=u(f,d,m)<<b,this.words[E]|=k&67108863,b>=18?(b-=18,E+=1,this.words[E]|=k>>>26):b+=8}this.strip()};function l(M,f,d,g){for(var m=0,b=Math.min(M.length,d),E=f;E<b;E++){var k=M.charCodeAt(E)-48;m*=g,k>=49?m+=k-49+10:k>=17?m+=k-17+10:m+=k}return m}a.prototype._parseBase=function(f,d,g){this.words=[0],this.length=1;for(var m=0,b=1;b<=67108863;b*=d)m++;m--,b=b/d|0;for(var E=f.length-g,k=E%m,w=Math.min(E,E-k)+g,c=0,_=g;_<w;_+=m)c=l(f,_,_+m,d),this.imuln(b),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(k!==0){var R=1;for(c=l(f,_,f.length,d),_=0;_<k;_++)R*=d;this.imuln(R),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},a.prototype.copy=function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},a.prototype.clone=function(){var f=new a(null);return this.copy(f),f},a.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(f,d){f=f||10,d=d|0||1;var g;if(f===16||f==="hex"){g="";for(var m=0,b=0,E=0;E<this.length;E++){var k=this.words[E],w=((k<<m|b)&16777215).toString(16);b=k>>>24-m&16777215,b!==0||E!==this.length-1?g=h[6-w.length]+w+g:g=w+g,m+=2,m>=26&&(m-=26,E--)}for(b!==0&&(g=b.toString(16)+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(f===(f|0)&&f>=2&&f<=36){var c=p[f],_=v[f];g="";var R=this.clone();for(R.negative=0;!R.isZero();){var O=R.modn(_).toString(f);R=R.idivn(_),R.isZero()?g=O+g:g=h[c-O.length]+O+g}for(this.isZero()&&(g="0"+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(f,d){return r(typeof s!="undefined"),this.toArrayLike(s,f,d)},a.prototype.toArray=function(f,d){return this.toArrayLike(Array,f,d)},a.prototype.toArrayLike=function(f,d,g){var m=this.byteLength(),b=g||Math.max(1,m);r(m<=b,"byte array longer than desired length"),r(b>0,"Requested array length <= 0"),this.strip();var E=d==="le",k=new f(b),w,c,_=this.clone();if(E){for(c=0;!_.isZero();c++)w=_.andln(255),_.iushrn(8),k[c]=w;for(;c<b;c++)k[c]=0}else{for(c=0;c<b-m;c++)k[c]=0;for(c=0;!_.isZero();c++)w=_.andln(255),_.iushrn(8),k[b-c-1]=w}return k},Math.clz32?a.prototype._countBits=function(f){return 32-Math.clz32(f)}:a.prototype._countBits=function(f){var d=f,g=0;return d>=4096&&(g+=13,d>>>=13),d>=64&&(g+=7,d>>>=7),d>=8&&(g+=4,d>>>=4),d>=2&&(g+=2,d>>>=2),g+d},a.prototype._zeroBits=function(f){if(f===0)return 26;var d=f,g=0;return(d&8191)===0&&(g+=13,d>>>=13),(d&127)===0&&(g+=7,d>>>=7),(d&15)===0&&(g+=4,d>>>=4),(d&3)===0&&(g+=2,d>>>=2),(d&1)===0&&g++,g},a.prototype.bitLength=function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d};function y(M){for(var f=new Array(M.bitLength()),d=0;d<f.length;d++){var g=d/26|0,m=d%26;f[d]=(M.words[g]&1<<m)>>>m}return f}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var g=this._zeroBits(this.words[d]);if(f+=g,g!==26)break}return f},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},a.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},a.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},a.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},a.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},a.prototype.iuand=function(f){var d;this.length>f.length?d=f:d=this;for(var g=0;g<d.length;g++)this.words[g]=this.words[g]&f.words[g];return this.length=d.length,this.strip()},a.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},a.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},a.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},a.prototype.iuxor=function(f){var d,g;this.length>f.length?(d=this,g=f):(d=f,g=this);for(var m=0;m<g.length;m++)this.words[m]=d.words[m]^g.words[m];if(this!==d)for(;m<d.length;m++)this.words[m]=d.words[m];return this.length=d.length,this.strip()},a.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},a.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},a.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},a.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,g=f%26;this._expand(d),g>0&&d--;for(var m=0;m<d;m++)this.words[m]=~this.words[m]&67108863;return g>0&&(this.words[m]=~this.words[m]&67108863>>26-g),this.strip()},a.prototype.notn=function(f){return this.clone().inotn(f)},a.prototype.setn=function(f,d){r(typeof f=="number"&&f>=0);var g=f/26|0,m=f%26;return this._expand(g+1),d?this.words[g]=this.words[g]|1<<m:this.words[g]=this.words[g]&~(1<<m),this.strip()},a.prototype.iadd=function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var g,m;this.length>f.length?(g=this,m=f):(g=f,m=this);for(var b=0,E=0;E<m.length;E++)d=(g.words[E]|0)+(m.words[E]|0)+b,this.words[E]=d&67108863,b=d>>>26;for(;b!==0&&E<g.length;E++)d=(g.words[E]|0)+b,this.words[E]=d&67108863,b=d>>>26;if(this.length=g.length,b!==0)this.words[this.length]=b,this.length++;else if(g!==this)for(;E<g.length;E++)this.words[E]=g.words[E];return this},a.prototype.add=function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},a.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var g=this.cmp(f);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,b;g>0?(m=this,b=f):(m=f,b=this);for(var E=0,k=0;k<b.length;k++)d=(m.words[k]|0)-(b.words[k]|0)+E,E=d>>26,this.words[k]=d&67108863;for(;E!==0&&k<m.length;k++)d=(m.words[k]|0)+E,E=d>>26,this.words[k]=d&67108863;if(E===0&&k<m.length&&m!==this)for(;k<m.length;k++)this.words[k]=m.words[k];return this.length=Math.max(this.length,k),m!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(f){return this.clone().isub(f)};function S(M,f,d){d.negative=f.negative^M.negative;var g=M.length+f.length|0;d.length=g,g=g-1|0;var m=M.words[0]|0,b=f.words[0]|0,E=m*b,k=E&67108863,w=E/67108864|0;d.words[0]=k;for(var c=1;c<g;c++){for(var _=w>>>26,R=w&67108863,O=Math.min(c,f.length-1),F=Math.max(0,c-M.length+1);F<=O;F++){var U=c-F|0;m=M.words[U]|0,b=f.words[F]|0,E=m*b+R,_+=E/67108864|0,R=E&67108863}d.words[c]=R|0,w=_|0}return w!==0?d.words[c]=w|0:d.length--,d.strip()}var A=function(f,d,g){var m=f.words,b=d.words,E=g.words,k=0,w,c,_,R=m[0]|0,O=R&8191,F=R>>>13,U=m[1]|0,H=U&8191,J=U>>>13,fe=m[2]|0,B=fe&8191,q=fe>>>13,Y=m[3]|0,X=Y&8191,Q=Y>>>13,be=m[4]|0,ue=be&8191,me=be>>>13,yt=m[5]|0,xe=yt&8191,le=yt>>>13,zt=m[6]|0,we=zt&8191,Te=zt>>>13,ot=m[7]|0,ee=ot&8191,ie=ot>>>13,rt=m[8]|0,ae=rt&8191,de=rt>>>13,Je=m[9]|0,he=Je&8191,Se=Je>>>13,Tt=b[0]|0,_e=Tt&8191,Ie=Tt>>>13,ar=b[1]|0,Ne=ar&8191,Re=ar>>>13,ri=b[2]|0,qe=ri&8191,Fe=ri>>>13,Un=b[3]|0,$e=Un&8191,Be=Un>>>13,Vn=b[4]|0,Le=Vn&8191,ze=Vn>>>13,ni=b[5]|0,Pe=ni&8191,Oe=ni>>>13,Wn=b[6]|0,je=Wn&8191,Ue=Wn>>>13,Er=b[7]|0,ke=Er&8191,Ve=Er>>>13,In=b[8]|0,De=In&8191,We=In>>>13,Fn=b[9]|0,Ge=Fn&8191,He=Fn>>>13;g.negative=f.negative^d.negative,g.length=19,w=Math.imul(O,_e),c=Math.imul(O,Ie),c=c+Math.imul(F,_e)|0,_=Math.imul(F,Ie);var sn=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(sn>>>26)|0,sn&=67108863,w=Math.imul(H,_e),c=Math.imul(H,Ie),c=c+Math.imul(J,_e)|0,_=Math.imul(J,Ie),w=w+Math.imul(O,Ne)|0,c=c+Math.imul(O,Re)|0,c=c+Math.imul(F,Ne)|0,_=_+Math.imul(F,Re)|0;var Ct=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,w=Math.imul(B,_e),c=Math.imul(B,Ie),c=c+Math.imul(q,_e)|0,_=Math.imul(q,Ie),w=w+Math.imul(H,Ne)|0,c=c+Math.imul(H,Re)|0,c=c+Math.imul(J,Ne)|0,_=_+Math.imul(J,Re)|0,w=w+Math.imul(O,qe)|0,c=c+Math.imul(O,Fe)|0,c=c+Math.imul(F,qe)|0,_=_+Math.imul(F,Fe)|0;var Ft=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,w=Math.imul(X,_e),c=Math.imul(X,Ie),c=c+Math.imul(Q,_e)|0,_=Math.imul(Q,Ie),w=w+Math.imul(B,Ne)|0,c=c+Math.imul(B,Re)|0,c=c+Math.imul(q,Ne)|0,_=_+Math.imul(q,Re)|0,w=w+Math.imul(H,qe)|0,c=c+Math.imul(H,Fe)|0,c=c+Math.imul(J,qe)|0,_=_+Math.imul(J,Fe)|0,w=w+Math.imul(O,$e)|0,c=c+Math.imul(O,Be)|0,c=c+Math.imul(F,$e)|0,_=_+Math.imul(F,Be)|0;var $r=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+($r>>>26)|0,$r&=67108863,w=Math.imul(ue,_e),c=Math.imul(ue,Ie),c=c+Math.imul(me,_e)|0,_=Math.imul(me,Ie),w=w+Math.imul(X,Ne)|0,c=c+Math.imul(X,Re)|0,c=c+Math.imul(Q,Ne)|0,_=_+Math.imul(Q,Re)|0,w=w+Math.imul(B,qe)|0,c=c+Math.imul(B,Fe)|0,c=c+Math.imul(q,qe)|0,_=_+Math.imul(q,Fe)|0,w=w+Math.imul(H,$e)|0,c=c+Math.imul(H,Be)|0,c=c+Math.imul(J,$e)|0,_=_+Math.imul(J,Be)|0,w=w+Math.imul(O,Le)|0,c=c+Math.imul(O,ze)|0,c=c+Math.imul(F,Le)|0,_=_+Math.imul(F,ze)|0;var zr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(zr>>>26)|0,zr&=67108863,w=Math.imul(xe,_e),c=Math.imul(xe,Ie),c=c+Math.imul(le,_e)|0,_=Math.imul(le,Ie),w=w+Math.imul(ue,Ne)|0,c=c+Math.imul(ue,Re)|0,c=c+Math.imul(me,Ne)|0,_=_+Math.imul(me,Re)|0,w=w+Math.imul(X,qe)|0,c=c+Math.imul(X,Fe)|0,c=c+Math.imul(Q,qe)|0,_=_+Math.imul(Q,Fe)|0,w=w+Math.imul(B,$e)|0,c=c+Math.imul(B,Be)|0,c=c+Math.imul(q,$e)|0,_=_+Math.imul(q,Be)|0,w=w+Math.imul(H,Le)|0,c=c+Math.imul(H,ze)|0,c=c+Math.imul(J,Le)|0,_=_+Math.imul(J,ze)|0,w=w+Math.imul(O,Pe)|0,c=c+Math.imul(O,Oe)|0,c=c+Math.imul(F,Pe)|0,_=_+Math.imul(F,Oe)|0;var jr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(jr>>>26)|0,jr&=67108863,w=Math.imul(we,_e),c=Math.imul(we,Ie),c=c+Math.imul(Te,_e)|0,_=Math.imul(Te,Ie),w=w+Math.imul(xe,Ne)|0,c=c+Math.imul(xe,Re)|0,c=c+Math.imul(le,Ne)|0,_=_+Math.imul(le,Re)|0,w=w+Math.imul(ue,qe)|0,c=c+Math.imul(ue,Fe)|0,c=c+Math.imul(me,qe)|0,_=_+Math.imul(me,Fe)|0,w=w+Math.imul(X,$e)|0,c=c+Math.imul(X,Be)|0,c=c+Math.imul(Q,$e)|0,_=_+Math.imul(Q,Be)|0,w=w+Math.imul(B,Le)|0,c=c+Math.imul(B,ze)|0,c=c+Math.imul(q,Le)|0,_=_+Math.imul(q,ze)|0,w=w+Math.imul(H,Pe)|0,c=c+Math.imul(H,Oe)|0,c=c+Math.imul(J,Pe)|0,_=_+Math.imul(J,Oe)|0,w=w+Math.imul(O,je)|0,c=c+Math.imul(O,Ue)|0,c=c+Math.imul(F,je)|0,_=_+Math.imul(F,Ue)|0;var Ur=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,w=Math.imul(ee,_e),c=Math.imul(ee,Ie),c=c+Math.imul(ie,_e)|0,_=Math.imul(ie,Ie),w=w+Math.imul(we,Ne)|0,c=c+Math.imul(we,Re)|0,c=c+Math.imul(Te,Ne)|0,_=_+Math.imul(Te,Re)|0,w=w+Math.imul(xe,qe)|0,c=c+Math.imul(xe,Fe)|0,c=c+Math.imul(le,qe)|0,_=_+Math.imul(le,Fe)|0,w=w+Math.imul(ue,$e)|0,c=c+Math.imul(ue,Be)|0,c=c+Math.imul(me,$e)|0,_=_+Math.imul(me,Be)|0,w=w+Math.imul(X,Le)|0,c=c+Math.imul(X,ze)|0,c=c+Math.imul(Q,Le)|0,_=_+Math.imul(Q,ze)|0,w=w+Math.imul(B,Pe)|0,c=c+Math.imul(B,Oe)|0,c=c+Math.imul(q,Pe)|0,_=_+Math.imul(q,Oe)|0,w=w+Math.imul(H,je)|0,c=c+Math.imul(H,Ue)|0,c=c+Math.imul(J,je)|0,_=_+Math.imul(J,Ue)|0,w=w+Math.imul(O,ke)|0,c=c+Math.imul(O,Ve)|0,c=c+Math.imul(F,ke)|0,_=_+Math.imul(F,Ve)|0;var Vr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,w=Math.imul(ae,_e),c=Math.imul(ae,Ie),c=c+Math.imul(de,_e)|0,_=Math.imul(de,Ie),w=w+Math.imul(ee,Ne)|0,c=c+Math.imul(ee,Re)|0,c=c+Math.imul(ie,Ne)|0,_=_+Math.imul(ie,Re)|0,w=w+Math.imul(we,qe)|0,c=c+Math.imul(we,Fe)|0,c=c+Math.imul(Te,qe)|0,_=_+Math.imul(Te,Fe)|0,w=w+Math.imul(xe,$e)|0,c=c+Math.imul(xe,Be)|0,c=c+Math.imul(le,$e)|0,_=_+Math.imul(le,Be)|0,w=w+Math.imul(ue,Le)|0,c=c+Math.imul(ue,ze)|0,c=c+Math.imul(me,Le)|0,_=_+Math.imul(me,ze)|0,w=w+Math.imul(X,Pe)|0,c=c+Math.imul(X,Oe)|0,c=c+Math.imul(Q,Pe)|0,_=_+Math.imul(Q,Oe)|0,w=w+Math.imul(B,je)|0,c=c+Math.imul(B,Ue)|0,c=c+Math.imul(q,je)|0,_=_+Math.imul(q,Ue)|0,w=w+Math.imul(H,ke)|0,c=c+Math.imul(H,Ve)|0,c=c+Math.imul(J,ke)|0,_=_+Math.imul(J,Ve)|0,w=w+Math.imul(O,De)|0,c=c+Math.imul(O,We)|0,c=c+Math.imul(F,De)|0,_=_+Math.imul(F,We)|0;var Wr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,w=Math.imul(he,_e),c=Math.imul(he,Ie),c=c+Math.imul(Se,_e)|0,_=Math.imul(Se,Ie),w=w+Math.imul(ae,Ne)|0,c=c+Math.imul(ae,Re)|0,c=c+Math.imul(de,Ne)|0,_=_+Math.imul(de,Re)|0,w=w+Math.imul(ee,qe)|0,c=c+Math.imul(ee,Fe)|0,c=c+Math.imul(ie,qe)|0,_=_+Math.imul(ie,Fe)|0,w=w+Math.imul(we,$e)|0,c=c+Math.imul(we,Be)|0,c=c+Math.imul(Te,$e)|0,_=_+Math.imul(Te,Be)|0,w=w+Math.imul(xe,Le)|0,c=c+Math.imul(xe,ze)|0,c=c+Math.imul(le,Le)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(ue,Pe)|0,c=c+Math.imul(ue,Oe)|0,c=c+Math.imul(me,Pe)|0,_=_+Math.imul(me,Oe)|0,w=w+Math.imul(X,je)|0,c=c+Math.imul(X,Ue)|0,c=c+Math.imul(Q,je)|0,_=_+Math.imul(Q,Ue)|0,w=w+Math.imul(B,ke)|0,c=c+Math.imul(B,Ve)|0,c=c+Math.imul(q,ke)|0,_=_+Math.imul(q,Ve)|0,w=w+Math.imul(H,De)|0,c=c+Math.imul(H,We)|0,c=c+Math.imul(J,De)|0,_=_+Math.imul(J,We)|0,w=w+Math.imul(O,Ge)|0,c=c+Math.imul(O,He)|0,c=c+Math.imul(F,Ge)|0,_=_+Math.imul(F,He)|0;var Gr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,w=Math.imul(he,Ne),c=Math.imul(he,Re),c=c+Math.imul(Se,Ne)|0,_=Math.imul(Se,Re),w=w+Math.imul(ae,qe)|0,c=c+Math.imul(ae,Fe)|0,c=c+Math.imul(de,qe)|0,_=_+Math.imul(de,Fe)|0,w=w+Math.imul(ee,$e)|0,c=c+Math.imul(ee,Be)|0,c=c+Math.imul(ie,$e)|0,_=_+Math.imul(ie,Be)|0,w=w+Math.imul(we,Le)|0,c=c+Math.imul(we,ze)|0,c=c+Math.imul(Te,Le)|0,_=_+Math.imul(Te,ze)|0,w=w+Math.imul(xe,Pe)|0,c=c+Math.imul(xe,Oe)|0,c=c+Math.imul(le,Pe)|0,_=_+Math.imul(le,Oe)|0,w=w+Math.imul(ue,je)|0,c=c+Math.imul(ue,Ue)|0,c=c+Math.imul(me,je)|0,_=_+Math.imul(me,Ue)|0,w=w+Math.imul(X,ke)|0,c=c+Math.imul(X,Ve)|0,c=c+Math.imul(Q,ke)|0,_=_+Math.imul(Q,Ve)|0,w=w+Math.imul(B,De)|0,c=c+Math.imul(B,We)|0,c=c+Math.imul(q,De)|0,_=_+Math.imul(q,We)|0,w=w+Math.imul(H,Ge)|0,c=c+Math.imul(H,He)|0,c=c+Math.imul(J,Ge)|0,_=_+Math.imul(J,He)|0;var Hr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w=Math.imul(he,qe),c=Math.imul(he,Fe),c=c+Math.imul(Se,qe)|0,_=Math.imul(Se,Fe),w=w+Math.imul(ae,$e)|0,c=c+Math.imul(ae,Be)|0,c=c+Math.imul(de,$e)|0,_=_+Math.imul(de,Be)|0,w=w+Math.imul(ee,Le)|0,c=c+Math.imul(ee,ze)|0,c=c+Math.imul(ie,Le)|0,_=_+Math.imul(ie,ze)|0,w=w+Math.imul(we,Pe)|0,c=c+Math.imul(we,Oe)|0,c=c+Math.imul(Te,Pe)|0,_=_+Math.imul(Te,Oe)|0,w=w+Math.imul(xe,je)|0,c=c+Math.imul(xe,Ue)|0,c=c+Math.imul(le,je)|0,_=_+Math.imul(le,Ue)|0,w=w+Math.imul(ue,ke)|0,c=c+Math.imul(ue,Ve)|0,c=c+Math.imul(me,ke)|0,_=_+Math.imul(me,Ve)|0,w=w+Math.imul(X,De)|0,c=c+Math.imul(X,We)|0,c=c+Math.imul(Q,De)|0,_=_+Math.imul(Q,We)|0,w=w+Math.imul(B,Ge)|0,c=c+Math.imul(B,He)|0,c=c+Math.imul(q,Ge)|0,_=_+Math.imul(q,He)|0;var Kr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,w=Math.imul(he,$e),c=Math.imul(he,Be),c=c+Math.imul(Se,$e)|0,_=Math.imul(Se,Be),w=w+Math.imul(ae,Le)|0,c=c+Math.imul(ae,ze)|0,c=c+Math.imul(de,Le)|0,_=_+Math.imul(de,ze)|0,w=w+Math.imul(ee,Pe)|0,c=c+Math.imul(ee,Oe)|0,c=c+Math.imul(ie,Pe)|0,_=_+Math.imul(ie,Oe)|0,w=w+Math.imul(we,je)|0,c=c+Math.imul(we,Ue)|0,c=c+Math.imul(Te,je)|0,_=_+Math.imul(Te,Ue)|0,w=w+Math.imul(xe,ke)|0,c=c+Math.imul(xe,Ve)|0,c=c+Math.imul(le,ke)|0,_=_+Math.imul(le,Ve)|0,w=w+Math.imul(ue,De)|0,c=c+Math.imul(ue,We)|0,c=c+Math.imul(me,De)|0,_=_+Math.imul(me,We)|0,w=w+Math.imul(X,Ge)|0,c=c+Math.imul(X,He)|0,c=c+Math.imul(Q,Ge)|0,_=_+Math.imul(Q,He)|0;var Zr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,w=Math.imul(he,Le),c=Math.imul(he,ze),c=c+Math.imul(Se,Le)|0,_=Math.imul(Se,ze),w=w+Math.imul(ae,Pe)|0,c=c+Math.imul(ae,Oe)|0,c=c+Math.imul(de,Pe)|0,_=_+Math.imul(de,Oe)|0,w=w+Math.imul(ee,je)|0,c=c+Math.imul(ee,Ue)|0,c=c+Math.imul(ie,je)|0,_=_+Math.imul(ie,Ue)|0,w=w+Math.imul(we,ke)|0,c=c+Math.imul(we,Ve)|0,c=c+Math.imul(Te,ke)|0,_=_+Math.imul(Te,Ve)|0,w=w+Math.imul(xe,De)|0,c=c+Math.imul(xe,We)|0,c=c+Math.imul(le,De)|0,_=_+Math.imul(le,We)|0,w=w+Math.imul(ue,Ge)|0,c=c+Math.imul(ue,He)|0,c=c+Math.imul(me,Ge)|0,_=_+Math.imul(me,He)|0;var Jr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,w=Math.imul(he,Pe),c=Math.imul(he,Oe),c=c+Math.imul(Se,Pe)|0,_=Math.imul(Se,Oe),w=w+Math.imul(ae,je)|0,c=c+Math.imul(ae,Ue)|0,c=c+Math.imul(de,je)|0,_=_+Math.imul(de,Ue)|0,w=w+Math.imul(ee,ke)|0,c=c+Math.imul(ee,Ve)|0,c=c+Math.imul(ie,ke)|0,_=_+Math.imul(ie,Ve)|0,w=w+Math.imul(we,De)|0,c=c+Math.imul(we,We)|0,c=c+Math.imul(Te,De)|0,_=_+Math.imul(Te,We)|0,w=w+Math.imul(xe,Ge)|0,c=c+Math.imul(xe,He)|0,c=c+Math.imul(le,Ge)|0,_=_+Math.imul(le,He)|0;var Yr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,w=Math.imul(he,je),c=Math.imul(he,Ue),c=c+Math.imul(Se,je)|0,_=Math.imul(Se,Ue),w=w+Math.imul(ae,ke)|0,c=c+Math.imul(ae,Ve)|0,c=c+Math.imul(de,ke)|0,_=_+Math.imul(de,Ve)|0,w=w+Math.imul(ee,De)|0,c=c+Math.imul(ee,We)|0,c=c+Math.imul(ie,De)|0,_=_+Math.imul(ie,We)|0,w=w+Math.imul(we,Ge)|0,c=c+Math.imul(we,He)|0,c=c+Math.imul(Te,Ge)|0,_=_+Math.imul(Te,He)|0;var Xr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,w=Math.imul(he,ke),c=Math.imul(he,Ve),c=c+Math.imul(Se,ke)|0,_=Math.imul(Se,Ve),w=w+Math.imul(ae,De)|0,c=c+Math.imul(ae,We)|0,c=c+Math.imul(de,De)|0,_=_+Math.imul(de,We)|0,w=w+Math.imul(ee,Ge)|0,c=c+Math.imul(ee,He)|0,c=c+Math.imul(ie,Ge)|0,_=_+Math.imul(ie,He)|0;var Qr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,w=Math.imul(he,De),c=Math.imul(he,We),c=c+Math.imul(Se,De)|0,_=Math.imul(Se,We),w=w+Math.imul(ae,Ge)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul(de,Ge)|0,_=_+Math.imul(de,He)|0;var er=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(er>>>26)|0,er&=67108863,w=Math.imul(he,Ge),c=Math.imul(he,He),c=c+Math.imul(Se,Ge)|0,_=Math.imul(Se,He);var Ir=(k+w|0)+((c&8191)<<13)|0;return k=(_+(c>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,E[0]=sn,E[1]=Ct,E[2]=Ft,E[3]=$r,E[4]=zr,E[5]=jr,E[6]=Ur,E[7]=Vr,E[8]=Wr,E[9]=Gr,E[10]=Hr,E[11]=Kr,E[12]=Zr,E[13]=Jr,E[14]=Yr,E[15]=Xr,E[16]=Qr,E[17]=er,E[18]=Ir,k!==0&&(E[19]=k,g.length++),g};Math.imul||(A=S);function T(M,f,d){d.negative=f.negative^M.negative,d.length=M.length+f.length;for(var g=0,m=0,b=0;b<d.length-1;b++){var E=m;m=0;for(var k=g&67108863,w=Math.min(b,f.length-1),c=Math.max(0,b-M.length+1);c<=w;c++){var _=b-c,R=M.words[_]|0,O=f.words[c]|0,F=R*O,U=F&67108863;E=E+(F/67108864|0)|0,U=U+k|0,k=U&67108863,E=E+(U>>>26)|0,m+=E>>>26,E&=67108863}d.words[b]=k,g=E,E=m}return g!==0?d.words[b]=g:d.length--,d.strip()}function I(M,f,d){var g=new N;return g.mulp(M,f,d)}a.prototype.mulTo=function(f,d){var g,m=this.length+f.length;return this.length===10&&f.length===10?g=A(this,f,d):m<63?g=S(this,f,d):m<1024?g=T(this,f,d):g=I(this,f,d),g};function N(M,f){this.x=M,this.y=f}N.prototype.makeRBT=function(f){for(var d=new Array(f),g=a.prototype._countBits(f)-1,m=0;m<f;m++)d[m]=this.revBin(m,g,f);return d},N.prototype.revBin=function(f,d,g){if(f===0||f===g-1)return f;for(var m=0,b=0;b<d;b++)m|=(f&1)<<d-b-1,f>>=1;return m},N.prototype.permute=function(f,d,g,m,b,E){for(var k=0;k<E;k++)m[k]=d[f[k]],b[k]=g[f[k]]},N.prototype.transform=function(f,d,g,m,b,E){this.permute(E,f,d,g,m,b);for(var k=1;k<b;k<<=1)for(var w=k<<1,c=Math.cos(2*Math.PI/w),_=Math.sin(2*Math.PI/w),R=0;R<b;R+=w)for(var O=c,F=_,U=0;U<k;U++){var H=g[R+U],J=m[R+U],fe=g[R+U+k],B=m[R+U+k],q=O*fe-F*B;B=O*B+F*fe,fe=q,g[R+U]=H+fe,m[R+U]=J+B,g[R+U+k]=H-fe,m[R+U+k]=J-B,U!==w&&(q=c*O-_*F,F=c*F+_*O,O=q)}},N.prototype.guessLen13b=function(f,d){var g=Math.max(d,f)|1,m=g&1,b=0;for(g=g/2|0;g;g=g>>>1)b++;return 1<<b+1+m},N.prototype.conjugate=function(f,d,g){if(!(g<=1))for(var m=0;m<g/2;m++){var b=f[m];f[m]=f[g-m-1],f[g-m-1]=b,b=d[m],d[m]=-d[g-m-1],d[g-m-1]=-b}},N.prototype.normalize13b=function(f,d){for(var g=0,m=0;m<d/2;m++){var b=Math.round(f[2*m+1]/d)*8192+Math.round(f[2*m]/d)+g;f[m]=b&67108863,b<67108864?g=0:g=b/67108864|0}return f},N.prototype.convert13b=function(f,d,g,m){for(var b=0,E=0;E<d;E++)b=b+(f[E]|0),g[2*E]=b&8191,b=b>>>13,g[2*E+1]=b&8191,b=b>>>13;for(E=2*d;E<m;++E)g[E]=0;r(b===0),r((b&-8192)===0)},N.prototype.stub=function(f){for(var d=new Array(f),g=0;g<f;g++)d[g]=0;return d},N.prototype.mulp=function(f,d,g){var m=2*this.guessLen13b(f.length,d.length),b=this.makeRBT(m),E=this.stub(m),k=new Array(m),w=new Array(m),c=new Array(m),_=new Array(m),R=new Array(m),O=new Array(m),F=g.words;F.length=m,this.convert13b(f.words,f.length,k,m),this.convert13b(d.words,d.length,_,m),this.transform(k,E,w,c,m,b),this.transform(_,E,R,O,m,b);for(var U=0;U<m;U++){var H=w[U]*R[U]-c[U]*O[U];c[U]=w[U]*O[U]+c[U]*R[U],w[U]=H}return this.conjugate(w,c,m),this.transform(w,c,F,E,m,b),this.conjugate(F,E,m),this.normalize13b(F,m),g.negative=f.negative^d.negative,g.length=f.length+d.length,g.strip()},a.prototype.mul=function(f){var d=new a(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},a.prototype.mulf=function(f){var d=new a(null);return d.words=new Array(this.length+f.length),I(this,f,d)},a.prototype.imul=function(f){return this.clone().mulTo(f,this)},a.prototype.imuln=function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,g=0;g<this.length;g++){var m=(this.words[g]|0)*f,b=(m&67108863)+(d&67108863);d>>=26,d+=m/67108864|0,d+=b>>>26,this.words[g]=b&67108863}return d!==0&&(this.words[g]=d,this.length++),this},a.prototype.muln=function(f){return this.clone().imuln(f)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(f){var d=y(f);if(d.length===0)return new a(1);for(var g=this,m=0;m<d.length&&d[m]===0;m++,g=g.sqr());if(++m<d.length)for(var b=g.sqr();m<d.length;m++,b=b.sqr())d[m]!==0&&(g=g.mul(b));return g},a.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26,m=67108863>>>26-d<<26-d,b;if(d!==0){var E=0;for(b=0;b<this.length;b++){var k=this.words[b]&m,w=(this.words[b]|0)-k<<d;this.words[b]=w|E,E=k>>>26-d}E&&(this.words[b]=E,this.length++)}if(g!==0){for(b=this.length-1;b>=0;b--)this.words[b+g]=this.words[b];for(b=0;b<g;b++)this.words[b]=0;this.length+=g}return this.strip()},a.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},a.prototype.iushrn=function(f,d,g){r(typeof f=="number"&&f>=0);var m;d?m=(d-d%26)/26:m=0;var b=f%26,E=Math.min((f-b)/26,this.length),k=67108863^67108863>>>b<<b,w=g;if(m-=E,m=Math.max(0,m),w){for(var c=0;c<E;c++)w.words[c]=this.words[c];w.length=E}if(E!==0)if(this.length>E)for(this.length-=E,c=0;c<this.length;c++)this.words[c]=this.words[c+E];else this.words[0]=0,this.length=1;var _=0;for(c=this.length-1;c>=0&&(_!==0||c>=m);c--){var R=this.words[c]|0;this.words[c]=_<<26-b|R>>>b,_=R&k}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(f,d,g){return r(this.negative===0),this.iushrn(f,d,g)},a.prototype.shln=function(f){return this.clone().ishln(f)},a.prototype.ushln=function(f){return this.clone().iushln(f)},a.prototype.shrn=function(f){return this.clone().ishrn(f)},a.prototype.ushrn=function(f){return this.clone().iushrn(f)},a.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26,m=1<<d;if(this.length<=g)return!1;var b=this.words[g];return!!(b&m)},a.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(d!==0&&g++,this.length=Math.min(g,this.length),d!==0){var m=67108863^67108863>>>d<<d;this.words[this.length-1]&=m}return this.strip()},a.prototype.maskn=function(f){return this.clone().imaskn(f)},a.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},a.prototype._iaddn=function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},a.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},a.prototype.addn=function(f){return this.clone().iaddn(f)},a.prototype.subn=function(f){return this.clone().isubn(f)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(f,d,g){var m=f.length+g,b;this._expand(m);var E,k=0;for(b=0;b<f.length;b++){E=(this.words[b+g]|0)+k;var w=(f.words[b]|0)*d;E-=w&67108863,k=(E>>26)-(w/67108864|0),this.words[b+g]=E&67108863}for(;b<this.length-g;b++)E=(this.words[b+g]|0)+k,k=E>>26,this.words[b+g]=E&67108863;if(k===0)return this.strip();for(r(k===-1),k=0,b=0;b<this.length;b++)E=-(this.words[b]|0)+k,k=E>>26,this.words[b]=E&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(f,d){var g=this.length-f.length,m=this.clone(),b=f,E=b.words[b.length-1]|0,k=this._countBits(E);g=26-k,g!==0&&(b=b.ushln(g),m.iushln(g),E=b.words[b.length-1]|0);var w=m.length-b.length,c;if(d!=="mod"){c=new a(null),c.length=w+1,c.words=new Array(c.length);for(var _=0;_<c.length;_++)c.words[_]=0}var R=m.clone()._ishlnsubmul(b,1,w);R.negative===0&&(m=R,c&&(c.words[w]=1));for(var O=w-1;O>=0;O--){var F=(m.words[b.length+O]|0)*67108864+(m.words[b.length+O-1]|0);for(F=Math.min(F/E|0,67108863),m._ishlnsubmul(b,F,O);m.negative!==0;)F--,m.negative=0,m._ishlnsubmul(b,1,O),m.isZero()||(m.negative^=1);c&&(c.words[O]=F)}return c&&c.strip(),m.strip(),d!=="div"&&g!==0&&m.iushrn(g),{div:c||null,mod:m}},a.prototype.divmod=function(f,d,g){if(r(!f.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var m,b,E;return this.negative!==0&&f.negative===0?(E=this.neg().divmod(f,d),d!=="mod"&&(m=E.div.neg()),d!=="div"&&(b=E.mod.neg(),g&&b.negative!==0&&b.iadd(f)),{div:m,mod:b}):this.negative===0&&f.negative!==0?(E=this.divmod(f.neg(),d),d!=="mod"&&(m=E.div.neg()),{div:m,mod:E.mod}):(this.negative&f.negative)!==0?(E=this.neg().divmod(f.neg(),d),d!=="div"&&(b=E.mod.neg(),g&&b.negative!==0&&b.isub(f)),{div:E.div,mod:b}):f.length>this.length||this.cmp(f)<0?{div:new a(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new a(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new a(this.modn(f.words[0]))}:this._wordDiv(f,d)},a.prototype.div=function(f){return this.divmod(f,"div",!1).div},a.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},a.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},a.prototype.divRound=function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var g=d.div.negative!==0?d.mod.isub(f):d.mod,m=f.ushrn(1),b=f.andln(1),E=g.cmp(m);return E<0||b===1&&E===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},a.prototype.modn=function(f){r(f<=67108863);for(var d=(1<<26)%f,g=0,m=this.length-1;m>=0;m--)g=(d*g+(this.words[m]|0))%f;return g},a.prototype.idivn=function(f){r(f<=67108863);for(var d=0,g=this.length-1;g>=0;g--){var m=(this.words[g]|0)+d*67108864;this.words[g]=m/f|0,d=m%f}return this.strip()},a.prototype.divn=function(f){return this.clone().idivn(f)},a.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var d=this,g=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var m=new a(1),b=new a(0),E=new a(0),k=new a(1),w=0;d.isEven()&&g.isEven();)d.iushrn(1),g.iushrn(1),++w;for(var c=g.clone(),_=d.clone();!d.isZero();){for(var R=0,O=1;(d.words[0]&O)===0&&R<26;++R,O<<=1);if(R>0)for(d.iushrn(R);R-- >0;)(m.isOdd()||b.isOdd())&&(m.iadd(c),b.isub(_)),m.iushrn(1),b.iushrn(1);for(var F=0,U=1;(g.words[0]&U)===0&&F<26;++F,U<<=1);if(F>0)for(g.iushrn(F);F-- >0;)(E.isOdd()||k.isOdd())&&(E.iadd(c),k.isub(_)),E.iushrn(1),k.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(E),b.isub(k)):(g.isub(d),E.isub(m),k.isub(b))}return{a:E,b:k,gcd:g.iushln(w)}},a.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var d=this,g=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var m=new a(1),b=new a(0),E=g.clone();d.cmpn(1)>0&&g.cmpn(1)>0;){for(var k=0,w=1;(d.words[0]&w)===0&&k<26;++k,w<<=1);if(k>0)for(d.iushrn(k);k-- >0;)m.isOdd()&&m.iadd(E),m.iushrn(1);for(var c=0,_=1;(g.words[0]&_)===0&&c<26;++c,_<<=1);if(c>0)for(g.iushrn(c);c-- >0;)b.isOdd()&&b.iadd(E),b.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(b)):(g.isub(d),b.isub(m))}var R;return d.cmpn(1)===0?R=m:R=b,R.cmpn(0)<0&&R.iadd(f),R},a.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),g=f.clone();d.negative=0,g.negative=0;for(var m=0;d.isEven()&&g.isEven();m++)d.iushrn(1),g.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;g.isEven();)g.iushrn(1);var b=d.cmp(g);if(b<0){var E=d;d=g,g=E}else if(b===0||g.cmpn(1)===0)break;d.isub(g)}while(!0);return g.iushln(m)},a.prototype.invm=function(f){return this.egcd(f).a.umod(f)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(f){return this.words[0]&f},a.prototype.bincn=function(f){r(typeof f=="number");var d=f%26,g=(f-d)/26,m=1<<d;if(this.length<=g)return this._expand(g+1),this.words[g]|=m,this;for(var b=m,E=g;b!==0&&E<this.length;E++){var k=this.words[E]|0;k+=b,b=k>>>26,k&=67108863,this.words[E]=k}return b!==0&&(this.words[E]=b,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var g;if(this.length>1)g=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var m=this.words[0]|0;g=m===f?0:m<f?-1:1}return this.negative!==0?-g|0:g},a.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},a.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,g=this.length-1;g>=0;g--){var m=this.words[g]|0,b=f.words[g]|0;if(m!==b){m<b?d=-1:m>b&&(d=1);break}}return d},a.prototype.gtn=function(f){return this.cmpn(f)===1},a.prototype.gt=function(f){return this.cmp(f)===1},a.prototype.gten=function(f){return this.cmpn(f)>=0},a.prototype.gte=function(f){return this.cmp(f)>=0},a.prototype.ltn=function(f){return this.cmpn(f)===-1},a.prototype.lt=function(f){return this.cmp(f)===-1},a.prototype.lten=function(f){return this.cmpn(f)<=0},a.prototype.lte=function(f){return this.cmp(f)<=0},a.prototype.eqn=function(f){return this.cmpn(f)===0},a.prototype.eq=function(f){return this.cmp(f)===0},a.red=function(f){return new j(f)},a.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(f){return this.red=f,this},a.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},a.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},a.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},a.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},a.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},a.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},a.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},a.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var D={k256:null,p224:null,p192:null,p25519:null};function C(M,f){this.name=M,this.p=new a(f,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var f=new a(null);return f.words=new Array(Math.ceil(this.n/13)),f},C.prototype.ireduce=function(f){var d=f,g;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),g=d.bitLength();while(g>this.n);var m=g<this.n?-1:d.ucmp(this.p);return m===0?(d.words[0]=0,d.length=1):m>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},C.prototype.split=function(f,d){f.iushrn(this.n,0,d)},C.prototype.imulK=function(f){return f.imul(this.k)};function L(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(L,C),L.prototype.split=function(f,d){for(var g=4194303,m=Math.min(f.length,9),b=0;b<m;b++)d.words[b]=f.words[b];if(d.length=m,f.length<=9){f.words[0]=0,f.length=1;return}var E=f.words[9];for(d.words[d.length++]=E&g,b=10;b<f.length;b++){var k=f.words[b]|0;f.words[b-10]=(k&g)<<4|E>>>22,E=k}E>>>=22,f.words[b-10]=E,E===0&&f.length>10?f.length-=10:f.length-=9},L.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,g=0;g<f.length;g++){var m=f.words[g]|0;d+=m*977,f.words[g]=d&67108863,d=m*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function z(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(z,C);function $(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n($,C);function G(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(G,C),G.prototype.imulK=function(f){for(var d=0,g=0;g<f.length;g++){var m=(f.words[g]|0)*19+d,b=m&67108863;m>>>=26,f.words[g]=b,d=m}return d!==0&&(f.words[f.length++]=d),f},a._prime=function(f){if(D[f])return D[f];var d;if(f==="k256")d=new L;else if(f==="p224")d=new z;else if(f==="p192")d=new $;else if(f==="p25519")d=new G;else throw new Error("Unknown prime "+f);return D[f]=d,d};function j(M){if(typeof M=="string"){var f=a._prime(M);this.m=f.p,this.prime=f}else r(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}j.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},j.prototype._verify2=function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},j.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},j.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},j.prototype.add=function(f,d){this._verify2(f,d);var g=f.add(d);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},j.prototype.iadd=function(f,d){this._verify2(f,d);var g=f.iadd(d);return g.cmp(this.m)>=0&&g.isub(this.m),g},j.prototype.sub=function(f,d){this._verify2(f,d);var g=f.sub(d);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},j.prototype.isub=function(f,d){this._verify2(f,d);var g=f.isub(d);return g.cmpn(0)<0&&g.iadd(this.m),g},j.prototype.shl=function(f,d){return this._verify1(f),this.imod(f.ushln(d))},j.prototype.imul=function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},j.prototype.mul=function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},j.prototype.isqr=function(f){return this.imul(f,f.clone())},j.prototype.sqr=function(f){return this.mul(f,f)},j.prototype.sqrt=function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var g=this.m.add(new a(1)).iushrn(2);return this.pow(f,g)}for(var m=this.m.subn(1),b=0;!m.isZero()&&m.andln(1)===0;)b++,m.iushrn(1);r(!m.isZero());var E=new a(1).toRed(this),k=E.redNeg(),w=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new a(2*c*c).toRed(this);this.pow(c,w).cmp(k)!==0;)c.redIAdd(k);for(var _=this.pow(c,m),R=this.pow(f,m.addn(1).iushrn(1)),O=this.pow(f,m),F=b;O.cmp(E)!==0;){for(var U=O,H=0;U.cmp(E)!==0;H++)U=U.redSqr();r(H<F);var J=this.pow(_,new a(1).iushln(F-H-1));R=R.redMul(J),_=J.redSqr(),O=O.redMul(_),F=H}return R},j.prototype.invm=function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},j.prototype.pow=function(f,d){if(d.isZero())return new a(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var g=4,m=new Array(1<<g);m[0]=new a(1).toRed(this),m[1]=f;for(var b=2;b<m.length;b++)m[b]=this.mul(m[b-1],f);var E=m[0],k=0,w=0,c=d.bitLength()%26;for(c===0&&(c=26),b=d.length-1;b>=0;b--){for(var _=d.words[b],R=c-1;R>=0;R--){var O=_>>R&1;if(E!==m[0]&&(E=this.sqr(E)),O===0&&k===0){w=0;continue}k<<=1,k|=O,w++,!(w!==g&&(b!==0||R!==0))&&(E=this.mul(E,m[k]),w=0,k=0)}c=26}return E},j.prototype.convertTo=function(f){var d=f.umod(this.m);return d===f?d.clone():d},j.prototype.convertFrom=function(f){var d=f.clone();return d.red=null,d},a.mont=function(f){return new Z(f)};function Z(M){j.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Z,j),Z.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Z.prototype.convertFrom=function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},Z.prototype.imul=function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var g=f.imul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=g.isub(m).iushrn(this.shift),E=b;return b.cmp(this.m)>=0?E=b.isub(this.m):b.cmpn(0)<0&&(E=b.iadd(this.m)),E._forceRed(this)},Z.prototype.mul=function(f,d){if(f.isZero()||d.isZero())return new a(0)._forceRed(this);var g=f.mul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=g.isub(m).iushrn(this.shift),E=b;return b.cmp(this.m)>=0?E=b.isub(this.m):b.cmpn(0)<0&&(E=b.iadd(this.m)),E._forceRed(this)},Z.prototype.invm=function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof e6=="undefined"||e6,LP)});var t6=ne($P=>{"use strict";var I_=$P;function Lye(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var a=t.charCodeAt(n),s=a>>8,o=a&255;s?r.push(s,o):r.push(o)}return r}I_.toArray=Lye;function PP(t){return t.length===1?"0"+t:t}I_.zero2=PP;function qP(t){for(var e="",r=0;r<t.length;r++)e+=PP(t[r].toString(16));return e}I_.toHex=qP;I_.encode=function(e,r){return r==="hex"?qP(e):e}});var as=ne(zP=>{"use strict";var Ro=zP,Pye=Eu(),qye=is(),D_=t6();Ro.assert=qye;Ro.toArray=D_.toArray;Ro.zero2=D_.zero2;Ro.toHex=D_.toHex;Ro.encode=D_.encode;function $ye(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var a=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var u,l=s.andln(a-1);s.isOdd()?(l>(a>>1)-1?u=(a>>1)-l:u=l,s.isubn(u)):u=0,n[o]=u,s.iushrn(1)}return n}Ro.getNAF=$ye;function zye(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,a=0,s;t.cmpn(-n)>0||e.cmpn(-a)>0;){var o=t.andln(3)+n&3,u=e.andln(3)+a&3;o===3&&(o=-1),u===3&&(u=-1);var l;(o&1)===0?l=0:(s=t.andln(7)+n&7,(s===3||s===5)&&u===2?l=-o:l=o),r[0].push(l);var h;(u&1)===0?h=0:(s=e.andln(7)+a&7,(s===3||s===5)&&o===2?h=-u:h=u),r[1].push(h),2*n===l+1&&(n=1-n),2*a===h+1&&(a=1-a),t.iushrn(1),e.iushrn(1)}return r}Ro.getJSF=zye;function jye(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}Ro.cachedProperty=jye;function Uye(t){return typeof t=="string"?Ro.toArray(t,"hex"):t}Ro.parseBytes=Uye;function Vye(t){return new Pye(t,"hex","le")}Ro.intFromLE=Vye});var Eg=ne((Ret,jP)=>{"use strict";var eh=Eu(),Sg=as(),O_=Sg.getNAF,Wye=Sg.getJSF,R_=Sg.assert;function El(t,e){this.type=t,this.p=new eh(e.p,16),this.red=e.prime?eh.red(e.prime):eh.mont(this.p),this.zero=new eh(0).toRed(this.red),this.one=new eh(1).toRed(this.red),this.two=new eh(2).toRed(this.red),this.n=e.n&&new eh(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}jP.exports=El;El.prototype.point=function(){throw new Error("Not implemented")};El.prototype.validate=function(){throw new Error("Not implemented")};El.prototype._fixedNafMul=function(e,r){R_(e.precomputed);var n=e._getDoubles(),a=O_(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],u,l;for(u=0;u<a.length;u+=n.step){l=0;for(var h=u+n.step-1;h>=u;h--)l=(l<<1)+a[h];o.push(l)}for(var p=this.jpoint(null,null,null),v=this.jpoint(null,null,null),y=s;y>0;y--){for(u=0;u<o.length;u++)l=o[u],l===y?v=v.mixedAdd(n.points[u]):l===-y&&(v=v.mixedAdd(n.points[u].neg()));p=p.add(v)}return p.toP()};El.prototype._wnafMul=function(e,r){var n=4,a=e._getNAFPoints(n);n=a.wnd;for(var s=a.points,o=O_(r,n,this._bitLength),u=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var h=0;l>=0&&o[l]===0;l--)h++;if(l>=0&&h++,u=u.dblp(h),l<0)break;var p=o[l];R_(p!==0),e.type==="affine"?p>0?u=u.mixedAdd(s[p-1>>1]):u=u.mixedAdd(s[-p-1>>1].neg()):p>0?u=u.add(s[p-1>>1]):u=u.add(s[-p-1>>1].neg())}return e.type==="affine"?u.toP():u};El.prototype._wnafMulAdd=function(e,r,n,a,s){var o=this._wnafT1,u=this._wnafT2,l=this._wnafT3,h=0,p,v,y;for(p=0;p<a;p++){y=r[p];var S=y._getNAFPoints(e);o[p]=S.wnd,u[p]=S.points}for(p=a-1;p>=1;p-=2){var A=p-1,T=p;if(o[A]!==1||o[T]!==1){l[A]=O_(n[A],o[A],this._bitLength),l[T]=O_(n[T],o[T],this._bitLength),h=Math.max(l[A].length,h),h=Math.max(l[T].length,h);continue}var I=[r[A],null,null,r[T]];r[A].y.cmp(r[T].y)===0?(I[1]=r[A].add(r[T]),I[2]=r[A].toJ().mixedAdd(r[T].neg())):r[A].y.cmp(r[T].y.redNeg())===0?(I[1]=r[A].toJ().mixedAdd(r[T]),I[2]=r[A].add(r[T].neg())):(I[1]=r[A].toJ().mixedAdd(r[T]),I[2]=r[A].toJ().mixedAdd(r[T].neg()));var N=[-3,-1,-5,-7,0,7,5,1,3],D=Wye(n[A],n[T]);for(h=Math.max(D[0].length,h),l[A]=new Array(h),l[T]=new Array(h),v=0;v<h;v++){var C=D[0][v]|0,L=D[1][v]|0;l[A][v]=N[(C+1)*3+(L+1)],l[T][v]=0,u[A]=I}}var z=this.jpoint(null,null,null),$=this._wnafT4;for(p=h;p>=0;p--){for(var G=0;p>=0;){var j=!0;for(v=0;v<a;v++)$[v]=l[v][p]|0,$[v]!==0&&(j=!1);if(!j)break;G++,p--}if(p>=0&&G++,z=z.dblp(G),p<0)break;for(v=0;v<a;v++){var Z=$[v];Z!==0&&(Z>0?y=u[v][Z-1>>1]:Z<0&&(y=u[v][-Z-1>>1].neg()),y.type==="affine"?z=z.mixedAdd(y):z=z.add(y))}}for(p=0;p<a;p++)u[p]=null;return s?z:z.toP()};function Bs(t,e){this.curve=t,this.type=e,this.precomputed=null}El.BasePoint=Bs;Bs.prototype.eq=function(){throw new Error("Not implemented")};Bs.prototype.validate=function(){return this.curve.validate(this)};El.prototype.decodePoint=function(e,r){e=Sg.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?R_(e[e.length-1]%2===0):e[0]===7&&R_(e[e.length-1]%2===1);var a=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return a}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Bs.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Bs.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Bs.prototype.encode=function(e,r){return Sg.encode(this._encode(r),e)};Bs.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Bs.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Bs.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],a=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)a=a.dbl();n.push(a)}return{step:e,points:n}};Bs.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,a=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(a);return{wnd:e,points:r}};Bs.prototype._getBeta=function(){return null};Bs.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var VP=ne((Cet,UP)=>{"use strict";var Gye=as(),ui=Eu(),r6=At(),cp=Eg(),Hye=Gye.assert;function Ls(t){cp.call(this,"short",t),this.a=new ui(t.a,16).toRed(this.red),this.b=new ui(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}r6(Ls,cp);UP.exports=Ls;Ls.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new ui(e.beta,16).toRed(this.red);else{var a=this._getEndoRoots(this.p);r=a[0].cmp(a[1])<0?a[0]:a[1],r=r.toRed(this.red)}if(e.lambda)n=new ui(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],Hye(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(u){return{a:new ui(u.a,16),b:new ui(u.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Ls.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:ui.mont(e),n=new ui(2).toRed(r).redInvm(),a=n.redNeg(),s=new ui(3).toRed(r).redNeg().redSqrt().redMul(n),o=a.redAdd(s).fromRed(),u=a.redSub(s).fromRed();return[o,u]};Ls.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,a=this.n.clone(),s=new ui(1),o=new ui(0),u=new ui(0),l=new ui(1),h,p,v,y,S,A,T,I=0,N,D;n.cmpn(0)!==0;){var C=a.div(n);N=a.sub(C.mul(n)),D=u.sub(C.mul(s));var L=l.sub(C.mul(o));if(!v&&N.cmp(r)<0)h=T.neg(),p=s,v=N.neg(),y=D;else if(v&&++I===2)break;T=N,a=n,n=N,u=s,s=D,l=o,o=L}S=N.neg(),A=D;var z=v.sqr().add(y.sqr()),$=S.sqr().add(A.sqr());return $.cmp(z)>=0&&(S=h,A=p),v.negative&&(v=v.neg(),y=y.neg()),S.negative&&(S=S.neg(),A=A.neg()),[{a:v,b:y},{a:S,b:A}]};Ls.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],a=r[1],s=a.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),u=s.mul(n.a),l=o.mul(a.a),h=s.mul(n.b),p=o.mul(a.b),v=e.sub(u).sub(l),y=h.add(p).neg();return{k1:v,k2:y}};Ls.prototype.pointFromX=function(e,r){e=new ui(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),a=n.redSqrt();if(a.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=a.fromRed().isOdd();return(r&&!s||!r&&s)&&(a=a.redNeg()),this.point(e,a)};Ls.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,a=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(a).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Ls.prototype._endoWnafMulAdd=function(e,r,n){for(var a=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var u=this._endoSplit(r[o]),l=e[o],h=l._getBeta();u.k1.negative&&(u.k1.ineg(),l=l.neg(!0)),u.k2.negative&&(u.k2.ineg(),h=h.neg(!0)),a[o*2]=l,a[o*2+1]=h,s[o*2]=u.k1,s[o*2+1]=u.k2}for(var p=this._wnafMulAdd(1,a,s,o*2,n),v=0;v<o*2;v++)a[v]=null,s[v]=null;return p};function Fi(t,e,r,n){cp.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ui(e,16),this.y=new ui(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}r6(Fi,cp.BasePoint);Ls.prototype.point=function(e,r,n){return new Fi(this,e,r,n)};Ls.prototype.pointFromJSON=function(e,r){return Fi.fromJSON(this,e,r)};Fi.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,a=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(a)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(a)}}}return r}};Fi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Fi.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var a=e.point(r[0],r[1],n);if(!r[2])return a;function s(u){return e.point(u[0],u[1],n)}var o=r[2];return a.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[a].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[a].concat(o.naf.points.map(s))}},a};Fi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Fi.prototype.isInfinity=function(){return this.inf};Fi.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),a=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,a)};Fi.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),a=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(a),o=s.redSqr().redISub(this.x.redAdd(this.x)),u=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,u)};Fi.prototype.getX=function(){return this.x.fromRed()};Fi.prototype.getY=function(){return this.y.fromRed()};Fi.prototype.mul=function(e){return e=new ui(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Fi.prototype.mulAdd=function(e,r,n){var a=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,s):this.curve._wnafMulAdd(1,a,s,2)};Fi.prototype.jmulAdd=function(e,r,n){var a=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,s,!0):this.curve._wnafMulAdd(1,a,s,2,!0)};Fi.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Fi.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,a=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(a)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(a)}}}return r};Fi.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Xi(t,e,r,n){cp.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ui(0)):(this.x=new ui(e,16),this.y=new ui(r,16),this.z=new ui(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}r6(Xi,cp.BasePoint);Ls.prototype.jpoint=function(e,r,n){return new Xi(this,e,r,n)};Xi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),a=this.y.redMul(r).redMul(e);return this.curve.point(n,a)};Xi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Xi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),a=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),u=e.y.redMul(n.redMul(this.z)),l=a.redSub(s),h=o.redSub(u);if(l.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=l.redSqr(),v=p.redMul(l),y=a.redMul(p),S=h.redSqr().redIAdd(v).redISub(y).redISub(y),A=h.redMul(y.redISub(S)).redISub(o.redMul(v)),T=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(S,A,T)};Xi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,a=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),u=n.redSub(a),l=s.redSub(o);if(u.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=u.redSqr(),p=h.redMul(u),v=n.redMul(h),y=l.redSqr().redIAdd(p).redISub(v).redISub(v),S=l.redMul(v.redISub(y)).redISub(s.redMul(p)),A=this.z.redMul(u);return this.curve.jpoint(y,S,A)};Xi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var a=this.curve.a,s=this.curve.tinv,o=this.x,u=this.y,l=this.z,h=l.redSqr().redSqr(),p=u.redAdd(u);for(r=0;r<e;r++){var v=o.redSqr(),y=p.redSqr(),S=y.redSqr(),A=v.redAdd(v).redIAdd(v).redIAdd(a.redMul(h)),T=o.redMul(y),I=A.redSqr().redISub(T.redAdd(T)),N=T.redISub(I),D=A.redMul(N);D=D.redIAdd(D).redISub(S);var C=p.redMul(l);r+1<e&&(h=h.redMul(S)),o=I,l=C,p=D}return this.curve.jpoint(o,p.redMul(s),l)};Xi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Xi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var a=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),u=this.x.redAdd(s).redSqr().redISub(a).redISub(o);u=u.redIAdd(u);var l=a.redAdd(a).redIAdd(a),h=l.redSqr().redISub(u).redISub(u),p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),e=h,r=l.redMul(u.redISub(h)).redISub(p),n=this.y.redAdd(this.y)}else{var v=this.x.redSqr(),y=this.y.redSqr(),S=y.redSqr(),A=this.x.redAdd(y).redSqr().redISub(v).redISub(S);A=A.redIAdd(A);var T=v.redAdd(v).redIAdd(v),I=T.redSqr(),N=S.redIAdd(S);N=N.redIAdd(N),N=N.redIAdd(N),e=I.redISub(A).redISub(A),r=T.redMul(A.redISub(e)).redISub(N),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Xi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var a=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),u=this.x.redAdd(s).redSqr().redISub(a).redISub(o);u=u.redIAdd(u);var l=a.redAdd(a).redIAdd(a).redIAdd(this.curve.a),h=l.redSqr().redISub(u).redISub(u);e=h;var p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),r=l.redMul(u.redISub(h)).redISub(p),n=this.y.redAdd(this.y)}else{var v=this.z.redSqr(),y=this.y.redSqr(),S=this.x.redMul(y),A=this.x.redSub(v).redMul(this.x.redAdd(v));A=A.redAdd(A).redIAdd(A);var T=S.redIAdd(S);T=T.redIAdd(T);var I=T.redAdd(T);e=A.redSqr().redISub(I),n=this.y.redAdd(this.z).redSqr().redISub(y).redISub(v);var N=y.redSqr();N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N),r=A.redMul(T.redISub(e)).redISub(N)}return this.curve.jpoint(e,r,n)};Xi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,a=this.z,s=a.redSqr().redSqr(),o=r.redSqr(),u=n.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),h=r.redAdd(r);h=h.redIAdd(h);var p=h.redMul(u),v=l.redSqr().redISub(p.redAdd(p)),y=p.redISub(v),S=u.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var A=l.redMul(y).redISub(S),T=n.redAdd(n).redMul(a);return this.curve.jpoint(v,A,T)};Xi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),a=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),u=this.x.redAdd(r).redSqr().redISub(e).redISub(a);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(o);var l=u.redSqr(),h=a.redIAdd(a);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var p=s.redIAdd(u).redSqr().redISub(o).redISub(l).redISub(h),v=r.redMul(p);v=v.redIAdd(v),v=v.redIAdd(v);var y=this.x.redMul(l).redISub(v);y=y.redIAdd(y),y=y.redIAdd(y);var S=this.y.redMul(p.redMul(h.redISub(p)).redISub(u.redMul(l)));S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var A=this.z.redAdd(u).redSqr().redISub(n).redISub(l);return this.curve.jpoint(y,S,A)};Xi.prototype.mul=function(e,r){return e=new ui(e,r),this.curve._wnafMul(this,e)};Xi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var a=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(a)).cmpn(0)===0};Xi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var a=e.clone(),s=this.curve.redN.redMul(r);;){if(a.iadd(this.curve.n),a.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Xi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Xi.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var HP=ne((Fet,GP)=>{"use strict";var hp=Eu(),WP=At(),C_=Eg(),Kye=as();function dp(t){C_.call(this,"mont",t),this.a=new hp(t.a,16).toRed(this.red),this.b=new hp(t.b,16).toRed(this.red),this.i4=new hp(4).toRed(this.red).redInvm(),this.two=new hp(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}WP(dp,C_);GP.exports=dp;dp.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),a=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=a.redSqrt();return s.redSqr().cmp(a)===0};function Bi(t,e,r){C_.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new hp(e,16),this.z=new hp(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}WP(Bi,C_.BasePoint);dp.prototype.decodePoint=function(e,r){return this.point(Kye.toArray(e,r),1)};dp.prototype.point=function(e,r){return new Bi(this,e,r)};dp.prototype.pointFromJSON=function(e){return Bi.fromJSON(this,e)};Bi.prototype.precompute=function(){};Bi.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Bi.fromJSON=function(e,r){return new Bi(e,r[0],r[1]||e.one)};Bi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Bi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Bi.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),a=n.redSqr(),s=r.redSub(a),o=r.redMul(a),u=s.redMul(a.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,u)};Bi.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Bi.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),a=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),u=o.redMul(n),l=s.redMul(a),h=r.z.redMul(u.redAdd(l).redSqr()),p=r.x.redMul(u.redISub(l).redSqr());return this.curve.point(h,p)};Bi.prototype.mul=function(e){for(var r=e.clone(),n=this,a=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var u=o.length-1;u>=0;u--)o[u]===0?(n=n.diffAdd(a,s),a=a.dbl()):(a=n.diffAdd(a,s),n=n.dbl());return a};Bi.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Bi.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Bi.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Bi.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Bi.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var JP=ne((Bet,ZP)=>{"use strict";var Zye=as(),lf=Eu(),KP=At(),F_=Eg(),Jye=Zye.assert;function Mu(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,F_.call(this,"edwards",t),this.a=new lf(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new lf(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new lf(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Jye(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}KP(Mu,F_);ZP.exports=Mu;Mu.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Mu.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Mu.prototype.jpoint=function(e,r,n,a){return this.point(e,r,n,a)};Mu.prototype.pointFromX=function(e,r){e=new lf(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),a=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=a.redMul(s.redInvm()),u=o.redSqrt();if(u.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var l=u.fromRed().isOdd();return(r&&!l||!r&&l)&&(u=u.redNeg()),this.point(e,u)};Mu.prototype.pointFromY=function(e,r){e=new lf(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),a=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=a.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var u=o.redSqrt();if(u.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return u.fromRed().isOdd()!==r&&(u=u.redNeg()),this.point(u,e)};Mu.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),a=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return a.cmp(s)===0};function bn(t,e,r,n,a){F_.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new lf(e,16),this.y=new lf(r,16),this.z=n?new lf(n,16):this.curve.one,this.t=a&&new lf(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}KP(bn,F_.BasePoint);Mu.prototype.pointFromJSON=function(e){return bn.fromJSON(this,e)};Mu.prototype.point=function(e,r,n,a){return new bn(this,e,r,n,a)};bn.fromJSON=function(e,r){return new bn(e,r[0],r[1],r[2])};bn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};bn.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};bn.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var a=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=a.redAdd(r),u=o.redSub(n),l=a.redSub(r),h=s.redMul(u),p=o.redMul(l),v=s.redMul(l),y=u.redMul(o);return this.curve.point(h,p,y,v)};bn.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),a,s,o,u,l,h;if(this.curve.twisted){u=this.curve._mulA(r);var p=u.redAdd(n);this.zOne?(a=e.redSub(r).redSub(n).redMul(p.redSub(this.curve.two)),s=p.redMul(u.redSub(n)),o=p.redSqr().redSub(p).redSub(p)):(l=this.z.redSqr(),h=p.redSub(l).redISub(l),a=e.redSub(r).redISub(n).redMul(h),s=p.redMul(u.redSub(n)),o=p.redMul(h))}else u=r.redAdd(n),l=this.curve._mulC(this.z).redSqr(),h=u.redSub(l).redSub(l),a=this.curve._mulC(e.redISub(u)).redMul(h),s=this.curve._mulC(u).redMul(r.redISub(n)),o=u.redMul(h);return this.curve.point(a,s,o)};bn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};bn.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),a=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),u=s.redSub(a),l=s.redAdd(a),h=n.redAdd(r),p=o.redMul(u),v=l.redMul(h),y=o.redMul(h),S=u.redMul(l);return this.curve.point(p,v,S,y)};bn.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),a=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(a).redMul(s),u=n.redSub(o),l=n.redAdd(o),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(s),p=r.redMul(u).redMul(h),v,y;return this.curve.twisted?(v=r.redMul(l).redMul(s.redSub(this.curve._mulA(a))),y=u.redMul(l)):(v=r.redMul(l).redMul(s.redSub(a)),y=this.curve._mulC(u).redMul(l)),this.curve.point(p,v,y)};bn.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};bn.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};bn.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};bn.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};bn.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};bn.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};bn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};bn.prototype.getY=function(){return this.normalize(),this.y.fromRed()};bn.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};bn.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),a=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),this.x.cmp(r)===0)return!0}};bn.prototype.toP=bn.prototype.normalize;bn.prototype.mixedAdd=bn.prototype.add});var n6=ne(YP=>{"use strict";var B_=YP;B_.base=Eg();B_.short=VP();B_.mont=HP();B_.edwards=JP()});var Co=ne(dn=>{"use strict";var Yye=is(),Xye=At();dn.inherits=Xye;function Qye(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function e1e(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),a=0;a<t.length;a+=2)r.push(parseInt(t[a]+t[a+1],16))}else for(var n=0,a=0;a<t.length;a++){var s=t.charCodeAt(a);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):Qye(t,a)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++a)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(a=0;a<t.length;a++)r[a]=t[a]|0;return r}dn.toArray=e1e;function t1e(t){for(var e="",r=0;r<t.length;r++)e+=QP(t[r].toString(16));return e}dn.toHex=t1e;function XP(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}dn.htonl=XP;function r1e(t,e){for(var r="",n=0;n<t.length;n++){var a=t[n];e==="little"&&(a=XP(a)),r+=eq(a.toString(16))}return r}dn.toHex32=r1e;function QP(t){return t.length===1?"0"+t:t}dn.zero2=QP;function eq(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}dn.zero8=eq;function n1e(t,e,r,n){var a=r-e;Yye(a%4===0);for(var s=new Array(a/4),o=0,u=e;o<s.length;o++,u+=4){var l;n==="big"?l=t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:l=t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],s[o]=l>>>0}return s}dn.join32=n1e;function i1e(t,e){for(var r=new Array(t.length*4),n=0,a=0;n<t.length;n++,a+=4){var s=t[n];e==="big"?(r[a]=s>>>24,r[a+1]=s>>>16&255,r[a+2]=s>>>8&255,r[a+3]=s&255):(r[a+3]=s>>>24,r[a+2]=s>>>16&255,r[a+1]=s>>>8&255,r[a]=s&255)}return r}dn.split32=i1e;function a1e(t,e){return t>>>e|t<<32-e}dn.rotr32=a1e;function s1e(t,e){return t<<e|t>>>32-e}dn.rotl32=s1e;function o1e(t,e){return t+e>>>0}dn.sum32=o1e;function u1e(t,e,r){return t+e+r>>>0}dn.sum32_3=u1e;function f1e(t,e,r,n){return t+e+r+n>>>0}dn.sum32_4=f1e;function l1e(t,e,r,n,a){return t+e+r+n+a>>>0}dn.sum32_5=l1e;function c1e(t,e,r,n){var a=t[e],s=t[e+1],o=n+s>>>0,u=(o<n?1:0)+r+a;t[e]=u>>>0,t[e+1]=o}dn.sum64=c1e;function h1e(t,e,r,n){var a=e+n>>>0,s=(a<e?1:0)+t+r;return s>>>0}dn.sum64_hi=h1e;function d1e(t,e,r,n){var a=e+n;return a>>>0}dn.sum64_lo=d1e;function p1e(t,e,r,n,a,s,o,u){var l=0,h=e;h=h+n>>>0,l+=h<e?1:0,h=h+s>>>0,l+=h<s?1:0,h=h+u>>>0,l+=h<u?1:0;var p=t+r+a+o+l;return p>>>0}dn.sum64_4_hi=p1e;function m1e(t,e,r,n,a,s,o,u){var l=e+n+s+u;return l>>>0}dn.sum64_4_lo=m1e;function v1e(t,e,r,n,a,s,o,u,l,h){var p=0,v=e;v=v+n>>>0,p+=v<e?1:0,v=v+s>>>0,p+=v<s?1:0,v=v+u>>>0,p+=v<u?1:0,v=v+h>>>0,p+=v<h?1:0;var y=t+r+a+o+l+p;return y>>>0}dn.sum64_5_hi=v1e;function g1e(t,e,r,n,a,s,o,u,l,h){var p=e+n+s+u+h;return p>>>0}dn.sum64_5_lo=g1e;function y1e(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}dn.rotr64_hi=y1e;function b1e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}dn.rotr64_lo=b1e;function w1e(t,e,r){return t>>>r}dn.shr64_hi=w1e;function _1e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}dn.shr64_lo=_1e});var pp=ne(rq=>{"use strict";var tq=Co(),x1e=is();function L_(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}rq.BlockHash=L_;L_.prototype.update=function(e,r){if(e=tq.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=tq.join32(e,0,e.length-n,this.endian);for(var a=0;a<e.length;a+=this._delta32)this._update(e,a,a+this._delta32)}return this};L_.prototype.digest=function(e){return this.update(this._pad()),x1e(this.pending===null),this._digest(e)};L_.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,a=new Array(n+this.padLength);a[0]=128;for(var s=1;s<n;s++)a[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)a[s++]=0;a[s++]=0,a[s++]=0,a[s++]=0,a[s++]=0,a[s++]=e>>>24&255,a[s++]=e>>>16&255,a[s++]=e>>>8&255,a[s++]=e&255}else for(a[s++]=e&255,a[s++]=e>>>8&255,a[s++]=e>>>16&255,a[s++]=e>>>24&255,a[s++]=0,a[s++]=0,a[s++]=0,a[s++]=0,o=8;o<this.padLength;o++)a[s++]=0;return a}});var i6=ne(cf=>{"use strict";var S1e=Co(),Au=S1e.rotr32;function E1e(t,e,r,n){if(t===0)return nq(e,r,n);if(t===1||t===3)return aq(e,r,n);if(t===2)return iq(e,r,n)}cf.ft_1=E1e;function nq(t,e,r){return t&e^~t&r}cf.ch32=nq;function iq(t,e,r){return t&e^t&r^e&r}cf.maj32=iq;function aq(t,e,r){return t^e^r}cf.p32=aq;function M1e(t){return Au(t,2)^Au(t,13)^Au(t,22)}cf.s0_256=M1e;function A1e(t){return Au(t,6)^Au(t,11)^Au(t,25)}cf.s1_256=A1e;function k1e(t){return Au(t,7)^Au(t,18)^t>>>3}cf.g0_256=k1e;function T1e(t){return Au(t,17)^Au(t,19)^t>>>10}cf.g1_256=T1e});var uq=ne((zet,oq)=>{"use strict";var mp=Co(),N1e=pp(),I1e=i6(),a6=mp.rotl32,Mg=mp.sum32,D1e=mp.sum32_5,O1e=I1e.ft_1,sq=N1e.BlockHash,R1e=[1518500249,1859775393,2400959708,3395469782];function ku(){if(!(this instanceof ku))return new ku;sq.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}mp.inherits(ku,sq);oq.exports=ku;ku.blockSize=512;ku.outSize=160;ku.hmacStrength=80;ku.padLength=64;ku.prototype._update=function(e,r){for(var n=this.W,a=0;a<16;a++)n[a]=e[r+a];for(;a<n.length;a++)n[a]=a6(n[a-3]^n[a-8]^n[a-14]^n[a-16],1);var s=this.h[0],o=this.h[1],u=this.h[2],l=this.h[3],h=this.h[4];for(a=0;a<n.length;a++){var p=~~(a/20),v=D1e(a6(s,5),O1e(p,o,u,l),h,n[a],R1e[p]);h=l,l=u,u=a6(o,30),o=s,s=v}this.h[0]=Mg(this.h[0],s),this.h[1]=Mg(this.h[1],o),this.h[2]=Mg(this.h[2],u),this.h[3]=Mg(this.h[3],l),this.h[4]=Mg(this.h[4],h)};ku.prototype._digest=function(e){return e==="hex"?mp.toHex32(this.h,"big"):mp.split32(this.h,"big")}});var s6=ne((jet,lq)=>{"use strict";var vp=Co(),C1e=pp(),gp=i6(),F1e=is(),Fo=vp.sum32,B1e=vp.sum32_4,L1e=vp.sum32_5,P1e=gp.ch32,q1e=gp.maj32,$1e=gp.s0_256,z1e=gp.s1_256,j1e=gp.g0_256,U1e=gp.g1_256,fq=C1e.BlockHash,V1e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tu(){if(!(this instanceof Tu))return new Tu;fq.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=V1e,this.W=new Array(64)}vp.inherits(Tu,fq);lq.exports=Tu;Tu.blockSize=512;Tu.outSize=256;Tu.hmacStrength=192;Tu.padLength=64;Tu.prototype._update=function(e,r){for(var n=this.W,a=0;a<16;a++)n[a]=e[r+a];for(;a<n.length;a++)n[a]=B1e(U1e(n[a-2]),n[a-7],j1e(n[a-15]),n[a-16]);var s=this.h[0],o=this.h[1],u=this.h[2],l=this.h[3],h=this.h[4],p=this.h[5],v=this.h[6],y=this.h[7];for(F1e(this.k.length===n.length),a=0;a<n.length;a++){var S=L1e(y,z1e(h),P1e(h,p,v),this.k[a],n[a]),A=Fo($1e(s),q1e(s,o,u));y=v,v=p,p=h,h=Fo(l,S),l=u,u=o,o=s,s=Fo(S,A)}this.h[0]=Fo(this.h[0],s),this.h[1]=Fo(this.h[1],o),this.h[2]=Fo(this.h[2],u),this.h[3]=Fo(this.h[3],l),this.h[4]=Fo(this.h[4],h),this.h[5]=Fo(this.h[5],p),this.h[6]=Fo(this.h[6],v),this.h[7]=Fo(this.h[7],y)};Tu.prototype._digest=function(e){return e==="hex"?vp.toHex32(this.h,"big"):vp.split32(this.h,"big")}});var dq=ne((Uet,hq)=>{"use strict";var o6=Co(),cq=s6();function hf(){if(!(this instanceof hf))return new hf;cq.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}o6.inherits(hf,cq);hq.exports=hf;hf.blockSize=512;hf.outSize=224;hf.hmacStrength=192;hf.padLength=64;hf.prototype._digest=function(e){return e==="hex"?o6.toHex32(this.h.slice(0,7),"big"):o6.split32(this.h.slice(0,7),"big")}});var l6=ne((Vet,gq)=>{"use strict";var za=Co(),W1e=pp(),G1e=is(),Nu=za.rotr64_hi,Iu=za.rotr64_lo,pq=za.shr64_hi,mq=za.shr64_lo,Ml=za.sum64,u6=za.sum64_hi,f6=za.sum64_lo,H1e=za.sum64_4_hi,K1e=za.sum64_4_lo,Z1e=za.sum64_5_hi,J1e=za.sum64_5_lo,vq=W1e.BlockHash,Y1e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Bo(){if(!(this instanceof Bo))return new Bo;vq.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Y1e,this.W=new Array(160)}za.inherits(Bo,vq);gq.exports=Bo;Bo.blockSize=1024;Bo.outSize=512;Bo.hmacStrength=192;Bo.padLength=128;Bo.prototype._prepareBlock=function(e,r){for(var n=this.W,a=0;a<32;a++)n[a]=e[r+a];for(;a<n.length;a+=2){var s=ube(n[a-4],n[a-3]),o=fbe(n[a-4],n[a-3]),u=n[a-14],l=n[a-13],h=sbe(n[a-30],n[a-29]),p=obe(n[a-30],n[a-29]),v=n[a-32],y=n[a-31];n[a]=H1e(s,o,u,l,h,p,v,y),n[a+1]=K1e(s,o,u,l,h,p,v,y)}};Bo.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,a=this.h[0],s=this.h[1],o=this.h[2],u=this.h[3],l=this.h[4],h=this.h[5],p=this.h[6],v=this.h[7],y=this.h[8],S=this.h[9],A=this.h[10],T=this.h[11],I=this.h[12],N=this.h[13],D=this.h[14],C=this.h[15];G1e(this.k.length===n.length);for(var L=0;L<n.length;L+=2){var z=D,$=C,G=ibe(y,S),j=abe(y,S),Z=X1e(y,S,A,T,I,N),M=Q1e(y,S,A,T,I,N),f=this.k[L],d=this.k[L+1],g=n[L],m=n[L+1],b=Z1e(z,$,G,j,Z,M,f,d,g,m),E=J1e(z,$,G,j,Z,M,f,d,g,m);z=rbe(a,s),$=nbe(a,s),G=ebe(a,s,o,u,l,h),j=tbe(a,s,o,u,l,h);var k=u6(z,$,G,j),w=f6(z,$,G,j);D=I,C=N,I=A,N=T,A=y,T=S,y=u6(p,v,b,E),S=f6(v,v,b,E),p=l,v=h,l=o,h=u,o=a,u=s,a=u6(b,E,k,w),s=f6(b,E,k,w)}Ml(this.h,0,a,s),Ml(this.h,2,o,u),Ml(this.h,4,l,h),Ml(this.h,6,p,v),Ml(this.h,8,y,S),Ml(this.h,10,A,T),Ml(this.h,12,I,N),Ml(this.h,14,D,C)};Bo.prototype._digest=function(e){return e==="hex"?za.toHex32(this.h,"big"):za.split32(this.h,"big")};function X1e(t,e,r,n,a){var s=t&r^~t&a;return s<0&&(s+=4294967296),s}function Q1e(t,e,r,n,a,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function ebe(t,e,r,n,a){var s=t&r^t&a^r&a;return s<0&&(s+=4294967296),s}function tbe(t,e,r,n,a,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function rbe(t,e){var r=Nu(t,e,28),n=Nu(e,t,2),a=Nu(e,t,7),s=r^n^a;return s<0&&(s+=4294967296),s}function nbe(t,e){var r=Iu(t,e,28),n=Iu(e,t,2),a=Iu(e,t,7),s=r^n^a;return s<0&&(s+=4294967296),s}function ibe(t,e){var r=Nu(t,e,14),n=Nu(t,e,18),a=Nu(e,t,9),s=r^n^a;return s<0&&(s+=4294967296),s}function abe(t,e){var r=Iu(t,e,14),n=Iu(t,e,18),a=Iu(e,t,9),s=r^n^a;return s<0&&(s+=4294967296),s}function sbe(t,e){var r=Nu(t,e,1),n=Nu(t,e,8),a=pq(t,e,7),s=r^n^a;return s<0&&(s+=4294967296),s}function obe(t,e){var r=Iu(t,e,1),n=Iu(t,e,8),a=mq(t,e,7),s=r^n^a;return s<0&&(s+=4294967296),s}function ube(t,e){var r=Nu(t,e,19),n=Nu(e,t,29),a=pq(t,e,6),s=r^n^a;return s<0&&(s+=4294967296),s}function fbe(t,e){var r=Iu(t,e,19),n=Iu(e,t,29),a=mq(t,e,6),s=r^n^a;return s<0&&(s+=4294967296),s}});var wq=ne((Wet,bq)=>{"use strict";var c6=Co(),yq=l6();function df(){if(!(this instanceof df))return new df;yq.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}c6.inherits(df,yq);bq.exports=df;df.blockSize=1024;df.outSize=384;df.hmacStrength=192;df.padLength=128;df.prototype._digest=function(e){return e==="hex"?c6.toHex32(this.h.slice(0,12),"big"):c6.split32(this.h.slice(0,12),"big")}});var _q=ne(yp=>{"use strict";yp.sha1=uq();yp.sha224=dq();yp.sha256=s6();yp.sha384=wq();yp.sha512=l6()});var kq=ne(Aq=>{"use strict";var th=Co(),lbe=pp(),P_=th.rotl32,xq=th.sum32,Ag=th.sum32_3,Sq=th.sum32_4,Mq=lbe.BlockHash;function Du(){if(!(this instanceof Du))return new Du;Mq.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}th.inherits(Du,Mq);Aq.ripemd160=Du;Du.blockSize=512;Du.outSize=160;Du.hmacStrength=192;Du.padLength=64;Du.prototype._update=function(e,r){for(var n=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],u=this.h[4],l=n,h=a,p=s,v=o,y=u,S=0;S<80;S++){var A=xq(P_(Sq(n,Eq(S,a,s,o),e[dbe[S]+r],cbe(S)),mbe[S]),u);n=u,u=o,o=P_(s,10),s=a,a=A,A=xq(P_(Sq(l,Eq(79-S,h,p,v),e[pbe[S]+r],hbe(S)),vbe[S]),y),l=y,y=v,v=P_(p,10),p=h,h=A}A=Ag(this.h[1],s,v),this.h[1]=Ag(this.h[2],o,y),this.h[2]=Ag(this.h[3],u,l),this.h[3]=Ag(this.h[4],n,h),this.h[4]=Ag(this.h[0],a,p),this.h[0]=A};Du.prototype._digest=function(e){return e==="hex"?th.toHex32(this.h,"little"):th.split32(this.h,"little")};function Eq(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function cbe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function hbe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var dbe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],pbe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],mbe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],vbe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var Nq=ne((Ket,Tq)=>{"use strict";var gbe=Co(),ybe=is();function bp(t,e,r){if(!(this instanceof bp))return new bp(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(gbe.toArray(e,r))}Tq.exports=bp;bp.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),ybe(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};bp.prototype.update=function(e,r){return this.inner.update(e,r),this};bp.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var q_=ne(Iq=>{var Qi=Iq;Qi.utils=Co();Qi.common=pp();Qi.sha=_q();Qi.ripemd=kq();Qi.hmac=Nq();Qi.sha1=Qi.sha.sha1;Qi.sha256=Qi.sha.sha256;Qi.sha224=Qi.sha.sha224;Qi.sha384=Qi.sha.sha384;Qi.sha512=Qi.sha.sha512;Qi.ripemd160=Qi.ripemd.ripemd160});var Oq=ne((Jet,Dq)=>{Dq.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var $_=ne(Fq=>{"use strict";var d6=Fq,Al=q_(),h6=n6(),bbe=as(),Rq=bbe.assert;function Cq(t){t.type==="short"?this.curve=new h6.short(t):t.type==="edwards"?this.curve=new h6.edwards(t):this.curve=new h6.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,Rq(this.g.validate(),"Invalid curve"),Rq(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}d6.PresetCurve=Cq;function kl(t,e){Object.defineProperty(d6,t,{configurable:!0,enumerable:!0,get:function(){var r=new Cq(e);return Object.defineProperty(d6,t,{configurable:!0,enumerable:!0,value:r}),r}})}kl("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Al.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});kl("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Al.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});kl("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Al.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});kl("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Al.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});kl("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Al.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});kl("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Al.sha256,gRed:!1,g:["9"]});kl("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Al.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var p6;try{p6=Oq()}catch(t){p6=void 0}kl("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Al.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",p6]})});var Pq=ne((Xet,Lq)=>{"use strict";var wbe=q_(),rh=t6(),Bq=is();function Tl(t){if(!(this instanceof Tl))return new Tl(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=rh.toArray(t.entropy,t.entropyEnc||"hex"),r=rh.toArray(t.nonce,t.nonceEnc||"hex"),n=rh.toArray(t.pers,t.persEnc||"hex");Bq(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}Lq.exports=Tl;Tl.prototype._init=function(e,r,n){var a=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(a),this._reseed=1,this.reseedInterval=281474976710656};Tl.prototype._hmac=function(){return new wbe.hmac(this.hash,this.K)};Tl.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Tl.prototype.reseed=function(e,r,n,a){typeof r!="string"&&(a=n,n=r,r=null),e=rh.toArray(e,r),n=rh.toArray(n,a),Bq(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Tl.prototype.generate=function(e,r,n,a){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(a=n,n=r,r=null),n&&(n=rh.toArray(n,a||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,rh.encode(o,r)}});var $q=ne((Qet,qq)=>{"use strict";var _be=Eu(),xbe=as(),m6=xbe.assert;function ca(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}qq.exports=ca;ca.fromPublic=function(e,r,n){return r instanceof ca?r:new ca(e,{pub:r,pubEnc:n})};ca.fromPrivate=function(e,r,n){return r instanceof ca?r:new ca(e,{priv:r,privEnc:n})};ca.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ca.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ca.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ca.prototype._importPrivate=function(e,r){this.priv=new _be(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ca.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?m6(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&m6(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ca.prototype.derive=function(e){return e.validate()||m6(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ca.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ca.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};ca.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var Uq=ne((ett,jq)=>{"use strict";var z_=Eu(),y6=as(),Sbe=y6.assert;function j_(t,e){if(t instanceof j_)return t;this._importDER(t,e)||(Sbe(t.r&&t.s,"Signature without r or s"),this.r=new z_(t.r,16),this.s=new z_(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}jq.exports=j_;function Ebe(){this.place=0}function v6(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var a=0,s=0,o=e.place;s<n;s++,o++)a<<=8,a|=t[o],a>>>=0;return a<=127?!1:(e.place=o,a)}function zq(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}j_.prototype._importDER=function(e,r){e=y6.toArray(e,r);var n=new Ebe;if(e[n.place++]!==48)return!1;var a=v6(e,n);if(a===!1||a+n.place!==e.length||e[n.place++]!==2)return!1;var s=v6(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var u=v6(e,n);if(u===!1||e.length!==u+n.place)return!1;var l=e.slice(n.place,u+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new z_(o),this.s=new z_(l),this.recoveryParam=null,!0};function g6(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}j_.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=zq(r),n=zq(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var a=[2];g6(a,r.length),a=a.concat(r),a.push(2),g6(a,n.length);var s=a.concat(n),o=[48];return g6(o,s.length),o=o.concat(s),y6.encode(o,e)}});var Hq=ne((ttt,Gq)=>{"use strict";var nh=Eu(),Vq=Pq(),Mbe=as(),b6=$_(),Abe=u_(),Wq=Mbe.assert,w6=$q(),U_=Uq();function Ps(t){if(!(this instanceof Ps))return new Ps(t);typeof t=="string"&&(Wq(Object.prototype.hasOwnProperty.call(b6,t),"Unknown curve "+t),t=b6[t]),t instanceof b6.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}Gq.exports=Ps;Ps.prototype.keyPair=function(e){return new w6(this,e)};Ps.prototype.keyFromPrivate=function(e,r){return w6.fromPrivate(this,e,r)};Ps.prototype.keyFromPublic=function(e,r){return w6.fromPublic(this,e,r)};Ps.prototype.genKeyPair=function(e){e||(e={});for(var r=new Vq({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Abe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),a=this.n.sub(new nh(2));;){var s=new nh(r.generate(n));if(!(s.cmp(a)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Ps.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Ps.prototype.sign=function(e,r,n,a){typeof n=="object"&&(a=n,n=null),a||(a={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new nh(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),u=e.toArray("be",s),l=new Vq({hash:this.hash,entropy:o,nonce:u,pers:a.pers,persEnc:a.persEnc||"utf8"}),h=this.n.sub(new nh(1)),p=0;;p++){var v=a.k?a.k(p):new nh(l.generate(this.n.byteLength()));if(v=this._truncateToN(v,!0),!(v.cmpn(1)<=0||v.cmp(h)>=0)){var y=this.g.mul(v);if(!y.isInfinity()){var S=y.getX(),A=S.umod(this.n);if(A.cmpn(0)!==0){var T=v.invm(this.n).mul(A.mul(r.getPrivate()).iadd(e));if(T=T.umod(this.n),T.cmpn(0)!==0){var I=(y.getY().isOdd()?1:0)|(S.cmp(A)!==0?2:0);return a.canonical&&T.cmp(this.nh)>0&&(T=this.n.sub(T),I^=1),new U_({r:A,s:T,recoveryParam:I})}}}}}};Ps.prototype.verify=function(e,r,n,a){e=this._truncateToN(new nh(e,16)),n=this.keyFromPublic(n,a),r=new U_(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var u=o.invm(this.n),l=u.mul(e).umod(this.n),h=u.mul(s).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(l,n.getPublic(),h),p.isInfinity()?!1:p.eqXToP(s)):(p=this.g.mulAdd(l,n.getPublic(),h),p.isInfinity()?!1:p.getX().umod(this.n).cmp(s)===0)};Ps.prototype.recoverPubKey=function(t,e,r,n){Wq((3&r)===r,"The recovery param is more than two bits"),e=new U_(e,n);var a=this.n,s=new nh(t),o=e.r,u=e.s,l=r&1,h=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");h?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var p=e.r.invm(a),v=a.sub(s).mul(p).umod(a),y=u.mul(p).umod(a);return this.g.mulAdd(v,o,y)};Ps.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new U_(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var a=0;a<4;a++){var s;try{s=this.recoverPubKey(t,e,a)}catch(o){continue}if(s.eq(r))return a}throw new Error("Unable to find valid recovery factor")}});var Yq=ne((rtt,Jq)=>{"use strict";var kg=as(),Zq=kg.assert,Kq=kg.parseBytes,wp=kg.cachedProperty;function Li(t,e){this.eddsa=t,this._secret=Kq(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Kq(e.pub)}Li.fromPublic=function(e,r){return r instanceof Li?r:new Li(e,{pub:r})};Li.fromSecret=function(e,r){return r instanceof Li?r:new Li(e,{secret:r})};Li.prototype.secret=function(){return this._secret};wp(Li,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});wp(Li,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});wp(Li,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,a=r.slice(0,e.encodingLength);return a[0]&=248,a[n]&=127,a[n]|=64,a});wp(Li,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});wp(Li,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});wp(Li,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Li.prototype.sign=function(e){return Zq(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Li.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Li.prototype.getSecret=function(e){return Zq(this._secret,"KeyPair is public only"),kg.encode(this.secret(),e)};Li.prototype.getPublic=function(e){return kg.encode(this.pubBytes(),e)};Jq.exports=Li});var Qq=ne((ntt,Xq)=>{"use strict";var kbe=Eu(),V_=as(),Tbe=V_.assert,W_=V_.cachedProperty,Nbe=V_.parseBytes;function ih(t,e){this.eddsa=t,typeof e!="object"&&(e=Nbe(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Tbe(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof kbe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}W_(ih,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});W_(ih,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});W_(ih,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});W_(ih,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});ih.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};ih.prototype.toHex=function(){return V_.encode(this.toBytes(),"hex").toUpperCase()};Xq.exports=ih});var i$=ne((itt,n$)=>{"use strict";var Ibe=q_(),Dbe=$_(),_p=as(),Obe=_p.assert,t$=_p.parseBytes,r$=Yq(),e$=Qq();function ja(t){if(Obe(t==="ed25519","only tested with ed25519 so far"),!(this instanceof ja))return new ja(t);t=Dbe[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Ibe.sha512}n$.exports=ja;ja.prototype.sign=function(e,r){e=t$(e);var n=this.keyFromSecret(r),a=this.hashInt(n.messagePrefix(),e),s=this.g.mul(a),o=this.encodePoint(s),u=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),l=a.add(u).umod(this.curve.n);return this.makeSignature({R:s,S:l,Rencoded:o})};ja.prototype.verify=function(e,r,n){e=t$(e),r=this.makeSignature(r);var a=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),a.pubBytes(),e),o=this.g.mul(r.S()),u=r.R().add(a.pub().mul(s));return u.eq(o)};ja.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return _p.intFromLE(e.digest()).umod(this.curve.n)};ja.prototype.keyFromPublic=function(e){return r$.fromPublic(this,e)};ja.prototype.keyFromSecret=function(e){return r$.fromSecret(this,e)};ja.prototype.makeSignature=function(e){return e instanceof e$?e:new e$(this,e)};ja.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};ja.prototype.decodePoint=function(e){e=_p.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),a=(e[r]&128)!==0,s=_p.intFromLE(n);return this.curve.pointFromY(s,a)};ja.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};ja.prototype.decodeInt=function(e){return _p.intFromLE(e)};ja.prototype.isPoint=function(e){return e instanceof this.pointClass}});var G_=ne(a$=>{"use strict";var ah=a$;ah.version=BP().version;ah.utils=as();ah.rand=u_();ah.curve=n6();ah.curves=$_();ah.ec=Hq();ah.eddsa=i$()});var x6=ne((s$,_6)=>{(function(t,e){"use strict";function r(M,f){if(!M)throw new Error(f||"Assertion failed")}function n(M,f){M.super_=f;var d=function(){};d.prototype=f.prototype,M.prototype=new d,M.prototype.constructor=M}function a(M,f,d){if(a.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(M||0,f||10,d||"be"))}typeof t=="object"?t.exports=a:e.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=yn().Buffer}catch(M){}a.isBN=function(f){return f instanceof a?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===a.wordSize&&Array.isArray(f.words)},a.max=function(f,d){return f.cmp(d)>0?f:d},a.min=function(f,d){return f.cmp(d)<0?f:d},a.prototype._init=function(f,d,g){if(typeof f=="number")return this._initNumber(f,d,g);if(typeof f=="object")return this._initArray(f,d,g);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var m=0;f[0]==="-"&&(m++,this.negative=1),m<f.length&&(d===16?this._parseHex(f,m,g):(this._parseBase(f,d,m),g==="le"&&this._initArray(this.toArray(),d,g)))},a.prototype._initNumber=function(f,d,g){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),d,g)},a.prototype._initArray=function(f,d,g){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var b,E,k=0;if(g==="be")for(m=f.length-1,b=0;m>=0;m-=3)E=f[m]|f[m-1]<<8|f[m-2]<<16,this.words[b]|=E<<k&67108863,this.words[b+1]=E>>>26-k&67108863,k+=24,k>=26&&(k-=26,b++);else if(g==="le")for(m=0,b=0;m<f.length;m+=3)E=f[m]|f[m+1]<<8|f[m+2]<<16,this.words[b]|=E<<k&67108863,this.words[b+1]=E>>>26-k&67108863,k+=24,k>=26&&(k-=26,b++);return this.strip()};function o(M,f){var d=M.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function u(M,f,d){var g=o(M,d);return d-1>=f&&(g|=o(M,d-1)<<4),g}a.prototype._parseHex=function(f,d,g){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var b=0,E=0,k;if(g==="be")for(m=f.length-1;m>=d;m-=2)k=u(f,d,m)<<b,this.words[E]|=k&67108863,b>=18?(b-=18,E+=1,this.words[E]|=k>>>26):b+=8;else{var w=f.length-d;for(m=w%2===0?d+1:d;m<f.length;m+=2)k=u(f,d,m)<<b,this.words[E]|=k&67108863,b>=18?(b-=18,E+=1,this.words[E]|=k>>>26):b+=8}this.strip()};function l(M,f,d,g){for(var m=0,b=Math.min(M.length,d),E=f;E<b;E++){var k=M.charCodeAt(E)-48;m*=g,k>=49?m+=k-49+10:k>=17?m+=k-17+10:m+=k}return m}a.prototype._parseBase=function(f,d,g){this.words=[0],this.length=1;for(var m=0,b=1;b<=67108863;b*=d)m++;m--,b=b/d|0;for(var E=f.length-g,k=E%m,w=Math.min(E,E-k)+g,c=0,_=g;_<w;_+=m)c=l(f,_,_+m,d),this.imuln(b),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(k!==0){var R=1;for(c=l(f,_,f.length,d),_=0;_<k;_++)R*=d;this.imuln(R),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},a.prototype.copy=function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},a.prototype.clone=function(){var f=new a(null);return this.copy(f),f},a.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(f,d){f=f||10,d=d|0||1;var g;if(f===16||f==="hex"){g="";for(var m=0,b=0,E=0;E<this.length;E++){var k=this.words[E],w=((k<<m|b)&16777215).toString(16);b=k>>>24-m&16777215,b!==0||E!==this.length-1?g=h[6-w.length]+w+g:g=w+g,m+=2,m>=26&&(m-=26,E--)}for(b!==0&&(g=b.toString(16)+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(f===(f|0)&&f>=2&&f<=36){var c=p[f],_=v[f];g="";var R=this.clone();for(R.negative=0;!R.isZero();){var O=R.modn(_).toString(f);R=R.idivn(_),R.isZero()?g=O+g:g=h[c-O.length]+O+g}for(this.isZero()&&(g="0"+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(f,d){return r(typeof s!="undefined"),this.toArrayLike(s,f,d)},a.prototype.toArray=function(f,d){return this.toArrayLike(Array,f,d)},a.prototype.toArrayLike=function(f,d,g){var m=this.byteLength(),b=g||Math.max(1,m);r(m<=b,"byte array longer than desired length"),r(b>0,"Requested array length <= 0"),this.strip();var E=d==="le",k=new f(b),w,c,_=this.clone();if(E){for(c=0;!_.isZero();c++)w=_.andln(255),_.iushrn(8),k[c]=w;for(;c<b;c++)k[c]=0}else{for(c=0;c<b-m;c++)k[c]=0;for(c=0;!_.isZero();c++)w=_.andln(255),_.iushrn(8),k[b-c-1]=w}return k},Math.clz32?a.prototype._countBits=function(f){return 32-Math.clz32(f)}:a.prototype._countBits=function(f){var d=f,g=0;return d>=4096&&(g+=13,d>>>=13),d>=64&&(g+=7,d>>>=7),d>=8&&(g+=4,d>>>=4),d>=2&&(g+=2,d>>>=2),g+d},a.prototype._zeroBits=function(f){if(f===0)return 26;var d=f,g=0;return(d&8191)===0&&(g+=13,d>>>=13),(d&127)===0&&(g+=7,d>>>=7),(d&15)===0&&(g+=4,d>>>=4),(d&3)===0&&(g+=2,d>>>=2),(d&1)===0&&g++,g},a.prototype.bitLength=function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d};function y(M){for(var f=new Array(M.bitLength()),d=0;d<f.length;d++){var g=d/26|0,m=d%26;f[d]=(M.words[g]&1<<m)>>>m}return f}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var g=this._zeroBits(this.words[d]);if(f+=g,g!==26)break}return f},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},a.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},a.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},a.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},a.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},a.prototype.iuand=function(f){var d;this.length>f.length?d=f:d=this;for(var g=0;g<d.length;g++)this.words[g]=this.words[g]&f.words[g];return this.length=d.length,this.strip()},a.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},a.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},a.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},a.prototype.iuxor=function(f){var d,g;this.length>f.length?(d=this,g=f):(d=f,g=this);for(var m=0;m<g.length;m++)this.words[m]=d.words[m]^g.words[m];if(this!==d)for(;m<d.length;m++)this.words[m]=d.words[m];return this.length=d.length,this.strip()},a.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},a.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},a.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},a.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,g=f%26;this._expand(d),g>0&&d--;for(var m=0;m<d;m++)this.words[m]=~this.words[m]&67108863;return g>0&&(this.words[m]=~this.words[m]&67108863>>26-g),this.strip()},a.prototype.notn=function(f){return this.clone().inotn(f)},a.prototype.setn=function(f,d){r(typeof f=="number"&&f>=0);var g=f/26|0,m=f%26;return this._expand(g+1),d?this.words[g]=this.words[g]|1<<m:this.words[g]=this.words[g]&~(1<<m),this.strip()},a.prototype.iadd=function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var g,m;this.length>f.length?(g=this,m=f):(g=f,m=this);for(var b=0,E=0;E<m.length;E++)d=(g.words[E]|0)+(m.words[E]|0)+b,this.words[E]=d&67108863,b=d>>>26;for(;b!==0&&E<g.length;E++)d=(g.words[E]|0)+b,this.words[E]=d&67108863,b=d>>>26;if(this.length=g.length,b!==0)this.words[this.length]=b,this.length++;else if(g!==this)for(;E<g.length;E++)this.words[E]=g.words[E];return this},a.prototype.add=function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},a.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var g=this.cmp(f);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,b;g>0?(m=this,b=f):(m=f,b=this);for(var E=0,k=0;k<b.length;k++)d=(m.words[k]|0)-(b.words[k]|0)+E,E=d>>26,this.words[k]=d&67108863;for(;E!==0&&k<m.length;k++)d=(m.words[k]|0)+E,E=d>>26,this.words[k]=d&67108863;if(E===0&&k<m.length&&m!==this)for(;k<m.length;k++)this.words[k]=m.words[k];return this.length=Math.max(this.length,k),m!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(f){return this.clone().isub(f)};function S(M,f,d){d.negative=f.negative^M.negative;var g=M.length+f.length|0;d.length=g,g=g-1|0;var m=M.words[0]|0,b=f.words[0]|0,E=m*b,k=E&67108863,w=E/67108864|0;d.words[0]=k;for(var c=1;c<g;c++){for(var _=w>>>26,R=w&67108863,O=Math.min(c,f.length-1),F=Math.max(0,c-M.length+1);F<=O;F++){var U=c-F|0;m=M.words[U]|0,b=f.words[F]|0,E=m*b+R,_+=E/67108864|0,R=E&67108863}d.words[c]=R|0,w=_|0}return w!==0?d.words[c]=w|0:d.length--,d.strip()}var A=function(f,d,g){var m=f.words,b=d.words,E=g.words,k=0,w,c,_,R=m[0]|0,O=R&8191,F=R>>>13,U=m[1]|0,H=U&8191,J=U>>>13,fe=m[2]|0,B=fe&8191,q=fe>>>13,Y=m[3]|0,X=Y&8191,Q=Y>>>13,be=m[4]|0,ue=be&8191,me=be>>>13,yt=m[5]|0,xe=yt&8191,le=yt>>>13,zt=m[6]|0,we=zt&8191,Te=zt>>>13,ot=m[7]|0,ee=ot&8191,ie=ot>>>13,rt=m[8]|0,ae=rt&8191,de=rt>>>13,Je=m[9]|0,he=Je&8191,Se=Je>>>13,Tt=b[0]|0,_e=Tt&8191,Ie=Tt>>>13,ar=b[1]|0,Ne=ar&8191,Re=ar>>>13,ri=b[2]|0,qe=ri&8191,Fe=ri>>>13,Un=b[3]|0,$e=Un&8191,Be=Un>>>13,Vn=b[4]|0,Le=Vn&8191,ze=Vn>>>13,ni=b[5]|0,Pe=ni&8191,Oe=ni>>>13,Wn=b[6]|0,je=Wn&8191,Ue=Wn>>>13,Er=b[7]|0,ke=Er&8191,Ve=Er>>>13,In=b[8]|0,De=In&8191,We=In>>>13,Fn=b[9]|0,Ge=Fn&8191,He=Fn>>>13;g.negative=f.negative^d.negative,g.length=19,w=Math.imul(O,_e),c=Math.imul(O,Ie),c=c+Math.imul(F,_e)|0,_=Math.imul(F,Ie);var sn=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(sn>>>26)|0,sn&=67108863,w=Math.imul(H,_e),c=Math.imul(H,Ie),c=c+Math.imul(J,_e)|0,_=Math.imul(J,Ie),w=w+Math.imul(O,Ne)|0,c=c+Math.imul(O,Re)|0,c=c+Math.imul(F,Ne)|0,_=_+Math.imul(F,Re)|0;var Ct=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,w=Math.imul(B,_e),c=Math.imul(B,Ie),c=c+Math.imul(q,_e)|0,_=Math.imul(q,Ie),w=w+Math.imul(H,Ne)|0,c=c+Math.imul(H,Re)|0,c=c+Math.imul(J,Ne)|0,_=_+Math.imul(J,Re)|0,w=w+Math.imul(O,qe)|0,c=c+Math.imul(O,Fe)|0,c=c+Math.imul(F,qe)|0,_=_+Math.imul(F,Fe)|0;var Ft=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,w=Math.imul(X,_e),c=Math.imul(X,Ie),c=c+Math.imul(Q,_e)|0,_=Math.imul(Q,Ie),w=w+Math.imul(B,Ne)|0,c=c+Math.imul(B,Re)|0,c=c+Math.imul(q,Ne)|0,_=_+Math.imul(q,Re)|0,w=w+Math.imul(H,qe)|0,c=c+Math.imul(H,Fe)|0,c=c+Math.imul(J,qe)|0,_=_+Math.imul(J,Fe)|0,w=w+Math.imul(O,$e)|0,c=c+Math.imul(O,Be)|0,c=c+Math.imul(F,$e)|0,_=_+Math.imul(F,Be)|0;var $r=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+($r>>>26)|0,$r&=67108863,w=Math.imul(ue,_e),c=Math.imul(ue,Ie),c=c+Math.imul(me,_e)|0,_=Math.imul(me,Ie),w=w+Math.imul(X,Ne)|0,c=c+Math.imul(X,Re)|0,c=c+Math.imul(Q,Ne)|0,_=_+Math.imul(Q,Re)|0,w=w+Math.imul(B,qe)|0,c=c+Math.imul(B,Fe)|0,c=c+Math.imul(q,qe)|0,_=_+Math.imul(q,Fe)|0,w=w+Math.imul(H,$e)|0,c=c+Math.imul(H,Be)|0,c=c+Math.imul(J,$e)|0,_=_+Math.imul(J,Be)|0,w=w+Math.imul(O,Le)|0,c=c+Math.imul(O,ze)|0,c=c+Math.imul(F,Le)|0,_=_+Math.imul(F,ze)|0;var zr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(zr>>>26)|0,zr&=67108863,w=Math.imul(xe,_e),c=Math.imul(xe,Ie),c=c+Math.imul(le,_e)|0,_=Math.imul(le,Ie),w=w+Math.imul(ue,Ne)|0,c=c+Math.imul(ue,Re)|0,c=c+Math.imul(me,Ne)|0,_=_+Math.imul(me,Re)|0,w=w+Math.imul(X,qe)|0,c=c+Math.imul(X,Fe)|0,c=c+Math.imul(Q,qe)|0,_=_+Math.imul(Q,Fe)|0,w=w+Math.imul(B,$e)|0,c=c+Math.imul(B,Be)|0,c=c+Math.imul(q,$e)|0,_=_+Math.imul(q,Be)|0,w=w+Math.imul(H,Le)|0,c=c+Math.imul(H,ze)|0,c=c+Math.imul(J,Le)|0,_=_+Math.imul(J,ze)|0,w=w+Math.imul(O,Pe)|0,c=c+Math.imul(O,Oe)|0,c=c+Math.imul(F,Pe)|0,_=_+Math.imul(F,Oe)|0;var jr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(jr>>>26)|0,jr&=67108863,w=Math.imul(we,_e),c=Math.imul(we,Ie),c=c+Math.imul(Te,_e)|0,_=Math.imul(Te,Ie),w=w+Math.imul(xe,Ne)|0,c=c+Math.imul(xe,Re)|0,c=c+Math.imul(le,Ne)|0,_=_+Math.imul(le,Re)|0,w=w+Math.imul(ue,qe)|0,c=c+Math.imul(ue,Fe)|0,c=c+Math.imul(me,qe)|0,_=_+Math.imul(me,Fe)|0,w=w+Math.imul(X,$e)|0,c=c+Math.imul(X,Be)|0,c=c+Math.imul(Q,$e)|0,_=_+Math.imul(Q,Be)|0,w=w+Math.imul(B,Le)|0,c=c+Math.imul(B,ze)|0,c=c+Math.imul(q,Le)|0,_=_+Math.imul(q,ze)|0,w=w+Math.imul(H,Pe)|0,c=c+Math.imul(H,Oe)|0,c=c+Math.imul(J,Pe)|0,_=_+Math.imul(J,Oe)|0,w=w+Math.imul(O,je)|0,c=c+Math.imul(O,Ue)|0,c=c+Math.imul(F,je)|0,_=_+Math.imul(F,Ue)|0;var Ur=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,w=Math.imul(ee,_e),c=Math.imul(ee,Ie),c=c+Math.imul(ie,_e)|0,_=Math.imul(ie,Ie),w=w+Math.imul(we,Ne)|0,c=c+Math.imul(we,Re)|0,c=c+Math.imul(Te,Ne)|0,_=_+Math.imul(Te,Re)|0,w=w+Math.imul(xe,qe)|0,c=c+Math.imul(xe,Fe)|0,c=c+Math.imul(le,qe)|0,_=_+Math.imul(le,Fe)|0,w=w+Math.imul(ue,$e)|0,c=c+Math.imul(ue,Be)|0,c=c+Math.imul(me,$e)|0,_=_+Math.imul(me,Be)|0,w=w+Math.imul(X,Le)|0,c=c+Math.imul(X,ze)|0,c=c+Math.imul(Q,Le)|0,_=_+Math.imul(Q,ze)|0,w=w+Math.imul(B,Pe)|0,c=c+Math.imul(B,Oe)|0,c=c+Math.imul(q,Pe)|0,_=_+Math.imul(q,Oe)|0,w=w+Math.imul(H,je)|0,c=c+Math.imul(H,Ue)|0,c=c+Math.imul(J,je)|0,_=_+Math.imul(J,Ue)|0,w=w+Math.imul(O,ke)|0,c=c+Math.imul(O,Ve)|0,c=c+Math.imul(F,ke)|0,_=_+Math.imul(F,Ve)|0;var Vr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,w=Math.imul(ae,_e),c=Math.imul(ae,Ie),c=c+Math.imul(de,_e)|0,_=Math.imul(de,Ie),w=w+Math.imul(ee,Ne)|0,c=c+Math.imul(ee,Re)|0,c=c+Math.imul(ie,Ne)|0,_=_+Math.imul(ie,Re)|0,w=w+Math.imul(we,qe)|0,c=c+Math.imul(we,Fe)|0,c=c+Math.imul(Te,qe)|0,_=_+Math.imul(Te,Fe)|0,w=w+Math.imul(xe,$e)|0,c=c+Math.imul(xe,Be)|0,c=c+Math.imul(le,$e)|0,_=_+Math.imul(le,Be)|0,w=w+Math.imul(ue,Le)|0,c=c+Math.imul(ue,ze)|0,c=c+Math.imul(me,Le)|0,_=_+Math.imul(me,ze)|0,w=w+Math.imul(X,Pe)|0,c=c+Math.imul(X,Oe)|0,c=c+Math.imul(Q,Pe)|0,_=_+Math.imul(Q,Oe)|0,w=w+Math.imul(B,je)|0,c=c+Math.imul(B,Ue)|0,c=c+Math.imul(q,je)|0,_=_+Math.imul(q,Ue)|0,w=w+Math.imul(H,ke)|0,c=c+Math.imul(H,Ve)|0,c=c+Math.imul(J,ke)|0,_=_+Math.imul(J,Ve)|0,w=w+Math.imul(O,De)|0,c=c+Math.imul(O,We)|0,c=c+Math.imul(F,De)|0,_=_+Math.imul(F,We)|0;var Wr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,w=Math.imul(he,_e),c=Math.imul(he,Ie),c=c+Math.imul(Se,_e)|0,_=Math.imul(Se,Ie),w=w+Math.imul(ae,Ne)|0,c=c+Math.imul(ae,Re)|0,c=c+Math.imul(de,Ne)|0,_=_+Math.imul(de,Re)|0,w=w+Math.imul(ee,qe)|0,c=c+Math.imul(ee,Fe)|0,c=c+Math.imul(ie,qe)|0,_=_+Math.imul(ie,Fe)|0,w=w+Math.imul(we,$e)|0,c=c+Math.imul(we,Be)|0,c=c+Math.imul(Te,$e)|0,_=_+Math.imul(Te,Be)|0,w=w+Math.imul(xe,Le)|0,c=c+Math.imul(xe,ze)|0,c=c+Math.imul(le,Le)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(ue,Pe)|0,c=c+Math.imul(ue,Oe)|0,c=c+Math.imul(me,Pe)|0,_=_+Math.imul(me,Oe)|0,w=w+Math.imul(X,je)|0,c=c+Math.imul(X,Ue)|0,c=c+Math.imul(Q,je)|0,_=_+Math.imul(Q,Ue)|0,w=w+Math.imul(B,ke)|0,c=c+Math.imul(B,Ve)|0,c=c+Math.imul(q,ke)|0,_=_+Math.imul(q,Ve)|0,w=w+Math.imul(H,De)|0,c=c+Math.imul(H,We)|0,c=c+Math.imul(J,De)|0,_=_+Math.imul(J,We)|0,w=w+Math.imul(O,Ge)|0,c=c+Math.imul(O,He)|0,c=c+Math.imul(F,Ge)|0,_=_+Math.imul(F,He)|0;var Gr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,w=Math.imul(he,Ne),c=Math.imul(he,Re),c=c+Math.imul(Se,Ne)|0,_=Math.imul(Se,Re),w=w+Math.imul(ae,qe)|0,c=c+Math.imul(ae,Fe)|0,c=c+Math.imul(de,qe)|0,_=_+Math.imul(de,Fe)|0,w=w+Math.imul(ee,$e)|0,c=c+Math.imul(ee,Be)|0,c=c+Math.imul(ie,$e)|0,_=_+Math.imul(ie,Be)|0,w=w+Math.imul(we,Le)|0,c=c+Math.imul(we,ze)|0,c=c+Math.imul(Te,Le)|0,_=_+Math.imul(Te,ze)|0,w=w+Math.imul(xe,Pe)|0,c=c+Math.imul(xe,Oe)|0,c=c+Math.imul(le,Pe)|0,_=_+Math.imul(le,Oe)|0,w=w+Math.imul(ue,je)|0,c=c+Math.imul(ue,Ue)|0,c=c+Math.imul(me,je)|0,_=_+Math.imul(me,Ue)|0,w=w+Math.imul(X,ke)|0,c=c+Math.imul(X,Ve)|0,c=c+Math.imul(Q,ke)|0,_=_+Math.imul(Q,Ve)|0,w=w+Math.imul(B,De)|0,c=c+Math.imul(B,We)|0,c=c+Math.imul(q,De)|0,_=_+Math.imul(q,We)|0,w=w+Math.imul(H,Ge)|0,c=c+Math.imul(H,He)|0,c=c+Math.imul(J,Ge)|0,_=_+Math.imul(J,He)|0;var Hr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w=Math.imul(he,qe),c=Math.imul(he,Fe),c=c+Math.imul(Se,qe)|0,_=Math.imul(Se,Fe),w=w+Math.imul(ae,$e)|0,c=c+Math.imul(ae,Be)|0,c=c+Math.imul(de,$e)|0,_=_+Math.imul(de,Be)|0,w=w+Math.imul(ee,Le)|0,c=c+Math.imul(ee,ze)|0,c=c+Math.imul(ie,Le)|0,_=_+Math.imul(ie,ze)|0,w=w+Math.imul(we,Pe)|0,c=c+Math.imul(we,Oe)|0,c=c+Math.imul(Te,Pe)|0,_=_+Math.imul(Te,Oe)|0,w=w+Math.imul(xe,je)|0,c=c+Math.imul(xe,Ue)|0,c=c+Math.imul(le,je)|0,_=_+Math.imul(le,Ue)|0,w=w+Math.imul(ue,ke)|0,c=c+Math.imul(ue,Ve)|0,c=c+Math.imul(me,ke)|0,_=_+Math.imul(me,Ve)|0,w=w+Math.imul(X,De)|0,c=c+Math.imul(X,We)|0,c=c+Math.imul(Q,De)|0,_=_+Math.imul(Q,We)|0,w=w+Math.imul(B,Ge)|0,c=c+Math.imul(B,He)|0,c=c+Math.imul(q,Ge)|0,_=_+Math.imul(q,He)|0;var Kr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,w=Math.imul(he,$e),c=Math.imul(he,Be),c=c+Math.imul(Se,$e)|0,_=Math.imul(Se,Be),w=w+Math.imul(ae,Le)|0,c=c+Math.imul(ae,ze)|0,c=c+Math.imul(de,Le)|0,_=_+Math.imul(de,ze)|0,w=w+Math.imul(ee,Pe)|0,c=c+Math.imul(ee,Oe)|0,c=c+Math.imul(ie,Pe)|0,_=_+Math.imul(ie,Oe)|0,w=w+Math.imul(we,je)|0,c=c+Math.imul(we,Ue)|0,c=c+Math.imul(Te,je)|0,_=_+Math.imul(Te,Ue)|0,w=w+Math.imul(xe,ke)|0,c=c+Math.imul(xe,Ve)|0,c=c+Math.imul(le,ke)|0,_=_+Math.imul(le,Ve)|0,w=w+Math.imul(ue,De)|0,c=c+Math.imul(ue,We)|0,c=c+Math.imul(me,De)|0,_=_+Math.imul(me,We)|0,w=w+Math.imul(X,Ge)|0,c=c+Math.imul(X,He)|0,c=c+Math.imul(Q,Ge)|0,_=_+Math.imul(Q,He)|0;var Zr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,w=Math.imul(he,Le),c=Math.imul(he,ze),c=c+Math.imul(Se,Le)|0,_=Math.imul(Se,ze),w=w+Math.imul(ae,Pe)|0,c=c+Math.imul(ae,Oe)|0,c=c+Math.imul(de,Pe)|0,_=_+Math.imul(de,Oe)|0,w=w+Math.imul(ee,je)|0,c=c+Math.imul(ee,Ue)|0,c=c+Math.imul(ie,je)|0,_=_+Math.imul(ie,Ue)|0,w=w+Math.imul(we,ke)|0,c=c+Math.imul(we,Ve)|0,c=c+Math.imul(Te,ke)|0,_=_+Math.imul(Te,Ve)|0,w=w+Math.imul(xe,De)|0,c=c+Math.imul(xe,We)|0,c=c+Math.imul(le,De)|0,_=_+Math.imul(le,We)|0,w=w+Math.imul(ue,Ge)|0,c=c+Math.imul(ue,He)|0,c=c+Math.imul(me,Ge)|0,_=_+Math.imul(me,He)|0;var Jr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,w=Math.imul(he,Pe),c=Math.imul(he,Oe),c=c+Math.imul(Se,Pe)|0,_=Math.imul(Se,Oe),w=w+Math.imul(ae,je)|0,c=c+Math.imul(ae,Ue)|0,c=c+Math.imul(de,je)|0,_=_+Math.imul(de,Ue)|0,w=w+Math.imul(ee,ke)|0,c=c+Math.imul(ee,Ve)|0,c=c+Math.imul(ie,ke)|0,_=_+Math.imul(ie,Ve)|0,w=w+Math.imul(we,De)|0,c=c+Math.imul(we,We)|0,c=c+Math.imul(Te,De)|0,_=_+Math.imul(Te,We)|0,w=w+Math.imul(xe,Ge)|0,c=c+Math.imul(xe,He)|0,c=c+Math.imul(le,Ge)|0,_=_+Math.imul(le,He)|0;var Yr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,w=Math.imul(he,je),c=Math.imul(he,Ue),c=c+Math.imul(Se,je)|0,_=Math.imul(Se,Ue),w=w+Math.imul(ae,ke)|0,c=c+Math.imul(ae,Ve)|0,c=c+Math.imul(de,ke)|0,_=_+Math.imul(de,Ve)|0,w=w+Math.imul(ee,De)|0,c=c+Math.imul(ee,We)|0,c=c+Math.imul(ie,De)|0,_=_+Math.imul(ie,We)|0,w=w+Math.imul(we,Ge)|0,c=c+Math.imul(we,He)|0,c=c+Math.imul(Te,Ge)|0,_=_+Math.imul(Te,He)|0;var Xr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,w=Math.imul(he,ke),c=Math.imul(he,Ve),c=c+Math.imul(Se,ke)|0,_=Math.imul(Se,Ve),w=w+Math.imul(ae,De)|0,c=c+Math.imul(ae,We)|0,c=c+Math.imul(de,De)|0,_=_+Math.imul(de,We)|0,w=w+Math.imul(ee,Ge)|0,c=c+Math.imul(ee,He)|0,c=c+Math.imul(ie,Ge)|0,_=_+Math.imul(ie,He)|0;var Qr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,w=Math.imul(he,De),c=Math.imul(he,We),c=c+Math.imul(Se,De)|0,_=Math.imul(Se,We),w=w+Math.imul(ae,Ge)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul(de,Ge)|0,_=_+Math.imul(de,He)|0;var er=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(er>>>26)|0,er&=67108863,w=Math.imul(he,Ge),c=Math.imul(he,He),c=c+Math.imul(Se,Ge)|0,_=Math.imul(Se,He);var Ir=(k+w|0)+((c&8191)<<13)|0;return k=(_+(c>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,E[0]=sn,E[1]=Ct,E[2]=Ft,E[3]=$r,E[4]=zr,E[5]=jr,E[6]=Ur,E[7]=Vr,E[8]=Wr,E[9]=Gr,E[10]=Hr,E[11]=Kr,E[12]=Zr,E[13]=Jr,E[14]=Yr,E[15]=Xr,E[16]=Qr,E[17]=er,E[18]=Ir,k!==0&&(E[19]=k,g.length++),g};Math.imul||(A=S);function T(M,f,d){d.negative=f.negative^M.negative,d.length=M.length+f.length;for(var g=0,m=0,b=0;b<d.length-1;b++){var E=m;m=0;for(var k=g&67108863,w=Math.min(b,f.length-1),c=Math.max(0,b-M.length+1);c<=w;c++){var _=b-c,R=M.words[_]|0,O=f.words[c]|0,F=R*O,U=F&67108863;E=E+(F/67108864|0)|0,U=U+k|0,k=U&67108863,E=E+(U>>>26)|0,m+=E>>>26,E&=67108863}d.words[b]=k,g=E,E=m}return g!==0?d.words[b]=g:d.length--,d.strip()}function I(M,f,d){var g=new N;return g.mulp(M,f,d)}a.prototype.mulTo=function(f,d){var g,m=this.length+f.length;return this.length===10&&f.length===10?g=A(this,f,d):m<63?g=S(this,f,d):m<1024?g=T(this,f,d):g=I(this,f,d),g};function N(M,f){this.x=M,this.y=f}N.prototype.makeRBT=function(f){for(var d=new Array(f),g=a.prototype._countBits(f)-1,m=0;m<f;m++)d[m]=this.revBin(m,g,f);return d},N.prototype.revBin=function(f,d,g){if(f===0||f===g-1)return f;for(var m=0,b=0;b<d;b++)m|=(f&1)<<d-b-1,f>>=1;return m},N.prototype.permute=function(f,d,g,m,b,E){for(var k=0;k<E;k++)m[k]=d[f[k]],b[k]=g[f[k]]},N.prototype.transform=function(f,d,g,m,b,E){this.permute(E,f,d,g,m,b);for(var k=1;k<b;k<<=1)for(var w=k<<1,c=Math.cos(2*Math.PI/w),_=Math.sin(2*Math.PI/w),R=0;R<b;R+=w)for(var O=c,F=_,U=0;U<k;U++){var H=g[R+U],J=m[R+U],fe=g[R+U+k],B=m[R+U+k],q=O*fe-F*B;B=O*B+F*fe,fe=q,g[R+U]=H+fe,m[R+U]=J+B,g[R+U+k]=H-fe,m[R+U+k]=J-B,U!==w&&(q=c*O-_*F,F=c*F+_*O,O=q)}},N.prototype.guessLen13b=function(f,d){var g=Math.max(d,f)|1,m=g&1,b=0;for(g=g/2|0;g;g=g>>>1)b++;return 1<<b+1+m},N.prototype.conjugate=function(f,d,g){if(!(g<=1))for(var m=0;m<g/2;m++){var b=f[m];f[m]=f[g-m-1],f[g-m-1]=b,b=d[m],d[m]=-d[g-m-1],d[g-m-1]=-b}},N.prototype.normalize13b=function(f,d){for(var g=0,m=0;m<d/2;m++){var b=Math.round(f[2*m+1]/d)*8192+Math.round(f[2*m]/d)+g;f[m]=b&67108863,b<67108864?g=0:g=b/67108864|0}return f},N.prototype.convert13b=function(f,d,g,m){for(var b=0,E=0;E<d;E++)b=b+(f[E]|0),g[2*E]=b&8191,b=b>>>13,g[2*E+1]=b&8191,b=b>>>13;for(E=2*d;E<m;++E)g[E]=0;r(b===0),r((b&-8192)===0)},N.prototype.stub=function(f){for(var d=new Array(f),g=0;g<f;g++)d[g]=0;return d},N.prototype.mulp=function(f,d,g){var m=2*this.guessLen13b(f.length,d.length),b=this.makeRBT(m),E=this.stub(m),k=new Array(m),w=new Array(m),c=new Array(m),_=new Array(m),R=new Array(m),O=new Array(m),F=g.words;F.length=m,this.convert13b(f.words,f.length,k,m),this.convert13b(d.words,d.length,_,m),this.transform(k,E,w,c,m,b),this.transform(_,E,R,O,m,b);for(var U=0;U<m;U++){var H=w[U]*R[U]-c[U]*O[U];c[U]=w[U]*O[U]+c[U]*R[U],w[U]=H}return this.conjugate(w,c,m),this.transform(w,c,F,E,m,b),this.conjugate(F,E,m),this.normalize13b(F,m),g.negative=f.negative^d.negative,g.length=f.length+d.length,g.strip()},a.prototype.mul=function(f){var d=new a(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},a.prototype.mulf=function(f){var d=new a(null);return d.words=new Array(this.length+f.length),I(this,f,d)},a.prototype.imul=function(f){return this.clone().mulTo(f,this)},a.prototype.imuln=function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,g=0;g<this.length;g++){var m=(this.words[g]|0)*f,b=(m&67108863)+(d&67108863);d>>=26,d+=m/67108864|0,d+=b>>>26,this.words[g]=b&67108863}return d!==0&&(this.words[g]=d,this.length++),this},a.prototype.muln=function(f){return this.clone().imuln(f)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(f){var d=y(f);if(d.length===0)return new a(1);for(var g=this,m=0;m<d.length&&d[m]===0;m++,g=g.sqr());if(++m<d.length)for(var b=g.sqr();m<d.length;m++,b=b.sqr())d[m]!==0&&(g=g.mul(b));return g},a.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26,m=67108863>>>26-d<<26-d,b;if(d!==0){var E=0;for(b=0;b<this.length;b++){var k=this.words[b]&m,w=(this.words[b]|0)-k<<d;this.words[b]=w|E,E=k>>>26-d}E&&(this.words[b]=E,this.length++)}if(g!==0){for(b=this.length-1;b>=0;b--)this.words[b+g]=this.words[b];for(b=0;b<g;b++)this.words[b]=0;this.length+=g}return this.strip()},a.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},a.prototype.iushrn=function(f,d,g){r(typeof f=="number"&&f>=0);var m;d?m=(d-d%26)/26:m=0;var b=f%26,E=Math.min((f-b)/26,this.length),k=67108863^67108863>>>b<<b,w=g;if(m-=E,m=Math.max(0,m),w){for(var c=0;c<E;c++)w.words[c]=this.words[c];w.length=E}if(E!==0)if(this.length>E)for(this.length-=E,c=0;c<this.length;c++)this.words[c]=this.words[c+E];else this.words[0]=0,this.length=1;var _=0;for(c=this.length-1;c>=0&&(_!==0||c>=m);c--){var R=this.words[c]|0;this.words[c]=_<<26-b|R>>>b,_=R&k}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(f,d,g){return r(this.negative===0),this.iushrn(f,d,g)},a.prototype.shln=function(f){return this.clone().ishln(f)},a.prototype.ushln=function(f){return this.clone().iushln(f)},a.prototype.shrn=function(f){return this.clone().ishrn(f)},a.prototype.ushrn=function(f){return this.clone().iushrn(f)},a.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26,m=1<<d;if(this.length<=g)return!1;var b=this.words[g];return!!(b&m)},a.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(d!==0&&g++,this.length=Math.min(g,this.length),d!==0){var m=67108863^67108863>>>d<<d;this.words[this.length-1]&=m}return this.strip()},a.prototype.maskn=function(f){return this.clone().imaskn(f)},a.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},a.prototype._iaddn=function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},a.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},a.prototype.addn=function(f){return this.clone().iaddn(f)},a.prototype.subn=function(f){return this.clone().isubn(f)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(f,d,g){var m=f.length+g,b;this._expand(m);var E,k=0;for(b=0;b<f.length;b++){E=(this.words[b+g]|0)+k;var w=(f.words[b]|0)*d;E-=w&67108863,k=(E>>26)-(w/67108864|0),this.words[b+g]=E&67108863}for(;b<this.length-g;b++)E=(this.words[b+g]|0)+k,k=E>>26,this.words[b+g]=E&67108863;if(k===0)return this.strip();for(r(k===-1),k=0,b=0;b<this.length;b++)E=-(this.words[b]|0)+k,k=E>>26,this.words[b]=E&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(f,d){var g=this.length-f.length,m=this.clone(),b=f,E=b.words[b.length-1]|0,k=this._countBits(E);g=26-k,g!==0&&(b=b.ushln(g),m.iushln(g),E=b.words[b.length-1]|0);var w=m.length-b.length,c;if(d!=="mod"){c=new a(null),c.length=w+1,c.words=new Array(c.length);for(var _=0;_<c.length;_++)c.words[_]=0}var R=m.clone()._ishlnsubmul(b,1,w);R.negative===0&&(m=R,c&&(c.words[w]=1));for(var O=w-1;O>=0;O--){var F=(m.words[b.length+O]|0)*67108864+(m.words[b.length+O-1]|0);for(F=Math.min(F/E|0,67108863),m._ishlnsubmul(b,F,O);m.negative!==0;)F--,m.negative=0,m._ishlnsubmul(b,1,O),m.isZero()||(m.negative^=1);c&&(c.words[O]=F)}return c&&c.strip(),m.strip(),d!=="div"&&g!==0&&m.iushrn(g),{div:c||null,mod:m}},a.prototype.divmod=function(f,d,g){if(r(!f.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var m,b,E;return this.negative!==0&&f.negative===0?(E=this.neg().divmod(f,d),d!=="mod"&&(m=E.div.neg()),d!=="div"&&(b=E.mod.neg(),g&&b.negative!==0&&b.iadd(f)),{div:m,mod:b}):this.negative===0&&f.negative!==0?(E=this.divmod(f.neg(),d),d!=="mod"&&(m=E.div.neg()),{div:m,mod:E.mod}):(this.negative&f.negative)!==0?(E=this.neg().divmod(f.neg(),d),d!=="div"&&(b=E.mod.neg(),g&&b.negative!==0&&b.isub(f)),{div:E.div,mod:b}):f.length>this.length||this.cmp(f)<0?{div:new a(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new a(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new a(this.modn(f.words[0]))}:this._wordDiv(f,d)},a.prototype.div=function(f){return this.divmod(f,"div",!1).div},a.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},a.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},a.prototype.divRound=function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var g=d.div.negative!==0?d.mod.isub(f):d.mod,m=f.ushrn(1),b=f.andln(1),E=g.cmp(m);return E<0||b===1&&E===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},a.prototype.modn=function(f){r(f<=67108863);for(var d=(1<<26)%f,g=0,m=this.length-1;m>=0;m--)g=(d*g+(this.words[m]|0))%f;return g},a.prototype.idivn=function(f){r(f<=67108863);for(var d=0,g=this.length-1;g>=0;g--){var m=(this.words[g]|0)+d*67108864;this.words[g]=m/f|0,d=m%f}return this.strip()},a.prototype.divn=function(f){return this.clone().idivn(f)},a.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var d=this,g=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var m=new a(1),b=new a(0),E=new a(0),k=new a(1),w=0;d.isEven()&&g.isEven();)d.iushrn(1),g.iushrn(1),++w;for(var c=g.clone(),_=d.clone();!d.isZero();){for(var R=0,O=1;(d.words[0]&O)===0&&R<26;++R,O<<=1);if(R>0)for(d.iushrn(R);R-- >0;)(m.isOdd()||b.isOdd())&&(m.iadd(c),b.isub(_)),m.iushrn(1),b.iushrn(1);for(var F=0,U=1;(g.words[0]&U)===0&&F<26;++F,U<<=1);if(F>0)for(g.iushrn(F);F-- >0;)(E.isOdd()||k.isOdd())&&(E.iadd(c),k.isub(_)),E.iushrn(1),k.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(E),b.isub(k)):(g.isub(d),E.isub(m),k.isub(b))}return{a:E,b:k,gcd:g.iushln(w)}},a.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var d=this,g=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var m=new a(1),b=new a(0),E=g.clone();d.cmpn(1)>0&&g.cmpn(1)>0;){for(var k=0,w=1;(d.words[0]&w)===0&&k<26;++k,w<<=1);if(k>0)for(d.iushrn(k);k-- >0;)m.isOdd()&&m.iadd(E),m.iushrn(1);for(var c=0,_=1;(g.words[0]&_)===0&&c<26;++c,_<<=1);if(c>0)for(g.iushrn(c);c-- >0;)b.isOdd()&&b.iadd(E),b.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(b)):(g.isub(d),b.isub(m))}var R;return d.cmpn(1)===0?R=m:R=b,R.cmpn(0)<0&&R.iadd(f),R},a.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),g=f.clone();d.negative=0,g.negative=0;for(var m=0;d.isEven()&&g.isEven();m++)d.iushrn(1),g.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;g.isEven();)g.iushrn(1);var b=d.cmp(g);if(b<0){var E=d;d=g,g=E}else if(b===0||g.cmpn(1)===0)break;d.isub(g)}while(!0);return g.iushln(m)},a.prototype.invm=function(f){return this.egcd(f).a.umod(f)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(f){return this.words[0]&f},a.prototype.bincn=function(f){r(typeof f=="number");var d=f%26,g=(f-d)/26,m=1<<d;if(this.length<=g)return this._expand(g+1),this.words[g]|=m,this;for(var b=m,E=g;b!==0&&E<this.length;E++){var k=this.words[E]|0;k+=b,b=k>>>26,k&=67108863,this.words[E]=k}return b!==0&&(this.words[E]=b,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var g;if(this.length>1)g=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var m=this.words[0]|0;g=m===f?0:m<f?-1:1}return this.negative!==0?-g|0:g},a.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},a.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,g=this.length-1;g>=0;g--){var m=this.words[g]|0,b=f.words[g]|0;if(m!==b){m<b?d=-1:m>b&&(d=1);break}}return d},a.prototype.gtn=function(f){return this.cmpn(f)===1},a.prototype.gt=function(f){return this.cmp(f)===1},a.prototype.gten=function(f){return this.cmpn(f)>=0},a.prototype.gte=function(f){return this.cmp(f)>=0},a.prototype.ltn=function(f){return this.cmpn(f)===-1},a.prototype.lt=function(f){return this.cmp(f)===-1},a.prototype.lten=function(f){return this.cmpn(f)<=0},a.prototype.lte=function(f){return this.cmp(f)<=0},a.prototype.eqn=function(f){return this.cmpn(f)===0},a.prototype.eq=function(f){return this.cmp(f)===0},a.red=function(f){return new j(f)},a.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(f){return this.red=f,this},a.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},a.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},a.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},a.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},a.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},a.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},a.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},a.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var D={k256:null,p224:null,p192:null,p25519:null};function C(M,f){this.name=M,this.p=new a(f,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var f=new a(null);return f.words=new Array(Math.ceil(this.n/13)),f},C.prototype.ireduce=function(f){var d=f,g;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),g=d.bitLength();while(g>this.n);var m=g<this.n?-1:d.ucmp(this.p);return m===0?(d.words[0]=0,d.length=1):m>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},C.prototype.split=function(f,d){f.iushrn(this.n,0,d)},C.prototype.imulK=function(f){return f.imul(this.k)};function L(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(L,C),L.prototype.split=function(f,d){for(var g=4194303,m=Math.min(f.length,9),b=0;b<m;b++)d.words[b]=f.words[b];if(d.length=m,f.length<=9){f.words[0]=0,f.length=1;return}var E=f.words[9];for(d.words[d.length++]=E&g,b=10;b<f.length;b++){var k=f.words[b]|0;f.words[b-10]=(k&g)<<4|E>>>22,E=k}E>>>=22,f.words[b-10]=E,E===0&&f.length>10?f.length-=10:f.length-=9},L.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,g=0;g<f.length;g++){var m=f.words[g]|0;d+=m*977,f.words[g]=d&67108863,d=m*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function z(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(z,C);function $(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n($,C);function G(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(G,C),G.prototype.imulK=function(f){for(var d=0,g=0;g<f.length;g++){var m=(f.words[g]|0)*19+d,b=m&67108863;m>>>=26,f.words[g]=b,d=m}return d!==0&&(f.words[f.length++]=d),f},a._prime=function(f){if(D[f])return D[f];var d;if(f==="k256")d=new L;else if(f==="p224")d=new z;else if(f==="p192")d=new $;else if(f==="p25519")d=new G;else throw new Error("Unknown prime "+f);return D[f]=d,d};function j(M){if(typeof M=="string"){var f=a._prime(M);this.m=f.p,this.prime=f}else r(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}j.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},j.prototype._verify2=function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},j.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},j.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},j.prototype.add=function(f,d){this._verify2(f,d);var g=f.add(d);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},j.prototype.iadd=function(f,d){this._verify2(f,d);var g=f.iadd(d);return g.cmp(this.m)>=0&&g.isub(this.m),g},j.prototype.sub=function(f,d){this._verify2(f,d);var g=f.sub(d);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},j.prototype.isub=function(f,d){this._verify2(f,d);var g=f.isub(d);return g.cmpn(0)<0&&g.iadd(this.m),g},j.prototype.shl=function(f,d){return this._verify1(f),this.imod(f.ushln(d))},j.prototype.imul=function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},j.prototype.mul=function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},j.prototype.isqr=function(f){return this.imul(f,f.clone())},j.prototype.sqr=function(f){return this.mul(f,f)},j.prototype.sqrt=function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var g=this.m.add(new a(1)).iushrn(2);return this.pow(f,g)}for(var m=this.m.subn(1),b=0;!m.isZero()&&m.andln(1)===0;)b++,m.iushrn(1);r(!m.isZero());var E=new a(1).toRed(this),k=E.redNeg(),w=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new a(2*c*c).toRed(this);this.pow(c,w).cmp(k)!==0;)c.redIAdd(k);for(var _=this.pow(c,m),R=this.pow(f,m.addn(1).iushrn(1)),O=this.pow(f,m),F=b;O.cmp(E)!==0;){for(var U=O,H=0;U.cmp(E)!==0;H++)U=U.redSqr();r(H<F);var J=this.pow(_,new a(1).iushln(F-H-1));R=R.redMul(J),_=J.redSqr(),O=O.redMul(_),F=H}return R},j.prototype.invm=function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},j.prototype.pow=function(f,d){if(d.isZero())return new a(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var g=4,m=new Array(1<<g);m[0]=new a(1).toRed(this),m[1]=f;for(var b=2;b<m.length;b++)m[b]=this.mul(m[b-1],f);var E=m[0],k=0,w=0,c=d.bitLength()%26;for(c===0&&(c=26),b=d.length-1;b>=0;b--){for(var _=d.words[b],R=c-1;R>=0;R--){var O=_>>R&1;if(E!==m[0]&&(E=this.sqr(E)),O===0&&k===0){w=0;continue}k<<=1,k|=O,w++,!(w!==g&&(b!==0||R!==0))&&(E=this.mul(E,m[k]),w=0,k=0)}c=26}return E},j.prototype.convertTo=function(f){var d=f.umod(this.m);return d===f?d.clone():d},j.prototype.convertFrom=function(f){var d=f.clone();return d.red=null,d},a.mont=function(f){return new Z(f)};function Z(M){j.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Z,j),Z.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Z.prototype.convertFrom=function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},Z.prototype.imul=function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var g=f.imul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=g.isub(m).iushrn(this.shift),E=b;return b.cmp(this.m)>=0?E=b.isub(this.m):b.cmpn(0)<0&&(E=b.iadd(this.m)),E._forceRed(this)},Z.prototype.mul=function(f,d){if(f.isZero()||d.isZero())return new a(0)._forceRed(this);var g=f.mul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=g.isub(m).iushrn(this.shift),E=b;return b.cmp(this.m)>=0?E=b.isub(this.m):b.cmpn(0)<0&&(E=b.iadd(this.m)),E._forceRed(this)},Z.prototype.invm=function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof _6=="undefined"||_6,s$)});var K_=ne((stt,o$)=>{"use strict";var H_=yn(),xp=H_.Buffer,qs={},$s;for($s in H_)!H_.hasOwnProperty($s)||$s==="SlowBuffer"||$s==="Buffer"||(qs[$s]=H_[$s]);var Sp=qs.Buffer={};for($s in xp)!xp.hasOwnProperty($s)||$s==="allocUnsafe"||$s==="allocUnsafeSlow"||(Sp[$s]=xp[$s]);qs.Buffer.prototype=xp.prototype;(!Sp.from||Sp.from===Uint8Array.from)&&(Sp.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return xp(t,e,r)});Sp.alloc||(Sp.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=xp(t);return!e||e.length===0?n.fill(0):typeof r=="string"?n.fill(e,r):n.fill(e),n});if(!qs.kStringMaxLength)try{qs.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(t){}qs.constants||(qs.constants={MAX_LENGTH:qs.kMaxLength},qs.kStringMaxLength&&(qs.constants.MAX_STRING_LENGTH=qs.kStringMaxLength));o$.exports=qs});var Z_=ne(u$=>{"use strict";var Rbe=At();function zs(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}u$.Reporter=zs;zs.prototype.isError=function(e){return e instanceof Ep};zs.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};zs.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};zs.prototype.enterKey=function(e){return this._reporterState.path.push(e)};zs.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};zs.prototype.leaveKey=function(e,r,n){let a=this._reporterState;this.exitKey(e),a.obj!==null&&(a.obj[r]=n)};zs.prototype.path=function(){return this._reporterState.path.join("/")};zs.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};zs.prototype.leaveObject=function(e){let r=this._reporterState,n=r.obj;return r.obj=e,n};zs.prototype.error=function(e){let r,n=this._reporterState,a=e instanceof Ep;if(a?r=e:r=new Ep(n.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return a||n.errors.push(r),r};zs.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function Ep(t,e){this.path=t,this.rethrow(e)}Rbe(Ep,Error);Ep.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Ep),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var kp=ne(S6=>{"use strict";var Cbe=At(),J_=Z_().Reporter,Mp=K_().Buffer;function js(t,e){if(J_.call(this,e),!Mp.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}Cbe(js,J_);S6.DecoderBuffer=js;js.isDecoderBuffer=function(e){return e instanceof js?!0:typeof e=="object"&&Mp.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};js.prototype.save=function(){return{offset:this.offset,reporter:J_.prototype.save.call(this)}};js.prototype.restore=function(e){let r=new js(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,J_.prototype.restore.call(this,e.reporter),r};js.prototype.isEmpty=function(){return this.offset===this.length};js.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};js.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new js(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n};js.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function Ap(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return Ap.isEncoderBuffer(r)||(r=new Ap(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=Mp.byteLength(t);else if(Mp.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}S6.EncoderBuffer=Ap;Ap.isEncoderBuffer=function(e){return e instanceof Ap?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};Ap.prototype.join=function(e,r){return e||(e=Mp.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):Mp.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var Y_=ne((ftt,l$)=>{"use strict";var Fbe=Z_().Reporter,Bbe=kp().EncoderBuffer,Lbe=kp().DecoderBuffer,Ma=is(),f$=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],Pbe=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(f$),qbe=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function un(t,e,r){let n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}l$.exports=un;var $be=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];un.prototype.clone=function(){let e=this._baseState,r={};$be.forEach(function(a){r[a]=e[a]});let n=new this.constructor(r.parent);return n._baseState=r,n};un.prototype._wrap=function(){let e=this._baseState;Pbe.forEach(function(r){this[r]=function(){let a=new this.constructor(this);return e.children.push(a),a[r].apply(a,arguments)}},this)};un.prototype._init=function(e){let r=this._baseState;Ma(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),Ma.equal(r.children.length,1,"Root node can have only one child")};un.prototype._useArgs=function(e){let r=this._baseState,n=e.filter(function(a){return a instanceof this.constructor},this);e=e.filter(function(a){return!(a instanceof this.constructor)},this),n.length!==0&&(Ma(r.children===null),r.children=n,n.forEach(function(a){a._baseState.parent=this},this)),e.length!==0&&(Ma(r.args===null),r.args=e,r.reverseArgs=e.map(function(a){if(typeof a!="object"||a.constructor!==Object)return a;let s={};return Object.keys(a).forEach(function(o){o==(o|0)&&(o|=0);let u=a[o];s[u]=o}),s}))};qbe.forEach(function(t){un.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});f$.forEach(function(t){un.prototype[t]=function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return Ma(r.tag===null),r.tag=t,this._useArgs(n),this}});un.prototype.use=function(e){Ma(e);let r=this._baseState;return Ma(r.use===null),r.use=e,this};un.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};un.prototype.def=function(e){let r=this._baseState;return Ma(r.default===null),r.default=e,r.optional=!0,this};un.prototype.explicit=function(e){let r=this._baseState;return Ma(r.explicit===null&&r.implicit===null),r.explicit=e,this};un.prototype.implicit=function(e){let r=this._baseState;return Ma(r.explicit===null&&r.implicit===null),r.implicit=e,this};un.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};un.prototype.key=function(e){let r=this._baseState;return Ma(r.key===null),r.key=e,this};un.prototype.any=function(){let e=this._baseState;return e.any=!0,this};un.prototype.choice=function(e){let r=this._baseState;return Ma(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this};un.prototype.contains=function(e){let r=this._baseState;return Ma(r.use===null),r.contains=e,this};un.prototype._decode=function(e,r){let n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let a=n.default,s=!0,o=null;if(n.key!==null&&(o=e.enterKey(n.key)),n.optional){let l=null;if(n.explicit!==null?l=n.explicit:n.implicit!==null?l=n.implicit:n.tag!==null&&(l=n.tag),l===null&&!n.any){let h=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),s=!0}catch(p){s=!1}e.restore(h)}else if(s=this._peekTag(e,l,n.any),e.isError(s))return s}let u;if(n.obj&&s&&(u=e.enterObject()),s){if(n.explicit!==null){let h=this._decodeTag(e,n.explicit);if(e.isError(h))return h;e=h}let l=e.offset;if(n.use===null&&n.choice===null){let h;n.any&&(h=e.save());let p=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(p))return p;n.any?a=e.raw(h):e=p}if(r&&r.track&&n.tag!==null&&r.track(e.path(),l,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?a=this._decodeGeneric(n.tag,e,r):a=this._decodeChoice(e,r)),e.isError(a))return a;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(p){p._decode(e,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let h=new Lbe(a);a=this._getUse(n.contains,e._reporterState.obj)._decode(h,r)}}return n.obj&&s&&(a=e.leaveObject(u)),n.key!==null&&(a!==null||s===!0)?e.leaveKey(o,n.key,a):o!==null&&e.exitKey(o),a};un.prototype._decodeGeneric=function(e,r,n){let a=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,a.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&a.args?this._decodeObjid(r,a.args[0],a.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,a.args&&a.args[0],n):a.use!==null?this._getUse(a.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)};un.prototype._getUse=function(e,r){let n=this._baseState;return n.useDecoder=this._use(e,r),Ma(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};un.prototype._decodeChoice=function(e,r){let n=this._baseState,a=null,s=!1;return Object.keys(n.choice).some(function(o){let u=e.save(),l=n.choice[o];try{let h=l._decode(e,r);if(e.isError(h))return!1;a={type:o,value:h},s=!0}catch(h){return e.restore(u),!1}return!0},this),s?a:e.error("Choice not matched")};un.prototype._createEncoderBuffer=function(e){return new Bbe(e,this.reporter)};un.prototype._encode=function(e,r,n){let a=this._baseState;if(a.default!==null&&a.default===e)return;let s=this._encodeValue(e,r,n);if(s!==void 0&&!this._skipDefault(s,r,n))return s};un.prototype._encodeValue=function(e,r,n){let a=this._baseState;if(a.parent===null)return a.children[0]._encode(e,r||new Fbe);let s=null;if(this.reporter=r,a.optional&&e===void 0)if(a.default!==null)e=a.default;else return;let o=null,u=!1;if(a.any)s=this._createEncoderBuffer(e);else if(a.choice)s=this._encodeChoice(e,r);else if(a.contains)o=this._getUse(a.contains,n)._encode(e,r),u=!0;else if(a.children)o=a.children.map(function(l){if(l._baseState.tag==="null_")return l._encode(null,r,e);if(l._baseState.key===null)return r.error("Child should have a key");let h=r.enterKey(l._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let p=l._encode(e[l._baseState.key],r,e);return r.leaveKey(h),p},this).filter(function(l){return l}),o=this._createEncoderBuffer(o);else if(a.tag==="seqof"||a.tag==="setof"){if(!(a.args&&a.args.length===1))return r.error("Too many args for : "+a.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let l=this.clone();l._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(h){let p=this._baseState;return this._getUse(p.args[0],e)._encode(h,r)},l))}else a.use!==null?s=this._getUse(a.use,n)._encode(e,r):(o=this._encodePrimitive(a.tag,e),u=!0);if(!a.any&&a.choice===null){let l=a.implicit!==null?a.implicit:a.tag,h=a.implicit===null?"universal":"context";l===null?a.use===null&&r.error("Tag could be omitted only for .use()"):a.use===null&&(s=this._encodeComposite(l,u,h,o))}return a.explicit!==null&&(s=this._encodeComposite(a.explicit,!1,"context",s)),s};un.prototype._encodeChoice=function(e,r){let n=this._baseState,a=n.choice[e.type];return a||Ma(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),a._encode(e.value,r)};un.prototype._encodePrimitive=function(e,r){let n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};un.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};un.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var X_=ne(sh=>{"use strict";function c$(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let n=t[r];e[n]=r}),e}sh.tagClass={0:"universal",1:"application",2:"context",3:"private"};sh.tagClassByName=c$(sh.tagClass);sh.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};sh.tagByName=c$(sh.tag)});var M6=ne((ctt,p$)=>{"use strict";var zbe=At(),pf=K_().Buffer,h$=Y_(),E6=X_();function d$(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Lo,this.tree._init(t.body)}p$.exports=d$;d$.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function Lo(t){h$.call(this,"der",t)}zbe(Lo,h$);Lo.prototype._encodeComposite=function(e,r,n,a){let s=jbe(e,r,n,this.reporter);if(a.length<128){let l=pf.alloc(2);return l[0]=s,l[1]=a.length,this._createEncoderBuffer([l,a])}let o=1;for(let l=a.length;l>=256;l>>=8)o++;let u=pf.alloc(1+1+o);u[0]=s,u[1]=128|o;for(let l=1+o,h=a.length;h>0;l--,h>>=8)u[l]=h&255;return this._createEncoderBuffer([u,a])};Lo.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let n=pf.alloc(e.length*2);for(let a=0;a<e.length;a++)n.writeUInt16BE(e.charCodeAt(a),a*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};Lo.prototype._encodeObjid=function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let u=0;u<e.length;u++)e[u]|=0}else if(Array.isArray(e)){e=e.slice();for(let u=0;u<e.length;u++)e[u]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let a=0;for(let u=0;u<e.length;u++){let l=e[u];for(a++;l>=128;l>>=7)a++}let s=pf.alloc(a),o=s.length-1;for(let u=e.length-1;u>=0;u--){let l=e[u];for(s[o--]=l&127;(l>>=7)>0;)s[o--]=128|l&127}return this._createEncoderBuffer(s)};function Us(t){return t<10?"0"+t:t}Lo.prototype._encodeTime=function(e,r){let n,a=new Date(e);return r==="gentime"?n=[Us(a.getUTCFullYear()),Us(a.getUTCMonth()+1),Us(a.getUTCDate()),Us(a.getUTCHours()),Us(a.getUTCMinutes()),Us(a.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[Us(a.getUTCFullYear()%100),Us(a.getUTCMonth()+1),Us(a.getUTCDate()),Us(a.getUTCHours()),Us(a.getUTCMinutes()),Us(a.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")};Lo.prototype._encodeNull=function(){return this._createEncoderBuffer("")};Lo.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!pf.isBuffer(e)){let s=e.toArray();!e.sign&&s[0]&128&&s.unshift(0),e=pf.from(s)}if(pf.isBuffer(e)){let s=e.length;e.length===0&&s++;let o=pf.alloc(s);return e.copy(o),e.length===0&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let s=e;s>=256;s>>=8)n++;let a=new Array(n);for(let s=a.length-1;s>=0;s--)a[s]=e&255,e>>=8;return a[0]&128&&a.unshift(0),this._createEncoderBuffer(pf.from(a))};Lo.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};Lo.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};Lo.prototype._skipDefault=function(e,r,n){let a=this._baseState,s;if(a.default===null)return!1;let o=e.join();if(a.defaultBuffer===void 0&&(a.defaultBuffer=this._encodeValue(a.default,r,n).join()),o.length!==a.defaultBuffer.length)return!1;for(s=0;s<o.length;s++)if(o[s]!==a.defaultBuffer[s])return!1;return!0};function jbe(t,e,r,n){let a;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),E6.tagByName.hasOwnProperty(t))a=E6.tagByName[t];else if(typeof t=="number"&&(t|0)===t)a=t;else return n.error("Unknown tag: "+t);return a>=31?n.error("Multi-octet tag encoding unsupported"):(e||(a|=32),a|=E6.tagClassByName[r||"universal"]<<6,a)}});var v$=ne((htt,m$)=>{"use strict";var Ube=At(),A6=M6();function k6(t){A6.call(this,t),this.enc="pem"}Ube(k6,A6);m$.exports=k6;k6.prototype.encode=function(e,r){let a=A6.prototype.encode.call(this,e).toString("base64"),s=["-----BEGIN "+r.label+"-----"];for(let o=0;o<a.length;o+=64)s.push(a.slice(o,o+64));return s.push("-----END "+r.label+"-----"),s.join(`
`)}});var T6=ne(y$=>{"use strict";var g$=y$;g$.der=M6();g$.pem=v$()});var I6=ne((ptt,E$)=>{"use strict";var Vbe=At(),Wbe=x6(),b$=kp().DecoderBuffer,_$=Y_(),w$=X_();function x$(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new ss,this.tree._init(t.body)}E$.exports=x$;x$.prototype.decode=function(e,r){return b$.isDecoderBuffer(e)||(e=new b$(e,r)),this.tree._decode(e,r)};function ss(t){_$.call(this,"der",t)}Vbe(ss,_$);ss.prototype._peekTag=function(e,r,n){if(e.isEmpty())return!1;let a=e.save(),s=N6(e,'Failed to peek tag: "'+r+'"');return e.isError(s)?s:(e.restore(a),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||n)};ss.prototype._decodeTag=function(e,r,n){let a=N6(e,'Failed to decode tag of "'+r+'"');if(e.isError(a))return a;let s=S$(e,a.primitive,'Failed to get length of "'+r+'"');if(e.isError(s))return s;if(!n&&a.tag!==r&&a.tagStr!==r&&a.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(a.primitive||s!==null)return e.skip(s,'Failed to match body of: "'+r+'"');let o=e.save(),u=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(u)?u:(s=e.offset-o.offset,e.restore(o),e.skip(s,'Failed to match body of: "'+r+'"'))};ss.prototype._skipUntilEnd=function(e,r){for(;;){let n=N6(e,r);if(e.isError(n))return n;let a=S$(e,n.primitive,r);if(e.isError(a))return a;let s;if(n.primitive||a!==null?s=e.skip(a):s=this._skipUntilEnd(e,r),e.isError(s))return s;if(n.tagStr==="end")break}};ss.prototype._decodeList=function(e,r,n,a){let s=[];for(;!e.isEmpty();){let o=this._peekTag(e,"end");if(e.isError(o))return o;let u=n.decode(e,"der",a);if(e.isError(u)&&o)break;s.push(u)}return s};ss.prototype._decodeStr=function(e,r){if(r==="bitstr"){let n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){let n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let a="";for(let s=0;s<n.length/2;s++)a+=String.fromCharCode(n.readUInt16BE(s*2));return a}else if(r==="numstr"){let n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};ss.prototype._decodeObjid=function(e,r,n){let a,s=[],o=0,u=0;for(;!e.isEmpty();)u=e.readUInt8(),o<<=7,o|=u&127,(u&128)===0&&(s.push(o),o=0);u&128&&s.push(o);let l=s[0]/40|0,h=s[0]%40;if(n?a=s:a=[l,h].concat(s.slice(1)),r){let p=r[a.join(" ")];p===void 0&&(p=r[a.join(".")]),p!==void 0&&(a=p)}return a};ss.prototype._decodeTime=function(e,r){let n=e.raw().toString(),a,s,o,u,l,h;if(r==="gentime")a=n.slice(0,4)|0,s=n.slice(4,6)|0,o=n.slice(6,8)|0,u=n.slice(8,10)|0,l=n.slice(10,12)|0,h=n.slice(12,14)|0;else if(r==="utctime")a=n.slice(0,2)|0,s=n.slice(2,4)|0,o=n.slice(4,6)|0,u=n.slice(6,8)|0,l=n.slice(8,10)|0,h=n.slice(10,12)|0,a<70?a=2e3+a:a=1900+a;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(a,s-1,o,u,l,h,0)};ss.prototype._decodeNull=function(){return null};ss.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};ss.prototype._decodeInt=function(e,r){let n=e.raw(),a=new Wbe(n);return r&&(a=r[a.toString(10)]||a),a};ss.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function N6(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let n=w$.tagClass[r>>6],a=(r&32)===0;if((r&31)===31){let o=r;for(r=0;(o&128)===128;){if(o=t.readUInt8(e),t.isError(o))return o;r<<=7,r|=o&127}}else r&=31;let s=w$.tag[r];return{cls:n,primitive:a,tag:r,tagStr:s}}function S$(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if((n&128)===0)return n;let a=n&127;if(a>4)return t.error("length octect is too long");n=0;for(let s=0;s<a;s++){n<<=8;let o=t.readUInt8(r);if(t.isError(o))return o;n|=o}return n}});var A$=ne((mtt,M$)=>{"use strict";var Gbe=At(),Hbe=K_().Buffer,D6=I6();function O6(t){D6.call(this,t),this.enc="pem"}Gbe(O6,D6);M$.exports=O6;O6.prototype.decode=function(e,r){let n=e.toString().split(/[\r\n]+/g),a=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,o=-1,u=-1;for(let p=0;p<n.length;p++){let v=n[p].match(s);if(v!==null&&v[2]===a)if(o===-1){if(v[1]!=="BEGIN")break;o=p}else{if(v[1]!=="END")break;u=p;break}}if(o===-1||u===-1)throw new Error("PEM section not found for: "+a);let l=n.slice(o+1,u).join("");l.replace(/[^a-z0-9+/=]+/gi,"");let h=Hbe.from(l,"base64");return D6.prototype.decode.call(this,h,r)}});var R6=ne(T$=>{"use strict";var k$=T$;k$.der=I6();k$.pem=A$()});var I$=ne(N$=>{"use strict";var Kbe=T6(),Zbe=R6(),Jbe=At(),Ybe=N$;Ybe.define=function(e,r){return new Tp(e,r)};function Tp(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}Tp.prototype._createNamed=function(e){let r=this.name;function n(a){this._initNamed(a,r)}return Jbe(n,e),n.prototype._initNamed=function(s,o){e.call(this,s,o)},new n(this)};Tp.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(Zbe[e])),this.decoders[e]};Tp.prototype.decode=function(e,r,n){return this._getDecoder(r).decode(e,n)};Tp.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(Kbe[e])),this.encoders[e]};Tp.prototype.encode=function(e,r,n){return this._getEncoder(r).encode(e,n)}});var O$=ne(D$=>{"use strict";var Q_=D$;Q_.Reporter=Z_().Reporter;Q_.DecoderBuffer=kp().DecoderBuffer;Q_.EncoderBuffer=kp().EncoderBuffer;Q_.Node=Y_()});var F$=ne(C$=>{"use strict";var R$=C$;R$._reverse=function(e){let r={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);let a=e[n];r[a]=n}),r};R$.der=X_()});var C6=ne(B$=>{"use strict";var Np=B$;Np.bignum=x6();Np.define=I$().define;Np.base=O$();Np.constants=F$();Np.decoders=R6();Np.encoders=T6()});var $$=ne((_tt,q$)=>{"use strict";var Po=C6(),L$=Po.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),Xbe=Po.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),F6=Po.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),Qbe=Po.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(F6),this.key("subjectPublicKey").bitstr())}),ewe=Po.define("RelativeDistinguishedName",function(){this.setof(Xbe)}),twe=Po.define("RDNSequence",function(){this.seqof(ewe)}),P$=Po.define("Name",function(){this.choice({rdnSequence:this.use(twe)})}),rwe=Po.define("Validity",function(){this.seq().obj(this.key("notBefore").use(L$),this.key("notAfter").use(L$))}),nwe=Po.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),iwe=Po.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(F6),this.key("issuer").use(P$),this.key("validity").use(rwe),this.key("subject").use(P$),this.key("subjectPublicKeyInfo").use(Qbe),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(nwe).optional())}),awe=Po.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(iwe),this.key("signatureAlgorithm").use(F6),this.key("signatureValue").bitstr())});q$.exports=awe});var j$=ne($o=>{"use strict";var qo=C6();$o.certificate=$$();var swe=qo.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});$o.RSAPrivateKey=swe;var owe=qo.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});$o.RSAPublicKey=owe;var uwe=qo.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(z$),this.key("subjectPublicKey").bitstr())});$o.PublicKey=uwe;var z$=qo.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),fwe=qo.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(z$),this.key("subjectPrivateKey").octstr())});$o.PrivateKey=fwe;var lwe=qo.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});$o.EncryptedPrivateKey=lwe;var cwe=qo.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});$o.DSAPrivateKey=cwe;$o.DSAparam=qo.define("DSAparam",function(){this.int()});var hwe=qo.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(dwe),this.key("publicKey").optional().explicit(1).bitstr())});$o.ECPrivateKey=hwe;var dwe=qo.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});$o.signature=qo.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var U$=ne((Stt,pwe)=>{pwe.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var W$=ne((Ett,V$)=>{var mwe=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,vwe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,gwe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,ywe=pg(),bwe=o_(),e2=cr().Buffer;V$.exports=function(t,e){var r=t.toString(),n=r.match(mwe),a;if(n){var o="aes"+n[1],u=e2.from(n[2],"hex"),l=e2.from(n[3].replace(/[\r\n]/g,""),"base64"),h=ywe(e,u.slice(0,8),parseInt(n[1],10)).key,p=[],v=bwe.createDecipheriv(o,h,u);p.push(v.update(l)),p.push(v.final()),a=e2.concat(p)}else{var s=r.match(gwe);a=e2.from(s[2].replace(/[\r\n]/g,""),"base64")}var y=r.match(vwe)[1];return{tag:y,data:a}}});var Tg=ne((Mtt,H$)=>{var Ua=j$(),wwe=U$(),_we=W$(),xwe=o_(),Swe=Jk(),B6=cr().Buffer;H$.exports=G$;function G$(t){var e;typeof t=="object"&&!B6.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=B6.from(t));var r=_we(t,e),n=r.tag,a=r.data,s,o;switch(n){case"CERTIFICATE":o=Ua.certificate.decode(a,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(o||(o=Ua.PublicKey.decode(a,"der")),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Ua.RSAPublicKey.decode(o.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return o.subjectPrivateKey=o.subjectPublicKey,{type:"ec",data:o};case"1.2.840.10040.4.1":return o.algorithm.params.pub_key=Ua.DSAparam.decode(o.subjectPublicKey.data,"der"),{type:"dsa",data:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"ENCRYPTED PRIVATE KEY":a=Ua.EncryptedPrivateKey.decode(a,"der"),a=Ewe(a,e);case"PRIVATE KEY":switch(o=Ua.PrivateKey.decode(a,"der"),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Ua.RSAPrivateKey.decode(o.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:o.algorithm.curve,privateKey:Ua.ECPrivateKey.decode(o.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return o.algorithm.params.priv_key=Ua.DSAparam.decode(o.subjectPrivateKey,"der"),{type:"dsa",params:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"RSA PUBLIC KEY":return Ua.RSAPublicKey.decode(a,"der");case"RSA PRIVATE KEY":return Ua.RSAPrivateKey.decode(a,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Ua.DSAPrivateKey.decode(a,"der")};case"EC PRIVATE KEY":return a=Ua.ECPrivateKey.decode(a,"der"),{curve:a.parameters.value,privateKey:a.privateKey};default:throw new Error("unknown key type "+n)}}G$.signature=Ua.signature;function Ewe(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),a=wwe[t.algorithm.decrypt.cipher.algo.join(".")],s=t.algorithm.decrypt.cipher.iv,o=t.subjectPrivateKey,u=parseInt(a.split("-")[1],10)/8,l=Swe.pbkdf2Sync(e,r,n,u,"sha1"),h=xwe.createDecipheriv(a,l,s),p=[];return p.push(h.update(o)),p.push(h.final()),B6.concat(p)}});var L6=ne((Att,Mwe)=>{Mwe.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var J$=ne((ktt,r2)=>{var ha=d_().Buffer,oh=$k(),Awe=N_(),kwe=G_().ec,t2=T_(),Twe=Tg(),Nwe=L6();function Iwe(t,e,r,n,a){var s=Twe(e);if(s.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return Dwe(t,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return Owe(t,s,r)}else if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");t=ha.concat([a,t]);for(var o=s.modulus.byteLength(),u=[0,1];t.length+u.length+1<o;)u.push(255);u.push(0);for(var l=-1;++l<t.length;)u.push(t[l]);var h=Awe(u,s);return h}function Dwe(t,e){var r=Nwe[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new kwe(r),a=n.keyFromPrivate(e.privateKey),s=a.sign(t);return ha.from(s.toDER())}function Owe(t,e,r){for(var n=e.params.priv_key,a=e.params.p,s=e.params.q,o=e.params.g,u=new t2(0),l,h=P6(t,s).mod(s),p=!1,v=K$(n,s,t,r);p===!1;)l=Z$(s,v,r),u=Fwe(o,l,a,s),p=l.invm(s).imul(h.add(n.mul(u))).mod(s),p.cmpn(0)===0&&(p=!1,u=new t2(0));return Rwe(u,p)}function Rwe(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,n=[48,r,2,t.length];return n=n.concat(t,[2,e.length],e),ha.from(n)}function K$(t,e,r,n){if(t=ha.from(t.toArray()),t.length<e.byteLength()){var a=ha.alloc(e.byteLength()-t.length);t=ha.concat([a,t])}var s=r.length,o=Cwe(r,e),u=ha.alloc(s);u.fill(1);var l=ha.alloc(s);return l=oh(n,l).update(u).update(ha.from([0])).update(t).update(o).digest(),u=oh(n,l).update(u).digest(),l=oh(n,l).update(u).update(ha.from([1])).update(t).update(o).digest(),u=oh(n,l).update(u).digest(),{k:l,v:u}}function P6(t,e){var r=new t2(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function Cwe(t,e){t=P6(t,e),t=t.mod(e);var r=ha.from(t.toArray());if(r.length<e.byteLength()){var n=ha.alloc(e.byteLength()-r.length);r=ha.concat([n,r])}return r}function Z$(t,e,r){var n,a;do{for(n=ha.alloc(0);n.length*8<t.bitLength();)e.v=oh(r,e.k).update(e.v).digest(),n=ha.concat([n,e.v]);a=P6(n,t),e.k=oh(r,e.k).update(e.v).update(ha.from([0])).digest(),e.v=oh(r,e.k).update(e.v).digest()}while(a.cmp(t)!==-1);return a}function Fwe(t,e,r,n){return t.toRed(t2.mont(r)).redPow(e).fromRed().mod(n)}r2.exports=Iwe;r2.exports.getKey=K$;r2.exports.makeKey=Z$});var ez=ne((Ttt,Q$)=>{var q6=d_().Buffer,Ng=T_(),Bwe=G_().ec,X$=Tg(),Lwe=L6();function Pwe(t,e,r,n,a){var s=X$(r);if(s.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return qwe(t,e,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return $we(t,e,s)}else if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");e=q6.concat([a,e]);for(var o=s.modulus.byteLength(),u=[1],l=0;e.length+u.length+2<o;)u.push(255),l++;u.push(0);for(var h=-1;++h<e.length;)u.push(e[h]);u=q6.from(u);var p=Ng.mont(s.modulus);t=new Ng(t).toRed(p),t=t.redPow(new Ng(s.publicExponent)),t=q6.from(t.fromRed().toArray());var v=l<8?1:0;for(o=Math.min(t.length,u.length),t.length!==u.length&&(v=1),h=-1;++h<o;)v|=t[h]^u[h];return v===0}function qwe(t,e,r){var n=Lwe[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var a=new Bwe(n),s=r.data.subjectPrivateKey.data;return a.verify(e,t,s)}function $we(t,e,r){var n=r.data.p,a=r.data.q,s=r.data.g,o=r.data.pub_key,u=X$.signature.decode(t,"der"),l=u.s,h=u.r;Y$(l,a),Y$(h,a);var p=Ng.mont(n),v=l.invm(a),y=s.toRed(p).redPow(new Ng(e).mul(v).mod(a)).fromRed().mul(o.toRed(p).redPow(h.mul(v).mod(a)).fromRed()).mod(n).mod(a);return y.cmp(h)===0}function Y$(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}Q$.exports=Pwe});var sz=ne((Ntt,az)=>{var n2=d_().Buffer,nz=Qd(),i2=DP(),iz=At(),zwe=J$(),jwe=ez(),uh=zk();Object.keys(uh).forEach(function(t){uh[t].id=n2.from(uh[t].id,"hex"),uh[t.toLowerCase()]=uh[t]});function Ig(t){i2.Writable.call(this);var e=uh[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=nz(e.hash),this._tag=e.id,this._signType=e.sign}iz(Ig,i2.Writable);Ig.prototype._write=function(e,r,n){this._hash.update(e),n()};Ig.prototype.update=function(e,r){return typeof e=="string"&&(e=n2.from(e,r)),this._hash.update(e),this};Ig.prototype.sign=function(e,r){this.end();var n=this._hash.digest(),a=zwe(n,e,this._hashType,this._signType,this._tag);return r?a.toString(r):a};function Dg(t){i2.Writable.call(this);var e=uh[t];if(!e)throw new Error("Unknown message digest");this._hash=nz(e.hash),this._tag=e.id,this._signType=e.sign}iz(Dg,i2.Writable);Dg.prototype._write=function(e,r,n){this._hash.update(e),n()};Dg.prototype.update=function(e,r){return typeof e=="string"&&(e=n2.from(e,r)),this._hash.update(e),this};Dg.prototype.verify=function(e,r,n){typeof r=="string"&&(r=n2.from(r,n)),this.end();var a=this._hash.digest();return jwe(r,a,e,this._signType,this._tag)};function tz(t){return new Ig(t)}function rz(t){return new Dg(t)}az.exports={Sign:tz,Verify:rz,createSign:tz,createVerify:rz}});var uz=ne((oz,$6)=>{(function(t,e){"use strict";function r(M,f){if(!M)throw new Error(f||"Assertion failed")}function n(M,f){M.super_=f;var d=function(){};d.prototype=f.prototype,M.prototype=new d,M.prototype.constructor=M}function a(M,f,d){if(a.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(M||0,f||10,d||"be"))}typeof t=="object"?t.exports=a:e.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=yn().Buffer}catch(M){}a.isBN=function(f){return f instanceof a?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===a.wordSize&&Array.isArray(f.words)},a.max=function(f,d){return f.cmp(d)>0?f:d},a.min=function(f,d){return f.cmp(d)<0?f:d},a.prototype._init=function(f,d,g){if(typeof f=="number")return this._initNumber(f,d,g);if(typeof f=="object")return this._initArray(f,d,g);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var m=0;f[0]==="-"&&(m++,this.negative=1),m<f.length&&(d===16?this._parseHex(f,m,g):(this._parseBase(f,d,m),g==="le"&&this._initArray(this.toArray(),d,g)))},a.prototype._initNumber=function(f,d,g){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),d,g)},a.prototype._initArray=function(f,d,g){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var b,E,k=0;if(g==="be")for(m=f.length-1,b=0;m>=0;m-=3)E=f[m]|f[m-1]<<8|f[m-2]<<16,this.words[b]|=E<<k&67108863,this.words[b+1]=E>>>26-k&67108863,k+=24,k>=26&&(k-=26,b++);else if(g==="le")for(m=0,b=0;m<f.length;m+=3)E=f[m]|f[m+1]<<8|f[m+2]<<16,this.words[b]|=E<<k&67108863,this.words[b+1]=E>>>26-k&67108863,k+=24,k>=26&&(k-=26,b++);return this.strip()};function o(M,f){var d=M.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function u(M,f,d){var g=o(M,d);return d-1>=f&&(g|=o(M,d-1)<<4),g}a.prototype._parseHex=function(f,d,g){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var b=0,E=0,k;if(g==="be")for(m=f.length-1;m>=d;m-=2)k=u(f,d,m)<<b,this.words[E]|=k&67108863,b>=18?(b-=18,E+=1,this.words[E]|=k>>>26):b+=8;else{var w=f.length-d;for(m=w%2===0?d+1:d;m<f.length;m+=2)k=u(f,d,m)<<b,this.words[E]|=k&67108863,b>=18?(b-=18,E+=1,this.words[E]|=k>>>26):b+=8}this.strip()};function l(M,f,d,g){for(var m=0,b=Math.min(M.length,d),E=f;E<b;E++){var k=M.charCodeAt(E)-48;m*=g,k>=49?m+=k-49+10:k>=17?m+=k-17+10:m+=k}return m}a.prototype._parseBase=function(f,d,g){this.words=[0],this.length=1;for(var m=0,b=1;b<=67108863;b*=d)m++;m--,b=b/d|0;for(var E=f.length-g,k=E%m,w=Math.min(E,E-k)+g,c=0,_=g;_<w;_+=m)c=l(f,_,_+m,d),this.imuln(b),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(k!==0){var R=1;for(c=l(f,_,f.length,d),_=0;_<k;_++)R*=d;this.imuln(R),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},a.prototype.copy=function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},a.prototype.clone=function(){var f=new a(null);return this.copy(f),f},a.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(f,d){f=f||10,d=d|0||1;var g;if(f===16||f==="hex"){g="";for(var m=0,b=0,E=0;E<this.length;E++){var k=this.words[E],w=((k<<m|b)&16777215).toString(16);b=k>>>24-m&16777215,b!==0||E!==this.length-1?g=h[6-w.length]+w+g:g=w+g,m+=2,m>=26&&(m-=26,E--)}for(b!==0&&(g=b.toString(16)+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(f===(f|0)&&f>=2&&f<=36){var c=p[f],_=v[f];g="";var R=this.clone();for(R.negative=0;!R.isZero();){var O=R.modn(_).toString(f);R=R.idivn(_),R.isZero()?g=O+g:g=h[c-O.length]+O+g}for(this.isZero()&&(g="0"+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(f,d){return r(typeof s!="undefined"),this.toArrayLike(s,f,d)},a.prototype.toArray=function(f,d){return this.toArrayLike(Array,f,d)},a.prototype.toArrayLike=function(f,d,g){var m=this.byteLength(),b=g||Math.max(1,m);r(m<=b,"byte array longer than desired length"),r(b>0,"Requested array length <= 0"),this.strip();var E=d==="le",k=new f(b),w,c,_=this.clone();if(E){for(c=0;!_.isZero();c++)w=_.andln(255),_.iushrn(8),k[c]=w;for(;c<b;c++)k[c]=0}else{for(c=0;c<b-m;c++)k[c]=0;for(c=0;!_.isZero();c++)w=_.andln(255),_.iushrn(8),k[b-c-1]=w}return k},Math.clz32?a.prototype._countBits=function(f){return 32-Math.clz32(f)}:a.prototype._countBits=function(f){var d=f,g=0;return d>=4096&&(g+=13,d>>>=13),d>=64&&(g+=7,d>>>=7),d>=8&&(g+=4,d>>>=4),d>=2&&(g+=2,d>>>=2),g+d},a.prototype._zeroBits=function(f){if(f===0)return 26;var d=f,g=0;return(d&8191)===0&&(g+=13,d>>>=13),(d&127)===0&&(g+=7,d>>>=7),(d&15)===0&&(g+=4,d>>>=4),(d&3)===0&&(g+=2,d>>>=2),(d&1)===0&&g++,g},a.prototype.bitLength=function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d};function y(M){for(var f=new Array(M.bitLength()),d=0;d<f.length;d++){var g=d/26|0,m=d%26;f[d]=(M.words[g]&1<<m)>>>m}return f}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var g=this._zeroBits(this.words[d]);if(f+=g,g!==26)break}return f},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},a.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},a.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},a.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},a.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},a.prototype.iuand=function(f){var d;this.length>f.length?d=f:d=this;for(var g=0;g<d.length;g++)this.words[g]=this.words[g]&f.words[g];return this.length=d.length,this.strip()},a.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},a.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},a.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},a.prototype.iuxor=function(f){var d,g;this.length>f.length?(d=this,g=f):(d=f,g=this);for(var m=0;m<g.length;m++)this.words[m]=d.words[m]^g.words[m];if(this!==d)for(;m<d.length;m++)this.words[m]=d.words[m];return this.length=d.length,this.strip()},a.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},a.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},a.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},a.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,g=f%26;this._expand(d),g>0&&d--;for(var m=0;m<d;m++)this.words[m]=~this.words[m]&67108863;return g>0&&(this.words[m]=~this.words[m]&67108863>>26-g),this.strip()},a.prototype.notn=function(f){return this.clone().inotn(f)},a.prototype.setn=function(f,d){r(typeof f=="number"&&f>=0);var g=f/26|0,m=f%26;return this._expand(g+1),d?this.words[g]=this.words[g]|1<<m:this.words[g]=this.words[g]&~(1<<m),this.strip()},a.prototype.iadd=function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var g,m;this.length>f.length?(g=this,m=f):(g=f,m=this);for(var b=0,E=0;E<m.length;E++)d=(g.words[E]|0)+(m.words[E]|0)+b,this.words[E]=d&67108863,b=d>>>26;for(;b!==0&&E<g.length;E++)d=(g.words[E]|0)+b,this.words[E]=d&67108863,b=d>>>26;if(this.length=g.length,b!==0)this.words[this.length]=b,this.length++;else if(g!==this)for(;E<g.length;E++)this.words[E]=g.words[E];return this},a.prototype.add=function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},a.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var g=this.cmp(f);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,b;g>0?(m=this,b=f):(m=f,b=this);for(var E=0,k=0;k<b.length;k++)d=(m.words[k]|0)-(b.words[k]|0)+E,E=d>>26,this.words[k]=d&67108863;for(;E!==0&&k<m.length;k++)d=(m.words[k]|0)+E,E=d>>26,this.words[k]=d&67108863;if(E===0&&k<m.length&&m!==this)for(;k<m.length;k++)this.words[k]=m.words[k];return this.length=Math.max(this.length,k),m!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(f){return this.clone().isub(f)};function S(M,f,d){d.negative=f.negative^M.negative;var g=M.length+f.length|0;d.length=g,g=g-1|0;var m=M.words[0]|0,b=f.words[0]|0,E=m*b,k=E&67108863,w=E/67108864|0;d.words[0]=k;for(var c=1;c<g;c++){for(var _=w>>>26,R=w&67108863,O=Math.min(c,f.length-1),F=Math.max(0,c-M.length+1);F<=O;F++){var U=c-F|0;m=M.words[U]|0,b=f.words[F]|0,E=m*b+R,_+=E/67108864|0,R=E&67108863}d.words[c]=R|0,w=_|0}return w!==0?d.words[c]=w|0:d.length--,d.strip()}var A=function(f,d,g){var m=f.words,b=d.words,E=g.words,k=0,w,c,_,R=m[0]|0,O=R&8191,F=R>>>13,U=m[1]|0,H=U&8191,J=U>>>13,fe=m[2]|0,B=fe&8191,q=fe>>>13,Y=m[3]|0,X=Y&8191,Q=Y>>>13,be=m[4]|0,ue=be&8191,me=be>>>13,yt=m[5]|0,xe=yt&8191,le=yt>>>13,zt=m[6]|0,we=zt&8191,Te=zt>>>13,ot=m[7]|0,ee=ot&8191,ie=ot>>>13,rt=m[8]|0,ae=rt&8191,de=rt>>>13,Je=m[9]|0,he=Je&8191,Se=Je>>>13,Tt=b[0]|0,_e=Tt&8191,Ie=Tt>>>13,ar=b[1]|0,Ne=ar&8191,Re=ar>>>13,ri=b[2]|0,qe=ri&8191,Fe=ri>>>13,Un=b[3]|0,$e=Un&8191,Be=Un>>>13,Vn=b[4]|0,Le=Vn&8191,ze=Vn>>>13,ni=b[5]|0,Pe=ni&8191,Oe=ni>>>13,Wn=b[6]|0,je=Wn&8191,Ue=Wn>>>13,Er=b[7]|0,ke=Er&8191,Ve=Er>>>13,In=b[8]|0,De=In&8191,We=In>>>13,Fn=b[9]|0,Ge=Fn&8191,He=Fn>>>13;g.negative=f.negative^d.negative,g.length=19,w=Math.imul(O,_e),c=Math.imul(O,Ie),c=c+Math.imul(F,_e)|0,_=Math.imul(F,Ie);var sn=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(sn>>>26)|0,sn&=67108863,w=Math.imul(H,_e),c=Math.imul(H,Ie),c=c+Math.imul(J,_e)|0,_=Math.imul(J,Ie),w=w+Math.imul(O,Ne)|0,c=c+Math.imul(O,Re)|0,c=c+Math.imul(F,Ne)|0,_=_+Math.imul(F,Re)|0;var Ct=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,w=Math.imul(B,_e),c=Math.imul(B,Ie),c=c+Math.imul(q,_e)|0,_=Math.imul(q,Ie),w=w+Math.imul(H,Ne)|0,c=c+Math.imul(H,Re)|0,c=c+Math.imul(J,Ne)|0,_=_+Math.imul(J,Re)|0,w=w+Math.imul(O,qe)|0,c=c+Math.imul(O,Fe)|0,c=c+Math.imul(F,qe)|0,_=_+Math.imul(F,Fe)|0;var Ft=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,w=Math.imul(X,_e),c=Math.imul(X,Ie),c=c+Math.imul(Q,_e)|0,_=Math.imul(Q,Ie),w=w+Math.imul(B,Ne)|0,c=c+Math.imul(B,Re)|0,c=c+Math.imul(q,Ne)|0,_=_+Math.imul(q,Re)|0,w=w+Math.imul(H,qe)|0,c=c+Math.imul(H,Fe)|0,c=c+Math.imul(J,qe)|0,_=_+Math.imul(J,Fe)|0,w=w+Math.imul(O,$e)|0,c=c+Math.imul(O,Be)|0,c=c+Math.imul(F,$e)|0,_=_+Math.imul(F,Be)|0;var $r=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+($r>>>26)|0,$r&=67108863,w=Math.imul(ue,_e),c=Math.imul(ue,Ie),c=c+Math.imul(me,_e)|0,_=Math.imul(me,Ie),w=w+Math.imul(X,Ne)|0,c=c+Math.imul(X,Re)|0,c=c+Math.imul(Q,Ne)|0,_=_+Math.imul(Q,Re)|0,w=w+Math.imul(B,qe)|0,c=c+Math.imul(B,Fe)|0,c=c+Math.imul(q,qe)|0,_=_+Math.imul(q,Fe)|0,w=w+Math.imul(H,$e)|0,c=c+Math.imul(H,Be)|0,c=c+Math.imul(J,$e)|0,_=_+Math.imul(J,Be)|0,w=w+Math.imul(O,Le)|0,c=c+Math.imul(O,ze)|0,c=c+Math.imul(F,Le)|0,_=_+Math.imul(F,ze)|0;var zr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(zr>>>26)|0,zr&=67108863,w=Math.imul(xe,_e),c=Math.imul(xe,Ie),c=c+Math.imul(le,_e)|0,_=Math.imul(le,Ie),w=w+Math.imul(ue,Ne)|0,c=c+Math.imul(ue,Re)|0,c=c+Math.imul(me,Ne)|0,_=_+Math.imul(me,Re)|0,w=w+Math.imul(X,qe)|0,c=c+Math.imul(X,Fe)|0,c=c+Math.imul(Q,qe)|0,_=_+Math.imul(Q,Fe)|0,w=w+Math.imul(B,$e)|0,c=c+Math.imul(B,Be)|0,c=c+Math.imul(q,$e)|0,_=_+Math.imul(q,Be)|0,w=w+Math.imul(H,Le)|0,c=c+Math.imul(H,ze)|0,c=c+Math.imul(J,Le)|0,_=_+Math.imul(J,ze)|0,w=w+Math.imul(O,Pe)|0,c=c+Math.imul(O,Oe)|0,c=c+Math.imul(F,Pe)|0,_=_+Math.imul(F,Oe)|0;var jr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(jr>>>26)|0,jr&=67108863,w=Math.imul(we,_e),c=Math.imul(we,Ie),c=c+Math.imul(Te,_e)|0,_=Math.imul(Te,Ie),w=w+Math.imul(xe,Ne)|0,c=c+Math.imul(xe,Re)|0,c=c+Math.imul(le,Ne)|0,_=_+Math.imul(le,Re)|0,w=w+Math.imul(ue,qe)|0,c=c+Math.imul(ue,Fe)|0,c=c+Math.imul(me,qe)|0,_=_+Math.imul(me,Fe)|0,w=w+Math.imul(X,$e)|0,c=c+Math.imul(X,Be)|0,c=c+Math.imul(Q,$e)|0,_=_+Math.imul(Q,Be)|0,w=w+Math.imul(B,Le)|0,c=c+Math.imul(B,ze)|0,c=c+Math.imul(q,Le)|0,_=_+Math.imul(q,ze)|0,w=w+Math.imul(H,Pe)|0,c=c+Math.imul(H,Oe)|0,c=c+Math.imul(J,Pe)|0,_=_+Math.imul(J,Oe)|0,w=w+Math.imul(O,je)|0,c=c+Math.imul(O,Ue)|0,c=c+Math.imul(F,je)|0,_=_+Math.imul(F,Ue)|0;var Ur=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,w=Math.imul(ee,_e),c=Math.imul(ee,Ie),c=c+Math.imul(ie,_e)|0,_=Math.imul(ie,Ie),w=w+Math.imul(we,Ne)|0,c=c+Math.imul(we,Re)|0,c=c+Math.imul(Te,Ne)|0,_=_+Math.imul(Te,Re)|0,w=w+Math.imul(xe,qe)|0,c=c+Math.imul(xe,Fe)|0,c=c+Math.imul(le,qe)|0,_=_+Math.imul(le,Fe)|0,w=w+Math.imul(ue,$e)|0,c=c+Math.imul(ue,Be)|0,c=c+Math.imul(me,$e)|0,_=_+Math.imul(me,Be)|0,w=w+Math.imul(X,Le)|0,c=c+Math.imul(X,ze)|0,c=c+Math.imul(Q,Le)|0,_=_+Math.imul(Q,ze)|0,w=w+Math.imul(B,Pe)|0,c=c+Math.imul(B,Oe)|0,c=c+Math.imul(q,Pe)|0,_=_+Math.imul(q,Oe)|0,w=w+Math.imul(H,je)|0,c=c+Math.imul(H,Ue)|0,c=c+Math.imul(J,je)|0,_=_+Math.imul(J,Ue)|0,w=w+Math.imul(O,ke)|0,c=c+Math.imul(O,Ve)|0,c=c+Math.imul(F,ke)|0,_=_+Math.imul(F,Ve)|0;var Vr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,w=Math.imul(ae,_e),c=Math.imul(ae,Ie),c=c+Math.imul(de,_e)|0,_=Math.imul(de,Ie),w=w+Math.imul(ee,Ne)|0,c=c+Math.imul(ee,Re)|0,c=c+Math.imul(ie,Ne)|0,_=_+Math.imul(ie,Re)|0,w=w+Math.imul(we,qe)|0,c=c+Math.imul(we,Fe)|0,c=c+Math.imul(Te,qe)|0,_=_+Math.imul(Te,Fe)|0,w=w+Math.imul(xe,$e)|0,c=c+Math.imul(xe,Be)|0,c=c+Math.imul(le,$e)|0,_=_+Math.imul(le,Be)|0,w=w+Math.imul(ue,Le)|0,c=c+Math.imul(ue,ze)|0,c=c+Math.imul(me,Le)|0,_=_+Math.imul(me,ze)|0,w=w+Math.imul(X,Pe)|0,c=c+Math.imul(X,Oe)|0,c=c+Math.imul(Q,Pe)|0,_=_+Math.imul(Q,Oe)|0,w=w+Math.imul(B,je)|0,c=c+Math.imul(B,Ue)|0,c=c+Math.imul(q,je)|0,_=_+Math.imul(q,Ue)|0,w=w+Math.imul(H,ke)|0,c=c+Math.imul(H,Ve)|0,c=c+Math.imul(J,ke)|0,_=_+Math.imul(J,Ve)|0,w=w+Math.imul(O,De)|0,c=c+Math.imul(O,We)|0,c=c+Math.imul(F,De)|0,_=_+Math.imul(F,We)|0;var Wr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,w=Math.imul(he,_e),c=Math.imul(he,Ie),c=c+Math.imul(Se,_e)|0,_=Math.imul(Se,Ie),w=w+Math.imul(ae,Ne)|0,c=c+Math.imul(ae,Re)|0,c=c+Math.imul(de,Ne)|0,_=_+Math.imul(de,Re)|0,w=w+Math.imul(ee,qe)|0,c=c+Math.imul(ee,Fe)|0,c=c+Math.imul(ie,qe)|0,_=_+Math.imul(ie,Fe)|0,w=w+Math.imul(we,$e)|0,c=c+Math.imul(we,Be)|0,c=c+Math.imul(Te,$e)|0,_=_+Math.imul(Te,Be)|0,w=w+Math.imul(xe,Le)|0,c=c+Math.imul(xe,ze)|0,c=c+Math.imul(le,Le)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(ue,Pe)|0,c=c+Math.imul(ue,Oe)|0,c=c+Math.imul(me,Pe)|0,_=_+Math.imul(me,Oe)|0,w=w+Math.imul(X,je)|0,c=c+Math.imul(X,Ue)|0,c=c+Math.imul(Q,je)|0,_=_+Math.imul(Q,Ue)|0,w=w+Math.imul(B,ke)|0,c=c+Math.imul(B,Ve)|0,c=c+Math.imul(q,ke)|0,_=_+Math.imul(q,Ve)|0,w=w+Math.imul(H,De)|0,c=c+Math.imul(H,We)|0,c=c+Math.imul(J,De)|0,_=_+Math.imul(J,We)|0,w=w+Math.imul(O,Ge)|0,c=c+Math.imul(O,He)|0,c=c+Math.imul(F,Ge)|0,_=_+Math.imul(F,He)|0;var Gr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,w=Math.imul(he,Ne),c=Math.imul(he,Re),c=c+Math.imul(Se,Ne)|0,_=Math.imul(Se,Re),w=w+Math.imul(ae,qe)|0,c=c+Math.imul(ae,Fe)|0,c=c+Math.imul(de,qe)|0,_=_+Math.imul(de,Fe)|0,w=w+Math.imul(ee,$e)|0,c=c+Math.imul(ee,Be)|0,c=c+Math.imul(ie,$e)|0,_=_+Math.imul(ie,Be)|0,w=w+Math.imul(we,Le)|0,c=c+Math.imul(we,ze)|0,c=c+Math.imul(Te,Le)|0,_=_+Math.imul(Te,ze)|0,w=w+Math.imul(xe,Pe)|0,c=c+Math.imul(xe,Oe)|0,c=c+Math.imul(le,Pe)|0,_=_+Math.imul(le,Oe)|0,w=w+Math.imul(ue,je)|0,c=c+Math.imul(ue,Ue)|0,c=c+Math.imul(me,je)|0,_=_+Math.imul(me,Ue)|0,w=w+Math.imul(X,ke)|0,c=c+Math.imul(X,Ve)|0,c=c+Math.imul(Q,ke)|0,_=_+Math.imul(Q,Ve)|0,w=w+Math.imul(B,De)|0,c=c+Math.imul(B,We)|0,c=c+Math.imul(q,De)|0,_=_+Math.imul(q,We)|0,w=w+Math.imul(H,Ge)|0,c=c+Math.imul(H,He)|0,c=c+Math.imul(J,Ge)|0,_=_+Math.imul(J,He)|0;var Hr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w=Math.imul(he,qe),c=Math.imul(he,Fe),c=c+Math.imul(Se,qe)|0,_=Math.imul(Se,Fe),w=w+Math.imul(ae,$e)|0,c=c+Math.imul(ae,Be)|0,c=c+Math.imul(de,$e)|0,_=_+Math.imul(de,Be)|0,w=w+Math.imul(ee,Le)|0,c=c+Math.imul(ee,ze)|0,c=c+Math.imul(ie,Le)|0,_=_+Math.imul(ie,ze)|0,w=w+Math.imul(we,Pe)|0,c=c+Math.imul(we,Oe)|0,c=c+Math.imul(Te,Pe)|0,_=_+Math.imul(Te,Oe)|0,w=w+Math.imul(xe,je)|0,c=c+Math.imul(xe,Ue)|0,c=c+Math.imul(le,je)|0,_=_+Math.imul(le,Ue)|0,w=w+Math.imul(ue,ke)|0,c=c+Math.imul(ue,Ve)|0,c=c+Math.imul(me,ke)|0,_=_+Math.imul(me,Ve)|0,w=w+Math.imul(X,De)|0,c=c+Math.imul(X,We)|0,c=c+Math.imul(Q,De)|0,_=_+Math.imul(Q,We)|0,w=w+Math.imul(B,Ge)|0,c=c+Math.imul(B,He)|0,c=c+Math.imul(q,Ge)|0,_=_+Math.imul(q,He)|0;var Kr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,w=Math.imul(he,$e),c=Math.imul(he,Be),c=c+Math.imul(Se,$e)|0,_=Math.imul(Se,Be),w=w+Math.imul(ae,Le)|0,c=c+Math.imul(ae,ze)|0,c=c+Math.imul(de,Le)|0,_=_+Math.imul(de,ze)|0,w=w+Math.imul(ee,Pe)|0,c=c+Math.imul(ee,Oe)|0,c=c+Math.imul(ie,Pe)|0,_=_+Math.imul(ie,Oe)|0,w=w+Math.imul(we,je)|0,c=c+Math.imul(we,Ue)|0,c=c+Math.imul(Te,je)|0,_=_+Math.imul(Te,Ue)|0,w=w+Math.imul(xe,ke)|0,c=c+Math.imul(xe,Ve)|0,c=c+Math.imul(le,ke)|0,_=_+Math.imul(le,Ve)|0,w=w+Math.imul(ue,De)|0,c=c+Math.imul(ue,We)|0,c=c+Math.imul(me,De)|0,_=_+Math.imul(me,We)|0,w=w+Math.imul(X,Ge)|0,c=c+Math.imul(X,He)|0,c=c+Math.imul(Q,Ge)|0,_=_+Math.imul(Q,He)|0;var Zr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,w=Math.imul(he,Le),c=Math.imul(he,ze),c=c+Math.imul(Se,Le)|0,_=Math.imul(Se,ze),w=w+Math.imul(ae,Pe)|0,c=c+Math.imul(ae,Oe)|0,c=c+Math.imul(de,Pe)|0,_=_+Math.imul(de,Oe)|0,w=w+Math.imul(ee,je)|0,c=c+Math.imul(ee,Ue)|0,c=c+Math.imul(ie,je)|0,_=_+Math.imul(ie,Ue)|0,w=w+Math.imul(we,ke)|0,c=c+Math.imul(we,Ve)|0,c=c+Math.imul(Te,ke)|0,_=_+Math.imul(Te,Ve)|0,w=w+Math.imul(xe,De)|0,c=c+Math.imul(xe,We)|0,c=c+Math.imul(le,De)|0,_=_+Math.imul(le,We)|0,w=w+Math.imul(ue,Ge)|0,c=c+Math.imul(ue,He)|0,c=c+Math.imul(me,Ge)|0,_=_+Math.imul(me,He)|0;var Jr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,w=Math.imul(he,Pe),c=Math.imul(he,Oe),c=c+Math.imul(Se,Pe)|0,_=Math.imul(Se,Oe),w=w+Math.imul(ae,je)|0,c=c+Math.imul(ae,Ue)|0,c=c+Math.imul(de,je)|0,_=_+Math.imul(de,Ue)|0,w=w+Math.imul(ee,ke)|0,c=c+Math.imul(ee,Ve)|0,c=c+Math.imul(ie,ke)|0,_=_+Math.imul(ie,Ve)|0,w=w+Math.imul(we,De)|0,c=c+Math.imul(we,We)|0,c=c+Math.imul(Te,De)|0,_=_+Math.imul(Te,We)|0,w=w+Math.imul(xe,Ge)|0,c=c+Math.imul(xe,He)|0,c=c+Math.imul(le,Ge)|0,_=_+Math.imul(le,He)|0;var Yr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,w=Math.imul(he,je),c=Math.imul(he,Ue),c=c+Math.imul(Se,je)|0,_=Math.imul(Se,Ue),w=w+Math.imul(ae,ke)|0,c=c+Math.imul(ae,Ve)|0,c=c+Math.imul(de,ke)|0,_=_+Math.imul(de,Ve)|0,w=w+Math.imul(ee,De)|0,c=c+Math.imul(ee,We)|0,c=c+Math.imul(ie,De)|0,_=_+Math.imul(ie,We)|0,w=w+Math.imul(we,Ge)|0,c=c+Math.imul(we,He)|0,c=c+Math.imul(Te,Ge)|0,_=_+Math.imul(Te,He)|0;var Xr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,w=Math.imul(he,ke),c=Math.imul(he,Ve),c=c+Math.imul(Se,ke)|0,_=Math.imul(Se,Ve),w=w+Math.imul(ae,De)|0,c=c+Math.imul(ae,We)|0,c=c+Math.imul(de,De)|0,_=_+Math.imul(de,We)|0,w=w+Math.imul(ee,Ge)|0,c=c+Math.imul(ee,He)|0,c=c+Math.imul(ie,Ge)|0,_=_+Math.imul(ie,He)|0;var Qr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,w=Math.imul(he,De),c=Math.imul(he,We),c=c+Math.imul(Se,De)|0,_=Math.imul(Se,We),w=w+Math.imul(ae,Ge)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul(de,Ge)|0,_=_+Math.imul(de,He)|0;var er=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(er>>>26)|0,er&=67108863,w=Math.imul(he,Ge),c=Math.imul(he,He),c=c+Math.imul(Se,Ge)|0,_=Math.imul(Se,He);var Ir=(k+w|0)+((c&8191)<<13)|0;return k=(_+(c>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,E[0]=sn,E[1]=Ct,E[2]=Ft,E[3]=$r,E[4]=zr,E[5]=jr,E[6]=Ur,E[7]=Vr,E[8]=Wr,E[9]=Gr,E[10]=Hr,E[11]=Kr,E[12]=Zr,E[13]=Jr,E[14]=Yr,E[15]=Xr,E[16]=Qr,E[17]=er,E[18]=Ir,k!==0&&(E[19]=k,g.length++),g};Math.imul||(A=S);function T(M,f,d){d.negative=f.negative^M.negative,d.length=M.length+f.length;for(var g=0,m=0,b=0;b<d.length-1;b++){var E=m;m=0;for(var k=g&67108863,w=Math.min(b,f.length-1),c=Math.max(0,b-M.length+1);c<=w;c++){var _=b-c,R=M.words[_]|0,O=f.words[c]|0,F=R*O,U=F&67108863;E=E+(F/67108864|0)|0,U=U+k|0,k=U&67108863,E=E+(U>>>26)|0,m+=E>>>26,E&=67108863}d.words[b]=k,g=E,E=m}return g!==0?d.words[b]=g:d.length--,d.strip()}function I(M,f,d){var g=new N;return g.mulp(M,f,d)}a.prototype.mulTo=function(f,d){var g,m=this.length+f.length;return this.length===10&&f.length===10?g=A(this,f,d):m<63?g=S(this,f,d):m<1024?g=T(this,f,d):g=I(this,f,d),g};function N(M,f){this.x=M,this.y=f}N.prototype.makeRBT=function(f){for(var d=new Array(f),g=a.prototype._countBits(f)-1,m=0;m<f;m++)d[m]=this.revBin(m,g,f);return d},N.prototype.revBin=function(f,d,g){if(f===0||f===g-1)return f;for(var m=0,b=0;b<d;b++)m|=(f&1)<<d-b-1,f>>=1;return m},N.prototype.permute=function(f,d,g,m,b,E){for(var k=0;k<E;k++)m[k]=d[f[k]],b[k]=g[f[k]]},N.prototype.transform=function(f,d,g,m,b,E){this.permute(E,f,d,g,m,b);for(var k=1;k<b;k<<=1)for(var w=k<<1,c=Math.cos(2*Math.PI/w),_=Math.sin(2*Math.PI/w),R=0;R<b;R+=w)for(var O=c,F=_,U=0;U<k;U++){var H=g[R+U],J=m[R+U],fe=g[R+U+k],B=m[R+U+k],q=O*fe-F*B;B=O*B+F*fe,fe=q,g[R+U]=H+fe,m[R+U]=J+B,g[R+U+k]=H-fe,m[R+U+k]=J-B,U!==w&&(q=c*O-_*F,F=c*F+_*O,O=q)}},N.prototype.guessLen13b=function(f,d){var g=Math.max(d,f)|1,m=g&1,b=0;for(g=g/2|0;g;g=g>>>1)b++;return 1<<b+1+m},N.prototype.conjugate=function(f,d,g){if(!(g<=1))for(var m=0;m<g/2;m++){var b=f[m];f[m]=f[g-m-1],f[g-m-1]=b,b=d[m],d[m]=-d[g-m-1],d[g-m-1]=-b}},N.prototype.normalize13b=function(f,d){for(var g=0,m=0;m<d/2;m++){var b=Math.round(f[2*m+1]/d)*8192+Math.round(f[2*m]/d)+g;f[m]=b&67108863,b<67108864?g=0:g=b/67108864|0}return f},N.prototype.convert13b=function(f,d,g,m){for(var b=0,E=0;E<d;E++)b=b+(f[E]|0),g[2*E]=b&8191,b=b>>>13,g[2*E+1]=b&8191,b=b>>>13;for(E=2*d;E<m;++E)g[E]=0;r(b===0),r((b&-8192)===0)},N.prototype.stub=function(f){for(var d=new Array(f),g=0;g<f;g++)d[g]=0;return d},N.prototype.mulp=function(f,d,g){var m=2*this.guessLen13b(f.length,d.length),b=this.makeRBT(m),E=this.stub(m),k=new Array(m),w=new Array(m),c=new Array(m),_=new Array(m),R=new Array(m),O=new Array(m),F=g.words;F.length=m,this.convert13b(f.words,f.length,k,m),this.convert13b(d.words,d.length,_,m),this.transform(k,E,w,c,m,b),this.transform(_,E,R,O,m,b);for(var U=0;U<m;U++){var H=w[U]*R[U]-c[U]*O[U];c[U]=w[U]*O[U]+c[U]*R[U],w[U]=H}return this.conjugate(w,c,m),this.transform(w,c,F,E,m,b),this.conjugate(F,E,m),this.normalize13b(F,m),g.negative=f.negative^d.negative,g.length=f.length+d.length,g.strip()},a.prototype.mul=function(f){var d=new a(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},a.prototype.mulf=function(f){var d=new a(null);return d.words=new Array(this.length+f.length),I(this,f,d)},a.prototype.imul=function(f){return this.clone().mulTo(f,this)},a.prototype.imuln=function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,g=0;g<this.length;g++){var m=(this.words[g]|0)*f,b=(m&67108863)+(d&67108863);d>>=26,d+=m/67108864|0,d+=b>>>26,this.words[g]=b&67108863}return d!==0&&(this.words[g]=d,this.length++),this},a.prototype.muln=function(f){return this.clone().imuln(f)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(f){var d=y(f);if(d.length===0)return new a(1);for(var g=this,m=0;m<d.length&&d[m]===0;m++,g=g.sqr());if(++m<d.length)for(var b=g.sqr();m<d.length;m++,b=b.sqr())d[m]!==0&&(g=g.mul(b));return g},a.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26,m=67108863>>>26-d<<26-d,b;if(d!==0){var E=0;for(b=0;b<this.length;b++){var k=this.words[b]&m,w=(this.words[b]|0)-k<<d;this.words[b]=w|E,E=k>>>26-d}E&&(this.words[b]=E,this.length++)}if(g!==0){for(b=this.length-1;b>=0;b--)this.words[b+g]=this.words[b];for(b=0;b<g;b++)this.words[b]=0;this.length+=g}return this.strip()},a.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},a.prototype.iushrn=function(f,d,g){r(typeof f=="number"&&f>=0);var m;d?m=(d-d%26)/26:m=0;var b=f%26,E=Math.min((f-b)/26,this.length),k=67108863^67108863>>>b<<b,w=g;if(m-=E,m=Math.max(0,m),w){for(var c=0;c<E;c++)w.words[c]=this.words[c];w.length=E}if(E!==0)if(this.length>E)for(this.length-=E,c=0;c<this.length;c++)this.words[c]=this.words[c+E];else this.words[0]=0,this.length=1;var _=0;for(c=this.length-1;c>=0&&(_!==0||c>=m);c--){var R=this.words[c]|0;this.words[c]=_<<26-b|R>>>b,_=R&k}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(f,d,g){return r(this.negative===0),this.iushrn(f,d,g)},a.prototype.shln=function(f){return this.clone().ishln(f)},a.prototype.ushln=function(f){return this.clone().iushln(f)},a.prototype.shrn=function(f){return this.clone().ishrn(f)},a.prototype.ushrn=function(f){return this.clone().iushrn(f)},a.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26,m=1<<d;if(this.length<=g)return!1;var b=this.words[g];return!!(b&m)},a.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(d!==0&&g++,this.length=Math.min(g,this.length),d!==0){var m=67108863^67108863>>>d<<d;this.words[this.length-1]&=m}return this.strip()},a.prototype.maskn=function(f){return this.clone().imaskn(f)},a.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},a.prototype._iaddn=function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},a.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},a.prototype.addn=function(f){return this.clone().iaddn(f)},a.prototype.subn=function(f){return this.clone().isubn(f)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(f,d,g){var m=f.length+g,b;this._expand(m);var E,k=0;for(b=0;b<f.length;b++){E=(this.words[b+g]|0)+k;var w=(f.words[b]|0)*d;E-=w&67108863,k=(E>>26)-(w/67108864|0),this.words[b+g]=E&67108863}for(;b<this.length-g;b++)E=(this.words[b+g]|0)+k,k=E>>26,this.words[b+g]=E&67108863;if(k===0)return this.strip();for(r(k===-1),k=0,b=0;b<this.length;b++)E=-(this.words[b]|0)+k,k=E>>26,this.words[b]=E&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(f,d){var g=this.length-f.length,m=this.clone(),b=f,E=b.words[b.length-1]|0,k=this._countBits(E);g=26-k,g!==0&&(b=b.ushln(g),m.iushln(g),E=b.words[b.length-1]|0);var w=m.length-b.length,c;if(d!=="mod"){c=new a(null),c.length=w+1,c.words=new Array(c.length);for(var _=0;_<c.length;_++)c.words[_]=0}var R=m.clone()._ishlnsubmul(b,1,w);R.negative===0&&(m=R,c&&(c.words[w]=1));for(var O=w-1;O>=0;O--){var F=(m.words[b.length+O]|0)*67108864+(m.words[b.length+O-1]|0);for(F=Math.min(F/E|0,67108863),m._ishlnsubmul(b,F,O);m.negative!==0;)F--,m.negative=0,m._ishlnsubmul(b,1,O),m.isZero()||(m.negative^=1);c&&(c.words[O]=F)}return c&&c.strip(),m.strip(),d!=="div"&&g!==0&&m.iushrn(g),{div:c||null,mod:m}},a.prototype.divmod=function(f,d,g){if(r(!f.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var m,b,E;return this.negative!==0&&f.negative===0?(E=this.neg().divmod(f,d),d!=="mod"&&(m=E.div.neg()),d!=="div"&&(b=E.mod.neg(),g&&b.negative!==0&&b.iadd(f)),{div:m,mod:b}):this.negative===0&&f.negative!==0?(E=this.divmod(f.neg(),d),d!=="mod"&&(m=E.div.neg()),{div:m,mod:E.mod}):(this.negative&f.negative)!==0?(E=this.neg().divmod(f.neg(),d),d!=="div"&&(b=E.mod.neg(),g&&b.negative!==0&&b.isub(f)),{div:E.div,mod:b}):f.length>this.length||this.cmp(f)<0?{div:new a(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new a(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new a(this.modn(f.words[0]))}:this._wordDiv(f,d)},a.prototype.div=function(f){return this.divmod(f,"div",!1).div},a.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},a.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},a.prototype.divRound=function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var g=d.div.negative!==0?d.mod.isub(f):d.mod,m=f.ushrn(1),b=f.andln(1),E=g.cmp(m);return E<0||b===1&&E===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},a.prototype.modn=function(f){r(f<=67108863);for(var d=(1<<26)%f,g=0,m=this.length-1;m>=0;m--)g=(d*g+(this.words[m]|0))%f;return g},a.prototype.idivn=function(f){r(f<=67108863);for(var d=0,g=this.length-1;g>=0;g--){var m=(this.words[g]|0)+d*67108864;this.words[g]=m/f|0,d=m%f}return this.strip()},a.prototype.divn=function(f){return this.clone().idivn(f)},a.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var d=this,g=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var m=new a(1),b=new a(0),E=new a(0),k=new a(1),w=0;d.isEven()&&g.isEven();)d.iushrn(1),g.iushrn(1),++w;for(var c=g.clone(),_=d.clone();!d.isZero();){for(var R=0,O=1;(d.words[0]&O)===0&&R<26;++R,O<<=1);if(R>0)for(d.iushrn(R);R-- >0;)(m.isOdd()||b.isOdd())&&(m.iadd(c),b.isub(_)),m.iushrn(1),b.iushrn(1);for(var F=0,U=1;(g.words[0]&U)===0&&F<26;++F,U<<=1);if(F>0)for(g.iushrn(F);F-- >0;)(E.isOdd()||k.isOdd())&&(E.iadd(c),k.isub(_)),E.iushrn(1),k.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(E),b.isub(k)):(g.isub(d),E.isub(m),k.isub(b))}return{a:E,b:k,gcd:g.iushln(w)}},a.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var d=this,g=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var m=new a(1),b=new a(0),E=g.clone();d.cmpn(1)>0&&g.cmpn(1)>0;){for(var k=0,w=1;(d.words[0]&w)===0&&k<26;++k,w<<=1);if(k>0)for(d.iushrn(k);k-- >0;)m.isOdd()&&m.iadd(E),m.iushrn(1);for(var c=0,_=1;(g.words[0]&_)===0&&c<26;++c,_<<=1);if(c>0)for(g.iushrn(c);c-- >0;)b.isOdd()&&b.iadd(E),b.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(b)):(g.isub(d),b.isub(m))}var R;return d.cmpn(1)===0?R=m:R=b,R.cmpn(0)<0&&R.iadd(f),R},a.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),g=f.clone();d.negative=0,g.negative=0;for(var m=0;d.isEven()&&g.isEven();m++)d.iushrn(1),g.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;g.isEven();)g.iushrn(1);var b=d.cmp(g);if(b<0){var E=d;d=g,g=E}else if(b===0||g.cmpn(1)===0)break;d.isub(g)}while(!0);return g.iushln(m)},a.prototype.invm=function(f){return this.egcd(f).a.umod(f)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(f){return this.words[0]&f},a.prototype.bincn=function(f){r(typeof f=="number");var d=f%26,g=(f-d)/26,m=1<<d;if(this.length<=g)return this._expand(g+1),this.words[g]|=m,this;for(var b=m,E=g;b!==0&&E<this.length;E++){var k=this.words[E]|0;k+=b,b=k>>>26,k&=67108863,this.words[E]=k}return b!==0&&(this.words[E]=b,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var g;if(this.length>1)g=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var m=this.words[0]|0;g=m===f?0:m<f?-1:1}return this.negative!==0?-g|0:g},a.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},a.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,g=this.length-1;g>=0;g--){var m=this.words[g]|0,b=f.words[g]|0;if(m!==b){m<b?d=-1:m>b&&(d=1);break}}return d},a.prototype.gtn=function(f){return this.cmpn(f)===1},a.prototype.gt=function(f){return this.cmp(f)===1},a.prototype.gten=function(f){return this.cmpn(f)>=0},a.prototype.gte=function(f){return this.cmp(f)>=0},a.prototype.ltn=function(f){return this.cmpn(f)===-1},a.prototype.lt=function(f){return this.cmp(f)===-1},a.prototype.lten=function(f){return this.cmpn(f)<=0},a.prototype.lte=function(f){return this.cmp(f)<=0},a.prototype.eqn=function(f){return this.cmpn(f)===0},a.prototype.eq=function(f){return this.cmp(f)===0},a.red=function(f){return new j(f)},a.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(f){return this.red=f,this},a.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},a.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},a.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},a.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},a.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},a.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},a.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},a.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var D={k256:null,p224:null,p192:null,p25519:null};function C(M,f){this.name=M,this.p=new a(f,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var f=new a(null);return f.words=new Array(Math.ceil(this.n/13)),f},C.prototype.ireduce=function(f){var d=f,g;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),g=d.bitLength();while(g>this.n);var m=g<this.n?-1:d.ucmp(this.p);return m===0?(d.words[0]=0,d.length=1):m>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},C.prototype.split=function(f,d){f.iushrn(this.n,0,d)},C.prototype.imulK=function(f){return f.imul(this.k)};function L(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(L,C),L.prototype.split=function(f,d){for(var g=4194303,m=Math.min(f.length,9),b=0;b<m;b++)d.words[b]=f.words[b];if(d.length=m,f.length<=9){f.words[0]=0,f.length=1;return}var E=f.words[9];for(d.words[d.length++]=E&g,b=10;b<f.length;b++){var k=f.words[b]|0;f.words[b-10]=(k&g)<<4|E>>>22,E=k}E>>>=22,f.words[b-10]=E,E===0&&f.length>10?f.length-=10:f.length-=9},L.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,g=0;g<f.length;g++){var m=f.words[g]|0;d+=m*977,f.words[g]=d&67108863,d=m*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function z(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(z,C);function $(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n($,C);function G(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(G,C),G.prototype.imulK=function(f){for(var d=0,g=0;g<f.length;g++){var m=(f.words[g]|0)*19+d,b=m&67108863;m>>>=26,f.words[g]=b,d=m}return d!==0&&(f.words[f.length++]=d),f},a._prime=function(f){if(D[f])return D[f];var d;if(f==="k256")d=new L;else if(f==="p224")d=new z;else if(f==="p192")d=new $;else if(f==="p25519")d=new G;else throw new Error("Unknown prime "+f);return D[f]=d,d};function j(M){if(typeof M=="string"){var f=a._prime(M);this.m=f.p,this.prime=f}else r(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}j.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},j.prototype._verify2=function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},j.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},j.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},j.prototype.add=function(f,d){this._verify2(f,d);var g=f.add(d);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},j.prototype.iadd=function(f,d){this._verify2(f,d);var g=f.iadd(d);return g.cmp(this.m)>=0&&g.isub(this.m),g},j.prototype.sub=function(f,d){this._verify2(f,d);var g=f.sub(d);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},j.prototype.isub=function(f,d){this._verify2(f,d);var g=f.isub(d);return g.cmpn(0)<0&&g.iadd(this.m),g},j.prototype.shl=function(f,d){return this._verify1(f),this.imod(f.ushln(d))},j.prototype.imul=function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},j.prototype.mul=function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},j.prototype.isqr=function(f){return this.imul(f,f.clone())},j.prototype.sqr=function(f){return this.mul(f,f)},j.prototype.sqrt=function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var g=this.m.add(new a(1)).iushrn(2);return this.pow(f,g)}for(var m=this.m.subn(1),b=0;!m.isZero()&&m.andln(1)===0;)b++,m.iushrn(1);r(!m.isZero());var E=new a(1).toRed(this),k=E.redNeg(),w=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new a(2*c*c).toRed(this);this.pow(c,w).cmp(k)!==0;)c.redIAdd(k);for(var _=this.pow(c,m),R=this.pow(f,m.addn(1).iushrn(1)),O=this.pow(f,m),F=b;O.cmp(E)!==0;){for(var U=O,H=0;U.cmp(E)!==0;H++)U=U.redSqr();r(H<F);var J=this.pow(_,new a(1).iushln(F-H-1));R=R.redMul(J),_=J.redSqr(),O=O.redMul(_),F=H}return R},j.prototype.invm=function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},j.prototype.pow=function(f,d){if(d.isZero())return new a(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var g=4,m=new Array(1<<g);m[0]=new a(1).toRed(this),m[1]=f;for(var b=2;b<m.length;b++)m[b]=this.mul(m[b-1],f);var E=m[0],k=0,w=0,c=d.bitLength()%26;for(c===0&&(c=26),b=d.length-1;b>=0;b--){for(var _=d.words[b],R=c-1;R>=0;R--){var O=_>>R&1;if(E!==m[0]&&(E=this.sqr(E)),O===0&&k===0){w=0;continue}k<<=1,k|=O,w++,!(w!==g&&(b!==0||R!==0))&&(E=this.mul(E,m[k]),w=0,k=0)}c=26}return E},j.prototype.convertTo=function(f){var d=f.umod(this.m);return d===f?d.clone():d},j.prototype.convertFrom=function(f){var d=f.clone();return d.red=null,d},a.mont=function(f){return new Z(f)};function Z(M){j.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Z,j),Z.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Z.prototype.convertFrom=function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},Z.prototype.imul=function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var g=f.imul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=g.isub(m).iushrn(this.shift),E=b;return b.cmp(this.m)>=0?E=b.isub(this.m):b.cmpn(0)<0&&(E=b.iadd(this.m)),E._forceRed(this)},Z.prototype.mul=function(f,d){if(f.isZero()||d.isZero())return new a(0)._forceRed(this);var g=f.mul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=g.isub(m).iushrn(this.shift),E=b;return b.cmp(this.m)>=0?E=b.isub(this.m):b.cmpn(0)<0&&(E=b.iadd(this.m)),E._forceRed(this)},Z.prototype.invm=function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof $6=="undefined"||$6,oz)});var lz=ne((Itt,fz)=>{var Uwe=G_(),Vwe=uz();fz.exports=function(e){return new fh(e)};var os={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};os.p224=os.secp224r1;os.p256=os.secp256r1=os.prime256v1;os.p192=os.secp192r1=os.prime192v1;os.p384=os.secp384r1;os.p521=os.secp521r1;function fh(t){this.curveType=os[t],this.curveType||(this.curveType={name:t}),this.curve=new Uwe.ec(this.curveType.name),this.keys=void 0}fh.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};fh.prototype.computeSecret=function(t,e,r){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var n=this.curve.keyFromPublic(t).getPublic(),a=n.mul(this.keys.getPrivate()).getX();return z6(a,r,this.curveType.byteLength)};fh.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),z6(r,t)};fh.prototype.getPrivateKey=function(t){return z6(this.keys.getPrivate(),t)};fh.prototype.setPublicKey=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.keys._importPublic(t),this};fh.prototype.setPrivateKey=function(t,e){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var r=new Vwe(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function z6(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new Buffer(t);if(r&&n.length<r){var a=new Buffer(r-n.length);a.fill(0),n=Buffer.concat([a,n])}return e?n.toString(e):n}});var U6=ne((Dtt,cz)=>{var Wwe=Qd(),j6=cr().Buffer;cz.exports=function(t,e){for(var r=j6.alloc(0),n=0,a;r.length<e;)a=Gwe(n++),r=j6.concat([r,Wwe("sha1").update(t).update(a).digest()]);return r.slice(0,e)};function Gwe(t){var e=j6.allocUnsafe(4);return e.writeUInt32BE(t,0),e}});var V6=ne((Ott,hz)=>{hz.exports=function(e,r){for(var n=e.length,a=-1;++a<n;)e[a]^=r[a];return e}});var a2=ne((dz,W6)=>{(function(t,e){"use strict";function r(M,f){if(!M)throw new Error(f||"Assertion failed")}function n(M,f){M.super_=f;var d=function(){};d.prototype=f.prototype,M.prototype=new d,M.prototype.constructor=M}function a(M,f,d){if(a.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(M||0,f||10,d||"be"))}typeof t=="object"?t.exports=a:e.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=yn().Buffer}catch(M){}a.isBN=function(f){return f instanceof a?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===a.wordSize&&Array.isArray(f.words)},a.max=function(f,d){return f.cmp(d)>0?f:d},a.min=function(f,d){return f.cmp(d)<0?f:d},a.prototype._init=function(f,d,g){if(typeof f=="number")return this._initNumber(f,d,g);if(typeof f=="object")return this._initArray(f,d,g);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var m=0;f[0]==="-"&&(m++,this.negative=1),m<f.length&&(d===16?this._parseHex(f,m,g):(this._parseBase(f,d,m),g==="le"&&this._initArray(this.toArray(),d,g)))},a.prototype._initNumber=function(f,d,g){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),d,g)},a.prototype._initArray=function(f,d,g){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var b,E,k=0;if(g==="be")for(m=f.length-1,b=0;m>=0;m-=3)E=f[m]|f[m-1]<<8|f[m-2]<<16,this.words[b]|=E<<k&67108863,this.words[b+1]=E>>>26-k&67108863,k+=24,k>=26&&(k-=26,b++);else if(g==="le")for(m=0,b=0;m<f.length;m+=3)E=f[m]|f[m+1]<<8|f[m+2]<<16,this.words[b]|=E<<k&67108863,this.words[b+1]=E>>>26-k&67108863,k+=24,k>=26&&(k-=26,b++);return this.strip()};function o(M,f){var d=M.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function u(M,f,d){var g=o(M,d);return d-1>=f&&(g|=o(M,d-1)<<4),g}a.prototype._parseHex=function(f,d,g){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var b=0,E=0,k;if(g==="be")for(m=f.length-1;m>=d;m-=2)k=u(f,d,m)<<b,this.words[E]|=k&67108863,b>=18?(b-=18,E+=1,this.words[E]|=k>>>26):b+=8;else{var w=f.length-d;for(m=w%2===0?d+1:d;m<f.length;m+=2)k=u(f,d,m)<<b,this.words[E]|=k&67108863,b>=18?(b-=18,E+=1,this.words[E]|=k>>>26):b+=8}this.strip()};function l(M,f,d,g){for(var m=0,b=Math.min(M.length,d),E=f;E<b;E++){var k=M.charCodeAt(E)-48;m*=g,k>=49?m+=k-49+10:k>=17?m+=k-17+10:m+=k}return m}a.prototype._parseBase=function(f,d,g){this.words=[0],this.length=1;for(var m=0,b=1;b<=67108863;b*=d)m++;m--,b=b/d|0;for(var E=f.length-g,k=E%m,w=Math.min(E,E-k)+g,c=0,_=g;_<w;_+=m)c=l(f,_,_+m,d),this.imuln(b),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(k!==0){var R=1;for(c=l(f,_,f.length,d),_=0;_<k;_++)R*=d;this.imuln(R),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},a.prototype.copy=function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},a.prototype.clone=function(){var f=new a(null);return this.copy(f),f},a.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(f,d){f=f||10,d=d|0||1;var g;if(f===16||f==="hex"){g="";for(var m=0,b=0,E=0;E<this.length;E++){var k=this.words[E],w=((k<<m|b)&16777215).toString(16);b=k>>>24-m&16777215,b!==0||E!==this.length-1?g=h[6-w.length]+w+g:g=w+g,m+=2,m>=26&&(m-=26,E--)}for(b!==0&&(g=b.toString(16)+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(f===(f|0)&&f>=2&&f<=36){var c=p[f],_=v[f];g="";var R=this.clone();for(R.negative=0;!R.isZero();){var O=R.modn(_).toString(f);R=R.idivn(_),R.isZero()?g=O+g:g=h[c-O.length]+O+g}for(this.isZero()&&(g="0"+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(f,d){return r(typeof s!="undefined"),this.toArrayLike(s,f,d)},a.prototype.toArray=function(f,d){return this.toArrayLike(Array,f,d)},a.prototype.toArrayLike=function(f,d,g){var m=this.byteLength(),b=g||Math.max(1,m);r(m<=b,"byte array longer than desired length"),r(b>0,"Requested array length <= 0"),this.strip();var E=d==="le",k=new f(b),w,c,_=this.clone();if(E){for(c=0;!_.isZero();c++)w=_.andln(255),_.iushrn(8),k[c]=w;for(;c<b;c++)k[c]=0}else{for(c=0;c<b-m;c++)k[c]=0;for(c=0;!_.isZero();c++)w=_.andln(255),_.iushrn(8),k[b-c-1]=w}return k},Math.clz32?a.prototype._countBits=function(f){return 32-Math.clz32(f)}:a.prototype._countBits=function(f){var d=f,g=0;return d>=4096&&(g+=13,d>>>=13),d>=64&&(g+=7,d>>>=7),d>=8&&(g+=4,d>>>=4),d>=2&&(g+=2,d>>>=2),g+d},a.prototype._zeroBits=function(f){if(f===0)return 26;var d=f,g=0;return(d&8191)===0&&(g+=13,d>>>=13),(d&127)===0&&(g+=7,d>>>=7),(d&15)===0&&(g+=4,d>>>=4),(d&3)===0&&(g+=2,d>>>=2),(d&1)===0&&g++,g},a.prototype.bitLength=function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d};function y(M){for(var f=new Array(M.bitLength()),d=0;d<f.length;d++){var g=d/26|0,m=d%26;f[d]=(M.words[g]&1<<m)>>>m}return f}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var g=this._zeroBits(this.words[d]);if(f+=g,g!==26)break}return f},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},a.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},a.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},a.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},a.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},a.prototype.iuand=function(f){var d;this.length>f.length?d=f:d=this;for(var g=0;g<d.length;g++)this.words[g]=this.words[g]&f.words[g];return this.length=d.length,this.strip()},a.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},a.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},a.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},a.prototype.iuxor=function(f){var d,g;this.length>f.length?(d=this,g=f):(d=f,g=this);for(var m=0;m<g.length;m++)this.words[m]=d.words[m]^g.words[m];if(this!==d)for(;m<d.length;m++)this.words[m]=d.words[m];return this.length=d.length,this.strip()},a.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},a.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},a.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},a.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,g=f%26;this._expand(d),g>0&&d--;for(var m=0;m<d;m++)this.words[m]=~this.words[m]&67108863;return g>0&&(this.words[m]=~this.words[m]&67108863>>26-g),this.strip()},a.prototype.notn=function(f){return this.clone().inotn(f)},a.prototype.setn=function(f,d){r(typeof f=="number"&&f>=0);var g=f/26|0,m=f%26;return this._expand(g+1),d?this.words[g]=this.words[g]|1<<m:this.words[g]=this.words[g]&~(1<<m),this.strip()},a.prototype.iadd=function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var g,m;this.length>f.length?(g=this,m=f):(g=f,m=this);for(var b=0,E=0;E<m.length;E++)d=(g.words[E]|0)+(m.words[E]|0)+b,this.words[E]=d&67108863,b=d>>>26;for(;b!==0&&E<g.length;E++)d=(g.words[E]|0)+b,this.words[E]=d&67108863,b=d>>>26;if(this.length=g.length,b!==0)this.words[this.length]=b,this.length++;else if(g!==this)for(;E<g.length;E++)this.words[E]=g.words[E];return this},a.prototype.add=function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},a.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var g=this.cmp(f);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,b;g>0?(m=this,b=f):(m=f,b=this);for(var E=0,k=0;k<b.length;k++)d=(m.words[k]|0)-(b.words[k]|0)+E,E=d>>26,this.words[k]=d&67108863;for(;E!==0&&k<m.length;k++)d=(m.words[k]|0)+E,E=d>>26,this.words[k]=d&67108863;if(E===0&&k<m.length&&m!==this)for(;k<m.length;k++)this.words[k]=m.words[k];return this.length=Math.max(this.length,k),m!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(f){return this.clone().isub(f)};function S(M,f,d){d.negative=f.negative^M.negative;var g=M.length+f.length|0;d.length=g,g=g-1|0;var m=M.words[0]|0,b=f.words[0]|0,E=m*b,k=E&67108863,w=E/67108864|0;d.words[0]=k;for(var c=1;c<g;c++){for(var _=w>>>26,R=w&67108863,O=Math.min(c,f.length-1),F=Math.max(0,c-M.length+1);F<=O;F++){var U=c-F|0;m=M.words[U]|0,b=f.words[F]|0,E=m*b+R,_+=E/67108864|0,R=E&67108863}d.words[c]=R|0,w=_|0}return w!==0?d.words[c]=w|0:d.length--,d.strip()}var A=function(f,d,g){var m=f.words,b=d.words,E=g.words,k=0,w,c,_,R=m[0]|0,O=R&8191,F=R>>>13,U=m[1]|0,H=U&8191,J=U>>>13,fe=m[2]|0,B=fe&8191,q=fe>>>13,Y=m[3]|0,X=Y&8191,Q=Y>>>13,be=m[4]|0,ue=be&8191,me=be>>>13,yt=m[5]|0,xe=yt&8191,le=yt>>>13,zt=m[6]|0,we=zt&8191,Te=zt>>>13,ot=m[7]|0,ee=ot&8191,ie=ot>>>13,rt=m[8]|0,ae=rt&8191,de=rt>>>13,Je=m[9]|0,he=Je&8191,Se=Je>>>13,Tt=b[0]|0,_e=Tt&8191,Ie=Tt>>>13,ar=b[1]|0,Ne=ar&8191,Re=ar>>>13,ri=b[2]|0,qe=ri&8191,Fe=ri>>>13,Un=b[3]|0,$e=Un&8191,Be=Un>>>13,Vn=b[4]|0,Le=Vn&8191,ze=Vn>>>13,ni=b[5]|0,Pe=ni&8191,Oe=ni>>>13,Wn=b[6]|0,je=Wn&8191,Ue=Wn>>>13,Er=b[7]|0,ke=Er&8191,Ve=Er>>>13,In=b[8]|0,De=In&8191,We=In>>>13,Fn=b[9]|0,Ge=Fn&8191,He=Fn>>>13;g.negative=f.negative^d.negative,g.length=19,w=Math.imul(O,_e),c=Math.imul(O,Ie),c=c+Math.imul(F,_e)|0,_=Math.imul(F,Ie);var sn=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(sn>>>26)|0,sn&=67108863,w=Math.imul(H,_e),c=Math.imul(H,Ie),c=c+Math.imul(J,_e)|0,_=Math.imul(J,Ie),w=w+Math.imul(O,Ne)|0,c=c+Math.imul(O,Re)|0,c=c+Math.imul(F,Ne)|0,_=_+Math.imul(F,Re)|0;var Ct=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,w=Math.imul(B,_e),c=Math.imul(B,Ie),c=c+Math.imul(q,_e)|0,_=Math.imul(q,Ie),w=w+Math.imul(H,Ne)|0,c=c+Math.imul(H,Re)|0,c=c+Math.imul(J,Ne)|0,_=_+Math.imul(J,Re)|0,w=w+Math.imul(O,qe)|0,c=c+Math.imul(O,Fe)|0,c=c+Math.imul(F,qe)|0,_=_+Math.imul(F,Fe)|0;var Ft=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,w=Math.imul(X,_e),c=Math.imul(X,Ie),c=c+Math.imul(Q,_e)|0,_=Math.imul(Q,Ie),w=w+Math.imul(B,Ne)|0,c=c+Math.imul(B,Re)|0,c=c+Math.imul(q,Ne)|0,_=_+Math.imul(q,Re)|0,w=w+Math.imul(H,qe)|0,c=c+Math.imul(H,Fe)|0,c=c+Math.imul(J,qe)|0,_=_+Math.imul(J,Fe)|0,w=w+Math.imul(O,$e)|0,c=c+Math.imul(O,Be)|0,c=c+Math.imul(F,$e)|0,_=_+Math.imul(F,Be)|0;var $r=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+($r>>>26)|0,$r&=67108863,w=Math.imul(ue,_e),c=Math.imul(ue,Ie),c=c+Math.imul(me,_e)|0,_=Math.imul(me,Ie),w=w+Math.imul(X,Ne)|0,c=c+Math.imul(X,Re)|0,c=c+Math.imul(Q,Ne)|0,_=_+Math.imul(Q,Re)|0,w=w+Math.imul(B,qe)|0,c=c+Math.imul(B,Fe)|0,c=c+Math.imul(q,qe)|0,_=_+Math.imul(q,Fe)|0,w=w+Math.imul(H,$e)|0,c=c+Math.imul(H,Be)|0,c=c+Math.imul(J,$e)|0,_=_+Math.imul(J,Be)|0,w=w+Math.imul(O,Le)|0,c=c+Math.imul(O,ze)|0,c=c+Math.imul(F,Le)|0,_=_+Math.imul(F,ze)|0;var zr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(zr>>>26)|0,zr&=67108863,w=Math.imul(xe,_e),c=Math.imul(xe,Ie),c=c+Math.imul(le,_e)|0,_=Math.imul(le,Ie),w=w+Math.imul(ue,Ne)|0,c=c+Math.imul(ue,Re)|0,c=c+Math.imul(me,Ne)|0,_=_+Math.imul(me,Re)|0,w=w+Math.imul(X,qe)|0,c=c+Math.imul(X,Fe)|0,c=c+Math.imul(Q,qe)|0,_=_+Math.imul(Q,Fe)|0,w=w+Math.imul(B,$e)|0,c=c+Math.imul(B,Be)|0,c=c+Math.imul(q,$e)|0,_=_+Math.imul(q,Be)|0,w=w+Math.imul(H,Le)|0,c=c+Math.imul(H,ze)|0,c=c+Math.imul(J,Le)|0,_=_+Math.imul(J,ze)|0,w=w+Math.imul(O,Pe)|0,c=c+Math.imul(O,Oe)|0,c=c+Math.imul(F,Pe)|0,_=_+Math.imul(F,Oe)|0;var jr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(jr>>>26)|0,jr&=67108863,w=Math.imul(we,_e),c=Math.imul(we,Ie),c=c+Math.imul(Te,_e)|0,_=Math.imul(Te,Ie),w=w+Math.imul(xe,Ne)|0,c=c+Math.imul(xe,Re)|0,c=c+Math.imul(le,Ne)|0,_=_+Math.imul(le,Re)|0,w=w+Math.imul(ue,qe)|0,c=c+Math.imul(ue,Fe)|0,c=c+Math.imul(me,qe)|0,_=_+Math.imul(me,Fe)|0,w=w+Math.imul(X,$e)|0,c=c+Math.imul(X,Be)|0,c=c+Math.imul(Q,$e)|0,_=_+Math.imul(Q,Be)|0,w=w+Math.imul(B,Le)|0,c=c+Math.imul(B,ze)|0,c=c+Math.imul(q,Le)|0,_=_+Math.imul(q,ze)|0,w=w+Math.imul(H,Pe)|0,c=c+Math.imul(H,Oe)|0,c=c+Math.imul(J,Pe)|0,_=_+Math.imul(J,Oe)|0,w=w+Math.imul(O,je)|0,c=c+Math.imul(O,Ue)|0,c=c+Math.imul(F,je)|0,_=_+Math.imul(F,Ue)|0;var Ur=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,w=Math.imul(ee,_e),c=Math.imul(ee,Ie),c=c+Math.imul(ie,_e)|0,_=Math.imul(ie,Ie),w=w+Math.imul(we,Ne)|0,c=c+Math.imul(we,Re)|0,c=c+Math.imul(Te,Ne)|0,_=_+Math.imul(Te,Re)|0,w=w+Math.imul(xe,qe)|0,c=c+Math.imul(xe,Fe)|0,c=c+Math.imul(le,qe)|0,_=_+Math.imul(le,Fe)|0,w=w+Math.imul(ue,$e)|0,c=c+Math.imul(ue,Be)|0,c=c+Math.imul(me,$e)|0,_=_+Math.imul(me,Be)|0,w=w+Math.imul(X,Le)|0,c=c+Math.imul(X,ze)|0,c=c+Math.imul(Q,Le)|0,_=_+Math.imul(Q,ze)|0,w=w+Math.imul(B,Pe)|0,c=c+Math.imul(B,Oe)|0,c=c+Math.imul(q,Pe)|0,_=_+Math.imul(q,Oe)|0,w=w+Math.imul(H,je)|0,c=c+Math.imul(H,Ue)|0,c=c+Math.imul(J,je)|0,_=_+Math.imul(J,Ue)|0,w=w+Math.imul(O,ke)|0,c=c+Math.imul(O,Ve)|0,c=c+Math.imul(F,ke)|0,_=_+Math.imul(F,Ve)|0;var Vr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,w=Math.imul(ae,_e),c=Math.imul(ae,Ie),c=c+Math.imul(de,_e)|0,_=Math.imul(de,Ie),w=w+Math.imul(ee,Ne)|0,c=c+Math.imul(ee,Re)|0,c=c+Math.imul(ie,Ne)|0,_=_+Math.imul(ie,Re)|0,w=w+Math.imul(we,qe)|0,c=c+Math.imul(we,Fe)|0,c=c+Math.imul(Te,qe)|0,_=_+Math.imul(Te,Fe)|0,w=w+Math.imul(xe,$e)|0,c=c+Math.imul(xe,Be)|0,c=c+Math.imul(le,$e)|0,_=_+Math.imul(le,Be)|0,w=w+Math.imul(ue,Le)|0,c=c+Math.imul(ue,ze)|0,c=c+Math.imul(me,Le)|0,_=_+Math.imul(me,ze)|0,w=w+Math.imul(X,Pe)|0,c=c+Math.imul(X,Oe)|0,c=c+Math.imul(Q,Pe)|0,_=_+Math.imul(Q,Oe)|0,w=w+Math.imul(B,je)|0,c=c+Math.imul(B,Ue)|0,c=c+Math.imul(q,je)|0,_=_+Math.imul(q,Ue)|0,w=w+Math.imul(H,ke)|0,c=c+Math.imul(H,Ve)|0,c=c+Math.imul(J,ke)|0,_=_+Math.imul(J,Ve)|0,w=w+Math.imul(O,De)|0,c=c+Math.imul(O,We)|0,c=c+Math.imul(F,De)|0,_=_+Math.imul(F,We)|0;var Wr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,w=Math.imul(he,_e),c=Math.imul(he,Ie),c=c+Math.imul(Se,_e)|0,_=Math.imul(Se,Ie),w=w+Math.imul(ae,Ne)|0,c=c+Math.imul(ae,Re)|0,c=c+Math.imul(de,Ne)|0,_=_+Math.imul(de,Re)|0,w=w+Math.imul(ee,qe)|0,c=c+Math.imul(ee,Fe)|0,c=c+Math.imul(ie,qe)|0,_=_+Math.imul(ie,Fe)|0,w=w+Math.imul(we,$e)|0,c=c+Math.imul(we,Be)|0,c=c+Math.imul(Te,$e)|0,_=_+Math.imul(Te,Be)|0,w=w+Math.imul(xe,Le)|0,c=c+Math.imul(xe,ze)|0,c=c+Math.imul(le,Le)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(ue,Pe)|0,c=c+Math.imul(ue,Oe)|0,c=c+Math.imul(me,Pe)|0,_=_+Math.imul(me,Oe)|0,w=w+Math.imul(X,je)|0,c=c+Math.imul(X,Ue)|0,c=c+Math.imul(Q,je)|0,_=_+Math.imul(Q,Ue)|0,w=w+Math.imul(B,ke)|0,c=c+Math.imul(B,Ve)|0,c=c+Math.imul(q,ke)|0,_=_+Math.imul(q,Ve)|0,w=w+Math.imul(H,De)|0,c=c+Math.imul(H,We)|0,c=c+Math.imul(J,De)|0,_=_+Math.imul(J,We)|0,w=w+Math.imul(O,Ge)|0,c=c+Math.imul(O,He)|0,c=c+Math.imul(F,Ge)|0,_=_+Math.imul(F,He)|0;var Gr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,w=Math.imul(he,Ne),c=Math.imul(he,Re),c=c+Math.imul(Se,Ne)|0,_=Math.imul(Se,Re),w=w+Math.imul(ae,qe)|0,c=c+Math.imul(ae,Fe)|0,c=c+Math.imul(de,qe)|0,_=_+Math.imul(de,Fe)|0,w=w+Math.imul(ee,$e)|0,c=c+Math.imul(ee,Be)|0,c=c+Math.imul(ie,$e)|0,_=_+Math.imul(ie,Be)|0,w=w+Math.imul(we,Le)|0,c=c+Math.imul(we,ze)|0,c=c+Math.imul(Te,Le)|0,_=_+Math.imul(Te,ze)|0,w=w+Math.imul(xe,Pe)|0,c=c+Math.imul(xe,Oe)|0,c=c+Math.imul(le,Pe)|0,_=_+Math.imul(le,Oe)|0,w=w+Math.imul(ue,je)|0,c=c+Math.imul(ue,Ue)|0,c=c+Math.imul(me,je)|0,_=_+Math.imul(me,Ue)|0,w=w+Math.imul(X,ke)|0,c=c+Math.imul(X,Ve)|0,c=c+Math.imul(Q,ke)|0,_=_+Math.imul(Q,Ve)|0,w=w+Math.imul(B,De)|0,c=c+Math.imul(B,We)|0,c=c+Math.imul(q,De)|0,_=_+Math.imul(q,We)|0,w=w+Math.imul(H,Ge)|0,c=c+Math.imul(H,He)|0,c=c+Math.imul(J,Ge)|0,_=_+Math.imul(J,He)|0;var Hr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w=Math.imul(he,qe),c=Math.imul(he,Fe),c=c+Math.imul(Se,qe)|0,_=Math.imul(Se,Fe),w=w+Math.imul(ae,$e)|0,c=c+Math.imul(ae,Be)|0,c=c+Math.imul(de,$e)|0,_=_+Math.imul(de,Be)|0,w=w+Math.imul(ee,Le)|0,c=c+Math.imul(ee,ze)|0,c=c+Math.imul(ie,Le)|0,_=_+Math.imul(ie,ze)|0,w=w+Math.imul(we,Pe)|0,c=c+Math.imul(we,Oe)|0,c=c+Math.imul(Te,Pe)|0,_=_+Math.imul(Te,Oe)|0,w=w+Math.imul(xe,je)|0,c=c+Math.imul(xe,Ue)|0,c=c+Math.imul(le,je)|0,_=_+Math.imul(le,Ue)|0,w=w+Math.imul(ue,ke)|0,c=c+Math.imul(ue,Ve)|0,c=c+Math.imul(me,ke)|0,_=_+Math.imul(me,Ve)|0,w=w+Math.imul(X,De)|0,c=c+Math.imul(X,We)|0,c=c+Math.imul(Q,De)|0,_=_+Math.imul(Q,We)|0,w=w+Math.imul(B,Ge)|0,c=c+Math.imul(B,He)|0,c=c+Math.imul(q,Ge)|0,_=_+Math.imul(q,He)|0;var Kr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,w=Math.imul(he,$e),c=Math.imul(he,Be),c=c+Math.imul(Se,$e)|0,_=Math.imul(Se,Be),w=w+Math.imul(ae,Le)|0,c=c+Math.imul(ae,ze)|0,c=c+Math.imul(de,Le)|0,_=_+Math.imul(de,ze)|0,w=w+Math.imul(ee,Pe)|0,c=c+Math.imul(ee,Oe)|0,c=c+Math.imul(ie,Pe)|0,_=_+Math.imul(ie,Oe)|0,w=w+Math.imul(we,je)|0,c=c+Math.imul(we,Ue)|0,c=c+Math.imul(Te,je)|0,_=_+Math.imul(Te,Ue)|0,w=w+Math.imul(xe,ke)|0,c=c+Math.imul(xe,Ve)|0,c=c+Math.imul(le,ke)|0,_=_+Math.imul(le,Ve)|0,w=w+Math.imul(ue,De)|0,c=c+Math.imul(ue,We)|0,c=c+Math.imul(me,De)|0,_=_+Math.imul(me,We)|0,w=w+Math.imul(X,Ge)|0,c=c+Math.imul(X,He)|0,c=c+Math.imul(Q,Ge)|0,_=_+Math.imul(Q,He)|0;var Zr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,w=Math.imul(he,Le),c=Math.imul(he,ze),c=c+Math.imul(Se,Le)|0,_=Math.imul(Se,ze),w=w+Math.imul(ae,Pe)|0,c=c+Math.imul(ae,Oe)|0,c=c+Math.imul(de,Pe)|0,_=_+Math.imul(de,Oe)|0,w=w+Math.imul(ee,je)|0,c=c+Math.imul(ee,Ue)|0,c=c+Math.imul(ie,je)|0,_=_+Math.imul(ie,Ue)|0,w=w+Math.imul(we,ke)|0,c=c+Math.imul(we,Ve)|0,c=c+Math.imul(Te,ke)|0,_=_+Math.imul(Te,Ve)|0,w=w+Math.imul(xe,De)|0,c=c+Math.imul(xe,We)|0,c=c+Math.imul(le,De)|0,_=_+Math.imul(le,We)|0,w=w+Math.imul(ue,Ge)|0,c=c+Math.imul(ue,He)|0,c=c+Math.imul(me,Ge)|0,_=_+Math.imul(me,He)|0;var Jr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,w=Math.imul(he,Pe),c=Math.imul(he,Oe),c=c+Math.imul(Se,Pe)|0,_=Math.imul(Se,Oe),w=w+Math.imul(ae,je)|0,c=c+Math.imul(ae,Ue)|0,c=c+Math.imul(de,je)|0,_=_+Math.imul(de,Ue)|0,w=w+Math.imul(ee,ke)|0,c=c+Math.imul(ee,Ve)|0,c=c+Math.imul(ie,ke)|0,_=_+Math.imul(ie,Ve)|0,w=w+Math.imul(we,De)|0,c=c+Math.imul(we,We)|0,c=c+Math.imul(Te,De)|0,_=_+Math.imul(Te,We)|0,w=w+Math.imul(xe,Ge)|0,c=c+Math.imul(xe,He)|0,c=c+Math.imul(le,Ge)|0,_=_+Math.imul(le,He)|0;var Yr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,w=Math.imul(he,je),c=Math.imul(he,Ue),c=c+Math.imul(Se,je)|0,_=Math.imul(Se,Ue),w=w+Math.imul(ae,ke)|0,c=c+Math.imul(ae,Ve)|0,c=c+Math.imul(de,ke)|0,_=_+Math.imul(de,Ve)|0,w=w+Math.imul(ee,De)|0,c=c+Math.imul(ee,We)|0,c=c+Math.imul(ie,De)|0,_=_+Math.imul(ie,We)|0,w=w+Math.imul(we,Ge)|0,c=c+Math.imul(we,He)|0,c=c+Math.imul(Te,Ge)|0,_=_+Math.imul(Te,He)|0;var Xr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,w=Math.imul(he,ke),c=Math.imul(he,Ve),c=c+Math.imul(Se,ke)|0,_=Math.imul(Se,Ve),w=w+Math.imul(ae,De)|0,c=c+Math.imul(ae,We)|0,c=c+Math.imul(de,De)|0,_=_+Math.imul(de,We)|0,w=w+Math.imul(ee,Ge)|0,c=c+Math.imul(ee,He)|0,c=c+Math.imul(ie,Ge)|0,_=_+Math.imul(ie,He)|0;var Qr=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,w=Math.imul(he,De),c=Math.imul(he,We),c=c+Math.imul(Se,De)|0,_=Math.imul(Se,We),w=w+Math.imul(ae,Ge)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul(de,Ge)|0,_=_+Math.imul(de,He)|0;var er=(k+w|0)+((c&8191)<<13)|0;k=(_+(c>>>13)|0)+(er>>>26)|0,er&=67108863,w=Math.imul(he,Ge),c=Math.imul(he,He),c=c+Math.imul(Se,Ge)|0,_=Math.imul(Se,He);var Ir=(k+w|0)+((c&8191)<<13)|0;return k=(_+(c>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,E[0]=sn,E[1]=Ct,E[2]=Ft,E[3]=$r,E[4]=zr,E[5]=jr,E[6]=Ur,E[7]=Vr,E[8]=Wr,E[9]=Gr,E[10]=Hr,E[11]=Kr,E[12]=Zr,E[13]=Jr,E[14]=Yr,E[15]=Xr,E[16]=Qr,E[17]=er,E[18]=Ir,k!==0&&(E[19]=k,g.length++),g};Math.imul||(A=S);function T(M,f,d){d.negative=f.negative^M.negative,d.length=M.length+f.length;for(var g=0,m=0,b=0;b<d.length-1;b++){var E=m;m=0;for(var k=g&67108863,w=Math.min(b,f.length-1),c=Math.max(0,b-M.length+1);c<=w;c++){var _=b-c,R=M.words[_]|0,O=f.words[c]|0,F=R*O,U=F&67108863;E=E+(F/67108864|0)|0,U=U+k|0,k=U&67108863,E=E+(U>>>26)|0,m+=E>>>26,E&=67108863}d.words[b]=k,g=E,E=m}return g!==0?d.words[b]=g:d.length--,d.strip()}function I(M,f,d){var g=new N;return g.mulp(M,f,d)}a.prototype.mulTo=function(f,d){var g,m=this.length+f.length;return this.length===10&&f.length===10?g=A(this,f,d):m<63?g=S(this,f,d):m<1024?g=T(this,f,d):g=I(this,f,d),g};function N(M,f){this.x=M,this.y=f}N.prototype.makeRBT=function(f){for(var d=new Array(f),g=a.prototype._countBits(f)-1,m=0;m<f;m++)d[m]=this.revBin(m,g,f);return d},N.prototype.revBin=function(f,d,g){if(f===0||f===g-1)return f;for(var m=0,b=0;b<d;b++)m|=(f&1)<<d-b-1,f>>=1;return m},N.prototype.permute=function(f,d,g,m,b,E){for(var k=0;k<E;k++)m[k]=d[f[k]],b[k]=g[f[k]]},N.prototype.transform=function(f,d,g,m,b,E){this.permute(E,f,d,g,m,b);for(var k=1;k<b;k<<=1)for(var w=k<<1,c=Math.cos(2*Math.PI/w),_=Math.sin(2*Math.PI/w),R=0;R<b;R+=w)for(var O=c,F=_,U=0;U<k;U++){var H=g[R+U],J=m[R+U],fe=g[R+U+k],B=m[R+U+k],q=O*fe-F*B;B=O*B+F*fe,fe=q,g[R+U]=H+fe,m[R+U]=J+B,g[R+U+k]=H-fe,m[R+U+k]=J-B,U!==w&&(q=c*O-_*F,F=c*F+_*O,O=q)}},N.prototype.guessLen13b=function(f,d){var g=Math.max(d,f)|1,m=g&1,b=0;for(g=g/2|0;g;g=g>>>1)b++;return 1<<b+1+m},N.prototype.conjugate=function(f,d,g){if(!(g<=1))for(var m=0;m<g/2;m++){var b=f[m];f[m]=f[g-m-1],f[g-m-1]=b,b=d[m],d[m]=-d[g-m-1],d[g-m-1]=-b}},N.prototype.normalize13b=function(f,d){for(var g=0,m=0;m<d/2;m++){var b=Math.round(f[2*m+1]/d)*8192+Math.round(f[2*m]/d)+g;f[m]=b&67108863,b<67108864?g=0:g=b/67108864|0}return f},N.prototype.convert13b=function(f,d,g,m){for(var b=0,E=0;E<d;E++)b=b+(f[E]|0),g[2*E]=b&8191,b=b>>>13,g[2*E+1]=b&8191,b=b>>>13;for(E=2*d;E<m;++E)g[E]=0;r(b===0),r((b&-8192)===0)},N.prototype.stub=function(f){for(var d=new Array(f),g=0;g<f;g++)d[g]=0;return d},N.prototype.mulp=function(f,d,g){var m=2*this.guessLen13b(f.length,d.length),b=this.makeRBT(m),E=this.stub(m),k=new Array(m),w=new Array(m),c=new Array(m),_=new Array(m),R=new Array(m),O=new Array(m),F=g.words;F.length=m,this.convert13b(f.words,f.length,k,m),this.convert13b(d.words,d.length,_,m),this.transform(k,E,w,c,m,b),this.transform(_,E,R,O,m,b);for(var U=0;U<m;U++){var H=w[U]*R[U]-c[U]*O[U];c[U]=w[U]*O[U]+c[U]*R[U],w[U]=H}return this.conjugate(w,c,m),this.transform(w,c,F,E,m,b),this.conjugate(F,E,m),this.normalize13b(F,m),g.negative=f.negative^d.negative,g.length=f.length+d.length,g.strip()},a.prototype.mul=function(f){var d=new a(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},a.prototype.mulf=function(f){var d=new a(null);return d.words=new Array(this.length+f.length),I(this,f,d)},a.prototype.imul=function(f){return this.clone().mulTo(f,this)},a.prototype.imuln=function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,g=0;g<this.length;g++){var m=(this.words[g]|0)*f,b=(m&67108863)+(d&67108863);d>>=26,d+=m/67108864|0,d+=b>>>26,this.words[g]=b&67108863}return d!==0&&(this.words[g]=d,this.length++),this},a.prototype.muln=function(f){return this.clone().imuln(f)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(f){var d=y(f);if(d.length===0)return new a(1);for(var g=this,m=0;m<d.length&&d[m]===0;m++,g=g.sqr());if(++m<d.length)for(var b=g.sqr();m<d.length;m++,b=b.sqr())d[m]!==0&&(g=g.mul(b));return g},a.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26,m=67108863>>>26-d<<26-d,b;if(d!==0){var E=0;for(b=0;b<this.length;b++){var k=this.words[b]&m,w=(this.words[b]|0)-k<<d;this.words[b]=w|E,E=k>>>26-d}E&&(this.words[b]=E,this.length++)}if(g!==0){for(b=this.length-1;b>=0;b--)this.words[b+g]=this.words[b];for(b=0;b<g;b++)this.words[b]=0;this.length+=g}return this.strip()},a.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},a.prototype.iushrn=function(f,d,g){r(typeof f=="number"&&f>=0);var m;d?m=(d-d%26)/26:m=0;var b=f%26,E=Math.min((f-b)/26,this.length),k=67108863^67108863>>>b<<b,w=g;if(m-=E,m=Math.max(0,m),w){for(var c=0;c<E;c++)w.words[c]=this.words[c];w.length=E}if(E!==0)if(this.length>E)for(this.length-=E,c=0;c<this.length;c++)this.words[c]=this.words[c+E];else this.words[0]=0,this.length=1;var _=0;for(c=this.length-1;c>=0&&(_!==0||c>=m);c--){var R=this.words[c]|0;this.words[c]=_<<26-b|R>>>b,_=R&k}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(f,d,g){return r(this.negative===0),this.iushrn(f,d,g)},a.prototype.shln=function(f){return this.clone().ishln(f)},a.prototype.ushln=function(f){return this.clone().iushln(f)},a.prototype.shrn=function(f){return this.clone().ishrn(f)},a.prototype.ushrn=function(f){return this.clone().iushrn(f)},a.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26,m=1<<d;if(this.length<=g)return!1;var b=this.words[g];return!!(b&m)},a.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var d=f%26,g=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(d!==0&&g++,this.length=Math.min(g,this.length),d!==0){var m=67108863^67108863>>>d<<d;this.words[this.length-1]&=m}return this.strip()},a.prototype.maskn=function(f){return this.clone().imaskn(f)},a.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},a.prototype._iaddn=function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},a.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},a.prototype.addn=function(f){return this.clone().iaddn(f)},a.prototype.subn=function(f){return this.clone().isubn(f)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(f,d,g){var m=f.length+g,b;this._expand(m);var E,k=0;for(b=0;b<f.length;b++){E=(this.words[b+g]|0)+k;var w=(f.words[b]|0)*d;E-=w&67108863,k=(E>>26)-(w/67108864|0),this.words[b+g]=E&67108863}for(;b<this.length-g;b++)E=(this.words[b+g]|0)+k,k=E>>26,this.words[b+g]=E&67108863;if(k===0)return this.strip();for(r(k===-1),k=0,b=0;b<this.length;b++)E=-(this.words[b]|0)+k,k=E>>26,this.words[b]=E&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(f,d){var g=this.length-f.length,m=this.clone(),b=f,E=b.words[b.length-1]|0,k=this._countBits(E);g=26-k,g!==0&&(b=b.ushln(g),m.iushln(g),E=b.words[b.length-1]|0);var w=m.length-b.length,c;if(d!=="mod"){c=new a(null),c.length=w+1,c.words=new Array(c.length);for(var _=0;_<c.length;_++)c.words[_]=0}var R=m.clone()._ishlnsubmul(b,1,w);R.negative===0&&(m=R,c&&(c.words[w]=1));for(var O=w-1;O>=0;O--){var F=(m.words[b.length+O]|0)*67108864+(m.words[b.length+O-1]|0);for(F=Math.min(F/E|0,67108863),m._ishlnsubmul(b,F,O);m.negative!==0;)F--,m.negative=0,m._ishlnsubmul(b,1,O),m.isZero()||(m.negative^=1);c&&(c.words[O]=F)}return c&&c.strip(),m.strip(),d!=="div"&&g!==0&&m.iushrn(g),{div:c||null,mod:m}},a.prototype.divmod=function(f,d,g){if(r(!f.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var m,b,E;return this.negative!==0&&f.negative===0?(E=this.neg().divmod(f,d),d!=="mod"&&(m=E.div.neg()),d!=="div"&&(b=E.mod.neg(),g&&b.negative!==0&&b.iadd(f)),{div:m,mod:b}):this.negative===0&&f.negative!==0?(E=this.divmod(f.neg(),d),d!=="mod"&&(m=E.div.neg()),{div:m,mod:E.mod}):(this.negative&f.negative)!==0?(E=this.neg().divmod(f.neg(),d),d!=="div"&&(b=E.mod.neg(),g&&b.negative!==0&&b.isub(f)),{div:E.div,mod:b}):f.length>this.length||this.cmp(f)<0?{div:new a(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new a(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new a(this.modn(f.words[0]))}:this._wordDiv(f,d)},a.prototype.div=function(f){return this.divmod(f,"div",!1).div},a.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},a.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},a.prototype.divRound=function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var g=d.div.negative!==0?d.mod.isub(f):d.mod,m=f.ushrn(1),b=f.andln(1),E=g.cmp(m);return E<0||b===1&&E===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},a.prototype.modn=function(f){r(f<=67108863);for(var d=(1<<26)%f,g=0,m=this.length-1;m>=0;m--)g=(d*g+(this.words[m]|0))%f;return g},a.prototype.idivn=function(f){r(f<=67108863);for(var d=0,g=this.length-1;g>=0;g--){var m=(this.words[g]|0)+d*67108864;this.words[g]=m/f|0,d=m%f}return this.strip()},a.prototype.divn=function(f){return this.clone().idivn(f)},a.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var d=this,g=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var m=new a(1),b=new a(0),E=new a(0),k=new a(1),w=0;d.isEven()&&g.isEven();)d.iushrn(1),g.iushrn(1),++w;for(var c=g.clone(),_=d.clone();!d.isZero();){for(var R=0,O=1;(d.words[0]&O)===0&&R<26;++R,O<<=1);if(R>0)for(d.iushrn(R);R-- >0;)(m.isOdd()||b.isOdd())&&(m.iadd(c),b.isub(_)),m.iushrn(1),b.iushrn(1);for(var F=0,U=1;(g.words[0]&U)===0&&F<26;++F,U<<=1);if(F>0)for(g.iushrn(F);F-- >0;)(E.isOdd()||k.isOdd())&&(E.iadd(c),k.isub(_)),E.iushrn(1),k.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(E),b.isub(k)):(g.isub(d),E.isub(m),k.isub(b))}return{a:E,b:k,gcd:g.iushln(w)}},a.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var d=this,g=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var m=new a(1),b=new a(0),E=g.clone();d.cmpn(1)>0&&g.cmpn(1)>0;){for(var k=0,w=1;(d.words[0]&w)===0&&k<26;++k,w<<=1);if(k>0)for(d.iushrn(k);k-- >0;)m.isOdd()&&m.iadd(E),m.iushrn(1);for(var c=0,_=1;(g.words[0]&_)===0&&c<26;++c,_<<=1);if(c>0)for(g.iushrn(c);c-- >0;)b.isOdd()&&b.iadd(E),b.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(b)):(g.isub(d),b.isub(m))}var R;return d.cmpn(1)===0?R=m:R=b,R.cmpn(0)<0&&R.iadd(f),R},a.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),g=f.clone();d.negative=0,g.negative=0;for(var m=0;d.isEven()&&g.isEven();m++)d.iushrn(1),g.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;g.isEven();)g.iushrn(1);var b=d.cmp(g);if(b<0){var E=d;d=g,g=E}else if(b===0||g.cmpn(1)===0)break;d.isub(g)}while(!0);return g.iushln(m)},a.prototype.invm=function(f){return this.egcd(f).a.umod(f)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(f){return this.words[0]&f},a.prototype.bincn=function(f){r(typeof f=="number");var d=f%26,g=(f-d)/26,m=1<<d;if(this.length<=g)return this._expand(g+1),this.words[g]|=m,this;for(var b=m,E=g;b!==0&&E<this.length;E++){var k=this.words[E]|0;k+=b,b=k>>>26,k&=67108863,this.words[E]=k}return b!==0&&(this.words[E]=b,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var g;if(this.length>1)g=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var m=this.words[0]|0;g=m===f?0:m<f?-1:1}return this.negative!==0?-g|0:g},a.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},a.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,g=this.length-1;g>=0;g--){var m=this.words[g]|0,b=f.words[g]|0;if(m!==b){m<b?d=-1:m>b&&(d=1);break}}return d},a.prototype.gtn=function(f){return this.cmpn(f)===1},a.prototype.gt=function(f){return this.cmp(f)===1},a.prototype.gten=function(f){return this.cmpn(f)>=0},a.prototype.gte=function(f){return this.cmp(f)>=0},a.prototype.ltn=function(f){return this.cmpn(f)===-1},a.prototype.lt=function(f){return this.cmp(f)===-1},a.prototype.lten=function(f){return this.cmpn(f)<=0},a.prototype.lte=function(f){return this.cmp(f)<=0},a.prototype.eqn=function(f){return this.cmpn(f)===0},a.prototype.eq=function(f){return this.cmp(f)===0},a.red=function(f){return new j(f)},a.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(f){return this.red=f,this},a.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},a.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},a.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},a.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},a.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},a.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},a.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},a.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var D={k256:null,p224:null,p192:null,p25519:null};function C(M,f){this.name=M,this.p=new a(f,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var f=new a(null);return f.words=new Array(Math.ceil(this.n/13)),f},C.prototype.ireduce=function(f){var d=f,g;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),g=d.bitLength();while(g>this.n);var m=g<this.n?-1:d.ucmp(this.p);return m===0?(d.words[0]=0,d.length=1):m>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},C.prototype.split=function(f,d){f.iushrn(this.n,0,d)},C.prototype.imulK=function(f){return f.imul(this.k)};function L(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(L,C),L.prototype.split=function(f,d){for(var g=4194303,m=Math.min(f.length,9),b=0;b<m;b++)d.words[b]=f.words[b];if(d.length=m,f.length<=9){f.words[0]=0,f.length=1;return}var E=f.words[9];for(d.words[d.length++]=E&g,b=10;b<f.length;b++){var k=f.words[b]|0;f.words[b-10]=(k&g)<<4|E>>>22,E=k}E>>>=22,f.words[b-10]=E,E===0&&f.length>10?f.length-=10:f.length-=9},L.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,g=0;g<f.length;g++){var m=f.words[g]|0;d+=m*977,f.words[g]=d&67108863,d=m*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function z(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(z,C);function $(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n($,C);function G(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(G,C),G.prototype.imulK=function(f){for(var d=0,g=0;g<f.length;g++){var m=(f.words[g]|0)*19+d,b=m&67108863;m>>>=26,f.words[g]=b,d=m}return d!==0&&(f.words[f.length++]=d),f},a._prime=function(f){if(D[f])return D[f];var d;if(f==="k256")d=new L;else if(f==="p224")d=new z;else if(f==="p192")d=new $;else if(f==="p25519")d=new G;else throw new Error("Unknown prime "+f);return D[f]=d,d};function j(M){if(typeof M=="string"){var f=a._prime(M);this.m=f.p,this.prime=f}else r(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}j.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},j.prototype._verify2=function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},j.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},j.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},j.prototype.add=function(f,d){this._verify2(f,d);var g=f.add(d);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},j.prototype.iadd=function(f,d){this._verify2(f,d);var g=f.iadd(d);return g.cmp(this.m)>=0&&g.isub(this.m),g},j.prototype.sub=function(f,d){this._verify2(f,d);var g=f.sub(d);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},j.prototype.isub=function(f,d){this._verify2(f,d);var g=f.isub(d);return g.cmpn(0)<0&&g.iadd(this.m),g},j.prototype.shl=function(f,d){return this._verify1(f),this.imod(f.ushln(d))},j.prototype.imul=function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},j.prototype.mul=function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},j.prototype.isqr=function(f){return this.imul(f,f.clone())},j.prototype.sqr=function(f){return this.mul(f,f)},j.prototype.sqrt=function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var g=this.m.add(new a(1)).iushrn(2);return this.pow(f,g)}for(var m=this.m.subn(1),b=0;!m.isZero()&&m.andln(1)===0;)b++,m.iushrn(1);r(!m.isZero());var E=new a(1).toRed(this),k=E.redNeg(),w=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new a(2*c*c).toRed(this);this.pow(c,w).cmp(k)!==0;)c.redIAdd(k);for(var _=this.pow(c,m),R=this.pow(f,m.addn(1).iushrn(1)),O=this.pow(f,m),F=b;O.cmp(E)!==0;){for(var U=O,H=0;U.cmp(E)!==0;H++)U=U.redSqr();r(H<F);var J=this.pow(_,new a(1).iushln(F-H-1));R=R.redMul(J),_=J.redSqr(),O=O.redMul(_),F=H}return R},j.prototype.invm=function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},j.prototype.pow=function(f,d){if(d.isZero())return new a(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var g=4,m=new Array(1<<g);m[0]=new a(1).toRed(this),m[1]=f;for(var b=2;b<m.length;b++)m[b]=this.mul(m[b-1],f);var E=m[0],k=0,w=0,c=d.bitLength()%26;for(c===0&&(c=26),b=d.length-1;b>=0;b--){for(var _=d.words[b],R=c-1;R>=0;R--){var O=_>>R&1;if(E!==m[0]&&(E=this.sqr(E)),O===0&&k===0){w=0;continue}k<<=1,k|=O,w++,!(w!==g&&(b!==0||R!==0))&&(E=this.mul(E,m[k]),w=0,k=0)}c=26}return E},j.prototype.convertTo=function(f){var d=f.umod(this.m);return d===f?d.clone():d},j.prototype.convertFrom=function(f){var d=f.clone();return d.red=null,d},a.mont=function(f){return new Z(f)};function Z(M){j.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Z,j),Z.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Z.prototype.convertFrom=function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},Z.prototype.imul=function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var g=f.imul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=g.isub(m).iushrn(this.shift),E=b;return b.cmp(this.m)>=0?E=b.isub(this.m):b.cmpn(0)<0&&(E=b.iadd(this.m)),E._forceRed(this)},Z.prototype.mul=function(f,d){if(f.isZero()||d.isZero())return new a(0)._forceRed(this);var g=f.mul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=g.isub(m).iushrn(this.shift),E=b;return b.cmp(this.m)>=0?E=b.isub(this.m):b.cmpn(0)<0&&(E=b.iadd(this.m)),E._forceRed(this)},Z.prototype.invm=function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof W6=="undefined"||W6,dz)});var G6=ne((Rtt,mz)=>{var pz=a2(),Hwe=cr().Buffer;function Kwe(t,e){return Hwe.from(t.toRed(pz.mont(e.modulus)).redPow(new pz(e.publicExponent)).fromRed().toArray())}mz.exports=Kwe});var bz=ne((Ctt,yz)=>{var Zwe=Tg(),H6=Mc(),Jwe=Qd(),vz=U6(),gz=V6(),K6=a2(),Ywe=G6(),Xwe=N_(),zo=cr().Buffer;yz.exports=function(e,r,n){var a;e.padding?a=e.padding:n?a=1:a=4;var s=Zwe(e),o;if(a===4)o=Qwe(s,r);else if(a===1)o=e_e(s,r,n);else if(a===3){if(o=new K6(r),o.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?Xwe(o,s):Ywe(o,s)};function Qwe(t,e){var r=t.modulus.byteLength(),n=e.length,a=Jwe("sha1").update(zo.alloc(0)).digest(),s=a.length,o=2*s;if(n>r-o-2)throw new Error("message too long");var u=zo.alloc(r-n-o-2),l=r-s-1,h=H6(s),p=gz(zo.concat([a,u,zo.alloc(1,1),e],l),vz(h,l)),v=gz(h,vz(p,s));return new K6(zo.concat([zo.alloc(1),v,p],r))}function e_e(t,e,r){var n=e.length,a=t.modulus.byteLength();if(n>a-11)throw new Error("message too long");var s;return r?s=zo.alloc(a-n-3,255):s=t_e(a-n-3),new K6(zo.concat([zo.from([0,r?1:2]),s,zo.alloc(1),e],a))}function t_e(t){for(var e=zo.allocUnsafe(t),r=0,n=H6(t*2),a=0,s;r<t;)a===n.length&&(n=H6(t*2),a=0),s=n[a++],s&&(e[r++]=s);return e}});var Ez=ne((Ftt,Sz)=>{var r_e=Tg(),wz=U6(),_z=V6(),xz=a2(),n_e=N_(),i_e=Qd(),a_e=G6(),Og=cr().Buffer;Sz.exports=function(e,r,n){var a;e.padding?a=e.padding:n?a=1:a=4;var s=r_e(e),o=s.modulus.byteLength();if(r.length>o||new xz(r).cmp(s.modulus)>=0)throw new Error("decryption error");var u;n?u=a_e(new xz(r),s):u=n_e(r,s);var l=Og.alloc(o-u.length);if(u=Og.concat([l,u],o),a===4)return s_e(s,u);if(a===1)return o_e(s,u,n);if(a===3)return u;throw new Error("unknown padding")};function s_e(t,e){var r=t.modulus.byteLength(),n=i_e("sha1").update(Og.alloc(0)).digest(),a=n.length;if(e[0]!==0)throw new Error("decryption error");var s=e.slice(1,a+1),o=e.slice(a+1),u=_z(s,wz(o,a)),l=_z(o,wz(u,r-a-1));if(u_e(n,l.slice(0,a)))throw new Error("decryption error");for(var h=a;l[h]===0;)h++;if(l[h++]!==1)throw new Error("decryption error");return l.slice(h)}function o_e(t,e,r){for(var n=e.slice(0,2),a=2,s=0;e[a++]!==0;)if(a>=e.length){s++;break}var o=e.slice(2,a-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&s++,o.length<8&&s++,s)throw new Error("decryption error");return e.slice(a)}function u_e(t,e){t=Og.from(t),e=Og.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var a=-1;++a<n;)r+=t[a]^e[a];return r}});var Mz=ne(lh=>{lh.publicEncrypt=bz();lh.privateDecrypt=Ez();lh.privateEncrypt=function(e,r){return lh.publicEncrypt(e,r,!0)};lh.publicDecrypt=function(e,r){return lh.privateDecrypt(e,r,!0)}});var Fz=ne(Rg=>{"use strict";function Az(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var Tz=cr(),kz=Mc(),Nz=Tz.Buffer,Iz=Tz.kMaxLength,Z6=global.crypto||global.msCrypto,Dz=Math.pow(2,32)-1;function Oz(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>Dz||t<0)throw new TypeError("offset must be a uint32");if(t>Iz||t>e)throw new RangeError("offset out of range")}function Rz(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>Dz||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>Iz)throw new RangeError("buffer too small")}Z6&&Z6.getRandomValues||!process.browser?(Rg.randomFill=f_e,Rg.randomFillSync=l_e):(Rg.randomFill=Az,Rg.randomFillSync=Az);function f_e(t,e,r,n){if(!Nz.isBuffer(t)&&!(t instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return Oz(e,t.length),Rz(r,e,t.length),Cz(t,e,r,n)}function Cz(t,e,r,n){if(process.browser){var a=t.buffer,s=new Uint8Array(a,e,r);if(Z6.getRandomValues(s),n){process.nextTick(function(){n(null,t)});return}return t}if(n){kz(r,function(u,l){if(u)return n(u);l.copy(t,e),n(null,t)});return}var o=kz(r);return o.copy(t,e),t}function l_e(t,e,r){if(typeof e=="undefined"&&(e=0),!Nz.isBuffer(t)&&!(t instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return Oz(e,t.length),r===void 0&&(r=t.length-e),Rz(r,e,t.length),Cz(t,e,r)}});var f_=ne(Gt=>{"use strict";Gt.randomBytes=Gt.rng=Gt.pseudoRandomBytes=Gt.prng=Mc();Gt.createHash=Gt.Hash=Qd();Gt.createHmac=Gt.Hmac=$k();var c_e=X9(),h_e=Object.keys(c_e),d_e=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(h_e);Gt.getHashes=function(){return d_e};var Bz=Jk();Gt.pbkdf2=Bz.pbkdf2;Gt.pbkdf2Sync=Bz.pbkdf2Sync;var Ou=wL();Gt.Cipher=Ou.Cipher;Gt.createCipher=Ou.createCipher;Gt.Cipheriv=Ou.Cipheriv;Gt.createCipheriv=Ou.createCipheriv;Gt.Decipher=Ou.Decipher;Gt.createDecipher=Ou.createDecipher;Gt.Decipheriv=Ou.Decipheriv;Gt.createDecipheriv=Ou.createDecipheriv;Gt.getCiphers=Ou.getCiphers;Gt.listCiphers=Ou.listCiphers;var Cg=FL();Gt.DiffieHellmanGroup=Cg.DiffieHellmanGroup;Gt.createDiffieHellmanGroup=Cg.createDiffieHellmanGroup;Gt.getDiffieHellman=Cg.getDiffieHellman;Gt.createDiffieHellman=Cg.createDiffieHellman;Gt.DiffieHellman=Cg.DiffieHellman;var s2=sz();Gt.createSign=s2.createSign;Gt.Sign=s2.Sign;Gt.createVerify=s2.createVerify;Gt.Verify=s2.Verify;Gt.createECDH=lz();var o2=Mz();Gt.publicEncrypt=o2.publicEncrypt;Gt.privateEncrypt=o2.privateEncrypt;Gt.publicDecrypt=o2.publicDecrypt;Gt.privateDecrypt=o2.privateDecrypt;var Lz=Fz();Gt.randomFill=Lz.randomFill;Gt.randomFillSync=Lz.randomFillSync;Gt.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};Gt.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var Pz=ne((exports,module)=>{var crypto=f_(),exp=Math.exp,ln=Math.log,PI=Math.PI,pow=Math.pow;module.exports={prng:function(t){t===void 0&&(t=16);for(var e=crypto.randomBytes(t),r=0,n=0;n<t;n++)r=r+Number(e[n])/Math.pow(256,n+1);return r},rbeta:function(t,e,r,n){t=this._v(t,"n"),e=this._v(e,"nn",1),r=this._v(r,"nn",1),n=this._v(n,"r",0);for(var a=[],s=0;s<t;s++){var o=this.rgamma(1,e,1)[0],u=this.rgamma(1,r,1)[0];a[s]=n+o/(o+u)}return a},rbinom:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"nni",1),r=this._v(r,"p",.5);for(var n=[],a=0;a<t;a++){for(var s=0,o=0;o<e;o++)this.prng()<r&&s++;n[a]=s}return n},rcauchy:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"r",0),r=this._v(r,"nn",1);for(var n=[],a=0;a<t;a++){var s=r*Math.tan(PI*(this.prng()-.5))+e;n[a]=s}return n},rchisq:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"nn"),r=this._v(r,"r",0);for(var n=[],a=0;a<t;a++){for(var s=r,o=0;o<e;o++)s=s+Math.pow(this.rnorm(1)[0],2);n[a]=s}return n},dexp:function(t,e){return t=this._v(t,"r"),e=this._v(e,"pos",1),t<0?0:e*exp(-e*t)},rexp:function(t,e){t=this._v(t,"n"),e=this._v(e,"pos",1);for(var r=[],n=0;n<t;n++)r[n]=-ln(this.prng())/e;return r},rf:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"nn"),r=this._v(r,"nn");for(var n=[],a=0;a<t;a++){var s=this.rchisq(1,e)[0]/e,o=this.rchisq(1,r)[0]/r;n[a]=s/o}return n},rgamma:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"nn"),r=this._v(r,"pos",1);for(var n=ln(4),a=1+ln(4.5),s=1/r,o=[],u=0;u<t;u++){if(e>1)for(var l=Math.sqrt(2*e-1),h=e-n,p=e+l;;){var v=this.prng();if(!(v<1e-7||D>.9999999)){var y=1-this.prng(),S=ln(v/(1-v))/l,A=e*exp(S),T=v*v*y,I=h+p*S-A;if(I+a-4.5*T>=0||I>=ln(T)){var N=A*s;break}}}else if(e==1){for(var D=this.prng();D<=1e-7;)D=this.prng();var N=-ln(D)*s}else{for(;;){var D=this.prng(),C=(Math.E+e)/Math.E,L=C*D;if(L<=1)var A=Math.pow(L,1/e);else var A=-ln((C-L)/e);var v=this.prng();if(L>1){if(v<=Math.pow(A,e-1))break}else if(v<=exp(-A))break}var N=A*s}o[u]=N}return o},rint:function(t,e,r,n){if(t=this._v(t,"n"),e=this._v(e,"int"),r=this._v(r,"int"),n===!1){if(e++,e===r)throw new Error("Minimum value cannot be greater than maximum value. For non-inclusive, minimum and maximum must be separated by at least 2.")}else r++;if(e>r)throw new Error("Minimum value cannot be greater than maximum value. For non-inclusive, minimum and maximum must be separated by at least 2.");for(var a=[],s=this.runif(t,e,r),o=0;o<t;o++)a[o]=Math.floor(s[o]);return a},rlaplace:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"r",0),r=this._v(r,"nn",1);for(var n=[],a=0;a<t;a++){var s=this.sample([-1,1])[0]*ln(this.prng()),o=e-r*s;n[a]=o}return n},rlnorm:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"r",0),r=this._v(r,"nn",1);for(var n=[],a=0;a<t;a++){var s=this.rnorm(1,e,r)[0];n[a]=exp(s)}return n},rnbinom:function(t,e,r,n){if(t=this._v(t,"n"),e===void 0&&(e=1),Math.round(e)!=e)throw new Error("Size must be a whole number");if(e<1)throw new Error("Size must be one or greater");if(r!==void 0&&n!==void 0)throw new Error("You must specify probability or mean, not both");n!==void 0&&(r=e/(e+n)),r=this._v(r,"p");for(var a=[],s=0;s<t;s++){for(var o=0,u=e;u>0;)o++,this.prng()<r&&u--;a[s]=o-1}return a},dnorm:function(t,e,r){if(t=this._v(t,"r"),e=this._v(e,"r",0),r=this._v(r,"nn",1),r===0)return t===e?1/0:0;var n=r*Math.sqrt(2*PI),a=-(t-e)*(t-e),s=2*r*r;return 1/n*exp(a/s)},rnorm:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"r",0),r=this._v(r,"nn",1);for(var n=[],a=0;a<t;a++){var s,o,u,l;do{var h=this.prng(),p=this.prng();s=2*h-1,o=2*p-1,u=s*s+o*o}while(u>1);l=Math.sqrt(-2*ln(u)/u)*s,l=e+r*l,n.push(l)}return n},dpois:function(t,e){if(t=this._v(t,"nni"),e=this._v(e,"nn"),e===0)return t===0?1:0;var r=pow(e,t),n=exp(-e),a=this._factorial(t);return r*n/a},rpois:function(t,e){t=this._v(t,"n"),e=this._v(e,"pos");for(var r=[],n=0;n<t;n++)if(e<30){var a=exp(-e),s=1,o=0;do o++,s*=this.prng();while(s>a);r.push(o-1)}else{for(var u=1e4,s=e/u,o=0,l=0;l<u;l++)this.prng()<s&&o++;r[n]=o}return r},dunif:function(t,e,r){if(t=this._v(t,"r"),e=this._v(e,"r",0),r=this._v(r,"r",1),e>r)throw new Error("Minimum value cannot be greater than maximum value");return t<e||t>r?0:e===r?1/0:1/(r-e)},runif:function(t,e,r){if(t=this._v(t,"n"),e=this._v(e,"r",0),r=this._v(r,"r",1),e>r)throw new Error("Minimum value cannot be greater than maximum value");for(var n=[],a=0;a<t;a++){var s=this.prng(),o=e+s*(r-e);n.push(o)}return n},rword:function(t,e){t=this._v(t,"n"),e=this._v(e,"str","abcdefghijklmnopqrstuvwxyz");var r=e.split(""),n=this.sample(r,t,!0);return n.join("")},sample:function(t,e,r,n){if(t=this._v(t,"a"),e=this._v(e,"n",t.length),r===void 0&&(r=!1),!r&&t.length<e)throw new Error("You cannot select "+e+" items from an array of length "+t.length+" without replacement");if(n===void 0){n=[];for(var a=0;a<t.length;a++)n[a]=1}for(var s=this._getCumulativeProbs(n,t.length),o=[],u=0;u<e;u++){var l=this._sampleOneIndex(s);r?o[u]=t[l]:(o[u]=t.splice(l,1)[0],n.splice(l,1),n.length&&(s=this._getCumulativeProbs(n,t.length)))}return o},visualize:function(data,domID,options){var defaultOptions={lag:1e3,blank:"",inf:"&infin;",loop:!0,conditions:"",arrivalTimes:!1,arrivalSymbol:'<span class="pd-arrival">&#8226;</span>',arrivalFlashTime:.25,significantDigits:0};typeof options=="undefined"&&(options={});for(var property in defaultOptions)defaultOptions.hasOwnProperty(property)&&typeof options[property]=="undefined"&&(options[property]=defaultOptions[property]);var elem=document.getElementById(domID);if(!elem)throw new Error("Unable to find DOM element "+domID);var len=data.length,i=0,format=function(x){var x=data[i];if(options.conditions){if(!/^[x\&\|=0-9\<\>\s\-\.]+$/.test(options.conditions))throw new Error("Bad input sent to options.conditions");if(eval(options.conditions)!==!0)return x=options.blank,x}return options.significantDigits&&(x=x.toPrecision(options.significantDigits)),x===1/0&&(x=options.inf),x};if(options.arrivalTimes){var blankOut=function(){setTimeout(function(){elem.innerHTML=options.blank},options.arrivalFlashTime*options.lag)},cycle=function(){elem.innerHTML=options.arrivalSymbol,blankOut(),++i===len&&(i=0),options.loop||i!==0?setTimeout(cycle,data[i]*options.lag):elem.innerHTML=options.blank};cycle()}else{var update=function(){elem.innerHTML=format(data[i]),++i===len&&(i=0),options.loop||i!==0?setTimeout(update,options.lag):setTimeout(function(){elem.innerHTML=options.blank},options.lag)};update()}},_getCumulativeProbs:function(t,e){if(e===void 0)throw new Error("An error occurred: len was not sent to _getCumulativeProbs");if(t.length!==e)throw new Error("Probabilities for sample must be same length as the array to sample from");var r=[];if(t!==void 0){if(t=this._v(t,"a"),t.length!==e)throw new Error("Probabilities array must be the same length as the array you are sampling from");var n=0;t.map(function(s){s=this._v(s,"nn"),n+=s,r.push(n)}.bind(this));for(var a=0;a<r.length;a++)r[a]=r[a]/n;return r}},_sampleOneIndex:function(t){for(var e=this.prng(),r=0;e>t[r];)r++;return r},_factorial:function(t){for(var e=1,r=2;r<=t;r++)e=e*r;return e},_v:function(t,e,r){if(t==null&&r!=null)return r;switch(e){case"a":if(!Array.isArray(t)||!t.length)throw new Error("Expected an array of length 1 or greater");return t.slice(0);case"int":if(t!==Number(t))throw new Error("A required parameter is missing or not a number");if(t!==Math.round(t))throw new Error("Parameter must be a whole number");if(t===1/0)throw new Error("Sent 'infinity' as a parameter");return t;case"n":if(t===void 0)throw new Error("You must specify how many values you want");if(t!==Number(t))throw new Error("The number of values must be numeric");if(t!==Math.round(t))throw new Error("The number of values must be a whole number");if(t<1)throw new Error("The number of values must be a whole number of 1 or greater");if(t===1/0)throw new Error("The number of values cannot be infinite ;-)");return t;case"p":if(Number(t)!==t)throw new Error("Probability value is missing or not a number");if(t>1)throw new Error("Probability values cannot be greater than 1");if(t<0)throw new Error("Probability values cannot be less than 0");return t;case"pos":if(Number(t)!==t)throw new Error("A required parameter is missing or not a number");if(t<=0)throw new Error("Parameter must be greater than 0");if(t===1/0)throw new Error("Sent 'infinity' as a parameter");return t;case"r":if(Number(t)!==t)throw new Error("A required parameter is missing or not a number");if(t===1/0)throw new Error("Sent 'infinity' as a parameter");return t;case"nn":if(t!==Number(t))throw new Error("A required parameter is missing or not a number");if(t<0)throw new Error("Parameter cannot be less than 0");if(t===1/0)throw new Error("Sent 'infinity' as a parameter");return t;case"nni":if(t!==Number(t))throw new Error("A required parameter is missing or not a number");if(t!==Math.round(t))throw new Error("Parameter must be a whole number");if(t<0)throw new Error("Parameter cannot be less than zero");if(t===1/0)throw new Error("Sent 'infinity' as a parameter");return t;case"str":if(t!==String(t))throw new Error("A required parameter is missing or not a string");if(t.length===0)throw new Error("Parameter must be at least one character long");return t}},rfml:function(t,e,r,n,a){t=this._v(t,"n"),e=this._v(e,"nni",1),r===void 0&&(r=this.prng),n=this._v(n,"n",1e4),a===void 0&&(a={});for(var s=[],o=0;o<t;o++){var u=0,l=e,h=r();if(e===0)s[o]=0;else{do{var p=this.prng();p<h?(l++,a[String(o)+"_"+String(u)]={problems:l,p:h,result:1}):(l--,a[String(o)+"_"+String(u)]={problems:l,p:h,result:-1}),u++}while(l>0&&u<n);u===n&&(u=-1),s[o]=u}}return s},ruf:function(t){t=this._v(t,"n");for(var e=[],r=0;r<t;r++)e[r]=this.rexp(1,this.prng())[0];return e}}});var J6=ne(Rt=>{"use strict";function u2(t,e){return t-e}Rt.sum=function(e){for(var r=0,n=0;n<e.length;n++)r+=e[n];return r};Rt.max=function(e){for(var r=e[0],n=e.length,a=1;a<n;a++)e[a]>r&&(r=e[a]);return r};Rt.min=function(e){for(var r=e[0],n=e.length,a=1;a<n;a++)e[a]<r&&(r=e[a]);return r};Rt.minMax=function(e){for(var r=e[0],n=e[0],a=e.length,s=1;s<a;s++)e[s]<r&&(r=e[s]),e[s]>n&&(n=e[s]);return{min:r,max:n}};Rt.arithmeticMean=function(e){for(var r=0,n=e.length,a=0;a<n;a++)r+=e[a];return r/n};Rt.mean=Rt.arithmeticMean;Rt.geometricMean=function(e){for(var r=1,n=e.length,a=0;a<n;a++)r*=e[a];return Math.pow(r,1/n)};Rt.logMean=function(e){for(var r=0,n=e.length,a=0;a<n;a++)r+=Math.log(e[a]);return r/n};Rt.grandMean=function(e,r){for(var n=0,a=0,s=e.length,o=0;o<s;o++)n+=r[o]*e[o],a+=r[o];return n/a};Rt.truncatedMean=function(e,r,n){n===void 0&&(n=!1),n||(e=[].concat(e).sort(u2));for(var a=e.length,s=Math.floor(a*r),o=0,u=s;u<a-s;u++)o+=e[u];return o/(a-2*s)};Rt.harmonicMean=function(e){for(var r=0,n=e.length,a=0;a<n;a++){if(e[a]===0)throw new RangeError("value at index "+a+"is zero");r+=1/e[a]}return n/r};Rt.contraHarmonicMean=function(e){for(var r=0,n=0,a=e.length,s=0;s<a;s++)r+=e[s]*e[s],n+=e[s];if(n<0)throw new RangeError("sum of values is negative");return r/n};Rt.median=function(e,r){r===void 0&&(r=!1),r||(e=[].concat(e).sort(u2));var n=e.length,a=Math.floor(n/2);return n%2===0?(e[a-1]+e[a])*.5:e[a]};Rt.variance=function(e,r){r===void 0&&(r=!0);for(var n=Rt.mean(e),a=0,s=e.length,o=0;o<s;o++){var u=e[o]-n;a+=u*u}return r?a/(s-1):a/s};Rt.standardDeviation=function(e,r){return Math.sqrt(Rt.variance(e,r))};Rt.standardError=function(e){return Rt.standardDeviation(e)/Math.sqrt(e.length)};Rt.robustMeanAndStdev=function(e){var r=0,n=0,a=e.length,s=0;for(s=0;s<a;s++)r+=e[s];r/=a;var o=new Array(a);for(s=0;s<a;s++)o[s]=Math.abs(e[s]-r);return o.sort(u2),a%2===1?n=o[(a-1)/2]/.6745:n=.5*(o[a/2]+o[a/2-1])/.6745,{mean:r,stdev:n}};Rt.quartiles=function(e,r){typeof r=="undefined"&&(r=!1),r||(e=[].concat(e).sort(u2));var n=e.length/4,a=e[Math.ceil(n)-1],s=Rt.median(e,!0),o=e[Math.ceil(n*3)-1];return{q1:a,q2:s,q3:o}};Rt.pooledStandardDeviation=function(e,r){return Math.sqrt(Rt.pooledVariance(e,r))};Rt.pooledVariance=function(e,r){typeof r=="undefined"&&(r=!0);for(var n=0,a=0,s=e.length,o=0;o<s;o++){var u=e[o],l=Rt.variance(u);n+=(u.length-1)*l,r?a+=u.length-1:a+=u.length}return n/a};Rt.mode=function(e){var r=e.length,n=new Array(r),a;for(a=0;a<r;a++)n[a]=0;var s=new Array(r),o=0;for(a=0;a<r;a++){var u=s.indexOf(e[a]);u>=0?n[u]++:(s[o]=e[a],n[o]=1,o++)}var l=0,h=0;for(a=0;a<o;a++)n[a]>l&&(l=n[a],h=a);return s[h]};Rt.covariance=function(e,r,n){typeof n=="undefined"&&(n=!0);var a=Rt.mean(e),s=Rt.mean(r);if(e.length!==r.length)throw"Vectors do not have the same dimensions";for(var o=0,u=e.length,l=0;l<u;l++){var h=e[l]-a,p=r[l]-s;o+=h*p}return n?o/(u-1):o/u};Rt.skewness=function(e,r){typeof r=="undefined"&&(r=!0);for(var n=Rt.mean(e),a=0,s=0,o=e.length,u=0;u<o;u++){var l=e[u]-n;a+=l*l,s+=l*l*l}var h=a/o,p=s/o,v=p/Math.pow(h,3/2);if(r){var y=Math.sqrt(o*(o-1)),S=o-2;return y/S*v}else return v};Rt.kurtosis=function(e,r){typeof r=="undefined"&&(r=!0);for(var n=Rt.mean(e),a=e.length,s=0,o=0,u=0;u<a;u++){var l=e[u]-n;s+=l*l,o+=l*l*l*l}var h=s/a,p=o/a;if(r){var v=s/(a-1),y=a*(a+1)/((a-1)*(a-2)*(a-3)),S=o/(v*v),A=(a-1)*(a-1)/((a-2)*(a-3));return y*S-3*A}else return p/(h*h)-3};Rt.entropy=function(e,r){typeof r=="undefined"&&(r=0);for(var n=0,a=e.length,s=0;s<a;s++)n+=e[s]*Math.log(e[s]+r);return-n};Rt.weightedMean=function(e,r){for(var n=0,a=e.length,s=0;s<a;s++)n+=e[s]*r[s];return n};Rt.weightedStandardDeviation=function(e,r){return Math.sqrt(Rt.weightedVariance(e,r))};Rt.weightedVariance=function(e,r){for(var n=Rt.weightedMean(e,r),a=0,s=e.length,o=0,u=0,l=0;l<s;l++){var h=e[l]-n,p=r[l];a+=p*(h*h),u+=p,o+=p*p}return a*(u/(u*u-o))};Rt.center=function(e,r){typeof r=="undefined"&&(r=!1);var n=e;r||(n=[].concat(e));for(var a=Rt.mean(n),s=n.length,o=0;o<s;o++)n[o]-=a};Rt.standardize=function(e,r,n){typeof r=="undefined"&&(r=Rt.standardDeviation(e)),typeof n=="undefined"&&(n=!1);for(var a=e.length,s=n?e:new Array(a),o=0;o<a;o++)s[o]=e[o]/r;return s};Rt.cumulativeSum=function(e){var r=e.length,n=new Array(r);n[0]=e[0];for(var a=1;a<r;a++)n[a]=n[a-1]+e[a];return n}});var qz=ne(Bt=>{"use strict";var p_e=J6();function m_e(t,e){return t-e}Bt.max=function(e){for(var r=-1/0,n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++)e[n][a]>r&&(r=e[n][a]);return r};Bt.min=function(e){for(var r=1/0,n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++)e[n][a]<r&&(r=e[n][a]);return r};Bt.minMax=function(e){for(var r=1/0,n=-1/0,a=0;a<e.length;a++)for(var s=0;s<e[a].length;s++)e[a][s]<r&&(r=e[a][s]),e[a][s]>n&&(n=e[a][s]);return{min:r,max:n}};Bt.entropy=function(e,r){typeof r=="undefined"&&(r=0);for(var n=0,a=e.length,s=e[0].length,o=0;o<a;o++)for(var u=0;u<s;u++)n+=e[o][u]*Math.log(e[o][u]+r);return-n};Bt.mean=function(e,r){typeof r=="undefined"&&(r=0);var n=e.length,a=e[0].length,s,o,u,l;if(r===-1){for(s=[0],o=n*a,u=0;u<n;u++)for(l=0;l<a;l++)s[0]+=e[u][l];s[0]/=o}else if(r===0)for(s=new Array(a),o=n,l=0;l<a;l++){for(s[l]=0,u=0;u<n;u++)s[l]+=e[u][l];s[l]/=o}else if(r===1)for(s=new Array(n),o=a,l=0;l<n;l++){for(s[l]=0,u=0;u<a;u++)s[l]+=e[l][u];s[l]/=o}else throw new Error("Invalid dimension");return s};Bt.sum=function(e,r){typeof r=="undefined"&&(r=0);var n=e.length,a=e[0].length,s,o,u;if(r===-1)for(s=[0],o=0;o<n;o++)for(u=0;u<a;u++)s[0]+=e[o][u];else if(r===0)for(s=new Array(a),u=0;u<a;u++)for(s[u]=0,o=0;o<n;o++)s[u]+=e[o][u];else if(r===1)for(s=new Array(n),u=0;u<n;u++)for(s[u]=0,o=0;o<a;o++)s[u]+=e[u][o];else throw new Error("Invalid dimension");return s};Bt.product=function(e,r){typeof r=="undefined"&&(r=0);var n=e.length,a=e[0].length,s,o,u;if(r===-1)for(s=[1],o=0;o<n;o++)for(u=0;u<a;u++)s[0]*=e[o][u];else if(r===0)for(s=new Array(a),u=0;u<a;u++)for(s[u]=1,o=0;o<n;o++)s[u]*=e[o][u];else if(r===1)for(s=new Array(n),u=0;u<n;u++)for(s[u]=1,o=0;o<a;o++)s[u]*=e[u][o];else throw new Error("Invalid dimension");return s};Bt.standardDeviation=function(e,r,n){for(var a=Bt.variance(e,r,n),s=a.length,o=0;o<s;o++)a[o]=Math.sqrt(a[o]);return a};Bt.variance=function(e,r,n){typeof n=="undefined"&&(n=!0),r=r||Bt.mean(e);var a=e.length;if(a===0)return[];for(var s=e[0].length,o=new Array(s),u=0;u<s;u++){for(var l=0,h=0,p=0,v=0;v<a;v++)p=e[v][u]-r[u],l+=p,h+=p*p;n?o[u]=(h-l*l/a)/(a-1):o[u]=(h-l*l/a)/a}return o};Bt.median=function(e){for(var r=e.length,n=e[0].length,a=new Array(n),s=0;s<n;s++){for(var o=new Array(r),u=0;u<r;u++)o[u]=e[u][s];o.sort(m_e);var l=o.length;l%2===0?a[s]=(o[l/2]+o[l/2-1])*.5:a[s]=o[Math.floor(l/2)]}return a};Bt.mode=function(e){var r=e.length,n=e[0].length,a=new Array(n),s,o;for(s=0;s<n;s++){for(var u=new Array(r),l=0;l<r;l++)u[l]=0;var h=new Array(r),p=0;for(o=0;o<r;o++){var v=h.indexOf(e[o][s]);v>=0?u[v]++:(h[p]=e[o][s],u[p]=1,p++)}var y=0,S=0;for(o=0;o<p;o++)u[o]>y&&(y=u[o],S=o);a[s]=h[S]}return a};Bt.skewness=function(e,r){typeof r=="undefined"&&(r=!0);for(var n=Bt.mean(e),a=e.length,s=n.length,o=new Array(s),u=0;u<s;u++){for(var l=0,h=0,p=0;p<a;p++){var v=e[p][u]-n[u];l+=v*v,h+=v*v*v}var y=l/a,S=h/a,A=S/Math.pow(y,3/2);if(r){var T=Math.sqrt(a*(a-1)),I=a-2;o[u]=T/I*A}else o[u]=A}return o};Bt.kurtosis=function(e,r){typeof r=="undefined"&&(r=!0);for(var n=Bt.mean(e),a=e.length,s=e[0].length,o=new Array(s),u=0;u<s;u++){for(var l=0,h=0,p=0;p<a;p++){var v=e[p][u]-n[u];l+=v*v,h+=v*v*v*v}var y=l/a,S=h/a;if(r){var A=l/(a-1),T=a*(a+1)/((a-1)*(a-2)*(a-3)),I=h/(A*A),N=(a-1)*(a-1)/((a-2)*(a-3));o[u]=T*I-3*N}else o[u]=S/(y*y)-3}return o};Bt.standardError=function(e){for(var r=e.length,n=Bt.standardDeviation(e),a=n.length,s=new Array(a),o=Math.sqrt(r),u=0;u<a;u++)s[u]=n[u]/o;return s};Bt.covariance=function(e,r){return Bt.scatter(e,void 0,r)};Bt.scatter=function(e,r,n){typeof n=="undefined"&&(n=0),typeof r=="undefined"&&(n===0?r=e.length-1:n===1&&(r=e[0].length-1));var a=Bt.mean(e,n),s=e.length;if(s===0)return[[]];var o=e[0].length,u,l,h,p,v;if(n===0){for(u=new Array(o),l=0;l<o;l++)u[l]=new Array(o);for(l=0;l<o;l++)for(h=l;h<o;h++){for(p=0,v=0;v<s;v++)p+=(e[v][h]-a[h])*(e[v][l]-a[l]);p/=r,u[l][h]=p,u[h][l]=p}}else if(n===1){for(u=new Array(s),l=0;l<s;l++)u[l]=new Array(s);for(l=0;l<s;l++)for(h=l;h<s;h++){for(p=0,v=0;v<o;v++)p+=(e[h][v]-a[h])*(e[l][v]-a[l]);p/=r,u[l][h]=p,u[h][l]=p}}else throw new Error("Invalid dimension");return u};Bt.correlation=function(e){var r=Bt.mean(e),n=Bt.standardDeviation(e,!0,r),a=Bt.zScores(e,r,n),s=e.length,o=e[0].length,u,l,h=new Array(o);for(u=0;u<o;u++)h[u]=new Array(o);for(u=0;u<o;u++)for(l=u;l<o;l++){for(var p=0,v=0,y=a.length;v<y;v++)p+=a[v][l]*a[v][u];p/=s-1,h[u][l]=p,h[l][u]=p}return h};Bt.zScores=function(e,r,n){return r=r||Bt.mean(e),typeof n=="undefined"&&(n=Bt.standardDeviation(e,!0,r)),Bt.standardize(Bt.center(e,r,!1),n,!0)};Bt.center=function(e,r,n){r=r||Bt.mean(e);var a=e,s=e.length,o,u,l;if(!n)for(a=new Array(s),o=0;o<s;o++)a[o]=new Array(e[o].length);for(o=0;o<s;o++){var h=a[o];for(u=0,l=h.length;u<l;u++)h[u]=e[o][u]-r[u]}return a};Bt.standardize=function(e,r,n){typeof r=="undefined"&&(r=Bt.standardDeviation(e));var a=e,s=e.length,o,u,l;if(!n)for(a=new Array(s),o=0;o<s;o++)a[o]=new Array(e[o].length);for(o=0;o<s;o++){var h=a[o],p=e[o];for(u=0,l=h.length;u<l;u++)r[u]!==0&&!isNaN(r[u])&&(h[u]=p[u]/r[u])}return a};Bt.weightedVariance=function(e,r){var n=Bt.mean(e),a=e.length;if(a===0)return[];for(var s=e[0].length,o=new Array(s),u=0;u<s;u++){for(var l=0,h=0,p=0,v=0;v<a;v++){var y=e[v][u]-n[u],S=r[v];l+=S*(y*y),p+=S,h+=S*S}o[u]=l*(p/(p*p-h))}return o};Bt.weightedMean=function(e,r,n){typeof n=="undefined"&&(n=0);var a=e.length;if(a===0)return[];var s=e[0].length,o,u,l,h,p,v;if(n===0){for(o=new Array(s),u=0;u<s;u++)o[u]=0;for(u=0;u<a;u++)for(v=e[u],p=r[u],h=0;h<s;h++)o[h]+=v[h]*p}else if(n===1){for(o=new Array(a),u=0;u<a;u++)o[u]=0;for(h=0;h<a;h++)for(v=e[h],p=r[h],u=0;u<s;u++)o[h]+=v[u]*p}else throw new Error("Invalid dimension");var y=p_e.sum(r);if(y!==0)for(u=0,l=o.length;u<l;u++)o[u]/=y;return o};Bt.weightedCovariance=function(e,r,n,a){a=a||0,n=n||Bt.weightedMean(e,r,a);for(var s=0,o=0,u=0,l=r.length;u<l;u++)s+=r[u],o+=r[u]*r[u];var h=s/(s*s-o);return Bt.weightedScatter(e,r,n,h,a)};Bt.weightedScatter=function(e,r,n,a,s){s=s||0,n=n||Bt.weightedMean(e,r,s),typeof a=="undefined"&&(a=1);var o=e.length;if(o===0)return[[]];var u=e[0].length,l,h,p,v,y;if(s===0){for(l=new Array(u),h=0;h<u;h++)l[h]=new Array(u);for(h=0;h<u;h++)for(p=h;p<u;p++){for(y=0,v=0;v<o;v++)y+=r[v]*(e[v][p]-n[p])*(e[v][h]-n[h]);l[h][p]=y*a,l[p][h]=y*a}}else if(s===1){for(l=new Array(o),h=0;h<o;h++)l[h]=new Array(o);for(h=0;h<o;h++)for(p=h;p<o;p++){for(y=0,v=0;v<u;v++)y+=r[v]*(e[p][v]-n[p])*(e[h][v]-n[h]);l[h][p]=y*a,l[p][h]=y*a}}else throw new Error("Invalid dimension");return l}});var Fg=ne(Y6=>{"use strict";Y6.array=J6();Y6.matrix=qz()});var ch=ne((jtt,Vz)=>{var $z=1/0,jz=9007199254740991,v_e=17976931348623157e292,zz=0/0,g_e="[object Function]",y_e="[object GeneratorFunction]",b_e="[object Symbol]",w_e=/^\s+|\s+$/g,__e=/^[-+]0x[0-9a-f]+$/i,x_e=/^0b[01]+$/i,S_e=/^0o[0-7]+$/i,E_e=/^(?:0|[1-9]\d*)$/,M_e=parseInt,A_e=Object.prototype,Uz=A_e.toString,k_e=Math.ceil,T_e=Math.max;function N_e(t,e,r,n){for(var a=-1,s=T_e(k_e((e-t)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=t,t+=r;return o}function I_e(t){return function(e,r,n){return n&&typeof n!="number"&&O_e(e,r,n)&&(r=n=void 0),e=X6(e),r===void 0?(r=e,e=0):r=X6(r),n=n===void 0?e<r?1:-1:X6(n),N_e(e,r,n,t)}}function D_e(t,e){return e=e==null?jz:e,!!e&&(typeof t=="number"||E_e.test(t))&&t>-1&&t%1==0&&t<e}function O_e(t,e,r){if(!f2(r))return!1;var n=typeof e;return(n=="number"?C_e(r)&&D_e(e,r.length):n=="string"&&e in r)?R_e(r[e],t):!1}function R_e(t,e){return t===e||t!==t&&e!==e}function C_e(t){return t!=null&&B_e(t.length)&&!F_e(t)}function F_e(t){var e=f2(t)?Uz.call(t):"";return e==g_e||e==y_e}function B_e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jz}function f2(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function L_e(t){return!!t&&typeof t=="object"}function P_e(t){return typeof t=="symbol"||L_e(t)&&Uz.call(t)==b_e}function X6(t){if(!t)return t===0?t:0;if(t=q_e(t),t===$z||t===-$z){var e=t<0?-1:1;return e*v_e}return t===t?t:0}function q_e(t){if(typeof t=="number")return t;if(P_e(t))return zz;if(f2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=f2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(w_e,"");var r=x_e.test(t);return r||S_e.test(t)?M_e(t.slice(2),r?2:8):__e.test(t)?zz:+t}var $_e=I_e();Vz.exports=$_e});var e4=ne((Utt,Zz)=>{var Wz=1/0,Hz=9007199254740991,z_e=17976931348623157e292,Gz=0/0,j_e="[object Function]",U_e="[object GeneratorFunction]",V_e="[object Symbol]",W_e=/^\s+|\s+$/g,G_e=/^[-+]0x[0-9a-f]+$/i,H_e=/^0b[01]+$/i,K_e=/^0o[0-7]+$/i,Z_e=/^(?:0|[1-9]\d*)$/,J_e=parseInt,Y_e=Object.prototype,Kz=Y_e.toString,X_e=Math.ceil,Q_e=Math.max;function e2e(t,e,r,n){for(var a=-1,s=Q_e(X_e((e-t)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=t,t+=r;return o}function t2e(t){return function(e,r,n){return n&&typeof n!="number"&&n2e(e,r,n)&&(r=n=void 0),e=Q6(e),r===void 0?(r=e,e=0):r=Q6(r),n=n===void 0?e<r?1:-1:Q6(n),e2e(e,r,n,t)}}function r2e(t,e){return e=e==null?Hz:e,!!e&&(typeof t=="number"||Z_e.test(t))&&t>-1&&t%1==0&&t<e}function n2e(t,e,r){if(!l2(r))return!1;var n=typeof e;return(n=="number"?a2e(r)&&r2e(e,r.length):n=="string"&&e in r)?i2e(r[e],t):!1}function i2e(t,e){return t===e||t!==t&&e!==e}function a2e(t){return t!=null&&o2e(t.length)&&!s2e(t)}function s2e(t){var e=l2(t)?Kz.call(t):"";return e==j_e||e==U_e}function o2e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Hz}function l2(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function u2e(t){return!!t&&typeof t=="object"}function f2e(t){return typeof t=="symbol"||u2e(t)&&Kz.call(t)==V_e}function Q6(t){if(!t)return t===0?t:0;if(t=l2e(t),t===Wz||t===-Wz){var e=t<0?-1:1;return e*z_e}return t===t?t:0}function l2e(t){if(typeof t=="number")return t;if(f2e(t))return Gz;if(l2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=l2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(W_e,"");var r=H_e.test(t);return r||K_e.test(t)?J_e(t.slice(2),r?2:8):G_e.test(t)?Gz:+t}var c2e=t2e(!0);Zz.exports=c2e});var Nj=ne(Tj=>{"use strict";Object.defineProperty(Tj,"__esModule",{value:!0})});var Oj=ne(Dj=>{"use strict";var Ij=Nj(),u4=class{constructor(e){this._run_callback=e.run_callback,this._params=[],this._shades=[],this._combinations=[],this._results=[],this._prepare(e.params)}save(e){let r={results:this._results,params:this._params,combinations:this._combinations};Ij.writeFileSync(e,JSON.stringify(r),{encoding:"utf8"})}load(e){let r=Ij.readFileSync(e,"utf8"),n=JSON.parse(r);this._results=n.results,this._params=n.params,this._combinations=n.combinations}clone(e){return Object.assign({},e)}_prepare(e){let r=[];for(let n in e)e.hasOwnProperty(n)&&r.push({name:n,values:e[n]});this._combinations=[{}];for(let n=0;n<r.length;n++){let a=[];for(let s of this._combinations)for(let o=0;o<r[n].values.length;o++){let u=this.clone(s);u[r[n].name]=r[n].values[o],a.push(u)}this._combinations=a}this._params=r}run(){for(let e of this._combinations)this._results.push({params:e,results:this._run_callback(e)})}_createDefaultTable(e,r,n){let a=[];for(let s=0;s<e;s++){let o=[];for(let u=0;u<r;u++)o.push(n);a.push(o)}return a}_findMatchForParam(e,r){for(let n=0;n<e.length;n++){let a=!0;for(let s in e[n])e[n].hasOwnProperty(s)&&(a=a&&r[s]==e[n][s]);if(a)return n}return-1}getTableOfResults(e,r,n){let a=[{}],s=[{}],o=this._params.filter(h=>r.indexOf(h.name)>=0),u=this._params.filter(h=>e.indexOf(h.name)>=0);for(let h=0;h<o.length;h++){let p=[];for(let v of a)for(let y=0;y<o[h].values.length;y++){let S=this.clone(v);S[o[h].name]=o[h].values[y],p.push(S)}a=p}for(let h=0;h<u.length;h++){let p=[];for(let v of s)for(let y=0;y<u[h].values.length;y++){let S=this.clone(v);S[u[h].name]=u[h].values[y],p.push(S)}s=p}let l=this._createDefaultTable(a.length,s.length,-1);for(let h of this._results){let p=this._findMatchForParam(a,h.params),v=this._findMatchForParam(s,h.params);if(p<0||v<0)continue;let y=n(h);l[p][v]<y&&(l[p][v]=y)}return{rows:a,cols:s,results:l}}_createTitle(e){let r="";for(let n in e)e.hasOwnProperty(n)&&(r+=`${n}=${e[n]},`);return r.substr(0,r.length-1)}_padToWidth(e,r,n){for(n=n||" ";e.length<r;)e+=n;return e}_prepareColorShades(e,r){let n=(r-e)/5;this._shades=[];for(let a=0;a<5;a++)this._shades.push(r-a*n)}_outputValue(e,r){return this._padToWidth(""+e,r)}displayTableOfResults(e,r,n){let a=this.getTableOfResults(e,r,n),s=a.cols.map(S=>this._createTitle(S)),o=a.rows.map(S=>this._createTitle(S)),u=s.map(S=>Math.max(S.length+4,8)),l=0;o.forEach(S=>{l=Math.max(l,S.length+4)});let h=null,p=null;a.results.forEach(S=>{S.forEach(A=>{(h===null||h>A)&&(h=A),(p===null||p<A)&&(p=A)})}),this._prepareColorShades(h,p);let v="",y="";v+="| "+this._padToWidth("",l),y+="|-"+this._padToWidth("",l,"-");for(let S=0;S<s.length;S++)v+="| "+this._padToWidth(s[S],u[S]),y+="|-"+this._padToWidth("",u[S],"-");console.log(v),console.log(y);for(let S=0;S<o.length;S++){v="| ",v+=this._padToWidth(o[S],l);for(let A=0;A<s.length;A++)v+="| "+this._outputValue(a.results[S][A],u[A]);console.log(v)}}};Dj.GridSearch=u4});var Rj=ne(f4=>{"use strict";Object.defineProperty(f4,"__esModule",{value:!0});var C2e=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.item=e,this.parent=r,this.support=1,this.nextSameItemNode=null,this._children=[]}return Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),t.prototype.upsertChild=function(e,r,n){n===void 0&&(n=1);var a=this.getChild(e);return a?a.support+=n:(a=new t(e,this),a.support=n,this._children.push(a),r&&r(a)),a},t.prototype.getChild=function(e){return this._children.find(function(r){return r.item==e})},t}();f4.FPNode=C2e});var Cj=ne(l4=>{"use strict";Object.defineProperty(l4,"__esModule",{value:!0});var F2e=Rj(),B2e=function(){function t(e,r){this.supports=e,this._support=r,this._isInit=!1,this.root=new F2e.FPNode,this._firstInserted={},this._lastInserted={}}return Object.defineProperty(t.prototype,"headers",{get:function(){return this._headers},enumerable:!0,configurable:!0}),t.prototype.fromTransactions=function(e){var r=this;if(this._isInit)throw new Error("Error building the FPTree");return e.forEach(function(n){var a=n.filter(function(s){return r.supports[JSON.stringify(s)]>=r._support}).sort(function(s,o){var u=r.supports[JSON.stringify(o)]-r.supports[JSON.stringify(s)];return u==0?JSON.stringify(o).localeCompare(JSON.stringify(s)):u});r._addItems(a)}),this._headers=this._getHeaderList(),this._isInit=!0,this},t.prototype.fromPrefixPaths=function(e){var r=this;if(this._isInit)throw new Error("Error building the FPTree");return e.forEach(function(n){var a=n.path.filter(function(s){return r.supports[JSON.stringify(s)]>=r._support}).sort(function(s,o){var u=r.supports[JSON.stringify(o)]-r.supports[JSON.stringify(s)];return u==0?JSON.stringify(o).localeCompare(JSON.stringify(s)):u});r._addItems(a,n.support)}),this._headers=this._getHeaderList(),this._isInit=!0,this},t.prototype.getConditionalFPTree=function(e){var r=this._firstInserted[JSON.stringify(e)];if(!r)return null;var n=this.supports[JSON.stringify(e)],a={},s=this._getPrefixPaths(r,n,function(u,l){a[JSON.stringify(u)]=(a[JSON.stringify(u)]||0)+l}),o=new t(a,this._support).fromPrefixPaths(s);return o.root.children.length?o:null},t.prototype.getPrefixPaths=function(e){if(!this._isInit)throw new Error("Error building the FPTree");var r=this._firstInserted[JSON.stringify(e)];return r?this._getPrefixPaths(r,r.support):[]},t.prototype.getPrefixPath=function(e,r){if(!this._isInit)throw new Error("Error building the FPTree");var n=this._getPrefixPath(e,e.support,r);if(n.length!==0)return{support:e.support,path:n}},t.prototype.isSinglePath=function(){if(!this._isInit)throw new Error("Error building the FPTree");return!!this.getSinglePath()},t.prototype.getSinglePath=function(){if(!this._isInit)throw new Error("Error building the FPTree");return this._getSinglePath(this.root)},t.prototype._addItems=function(e,r){var n=this;r===void 0&&(r=1);var a=this.root;e.forEach(function(s){a=a.upsertChild(s,function(o){var u=JSON.stringify(s);n._updateLastInserted(u,o),n._updateFirstInserted(u,o)},r)})},t.prototype._getPrefixPaths=function(e,r,n,a){a===void 0&&(a=[]);var s=this.getPrefixPath(e,n);return s&&a.push(s),e.nextSameItemNode?this._getPrefixPaths(e.nextSameItemNode,r,n,a):a},t.prototype._getPrefixPath=function(e,r,n){return e.parent&&e.parent.parent?(n&&n(e.parent.item,r),[e.parent.item].concat(this._getPrefixPath(e.parent,r,n))):[]},t.prototype._getSinglePath=function(e,r){return r===void 0&&(r=[]),e.children.length==0?r:e.children.length>1?null:(r.push(e.children[0]),this._getSinglePath(e.children[0],r))},t.prototype._updateLastInserted=function(e,r){var n=this._lastInserted[e];n&&(n.nextSameItemNode=r),this._lastInserted[e]=r},t.prototype._updateFirstInserted=function(e,r){var n=this._firstInserted[e];n||(this._firstInserted[e]=r)},t.prototype._getHeaderList=function(){var e=this;return Object.keys(this._firstInserted).sort(function(r,n){return e.supports[r]-e.supports[n]}).map(function(r){return JSON.parse(r)})},t}();l4.FPTree=B2e});var Fj=ne(Lg=>{"use strict";var L2e=Lg&&Lg.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Lg,"__esModule",{value:!0});var P2e=ws(),q2e=Cj(),$2e=function(t){L2e(e,t);function e(r){var n=t.call(this)||this;return n._support=r,n._itemsets=[],n}return e.prototype.exec=function(r,n){var a=this;this._transactions=r,this._support=Math.ceil(this._support*r.length);var s=this._getDistinctItemsCount(this._transactions);return new Promise(function(o,u){var l=new q2e.FPTree(s,a._support).fromTransactions(a._transactions),h=a._fpGrowth(l,a._transactions.length);n&&n(h),o(h)})},e.prototype._fpGrowth=function(r,n,a){var s=this;return a===void 0&&(a=[]),r.headers.reduce(function(o,u){var l=Math.min(r.supports[JSON.stringify(u)],n),h=a.slice(0);h.push(u),o.push(s._getFrequentItemset(h,l));var p=r.getConditionalFPTree(u);return p?o.concat(s._fpGrowth(p,l,h)):o},[])},e.prototype._handleSinglePath=function(r,n){return[]},e.prototype._getFrequentItemset=function(r,n){var a={items:r,support:n};return this.emit("data",a),a},e.prototype._getDistinctItemsCount=function(r){return r.reduce(function(n,a){return a.reduce(function(s,o){return s[JSON.stringify(o)]=(s[JSON.stringify(o)]||0)+1,s},n)},{})},e}(P2e.EventEmitter);Lg.FPGrowth=$2e});var gU=ne(()=>{});var kt=ne(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});var A4=function(t,e){return A4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},A4(t,e)};function _f(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");A4(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Et(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(p){try{h(n.next(p))}catch(v){o(v)}}function l(p){try{h(n.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):a(p.value).then(u,l)}h((n=n.apply(t,e||[])).next())})}function Mt(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(p){return l([h,p])}}function l(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(p){h=[6,p],a=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Wa(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xt(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,s=[],o;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(u){o={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Rr(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(xt(arguments[e]));return t}var Fxe=1e-7,Bxe=1e-4,Lxe=function(){function t(e,r){this.backend=e,this.dataMover=r,this.data=new WeakMap,this.dataIdsCount=0}return t.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},t.prototype.set=function(e,r){this.dataIdsCount++,this.data.set(e,r)},t.prototype.has=function(e){return this.data.has(e)},t.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},t.prototype.numDataIds=function(){return this.dataIdsCount},t}(),LU=function(){function t(){}return t.prototype.refCount=function(e){return us("refCount")},t.prototype.incRef=function(e){return us("incRef")},t.prototype.timerAvailable=function(){return!0},t.prototype.time=function(e){return us("time")},t.prototype.read=function(e){return us("read")},t.prototype.readSync=function(e){return us("readSync")},t.prototype.readToGPU=function(e,r){return us("readToGPU")},t.prototype.numDataIds=function(){return us("numDataIds")},t.prototype.disposeData=function(e,r){return us("disposeData")},t.prototype.write=function(e,r,n){return us("write")},t.prototype.move=function(e,r,n,a,s){return us("move")},t.prototype.memory=function(){return us("memory")},t.prototype.floatPrecision=function(){return us("floatPrecision")},t.prototype.epsilon=function(){return this.floatPrecision()===32?Fxe:Bxe},t.prototype.dispose=function(){return us("dispose")},t}();function us(t){throw new Error("'"+t+"' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen")}function PU(t){for(var e=t.length,r=0;e>0;)r=Math.random()*e|0,e--,T2(t,e,r)}function Pxe(t,e){if(t.length!==e.length)throw new Error("Array sizes must match to be shuffled together "+("First array length was "+t.length)+("Second array length was "+e.length));for(var r=t.length,n=0;r>0;)n=Math.random()*r|0,r--,T2(t,r,n),T2(e,r,n)}function Gg(t,e,r){return Math.max(t,Math.min(e,r))}function qxe(t){return t%2===0?t:t+1}function T2(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function $xe(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];return e}function zxe(t,e){var r=Math.random();return e*r+(1-r)*t}function jxe(t,e){for(var r=0,n=0;n<t.length;n++){var a=Number(t[n])-Number(e[n]);r+=a*a}return r}function se(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function pa(t,e,r){r===void 0&&(r=""),se(Pl(t,e),function(){return r+(" Shapes "+t+" and "+e+" must match")})}function Oh(t){se(t!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function kh(t,e,r){if(e===void 0&&(e=[]),r===void 0&&(r=!1),e==null&&(e=[]),Array.isArray(t)||ea(t)&&!r)for(var n=0;n<t.length;++n)kh(t[n],e,r);else e.push(t);return e}function xn(t){if(t.length===0)return 1;for(var e=t[0],r=1;r<t.length;r++)e*=t[r];return e}function Uxe(t){return t.length===0}function Pl(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Vp(t){return t%1===0}function Vxe(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var e=Math.exp(2*t);return(e-1)/(e+1)}function Wxe(t){var e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function Gxe(t){for(var e=new Uint32Array(t),r=0;r<t;++r)e[r]=r;return PU(e),e}function Ug(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function Hxe(t,e,r){return e===void 0&&(e=function(n){return 0}),new Promise(function(n,a){var s=0,o=function(){if(t()){n();return}s++;var u=e(s);if(r!=null&&s>=r){a();return}setTimeout(o,u)};o()})}function Kxe(t,e){for(var r=1,n=-1,a=0;a<t.length;++a)if(t[a]>=0)r*=t[a];else if(t[a]===-1){if(n!==-1)throw Error("Shapes can only have 1 implicit size. "+("Found -1 at dim "+n+" and dim "+a));n=a}else if(t[a]<0)throw Error("Shapes can not be < 0. Found "+t[a]+" at dim "+a);if(n===-1){if(e>0&&e!==r)throw Error("Size("+e+") must match the product of shape "+t);return t}if(r===0)throw Error("Cannot infer the missing size in ["+t+"] when there are 0 elements");if(e%r!==0)throw Error("The implicit shape can't be a fractional number. "+("Got "+e+" / "+r));var s=t.slice();return s[n]=e/r,s}function iy(t,e){var r=e.length;return t=t==null?e.map(function(n,a){return a}):[].concat(t),se(t.every(function(n){return n>=-r&&n<r}),function(){return"All values in axis param must be in range [-"+r+", "+r+") but "+("got axis "+t)}),se(t.every(function(n){return Vp(n)}),function(){return"All values in axis param must be integers but "+("got axis "+t)}),t.map(function(n){return n<0?r+n:n})}function qU(t,e){for(var r=[],n=[],a=e!=null&&Array.isArray(e)&&e.length===0,s=e==null||a?null:iy(e,t).sort(),o=0,u=0;u<t.length;++u){if(s!=null){if(s[o]===u&&t[u]!==1)throw new Error("Can't squeeze axis "+u+" since its dim '"+t[u]+"' is not 1");(s[o]==null||s[o]>u)&&t[u]===1&&(r.push(t[u]),n.push(u)),s[o]<=u&&o++}t[u]!==1&&(r.push(t[u]),n.push(u))}return{newShape:r,keptDims:n}}function $U(t,e){var r=null;if(t==null||t==="float32")r=new Float32Array(e);else if(t==="int32")r=new Int32Array(e);else if(t==="bool")r=new Uint8Array(e);else throw new Error("Unknown data type "+t);return r}function zU(t,e){var r=null;if(t==null||t==="float32")r=new Float32Array(e);else if(t==="int32")r=new Int32Array(e);else if(t==="bool")r=new Uint8Array(e);else if(t==="string")r=new Array(e);else throw new Error("Unknown data type "+t);return r}function jU(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(isNaN(n)||!isFinite(n))throw Error("A tensor of type "+e+" being uploaded contains "+n+".")}}function UU(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function Zxe(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function ea(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}function k4(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error("Unknown dtype "+t)}function VU(t){if(t==null)return 0;var e=0;return t.forEach(function(r){return e+=r.length}),e}function Ol(t){return typeof t=="string"||t instanceof String}function WU(t){return typeof t=="boolean"}function GU(t){return typeof t=="number"}function j2(t){return Array.isArray(t)?j2(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":GU(t)?"float32":Ol(t)?"string":WU(t)?"bool":"float32"}function Fl(t){return!!(t&&t.constructor&&t.call&&t.apply)}function N2(t,e){for(var r=e;r<t;++r)if(t%r===0)return r;return t}function Zp(t){var e=t.length;if(e<2)return[];var r=new Array(e-1);r[e-2]=t[e-1];for(var n=e-3;n>=0;--n)r[n]=r[n+1]*t[n+1];return r}function HU(t,e,r,n){n===void 0&&(n=!1);var a=new Array;if(e.length===1)for(var s=e[0]*(n?2:1),o=0;o<s;o++)a[o]=r[t+o];else for(var s=e[0],u=e.slice(1),l=u.reduce(function(p,v){return p*v})*(n?2:1),o=0;o<s;o++)a[o]=HU(t+o*l,u,r,n);return a}function Pp(t,e,r){if(r===void 0&&(r=!1),t.length===0)return e[0];var n=t.reduce(function(a,s){return a*s})*(r?2:1);if(n===0)return[];if(n!==e.length)throw new Error("["+t+"] does not match the input size "+e.length+(r?" for a complex tensor":"")+".");return HU(0,t,e,r)}function X4(t,e){for(var r=U2(t,e),n=0;n<r.length;n++)r[n]=1;return r}function U2(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error("Unknown data type "+e)}function Jxe(t,e){var r=t.reduce(function(n,a){return n*a},1);if(e==null||e==="float32")return Pp(t,new Float32Array(r));if(e==="int32")return Pp(t,new Int32Array(r));if(e==="bool")return Pp(t,new Uint8Array(r));throw new Error("Unknown data type "+e)}function Q4(t){t.forEach(function(e){se(Number.isInteger(e)&&e>=0,function(){return"Tensor must have a shape comprised of positive integers but got "+("shape ["+t+"].")})})}function Yxe(t,e,r){if(e===0)return 0;if(e===1)return t[0];for(var n=t[t.length-1],a=0;a<t.length-1;++a)n+=r[a]*t[a];return n}function Xxe(t,e,r){if(e===0)return[];if(e===1)return[t];for(var n=new Array(e),a=0;a<n.length-1;++a)n[a]=Math.floor(t/r[a]),t-=n[a]*r[a];return n[n.length-1]=t,n}function eN(t){return t&&t.then&&typeof t.then=="function"}var yU="tfjsflags",KU=function(){function t(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Qxe,this.populateURLFlags()}return t.prototype.setPlatform=function(e,r){this.platform!=null&&(Kt().getBool("IS_TEST")||Kt().getBool("PROD")||console.warn("Platform "+this.platformName+" has already been set. "+("Overwriting the platform with "+e+"."))),this.platformName=e,this.platform=r},t.prototype.registerFlag=function(e,r,n){if(this.flagRegistry[e]={evaluationFn:r,setHook:n},this.urlFlags[e]!=null){var a=this.urlFlags[e];Kt().getBool("IS_TEST")||Kt().getBool("PROD")||console.warn("Setting feature override from URL "+e+": "+a+"."),this.set(e,a)}},t.prototype.getAsync=function(e){return Et(this,void 0,void 0,function(){var r,n;return Mt(this,function(a){switch(a.label){case 0:return e in this.flags?[2,this.flags[e]]:(r=this.flags,n=e,[4,this.evaluateFlag(e)]);case 1:return r[n]=a.sent(),[2,this.flags[e]]}})})},t.prototype.get=function(e){if(e in this.flags)return this.flags[e];var r=this.evaluateFlag(e);if(eN(r))throw new Error("Flag "+e+" cannot be synchronously evaluated. Please use getAsync() instead.");return this.flags[e]=r,this.flags[e]},t.prototype.getNumber=function(e){return this.get(e)},t.prototype.getBool=function(e){return this.get(e)},t.prototype.getFlags=function(){return this.flags},Object.defineProperty(t.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),t.prototype.set=function(e,r){if(this.flagRegistry[e]==null)throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=r,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(r)},t.prototype.evaluateFlag=function(e){if(this.flagRegistry[e]==null)throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},t.prototype.setFlags=function(e){this.flags=Object.assign({},e)},t.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},t.prototype.populateURLFlags=function(){var e=this;if(!(typeof this.global=="undefined"||typeof this.global.location=="undefined"||typeof this.global.location.search=="undefined")){var r=this.getQueryParams(this.global.location.search);if(yU in r){var n=r[yU].split(",");n.forEach(function(a){var s=xt(a.split(":"),2),o=s[0],u=s[1];e.urlFlags[o]=tSe(o,u)})}}},t}();function Qxe(t){var e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(r){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return eSe(e,n[0],n[1]),n.join("=")}),e}function eSe(t,e,r){t[decodeURIComponent(e)]=decodeURIComponent(r||"")}function tSe(t,e){if(e=e.toLowerCase(),e==="true"||e==="false")return e==="true";if(""+ +e===e)return+e;throw new Error("Could not parse value flag value "+e+" for flag "+t+".")}function Kt(){return W.ENV}W.ENV=null;function rSe(t){W.ENV=t}var w4;function ZU(){if(w4==null){var t=void 0;if(typeof window!="undefined")t=window;else if(typeof global!="undefined")t=global;else if(typeof process!="undefined")t=process;else if(typeof self!="undefined")t=self;else throw new Error("Could not find a global object");w4=t}return w4}function nSe(){var t=ZU();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function tN(t,e){var r=nSe();if(r.has(t))return r.get(t);var n=e();return r.set(t,n),r.get(t)}var JU="Abs",YU="Acos",XU="Acosh",rN="Add",QU="AddN",eV="All",tV="Any",rV="ArgMax",nV="ArgMin",iV="Asin",aV="Asinh",sV="Atan",oV="Atanh",uV="Atan2",fV="AvgPool",iSe="AvgPoolGrad",lV="AvgPool3D",aSe="AvgPool3DGrad",cV="BatchMatMul",hV="BatchToSpaceND",dV="Bincount",sSe="BroadcastTo",pV="BroadcastArgs",nN="Cast",mV="Ceil",vV="ClipByValue",gV="Complex",yV="ComplexAbs",bV="Concat",wV="Conv2D",_V="Conv2DBackpropFilter",xV="Conv2DBackpropInput",SV="Conv3D",oSe="Conv3DBackpropFilterV2",EV="Conv3DBackpropInputV2",MV="Cos",AV="Cosh",kV="Cumprod",TV="Cumsum",NV="CropAndResize",IV="DenseBincount",DV="DepthToSpace",OV="DepthwiseConv2dNative",RV="DepthwiseConv2dNativeBackpropFilter",CV="DepthwiseConv2dNativeBackpropInput",FV="Diag",BV="Dilation2D",uSe="Dilation2DBackpropInput",fSe="Dilation2DBackpropFilter",LV="RealDiv",PV="Einsum",qV="Elu",lSe="EluGrad",$V="Erf",zV="Equal",jV="Exp",UV="ExpandDims",VV="Expm1",WV="FFT",GV="Fill",HV="FlipLeftRight",KV="Floor",ZV="FloorDiv",JV="FusedBatchNorm",YV="GatherV2",XV="GatherNd",QV="Greater",eW="GreaterEqual",iN="Identity",tW="IFFT",rW="Imag",nW="IsFinite",iW="IsInf",aW="IsNan",sW="LeakyRelu",oW="Less",uW="LessEqual",fW="LinSpace",lW="Log",cW="Log1p",hW="LogicalAnd",dW="LogicalNot",pW="LogicalOr",cSe="LogicalXor",hSe="LogSoftmax",dSe="LowerBound",mW="LRN",pSe="LRNGrad",vW="Max",gW="Maximum",yW="MaxPool",mSe="MaxPoolGrad",bW="MaxPool3D",vSe="MaxPool3DGrad",wW="MaxPoolWithArgmax",_W="Mean",xW="Min",SW="Minimum",EW="MirrorPad",MW="Mod",AW="Multinomial",kW="Multiply",TW="Neg",NW="NotEqual",IW="NonMaxSuppressionV3",DW="NonMaxSuppressionV4",OW="NonMaxSuppressionV5",RW="OnesLike",CW="OneHot",FW="Pack",BW="PadV2",gSe="Pool",LW="Pow",PW="Prelu",qW="Prod",$W="Range",zW="Real",jW="Reciprocal",UW="Relu",VW="Reshape",WW="ResizeNearestNeighbor",ySe="ResizeNearestNeighborGrad",GW="ResizeBilinear",bSe="ResizeBilinearGrad",HW="Relu6",KW="Reverse",ZW="Round",JW="Rsqrt",YW="ScatterNd",XW="SearchSorted",QW="Select",eG="Selu",tG="Slice",rG="Sin",nG="Sinh",iG="Sign",aG="Sigmoid",sG="Softplus",oG="Sqrt",uG="Sum",fG="SpaceToBatchND",lG="SplitV",cG="Softmax",hG="SparseFillEmptyRows",dG="SparseReshape",pG="SparseSegmentMean",mG="SparseSegmentSum",vG="SparseToDense",gG="SquaredDifference",wSe="Square",yG="StridedSlice",bG="StringNGrams",wG="StringSplit",_G="StringToHashBucketFast",xG="Sub",SG="Tan",EG="Tanh",aN="Tile",MG="TopK",AG="Transform",E2="Transpose",kG="Unique",TG="Unpack",NG="UnsortedSegmentSum",_Se="UpperBound",IG="ZerosLike",DG="Step",T4="FromPixels",OG="RotateWithOffset",N4="_FusedMatMul",I4="FusedConv2D",D4="FusedDepthwiseConv2D";function Dl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Kt().getBool("IS_TEST")||Kt().getBool("PROD")||console.warn.apply(console,Rr(t))}function xSe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Kt().getBool("IS_TEST")||Kt().getBool("PROD")||console.log.apply(console,Rr(t))}var Wp=tN("kernelRegistry",function(){return new Map}),Hg=tN("gradRegistry",function(){return new Map});function I2(t,e){var r=sN(t,e);return Wp.get(r)}function O4(t){return Hg.get(t)}function D2(t){for(var e=Wp.entries(),r=[];;){var n=e.next(),a=n.done,s=n.value;if(a)break;var o=xt(s,2),u=o[0],l=o[1],h=xt(u.split("_"),1),p=h[0];p===t&&r.push(l)}return r}function RG(t){var e=t.kernelName,r=t.backendName,n=sN(e,r);Wp.has(n)&&Dl("The kernel '"+e+"' for backend "+("'"+r+"' is already registered")),Wp.set(n,t)}function SSe(t){var e=t.kernelName;Hg.has(e)&&Kt().getBool("DEBUG")&&Dl("Overriding the gradient for '"+e+"'"),Hg.set(e,t)}function ESe(t,e){var r=sN(t,e);if(!Wp.has(r))throw new Error("The kernel '"+t+"' for backend "+("'"+e+"' is not registered"));Wp.delete(r)}function MSe(t){if(!Hg.has(t))throw new Error("The gradient '"+t+"' for backend is not registered");Hg.delete(t)}function ASe(t,e){var r=D2(t);r.forEach(function(n){var a=Object.assign({},n,{backendName:e});RG(a)})}function sN(t,e){return e+"_"+t}var R4=Sn,Ks=null;try{Ks=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Sn(t,e,r){this.low=t|0,this.high=e|0,this.unsigned=!!r}Sn.prototype.__isLong__;Object.defineProperty(Sn.prototype,"__isLong__",{value:!0});function Ha(t){return(t&&t.__isLong__)===!0}Sn.isLong=Ha;var bU={},wU={};function Rh(t,e){var r,n,a;return e?(t>>>=0,(a=0<=t&&t<256)&&(n=wU[t],n)?n:(r=En(t,(t|0)<0?-1:0,!0),a&&(wU[t]=r),r)):(t|=0,(a=-128<=t&&t<128)&&(n=bU[t],n)?n:(r=En(t,t<0?-1:0,!1),a&&(bU[t]=r),r))}Sn.fromInt=Rh;function Zs(t,e){if(isNaN(t))return e?xh:Js;if(e){if(t<0)return xh;if(t>=CG)return LG}else{if(t<=-xU)return Va;if(t+1>=xU)return BG}return t<0?Zs(-t,e).neg():En(t%Gp|0,t/Gp|0,e)}Sn.fromNumber=Zs;function En(t,e,r){return new Sn(t,e,r)}Sn.fromBits=En;var O2=Math.pow;function oN(t,e,r){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return Js;if(typeof e=="number"?(r=e,e=!1):e=!!e,r=r||10,r<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return oN(t.substring(1),e,r).neg();for(var a=Zs(O2(r,8)),s=Js,o=0;o<t.length;o+=8){var u=Math.min(8,t.length-o),l=parseInt(t.substring(o,o+u),r);if(u<8){var h=Zs(O2(r,u));s=s.mul(h).add(Zs(l))}else s=s.mul(a),s=s.add(Zs(l))}return s.unsigned=e,s}Sn.fromString=oN;function Wo(t,e){return typeof t=="number"?Zs(t,e):typeof t=="string"?oN(t,e):En(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Sn.fromValue=Wo;var _U=1<<16,kSe=1<<24,Gp=_U*_U,CG=Gp*Gp,xU=CG/2,SU=Rh(kSe),Js=Rh(0);Sn.ZERO=Js;var xh=Rh(0,!0);Sn.UZERO=xh;var Lp=Rh(1);Sn.ONE=Lp;var FG=Rh(1,!0);Sn.UONE=FG;var C4=Rh(-1);Sn.NEG_ONE=C4;var BG=En(-1,2147483647,!1);Sn.MAX_VALUE=BG;var LG=En(-1,-1,!0);Sn.MAX_UNSIGNED_VALUE=LG;var Va=En(0,-2147483648,!1);Sn.MIN_VALUE=Va;var dt=Sn.prototype;dt.toInt=function(){return this.unsigned?this.low>>>0:this.low};dt.toNumber=function(){return this.unsigned?(this.high>>>0)*Gp+(this.low>>>0):this.high*Gp+(this.low>>>0)};dt.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Va)){var r=Zs(e),n=this.div(r),a=n.mul(r).sub(this);return n.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var s=Zs(O2(e,6),this.unsigned),o=this,u="";;){var l=o.div(s),h=o.sub(l.mul(s)).toInt()>>>0,p=h.toString(e);if(o=l,o.isZero())return p+u;for(;p.length<6;)p="0"+p;u=""+p+u}};dt.getHighBits=function(){return this.high};dt.getHighBitsUnsigned=function(){return this.high>>>0};dt.getLowBits=function(){return this.low};dt.getLowBitsUnsigned=function(){return this.low>>>0};dt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Va)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,r=31;r>0&&(e&1<<r)==0;r--);return this.high!=0?r+33:r+1};dt.isZero=function(){return this.high===0&&this.low===0};dt.eqz=dt.isZero;dt.isNegative=function(){return!this.unsigned&&this.high<0};dt.isPositive=function(){return this.unsigned||this.high>=0};dt.isOdd=function(){return(this.low&1)===1};dt.isEven=function(){return(this.low&1)===0};dt.equals=function(e){return Ha(e)||(e=Wo(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};dt.eq=dt.equals;dt.notEquals=function(e){return!this.eq(e)};dt.neq=dt.notEquals;dt.ne=dt.notEquals;dt.lessThan=function(e){return this.comp(e)<0};dt.lt=dt.lessThan;dt.lessThanOrEqual=function(e){return this.comp(e)<=0};dt.lte=dt.lessThanOrEqual;dt.le=dt.lessThanOrEqual;dt.greaterThan=function(e){return this.comp(e)>0};dt.gt=dt.greaterThan;dt.greaterThanOrEqual=function(e){return this.comp(e)>=0};dt.gte=dt.greaterThanOrEqual;dt.ge=dt.greaterThanOrEqual;dt.compare=function(e){if(Ha(e)||(e=Wo(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};dt.comp=dt.compare;dt.negate=function(){return!this.unsigned&&this.eq(Va)?Va:this.not().add(Lp)};dt.neg=dt.negate;dt.add=function(e){Ha(e)||(e=Wo(e));var r=this.high>>>16,n=this.high&65535,a=this.low>>>16,s=this.low&65535,o=e.high>>>16,u=e.high&65535,l=e.low>>>16,h=e.low&65535,p=0,v=0,y=0,S=0;return S+=s+h,y+=S>>>16,S&=65535,y+=a+l,v+=y>>>16,y&=65535,v+=n+u,p+=v>>>16,v&=65535,p+=r+o,p&=65535,En(y<<16|S,p<<16|v,this.unsigned)};dt.subtract=function(e){return Ha(e)||(e=Wo(e)),this.add(e.neg())};dt.sub=dt.subtract;dt.multiply=function(e){if(this.isZero())return Js;if(Ha(e)||(e=Wo(e)),Ks){var r=Ks.mul(this.low,this.high,e.low,e.high);return En(r,Ks.get_high(),this.unsigned)}if(e.isZero())return Js;if(this.eq(Va))return e.isOdd()?Va:Js;if(e.eq(Va))return this.isOdd()?Va:Js;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(SU)&&e.lt(SU))return Zs(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=this.high&65535,s=this.low>>>16,o=this.low&65535,u=e.high>>>16,l=e.high&65535,h=e.low>>>16,p=e.low&65535,v=0,y=0,S=0,A=0;return A+=o*p,S+=A>>>16,A&=65535,S+=s*p,y+=S>>>16,S&=65535,S+=o*h,y+=S>>>16,S&=65535,y+=a*p,v+=y>>>16,y&=65535,y+=s*h,v+=y>>>16,y&=65535,y+=o*l,v+=y>>>16,y&=65535,v+=n*p+a*h+s*l+o*u,v&=65535,En(S<<16|A,v<<16|y,this.unsigned)};dt.mul=dt.multiply;dt.divide=function(e){if(Ha(e)||(e=Wo(e)),e.isZero())throw Error("division by zero");if(Ks){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?Ks.div_u:Ks.div_s)(this.low,this.high,e.low,e.high);return En(r,Ks.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?xh:Js;var n,a,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return xh;if(e.gt(this.shru(1)))return FG;s=xh}else{if(this.eq(Va)){if(e.eq(Lp)||e.eq(C4))return Va;if(e.eq(Va))return Lp;var o=this.shr(1);return n=o.div(e).shl(1),n.eq(Js)?e.isNegative()?Lp:C4:(a=this.sub(e.mul(n)),s=n.add(a.div(e)),s)}else if(e.eq(Va))return this.unsigned?xh:Js;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=Js}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var u=Math.ceil(Math.log(n)/Math.LN2),l=u<=48?1:O2(2,u-48),h=Zs(n),p=h.mul(e);p.isNegative()||p.gt(a);)n-=l,h=Zs(n,this.unsigned),p=h.mul(e);h.isZero()&&(h=Lp),s=s.add(h),a=a.sub(p)}return s};dt.div=dt.divide;dt.modulo=function(e){if(Ha(e)||(e=Wo(e)),Ks){var r=(this.unsigned?Ks.rem_u:Ks.rem_s)(this.low,this.high,e.low,e.high);return En(r,Ks.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};dt.mod=dt.modulo;dt.rem=dt.modulo;dt.not=function(){return En(~this.low,~this.high,this.unsigned)};dt.and=function(e){return Ha(e)||(e=Wo(e)),En(this.low&e.low,this.high&e.high,this.unsigned)};dt.or=function(e){return Ha(e)||(e=Wo(e)),En(this.low|e.low,this.high|e.high,this.unsigned)};dt.xor=function(e){return Ha(e)||(e=Wo(e)),En(this.low^e.low,this.high^e.high,this.unsigned)};dt.shiftLeft=function(e){return Ha(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?En(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):En(0,this.low<<e-32,this.unsigned)};dt.shl=dt.shiftLeft;dt.shiftRight=function(e){return Ha(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?En(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):En(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};dt.shr=dt.shiftRight;dt.shiftRightUnsigned=function(e){if(Ha(e)&&(e=e.toInt()),e&=63,e===0)return this;var r=this.high;if(e<32){var n=this.low;return En(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?En(r,0,this.unsigned):En(r>>>e-32,0,this.unsigned)};dt.shru=dt.shiftRightUnsigned;dt.shr_u=dt.shiftRightUnsigned;dt.toSigned=function(){return this.unsigned?En(this.low,this.high,!1):this};dt.toUnsigned=function(){return this.unsigned?this:En(this.low,this.high,!0)};dt.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};dt.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};dt.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};Sn.fromBytes=function(e,r,n){return n?Sn.fromBytesLE(e,r):Sn.fromBytesBE(e,r)};Sn.fromBytesLE=function(e,r){return new Sn(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)};Sn.fromBytesBE=function(e,r){return new Sn(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)};var TSe=Object.assign(Object.create(null),R4,{default:R4}),_h=R4||TSe;function ay(t){return _h.fromString(t,!0,16)}var PG=ay("c3a5c85c97cb3127"),bh=ay("b492b66fbe98f273"),da=ay("9ae16a3b2f90404f");function F4(t){return t.xor(t.shru(47))}function qG(t,e,r){var n=t.slice(e,e+r);return _h.fromBytes(Array.from(n),!0,!0)}function pn(t,e){return qG(t,e,8)}function EU(t,e){return qG(t,e,4)}function Ai(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function Cl(t,e,r){r===void 0&&(r=ay("9ddfea08eb382d69"));var n=t.xor(e).mul(r);n=n.xor(n.shru(47));var a=e.xor(n).mul(r);return a=a.xor(a.shru(47)),a=a.mul(r),a}function NSe(t,e,r,n,a,s){a=a.add(t),s=Ai(s.add(a).add(n),21);var o=a;return a=a.add(e),a=a.add(r),s=s.add(Ai(a,44)),[a.add(n),s.add(o)]}function x2(t,e,r,n){return NSe(pn(t,e),pn(t,e+8),pn(t,e+16),pn(t,e+24),r,n)}function ISe(t,e){if(e===void 0&&(e=t.length),e>=8){var r=da.add(e*2),n=pn(t,0).add(da),a=pn(t,e-8),s=Ai(a,37).mul(r).add(n),o=Ai(n,25).add(a).mul(r);return Cl(s,o,r)}if(e>=4){var r=da.add(e*2),n=EU(t,0);return Cl(n.shl(3).add(e),EU(t,e-4),r)}if(e>0){var n=t[0],a=t[e>>1],s=t[e-1],u=n+(a<<8),l=e+(s<<2);return F4(da.mul(u).xor(PG.mul(l))).mul(da)}return da}function DSe(t,e){e===void 0&&(e=t.length);var r=da.add(e*2),n=pn(t,0).mul(bh),a=pn(t,8),s=pn(t,e-8).mul(r),o=pn(t,e-16).mul(da);return Cl(Ai(n.add(a),43).add(Ai(s,30)).add(o),n.add(Ai(a.add(da),18)).add(s),r)}function OSe(t,e){e===void 0&&(e=t.length);var r=da.add(e*2),n=pn(t,0).mul(da),a=pn(t,8),s=pn(t,e-8).mul(r),o=pn(t,e-16).mul(da),u=Ai(n.add(a),43).add(Ai(s,30)).add(o),l=Cl(u,n.add(Ai(a.add(da),18)).add(s),r),h=pn(t,16).mul(r),p=pn(t,24),v=u.add(pn(t,e-32)).mul(r),y=l.add(pn(t,e-24)).mul(r);return Cl(Ai(h.add(p),43).add(Ai(v,30)).add(y),h.add(Ai(p.add(n),18)).add(v),r)}function RSe(t,e){var r,n;e===void 0&&(e=t.length);var a=_h.fromNumber(81,!0);if(e<=32)return e<=16?ISe(t,e):DSe(t,e);if(e<=64)return OSe(t,e);var s=a,o=a.mul(bh).add(113),u=F4(o.mul(da).add(113)).mul(da),l=[_h.UZERO,_h.UZERO],h=[_h.UZERO,_h.UZERO];s=s.mul(da).add(pn(t,0));var p=0,v=(e-1>>6)*64,y=v+(e-1&63)-63;do s=Ai(s.add(o).add(l[0]).add(pn(t,p+8)),37).mul(bh),o=Ai(o.add(l[1]).add(pn(t,p+48)),42).mul(bh),s=s.xor(h[1]),o=o.add(l[0]).add(pn(t,p+40)),u=Ai(u.add(h[0]),33).mul(bh),l=x2(t,p,l[1].mul(bh),s.add(h[0])),h=x2(t,p+32,u.add(h[1]),o.add(pn(t,p+16))),r=xt([s,u],2),u=r[0],s=r[1],p+=64;while(p!==v);var S=bh.add(u.and(255).shl(1));return p=y,h[0]=h[0].add(e-1&63),l[0]=l[0].add(h[0]),h[0]=h[0].add(l[0]),s=Ai(s.add(o).add(l[0]).add(pn(t,p+8)),37).mul(S),o=Ai(o.add(l[1]).add(pn(t,p+48)),42).mul(S),s=s.xor(h[1].mul(9)),o=o.add(l[0].mul(9).add(pn(t,p+40))),u=Ai(u.add(h[0]),33).mul(S),l=x2(t,p,l[1].mul(S),s.add(h[0])),h=x2(t,p+32,u.add(h[1]),o.add(pn(t,p+16))),n=xt([s,u],2),u=n[0],s=n[1],Cl(Cl(l[0],h[0],S).add(F4(o).mul(PG)).add(u),Cl(l[1],h[1],S).add(s),S)}function CSe(t,e){return e==="string"?sy(t):V2([t],e)}function FSe(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function V2(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=kh(t)),Kt().getBool("DEBUG")&&jU(t,e),FSe(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){for(var r=new Uint8Array(t.length),n=0;n<r.length;++n)Math.round(t[n])!==0&&(r[n]=1);return r}else throw new Error("Unknown data type "+e)}function Kg(){return Kt().platform.now()}function BSe(t,e){return Kt().platform.fetch(t,e)}function sy(t,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",Kt().platform.encode(t,e)}function R2(t,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",Kt().platform.decode(t,e)}var LSe={__proto__:null,createScalarValue:CSe,toTypedArray:V2,now:Kg,fetch:BSe,encodeString:sy,decodeString:R2,shuffle:PU,shuffleCombo:Pxe,clamp:Gg,nearestLargerEven:qxe,swap:T2,sum:$xe,randUniform:zxe,distSquared:jxe,assert:se,assertShapesMatch:pa,assertNonNull:Oh,flatten:kh,sizeFromShape:xn,isScalarShape:Uxe,arraysEqual:Pl,isInt:Vp,tanh:Vxe,sizeToSquarishShape:Wxe,createShuffledIndices:Gxe,rightPad:Ug,repeatedTry:Hxe,inferFromImplicitShape:Kxe,parseAxisParam:iy,squeezeShape:qU,getTypedArrayFromDType:$U,getArrayFromDType:zU,checkConversionForErrors:jU,isValidDtype:UU,hasEncodingLoss:Zxe,isTypedArray:ea,bytesPerElement:k4,bytesFromStringArray:VU,isString:Ol,isBoolean:WU,isNumber:GU,inferDtype:j2,isFunction:Fl,nearestDivisor:N2,computeStrides:Zp,toNestedArray:Pp,makeOnesTypedArray:X4,makeZerosTypedArray:U2,makeZerosNestedTypedArray:Jxe,assertNonNegativeIntegerDimensions:Q4,locToIndex:Yxe,indexToLoc:Xxe,isPromise:eN,hexToLong:ay,fingerPrint64:RSe},PSe=function(){function t(e,r){this.backendTimer=e,this.logger=r,r==null&&(this.logger=new $Se)}return t.prototype.profileKernel=function(e,r,n){var a,s,o,u=function(){o=n()},l,h=Kg();if(this.backendTimer.timerAvailable())l=this.backendTimer.time(u);else{u();try{for(var p=Wa(o),v=p.next();!v.done;v=p.next()){var y=v.value;y.dataSync()}}catch(I){a={error:I}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}l=Promise.resolve({kernelMs:Kg()-h})}if(Kt().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var S=function(I){var N=o[I];N.data().then(function(D){qSe(D,N.dtype,e)})},A=0;A<o.length;A++)S(A);var T={kernelName:e,outputs:o,inputs:r,timeMs:l.then(function(I){return I.kernelMs}),extraInfo:l.then(function(I){return I.getExtraProfileInfo!=null?I.getExtraProfileInfo():""})};return T},t.prototype.logKernelProfile=function(e){var r=this,n=e.kernelName,a=e.outputs,s=e.timeMs,o=e.inputs,u=e.extraInfo;a.forEach(function(l){Promise.all([l.data(),s,u]).then(function(h){r.logger.logKernelProfile(n,l,h[0],h[1],o,h[2])})})},t}();function qSe(t,e,r){if(e!=="float32")return!1;for(var n=0;n<t.length;n++){var a=t[n];if(isNaN(a)||!isFinite(a))return console.warn("Found "+a+" in the result of '"+r+"'"),!0}return!1}var $Se=function(){function t(){}return t.prototype.logKernelProfile=function(e,r,n,a,s,o){var u=typeof a=="number"?Ug(a+"ms",9):a.error,l=Ug(e,25),h=r.rank,p=r.size,v=Ug(r.shape.toString(),14),y="";for(var S in s){var A=s[S];if(A!=null){var T=A.shape||r.shape,I=T.length;y+=S+": "+I+"D "+(I>0?T:"")+" "}}console.log("%c"+l+"	%c"+u+"	%c"+h+"D "+v+"	%c"+p+"	%c"+y+"	%c"+o,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},t}();function zSe(t,e,r){for(var n={},a={},s=0;s<e.length;s++)n[e[s].id]=!0;for(var s=0;s<t.length;s++){var o=t[s],u=o.inputs;for(var l in u){for(var h=u[l],p=!1,v=0;v<e.length;v++)if(n[h.id]){o.outputs.forEach(function(C){return n[C.id]=!0}),p=!0,a[o.id]=!0;break}if(p)break}}var y={};y[r.id]=!0;for(var S={},s=t.length-1;s>=0;s--)for(var o=t[s],u=o.inputs,v=0;v<o.outputs.length;v++)if(y[o.outputs[v].id]){for(var l in u)y[u[l].id]=!0,S[o.id]=!0;break}for(var A=[],s=0;s<t.length;s++){var o=t[s];if(a[o.id]&&S[o.id]){var T={};for(var l in o.inputs){var I=o.inputs[l];n[I.id]&&(T[l]=I)}var N=Object.assign({},o);N.inputs=T,N.outputs=o.outputs,A.push(N)}}return A}function jSe(t,e,r,n){for(var a=function(o){var u=e[o],l=[];if(u.outputs.forEach(function(y){var S=t[y.id];S!=null?l.push(S):l.push(null)}),u.gradient==null)throw new Error("Cannot compute gradient: gradient function not found "+("for "+u.kernelName+"."));var h=u.gradient(l),p=function(y){if(!(y in h))throw new Error("Cannot backprop through input "+y+". "+("Available gradients found: "+Object.keys(h)+"."));var S=r(function(){return h[y]()});if(S.dtype!=="float32")throw new Error("Error in gradient for op "+u.kernelName+". The gradient of input "+(y+" must have 'float32' dtype, but has '"+S.dtype+"'"));var A=u.inputs[y];if(!Pl(S.shape,A.shape))throw new Error("Error in gradient for op "+u.kernelName+". The gradient of input "+("'"+y+"' has shape '"+S.shape+"', which does not match ")+("the shape of the input '"+A.shape+"'"));if(t[A.id]==null)t[A.id]=S;else{var T=t[A.id];t[A.id]=n(T,S),T.dispose()}};for(var v in u.inputs)p(v)},s=e.length-1;s>=0;s--)a(s)}var MU=20,$g=3,_4=7;function USe(t,e,r,n){var a=Zp(e),s=VSe(t,e,r,a),o=e.length,u=M2(t,e,r,a,s),l=["Tensor"];return n&&(l.push("  dtype: "+r),l.push("  rank: "+o),l.push("  shape: ["+e+"]"),l.push("  values:")),l.push(u.map(function(h){return"    "+h}).join(`
`)),l.join(`
`)}function VSe(t,e,r,n){var a=xn(e),s=n[n.length-1],o=new Array(s).fill(0),u=e.length,l=r==="complex64"?jg(t):t;if(u>1)for(var h=0;h<a/s;h++)for(var p=h*s,v=0;v<s;v++)o[v]=Math.max(o[v],zg(l[p+v],0,r).length);return o}function zg(t,e,r){var n;return Array.isArray(t)?n=parseFloat(t[0].toFixed(_4))+" + "+(parseFloat(t[1].toFixed(_4))+"j"):Ol(t)?n="'"+t+"'":r==="bool"?n=$G(t):n=parseFloat(t.toFixed(_4)).toString(),Ug(n,e)}function $G(t){return t===0?"false":"true"}function M2(t,e,r,n,a,s){s===void 0&&(s=!0);var o=r==="complex64"?2:1,u=e[0],l=e.length;if(l===0){if(r==="complex64"){var h=jg(t);return[zg(h[0],0,r)]}return r==="bool"?[$G(t[0])]:[t[0].toString()]}if(l===1){if(u>MU){var p=$g*o,v=Array.from(t.slice(0,p)),y=Array.from(t.slice((u-$g)*o,u*o));return r==="complex64"&&(v=jg(v),y=jg(y)),["["+v.map(function(G,j){return zg(G,a[j],r)}).join(", ")+", ..., "+y.map(function(G,j){return zg(G,a[u-$g+j],r)}).join(", ")+"]"]}var S=r==="complex64"?jg(t):Array.from(t);return["["+S.map(function(G,j){return zg(G,a[j],r)}).join(", ")+"]"]}var A=e.slice(1),T=n.slice(1),I=n[0]*o,N=[];if(u>MU){for(var D=0;D<$g;D++){var C=D*I,L=C+I;N.push.apply(N,Rr(M2(t.slice(C,L),A,r,T,a,!1)))}N.push("...");for(var D=u-$g;D<u;D++){var C=D*I,L=C+I;N.push.apply(N,Rr(M2(t.slice(C,L),A,r,T,a,D===u-1)))}}else for(var D=0;D<u;D++){var C=D*I,L=C+I;N.push.apply(N,Rr(M2(t.slice(C,L),A,r,T,a,D===u-1)))}var z=l===2?",":"";N[0]="["+N[0]+z;for(var D=1;D<N.length-1;D++)N[D]=" "+N[D]+z;for(var $=`,
`,D=2;D<l;D++)$+=`
`;return N[N.length-1]=" "+N[N.length-1]+"]"+(s?"":$),N}function jg(t){for(var e=[],r=0;r<t.length;r+=2)e.push([t[r],t[r+1]]);return e}var C2=function(){function t(e,r,n){var a=this;if(this.dtype=r,this.shape=e.slice(),this.size=xn(e),n!=null){var s=n.length;se(s===this.size,function(){return"Length of values '"+s+"' does not match the size "+("inferred by the shape '"+a.size+"'.")})}if(r==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||zU(r,this.size),this.strides=Zp(e)}return t.prototype.set=function(e){for(var r=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];n.length===0&&(n=[0]),se(n.length===this.rank,function(){return"The number of provided coordinates ("+n.length+") must "+("match the rank ("+r.rank+")")});var s=this.locToIndex(n);this.values[s]=e},t.prototype.get=function(){for(var e,r,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];n.length===0&&(n=[0]);var s=0;try{for(var o=Wa(n),u=o.next();!u.done;u=o.next()){var l=u.value;if(l<0||l>=this.shape[s]){var h="Requested out of range element at "+n+". "+("  Buffer shape="+this.shape);throw new Error(h)}s++}}catch(y){e={error:y}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}for(var p=n[n.length-1],v=0;v<n.length-1;++v)p+=this.strides[v]*n[v];return this.values[p]},t.prototype.locToIndex=function(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];for(var r=e[e.length-1],n=0;n<e.length-1;++n)r+=this.strides[n]*e[n];return r},t.prototype.indexToLoc=function(e){if(this.rank===0)return[];if(this.rank===1)return[e];for(var r=new Array(this.shape.length),n=0;n<r.length-1;++n)r[n]=Math.floor(e/this.strides[n]),e-=r[n]*this.strides[n];return r[r.length-1]=e,r},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return jo().makeTensor(this.values,this.shape,this.dtype)},t}(),jo=null,Fp=null;function WSe(t){jo=t}function GSe(t){Fp=t}var ci=function(){function t(e,r,n,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=r||"float32",this.size=xn(e),this.strides=Zp(e),this.dataId=n,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.buffer=function(){return Et(this,void 0,void 0,function(){var e;return Mt(this,function(r){switch(r.label){case 0:return[4,this.data()];case 1:return e=r.sent(),[2,Fp.buffer(this.shape,this.dtype,e)]}})})},t.prototype.bufferSync=function(){return Fp.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.array=function(){return Et(this,void 0,void 0,function(){var e;return Mt(this,function(r){switch(r.label){case 0:return[4,this.data()];case 1:return e=r.sent(),[2,Pp(this.shape,e,this.dtype==="complex64")]}})})},t.prototype.arraySync=function(){return Pp(this.shape,this.dataSync(),this.dtype==="complex64")},t.prototype.data=function(){return Et(this,void 0,void 0,function(){var e,r;return Mt(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=jo().read(this.dataId),this.dtype!=="string"?[3,2]:[4,e];case 1:r=n.sent();try{return[2,r.map(function(a){return R2(a)})]}catch(a){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}})})},t.prototype.dataToGPU=function(e){return this.throwIfDisposed(),jo().readToGPU(this.dataId,e)},t.prototype.dataSync=function(){this.throwIfDisposed();var e=jo().readSync(this.dataId);if(this.dtype==="string")try{return e.map(function(r){return R2(r)})}catch(r){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},t.prototype.bytes=function(){return Et(this,void 0,void 0,function(){var e;return Mt(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),[4,jo().read(this.dataId)];case 1:return e=r.sent(),this.dtype==="string"?[2,e]:[2,new Uint8Array(e.buffer)]}})})},t.prototype.dispose=function(){this.isDisposed||(jo().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.print=function(e){return e===void 0&&(e=!1),Fp.print(this,e)},t.prototype.clone=function(){return this.throwIfDisposed(),Fp.clone(this)},t.prototype.toString=function(e){e===void 0&&(e=!1);var r=this.dataSync();return USe(r,this.shape,this.dtype,e)},t.prototype.cast=function(e){return this.throwIfDisposed(),Fp.cast(this,e)},t.prototype.variable=function(e,r,n){return e===void 0&&(e=!0),this.throwIfDisposed(),jo().makeVariable(this,e,r,n)},t}();Object.defineProperty(ci,Symbol.hasInstance,{value:function(t){return!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null}});function HSe(){return tN("Tensor",function(){return ci})}HSe();var Zg=function(t){_f(e,t);function e(r,n,a,s){var o=t.call(this,r.shape,r.dtype,r.dataId,s)||this;return o.trainable=n,o.name=a,o}return e.prototype.assign=function(r){if(r.dtype!==this.dtype)throw new Error("dtype of the new value ("+r.dtype+") and "+("previous value ("+this.dtype+") must match"));if(!Pl(r.shape,this.shape))throw new Error("shape of the new value ("+r.shape+") and "+("previous value ("+this.shape+") must match"));jo().disposeTensor(this),this.dataId=r.dataId,jo().incRef(this,null)},e.prototype.dispose=function(){jo().disposeVariable(this),this.isDisposedInternal=!0},e}(ci);Object.defineProperty(Zg,Symbol.hasInstance,{value:function(t){return t instanceof ci&&t.assign!=null&&t.assign instanceof Function}});W.Rank=void 0;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(W.Rank||(W.Rank={}));var B4;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(B4||(B4={}));var L4;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(L4||(L4={}));var P4;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(P4||(P4={}));var q4;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(q4||(q4={}));var KSe={float32:P4,int32:B4,bool:L4,complex64:q4};function W2(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error("Can not upcast "+t+" with "+e)}return KSe[t][e]}function ZSe(t){return W2(t,"int32")}function Bn(t,e){if(t.dtype===e.dtype)return[t,e];var r=W2(t.dtype,e.dtype);return[t.cast(r),e.cast(r)]}function zG(t,e){se(t.dtype===e.dtype,function(){return"The dtypes of the first("+t.dtype+") and"+(" second("+e.dtype+") input must match")})}function JSe(t,e){return e.some(function(r){return r.id===t.id})}function uN(t){var e=[],r=new Set;return jG(t,e,r),e}function jG(t,e,r){if(t!=null){if(t instanceof ci){e.push(t);return}if(!!YSe(t)){var n=t;for(var a in n){var s=n[a];r.has(s)||(r.add(s),jG(s,e,r))}}}}function YSe(t){return Array.isArray(t)||typeof t=="object"}var XSe={__proto__:null,makeTypesMatch:Bn,assertTypesMatch:zG,isTensorInList:JSe,getTensorsInContainer:uN};function x4(t){return t.kernelName!=null}var AU=function(){function t(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(function(e){return e.name})))}}}return t.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},t}(),fN=function(){function t(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new AU}return t.prototype.ready=function(){return Et(this,void 0,void 0,function(){var e,r,n,a;return Mt(this,function(s){switch(s.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];e=this.getSortedBackends(),r=0,s.label=1;case 1:return r<e.length?(n=e[r],[4,this.initializeBackend(n).success]):[3,5];case 2:return a=s.sent(),a?[4,this.setBackend(n)]:[3,4];case 3:return s.sent(),[2];case 4:return r++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(t.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var e=this.initializeBackendsAndReturnBest(),r=e.name,n=e.asyncInit;if(n)throw new Error("The highest priority backend '"+r+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(r)}return this.backendInstance},enumerable:!0,configurable:!0}),t.prototype.backendNames=function(){return Object.keys(this.registryFactory)},t.prototype.findBackend=function(e){if(!(e in this.registry))if(e in this.registryFactory){var r=this.initializeBackend(e).asyncInit;if(r)return null}else return null;return this.registry[e]},t.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},t.prototype.registerBackend=function(e,r,n){return n===void 0&&(n=1),e in this.registryFactory?(Dl(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:r,priority:n},!0)},t.prototype.setBackend=function(e){return Et(this,void 0,void 0,function(){var r,n,a,s,o;return Mt(this,function(u){switch(u.label){case 0:if(this.registryFactory[e]==null)throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,this.registry[e]!=null?[3,4]:(this.backendInstance=null,r=this.initializeBackend(e),n=r.success,a=r.asyncInit,a?[4,n]:[3,2]);case 1:return o=u.sent(),[3,3];case 2:o=n,u.label=3;case 3:if(s=o,!s)return[2,!1];u.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new PSe(this.backendInstance),[2,!0]}})})},t.prototype.setupRegisteredKernels=function(){var e=this,r=D2(this.backendName);r.forEach(function(n){n.setupFunc!=null&&n.setupFunc(e.backendInstance)})},t.prototype.disposeRegisteredKernels=function(e){var r=this,n=D2(e);n.forEach(function(a){a.disposeFunc!=null&&a.disposeFunc(r.registry[e])})},t.prototype.initializeBackend=function(e){var r=this,n=this.registryFactory[e];if(n==null)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var a=n.factory();if(a&&!(a instanceof LU)&&typeof a.then=="function"){var s=++this.pendingBackendInitId,o=a.then(function(u){return s<r.pendingBackendInitId?!1:(r.registry[e]=u,r.pendingBackendInit=null,!0)}).catch(function(u){return s<r.pendingBackendInitId||(r.pendingBackendInit=null,Dl("Initialization of backend "+e+" failed"),Dl(u.stack||u.message)),!1});return this.pendingBackendInit=o,{success:o,asyncInit:!0}}else return this.registry[e]=a,{success:!0,asyncInit:!1}}catch(u){return Dl("Initialization of backend "+e+" failed"),Dl(u.stack||u.message),{success:!1,asyncInit:!1}}},t.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},t.prototype.getSortedBackends=function(){var e=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(r,n){return e.registryFactory[n].priority-e.registryFactory[r].priority})},t.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),r=0;r<e.length;r++){var n=e[r],a=this.initializeBackend(n),s=a.success,o=a.asyncInit;if(o||s)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")},t.prototype.moveData=function(e,r){var n=this.state.tensorInfo.get(r),a=n.backend,s=this.readSync(r),o=a.refCount(r);a.disposeData(r,!0),n.backend=e,e.move(r,s,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},t.prototype.tidy=function(e,r){var n=this,a=null;if(r==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");r=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof r!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}var s;return this.scopedRun(function(){return n.startScope(a)},function(){return n.endScope(s)},function(){return s=r(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s})},t.prototype.scopedRun=function(e,r,n){e();try{var a=n();return r(),a}catch(s){throw r(),s}},t.prototype.nextTensorId=function(){return t.nextTensorId++},t.prototype.nextVariableId=function(){return t.nextVariableId++},t.prototype.clone=function(e){var r=ve.runKernel(iN,{x:e}),n={x:e},a=function(o){return{x:function(){var u="float32",l={x:o},h={dtype:u};return ve.runKernel(nN,l,h)}}},s=[];return this.addTapeNode(this.state.activeScope.name,n,[r],a,s,{}),r},t.prototype.runKernel=function(e,r,n){this.backendName==null&&this.backend;var a=I2(e,this.backendName)!=null;if(!a)throw new Error("Kernel '"+e+"' not registered for backend '"+this.backendName+"'");return this.runKernelFunc({kernelName:e,inputs:r,attrs:n})},t.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},t.prototype.checkKernelForMemLeak=function(e,r,n){var a=this.backend.numDataIds(),s=0;n.forEach(function(l){s+=l.dtype==="complex64"?3:1});var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],u=a-r-s-o;if(u>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak "+("("+u+" data ids) after running '"+e+"'"))},t.prototype.runKernelFunc=function(e){var r=this,n,a=[],s=this.isTapeOn(),o=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var l;this.backendName==null&&this.backend;var h,p=x4(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(x4(e)){var v=e.kernelName,y=e.inputs,S=e.attrs;this.backendName==null&&this.backend;var A=I2(v,this.backendName);se(A!=null,function(){return"Cannot find registered kernel '"+v+"' for backend '"+r.backendName+"'"}),l=function(){var z=r.backend.numDataIds();h=A.kernelFunc({inputs:y,attrs:S,backend:r.backend});var $=Array.isArray(h)?h:[h];r.shouldCheckForMemLeaks()&&r.checkKernelForMemLeak(v,z,$);var G=$.map(function(Z){return Z.rank!=null?Z:r.makeTensorFromTensorInfo(Z)});if(s){var j=r.getTensorsForGradient(v,y,G);a=r.saveTensorsForBackwardMode(j)}return G}}else{var T=e.forwardFunc,I=function(z){!s||(a=z.map(function($){return r.keep(r.clone($))}))};l=function(){var z=r.backend.numDataIds();h=r.tidy(function(){return T(r.backend,I)});var $=Array.isArray(h)?h:[h];return r.shouldCheckForMemLeaks()&&r.checkKernelForMemLeak(p,z,$),$}}var N=e.inputs,D=e.attrs,C=x4(e)?null:e.backwardsFunc,L;return this.scopedRun(function(){return r.state.kernelDepth++},function(){return r.state.kernelDepth--},function(){!r.ENV.getBool("DEBUG")&&!r.state.profiling?n=l():(L=r.profiler.profileKernel(p,N,function(){return l()}),r.ENV.getBool("DEBUG")&&r.profiler.logKernelProfile(L),n=L.outputs)}),s&&this.addTapeNode(p,N,n,C,a,D),this.state.profiling&&this.state.activeProfile.kernels.push({name:p,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(N).map(function(z){return N[z]!=null?N[z].shape:null}),outputShapes:n.map(function(z){return z.shape}),kernelTimeMs:L.timeMs,extraInfo:L.extraInfo}),Array.isArray(h)?n:n[0]},t.prototype.saveTensorsForBackwardMode=function(e){var r=this,n=e.map(function(a){return r.keep(r.clone(a))});return n},t.prototype.getTensorsForGradient=function(e,r,n){var a=O4(e);if(a!=null){var s=a.inputsToSave||[],o=a.outputsToSave||[],u=void 0;a.saveAllInputs?(se(Array.isArray(r),function(){return"saveAllInputs is true, expected inputs to be an array."}),u=Object.keys(r).map(function(h){return r[h]})):u=s.map(function(h){return r[h]});var l=n.filter(function(h,p){return o[p]});return u.concat(l)}return[]},t.prototype.makeTensor=function(e,r,n,a){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",a=a||this.backend;var s=e;n==="string"&&Ol(e[0])&&(s=e.map(function(p){return sy(p)}));var o=a.write(s,r,n),u=new ci(r,n,o,this.nextTensorId());if(this.trackTensor(u,a),n==="string"){var l=this.state.tensorInfo.get(o),h=VU(s);this.state.numBytes+=h-l.bytes,l.bytes=h}return u},t.prototype.makeTensorFromDataId=function(e,r,n,a){n=n||"float32";var s={dataId:e,shape:r,dtype:n};return this.makeTensorFromTensorInfo(s,a)},t.prototype.makeTensorFromTensorInfo=function(e,r){var n=e.dataId,a=e.shape,s=e.dtype,o=new ci(a,s,n,this.nextTensorId());return this.trackTensor(o,r),o},t.prototype.makeVariable=function(e,r,n,a){r===void 0&&(r=!0),n=n||this.nextVariableId().toString(),a!=null&&a!==e.dtype&&(e=e.cast(a));var s=new Zg(e,r,n,this.nextTensorId());if(this.state.registeredVariables[s.name]!=null)throw new Error("Variable with name "+s.name+" was already registered");return this.state.registeredVariables[s.name]=s,this.incRef(s,this.backend),s},t.prototype.trackTensor=function(e,r){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;var n=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(n=e.size*k4(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:r||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof Zg||this.track(e)},t.prototype.incRef=function(e,r){this.trackTensor(e,r),this.backend.incRef(e.dataId)},t.prototype.removeDataId=function(e,r){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===r&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)},t.prototype.disposeTensor=function(e){if(!!this.state.tensorInfo.has(e.dataId)){var r=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=r.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){var n=e.size*k4(e.dtype);this.state.numBytes-=n}r.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,r.backend)}},t.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var r=this.state.registeredVariables[e];this.disposeVariable(r)}},t.prototype.disposeVariable=function(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]},t.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},t.prototype.profile=function(e){return Et(this,void 0,void 0,function(){var r,n,a,s,o,u,l,h,p,v,y;return Mt(this,function(S){switch(S.label){case 0:return this.state.profiling=!0,r=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],a=this.state.activeProfile,[4,e()];case 1:a.result=S.sent(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,Rr(this.state.activeProfile.kernels.map(function(A){return A.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-r,this.state.activeProfile.newTensors=this.state.numTensors-n,S.label=2;case 2:S.trys.push([2,8,9,10]),s=Wa(this.state.activeProfile.kernels),o=s.next(),S.label=3;case 3:return o.done?[3,7]:(u=o.value,l=u,[4,u.kernelTimeMs]);case 4:return l.kernelTimeMs=S.sent(),h=u,[4,u.extraInfo];case 5:h.extraInfo=S.sent(),S.label=6;case 6:return o=s.next(),[3,3];case 7:return[3,10];case 8:return p=S.sent(),v={error:p},[3,10];case 9:try{o&&!o.done&&(y=s.return)&&y.call(s)}finally{if(v)throw v.error}return[7];case 10:return[2,this.state.activeProfile]}})})},t.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},t.prototype.addTapeNode=function(e,r,n,a,s,o){var u=this,l={id:this.state.nextTapeNodeId++,kernelName:e,inputs:r,outputs:n,saved:s},h=O4(e);h!=null&&(a=h.gradFunc),a!=null&&(l.gradient=function(p){return p=p.map(function(v,y){if(v==null){var S=n[y],A=U2(S.size,S.dtype);return u.makeTensor(A,S.shape,S.dtype)}return v}),a(p.length>1?p:p[0],s,o)}),this.state.activeTape.push(l)},t.prototype.keep=function(e){return e.kept=!0,e},t.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},t.prototype.endTape=function(){this.state.gradientDepth--},t.prototype.startScope=function(e){var r={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(r.name=e),this.state.scopeStack.push(r),this.state.activeScope=r},t.prototype.endScope=function(e){for(var r=this,n=uN(e),a=new Set(n.map(function(l){return l.id})),s=0;s<this.state.activeScope.track.length;s++){var o=this.state.activeScope.track[s];!o.kept&&!a.has(o.id)&&o.dispose()}var u=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(function(l){!l.kept&&l.scopeId===u.id&&r.track(l)})},t.prototype.gradients=function(e,r,n,a){var s=this;if(a===void 0&&(a=!1),se(r.length>0,function(){return"gradients() received an empty list of xs."}),n!=null&&n.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var o=this.scopedRun(function(){return s.startTape()},function(){return s.endTape()},function(){return s.tidy("forward",e)});se(o instanceof ci,function(){return"The result y returned by f() must be a tensor."});var u=zSe(this.state.activeTape,r,o);if(!a&&u.length===0&&r.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var l={};l[o.id]=n==null?QSe(o.shape):n,jSe(l,u,function(p){return s.tidy(p)},eEe);var h=r.map(function(p){return l[p.id]});return s.state.gradientDepth===0&&(s.state.activeTape.forEach(function(p){var v,y;try{for(var S=Wa(p.saved),A=S.next();!A.done;A=S.next()){var T=A.value;T.dispose()}}catch(I){v={error:I}}finally{try{A&&!A.done&&(y=S.return)&&y.call(S)}finally{if(v)throw v.error}}}),s.state.activeTape=null),{value:o,grads:h}})},t.prototype.customGrad=function(e){var r=this;return se(Fl(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];se(n.every(function(h){return h instanceof ci}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var s,o={};n.forEach(function(h,p){o[p]=h});var u=function(h,p){return s=e.apply(void 0,Rr(n,[p])),se(s.value instanceof ci,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),se(Fl(s.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),s.value},l=function(h,p){var v=s.gradFunc(h,p),y=Array.isArray(v)?v:[v];se(y.length===n.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),se(y.every(function(A){return A instanceof ci}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var S={};return y.forEach(function(A,T){S[T]=function(){return A}}),S};return r.runKernelFunc({forwardFunc:u,backwardsFunc:l,inputs:o})}},t.prototype.readSync=function(e){var r=this.state.tensorInfo.get(e);return r.backend.readSync(e)},t.prototype.read=function(e){var r=this.state.tensorInfo.get(e);return r.backend.read(e)},t.prototype.readToGPU=function(e,r){var n=this.state.tensorInfo.get(e);return n.backend.readToGPU(e,r)},t.prototype.time=function(e){return Et(this,void 0,void 0,function(){var r,n;return Mt(this,function(a){switch(a.label){case 0:return r=Kg(),[4,this.backend.time(e)];case 1:return n=a.sent(),n.wallMs=Kg()-r,[2,n]}})})},t.prototype.track=function(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(t.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new AU;for(var e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},t}();fN.nextTensorId=0;fN.nextVariableId=0;function QSe(t){var e=X4(xn(t),"float32");return ve.makeTensor(e,t,"float32")}function UG(){var t=ZU();if(t._tfengine==null){var e=new KU(t);t._tfengine=new fN(e)}return rSe(t._tfengine.ENV),WSe(function(){return t._tfengine}),t._tfengine}var ve=UG();function eEe(t,e){var r={a:t,b:e};return ve.runKernel(rN,r)}function tEe(){return typeof navigator!="undefined"&&navigator!=null}var $4;function rEe(t){$4=t}function nEe(t){if($4!==void 0)return $4;if(t||tEe()){if(t||(t=navigator),t.product==="ReactNative")return!0;var e=t.userAgent||t.vendor||(typeof window!="undefined"?window.opera:"");if(!e){var r=t;return r.userAgentData&&r.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function VG(){return typeof window!="undefined"&&window.document!=null||typeof WorkerGlobalScope!="undefined"}var iEe={__proto__:null,mockIsMobile:rEe,isMobile:nEe,isBrowser:VG};var Ys=Kt();Ys.registerFlag("DEBUG",function(){return!1},function(t){t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Ys.registerFlag("IS_BROWSER",function(){return VG()});Ys.registerFlag("IS_NODE",function(){return typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined"});Ys.registerFlag("IS_CHROME",function(){return typeof navigator!="undefined"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)});Ys.registerFlag("PROD",function(){return!1});Ys.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return Ys.getBool("DEBUG")});Ys.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0});Ys.registerFlag("IS_TEST",function(){return!1});Ys.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",function(){return!0});Ys.registerFlag("WRAP_TO_IMAGEBITMAP",function(){return!1});Ys.registerFlag("ENGINE_COMPILE_ONLY",function(){return!1});function Cu(t,e){var r=t;if(ea(t))return e==="string"?[]:[t.length];if(!Array.isArray(t))return[];for(var n=[];Array.isArray(r)||ea(r)&&e!=="string";)n.push(r.length),r=r[0];return Array.isArray(t)&&Kt().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&WG(t,n,[]),n}function WG(t,e,r){if(r=r||[],!Array.isArray(t)&&!ea(t)){se(e.length===0,function(){return"Element arr["+r.join("][")+"] is a primitive, "+("but should be an array/TypedArray of "+e[0]+" elements")});return}se(e.length>0,function(){return"Element arr["+r.join("][")+"] should be a primitive, "+("but is an array of "+t.length+" elements")}),se(t.length===e[0],function(){return"Element arr["+r.join("][")+"] should have "+e[0]+" "+("elements, but has "+t.length+" elements")});for(var n=e.slice(1),a=0;a<t.length;++a)WG(t[a],n,r.concat(a))}function kU(t,e,r,n){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error("Argument '"+r+"' passed to '"+n+"' must "+("be "+t+" tensor, but got "+e+" tensor"))}}function te(t,e,r,n){if(n===void 0&&(n="numeric"),t instanceof ci)return kU(n,t.dtype,e,r),t;var a=j2(t);if(a!=="string"&&["bool","int32","float32"].indexOf(n)>=0&&(a=n),kU(n,a,e,r),t==null||!ea(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){var s=t==null?"null":t.constructor.name;throw new Error("Argument '"+e+"' passed to '"+r+"' must be a "+("Tensor or TensorLike, but got '"+s+"'"))}var o=Cu(t,a);!ea(t)&&!Array.isArray(t)&&(t=[t]);var u=!0,l=a!=="string"?V2(t,a):kh(t,[],u);return ve.makeTensor(l,o,a)}function Jg(t,e,r,n){if(n===void 0&&(n="numeric"),!Array.isArray(t))throw new Error("Argument "+e+" passed to "+r+" must be a `Tensor[]` or `TensorLike[]`");var a=t;return a.map(function(s,o){return te(s,e+"["+o+"]",r,n)})}var GG="__op";function pe(t){var e=Object.keys(t);if(e.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+(e.length+" keys."));var r=e[0],n=t[r];r.endsWith("_")&&(r=r.substring(0,r.length-1)),r=r+GG;var a=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];ve.startScope(r);try{var u=n.apply(void 0,Rr(s));return eN(u)&&console.error("Cannot return a Promise inside of tidy."),ve.endScope(u),u}catch(l){throw ve.endScope(null),l}};return Object.defineProperty(a,"name",{value:r,configurable:!0}),a}function aEe(t,e){var r=te(t,"real","complex"),n=te(e,"imag","complex");pa(r.shape,n.shape,"real and imag shapes, "+r.shape+" and "+n.shape+", must match in call to tf.complex().");var a={real:r,imag:n};return ve.runKernel(gV,a)}var Bl=pe({complex_:aEe});function ql(t,e,r,n){if(n==null&&(n=j2(t)),n==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!ea(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){Q4(e);var a=xn(e),s=xn(r);se(a===s,function(){return"Based on the provided shape, ["+e+"], the tensor should have "+(a+" values but has "+s)});for(var o=0;o<r.length;++o){var u=r[o],l=o===r.length-1?u!==xn(e.slice(o)):!0;se(r[o]===e[o]||!l,function(){return"Error creating a new Tensor. Inferred shape "+("("+r+") does not match the provided ")+("shape ("+e+"). ")})}}return!ea(t)&&!Array.isArray(t)&&(t=[t]),e=e||r,t=n!=="string"?V2(t,n):kh(t,[],!0),ve.makeTensor(t,e,n)}function qp(t,e,r){var n=Cu(t,r);return ql(t,e,n,r)}var z4={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8},F2=4;function sEe(t,e){return Et(this,void 0,void 0,function(){var r,n,a,s,o,u,l=this;return Mt(this,function(h){switch(h.label){case 0:for(r=[],n=[],a=Array.isArray(t)?t.map(function(p){return p.name}):Object.keys(t),s=function(p){var v=a[p],y=Array.isArray(t)?t[p].tensor:t[v];if(y.dtype!=="float32"&&y.dtype!=="int32"&&y.dtype!=="bool"&&y.dtype!=="string"&&y.dtype!=="complex64")throw new Error("Unsupported dtype in weight '"+v+"': "+y.dtype);var S={name:v,shape:y.shape,dtype:y.dtype};if(y.dtype==="string"){var A=new Promise(function(T){return Et(l,void 0,void 0,function(){var I,N,D,C,L,z,$;return Mt(this,function(G){switch(G.label){case 0:return[4,y.bytes()];case 1:for(I=G.sent(),N=I.reduce(function(j,Z){return j+Z.length},0)+F2*I.length,D=new Uint8Array(N),C=0,L=0;L<I.length;L++)z=I[L],$=new Uint8Array(new Uint32Array([z.length]).buffer),D.set($,C),C+=F2,D.set(z,C),C+=z.length;return T(D),[2]}})})});n.push(A)}else n.push(y.data());e!=null&&(S.group=e),r.push(S)},o=0;o<a.length;++o)s(o);return[4,Promise.all(n)];case 1:return u=h.sent(),[2,{data:oEe(u),specs:r}]}})})}function HG(t,e){var r,n,a={},s,o=0;try{for(var u=Wa(e),l=u.next();!l.done;l=u.next()){var h=l.value,p=h.name,v=h.dtype,y=h.shape,S=xn(y),A=void 0;if("quantization"in h){var T=h.quantization;if(T.dtype==="uint8"||T.dtype==="uint16"){if(!("min"in T&&"scale"in T))throw new Error("Weight "+h.name+" with quantization "+T.dtype+" doesn't have corresponding metadata min and scale.")}else if(T.dtype==="float16"){if(v!=="float32")throw new Error("Weight "+h.name+" is quantized with "+T.dtype+" "+("which only supports weights of type float32 not "+v+"."))}else throw new Error("Weight "+h.name+" has unknown "+("quantization dtype "+T.dtype+". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");var I=z4[T.dtype],N=t.slice(o,o+S*I),D=T.dtype==="uint8"?new Uint8Array(N):new Uint16Array(N);if(v==="float32")if(T.dtype==="uint8"||T.dtype==="uint16"){A=new Float32Array(D.length);for(var C=0;C<D.length;C++){var L=D[C];A[C]=L*T.scale+T.min}}else if(T.dtype==="float16")s===void 0&&(s=dEe()),A=s(D);else throw new Error("Unsupported quantization type "+T.dtype+" for weight type float32.");else if(v==="int32"){if(T.dtype!=="uint8"&&T.dtype!=="uint16")throw new Error("Unsupported quantization type "+T.dtype+" for weight type int32.");A=new Int32Array(D.length);for(var C=0;C<D.length;C++){var L=D[C];A[C]=Math.round(L*T.scale+T.min)}}else throw new Error("Unsupported dtype in weight '"+p+"': "+v);o+=S*I}else if(v==="string"){var z=xn(h.shape);A=[];for(var C=0;C<z;C++){var $=new Uint32Array(t.slice(o,o+F2))[0];o+=F2;var G=new Uint8Array(t.slice(o,o+$));A.push(G),o+=$}}else{var j=z4[v],N=t.slice(o,o+S*j);if(v==="float32")A=new Float32Array(N);else if(v==="int32")A=new Int32Array(N);else if(v==="bool")A=new Uint8Array(N);else if(v==="complex64"){A=new Float32Array(N);for(var Z=new Float32Array(A.length/2),M=new Float32Array(A.length/2),C=0;C<Z.length;C++)Z[C]=A[C*2],M[C]=A[C*2+1];var f=qp(Z,y,"float32"),d=qp(M,y,"float32");a[p]=Bl(f,d),f.dispose(),d.dispose()}else throw new Error("Unsupported dtype in weight '"+p+"': "+v);o+=S*j}v!=="complex64"&&(a[p]=qp(A,y,v))}}catch(g){r={error:g}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return a}function oEe(t){if(t===null)throw new Error("Invalid input value: "+JSON.stringify(t));var e=0,r=[];t.forEach(function(s){if(e+=s.byteLength,r.push(s.byteLength===s.buffer.byteLength?s:new s.constructor(s)),!(s instanceof Float32Array||s instanceof Int32Array||s instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+s.constructor.name)});var n=new Uint8Array(e),a=0;return r.forEach(function(s){n.set(new Uint8Array(s.buffer),a),a+=s.byteLength}),n.buffer}var lN=typeof Buffer!="undefined"&&(typeof Blob=="undefined"||typeof atob=="undefined"||typeof btoa=="undefined");function TU(t){return lN?Buffer.byteLength(t):new Blob([t]).size}function uEe(t){if(lN)return Buffer.from(t).toString("base64");for(var e=new Uint8Array(t),r="",n=0,a=e.length;n<a;n++)r+=String.fromCharCode(e[n]);return btoa(r)}function fEe(t){if(lN){var e=Buffer.from(t,"base64");return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}for(var r=atob(t),n=new Uint8Array(r.length),a=0;a<r.length;++a)n.set([r.charCodeAt(a)],a);return n.buffer}function cN(t){if(t.length===1)return t[0];var e=0;t.forEach(function(a){e+=a.byteLength});var r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(new Uint8Array(a),n),n+=a.byteLength}),r.buffer}function NU(t){var e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);var r=t.split(e);return r[r.length-1]}function KG(t,e){var r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),r}function hN(t,e){return Et(this,void 0,void 0,function(){var r,n,a,s;return Mt(this,function(o){switch(o.label){case 0:return r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy},t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest==null?[3,2]:[4,e(t.weightsManifest)];case 1:n=xt.apply(void 0,[o.sent(),2]),a=n[0],s=n[1],r.weightSpecs=a,r.weightData=s,o.label=2;case 2:return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),[2,r]}})})}function oy(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:TU(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:TU(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:t.weightData.byteLength}}function lEe(){var t=function(n){for(var a=n<<13,s=0;(a&8388608)===0;)s-=8388608,a<<=1;return a&=-8388609,s+=947912704,a|s},e=new Uint32Array(2048);e[0]=0;for(var r=1;r<1024;r++)e[r]=t(r);for(var r=1024;r<2048;r++)e[r]=939524096+(r-1024<<13);return e}function cEe(){var t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(var e=1;e<31;e++)t[e]=e<<23;for(var e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function hEe(){for(var t=new Uint32Array(64),e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function dEe(){var t=lEe(),e=cEe(),r=hEe();return function(n){for(var a=new ArrayBuffer(4*n.length),s=new Uint32Array(a),o=0;o<n.length;o++){var u=n[o],l=t[r[u>>10]+(u&1023)]+e[u>>10];s[o]=l}return new Float32Array(a)}}var cs=function(){function t(){this.saveRouters=[],this.loadRouters=[]}return t.getInstance=function(){return t.instance==null&&(t.instance=new t),t.instance},t.registerSaveRouter=function(e){t.getInstance().saveRouters.push(e)},t.registerLoadRouter=function(e){t.getInstance().loadRouters.push(e)},t.getSaveHandlers=function(e){return t.getHandlers(e,"save")},t.getLoadHandlers=function(e,r){return t.getHandlers(e,"load",r)},t.getHandlers=function(e,r,n){var a=[],s=r==="load"?t.getInstance().loadRouters:t.getInstance().saveRouters;return s.forEach(function(o){var u=o(e,n);u!==null&&a.push(u)}),a},t}(),pEe=function(t){return cs.registerSaveRouter(t)},mEe=function(t){return cs.registerLoadRouter(t)},vEe=function(t){return cs.getSaveHandlers(t)},gEe=function(t,e){return cs.getLoadHandlers(t,e)},j4="tensorflowjs",U4=1,Sh="models_store",Rl="model_info_store";function ZG(){if(!Kt().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var t=typeof window=="undefined"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function V4(t){var e=t.result;e.createObjectStore(Sh,{keyPath:"modelPath"}),e.createObjectStore(Rl,{keyPath:"modelPath"})}var Th=function(){function t(e){if(this.indexedDB=ZG(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return t.prototype.save=function(e){return Et(this,void 0,void 0,function(){return Mt(this,function(r){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},t.prototype.load=function(){return Et(this,void 0,void 0,function(){return Mt(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},t.prototype.databaseAction=function(e,r){var n=this;return new Promise(function(a,s){var o=n.indexedDB.open(j4,U4);o.onupgradeneeded=function(){return V4(o)},o.onsuccess=function(){var u=o.result;if(r==null){var l=u.transaction(Sh,"readonly"),h=l.objectStore(Sh),p=h.get(n.modelPath);p.onsuccess=function(){if(p.result==null)return u.close(),s(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));a(p.result.modelArtifacts)},p.onerror=function(I){return u.close(),s(p.error)},l.oncomplete=function(){return u.close()}}else{var v=oy(r),y=u.transaction(Rl,"readwrite"),S=y.objectStore(Rl),A=S.put({modelPath:n.modelPath,modelArtifactsInfo:v}),T;A.onsuccess=function(){T=u.transaction(Sh,"readwrite");var I=T.objectStore(Sh),N=I.put({modelPath:n.modelPath,modelArtifacts:r,modelArtifactsInfo:v});N.onsuccess=function(){return a({modelArtifactsInfo:v})},N.onerror=function(D){S=y.objectStore(Rl);var C=S.delete(n.modelPath);C.onsuccess=function(){return u.close(),s(N.error)},C.onerror=function(L){return u.close(),s(N.error)}}},A.onerror=function(I){return u.close(),s(A.error)},y.oncomplete=function(){T==null?u.close():T.oncomplete=function(){return u.close()}}}},o.onerror=function(u){return s(o.error)}})},t}();Th.URL_SCHEME="indexeddb://";var JG=function(t){return Kt().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Th.URL_SCHEME)?yEe(t.slice(Th.URL_SCHEME.length)):null};cs.registerSaveRouter(JG);cs.registerLoadRouter(JG);function yEe(t){return new Th(t)}function bEe(t){return t.startsWith(Th.URL_SCHEME)?t.slice(Th.URL_SCHEME.length):t}var wEe=function(){function t(){this.indexedDB=ZG()}return t.prototype.listModels=function(){return Et(this,void 0,void 0,function(){var e=this;return Mt(this,function(r){return[2,new Promise(function(n,a){var s=e.indexedDB.open(j4,U4);s.onupgradeneeded=function(){return V4(s)},s.onsuccess=function(){var o=s.result,u=o.transaction(Rl,"readonly"),l=u.objectStore(Rl),h=l.getAll();h.onsuccess=function(){var p,v,y={};try{for(var S=Wa(h.result),A=S.next();!A.done;A=S.next()){var T=A.value;y[T.modelPath]=T.modelArtifactsInfo}}catch(I){p={error:I}}finally{try{A&&!A.done&&(v=S.return)&&v.call(S)}finally{if(p)throw p.error}}n(y)},h.onerror=function(p){return o.close(),a(h.error)},u.oncomplete=function(){return o.close()}},s.onerror=function(o){return a(s.error)}})]})})},t.prototype.removeModel=function(e){return Et(this,void 0,void 0,function(){var r=this;return Mt(this,function(n){return e=bEe(e),[2,new Promise(function(a,s){var o=r.indexedDB.open(j4,U4);o.onupgradeneeded=function(){return V4(o)},o.onsuccess=function(){var u=o.result,l=u.transaction(Rl,"readwrite"),h=l.objectStore(Rl),p=h.get(e),v;p.onsuccess=function(){if(p.result==null)return u.close(),s(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var y=h.delete(e),S=function(){v=u.transaction(Sh,"readwrite");var A=v.objectStore(Sh),T=A.delete(e);T.onsuccess=function(){return a(p.result.modelArtifactsInfo)},T.onerror=function(I){return s(p.error)}};y.onsuccess=S,y.onerror=function(A){return S(),u.close(),s(p.error)}},p.onerror=function(y){return u.close(),s(p.error)},l.oncomplete=function(){v==null?u.close():v.oncomplete=function(){return u.close()}}},o.onerror=function(u){return s(o.error)}})]})})},t}(),gf="/",Bp="tensorflowjs_models",YG="info",_Ee="model_topology",xEe="weight_specs",SEe="weight_data",EEe="model_metadata";function XG(t){return{info:[Bp,t,YG].join(gf),topology:[Bp,t,_Ee].join(gf),weightSpecs:[Bp,t,xEe].join(gf),weightData:[Bp,t,SEe].join(gf),modelMetadata:[Bp,t,EEe].join(gf)}}function QG(t){var e,r;try{for(var n=Wa(Object.values(t)),a=n.next();!a.done;a=n.next()){var s=a.value;window.localStorage.removeItem(s)}}catch(o){e={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}}function MEe(t){var e=t.split(gf);if(e.length<3)throw new Error("Invalid key format: "+t);return e.slice(1,e.length-1).join(gf)}function AEe(t){return t.startsWith(Nh.URL_SCHEME)?t.slice(Nh.URL_SCHEME.length):t}var Nh=function(){function t(e){if(!Kt().getBool("IS_BROWSER")||typeof window=="undefined"||typeof window.localStorage=="undefined")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=XG(this.modelPath)}return t.prototype.save=function(e){return Et(this,void 0,void 0,function(){var r,n,a,s;return Mt(this,function(o){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");r=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),a=oy(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,r),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,uEe(e.weightData)),s={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0},this.LS.setItem(this.keys.modelMetadata,JSON.stringify(s)),[2,{modelArtifactsInfo:a}]}catch(u){throw QG(this.keys),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: "+("modelTopologyBytes="+a.modelTopologyBytes+", ")+("weightSpecsBytes="+a.weightSpecsBytes+", ")+("weightDataBytes="+a.weightDataBytes+"."))}return[2]})})},t.prototype.load=function(){return Et(this,void 0,void 0,function(){var e,r,n,a,s,o,u;return Mt(this,function(l){if(e=JSON.parse(this.LS.getItem(this.keys.info)),e==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(r={},n=JSON.parse(this.LS.getItem(this.keys.topology)),n==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(r.modelTopology=n,a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)),a==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(r.weightSpecs=a,s=this.LS.getItem(this.keys.modelMetadata),s!=null&&(o=JSON.parse(s),r.format=o.format,r.generatedBy=o.generatedBy,r.convertedBy=o.convertedBy,o.signature!=null&&(r.signature=o.signature),o.userDefinedMetadata!=null&&(r.userDefinedMetadata=o.userDefinedMetadata),o.modelInitializer!=null&&(r.modelInitializer=o.modelInitializer),o.trainingConfig!=null&&(r.trainingConfig=o.trainingConfig)),u=this.LS.getItem(this.keys.weightData),u==null)throw new Error("In local storage, the binary weight values of model "+("'"+this.modelPath+"' are missing."));return r.weightData=fEe(u),[2,r]})})},t}();Nh.URL_SCHEME="localstorage://";var eH=function(t){return Kt().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Nh.URL_SCHEME)?kEe(t.slice(Nh.URL_SCHEME.length)):null};cs.registerSaveRouter(eH);cs.registerLoadRouter(eH);function kEe(t){return new Nh(t)}var TEe=function(){function t(){se(Kt().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),se(typeof window=="undefined"||typeof window.localStorage!="undefined",function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return t.prototype.listModels=function(){return Et(this,void 0,void 0,function(){var e,r,n,a,s,o;return Mt(this,function(u){for(e={},r=Bp+gf,n=gf+YG,a=0;a<this.LS.length;++a)s=this.LS.key(a),s.startsWith(r)&&s.endsWith(n)&&(o=MEe(s),e[o]=JSON.parse(this.LS.getItem(s)));return[2,e]})})},t.prototype.removeModel=function(e){return Et(this,void 0,void 0,function(){var r,n;return Mt(this,function(a){if(e=AEe(e),r=XG(e),this.LS.getItem(r.info)==null)throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(r.info)),QG(r),[2,n]})})},t}(),$p="://",Ll=function(){function t(){this.managers={}}return t.getInstance=function(){return t.instance==null&&(t.instance=new t),t.instance},t.registerManager=function(e,r){se(e!=null,function(){return"scheme must not be undefined or null."}),e.endsWith($p)&&(e=e.slice(0,e.indexOf($p))),se(e.length>0,function(){return"scheme must not be an empty string."});var n=t.getInstance();se(n.managers[e]==null,function(){return"A model store manager is already registered for scheme '"+e+"'."}),n.managers[e]=r},t.getManager=function(e){var r=t.getInstance().managers[e];if(r==null)throw new Error("Cannot find model manager for scheme '"+e+"'");return r},t.getSchemes=function(){return Object.keys(t.getInstance().managers)},t}();function A2(t){if(t.indexOf($p)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+(""+Ll.getSchemes().join(",")));return{scheme:t.split($p)[0],path:t.split($p)[1]}}function tH(t,e,r){return r===void 0&&(r=!1),Et(this,void 0,void 0,function(){var n,a,s,o,u,l,h,p,v;return Mt(this,function(y){switch(y.label){case 0:return se(t!==e,function(){return"Old path and new path are the same: '"+t+"'"}),n=cs.getLoadHandlers(t),se(n.length>0,function(){return"Copying failed because no load handler is found for source URL "+t+"."}),se(n.length<2,function(){return"Copying failed because more than one ("+n.length+") "+("load handlers for source URL "+t+".")}),a=n[0],s=cs.getSaveHandlers(e),se(s.length>0,function(){return"Copying failed because no save handler is found for destination "+("URL "+e+".")}),se(s.length<2,function(){return"Copying failed because more than one ("+n.length+") "+("save handlers for destination URL "+e+".")}),o=s[0],u=A2(t).scheme,l=A2(t).path,h=u===A2(t).scheme,[4,a.load()];case 1:return p=y.sent(),r&&h?[4,Ll.getManager(u).removeModel(l)]:[3,3];case 2:y.sent(),y.label=3;case 3:return[4,o.save(p)];case 4:return v=y.sent(),r&&!h?[4,Ll.getManager(u).removeModel(l)]:[3,6];case 5:y.sent(),y.label=6;case 6:return[2,v.modelArtifactsInfo]}})})}function NEe(){return Et(this,void 0,void 0,function(){var t,e,r,n,a,s,o,u,l,h,p;return Mt(this,function(v){switch(v.label){case 0:t=Ll.getSchemes(),e={},v.label=1;case 1:v.trys.push([1,6,7,8]),r=Wa(t),n=r.next(),v.label=2;case 2:return n.done?[3,5]:(a=n.value,[4,Ll.getManager(a).listModels()]);case 3:s=v.sent();for(o in s)u=a+$p+o,e[u]=s[o];v.label=4;case 4:return n=r.next(),[3,2];case 5:return[3,8];case 6:return l=v.sent(),h={error:l},[3,8];case 7:try{n&&!n.done&&(p=r.return)&&p.call(r)}finally{if(h)throw h.error}return[7];case 8:return[2,e]}})})}function IEe(t){return Et(this,void 0,void 0,function(){var e,r;return Mt(this,function(n){return e=A2(t),r=Ll.getManager(e.scheme),[2,r.removeModel(e.path)]})})}function DEe(t,e){return Et(this,void 0,void 0,function(){var r;return Mt(this,function(n){return r=!1,[2,tH(t,e,r)]})})}function OEe(t,e){return Et(this,void 0,void 0,function(){var r;return Mt(this,function(n){return r=!0,[2,tH(t,e,r)]})})}var REe=function(){function t(){}return t.prototype.fetch=function(e,r){return fetch(e,r)},t.prototype.now=function(){return performance.now()},t.prototype.encode=function(e,r){if(r!=="utf-8"&&r!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+r);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},t.prototype.decode=function(e,r){return new TextDecoder(r).decode(e)},t}();if(Kt().get("IS_BROWSER")){Kt().setPlatform("browser",new REe);try{Ll.registerManager(Nh.URL_SCHEME,new TEe)}catch(t){}try{Ll.registerManager(Th.URL_SCHEME,new wEe)}catch(t){}}var CEe={importFetch:function(){return gU()}},S4,FEe=function(){function t(){this.util=hu(),this.textEncoder=new this.util.TextEncoder}return t.prototype.fetch=function(e,r){return Kt().global.fetch!=null?Kt().global.fetch(e,r):(S4==null&&(S4=CEe.importFetch()),S4(e,r))},t.prototype.now=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6},t.prototype.encode=function(e,r){if(r!=="utf-8"&&r!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+r);return this.textEncoder.encode(e)},t.prototype.decode=function(e,r){return e.length===0?"":new this.util.TextDecoder(r).decode(e)},t}();Kt().get("IS_NODE")&&!Kt().get("IS_BROWSER")&&Kt().setPlatform("node",new FEe);function bf(t,e,r){return e===void 0&&(e="float32"),e=e||"float32",Q4(t),new C2(t,e,r)}function BEe(t,e){var r=te(t,"x","cast");if(!UU(e))throw new Error("Failed to cast to unknown dtype "+e);if(e==="string"&&r.dtype!=="string"||e!=="string"&&r.dtype==="string")throw new Error("Only strings can be casted to strings");var n={x:r},a={dtype:e};return ve.runKernel(nN,n,a)}var Hn=pe({cast_:BEe});function LEe(t){var e=te(t,"x","clone","string_or_numeric"),r={x:e};return ve.runKernel(iN,r)}var Mh=pe({clone_:LEe});function rH(t,e){e===void 0&&(e=!1),console.log(t.toString(e))}UG();var PEe={buffer:bf,cast:Hn,clone:Mh,print:rH};GSe(PEe);var qEe="model",$Ee=".json",zEe=".weights.bin";function IU(t){return new Promise(function(e){return setTimeout(e)}).then(t)}var B2=function(){function t(e){if(!Kt().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(t.URL_SCHEME)&&(e=e.slice(t.URL_SCHEME.length)),(e==null||e.length===0)&&(e=qEe),this.modelJsonFileName=e+$Ee,this.weightDataFileName=e+zEe}return t.prototype.save=function(e){return Et(this,void 0,void 0,function(){var r,n,a,s,o,u;return Mt(this,function(l){switch(l.label){case 0:if(typeof document=="undefined")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(r=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],a=KG(e,n),s=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),o=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor,o.download=this.modelJsonFileName,o.href=s,[4,IU(function(){return o.dispatchEvent(new MouseEvent("click"))})];case 2:return l.sent(),e.weightData==null?[3,4]:(u=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor,u.download=this.weightDataFileName,u.href=r,[4,IU(function(){return u.dispatchEvent(new MouseEvent("click"))})]);case 3:l.sent(),l.label=4;case 4:return[2,{modelArtifactsInfo:oy(e)}]}})})},t}();B2.URL_SCHEME="downloads://";var jEe=function(){function t(e){if(e==null||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+("but received "+e));this.jsonFile=e[0],this.weightsFiles=e.slice(1)}return t.prototype.load=function(){return Et(this,void 0,void 0,function(){var e=this;return Mt(this,function(r){return[2,new Promise(function(n,a){var s=new FileReader;s.onload=function(o){var u=JSON.parse(o.target.result),l=u.modelTopology;if(l==null){a(new Error("modelTopology field is missing from file "+e.jsonFile.name));return}var h=u.weightsManifest;if(h==null){a(new Error("weightManifest field is missing from file "+e.jsonFile.name));return}if(e.weightsFiles.length===0){n({modelTopology:l});return}var p=hN(u,function(v){return e.loadWeights(v)});n(p)},s.onerror=function(o){return a("Failed to read model topology and weights manifest JSON "+("from file '"+e.jsonFile.name+"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},s.readAsText(e.jsonFile)})]})})},t.prototype.loadWeights=function(e){var r,n,a=this,s=[],o=[];try{for(var u=Wa(e),l=u.next();!l.done;l=u.next()){var h=l.value;s.push.apply(s,Rr(h.weights)),o.push.apply(o,Rr(h.paths))}}catch(y){r={error:y}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}var p=this.checkManifestAndWeightFiles(e),v=o.map(function(y){return a.loadWeightsFile(y,p[y])});return Promise.all(v).then(function(y){return[s,cN(y)]})},t.prototype.loadWeightsFile=function(e,r){return new Promise(function(n,a){var s=new FileReader;s.onload=function(o){var u=o.target.result;n(u)},s.onerror=function(o){return a("Failed to weights data from file of path '"+e+"'.")},s.readAsArrayBuffer(r)})},t.prototype.checkManifestAndWeightFiles=function(e){var r,n,a=this,s=[],o=this.weightsFiles.map(function(v){return NU(v.name)}),u={};try{for(var l=Wa(e),h=l.next();!h.done;h=l.next()){var p=h.value;p.paths.forEach(function(v){var y=NU(v);if(s.indexOf(y)!==-1)throw new Error("Duplicate file basename found in weights manifest: "+("'"+y+"'"));if(s.push(y),o.indexOf(y)===-1)throw new Error("Weight file with basename '"+y+"' is not provided.");u[v]=a.weightsFiles[o.indexOf(y)]})}}catch(v){r={error:v}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}if(s.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+("("+s.length+") and the number of weight files provided ")+("("+this.weightsFiles.length+")."));return u},t}(),UEe=function(t){return Kt().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(B2.URL_SCHEME)?VEe(t.slice(B2.URL_SCHEME.length)):null};cs.registerSaveRouter(UEe);function VEe(t){return t===void 0&&(t="model"),new B2(t)}function WEe(t){return new jEe(t)}function DU(t,e,r,n){o(t),r=r==null?0:r,n=n==null?1:n,u(r,n);var a=0,s=function(l){return l.then(function(h){var p=r+ ++a/t.length*(n-r);return e(p),h}),l};function o(l){se(l!=null&&Array.isArray(l)&&l.length>0,function(){return"promises must be a none empty array"})}function u(l,h){se(l>=0&&l<=1,function(){return"Progress fraction must be in range [0, 1], but "+("got startFraction "+l)}),se(h>=0&&h<=1,function(){return"Progress fraction must be in range [0, 1], but "+("got endFraction "+h)}),se(h>=l,function(){return"startFraction must be no more than endFraction, but "+("got startFraction "+l+" and endFraction ")+(""+h)})}return Promise.all(t.map(s))}function nH(t,e){return Et(this,void 0,void 0,function(){var r,n,a,s,o,u,l,h,p,v,y;return Mt(this,function(S){switch(S.label){case 0:return e==null&&(e={}),r=e.fetchFunc==null?Kt().platform.fetch:e.fetchFunc,n=t.map(function(A){return r(A,e.requestInit,{isBinary:!0})}),a=0,s=.5,e.onProgress!=null?[3,2]:[4,Promise.all(n)];case 1:return u=S.sent(),[3,4];case 2:return[4,DU(n,e.onProgress,a,s)];case 3:u=S.sent(),S.label=4;case 4:return o=u,l=o.map(function(A){return A.arrayBuffer()}),h=.5,p=1,e.onProgress!=null?[3,6]:[4,Promise.all(l)];case 5:return y=S.sent(),[3,8];case 6:return[4,DU(l,e.onProgress,h,p)];case 7:y=S.sent(),S.label=8;case 8:return v=y,[2,v]}})})}function GEe(t,e,r,n){return e===void 0&&(e=""),Et(this,void 0,void 0,function(){var a,s;return Mt(this,function(o){return a=function(u){return nH(u,{requestInit:n})},s=iH(a),[2,s(t,e,r)]})})}function iH(t){var e=this;return function(r,n,a){return n===void 0&&(n=""),Et(e,void 0,void 0,function(){var s,o,u,l,h,p,v,y,S,A;return Mt(this,function(T){switch(T.label){case 0:if(s=r.map(function(){return!1}),o={},u=a!=null?a.map(function(){return!1}):[],l=[],r.forEach(function(I,N){var D=0;I.weights.forEach(function(C){var L="quantization"in C?C.quantization.dtype:C.dtype,z=z4[L]*xn(C.shape),$=function(){s[N]=!0,o[N]==null&&(o[N]=[]),o[N].push({manifestEntry:C,groupOffset:D,sizeBytes:z})};a!=null?a.forEach(function(G,j){G===C.name&&($(),u[j]=!0)}):$(),l.push(C.name),D+=z})}),!u.every(function(I){return I}))throw h=a.filter(function(I,N){return!u[N]}),new Error("Could not find weights in manifest with names: "+(h.join(", ")+`. 
`)+"Manifest JSON has weights with names: "+(l.join(", ")+"."));return p=s.reduce(function(I,N,D){return N&&I.push(D),I},[]),v=[],p.forEach(function(I){r[I].paths.forEach(function(N){var D=n+(n.endsWith("/")?"":"/")+N;v.push(D)})}),[4,t(v)];case 1:return y=T.sent(),S={},A=0,p.forEach(function(I){for(var N=r[I].paths.length,D=0,C=0;C<N;C++)D+=y[A+C].byteLength;for(var L=new ArrayBuffer(D),z=new Uint8Array(L),$=0,G=0;G<N;G++){var j=new Uint8Array(y[A+G]);z.set(j,$),$+=j.byteLength}var Z=o[I];Z.forEach(function(M){var f=L.slice(M.groupOffset,M.groupOffset+M.sizeBytes),d=HG(f,[M.manifestEntry]);for(var g in d)S[g]=d[g]}),A+=N}),[2,S]}})})}}var HEe="application/octet-stream",KEe="application/json",dN=function(){function t(e,r){if(this.DEFAULT_METHOD="POST",r==null&&(r={}),this.weightPathPrefix=r.weightPathPrefix,this.onProgress=r.onProgress,this.weightUrlConverter=r.weightUrlConverter,r.fetchFunc!=null?(se(typeof r.fetchFunc=="function",function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=r.fetchFunc):this.fetch=Kt().platform.fetch,se(e!=null&&e.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(e)&&se(e.length===2,function(){return"URL paths for http must have a length of 2, "+("(actual length is "+e.length+").")}),this.path=e,r.requestInit!=null&&r.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=r.requestInit||{}}return t.prototype.save=function(e){return Et(this,void 0,void 0,function(){var r,n,a,s;return Mt(this,function(o){switch(o.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return r=Object.assign({method:this.DEFAULT_METHOD},this.requestInit),r.body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a=KG(e,n),r.body.append("model.json",new Blob([JSON.stringify(a)],{type:KEe}),"model.json"),e.weightData!=null&&r.body.append("model.weights.bin",new Blob([e.weightData],{type:HEe}),"model.weights.bin"),[4,this.fetch(this.path,r)];case 1:if(s=o.sent(),s.ok)return[2,{modelArtifactsInfo:oy(e),responses:[s]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+(s.status+"."))}})})},t.prototype.load=function(){return Et(this,void 0,void 0,function(){var e,r,n,a,s,o=this;return Mt(this,function(u){switch(u.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(e=u.sent(),!e.ok)throw new Error("Request to "+this.path+" failed with status code "+(e.status+". Please verify this URL points to ")+"the model JSON of the model to load.");u.label=2;case 2:return u.trys.push([2,4,,5]),[4,e.json()];case 3:return r=u.sent(),[3,5];case 4:throw u.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(a=r.modelTopology,s=r.weightsManifest,a==null&&s==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return[2,hN(r,function(l){return o.loadWeights(l)})]}})})},t.prototype.loadWeights=function(e){return Et(this,void 0,void 0,function(){var r,n,a,s,o,u,l,h,p,v,y,S,A,T,I,N,D,C,L,z,$,G,j,Z,M,f,d;return Mt(this,function(g){switch(g.label){case 0:r=Array.isArray(this.path)?this.path[1]:this.path,n=xt(ZEe(r),2),a=n[0],s=n[1],o=this.weightPathPrefix||a,u=[];try{for(l=Wa(e),h=l.next();!h.done;h=l.next())p=h.value,u.push.apply(u,Rr(p.weights))}catch(m){G={error:m}}finally{try{h&&!h.done&&(j=l.return)&&j.call(l)}finally{if(G)throw G.error}}v=[],y=[];try{for(S=Wa(e),A=S.next();!A.done;A=S.next()){T=A.value;try{for(I=(f=void 0,Wa(T.paths)),N=I.next();!N.done;N=I.next())D=N.value,this.weightUrlConverter!=null?y.push(this.weightUrlConverter(D)):v.push(o+D+s)}catch(m){f={error:m}}finally{try{N&&!N.done&&(d=I.return)&&d.call(I)}finally{if(f)throw f.error}}}}catch(m){Z={error:m}}finally{try{A&&!A.done&&(M=S.return)&&M.call(S)}finally{if(Z)throw Z.error}}return this.weightUrlConverter?(L=(C=v.push).apply,z=[v],[4,Promise.all(y)]):[3,2];case 1:L.apply(C,z.concat([Rr.apply(void 0,[g.sent()])])),g.label=2;case 2:return[4,nH(v,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 3:return $=g.sent(),[2,[u,cN($)]]}})})},t}();dN.URL_SCHEME_REGEX=/^https?:\/\//;function ZEe(t){var e=t.lastIndexOf("/"),r=t.lastIndexOf("?"),n=t.substring(0,e),a=r>e?t.substring(r):"";return[n+"/",a]}function W4(t){return t.match(dN.URL_SCHEME_REGEX)!=null}var aH=function(t,e){if(typeof fetch=="undefined"&&(e==null||e.fetchFunc==null))return null;var r=!0;return Array.isArray(t)?r=t.every(function(n){return W4(n)}):r=W4(t),r?pN(t,e):null};cs.registerSaveRouter(aH);cs.registerLoadRouter(aH);function pN(t,e){return new dN(t,e)}function JEe(t,e){return pN(t,e)}var E4=function(){function t(e){this.modelArtifacts=e}return t.prototype.load=function(){return this.modelArtifacts},t}(),sH=function(){function t(e){this.saveHandler=e}return t.prototype.save=function(e){return this.saveHandler(e)},t}(),YEe=function(){function t(e){e.load&&(this.load=function(){return Promise.resolve(e.load())}),e.save&&(this.save=function(r){return Promise.resolve(e.save(r))})}return t}();function XEe(t,e,r,n){var a=arguments;return new YEe(oH.apply(void 0,Rr(a)))}function oH(t,e,r,n){if(arguments.length===1){var a=t.modelTopology!=null||t.weightSpecs!=null;return a?new E4(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new E4({modelTopology:t}))}else return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new E4({modelTopology:t,weightSpecs:e,weightData:r,trainingConfig:n})}function QEe(t){return new sH(t)}function e3e(t){return new sH(t)}var t3e={__proto__:null,browserFiles:WEe,browserHTTPRequest:JEe,concatenateArrayBuffers:cN,decodeWeights:HG,encodeWeights:sEe,fromMemory:XEe,fromMemorySync:oH,getLoadHandlers:gEe,getModelArtifactsForJSON:hN,getModelArtifactsInfoForJSON:oy,getSaveHandlers:vEe,http:pN,isHTTPScheme:W4,loadWeights:GEe,registerLoadRouter:mEe,registerSaveRouter:pEe,weightsLoaderFactory:iH,withSaveHandler:QEe,withSaveHandlerSync:e3e,copyModel:DEe,listModels:NEe,moveModel:OEe,removeModel:IEe};function r3e(t,e,r,n){var a;r===void 0&&(r=!1),n===void 0&&(n=!1);var s=te(t,"a","matMul"),o=te(e,"b","matMul");a=xt(Bn(s,o),2),s=a[0],o=a[1];var u={a:s,b:o},l={transposeA:r,transposeB:n};return ve.runKernel(cV,u,l)}var Pr=pe({matMul_:r3e});function n3e(t,e,r,n){if(r===void 0&&(r=1),n===void 0&&(n=0),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);var a=te(t,"indices","oneHot","int32"),s={indices:a},o={depth:e,onValue:r,offValue:n};return ve.runKernel(CW,s,o)}var G4=pe({oneHot_:n3e});function i3e(){Kt().set("PROD",!0)}function a3e(){Kt().set("DEBUG",!0)}function s3e(){Kt().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function o3e(t){Kt().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function u3e(){ve.disposeVariables()}function f3e(){return ve}function l3e(){return ve.memory()}function c3e(t){return ve.profile(t)}function hi(t,e){return ve.tidy(t,e)}function ka(t){var e=uN(t);e.forEach(function(r){return r.dispose()})}function uH(t){return ve.keep(t)}function h3e(t){return ve.time(t)}function d3e(t){return ve.setBackend(t)}function p3e(){return ve.ready()}function m3e(){return ve.backendName}function v3e(t){ve.removeBackend(t)}function g3e(t){return ve.findBackend(t)}function y3e(t){return ve.findBackendFactory(t)}function b3e(t,e,r){return r===void 0&&(r=1),ve.registerBackend(t,e,r)}function w3e(){return ve.backend}function _3e(t,e){Kt().setPlatform(t,e)}function x3e(t){var e=te(t,"input","imag"),r={input:e};return ve.runKernel(rW,r)}var G2=pe({imag_:x3e});function S3e(t){var e=te(t,"x","neg"),r={x:e};return ve.runKernel(TW,r)}var yf=pe({neg_:S3e});function E3e(t){var e=te(t,"input","real"),r={input:e};return ve.runKernel(zW,r)}var Yg=pe({real_:E3e});function M3e(t,e,r){var n=te(t,"x","transpose");if(e==null&&(e=n.shape.map(function(o,u){return u}).reverse()),se(n.rank===e.length,function(){return"Error in transpose: rank of input "+n.rank+" "+("must match length of perm "+e+".")}),e.forEach(function(o){se(o>=0&&o<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+(" but got "+e)})}),n.rank<=1)return n.clone();var a={x:n},s={perm:e};return n.dtype==="complex64"?hi(function(){var o=Yg(n),u=G2(n);return o=ve.runKernel(E2,{x:o},s),u=ve.runKernel(E2,{x:u},s),r&&(u=yf(u)),Bl(o,u)}):ve.runKernel(E2,a,s)}var L2=pe({transpose_:M3e});function A3e(t,e,r){var n=te(t,"labels","confusionMatrix"),a=te(e,"predictions","confusionMatrix");se(r==null||r>0&&Number.isInteger(r),function(){return"If provided, numClasses must be a positive integer, "+("but got "+r)}),se(n.rank===1,function(){return"Expected the rank of labels to be 1, but got "+n.rank}),se(a.rank===1,function(){return"Expected the rank of predictions to be 1, "+("but got "+a.rank)}),se(n.shape[0]===a.shape[0],function(){return"Mismatch in the number of examples: "+(n.shape[0]+" vs. "+a.shape[0]+". ")+"Labels and predictions should have the same number of elements."}),se(r>0&&Number.isInteger(r),function(){return"numClasses is required to be a positive integer, but got "+(""+r)});var s=G4(Hn(n,"int32"),r),o=G4(Hn(a,"int32"),r),u=L2(s),l=Pr(u,o);return Hn(l,"int32")}var k3e=pe({confusionMatrix_:A3e});var T3e={__proto__:null,confusionMatrix:k3e};function fH(t,e){for(var r=t.length,n=[],a=0;a<r;a++){var s=r-1-a,o=t[s]||1,u=e[e.length-1-a]||1;u>1&&o===1&&n.unshift(s)}return n}function mN(t,e){for(var r=[],n=0;n<e.length;n++){var a=t[t.length-n-1],s=e.length-n-1,o=e[s];(a==null||a===1&&o>1)&&r.unshift(s)}return r}function di(t,e){for(var r=[],n=Math.max(t.length,e.length),a=0;a<n;a++){var s=t[t.length-a-1];s==null&&(s=1);var o=e[e.length-a-1];if(o==null&&(o=1),s===1)r.unshift(o);else if(o===1)r.unshift(s);else if(s!==o){var u="Operands could not be broadcast together with shapes "+(t+" and "+e+".");throw Error(u)}else r.unshift(s)}return r}var N3e={__proto__:null,getBroadcastDims:fH,getReductionAxes:mN,assertAndGetBroadcastShape:di};function lH(t,e,r){if(Oh(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var n=Cu(t,r);if(n.length!==3&&n.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return ql(t,e,n,r)}var yh;function cH(t,e){if(e===void 0&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var r=!1,n=!1,a=!1,s=!1,o=!1,u=!1;if(t.data instanceof Uint8Array)r=!0;else if(typeof ImageData!="undefined"&&t instanceof ImageData)n=!0;else if(typeof HTMLVideoElement!="undefined"&&t instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement)s=!0;else if(t.getContext!=null)o=!0;else if(typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap)u=!0;else throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+("but was "+t.constructor.name));if(a){var l=2;if(a&&t.readyState<l)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}var h=I2(T4,ve.backendName);if(h!=null){var p={pixels:t},v={numChannels:e};return ve.runKernel(T4,p,v)}var y=xt(a?[t.videoWidth,t.videoHeight]:[t.width,t.height],2),S=y[0],A=y[1],T;if(o)T=t.getContext("2d").getImageData(0,0,S,A).data;else if(n||r)T=t.data;else if(s||a||u){if(yh==null)if(typeof document=="undefined")if(typeof OffscreenCanvas!="undefined"&&typeof OffscreenCanvasRenderingContext2D!="undefined")yh=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else yh=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});yh.canvas.width=S,yh.canvas.height=A,yh.drawImage(t,0,0,S,A),T=yh.getImageData(0,0,S,A).data}var I;if(e===4)I=new Int32Array(T);else{var N=S*A;I=new Int32Array(N*e);for(var D=0;D<N;D++)for(var C=0;C<e;++C)I[D*e+C]=T[D*4+C]}var L=[A,S,e];return lH(I,L,"int32")}function I3e(t){return t!=null&&t.data instanceof Uint8Array}function D3e(){return typeof window!="undefined"&&typeof ImageBitmap!="undefined"&&window.hasOwnProperty("createImageBitmap")}function O3e(t){return t!=null&&t.width!==0&&t.height!==0}function R3e(t){return D3e()&&!(t instanceof ImageBitmap)&&O3e(t)&&!I3e(t)}function C3e(t,e){return e===void 0&&(e=3),Et(this,void 0,void 0,function(){var r,n;return Mt(this,function(a){switch(a.label){case 0:if(r=null,!(Kt().getBool("WRAP_TO_IMAGEBITMAP")&&R3e(t)))return[3,5];n=void 0,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,createImageBitmap(t,{premultiplyAlpha:"none"})];case 2:return n=a.sent(),[3,4];case 3:return a.sent(),n=null,[3,4];case 4:return n!=null&&n.width===t.width&&n.height===t.height?r=n:r=t,[3,6];case 5:r=t,a.label=6;case 6:return[2,cH(r,e)]}})})}function F3e(t,e){return Et(this,void 0,void 0,function(){var r,n,a,s,o,u,l,h,p,v,y,S,A,T,I,N;return Mt(this,function(D){switch(D.label){case 0:if(r=te(t,"img","toPixels"),t instanceof ci||(n=r,r=Hn(n,"int32"),n.dispose()),r.rank!==2&&r.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+r.rank+".");if(a=xt(r.shape.slice(0,2),2),s=a[0],o=a[1],u=r.rank===2?1:r.shape[2],u>4||u===2)throw new Error("toPixels only supports depth of size "+("1, 3 or 4 but got "+u));if(r.dtype!=="float32"&&r.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+r.dtype+". Please use float32 or int32 tensors.");return[4,r.data()];case 1:for(l=D.sent(),h=r.dtype==="float32"?255:1,p=new Uint8ClampedArray(o*s*4),v=0;v<s*o;++v){for(y=[0,0,0,255],S=0;S<u;S++){if(A=l[v*u+S],r.dtype==="float32"){if(A<0||A>1)throw new Error("Tensor values for a float32 Tensor must be in the "+("range [0 - 1] but encountered "+A+"."))}else if(r.dtype==="int32"&&(A<0||A>255))throw new Error("Tensor values for a int32 Tensor must be in the "+("range [0 - 255] but encountered "+A+"."));u===1?(y[0]=A*h,y[1]=A*h,y[2]=A*h):y[S]=A*h}T=v*4,p[T+0]=Math.round(y[0]),p[T+1]=Math.round(y[1]),p[T+2]=Math.round(y[2]),p[T+3]=Math.round(y[3])}return e!=null&&(e.width=o,e.height=s,I=e.getContext("2d"),N=new ImageData(p,o,s),I.putImageData(N,0,0)),r!==t&&r.dispose(),[2,p]}})})}var B3e=pe({fromPixels_:cH}),L3e={__proto__:null,fromPixelsAsync:C3e,toPixels:F3e,fromPixels:B3e};function hH(t,e){var r=t.shape.length,n=e.shape.length;if(r<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+(" but the rank was "+r+"."));if(n<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+(" but the rank was "+n+"."));if(e.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type,"+(" but the dtype was "+e.dtype+"."));if(e.shape[n-1]>r)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+(e.shape[n-1]+" vs. "+r));if(xn(t.shape)===0)throw new Error("Requested more than 0 entries, but input is empty."+(" Input shape: "+t.shape+"."));for(var a=e.shape,s=a[a.length-1],o=1,u=0;u<a.length-1;++u)o*=a[u];var l=t.shape,h=a.slice();h.pop();for(var p=1,u=s;u<r;++u)p*=l[u],h.push(l[u]);var v=Rr(Zp(t.shape).map(function(y){return y/p}),[1]).slice(0,s);return[h,o,p,v]}var P3e={__proto__:null,prepareAndValidate:hH};function vN(t,e,r){var n=e.rank>1?e.shape[e.rank-1]:1,a=e.rank>1?e.rank-1:1,s="Must have updates.shape = indices.shape[:batchDim] + "+("shape[sliceDim:], got updates.shape: "+r.shape)+(", indices.shape: "+e.shape+", shape: "+t)+(", sliceDim: "+n+", and batchDim: "+a+".");if(r.rank<a)throw new Error(s+(" update.rank < "+a+". "));if(t.length<n+(r.rank-a))throw new Error(s+(" Output shape length < "+(n+(r.rank-a))));if(r.rank!==a+t.length-n)throw new Error(s+(" update.rank != "+(a+t.length-n)));for(var o=0;o<a;++o)if(r.shape[o]!==e.shape[o])throw new Error(s+(" updates.shape["+o+"] ("+r.shape[o]+") != indices.shape["+o+"] ("+e.shape[o]+")."));for(var o=0;o<r.rank-a;++o)if(r.shape[o+a]!==t[o+n])throw new Error(s+(" updates.shape["+(o+a)+"] ("+r.shape[o+a]+") != shape["+(o+a)+"] ("+t[o+a]+")"))}function gN(t,e,r){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+(" but the rank was "+e.rank+"."));if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+(" but the rank was "+t.rank+"."));if(e.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+e.dtype);if(r.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+r);if(r.length===0){if(e.size===0)throw new Error("Indices specified for empty output. indices shape: "+e.shape);if(t.size===0)throw new Error("Updates specified for empty output. updates shape: "+t.shape)}vN(r,e,t)}function dH(t,e,r){for(var n=e.shape.length,a=n>1?e.shape[n-1]:1,s=r.length,o=1,u=a;u<s;++u)o*=r[u];var l=a<1?1:a,h=xn(e.shape)/l,p=Rr(Zp(r.slice(0,a)),[1]),v=xn(r);return{sliceRank:a,numUpdates:h,sliceSize:o,strides:p,outputSize:v}}var q3e={__proto__:null,validateUpdateShape:vN,validateInput:gN,calculateShapes:dH},H4=-2,$3e=-1;function z3e(t,e,r){var n=t.shape.length;se(n===e.length,function(){return"Error in slice"+n+"D: Length of begin "+e+" must "+("match the rank of the array ("+n+").")}),se(n===r.length,function(){return"Error in slice"+n+"D: Length of size "+r+" must "+("match the rank of the array ("+n+").")});for(var a=function(o){se(e[o]+r[o]<=t.shape[o],function(){return"Error in slice"+n+"D: begin["+o+"] + size["+o+"] "+("("+(e[o]+r[o])+") would overflow input.shape["+o+"] ("+t.shape[o]+")")})},s=0;s<n;++s)a(s)}function j3e(t){for(var e=[],r=0;t>0;)t&1&&e.push(r),t/=2,r++;return e}function U3e(t,e,r){for(var n=[],a=0;a<t.length;a++)n[a]=Math.ceil((e[a]-t[a])/r[a]);return n}function pH(t,e,r,n){for(var a=Rr(t),s=a.length;s<n.length;s++)a.push(1);for(var s=0;s<r;s++)s===0?a[e]=1:(a.splice(e,0,1),a.pop());return a}function mH(t,e,r){return r<=t?r:r-(e-1)}function vH(t,e){for(var r=[],n=0;n<t;n++)r.push(e+n);return r}function V3e(t,e,r,n,a,s,o,u,l){var h=t.length,p=new Array(h),v=new Array(h),y=new Array(h);if(e.length&&r>0){var S=e[0],A=r+1;p=gH(o,S,A,n,t),v=yH(u,S,A,a,t),y=pH(s,S,A,t)}else for(var T=0;T<h;T++)p[T]=wH(o,n,s,t,T,l),v[T]=_H(u,a,s,t,T,l),y[T]=bH(s,T,l);return{begin:p,end:v,strides:y}}function gH(t,e,r,n,a){for(var s=Rr(a),o=vH(r,e),u=0;u<s.length;u++)if(o.indexOf(u)>-1)s[u]=0;else{var l=mH(e,r,u),h=n[l];t&1<<l&&(h=0),s[u]=h}return s}function yH(t,e,r,n,a){for(var s=Rr(a),o=vH(r,e),u=0;u<s.length;u++)if(o.indexOf(u)>-1)s[u]=Number.MAX_SAFE_INTEGER;else{var l=mH(e,r,u),h=n[l];t&1<<l&&(h=Number.MAX_SAFE_INTEGER),s[u]=h}for(var p=0;p<s.length;p++){var v=a[p];s[p]<0&&(s[p]+=v),s[p]=Gg(0,s[p],a[p])}return s}function bH(t,e,r){var n=t[e];return(r&1<<e||n==null)&&(n=1),n}function wH(t,e,r,n,a,s){var o=e[a],u=r[a]||1;(t&1<<a||s&1<<a||o==null)&&(u>0?o=Number.MIN_SAFE_INTEGER:o=Number.MAX_SAFE_INTEGER);var l=n[a];return o<0&&(o+=l),o=Gg(0,o,l-1),o}function _H(t,e,r,n,a,s){var o=e[a],u=r[a]||1;(t&1<<a||s&1<<a||o==null)&&(u>0?o=Number.MAX_SAFE_INTEGER:o=Number.MIN_SAFE_INTEGER);var l=n[a];return o<0&&(o+=l),u>0?o=Gg(0,o,l):o=Gg(-1,o,l-1),o}function W3e(t,e,r){for(var n=r.length,a=0;a<r.length;a++)if(r[a]>1){n=a;break}for(var a=n+1;a<r.length;a++)if(e[a]>0||r[a]!==t[a])return!1;return!0}function G3e(t,e){for(var r=t.length>0?t[t.length-1]:1,n=0;n<t.length-1;n++)r+=t[n]*e[n];return r}function H3e(t,e,r){var n,a=t.shape.length;typeof e=="number"?n=Rr([e],new Array(a-1).fill(0)):e.length<a?n=e.concat(new Array(a-e.length).fill(0)):n=e.slice(),n.forEach(function(o){se(o!==-1,function(){return"slice() does not support negative begin indexing."})});var s;return r==null?s=new Array(a).fill(-1):typeof r=="number"?s=Rr([r],new Array(a-1).fill(-1)):r.length<a?s=r.concat(new Array(a-r.length).fill(-1)):s=r,s=s.map(function(o,u){return o>=0?o:(se(o===-1,function(){return"Negative size values should be exactly -1 but got "+(o+" for the slice() size at index "+u+".")}),t.shape[u]-n[u])}),[n,s]}function K3e(t,e,r,n,a,s,o,u,l){var h;if(n==null?(h=new Array(e.length),h.fill(1)):h=n,o!=null&&(o&o-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");for(var p=!1,v={dims:h.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:r.slice(),strides:h.slice(),beginMask:a,endMask:s,ellipsisMask:o,newAxisMask:u,shrinkAxisMask:l},y=0;y<v.dims;y++)p&&(1<<y&u)!==0&&v.numAddAxisAfterEllipsis++,1<<y&o&&(p=!0);p||(v.ellipsisMask|=1<<v.dims,v.dims++);var S={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};Z3e(v,S);for(var A=!0,T=!0,I=!0,N=[],D=[],y=0;y<t.length;++y){if(S.strides[y]===0)throw Error("strides["+y+"] must be non-zero");var C=!!(S.shrinkAxisMask&1<<y),L=t[y];if(L===-1){N.push(C?1:-1);continue}var z=[S.beginMask&1<<y,S.endMask&1<<y],$=[S.strides[y]>0?0:-1,S.strides[y]>0?L:L-1];if(C&&S.strides[y]<=0)throw Error("only stride 1 allowed on non-range indexing.");I=I&&S.strides[y]===1;var G=!!(S.beginMask&1<<y&&S.endMask&1<<y);if(S.beginValid&&S.endValid){if(C){var j=S.begin[y]<0?L+S.begin[y]:S.begin[y];if(S.begin[y]=j,S.end[y]=S.begin[y]+1,j<0||j>=L)throw Error("slice index "+S.begin[y]+" of dimension "+y+" out of bounds.")}else S.begin[y]=OU(S.begin[y],0,S.strides[y],L,z,$),S.end[y]=OU(S.end[y],1,S.strides[y],L,z,$);var Z=S.strides[y]===1&&S.begin[y]===0&&S.end[y]===L;A=A&&Z,T=T&&(y===0&&S.strides[y]===1||Z)}else A=A&&S.strides[y]===1&&G,T=T&&(y===0&&S.strides[y]===1||G);var M=void 0,f=!1;if(S.beginValid&&S.endValid?(M=S.end[y]-S.begin[y],f=!0):C?(M=1,f=!0):G&&L>=0&&(S.strides[y]<0?M=-L:M=L,f=!0),f){var d=void 0;M===0||M<0!=S.strides[y]<0?d=0:d=Math.trunc(M/S.strides[y])+(M%S.strides[y]!==0?1:0),N.push(d)}else N.push(-1)}for(var g=0;g<S.finalShapeGatherIndices.length;++g){var m=S.finalShapeGatherIndices[g];m>=0?D.push(N[m]):m===H4&&D.push(1)}var b=D.filter(function(E,k){return S.finalShapeGatherIndices[k]!==H4});return{finalShapeSparse:b,finalShape:D,isIdentity:A,sliceDim0:T,isSimpleSlice:I,begin:S.begin,end:S.end,strides:S.strides}}function Z3e(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;var r=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(var n=0;n<t.dims;n++)if(1<<n&t.ellipsisMask)for(var a=Math.min(e.dims-(t.dims-n)+1+t.numAddAxisAfterEllipsis,e.dims);r<a;r++)e.begin[r]=0,e.end[r]=0,e.strides[r]=1,e.beginMask|=1<<r,e.endMask|=1<<r,e.finalShapeGatherIndices.push(r),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[r]=n;else if(1<<n&t.newAxisMask)e.finalShapeGatherIndices.push(H4),e.finalShapeGatherIndicesSparse.push(-1);else{if(r===e.begin.length)throw Error("Index out of range using input dim "+r+"; input "+("has only "+e.dims+" dims, "+e.begin.length+"."));t.begin!=null&&(e.begin[r]=t.begin[n]),t.end!=null&&(e.end[r]=t.end[n]),e.strides[r]=t.strides[n],t.beginMask&1<<n&&(e.beginMask|=1<<r),t.endMask&1<<n&&(e.endMask|=1<<r),t.shrinkAxisMask&1<<n?(e.finalShapeGatherIndices.push($3e),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<r):(e.finalShapeGatherIndices.push(r),e.finalShapeGatherIndicesSparse.push(n)),e.inputShapeGatherIndicesSparse[r]=n,r++}}function OU(t,e,r,n,a,s){if(a[e])return r>0?s[e]:s[e+1&1];var o=t<0?n+t:t;return o<s[0]?s[0]:o>s[1]?s[1]:o}var xH={__proto__:null,assertParamsValid:z3e,maskToAxes:j3e,computeOutShape:U3e,stridesWithElidedDims:pH,getNormalizedAxes:V3e,startIndicesWithElidedDims:gH,stopIndicesWithElidedDims:yH,stridesForAxis:bH,startForAxis:wH,stopForAxis:_H,isSliceContinous:W3e,computeFlatOffset:G3e,parseSliceParams:H3e,sliceInfo:K3e};var SH=function(){function t(){}return t.prototype.getClassName=function(){return this.constructor.className},t.fromConfig=function(e,r){return new e(r)},t}(),EH=function(){function t(){this.classNameMap={}}return t.getMap=function(){return t.instance==null&&(t.instance=new t),t.instance},t.register=function(e){t.getMap().classNameMap[e.className]=[e,e.fromConfig]},t}();function $l(t){se(t.className!=null,function(){return"Class being registered does not have the static className property defined."}),se(typeof t.className=="string",function(){return"className is required to be a string, but got type "+typeof t.className}),se(t.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),EH.register(t)}var J3e={__proto__:null,Serializable:SH,SerializationMap:EH,registerClass:$l};var Y3e=.001,MH=.1;function X3e(t,e,r){return r==null&&(r=yN()),K4(t,e,function(n,a){return bN(n,a,r)})}function yN(){return ve.backend.floatPrecision()===32?Y3e:MH}function K4(t,e,r){var n=!0;if((ea(t)||ea(e))&&(n=!1),ea(t)&&ea(e)&&(n=!0),n){var a=t.constructor.name,s=e.constructor.name;if(a!==s)throw new Error("Arrays are of different type. Actual: "+a+". "+("Expected: "+s))}if(Array.isArray(t)&&Array.isArray(e)){var o=Cu(t),u=Cu(e);if(!Pl(o,u))throw new Error("Arrays have different shapes. "+("Actual: ["+o+"]. Expected: ["+u+"]"))}var l=ea(t)?t:kh(t),h=ea(e)?e:kh(e);if(l.length!==h.length)throw new Error("Arrays have different lengths actual: "+l.length+" vs "+("expected: "+h.length+`.
`)+("Actual:   "+l+`.
`)+("Expected: "+h+"."));for(var p=0;p<h.length;++p){var v=l[p],y=h[p];if(!r(v,y))throw new Error("Arrays differ: actual["+p+"] = "+v+", expected["+p+"] = "+y+`.
`+("Actual:   "+l+`.
`)+("Expected: "+h+"."))}}function Q3e(t,e){t().then(function(){return e.fail()},function(){return e()})}function eMe(t,e){var r=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return Ol(t)||Ol(t[0])||Ol(e)||Ol(e[0])?K4(t,r,function(n,a){return n==a}):K4(t,e,function(n,a){return bN(n,a,0)})}function tMe(t,e,r){if(r==null&&(r=yN()),!bN(t,e,r))throw new Error("Numbers differ: actual === "+t+", expected === "+e)}function bN(t,e,r){return!isFinite(t)&&!isFinite(e)?!0:!(isNaN(t)||isNaN(e)||Math.abs(t-e)>r)}function rMe(t,e,r){for(var n=0;n<t.length;n++)if(t[n]<e||t[n]>r)throw new Error("Value out of range:"+t[n]+" low: "+e+", high: "+r)}function nMe(t,e){var r=new Float32Array(t),n=new Float32Array(e);if(r.length!==n.length)throw new Error("Expected ArrayBuffer to be of length "+(n.length+", but it was "+r.length));for(var a=0;a<n.length;a++)if(r[a]!==n[a])throw new Error("Expected ArrayBuffer value at "+a+" to be "+(n[a]+" but got "+r[a]+" instead"))}function AH(t){for(var e=0;e<t.length;e++){var r=t[e];Array.isArray(r)?AH(r):t[e]=sy(r)}return t}var iMe={__proto__:null,TEST_EPSILON_FLOAT16:MH,expectArraysClose:X3e,testEpsilon:yN,expectPromiseToFail:Q3e,expectArraysEqual:eMe,expectNumbersClose:tMe,expectValuesInRange:rMe,expectArrayBuffersEqual:nMe,encodeStrings:AH};var aMe="3.19.0";function sMe(t,e){var r,n=te(t,"a","add"),a=te(e,"b","add");r=xt(Bn(n,a),2),n=r[0],a=r[1];var s={a:n,b:a};return ve.runKernel(rN,s)}var Ot=pe({add_:sMe});function oMe(t,e){var r,n=te(t,"a","floorDiv"),a=te(e,"b","floorDiv");r=xt(Bn(n,a),2),n=r[0],a=r[1];var s={a:n,b:a};return ve.runKernel(ZV,s)}var kH=pe({floorDiv_:oMe});function uMe(t,e){var r,n=te(t,"a","div"),a=te(e,"b","div");if(r=xt(Bn(n,a),2),n=r[0],a=r[1],n.dtype==="int32"&&a.dtype==="int32")return kH(n,a);var s={a:n,b:a},o={};return ve.runKernel(LV,s,o)}var _n=pe({div_:uMe});function fMe(t,e){var r,n=te(t,"a","mul"),a=te(e,"b","mul");r=xt(Bn(n,a),2),n=r[0],a=r[1];var s={a:n,b:a};return ve.runKernel(kW,s)}var vt=pe({mul_:fMe});function lMe(t){var e=te(t,"x","abs");if(e.dtype==="complex64"){var r={x:e};return ve.runKernel(yV,r)}else{var r={x:e};return ve.runKernel(JU,r)}}var fs=pe({abs_:lMe});function cMe(t){var e=te(t,"x","acos"),r={x:e};return ve.runKernel(YU,r)}var hMe=pe({acos_:cMe});function dMe(t){var e=te(t,"x","acosh"),r={x:e};return ve.runKernel(XU,r)}var pMe=pe({acosh_:dMe});function mMe(t){se(Array.isArray(t),function(){return"The argument passed to tf.addN() must be a list of tensors"}),se(t.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+(""+t.length)});var e=t.map(function(a,s){return te(a,"tensors"+s,"addN")}),r=e[0];e.forEach(function(a){if(a.dtype!==r.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(function(a){if(!Pl(a.shape,r.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var n=e;return ve.runKernel(QU,n)}var vMe=pe({addN_:mMe});function gMe(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=te(t,"x","all","bool"),a={x:n},s={axis:e,keepDims:r};return ve.runKernel(eV,a,s)}var yMe=pe({all_:gMe});function bMe(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=te(t,"x","any","bool"),a={x:n},s={axis:e,keepDims:r};return ve.runKernel(tV,a,s)}var wMe=pe({any_:bMe});function _Me(t,e){e===void 0&&(e=0);var r=te(t,"x","argMax"),n={x:r},a={axis:e};return ve.runKernel(rV,n,a)}var xMe=pe({argMax_:_Me});function SMe(t,e){e===void 0&&(e=0);var r=te(t,"x","argMin"),n={x:r},a={axis:e};return ve.runKernel(nV,n,a)}var EMe=pe({argMin_:SMe});function MMe(t){var e=te(t,"x","asin"),r={x:e};return ve.runKernel(iV,r)}var AMe=pe({asin_:MMe});function kMe(t){var e=te(t,"x","asinh"),r={x:e};return ve.runKernel(aV,r)}var TMe=pe({asinh_:kMe});function NMe(t){var e=te(t,"x","atan"),r={x:e};return ve.runKernel(sV,r)}var IMe=pe({atan_:NMe});function DMe(t,e){var r,n=te(t,"a","atan2"),a=te(e,"b","atan2");r=xt(Bn(n,a),2),n=r[0],a=r[1];var s={a:n,b:a};return ve.runKernel(uV,s)}var OMe=pe({atan2_:DMe});function RMe(t){var e=te(t,"x","atanh"),r={x:e};return ve.runKernel(oV,r)}var CMe=pe({atanh_:RMe});function FMe(t,e,r,n,a,s){a===void 0&&(a="NHWC");var o=t[3],u=Rr(e,[o]),l=IH(a);return uy(t,u,r,s,n,null,null,l)}function TH(t,e,r,n,a,s,o){o===void 0&&(o="channelsLast");var u=xt(P2(e),2),l=u[0],h=u[1],p;if(o==="channelsLast")p=[l,h,t[3],t[3]];else if(o==="channelsFirst")p=[l,h,t[1],t[1]];else throw new Error("Unknown dataFormat "+o);return uy(t,p,r,n,a,s,!1,o)}function BMe(t,e,r,n,a,s,o){o===void 0&&(o="NDHWC");var u=xt(Z4(e),3),l=u[0],h=u[1],p=u[2],v,y;if(o==="NDHWC")y="channelsLast",v=[l,h,p,t[4],t[4]];else if(o==="NCDHW")y="channelsFirst",v=[l,h,p,t[1],t[1]];else throw new Error("Unknown dataFormat "+o);return NH(t,v,r,n,a,!1,y,s)}function uy(t,e,r,n,a,s,o,u){var l,h;o===void 0&&(o=!1),u===void 0&&(u="channelsLast");var p=xt([-1,-1,-1,-1],4),v=p[0],y=p[1],S=p[2],A=p[3];if(u==="channelsLast")l=xt(t,4),v=l[0],y=l[1],S=l[2],A=l[3];else if(u==="channelsFirst")h=xt(t,4),v=h[0],A=h[1],y=h[2],S=h[3];else throw new Error("Unknown dataFormat "+u);var T=xt(e,4),I=T[0],N=T[1],D=T[3],C=xt(P2(r),2),L=C[0],z=C[1],$=xt(P2(n),2),G=$[0],j=$[1],Z=zp(I,G),M=zp(N,j),f=qMe(a,y,S,L,z,Z,M,s,u),d=f.padInfo,g=f.outHeight,m=f.outWidth,b=o?D*A:D,E;return u==="channelsFirst"?E=[v,b,g,m]:u==="channelsLast"&&(E=[v,g,m,b]),{batchSize:v,dataFormat:u,inHeight:y,inWidth:S,inChannels:A,outHeight:g,outWidth:m,outChannels:b,padInfo:d,strideHeight:L,strideWidth:z,filterHeight:I,filterWidth:N,effectiveFilterHeight:Z,effectiveFilterWidth:M,dilationHeight:G,dilationWidth:j,inShape:t,outShape:E,filterShape:e}}function NH(t,e,r,n,a,s,o,u){var l,h;s===void 0&&(s=!1),o===void 0&&(o="channelsLast");var p=xt([-1,-1,-1,-1,-1],5),v=p[0],y=p[1],S=p[2],A=p[3],T=p[4];if(o==="channelsLast")l=xt(t,5),v=l[0],y=l[1],S=l[2],A=l[3],T=l[4];else if(o==="channelsFirst")h=xt(t,5),v=h[0],T=h[1],y=h[2],S=h[3],A=h[4];else throw new Error("Unknown dataFormat "+o);var I=xt(e,5),N=I[0],D=I[1],C=I[2],L=I[4],z=xt(Z4(r),3),$=z[0],G=z[1],j=z[2],Z=xt(Z4(n),3),M=Z[0],f=Z[1],d=Z[2],g=zp(N,M),m=zp(D,f),b=zp(C,d),E=$Me(a,y,S,A,$,G,j,g,m,b,u),k=E.padInfo,w=E.outDepth,c=E.outHeight,_=E.outWidth,R=s?L*T:L,O;return o==="channelsFirst"?O=[v,R,w,c,_]:o==="channelsLast"&&(O=[v,w,c,_,R]),{batchSize:v,dataFormat:o,inDepth:y,inHeight:S,inWidth:A,inChannels:T,outDepth:w,outHeight:c,outWidth:_,outChannels:R,padInfo:k,strideDepth:$,strideHeight:G,strideWidth:j,filterDepth:N,filterHeight:D,filterWidth:C,effectiveFilterDepth:g,effectiveFilterHeight:m,effectiveFilterWidth:b,dilationDepth:M,dilationHeight:f,dilationWidth:d,inShape:t,outShape:O,filterShape:e}}function LMe(t,e,r,n,a){n==null&&(n=wN(t,e,r));var s=t[0],o=t[1],u=Ah((s-e+2*n)/r+1,a),l=Ah((o-e+2*n)/r+1,a);return[u,l]}function PMe(t,e,r,n,a,s){a==null&&(a=wN(t,e,n));var o=t[0],u=t[1],l=t[2],h=Ah((o-e+2*a)/n+1,s),p=Ah((u-e+2*a)/n+1,s),v=Ah((l-e+2*a)/n+1,s);return[h,p,v,r]}function wN(t,e,r,n){n===void 0&&(n=1);var a=zp(e,n);return Math.floor((t[0]*(r-1)-r+a)/2)}function P2(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function Z4(t){return typeof t=="number"?[t,t,t]:t}function zp(t,e){return e<=1?t:t+(t-1)*(e-1)}function qMe(t,e,r,n,a,s,o,u,l){var h,p,v;if(typeof t=="number"){var y=t===0?"VALID":"NUMBER";h={top:t,bottom:t,left:t,right:t,type:y};var S=LMe([e,r],s,n,t,u);p=S[0],v=S[1]}else if(t==="same"){p=Math.ceil(e/n),v=Math.ceil(r/a);var A=Math.max(0,(p-1)*n+s-e),T=Math.max(0,(v-1)*a+o-r),I=Math.floor(A/2),N=A-I,D=Math.floor(T/2),C=T-D;h={top:I,bottom:N,left:D,right:C,type:"SAME"}}else if(t==="valid")h={top:0,bottom:0,left:0,right:0,type:"VALID"},p=Math.ceil((e-s+1)/n),v=Math.ceil((r-o+1)/a);else if(typeof t=="object"){var I=l==="channelsLast"?t[1][0]:t[2][0],N=l==="channelsLast"?t[1][1]:t[2][1],D=l==="channelsLast"?t[2][0]:t[3][0],C=l==="channelsLast"?t[2][1]:t[3][1],y=I===0&&N===0&&D===0&&C===0?"VALID":"EXPLICIT";h={top:I,bottom:N,left:D,right:C,type:y},p=Ah((e-s+I+N)/n+1,u),v=Ah((r-o+D+C)/a+1,u)}else throw Error("Unknown padding parameter: "+t);return{padInfo:h,outHeight:p,outWidth:v}}function $Me(t,e,r,n,a,s,o,u,l,h,p){var v,y,S,A;if(typeof t=="number"){var T=t===0?"VALID":"NUMBER";v={top:t,bottom:t,left:t,right:t,front:t,back:t,type:T};var I=PMe([e,r,n,1],u,1,a,t,p);y=I[0],S=I[1],A=I[2]}else if(t==="same"){y=Math.ceil(e/a),S=Math.ceil(r/s),A=Math.ceil(n/o);var N=(y-1)*a+u-e,D=(S-1)*s+l-r,C=(A-1)*o+h-n,L=Math.floor(N/2),z=N-L,$=Math.floor(D/2),G=D-$,j=Math.floor(C/2),Z=C-j;v={top:$,bottom:G,left:j,right:Z,front:L,back:z,type:"SAME"}}else if(t==="valid")v={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},y=Math.ceil((e-u+1)/a),S=Math.ceil((r-l+1)/s),A=Math.ceil((n-h+1)/o);else throw Error("Unknown padding parameter: "+t);return{padInfo:v,outDepth:y,outHeight:S,outWidth:A}}function Ah(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+e)}}function Xg(t){var e=xt(P2(t),3),r=e[0],n=e[1],a=e[2];return r===1&&n===1&&a===1}function xf(t,e){return Xg(t)||Xg(e)}function IH(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+t)}function Xs(t,e,r){if(r!=null){if(typeof e=="string")throw Error("Error in "+t+": pad must be an integer when using "+("dimRoundingMode "+r+" but got pad "+e+"."));if(typeof e=="number")se(Vp(e),function(){return"Error in "+t+": pad must be an integer when using "+("dimRoundingMode "+r+" but got pad "+e+".")});else if(typeof e=="object")e.forEach(function(n){n.forEach(function(a){se(Vp(a),function(){return"Error in "+t+": pad must be an integer when using "+("dimRoundingMode "+r+" but got pad "+a+".")})})});else throw Error("Error in "+t+": Unknown padding parameter: "+e)}}function zMe(t,e){var r=te(t,"x","reshape","string_or_numeric"),n={x:r},a={shape:e};return ve.runKernel(VW,n,a)}var it=pe({reshape_:zMe});function jMe(t,e,r,n,a){var s=te(t,"x","avgPool","float32"),o=1;se(xf(r,o),function(){return"Error in avgPool: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+o+"'")});var u=s,l=!1;s.rank===3&&(l=!0,u=it(s,[1,s.shape[0],s.shape[1],s.shape[2]])),se(u.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+u.rank+"."}),Xs("avgPool",n,a);var h={x:u},p={filterSize:e,strides:r,pad:n,dimRoundingMode:a},v=ve.runKernel(fV,h,p);return v=Hn(v,s.dtype),l?it(v,[v.shape[1],v.shape[2],v.shape[3]]):v}var DH=pe({avgPool_:jMe});function UMe(t,e,r,n,a,s){s===void 0&&(s="NDHWC");var o=te(t,"x","avgPool3d","float32"),u=o,l=!1;o.rank===4&&(l=!0,u=it(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),se(u.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."}),se(s==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+("but got dataFormat of "+s)}),Xs("avgPool3d",n,a);var h={x:u},p={filterSize:e,strides:r,pad:n,dimRoundingMode:a,dataFormat:s},v=ve.runKernel(lV,h,p);return v=Hn(v,u.dtype),l?it(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}var VMe=pe({avgPool3d_:UMe});function WMe(t,e){e===void 0&&(e=0),se(t.length>=1,function(){return"Pass at least one tensor to concat"});var r=Jg(t,"tensors","concat","string_or_numeric");if(r[0].dtype==="complex64"&&r.forEach(function(s){if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+s.dtype+". ")}),r.length===1)return Mh(r[0]);var n=r,a={axis:e};return ve.runKernel(bV,n,a)}var Ga=pe({concat_:WMe});function GMe(t){var e=te(t,"x","sigmoid","float32"),r={x:e};return ve.runKernel(aG,r)}var jp=pe({sigmoid_:GMe});function HMe(t,e,r){var n=te(t,"x","slice","string_or_numeric");if(n.rank===0)throw new Error("Slicing scalar is not possible");var a={x:n},s={begin:e,size:r};return ve.runKernel(tG,a,s)}var Dn=pe({slice_:HMe});function KMe(t){var e=te(t,"x","tanh","float32"),r={x:e};return ve.runKernel(EG,r)}var J4=pe({tanh_:KMe});function ZMe(t,e,r,n,a,s){var o=te(t,"forgetBias","basicLSTMCell"),u=te(e,"lstmKernel","basicLSTMCell"),l=te(r,"lstmBias","basicLSTMCell"),h=te(n,"data","basicLSTMCell"),p=te(a,"c","basicLSTMCell"),v=te(s,"h","basicLSTMCell"),y=Ga([h,v],1),S=Pr(y,u),A=Ot(S,l),T=A.shape[0],I=A.shape[1]/4,N=[T,I],D=Dn(A,[0,0],N),C=Dn(A,[0,I],N),L=Dn(A,[0,I*2],N),z=Dn(A,[0,I*3],N),$=Ot(vt(jp(D),J4(C)),vt(p,jp(Ot(o,L)))),G=vt(J4($),jp(z));return[$,G]}var JMe=pe({basicLSTMCell_:ZMe});function YMe(t,e,r){var n=te(t,"x","batchToSpaceND"),a=e.reduce(function(u,l){return u*l});se(n.rank>=1+e.length,function(){return"input rank is "+n.rank+" but should be > than blockShape.length "+e.length}),se(r.length===e.length,function(){return"crops.length is "+r.length+" but should be equal to blockShape.length  "+e.length}),se(n.shape[0]%a===0,function(){return"input tensor batch is "+n.shape[0]+" but is not divisible by the product of "+("the elements of blockShape "+e.join(" * ")+" === "+a)});var s={x:n},o={blockShape:e,crops:r};return ve.runKernel(hV,s,o)}var OH=pe({batchToSpaceND_:YMe});function XMe(t){var e;return t.rank===0||t.rank===1?e=it(t,[1,1,1,t.size]):t.rank===2?e=it(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=it(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}function QMe(t,e,r,n,a,s){s==null&&(s=.001);var o=te(t,"x","batchNorm"),u=te(e,"mean","batchNorm"),l=te(r,"variance","batchNorm"),h;a!=null&&(h=te(a,"scale","batchNorm"));var p;n!=null&&(p=te(n,"offset","batchNorm")),se(u.rank===l.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),se(p==null||u.rank===p.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),se(h==null||u.rank===h.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."});var v=XMe(o),y={x:v,scale:h,offset:p,mean:u,variance:l},S={varianceEpsilon:s},A=ve.runKernel(JV,y,S);return it(A,o.shape)}var H2=pe({batchNorm_:QMe});function eAe(t,e,r,n,a,s){var o=te(t,"x","batchNorm"),u=te(e,"mean","batchNorm"),l=te(r,"variance","batchNorm"),h;a!=null&&(h=te(a,"scale","batchNorm"));var p;return n!=null&&(p=te(n,"offset","batchNorm")),se(o.rank===2,function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+(o.rank+".")}),se(u.rank===2||u.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+("got rank "+u.rank+".")}),se(l.rank===2||l.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+("but got rank "+l.rank+".")}),h!=null&&se(h.rank===2||h.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+("but got rank "+h.rank+".")}),p!=null&&se(p.rank===2||p.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+("but got rank "+p.rank+".")}),H2(o,u,l,p,h,s)}var tAe=pe({batchNorm2d_:eAe});function rAe(t,e,r,n,a,s){var o=te(t,"x","batchNorm"),u=te(e,"mean","batchNorm"),l=te(r,"variance","batchNorm"),h;a!=null&&(h=te(a,"scale","batchNorm"));var p;return n!=null&&(p=te(n,"offset","batchNorm")),se(o.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+(o.rank+".")}),se(u.rank===3||u.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+("got rank "+u.rank+".")}),se(l.rank===3||l.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+("but got rank "+l.rank+".")}),h!=null&&se(h.rank===3||h.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+("but got rank "+h.rank+".")}),p!=null&&se(p.rank===3||p.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+("but got rank "+p.rank+".")}),H2(o,u,l,p,h,s)}var nAe=pe({batchNorm3d_:rAe});function iAe(t,e,r,n,a,s){var o=te(t,"x","batchNorm"),u=te(e,"mean","batchNorm"),l=te(r,"variance","batchNorm"),h;a!=null&&(h=te(a,"scale","batchNorm"));var p;return n!=null&&(p=te(n,"offset","batchNorm")),se(o.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+(o.rank+".")}),se(u.rank===4||u.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+("got rank "+u.rank+".")}),se(l.rank===4||l.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+("but got rank "+l.rank+".")}),h!=null&&se(h.rank===4||h.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+("but got rank "+h.rank+".")}),p!=null&&se(p.rank===4||p.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+("but got rank "+p.rank+".")}),H2(o,u,l,p,h,s)}var aAe=pe({batchNorm4d_:iAe});function sAe(t,e,r){var n=te(t,"x","bincount"),a=te(e,"weights","bincount");se(n.dtype==="int32",function(){return"Error in bincount: input "+("dtype must be int32, but got "+n.dtype)}),se(r>=0,function(){return"size must be non-negative, but got "+r+"."}),se(a.size===n.size||a.size===0,function(){return"Error in bincount: weights must have the same size as input or"+("0-length, but got input shape: "+n.shape+", weights shape: ")+(a.shape+".")});var s={x:n,weights:a},o={size:r};return ve.runKernel(dV,s,o)}var RH=pe({bincount_:sAe});function oAe(t,e){var r=te(t,"s0","broadcastArgs","int32"),n=te(e,"s1","broadcastArgs","int32");if(r.rank!==1)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+("Has rank "+r.rank));if(n.rank!==1)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+("Has rank "+n.rank));var a={s0:r,s1:n};return ve.runKernel(pV,a)}var uAe=pe({broadcastArgs_:oAe});function fAe(t,e){var r=te(t,"broadcastTo","x"),n=r.shape;if(e.some(function(v){return!(v>0)||v%1!==0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+e+"].");if(e.length<r.rank)throw new Error("broadcastTo(): shape.length="+e.length+" < input.rank="+r.rank+".");if(e.length>r.rank){for(var a=r.shape.slice();a.length<e.length;)a.unshift(1);r=it(r,a)}for(var s=r.shape,o=Array.from(e),u=e.length-1;u>=0;u--)if(s[u]===e[u])o[u]=1;else if(r.shape[u]!==1)throw new Error("broadcastTo(): ["+n+"] cannot be broadcast to ["+e+"].");var l=o.map(function(v,y){return v>1?y:-1}).filter(function(v){return v>=0});if(l.length===0)return Mh(r);var h={x:r},p={reps:o};return ve.runKernel(aN,h,p)}var k2=pe({broadcastTo_:fAe});function lAe(t){var e=te(t,"x","ceil","float32"),r={x:e};return ve.runKernel(mV,r)}var cAe=pe({ceil_:lAe});function hAe(t,e,r){var n=te(t,"x","clipByValue");se(e<=r,function(){return"Error in clip: min ("+e+") must be "+("less than or equal to max ("+r+").")});var a={x:n},s={clipValueMin:e,clipValueMax:r};return ve.runKernel(vV,a,s)}var dAe=pe({clipByValue_:hAe});function pAe(t){return Ga(t,0)}var mAe=pe({concat1d_:pAe});function vAe(t,e){return Ga(t,e)}var gAe=pe({concat2d_:vAe});function yAe(t,e){return Ga(t,e)}var bAe=pe({concat3d_:yAe});function wAe(t,e){return Ga(t,e)}var _Ae=pe({concat4d_:wAe});function xAe(t,e,r,n,a,s,o){a===void 0&&(a="NHWC"),s===void 0&&(s=[1,1]);var u=te(t,"x","conv2d","float32"),l=te(e,"filter","conv2d","float32"),h=u,p=!1;u.rank===3&&(p=!0,h=it(u,[1,u.shape[0],u.shape[1],u.shape[2]])),se(h.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+h.rank+"."}),se(l.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+(l.rank+".")}),Xs("conv2d",n,o);var v=a==="NHWC"?h.shape[3]:h.shape[1];se(v===l.shape[2],function(){return"Error in conv2d: depth of input ("+v+") must match "+("input depth for filter "+l.shape[2]+".")}),se(xf(r,s),function(){return"Error in conv2D: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+s+"'")});var y={x:h,filter:l},S={strides:r,pad:n,dataFormat:a,dilations:s,dimRoundingMode:o},A=ve.runKernel(wV,y,S);return p?it(A,[A.shape[1],A.shape[2],A.shape[3]]):A}var K2=pe({conv2d_:xAe});function SAe(t,e,r,n,a,s,o){a===void 0&&(a="NWC"),s===void 0&&(s=1);var u=te(t,"x","conv1d"),l=te(e,"filter","conv1d"),h=u,p=!1;u.rank===2&&(p=!0,h=it(u,[1,u.shape[0],u.shape[1]])),se(h.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+h.rank+"."}),se(l.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+(l.rank+".")}),Xs("conv1d",n,o),se(h.shape[2]===l.shape[1],function(){return"Error in conv1d: depth of input ("+h.shape[2]+") must match "+("input depth for filter "+l.shape[1]+".")}),se(xf(r,s),function(){return"Error in conv1D: Either stride or dilation must be 1. "+("Got stride "+r+" and dilation '"+s+"'")}),se(a==="NWC",function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."});var v=it(l,[1,l.shape[0],l.shape[1],l.shape[2]]),y=it(h,[h.shape[0],1,h.shape[1],h.shape[2]]),S=[1,r],A=[1,s],T="NHWC",I=K2(y,v,S,n,T,A,o);return p?it(I,[I.shape[2],I.shape[3]]):it(I,[I.shape[0],I.shape[2],I.shape[3]])}var EAe=pe({conv1d_:SAe});function MAe(t,e,r,n,a,s,o){s===void 0&&(s="NHWC"),se(t.length===e.rank,function(){return"Length of inShape "+("("+t.length+") and rank of dy ("+e.rank+") must match")});var u=t,l=e,h=!1;e.rank===3&&(h=!0,l=it(e,[1,e.shape[0],e.shape[1],e.shape[2]]),u=[1,t[0],t[1],t[2]]),se(u.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+(u.length+".")}),se(l.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+("rank "+l.rank)}),se(r.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+("rank "+r.rank)});var p=s==="NHWC"?u[3]:u[1],v=s==="NHWC"?l.shape[3]:l.shape[1];se(p===r.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+p+") must "+("match input depth for filter "+r.shape[2]+".")}),se(v===r.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+v+") must "+("match output depth for filter "+r.shape[3]+".")}),Xs("conv2dDerInput",a,o);var y={dy:l,filter:r},S={strides:n,pad:a,dataFormat:s,dimRoundingMode:o,inputShape:u},A=ve.runKernel(xV,y,S);return h?it(A,[A.shape[1],A.shape[2],A.shape[3]]):A}var CH=pe({conv2DBackpropInput_:MAe});function AAe(t,e,r,n,a,s){var o=te(t,"x","conv2dTranspose"),u=te(e,"filter","conv2dTranspose");return CH(r,o,u,n,a,"NHWC",s)}var kAe=pe({conv2dTranspose_:AAe});function TAe(t,e,r,n,a,s){a===void 0&&(a="NDHWC"),s===void 0&&(s=[1,1,1]);var o=te(t,"x","conv3d"),u=te(e,"filter","conv3d"),l=o,h=!1;o.rank===4&&(h=!0,l=it(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),se(l.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+l.rank+"."}),se(u.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+(u.rank+".")}),se(l.shape[4]===u.shape[3],function(){return"Error in conv3d: depth of input ("+l.shape[4]+") must match "+("input depth for filter "+u.shape[3]+".")}),se(xf(r,s),function(){return"Error in conv3D: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+s+"'")}),se(a==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."});var p={x:l,filter:u},v={strides:r,pad:n,dataFormat:a,dilations:s},y=ve.runKernel(SV,p,v);return h?it(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}var NAe=pe({conv3d_:TAe});function IAe(t,e,r,n,a){se(t.length===e.rank,function(){return"Length of inShape "+("("+t.length+") and rank of dy ("+e.rank+") must match")});var s=t,o=e,u=!1;e.rank===4&&(u=!0,o=it(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),s=[1,t[0],t[1],t[2],t[3]]);var l=s[4],h=o.shape[4];se(s.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+(s.length+".")}),se(o.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+("rank "+o.rank)}),se(r.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+("rank "+r.rank)}),se(l===r.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+l+") must "+("match input depth for filter "+r.shape[3]+".")}),se(h===r.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+h+") must "+("match output depth for filter "+r.shape[4]+".")});var p={dy:o,filter:r},v={pad:a,strides:n,inputShape:s},y=ve.runKernel(EV,p,v);return u?it(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}var DAe=pe({conv3DBackpropInput_:IAe});function OAe(t,e,r,n,a){var s=te(t,"x","conv3dTranspose"),o=te(e,"filter","conv3dTranspose");return DAe(r,s,o,n,a)}var RAe=pe({conv3dTranspose_:OAe});function CAe(t){var e=te(t,"x","cos","float32"),r={x:e};return ve.runKernel(MV,r)}var FAe=pe({cos_:CAe});function BAe(t){var e=te(t,"x","cosh","float32"),r={x:e};return ve.runKernel(AV,r)}var LAe=pe({cosh_:BAe});function PAe(t,e,r,n){e===void 0&&(e=0),r===void 0&&(r=!1),n===void 0&&(n=!1);var a=te(t,"x","cumprod"),s={x:a},o={axis:e,exclusive:r,reverse:n};return ve.runKernel(kV,s,o)}var qAe=pe({cumprod_:PAe});function $Ae(t,e,r,n){e===void 0&&(e=0),r===void 0&&(r=!1),n===void 0&&(n=!1);var a=te(t,"x","cumsum"),s={x:a},o={axis:e,exclusive:r,reverse:n};return ve.runKernel(TV,s,o)}var zAe=pe({cumsum_:$Ae});function jAe(t,e,r,n){n===void 0&&(n=!1);var a=te(t,"x","denseBincount"),s=te(e,"weights","denseBincount");se(a.dtype==="int32",function(){return"Error in denseBincount: input "+("dtype must be int32, but got "+a.dtype)}),se(a.rank<=2,function(){return"Error in denseBincount: input must be at most rank 2, but got "+("rank "+a.rank+".")}),se(r>=0,function(){return"size must be non-negative, but got "+r+"."}),se(s.size===a.size||s.size===0,function(){return"Error in denseBincount: weights must have the same shape as x or "+("0-length, but got x shape: "+a.shape+", weights shape: ")+(s.shape+".")});var o={x:a,weights:s},u={size:r,binaryOutput:n};return ve.runKernel(IV,o,u)}var UAe=pe({denseBincount_:jAe});function VAe(t,e,r){r===void 0&&(r="NHWC");var n=te(t,"x","depthToSpace","float32"),a=r==="NHWC"?n.shape[1]:n.shape[2],s=r==="NHWC"?n.shape[2]:n.shape[3],o=r==="NHWC"?n.shape[3]:n.shape[1];se(e>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+e}),se(a*e>=0,function(){return`Negative dimension size caused by overflow when multiplying
    `+a+" and "+e+`  for depthToSpace with input shape
    `+n.shape}),se(s*e>=0,function(){return`Negative dimension size caused by overflow when multiplying
    `+s+" and "+e+` for depthToSpace with input shape
        `+n.shape}),se(o%(e*e)===0,function(){return"Dimension size must be evenly divisible by "+e*e+" but is "+o+" for depthToSpace with input shape "+n.shape});var u={x:n},l={blockSize:e,dataFormat:r};return ve.runKernel(DV,u,l)}var WAe=pe({depthToSpace_:VAe});function GAe(t,e,r,n,a,s,o){a===void 0&&(a="NHWC"),s===void 0&&(s=[1,1]);var u=te(t,"x","depthwiseConv2d","float32"),l=te(e,"filter","depthwiseConv2d","float32"),h=u,p=!1;u.rank===3&&(p=!0,h=it(u,[1,u.shape[0],u.shape[1],u.shape[2]])),se(h.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+("rank "+h.rank+".")}),se(l.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+(l.rank+".")});var v=a==="NHWC"?h.shape[3]:h.shape[1];se(v===l.shape[2],function(){return"Error in depthwiseConv2d: number of input channels "+("("+v+") must match the inChannels dimension in ")+("filter "+l.shape[2]+".")}),Xs("depthwiseConv2d",n,o);var y={x:h,filter:l},S={strides:r,pad:n,dataFormat:a,dilations:s,dimRoundingMode:o},A=ve.runKernel(OV,y,S);return p?it(A,[A.shape[1],A.shape[2],A.shape[3]]):A}var _N=pe({depthwiseConv2d_:GAe});function HAe(t){var e=te(t,"x","diag"),r={x:e};return ve.runKernel(FV,r)}var KAe=pe({diag_:HAe});function ZAe(t,e,r,n,a,s){a===void 0&&(a=[1,1]),s===void 0&&(s="NHWC");var o=te(t,"x","dilation2d"),u=te(e,"filter","dilation2d");se(o.rank===3||o.rank===4,function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+(o.rank+".")}),se(u.rank===3,function(){return"Error in dilation2d: filter must be rank 3, but got rank "+(u.rank+".")}),se(s==="NHWC",function(){return"Error in dilation2d: Only NHWC is currently supported, "+("but got dataFormat of "+s)});var l=o,h=!1;o.rank===3&&(l=it(o,[1,o.shape[0],o.shape[1],o.shape[2]]),h=!0);var p={x:l,filter:u},v={strides:r,pad:n,dilations:a},y=ve.runKernel(BV,p,v);return h?it(y,[y.shape[1],y.shape[2],y.shape[3]]):y}var JAe=pe({dilation2d_:ZAe});function YAe(t,e){var r,n=te(t,"a","equal","string_or_numeric"),a=te(e,"b","equal","string_or_numeric");r=xt(Bn(n,a),2),n=r[0],a=r[1],di(n.shape,a.shape);var s={a:n,b:a};return ve.runKernel(zV,s)}var FH=pe({equal_:YAe});function XAe(t,e,r){var n=te(e,"a","where"),a=te(r,"b","where"),s=te(t,"condition","where","bool"),o=di(di(s.shape,n.shape),a.shape),u=k2(s,o),l=k2(n,o),h=k2(a,o),p={condition:u,t:l,e:h};return ve.runKernel(QW,p)}var Hp=pe({where_:XAe});function QAe(t){var e=te(t,"x","zerosLike"),r={x:e};return ve.runKernel(IG,r)}var ls=pe({zerosLike_:QAe});function eke(t,e){var r,n=te(t,"a","div"),a=te(e,"b","div");r=xt(Bn(n,a),2),n=r[0],a=r[1];var s=_n(n,a),o=ls(s),u=FH(a,o);return Hp(u,o,s)}var tke=pe({divNoNan_:eke});function rke(t,e){var r=te(t,"t1","dot"),n=te(e,"t2","dot");se((r.rank===1||r.rank===2)&&(n.rank===1||n.rank===2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+(r.rank+" and "+n.rank+".")});var a=r.rank===1?r.size:r.shape[1],s=n.rank===1?n.size:n.shape[0];if(se(a===s,function(){return"Error in dot: inner dimensions of inputs must match, but got "+(a+" and "+s+".")}),r.rank===1&&n.rank===1){var o=it(r,[1,-1]),u=it(n,[-1,1]),l=Pr(o,u);return it(l,[])}else if(r.rank===1&&n.rank===2){var o=it(r,[1,-1]),u=it(n,[n.shape[0],n.shape[1]]),l=Pr(o,u);return it(l,[l.size])}else if(r.rank===2&&n.rank===1){var u=it(n,[-1,1]),l=Pr(r,u);return it(l,[l.size])}else{var u=it(n,[n.shape[0],n.shape[1]]),l=Pr(r,u);return l}}var nke=pe({dot_:rke});function ike(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=e.map(function(s,o){return te(s,"tensors"+o,"einsum")}),a={equation:t};return ve.runKernel(PV,n,a)}var ake=pe({einsum_:ike});function ske(t){var e=te(t,"x","elu","float32"),r={x:e};return ve.runKernel(qV,r)}var BH=pe({elu_:ske});function oke(t){var e=te(t,"x","erf");se(e.dtype==="int32"||e.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),e.dtype==="int32"&&(e=Hn(e,"float32"));var r={x:e};return ve.runKernel($V,r)}var uke=pe({erf_:oke});function xN(t,e){for(var r=0;r<t.length;++r)if(t[t.length-r-1]!==e-1-r)return!1;return!0}function LH(t,e,r){for(var n=t.length+e.length,a=[],s=0,o=0,u=0;u<n;u++)r.indexOf(u)===-1?a.push(t[s++]):a.push(e[o++]);return a}function fke(t,e){for(var r=[],n=t.length,a=0;a<n;a++)e.indexOf(a)===-1&&r.push(t[a]);var s=e.map(function(o){return t[o]});return[r,s]}function fy(t,e){var r=e.map(function(n){return 1});return LH(t,r,e)}function lke(t,e,r){se(xN(e,r),function(){return t+" supports only inner-most axes for now. "+("Got axes "+e+" and rank-"+r+" input.")})}function cke(t,e){if(xN(t,e))return null;for(var r=[],n=0;n<e;++n)t.indexOf(n)===-1&&r.push(n);return t.forEach(function(a){return r.push(a)}),r}function hke(t){return t.map(function(e,r){return[r,e]}).sort(function(e,r){return e[1]-r[1]}).map(function(e){return e[0]})}function dke(t,e){for(var r=[],n=e-t;n<e;++n)r.push(n);return r}function pke(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=te(t,"x","max"),a={x:n},s={reductionIndices:e,keepDims:r};return ve.runKernel(vW,a,s)}var Up=pe({max_:pke});function mke(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=te(t,"x","min"),a={x:n},s={axis:e,keepDims:r};return ve.runKernel(xW,a,s)}var Y4=pe({min_:mke});function vke(t,e){var r,n=te(t,"base","pow"),a=te(e,"exp","pow");r=xt(Bn(n,a),2),n=r[0],a=r[1];var s={a:n,b:a};return ve.runKernel(LW,s)}var Qg=pe({pow_:vke});function qr(t,e){if((ea(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&ea(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");var r=[],n=[];return ql(t,r,n,e)}function gke(t){var e=te(t,"x","sqrt","float32"),r={x:e};return ve.runKernel(oG,r)}var wf=pe({sqrt_:gke});function yke(t){var e=te(t,"x","square"),r={};return ve.runKernel("Square",{x:e},r)}var Vo=pe({square_:yke});function bke(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=te(t,"x","sum");n.dtype==="bool"&&(n=Hn(n,"int32"));var a={x:n},s={axis:e,keepDims:r};return ve.runKernel(uG,a,s)}var wn=pe({sum_:bke});function wke(t,e,r,n){e===void 0&&(e="euclidean"),r===void 0&&(r=null),n===void 0&&(n=!1),t=te(t,"x","norm");var a=PH(t,e,r),s=a.shape;if(n){var o=iy(r,t.shape);s=fy(a.shape,o)}return it(a,s)}function PH(t,e,r){if(r===void 0&&(r=null),t.rank===0)return fs(t);if(t.rank!==1&&r===null)return PH(it(t,[-1]),e,r);if(t.rank===1||typeof r=="number"||Array.isArray(r)&&r.length===1){if(e===1)return wn(fs(t),r);if(e===1/0)return Up(fs(t),r);if(e===-1/0)return Y4(fs(t),r);if(e==="euclidean"||e===2)return wf(wn(Qg(fs(t),qr(2,"int32")),r));throw new Error("Error in norm: invalid ord value: "+e)}if(Array.isArray(r)&&r.length===2){if(e===1)return Up(wn(fs(t),r[0]),r[1]-1);if(e===1/0)return Up(wn(fs(t),r[1]),r[0]);if(e===-1/0)return Y4(wn(fs(t),r[1]),r[0]);if(e==="fro"||e==="euclidean")return wf(wn(Vo(t),r));throw new Error("Error in norm: invalid ord value: "+e)}throw new Error("Error in norm: invalid axis: "+r)}var Z2=pe({norm_:wke});function _ke(t,e,r){return e===void 0&&(e=null),r===void 0&&(r=!1),Z2(t,"euclidean",e,r)}var xke=pe({euclideanNorm_:_ke});function Ske(t){var e=te(t,"x","exp"),r={x:e};return ve.runKernel(jV,r)}var Ih=pe({exp_:Ske});function Eke(t,e){e===void 0&&(e=0);var r=te(t,"x","expandDims","string_or_numeric");se(e<=r.rank,function(){return"Axis must be <= rank of the tensor"});var n={input:r},a={dim:e};return ve.runKernel(UV,n,a)}var wh=pe({expandDims_:Eke});function Mke(t){var e=te(t,"x","expm1"),r={x:e};return ve.runKernel(VV,r)}var Ake=pe({expm1_:Mke});function kke(t,e){var r=te(t,"x","tile","string_or_numeric");se(r.rank===e.length,function(){return"Error in transpose: rank of input "+r.rank+" "+("must match length of reps "+e+".")});var n={x:r},a={reps:e};return ve.runKernel(aN,n,a)}var Vg=pe({tile_:kke});function Tke(t,e,r,n){n===void 0&&(n="float32"),e==null&&(e=t);for(var a=bf([t,e],n),s=t<=e?t:e,o=0;o<s;++o)a.set(1,o,o);var u=it(a.toTensor(),[t,e]);if(r==null)return u;if(r.length===1)return Vg(wh(u,0),[r[0],1,1]);if(r.length===2)return Vg(wh(wh(u,0),0),[r[0],r[1],1,1]);if(r.length===3)return Vg(wh(wh(wh(u,0),0),0),[r[0],r[1],r[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+("batchShapes, but received "+r.length+"D."))}var qH=pe({eye_:Tke});function J2(t,e,r){var n={shape:t,value:e,dtype:r};return ve.runKernel(GV,{},n)}function Nke(t){var e=te(t,"x","floor","float32"),r={x:e};return ve.runKernel(KV,r)}var $H=pe({floor_:Nke});function Ike(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var a=te(t,"x","gather"),s=te(e,"indices","gather","int32"),o={x:a,indices:s},u={axis:r,batchDims:n};return ve.runKernel(YV,o,u)}var zH=pe({gather_:Ike});function Dke(t,e){var r,n=te(t,"a","greater","string_or_numeric"),a=te(e,"b","greater","string_or_numeric");r=xt(Bn(n,a),2),n=r[0],a=r[1],di(n.shape,a.shape);var s={a:n,b:a};return ve.runKernel(QV,s)}var Y2=pe({greater_:Dke});function Oke(t,e){var r,n=te(t,"a","greaterEqual","string_or_numeric"),a=te(e,"b","greaterEqual","string_or_numeric");r=xt(Bn(n,a),2),n=r[0],a=r[1],di(n.shape,a.shape);var s={a:n,b:a};return ve.runKernel(eW,s)}var jH=pe({greaterEqual_:Oke});function Rke(t){var e=te(t,"x","isFinite"),r={x:e};return ve.runKernel(nW,r)}var Cke=pe({isFinite_:Rke});function Fke(t){var e=te(t,"x","isInf"),r={x:e};return ve.runKernel(iW,r)}var Bke=pe({isInf_:Fke});function Lke(t){var e=te(t,"x","isNaN"),r={x:e};return ve.runKernel(aW,r)}var Pke=pe({isNaN_:Lke});function qke(t,e){e===void 0&&(e=.2);var r=te(t,"x","leakyRelu"),n={x:r},a={alpha:e};return ve.runKernel(sW,n,a)}var UH=pe({leakyRelu_:qke});function $ke(t,e){var r,n=te(t,"a","less","string_or_numeric"),a=te(e,"b","less","string_or_numeric");r=xt(Bn(n,a),2),n=r[0],a=r[1],di(n.shape,a.shape);var s={a:n,b:a};return ve.runKernel(oW,s)}var zke=pe({less_:$ke});function jke(t,e){var r,n=te(t,"a","lessEqual","string_or_numeric"),a=te(e,"b","lessEqual","string_or_numeric");r=xt(Bn(n,a),2),n=r[0],a=r[1],di(n.shape,a.shape);var s={a:n,b:a};return ve.runKernel(uW,s)}var SN=pe({lessEqual_:jke});function Uke(t,e,r){if(r<=0)throw new Error("The number of values should be positive.");var n={start:t,stop:e,num:r};return ve.runKernel(fW,{},n)}function Vke(t,e,r,n,a){e===void 0&&(e=5),r===void 0&&(r=1),n===void 0&&(n=1),a===void 0&&(a=.5);var s=te(t,"x","localResponseNormalization");se(s.rank===4||s.rank===3,function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+s.rank+"."}),se(Vp(e),function(){return"Error in localResponseNormalization: depthRadius must be an "+("integer but got depthRadius "+e+".")});var o=s,u=!1;s.rank===3&&(u=!0,o=it(s,[1,s.shape[0],s.shape[1],s.shape[2]]));var l={x:o},h={depthRadius:e,bias:r,alpha:n,beta:a},p=ve.runKernel(mW,l,h);return u?it(p,[p.shape[1],p.shape[2],p.shape[3]]):p}var Wke=pe({localResponseNormalization_:Vke});function Gke(t){var e=te(t,"x","log","float32"),r={x:e};return ve.runKernel(lW,r)}var ey=pe({log_:Gke});function Hke(t){var e=te(t,"x","log1p"),r={x:e};return ve.runKernel(cW,r)}var VH=pe({log1p_:Hke});function Kke(t){return se(Fl(t),function(){return"The f passed in grad(f) must be a function"}),function(e,r){var n=te(e,"x","tf.grad","string_or_numeric"),a=r!=null?te(r,"dy","tf.grad"):null;return ve.tidy(function(){var s=ve.gradients(function(){return t(n)},[n],a),o=s.value,u=s.grads;return a!=null&&pa(o.shape,a.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),X2(u),u[0]})}}function Zke(t){return se(Fl(t),function(){return"The f passed in grads(f) must be a function"}),function(e,r){se(Array.isArray(e),function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"});var n=Jg(e,"args","tf.grads","string_or_numeric"),a=r!=null?te(r,"dy","tf.grads"):null;return ve.tidy(function(){var s=ve.gradients(function(){return t.apply(void 0,Rr(n))},n,a),o=s.value,u=s.grads;return a!=null&&pa(o.shape,a.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),X2(u),u})}}function Jke(t){return se(Fl(t),function(){return"The f passed in valueAndGrad(f) must be a function"}),function(e,r){se(e instanceof ci,function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"}),se(r==null||r instanceof ci,function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"});var n=ve.gradients(function(){return t(e)},[e],r),a=n.grads,s=n.value;return X2(a),{grad:a[0],value:s}}}function Yke(t){return se(Fl(t),function(){return"The f passed in valueAndGrads(f) must be a function"}),function(e,r){se(Array.isArray(e)&&e.every(function(a){return a instanceof ci}),function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"}),se(r==null||r instanceof ci,function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"});var n=ve.gradients(function(){return t.apply(void 0,Rr(e))},e,r);return r!=null&&pa(n.value.shape,r.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),X2(n.grads),n}}function WH(t,e){se(Fl(t),function(){return"The f passed in variableGrads(f) must be a function"}),se(e==null||Array.isArray(e)&&e.every(function(v){return v instanceof Zg}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var r=e!=null;if(!r){e=[];for(var n in ve.registeredVariables)e.push(ve.registeredVariables[n])}var a=r?e.filter(function(v){return!v.trainable}):null,s=e.length;e=e.filter(function(v){return v.trainable}),se(e.length>0,function(){return"variableGrads() expects at least one of the input variables to "+("be trainable, but none of the "+s+" variables is ")+"trainable."});var o=!0,u=ve.gradients(t,e,null,o),l=u.value,h=u.grads;se(h.some(function(v){return v!=null}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),se(l.rank===0,function(){return"The f passed in variableGrads(f) must return a scalar, but it "+("returned a rank-"+l.rank+" tensor")});var p={};return e.forEach(function(v,y){h[y]!=null&&(p[v.name]=h[y])}),a!=null&&a.forEach(function(v){return p[v.name]=null}),{value:l,grads:p}}function Fu(t){return ve.customGrad(t)}function X2(t){var e=t.filter(function(r){return r==null}).length;if(e>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}function Xke(t){var e=te(t,"x","softplus"),r={x:e};return ve.runKernel(sG,r)}var GH=pe({softplus_:Xke});function Qke(t){var e=te(t,"x","logSigmoid"),r=Fu(function(n){var a=yf(GH(yf(n))),s=function(o){var u=vt(o,jp(yf(n)));return u};return{value:a,gradFunc:s}});return r(e)}var eTe=pe({logSigmoid_:Qke});function tTe(t,e){var r,n=te(t,"a","sub"),a=te(e,"b","sub");r=xt(Bn(n,a),2),n=r[0],a=r[1];var s={a:n,b:a};return ve.runKernel(xG,s)}var Xt=pe({sub_:tTe});function rTe(t,e){e===void 0&&(e=-1);var r=te(t,"logits","logSoftmax");if(e===-1&&(e=r.rank-1),e!==r.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+("Logits was rank "+r.rank+" and axis was "+e));var n=Fu(function(a,s){var o=!0,u=Up(a,e,!0),l=Xt(a,u),h=Xt(Hn(l,"float32"),ey(wn(Ih(l),e,o)));s([h]);var p=function(v,y){var S=xt(y,1),A=S[0],T=!0,I=Ih(A);return Xt(v,vt(wn(v,e,T),I))};return{value:h,gradFunc:p}});return n(r)}var nTe=pe({logSoftmax_:rTe});function iTe(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=te(t,"x","logSumExp"),a=iy(e,n.shape),s=Up(n,a,!0),o=Xt(n,s),u=Ih(o),l=wn(u,a),h=ey(l),p=Ot(it(s,h.shape),h);if(r){var v=fy(p.shape,a);return it(p,v)}return p}var HH=pe({logSumExp_:iTe});function aTe(t,e){var r=te(t,"a","logicalAnd","bool"),n=te(e,"b","logicalAnd","bool");di(r.shape,n.shape);var a={a:r,b:n};return ve.runKernel(hW,a)}var q2=pe({logicalAnd_:aTe});function sTe(t){var e=te(t,"x","logicalNot","bool"),r={x:e};return ve.runKernel(dW,r)}var KH=pe({logicalNot_:sTe});function oTe(t,e){var r=te(t,"a","logicalOr","bool"),n=te(e,"b","logicalOr","bool");di(r.shape,n.shape);var a={a:r,b:n};return ve.runKernel(pW,a)}var ZH=pe({logicalOr_:oTe});function uTe(t,e){var r=te(t,"a","logicalXor","bool"),n=te(e,"b","logicalXor","bool");return di(r.shape,n.shape),q2(ZH(t,e),KH(q2(t,e)))}var fTe=pe({logicalXor_:uTe});var S2=2147483648;function lTe(t,e,r){r===void 0&&(r="left");var n=te(t,"sortedSequence","searchSorted"),a=te(e,"values","searchSorted"),s=n.shape[n.shape.length-1],o=a.shape[a.shape.length-1],u=it(n,[-1,s]),l=it(a,[-1,o]);if(u.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(u.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(xn(l.shape)>=S2)throw new Error("values tensor size must less than "+S2);if(u.shape[1]>=S2)throw new Error("trailing dim_size must less than "+S2+" for int32 output type, was "+u.shape[1]);var h={sortedSequence:u,values:l},p={side:r};return ve.runKernel(XW,h,p)}var EN=pe({searchSorted_:lTe});function cTe(t,e){return EN(t,e,"left")}function hTe(t,e,r,n,a){var s=te(t,"x","maxPool"),o=1,u=s,l=!1;s.rank===3&&(l=!0,u=it(s,[1,s.shape[0],s.shape[1],s.shape[2]])),se(u.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+u.rank+"."}),se(xf(r,o),function(){return"Error in maxPool: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+o+"'")}),Xs("maxPool",n,a);var h={x:u},p={filterSize:e,strides:r,pad:n,dimRoundingMode:a},v=ve.runKernel(yW,h,p);return l?it(v,[v.shape[1],v.shape[2],v.shape[3]]):v}var JH=pe({maxPool_:hTe});function dTe(t,e,r,n,a,s){e===void 0&&(e=[1,1,1]),s===void 0&&(s="NDHWC");var o=te(t,"x","maxPool3d"),u=o,l=!1;o.rank===4&&(l=!0,u=it(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),se(u.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."}),se(s==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+("but got dataFormat of "+s)}),Xs("maxPool3d",n,a);var h={x:u},p={filterSize:e,strides:r,pad:n,dimRoundingMode:a,dataFormat:s},v=ve.runKernel(bW,h,p);return l?it(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}var pTe=pe({maxPool3d_:dTe});function mTe(t,e,r,n,a){a===void 0&&(a=!1);var s=te(t,"x","maxPoolWithArgmax"),o={x:s},u={filterSize:e,strides:r,pad:n,includeBatchInIndex:a},l=ve.runKernel(wW,o,u);return{result:l[0],indexes:l[1]}}var vTe=pe({maxPoolWithArgmax_:mTe});function gTe(t,e){var r,n=te(t,"a","maximum"),a=te(e,"b","maximum");r=xt(Bn(n,a),2),n=r[0],a=r[1],n.dtype==="bool"&&(n=Hn(n,"int32"),a=Hn(a,"int32")),di(n.shape,a.shape);var s={a:n,b:a};return ve.runKernel(gW,s)}var YH=pe({maximum_:gTe});function yTe(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=te(t,"x","mean"),a={x:n},s={axis:e,keepDims:r};return ve.runKernel(_W,a,s)}var $2=pe({mean_:yTe});function Kp(t,e){if(e===void 0&&(e="float32"),e==="complex64"){var r=Kp(t,"float32"),n=Kp(t,"float32");return Bl(r,n)}var a=U2(xn(t),e);return ve.makeTensor(a,t,e)}function Eh(t,e){if(e===void 0&&(e="float32"),e==="complex64"){var r=Eh(t,"float32"),n=Kp(t,"float32");return Bl(r,n)}var a=X4(xn(t),e);return ve.makeTensor(a,t,e)}function bTe(t,e,r){var n=(r===void 0?{}:r).indexing,a=n===void 0?"xy":n;if(a!=="xy"&&a!=="ij")throw new TypeError(a+" is not a valid third argument to meshgrid");if(t===void 0)return[];var s=te(t,"x","meshgrid",t instanceof ci?t.dtype:"float32");if(e===void 0)return[s];var o=te(e,"y","meshgrid",e instanceof ci?e.dtype:"float32"),u=xn(s.shape),l=xn(o.shape);return a==="xy"?(s=it(s,[1,-1]),o=it(o,[-1,1]),[Pr(Eh([l,1],s.dtype),s),Pr(o,Eh([1,u],o.dtype))]):(s=it(s,[-1,1]),o=it(o,[1,-1]),[Pr(s,Eh([1,l],s.dtype)),Pr(Eh([u,1],o.dtype),o)])}function wTe(t,e){var r,n=te(t,"a","minimum"),a=te(e,"b","minimum");r=xt(Bn(n,a),2),n=r[0],a=r[1],n.dtype==="bool"&&(n=Hn(n,"int32"),a=Hn(a,"int32")),di(n.shape,a.shape);var s={a:n,b:a};return ve.runKernel(SW,s)}var XH=pe({minimum_:wTe});function _Te(t,e,r){se(r==="reflect"||r==="symmetric",function(){return"Invalid mode. Mode must be either reflect or symmetric. "+("Got "+r+".")});var n=te(t,"x","mirrorPad");if(n.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");se(e.length===n.rank,function(){return"Padding doesn't match input. Must be "+n.rank+". "+("Got "+e.length+".")});for(var a=r==="reflect"?1:0,s=function(h){se(e[h].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),se(e[h][0]>=0&&e[h][0]<=n.shape[h]-a&&e[h][1]>=0&&e[h][1]<=n.shape[h]-a,function(){return"Padding in dimension "+h+" cannot be greater than or equal "+("to "+(n.shape[h]-a)+" or less than 0 for input of ")+("shape "+n.shape)})},o=0;o<n.rank;o++)s(o);var u={paddings:e,mode:r},l={x:n};return ve.runKernel(EW,l,u)}var xTe=pe({mirrorPad_:_Te});function STe(t,e){var r,n=te(t,"a","mod"),a=te(e,"b","mod");r=xt(Bn(n,a),2),n=r[0],a=r[1];var s={a:n,b:a};return ve.runKernel(MW,s)}var ETe=pe({mod_:STe});function MTe(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1),t=te(t,"x","moments");var n=iy(e,t.shape),a=$2(t,n,r),s=a.shape;r||(s=fy(a.shape,n));var o=Vo(Xt(Hn(t,"float32"),it(a,s))),u=$2(o,n,r);return{mean:a,variance:u}}var ATe=pe({moments_:MTe});function kTe(t,e,r,n){for(var a=te(e,"data","multiRNNCell"),s=Jg(r,"c","multiRNNCell"),o=Jg(n,"h","multiRNNCell"),u=a,l=[],h=0;h<t.length;h++){var p=t[h](u,s[h],o[h]);l.push(p[0]),l.push(p[1]),u=p[1]}for(var v=[],y=[],h=0;h<l.length;h+=2)v.push(l[h]),y.push(l[h+1]);return[v,y]}var TTe=pe({multiRNNCell_:kTe});function NTe(t,e,r,n){n===void 0&&(n=!1);var a=te(t,"logits","multinomial"),s=a.size,o=a.rank;if(s<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+(s+"."));if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);r=r||Math.random();var u=o===1?it(a,[1,-1]):a,l={logits:u},h={numSamples:e,seed:r,normalized:n},p=ve.runKernel(AW,l,h);return o===1?it(p,[p.size]):p}var ITe=pe({multinomial_:NTe});function DTe(t,e){var r,n=te(t,"a","notEqual","string_or_numeric"),a=te(e,"b","notEqual","string_or_numeric");r=xt(Bn(n,a),2),n=r[0],a=r[1],di(n.shape,a.shape);var s={a:n,b:a};return ve.runKernel(NW,s)}var QH=pe({notEqual_:DTe});function OTe(t){var e=te(t,"x","onesLike"),r={x:e};return ve.runKernel(RW,r)}var RTe=pe({onesLike_:OTe});function CTe(t,e){var r=te(t,"v1","outerProduct"),n=te(e,"v2","outerProduct");se(r.rank===1&&n.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+(r.rank+" and "+n.rank+".")});var a=it(r,[-1,1]),s=it(n,[1,-1]);return Pr(a,s)}var FTe=pe({outerProduct_:CTe});function BTe(t,e,r){r===void 0&&(r=0);var n=te(t,"x","pad");if(n.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:e,constantValue:r},s={x:n};return ve.runKernel(BW,s,a)}var ly=pe({pad_:BTe});function LTe(t,e,r){return r===void 0&&(r=0),se(e.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),ly(t,[e],r)}var PTe=pe({pad1d_:LTe});function qTe(t,e,r){return r===void 0&&(r=0),se(e.length===2&&e[0].length===2&&e[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),ly(t,e,r)}var $Te=pe({pad2d_:qTe});function zTe(t,e,r){return r===void 0&&(r=0),se(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),ly(t,e,r)}var jTe=pe({pad3d_:zTe});function UTe(t,e,r){return r===void 0&&(r=0),se(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),ly(t,e,r)}var VTe=pe({pad4d_:UTe});function WTe(t,e,r){var n=te(t,"x","spaceToBatchND");se(n.rank>=1+e.length,function(){return"input rank "+n.rank+" should be > than [blockShape] "+e.length}),se(r.length===e.length,function(){return"paddings.shape[0] "+r.length+" must be equal to [blockShape] "+e.length}),se(n.shape.reduce(function(o,u,l){return l>0&&l<=e.length?o&&(u+r[l-1][0]+r[l-1][1])%e[l-1]===0:o},!0),function(){return"input spatial dimensions "+n.shape.slice(1)+" with paddings "+r.toString()+" must be divisible by blockShapes "+e.toString()});var a={x:n},s={blockShape:e,paddings:r};return ve.runKernel(fG,a,s)}var eK=pe({spaceToBatchND_:WTe});function GTe(t,e,r,n,a,s,o){a==null&&(a=[1,1]),s==null&&(s=1),n===0&&(n="valid");var u=te(t,"x","maxPool"),l=u,h=!1;u.rank===3&&(h=!0,l=it(u,[1,u.shape[0],u.shape[1],u.shape[2]])),se(xf(s,a),function(){return"Error in pool: Either strides or dilations must be 1. "+("Got strides "+s+" and dilations '"+a+"'")});var p=TH(l.shape,e,s,a,n),v=[p.dilationHeight,p.dilationWidth],y;n==="same"?y=KTe([p.filterHeight,p.filterWidth],v):y=[[0,0],[0,0]];var S=v[0]===1&&v[1]===1,A=xt(HTe([p.inHeight,p.inWidth],v,y),2),T=A[0],I=A[1],N=S?n:"valid",D=S?l:eK(l,v,T),C=r==="avg"?function(){return DH(D,e,s,N,o)}:function(){return JH(D,e,s,N,o)},L=C(),z=S?L:OH(L,v,I);return h?it(z,[z.shape[1],z.shape[2],z.shape[3]]):z}function HTe(t,e,r){var n=r.map(function(p){return p[0]}),a=r.map(function(p){return p[1]}),s=t.concat(n,a),o=e.map(function(p,v){return(p-s[v]%p)%p}),u=a.map(function(p,v){return p+o[v]}),l=e.map(function(p,v){return[n[v],u[v]]}),h=e.map(function(p,v){return[0,o[v]]});return[l,h]}function KTe(t,e){var r=t.map(function(o,u){return o+(o-1)*(e[u]-1)}),n=r.map(function(o){return o-1}),a=n.map(function(o){return Math.floor(o/2)}),s=n.map(function(o,u){return o-a[u]});return n.map(function(o,u){return[a[u],s[u]]})}var ZTe=pe({pool_:GTe});function JTe(t,e){var r=te(t,"x","prelu"),n=te(e,"alpha","prelu"),a={x:r,alpha:n};return ve.runKernel(PW,a)}var tK=pe({prelu_:JTe});function YTe(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=te(t,"x","prod");n.dtype==="bool"&&(n=Hn(n,"int32"));var a={x:n},s={axis:e,keepDims:r};return ve.runKernel(qW,a,s)}var XTe=pe({prod_:YTe});function QTe(t,e,r){var n=xn(t),a=null;if(r==null||r==="float32")a=new Float32Array(n);else if(r==="int32")a=new Int32Array(n);else if(r==="bool")a=new Uint8Array(n);else throw new Error("Unknown data type "+r);for(var s=0;s<n;s++)a[s]=e();return ve.makeTensor(a,t,r)}var e6e=pe({rand_:QTe}),Ch=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Fh(t){var e={exports:{}};return t(e,e.exports),e.exports}var t6e=Fh(function(t){(function(e,r,n){function a(l){var h=this,p=u();h.next=function(){var v=2091639*h.s0+h.c*23283064365386963e-26;return h.s0=h.s1,h.s1=h.s2,h.s2=v-(h.c=v|0)},h.c=1,h.s0=p(" "),h.s1=p(" "),h.s2=p(" "),h.s0-=p(l),h.s0<0&&(h.s0+=1),h.s1-=p(l),h.s1<0&&(h.s1+=1),h.s2-=p(l),h.s2<0&&(h.s2+=1),p=null}function s(l,h){return h.c=l.c,h.s0=l.s0,h.s1=l.s1,h.s2=l.s2,h}function o(l,h){var p=new a(l),v=h&&h.state,y=p.next;return y.int32=function(){return p.next()*4294967296|0},y.double=function(){return y()+(y()*2097152|0)*11102230246251565e-32},y.quick=y,v&&(typeof v=="object"&&s(v,p),y.state=function(){return s(p,{})}),y}function u(){var l=4022871197,h=function(p){p=String(p);for(var v=0;v<p.length;v++){l+=p.charCodeAt(v);var y=.02519603282416938*l;l=y>>>0,y-=l,y*=l,l=y>>>0,y-=l,l+=y*4294967296}return(l>>>0)*23283064365386963e-26};return h}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.alea=o})(Ch,t,!1)}),r6e=Fh(function(t){(function(e,r,n){function a(u){var l=this,h="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var v=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^v^v>>>8},u===(u|0)?l.x=u:h+=u;for(var p=0;p<h.length+64;p++)l.x^=h.charCodeAt(p)|0,l.next()}function s(u,l){return l.x=u.x,l.y=u.y,l.z=u.z,l.w=u.w,l}function o(u,l){var h=new a(u),p=l&&l.state,v=function(){return(h.next()>>>0)/4294967296};return v.double=function(){do var y=h.next()>>>11,S=(h.next()>>>0)/4294967296,A=(y+S)/(1<<21);while(A===0);return A},v.int32=h.next,v.quick=v,p&&(typeof p=="object"&&s(p,h),v.state=function(){return s(h,{})}),v}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xor128=o})(Ch,t,!1)}),n6e=Fh(function(t){(function(e,r,n){function a(u){var l=this,h="";l.next=function(){var v=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(v^v<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,u===(u|0)?l.x=u:h+=u;for(var p=0;p<h.length+64;p++)l.x^=h.charCodeAt(p)|0,p==h.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function s(u,l){return l.x=u.x,l.y=u.y,l.z=u.z,l.w=u.w,l.v=u.v,l.d=u.d,l}function o(u,l){var h=new a(u),p=l&&l.state,v=function(){return(h.next()>>>0)/4294967296};return v.double=function(){do var y=h.next()>>>11,S=(h.next()>>>0)/4294967296,A=(y+S)/(1<<21);while(A===0);return A},v.int32=h.next,v.quick=v,p&&(typeof p=="object"&&s(p,h),v.state=function(){return s(h,{})}),v}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xorwow=o})(Ch,t,!1)}),i6e=Fh(function(t){(function(e,r,n){function a(u){var l=this;l.next=function(){var p=l.x,v=l.i,y,S;return y=p[v],y^=y>>>7,S=y^y<<24,y=p[v+1&7],S^=y^y>>>10,y=p[v+3&7],S^=y^y>>>3,y=p[v+4&7],S^=y^y<<7,y=p[v+7&7],y=y^y<<13,S^=y^y<<9,p[v]=S,l.i=v+1&7,S};function h(p,v){var y,S=[];if(v===(v|0))S[0]=v;else for(v=""+v,y=0;y<v.length;++y)S[y&7]=S[y&7]<<15^v.charCodeAt(y)+S[y+1&7]<<13;for(;S.length<8;)S.push(0);for(y=0;y<8&&S[y]===0;++y);for(y==8&&(S[7]=-1),p.x=S,p.i=0,y=256;y>0;--y)p.next()}h(l,u)}function s(u,l){return l.x=u.x.slice(),l.i=u.i,l}function o(u,l){u==null&&(u=+new Date);var h=new a(u),p=l&&l.state,v=function(){return(h.next()>>>0)/4294967296};return v.double=function(){do var y=h.next()>>>11,S=(h.next()>>>0)/4294967296,A=(y+S)/(1<<21);while(A===0);return A},v.int32=h.next,v.quick=v,p&&(p.x&&s(p,h),v.state=function(){return s(h,{})}),v}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xorshift7=o})(Ch,t,!1)}),a6e=Fh(function(t){(function(e,r,n){function a(u){var l=this;l.next=function(){var p=l.w,v=l.X,y=l.i,S,A;return l.w=p=p+1640531527|0,A=v[y+34&127],S=v[y=y+1&127],A^=A<<13,S^=S<<17,A^=A>>>15,S^=S>>>12,A=v[y]=A^S,l.i=y,A+(p^p>>>16)|0};function h(p,v){var y,S,A,T,I,N=[],D=128;for(v===(v|0)?(S=v,v=null):(v=v+"\0",S=0,D=Math.max(D,v.length)),A=0,T=-32;T<D;++T)v&&(S^=v.charCodeAt((T+32)%v.length)),T===0&&(I=S),S^=S<<10,S^=S>>>15,S^=S<<4,S^=S>>>13,T>=0&&(I=I+1640531527|0,y=N[T&127]^=S+I,A=y==0?A+1:0);for(A>=128&&(N[(v&&v.length||0)&127]=-1),A=127,T=4*128;T>0;--T)S=N[A+34&127],y=N[A=A+1&127],S^=S<<13,y^=y<<17,S^=S>>>15,y^=y>>>12,N[A]=S^y;p.w=I,p.X=N,p.i=A}h(l,u)}function s(u,l){return l.i=u.i,l.w=u.w,l.X=u.X.slice(),l}function o(u,l){u==null&&(u=+new Date);var h=new a(u),p=l&&l.state,v=function(){return(h.next()>>>0)/4294967296};return v.double=function(){do var y=h.next()>>>11,S=(h.next()>>>0)/4294967296,A=(y+S)/(1<<21);while(A===0);return A},v.int32=h.next,v.quick=v,p&&(p.X&&s(p,h),v.state=function(){return s(h,{})}),v}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xor4096=o})(Ch,t,!1)}),s6e=Fh(function(t){(function(e,r,n){function a(u){var l=this,h="";l.next=function(){var v=l.b,y=l.c,S=l.d,A=l.a;return v=v<<25^v>>>7^y,y=y-S|0,S=S<<24^S>>>8^A,A=A-v|0,l.b=v=v<<20^v>>>12^y,l.c=y=y-S|0,l.d=S<<16^y>>>16^A,l.a=A-v|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,u===Math.floor(u)?(l.a=u/4294967296|0,l.b=u|0):h+=u;for(var p=0;p<h.length+20;p++)l.b^=h.charCodeAt(p)|0,l.next()}function s(u,l){return l.a=u.a,l.b=u.b,l.c=u.c,l.d=u.d,l}function o(u,l){var h=new a(u),p=l&&l.state,v=function(){return(h.next()>>>0)/4294967296};return v.double=function(){do var y=h.next()>>>11,S=(h.next()>>>0)/4294967296,A=(y+S)/(1<<21);while(A===0);return A},v.int32=h.next,v.quick=v,p&&(typeof p=="object"&&s(p,h),v.state=function(){return s(h,{})}),v}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.tychei=o})(Ch,t,!1)}),Bh=Fh(function(t){(function(e,r,n){var a=256,s=6,o=52,u="random",l=n.pow(a,s),h=n.pow(2,o),p=h*2,v=a-1,y;function S(L,z,$){var G=[];z=z==!0?{entropy:!0}:z||{};var j=N(I(z.entropy?[L,C(r)]:L==null?D():L,3),G),Z=new A(G),M=function(){for(var f=Z.g(s),d=l,g=0;f<h;)f=(f+g)*a,d*=a,g=Z.g(1);for(;f>=p;)f/=2,d/=2,g>>>=1;return(f+g)/d};return M.int32=function(){return Z.g(4)|0},M.quick=function(){return Z.g(4)/4294967296},M.double=M,N(C(Z.S),r),(z.pass||$||function(f,d,g,m){return m&&(m.S&&T(m,Z),f.state=function(){return T(Z,{})}),g?(n[u]=f,d):f})(M,j,"global"in z?z.global:this==n,z.state)}function A(L){var z,$=L.length,G=this,j=0,Z=G.i=G.j=0,M=G.S=[];for($||(L=[$++]);j<a;)M[j]=j++;for(j=0;j<a;j++)M[j]=M[Z=v&Z+L[j%$]+(z=M[j])],M[Z]=z;(G.g=function(f){for(var d,g=0,m=G.i,b=G.j,E=G.S;f--;)d=E[m=v&m+1],g=g*a+E[v&(E[m]=E[b=v&b+d])+(E[b]=d)];return G.i=m,G.j=b,g})(a)}function T(L,z){return z.i=L.i,z.j=L.j,z.S=L.S.slice(),z}function I(L,z){var $=[],G=typeof L,j;if(z&&G=="object")for(j in L)try{$.push(I(L[j],z-1))}catch(Z){}return $.length?$:G=="string"?L:L+"\0"}function N(L,z){for(var $=L+"",G,j=0;j<$.length;)z[v&j]=v&(G^=z[v&j]*19)+$.charCodeAt(j++);return C(z)}function D(){try{var L;return y&&(L=y.randomBytes)?L=L(a):(L=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(L)),C(L)}catch(G){var z=e.navigator,$=z&&z.plugins;return[+new Date,e,$,e.screen,C(r)]}}function C(L){return String.fromCharCode.apply(0,L)}if(N(n.random(),r),t.exports){t.exports=S;try{y=f_()}catch(L){}}else n["seed"+u]=S})(typeof self!="undefined"?self:Ch,[],Math)});Bh.alea=t6e;Bh.xor128=r6e;Bh.xorwow=n6e;Bh.xorshift7=i6e;Bh.xor4096=a6e;Bh.tychei=s6e;var MN=Bh;var AN=function(){function t(e,r,n,a,s){this.mean=e,this.stdDev=r,this.dtype=n,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);var o=s||Math.random();this.random=MN.alea(o.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var r,n,a=!1;!a;){var s=void 0,o=void 0,u=void 0;do s=2*this.random()-1,o=2*this.random()-1,u=s*s+o*o;while(u>=1||u===0);var l=Math.sqrt(-2*Math.log(u)/u);r=this.mean+this.stdDev*s*l,n=this.mean+this.stdDev*o*l,(!this.truncated||this.isValidTruncated(r))&&(a=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(r)},t.prototype.convertValue=function(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)},t.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},t}(),o6e=function(){function t(e,r,n,a){this.alpha=e,this.beta=1/r,this.dtype=n;var s=a||Math.random();this.randu=MN.alea(s.toString()),this.randn=new AN(0,1,n,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}return t.prototype.nextValue=function(){for(var e,r,n,a,s,o;;){do a=this.randn.nextValue(),o=1+this.c*a;while(o<=0);if(o*=o*o,e=a*a,r=1-.331*e*e,n=.5*e+this.d*(1-o+Math.log(o)),s=this.randu(),s<r||Math.log(s)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)},t.prototype.convertValue=function(e){return this.dtype==="float32"?e:Math.round(e)},t}(),u6e=function(){function t(e,r,n,a){var s=this;if(e===void 0&&(e=0),r===void 0&&(r=1),this.canReturnFloat=function(){return s.dtype==null||s.dtype==="float32"},this.min=e,this.range=r-e,this.dtype=n,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+r+" <= 1 and dtype is not float");this.random=MN.alea(a)}return t.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},t.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},t}();function f6e(t,e,r,n,a){if(r===void 0&&(r=1),n===void 0&&(n="float32"),r==null&&(r=1),n==null&&(n="float32"),n!=="float32"&&n!=="int32")throw new Error("Unsupported data type "+n);for(var s=new o6e(e,r,n,a),o=bf(t,n),u=0;u<o.values.length;u++)o.values[u]=s.nextValue();return o.toTensor()}var l6e=pe({randomGamma_:f6e});function c6e(t,e,r,n,a){if(e===void 0&&(e=0),r===void 0&&(r=1),n!=null&&n==="bool")throw new Error("Unsupported data type "+n);for(var s=new AN(e,r,n,!1,a),o=bf(t,n),u=0;u<o.values.length;u++)o.values[u]=s.nextValue();return o.toTensor()}var rK=pe({randomNormal_:c6e});function h6e(t,e,r){if(e!=null&&e==="bool")throw new Error("Unsupported data type "+e);return rK(t,0,1,e,r)}var d6e=pe({randomStandardNormal_:h6e});function p6e(t,e,r,n,a){e===void 0&&(e=0),r===void 0&&(r=1),n===void 0&&(n="float32");for(var s=bf(t,n),o=new u6e(e,r,null,a),u=0;u<s.values.length;u++)s.values[u]=o.nextValue();return s.toTensor()}var nK=pe({randomUniform_:p6e});function ty(t,e,r,n){if(r===void 0&&(r=1),n===void 0&&(n="float32"),r===0)throw new Error("Cannot have a step of zero");var a={start:t,stop:e,step:r,dtype:n};return ve.runKernel($W,{},a)}function m6e(t){var e=te(t,"x","reciprocal"),r={x:e};return ve.runKernel(jW,r)}var v6e=pe({reciprocal_:m6e});function g6e(t){var e=te(t,"x","relu"),r={x:e};return ve.runKernel(UW,r)}var Q2=pe({relu_:g6e});function y6e(t){var e=te(t,"x","relu6"),r={x:e};return ve.runKernel(HW,r)}var iK=pe({relu6_:y6e});function b6e(t,e){var r=te(t,"x","reverse"),n={x:r},a={dims:e};return ve.runKernel(KW,n,a)}var Dh=pe({reverse_:b6e});function w6e(t){var e=te(t,"x","reverse");return se(e.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+e.rank+"."}),Dh(e,0)}var _6e=pe({reverse1d_:w6e});function x6e(t,e){var r=te(t,"x","reverse");return se(r.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+r.rank+"."}),Dh(r,e)}var S6e=pe({reverse2d_:x6e});function E6e(t,e){var r=te(t,"x","reverse");return se(r.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+r.rank+"."}),Dh(r,e)}var M6e=pe({reverse3d_:E6e});function A6e(t,e){var r=te(t,"x","reverse");return se(r.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+r.rank+"."}),Dh(r,e)}var k6e=pe({reverse4d_:A6e});function T6e(t){var e=te(t,"x","round"),r={x:e};return ve.runKernel(ZW,r)}var aK=pe({round_:T6e});function N6e(t){var e=te(t,"x","rsqrt","float32"),r={x:e};return ve.runKernel(JW,r)}var I6e=pe({rsqrt_:N6e});function D6e(t){var e=te(t,"x","selu"),r={x:e};return ve.runKernel(eG,r)}var O6e=pe({selu_:D6e});function R6e(t,e,r,n,a,s,o){s===void 0&&(s=[1,1]),o===void 0&&(o="NHWC");var u=te(t,"x","separableConv2d"),l=te(e,"depthwiseFilter","separableConv2d"),h=te(r,"pointwiseFilter","separableConv2d"),p=u,v=!1;if(u.rank===3&&(v=!0,p=it(u,[1,u.shape[0],u.shape[1],u.shape[2]])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");se(p.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got "+("rank "+p.rank+".")}),se(l.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+("got rank "+l.rank+".")}),se(h.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+("got rank "+l.rank+".")}),se(h.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter "+(" must be 1, but got "+h.shape[0]+".")}),se(h.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise "+("filter must be 1, but got "+h.shape[1]+".")});var y=l.shape[2],S=l.shape[3];se(h.shape[2]===y*S,function(){return"Error in separableConv2d: the third dimension of pointwise filter "+("must be "+y*S+", ")+("but got "+h.shape[2]+".")});var A=_N(p,l,n,a,o,s),T=1,I=K2(A,h,T,"valid",o);return v?it(I,[I.shape[1],I.shape[2],I.shape[3]]):I}var C6e=pe({separableConv2d_:R6e});function F6e(t,e){return Et(this,void 0,void 0,function(){var r,n,a,s,o,u,p,l,h,p,v;return Mt(this,function(y){switch(y.label){case 0:return r=te(t,"x","setdiff1d"),n=te(e,"y","setdiff1d"),se(r.dtype===n.dtype,function(){return"x and y should have the same dtype, but got x ("+r.dtype+") and y ("+n.dtype+")."}),se(r.rank===1,function(){return"x should be 1D tensor, but got x ("+r.shape+")."}),se(n.rank===1,function(){return"y should be 1D tensor, but got y ("+n.shape+")."}),[4,r.data()];case 1:return a=y.sent(),[4,n.data()];case 2:for(s=y.sent(),o=new Set(s),u=0,p=0;p<a.length;p++)o.has(a[p])||u++;for(l=new C2([u],r.dtype),h=new C2([u],"int32"),p=0,v=0;p<a.length;p++)o.has(a[p])||(l.values[v]=a[p],h.values[v]=p,v++);return[2,[l.toTensor(),h.toTensor()]]}})})}var B6e=F6e;function L6e(t){var e=te(t,"x","sign"),r={x:e};return ve.runKernel(iG,r)}var P6e=pe({sign_:L6e});function q6e(t){var e=te(t,"x","sin","float32"),r={x:e};return ve.runKernel(rG,r)}var $6e=pe({sin_:q6e});function z6e(t){var e=te(t,"x","sinh"),r={x:e};return ve.runKernel(nG,r)}var j6e=pe({sinh_:z6e});function U6e(t,e,r){var n=te(t,"x","slice1d");return se(n.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+n.rank+" tensor"}),Dn(n,[e],[r])}var V6e=pe({slice1d_:U6e});function W6e(t,e,r){var n=te(t,"x","slice2d");return se(n.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+n.rank+" tensor"}),Dn(n,e,r)}var G6e=pe({slice2d_:W6e});function H6e(t,e,r){var n=te(t,"x","slice3d");return se(n.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+n.rank+" tensor"}),Dn(n,e,r)}var K6e=pe({slice3d_:H6e});function Z6e(t,e,r){var n=te(t,"x","slice4d");return se(n.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+n.rank+" tensor"}),Dn(n,e,r)}var J6e=pe({slice4d_:Z6e});function Y6e(t,e){e===void 0&&(e=-1);var r=te(t,"logits","softmax","float32");if(e===-1&&(e=r.rank-1),e!==r.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+("Logits was rank "+r.rank+" and dim was "+e));var n={logits:r},a={dim:e};return ve.runKernel(cG,n,a)}var X6e=pe({softmax_:Y6e});function Q6e(t){se(t.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 "+("but got "+t.dtype+".")});var e={input:t};return ve.runKernel(WV,e)}var kN=pe({fft_:Q6e});function e4e(t){se(t.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 "+("but got "+t.dtype+".")});var e={input:t};return ve.runKernel(tW,e)}var z2=pe({ifft_:e4e});function t4e(t){var e=t.shape[t.shape.length-1],r=t.size/e,n;if(e<=2){var a=it(t,[r,e]);n=z2(a)}else{var s=[r,2*(e-1)],o=it(Yg(t),[r,e]),u=it(G2(t),[r,e]),l=Dh(Dn(o,[0,1],[r,e-2]),1),h=vt(Dh(Dn(u,[0,1],[r,e-2]),1),qr(-1)),p=Ga([o,l],1),v=Ga([u,h],1),a=it(Bl(p,v),[s[0],s[1]]);n=z2(a)}if(n=Yg(n),t.rank===3&&t.shape[0]!==0){var y=n,S=t.shape[0];n=it(n,[S,n.shape[0]/S,n.shape[1]]),y.dispose()}return n}var sK=pe({irfft_:t4e});function r4e(t,e,r){r===void 0&&(r=0);var n=te(t,"x","split"),a={x:n},s={numOrSizeSplits:e,axis:r};return ve.runKernel(lG,a,s)}var ry=pe({split_:r4e});function n4e(t,e){se(t.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+t.dtype});var r=t.shape[t.shape.length-1],n=t.size/r,a;if(e!=null&&e<r){var s=t.shape.map(function(N){return 0}),o=t.shape.map(function(N){return N});o[t.shape.length-1]=e,a=Dn(t,s,o),r=e}else if(e!=null&&e>r){var u=t.shape.map(function(N){return N});u[t.shape.length-1]=e-r,a=Ga([t,Kp(u)],t.shape.length-1),r=e}else a=t;var l=ls(a),h=it(Bl(a,l),[n,r]),p=kN(h),v=Math.floor(r/2)+1,y=Yg(p),S=G2(p),A=ry(y,[v,r-v],y.shape.length-1),T=ry(S,[v,r-v],S.shape.length-1),I=a.shape.slice();return I[a.shape.length-1]=v,it(Bl(A[0],T[0]),I)}var TN=pe({rfft_:n4e});function i4e(t,e){var r,n=te(t,"a","squaredDifference"),a=te(e,"b","squaredDifference");r=xt(Bn(n,a),2),n=r[0],a=r[1],di(n.shape,a.shape);var s={a:n,b:a},o={};return ve.runKernel(gG,s,o)}var oK=pe({squaredDifference_:i4e});function a4e(t,e){var r=te(t,"x","squeeze","string_or_numeric");return it(r,qU(r.shape,e).newShape)}var NN=pe({squeeze_:a4e});function s4e(t,e){e===void 0&&(e=0);var r=Jg(t,"tensors","stack","string_or_numeric");se(r.length>=1,function(){return"Pass at least one tensor to tf.stack"}),r.length>0&&se(e<=r[0].rank,function(){return"Axis must be <= rank of the tensor"});var n=r,a={axis:e};return ve.runKernel(FW,n,a)}var ny=pe({stack_:s4e});function o4e(t,e){e===void 0&&(e=0);var r=te(t,"x","step"),n={x:r},a={alpha:e};return ve.runKernel(DG,n,a)}var uK=pe({step_:o4e});function u4e(t,e,r,n,a,s,o,u,l){a===void 0&&(a=0),s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=0),l===void 0&&(l=0);var h=te(t,"x","stridedSlice","string_or_numeric"),p={x:h},v={begin:e,end:r,strides:n,beginMask:a,endMask:s,ellipsisMask:o,newAxisMask:u,shrinkAxisMask:l};return ve.runKernel(yG,p,v)}var f4e=pe({stridedSlice_:u4e});function l4e(t){var e=te(t,"x","tan","float32"),r={x:e};return ve.runKernel(SG,r)}var c4e=pe({tan_:l4e});function Uo(t,e){Oh(t);var r=Cu(t,e);if(r.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");var n=null;return ql(t,n,r,e)}function Wg(t,e,r){if(Oh(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var n=Cu(t,r);if(n.length!==2&&n.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return ql(t,e,n,r)}function h4e(t,e,r){if(Oh(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var n=Cu(t,r);if(n.length!==4&&n.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return ql(t,e,n,r)}function d4e(t,e,r){if(Oh(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var n=Cu(t,r);if(n.length!==5&&n.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return ql(t,e,n,r)}function p4e(t,e,r){if(Oh(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var n=Cu(t,r);if(n.length!==6&&n.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||n,ql(t,e,n,r)}function m4e(t,e,r){e===void 0&&(e=1),r===void 0&&(r=!0);var n=te(t,"x","topk");if(n.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var a=n.shape[n.shape.length-1];if(e<0)throw new Error("'k' passed to topk() must be >= 0 but got "+e);if(e>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") "+("but got "+e));var s={x:n},o={k:e,sorted:r},u=xt(ve.runKernel(MG,s,o),2),l=u[0],h=u[1];return{values:l,indices:h}}var v4e=pe({topk_:m4e});function g4e(t,e,r,n,a){if(e===void 0&&(e=0),r===void 0&&(r=1),n!=null&&n==="bool")throw new Error("Unsupported data type $ { dtype }");for(var s=new AN(e,r,n,!0,a),o=bf(t,n),u=0;u<o.values.length;u++)o.values[u]=s.nextValue();return o.toTensor()}var y4e=pe({truncatedNormal_:g4e});function b4e(t,e){e===void 0&&(e=0);var r=te(t,"x","unique","string_or_numeric");se(r.rank>0,function(){return"The input tensor must be at least 1D"});var n={x:r},a={axis:e},s=xt(ve.runKernel(kG,n,a),2),o=s[0],u=s[1];return{values:o,indices:u}}var w4e=pe({unique_:b4e});function _4e(t,e,r){var n=te(t,"x","unsortedSegmentSum"),a=te(e,"segmentIds","unsortedSegmentSum","int32");se(Vp(r),function(){return"numSegments must be of dtype int"});var s={x:n,segmentIds:a},o={numSegments:r};return ve.runKernel(NG,s,o)}var x4e=pe({unsortedSegmentSum_:_4e});function S4e(t,e){e===void 0&&(e=0);var r=te(t,"x","unstack","string_or_numeric");se(e>=-r.shape.length&&e<r.shape.length,function(){return"Axis = "+e+" is not in [-"+r.shape.length+", "+r.shape.length+")"});var n={value:r},a={axis:e};return ve.runKernel(TG,n,a)}var IN=pe({unstack_:S4e});function E4e(t,e){return EN(t,e,"right")}function M4e(t,e,r,n){return e===void 0&&(e=!0),ve.makeVariable(t,e,r,n)}function fK(t,e){for(var r=[],n=0;n<e.length;n++)e[n]&&r.push(n);for(var a=bf(t,"int32"),s=bf([r.length,t.length],"int32"),n=0;n<r.length;n++){var o=a.indexToLoc(r[n]),u=n*t.length;s.values.set(o,u)}return s.toTensor()}function A4e(t){return Et(this,void 0,void 0,function(){var e,r,n;return Mt(this,function(a){switch(a.label){case 0:return e=te(t,"condition","whereAsync","bool"),[4,e.data()];case 1:return r=a.sent(),n=fK(e.shape,r),t!==e&&e.dispose(),[2,n]}})})}var lK=A4e;function k4e(t,e,r){return Et(this,void 0,void 0,function(){var n,a,s,o,u,l,h,p,v,y,S,A,T;return Mt(this,function(I){switch(I.label){case 0:for(n=te(t,"tensor","boolMask"),a=te(e,"mask","boolMask","bool"),s=r==null?0:r,o=a.rank,u=n.shape,se(o>0,function(){return"mask cannot be scalar"}),pa(u.slice(s,s+o),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),l=1,h=s;h<s+o;h++)l*=u[h];return p=u.slice(0,s).concat([l],u.slice(s+o)),v=it(n,p),y=it(a,[-1]),[4,lK(y)];case 1:return S=I.sent(),A=NN(S,[1]),T=zH(v,A,s),t!==n&&n.dispose(),e!==a&&a.dispose(),A.dispose(),v.dispose(),y.dispose(),S.dispose(),[2,T]}})})}var T4e=k4e;function N4e(t,e,r,n,a){a===void 0&&(a=!0);var s=te(t,"v","movingAverage"),o=te(e,"x","movingAverage"),u=te(r,"decay","movingAverage");zG(s,o),se(Pl(s.shape,o.shape),function(){return"Shape mismatch in v and x"});var l=qr(1),h=Xt(l,u),p=vt(Xt(o,s),h);if(a){se(n!=null,function(){return"When using zeroDebias: true, step is required."});var v=te(n,"step","movingAverage");p=_n(p,Xt(l,Qg(u,v)))}return Ot(s,p)}var I4e=pe({movingAverage_:N4e});function D4e(t,e,r){var n=te(t,"indices","scatterND","int32"),a=te(e,"updates","scatterND");gN(a,n,r);var s={indices:n,updates:a},o={shape:r};return ve.runKernel(YW,s,o)}var O4e=pe({scatterND_:D4e});function R4e(t,e,r,n){if(t.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+(" but the dtype was "+t.dtype+"."));if(t.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+(" but got shape "+t.shape+"."));var a=t.rank>0?t.shape[0]:1,s=t.rank>1?t.shape[1]:1;if(r.length!==s)throw new Error("outputShape has incorrect number of elements:,"+(" "+r.length+", should be: "+s+"."));var o=e.size;if(!(e.rank===0||e.rank===1&&o===a))throw new Error("sparseValues has incorrect shape "+(e.shape+", should be [] or ["+a+"]"));if(e.dtype!==n.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}function C4e(t,e,r,n){n===void 0&&(n=0);var a=te(t,"sparseIndices","sparseToDense","int32"),s=te(e,"sparseValues","sparseToDense","string_or_numeric"),o=te(n,"defaultValue","sparseToDense",s.dtype);R4e(a,s,r,o);var u={sparseIndices:a,sparseValues:s,defaultValue:o},l={outputShape:r};return ve.runKernel(vG,u,l)}var F4e=pe({sparseToDense_:C4e});function B4e(t,e){var r=te(e,"indices","gatherND","int32"),n=te(t,"x","gatherND","string_or_numeric"),a={params:n,indices:r};return ve.runKernel(XV,a)}var L4e=pe({gatherND_:B4e});function P4e(t,e){if(e==null)return t.shape.slice();if(Pl(t.shape,e))return e;if(t.shape.length===e.length){for(var r=[],n=0;n<t.shape.length;n++)e[n]==null&&t.shape[n]!=null?r.push(t.shape[n]):r.push(e[n]);return r}return e}function q4e(t,e,r,n){var a=te(t,"x","dropout");if(se(a.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be "+("scaled, but got a "+a.dtype+" tensor instead.")}),se(e>=0&&e<1,function(){return"rate must be a float in the range [0, 1), but got "+e+"."}),e===0)return t instanceof ci?a.clone():a;var s=P4e(a,r),o=1-e,u=_n($H(Ot(nK(s,0,1,"float32",n),o)),o);return vt(a,u)}var $4e=pe({dropout_:q4e});function cK(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function DN(t,e,r){for(var n=1-t%2,a=new Float32Array(t),s=0;s<t;++s){var o=2*Math.PI*s/(t+n-1);a[s]=e-r*Math.cos(o)}return Uo(a,"float32")}function z4e(t,e,r){return r===void 0&&(r=1),Et(this,void 0,void 0,function(){var n,a,s,o,u,l,h,p,v,y,S,A,T,I,I;return Mt(this,function(N){switch(N.label){case 0:return n=te(t,"predictions","inTopK"),a=te(e,"targets","inTopK"),se(n.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+("but got "+n.rank)}),se(n.rank-1===a.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+(n.rank+" and targets rank "+a.rank)}),pa(n.shape.slice(0,n.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),s=n.shape[n.shape.length-1],se(r>0&&r<=s,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+("dimension ("+s+"), but got "+r)}),[4,n.data()];case 1:return o=N.sent(),[4,a.data()];case 2:for(u=N.sent(),l=xt([o.length/s,s],2),h=l[0],p=l[1],v=$U("bool",h),y=0;y<h;y++){for(S=y*p,A=o.subarray(S,S+p),T=[],I=0;I<A.length;I++)T.push({value:A[I],index:I});for(T.sort(function(D,C){return C.value-D.value}),v[y]=0,I=0;I<r;I++)if(T[I].index===u[y]){v[y]=1;break}}return t!==n&&n.dispose(),e!==a&&a.dispose(),[2,qp(v,a.shape,"bool")]}})})}var j4e=z4e;function U4e(t,e,r,n,a,s,o){s===void 0&&(s="NHWC");var u=t;t.rank===3&&(u=it(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var l=e;l.rank===3&&(l=it(e,[1,e.shape[0],e.shape[1],e.shape[2]])),se(u.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+(u.shape+".")}),se(l.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+(l.shape+".")}),se(r.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+(r+".")});var h=s==="NHWC"?u.shape[3]:u.shape[1],p=s==="NHWC"?l.shape[3]:l.shape[1];se(h===r[2],function(){return"Error in conv2dDerFilter: depth of input "+h+") must "+("match input depth in filter ("+r[2]+".")}),se(p===r[3],function(){return"Error in conv2dDerFilter: depth of dy ("+p+") must "+("match output depth for filter ("+r[3]+").")}),Xs("conv2dDerFilter",a,o);var v={x:u,dy:l},y={strides:n,pad:a,dataFormat:s,dimRoundingMode:o,filterShape:r};return ve.runKernel(_V,v,y)}var V4e=pe({conv2DBackpropFilter_:U4e});function ex(t,e,r){if(r==null||r==="linear")return t;if(r==="relu")return vt(t,uK(e));throw new Error("Cannot compute gradient for fused activation "+r+".")}function tx(t,e){var r=e,n=mN(t.shape,e.shape);return n.length>0&&(r=wn(r,n)),it(r,t.shape)}function rx(t,e,r,n){if(e==="linear")return t;if(e==="relu")return Q2(t);if(e==="elu")return BH(t);if(e==="relu6")return iK(t);if(e==="prelu")return tK(t,r);if(e==="leakyrelu")return UH(t,n);if(e==="sigmoid")return jp(t);throw new Error("Unknown fused activation "+e+".")}var nx=function(t,e){var r=t>0;return!r||e==="linear"};function W4e(t){var e,r=t.x,n=t.filter,a=t.strides,s=t.pad,o=t.dataFormat,u=o===void 0?"NHWC":o,l=t.dilations,h=l===void 0?[1,1]:l,p=t.dimRoundingMode,v=t.bias,y=t.activation,S=y===void 0?"linear":y,A=t.preluActivationWeights,T=t.leakyreluAlpha;if(S=S||"linear",nx(ve.state.gradientDepth,S)===!1){se(u==="NHWC",function(){return"Error in fused conv2d: got dataFormat of "+u+" but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."});var I=K2(r,n,a,s,u,h,p);return v!=null&&(I=Ot(I,v)),rx(I,S,A,T)}var N=te(r,"x","conv2d","float32"),D=te(n,"filter","conv2d","float32"),C=N,L=!1;N.rank===3&&(L=!0,C=it(N,[1,N.shape[0],N.shape[1],N.shape[2]])),se(C.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+(C.rank+".")}),se(D.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+(D.rank+".")}),Xs("fused conv2d",s,p);var z=u==="NHWC"?C.shape[3]:C.shape[1];se(D.shape[2]===z,function(){return"Error in conv2d: depth of input ("+z+") must match "+("input depth for filter "+D.shape[2]+".")}),se(xf(a,h),function(){return"Error in conv2D: Either strides or dilations must be 1. "+("Got strides "+a+" and dilations '"+h+"'")});var $=uy(C.shape,D.shape,a,h,s,p),G;v!=null&&(G=te(v,"bias","fused conv2d"),e=xt(Bn(G,N),1),G=e[0],u==="NHWC"?di($.outShape,G.shape):(se(G.shape.length<=1,function(){return"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+("rank-"+G.shape.length+".")}),se(G.shape.length===0||G.shape[0]===$.outChannels||G.shape[0]===1,function(){return"Error in fused conv2d: bias shape ("+G.shape+") is not compatible with the number of output channels "+("("+$.outChannels+")")})));var j;if(A!=null){var Z=A.shape;if(se(Z.length<=1||Z.length===3,function(){return"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+("rank-"+Z.length+".")}),Z.length===1)se(Z[0]===1||Z[0]===$.outChannels,function(){return"Error in fused conv2d: PReLU activation weights "+("("+Z+") is not compatible with the number of output ")+("channels ("+$.outChannels+").")});else if(Z.length===3)try{di(Z,$.outShape)}catch(E){var M="Error in fused conv2d: PReLU activation weights ("+Z+") is not compatible with the output shape of the conv2d "+("("+$.outShape+").");throw Error(M)}j=te(A,"prelu weights","fused conv2d")}var f=function(E,k){se(u==="NHWC",function(){return"Error in gradient of fused conv2D: got dataFormat of "+u+" but only NHWC is currently supported."});var w=xt(k,4),c=w[0],_=w[1],R=w[2],O=w[3],F=ex(E,R,S);se(Xg(h),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+("are not yet supported in gradients. Got dilations '"+h+"'")});var U=CH(_.shape,F,c,a,s),H=V4e(_,F,c.shape,a,s),J=[U,H];if(O!=null){var fe=tx(O,F);J.push(fe)}return J},d={x:C,filter:D,bias:G,preluActivationWeights:j},g={strides:a,pad:s,dataFormat:u,dilations:h,dimRoundingMode:p,activation:S,leakyreluAlpha:T};if(v==null){var m=Fu(function(E,k,w){var c=ve.runKernel(I4,d,g);return w([k,E,c]),L&&(c=it(c,[c.shape[1],c.shape[2],c.shape[3]])),{value:c,gradFunc:f}});return m(C,D)}else{var b=Fu(function(E,k,w,c){var _=ve.runKernel(I4,d,g);return c([k,E,_,w]),L&&(_=it(_,[_.shape[1],_.shape[2],_.shape[3]])),{value:_,gradFunc:f}});return b(C,D,G)}}var G4e=pe({fusedConv2d_:W4e});function H4e(t,e,r,n,a,s,o){s===void 0&&(s=[1,1]);var u=t;t.rank===3&&(u=it(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var l=e;l.rank===3&&(l=it(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var h={x:u,dy:l},p={strides:n,pad:a,dimRoundingMode:o,dilations:s,filterShape:r};return ve.runKernel(RV,h,p)}var K4e=pe({depthwiseConv2dNativeBackpropFilter_:H4e});function Z4e(t,e,r,n,a,s,o){s===void 0&&(s=[1,1]);var u=e,l=!1;e.rank===3&&(l=!0,u=it(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var h={dy:u,filter:r},p={strides:n,pad:a,dimRoundingMode:o,dilations:s,inputShape:t},v=ve.runKernel(CV,h,p);return l?it(v,[v.shape[1],v.shape[2],v.shape[3]]):v}var J4e=pe({depthwiseConv2dNativeBackpropInput_:Z4e});function Y4e(t){var e,r=t.x,n=t.filter,a=t.strides,s=t.pad,o=t.dataFormat,u=o===void 0?"NHWC":o,l=t.dilations,h=l===void 0?[1,1]:l,p=t.dimRoundingMode,v=t.bias,y=t.activation,S=y===void 0?"linear":y,A=t.preluActivationWeights,T=t.leakyreluAlpha;if(nx(ve.state.gradientDepth,S)===!1){var I=_N(r,n,a,s,u,h,p);return v!=null&&(I=Ot(I,v)),rx(I,S,A,T)}var N=te(r,"x","depthwiseConv2d","float32"),D=te(n,"filter","depthwiseConv2d","float32"),C=N,L=!1;N.rank===3&&(L=!0,C=it(N,[1,N.shape[0],N.shape[1],N.shape[2]])),se(C.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+("rank "+C.rank+".")}),se(D.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+("but got rank "+D.rank+".")}),se(C.shape[3]===D.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels "+("("+C.shape[3]+") must match the inChannels dimension in ")+("filter "+D.shape[2]+".")}),h==null&&(h=[1,1]),se(xf(a,h),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+("be 1. Got strides "+a+" and dilations '"+h+"'")}),Xs("fused depthwiseConv2d",s,p);var z=uy(C.shape,D.shape,a,h,s,p,!0),$;v!=null&&($=te(v,"bias","fused conv2d"),e=xt(Bn($,N),1),$=e[0],di(z.outShape,$.shape));var G;A!=null&&(G=te(A,"prelu weights","fused depthwiseConv2d"));var j=function(g,m){se(Xg(h),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+("'"+h+"'")});var b=xt(m,4),E=b[0],k=b[1],w=b[2],c=b[3],_=ex(g,w,S),R=J4e(k.shape,_,E,a,s,h,p),O=K4e(k,_,E.shape,a,s,h,p);if(c!=null){var F=tx($,_);return[R,O,F]}return[R,O]},Z={x:C,filter:D,bias:$,preluActivationWeights:G},M={strides:a,pad:s,dataFormat:u,dilations:h,dimRoundingMode:p,activation:S,leakyreluAlpha:T};if(v==null){var f=Fu(function(g,m,b){var E=ve.runKernel(D4,Z,M);return b([m,g,E]),L&&(E=it(E,[E.shape[1],E.shape[2],E.shape[3]])),{value:E,gradFunc:j}});return f(C,D)}else{var d=Fu(function(g,m,b,E){var k=ve.runKernel(D4,Z,M);return E([m,g,k,b]),L&&(k=it(k,[k.shape[1],k.shape[2],k.shape[3]])),{value:k,gradFunc:j}});return d(C,D,$)}}var X4e=pe({fusedDepthwiseConv2d_:Y4e});function Q4e(t){var e,r,n=t.a,a=t.b,s=t.transposeA,o=s===void 0?!1:s,u=t.transposeB,l=u===void 0?!1:u,h=t.bias,p=t.activation,v=p===void 0?"linear":p,y=t.preluActivationWeights,S=t.leakyreluAlpha,A=S===void 0?.2:S;if(nx(ve.state.gradientDepth,v)===!1){var T=Pr(n,a,o,l);return h!=null&&(T=Ot(T,h)),rx(T,v,y,A)}var I=te(n,"a","fused matMul"),N=te(a,"b","fused matMul");e=xt(Bn(I,N),2),I=e[0],N=e[1];var D=o?I.shape[I.rank-2]:I.shape[I.rank-1],C=l?N.shape[N.rank-1]:N.shape[N.rank-2],L=o?I.shape[I.rank-1]:I.shape[I.rank-2],z=l?N.shape[N.rank-2]:N.shape[N.rank-1],$=I.shape.slice(0,-2),G=N.shape.slice(0,-2),j=xn($),Z=xn(G);se(D===C,function(){return"Error in fused matMul: inner shapes ("+D+") and ("+(C+") of Tensors with shapes "+I.shape+" and ")+(N.shape+" and transposeA="+o)+(" and transposeB="+l+" must match.")});var M=di(I.shape.slice(0,-2),N.shape.slice(0,-2)),f=M.concat([L,z]),d=o?it(I,[j,D,L]):it(I,[j,L,D]),g=l?it(N,[Z,z,C]):it(N,[Z,C,z]),m;h!=null&&(m=te(h,"bias","fused matMul"),r=xt(Bn(m,I),1),m=r[0],di(f,m.shape));var b;y!=null&&(b=te(y,"prelu weights","fused matMul"));var E=function(R,O){var F=xt(O,4),U=F[0],H=F[1],J=F[2],fe=F[3],B=ex(it(R,J.shape),J,v),q,Y;if(!o&&!l?(q=Pr(B,H,!1,!0),Y=Pr(U,B,!0,!1)):!o&&l?(q=Pr(B,H,!1,!1),Y=Pr(B,U,!0,!1)):o&&!l?(q=Pr(H,B,!1,!0),Y=Pr(U,B,!1,!1)):(q=Pr(H,B,!0,!0),Y=Pr(B,U,!0,!0)),h!=null){var X=tx(fe,B);return[q,Y,X]}else return[q,Y]},k={a:d,b:g,bias:m,preluActivationWeights:b},w={transposeA:o,transposeB:l,activation:v,leakyreluAlpha:A};if(h==null){var c=Fu(function(R,O,F){var U=ve.runKernel(N4,k,w);return F([R,O,U]),{value:it(U,f),gradFunc:E}});return c(d,g)}else{var _=Fu(function(R,O,F,U){var H=ve.runKernel(N4,k,w);return U([R,O,H,F]),{value:it(H,f),gradFunc:E}});return _(d,g,m)}}var eNe=pe({fusedMatMul_:Q4e});var tNe={__proto__:null,conv2d:G4e,depthwiseConv2d:X4e,matMul:eNe};function rNe(t){return DN(t,.54,.46)}var nNe=pe({hammingWindow_:rNe});function iNe(t){return DN(t,.5,.5)}var hK=pe({hannWindow_:iNe});function aNe(t,e,r,n,a){n===void 0&&(n=!1),a===void 0&&(a=0);for(var s=0,o=[];s+e<=t.size;)o.push(Dn(t,s,e)),s+=r;if(n)for(;s<t.size;){var u=s+e-t.size,l=Ga([Dn(t,s,e-u),J2([u],a)]);o.push(l),s+=r}return o.length===0?Wg([],[0,e]):it(Ga(o),[o.length,e])}var dK=pe({frame_:aNe});function sNe(t,e,r,n,a){a===void 0&&(a=hK),n==null&&(n=cK(e));var s=dK(t,e,r),o=vt(s,a(e));return TN(o,n)}var oNe=pe({stft_:sNe});function uNe(t,e,r,n,a,s){a===void 0&&(a="bilinear"),s===void 0&&(s=0);var o=te(t,"image","cropAndResize"),u=te(e,"boxes","cropAndResize","float32"),l=te(r,"boxInd","cropAndResize","int32"),h=u.shape[0];se(o.rank===4,function(){return"Error in cropAndResize: image must be rank 4,"+("but got rank "+o.rank+".")}),se(u.rank===2&&u.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+h+",4] "+("but had shape "+u.shape+".")}),se(l.rank===1&&l.shape[0]===h,function(){return"Error in cropAndResize: boxInd must be have size ["+h+"] "+("but had shape "+u.shape+".")}),se(n.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+("length "+n.length+".")}),se(n[0]>=1&&n[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+n}),se(a==="bilinear"||a==="nearest",function(){return"method must be bilinear or nearest, but was "+a});var p={image:o,boxes:u,boxInd:l},v={method:a,extrapolationValue:s,cropSize:n},y=ve.runKernel(NV,p,v);return y}var fNe=pe({cropAndResize_:uNe});function lNe(t){var e=te(t,"image","flipLeftRight","float32");se(e.rank===4,function(){return"Error in flipLeftRight: image must be rank 4,"+("but got rank "+e.rank+".")});var r={image:e},n=ve.runKernel(HV,r,{});return n}var cNe=pe({flipLeftRight_:lNe});function hNe(t){var e=te(t,"image","grayscaleToRGB"),r=e.rank-1,n=e.shape[r];se(e.rank>=2,function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+("but got rank "+e.rank+".")}),se(n===1,function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+("should be size 1, but got size "+n+".")});var a=new Array(e.rank);return a.fill(1,0,r),a[r]=3,Vg(e,a)}var dNe=pe({grayscaleToRGB_:hNe});function pNe(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=.5);var a=te(t,"image","rotateWithOffset","float32");se(a.rank===4,function(){return"Error in rotateWithOffset: image must be rank 4,"+("but got rank "+a.rank+".")});var s={image:a},o={radians:e,fillValue:r,center:n},u=ve.runKernel(OG,s,o);return u}var mNe=pe({rotateWithOffset_:pNe});function Jp(t,e,r,n,a,s){n==null&&(n=.5),a==null&&(a=Number.NEGATIVE_INFINITY),s==null&&(s=0);var o=t.shape[0];return r=Math.min(r,o),se(0<=n&&n<=1,function(){return"iouThreshold must be in [0, 1], but was '"+n+"'"}),se(t.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+t.rank+"'"}),se(t.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+t.shape[1]}),se(e.rank===1,function(){return"scores must be a 1D tensor"}),se(e.shape[0]===o,function(){return"scores has incompatible shape with boxes. Expected "+o+", "+("but was "+e.shape[0])}),se(0<=s&&s<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+s+"'"}),{maxOutputSize:r,iouThreshold:n,scoreThreshold:a,softNmsSigma:s}}function vNe(t,e,r,n,a){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY);var s=te(t,"boxes","nonMaxSuppression","float32"),o=te(e,"scores","nonMaxSuppression","float32"),u=Jp(s,o,r,n,a);r=u.maxOutputSize,n=u.iouThreshold,a=u.scoreThreshold;var l={maxOutputSize:r,iouThreshold:n,scoreThreshold:a};return ve.runKernel(IW,{boxes:s,scores:o},l)}var gNe=pe({nonMaxSuppression_:vNe});function yNe(t,e,r){var n=bNe(t,e,r),a=n<0?-(n+1):n;t.splice(a,0,e)}function bNe(t,e,r){return _Ne(t,e,r||wNe)}function wNe(t,e){return t>e?1:t<e?-1:0}function _Ne(t,e,r){for(var n=0,a=t.length,s=0,o=!1;n<a;){s=n+(a-n>>>1);var u=r(e,t[s]);u>0?n=s+1:(a=s,o=!u)}return o?n:-n-1}function pK(t,e,r,n,a){return ON(t,e,r,n,a,0)}function mK(t,e,r,n,a,s){return ON(t,e,r,n,a,0,!1,s,!0)}function vK(t,e,r,n,a,s){return ON(t,e,r,n,a,s,!0)}function ON(t,e,r,n,a,s,o,u,l){o===void 0&&(o=!1),u===void 0&&(u=!1),l===void 0&&(l=!1);for(var h=[],p=0;p<e.length;p++)e[p]>a&&h.push({score:e[p],boxIndex:p,suppressBeginIndex:0});h.sort(RU);for(var v=s>0?-.5/s:0,y=[],S=[];y.length<r&&h.length>0;){var A=h.pop(),T=A.score,I=A.boxIndex,N=A.suppressBeginIndex;if(T<a)break;for(var D=!1,C=y.length-1;C>=N;--C){var L=xNe(t,I,y[C]);if(L>=n){D=!0;break}if(A.score=A.score*SNe(n,v,L),A.score<=a)break}A.suppressBeginIndex=y.length,D||(A.score===T?(y.push(I),S.push(A.score)):A.score>a&&yNe(h,A,RU))}var z=y.length,$=r-z;u&&$>0&&(y.push.apply(y,Rr(new Array($).fill(0))),S.push.apply(S,Rr(new Array($).fill(0))));var G={selectedIndices:y};return o&&(G.selectedScores=S),l&&(G.validOutputs=z),G}function xNe(t,e,r){var n=t.subarray(e*4,e*4+4),a=t.subarray(r*4,r*4+4),s=Math.min(n[0],n[2]),o=Math.min(n[1],n[3]),u=Math.max(n[0],n[2]),l=Math.max(n[1],n[3]),h=Math.min(a[0],a[2]),p=Math.min(a[1],a[3]),v=Math.max(a[0],a[2]),y=Math.max(a[1],a[3]),S=(u-s)*(l-o),A=(v-h)*(y-p);if(S<=0||A<=0)return 0;var T=Math.max(s,h),I=Math.max(o,p),N=Math.min(u,v),D=Math.min(l,y),C=Math.max(N-T,0)*Math.max(D-I,0);return C/(S+A-C)}function SNe(t,e,r){var n=Math.exp(e*r*r);return r<=t?n:0}function RU(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}function ENe(t,e,r,n,a){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),Et(this,void 0,void 0,function(){var s,o,u,l,h,p,v;return Mt(this,function(y){switch(y.label){case 0:return s=te(t,"boxes","nonMaxSuppressionAsync"),o=te(e,"scores","nonMaxSuppressionAsync"),u=Jp(s,o,r,n,a),r=u.maxOutputSize,n=u.iouThreshold,a=u.scoreThreshold,[4,Promise.all([s.data(),o.data()])];case 1:return l=y.sent(),h=l[0],p=l[1],v=pK(h,p,r,n,a).selectedIndices,s!==t&&s.dispose(),o!==e&&o.dispose(),[2,Uo(v,"int32")]}})})}var MNe=ENe;function ANe(t,e,r,n,a,s){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),s===void 0&&(s=0);var o=te(t,"boxes","nonMaxSuppression"),u=te(e,"scores","nonMaxSuppression"),l=Jp(o,u,r,n,a,s);r=l.maxOutputSize,n=l.iouThreshold,a=l.scoreThreshold,s=l.softNmsSigma;var h={boxes:o,scores:u},p={maxOutputSize:r,iouThreshold:n,scoreThreshold:a,softNmsSigma:s},v=ve.runKernel(OW,h,p);return{selectedIndices:v[0],selectedScores:v[1]}}var kNe=pe({nonMaxSuppressionWithScore_:ANe});function TNe(t,e,r,n,a,s){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),s===void 0&&(s=0),Et(this,void 0,void 0,function(){var o,u,l,h,p,v,y,S,A;return Mt(this,function(T){switch(T.label){case 0:return o=te(t,"boxes","nonMaxSuppressionAsync"),u=te(e,"scores","nonMaxSuppressionAsync"),l=Jp(o,u,r,n,a,s),r=l.maxOutputSize,n=l.iouThreshold,a=l.scoreThreshold,s=l.softNmsSigma,[4,Promise.all([o.data(),u.data()])];case 1:return h=T.sent(),p=h[0],v=h[1],y=vK(p,v,r,n,a,s),S=y.selectedIndices,A=y.selectedScores,o!==t&&o.dispose(),u!==e&&u.dispose(),[2,{selectedIndices:Uo(S,"int32"),selectedScores:Uo(A)}]}})})}var NNe=TNe;function INe(t,e,r,n,a,s){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),s===void 0&&(s=!1);var o=te(t,"boxes","nonMaxSuppression"),u=te(e,"scores","nonMaxSuppression"),l=Jp(o,u,r,n,a,null),h=l.maxOutputSize,p=l.iouThreshold,v=l.scoreThreshold,y={boxes:o,scores:u},S={maxOutputSize:h,iouThreshold:p,scoreThreshold:v,padToMaxOutputSize:s},A=ve.runKernel(DW,y,S);return{selectedIndices:A[0],validOutputs:A[1]}}var DNe=pe({nonMaxSuppressionPadded_:INe});function ONe(t,e,r,n,a,s){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),s===void 0&&(s=!1),Et(this,void 0,void 0,function(){var o,u,l,h,p,v,y,S,A,T,I,N;return Mt(this,function(D){switch(D.label){case 0:return o=te(t,"boxes","nonMaxSuppressionAsync"),u=te(e,"scores","nonMaxSuppressionAsync"),l=Jp(o,u,r,n,a,null),h=l.maxOutputSize,p=l.iouThreshold,v=l.scoreThreshold,[4,Promise.all([o.data(),u.data()])];case 1:return y=xt.apply(void 0,[D.sent(),2]),S=y[0],A=y[1],T=mK(S,A,h,p,v,s),I=T.selectedIndices,N=T.validOutputs,o!==t&&o.dispose(),u!==e&&u.dispose(),[2,{selectedIndices:Uo(I,"int32"),validOutputs:qr(N,"int32")}]}})})}var RNe=ONe;function CNe(t,e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=te(t,"images","resizeBilinear");se(a.rank===3||a.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+("rank "+a.rank+".")}),se(e.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+(e+".")}),se(n===!1||r===!1,function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."});var s=a,o=!1;a.rank===3&&(o=!0,s=it(a,[1,a.shape[0],a.shape[1],a.shape[2]])),xt(e,0);var u={images:s},l={alignCorners:r,halfPixelCenters:n,size:e},h=ve.runKernel(GW,u,l);return o?it(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var FNe=pe({resizeBilinear_:CNe});function BNe(t,e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=te(t,"images","resizeNearestNeighbor");se(a.rank===3||a.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+("rank "+a.rank+".")}),se(e.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+(e+".")}),se(a.dtype==="float32"||a.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"}),se(n===!1||r===!1,function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."});var s=a,o=!1;a.rank===3&&(o=!0,s=it(a,[1,a.shape[0],a.shape[1],a.shape[2]])),xt(e,0);var u={images:s},l={alignCorners:r,halfPixelCenters:n,size:e},h=ve.runKernel(WW,u,l);return o?it(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var LNe=pe({resizeNearestNeighbor_:BNe});function PNe(t,e,r,n){var a;e===void 0&&(e="binary"),r===void 0&&(r=!1),n===void 0&&(n=.5);var s=te(t,"image","threshold"),o=.2989,u=.587,l=.114,h=s.shape[0]*s.shape[1],p=vt(Uo([n]),255),v,y,S,A;if(se(s.rank===3,function(){return"Error in threshold: image must be rank 3,"+("but got rank "+s.rank+".")}),se(s.shape[2]===3||s.shape[2]===1,function(){return"Error in threshold: image color channel must be equal to 3 or 1"+("but got "+s.shape[2]+".")}),se(s.dtype==="int32"||s.dtype==="float32",function(){return"Error in dtype: image dtype must be int32 or float32,"+("but got dtype "+s.dtype+".")}),se(e==="otsu"||e==="binary",function(){return"Method must be binary or otsu, but was "+e}),s.shape[2]===3){a=xt(ry(s,[1,1,1],-1),3),v=a[0],y=a[1],S=a[2];var T=vt(v,o),I=vt(y,u),N=vt(S,l);A=Ot(Ot(T,I),N)}else A=t;if(e==="otsu"){var D=RH(Hn(aK(A),"int32"),qp([]),256);p=qNe(D,h)}var C=r?SN(A,p):Y2(A,p),L=Hn(vt(C,255),"int32");return L}function qNe(t,e){for(var r=Uo([-1]),n=Uo([0]),a=Uo([0]),s,o,u,l,h,p,v=0;v<t.size-1;v++){s=Dn(t,0,v+1),o=Dn(t,v+1),h=_n(wn(s),e),p=_n(wn(o),e);var y=wn(vt(s,ty(0,s.size)));u=_n(y,wn(s));var S=J2(o.shape,s.size),A=Ot(ty(0,o.size),S),T=vt(o,A);l=_n(wn(T),wn(o));var I=Xt(u,l),N=Xt(u,l),D=vt(h,p);a=vt(vt(D,I),N);var C=Y2(a,n);n=Hp(C,a,n),r=Hp(C,Uo([v]),r)}return r}var $Ne=pe({threshold_:PNe});function zNe(t,e,r,n,a,s){r===void 0&&(r="nearest"),n===void 0&&(n="constant"),a===void 0&&(a=0);var o=te(t,"image","transform","float32"),u=te(e,"transforms","transform","float32");se(o.rank===4,function(){return"Error in transform: image must be rank 4,"+("but got rank "+o.rank+".")}),se(u.rank===2&&(u.shape[0]===o.shape[0]||u.shape[0]===1)&&u.shape[1]===8,function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"}),se(s==null||s.length===2,function(){return"Error in transform: outputShape must be [height, width] or null, "+("but got "+s+".")});var l={image:o,transforms:u},h={interpolation:r,fillMode:n,fillValue:a,outputShape:s};return ve.runKernel(AG,l,h)}var jNe=pe({transform_:zNe});function UNe(t,e,r){se(e%1===0,function(){return"bandPart(): numLower must be an integer, got "+e+"."}),se(r%1===0,function(){return"bandPart(): numUpper must be an integer, got "+r+"."});var n=te(t,"a","bandPart");se(n.rank>=2,function(){return"bandPart(): Rank must be at least 2, got "+n.rank+"."});var a=n.shape,s=xt(n.shape.slice(-2),2),o=s[0],u=s[1];if(!(e<=o))throw new Error("bandPart(): numLower ("+e+")"+(" must not be greater than the number of rows ("+o+")."));if(!(r<=u))throw new Error("bandPart(): numUpper ("+r+")"+(" must not be greater than the number of columns ("+u+")."));e<0&&(e=o),r<0&&(r=u);var l=it(ty(0,o,1,"int32"),[-1,1]),h=ty(0,u,1,"int32"),p=Xt(l,h),v=q2(SN(p,qr(+e,"int32")),jH(p,qr(-r,"int32"))),y=Kp([o,u],n.dtype);return it(ny(IN(it(n,[-1,o,u])).map(function(S){return Hp(v,S,y)})),a)}var VNe=pe({bandPart_:UNe});function WNe(t){var e;if(Array.isArray(t)){e=!1,se(t!=null&&t.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var r=t[0].shape[0],n=function(l){se(t[l].shape[0]===r,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+("("+t[l].shape[0]+" vs. "+r+")")})},a=1;a<t.length;++a)n(a)}else e=!0,t=ry(t,t.shape[0],0).map(function(l){return NN(l,[0])});se(t.length<=t[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+t.length+") exceeds "+("number of dimensions ("+t[0].shape[0]+").")});for(var s=[],o=t,u=function(l){s.push(ve.tidy(function(){var h=o[l];if(l>0)for(var p=0;p<l;++p){var v=vt(wn(vt(s[p],h)),s[p]);h=Xt(h,v)}return _n(h,Z2(h,"euclidean"))}))},a=0;a<t.length;++a)u(a);return e?ny(s,0):s}var GNe=pe({gramSchmidt_:WNe});function HNe(t,e){if(e===void 0&&(e=!1),se(t.rank>=2,function(){return"qr() requires input tensor to have a rank >= 2, but got rank "+t.rank}),t.rank===2)return CU(t,e);var r=t.shape.slice(0,t.shape.length-2).reduce(function(l,h){return l*h}),n=IN(it(t,[r,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),a=[],s=[];n.forEach(function(l){var h=xt(CU(l,e),2),p=h[0],v=h[1];a.push(p),s.push(v)});var o=it(ny(a,0),t.shape),u=it(ny(s,0),t.shape);return[o,u]}function CU(t,e){return e===void 0&&(e=!1),ve.tidy(function(){se(t.shape.length===2,function(){return"qr2d() requires a 2D Tensor, but got a "+t.shape.length+"D Tensor."});for(var r=t.shape[0],n=t.shape[1],a=qH(r),s=Mh(t),o=Wg([[1]],[1,1]),u=Mh(o),l=r>=n?n:r,h=function(v){var y,S=s,A=u,T=a;y=xt(ve.tidy(function(){var I=Dn(s,[v,v],[r-v,1]),N=Z2(I),D=Dn(s,[v,v],[1,1]),C=Hp(Y2(D,0),Wg([[-1]]),Wg([[1]])),L=Xt(D,vt(C,N)),z=_n(I,L);z.shape[0]===1?u=Mh(o):u=Ga([o,Dn(z,[1,0],[z.shape[0]-1,z.shape[1]])],0);var $=yf(_n(Pr(C,L),N)),G=Dn(s,[v,0],[r-v,n]),j=vt($,u),Z=L2(u);if(v===0)s=Xt(G,Pr(j,Pr(Z,G)));else{var M=Xt(G,Pr(j,Pr(Z,G)));s=Ga([Dn(s,[0,0],[v,n]),M],0)}var f=L2(j),d=Dn(a,[0,v],[r,a.shape[1]-v]);if(v===0)a=Xt(d,Pr(Pr(d,u),f));else{var g=Xt(d,Pr(Pr(d,u),f));a=Ga([Dn(a,[0,0],[r,v]),g],1)}return[u,s,a]}),3),u=y[0],s=y[1],a=y[2],ka([S,A,T])},p=0;p<l;++p)h(p);return!e&&r>n&&(a=Dn(a,[0,0],[r,n]),s=Dn(s,[0,0],[n,n])),[a,s]})}var KNe=pe({qr_:HNe});W.Reduction=void 0;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(W.Reduction||(W.Reduction={}));function ZNe(t,e,r){r===void 0&&(r=W.Reduction.SUM_BY_NONZERO_WEIGHTS);var n=te(t,"losses","computeWeightedLoss"),a=null;e!=null&&(a=te(e,"weights","computeWeightedLoss"));var s=a==null?n:vt(n,a);if(r===W.Reduction.NONE)return s;if(r===W.Reduction.SUM)return wn(s);if(r===W.Reduction.MEAN){if(a==null)return $2(s);var o=n.size/a.size,u=_n(wn(s),wn(a));return o>1?_n(u,qr(o)):u}if(r===W.Reduction.SUM_BY_NONZERO_WEIGHTS){if(a==null)return _n(wn(s),qr(n.size));var l=vt(a,Eh(n.shape)),h=Hn(wn(QH(l,qr(0))),"float32");return _n(wn(s),h)}throw Error("Unknown reduction: "+r)}var Sf=pe({computeWeightedLoss_:ZNe});function JNe(t,e,r,n){n===void 0&&(n=W.Reduction.SUM_BY_NONZERO_WEIGHTS);var a=te(t,"labels","absoluteDifference"),s=te(e,"predictions","absoluteDifference"),o=null;r!=null&&(o=te(r,"weights","absoluteDifference")),pa(a.shape,s.shape,"Error in absoluteDifference: ");var u=fs(Xt(a,s));return Sf(u,o,n)}var YNe=pe({absoluteDifference_:JNe});function XNe(t,e,r,n,a){a===void 0&&(a=W.Reduction.SUM_BY_NONZERO_WEIGHTS);var s=te(t,"labels","cosineDistance"),o=te(e,"predictions","cosineDistance"),u=null;n!=null&&(u=te(n,"weights","cosineDistance")),pa(s.shape,o.shape,"Error in cosineDistance: ");var l=qr(1),h=Xt(l,wn(vt(s,o),r,!0));return Sf(h,u,a)}var QNe=pe({cosineDistance_:XNe});function eIe(t,e,r,n){n===void 0&&(n=W.Reduction.SUM_BY_NONZERO_WEIGHTS);var a=te(t,"labels","hingeLoss"),s=te(e,"predictions","hingeLoss"),o=null;r!=null&&(o=te(r,"weights","hingeLoss")),pa(a.shape,s.shape,"Error in hingeLoss: ");var u=qr(1);a=Xt(vt(qr(2),a),u);var l=Q2(Xt(u,vt(a,s)));return Sf(l,o,n)}var tIe=pe({hingeLoss_:eIe});function rIe(t,e,r,n,a){n===void 0&&(n=1),a===void 0&&(a=W.Reduction.SUM_BY_NONZERO_WEIGHTS);var s=te(t,"labels","huberLoss"),o=te(e,"predictions","huberLoss"),u=null;r!=null&&(u=te(r,"weights","huberLoss")),pa(s.shape,o.shape,"Error in huberLoss: ");var l=qr(n),h=fs(Xt(o,s)),p=XH(h,l),v=Xt(h,p),y=Ot(vt(qr(.5),Vo(p)),vt(l,v));return Sf(y,u,a)}var nIe=pe({huberLoss_:rIe});function iIe(t,e,r,n,a){n===void 0&&(n=1e-7),a===void 0&&(a=W.Reduction.SUM_BY_NONZERO_WEIGHTS);var s=te(t,"labels","logLoss"),o=te(e,"predictions","logLoss"),u=null;r!=null&&(u=te(r,"weights","logLoss")),pa(s.shape,o.shape,"Error in logLoss: ");var l=qr(1),h=qr(n),p=yf(vt(s,ey(Ot(o,h)))),v=vt(Xt(l,s),ey(Ot(Xt(l,o),h))),y=Xt(p,v);return Sf(y,u,a)}var aIe=pe({logLoss_:iIe});function sIe(t,e,r,n){n===void 0&&(n=W.Reduction.SUM_BY_NONZERO_WEIGHTS);var a=te(t,"labels","meanSquaredError"),s=te(e,"predictions","meanSquaredError"),o=null;r!=null&&(o=te(r,"weights","meanSquaredError")),pa(a.shape,s.shape,"Error in meanSquaredError: ");var u=oK(a,s);return Sf(u,o,n)}var oIe=pe({meanSquaredError_:sIe});function uIe(t,e){var r=te(t,"labels","sigmoidCrossEntropyWithLogits"),n=te(e,"logits","sigmoidCrossEntropyWithLogits");pa(r.shape,n.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=Q2(n),s=vt(n,r),o=VH(Ih(yf(fs(n))));return Ot(Xt(a,s),o)}function fIe(t,e,r,n,a){n===void 0&&(n=0),a===void 0&&(a=W.Reduction.SUM_BY_NONZERO_WEIGHTS);var s=te(t,"multiClassLabels","sigmoidCrossEntropy"),o=te(e,"logits","sigmoidCrossEntropy"),u=null;if(r!=null&&(u=te(r,"weights","sigmoidCrossEntropy")),pa(s.shape,o.shape,"Error in sigmoidCrossEntropy: "),n>0){var l=qr(n),h=qr(1),p=qr(.5);s=Ot(vt(s,Xt(h,l)),vt(p,l))}var v=uIe(s,o);return Sf(v,u,a)}var lIe=pe({sigmoidCrossEntropy_:fIe});function cIe(t,e,r){if(r===void 0&&(r=-1),r===-1&&(r=e.rank-1),r!==e.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+("supported. Labels / logits was rank "+e.rank+" ")+("and dim was "+r));var n=Fu(function(a,s,o){var u=!0,l=HH(s,[r],u),h=Xt(Hn(s,"float32"),l);o([a,h]);var p=yf(vt(h,a)),v=wn(p,[r]),y=function(S,A){var T=xt(A,2),I=T[0],N=T[1],D=fy(S.shape,[r]);return[vt(it(S,D),Xt(Hn(I,"float32"),Ih(N))),vt(it(S,D),Xt(Ih(N),Hn(I,"float32")))]};return{value:v,gradFunc:y}});return n(t,e)}function hIe(t,e,r,n,a){n===void 0&&(n=0),a===void 0&&(a=W.Reduction.SUM_BY_NONZERO_WEIGHTS);var s=te(t,"onehotLabels","softmaxCrossEntropy"),o=te(e,"logits","softmaxCrossEntropy"),u=null;if(r!=null&&(u=te(r,"weights","softmaxCrossEntropy")),pa(s.shape,o.shape,"Error in softmaxCrossEntropy: "),n>0){var l=qr(n),h=qr(1),p=qr(s.shape[1]);s=Ot(vt(s,Xt(h,l)),_n(l,p))}var v=cIe(s,o);return Sf(v,u,a)}var dIe=pe({softmaxCrossEntropy_:hIe});function pIe(t,e,r,n){var a=te(t,"indices","sparseFillEmptyRows","int32"),s=te(e,"values","sparseFillEmptyRows"),o=te(r,"denseShape","sparseFillEmptyRows","int32"),u=te(n,"defaultValue","sparseFillEmptyRows",s.dtype);if(a.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        `+a.shape);if(s.rank!==1)throw new Error("Values should be Tensor1D but received shape "+s.shape);if(o.rank!==1)throw new Error("Dense shape should be Tensor1D but received shape "+o.shape);if(u.rank!==0)throw new Error("Default value should be a scalar but received shape "+u.shape);var l={indices:a,values:s,denseShape:o,defaultValue:u},h=ve.runKernel(hG,l);return{outputIndices:h[0],outputValues:h[1],emptyRowIndicator:h[2],reverseIndexMap:h[3]}}var mIe=pe({sparseFillEmptyRows_:pIe});function vIe(t,e,r){var n=te(t,"inputIndices","sparseReshape","int32"),a=te(e,"inputShape","sparseReshape","int32"),s=te(r,"newShape","sparseReshape","int32");if(n.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        `+n.shape);if(a.rank!==1)throw new Error("Input shape should be Tensor1D but received shape "+a.shape);if(s.rank!==1)throw new Error("New shape should be Tensor1D but received shape "+s.shape);var o={inputIndices:n,inputShape:a,newShape:s},u=ve.runKernel(dG,o);return{outputIndices:u[0],outputShape:u[1]}}var gIe=pe({sparseReshape_:vIe});function yIe(t,e,r){var n=te(t,"data","sparseSegmentMean"),a=te(e,"indices","sparseSegmentMean","int32"),s=te(r,"segmentIds","sparseSegmentMean","int32");if(n.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          `+a.shape);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          `+s.shape);var o={data:n,indices:a,segmentIds:s};return ve.runKernel(pG,o)}var bIe=pe({sparseSegmentMean_:yIe});function wIe(t,e,r){var n=te(t,"data","sparseSegmentSum"),a=te(e,"indices","sparseSegmentSum","int32"),s=te(r,"segmentIds","sparseSegmentSum","int32");if(n.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         `+a.shape);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         `+s.shape);var o={data:n,indices:a,segmentIds:s};return ve.runKernel(mG,o)}var _Ie=pe({sparseSegmentSum_:wIe});function xIe(t,e,r,n,a,s,o,u){var l=te(t,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error("Data must be a vector, saw: "+l.shape);var h=te(e,"dataSplits","stringNGrams");if(h.dtype!=="int32")throw new Error("Data splits must be of datatype int32");var p={separator:r,nGramWidths:n,leftPad:a,rightPad:s,padWidth:o,preserveShortSequences:u},v={data:l,dataSplits:h},y=ve.runKernel(bG,v,p);return{nGrams:y[0],nGramsSplits:y[1]}}var SIe=pe({stringNGrams_:xIe});function EIe(t,e,r){r===void 0&&(r=!0);var n=te(t,"input","stringSplit","string"),a=te(e,"delimiter","stringSplit","string");if(n.rank!==1)throw new Error("Input should be Tensor1D but received shape "+n.shape);if(a.rank!==0)throw new Error("Delimiter should be a scalar but received shape "+a.shape);var s={skipEmpty:r},o={input:n,delimiter:a},u=ve.runKernel(wG,o,s);return{indices:u[0],values:u[1],shape:u[2]}}var MIe=pe({stringSplit_:EIe});function AIe(t,e){var r=te(t,"input","stringToHashBucketFast","string"),n={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");var a={input:r};return ve.runKernel(_G,a,n)}var kIe=pe({stringToHashBucketFast_:AIe});var TIe={fft:kN,ifft:z2,rfft:TN,irfft:sK},NIe={hammingWindow:nNe,hannWindow:hK,frame:dK,stft:oNe},IIe={flipLeftRight:cNe,grayscaleToRGB:dNe,resizeNearestNeighbor:LNe,resizeBilinear:FNe,rotateWithOffset:mNe,cropAndResize:fNe,nonMaxSuppression:gNe,nonMaxSuppressionAsync:MNe,nonMaxSuppressionWithScore:kNe,nonMaxSuppressionWithScoreAsync:NNe,nonMaxSuppressionPadded:DNe,nonMaxSuppressionPaddedAsync:RNe,threshold:$Ne,transform:jNe},DIe={bandPart:VNe,gramSchmidt:GNe,qr:KNe},OIe={absoluteDifference:YNe,computeWeightedLoss:Sf,cosineDistance:QNe,hingeLoss:tIe,huberLoss:nIe,logLoss:aIe,meanSquaredError:oIe,sigmoidCrossEntropy:lIe,softmaxCrossEntropy:dIe},RIe={sparseFillEmptyRows:mIe,sparseReshape:gIe,sparseSegmentMean:bIe,sparseSegmentSum:_Ie},CIe={stringNGrams:SIe,stringSplit:MIe,stringToHashBucketFast:kIe},zl=function(t){_f(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.minimize=function(r,n,a){n===void 0&&(n=!1);var s=this.computeGradients(r,a),o=s.value,u=s.grads;if(a!=null){var l=a.map(function(h){return{name:h.name,tensor:u[h.name]}});this.applyGradients(l)}else this.applyGradients(u);return ka(u),n?o:(o.dispose(),null)},Object.defineProperty(e.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),e.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},e.prototype.computeGradients=function(r,n){return WH(r,n)},e.prototype.dispose=function(){this.iterations_!=null&&ka(this.iterations_)},e.prototype.saveIterations=function(){return Et(this,void 0,void 0,function(){return Mt(this,function(r){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:qr(this.iterations_,"int32")}]})})},e.prototype.getWeights=function(){return Et(this,void 0,void 0,function(){return Mt(this,function(r){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},e.prototype.setWeights=function(r){return Et(this,void 0,void 0,function(){return Mt(this,function(n){throw new Error("setWeights() is not implemented for this optimizer class "+(""+this.getClassName()))})})},e.prototype.extractIterations=function(r){return Et(this,void 0,void 0,function(){var n;return Mt(this,function(a){switch(a.label){case 0:return n=this,[4,r[0].tensor.data()];case 1:return n.iterations_=a.sent()[0],[2,r.slice(1)]}})})},e}(SH);Object.defineProperty(zl,Symbol.hasInstance,{value:function(t){return t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null}});var ix=function(t){_f(e,t);function e(r,n,a){a===void 0&&(a=null);var s=t.call(this)||this;return s.learningRate=r,s.rho=n,s.epsilon=a,s.accumulatedGrads=[],s.accumulatedUpdates=[],a==null&&(s.epsilon=ve.backend.epsilon()),s}return e.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map(function(s){return s.name}):Object.keys(r);a.forEach(function(s,o){var u=ve.registeredVariables[s],l=!1;n.accumulatedGrads[o]==null&&(n.accumulatedGrads[o]={originalName:s+"/accum_grad",variable:hi(function(){return ls(u).variable(l)})}),n.accumulatedUpdates[o]==null&&(n.accumulatedUpdates[o]={originalName:s+"/accum_var",variable:hi(function(){return ls(u).variable(l)})});var h=Array.isArray(r)?r[o].tensor:r[s];if(h!=null){var p=n.accumulatedGrads[o].variable,v=n.accumulatedUpdates[o].variable;hi(function(){var y=Ot(vt(p,n.rho),vt(Vo(h),1-n.rho)),S=vt(_n(wf(Ot(v,n.epsilon)),wf(Ot(p,n.epsilon))),h),A=Ot(vt(v,n.rho),vt(Vo(S),1-n.rho));p.assign(y),v.assign(A);var T=Ot(vt(S,-n.learningRate),u);u.assign(T)})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedUpdates!=null&&(ka(this.accumulatedGrads.map(function(r){return r.variable})),ka(this.accumulatedUpdates.map(function(r){return r.variable})))},e.prototype.getWeights=function(){return Et(this,void 0,void 0,function(){var r;return Mt(this,function(n){switch(n.label){case 0:return r=Rr(this.accumulatedGrads,this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(r.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},e.prototype.setWeights=function(r){return Et(this,void 0,void 0,function(){var n,a;return Mt(this,function(s){switch(s.label){case 0:return[4,this.extractIterations(r)];case 1:return r=s.sent(),n=r.length/2,a=!1,this.accumulatedGrads=r.slice(0,n).map(function(o){return{originalName:o.name,variable:o.tensor.variable(a)}}),this.accumulatedUpdates=r.slice(n,n*2).map(function(o){return{originalName:o.name,variable:o.tensor.variable(a)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},e.fromConfig=function(r,n){return new r(n.learningRate,n.rho,n.epsilon)},e}(zl);ix.className="Adadelta";$l(ix);var ax=function(t){_f(e,t);function e(r,n){n===void 0&&(n=.1);var a=t.call(this)||this;return a.learningRate=r,a.initialAccumulatorValue=n,a.accumulatedGrads=[],a}return e.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map(function(s){return s.name}):Object.keys(r);a.forEach(function(s,o){var u=ve.registeredVariables[s];if(n.accumulatedGrads[o]==null){var l=!1;n.accumulatedGrads[o]={originalName:s+"/accumulator",variable:hi(function(){return J2(u.shape,n.initialAccumulatorValue).variable(l)})}}var h=Array.isArray(r)?r[o].tensor:r[s];if(h!=null){var p=n.accumulatedGrads[o].variable;hi(function(){var v=Ot(p,Vo(h));p.assign(v);var y=Ot(vt(_n(h,wf(Ot(v,ve.backend.epsilon()))),-n.learningRate),u);u.assign(y)})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedGrads!=null&&ka(this.accumulatedGrads.map(function(r){return r.variable}))},e.prototype.getWeights=function(){return Et(this,void 0,void 0,function(){return Mt(this,function(r){switch(r.label){case 0:return[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(this.accumulatedGrads.map(function(n){return{name:n.originalName,tensor:n.variable}}))]}})})},e.prototype.setWeights=function(r){return Et(this,void 0,void 0,function(){var n;return Mt(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(r)];case 1:return r=a.sent(),n=!1,this.accumulatedGrads=r.map(function(s){return{originalName:s.name,variable:s.tensor.variable(n)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},e.fromConfig=function(r,n){return new r(n.learningRate,n.initialAccumulatorValue)},e}(zl);ax.className="Adagrad";$l(ax);var sx=function(t){_f(e,t);function e(r,n,a,s){s===void 0&&(s=null);var o=t.call(this)||this;return o.learningRate=r,o.beta1=n,o.beta2=a,o.epsilon=s,o.accumulatedFirstMoment=[],o.accumulatedSecondMoment=[],hi(function(){o.accBeta1=qr(n).variable(),o.accBeta2=qr(a).variable()}),s==null&&(o.epsilon=ve.backend.epsilon()),o}return e.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map(function(s){return s.name}):Object.keys(r);hi(function(){var s=Xt(1,n.accBeta1),o=Xt(1,n.accBeta2);a.forEach(function(u,l){var h=ve.registeredVariables[u],p=!1;n.accumulatedFirstMoment[l]==null&&(n.accumulatedFirstMoment[l]={originalName:u+"/m",variable:hi(function(){return ls(h).variable(p)})}),n.accumulatedSecondMoment[l]==null&&(n.accumulatedSecondMoment[l]={originalName:u+"/v",variable:hi(function(){return ls(h).variable(p)})});var v=Array.isArray(r)?r[l].tensor:r[u];if(v!=null){var y=n.accumulatedFirstMoment[l].variable,S=n.accumulatedSecondMoment[l].variable,A=Ot(vt(y,n.beta1),vt(v,1-n.beta1)),T=Ot(vt(S,n.beta2),vt(Vo(v),1-n.beta2)),I=_n(A,s),N=_n(T,o);y.assign(A),S.assign(T);var D=Ot(vt(_n(I,Ot(wf(N),n.epsilon)),-n.learningRate),h);h.assign(D)}}),n.accBeta1.assign(vt(n.accBeta1,n.beta1)),n.accBeta2.assign(vt(n.accBeta2,n.beta2))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&ka(this.accumulatedFirstMoment.map(function(r){return r.variable})),this.accumulatedSecondMoment!=null&&ka(this.accumulatedSecondMoment.map(function(r){return r.variable}))},e.prototype.getWeights=function(){return Et(this,void 0,void 0,function(){var r;return Mt(this,function(n){switch(n.label){case 0:return r=Rr(this.accumulatedFirstMoment,this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(r.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},e.prototype.setWeights=function(r){return Et(this,void 0,void 0,function(){var n,a,s=this;return Mt(this,function(o){switch(o.label){case 0:return[4,this.extractIterations(r)];case 1:return r=o.sent(),hi(function(){s.accBeta1.assign(Qg(s.beta1,s.iterations_+1)),s.accBeta2.assign(Qg(s.beta2,s.iterations_+1))}),n=r.length/2,a=!1,this.accumulatedFirstMoment=r.slice(0,n).map(function(u){return{originalName:u.name,variable:u.tensor.variable(a)}}),this.accumulatedSecondMoment=r.slice(n,n*2).map(function(u){return{originalName:u.name,variable:u.tensor.variable(a)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},e.fromConfig=function(r,n){return new r(n.learningRate,n.beta1,n.beta2,n.epsilon)},e}(zl);sx.className="Adam";$l(sx);var ox=function(t){_f(e,t);function e(r,n,a,s,o){s===void 0&&(s=null),o===void 0&&(o=0);var u=t.call(this)||this;return u.learningRate=r,u.beta1=n,u.beta2=a,u.epsilon=s,u.decay=o,u.accumulatedFirstMoment=[],u.accumulatedWeightedInfNorm=[],hi(function(){u.iteration=qr(0).variable(),u.accBeta1=qr(n).variable()}),s==null&&(u.epsilon=ve.backend.epsilon()),u}return e.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map(function(s){return s.name}):Object.keys(r);hi(function(){var s=Xt(1,n.accBeta1),o=_n(-n.learningRate,Ot(vt(n.iteration,n.decay),1));a.forEach(function(u,l){var h=ve.registeredVariables[u],p=!1;n.accumulatedFirstMoment[l]==null&&(n.accumulatedFirstMoment[l]={originalName:u+"/m",variable:ls(h).variable(p)}),n.accumulatedWeightedInfNorm[l]==null&&(n.accumulatedWeightedInfNorm[l]={originalName:u+"/v",variable:ls(h).variable(p)});var v=Array.isArray(r)?r[l].tensor:r[u];if(v!=null){var y=n.accumulatedFirstMoment[l].variable,S=n.accumulatedWeightedInfNorm[l].variable,A=Ot(vt(y,n.beta1),vt(v,1-n.beta1)),T=vt(S,n.beta2),I=fs(v),N=YH(T,I);y.assign(A),S.assign(N);var D=Ot(vt(_n(o,s),_n(A,Ot(N,n.epsilon))),h);h.assign(D)}}),n.iteration.assign(Ot(n.iteration,1)),n.accBeta1.assign(vt(n.accBeta1,n.beta1))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&ka(this.accumulatedFirstMoment.map(function(r){return r.variable})),this.accumulatedWeightedInfNorm!=null&&ka(this.accumulatedWeightedInfNorm.map(function(r){return r.variable}))},e.prototype.getWeights=function(){return Et(this,void 0,void 0,function(){return Mt(this,function(r){throw new Error("getWeights() is not implemented for Adamax yet.")})})},e.prototype.setWeights=function(r){return Et(this,void 0,void 0,function(){return Mt(this,function(n){throw new Error("setWeights() is not implemented for Adamax yet.")})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},e.fromConfig=function(r,n){return new r(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)},e}(zl);ox.className="Adamax";$l(ox);var cy=function(t){_f(e,t);function e(r){var n=t.call(this)||this;return n.learningRate=r,n.setLearningRate(r),n}return e.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map(function(s){return s.name}):Object.keys(r);a.forEach(function(s,o){var u=Array.isArray(r)?r[o].tensor:r[s];if(u!=null){var l=ve.registeredVariables[s];hi(function(){var h=Ot(vt(n.c,u),l);l.assign(h)})}}),this.incrementIterations()},e.prototype.setLearningRate=function(r){this.learningRate=r,this.c!=null&&this.c.dispose(),this.c=uH(qr(-r))},e.prototype.dispose=function(){this.c.dispose()},e.prototype.getWeights=function(){return Et(this,void 0,void 0,function(){return Mt(this,function(r){switch(r.label){case 0:return[4,this.saveIterations()];case 1:return[2,[r.sent()]]}})})},e.prototype.setWeights=function(r){return Et(this,void 0,void 0,function(){return Mt(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(r)];case 1:if(r=n.sent(),r.length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate}},e.fromConfig=function(r,n){return new r(n.learningRate)},e}(zl);cy.className="SGD";$l(cy);var ux=function(t){_f(e,t);function e(r,n,a){a===void 0&&(a=!1);var s=t.call(this,r)||this;return s.learningRate=r,s.momentum=n,s.useNesterov=a,s.accumulations=[],s.m=qr(s.momentum),s}return e.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map(function(s){return s.name}):Object.keys(r);a.forEach(function(s,o){var u=ve.registeredVariables[s];if(n.accumulations[o]==null){var l=!1;n.accumulations[o]={originalName:s+"/momentum",variable:hi(function(){return ls(u).variable(l)})}}var h=n.accumulations[o].variable,p=Array.isArray(r)?r[o].tensor:r[s];p!=null&&hi(function(){var v,y=Ot(vt(n.m,h),p);n.useNesterov?v=Ot(vt(n.c,Ot(p,vt(y,n.m))),u):v=Ot(vt(n.c,y),u),h.assign(y),u.assign(v)})}),this.incrementIterations()},e.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&ka(this.accumulations.map(function(r){return r.variable}))},e.prototype.setMomentum=function(r){this.momentum=r},e.prototype.getWeights=function(){return Et(this,void 0,void 0,function(){return Mt(this,function(r){switch(r.label){case 0:return[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(this.accumulations.map(function(n){return{name:n.originalName,tensor:n.variable}}))]}})})},e.prototype.setWeights=function(r){return Et(this,void 0,void 0,function(){var n;return Mt(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(r)];case 1:return r=a.sent(),n=!1,this.accumulations=r.map(function(s){return{originalName:s.name,variable:s.tensor.variable(n)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},e.fromConfig=function(r,n){return new r(n.learningRate,n.momentum,n.useNesterov)},e}(cy);ux.className="Momentum";$l(ux);var fx=function(t){_f(e,t);function e(r,n,a,s,o){n===void 0&&(n=.9),a===void 0&&(a=0),s===void 0&&(s=null),o===void 0&&(o=!1);var u=t.call(this)||this;if(u.learningRate=r,u.decay=n,u.momentum=a,u.epsilon=s,u.accumulatedMeanSquares=[],u.accumulatedMoments=[],u.accumulatedMeanGrads=[],u.centered=o,s==null&&(u.epsilon=ve.backend.epsilon()),r==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return u}return e.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map(function(s){return s.name}):Object.keys(r);a.forEach(function(s,o){var u=ve.registeredVariables[s],l=!1;n.accumulatedMeanSquares[o]==null&&(n.accumulatedMeanSquares[o]={originalName:s+"/rms",variable:hi(function(){return ls(u).variable(l)})}),n.accumulatedMoments[o]==null&&(n.accumulatedMoments[o]={originalName:s+"/momentum",variable:hi(function(){return ls(u).variable(l)})}),n.accumulatedMeanGrads[o]==null&&n.centered&&(n.accumulatedMeanGrads[o]={originalName:s+"/mg",variable:hi(function(){return ls(u).variable(l)})});var h=Array.isArray(r)?r[o].tensor:r[s];if(h!=null){var p=n.accumulatedMeanSquares[o].variable,v=n.accumulatedMoments[o].variable;hi(function(){var y=Ot(vt(p,n.decay),vt(Vo(h),1-n.decay));if(n.centered){var S=n.accumulatedMeanGrads[o].variable,A=Ot(vt(S,n.decay),vt(h,1-n.decay)),T=_n(vt(h,n.learningRate),wf(Xt(y,Ot(Vo(A),n.epsilon)))),I=Ot(vt(v,n.momentum),T);p.assign(y),S.assign(A),v.assign(I);var N=Xt(u,I);u.assign(N)}else{var D=Ot(vt(p,n.decay),vt(Vo(h),1-n.decay)),I=Ot(vt(v,n.momentum),_n(vt(h,n.learningRate),wf(Ot(D,n.epsilon))));p.assign(D),v.assign(I);var N=Xt(u,I);u.assign(N)}})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&ka(this.accumulatedMeanSquares.map(function(r){return r.variable})),this.accumulatedMeanGrads!=null&&this.centered&&ka(this.accumulatedMeanGrads.map(function(r){return r.variable})),this.accumulatedMoments!=null&&ka(this.accumulatedMoments.map(function(r){return r.variable}))},e.prototype.getWeights=function(){return Et(this,void 0,void 0,function(){var r;return Mt(this,function(n){switch(n.label){case 0:return r=Rr(this.accumulatedMeanSquares,this.accumulatedMoments),this.centered&&r.push.apply(r,Rr(this.accumulatedMeanGrads)),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(r.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},e.prototype.setWeights=function(r){return Et(this,void 0,void 0,function(){var n,a;return Mt(this,function(s){switch(s.label){case 0:return[4,this.extractIterations(r)];case 1:return r=s.sent(),n=this.centered?r.length/3:r.length/2,a=!1,this.accumulatedMeanSquares=r.slice(0,n).map(function(o){return{originalName:o.name,variable:o.tensor.variable(a)}}),this.accumulatedMoments=r.slice(n,n*2).map(function(o){return{originalName:o.name,variable:o.tensor.variable(a)}}),this.centered&&(this.accumulatedMeanGrads=r.slice(n*2,n*3).map(function(o){return{originalName:o.name,variable:o.tensor.variable(a)}})),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},e.fromConfig=function(r,n){return new r(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)},e}(zl);fx.className="RMSProp";$l(fx);var Il=function(){function t(){}return t.sgd=function(e){return new cy(e)},t.momentum=function(e,r,n){return n===void 0&&(n=!1),new ux(e,r,n)},t.rmsprop=function(e,r,n,a,s){return r===void 0&&(r=.9),n===void 0&&(n=0),a===void 0&&(a=null),s===void 0&&(s=!1),new fx(e,r,n,a,s)},t.adam=function(e,r,n,a){return e===void 0&&(e=.001),r===void 0&&(r=.9),n===void 0&&(n=.999),a===void 0&&(a=null),new sx(e,r,n,a)},t.adadelta=function(e,r,n){return e===void 0&&(e=.001),r===void 0&&(r=.95),n===void 0&&(n=null),new ix(e,r,n)},t.adamax=function(e,r,n,a,s){return e===void 0&&(e=.002),r===void 0&&(r=.9),n===void 0&&(n=.999),a===void 0&&(a=null),s===void 0&&(s=0),new ox(e,r,n,a,s)},t.adagrad=function(e,r){return r===void 0&&(r=.1),new ax(e,r)},t}();var FIe={sgd:Il.sgd,momentum:Il.momentum,adadelta:Il.adadelta,adagrad:Il.adagrad,rmsprop:Il.rmsprop,adamax:Il.adamax,adam:Il.adam};var BIe=function(){return typeof requestAnimationFrame!="undefined"?requestAnimationFrame:typeof setImmediate!="undefined"?setImmediate:function(t){return t()}}();function LIe(){return new Promise(function(t){return BIe(function(){return t()})})}function PIe(t,e){var r=t[0].length;t.forEach(function(a,s){se(a.length===r,function(){return"Error in concat"+r+"D: rank of tensors["+s+"] must be the same "+("as the rank of the rest ("+r+")")})}),se(e>=0&&e<r,function(){return"Error in concat"+r+"D: axis must be between 0 and "+(r-1)+"."});var n=t[0];t.forEach(function(a,s){for(var o=0;o<r;o++)se(o===e||a[o]===n[o],function(){return"Error in concat"+r+"D: Shape of tensors["+s+"] ("+a+") "+("does not match the shape of the rest ("+n+") ")+("along the non-concatenated axis "+s+".")})})}function qIe(t,e){for(var r=t[0].slice(),n=1;n<t.length;n++)r[e]+=t[n][e];return r}var RN=30;function $Ie(t){return t<=RN?t:N2(t,Math.floor(Math.sqrt(t)))}function zIe(t,e,r){var n=r*(typeof t=="number"?t:t[0]),a=e*(typeof t=="number"?t:t[1]);return[n,a]}function jIe(t,e,r,n){n===void 0&&(n=!0);var a=[];if(n)a=a.concat(e.slice(0)),a.push(t[0]/r),a=a.concat(t.slice(1));else{a=a.concat(t[0]);for(var s=e.length,o=0;o<s;++o)a=a.concat([t[o+1]/e[o],e[o]]);a=a.concat(t.slice(s+1))}return a}function UIe(t,e,r){r===void 0&&(r=!0);var n=[];if(r){n.push(e);for(var a=e+1;a<t;++a)a<=2*e?(n.push(a),n.push(a-(e+1))):n.push(a)}else{for(var s=[],o=[],a=1;a<t;++a)a>=e*2+1||a%2===1?o.push(a):s.push(a);n.push.apply(n,Rr(s)),n.push(0),n.push.apply(n,Rr(o))}return n}function VIe(t,e,r,n){n===void 0&&(n=!0);var a=[];n?a.push(t[0]/r):a.push(t[0]*r);for(var s=1;s<t.length;++s)s<=e.length?n?a.push(e[s-1]*t[s]):a.push(t[s]/e[s-1]):a.push(t[s]);return a}function WIe(t,e){for(var r=[0],n=0;n<e;++n)r.push(t[n][0]);return r}function GIe(t,e,r){for(var n=t.slice(0,1),a=0;a<r;++a)n.push(t[a+1]-e[a][0]-e[a][1]);return n}var HIe=1.7580993408473768,KIe=1.0507009873554805;var ZIe=.3275911,JIe=.254829592,YIe=-.284496736,XIe=1.421413741,QIe=-1.453152027,eDe=1.061405429;function tDe(t,e){if(t.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+(t.length+", imag: "+e.length+"."));for(var r=new Float32Array(t.length*2),n=0;n<r.length;n+=2)r[n]=t[n/2],r[n+1]=e[n/2];return r}function rDe(t){for(var e=new Float32Array(t.length/2),r=new Float32Array(t.length/2),n=0;n<t.length;n+=2)e[n/2]=t[n],r[n/2]=t[n+1];return{real:e,imag:r}}function nDe(t){for(var e=Math.ceil(t.length/4),r=new Float32Array(e),n=new Float32Array(e),a=0;a<t.length;a+=4)r[Math.floor(a/4)]=t[a],n[Math.floor(a/4)]=t[a+1];return{real:r,imag:n}}function iDe(t){for(var e=Math.floor(t.length/4),r=new Float32Array(e),n=new Float32Array(e),a=2;a<t.length;a+=4)r[Math.floor(a/4)]=t[a],n[Math.floor(a/4)]=t[a+1];return{real:r,imag:n}}function aDe(t,e){var r=t[e*2],n=t[e*2+1];return{real:r,imag:n}}function sDe(t,e,r,n){t[n*2]=e,t[n*2+1]=r}function oDe(t,e){for(var r=new Float32Array(t/2),n=new Float32Array(t/2),a=0;a<Math.ceil(t/2);a++){var s=(e?2:-2)*Math.PI*(a/t);r[a]=Math.cos(s),n[a]=Math.sin(s)}return{real:r,imag:n}}function uDe(t,e,r){var n=(r?2:-2)*Math.PI*(t/e),a=Math.cos(n),s=Math.sin(n);return{real:a,imag:s}}var M4="->",fDe=/->/g,FU=",",BU="...";function lDe(t,e){t=t.replace(/\s/g,"");var r=(t.length-t.replace(fDe,"").length)/M4.length;if(r<1)throw new Error("Equations without an arrow are not supported.");if(r>1)throw new Error('Equation must contain exactly one arrow ("'+M4+'").');var n=xt(t.split(M4),2),a=n[0],s=n[1];se(a.indexOf(BU)===-1,function(){return'The ellipsis notation ("'+BU+'") is not supported yet.'});var o=a.split(FU),u=o.length;if(e!==u)throw new Error("Expected "+u+" input tensors, received "+e);if(u>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var l=[],h=function(N){var D=s[N];if(!o.some(function(C){return C.indexOf(D)!==-1}))throw new Error("Output subscripts contain the label "+D+" not present in the input subscripts.");l.indexOf(D)===-1&&l.push(D)},p=0;p<s.length;++p)h(p);for(var p=0;p<a.length;++p){var v=a[p];l.indexOf(v)===-1&&v!==FU&&l.push(v)}for(var y=new Array(o.length),p=0;p<u;++p){if(new Set(o[p].split("")).size!==o[p].length)throw new Error("Found duplicate axes in input component "+o[p]+". Support for duplicate axes in input is not implemented yet.");y[p]=[];for(var S=0;S<o[p].length;++S)y[p].push(l.indexOf(o[p][S]))}for(var A=l.length,T=s.length,I=[],p=T;p<A;++p)I.push(p);return{allDims:l,summedDims:I,idDims:y}}function cDe(t,e){var r=new Array(t);r.fill(-1);for(var n=0;n<e.length;++n)r[e[n]]=n;for(var a=[],n=0;n<t;++n)r[n]===-1&&a.push(n);return r=r.filter(function(s){return s!==-1}),{permutationIndices:r,expandDims:a}}function hDe(t,e,r){for(var n=new Array(t),a=function(o){for(var u=r[o].shape,l=function(p){n[e[o][p]]===void 0?n[e[o][p]]=u[p]:se(n[e[o][p]]===u[p],function(){return"Expected dimension "+n[e[o][p]]+" at axis "+p+" "+("of input shaped "+JSON.stringify(u)+", ")+("but got dimension "+u[p])})},h=0;h<e[o].length;++h)l(h)},s=0;s<r.length;++s)a(s)}function dDe(t,e){var r,n,a=t,s=[],o=0;t.length===0&&a.push(-1),o=t.length+1;for(var u=0;u<o;++u)s.push([]);for(var l=[],u=0;u<a.length;++u){var h=a[u],p=mDe(e,h);try{for(var v=(r=void 0,Wa(p)),y=v.next();!y.done;y=v.next()){var S=y.value;l.indexOf(S)===-1&&(s[u].push(S),l.push(S))}}catch(T){r={error:T}}finally{try{y&&!y.done&&(n=v.return)&&n.call(v)}finally{if(r)throw r.error}}}return{path:a,steps:s}}function pDe(t){return t.every(function(e,r){return e===r})}function mDe(t,e){for(var r=[],n=0;n<t.length;++n)(t[n].length===0||t[n].indexOf(e)!==-1||e===-1)&&r.push(n);return r}function vDe(t,e,r){r===void 0&&(r=0);var n=[];if(typeof e=="number")se(t.shape[r]%e===0,function(){return"Number of splits must evenly divide the axis."}),n=new Array(e).fill(t.shape[r]/e);else{var a=e.reduce(function(u,l){return l===-1&&(u+=1),u},0);se(a<=1,function(){return"There should be only one negative value in split array."});var s=e.indexOf(-1);if(s!==-1){var o=e.reduce(function(u,l){return l>0?u+l:u});e[s]=t.shape[r]-o}se(t.shape[r]===e.reduce(function(u,l){return u+l}),function(){return"The sum of sizes must match the size of the axis dimension."}),n=e}return n}function gDe(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = `+t}function yDe(t,e){return"indices("+t+", 0) is invalid: "+e+" < 0"}function bDe(t,e,r){return"indices("+t+", 0) is invalid: "+e+" >= "+r}function wDe(t,e){return"only one output dimension may be -1, not both "+t+" and "+e}function _De(t,e){return"size "+t+" must be non-negative, not "+e}function xDe(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function SDe(t,e){var r=xn(t),n=xn(e);return"Input to reshape is a SparseTensor with "+r+`
  dense values, but the requested shape requires a multiple of `+n+". inputShape="+t+" outputShape= "+e}function EDe(t,e){var r=xn(t),n=xn(e);return"Input to reshape is a tensor with "+r+" dense values, but the requested shape has "+n+". inputShape="+t+" outputShape="+e}function MDe(){return"segment ids must be >= 0"}function ADe(){return"segment ids are not increasing"}function kDe(t,e){return"Segment id "+t+" out of range [0, "+e+"), possibly because segmentIds input is not sorted."}function TDe(t,e,r){return"Bad: indices["+t+"] == "+e+" out of range [0, "+r+")"}function NDe(t,e){var r=!1,n;for(t<=RN?(n=t,r=!0):n=N2(t,Math.floor(Math.sqrt(t)));!r;)n>e||n===t?r=!0:n=N2(t,n+1);return n}function IDe(t,e,r){for(var n=[],a=t.length,s=0;s<a;s++)s!==e?n.push(t[s]):n.push(r);return n}function DDe(t,e,r,n){var a=e.shape.length,s=t.shape.length;if(n!==0&&(n<-a||n>a))throw new Error("Expect batchDims in the range of [-"+a+", "+a+"], but got "+n);if(n<0&&(n+=a),n>s)throw new Error("batchDims ("+n+`) must be less than rank(x) (
    `+s+").");if(r<n)throw new Error("batchDims ("+n+") must be less than or equal to axis ("+r+").");for(var o=0;o<n;++o)if(t.shape[o]!==e.shape[o])throw new Error("x.shape["+o+"]: "+t.shape[o]+" should be equal to indices.shape["+o+"]: "+e.shape[o]+".");for(var u=t.shape[r],l=[],h=1,p=1,v=1,o=0;o<n;++o)l.push(t.shape[o]),h*=t.shape[o];for(var o=n;o<r;o++)l.push(t.shape[o]),p*=t.shape[o];for(var o=n;o<a;o++)l.push(e.shape[o]);for(var o=r+1;o<s;o++)l.push(t.shape[o]),v*=t.shape[o];return{batchSize:h,sliceSize:v,outerSize:p,dimSize:u,outputShape:l}}var ODe={__proto__:null,segOpComputeOptimalWindowSize:NDe,computeOutShape:IDe,collectGatherOpShapeInfo:DDe};function RDe(t){try{return t.map(function(e){return R2(e)})}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8, error: "+e)}}function CDe(t){return t.map(function(e){return sy(e)})}var FDe={__proto__:null,slice_util:xH,segment_util:ODe,fromUint8ToStringArray:RDe,fromStringArrayToUint8:CDe,upcastType:W2,axesAreInnerMostDims:xN,combineLocations:LH,computeOutAndReduceShapes:fke,expandShapeToKeepDim:fy,assertAxesAreInnerMostDims:lke,getAxesPermutation:cke,getUndoAxesPermutation:hke,getInnerMostAxes:dke,getBroadcastDims:fH,getReductionAxes:mN,assertAndGetBroadcastShape:di,assertParamsConsistent:PIe,computeOutShape:qIe,computeDilation2DInfo:FMe,computePool2DInfo:TH,computePool3DInfo:BMe,computeConv2DInfo:uy,computeConv3DInfo:NH,computeDefaultPad:wN,tupleValuesAreOne:Xg,eitherStridesOrDilationsAreOne:xf,convertConv2DDataFormat:IH,checkPadOnDimRoundingMode:Xs,getFusedDyActivation:ex,getFusedBiasGradient:tx,applyActivation:rx,shouldFuse:nx,PARALLELIZE_THRESHOLD:RN,computeOptimalWindowSize:$Ie,getImageCenter:zIe,getReshaped:jIe,getPermuted:UIe,getReshapedPermuted:VIe,getSliceBeginCoords:WIe,getSliceSize:GIe,prepareAndValidate:hH,validateUpdateShape:vN,validateInput:gN,calculateShapes:dH,SELU_SCALEALPHA:HIe,SELU_SCALE:KIe,ERF_P:ZIe,ERF_A1:JIe,ERF_A2:YIe,ERF_A3:XIe,ERF_A4:QIe,ERF_A5:eDe,warn:Dl,log:xSe,mergeRealAndImagArrays:tDe,splitRealAndImagArrays:rDe,complexWithEvenIndex:nDe,complexWithOddIndex:iDe,getComplexWithIndex:aDe,assignToTypedArray:sDe,exponents:oDe,exponent:uDe,decodeEinsumEquation:lDe,getEinsumPermutation:cDe,checkEinsumDimSizes:hDe,getEinsumComputePath:dDe,isIdentityPermutation:pDe,prepareSplitSize:vDe,getSparseFillEmptyRowsIndicesDenseShapeMismatch:gDe,getSparseFillEmptyRowsNegativeIndexErrorMessage:yDe,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:bDe,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:wDe,getSparseReshapeNegativeOutputDimErrorMessage:_De,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:xDe,getSparseReshapeInputOutputMultipleErrorMessage:SDe,getSparseReshapeInputOutputMismatchErrorMessage:EDe,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:MDe,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:ADe,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:kDe,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:TDe};var BDe={__proto__:null,nonMaxSuppressionV3Impl:pK,nonMaxSuppressionV4Impl:mK,nonMaxSuppressionV5Impl:vK,whereImpl:fK};W.Abs=JU;W.Acos=YU;W.Acosh=XU;W.AdadeltaOptimizer=ix;W.AdagradOptimizer=ax;W.AdamOptimizer=sx;W.AdamaxOptimizer=ox;W.Add=rN;W.AddN=QU;W.All=eV;W.Any=tV;W.ArgMax=rV;W.ArgMin=nV;W.Asin=iV;W.Asinh=aV;W.Atan=sV;W.Atan2=uV;W.Atanh=oV;W.AvgPool=fV;W.AvgPool3D=lV;W.AvgPool3DGrad=aSe;W.AvgPoolGrad=iSe;W.BatchMatMul=cV;W.BatchToSpaceND=hV;W.Bincount=dV;W.BroadcastArgs=pV;W.BroadcastTo=sSe;W.Cast=nN;W.Ceil=mV;W.ClipByValue=vV;W.Complex=gV;W.ComplexAbs=yV;W.Concat=bV;W.Conv2D=wV;W.Conv2DBackpropFilter=_V;W.Conv2DBackpropInput=xV;W.Conv3D=SV;W.Conv3DBackpropFilterV2=oSe;W.Conv3DBackpropInputV2=EV;W.Cos=MV;W.Cosh=AV;W.CropAndResize=NV;W.Cumprod=kV;W.Cumsum=TV;W.DataStorage=Lxe;W.DenseBincount=IV;W.DepthToSpace=DV;W.DepthwiseConv2dNative=OV;W.DepthwiseConv2dNativeBackpropFilter=RV;W.DepthwiseConv2dNativeBackpropInput=CV;W.Diag=FV;W.Dilation2D=BV;W.Dilation2DBackpropFilter=fSe;W.Dilation2DBackpropInput=uSe;W.Einsum=PV;W.Elu=qV;W.EluGrad=lSe;W.Environment=KU;W.Equal=zV;W.Erf=$V;W.Exp=jV;W.ExpandDims=UV;W.Expm1=VV;W.FFT=WV;W.Fill=GV;W.FlipLeftRight=HV;W.Floor=KV;W.FloorDiv=ZV;W.FromPixels=T4;W.FusedBatchNorm=JV;W.FusedConv2D=I4;W.FusedDepthwiseConv2D=D4;W.GatherNd=XV;W.GatherV2=YV;W.Greater=QV;W.GreaterEqual=eW;W.IFFT=tW;W.Identity=iN;W.Imag=rW;W.IsFinite=nW;W.IsInf=iW;W.IsNan=aW;W.KernelBackend=LU;W.LRN=mW;W.LRNGrad=pSe;W.LeakyRelu=sW;W.Less=oW;W.LessEqual=uW;W.LinSpace=fW;W.Log=lW;W.Log1p=cW;W.LogSoftmax=hSe;W.LogicalAnd=hW;W.LogicalNot=dW;W.LogicalOr=pW;W.LogicalXor=cSe;W.LowerBound=dSe;W.Max=vW;W.MaxPool=yW;W.MaxPool3D=bW;W.MaxPool3DGrad=vSe;W.MaxPoolGrad=mSe;W.MaxPoolWithArgmax=wW;W.Maximum=gW;W.Mean=_W;W.Min=xW;W.Minimum=SW;W.MirrorPad=EW;W.Mod=MW;W.MomentumOptimizer=ux;W.Multinomial=AW;W.Multiply=kW;W.Neg=TW;W.NonMaxSuppressionV3=IW;W.NonMaxSuppressionV4=DW;W.NonMaxSuppressionV5=OW;W.NotEqual=NW;W.OP_SCOPE_SUFFIX=GG;W.OneHot=CW;W.OnesLike=RW;W.Optimizer=zl;W.OptimizerConstructors=Il;W.Pack=FW;W.PadV2=BW;W.Pool=gSe;W.Pow=LW;W.Prelu=PW;W.Prod=qW;W.RMSPropOptimizer=fx;W.Range=$W;W.Real=zW;W.RealDiv=LV;W.Reciprocal=jW;W.Relu=UW;W.Relu6=HW;W.Reshape=VW;W.ResizeBilinear=GW;W.ResizeBilinearGrad=bSe;W.ResizeNearestNeighbor=WW;W.ResizeNearestNeighborGrad=ySe;W.Reverse=KW;W.RotateWithOffset=OG;W.Round=ZW;W.Rsqrt=JW;W.SGDOptimizer=cy;W.ScatterNd=YW;W.SearchSorted=XW;W.Select=QW;W.Selu=eG;W.Sigmoid=aG;W.Sign=iG;W.Sin=rG;W.Sinh=nG;W.Slice=tG;W.Softmax=cG;W.Softplus=sG;W.SpaceToBatchND=fG;W.SparseFillEmptyRows=hG;W.SparseReshape=dG;W.SparseSegmentMean=pG;W.SparseSegmentSum=mG;W.SparseToDense=vG;W.SplitV=lG;W.Sqrt=oG;W.Square=wSe;W.SquaredDifference=gG;W.Step=DG;W.StridedSlice=yG;W.StringNGrams=bG;W.StringSplit=wG;W.StringToHashBucketFast=_G;W.Sub=xG;W.Sum=uG;W.Tan=SG;W.Tanh=EG;W.Tensor=ci;W.TensorBuffer=C2;W.Tile=aN;W.TopK=MG;W.Transform=AG;W.Transpose=E2;W.Unique=kG;W.Unpack=TG;W.UnsortedSegmentSum=NG;W.UpperBound=_Se;W.Variable=Zg;W.ZerosLike=IG;W._FusedMatMul=N4;W.abs=fs;W.acos=hMe;W.acosh=pMe;W.add=Ot;W.addN=vMe;W.all=yMe;W.any=wMe;W.argMax=xMe;W.argMin=EMe;W.asin=AMe;W.asinh=TMe;W.atan=IMe;W.atan2=OMe;W.atanh=CMe;W.avgPool=DH;W.avgPool3d=VMe;W.backend=w3e;W.backend_util=FDe;W.basicLSTMCell=JMe;W.batchNorm=H2;W.batchNorm2d=tAe;W.batchNorm3d=nAe;W.batchNorm4d=aAe;W.batchToSpaceND=OH;W.bincount=RH;W.booleanMaskAsync=T4e;W.broadcastArgs=uAe;W.broadcastTo=k2;W.broadcast_util=N3e;W.browser=L3e;W.buffer=bf;W.cast=Hn;W.ceil=cAe;W.clipByValue=dAe;W.clone=Mh;W.complex=Bl;W.concat=Ga;W.concat1d=mAe;W.concat2d=gAe;W.concat3d=bAe;W.concat4d=_Ae;W.conv1d=EAe;W.conv2d=K2;W.conv2dTranspose=kAe;W.conv3d=NAe;W.conv3dTranspose=RAe;W.copyRegisteredKernels=ASe;W.cos=FAe;W.cosh=LAe;W.cosineWindow=DN;W.cumprod=qAe;W.cumsum=zAe;W.customGrad=Fu;W.denseBincount=UAe;W.deprecationWarn=o3e;W.depthToSpace=WAe;W.depthwiseConv2d=_N;W.device_util=iEe;W.diag=KAe;W.dilation2d=JAe;W.disableDeprecationWarnings=s3e;W.dispose=ka;W.disposeVariables=u3e;W.div=_n;W.divNoNan=tke;W.dot=nke;W.dropout=$4e;W.einsum=ake;W.elu=BH;W.enableDebugMode=a3e;W.enableProdMode=i3e;W.enclosingPowerOfTwo=cK;W.engine=f3e;W.env=Kt;W.equal=FH;W.erf=uke;W.euclideanNorm=xke;W.exp=Ih;W.expandDims=wh;W.expm1=Ake;W.eye=qH;W.fft=kN;W.fill=J2;W.findBackend=g3e;W.findBackendFactory=y3e;W.floor=$H;W.floorDiv=kH;W.fused=tNe;W.gather=zH;W.gatherND=L4e;W.gather_util=P3e;W.getBackend=m3e;W.getGradient=O4;W.getKernel=I2;W.getKernelsForBackend=D2;W.grad=Kke;W.grads=Zke;W.greater=Y2;W.greaterEqual=jH;W.ifft=z2;W.imag=G2;W.image=IIe;W.inTopKAsync=j4e;W.io=t3e;W.irfft=sK;W.isFinite=Cke;W.isInf=Bke;W.isNaN=Pke;W.keep=uH;W.kernel_impls=BDe;W.leakyRelu=UH;W.less=zke;W.lessEqual=SN;W.linalg=DIe;W.linspace=Uke;W.localResponseNormalization=Wke;W.log=ey;W.log1p=VH;W.logSigmoid=eTe;W.logSoftmax=nTe;W.logSumExp=HH;W.logicalAnd=q2;W.logicalNot=KH;W.logicalOr=ZH;W.logicalXor=fTe;W.losses=OIe;W.lowerBound=cTe;W.matMul=Pr;W.math=T3e;W.max=Up;W.maxPool=JH;W.maxPool3d=pTe;W.maxPoolWithArgmax=vTe;W.maximum=YH;W.mean=$2;W.memory=l3e;W.meshgrid=bTe;W.min=Y4;W.minimum=XH;W.mirrorPad=xTe;W.mod=ETe;W.moments=ATe;W.movingAverage=I4e;W.mul=vt;W.multiRNNCell=TTe;W.multinomial=ITe;W.neg=yf;W.nextFrame=LIe;W.norm=Z2;W.notEqual=QH;W.oneHot=G4;W.ones=Eh;W.onesLike=RTe;W.op=pe;W.outerProduct=FTe;W.pad=ly;W.pad1d=PTe;W.pad2d=$Te;W.pad3d=jTe;W.pad4d=VTe;W.pool=ZTe;W.pow=Qg;W.prelu=tK;W.print=rH;W.prod=XTe;W.profile=c3e;W.rand=e6e;W.randomGamma=l6e;W.randomNormal=rK;W.randomStandardNormal=d6e;W.randomUniform=nK;W.range=ty;W.ready=p3e;W.real=Yg;W.reciprocal=v6e;W.registerBackend=b3e;W.registerGradient=SSe;W.registerKernel=RG;W.relu=Q2;W.relu6=iK;W.removeBackend=v3e;W.reshape=it;W.reverse=Dh;W.reverse1d=_6e;W.reverse2d=S6e;W.reverse3d=M6e;W.reverse4d=k6e;W.rfft=TN;W.round=aK;W.rsqrt=I6e;W.scalar=qr;W.scatterND=O4e;W.scatter_util=q3e;W.searchSorted=EN;W.selu=O6e;W.separableConv2d=C6e;W.serialization=J3e;W.setBackend=d3e;W.setPlatform=_3e;W.setdiff1dAsync=B6e;W.sigmoid=jp;W.sign=P6e;W.signal=NIe;W.sin=$6e;W.sinh=j6e;W.slice=Dn;W.slice1d=V6e;W.slice2d=G6e;W.slice3d=K6e;W.slice4d=J6e;W.slice_util=xH;W.softmax=X6e;W.softplus=GH;W.spaceToBatchND=eK;W.sparse=RIe;W.sparseToDense=F4e;W.spectral=TIe;W.split=ry;W.sqrt=wf;W.square=Vo;W.squaredDifference=oK;W.squeeze=NN;W.stack=ny;W.step=uK;W.stridedSlice=f4e;W.string=CIe;W.sub=Xt;W.sum=wn;W.sumOutType=ZSe;W.tan=c4e;W.tanh=J4;W.tensor=qp;W.tensor1d=Uo;W.tensor2d=Wg;W.tensor3d=lH;W.tensor4d=h4e;W.tensor5d=d4e;W.tensor6d=p4e;W.tensor_util=XSe;W.test_util=iMe;W.tidy=hi;W.tile=Vg;W.time=h3e;W.topk=v4e;W.train=FIe;W.transpose=L2;W.truncatedNormal=y4e;W.unique=w4e;W.unregisterGradient=MSe;W.unregisterKernel=ESe;W.unsortedSegmentSum=x4e;W.unstack=IN;W.upcastType=W2;W.upperBound=E4e;W.util=LSe;W.valueAndGrad=Jke;W.valueAndGrads=Yke;W.variable=M4e;W.variableGrads=WH;W.version_core=aMe;W.where=Hp;W.whereAsync=lK;W.zeros=Kp;W.zerosLike=ls});var fre=ne(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});var wt=kt();function WFe(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,e}var Aee=WFe(wt);var GFe=wt.env();GFe.registerFlag("KEEP_INTERMEDIATE_TENSORS",function(){return!1},function(t){t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});var YI=function(t,e){return YI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},YI(t,e)};function HFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");YI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function cn(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(p){try{h(n.next(p))}catch(v){o(v)}}function l(p){try{h(n.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):a(p.value).then(u,l)}h((n=n.apply(t,e||[])).next())})}function nn(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(p){return l([h,p])}}function l(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(p){h=[6,p],a=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function qE(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bt(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,s=[],o;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(u){o={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Vi(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bt(arguments[e]));return t}var po;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(po||(po={}));var kee;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(kee||(kee={}));var xD={};function KFe(t,e){var r={tfOpName:t,category:"custom",inputs:[],attrs:[],customExecutor:e};xD[t]=r}function ite(t){return xD[t]}function ZFe(t){delete xD[t]}function V(t,e,r,n,a){var s=e.inputParams[t];if(s&&s.inputIndexStart!==void 0){var o=s.inputIndexStart,u=s.inputIndexEnd===0?void 0:s.inputIndexEnd===void 0?o+1:s.inputIndexEnd;if(s.type==="tensor")return Sa(e.inputNames[s.inputIndexStart],r,n,a);if(s.type==="tensors"){var l=e.inputNames.slice(o,u);return l.map(function(y){return Sa(y,r,n,a)})}var h=Sa(e.inputNames.slice(o)[0],r,n,a),p=h.dataSync();return s.type==="number"?p[0]:wt.util.toNestedArray(h.shape,p)}var v=e.attrParams[t];return v&&v.value}function Sa(t,e,r,n){var a=bt(Xa(t),2),s=a[0],o=a[1];if(n!=null){var u=n.getHashTableHandleByName(s);if(u!=null)return u}var l=r.currentContextIds.find(function(h){return!!e[$E(s,h)]});return l!==void 0?e[$E(s,l)][o]:void 0}function JFe(t,e,r){return e[$E(t,r.currentContextId)]}function ju(t,e){var r=bt(Xa(t),3),n=r[0],a=r[1],s=r[2];return[$E(n,e&&e.currentContextId),a,s]}function $E(t,e){return e?t+"-"+e:t}function Xa(t){var e=t.split(":");if(e.length===1)return[t,0,void 0];var r=e[0],n=e.length===3?e[1]:void 0,a=Number(e[e.length-1]);return[r,a,n]}function FE(t,e,r){var n=V("pad",t,e,r);if(n==="explicit"){n=V("explicitPaddings",t,e,r);for(var a=[[0,0],[0,0],[0,0],[0,0]],s=0;s<4;s++)a[s][0]=n[s*2],a[s][1]=n[s*2+1];return a}return n}function Uf(t){return t.kept?t:wt.clone(t)}var YFe=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],XFe={__proto__:null,json:YFe};var QFe=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],e7e={__proto__:null,json:QFe};var t7e=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],r7e={__proto__:null,json:t7e};var n7e=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],i7e={__proto__:null,json:n7e};var a7e=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],s7e={__proto__:null,json:a7e};var o7e=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],u7e={__proto__:null,json:o7e};var f7e=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],l7e={__proto__:null,json:f7e};var c7e=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],h7e={__proto__:null,json:c7e};var d7e=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],p7e={__proto__:null,json:d7e};var m7e=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],v7e={__proto__:null,json:m7e};var g7e=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],y7e={__proto__:null,json:g7e};var b7e=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],w7e={__proto__:null,json:b7e};var _7e=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],x7e={__proto__:null,json:_7e};var S7e=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],E7e={__proto__:null,json:S7e};var M7e=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],A7e={__proto__:null,json:M7e};var k7e=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],T7e={__proto__:null,json:k7e};var N7e=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],I7e={__proto__:null,json:N7e};var D7e=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],O7e={__proto__:null,json:D7e};var R7e=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],C7e={__proto__:null,json:R7e},Tee=function(){function t(){var e=[XFe,e7e,r7e,i7e,s7e,u7e,l7e,h7e,p7e,v7e,y7e,w7e,x7e,E7e,A7e,T7e,I7e,O7e,C7e],r=[].concat.apply([],Vi(e.map(function(n){return n.json})));this.opMappers=r.reduce(function(n,a){return n[a.tfOpName]=a,n},{})}return Object.defineProperty(t,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),t.prototype.transformGraph=function(e,r){var n=this;r===void 0&&(r={});var a=e.node,s=[],o=[],u=[],l=a.reduce(function(I,N){return I[N.name]=n.mapNode(N),N.op.startsWith("Placeholder")?s.push(I[N.name]):N.op==="Const"?o.push(I[N.name]):(N.input==null||N.input.length===0)&&u.push(I[N.name]),I},{}),h=[],p=[],v={},y={};r!=null&&(v=this.mapSignatureEntries(r.inputs),y=this.mapSignatureEntries(r.outputs));var S=Object.keys(l);S.forEach(function(I){var N=l[I];N.inputNames.forEach(function(D,C){var L=bt(ju(D),3),z=L[0],$=L[2],G=l[z];if(G.outputs!=null){var j=G.outputs.indexOf($);if(j!==-1){var Z=z+":"+j;N.inputNames[C]=Z}}N.inputs.push(G),G.children.push(N)})}),Object.keys(y).length===0?S.forEach(function(I){var N=l[I];N.children.length===0&&p.push(N)}):Object.keys(y).forEach(function(I){var N=bt(ju(I),1),D=N[0],C=l[D];C!=null&&(C.signatureKey=y[I],p.push(C))}),Object.keys(v).length>0?Object.keys(v).forEach(function(I){var N=bt(ju(I),1),D=N[0],C=l[D];C&&(C.signatureKey=v[I],h.push(C))}):h=s;var A={};e.library!=null&&e.library.function!=null&&(A=e.library.function.reduce(function(I,N){return I[N.signature.name]=n.mapFunction(N),I},{}));var T={nodes:l,inputs:h,outputs:p,weights:o,placeholders:s,signature:r,functions:A};return u.length>0&&(T.initNodes=u),T},t.prototype.mapSignatureEntries=function(e){return Object.keys(e||{}).reduce(function(r,n){return r[e[n].name]=n,r},{})},t.prototype.mapNode=function(e){var r=ite(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});var n={name:e.name,op:e.op,category:r.category,inputNames:(e.input||[]).map(function(a){return a.startsWith("^")?a.slice(1):a}),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:r.outputs};return r.inputs!=null&&(n.inputParams=r.inputs.reduce(function(a,s){return a[s.name]={type:s.type,inputIndexStart:s.start,inputIndexEnd:s.end},a},{})),r.attrs!=null&&(n.attrParams=r.attrs.reduce(function(a,s){var o=s.type,u=void 0;switch(s.type){case"string":u=XI(e.attr,s.tfName,s.defaultValue),u===void 0&&!!s.tfDeprecatedName&&(u=XI(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"string[]":u=aD(e.attr,s.tfName,s.defaultValue),u===void 0&&!!s.tfDeprecatedName&&(u=aD(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"number":u=eD(e.attr,s.tfName,s.defaultValue||0),u===void 0&&!!s.tfDeprecatedName&&(u=eD(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"number[]":u=iD(e.attr,s.tfName,s.defaultValue),u===void 0&&!!s.tfDeprecatedName&&(u=iD(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"bool":u=QI(e.attr,s.tfName,s.defaultValue),u===void 0&&!!s.tfDeprecatedName&&(u=QI(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"bool[]":u=oD(e.attr,s.tfName,s.defaultValue),u===void 0&&!!s.tfDeprecatedName&&(u=oD(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"shape":u=nD(e.attr,s.tfName,s.defaultValue),u===void 0&&!!s.tfDeprecatedName&&(u=nD(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"shape[]":u=sD(e.attr,s.tfName,s.defaultValue),u===void 0&&!!s.tfDeprecatedName&&(u=sD(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"dtype":u=tD(e.attr,s.tfName,s.defaultValue),u===void 0&&!!s.tfDeprecatedName&&(u=tD(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"dtype[]":u=rD(e.attr,s.tfName,s.defaultValue),u===void 0&&!!s.tfDeprecatedName&&(u=rD(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"func":u=Nee(e.attr,s.tfName,s.defaultValue),u===void 0&&!!s.tfDeprecatedName&&(u=Nee(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: "+s.type+" for op: "+e.op)}return a[s.name]={value:u,type:o},a},{})),n},t.prototype.mapFunction=function(e){var r=this,n=e.nodeDef,a=[],s=[],o={};n!=null&&(o=n.reduce(function(y,S){return y[S.name]=r.mapNode(S),S.op==="Const"&&s.push(y[S.name]),y},{}));var u=[],l=[];e.signature.inputArg.forEach(function(y){var S=bt(ju(y.name),1),A=S[0],T={name:A,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:SD(y.type),type:"dtype"}},children:[]};T.signatureKey=y.name,u.push(T),o[A]=T});var h=Object.keys(o);h.forEach(function(y){var S=o[y];S.inputNames.forEach(function(A,T){var I=bt(ju(A),3),N=I[0],D=I[2],C=o[N];if(C.outputs!=null){var L=C.outputs.indexOf(D);if(L!==-1){var z=N+":"+L;S.inputNames[T]=z}}S.inputs.push(C),C.children.push(S)})});var p=e.ret;e.signature.outputArg.forEach(function(y){var S=bt(ju(p[y.name]),2),A=S[0],T=S[1],I=o[A];I!=null&&(I.defaultOutput=T,l.push(I))});var v=this.mapArgsToSignature(e);return{nodes:o,inputs:u,outputs:l,weights:s,placeholders:a,signature:v}},t.prototype.mapArgsToSignature=function(e){var r=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(function(n,a){return n[a.name]=r.mapArgToTensorInfo(a),n},{}),outputs:e.signature.outputArg.reduce(function(n,a){return n[a.name]=r.mapArgToTensorInfo(a,e.ret),n},{})}},t.prototype.mapArgToTensorInfo=function(e,r){var n=e.name;return r!=null&&(n=r[n]),{name:n,dtype:e.type}},t}();function F7e(t){var e=wt.env().global;if(typeof e.atob!="undefined")return e.atob(t);if(typeof Buffer!="undefined")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function ate(t,e){var r=Array.isArray(t)?String.fromCharCode.apply(null,t):F7e(t);return e?r:r.toLowerCase()}function XI(t,e,r,n){n===void 0&&(n=!1);var a=t[e];return a!=null?ate(a.s,n):r}function QI(t,e,r){var n=t[e];return n?n.b:r}function eD(t,e,r){var n=t[e]||{},a=n.i!=null?n.i:n.f!=null?n.f:r;return typeof a=="number"?a:parseInt(a,10)}function SD(t){switch(typeof t=="string"&&(t=po[t]),t){case po.DT_FLOAT:case po.DT_HALF:return"float32";case po.DT_INT32:case po.DT_INT64:case po.DT_INT8:case po.DT_UINT8:return"int32";case po.DT_BOOL:return"bool";case po.DT_DOUBLE:return"float32";case po.DT_STRING:return"string";default:return null}}function Nee(t,e,r){var n=t[e];return n&&n.func?n.func.name:r}function tD(t,e,r){var n=t[e];return n&&n.type?SD(n.type):r}function rD(t,e,r){var n=t[e];return n&&n.list&&n.list.type?n.list.type.map(function(a){return SD(a)}):r}function ste(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(function(e){return typeof e.size=="number"?e.size:parseInt(e.size,10)}):[]}function nD(t,e,r){var n=t[e];return n&&n.shape?ste(n.shape):r}function iD(t,e,r){var n=t[e];return n?((n.list.f&&n.list.f.length?n.list.f:n.list.i)||[]).map(function(a){return typeof a=="number"?a:parseInt(a,10)}):r}function aD(t,e,r,n){n===void 0&&(n=!1);var a=t[e];return a&&a.list&&a.list.s?a.list.s.map(function(s){return ate(s,n)}):r}function sD(t,e,r){var n=t[e];return n&&n.list&&n.list.shape?n.list.shape.map(function(a){return ste(a)}):r}function oD(t,e,r){var n=t[e];return n&&n.list&&n.list.b?n.list.b:r}var B7e=function(){function t(e,r,n){var a=this;this.node=e,this.tensorMap=r,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(function(s){return a.getInput(s)}),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce(function(s,o){return s[o]=a.getAttr(o),s},{}))}return t.prototype.getInput=function(e){return Sa(e,this.tensorMap,this.context)},t.prototype.getAttr=function(e,r){var n=this.node.rawAttrs[e];if(n.tensor!=null)return Sa(e,this.tensorMap,this.context);if(n.i!=null||n.f!=null)return eD(this.node.rawAttrs,e,r);if(n.s!=null)return XI(this.node.rawAttrs,e,r);if(n.b!=null)return QI(this.node.rawAttrs,e,r);if(n.shape!=null)return nD(this.node.rawAttrs,e,r);if(n.type!=null)return tD(this.node.rawAttrs,e,r);if(n.list!=null){if(n.list.i!=null||n.list.f!=null)return iD(this.node.rawAttrs,e,r);if(n.list.s!=null)return aD(this.node.rawAttrs,e,r);if(n.list.shape!=null)return sD(this.node.rawAttrs,e,r);if(n.list.b!=null)return oD(this.node.rawAttrs,e,r);if(n.list.type!=null)return rD(this.node.rawAttrs,e,r)}return r},t}();var L7e=1e-7,P7e=1e-4,q7e=function(){function t(){}return t.prototype.refCount=function(e){return vs("refCount")},t.prototype.incRef=function(e){return vs("incRef")},t.prototype.timerAvailable=function(){return!0},t.prototype.time=function(e){return vs("time")},t.prototype.read=function(e){return vs("read")},t.prototype.readSync=function(e){return vs("readSync")},t.prototype.readToGPU=function(e,r){return vs("readToGPU")},t.prototype.numDataIds=function(){return vs("numDataIds")},t.prototype.disposeData=function(e,r){return vs("disposeData")},t.prototype.write=function(e,r,n){return vs("write")},t.prototype.move=function(e,r,n,a,s){return vs("move")},t.prototype.memory=function(){return vs("memory")},t.prototype.floatPrecision=function(){return vs("floatPrecision")},t.prototype.epsilon=function(){return this.floatPrecision()===32?L7e:P7e},t.prototype.dispose=function(){return vs("dispose")},t}();function vs(t){throw new Error("'"+t+"' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen")}function ye(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function _o(t,e,r){r===void 0&&(r=""),ye(Wm(t,e),function(){return r+(" Shapes "+t+" and "+e+" must match")})}function Vm(t){ye(t!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function JE(t,e,r){if(e===void 0&&(e=[]),r===void 0&&(r=!1),e==null&&(e=[]),Array.isArray(t)||Uu(t)&&!r)for(var n=0;n<t.length;++n)JE(t[n],e,r);else e.push(t);return e}function La(t){if(t.length===0)return 1;for(var e=t[0],r=1;r<t.length;r++)e*=t[r];return e}function Wm(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function b1(t){return t%1===0}function BE(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function YE(t,e){var r=e.length;return t=t==null?e.map(function(n,a){return a}):[].concat(t),ye(t.every(function(n){return n>=-r&&n<r}),function(){return"All values in axis param must be in range [-"+r+", "+r+") but "+("got axis "+t)}),ye(t.every(function(n){return b1(n)}),function(){return"All values in axis param must be integers but "+("got axis "+t)}),t.map(function(n){return n<0?r+n:n})}function $7e(t,e){for(var r=[],n=[],a=e!=null&&Array.isArray(e)&&e.length===0,s=e==null||a?null:YE(e,t).sort(),o=0,u=0;u<t.length;++u){if(s!=null){if(s[o]===u&&t[u]!==1)throw new Error("Can't squeeze axis "+u+" since its dim '"+t[u]+"' is not 1");(s[o]==null||s[o]>u)&&t[u]===1&&(r.push(t[u]),n.push(u)),s[o]<=u&&o++}t[u]!==1&&(r.push(t[u]),n.push(u))}return{newShape:r,keptDims:n}}function z7e(t,e){var r=null;if(t==null||t==="float32")r=new Float32Array(e);else if(t==="int32")r=new Int32Array(e);else if(t==="bool")r=new Uint8Array(e);else throw new Error("Unknown data type "+t);return r}function j7e(t,e){var r=null;if(t==null||t==="float32")r=new Float32Array(e);else if(t==="int32")r=new Int32Array(e);else if(t==="bool")r=new Uint8Array(e);else if(t==="string")r=new Array(e);else throw new Error("Unknown data type "+t);return r}function U7e(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(isNaN(n)||!isFinite(n))throw Error("A tensor of type "+e+" being uploaded contains "+n+".")}}function V7e(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function Uu(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}function Iee(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error("Unknown dtype "+t)}function W7e(t){if(t==null)return 0;var e=0;return t.forEach(function(r){return e+=r.length}),e}function ED(t){return typeof t=="string"||t instanceof String}function G7e(t){return typeof t=="boolean"}function H7e(t){return typeof t=="number"}function MD(t){return Array.isArray(t)?MD(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":H7e(t)?"float32":ED(t)?"string":G7e(t)?"bool":"float32"}function Dee(t){return!!(t&&t.constructor&&t.call&&t.apply)}function AD(t){var e=t.length;if(e<2)return[];var r=new Array(e-1);r[e-2]=t[e-1];for(var n=e-3;n>=0;--n)r[n]=r[n+1]*t[n+1];return r}function ote(t,e,r,n){n===void 0&&(n=!1);var a=new Array;if(e.length===1)for(var s=e[0]*(n?2:1),o=0;o<s;o++)a[o]=r[t+o];else for(var s=e[0],u=e.slice(1),l=u.reduce(function(p,v){return p*v})*(n?2:1),o=0;o<s;o++)a[o]=ote(t+o*l,u,r,n);return a}function Oee(t,e,r){if(r===void 0&&(r=!1),t.length===0)return e[0];var n=t.reduce(function(a,s){return a*s})*(r?2:1);if(n===0)return[];if(n!==e.length)throw new Error("["+t+"] does not match the input size "+e.length+(r?" for a complex tensor":"")+".");return ote(0,t,e,r)}function ute(t,e){for(var r=kD(t,e),n=0;n<r.length;n++)r[n]=1;return r}function kD(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error("Unknown data type "+e)}function fte(t){t.forEach(function(e){ye(Number.isInteger(e)&&e>=0,function(){return"Tensor must have a shape comprised of positive integers but got "+("shape ["+t+"].")})})}function lte(t){return t&&t.then&&typeof t.then=="function"}var Ree="tfjsflags",K7e=function(){function t(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Z7e,this.populateURLFlags()}return t.prototype.setPlatform=function(e,r){this.platform!=null&&(go().getBool("IS_TEST")||go().getBool("PROD")||console.warn("Platform "+this.platformName+" has already been set. "+("Overwriting the platform with "+e+"."))),this.platformName=e,this.platform=r},t.prototype.registerFlag=function(e,r,n){if(this.flagRegistry[e]={evaluationFn:r,setHook:n},this.urlFlags[e]!=null){var a=this.urlFlags[e];go().getBool("IS_TEST")||go().getBool("PROD")||console.warn("Setting feature override from URL "+e+": "+a+"."),this.set(e,a)}},t.prototype.getAsync=function(e){return cn(this,void 0,void 0,function(){var r,n;return nn(this,function(a){switch(a.label){case 0:return e in this.flags?[2,this.flags[e]]:(r=this.flags,n=e,[4,this.evaluateFlag(e)]);case 1:return r[n]=a.sent(),[2,this.flags[e]]}})})},t.prototype.get=function(e){if(e in this.flags)return this.flags[e];var r=this.evaluateFlag(e);if(lte(r))throw new Error("Flag "+e+" cannot be synchronously evaluated. Please use getAsync() instead.");return this.flags[e]=r,this.flags[e]},t.prototype.getNumber=function(e){return this.get(e)},t.prototype.getBool=function(e){return this.get(e)},t.prototype.getFlags=function(){return this.flags},Object.defineProperty(t.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),t.prototype.set=function(e,r){if(this.flagRegistry[e]==null)throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=r,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(r)},t.prototype.evaluateFlag=function(e){if(this.flagRegistry[e]==null)throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},t.prototype.setFlags=function(e){this.flags=Object.assign({},e)},t.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},t.prototype.populateURLFlags=function(){var e=this;if(!(typeof this.global=="undefined"||typeof this.global.location=="undefined"||typeof this.global.location.search=="undefined")){var r=this.getQueryParams(this.global.location.search);if(Ree in r){var n=r[Ree].split(",");n.forEach(function(a){var s=bt(a.split(":"),2),o=s[0],u=s[1];e.urlFlags[o]=Y7e(o,u)})}}},t}();function Z7e(t){var e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(r){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return J7e(e,n[0],n[1]),n.join("=")}),e}function J7e(t,e,r){t[decodeURIComponent(e)]=decodeURIComponent(r||"")}function Y7e(t,e){if(e=e.toLowerCase(),e==="true"||e==="false")return e==="true";if(""+ +e===e)return+e;throw new Error("Could not parse value flag value "+e+" for flag "+t+".")}function go(){return cte}var cte=null;function X7e(t){cte=t}var GI;function hte(){if(GI==null){var t=void 0;if(typeof window!="undefined")t=window;else if(typeof global!="undefined")t=global;else if(typeof process!="undefined")t=process;else if(typeof self!="undefined")t=self;else throw new Error("Could not find a global object");GI=t}return GI}function Q7e(){var t=hte();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function TD(t,e){var r=Q7e();if(r.has(t))return r.get(t);var n=e();return r.set(t,n),r.get(t)}var e9e="Abs",t9e="Acos",r9e="Acosh",dte="Add",n9e="AddN",i9e="All",a9e="Any",s9e="ArgMax",o9e="ArgMin",u9e="Asin",f9e="Asinh",l9e="Atan",c9e="Atanh",h9e="Atan2",d9e="AvgPool",p9e="AvgPool3D",m9e="BatchMatMul",v9e="BatchToSpaceND",g9e="Bincount",y9e="BroadcastArgs",pte="Cast",b9e="Ceil",w9e="ClipByValue",_9e="Complex",x9e="ComplexAbs",S9e="Concat",E9e="Conv2D",M9e="Conv2DBackpropFilter",A9e="Conv2DBackpropInput",k9e="Conv3D",T9e="Conv3DBackpropInputV2",N9e="Cos",I9e="Cosh",D9e="Cumprod",O9e="Cumsum",R9e="CropAndResize",C9e="DenseBincount",F9e="DepthToSpace",B9e="DepthwiseConv2dNative",L9e="DepthwiseConv2dNativeBackpropFilter",P9e="DepthwiseConv2dNativeBackpropInput",q9e="Diag",$9e="Dilation2D",z9e="RealDiv",j9e="Einsum",U9e="Elu",V9e="Erf",W9e="Equal",G9e="Exp",H9e="ExpandDims",K9e="Expm1",Z9e="FFT",J9e="Fill",Y9e="FlipLeftRight",X9e="Floor",Q9e="FloorDiv",eBe="FusedBatchNorm",tBe="GatherV2",rBe="GatherNd",nBe="Greater",iBe="GreaterEqual",mte="Identity",aBe="IFFT",sBe="Imag",oBe="IsFinite",uBe="IsInf",fBe="IsNan",lBe="LeakyRelu",cBe="Less",hBe="LessEqual",dBe="LinSpace",pBe="Log",mBe="Log1p",vBe="LogicalAnd",gBe="LogicalNot",yBe="LogicalOr",bBe="LRN",wBe="Max",_Be="Maximum",xBe="MaxPool",SBe="MaxPool3D",EBe="MaxPoolWithArgmax",MBe="Mean",ABe="Min",kBe="Minimum",TBe="MirrorPad",NBe="Mod",IBe="Multinomial",DBe="Multiply",OBe="Neg",RBe="NotEqual",CBe="NonMaxSuppressionV3",FBe="NonMaxSuppressionV4",BBe="NonMaxSuppressionV5",LBe="OnesLike",PBe="OneHot",qBe="Pack",$Be="PadV2",zBe="Pow",jBe="Prelu",UBe="Prod",VBe="Range",WBe="Real",GBe="Reciprocal",HBe="Relu",KBe="Reshape",ZBe="ResizeNearestNeighbor",JBe="ResizeBilinear",YBe="Relu6",XBe="Reverse",QBe="Round",eLe="Rsqrt",tLe="ScatterNd",rLe="SearchSorted",nLe="Select",iLe="Selu",aLe="Slice",sLe="Sin",oLe="Sinh",uLe="Sign",fLe="Sigmoid",lLe="Softplus",cLe="Sqrt",hLe="Sum",dLe="SpaceToBatchND",pLe="SplitV",mLe="Softmax",vLe="SparseFillEmptyRows",gLe="SparseReshape",yLe="SparseSegmentMean",bLe="SparseSegmentSum",wLe="SparseToDense",_Le="SquaredDifference",xLe="StridedSlice",SLe="StringNGrams",ELe="StringSplit",MLe="StringToHashBucketFast",ALe="Sub",kLe="Tan",TLe="Tanh",vte="Tile",NLe="TopK",ILe="Transform",HI="Transpose",DLe="Unique",OLe="Unpack",RLe="UnsortedSegmentSum",CLe="ZerosLike",FLe="Step",BLe="RotateWithOffset",Cee="_FusedMatMul",Fee="FusedConv2D",Bee="FusedDepthwiseConv2D";function c1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];go().getBool("IS_TEST")||go().getBool("PROD")||console.warn.apply(console,Vi(t))}var gte=TD("kernelRegistry",function(){return new Map}),LLe=TD("gradRegistry",function(){return new Map});function Lee(t,e){var r=PLe(t,e);return gte.get(r)}function Pee(t){return LLe.get(t)}function qee(t){for(var e=gte.entries(),r=[];;){var n=e.next(),a=n.done,s=n.value;if(a)break;var o=bt(s,2),u=o[0],l=o[1],h=bt(u.split("_"),1),p=h[0];p===t&&r.push(l)}return r}function PLe(t,e){return e+"_"+t}var uD=Tn,yo=null;try{yo=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Tn(t,e,r){this.low=t|0,this.high=e|0,this.unsigned=!!r}Tn.prototype.__isLong__;Object.defineProperty(Tn.prototype,"__isLong__",{value:!0});function ts(t){return(t&&t.__isLong__)===!0}Tn.isLong=ts;var $ee={},zee={};function fd(t,e){var r,n,a;return e?(t>>>=0,(a=0<=t&&t<256)&&(n=zee[t],n)?n:(r=Nn(t,(t|0)<0?-1:0,!0),a&&(zee[t]=r),r)):(t|=0,(a=-128<=t&&t<128)&&(n=$ee[t],n)?n:(r=Nn(t,t<0?-1:0,!1),a&&($ee[t]=r),r))}Tn.fromInt=fd;function bo(t,e){if(isNaN(t))return e?id:wo;if(e){if(t<0)return id;if(t>=yte)return _te}else{if(t<=-Uee)return Qa;if(t+1>=Uee)return wte}return t<0?bo(-t,e).neg():Nn(t%zm|0,t/zm|0,e)}Tn.fromNumber=bo;function Nn(t,e,r){return new Tn(t,e,r)}Tn.fromBits=Nn;var zE=Math.pow;function ND(t,e,r){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return wo;if(typeof e=="number"?(r=e,e=!1):e=!!e,r=r||10,r<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return ND(t.substring(1),e,r).neg();for(var a=bo(zE(r,8)),s=wo,o=0;o<t.length;o+=8){var u=Math.min(8,t.length-o),l=parseInt(t.substring(o,o+u),r);if(u<8){var h=bo(zE(r,u));s=s.mul(h).add(bo(l))}else s=s.mul(a),s=s.add(bo(l))}return s.unsigned=e,s}Tn.fromString=ND;function tu(t,e){return typeof t=="number"?bo(t,e):typeof t=="string"?ND(t,e):Nn(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Tn.fromValue=tu;var jee=1<<16,qLe=1<<24,zm=jee*jee,yte=zm*zm,Uee=yte/2,Vee=fd(qLe),wo=fd(0);Tn.ZERO=wo;var id=fd(0,!0);Tn.UZERO=id;var Lm=fd(1);Tn.ONE=Lm;var bte=fd(1,!0);Tn.UONE=bte;var fD=fd(-1);Tn.NEG_ONE=fD;var wte=Nn(-1,2147483647,!1);Tn.MAX_VALUE=wte;var _te=Nn(-1,-1,!0);Tn.MAX_UNSIGNED_VALUE=_te;var Qa=Nn(0,-2147483648,!1);Tn.MIN_VALUE=Qa;var pt=Tn.prototype;pt.toInt=function(){return this.unsigned?this.low>>>0:this.low};pt.toNumber=function(){return this.unsigned?(this.high>>>0)*zm+(this.low>>>0):this.high*zm+(this.low>>>0)};pt.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Qa)){var r=bo(e),n=this.div(r),a=n.mul(r).sub(this);return n.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var s=bo(zE(e,6),this.unsigned),o=this,u="";;){var l=o.div(s),h=o.sub(l.mul(s)).toInt()>>>0,p=h.toString(e);if(o=l,o.isZero())return p+u;for(;p.length<6;)p="0"+p;u=""+p+u}};pt.getHighBits=function(){return this.high};pt.getHighBitsUnsigned=function(){return this.high>>>0};pt.getLowBits=function(){return this.low};pt.getLowBitsUnsigned=function(){return this.low>>>0};pt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Qa)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,r=31;r>0&&(e&1<<r)==0;r--);return this.high!=0?r+33:r+1};pt.isZero=function(){return this.high===0&&this.low===0};pt.eqz=pt.isZero;pt.isNegative=function(){return!this.unsigned&&this.high<0};pt.isPositive=function(){return this.unsigned||this.high>=0};pt.isOdd=function(){return(this.low&1)===1};pt.isEven=function(){return(this.low&1)===0};pt.equals=function(e){return ts(e)||(e=tu(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};pt.eq=pt.equals;pt.notEquals=function(e){return!this.eq(e)};pt.neq=pt.notEquals;pt.ne=pt.notEquals;pt.lessThan=function(e){return this.comp(e)<0};pt.lt=pt.lessThan;pt.lessThanOrEqual=function(e){return this.comp(e)<=0};pt.lte=pt.lessThanOrEqual;pt.le=pt.lessThanOrEqual;pt.greaterThan=function(e){return this.comp(e)>0};pt.gt=pt.greaterThan;pt.greaterThanOrEqual=function(e){return this.comp(e)>=0};pt.gte=pt.greaterThanOrEqual;pt.ge=pt.greaterThanOrEqual;pt.compare=function(e){if(ts(e)||(e=tu(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};pt.comp=pt.compare;pt.negate=function(){return!this.unsigned&&this.eq(Qa)?Qa:this.not().add(Lm)};pt.neg=pt.negate;pt.add=function(e){ts(e)||(e=tu(e));var r=this.high>>>16,n=this.high&65535,a=this.low>>>16,s=this.low&65535,o=e.high>>>16,u=e.high&65535,l=e.low>>>16,h=e.low&65535,p=0,v=0,y=0,S=0;return S+=s+h,y+=S>>>16,S&=65535,y+=a+l,v+=y>>>16,y&=65535,v+=n+u,p+=v>>>16,v&=65535,p+=r+o,p&=65535,Nn(y<<16|S,p<<16|v,this.unsigned)};pt.subtract=function(e){return ts(e)||(e=tu(e)),this.add(e.neg())};pt.sub=pt.subtract;pt.multiply=function(e){if(this.isZero())return wo;if(ts(e)||(e=tu(e)),yo){var r=yo.mul(this.low,this.high,e.low,e.high);return Nn(r,yo.get_high(),this.unsigned)}if(e.isZero())return wo;if(this.eq(Qa))return e.isOdd()?Qa:wo;if(e.eq(Qa))return this.isOdd()?Qa:wo;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Vee)&&e.lt(Vee))return bo(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=this.high&65535,s=this.low>>>16,o=this.low&65535,u=e.high>>>16,l=e.high&65535,h=e.low>>>16,p=e.low&65535,v=0,y=0,S=0,A=0;return A+=o*p,S+=A>>>16,A&=65535,S+=s*p,y+=S>>>16,S&=65535,S+=o*h,y+=S>>>16,S&=65535,y+=a*p,v+=y>>>16,y&=65535,y+=s*h,v+=y>>>16,y&=65535,y+=o*l,v+=y>>>16,y&=65535,v+=n*p+a*h+s*l+o*u,v&=65535,Nn(S<<16|A,v<<16|y,this.unsigned)};pt.mul=pt.multiply;pt.divide=function(e){if(ts(e)||(e=tu(e)),e.isZero())throw Error("division by zero");if(yo){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?yo.div_u:yo.div_s)(this.low,this.high,e.low,e.high);return Nn(r,yo.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?id:wo;var n,a,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return id;if(e.gt(this.shru(1)))return bte;s=id}else{if(this.eq(Qa)){if(e.eq(Lm)||e.eq(fD))return Qa;if(e.eq(Qa))return Lm;var o=this.shr(1);return n=o.div(e).shl(1),n.eq(wo)?e.isNegative()?Lm:fD:(a=this.sub(e.mul(n)),s=n.add(a.div(e)),s)}else if(e.eq(Qa))return this.unsigned?id:wo;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=wo}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var u=Math.ceil(Math.log(n)/Math.LN2),l=u<=48?1:zE(2,u-48),h=bo(n),p=h.mul(e);p.isNegative()||p.gt(a);)n-=l,h=bo(n,this.unsigned),p=h.mul(e);h.isZero()&&(h=Lm),s=s.add(h),a=a.sub(p)}return s};pt.div=pt.divide;pt.modulo=function(e){if(ts(e)||(e=tu(e)),yo){var r=(this.unsigned?yo.rem_u:yo.rem_s)(this.low,this.high,e.low,e.high);return Nn(r,yo.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};pt.mod=pt.modulo;pt.rem=pt.modulo;pt.not=function(){return Nn(~this.low,~this.high,this.unsigned)};pt.and=function(e){return ts(e)||(e=tu(e)),Nn(this.low&e.low,this.high&e.high,this.unsigned)};pt.or=function(e){return ts(e)||(e=tu(e)),Nn(this.low|e.low,this.high|e.high,this.unsigned)};pt.xor=function(e){return ts(e)||(e=tu(e)),Nn(this.low^e.low,this.high^e.high,this.unsigned)};pt.shiftLeft=function(e){return ts(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Nn(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Nn(0,this.low<<e-32,this.unsigned)};pt.shl=pt.shiftLeft;pt.shiftRight=function(e){return ts(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Nn(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Nn(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};pt.shr=pt.shiftRight;pt.shiftRightUnsigned=function(e){if(ts(e)&&(e=e.toInt()),e&=63,e===0)return this;var r=this.high;if(e<32){var n=this.low;return Nn(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?Nn(r,0,this.unsigned):Nn(r>>>e-32,0,this.unsigned)};pt.shru=pt.shiftRightUnsigned;pt.shr_u=pt.shiftRightUnsigned;pt.toSigned=function(){return this.unsigned?Nn(this.low,this.high,!1):this};pt.toUnsigned=function(){return this.unsigned?this:Nn(this.low,this.high,!0)};pt.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};pt.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};pt.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};Tn.fromBytes=function(e,r,n){return n?Tn.fromBytesLE(e,r):Tn.fromBytesBE(e,r)};Tn.fromBytesLE=function(e,r){return new Tn(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)};Tn.fromBytesBE=function(e,r){return new Tn(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)};var $Le=Object.assign(Object.create(null),uD,{default:uD}),zLe=uD||$Le;function ID(t){return zLe.fromString(t,!0,16)}ID("c3a5c85c97cb3127");ID("b492b66fbe98f273");ID("9ae16a3b2f90404f");function jLe(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function xte(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=JE(t)),go().getBool("DEBUG")&&U7e(t,e),jLe(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){for(var r=new Uint8Array(t.length),n=0;n<r.length;++n)Math.round(t[n])!==0&&(r[n]=1);return r}else throw new Error("Unknown data type "+e)}function jE(){return go().platform.now()}function ULe(t,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",go().platform.encode(t,e)}function Wee(t,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",go().platform.decode(t,e)}var VLe=function(){function t(e,r){this.backendTimer=e,this.logger=r,r==null&&(this.logger=new GLe)}return t.prototype.profileKernel=function(e,r,n){var a,s,o,u=function(){o=n()},l,h=jE();if(this.backendTimer.timerAvailable())l=this.backendTimer.time(u);else{u();try{for(var p=qE(o),v=p.next();!v.done;v=p.next()){var y=v.value;y.dataSync()}}catch(I){a={error:I}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}l=Promise.resolve({kernelMs:jE()-h})}if(go().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var S=function(I){var N=o[I];N.data().then(function(D){WLe(D,N.dtype,e)})},A=0;A<o.length;A++)S(A);var T={kernelName:e,outputs:o,inputs:r,timeMs:l.then(function(I){return I.kernelMs}),extraInfo:l.then(function(I){return I.getExtraProfileInfo!=null?I.getExtraProfileInfo():""})};return T},t.prototype.logKernelProfile=function(e){var r=this,n=e.kernelName,a=e.outputs,s=e.timeMs,o=e.inputs,u=e.extraInfo;a.forEach(function(l){Promise.all([l.data(),s,u]).then(function(h){r.logger.logKernelProfile(n,l,h[0],h[1],o,h[2])})})},t}();function WLe(t,e,r){if(e!=="float32")return!1;for(var n=0;n<t.length;n++){var a=t[n];if(isNaN(a)||!isFinite(a))return console.warn("Found "+a+" in the result of '"+r+"'"),!0}return!1}var GLe=function(){function t(){}return t.prototype.logKernelProfile=function(e,r,n,a,s,o){var u=typeof a=="number"?BE(a+"ms",9):a.error,l=BE(e,25),h=r.rank,p=r.size,v=BE(r.shape.toString(),14),y="";for(var S in s){var A=s[S];if(A!=null){var T=A.shape||r.shape,I=T.length;y+=S+": "+I+"D "+(I>0?T:"")+" "}}console.log("%c"+l+"	%c"+u+"	%c"+h+"D "+v+"	%c"+p+"	%c"+y+"	%c"+o,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},t}();function HLe(t,e,r){for(var n={},a={},s=0;s<e.length;s++)n[e[s].id]=!0;for(var s=0;s<t.length;s++){var o=t[s],u=o.inputs;for(var l in u){for(var h=u[l],p=!1,v=0;v<e.length;v++)if(n[h.id]){o.outputs.forEach(function(C){return n[C.id]=!0}),p=!0,a[o.id]=!0;break}if(p)break}}var y={};y[r.id]=!0;for(var S={},s=t.length-1;s>=0;s--)for(var o=t[s],u=o.inputs,v=0;v<o.outputs.length;v++)if(y[o.outputs[v].id]){for(var l in u)y[u[l].id]=!0,S[o.id]=!0;break}for(var A=[],s=0;s<t.length;s++){var o=t[s];if(a[o.id]&&S[o.id]){var T={};for(var l in o.inputs){var I=o.inputs[l];n[I.id]&&(T[l]=I)}var N=Object.assign({},o);N.inputs=T,N.outputs=o.outputs,A.push(N)}}return A}function KLe(t,e,r,n){for(var a=function(o){var u=e[o],l=[];if(u.outputs.forEach(function(y){var S=t[y.id];S!=null?l.push(S):l.push(null)}),u.gradient==null)throw new Error("Cannot compute gradient: gradient function not found "+("for "+u.kernelName+"."));var h=u.gradient(l),p=function(y){if(!(y in h))throw new Error("Cannot backprop through input "+y+". "+("Available gradients found: "+Object.keys(h)+"."));var S=r(function(){return h[y]()});if(S.dtype!=="float32")throw new Error("Error in gradient for op "+u.kernelName+". The gradient of input "+(y+" must have 'float32' dtype, but has '"+S.dtype+"'"));var A=u.inputs[y];if(!Wm(S.shape,A.shape))throw new Error("Error in gradient for op "+u.kernelName+". The gradient of input "+("'"+y+"' has shape '"+S.shape+"', which does not match ")+("the shape of the input '"+A.shape+"'"));if(t[A.id]==null)t[A.id]=S;else{var T=t[A.id];t[A.id]=n(T,S),T.dispose()}};for(var v in u.inputs)p(v)},s=e.length-1;s>=0;s--)a(s)}var Gee=20,h1=3,KI=7;function ZLe(t,e,r,n){var a=AD(e),s=JLe(t,e,r,a),o=e.length,u=LE(t,e,r,a,s),l=["Tensor"];return n&&(l.push("  dtype: "+r),l.push("  rank: "+o),l.push("  shape: ["+e+"]"),l.push("  values:")),l.push(u.map(function(h){return"    "+h}).join(`
`)),l.join(`
`)}function JLe(t,e,r,n){var a=La(e),s=n[n.length-1],o=new Array(s).fill(0),u=e.length,l=r==="complex64"?v1(t):t;if(u>1)for(var h=0;h<a/s;h++)for(var p=h*s,v=0;v<s;v++)o[v]=Math.max(o[v],m1(l[p+v],0,r).length);return o}function m1(t,e,r){var n;return Array.isArray(t)?n=parseFloat(t[0].toFixed(KI))+" + "+(parseFloat(t[1].toFixed(KI))+"j"):ED(t)?n="'"+t+"'":r==="bool"?n=Ste(t):n=parseFloat(t.toFixed(KI)).toString(),BE(n,e)}function Ste(t){return t===0?"false":"true"}function LE(t,e,r,n,a,s){s===void 0&&(s=!0);var o=r==="complex64"?2:1,u=e[0],l=e.length;if(l===0){if(r==="complex64"){var h=v1(t);return[m1(h[0],0,r)]}return r==="bool"?[Ste(t[0])]:[t[0].toString()]}if(l===1){if(u>Gee){var p=h1*o,v=Array.from(t.slice(0,p)),y=Array.from(t.slice((u-h1)*o,u*o));return r==="complex64"&&(v=v1(v),y=v1(y)),["["+v.map(function(G,j){return m1(G,a[j],r)}).join(", ")+", ..., "+y.map(function(G,j){return m1(G,a[u-h1+j],r)}).join(", ")+"]"]}var S=r==="complex64"?v1(t):Array.from(t);return["["+S.map(function(G,j){return m1(G,a[j],r)}).join(", ")+"]"]}var A=e.slice(1),T=n.slice(1),I=n[0]*o,N=[];if(u>Gee){for(var D=0;D<h1;D++){var C=D*I,L=C+I;N.push.apply(N,Vi(LE(t.slice(C,L),A,r,T,a,!1)))}N.push("...");for(var D=u-h1;D<u;D++){var C=D*I,L=C+I;N.push.apply(N,Vi(LE(t.slice(C,L),A,r,T,a,D===u-1)))}}else for(var D=0;D<u;D++){var C=D*I,L=C+I;N.push.apply(N,Vi(LE(t.slice(C,L),A,r,T,a,D===u-1)))}var z=l===2?",":"";N[0]="["+N[0]+z;for(var D=1;D<N.length-1;D++)N[D]=" "+N[D]+z;for(var $=`,
`,D=2;D<l;D++)$+=`
`;return N[N.length-1]=" "+N[N.length-1]+"]"+(s?"":$),N}function v1(t){for(var e=[],r=0;r<t.length;r+=2)e.push([t[r],t[r+1]]);return e}var lD=function(){function t(e,r,n){var a=this;if(this.dtype=r,this.shape=e.slice(),this.size=La(e),n!=null){var s=n.length;ye(s===this.size,function(){return"Length of values '"+s+"' does not match the size "+("inferred by the shape '"+a.size+"'.")})}if(r==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||j7e(r,this.size),this.strides=AD(e)}return t.prototype.set=function(e){for(var r=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];n.length===0&&(n=[0]),ye(n.length===this.rank,function(){return"The number of provided coordinates ("+n.length+") must "+("match the rank ("+r.rank+")")});var s=this.locToIndex(n);this.values[s]=e},t.prototype.get=function(){for(var e,r,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];n.length===0&&(n=[0]);var s=0;try{for(var o=qE(n),u=o.next();!u.done;u=o.next()){var l=u.value;if(l<0||l>=this.shape[s]){var h="Requested out of range element at "+n+". "+("  Buffer shape="+this.shape);throw new Error(h)}s++}}catch(y){e={error:y}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}for(var p=n[n.length-1],v=0;v<n.length-1;++v)p+=this.strides[v]*n[v];return this.values[p]},t.prototype.locToIndex=function(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];for(var r=e[e.length-1],n=0;n<e.length-1;++n)r+=this.strides[n]*e[n];return r},t.prototype.indexToLoc=function(e){if(this.rank===0)return[];if(this.rank===1)return[e];for(var r=new Array(this.shape.length),n=0;n<r.length-1;++n)r[n]=Math.floor(e/this.strides[n]),e-=r[n]*this.strides[n];return r[r.length-1]=e,r},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return Qo().makeTensor(this.values,this.shape,this.dtype)},t}(),Qo=null,d1=null;function YLe(t){Qo=t}var Fa=function(){function t(e,r,n,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=r||"float32",this.size=La(e),this.strides=AD(e),this.dataId=n,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.buffer=function(){return cn(this,void 0,void 0,function(){var e;return nn(this,function(r){switch(r.label){case 0:return[4,this.data()];case 1:return e=r.sent(),[2,d1.buffer(this.shape,this.dtype,e)]}})})},t.prototype.bufferSync=function(){return d1.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.array=function(){return cn(this,void 0,void 0,function(){var e;return nn(this,function(r){switch(r.label){case 0:return[4,this.data()];case 1:return e=r.sent(),[2,Oee(this.shape,e,this.dtype==="complex64")]}})})},t.prototype.arraySync=function(){return Oee(this.shape,this.dataSync(),this.dtype==="complex64")},t.prototype.data=function(){return cn(this,void 0,void 0,function(){var e,r;return nn(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=Qo().read(this.dataId),this.dtype!=="string"?[3,2]:[4,e];case 1:r=n.sent();try{return[2,r.map(function(a){return Wee(a)})]}catch(a){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}})})},t.prototype.dataToGPU=function(e){return this.throwIfDisposed(),Qo().readToGPU(this.dataId,e)},t.prototype.dataSync=function(){this.throwIfDisposed();var e=Qo().readSync(this.dataId);if(this.dtype==="string")try{return e.map(function(r){return Wee(r)})}catch(r){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},t.prototype.bytes=function(){return cn(this,void 0,void 0,function(){var e;return nn(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),[4,Qo().read(this.dataId)];case 1:return e=r.sent(),this.dtype==="string"?[2,e]:[2,new Uint8Array(e.buffer)]}})})},t.prototype.dispose=function(){this.isDisposed||(Qo().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.print=function(e){return e===void 0&&(e=!1),d1.print(this,e)},t.prototype.clone=function(){return this.throwIfDisposed(),d1.clone(this)},t.prototype.toString=function(e){e===void 0&&(e=!1);var r=this.dataSync();return ZLe(r,this.shape,this.dtype,e)},t.prototype.cast=function(e){return this.throwIfDisposed(),d1.cast(this,e)},t.prototype.variable=function(e,r,n){return e===void 0&&(e=!0),this.throwIfDisposed(),Qo().makeVariable(this,e,r,n)},t}();Object.defineProperty(Fa,Symbol.hasInstance,{value:function(t){return!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null}});function XLe(){return TD("Tensor",function(){return Fa})}XLe();var cD=function(t){HFe(e,t);function e(r,n,a,s){var o=t.call(this,r.shape,r.dtype,r.dataId,s)||this;return o.trainable=n,o.name=a,o}return e.prototype.assign=function(r){if(r.dtype!==this.dtype)throw new Error("dtype of the new value ("+r.dtype+") and "+("previous value ("+this.dtype+") must match"));if(!Wm(r.shape,this.shape))throw new Error("shape of the new value ("+r.shape+") and "+("previous value ("+this.shape+") must match"));Qo().disposeTensor(this),this.dataId=r.dataId,Qo().incRef(this,null)},e.prototype.dispose=function(){Qo().disposeVariable(this),this.isDisposedInternal=!0},e}(Fa);Object.defineProperty(cD,Symbol.hasInstance,{value:function(t){return t instanceof Fa&&t.assign!=null&&t.assign instanceof Function}});var Hee;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(Hee||(Hee={}));var hD;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(hD||(hD={}));var dD;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(dD||(dD={}));var pD;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(pD||(pD={}));var mD;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(mD||(mD={}));var QLe={float32:pD,int32:hD,bool:dD,complex64:mD};function ePe(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error("Can not upcast "+t+" with "+e)}return QLe[t][e]}function Qn(t,e){if(t.dtype===e.dtype)return[t,e];var r=ePe(t.dtype,e.dtype);return[t.cast(r),e.cast(r)]}function tPe(t,e){ye(t.dtype===e.dtype,function(){return"The dtypes of the first("+t.dtype+") and"+(" second("+e.dtype+") input must match")})}function Ete(t){var e=[],r=new Set;return Mte(t,e,r),e}function Mte(t,e,r){if(t!=null){if(t instanceof Fa){e.push(t);return}if(!!rPe(t)){var n=t;for(var a in n){var s=n[a];r.has(s)||(r.add(s),Mte(s,e,r))}}}}function rPe(t){return Array.isArray(t)||typeof t=="object"}function ZI(t){return t.kernelName!=null}var Kee=function(){function t(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(function(e){return e.name})))}}}return t.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},t}(),DD=function(){function t(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Kee}return t.prototype.ready=function(){return cn(this,void 0,void 0,function(){var e,r,n,a;return nn(this,function(s){switch(s.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];e=this.getSortedBackends(),r=0,s.label=1;case 1:return r<e.length?(n=e[r],[4,this.initializeBackend(n).success]):[3,5];case 2:return a=s.sent(),a?[4,this.setBackend(n)]:[3,4];case 3:return s.sent(),[2];case 4:return r++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(t.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var e=this.initializeBackendsAndReturnBest(),r=e.name,n=e.asyncInit;if(n)throw new Error("The highest priority backend '"+r+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(r)}return this.backendInstance},enumerable:!0,configurable:!0}),t.prototype.backendNames=function(){return Object.keys(this.registryFactory)},t.prototype.findBackend=function(e){if(!(e in this.registry))if(e in this.registryFactory){var r=this.initializeBackend(e).asyncInit;if(r)return null}else return null;return this.registry[e]},t.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},t.prototype.registerBackend=function(e,r,n){return n===void 0&&(n=1),e in this.registryFactory?(c1(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:r,priority:n},!0)},t.prototype.setBackend=function(e){return cn(this,void 0,void 0,function(){var r,n,a,s,o;return nn(this,function(u){switch(u.label){case 0:if(this.registryFactory[e]==null)throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,this.registry[e]!=null?[3,4]:(this.backendInstance=null,r=this.initializeBackend(e),n=r.success,a=r.asyncInit,a?[4,n]:[3,2]);case 1:return o=u.sent(),[3,3];case 2:o=n,u.label=3;case 3:if(s=o,!s)return[2,!1];u.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new VLe(this.backendInstance),[2,!0]}})})},t.prototype.setupRegisteredKernels=function(){var e=this,r=qee(this.backendName);r.forEach(function(n){n.setupFunc!=null&&n.setupFunc(e.backendInstance)})},t.prototype.disposeRegisteredKernels=function(e){var r=this,n=qee(e);n.forEach(function(a){a.disposeFunc!=null&&a.disposeFunc(r.registry[e])})},t.prototype.initializeBackend=function(e){var r=this,n=this.registryFactory[e];if(n==null)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var a=n.factory();if(a&&!(a instanceof q7e)&&typeof a.then=="function"){var s=++this.pendingBackendInitId,o=a.then(function(u){return s<r.pendingBackendInitId?!1:(r.registry[e]=u,r.pendingBackendInit=null,!0)}).catch(function(u){return s<r.pendingBackendInitId||(r.pendingBackendInit=null,c1("Initialization of backend "+e+" failed"),c1(u.stack||u.message)),!1});return this.pendingBackendInit=o,{success:o,asyncInit:!0}}else return this.registry[e]=a,{success:!0,asyncInit:!1}}catch(u){return c1("Initialization of backend "+e+" failed"),c1(u.stack||u.message),{success:!1,asyncInit:!1}}},t.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},t.prototype.getSortedBackends=function(){var e=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(r,n){return e.registryFactory[n].priority-e.registryFactory[r].priority})},t.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),r=0;r<e.length;r++){var n=e[r],a=this.initializeBackend(n),s=a.success,o=a.asyncInit;if(o||s)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")},t.prototype.moveData=function(e,r){var n=this.state.tensorInfo.get(r),a=n.backend,s=this.readSync(r),o=a.refCount(r);a.disposeData(r,!0),n.backend=e,e.move(r,s,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},t.prototype.tidy=function(e,r){var n=this,a=null;if(r==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");r=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof r!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}var s;return this.scopedRun(function(){return n.startScope(a)},function(){return n.endScope(s)},function(){return s=r(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s})},t.prototype.scopedRun=function(e,r,n){e();try{var a=n();return r(),a}catch(s){throw r(),s}},t.prototype.nextTensorId=function(){return t.nextTensorId++},t.prototype.nextVariableId=function(){return t.nextVariableId++},t.prototype.clone=function(e){var r=Ee.runKernel(mte,{x:e}),n={x:e},a=function(o){return{x:function(){var u="float32",l={x:o},h={dtype:u};return Ee.runKernel(pte,l,h)}}},s=[];return this.addTapeNode(this.state.activeScope.name,n,[r],a,s,{}),r},t.prototype.runKernel=function(e,r,n){this.backendName==null&&this.backend;var a=Lee(e,this.backendName)!=null;if(!a)throw new Error("Kernel '"+e+"' not registered for backend '"+this.backendName+"'");return this.runKernelFunc({kernelName:e,inputs:r,attrs:n})},t.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},t.prototype.checkKernelForMemLeak=function(e,r,n){var a=this.backend.numDataIds(),s=0;n.forEach(function(l){s+=l.dtype==="complex64"?3:1});var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],u=a-r-s-o;if(u>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak "+("("+u+" data ids) after running '"+e+"'"))},t.prototype.runKernelFunc=function(e){var r=this,n,a=[],s=this.isTapeOn(),o=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var l;this.backendName==null&&this.backend;var h,p=ZI(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(ZI(e)){var v=e.kernelName,y=e.inputs,S=e.attrs;this.backendName==null&&this.backend;var A=Lee(v,this.backendName);ye(A!=null,function(){return"Cannot find registered kernel '"+v+"' for backend '"+r.backendName+"'"}),l=function(){var z=r.backend.numDataIds();h=A.kernelFunc({inputs:y,attrs:S,backend:r.backend});var $=Array.isArray(h)?h:[h];r.shouldCheckForMemLeaks()&&r.checkKernelForMemLeak(v,z,$);var G=$.map(function(Z){return Z.rank!=null?Z:r.makeTensorFromTensorInfo(Z)});if(s){var j=r.getTensorsForGradient(v,y,G);a=r.saveTensorsForBackwardMode(j)}return G}}else{var T=e.forwardFunc,I=function(z){!s||(a=z.map(function($){return r.keep(r.clone($))}))};l=function(){var z=r.backend.numDataIds();h=r.tidy(function(){return T(r.backend,I)});var $=Array.isArray(h)?h:[h];return r.shouldCheckForMemLeaks()&&r.checkKernelForMemLeak(p,z,$),$}}var N=e.inputs,D=e.attrs,C=ZI(e)?null:e.backwardsFunc,L;return this.scopedRun(function(){return r.state.kernelDepth++},function(){return r.state.kernelDepth--},function(){!r.ENV.getBool("DEBUG")&&!r.state.profiling?n=l():(L=r.profiler.profileKernel(p,N,function(){return l()}),r.ENV.getBool("DEBUG")&&r.profiler.logKernelProfile(L),n=L.outputs)}),s&&this.addTapeNode(p,N,n,C,a,D),this.state.profiling&&this.state.activeProfile.kernels.push({name:p,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(N).map(function(z){return N[z]!=null?N[z].shape:null}),outputShapes:n.map(function(z){return z.shape}),kernelTimeMs:L.timeMs,extraInfo:L.extraInfo}),Array.isArray(h)?n:n[0]},t.prototype.saveTensorsForBackwardMode=function(e){var r=this,n=e.map(function(a){return r.keep(r.clone(a))});return n},t.prototype.getTensorsForGradient=function(e,r,n){var a=Pee(e);if(a!=null){var s=a.inputsToSave||[],o=a.outputsToSave||[],u=void 0;a.saveAllInputs?(ye(Array.isArray(r),function(){return"saveAllInputs is true, expected inputs to be an array."}),u=Object.keys(r).map(function(h){return r[h]})):u=s.map(function(h){return r[h]});var l=n.filter(function(h,p){return o[p]});return u.concat(l)}return[]},t.prototype.makeTensor=function(e,r,n,a){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",a=a||this.backend;var s=e;n==="string"&&ED(e[0])&&(s=e.map(function(p){return ULe(p)}));var o=a.write(s,r,n),u=new Fa(r,n,o,this.nextTensorId());if(this.trackTensor(u,a),n==="string"){var l=this.state.tensorInfo.get(o),h=W7e(s);this.state.numBytes+=h-l.bytes,l.bytes=h}return u},t.prototype.makeTensorFromDataId=function(e,r,n,a){n=n||"float32";var s={dataId:e,shape:r,dtype:n};return this.makeTensorFromTensorInfo(s,a)},t.prototype.makeTensorFromTensorInfo=function(e,r){var n=e.dataId,a=e.shape,s=e.dtype,o=new Fa(a,s,n,this.nextTensorId());return this.trackTensor(o,r),o},t.prototype.makeVariable=function(e,r,n,a){r===void 0&&(r=!0),n=n||this.nextVariableId().toString(),a!=null&&a!==e.dtype&&(e=e.cast(a));var s=new cD(e,r,n,this.nextTensorId());if(this.state.registeredVariables[s.name]!=null)throw new Error("Variable with name "+s.name+" was already registered");return this.state.registeredVariables[s.name]=s,this.incRef(s,this.backend),s},t.prototype.trackTensor=function(e,r){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;var n=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(n=e.size*Iee(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:r||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof cD||this.track(e)},t.prototype.incRef=function(e,r){this.trackTensor(e,r),this.backend.incRef(e.dataId)},t.prototype.removeDataId=function(e,r){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===r&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)},t.prototype.disposeTensor=function(e){if(!!this.state.tensorInfo.has(e.dataId)){var r=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=r.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){var n=e.size*Iee(e.dtype);this.state.numBytes-=n}r.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,r.backend)}},t.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var r=this.state.registeredVariables[e];this.disposeVariable(r)}},t.prototype.disposeVariable=function(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]},t.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},t.prototype.profile=function(e){return cn(this,void 0,void 0,function(){var r,n,a,s,o,u,l,h,p,v,y;return nn(this,function(S){switch(S.label){case 0:return this.state.profiling=!0,r=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],a=this.state.activeProfile,[4,e()];case 1:a.result=S.sent(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,Vi(this.state.activeProfile.kernels.map(function(A){return A.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-r,this.state.activeProfile.newTensors=this.state.numTensors-n,S.label=2;case 2:S.trys.push([2,8,9,10]),s=qE(this.state.activeProfile.kernels),o=s.next(),S.label=3;case 3:return o.done?[3,7]:(u=o.value,l=u,[4,u.kernelTimeMs]);case 4:return l.kernelTimeMs=S.sent(),h=u,[4,u.extraInfo];case 5:h.extraInfo=S.sent(),S.label=6;case 6:return o=s.next(),[3,3];case 7:return[3,10];case 8:return p=S.sent(),v={error:p},[3,10];case 9:try{o&&!o.done&&(y=s.return)&&y.call(s)}finally{if(v)throw v.error}return[7];case 10:return[2,this.state.activeProfile]}})})},t.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},t.prototype.addTapeNode=function(e,r,n,a,s,o){var u=this,l={id:this.state.nextTapeNodeId++,kernelName:e,inputs:r,outputs:n,saved:s},h=Pee(e);h!=null&&(a=h.gradFunc),a!=null&&(l.gradient=function(p){return p=p.map(function(v,y){if(v==null){var S=n[y],A=kD(S.size,S.dtype);return u.makeTensor(A,S.shape,S.dtype)}return v}),a(p.length>1?p:p[0],s,o)}),this.state.activeTape.push(l)},t.prototype.keep=function(e){return e.kept=!0,e},t.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},t.prototype.endTape=function(){this.state.gradientDepth--},t.prototype.startScope=function(e){var r={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(r.name=e),this.state.scopeStack.push(r),this.state.activeScope=r},t.prototype.endScope=function(e){for(var r=this,n=Ete(e),a=new Set(n.map(function(l){return l.id})),s=0;s<this.state.activeScope.track.length;s++){var o=this.state.activeScope.track[s];!o.kept&&!a.has(o.id)&&o.dispose()}var u=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(function(l){!l.kept&&l.scopeId===u.id&&r.track(l)})},t.prototype.gradients=function(e,r,n,a){var s=this;if(a===void 0&&(a=!1),ye(r.length>0,function(){return"gradients() received an empty list of xs."}),n!=null&&n.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var o=this.scopedRun(function(){return s.startTape()},function(){return s.endTape()},function(){return s.tidy("forward",e)});ye(o instanceof Fa,function(){return"The result y returned by f() must be a tensor."});var u=HLe(this.state.activeTape,r,o);if(!a&&u.length===0&&r.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var l={};l[o.id]=n==null?nPe(o.shape):n,KLe(l,u,function(p){return s.tidy(p)},aPe);var h=r.map(function(p){return l[p.id]});return s.state.gradientDepth===0&&(s.state.activeTape.forEach(function(p){var v,y;try{for(var S=qE(p.saved),A=S.next();!A.done;A=S.next()){var T=A.value;T.dispose()}}catch(I){v={error:I}}finally{try{A&&!A.done&&(y=S.return)&&y.call(S)}finally{if(v)throw v.error}}}),s.state.activeTape=null),{value:o,grads:h}})},t.prototype.customGrad=function(e){var r=this;return ye(Dee(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];ye(n.every(function(h){return h instanceof Fa}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var s,o={};n.forEach(function(h,p){o[p]=h});var u=function(h,p){return s=e.apply(void 0,Vi(n,[p])),ye(s.value instanceof Fa,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),ye(Dee(s.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),s.value},l=function(h,p){var v=s.gradFunc(h,p),y=Array.isArray(v)?v:[v];ye(y.length===n.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),ye(y.every(function(A){return A instanceof Fa}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var S={};return y.forEach(function(A,T){S[T]=function(){return A}}),S};return r.runKernelFunc({forwardFunc:u,backwardsFunc:l,inputs:o})}},t.prototype.readSync=function(e){var r=this.state.tensorInfo.get(e);return r.backend.readSync(e)},t.prototype.read=function(e){var r=this.state.tensorInfo.get(e);return r.backend.read(e)},t.prototype.readToGPU=function(e,r){var n=this.state.tensorInfo.get(e);return n.backend.readToGPU(e,r)},t.prototype.time=function(e){return cn(this,void 0,void 0,function(){var r,n;return nn(this,function(a){switch(a.label){case 0:return r=jE(),[4,this.backend.time(e)];case 1:return n=a.sent(),n.wallMs=jE()-r,[2,n]}})})},t.prototype.track=function(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(t.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Kee;for(var e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},t}();DD.nextTensorId=0;DD.nextVariableId=0;function nPe(t){var e=ute(La(t),"float32");return Ee.makeTensor(e,t,"float32")}function iPe(){var t=hte();if(t._tfengine==null){var e=new K7e(t);t._tfengine=new DD(e)}return X7e(t._tfengine.ENV),YLe(function(){return t._tfengine}),t._tfengine}var Ee=iPe();function aPe(t,e){var r={a:t,b:e};return Ee.runKernel(dte,r)}function rc(t,e){var r=t;if(Uu(t))return e==="string"?[]:[t.length];if(!Array.isArray(t))return[];for(var n=[];Array.isArray(r)||Uu(r)&&e!=="string";)n.push(r.length),r=r[0];return Array.isArray(t)&&go().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Ate(t,n,[]),n}function Ate(t,e,r){if(r=r||[],!Array.isArray(t)&&!Uu(t)){ye(e.length===0,function(){return"Element arr["+r.join("][")+"] is a primitive, "+("but should be an array/TypedArray of "+e[0]+" elements")});return}ye(e.length>0,function(){return"Element arr["+r.join("][")+"] should be a primitive, "+("but is an array of "+t.length+" elements")}),ye(t.length===e[0],function(){return"Element arr["+r.join("][")+"] should have "+e[0]+" "+("elements, but has "+t.length+" elements")});for(var n=e.slice(1),a=0;a<t.length;++a)Ate(t[a],n,r.concat(a))}function Zee(t,e,r,n){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error("Argument '"+r+"' passed to '"+n+"' must "+("be "+t+" tensor, but got "+e+" tensor"))}}function re(t,e,r,n){if(n===void 0&&(n="numeric"),t instanceof Fa)return Zee(n,t.dtype,e,r),t;var a=MD(t);if(a!=="string"&&["bool","int32","float32"].indexOf(n)>=0&&(a=n),Zee(n,a,e,r),t==null||!Uu(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){var s=t==null?"null":t.constructor.name;throw new Error("Argument '"+e+"' passed to '"+r+"' must be a "+("Tensor or TensorLike, but got '"+s+"'"))}var o=rc(t,a);!Uu(t)&&!Array.isArray(t)&&(t=[t]);var u=!0,l=a!=="string"?xte(t,a):JE(t,[],u);return Ee.makeTensor(l,o,a)}function UE(t,e,r,n){if(n===void 0&&(n="numeric"),!Array.isArray(t))throw new Error("Argument "+e+" passed to "+r+" must be a `Tensor[]` or `TensorLike[]`");var a=t;return a.map(function(s,o){return re(s,e+"["+o+"]",r,n)})}var kte="__op";function ge(t){var e=Object.keys(t);if(e.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+(e.length+" keys."));var r=e[0],n=t[r];r.endsWith("_")&&(r=r.substring(0,r.length-1)),r=r+kte;var a=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];Ee.startScope(r);try{var u=n.apply(void 0,Vi(s));return lte(u)&&console.error("Cannot return a Promise inside of tidy."),Ee.endScope(u),u}catch(l){throw Ee.endScope(null),l}};return Object.defineProperty(a,"name",{value:r,configurable:!0}),a}function sPe(t){var e=re(t,"x","abs");if(e.dtype==="complex64"){var r={x:e};return Ee.runKernel(x9e,r)}else{var r={x:e};return Ee.runKernel(e9e,r)}}var mo=ge({abs_:sPe});function oPe(t){var e=re(t,"x","acos"),r={x:e};return Ee.runKernel(t9e,r)}var uPe=ge({acos_:oPe});function fPe(t){var e=re(t,"x","acosh"),r={x:e};return Ee.runKernel(r9e,r)}var lPe=ge({acosh_:fPe});function cPe(t,e){var r,n=re(t,"a","add"),a=re(e,"b","add");r=bt(Qn(n,a),2),n=r[0],a=r[1];var s={a:n,b:a};return Ee.runKernel(dte,s)}var Ni=ge({add_:cPe});function hPe(t){ye(Array.isArray(t),function(){return"The argument passed to tf.addN() must be a list of tensors"}),ye(t.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+(""+t.length)});var e=t.map(function(a,s){return re(a,"tensors"+s,"addN")}),r=e[0];e.forEach(function(a){if(a.dtype!==r.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(function(a){if(!Wm(a.shape,r.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var n=e;return Ee.runKernel(n9e,n)}var dPe=ge({addN_:hPe});function pPe(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=re(t,"x","all","bool"),a={x:n},s={axis:e,keepDims:r};return Ee.runKernel(i9e,a,s)}var mPe=ge({all_:pPe});function vPe(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=re(t,"x","any","bool"),a={x:n},s={axis:e,keepDims:r};return Ee.runKernel(a9e,a,s)}var gPe=ge({any_:vPe});function yPe(t,e){e===void 0&&(e=0);var r=re(t,"x","argMax"),n={x:r},a={axis:e};return Ee.runKernel(s9e,n,a)}var bPe=ge({argMax_:yPe});function wPe(t,e){e===void 0&&(e=0);var r=re(t,"x","argMin"),n={x:r},a={axis:e};return Ee.runKernel(o9e,n,a)}var _Pe=ge({argMin_:wPe});function xPe(t){var e=re(t,"x","asin"),r={x:e};return Ee.runKernel(u9e,r)}var SPe=ge({asin_:xPe});function EPe(t){var e=re(t,"x","asinh"),r={x:e};return Ee.runKernel(f9e,r)}var MPe=ge({asinh_:EPe});function APe(t){var e=re(t,"x","atan"),r={x:e};return Ee.runKernel(l9e,r)}var kPe=ge({atan_:APe});function TPe(t,e){var r,n=re(t,"a","atan2"),a=re(e,"b","atan2");r=bt(Qn(n,a),2),n=r[0],a=r[1];var s={a:n,b:a};return Ee.runKernel(h9e,s)}var NPe=ge({atan2_:TPe});function IPe(t){var e=re(t,"x","atanh"),r={x:e};return Ee.runKernel(c9e,r)}var DPe=ge({atanh_:IPe});function OPe(t,e){var r=re(t,"x","cast");if(!V7e(e))throw new Error("Failed to cast to unknown dtype "+e);if(e==="string"&&r.dtype!=="string"||e!=="string"&&r.dtype==="string")throw new Error("Only strings can be casted to strings");var n={x:r},a={dtype:e};return Ee.runKernel(pte,n,a)}var Wi=ge({cast_:OPe});function RPe(t,e,r,n,a,s,o){o===void 0&&(o="channelsLast");var u=bt(VE(e),2),l=u[0],h=u[1],p;if(o==="channelsLast")p=[l,h,t[3],t[3]];else if(o==="channelsFirst")p=[l,h,t[1],t[1]];else throw new Error("Unknown dataFormat "+o);return OD(t,p,r,n,a,s,!1,o)}function OD(t,e,r,n,a,s,o,u){var l,h;o===void 0&&(o=!1),u===void 0&&(u="channelsLast");var p=bt([-1,-1,-1,-1],4),v=p[0],y=p[1],S=p[2],A=p[3];if(u==="channelsLast")l=bt(t,4),v=l[0],y=l[1],S=l[2],A=l[3];else if(u==="channelsFirst")h=bt(t,4),v=h[0],A=h[1],y=h[2],S=h[3];else throw new Error("Unknown dataFormat "+u);var T=bt(e,4),I=T[0],N=T[1],D=T[3],C=bt(VE(r),2),L=C[0],z=C[1],$=bt(VE(n),2),G=$[0],j=$[1],Z=vD(I,G),M=vD(N,j),f=BPe(a,y,S,L,z,Z,M,s,u),d=f.padInfo,g=f.outHeight,m=f.outWidth,b=o?D*A:D,E;return u==="channelsFirst"?E=[v,b,g,m]:u==="channelsLast"&&(E=[v,g,m,b]),{batchSize:v,dataFormat:u,inHeight:y,inWidth:S,inChannels:A,outHeight:g,outWidth:m,outChannels:b,padInfo:d,strideHeight:L,strideWidth:z,filterHeight:I,filterWidth:N,effectiveFilterHeight:Z,effectiveFilterWidth:M,dilationHeight:G,dilationWidth:j,inShape:t,outShape:E,filterShape:e}}function CPe(t,e,r,n,a){n==null&&(n=FPe(t,e,r));var s=t[0],o=t[1],u=WE((s-e+2*n)/r+1,a),l=WE((o-e+2*n)/r+1,a);return[u,l]}function FPe(t,e,r,n){n===void 0&&(n=1);var a=vD(e,n);return Math.floor((t[0]*(r-1)-r+a)/2)}function VE(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function vD(t,e){return e<=1?t:t+(t-1)*(e-1)}function BPe(t,e,r,n,a,s,o,u,l){var h,p,v;if(typeof t=="number"){var y=t===0?"VALID":"NUMBER";h={top:t,bottom:t,left:t,right:t,type:y};var S=CPe([e,r],s,n,t,u);p=S[0],v=S[1]}else if(t==="same"){p=Math.ceil(e/n),v=Math.ceil(r/a);var A=Math.max(0,(p-1)*n+s-e),T=Math.max(0,(v-1)*a+o-r),I=Math.floor(A/2),N=A-I,D=Math.floor(T/2),C=T-D;h={top:I,bottom:N,left:D,right:C,type:"SAME"}}else if(t==="valid")h={top:0,bottom:0,left:0,right:0,type:"VALID"},p=Math.ceil((e-s+1)/n),v=Math.ceil((r-o+1)/a);else if(typeof t=="object"){var I=l==="channelsLast"?t[1][0]:t[2][0],N=l==="channelsLast"?t[1][1]:t[2][1],D=l==="channelsLast"?t[2][0]:t[3][0],C=l==="channelsLast"?t[2][1]:t[3][1],y=I===0&&N===0&&D===0&&C===0?"VALID":"EXPLICIT";h={top:I,bottom:N,left:D,right:C,type:y},p=WE((e-s+I+N)/n+1,u),v=WE((r-o+D+C)/a+1,u)}else throw Error("Unknown padding parameter: "+t);return{padInfo:h,outHeight:p,outWidth:v}}function WE(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+e)}}function GE(t){var e=bt(VE(t),3),r=e[0],n=e[1],a=e[2];return r===1&&n===1&&a===1}function nc(t,e){return GE(t)||GE(e)}function ru(t,e,r){if(r!=null){if(typeof e=="string")throw Error("Error in "+t+": pad must be an integer when using "+("dimRoundingMode "+r+" but got pad "+e+"."));if(typeof e=="number")ye(b1(e),function(){return"Error in "+t+": pad must be an integer when using "+("dimRoundingMode "+r+" but got pad "+e+".")});else if(typeof e=="object")e.forEach(function(n){n.forEach(function(a){ye(b1(a),function(){return"Error in "+t+": pad must be an integer when using "+("dimRoundingMode "+r+" but got pad "+a+".")})})});else throw Error("Error in "+t+": Unknown padding parameter: "+e)}}function LPe(t,e){var r=re(t,"x","reshape","string_or_numeric"),n={x:r},a={shape:e};return Ee.runKernel(KBe,n,a)}var at=ge({reshape_:LPe});function PPe(t,e,r,n,a){var s=re(t,"x","avgPool","float32"),o=1;ye(nc(r,o),function(){return"Error in avgPool: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+o+"'")});var u=s,l=!1;s.rank===3&&(l=!0,u=at(s,[1,s.shape[0],s.shape[1],s.shape[2]])),ye(u.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+u.rank+"."}),ru("avgPool",n,a);var h={x:u},p={filterSize:e,strides:r,pad:n,dimRoundingMode:a},v=Ee.runKernel(d9e,h,p);return v=Wi(v,s.dtype),l?at(v,[v.shape[1],v.shape[2],v.shape[3]]):v}var Tte=ge({avgPool_:PPe});function qPe(t,e,r,n,a,s){s===void 0&&(s="NDHWC");var o=re(t,"x","avgPool3d","float32"),u=o,l=!1;o.rank===4&&(l=!0,u=at(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ye(u.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."}),ye(s==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+("but got dataFormat of "+s)}),ru("avgPool3d",n,a);var h={x:u},p={filterSize:e,strides:r,pad:n,dimRoundingMode:a,dataFormat:s},v=Ee.runKernel(p9e,h,p);return v=Wi(v,u.dtype),l?at(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}var $Pe=ge({avgPool3d_:qPe});function zPe(t){var e=re(t,"x","clone","string_or_numeric"),r={x:e};return Ee.runKernel(mte,r)}var Pm=ge({clone_:zPe});function jPe(t,e){e===void 0&&(e=0),ye(t.length>=1,function(){return"Pass at least one tensor to concat"});var r=UE(t,"tensors","concat","string_or_numeric");if(r[0].dtype==="complex64"&&r.forEach(function(s){if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+s.dtype+". ")}),r.length===1)return Pm(r[0]);var n=r,a={axis:e};return Ee.runKernel(S9e,n,a)}var es=ge({concat_:jPe});function UPe(t,e,r,n){var a;r===void 0&&(r=!1),n===void 0&&(n=!1);var s=re(t,"a","matMul"),o=re(e,"b","matMul");a=bt(Qn(s,o),2),s=a[0],o=a[1];var u={a:s,b:o},l={transposeA:r,transposeB:n};return Ee.runKernel(m9e,u,l)}var rn=ge({matMul_:UPe});function VPe(t,e){var r,n=re(t,"a","mul"),a=re(e,"b","mul");r=bt(Qn(n,a),2),n=r[0],a=r[1];var s={a:n,b:a};return Ee.runKernel(DBe,s)}var Vt=ge({mul_:VPe});function WPe(t){var e=re(t,"x","sigmoid","float32"),r={x:e};return Ee.runKernel(fLe,r)}var qm=ge({sigmoid_:WPe});function GPe(t,e,r){var n=re(t,"x","slice","string_or_numeric");if(n.rank===0)throw new Error("Slicing scalar is not possible");var a={x:n},s={begin:e,size:r};return Ee.runKernel(aLe,a,s)}var Cn=ge({slice_:GPe});function HPe(t){var e=re(t,"x","tanh","float32"),r={x:e};return Ee.runKernel(TLe,r)}var gD=ge({tanh_:HPe});function KPe(t,e,r,n,a,s){var o=re(t,"forgetBias","basicLSTMCell"),u=re(e,"lstmKernel","basicLSTMCell"),l=re(r,"lstmBias","basicLSTMCell"),h=re(n,"data","basicLSTMCell"),p=re(a,"c","basicLSTMCell"),v=re(s,"h","basicLSTMCell"),y=es([h,v],1),S=rn(y,u),A=Ni(S,l),T=A.shape[0],I=A.shape[1]/4,N=[T,I],D=Cn(A,[0,0],N),C=Cn(A,[0,I],N),L=Cn(A,[0,I*2],N),z=Cn(A,[0,I*3],N),$=Ni(Vt(qm(D),gD(C)),Vt(p,qm(Ni(o,L)))),G=Vt(gD($),qm(z));return[$,G]}var ZPe=ge({basicLSTMCell_:KPe});function JPe(t,e,r){var n=re(t,"x","batchToSpaceND"),a=e.reduce(function(u,l){return u*l});ye(n.rank>=1+e.length,function(){return"input rank is "+n.rank+" but should be > than blockShape.length "+e.length}),ye(r.length===e.length,function(){return"crops.length is "+r.length+" but should be equal to blockShape.length  "+e.length}),ye(n.shape[0]%a===0,function(){return"input tensor batch is "+n.shape[0]+" but is not divisible by the product of "+("the elements of blockShape "+e.join(" * ")+" === "+a)});var s={x:n},o={blockShape:e,crops:r};return Ee.runKernel(v9e,s,o)}var Nte=ge({batchToSpaceND_:JPe});function YPe(t){var e;return t.rank===0||t.rank===1?e=at(t,[1,1,1,t.size]):t.rank===2?e=at(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=at(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}function XPe(t,e,r,n,a,s){s==null&&(s=.001);var o=re(t,"x","batchNorm"),u=re(e,"mean","batchNorm"),l=re(r,"variance","batchNorm"),h;a!=null&&(h=re(a,"scale","batchNorm"));var p;n!=null&&(p=re(n,"offset","batchNorm")),ye(u.rank===l.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),ye(p==null||u.rank===p.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),ye(h==null||u.rank===h.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."});var v=YPe(o),y={x:v,scale:h,offset:p,mean:u,variance:l},S={varianceEpsilon:s},A=Ee.runKernel(eBe,y,S);return at(A,o.shape)}var XE=ge({batchNorm_:XPe});function QPe(t,e,r,n,a,s){var o=re(t,"x","batchNorm"),u=re(e,"mean","batchNorm"),l=re(r,"variance","batchNorm"),h;a!=null&&(h=re(a,"scale","batchNorm"));var p;return n!=null&&(p=re(n,"offset","batchNorm")),ye(o.rank===2,function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+(o.rank+".")}),ye(u.rank===2||u.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+("got rank "+u.rank+".")}),ye(l.rank===2||l.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+("but got rank "+l.rank+".")}),h!=null&&ye(h.rank===2||h.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+("but got rank "+h.rank+".")}),p!=null&&ye(p.rank===2||p.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+("but got rank "+p.rank+".")}),XE(o,u,l,p,h,s)}var eqe=ge({batchNorm2d_:QPe});function tqe(t,e,r,n,a,s){var o=re(t,"x","batchNorm"),u=re(e,"mean","batchNorm"),l=re(r,"variance","batchNorm"),h;a!=null&&(h=re(a,"scale","batchNorm"));var p;return n!=null&&(p=re(n,"offset","batchNorm")),ye(o.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+(o.rank+".")}),ye(u.rank===3||u.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+("got rank "+u.rank+".")}),ye(l.rank===3||l.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+("but got rank "+l.rank+".")}),h!=null&&ye(h.rank===3||h.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+("but got rank "+h.rank+".")}),p!=null&&ye(p.rank===3||p.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+("but got rank "+p.rank+".")}),XE(o,u,l,p,h,s)}var rqe=ge({batchNorm3d_:tqe});function nqe(t,e,r,n,a,s){var o=re(t,"x","batchNorm"),u=re(e,"mean","batchNorm"),l=re(r,"variance","batchNorm"),h;a!=null&&(h=re(a,"scale","batchNorm"));var p;return n!=null&&(p=re(n,"offset","batchNorm")),ye(o.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+(o.rank+".")}),ye(u.rank===4||u.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+("got rank "+u.rank+".")}),ye(l.rank===4||l.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+("but got rank "+l.rank+".")}),h!=null&&ye(h.rank===4||h.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+("but got rank "+h.rank+".")}),p!=null&&ye(p.rank===4||p.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+("but got rank "+p.rank+".")}),XE(o,u,l,p,h,s)}var iqe=ge({batchNorm4d_:nqe});function aqe(t,e,r){var n=re(t,"x","bincount"),a=re(e,"weights","bincount");ye(n.dtype==="int32",function(){return"Error in bincount: input "+("dtype must be int32, but got "+n.dtype)}),ye(r>=0,function(){return"size must be non-negative, but got "+r+"."}),ye(a.size===n.size||a.size===0,function(){return"Error in bincount: weights must have the same size as input or"+("0-length, but got input shape: "+n.shape+", weights shape: ")+(a.shape+".")});var s={x:n,weights:a},o={size:r};return Ee.runKernel(g9e,s,o)}var Ite=ge({bincount_:aqe});function sqe(t,e){var r=re(t,"s0","broadcastArgs","int32"),n=re(e,"s1","broadcastArgs","int32");if(r.rank!==1)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+("Has rank "+r.rank));if(n.rank!==1)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+("Has rank "+n.rank));var a={s0:r,s1:n};return Ee.runKernel(y9e,a)}var oqe=ge({broadcastArgs_:sqe});function uqe(t,e){var r=re(t,"broadcastTo","x"),n=r.shape;if(e.some(function(v){return!(v>0)||v%1!==0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+e+"].");if(e.length<r.rank)throw new Error("broadcastTo(): shape.length="+e.length+" < input.rank="+r.rank+".");if(e.length>r.rank){for(var a=r.shape.slice();a.length<e.length;)a.unshift(1);r=at(r,a)}for(var s=r.shape,o=Array.from(e),u=e.length-1;u>=0;u--)if(s[u]===e[u])o[u]=1;else if(r.shape[u]!==1)throw new Error("broadcastTo(): ["+n+"] cannot be broadcast to ["+e+"].");var l=o.map(function(v,y){return v>1?y:-1}).filter(function(v){return v>=0});if(l.length===0)return Pm(r);var h={x:r},p={reps:o};return Ee.runKernel(vte,h,p)}var PE=ge({broadcastTo_:uqe});function tc(t,e,r){return e===void 0&&(e="float32"),e=e||"float32",fte(t),new lD(t,e,r)}function fqe(t){var e=re(t,"x","ceil","float32"),r={x:e};return Ee.runKernel(b9e,r)}var lqe=ge({ceil_:fqe});function cqe(t,e,r){var n=re(t,"x","clipByValue");ye(e<=r,function(){return"Error in clip: min ("+e+") must be "+("less than or equal to max ("+r+").")});var a={x:n},s={clipValueMin:e,clipValueMax:r};return Ee.runKernel(w9e,a,s)}var hqe=ge({clipByValue_:cqe});function dqe(t,e){var r=re(t,"real","complex"),n=re(e,"imag","complex");_o(r.shape,n.shape,"real and imag shapes, "+r.shape+" and "+n.shape+", must match in call to tf.complex().");var a={real:r,imag:n};return Ee.runKernel(_9e,a)}var sd=ge({complex_:dqe});function pqe(t){return es(t,0)}var mqe=ge({concat1d_:pqe});function vqe(t,e){return es(t,e)}var gqe=ge({concat2d_:vqe});function yqe(t,e){return es(t,e)}var bqe=ge({concat3d_:yqe});function wqe(t,e){return es(t,e)}var _qe=ge({concat4d_:wqe});function xqe(t,e,r,n,a,s,o){a===void 0&&(a="NHWC"),s===void 0&&(s=[1,1]);var u=re(t,"x","conv2d","float32"),l=re(e,"filter","conv2d","float32"),h=u,p=!1;u.rank===3&&(p=!0,h=at(u,[1,u.shape[0],u.shape[1],u.shape[2]])),ye(h.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+h.rank+"."}),ye(l.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+(l.rank+".")}),ru("conv2d",n,o);var v=a==="NHWC"?h.shape[3]:h.shape[1];ye(v===l.shape[2],function(){return"Error in conv2d: depth of input ("+v+") must match "+("input depth for filter "+l.shape[2]+".")}),ye(nc(r,s),function(){return"Error in conv2D: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+s+"'")});var y={x:h,filter:l},S={strides:r,pad:n,dataFormat:a,dilations:s,dimRoundingMode:o},A=Ee.runKernel(E9e,y,S);return p?at(A,[A.shape[1],A.shape[2],A.shape[3]]):A}var QE=ge({conv2d_:xqe});function Sqe(t,e,r,n,a,s,o){a===void 0&&(a="NWC"),s===void 0&&(s=1);var u=re(t,"x","conv1d"),l=re(e,"filter","conv1d"),h=u,p=!1;u.rank===2&&(p=!0,h=at(u,[1,u.shape[0],u.shape[1]])),ye(h.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+h.rank+"."}),ye(l.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+(l.rank+".")}),ru("conv1d",n,o),ye(h.shape[2]===l.shape[1],function(){return"Error in conv1d: depth of input ("+h.shape[2]+") must match "+("input depth for filter "+l.shape[1]+".")}),ye(nc(r,s),function(){return"Error in conv1D: Either stride or dilation must be 1. "+("Got stride "+r+" and dilation '"+s+"'")}),ye(a==="NWC",function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."});var v=at(l,[1,l.shape[0],l.shape[1],l.shape[2]]),y=at(h,[h.shape[0],1,h.shape[1],h.shape[2]]),S=[1,r],A=[1,s],T="NHWC",I=QE(y,v,S,n,T,A,o);return p?at(I,[I.shape[2],I.shape[3]]):at(I,[I.shape[0],I.shape[2],I.shape[3]])}var Eqe=ge({conv1d_:Sqe});function Mqe(t,e,r,n,a,s,o){s===void 0&&(s="NHWC"),ye(t.length===e.rank,function(){return"Length of inShape "+("("+t.length+") and rank of dy ("+e.rank+") must match")});var u=t,l=e,h=!1;e.rank===3&&(h=!0,l=at(e,[1,e.shape[0],e.shape[1],e.shape[2]]),u=[1,t[0],t[1],t[2]]),ye(u.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+(u.length+".")}),ye(l.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+("rank "+l.rank)}),ye(r.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+("rank "+r.rank)});var p=s==="NHWC"?u[3]:u[1],v=s==="NHWC"?l.shape[3]:l.shape[1];ye(p===r.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+p+") must "+("match input depth for filter "+r.shape[2]+".")}),ye(v===r.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+v+") must "+("match output depth for filter "+r.shape[3]+".")}),ru("conv2dDerInput",a,o);var y={dy:l,filter:r},S={strides:n,pad:a,dataFormat:s,dimRoundingMode:o,inputShape:u},A=Ee.runKernel(A9e,y,S);return h?at(A,[A.shape[1],A.shape[2],A.shape[3]]):A}var Dte=ge({conv2DBackpropInput_:Mqe});function Aqe(t,e,r,n,a,s){var o=re(t,"x","conv2dTranspose"),u=re(e,"filter","conv2dTranspose");return Dte(r,o,u,n,a,"NHWC",s)}var kqe=ge({conv2dTranspose_:Aqe});function Tqe(t,e,r,n,a,s){a===void 0&&(a="NDHWC"),s===void 0&&(s=[1,1,1]);var o=re(t,"x","conv3d"),u=re(e,"filter","conv3d"),l=o,h=!1;o.rank===4&&(h=!0,l=at(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ye(l.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+l.rank+"."}),ye(u.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+(u.rank+".")}),ye(l.shape[4]===u.shape[3],function(){return"Error in conv3d: depth of input ("+l.shape[4]+") must match "+("input depth for filter "+u.shape[3]+".")}),ye(nc(r,s),function(){return"Error in conv3D: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+s+"'")}),ye(a==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."});var p={x:l,filter:u},v={strides:r,pad:n,dataFormat:a,dilations:s},y=Ee.runKernel(k9e,p,v);return h?at(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}var Nqe=ge({conv3d_:Tqe});function Iqe(t,e,r,n,a){ye(t.length===e.rank,function(){return"Length of inShape "+("("+t.length+") and rank of dy ("+e.rank+") must match")});var s=t,o=e,u=!1;e.rank===4&&(u=!0,o=at(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),s=[1,t[0],t[1],t[2],t[3]]);var l=s[4],h=o.shape[4];ye(s.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+(s.length+".")}),ye(o.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+("rank "+o.rank)}),ye(r.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+("rank "+r.rank)}),ye(l===r.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+l+") must "+("match input depth for filter "+r.shape[3]+".")}),ye(h===r.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+h+") must "+("match output depth for filter "+r.shape[4]+".")});var p={dy:o,filter:r},v={pad:a,strides:n,inputShape:s},y=Ee.runKernel(T9e,p,v);return u?at(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}var Dqe=ge({conv3DBackpropInput_:Iqe});function Oqe(t,e,r,n,a){var s=re(t,"x","conv3dTranspose"),o=re(e,"filter","conv3dTranspose");return Dqe(r,s,o,n,a)}var Rqe=ge({conv3dTranspose_:Oqe});function Cqe(t){var e=re(t,"x","cos","float32"),r={x:e};return Ee.runKernel(N9e,r)}var Fqe=ge({cos_:Cqe});function Bqe(t){var e=re(t,"x","cosh","float32"),r={x:e};return Ee.runKernel(I9e,r)}var Lqe=ge({cosh_:Bqe});function Pqe(t,e,r,n){e===void 0&&(e=0),r===void 0&&(r=!1),n===void 0&&(n=!1);var a=re(t,"x","cumprod"),s={x:a},o={axis:e,exclusive:r,reverse:n};return Ee.runKernel(D9e,s,o)}var qqe=ge({cumprod_:Pqe});function $qe(t,e,r,n){e===void 0&&(e=0),r===void 0&&(r=!1),n===void 0&&(n=!1);var a=re(t,"x","cumsum"),s={x:a},o={axis:e,exclusive:r,reverse:n};return Ee.runKernel(O9e,s,o)}var zqe=ge({cumsum_:$qe});function jqe(t,e,r,n){n===void 0&&(n=!1);var a=re(t,"x","denseBincount"),s=re(e,"weights","denseBincount");ye(a.dtype==="int32",function(){return"Error in denseBincount: input "+("dtype must be int32, but got "+a.dtype)}),ye(a.rank<=2,function(){return"Error in denseBincount: input must be at most rank 2, but got "+("rank "+a.rank+".")}),ye(r>=0,function(){return"size must be non-negative, but got "+r+"."}),ye(s.size===a.size||s.size===0,function(){return"Error in denseBincount: weights must have the same shape as x or "+("0-length, but got x shape: "+a.shape+", weights shape: ")+(s.shape+".")});var o={x:a,weights:s},u={size:r,binaryOutput:n};return Ee.runKernel(C9e,o,u)}var Uqe=ge({denseBincount_:jqe});function Vqe(t,e,r){r===void 0&&(r="NHWC");var n=re(t,"x","depthToSpace","float32"),a=r==="NHWC"?n.shape[1]:n.shape[2],s=r==="NHWC"?n.shape[2]:n.shape[3],o=r==="NHWC"?n.shape[3]:n.shape[1];ye(e>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+e}),ye(a*e>=0,function(){return`Negative dimension size caused by overflow when multiplying
    `+a+" and "+e+`  for depthToSpace with input shape
    `+n.shape}),ye(s*e>=0,function(){return`Negative dimension size caused by overflow when multiplying
    `+s+" and "+e+` for depthToSpace with input shape
        `+n.shape}),ye(o%(e*e)===0,function(){return"Dimension size must be evenly divisible by "+e*e+" but is "+o+" for depthToSpace with input shape "+n.shape});var u={x:n},l={blockSize:e,dataFormat:r};return Ee.runKernel(F9e,u,l)}var Wqe=ge({depthToSpace_:Vqe});function Gqe(t,e,r,n,a,s,o){a===void 0&&(a="NHWC"),s===void 0&&(s=[1,1]);var u=re(t,"x","depthwiseConv2d","float32"),l=re(e,"filter","depthwiseConv2d","float32"),h=u,p=!1;u.rank===3&&(p=!0,h=at(u,[1,u.shape[0],u.shape[1],u.shape[2]])),ye(h.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+("rank "+h.rank+".")}),ye(l.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+(l.rank+".")});var v=a==="NHWC"?h.shape[3]:h.shape[1];ye(v===l.shape[2],function(){return"Error in depthwiseConv2d: number of input channels "+("("+v+") must match the inChannels dimension in ")+("filter "+l.shape[2]+".")}),ru("depthwiseConv2d",n,o);var y={x:h,filter:l},S={strides:r,pad:n,dataFormat:a,dilations:s,dimRoundingMode:o},A=Ee.runKernel(B9e,y,S);return p?at(A,[A.shape[1],A.shape[2],A.shape[3]]):A}var RD=ge({depthwiseConv2d_:Gqe});function Hqe(t){var e=re(t,"x","diag"),r={x:e};return Ee.runKernel(q9e,r)}var Kqe=ge({diag_:Hqe});function Zqe(t,e,r,n,a,s){a===void 0&&(a=[1,1]),s===void 0&&(s="NHWC");var o=re(t,"x","dilation2d"),u=re(e,"filter","dilation2d");ye(o.rank===3||o.rank===4,function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+(o.rank+".")}),ye(u.rank===3,function(){return"Error in dilation2d: filter must be rank 3, but got rank "+(u.rank+".")}),ye(s==="NHWC",function(){return"Error in dilation2d: Only NHWC is currently supported, "+("but got dataFormat of "+s)});var l=o,h=!1;o.rank===3&&(l=at(o,[1,o.shape[0],o.shape[1],o.shape[2]]),h=!0);var p={x:l,filter:u},v={strides:r,pad:n,dilations:a},y=Ee.runKernel($9e,p,v);return h?at(y,[y.shape[1],y.shape[2],y.shape[3]]):y}var Jqe=ge({dilation2d_:Zqe});function Yqe(t,e){var r,n=re(t,"a","floorDiv"),a=re(e,"b","floorDiv");r=bt(Qn(n,a),2),n=r[0],a=r[1];var s={a:n,b:a};return Ee.runKernel(Q9e,s)}var Ote=ge({floorDiv_:Yqe});function Xqe(t,e){var r,n=re(t,"a","div"),a=re(e,"b","div");if(r=bt(Qn(n,a),2),n=r[0],a=r[1],n.dtype==="int32"&&a.dtype==="int32")return Ote(n,a);var s={a:n,b:a},o={};return Ee.runKernel(z9e,s,o)}var Ea=ge({div_:Xqe});function Qqe(t,e){for(var r=[],n=0;n<e.length;n++){var a=t[t.length-n-1],s=e.length-n-1,o=e[s];(a==null||a===1&&o>1)&&r.unshift(s)}return r}function Ii(t,e){for(var r=[],n=Math.max(t.length,e.length),a=0;a<n;a++){var s=t[t.length-a-1];s==null&&(s=1);var o=e[e.length-a-1];if(o==null&&(o=1),s===1)r.unshift(o);else if(o===1)r.unshift(s);else if(s!==o){var u="Operands could not be broadcast together with shapes "+(t+" and "+e+".");throw Error(u)}else r.unshift(s)}return r}function e$e(t,e){var r,n=re(t,"a","equal","string_or_numeric"),a=re(e,"b","equal","string_or_numeric");r=bt(Qn(n,a),2),n=r[0],a=r[1],Ii(n.shape,a.shape);var s={a:n,b:a};return Ee.runKernel(W9e,s)}var Rte=ge({equal_:e$e});function t$e(t,e,r){var n=re(e,"a","where"),a=re(r,"b","where"),s=re(t,"condition","where","bool"),o=Ii(Ii(s.shape,n.shape),a.shape),u=PE(s,o),l=PE(n,o),h=PE(a,o),p={condition:u,t:l,e:h};return Ee.runKernel(nLe,p)}var jm=ge({where_:t$e});function r$e(t){var e=re(t,"x","zerosLike"),r={x:e};return Ee.runKernel(CLe,r)}var CD=ge({zerosLike_:r$e});function n$e(t,e){var r,n=re(t,"a","div"),a=re(e,"b","div");r=bt(Qn(n,a),2),n=r[0],a=r[1];var s=Ea(n,a),o=CD(s),u=Rte(a,o);return jm(u,o,s)}var i$e=ge({divNoNan_:n$e});function a$e(t,e){var r=re(t,"t1","dot"),n=re(e,"t2","dot");ye((r.rank===1||r.rank===2)&&(n.rank===1||n.rank===2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+(r.rank+" and "+n.rank+".")});var a=r.rank===1?r.size:r.shape[1],s=n.rank===1?n.size:n.shape[0];if(ye(a===s,function(){return"Error in dot: inner dimensions of inputs must match, but got "+(a+" and "+s+".")}),r.rank===1&&n.rank===1){var o=at(r,[1,-1]),u=at(n,[-1,1]),l=rn(o,u);return at(l,[])}else if(r.rank===1&&n.rank===2){var o=at(r,[1,-1]),u=at(n,[n.shape[0],n.shape[1]]),l=rn(o,u);return at(l,[l.size])}else if(r.rank===2&&n.rank===1){var u=at(n,[-1,1]),l=rn(r,u);return at(l,[l.size])}else{var u=at(n,[n.shape[0],n.shape[1]]),l=rn(r,u);return l}}var s$e=ge({dot_:a$e});function o$e(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=e.map(function(s,o){return re(s,"tensors"+o,"einsum")}),a={equation:t};return Ee.runKernel(j9e,n,a)}var u$e=ge({einsum_:o$e});function f$e(t){var e=re(t,"x","elu","float32"),r={x:e};return Ee.runKernel(U9e,r)}var Cte=ge({elu_:f$e});function l$e(t){var e=re(t,"x","erf");ye(e.dtype==="int32"||e.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),e.dtype==="int32"&&(e=Wi(e,"float32"));var r={x:e};return Ee.runKernel(V9e,r)}var c$e=ge({erf_:l$e});function h$e(t,e,r){for(var n=t.length+e.length,a=[],s=0,o=0,u=0;u<n;u++)r.indexOf(u)===-1?a.push(t[s++]):a.push(e[o++]);return a}function e3(t,e){var r=e.map(function(n){return 1});return h$e(t,r,e)}function d$e(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=re(t,"x","max"),a={x:n},s={reductionIndices:e,keepDims:r};return Ee.runKernel(wBe,a,s)}var $m=ge({max_:d$e});function p$e(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=re(t,"x","min"),a={x:n},s={axis:e,keepDims:r};return Ee.runKernel(ABe,a,s)}var yD=ge({min_:p$e});function m$e(t,e){var r,n=re(t,"base","pow"),a=re(e,"exp","pow");r=bt(Qn(n,a),2),n=r[0],a=r[1];var s={a:n,b:a};return Ee.runKernel(zBe,s)}var FD=ge({pow_:m$e});function ic(t,e,r,n){if(n==null&&(n=MD(t)),n==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Uu(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){fte(e);var a=La(e),s=La(r);ye(a===s,function(){return"Based on the provided shape, ["+e+"], the tensor should have "+(a+" values but has "+s)});for(var o=0;o<r.length;++o){var u=r[o],l=o===r.length-1?u!==La(e.slice(o)):!0;ye(r[o]===e[o]||!l,function(){return"Error creating a new Tensor. Inferred shape "+("("+r+") does not match the provided ")+("shape ("+e+"). ")})}}return!Uu(t)&&!Array.isArray(t)&&(t=[t]),e=e||r,t=n!=="string"?xte(t,n):JE(t,[],!0),Ee.makeTensor(t,e,n)}function zn(t,e){if((Uu(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Uu(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");var r=[],n=[];return ic(t,r,n,e)}function v$e(t){var e=re(t,"x","sqrt","float32"),r={x:e};return Ee.runKernel(cLe,r)}var bD=ge({sqrt_:v$e});function g$e(t){var e=re(t,"x","square"),r={};return Ee.runKernel("Square",{x:e},r)}var t3=ge({square_:g$e});function y$e(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=re(t,"x","sum");n.dtype==="bool"&&(n=Wi(n,"int32"));var a={x:n},s={axis:e,keepDims:r};return Ee.runKernel(hLe,a,s)}var kn=ge({sum_:y$e});function b$e(t,e,r,n){e===void 0&&(e="euclidean"),r===void 0&&(r=null),n===void 0&&(n=!1),t=re(t,"x","norm");var a=Fte(t,e,r),s=a.shape;if(n){var o=YE(r,t.shape);s=e3(a.shape,o)}return at(a,s)}function Fte(t,e,r){if(r===void 0&&(r=null),t.rank===0)return mo(t);if(t.rank!==1&&r===null)return Fte(at(t,[-1]),e,r);if(t.rank===1||typeof r=="number"||Array.isArray(r)&&r.length===1){if(e===1)return kn(mo(t),r);if(e===1/0)return $m(mo(t),r);if(e===-1/0)return yD(mo(t),r);if(e==="euclidean"||e===2)return bD(kn(FD(mo(t),zn(2,"int32")),r));throw new Error("Error in norm: invalid ord value: "+e)}if(Array.isArray(r)&&r.length===2){if(e===1)return $m(kn(mo(t),r[0]),r[1]-1);if(e===1/0)return $m(kn(mo(t),r[1]),r[0]);if(e===-1/0)return yD(kn(mo(t),r[1]),r[0]);if(e==="fro"||e==="euclidean")return bD(kn(t3(t),r));throw new Error("Error in norm: invalid ord value: "+e)}throw new Error("Error in norm: invalid axis: "+r)}var r3=ge({norm_:b$e});function w$e(t,e,r){return e===void 0&&(e=null),r===void 0&&(r=!1),r3(t,"euclidean",e,r)}var _$e=ge({euclideanNorm_:w$e});function x$e(t){var e=re(t,"x","exp"),r={x:e};return Ee.runKernel(G9e,r)}var od=ge({exp_:x$e});function S$e(t,e){e===void 0&&(e=0);var r=re(t,"x","expandDims","string_or_numeric");ye(e<=r.rank,function(){return"Axis must be <= rank of the tensor"});var n={input:r},a={dim:e};return Ee.runKernel(H9e,n,a)}var nd=ge({expandDims_:S$e});function E$e(t){var e=re(t,"x","expm1"),r={x:e};return Ee.runKernel(K9e,r)}var M$e=ge({expm1_:E$e});function A$e(t,e){var r=re(t,"x","tile","string_or_numeric");ye(r.rank===e.length,function(){return"Error in transpose: rank of input "+r.rank+" "+("must match length of reps "+e+".")});var n={x:r},a={reps:e};return Ee.runKernel(vte,n,a)}var g1=ge({tile_:A$e});function k$e(t,e,r,n){n===void 0&&(n="float32"),e==null&&(e=t);for(var a=tc([t,e],n),s=t<=e?t:e,o=0;o<s;++o)a.set(1,o,o);var u=at(a.toTensor(),[t,e]);if(r==null)return u;if(r.length===1)return g1(nd(u,0),[r[0],1,1]);if(r.length===2)return g1(nd(nd(u,0),0),[r[0],r[1],1,1]);if(r.length===3)return g1(nd(nd(nd(u,0),0),0),[r[0],r[1],r[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+("batchShapes, but received "+r.length+"D."))}var Bte=ge({eye_:k$e});function BD(t,e,r){var n={shape:t,value:e,dtype:r};return Ee.runKernel(J9e,{},n)}function T$e(t){var e=re(t,"x","floor","float32"),r={x:e};return Ee.runKernel(X9e,r)}var Lte=ge({floor_:T$e});function N$e(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var a=re(t,"x","gather"),s=re(e,"indices","gather","int32"),o={x:a,indices:s},u={axis:r,batchDims:n};return Ee.runKernel(tBe,o,u)}var Pte=ge({gather_:N$e});function I$e(t,e){var r,n=re(t,"a","greater","string_or_numeric"),a=re(e,"b","greater","string_or_numeric");r=bt(Qn(n,a),2),n=r[0],a=r[1],Ii(n.shape,a.shape);var s={a:n,b:a};return Ee.runKernel(nBe,s)}var n3=ge({greater_:I$e});function D$e(t,e){var r,n=re(t,"a","greaterEqual","string_or_numeric"),a=re(e,"b","greaterEqual","string_or_numeric");r=bt(Qn(n,a),2),n=r[0],a=r[1],Ii(n.shape,a.shape);var s={a:n,b:a};return Ee.runKernel(iBe,s)}var qte=ge({greaterEqual_:D$e});function O$e(t){var e=re(t,"input","imag"),r={input:e};return Ee.runKernel(sBe,r)}var i3=ge({imag_:O$e});function R$e(t){var e=re(t,"x","isFinite"),r={x:e};return Ee.runKernel(oBe,r)}var C$e=ge({isFinite_:R$e});function F$e(t){var e=re(t,"x","isInf"),r={x:e};return Ee.runKernel(uBe,r)}var B$e=ge({isInf_:F$e});function L$e(t){var e=re(t,"x","isNaN"),r={x:e};return Ee.runKernel(fBe,r)}var P$e=ge({isNaN_:L$e});function q$e(t,e){e===void 0&&(e=.2);var r=re(t,"x","leakyRelu"),n={x:r},a={alpha:e};return Ee.runKernel(lBe,n,a)}var $te=ge({leakyRelu_:q$e});function $$e(t,e){var r,n=re(t,"a","less","string_or_numeric"),a=re(e,"b","less","string_or_numeric");r=bt(Qn(n,a),2),n=r[0],a=r[1],Ii(n.shape,a.shape);var s={a:n,b:a};return Ee.runKernel(cBe,s)}var z$e=ge({less_:$$e});function j$e(t,e){var r,n=re(t,"a","lessEqual","string_or_numeric"),a=re(e,"b","lessEqual","string_or_numeric");r=bt(Qn(n,a),2),n=r[0],a=r[1],Ii(n.shape,a.shape);var s={a:n,b:a};return Ee.runKernel(hBe,s)}var LD=ge({lessEqual_:j$e});function U$e(t,e,r){if(r<=0)throw new Error("The number of values should be positive.");var n={start:t,stop:e,num:r};return Ee.runKernel(dBe,{},n)}function V$e(t,e,r,n,a){e===void 0&&(e=5),r===void 0&&(r=1),n===void 0&&(n=1),a===void 0&&(a=.5);var s=re(t,"x","localResponseNormalization");ye(s.rank===4||s.rank===3,function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+s.rank+"."}),ye(b1(e),function(){return"Error in localResponseNormalization: depthRadius must be an "+("integer but got depthRadius "+e+".")});var o=s,u=!1;s.rank===3&&(u=!0,o=at(s,[1,s.shape[0],s.shape[1],s.shape[2]]));var l={x:o},h={depthRadius:e,bias:r,alpha:n,beta:a},p=Ee.runKernel(bBe,l,h);return u?at(p,[p.shape[1],p.shape[2],p.shape[3]]):p}var W$e=ge({localResponseNormalization_:V$e});function G$e(t){var e=re(t,"x","log","float32"),r={x:e};return Ee.runKernel(pBe,r)}var w1=ge({log_:G$e});function H$e(t){var e=re(t,"x","log1p"),r={x:e};return Ee.runKernel(mBe,r)}var zte=ge({log1p_:H$e});function Wf(t){return Ee.customGrad(t)}function K$e(t){var e=re(t,"x","neg"),r={x:e};return Ee.runKernel(OBe,r)}var Vf=ge({neg_:K$e});function Z$e(t){var e=re(t,"x","softplus"),r={x:e};return Ee.runKernel(lLe,r)}var jte=ge({softplus_:Z$e});function J$e(t){var e=re(t,"x","logSigmoid"),r=Wf(function(n){var a=Vf(jte(Vf(n))),s=function(o){var u=Vt(o,qm(Vf(n)));return u};return{value:a,gradFunc:s}});return r(e)}var Y$e=ge({logSigmoid_:J$e});function X$e(t,e){var r,n=re(t,"a","sub"),a=re(e,"b","sub");r=bt(Qn(n,a),2),n=r[0],a=r[1];var s={a:n,b:a};return Ee.runKernel(ALe,s)}var Sr=ge({sub_:X$e});function Q$e(t,e){e===void 0&&(e=-1);var r=re(t,"logits","logSoftmax");if(e===-1&&(e=r.rank-1),e!==r.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+("Logits was rank "+r.rank+" and axis was "+e));var n=Wf(function(a,s){var o=!0,u=$m(a,e,!0),l=Sr(a,u),h=Sr(Wi(l,"float32"),w1(kn(od(l),e,o)));s([h]);var p=function(v,y){var S=bt(y,1),A=S[0],T=!0,I=od(A);return Sr(v,Vt(kn(v,e,T),I))};return{value:h,gradFunc:p}});return n(r)}var eze=ge({logSoftmax_:Q$e});function tze(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=re(t,"x","logSumExp"),a=YE(e,n.shape),s=$m(n,a,!0),o=Sr(n,s),u=od(o),l=kn(u,a),h=w1(l),p=Ni(at(s,h.shape),h);if(r){var v=e3(p.shape,a);return at(p,v)}return p}var Ute=ge({logSumExp_:tze});function rze(t,e){var r=re(t,"a","logicalAnd","bool"),n=re(e,"b","logicalAnd","bool");Ii(r.shape,n.shape);var a={a:r,b:n};return Ee.runKernel(vBe,a)}var HE=ge({logicalAnd_:rze});function nze(t){var e=re(t,"x","logicalNot","bool"),r={x:e};return Ee.runKernel(gBe,r)}var Vte=ge({logicalNot_:nze});function ize(t,e){var r=re(t,"a","logicalOr","bool"),n=re(e,"b","logicalOr","bool");Ii(r.shape,n.shape);var a={a:r,b:n};return Ee.runKernel(yBe,a)}var Wte=ge({logicalOr_:ize});function aze(t,e){var r=re(t,"a","logicalXor","bool"),n=re(e,"b","logicalXor","bool");return Ii(r.shape,n.shape),HE(Wte(t,e),Vte(HE(t,e)))}var sze=ge({logicalXor_:aze});var CE=2147483648;function oze(t,e,r){r===void 0&&(r="left");var n=re(t,"sortedSequence","searchSorted"),a=re(e,"values","searchSorted"),s=n.shape[n.shape.length-1],o=a.shape[a.shape.length-1],u=at(n,[-1,s]),l=at(a,[-1,o]);if(u.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(u.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(La(l.shape)>=CE)throw new Error("values tensor size must less than "+CE);if(u.shape[1]>=CE)throw new Error("trailing dim_size must less than "+CE+" for int32 output type, was "+u.shape[1]);var h={sortedSequence:u,values:l},p={side:r};return Ee.runKernel(rLe,h,p)}var PD=ge({searchSorted_:oze});function uze(t,e){return PD(t,e,"left")}function fze(t,e,r,n,a){var s=re(t,"x","maxPool"),o=1,u=s,l=!1;s.rank===3&&(l=!0,u=at(s,[1,s.shape[0],s.shape[1],s.shape[2]])),ye(u.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+u.rank+"."}),ye(nc(r,o),function(){return"Error in maxPool: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+o+"'")}),ru("maxPool",n,a);var h={x:u},p={filterSize:e,strides:r,pad:n,dimRoundingMode:a},v=Ee.runKernel(xBe,h,p);return l?at(v,[v.shape[1],v.shape[2],v.shape[3]]):v}var Gte=ge({maxPool_:fze});function lze(t,e,r,n,a,s){e===void 0&&(e=[1,1,1]),s===void 0&&(s="NDHWC");var o=re(t,"x","maxPool3d"),u=o,l=!1;o.rank===4&&(l=!0,u=at(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ye(u.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."}),ye(s==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+("but got dataFormat of "+s)}),ru("maxPool3d",n,a);var h={x:u},p={filterSize:e,strides:r,pad:n,dimRoundingMode:a,dataFormat:s},v=Ee.runKernel(SBe,h,p);return l?at(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}var cze=ge({maxPool3d_:lze});function hze(t,e,r,n,a){a===void 0&&(a=!1);var s=re(t,"x","maxPoolWithArgmax"),o={x:s},u={filterSize:e,strides:r,pad:n,includeBatchInIndex:a},l=Ee.runKernel(EBe,o,u);return{result:l[0],indexes:l[1]}}var dze=ge({maxPoolWithArgmax_:hze});function pze(t,e){var r,n=re(t,"a","maximum"),a=re(e,"b","maximum");r=bt(Qn(n,a),2),n=r[0],a=r[1],n.dtype==="bool"&&(n=Wi(n,"int32"),a=Wi(a,"int32")),Ii(n.shape,a.shape);var s={a:n,b:a};return Ee.runKernel(_Be,s)}var mze=ge({maximum_:pze});function vze(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=re(t,"x","mean"),a={x:n},s={axis:e,keepDims:r};return Ee.runKernel(MBe,a,s)}var KE=ge({mean_:vze});function Um(t,e){if(e===void 0&&(e="float32"),e==="complex64"){var r=Um(t,"float32"),n=Um(t,"float32");return sd(r,n)}var a=kD(La(t),e);return Ee.makeTensor(a,t,e)}function ad(t,e){if(e===void 0&&(e="float32"),e==="complex64"){var r=ad(t,"float32"),n=Um(t,"float32");return sd(r,n)}var a=ute(La(t),e);return Ee.makeTensor(a,t,e)}function gze(t,e,r){var n=(r===void 0?{}:r).indexing,a=n===void 0?"xy":n;if(a!=="xy"&&a!=="ij")throw new TypeError(a+" is not a valid third argument to meshgrid");if(t===void 0)return[];var s=re(t,"x","meshgrid",t instanceof Fa?t.dtype:"float32");if(e===void 0)return[s];var o=re(e,"y","meshgrid",e instanceof Fa?e.dtype:"float32"),u=La(s.shape),l=La(o.shape);return a==="xy"?(s=at(s,[1,-1]),o=at(o,[-1,1]),[rn(ad([l,1],s.dtype),s),rn(o,ad([1,u],o.dtype))]):(s=at(s,[-1,1]),o=at(o,[1,-1]),[rn(s,ad([1,l],s.dtype)),rn(ad([u,1],o.dtype),o)])}function yze(t,e){var r,n=re(t,"a","minimum"),a=re(e,"b","minimum");r=bt(Qn(n,a),2),n=r[0],a=r[1],n.dtype==="bool"&&(n=Wi(n,"int32"),a=Wi(a,"int32")),Ii(n.shape,a.shape);var s={a:n,b:a};return Ee.runKernel(kBe,s)}var Hte=ge({minimum_:yze});function bze(t,e,r){ye(r==="reflect"||r==="symmetric",function(){return"Invalid mode. Mode must be either reflect or symmetric. "+("Got "+r+".")});var n=re(t,"x","mirrorPad");if(n.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");ye(e.length===n.rank,function(){return"Padding doesn't match input. Must be "+n.rank+". "+("Got "+e.length+".")});for(var a=r==="reflect"?1:0,s=function(h){ye(e[h].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),ye(e[h][0]>=0&&e[h][0]<=n.shape[h]-a&&e[h][1]>=0&&e[h][1]<=n.shape[h]-a,function(){return"Padding in dimension "+h+" cannot be greater than or equal "+("to "+(n.shape[h]-a)+" or less than 0 for input of ")+("shape "+n.shape)})},o=0;o<n.rank;o++)s(o);var u={paddings:e,mode:r},l={x:n};return Ee.runKernel(TBe,l,u)}var wze=ge({mirrorPad_:bze});function _ze(t,e){var r,n=re(t,"a","mod"),a=re(e,"b","mod");r=bt(Qn(n,a),2),n=r[0],a=r[1];var s={a:n,b:a};return Ee.runKernel(NBe,s)}var xze=ge({mod_:_ze});function Sze(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1),t=re(t,"x","moments");var n=YE(e,t.shape),a=KE(t,n,r),s=a.shape;r||(s=e3(a.shape,n));var o=t3(Sr(Wi(t,"float32"),at(a,s))),u=KE(o,n,r);return{mean:a,variance:u}}var Eze=ge({moments_:Sze});function Mze(t,e,r,n){for(var a=re(e,"data","multiRNNCell"),s=UE(r,"c","multiRNNCell"),o=UE(n,"h","multiRNNCell"),u=a,l=[],h=0;h<t.length;h++){var p=t[h](u,s[h],o[h]);l.push(p[0]),l.push(p[1]),u=p[1]}for(var v=[],y=[],h=0;h<l.length;h+=2)v.push(l[h]),y.push(l[h+1]);return[v,y]}var Aze=ge({multiRNNCell_:Mze});function kze(t,e,r,n){n===void 0&&(n=!1);var a=re(t,"logits","multinomial"),s=a.size,o=a.rank;if(s<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+(s+"."));if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);r=r||Math.random();var u=o===1?at(a,[1,-1]):a,l={logits:u},h={numSamples:e,seed:r,normalized:n},p=Ee.runKernel(IBe,l,h);return o===1?at(p,[p.size]):p}var Tze=ge({multinomial_:kze});function Nze(t,e){var r,n=re(t,"a","notEqual","string_or_numeric"),a=re(e,"b","notEqual","string_or_numeric");r=bt(Qn(n,a),2),n=r[0],a=r[1],Ii(n.shape,a.shape);var s={a:n,b:a};return Ee.runKernel(RBe,s)}var Kte=ge({notEqual_:Nze});function Ize(t,e,r,n){if(r===void 0&&(r=1),n===void 0&&(n=0),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);var a=re(t,"indices","oneHot","int32"),s={indices:a},o={depth:e,onValue:r,offValue:n};return Ee.runKernel(PBe,s,o)}var Dze=ge({oneHot_:Ize});function Oze(t){var e=re(t,"x","onesLike"),r={x:e};return Ee.runKernel(LBe,r)}var Rze=ge({onesLike_:Oze});function Cze(t,e){var r=re(t,"v1","outerProduct"),n=re(e,"v2","outerProduct");ye(r.rank===1&&n.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+(r.rank+" and "+n.rank+".")});var a=at(r,[-1,1]),s=at(n,[1,-1]);return rn(a,s)}var Fze=ge({outerProduct_:Cze});function Bze(t,e,r){r===void 0&&(r=0);var n=re(t,"x","pad");if(n.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:e,constantValue:r},s={x:n};return Ee.runKernel($Be,s,a)}var M1=ge({pad_:Bze});function Lze(t,e,r){return r===void 0&&(r=0),ye(e.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),M1(t,[e],r)}var Pze=ge({pad1d_:Lze});function qze(t,e,r){return r===void 0&&(r=0),ye(e.length===2&&e[0].length===2&&e[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),M1(t,e,r)}var $ze=ge({pad2d_:qze});function zze(t,e,r){return r===void 0&&(r=0),ye(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),M1(t,e,r)}var jze=ge({pad3d_:zze});function Uze(t,e,r){return r===void 0&&(r=0),ye(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),M1(t,e,r)}var Vze=ge({pad4d_:Uze});function Wze(t,e,r){var n=re(t,"x","spaceToBatchND");ye(n.rank>=1+e.length,function(){return"input rank "+n.rank+" should be > than [blockShape] "+e.length}),ye(r.length===e.length,function(){return"paddings.shape[0] "+r.length+" must be equal to [blockShape] "+e.length}),ye(n.shape.reduce(function(o,u,l){return l>0&&l<=e.length?o&&(u+r[l-1][0]+r[l-1][1])%e[l-1]===0:o},!0),function(){return"input spatial dimensions "+n.shape.slice(1)+" with paddings "+r.toString()+" must be divisible by blockShapes "+e.toString()});var a={x:n},s={blockShape:e,paddings:r};return Ee.runKernel(dLe,a,s)}var Zte=ge({spaceToBatchND_:Wze});function Gze(t,e,r,n,a,s,o){a==null&&(a=[1,1]),s==null&&(s=1),n===0&&(n="valid");var u=re(t,"x","maxPool"),l=u,h=!1;u.rank===3&&(h=!0,l=at(u,[1,u.shape[0],u.shape[1],u.shape[2]])),ye(nc(s,a),function(){return"Error in pool: Either strides or dilations must be 1. "+("Got strides "+s+" and dilations '"+a+"'")});var p=RPe(l.shape,e,s,a,n),v=[p.dilationHeight,p.dilationWidth],y;n==="same"?y=Kze([p.filterHeight,p.filterWidth],v):y=[[0,0],[0,0]];var S=v[0]===1&&v[1]===1,A=bt(Hze([p.inHeight,p.inWidth],v,y),2),T=A[0],I=A[1],N=S?n:"valid",D=S?l:Zte(l,v,T),C=r==="avg"?function(){return Tte(D,e,s,N,o)}:function(){return Gte(D,e,s,N,o)},L=C(),z=S?L:Nte(L,v,I);return h?at(z,[z.shape[1],z.shape[2],z.shape[3]]):z}function Hze(t,e,r){var n=r.map(function(p){return p[0]}),a=r.map(function(p){return p[1]}),s=t.concat(n,a),o=e.map(function(p,v){return(p-s[v]%p)%p}),u=a.map(function(p,v){return p+o[v]}),l=e.map(function(p,v){return[n[v],u[v]]}),h=e.map(function(p,v){return[0,o[v]]});return[l,h]}function Kze(t,e){var r=t.map(function(o,u){return o+(o-1)*(e[u]-1)}),n=r.map(function(o){return o-1}),a=n.map(function(o){return Math.floor(o/2)}),s=n.map(function(o,u){return o-a[u]});return n.map(function(o,u){return[a[u],s[u]]})}var Zze=ge({pool_:Gze});function Jze(t,e){var r=re(t,"x","prelu"),n=re(e,"alpha","prelu"),a={x:r,alpha:n};return Ee.runKernel(jBe,a)}var Jte=ge({prelu_:Jze});function Yze(t,e){e===void 0&&(e=!1),console.log(t.toString(e))}function Xze(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=re(t,"x","prod");n.dtype==="bool"&&(n=Wi(n,"int32"));var a={x:n},s={axis:e,keepDims:r};return Ee.runKernel(UBe,a,s)}var Qze=ge({prod_:Xze});function eje(t,e,r){var n=La(t),a=null;if(r==null||r==="float32")a=new Float32Array(n);else if(r==="int32")a=new Int32Array(n);else if(r==="bool")a=new Uint8Array(n);else throw new Error("Unknown data type "+r);for(var s=0;s<n;s++)a[s]=e();return Ee.makeTensor(a,t,r)}var tje=ge({rand_:eje}),ld=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function rje(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e}function cd(t){var e={exports:{}};return t(e,e.exports),e.exports}var nje=cd(function(t){(function(e,r,n){function a(l){var h=this,p=u();h.next=function(){var v=2091639*h.s0+h.c*23283064365386963e-26;return h.s0=h.s1,h.s1=h.s2,h.s2=v-(h.c=v|0)},h.c=1,h.s0=p(" "),h.s1=p(" "),h.s2=p(" "),h.s0-=p(l),h.s0<0&&(h.s0+=1),h.s1-=p(l),h.s1<0&&(h.s1+=1),h.s2-=p(l),h.s2<0&&(h.s2+=1),p=null}function s(l,h){return h.c=l.c,h.s0=l.s0,h.s1=l.s1,h.s2=l.s2,h}function o(l,h){var p=new a(l),v=h&&h.state,y=p.next;return y.int32=function(){return p.next()*4294967296|0},y.double=function(){return y()+(y()*2097152|0)*11102230246251565e-32},y.quick=y,v&&(typeof v=="object"&&s(v,p),y.state=function(){return s(p,{})}),y}function u(){var l=4022871197,h=function(p){p=String(p);for(var v=0;v<p.length;v++){l+=p.charCodeAt(v);var y=.02519603282416938*l;l=y>>>0,y-=l,y*=l,l=y>>>0,y-=l,l+=y*4294967296}return(l>>>0)*23283064365386963e-26};return h}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.alea=o})(ld,t,!1)}),ije=cd(function(t){(function(e,r,n){function a(u){var l=this,h="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var v=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^v^v>>>8},u===(u|0)?l.x=u:h+=u;for(var p=0;p<h.length+64;p++)l.x^=h.charCodeAt(p)|0,l.next()}function s(u,l){return l.x=u.x,l.y=u.y,l.z=u.z,l.w=u.w,l}function o(u,l){var h=new a(u),p=l&&l.state,v=function(){return(h.next()>>>0)/4294967296};return v.double=function(){do var y=h.next()>>>11,S=(h.next()>>>0)/4294967296,A=(y+S)/(1<<21);while(A===0);return A},v.int32=h.next,v.quick=v,p&&(typeof p=="object"&&s(p,h),v.state=function(){return s(h,{})}),v}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xor128=o})(ld,t,!1)}),aje=cd(function(t){(function(e,r,n){function a(u){var l=this,h="";l.next=function(){var v=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(v^v<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,u===(u|0)?l.x=u:h+=u;for(var p=0;p<h.length+64;p++)l.x^=h.charCodeAt(p)|0,p==h.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function s(u,l){return l.x=u.x,l.y=u.y,l.z=u.z,l.w=u.w,l.v=u.v,l.d=u.d,l}function o(u,l){var h=new a(u),p=l&&l.state,v=function(){return(h.next()>>>0)/4294967296};return v.double=function(){do var y=h.next()>>>11,S=(h.next()>>>0)/4294967296,A=(y+S)/(1<<21);while(A===0);return A},v.int32=h.next,v.quick=v,p&&(typeof p=="object"&&s(p,h),v.state=function(){return s(h,{})}),v}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xorwow=o})(ld,t,!1)}),sje=cd(function(t){(function(e,r,n){function a(u){var l=this;l.next=function(){var p=l.x,v=l.i,y,S;return y=p[v],y^=y>>>7,S=y^y<<24,y=p[v+1&7],S^=y^y>>>10,y=p[v+3&7],S^=y^y>>>3,y=p[v+4&7],S^=y^y<<7,y=p[v+7&7],y=y^y<<13,S^=y^y<<9,p[v]=S,l.i=v+1&7,S};function h(p,v){var y,S=[];if(v===(v|0))S[0]=v;else for(v=""+v,y=0;y<v.length;++y)S[y&7]=S[y&7]<<15^v.charCodeAt(y)+S[y+1&7]<<13;for(;S.length<8;)S.push(0);for(y=0;y<8&&S[y]===0;++y);for(y==8&&(S[7]=-1),p.x=S,p.i=0,y=256;y>0;--y)p.next()}h(l,u)}function s(u,l){return l.x=u.x.slice(),l.i=u.i,l}function o(u,l){u==null&&(u=+new Date);var h=new a(u),p=l&&l.state,v=function(){return(h.next()>>>0)/4294967296};return v.double=function(){do var y=h.next()>>>11,S=(h.next()>>>0)/4294967296,A=(y+S)/(1<<21);while(A===0);return A},v.int32=h.next,v.quick=v,p&&(p.x&&s(p,h),v.state=function(){return s(h,{})}),v}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xorshift7=o})(ld,t,!1)}),oje=cd(function(t){(function(e,r,n){function a(u){var l=this;l.next=function(){var p=l.w,v=l.X,y=l.i,S,A;return l.w=p=p+1640531527|0,A=v[y+34&127],S=v[y=y+1&127],A^=A<<13,S^=S<<17,A^=A>>>15,S^=S>>>12,A=v[y]=A^S,l.i=y,A+(p^p>>>16)|0};function h(p,v){var y,S,A,T,I,N=[],D=128;for(v===(v|0)?(S=v,v=null):(v=v+"\0",S=0,D=Math.max(D,v.length)),A=0,T=-32;T<D;++T)v&&(S^=v.charCodeAt((T+32)%v.length)),T===0&&(I=S),S^=S<<10,S^=S>>>15,S^=S<<4,S^=S>>>13,T>=0&&(I=I+1640531527|0,y=N[T&127]^=S+I,A=y==0?A+1:0);for(A>=128&&(N[(v&&v.length||0)&127]=-1),A=127,T=4*128;T>0;--T)S=N[A+34&127],y=N[A=A+1&127],S^=S<<13,y^=y<<17,S^=S>>>15,y^=y>>>12,N[A]=S^y;p.w=I,p.X=N,p.i=A}h(l,u)}function s(u,l){return l.i=u.i,l.w=u.w,l.X=u.X.slice(),l}function o(u,l){u==null&&(u=+new Date);var h=new a(u),p=l&&l.state,v=function(){return(h.next()>>>0)/4294967296};return v.double=function(){do var y=h.next()>>>11,S=(h.next()>>>0)/4294967296,A=(y+S)/(1<<21);while(A===0);return A},v.int32=h.next,v.quick=v,p&&(p.X&&s(p,h),v.state=function(){return s(h,{})}),v}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xor4096=o})(ld,t,!1)}),uje=cd(function(t){(function(e,r,n){function a(u){var l=this,h="";l.next=function(){var v=l.b,y=l.c,S=l.d,A=l.a;return v=v<<25^v>>>7^y,y=y-S|0,S=S<<24^S>>>8^A,A=A-v|0,l.b=v=v<<20^v>>>12^y,l.c=y=y-S|0,l.d=S<<16^y>>>16^A,l.a=A-v|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,u===Math.floor(u)?(l.a=u/4294967296|0,l.b=u|0):h+=u;for(var p=0;p<h.length+20;p++)l.b^=h.charCodeAt(p)|0,l.next()}function s(u,l){return l.a=u.a,l.b=u.b,l.c=u.c,l.d=u.d,l}function o(u,l){var h=new a(u),p=l&&l.state,v=function(){return(h.next()>>>0)/4294967296};return v.double=function(){do var y=h.next()>>>11,S=(h.next()>>>0)/4294967296,A=(y+S)/(1<<21);while(A===0);return A},v.int32=h.next,v.quick=v,p&&(typeof p=="object"&&s(p,h),v.state=function(){return s(h,{})}),v}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.tychei=o})(ld,t,!1)}),fje={},lje={__proto__:null,default:fje},cje=rje(lje),hd=cd(function(t){(function(e,r,n){var a=256,s=6,o=52,u="random",l=n.pow(a,s),h=n.pow(2,o),p=h*2,v=a-1,y;function S(L,z,$){var G=[];z=z==!0?{entropy:!0}:z||{};var j=N(I(z.entropy?[L,C(r)]:L==null?D():L,3),G),Z=new A(G),M=function(){for(var f=Z.g(s),d=l,g=0;f<h;)f=(f+g)*a,d*=a,g=Z.g(1);for(;f>=p;)f/=2,d/=2,g>>>=1;return(f+g)/d};return M.int32=function(){return Z.g(4)|0},M.quick=function(){return Z.g(4)/4294967296},M.double=M,N(C(Z.S),r),(z.pass||$||function(f,d,g,m){return m&&(m.S&&T(m,Z),f.state=function(){return T(Z,{})}),g?(n[u]=f,d):f})(M,j,"global"in z?z.global:this==n,z.state)}function A(L){var z,$=L.length,G=this,j=0,Z=G.i=G.j=0,M=G.S=[];for($||(L=[$++]);j<a;)M[j]=j++;for(j=0;j<a;j++)M[j]=M[Z=v&Z+L[j%$]+(z=M[j])],M[Z]=z;(G.g=function(f){for(var d,g=0,m=G.i,b=G.j,E=G.S;f--;)d=E[m=v&m+1],g=g*a+E[v&(E[m]=E[b=v&b+d])+(E[b]=d)];return G.i=m,G.j=b,g})(a)}function T(L,z){return z.i=L.i,z.j=L.j,z.S=L.S.slice(),z}function I(L,z){var $=[],G=typeof L,j;if(z&&G=="object")for(j in L)try{$.push(I(L[j],z-1))}catch(Z){}return $.length?$:G=="string"?L:L+"\0"}function N(L,z){for(var $=L+"",G,j=0;j<$.length;)z[v&j]=v&(G^=z[v&j]*19)+$.charCodeAt(j++);return C(z)}function D(){try{var L;return y&&(L=y.randomBytes)?L=L(a):(L=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(L)),C(L)}catch(G){var z=e.navigator,$=z&&z.plugins;return[+new Date,e,$,e.screen,C(r)]}}function C(L){return String.fromCharCode.apply(0,L)}if(N(n.random(),r),t.exports){t.exports=S;try{y=cje}catch(L){}}else n["seed"+u]=S})(typeof self!="undefined"?self:ld,[],Math)});hd.alea=nje;hd.xor128=ije;hd.xorwow=aje;hd.xorshift7=sje;hd.xor4096=oje;hd.tychei=uje;var qD=hd;var $D=function(){function t(e,r,n,a,s){this.mean=e,this.stdDev=r,this.dtype=n,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);var o=s||Math.random();this.random=qD.alea(o.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var r,n,a=!1;!a;){var s=void 0,o=void 0,u=void 0;do s=2*this.random()-1,o=2*this.random()-1,u=s*s+o*o;while(u>=1||u===0);var l=Math.sqrt(-2*Math.log(u)/u);r=this.mean+this.stdDev*s*l,n=this.mean+this.stdDev*o*l,(!this.truncated||this.isValidTruncated(r))&&(a=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(r)},t.prototype.convertValue=function(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)},t.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},t}(),hje=function(){function t(e,r,n,a){this.alpha=e,this.beta=1/r,this.dtype=n;var s=a||Math.random();this.randu=qD.alea(s.toString()),this.randn=new $D(0,1,n,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}return t.prototype.nextValue=function(){for(var e,r,n,a,s,o;;){do a=this.randn.nextValue(),o=1+this.c*a;while(o<=0);if(o*=o*o,e=a*a,r=1-.331*e*e,n=.5*e+this.d*(1-o+Math.log(o)),s=this.randu(),s<r||Math.log(s)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)},t.prototype.convertValue=function(e){return this.dtype==="float32"?e:Math.round(e)},t}(),dje=function(){function t(e,r,n,a){var s=this;if(e===void 0&&(e=0),r===void 0&&(r=1),this.canReturnFloat=function(){return s.dtype==null||s.dtype==="float32"},this.min=e,this.range=r-e,this.dtype=n,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+r+" <= 1 and dtype is not float");this.random=qD.alea(a)}return t.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},t.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},t}();function pje(t,e,r,n,a){if(r===void 0&&(r=1),n===void 0&&(n="float32"),r==null&&(r=1),n==null&&(n="float32"),n!=="float32"&&n!=="int32")throw new Error("Unsupported data type "+n);for(var s=new hje(e,r,n,a),o=tc(t,n),u=0;u<o.values.length;u++)o.values[u]=s.nextValue();return o.toTensor()}var mje=ge({randomGamma_:pje});function vje(t,e,r,n,a){if(e===void 0&&(e=0),r===void 0&&(r=1),n!=null&&n==="bool")throw new Error("Unsupported data type "+n);for(var s=new $D(e,r,n,!1,a),o=tc(t,n),u=0;u<o.values.length;u++)o.values[u]=s.nextValue();return o.toTensor()}var Yte=ge({randomNormal_:vje});function gje(t,e,r){if(e!=null&&e==="bool")throw new Error("Unsupported data type "+e);return Yte(t,0,1,e,r)}var yje=ge({randomStandardNormal_:gje});function bje(t,e,r,n,a){e===void 0&&(e=0),r===void 0&&(r=1),n===void 0&&(n="float32");for(var s=tc(t,n),o=new dje(e,r,null,a),u=0;u<s.values.length;u++)s.values[u]=o.nextValue();return s.toTensor()}var Xte=ge({randomUniform_:bje});function _1(t,e,r,n){if(r===void 0&&(r=1),n===void 0&&(n="float32"),r===0)throw new Error("Cannot have a step of zero");var a={start:t,stop:e,step:r,dtype:n};return Ee.runKernel(VBe,{},a)}function wje(t){var e=re(t,"input","real"),r={input:e};return Ee.runKernel(WBe,r)}var x1=ge({real_:wje});function _je(t){var e=re(t,"x","reciprocal"),r={x:e};return Ee.runKernel(GBe,r)}var xje=ge({reciprocal_:_je});function Sje(t){var e=re(t,"x","relu"),r={x:e};return Ee.runKernel(HBe,r)}var a3=ge({relu_:Sje});function Eje(t){var e=re(t,"x","relu6"),r={x:e};return Ee.runKernel(YBe,r)}var Qte=ge({relu6_:Eje});function Mje(t,e){var r=re(t,"x","reverse"),n={x:r},a={dims:e};return Ee.runKernel(XBe,n,a)}var ud=ge({reverse_:Mje});function Aje(t){var e=re(t,"x","reverse");return ye(e.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+e.rank+"."}),ud(e,0)}var kje=ge({reverse1d_:Aje});function Tje(t,e){var r=re(t,"x","reverse");return ye(r.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+r.rank+"."}),ud(r,e)}var Nje=ge({reverse2d_:Tje});function Ije(t,e){var r=re(t,"x","reverse");return ye(r.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+r.rank+"."}),ud(r,e)}var Dje=ge({reverse3d_:Ije});function Oje(t,e){var r=re(t,"x","reverse");return ye(r.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+r.rank+"."}),ud(r,e)}var Rje=ge({reverse4d_:Oje});function Cje(t){var e=re(t,"x","round"),r={x:e};return Ee.runKernel(QBe,r)}var ere=ge({round_:Cje});function Fje(t){var e=re(t,"x","rsqrt","float32"),r={x:e};return Ee.runKernel(eLe,r)}var Bje=ge({rsqrt_:Fje});function Lje(t){var e=re(t,"x","selu"),r={x:e};return Ee.runKernel(iLe,r)}var Pje=ge({selu_:Lje});function qje(t,e,r,n,a,s,o){s===void 0&&(s=[1,1]),o===void 0&&(o="NHWC");var u=re(t,"x","separableConv2d"),l=re(e,"depthwiseFilter","separableConv2d"),h=re(r,"pointwiseFilter","separableConv2d"),p=u,v=!1;if(u.rank===3&&(v=!0,p=at(u,[1,u.shape[0],u.shape[1],u.shape[2]])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");ye(p.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got "+("rank "+p.rank+".")}),ye(l.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+("got rank "+l.rank+".")}),ye(h.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+("got rank "+l.rank+".")}),ye(h.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter "+(" must be 1, but got "+h.shape[0]+".")}),ye(h.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise "+("filter must be 1, but got "+h.shape[1]+".")});var y=l.shape[2],S=l.shape[3];ye(h.shape[2]===y*S,function(){return"Error in separableConv2d: the third dimension of pointwise filter "+("must be "+y*S+", ")+("but got "+h.shape[2]+".")});var A=RD(p,l,n,a,o,s),T=1,I=QE(A,h,T,"valid",o);return v?at(I,[I.shape[1],I.shape[2],I.shape[3]]):I}var $je=ge({separableConv2d_:qje});function zje(t,e){return cn(this,void 0,void 0,function(){var r,n,a,s,o,u,p,l,h,p,v;return nn(this,function(y){switch(y.label){case 0:return r=re(t,"x","setdiff1d"),n=re(e,"y","setdiff1d"),ye(r.dtype===n.dtype,function(){return"x and y should have the same dtype, but got x ("+r.dtype+") and y ("+n.dtype+")."}),ye(r.rank===1,function(){return"x should be 1D tensor, but got x ("+r.shape+")."}),ye(n.rank===1,function(){return"y should be 1D tensor, but got y ("+n.shape+")."}),[4,r.data()];case 1:return a=y.sent(),[4,n.data()];case 2:for(s=y.sent(),o=new Set(s),u=0,p=0;p<a.length;p++)o.has(a[p])||u++;for(l=new lD([u],r.dtype),h=new lD([u],"int32"),p=0,v=0;p<a.length;p++)o.has(a[p])||(l.values[v]=a[p],h.values[v]=p,v++);return[2,[l.toTensor(),h.toTensor()]]}})})}var jje=zje;function Uje(t){var e=re(t,"x","sign"),r={x:e};return Ee.runKernel(uLe,r)}var Vje=ge({sign_:Uje});function Wje(t){var e=re(t,"x","sin","float32"),r={x:e};return Ee.runKernel(sLe,r)}var Gje=ge({sin_:Wje});function Hje(t){var e=re(t,"x","sinh"),r={x:e};return Ee.runKernel(oLe,r)}var Kje=ge({sinh_:Hje});function Zje(t,e,r){var n=re(t,"x","slice1d");return ye(n.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+n.rank+" tensor"}),Cn(n,[e],[r])}var Jje=ge({slice1d_:Zje});function Yje(t,e,r){var n=re(t,"x","slice2d");return ye(n.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+n.rank+" tensor"}),Cn(n,e,r)}var Xje=ge({slice2d_:Yje});function Qje(t,e,r){var n=re(t,"x","slice3d");return ye(n.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+n.rank+" tensor"}),Cn(n,e,r)}var eUe=ge({slice3d_:Qje});function tUe(t,e,r){var n=re(t,"x","slice4d");return ye(n.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+n.rank+" tensor"}),Cn(n,e,r)}var rUe=ge({slice4d_:tUe});function nUe(t,e){e===void 0&&(e=-1);var r=re(t,"logits","softmax","float32");if(e===-1&&(e=r.rank-1),e!==r.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+("Logits was rank "+r.rank+" and dim was "+e));var n={logits:r},a={dim:e};return Ee.runKernel(mLe,n,a)}var iUe=ge({softmax_:nUe});function aUe(t){ye(t.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 "+("but got "+t.dtype+".")});var e={input:t};return Ee.runKernel(Z9e,e)}var zD=ge({fft_:aUe});function sUe(t){ye(t.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 "+("but got "+t.dtype+".")});var e={input:t};return Ee.runKernel(aBe,e)}var ZE=ge({ifft_:sUe});function oUe(t){var e=t.shape[t.shape.length-1],r=t.size/e,n;if(e<=2){var a=at(t,[r,e]);n=ZE(a)}else{var s=[r,2*(e-1)],o=at(x1(t),[r,e]),u=at(i3(t),[r,e]),l=ud(Cn(o,[0,1],[r,e-2]),1),h=Vt(ud(Cn(u,[0,1],[r,e-2]),1),zn(-1)),p=es([o,l],1),v=es([u,h],1),a=at(sd(p,v),[s[0],s[1]]);n=ZE(a)}if(n=x1(n),t.rank===3&&t.shape[0]!==0){var y=n,S=t.shape[0];n=at(n,[S,n.shape[0]/S,n.shape[1]]),y.dispose()}return n}var tre=ge({irfft_:oUe});function uUe(t,e,r){r===void 0&&(r=0);var n=re(t,"x","split"),a={x:n},s={numOrSizeSplits:e,axis:r};return Ee.runKernel(pLe,a,s)}var S1=ge({split_:uUe});function fUe(t,e){ye(t.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+t.dtype});var r=t.shape[t.shape.length-1],n=t.size/r,a;if(e!=null&&e<r){var s=t.shape.map(function(N){return 0}),o=t.shape.map(function(N){return N});o[t.shape.length-1]=e,a=Cn(t,s,o),r=e}else if(e!=null&&e>r){var u=t.shape.map(function(N){return N});u[t.shape.length-1]=e-r,a=es([t,Um(u)],t.shape.length-1),r=e}else a=t;var l=CD(a),h=at(sd(a,l),[n,r]),p=zD(h),v=Math.floor(r/2)+1,y=x1(p),S=i3(p),A=S1(y,[v,r-v],y.shape.length-1),T=S1(S,[v,r-v],S.shape.length-1),I=a.shape.slice();return I[a.shape.length-1]=v,at(sd(A[0],T[0]),I)}var jD=ge({rfft_:fUe});function lUe(t,e){var r,n=re(t,"a","squaredDifference"),a=re(e,"b","squaredDifference");r=bt(Qn(n,a),2),n=r[0],a=r[1],Ii(n.shape,a.shape);var s={a:n,b:a},o={};return Ee.runKernel(_Le,s,o)}var rre=ge({squaredDifference_:lUe});function cUe(t,e){var r=re(t,"x","squeeze","string_or_numeric");return at(r,$7e(r.shape,e).newShape)}var UD=ge({squeeze_:cUe});function hUe(t,e){e===void 0&&(e=0);var r=UE(t,"tensors","stack","string_or_numeric");ye(r.length>=1,function(){return"Pass at least one tensor to tf.stack"}),r.length>0&&ye(e<=r[0].rank,function(){return"Axis must be <= rank of the tensor"});var n=r,a={axis:e};return Ee.runKernel(qBe,n,a)}var E1=ge({stack_:hUe});function dUe(t,e){e===void 0&&(e=0);var r=re(t,"x","step"),n={x:r},a={alpha:e};return Ee.runKernel(FLe,n,a)}var nre=ge({step_:dUe});function pUe(t,e,r,n,a,s,o,u,l){a===void 0&&(a=0),s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=0),l===void 0&&(l=0);var h=re(t,"x","stridedSlice","string_or_numeric"),p={x:h},v={begin:e,end:r,strides:n,beginMask:a,endMask:s,ellipsisMask:o,newAxisMask:u,shrinkAxisMask:l};return Ee.runKernel(xLe,p,v)}var mUe=ge({stridedSlice_:pUe});function vUe(t){var e=re(t,"x","tan","float32"),r={x:e};return Ee.runKernel(kLe,r)}var gUe=ge({tan_:vUe});function VD(t,e,r){var n=rc(t,r);return ic(t,e,n,r)}function eu(t,e){Vm(t);var r=rc(t,e);if(r.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");var n=null;return ic(t,n,r,e)}function y1(t,e,r){if(Vm(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var n=rc(t,r);if(n.length!==2&&n.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return ic(t,e,n,r)}function yUe(t,e,r){if(Vm(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var n=rc(t,r);if(n.length!==3&&n.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return ic(t,e,n,r)}function bUe(t,e,r){if(Vm(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var n=rc(t,r);if(n.length!==4&&n.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return ic(t,e,n,r)}function wUe(t,e,r){if(Vm(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var n=rc(t,r);if(n.length!==5&&n.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return ic(t,e,n,r)}function _Ue(t,e,r){if(Vm(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var n=rc(t,r);if(n.length!==6&&n.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||n,ic(t,e,n,r)}function xUe(t,e,r){e===void 0&&(e=1),r===void 0&&(r=!0);var n=re(t,"x","topk");if(n.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var a=n.shape[n.shape.length-1];if(e<0)throw new Error("'k' passed to topk() must be >= 0 but got "+e);if(e>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") "+("but got "+e));var s={x:n},o={k:e,sorted:r},u=bt(Ee.runKernel(NLe,s,o),2),l=u[0],h=u[1];return{values:l,indices:h}}var SUe=ge({topk_:xUe});function EUe(t,e,r,n,a){if(e===void 0&&(e=0),r===void 0&&(r=1),n!=null&&n==="bool")throw new Error("Unsupported data type $ { dtype }");for(var s=new $D(e,r,n,!0,a),o=tc(t,n),u=0;u<o.values.length;u++)o.values[u]=s.nextValue();return o.toTensor()}var MUe=ge({truncatedNormal_:EUe});function AUe(t,e){e===void 0&&(e=0);var r=re(t,"x","unique","string_or_numeric");ye(r.rank>0,function(){return"The input tensor must be at least 1D"});var n={x:r},a={axis:e},s=bt(Ee.runKernel(DLe,n,a),2),o=s[0],u=s[1];return{values:o,indices:u}}var kUe=ge({unique_:AUe});function TUe(t,e,r){var n=re(t,"x","unsortedSegmentSum"),a=re(e,"segmentIds","unsortedSegmentSum","int32");ye(b1(r),function(){return"numSegments must be of dtype int"});var s={x:n,segmentIds:a},o={numSegments:r};return Ee.runKernel(RLe,s,o)}var NUe=ge({unsortedSegmentSum_:TUe});function IUe(t,e){e===void 0&&(e=0);var r=re(t,"x","unstack","string_or_numeric");ye(e>=-r.shape.length&&e<r.shape.length,function(){return"Axis = "+e+" is not in [-"+r.shape.length+", "+r.shape.length+")"});var n={value:r},a={axis:e};return Ee.runKernel(OLe,n,a)}var WD=ge({unstack_:IUe});function DUe(t,e){return PD(t,e,"right")}function OUe(t,e,r,n){return e===void 0&&(e=!0),Ee.makeVariable(t,e,r,n)}function RUe(t,e){for(var r=[],n=0;n<e.length;n++)e[n]&&r.push(n);for(var a=tc(t,"int32"),s=tc([r.length,t.length],"int32"),n=0;n<r.length;n++){var o=a.indexToLoc(r[n]),u=n*t.length;s.values.set(o,u)}return s.toTensor()}function CUe(t){return cn(this,void 0,void 0,function(){var e,r,n;return nn(this,function(a){switch(a.label){case 0:return e=re(t,"condition","whereAsync","bool"),[4,e.data()];case 1:return r=a.sent(),n=RUe(e.shape,r),t!==e&&e.dispose(),[2,n]}})})}var ire=CUe;function FUe(t,e,r){return cn(this,void 0,void 0,function(){var n,a,s,o,u,l,h,p,v,y,S,A,T;return nn(this,function(I){switch(I.label){case 0:for(n=re(t,"tensor","boolMask"),a=re(e,"mask","boolMask","bool"),s=r==null?0:r,o=a.rank,u=n.shape,ye(o>0,function(){return"mask cannot be scalar"}),_o(u.slice(s,s+o),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),l=1,h=s;h<s+o;h++)l*=u[h];return p=u.slice(0,s).concat([l],u.slice(s+o)),v=at(n,p),y=at(a,[-1]),[4,ire(y)];case 1:return S=I.sent(),A=UD(S,[1]),T=Pte(v,A,s),t!==n&&n.dispose(),e!==a&&a.dispose(),A.dispose(),v.dispose(),y.dispose(),S.dispose(),[2,T]}})})}var BUe=FUe;function LUe(t,e){return Ee.tidy(t,e)}function PUe(t){var e=Ete(t);e.forEach(function(r){return r.dispose()})}function qUe(t,e,r){var n=re(t,"x","transpose");if(e==null&&(e=n.shape.map(function(o,u){return u}).reverse()),ye(n.rank===e.length,function(){return"Error in transpose: rank of input "+n.rank+" "+("must match length of perm "+e+".")}),e.forEach(function(o){ye(o>=0&&o<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+(" but got "+e)})}),n.rank<=1)return n.clone();var a={x:n},s={perm:e};return n.dtype==="complex64"?LUe(function(){var o=x1(n),u=i3(n);return o=Ee.runKernel(HI,{x:o},s),u=Ee.runKernel(HI,{x:u},s),r&&(u=Vf(u)),sd(o,u)}):Ee.runKernel(HI,a,s)}var wD=ge({transpose_:qUe});function $Ue(t,e,r,n,a){a===void 0&&(a=!0);var s=re(t,"v","movingAverage"),o=re(e,"x","movingAverage"),u=re(r,"decay","movingAverage");tPe(s,o),ye(Wm(s.shape,o.shape),function(){return"Shape mismatch in v and x"});var l=zn(1),h=Sr(l,u),p=Vt(Sr(o,s),h);if(a){ye(n!=null,function(){return"When using zeroDebias: true, step is required."});var v=re(n,"step","movingAverage");p=Ea(p,Sr(l,FD(u,v)))}return Ni(s,p)}var zUe=ge({movingAverage_:$Ue});function jUe(t,e,r){var n=e.rank>1?e.shape[e.rank-1]:1,a=e.rank>1?e.rank-1:1,s="Must have updates.shape = indices.shape[:batchDim] + "+("shape[sliceDim:], got updates.shape: "+r.shape)+(", indices.shape: "+e.shape+", shape: "+t)+(", sliceDim: "+n+", and batchDim: "+a+".");if(r.rank<a)throw new Error(s+(" update.rank < "+a+". "));if(t.length<n+(r.rank-a))throw new Error(s+(" Output shape length < "+(n+(r.rank-a))));if(r.rank!==a+t.length-n)throw new Error(s+(" update.rank != "+(a+t.length-n)));for(var o=0;o<a;++o)if(r.shape[o]!==e.shape[o])throw new Error(s+(" updates.shape["+o+"] ("+r.shape[o]+") != indices.shape["+o+"] ("+e.shape[o]+")."));for(var o=0;o<r.rank-a;++o)if(r.shape[o+a]!==t[o+n])throw new Error(s+(" updates.shape["+(o+a)+"] ("+r.shape[o+a]+") != shape["+(o+a)+"] ("+t[o+a]+")"))}function UUe(t,e,r){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+(" but the rank was "+e.rank+"."));if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+(" but the rank was "+t.rank+"."));if(e.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+e.dtype);if(r.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+r);if(r.length===0){if(e.size===0)throw new Error("Indices specified for empty output. indices shape: "+e.shape);if(t.size===0)throw new Error("Updates specified for empty output. updates shape: "+t.shape)}jUe(r,e,t)}function VUe(t,e,r){var n=re(t,"indices","scatterND","int32"),a=re(e,"updates","scatterND");UUe(a,n,r);var s={indices:n,updates:a},o={shape:r};return Ee.runKernel(tLe,s,o)}var WUe=ge({scatterND_:VUe});function GUe(t,e,r,n){if(t.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+(" but the dtype was "+t.dtype+"."));if(t.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+(" but got shape "+t.shape+"."));var a=t.rank>0?t.shape[0]:1,s=t.rank>1?t.shape[1]:1;if(r.length!==s)throw new Error("outputShape has incorrect number of elements:,"+(" "+r.length+", should be: "+s+"."));var o=e.size;if(!(e.rank===0||e.rank===1&&o===a))throw new Error("sparseValues has incorrect shape "+(e.shape+", should be [] or ["+a+"]"));if(e.dtype!==n.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}function HUe(t,e,r,n){n===void 0&&(n=0);var a=re(t,"sparseIndices","sparseToDense","int32"),s=re(e,"sparseValues","sparseToDense","string_or_numeric"),o=re(n,"defaultValue","sparseToDense",s.dtype);GUe(a,s,r,o);var u={sparseIndices:a,sparseValues:s,defaultValue:o},l={outputShape:r};return Ee.runKernel(wLe,u,l)}var KUe=ge({sparseToDense_:HUe});function ZUe(t,e){var r=re(e,"indices","gatherND","int32"),n=re(t,"x","gatherND","string_or_numeric"),a={params:n,indices:r};return Ee.runKernel(rBe,a)}var JUe=ge({gatherND_:ZUe});function YUe(t,e){if(e==null)return t.shape.slice();if(Wm(t.shape,e))return e;if(t.shape.length===e.length){for(var r=[],n=0;n<t.shape.length;n++)e[n]==null&&t.shape[n]!=null?r.push(t.shape[n]):r.push(e[n]);return r}return e}function XUe(t,e,r,n){var a=re(t,"x","dropout");if(ye(a.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be "+("scaled, but got a "+a.dtype+" tensor instead.")}),ye(e>=0&&e<1,function(){return"rate must be a float in the range [0, 1), but got "+e+"."}),e===0)return t instanceof Fa?a.clone():a;var s=YUe(a,r),o=1-e,u=Ea(Lte(Ni(Xte(s,0,1,"float32",n),o)),o);return Vt(a,u)}var QUe=ge({dropout_:XUe});function are(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function GD(t,e,r){for(var n=1-t%2,a=new Float32Array(t),s=0;s<t;++s){var o=2*Math.PI*s/(t+n-1);a[s]=e-r*Math.cos(o)}return eu(a,"float32")}function eVe(t,e,r){return r===void 0&&(r=1),cn(this,void 0,void 0,function(){var n,a,s,o,u,l,h,p,v,y,S,A,T,I,I;return nn(this,function(N){switch(N.label){case 0:return n=re(t,"predictions","inTopK"),a=re(e,"targets","inTopK"),ye(n.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+("but got "+n.rank)}),ye(n.rank-1===a.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+(n.rank+" and targets rank "+a.rank)}),_o(n.shape.slice(0,n.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),s=n.shape[n.shape.length-1],ye(r>0&&r<=s,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+("dimension ("+s+"), but got "+r)}),[4,n.data()];case 1:return o=N.sent(),[4,a.data()];case 2:for(u=N.sent(),l=bt([o.length/s,s],2),h=l[0],p=l[1],v=z7e("bool",h),y=0;y<h;y++){for(S=y*p,A=o.subarray(S,S+p),T=[],I=0;I<A.length;I++)T.push({value:A[I],index:I});for(T.sort(function(D,C){return C.value-D.value}),v[y]=0,I=0;I<r;I++)if(T[I].index===u[y]){v[y]=1;break}}return t!==n&&n.dispose(),e!==a&&a.dispose(),[2,VD(v,a.shape,"bool")]}})})}var tVe=eVe;function rVe(t,e,r,n,a,s,o){s===void 0&&(s="NHWC");var u=t;t.rank===3&&(u=at(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var l=e;l.rank===3&&(l=at(e,[1,e.shape[0],e.shape[1],e.shape[2]])),ye(u.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+(u.shape+".")}),ye(l.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+(l.shape+".")}),ye(r.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+(r+".")});var h=s==="NHWC"?u.shape[3]:u.shape[1],p=s==="NHWC"?l.shape[3]:l.shape[1];ye(h===r[2],function(){return"Error in conv2dDerFilter: depth of input "+h+") must "+("match input depth in filter ("+r[2]+".")}),ye(p===r[3],function(){return"Error in conv2dDerFilter: depth of dy ("+p+") must "+("match output depth for filter ("+r[3]+").")}),ru("conv2dDerFilter",a,o);var v={x:u,dy:l},y={strides:n,pad:a,dataFormat:s,dimRoundingMode:o,filterShape:r};return Ee.runKernel(M9e,v,y)}var nVe=ge({conv2DBackpropFilter_:rVe});function HD(t,e,r){if(r==null||r==="linear")return t;if(r==="relu")return Vt(t,nre(e));throw new Error("Cannot compute gradient for fused activation "+r+".")}function KD(t,e){var r=e,n=Qqe(t.shape,e.shape);return n.length>0&&(r=kn(r,n)),at(r,t.shape)}function ZD(t,e,r,n){if(e==="linear")return t;if(e==="relu")return a3(t);if(e==="elu")return Cte(t);if(e==="relu6")return Qte(t);if(e==="prelu")return Jte(t,r);if(e==="leakyrelu")return $te(t,n);if(e==="sigmoid")return qm(t);throw new Error("Unknown fused activation "+e+".")}var JD=function(t,e){var r=t>0;return!r||e==="linear"};function iVe(t){var e,r=t.x,n=t.filter,a=t.strides,s=t.pad,o=t.dataFormat,u=o===void 0?"NHWC":o,l=t.dilations,h=l===void 0?[1,1]:l,p=t.dimRoundingMode,v=t.bias,y=t.activation,S=y===void 0?"linear":y,A=t.preluActivationWeights,T=t.leakyreluAlpha;if(S=S||"linear",JD(Ee.state.gradientDepth,S)===!1){ye(u==="NHWC",function(){return"Error in fused conv2d: got dataFormat of "+u+" but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."});var I=QE(r,n,a,s,u,h,p);return v!=null&&(I=Ni(I,v)),ZD(I,S,A,T)}var N=re(r,"x","conv2d","float32"),D=re(n,"filter","conv2d","float32"),C=N,L=!1;N.rank===3&&(L=!0,C=at(N,[1,N.shape[0],N.shape[1],N.shape[2]])),ye(C.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+(C.rank+".")}),ye(D.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+(D.rank+".")}),ru("fused conv2d",s,p);var z=u==="NHWC"?C.shape[3]:C.shape[1];ye(D.shape[2]===z,function(){return"Error in conv2d: depth of input ("+z+") must match "+("input depth for filter "+D.shape[2]+".")}),ye(nc(a,h),function(){return"Error in conv2D: Either strides or dilations must be 1. "+("Got strides "+a+" and dilations '"+h+"'")});var $=OD(C.shape,D.shape,a,h,s,p),G;v!=null&&(G=re(v,"bias","fused conv2d"),e=bt(Qn(G,N),1),G=e[0],u==="NHWC"?Ii($.outShape,G.shape):(ye(G.shape.length<=1,function(){return"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+("rank-"+G.shape.length+".")}),ye(G.shape.length===0||G.shape[0]===$.outChannels||G.shape[0]===1,function(){return"Error in fused conv2d: bias shape ("+G.shape+") is not compatible with the number of output channels "+("("+$.outChannels+")")})));var j;if(A!=null){var Z=A.shape;if(ye(Z.length<=1||Z.length===3,function(){return"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+("rank-"+Z.length+".")}),Z.length===1)ye(Z[0]===1||Z[0]===$.outChannels,function(){return"Error in fused conv2d: PReLU activation weights "+("("+Z+") is not compatible with the number of output ")+("channels ("+$.outChannels+").")});else if(Z.length===3)try{Ii(Z,$.outShape)}catch(E){var M="Error in fused conv2d: PReLU activation weights ("+Z+") is not compatible with the output shape of the conv2d "+("("+$.outShape+").");throw Error(M)}j=re(A,"prelu weights","fused conv2d")}var f=function(E,k){ye(u==="NHWC",function(){return"Error in gradient of fused conv2D: got dataFormat of "+u+" but only NHWC is currently supported."});var w=bt(k,4),c=w[0],_=w[1],R=w[2],O=w[3],F=HD(E,R,S);ye(GE(h),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+("are not yet supported in gradients. Got dilations '"+h+"'")});var U=Dte(_.shape,F,c,a,s),H=nVe(_,F,c.shape,a,s),J=[U,H];if(O!=null){var fe=KD(O,F);J.push(fe)}return J},d={x:C,filter:D,bias:G,preluActivationWeights:j},g={strides:a,pad:s,dataFormat:u,dilations:h,dimRoundingMode:p,activation:S,leakyreluAlpha:T};if(v==null){var m=Wf(function(E,k,w){var c=Ee.runKernel(Fee,d,g);return w([k,E,c]),L&&(c=at(c,[c.shape[1],c.shape[2],c.shape[3]])),{value:c,gradFunc:f}});return m(C,D)}else{var b=Wf(function(E,k,w,c){var _=Ee.runKernel(Fee,d,g);return c([k,E,_,w]),L&&(_=at(_,[_.shape[1],_.shape[2],_.shape[3]])),{value:_,gradFunc:f}});return b(C,D,G)}}var aVe=ge({fusedConv2d_:iVe});function sVe(t,e,r,n,a,s,o){s===void 0&&(s=[1,1]);var u=t;t.rank===3&&(u=at(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var l=e;l.rank===3&&(l=at(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var h={x:u,dy:l},p={strides:n,pad:a,dimRoundingMode:o,dilations:s,filterShape:r};return Ee.runKernel(L9e,h,p)}var oVe=ge({depthwiseConv2dNativeBackpropFilter_:sVe});function uVe(t,e,r,n,a,s,o){s===void 0&&(s=[1,1]);var u=e,l=!1;e.rank===3&&(l=!0,u=at(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var h={dy:u,filter:r},p={strides:n,pad:a,dimRoundingMode:o,dilations:s,inputShape:t},v=Ee.runKernel(P9e,h,p);return l?at(v,[v.shape[1],v.shape[2],v.shape[3]]):v}var fVe=ge({depthwiseConv2dNativeBackpropInput_:uVe});function lVe(t){var e,r=t.x,n=t.filter,a=t.strides,s=t.pad,o=t.dataFormat,u=o===void 0?"NHWC":o,l=t.dilations,h=l===void 0?[1,1]:l,p=t.dimRoundingMode,v=t.bias,y=t.activation,S=y===void 0?"linear":y,A=t.preluActivationWeights,T=t.leakyreluAlpha;if(JD(Ee.state.gradientDepth,S)===!1){var I=RD(r,n,a,s,u,h,p);return v!=null&&(I=Ni(I,v)),ZD(I,S,A,T)}var N=re(r,"x","depthwiseConv2d","float32"),D=re(n,"filter","depthwiseConv2d","float32"),C=N,L=!1;N.rank===3&&(L=!0,C=at(N,[1,N.shape[0],N.shape[1],N.shape[2]])),ye(C.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+("rank "+C.rank+".")}),ye(D.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+("but got rank "+D.rank+".")}),ye(C.shape[3]===D.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels "+("("+C.shape[3]+") must match the inChannels dimension in ")+("filter "+D.shape[2]+".")}),h==null&&(h=[1,1]),ye(nc(a,h),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+("be 1. Got strides "+a+" and dilations '"+h+"'")}),ru("fused depthwiseConv2d",s,p);var z=OD(C.shape,D.shape,a,h,s,p,!0),$;v!=null&&($=re(v,"bias","fused conv2d"),e=bt(Qn($,N),1),$=e[0],Ii(z.outShape,$.shape));var G;A!=null&&(G=re(A,"prelu weights","fused depthwiseConv2d"));var j=function(g,m){ye(GE(h),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+("'"+h+"'")});var b=bt(m,4),E=b[0],k=b[1],w=b[2],c=b[3],_=HD(g,w,S),R=fVe(k.shape,_,E,a,s,h,p),O=oVe(k,_,E.shape,a,s,h,p);if(c!=null){var F=KD($,_);return[R,O,F]}return[R,O]},Z={x:C,filter:D,bias:$,preluActivationWeights:G},M={strides:a,pad:s,dataFormat:u,dilations:h,dimRoundingMode:p,activation:S,leakyreluAlpha:T};if(v==null){var f=Wf(function(g,m,b){var E=Ee.runKernel(Bee,Z,M);return b([m,g,E]),L&&(E=at(E,[E.shape[1],E.shape[2],E.shape[3]])),{value:E,gradFunc:j}});return f(C,D)}else{var d=Wf(function(g,m,b,E){var k=Ee.runKernel(Bee,Z,M);return E([m,g,k,b]),L&&(k=at(k,[k.shape[1],k.shape[2],k.shape[3]])),{value:k,gradFunc:j}});return d(C,D,$)}}var cVe=ge({fusedDepthwiseConv2d_:lVe});function hVe(t){var e,r,n=t.a,a=t.b,s=t.transposeA,o=s===void 0?!1:s,u=t.transposeB,l=u===void 0?!1:u,h=t.bias,p=t.activation,v=p===void 0?"linear":p,y=t.preluActivationWeights,S=t.leakyreluAlpha,A=S===void 0?.2:S;if(JD(Ee.state.gradientDepth,v)===!1){var T=rn(n,a,o,l);return h!=null&&(T=Ni(T,h)),ZD(T,v,y,A)}var I=re(n,"a","fused matMul"),N=re(a,"b","fused matMul");e=bt(Qn(I,N),2),I=e[0],N=e[1];var D=o?I.shape[I.rank-2]:I.shape[I.rank-1],C=l?N.shape[N.rank-1]:N.shape[N.rank-2],L=o?I.shape[I.rank-1]:I.shape[I.rank-2],z=l?N.shape[N.rank-2]:N.shape[N.rank-1],$=I.shape.slice(0,-2),G=N.shape.slice(0,-2),j=La($),Z=La(G);ye(D===C,function(){return"Error in fused matMul: inner shapes ("+D+") and ("+(C+") of Tensors with shapes "+I.shape+" and ")+(N.shape+" and transposeA="+o)+(" and transposeB="+l+" must match.")});var M=Ii(I.shape.slice(0,-2),N.shape.slice(0,-2)),f=M.concat([L,z]),d=o?at(I,[j,D,L]):at(I,[j,L,D]),g=l?at(N,[Z,z,C]):at(N,[Z,C,z]),m;h!=null&&(m=re(h,"bias","fused matMul"),r=bt(Qn(m,I),1),m=r[0],Ii(f,m.shape));var b;y!=null&&(b=re(y,"prelu weights","fused matMul"));var E=function(R,O){var F=bt(O,4),U=F[0],H=F[1],J=F[2],fe=F[3],B=HD(at(R,J.shape),J,v),q,Y;if(!o&&!l?(q=rn(B,H,!1,!0),Y=rn(U,B,!0,!1)):!o&&l?(q=rn(B,H,!1,!1),Y=rn(B,U,!0,!1)):o&&!l?(q=rn(H,B,!1,!0),Y=rn(U,B,!1,!1)):(q=rn(H,B,!0,!0),Y=rn(B,U,!0,!0)),h!=null){var X=KD(fe,B);return[q,Y,X]}else return[q,Y]},k={a:d,b:g,bias:m,preluActivationWeights:b},w={transposeA:o,transposeB:l,activation:v,leakyreluAlpha:A};if(h==null){var c=Wf(function(R,O,F){var U=Ee.runKernel(Cee,k,w);return F([R,O,U]),{value:at(U,f),gradFunc:E}});return c(d,g)}else{var _=Wf(function(R,O,F,U){var H=Ee.runKernel(Cee,k,w);return U([R,O,H,F]),{value:at(H,f),gradFunc:E}});return _(d,g,m)}}var dVe=ge({fusedMatMul_:hVe});var pVe={__proto__:null,conv2d:aVe,depthwiseConv2d:cVe,matMul:dVe};function mVe(t){return GD(t,.54,.46)}var vVe=ge({hammingWindow_:mVe});function gVe(t){return GD(t,.5,.5)}var sre=ge({hannWindow_:gVe});function yVe(t,e,r,n,a){n===void 0&&(n=!1),a===void 0&&(a=0);for(var s=0,o=[];s+e<=t.size;)o.push(Cn(t,s,e)),s+=r;if(n)for(;s<t.size;){var u=s+e-t.size,l=es([Cn(t,s,e-u),BD([u],a)]);o.push(l),s+=r}return o.length===0?y1([],[0,e]):at(es(o),[o.length,e])}var ore=ge({frame_:yVe});function bVe(t,e,r,n,a){a===void 0&&(a=sre),n==null&&(n=are(e));var s=ore(t,e,r),o=Vt(s,a(e));return jD(o,n)}var wVe=ge({stft_:bVe});function _Ve(t,e,r,n,a,s){a===void 0&&(a="bilinear"),s===void 0&&(s=0);var o=re(t,"image","cropAndResize"),u=re(e,"boxes","cropAndResize","float32"),l=re(r,"boxInd","cropAndResize","int32"),h=u.shape[0];ye(o.rank===4,function(){return"Error in cropAndResize: image must be rank 4,"+("but got rank "+o.rank+".")}),ye(u.rank===2&&u.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+h+",4] "+("but had shape "+u.shape+".")}),ye(l.rank===1&&l.shape[0]===h,function(){return"Error in cropAndResize: boxInd must be have size ["+h+"] "+("but had shape "+u.shape+".")}),ye(n.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+("length "+n.length+".")}),ye(n[0]>=1&&n[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+n}),ye(a==="bilinear"||a==="nearest",function(){return"method must be bilinear or nearest, but was "+a});var p={image:o,boxes:u,boxInd:l},v={method:a,extrapolationValue:s,cropSize:n},y=Ee.runKernel(R9e,p,v);return y}var xVe=ge({cropAndResize_:_Ve});function SVe(t){var e=re(t,"image","flipLeftRight","float32");ye(e.rank===4,function(){return"Error in flipLeftRight: image must be rank 4,"+("but got rank "+e.rank+".")});var r={image:e},n=Ee.runKernel(Y9e,r,{});return n}var EVe=ge({flipLeftRight_:SVe});function MVe(t){var e=re(t,"image","grayscaleToRGB"),r=e.rank-1,n=e.shape[r];ye(e.rank>=2,function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+("but got rank "+e.rank+".")}),ye(n===1,function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+("should be size 1, but got size "+n+".")});var a=new Array(e.rank);return a.fill(1,0,r),a[r]=3,g1(e,a)}var AVe=ge({grayscaleToRGB_:MVe});function kVe(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=.5);var a=re(t,"image","rotateWithOffset","float32");ye(a.rank===4,function(){return"Error in rotateWithOffset: image must be rank 4,"+("but got rank "+a.rank+".")});var s={image:a},o={radians:e,fillValue:r,center:n},u=Ee.runKernel(BLe,s,o);return u}var TVe=ge({rotateWithOffset_:kVe});function Gm(t,e,r,n,a,s){n==null&&(n=.5),a==null&&(a=Number.NEGATIVE_INFINITY),s==null&&(s=0);var o=t.shape[0];return r=Math.min(r,o),ye(0<=n&&n<=1,function(){return"iouThreshold must be in [0, 1], but was '"+n+"'"}),ye(t.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+t.rank+"'"}),ye(t.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+t.shape[1]}),ye(e.rank===1,function(){return"scores must be a 1D tensor"}),ye(e.shape[0]===o,function(){return"scores has incompatible shape with boxes. Expected "+o+", "+("but was "+e.shape[0])}),ye(0<=s&&s<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+s+"'"}),{maxOutputSize:r,iouThreshold:n,scoreThreshold:a,softNmsSigma:s}}function NVe(t,e,r,n,a){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY);var s=re(t,"boxes","nonMaxSuppression","float32"),o=re(e,"scores","nonMaxSuppression","float32"),u=Gm(s,o,r,n,a);r=u.maxOutputSize,n=u.iouThreshold,a=u.scoreThreshold;var l={maxOutputSize:r,iouThreshold:n,scoreThreshold:a};return Ee.runKernel(CBe,{boxes:s,scores:o},l)}var IVe=ge({nonMaxSuppression_:NVe});function DVe(t,e,r){var n=OVe(t,e,r),a=n<0?-(n+1):n;t.splice(a,0,e)}function OVe(t,e,r){return CVe(t,e,r||RVe)}function RVe(t,e){return t>e?1:t<e?-1:0}function CVe(t,e,r){for(var n=0,a=t.length,s=0,o=!1;n<a;){s=n+(a-n>>>1);var u=r(e,t[s]);u>0?n=s+1:(a=s,o=!u)}return o?n:-n-1}function FVe(t,e,r,n,a){return YD(t,e,r,n,a,0)}function BVe(t,e,r,n,a,s){return YD(t,e,r,n,a,0,!1,s,!0)}function LVe(t,e,r,n,a,s){return YD(t,e,r,n,a,s,!0)}function YD(t,e,r,n,a,s,o,u,l){o===void 0&&(o=!1),u===void 0&&(u=!1),l===void 0&&(l=!1);for(var h=[],p=0;p<e.length;p++)e[p]>a&&h.push({score:e[p],boxIndex:p,suppressBeginIndex:0});h.sort(Jee);for(var v=s>0?-.5/s:0,y=[],S=[];y.length<r&&h.length>0;){var A=h.pop(),T=A.score,I=A.boxIndex,N=A.suppressBeginIndex;if(T<a)break;for(var D=!1,C=y.length-1;C>=N;--C){var L=PVe(t,I,y[C]);if(L>=n){D=!0;break}if(A.score=A.score*qVe(n,v,L),A.score<=a)break}A.suppressBeginIndex=y.length,D||(A.score===T?(y.push(I),S.push(A.score)):A.score>a&&DVe(h,A,Jee))}var z=y.length,$=r-z;u&&$>0&&(y.push.apply(y,Vi(new Array($).fill(0))),S.push.apply(S,Vi(new Array($).fill(0))));var G={selectedIndices:y};return o&&(G.selectedScores=S),l&&(G.validOutputs=z),G}function PVe(t,e,r){var n=t.subarray(e*4,e*4+4),a=t.subarray(r*4,r*4+4),s=Math.min(n[0],n[2]),o=Math.min(n[1],n[3]),u=Math.max(n[0],n[2]),l=Math.max(n[1],n[3]),h=Math.min(a[0],a[2]),p=Math.min(a[1],a[3]),v=Math.max(a[0],a[2]),y=Math.max(a[1],a[3]),S=(u-s)*(l-o),A=(v-h)*(y-p);if(S<=0||A<=0)return 0;var T=Math.max(s,h),I=Math.max(o,p),N=Math.min(u,v),D=Math.min(l,y),C=Math.max(N-T,0)*Math.max(D-I,0);return C/(S+A-C)}function qVe(t,e,r){var n=Math.exp(e*r*r);return r<=t?n:0}function Jee(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}function $Ve(t,e,r,n,a){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),cn(this,void 0,void 0,function(){var s,o,u,l,h,p,v;return nn(this,function(y){switch(y.label){case 0:return s=re(t,"boxes","nonMaxSuppressionAsync"),o=re(e,"scores","nonMaxSuppressionAsync"),u=Gm(s,o,r,n,a),r=u.maxOutputSize,n=u.iouThreshold,a=u.scoreThreshold,[4,Promise.all([s.data(),o.data()])];case 1:return l=y.sent(),h=l[0],p=l[1],v=FVe(h,p,r,n,a).selectedIndices,s!==t&&s.dispose(),o!==e&&o.dispose(),[2,eu(v,"int32")]}})})}var zVe=$Ve;function jVe(t,e,r,n,a,s){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),s===void 0&&(s=0);var o=re(t,"boxes","nonMaxSuppression"),u=re(e,"scores","nonMaxSuppression"),l=Gm(o,u,r,n,a,s);r=l.maxOutputSize,n=l.iouThreshold,a=l.scoreThreshold,s=l.softNmsSigma;var h={boxes:o,scores:u},p={maxOutputSize:r,iouThreshold:n,scoreThreshold:a,softNmsSigma:s},v=Ee.runKernel(BBe,h,p);return{selectedIndices:v[0],selectedScores:v[1]}}var UVe=ge({nonMaxSuppressionWithScore_:jVe});function VVe(t,e,r,n,a,s){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),s===void 0&&(s=0),cn(this,void 0,void 0,function(){var o,u,l,h,p,v,y,S,A;return nn(this,function(T){switch(T.label){case 0:return o=re(t,"boxes","nonMaxSuppressionAsync"),u=re(e,"scores","nonMaxSuppressionAsync"),l=Gm(o,u,r,n,a,s),r=l.maxOutputSize,n=l.iouThreshold,a=l.scoreThreshold,s=l.softNmsSigma,[4,Promise.all([o.data(),u.data()])];case 1:return h=T.sent(),p=h[0],v=h[1],y=LVe(p,v,r,n,a,s),S=y.selectedIndices,A=y.selectedScores,o!==t&&o.dispose(),u!==e&&u.dispose(),[2,{selectedIndices:eu(S,"int32"),selectedScores:eu(A)}]}})})}var WVe=VVe;function GVe(t,e,r,n,a,s){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),s===void 0&&(s=!1);var o=re(t,"boxes","nonMaxSuppression"),u=re(e,"scores","nonMaxSuppression"),l=Gm(o,u,r,n,a,null),h=l.maxOutputSize,p=l.iouThreshold,v=l.scoreThreshold,y={boxes:o,scores:u},S={maxOutputSize:h,iouThreshold:p,scoreThreshold:v,padToMaxOutputSize:s},A=Ee.runKernel(FBe,y,S);return{selectedIndices:A[0],validOutputs:A[1]}}var HVe=ge({nonMaxSuppressionPadded_:GVe});function KVe(t,e,r,n,a,s){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),s===void 0&&(s=!1),cn(this,void 0,void 0,function(){var o,u,l,h,p,v,y,S,A,T,I,N;return nn(this,function(D){switch(D.label){case 0:return o=re(t,"boxes","nonMaxSuppressionAsync"),u=re(e,"scores","nonMaxSuppressionAsync"),l=Gm(o,u,r,n,a,null),h=l.maxOutputSize,p=l.iouThreshold,v=l.scoreThreshold,[4,Promise.all([o.data(),u.data()])];case 1:return y=bt.apply(void 0,[D.sent(),2]),S=y[0],A=y[1],T=BVe(S,A,h,p,v,s),I=T.selectedIndices,N=T.validOutputs,o!==t&&o.dispose(),u!==e&&u.dispose(),[2,{selectedIndices:eu(I,"int32"),validOutputs:zn(N,"int32")}]}})})}var ZVe=KVe;function JVe(t,e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=re(t,"images","resizeBilinear");ye(a.rank===3||a.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+("rank "+a.rank+".")}),ye(e.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+(e+".")}),ye(n===!1||r===!1,function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."});var s=a,o=!1;a.rank===3&&(o=!0,s=at(a,[1,a.shape[0],a.shape[1],a.shape[2]])),bt(e,0);var u={images:s},l={alignCorners:r,halfPixelCenters:n,size:e},h=Ee.runKernel(JBe,u,l);return o?at(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var YVe=ge({resizeBilinear_:JVe});function XVe(t,e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=re(t,"images","resizeNearestNeighbor");ye(a.rank===3||a.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+("rank "+a.rank+".")}),ye(e.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+(e+".")}),ye(a.dtype==="float32"||a.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"}),ye(n===!1||r===!1,function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."});var s=a,o=!1;a.rank===3&&(o=!0,s=at(a,[1,a.shape[0],a.shape[1],a.shape[2]])),bt(e,0);var u={images:s},l={alignCorners:r,halfPixelCenters:n,size:e},h=Ee.runKernel(ZBe,u,l);return o?at(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var QVe=ge({resizeNearestNeighbor_:XVe});function eWe(t,e,r,n){var a;e===void 0&&(e="binary"),r===void 0&&(r=!1),n===void 0&&(n=.5);var s=re(t,"image","threshold"),o=.2989,u=.587,l=.114,h=s.shape[0]*s.shape[1],p=Vt(eu([n]),255),v,y,S,A;if(ye(s.rank===3,function(){return"Error in threshold: image must be rank 3,"+("but got rank "+s.rank+".")}),ye(s.shape[2]===3||s.shape[2]===1,function(){return"Error in threshold: image color channel must be equal to 3 or 1"+("but got "+s.shape[2]+".")}),ye(s.dtype==="int32"||s.dtype==="float32",function(){return"Error in dtype: image dtype must be int32 or float32,"+("but got dtype "+s.dtype+".")}),ye(e==="otsu"||e==="binary",function(){return"Method must be binary or otsu, but was "+e}),s.shape[2]===3){a=bt(S1(s,[1,1,1],-1),3),v=a[0],y=a[1],S=a[2];var T=Vt(v,o),I=Vt(y,u),N=Vt(S,l);A=Ni(Ni(T,I),N)}else A=t;if(e==="otsu"){var D=Ite(Wi(ere(A),"int32"),VD([]),256);p=tWe(D,h)}var C=r?LD(A,p):n3(A,p),L=Wi(Vt(C,255),"int32");return L}function tWe(t,e){for(var r=eu([-1]),n=eu([0]),a=eu([0]),s,o,u,l,h,p,v=0;v<t.size-1;v++){s=Cn(t,0,v+1),o=Cn(t,v+1),h=Ea(kn(s),e),p=Ea(kn(o),e);var y=kn(Vt(s,_1(0,s.size)));u=Ea(y,kn(s));var S=BD(o.shape,s.size),A=Ni(_1(0,o.size),S),T=Vt(o,A);l=Ea(kn(T),kn(o));var I=Sr(u,l),N=Sr(u,l),D=Vt(h,p);a=Vt(Vt(D,I),N);var C=n3(a,n);n=jm(C,a,n),r=jm(C,eu([v]),r)}return r}var rWe=ge({threshold_:eWe});function nWe(t,e,r,n,a,s){r===void 0&&(r="nearest"),n===void 0&&(n="constant"),a===void 0&&(a=0);var o=re(t,"image","transform","float32"),u=re(e,"transforms","transform","float32");ye(o.rank===4,function(){return"Error in transform: image must be rank 4,"+("but got rank "+o.rank+".")}),ye(u.rank===2&&(u.shape[0]===o.shape[0]||u.shape[0]===1)&&u.shape[1]===8,function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"}),ye(s==null||s.length===2,function(){return"Error in transform: outputShape must be [height, width] or null, "+("but got "+s+".")});var l={image:o,transforms:u},h={interpolation:r,fillMode:n,fillValue:a,outputShape:s};return Ee.runKernel(ILe,l,h)}var iWe=ge({transform_:nWe});function aWe(t,e,r){ye(e%1===0,function(){return"bandPart(): numLower must be an integer, got "+e+"."}),ye(r%1===0,function(){return"bandPart(): numUpper must be an integer, got "+r+"."});var n=re(t,"a","bandPart");ye(n.rank>=2,function(){return"bandPart(): Rank must be at least 2, got "+n.rank+"."});var a=n.shape,s=bt(n.shape.slice(-2),2),o=s[0],u=s[1];if(!(e<=o))throw new Error("bandPart(): numLower ("+e+")"+(" must not be greater than the number of rows ("+o+")."));if(!(r<=u))throw new Error("bandPart(): numUpper ("+r+")"+(" must not be greater than the number of columns ("+u+")."));e<0&&(e=o),r<0&&(r=u);var l=at(_1(0,o,1,"int32"),[-1,1]),h=_1(0,u,1,"int32"),p=Sr(l,h),v=HE(LD(p,zn(+e,"int32")),qte(p,zn(-r,"int32"))),y=Um([o,u],n.dtype);return at(E1(WD(at(n,[-1,o,u])).map(function(S){return jm(v,S,y)})),a)}var sWe=ge({bandPart_:aWe});function oWe(t){var e;if(Array.isArray(t)){e=!1,ye(t!=null&&t.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var r=t[0].shape[0],n=function(l){ye(t[l].shape[0]===r,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+("("+t[l].shape[0]+" vs. "+r+")")})},a=1;a<t.length;++a)n(a)}else e=!0,t=S1(t,t.shape[0],0).map(function(l){return UD(l,[0])});ye(t.length<=t[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+t.length+") exceeds "+("number of dimensions ("+t[0].shape[0]+").")});for(var s=[],o=t,u=function(l){s.push(Ee.tidy(function(){var h=o[l];if(l>0)for(var p=0;p<l;++p){var v=Vt(kn(Vt(s[p],h)),s[p]);h=Sr(h,v)}return Ea(h,r3(h,"euclidean"))}))},a=0;a<t.length;++a)u(a);return e?E1(s,0):s}var uWe=ge({gramSchmidt_:oWe});function fWe(t,e){if(e===void 0&&(e=!1),ye(t.rank>=2,function(){return"qr() requires input tensor to have a rank >= 2, but got rank "+t.rank}),t.rank===2)return Yee(t,e);var r=t.shape.slice(0,t.shape.length-2).reduce(function(l,h){return l*h}),n=WD(at(t,[r,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),a=[],s=[];n.forEach(function(l){var h=bt(Yee(l,e),2),p=h[0],v=h[1];a.push(p),s.push(v)});var o=at(E1(a,0),t.shape),u=at(E1(s,0),t.shape);return[o,u]}function Yee(t,e){return e===void 0&&(e=!1),Ee.tidy(function(){ye(t.shape.length===2,function(){return"qr2d() requires a 2D Tensor, but got a "+t.shape.length+"D Tensor."});for(var r=t.shape[0],n=t.shape[1],a=Bte(r),s=Pm(t),o=y1([[1]],[1,1]),u=Pm(o),l=r>=n?n:r,h=function(v){var y,S=s,A=u,T=a;y=bt(Ee.tidy(function(){var I=Cn(s,[v,v],[r-v,1]),N=r3(I),D=Cn(s,[v,v],[1,1]),C=jm(n3(D,0),y1([[-1]]),y1([[1]])),L=Sr(D,Vt(C,N)),z=Ea(I,L);z.shape[0]===1?u=Pm(o):u=es([o,Cn(z,[1,0],[z.shape[0]-1,z.shape[1]])],0);var $=Vf(Ea(rn(C,L),N)),G=Cn(s,[v,0],[r-v,n]),j=Vt($,u),Z=wD(u);if(v===0)s=Sr(G,rn(j,rn(Z,G)));else{var M=Sr(G,rn(j,rn(Z,G)));s=es([Cn(s,[0,0],[v,n]),M],0)}var f=wD(j),d=Cn(a,[0,v],[r,a.shape[1]-v]);if(v===0)a=Sr(d,rn(rn(d,u),f));else{var g=Sr(d,rn(rn(d,u),f));a=es([Cn(a,[0,0],[r,v]),g],1)}return[u,s,a]}),3),u=y[0],s=y[1],a=y[2],PUe([S,A,T])},p=0;p<l;++p)h(p);return!e&&r>n&&(a=Cn(a,[0,0],[r,n]),s=Cn(s,[0,0],[n,n])),[a,s]})}var lWe=ge({qr_:fWe});var Ba;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Ba||(Ba={}));function cWe(t,e,r){r===void 0&&(r=Ba.SUM_BY_NONZERO_WEIGHTS);var n=re(t,"losses","computeWeightedLoss"),a=null;e!=null&&(a=re(e,"weights","computeWeightedLoss"));var s=a==null?n:Vt(n,a);if(r===Ba.NONE)return s;if(r===Ba.SUM)return kn(s);if(r===Ba.MEAN){if(a==null)return KE(s);var o=n.size/a.size,u=Ea(kn(s),kn(a));return o>1?Ea(u,zn(o)):u}if(r===Ba.SUM_BY_NONZERO_WEIGHTS){if(a==null)return Ea(kn(s),zn(n.size));var l=Vt(a,ad(n.shape)),h=Wi(kn(Kte(l,zn(0))),"float32");return Ea(kn(s),h)}throw Error("Unknown reduction: "+r)}var Gf=ge({computeWeightedLoss_:cWe});function hWe(t,e,r,n){n===void 0&&(n=Ba.SUM_BY_NONZERO_WEIGHTS);var a=re(t,"labels","absoluteDifference"),s=re(e,"predictions","absoluteDifference"),o=null;r!=null&&(o=re(r,"weights","absoluteDifference")),_o(a.shape,s.shape,"Error in absoluteDifference: ");var u=mo(Sr(a,s));return Gf(u,o,n)}var dWe=ge({absoluteDifference_:hWe});function pWe(t,e,r,n,a){a===void 0&&(a=Ba.SUM_BY_NONZERO_WEIGHTS);var s=re(t,"labels","cosineDistance"),o=re(e,"predictions","cosineDistance"),u=null;n!=null&&(u=re(n,"weights","cosineDistance")),_o(s.shape,o.shape,"Error in cosineDistance: ");var l=zn(1),h=Sr(l,kn(Vt(s,o),r,!0));return Gf(h,u,a)}var mWe=ge({cosineDistance_:pWe});function vWe(t,e,r,n){n===void 0&&(n=Ba.SUM_BY_NONZERO_WEIGHTS);var a=re(t,"labels","hingeLoss"),s=re(e,"predictions","hingeLoss"),o=null;r!=null&&(o=re(r,"weights","hingeLoss")),_o(a.shape,s.shape,"Error in hingeLoss: ");var u=zn(1);a=Sr(Vt(zn(2),a),u);var l=a3(Sr(u,Vt(a,s)));return Gf(l,o,n)}var gWe=ge({hingeLoss_:vWe});function yWe(t,e,r,n,a){n===void 0&&(n=1),a===void 0&&(a=Ba.SUM_BY_NONZERO_WEIGHTS);var s=re(t,"labels","huberLoss"),o=re(e,"predictions","huberLoss"),u=null;r!=null&&(u=re(r,"weights","huberLoss")),_o(s.shape,o.shape,"Error in huberLoss: ");var l=zn(n),h=mo(Sr(o,s)),p=Hte(h,l),v=Sr(h,p),y=Ni(Vt(zn(.5),t3(p)),Vt(l,v));return Gf(y,u,a)}var bWe=ge({huberLoss_:yWe});function wWe(t,e,r,n,a){n===void 0&&(n=1e-7),a===void 0&&(a=Ba.SUM_BY_NONZERO_WEIGHTS);var s=re(t,"labels","logLoss"),o=re(e,"predictions","logLoss"),u=null;r!=null&&(u=re(r,"weights","logLoss")),_o(s.shape,o.shape,"Error in logLoss: ");var l=zn(1),h=zn(n),p=Vf(Vt(s,w1(Ni(o,h)))),v=Vt(Sr(l,s),w1(Ni(Sr(l,o),h))),y=Sr(p,v);return Gf(y,u,a)}var _We=ge({logLoss_:wWe});function xWe(t,e,r,n){n===void 0&&(n=Ba.SUM_BY_NONZERO_WEIGHTS);var a=re(t,"labels","meanSquaredError"),s=re(e,"predictions","meanSquaredError"),o=null;r!=null&&(o=re(r,"weights","meanSquaredError")),_o(a.shape,s.shape,"Error in meanSquaredError: ");var u=rre(a,s);return Gf(u,o,n)}var SWe=ge({meanSquaredError_:xWe});function EWe(t,e){var r=re(t,"labels","sigmoidCrossEntropyWithLogits"),n=re(e,"logits","sigmoidCrossEntropyWithLogits");_o(r.shape,n.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=a3(n),s=Vt(n,r),o=zte(od(Vf(mo(n))));return Ni(Sr(a,s),o)}function MWe(t,e,r,n,a){n===void 0&&(n=0),a===void 0&&(a=Ba.SUM_BY_NONZERO_WEIGHTS);var s=re(t,"multiClassLabels","sigmoidCrossEntropy"),o=re(e,"logits","sigmoidCrossEntropy"),u=null;if(r!=null&&(u=re(r,"weights","sigmoidCrossEntropy")),_o(s.shape,o.shape,"Error in sigmoidCrossEntropy: "),n>0){var l=zn(n),h=zn(1),p=zn(.5);s=Ni(Vt(s,Sr(h,l)),Vt(p,l))}var v=EWe(s,o);return Gf(v,u,a)}var AWe=ge({sigmoidCrossEntropy_:MWe});function kWe(t,e,r){if(r===void 0&&(r=-1),r===-1&&(r=e.rank-1),r!==e.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+("supported. Labels / logits was rank "+e.rank+" ")+("and dim was "+r));var n=Wf(function(a,s,o){var u=!0,l=Ute(s,[r],u),h=Sr(Wi(s,"float32"),l);o([a,h]);var p=Vf(Vt(h,a)),v=kn(p,[r]),y=function(S,A){var T=bt(A,2),I=T[0],N=T[1],D=e3(S.shape,[r]);return[Vt(at(S,D),Sr(Wi(I,"float32"),od(N))),Vt(at(S,D),Sr(od(N),Wi(I,"float32")))]};return{value:v,gradFunc:y}});return n(t,e)}function TWe(t,e,r,n,a){n===void 0&&(n=0),a===void 0&&(a=Ba.SUM_BY_NONZERO_WEIGHTS);var s=re(t,"onehotLabels","softmaxCrossEntropy"),o=re(e,"logits","softmaxCrossEntropy"),u=null;if(r!=null&&(u=re(r,"weights","softmaxCrossEntropy")),_o(s.shape,o.shape,"Error in softmaxCrossEntropy: "),n>0){var l=zn(n),h=zn(1),p=zn(s.shape[1]);s=Ni(Vt(s,Sr(h,l)),Ea(l,p))}var v=kWe(s,o);return Gf(v,u,a)}var NWe=ge({softmaxCrossEntropy_:TWe});function IWe(t,e,r,n){var a=re(t,"indices","sparseFillEmptyRows","int32"),s=re(e,"values","sparseFillEmptyRows"),o=re(r,"denseShape","sparseFillEmptyRows","int32"),u=re(n,"defaultValue","sparseFillEmptyRows",s.dtype);if(a.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        `+a.shape);if(s.rank!==1)throw new Error("Values should be Tensor1D but received shape "+s.shape);if(o.rank!==1)throw new Error("Dense shape should be Tensor1D but received shape "+o.shape);if(u.rank!==0)throw new Error("Default value should be a scalar but received shape "+u.shape);var l={indices:a,values:s,denseShape:o,defaultValue:u},h=Ee.runKernel(vLe,l);return{outputIndices:h[0],outputValues:h[1],emptyRowIndicator:h[2],reverseIndexMap:h[3]}}var DWe=ge({sparseFillEmptyRows_:IWe});function OWe(t,e,r){var n=re(t,"inputIndices","sparseReshape","int32"),a=re(e,"inputShape","sparseReshape","int32"),s=re(r,"newShape","sparseReshape","int32");if(n.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        `+n.shape);if(a.rank!==1)throw new Error("Input shape should be Tensor1D but received shape "+a.shape);if(s.rank!==1)throw new Error("New shape should be Tensor1D but received shape "+s.shape);var o={inputIndices:n,inputShape:a,newShape:s},u=Ee.runKernel(gLe,o);return{outputIndices:u[0],outputShape:u[1]}}var RWe=ge({sparseReshape_:OWe});function CWe(t,e,r){var n=re(t,"data","sparseSegmentMean"),a=re(e,"indices","sparseSegmentMean","int32"),s=re(r,"segmentIds","sparseSegmentMean","int32");if(n.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          `+a.shape);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          `+s.shape);var o={data:n,indices:a,segmentIds:s};return Ee.runKernel(yLe,o)}var FWe=ge({sparseSegmentMean_:CWe});function BWe(t,e,r){var n=re(t,"data","sparseSegmentSum"),a=re(e,"indices","sparseSegmentSum","int32"),s=re(r,"segmentIds","sparseSegmentSum","int32");if(n.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         `+a.shape);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         `+s.shape);var o={data:n,indices:a,segmentIds:s};return Ee.runKernel(bLe,o)}var LWe=ge({sparseSegmentSum_:BWe});function PWe(t,e,r,n,a,s,o,u){var l=re(t,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error("Data must be a vector, saw: "+l.shape);var h=re(e,"dataSplits","stringNGrams");if(h.dtype!=="int32")throw new Error("Data splits must be of datatype int32");var p={separator:r,nGramWidths:n,leftPad:a,rightPad:s,padWidth:o,preserveShortSequences:u},v={data:l,dataSplits:h},y=Ee.runKernel(SLe,v,p);return{nGrams:y[0],nGramsSplits:y[1]}}var qWe=ge({stringNGrams_:PWe});function $We(t,e,r){r===void 0&&(r=!0);var n=re(t,"input","stringSplit","string"),a=re(e,"delimiter","stringSplit","string");if(n.rank!==1)throw new Error("Input should be Tensor1D but received shape "+n.shape);if(a.rank!==0)throw new Error("Delimiter should be a scalar but received shape "+a.shape);var s={skipEmpty:r},o={input:n,delimiter:a},u=Ee.runKernel(ELe,o,s);return{indices:u[0],values:u[1],shape:u[2]}}var zWe=ge({stringSplit_:$We});function jWe(t,e){var r=re(t,"input","stringToHashBucketFast","string"),n={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");var a={input:r};return Ee.runKernel(MLe,a,n)}var UWe=ge({stringToHashBucketFast_:jWe});var VWe={fft:zD,ifft:ZE,rfft:jD,irfft:tre},WWe={hammingWindow:vVe,hannWindow:sre,frame:ore,stft:wVe},GWe={flipLeftRight:EVe,grayscaleToRGB:AVe,resizeNearestNeighbor:QVe,resizeBilinear:YVe,rotateWithOffset:TVe,cropAndResize:xVe,nonMaxSuppression:IVe,nonMaxSuppressionAsync:zVe,nonMaxSuppressionWithScore:UVe,nonMaxSuppressionWithScoreAsync:WVe,nonMaxSuppressionPadded:HVe,nonMaxSuppressionPaddedAsync:ZVe,threshold:rWe,transform:iWe},HWe={bandPart:sWe,gramSchmidt:uWe,qr:lWe},KWe={absoluteDifference:dWe,computeWeightedLoss:Gf,cosineDistance:mWe,hingeLoss:gWe,huberLoss:bWe,logLoss:_We,meanSquaredError:SWe,sigmoidCrossEntropy:AWe,softmaxCrossEntropy:NWe},ZWe={sparseFillEmptyRows:DWe,sparseReshape:RWe,sparseSegmentMean:FWe,sparseSegmentSum:LWe},JWe={stringNGrams:qWe,stringSplit:zWe,stringToHashBucketFast:UWe};var aa={__proto__:null,abs:mo,acos:uPe,acosh:lPe,add:Ni,addN:dPe,all:mPe,any:gPe,argMax:bPe,argMin:_Pe,asin:SPe,asinh:MPe,atan:kPe,atan2:NPe,atanh:DPe,avgPool:Tte,avgPool3d:$Pe,basicLSTMCell:ZPe,batchToSpaceND:Nte,batchNorm:XE,batchNorm2d:eqe,batchNorm3d:rqe,batchNorm4d:iqe,bincount:Ite,broadcastArgs:oqe,broadcastTo:PE,buffer:tc,cast:Wi,ceil:lqe,clipByValue:hqe,clone:Pm,complex:sd,concat:es,concat1d:mqe,concat2d:gqe,concat3d:bqe,concat4d:_qe,conv1d:Eqe,conv2d:QE,conv2dTranspose:kqe,conv3d:Nqe,conv3dTranspose:Rqe,cos:Fqe,cosh:Lqe,cumprod:qqe,cumsum:zqe,denseBincount:Uqe,depthToSpace:Wqe,depthwiseConv2d:RD,diag:Kqe,dilation2d:Jqe,div:Ea,divNoNan:i$e,dot:s$e,einsum:u$e,elu:Cte,equal:Rte,erf:c$e,euclideanNorm:_$e,exp:od,expandDims:nd,expm1:M$e,eye:Bte,fill:BD,floor:Lte,floorDiv:Ote,gather:Pte,greater:n3,greaterEqual:qte,imag:i3,isFinite:C$e,isInf:B$e,isNaN:P$e,leakyRelu:$te,less:z$e,lessEqual:LD,linspace:U$e,localResponseNormalization:W$e,log:w1,log1p:zte,logSigmoid:Y$e,logSoftmax:eze,logSumExp:Ute,logicalAnd:HE,logicalNot:Vte,logicalOr:Wte,logicalXor:sze,lowerBound:uze,matMul:rn,max:$m,maxPool:Gte,maxPool3d:cze,maxPoolWithArgmax:dze,maximum:mze,mean:KE,meshgrid:gze,min:yD,minimum:Hte,mirrorPad:wze,mod:xze,moments:Eze,mul:Vt,multiRNNCell:Aze,multinomial:Tze,neg:Vf,notEqual:Kte,oneHot:Dze,ones:ad,onesLike:Rze,outerProduct:Fze,pad:M1,pad1d:Pze,pad2d:$ze,pad3d:jze,pad4d:Vze,pool:Zze,pow:FD,prelu:Jte,print:Yze,prod:Qze,rand:tje,randomGamma:mje,randomNormal:Yte,randomStandardNormal:yje,randomUniform:Xte,range:_1,real:x1,reciprocal:xje,relu:a3,relu6:Qte,reshape:at,reverse:ud,reverse1d:kje,reverse2d:Nje,reverse3d:Dje,reverse4d:Rje,round:ere,rsqrt:Bje,scalar:zn,selu:Pje,separableConv2d:$je,setdiff1dAsync:jje,sigmoid:qm,sign:Vje,sin:Gje,sinh:Kje,slice:Cn,slice1d:Jje,slice2d:Xje,slice3d:eUe,slice4d:rUe,softmax:iUe,softplus:jte,spaceToBatchND:Zte,fft:zD,ifft:ZE,irfft:tre,rfft:jD,split:S1,sqrt:bD,square:t3,squaredDifference:rre,squeeze:UD,stack:E1,step:nre,stridedSlice:mUe,sub:Sr,sum:kn,tan:gUe,tanh:gD,tensor:VD,tensor1d:eu,tensor2d:y1,tensor3d:yUe,tensor4d:bUe,tensor5d:wUe,tensor6d:_Ue,tile:g1,topk:SUe,truncatedNormal:MUe,unique:kUe,unsortedSegmentSum:NUe,unstack:WD,upperBound:DUe,variable:OUe,where:jm,whereAsync:ire,zeros:Um,zerosLike:CD,op:ge,OP_SCOPE_SUFFIX:kte,booleanMaskAsync:BUe,transpose:wD,norm:r3,movingAverage:zUe,scatterND:WUe,searchSorted:PD,sparseToDense:KUe,gatherND:JUe,dropout:QUe,enclosingPowerOfTwo:are,cosineWindow:GD,inTopKAsync:tVe,image:GWe,linalg:HWe,losses:KWe,spectral:VWe,fused:pVe,signal:WWe,sparse:ZWe,string:JWe};var YWe=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"BiasAdd":case"AddV2":case"Add":return[n.add(V("a",t,e,r),V("b",t,e,r))];case"AddN":return[n.addN(V("tensors",t,e,r))];case"FloorMod":case"Mod":return[n.mod(V("a",t,e,r),V("b",t,e,r))];case"Mul":return[n.mul(V("a",t,e,r),V("b",t,e,r))];case"RealDiv":case"Div":return[n.div(V("a",t,e,r),V("b",t,e,r))];case"DivNoNan":return[n.divNoNan(V("a",t,e,r),V("b",t,e,r))];case"FloorDiv":return[n.floorDiv(V("a",t,e,r),V("b",t,e,r))];case"Sub":return[n.sub(V("a",t,e,r),V("b",t,e,r))];case"Minimum":return[n.minimum(V("a",t,e,r),V("b",t,e,r))];case"Maximum":return[n.maximum(V("a",t,e,r),V("b",t,e,r))];case"Pow":return[n.pow(V("a",t,e,r),V("b",t,e,r))];case"SquaredDifference":return[n.squaredDifference(V("a",t,e,r),V("b",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}};var XWe=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"Abs":case"ComplexAbs":return[n.abs(V("x",t,e,r))];case"Acos":return[n.acos(V("x",t,e,r))];case"Acosh":return[n.acosh(V("x",t,e,r))];case"Asin":return[n.asin(V("x",t,e,r))];case"Asinh":return[n.asinh(V("x",t,e,r))];case"Atan":return[n.atan(V("x",t,e,r))];case"Atan2":return[n.atan2(V("x",t,e,r),V("y",t,e,r))];case"Atanh":return[n.atanh(V("x",t,e,r))];case"Ceil":return[n.ceil(V("x",t,e,r))];case"Complex":return[n.complex(V("real",t,e,r),V("imag",t,e,r))];case"Cos":return[n.cos(V("x",t,e,r))];case"Cosh":return[n.cosh(V("x",t,e,r))];case"Elu":return[n.elu(V("x",t,e,r))];case"Erf":return[n.erf(V("x",t,e,r))];case"Exp":return[n.exp(V("x",t,e,r))];case"Expm1":return[n.expm1(V("x",t,e,r))];case"Floor":return[n.floor(V("x",t,e,r))];case"Log":return[n.log(V("x",t,e,r))];case"Log1p":return[n.log1p(V("x",t,e,r))];case"Imag":return[n.imag(V("x",t,e,r))];case"Neg":return[n.neg(V("x",t,e,r))];case"Reciprocal":return[n.reciprocal(V("x",t,e,r))];case"Real":return[n.real(V("x",t,e,r))];case"Relu":return[n.relu(V("x",t,e,r))];case"Round":return[n.round(V("x",t,e,r))];case"Selu":return[n.selu(V("x",t,e,r))];case"Sigmoid":return[n.sigmoid(V("x",t,e,r))];case"Sin":return[n.sin(V("x",t,e,r))];case"Sign":return[n.sign(V("x",t,e,r))];case"Sinh":return[n.sinh(V("x",t,e,r))];case"Softplus":return[n.softplus(V("x",t,e,r))];case"Sqrt":return[n.sqrt(V("x",t,e,r))];case"Square":return[n.square(V("x",t,e,r))];case"Tanh":return[n.tanh(V("x",t,e,r))];case"Tan":return[n.tan(V("x",t,e,r))];case"ClipByValue":return[n.clipByValue(V("x",t,e,r),V("clipValueMin",t,e,r),V("clipValueMax",t,e,r))];case"Relu6":return[n.relu6(V("x",t,e,r))];case"Rsqrt":return[n.rsqrt(Sa(t.inputNames[0],e,r))];case"Prod":return[n.prod(V("x",t,e,r),V("axes",t,e,r))];case"LeakyRelu":return[n.leakyRelu(V("x",t,e,r),V("alpha",t,e,r))];case"Prelu":return[n.prelu(V("x",t,e,r),V("alpha",t,e,r))];case"IsNan":return[n.isNaN(Sa(t.inputNames[0],e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}};function vo(t,e,r){if(r===void 0&&(r=""),!(typeof t=="number"||typeof e=="number")){wt.util.assert(t.length===e.length,function(){return r+(" Shapes "+t+" and "+e+" must match")});for(var n=0;n<t.length;n++){var a=t[n],s=e[n];wt.util.assert(a<0||s<0||a===s,function(){return r+(" Shapes "+t+" and "+e+" must match")})}}}function Xee(t){return!(typeof t=="number"||t.some(function(e){return e<0}))}function p1(t,e,r){var n=_D(t,r),a=!Xee(n);if(a&&e.length===0)throw new Error("Tried to calculate elements of an empty list"+(" with non-fully-defined elementShape: "+n));if(a&&e.forEach(function(s){n=_D(s.shape,n)}),!Xee(n))throw new Error("Non-fully-defined elementShape: "+n);return n}function _D(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error("Incompatible ranks during merge: "+t+" vs. "+e);for(var r=[],n=0;n<t.length;++n){var a=t[n],s=e[n];if(a>=0&&s>=0&&a!==s)throw new Error("Incompatible shape during merge: "+t+" vs. "+e);r[n]=a>=0?a:s}return r}var QWe=function(){function t(e,r,n,a,s,o,u){this.name=e,this.dtype=r,this.maxSize=n,this.elementShape=a,this.identicalElementShapes=s,this.dynamicSize=o,this.clearAfterRead=u,this.tensors=[],this.closed_=!1,this.idTensor=wt.scalar(0),wt.keep(this.idTensor)}return Object.defineProperty(t.prototype,"id",{get:function(){return this.idTensor.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closed",{get:function(){return this.closed_},enumerable:!0,configurable:!0}),t.prototype.clearAndClose=function(e){this.tensors.forEach(function(r){(e==null||!e.has(r.tensor.id))&&r.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()},t.prototype.size=function(){return this.tensors.length},t.prototype.read=function(e){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||e>=this.size())throw new Error("Tried to read from index "+e+", but array size is: "+this.size());var r=this.tensors[e];if(r.cleared)throw new Error("TensorArray "+this.name+": Could not read index "+e+" twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(r.cleared=!0),r.read=!0,r.tensor},t.prototype.readMany=function(e){var r=this;return e.map(function(n){return r.read(n)})},t.prototype.write=function(e,r){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index "+e+", but array is not resizeable and size is: "+this.maxSize);var n=this.tensors[e]||{};if(r.dtype!==this.dtype)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+`,
          because the value dtype is `+r.dtype+", but TensorArray dtype is "+this.dtype+".");if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=r.shape),vo(this.elementShape,r.shape,"TensorArray "+this.name+": Could not write to TensorArray index "+e+"."),n.read)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been read.");if(n.written)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been written.");n.tensor=r,wt.keep(r),n.written=!0,this.tensors[e]=n},t.prototype.writeMany=function(e,r){var n=this;if(e.length!==r.length)throw new Error("TensorArray "+this.name+": could not write multiple tensors,"+("because the index size: "+e.length+" is not the same as tensors size: "+r.length+"."));e.forEach(function(a,s){return n.write(a,r[s])})},t.prototype.gather=function(e,r){if(!!r&&r!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but gather requested dtype "+r);if(e)e=e.slice(0,this.size());else{e=[];for(var n=0;n<this.size();n++)e.push(n)}if(e.length===0)return wt.tensor([],[0].concat(this.elementShape));var a=this.readMany(e);return vo(this.elementShape,a[0].shape,"TensorArray shape mismatch: "),wt.stack(a,0)},t.prototype.concat=function(e){if(!!e&&e!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but concat requested dtype "+e);if(this.size()===0)return wt.tensor([],[0].concat(this.elementShape));for(var r=[],n=0;n<this.size();n++)r.push(n);var a=this.readMany(r);return vo(this.elementShape,a[0].shape,"TensorArray shape mismatch: tensor array shape ("+this.elementShape+") vs first tensor shape ("+a[0].shape+")"),wt.concat(a,0)},t.prototype.scatter=function(e,r){if(r.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+r.dtype);if(e.length!==r.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+e.length+" vs. "+r.shape[0]);var n=Math.max.apply(Math,Vi(e));if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size ("+n+"  vs. "+this.maxSize+")");this.writeMany(e,wt.unstack(r,0))},t.prototype.split=function(e,r){var n=this;if(r.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+r.dtype);var a=0,s=e.map(function(p){return a+=p,a});if(a!==r.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        `+a+", and tensor's shape is: "+r.shape);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths ("+this.maxSize+" vs. "+e.length+"), and the TensorArray is not marked as dynamically resizeable");var o=a===0?0:r.size/a,u=[];wt.tidy(function(){r=wt.reshape(r,[1,a,o]);for(var p=0;p<e.length;++p){var v=p===0?0:s[p-1],y=[0,v,0],S=[1,e[p],o];u[p]=wt.reshape(wt.slice(r,y,S),n.elementShape)}return u});for(var l=[],h=0;h<e.length;h++)l[h]=h;this.writeMany(l,u)},t}(),s3=function(){function t(e,r,n,a){a===void 0&&(a=-1),this.tensors=e,this.elementShape=r,this.elementDtype=n,e!=null&&e.forEach(function(s){if(n!==s.dtype)throw new Error("Invalid data types; op elements "+n+", but list elements "+s.dtype);vo(r,s.shape,"TensorList shape mismatch: "),wt.keep(s)}),this.idTensor=wt.scalar(0),this.maxNumElements=a,wt.keep(this.idTensor)}return Object.defineProperty(t.prototype,"id",{get:function(){return this.idTensor.id},enumerable:!0,configurable:!0}),t.prototype.copy=function(){return new t(Vi(this.tensors),this.elementShape,this.elementDtype)},t.prototype.clearAndClose=function(e){this.tensors.forEach(function(r){(e==null||!e.has(r.id))&&r.dispose()}),this.tensors.length=0,this.idTensor.dispose()},t.prototype.size=function(){return this.tensors.length},t.prototype.stack=function(e,r,n){var a=this;if(n===void 0&&(n=-1),r!==this.elementDtype)throw new Error("Invalid data types; op elements "+r+", but list elements "+this.elementDtype);if(n!==-1&&this.tensors.length!==n)throw new Error("Operation expected a list with "+n+" elements but got a list with "+this.tensors.length+" elements.");vo(e,this.elementShape,"TensorList shape mismatch: ");var s=p1(this.elementShape,this.tensors,e);return wt.tidy(function(){var o=a.tensors.map(function(u){return wt.reshape(u,s)});return wt.stack(o,0)})},t.prototype.popBack=function(e,r){if(r!==this.elementDtype)throw new Error("Invalid data types; op elements "+r+", but list elements "+this.elementDtype);if(this.size()===0)throw new Error("Trying to pop from an empty list.");var n=p1(this.elementShape,this.tensors,e),a=this.tensors.pop();return vo(a.shape,e,"TensorList shape mismatch: "),wt.reshape(a,n)},t.prototype.pushBack=function(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements "+e.dtype+", but list elements "+this.elementDtype);if(vo(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");wt.keep(e),this.tensors.push(e)},t.prototype.resize=function(e){if(e<0)throw new Error("TensorListResize expects size to be non-negative. Got: "+e);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error("TensorListResize input size "+e+" is greater maxNumElement "+this.maxNumElements+".");var r=new t([],this.elementShape,this.elementDtype,this.maxNumElements);r.tensors.length=e;for(var n=0;n<Math.min(this.tensors.length,e);++n)r.tensors[n]=this.tensors[n];return r},t.prototype.getItem=function(e,r,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements "+n+", but list elements "+this.elementDtype);if(e<0||e>this.tensors.length)throw new Error("Trying to access element "+e+" in a list with "+this.tensors.length+" elements.");if(this.tensors[e]==null)throw new Error("element at index "+e+" is null.");vo(this.tensors[e].shape,r,"TensorList shape mismatch: ");var a=p1(this.elementShape,this.tensors,r);return wt.reshape(this.tensors[e],a)},t.prototype.setItem=function(e,r){if(r.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements "+r.dtype+", but list elements "+this.elementDtype);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error("Trying to set element "+e+" in a list with max "+this.maxNumElements+" elements.");vo(this.elementShape,r.shape,"TensorList shape mismatch: "),wt.keep(r),this.tensors[e]=r},t.prototype.gather=function(e,r,n){var a=this;if(r!==this.elementDtype)throw new Error("Invalid data types; op elements "+r+", but list elements "+this.elementDtype);vo(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());var s=p1(this.elementShape,this.tensors,n);return e.length===0?wt.tensor([],[0].concat(s)):wt.tidy(function(){var o=e.map(function(u){return wt.reshape(a.tensors[u],s)});return wt.stack(o,0)})},t.prototype.concat=function(e,r){var n=this;if(!!e&&e!==this.elementDtype)throw new Error("TensorList dtype is "+this.elementDtype+" but concat requested dtype "+e);vo(this.elementShape,r,"TensorList shape mismatch: ");var a=p1(this.elementShape,this.tensors,r);return this.size()===0?wt.tensor([],[0].concat(a)):wt.tidy(function(){var s=n.tensors.map(function(o){return wt.reshape(o,a)});return wt.concat(s,0)})},t}();function eGe(t,e,r){var n=t.dtype;if(t.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: "+t.shape);if(t.dtype!==r)throw new Error("Invalid data types; op elements "+t.dtype+", but list elements "+r);var a=t.shape.slice(1);vo(a,e,"TensorList shape mismatch: ");var s=wt.unstack(t);return new s3(s,e,n)}function tGe(t,e,r,n){return new s3([],t,e,n)}function rGe(t,e,r,n){if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+e.length+" vs. "+t.shape[0]);var a=Math.max.apply(Math,Vi(e));if(n!=null&&n!==-1&&a>=n)throw new Error("Max index must be < array size ("+a+"  vs. "+n+")");var s=new s3([],r,t.dtype,n),o=wt.unstack(t,0);return e.forEach(function(u,l){s.setItem(u,o[l])}),s}function nGe(t,e,r){var n=0,a=e.map(function(v){return n+=v,n});if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        `+n+", and tensor's shape is: "+t.shape);for(var s=t.shape.slice(1),o=_D(s,r),u=n===0?0:t.size/n,l=wt.tidy(function(){var v=[];t=wt.reshape(t,[1,n,u]);for(var y=0;y<e.length;++y){var S=y===0?0:a[y-1],A=[0,S,0],T=[1,e[y],u];v[y]=wt.reshape(wt.slice(t,A,T),o)}return t.dispose(),v}),h=new s3([],r,t.dtype,e.length),p=0;p<l.length;p++)h.setItem(p,l[p]);return h}var iGe=void 0,aGe=function(t,e,r){return cn(iGe,void 0,void 0,function(){var n,a,s,o,h,y,u,l,h,p,v,y,S,A,T,T,D,I,D,N,D,D,D,ie,C,we,L,z,$,G,j,Z,U,xe,M,f,H,d,Y,X,g,m,b,J,fe,E,me,k,yt,w,zt,Te,c,_,R,O,F,ee,U,xe,ot,ee,H,we,le,ot,J,fe,we,Q,ot,we,ue,B,Q,q,ot,Y,X,we,ue,ot,ee,we,ue,Q,ot,be,we,ue,ot,me,ot,yt,we,ee,xe,ot,ee,we,le,ot,zt,we,Te,ot,ee,ot,ee,ie,rt,ae;return nn(this,function(de){switch(de.label){case 0:switch(n=t.op,n){case"If":return[3,1];case"StatelessIf":return[3,1];case"While":return[3,3];case"StatelessWhile":return[3,3];case"LoopCond":return[3,9];case"Switch":return[3,10];case"Merge":return[3,12];case"Enter":return[3,13];case"Exit":return[3,14];case"NextIteration":return[3,15];case"TensorArrayV3":return[3,16];case"TensorArrayWriteV3":return[3,17];case"TensorArrayReadV3":return[3,18];case"TensorArrayGatherV3":return[3,19];case"TensorArrayScatterV3":return[3,20];case"TensorArrayConcatV3":return[3,21];case"TensorArraySplitV3":return[3,22];case"TensorArraySizeV3":return[3,23];case"TensorArrayCloseV3":return[3,24];case"TensorListSetItem":return[3,25];case"TensorListGetItem":return[3,26];case"TensorListScatterV2":return[3,27];case"TensorListScatter":return[3,27];case"TensorListReserve":return[3,28];case"EmptyTensorList":return[3,28];case"TensorListGather":return[3,29];case"TensorListStack":return[3,30];case"TensorListFromTensor":return[3,31];case"TensorListConcat":return[3,32];case"TensorListConcatV2":return[3,32];case"TensorListPushBack":return[3,33];case"TensorListPopBack":return[3,34];case"TensorListSplit":return[3,35];case"TensorListLength":return[3,36];case"TensorListResize":return[3,37]}return[3,38];case 1:return a=V("thenBranch",t,e,r),s=V("elseBranch",t,e,r),o=V("cond",t,e,r),h=V("args",t,e,r),[4,o.data()];case 2:return y=de.sent(),y[0]?[2,r.functionMap[a].executeFunctionAsync(h,r.tensorArrayMap,r.tensorListMap)]:[2,r.functionMap[s].executeFunctionAsync(h,r.tensorArrayMap,r.tensorListMap)];case 3:return u=V("body",t,e,r),l=V("cond",t,e,r),h=V("args",t,e,r),[4,r.functionMap[l].executeFunctionAsync(h,r.tensorArrayMap,r.tensorListMap)];case 4:return p=de.sent(),v=h.map(function(Je){return Je.id}),[4,p[0].data()];case 5:y=de.sent(),p.forEach(function(Je){!Je.kept&&v.indexOf(Je.id)===-1&&Je.dispose()}),S=h,A=function(){var Je,he,Se;return nn(this,function(Tt){switch(Tt.label){case 0:return Je=S,[4,r.functionMap[u].executeFunctionAsync(S,r.tensorArrayMap,r.tensorListMap)];case 1:return S=Tt.sent(),he=S.map(function(_e){return _e.id}),Je.forEach(function(_e){!_e.kept&&v.indexOf(_e.id)===-1&&he.indexOf(_e.id)===-1&&_e.dispose()}),[4,r.functionMap[l].executeFunctionAsync(S,r.tensorArrayMap,r.tensorListMap)];case 2:return Se=Tt.sent(),[4,Se[0].data()];case 3:return y=Tt.sent(),Se.forEach(function(_e){!_e.kept&&v.indexOf(_e.id)===-1&&he.indexOf(_e.id)===-1&&_e.dispose()}),[2]}})},de.label=6;case 6:return y[0]?[5,A()]:[3,8];case 7:return de.sent(),[3,6];case 8:return[2,S];case 9:return T=V("pred",t,e,r),[2,[Uf(T)]];case 10:return T=V("pred",t,e,r),D=V("data",t,e,r),D.kept||(D=Uf(D)),[4,T.data()];case 11:return[2,de.sent()[0]?[void 0,D]:[D,void 0]];case 12:return I=t.inputNames.find(function(Je){return Sa(Je,e,r)!==void 0}),I?(D=Sa(I,e,r),[2,[Uf(D)]]):[2,void 0];case 13:return N=V("frameName",t,e,r),D=V("tensor",t,e,r),r.enterFrame(N),[2,[Uf(D)]];case 14:return D=V("tensor",t,e,r),r.exitFrame(),[2,[Uf(D)]];case 15:return D=V("tensor",t,e,r),r.nextIteration(),[2,[Uf(D)]];case 16:return ie=V("size",t,e,r),C=V("dtype",t,e,r),we=V("elementShape",t,e,r),L=V("dynamicSize",t,e,r),z=V("clearAfterRead",t,e,r),$=V("identicalElementShapes",t,e,r),G=V("name",t,e,r),j=new QWe(G,C,ie,we,$,L,z),r.addTensorArray(j),[2,[j.idTensor,wt.scalar(1)]];case 17:return Z=V("tensorArrayId",t,e,r),U=V("index",t,e,r),xe=V("tensor",t,e,r),M=r.getTensorArray(Z.id),M.write(U,xe),[2,[M.idTensor]];case 18:return f=V("tensorArrayId",t,e,r),H=V("index",t,e,r),d=r.getTensorArray(f.id),[2,[d.read(H)]];case 19:return Y=V("tensorArrayId",t,e,r),X=V("indices",t,e,r),g=V("dtype",t,e,r),m=r.getTensorArray(Y.id),[2,[m.gather(X,g)]];case 20:return b=V("tensorArrayId",t,e,r),J=V("indices",t,e,r),fe=V("tensor",t,e,r),E=r.getTensorArray(b.id),E.scatter(J,fe),[2,[E.idTensor]];case 21:return me=V("tensorArrayId",t,e,r),k=r.getTensorArray(me.id),yt=V("dtype",t,e,r),[2,[k.concat(yt)]];case 22:return w=V("tensorArrayId",t,e,r),zt=V("tensor",t,e,r),Te=V("lengths",t,e,r),c=r.getTensorArray(w.id),c.split(Te,zt),[2,[c.idTensor]];case 23:return _=V("tensorArrayId",t,e,r),R=r.getTensorArray(_.id),[2,[wt.scalar(R.size(),"int32")]];case 24:return O=V("tensorArrayId",t,e,r),F=r.getTensorArray(O.id),F.clearAndClose(),[2,[F.idTensor]];case 25:return ee=V("tensorListId",t,e,r),U=V("index",t,e,r),xe=V("tensor",t,e,r),ot=r.getTensorList(ee.id),ot.setItem(U,xe),[2,[ot.idTensor]];case 26:return ee=V("tensorListId",t,e,r),H=V("index",t,e,r),we=V("elementShape",t,e,r),le=V("elementDType",t,e,r),ot=r.getTensorList(ee.id),[2,[ot.getItem(H,we,le)]];case 27:return J=V("indices",t,e,r),fe=V("tensor",t,e,r),we=V("elementShape",t,e,r),Q=V("numElements",t,e,r),ot=rGe(fe,J,we,Q),r.addTensorList(ot),[2,[ot.idTensor]];case 28:return we=V("elementShape",t,e,r),ue=V("elementDType",t,e,r),B=void 0,t.op==="TensorListReserve"?B="numElements":B="maxNumElements",Q=V(B,t,e,r),q=t.op==="TensorListReserve"?-1:Q,ot=tGe(we,ue,Q,q),r.addTensorList(ot),[2,[ot.idTensor]];case 29:return Y=V("tensorListId",t,e,r),X=V("indices",t,e,r),we=V("elementShape",t,e,r),ue=V("elementDType",t,e,r),ot=r.getTensorList(Y.id),[2,[ot.gather(X,ue,we)]];case 30:return ee=V("tensorListId",t,e,r),we=V("elementShape",t,e,r),ue=V("elementDType",t,e,r),Q=V("numElements",t,e,r),ot=r.getTensorList(ee.id),[2,[ot.stack(we,ue,Q)]];case 31:return be=V("tensor",t,e,r),we=V("elementShape",t,e,r),ue=V("elementDType",t,e,r),ot=eGe(be,we,ue),r.addTensorList(ot),[2,[ot.idTensor]];case 32:return me=V("tensorListId",t,e,r),ot=r.getTensorList(me.id),yt=V("dtype",t,e,r),we=V("elementShape",t,e,r),[2,[ot.concat(yt,we)]];case 33:return ee=V("tensorListId",t,e,r),xe=V("tensor",t,e,r),ot=r.getTensorList(ee.id),ot.pushBack(xe),[2,[ot.idTensor]];case 34:return ee=V("tensorListId",t,e,r),we=V("elementShape",t,e,r),le=V("elementDType",t,e,r),ot=r.getTensorList(ee.id),[2,[ot.popBack(we,le)]];case 35:return zt=V("tensor",t,e,r),we=V("elementShape",t,e,r),Te=V("lengths",t,e,r),ot=nGe(zt,Te,we),r.addTensorList(ot),[2,[ot.idTensor]];case 36:return ee=V("tensorListId",t,e,r),ot=r.getTensorList(ee.id),[2,[wt.scalar(ot.size(),"int32")]];case 37:return ee=V("tensorListId",t,e,r),ie=V("size",t,e,r),rt=r.getTensorList(ee.id),ae=rt.resize(ie),r.addTensorList(ae),[2,[ae.idTensor]];case 38:throw TypeError("Node type "+t.op+" is not implemented")}})})};function Qee(t,e,r){var n=bt(V("fusedOps",t,e,r),2),a=n[0],s=n[1],o=a==="biasadd",u=!o,l=s==="prelu",h=a==="fusedbatchnorm",p=V("numArgs",t,e,r);if(o){if(l&&p!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&o&&p!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(h)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var v=V("strides",t,e,r),y=FE(t,e,r),S=V("dataFormat",t,e,r).toUpperCase(),A=V("dilations",t,e,r),T=bt(V("args",t,e,r),2),I=T[0],N=T[1];u&&(N=I,I=void 0);var D=V("leakyreluAlpha",t,e,r);return{stride:v,pad:y,dataFormat:S,dilations:A,biasArg:I,preluArg:N,activationFunc:s,leakyreluAlpha:D}}var sGe=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"Conv1D":{var a=V("stride",t,e,r),s=V("pad",t,e,r),o=V("dataFormat",t,e,r).toUpperCase(),u=V("dilation",t,e,r);return[n.conv1d(V("x",t,e,r),V("filter",t,e,r),a,s,o,u)]}case"Conv2D":{var a=V("strides",t,e,r),s=FE(t,e,r),o=V("dataFormat",t,e,r).toUpperCase(),l=V("dilations",t,e,r);return[n.conv2d(V("x",t,e,r),V("filter",t,e,r),[a[1],a[2]],s,o,[l[1],l[2]])]}case"_FusedConv2D":{var h=Qee(t,e,r),a=h.stride,s=h.pad,o=h.dataFormat,l=h.dilations,p=h.biasArg,v=h.preluArg,y=h.activationFunc,S=h.leakyreluAlpha;return[n.fused.conv2d({x:V("x",t,e,r),filter:V("filter",t,e,r),strides:[a[1],a[2]],pad:s,dataFormat:o,dilations:[l[1],l[2]],bias:p,activation:y,preluActivationWeights:v,leakyreluAlpha:S})]}case"FusedDepthwiseConv2dNative":{var A=Qee(t,e,r),a=A.stride,s=A.pad,o=A.dataFormat,l=A.dilations,p=A.biasArg,v=A.preluArg,y=A.activationFunc,S=A.leakyreluAlpha;return[n.fused.depthwiseConv2d({x:V("x",t,e,r),filter:V("filter",t,e,r),strides:[a[1],a[2]],pad:s,dataFormat:o,dilations:[l[1],l[2]],bias:p,activation:y,preluActivationWeights:v,leakyreluAlpha:S})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{var T=V("outputShape",t,e,r),a=V("strides",t,e,r),s=FE(t,e,r);return[n.conv2dTranspose(V("x",t,e,r),V("filter",t,e,r),T,[a[1],a[2]],s)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{var a=V("strides",t,e,r),s=FE(t,e,r),l=V("dilations",t,e,r),o=V("dataFormat",t,e,r).toUpperCase();return[n.depthwiseConv2d(V("input",t,e,r),V("filter",t,e,r),[a[1],a[2]],s,o,[l[1],l[2]])]}case"Conv3D":{var a=V("strides",t,e,r),s=V("pad",t,e,r),o=V("dataFormat",t,e,r).toUpperCase(),l=V("dilations",t,e,r);return[n.conv3d(V("x",t,e,r),V("filter",t,e,r),[a[1],a[2],a[3]],s,o,[l[1],l[2],l[3]])]}case"AvgPool":{var a=V("strides",t,e,r),s=V("pad",t,e,r),I=V("kernelSize",t,e,r);return[n.avgPool(V("x",t,e,r),[I[1],I[2]],[a[1],a[2]],s)]}case"MaxPool":{var a=V("strides",t,e,r),s=V("pad",t,e,r),I=V("kernelSize",t,e,r);return[n.maxPool(V("x",t,e,r),[I[1],I[2]],[a[1],a[2]],s)]}case"MaxPoolWithArgmax":{var a=V("strides",t,e,r),s=V("pad",t,e,r),I=V("kernelSize",t,e,r),N=V("includeBatchInIndex",t,e,r),D=n.maxPoolWithArgmax(V("x",t,e,r),[I[1],I[2]],[a[1],a[2]],s,N),C=D.result,L=D.indexes;return[C,L]}case"AvgPool3D":{var a=V("strides",t,e,r),s=V("pad",t,e,r),I=V("kernelSize",t,e,r);return[n.avgPool3d(V("x",t,e,r),[I[1],I[2],I[3]],[a[1],a[2],a[3]],s)]}case"MaxPool3D":{var a=V("strides",t,e,r),s=V("pad",t,e,r),I=V("kernelSize",t,e,r);return[n.maxPool3d(V("x",t,e,r),[I[1],I[2],I[3]],[a[1],a[2],a[3]],s)]}case"Dilation2D":{var z=V("strides",t,e,r),s=V("pad",t,e,r),l=V("dilations",t,e,r),$=z[1],G=z[2],j=l[1],Z=l[2];return[n.dilation2d(V("x",t,e,r),V("filter",t,e,r),[$,G],s,[j,Z],"NHWC")]}default:throw TypeError("Node type "+t.op+" is not implemented")}};var oGe=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"Fill":{var a=V("shape",t,e,r),s=V("dtype",t,e,r),o=V("value",t,e,r);return[n.fill(a,o,s)]}case"LinSpace":{var u=V("start",t,e,r),l=V("stop",t,e,r),h=V("num",t,e,r);return[n.linspace(u,l,h)]}case"Multinomial":{var p=V("logits",t,e,r),v=V("numSamples",t,e,r),y=V("seed",t,e,r);return[n.multinomial(p,v,y)]}case"OneHot":{var S=V("indices",t,e,r),A=V("depth",t,e,r),T=V("onValue",t,e,r),I=V("offValue",t,e,r);return[n.oneHot(S,A,T,I)]}case"Ones":return[n.ones(V("shape",t,e,r),V("dtype",t,e,r))];case"OnesLike":return[n.onesLike(V("x",t,e,r))];case"RandomStandardNormal":return[n.randomStandardNormal(V("shape",t,e,r),V("dtype",t,e,r),V("seed",t,e,r))];case"RandomUniform":return[n.randomUniform(V("shape",t,e,r),V("minval",t,e,r),V("maxval",t,e,r),V("dtype",t,e,r))];case"Range":{var u=V("start",t,e,r),l=V("stop",t,e,r),N=V("step",t,e,r);return[n.range(u,l,N,V("dtype",t,e,r))]}case"TruncatedNormal":{var a=V("shape",t,e,r),D=V("mean",t,e,r),C=V("stdDev",t,e,r),y=V("seed",t,e,r);return[n.truncatedNormal(a,D,C,V("dtype",t,e,r),y)]}case"Zeros":return[n.zeros(V("shape",t,e,r),V("dtype",t,e,r))];case"ZerosLike":return[n.zerosLike(V("x",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}},uGe=void 0;function JI(t,e,r){var n=V("boxes",t,e,r),a=V("scores",t,e,r),s=V("maxOutputSize",t,e,r),o=V("iouThreshold",t,e,r),u=V("scoreThreshold",t,e,r),l=V("softNmsSigma",t,e,r);return{boxes:n,scores:a,maxOutputSize:s,iouThreshold:o,scoreThreshold:u,softNmsSigma:l}}var fGe=function(t,e,r,n,a){return a===void 0&&(a=aa),cn(uGe,void 0,void 0,function(){var s,o,v,y,S,A,T,u,N,l,v,y,S,A,T,h,N,p,v,y,S,A,T,I,N;return nn(this,function(D){switch(D.label){case 0:switch(s=t.op,s){case"NonMaxSuppressionV5":return[3,1];case"NonMaxSuppressionV4":return[3,3];case"NonMaxSuppressionV3":return[3,5];case"NonMaxSuppressionV2":return[3,5];case"Where":return[3,7];case"ListDiff":return[3,9]}return[3,10];case 1:return o=JI(t,e,r),v=o.boxes,y=o.scores,S=o.maxOutputSize,A=o.iouThreshold,T=o.scoreThreshold,u=o.softNmsSigma,[4,a.image.nonMaxSuppressionWithScoreAsync(v,y,S,A,T,u)];case 2:return N=D.sent(),[2,[N.selectedIndices,N.selectedScores]];case 3:return l=JI(t,e,r),v=l.boxes,y=l.scores,S=l.maxOutputSize,A=l.iouThreshold,T=l.scoreThreshold,h=V("padToMaxOutputSize",t,e,r),[4,a.image.nonMaxSuppressionPaddedAsync(v,y,S,A,T,h)];case 4:return N=D.sent(),[2,[N.selectedIndices,N.validOutputs]];case 5:return p=JI(t,e,r),v=p.boxes,y=p.scores,S=p.maxOutputSize,A=p.iouThreshold,T=p.scoreThreshold,[4,a.image.nonMaxSuppressionAsync(v,y,S,A,T)];case 6:return[2,[D.sent()]];case 7:return I=a.cast(V("condition",t,e,r),"bool"),[4,a.whereAsync(I)];case 8:return N=[D.sent()],I.dispose(),[2,N];case 9:return[2,a.setdiff1dAsync(V("x",t,e,r),V("y",t,e,r))];case 10:throw TypeError("Node type "+t.op+" is not implemented")}})})};var lGe=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"LowerBound":{var a=V("sortedSequence",t,e,r),s=V("values",t,e,r);return[n.lowerBound(a,s)]}case"TopKV2":{var o=V("x",t,e,r),u=V("k",t,e,r),l=V("sorted",t,e,r),h=n.topk(o,u,l);return[h.values,h.indices]}case"UpperBound":{var a=V("sortedSequence",t,e,r),s=V("values",t,e,r);return[n.upperBound(a,s)]}case"Unique":{var o=V("x",t,e,r),h=n.unique(o);return[h.values,h.indices]}case"UniqueV2":{var o=V("x",t,e,r),p=V("axis",t,e,r),h=n.unique(o,p);return[h.values,h.indices]}default:throw TypeError("Node type "+t.op+" is not implemented")}};var cGe=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":var a=V("default",t,e,r);return[Sa(t.name,e,r)||a];case"Placeholder":return[Sa(t.name,e,r)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{var s=V("x",t,e,r);return[Uf(s)]}case"IdentityN":return V("x",t,e,r).map(function(y){return Uf(y)});case"Snapshot":var o=V("x",t,e,r);return[Uf(o)];case"Shape":return[n.tensor1d(V("x",t,e,r).shape,"int32")];case"ShapeN":return V("x",t,e,r).map(function(y){return n.tensor1d(y.shape)});case"Size":return[n.scalar(V("x",t,e,r).size,"int32")];case"Rank":return[n.scalar(V("x",t,e,r).rank,"int32")];case"NoOp":return[n.scalar(1)];case"Print":var u=V("x",t,e,r),l=V("data",t,e,r),h=V("message",t,e,r),p=V("summarize",t,e,r);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(h);for(var v=0;v<l.length;v++)console.log(Array.prototype.slice.call(l[v].dataSync()).slice(0,p));return[u];default:throw TypeError("Node type "+t.op+" is not implemented")}},hGe=function(){function t(e,r){this.keyDType=e,this.valueDType=r,this.handle=wt.scalar(0),this.tensorMap=new Map,wt.keep(this.handle)}return Object.defineProperty(t.prototype,"id",{get:function(){return this.handle.id},enumerable:!0,configurable:!0}),t.prototype.clearAndClose=function(){this.tensorMap.forEach(function(e){return e.dispose()}),this.tensorMap.clear(),this.handle.dispose()},t.prototype.size=function(){return this.tensorMap.size},t.prototype.tensorSize=function(){return zn(this.size(),"int32")},t.prototype.import=function(e,r){return cn(this,void 0,void 0,function(){var n,a=this;return nn(this,function(s){switch(s.label){case 0:return this.checkKeyAndValueTensor(e,r),[4,e.data()];case 1:return n=s.sent(),this.tensorMap.forEach(function(o){return o.dispose()}),this.tensorMap.clear(),[2,wt.tidy(function(){var o=wt.unstack(r),u=n.length,l=o.length;wt.util.assert(u===l,function(){return"The number of elements doesn't match, keys has "+(u+" elements, the values has "+l+" ")+"elements."});for(var h=0;h<u;h++){var p=n[h],v=o[h];wt.keep(v),a.tensorMap.set(p,v)}return a.handle})]}})})},t.prototype.find=function(e,r){return cn(this,void 0,void 0,function(){var n,a=this;return nn(this,function(s){switch(s.label){case 0:return this.checkKeyAndValueTensor(e,r),[4,e.data()];case 1:return n=s.sent(),[2,wt.tidy(function(){for(var o=[],u=0;u<n.length;u++){var l=n[u],h=a.findWithDefault(l,r);o.push(h)}return wt.stack(o)})]}})})},t.prototype.findWithDefault=function(e,r){var n=this.tensorMap.get(e);return n!=null?n:r},t.prototype.checkKeyAndValueTensor=function(e,r){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype "+this.keyDType+", but got "+(""+e.dtype));if(r.dtype!==this.valueDType)throw new Error("Expect value dtype "+this.valueDType+", but got "+(""+r.dtype))},t}(),dGe=void 0,pGe=function(t,e,r,n){return cn(dGe,void 0,void 0,function(){var a,s,o,v,p,l,u,v,p,l,h,v,p,v;return nn(this,function(y){switch(y.label){case 0:switch(a=t.op,a){case"HashTable":return[3,1];case"HashTableV2":return[3,1];case"LookupTableImport":return[3,2];case"LookupTableImportV2":return[3,2];case"LookupTableFind":return[3,4];case"LookupTableFindV2":return[3,4];case"LookupTableSize":return[3,6];case"LookupTableSizeV2":return[3,6]}return[3,7];case 1:return s=V("keyDType",t,e,r),o=V("valueDType",t,e,r),v=new hGe(s,o),n.addHashTable(t.name,v),[2,[v.handle]];case 2:return p=V("tableHandle",t,e,r,n),l=V("keys",t,e,r),u=V("values",t,e,r),v=n.getHashTableById(p.id),[4,v.import(l,u)];case 3:return[2,[y.sent()]];case 4:return p=V("tableHandle",t,e,r,n),l=V("keys",t,e,r),h=V("defaultValue",t,e,r),v=n.getHashTableById(p.id),[4,v.find(l,h)];case 5:return[2,[y.sent()]];case 6:return p=V("tableHandle",t,e,r,n),v=n.getHashTableById(p.id),[2,[v.tensorSize()]];case 7:throw TypeError("Node type "+t.op+" is not implemented")}})})};var mGe=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"ResizeBilinear":{var a=V("images",t,e,r),s=V("size",t,e,r),o=V("alignCorners",t,e,r),u=V("halfPixelCenters",t,e,r);return[n.image.resizeBilinear(a,[s[0],s[1]],o,u)]}case"ResizeNearestNeighbor":{var a=V("images",t,e,r),s=V("size",t,e,r),o=V("alignCorners",t,e,r),u=V("halfPixelCenters",t,e,r);return[n.image.resizeNearestNeighbor(a,[s[0],s[1]],o,u)]}case"CropAndResize":{var l=V("image",t,e,r),h=V("boxes",t,e,r),p=V("boxInd",t,e,r),v=V("cropSize",t,e,r),y=V("method",t,e,r),S=V("extrapolationValue",t,e,r);return[n.image.cropAndResize(l,h,p,v,y,S)]}case"ImageProjectiveTransformV3":{var a=V("images",t,e,r),A=V("transforms",t,e,r),T=V("outputShape",t,e,r),I=V("fillValue",t,e,r),N=V("interpolation",t,e,r),D=V("fillMode",t,e,r);return[n.image.transform(a,A,N.toLowerCase(),D.toLowerCase(),I,T)]}default:throw TypeError("Node type "+t.op+" is not implemented")}};var vGe=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"Equal":return[n.equal(V("a",t,e,r),V("b",t,e,r))];case"NotEqual":return[n.notEqual(V("a",t,e,r),V("b",t,e,r))];case"Greater":return[n.greater(V("a",t,e,r),V("b",t,e,r))];case"GreaterEqual":return[n.greaterEqual(V("a",t,e,r),V("b",t,e,r))];case"Less":return[n.less(V("a",t,e,r),V("b",t,e,r))];case"LessEqual":return[n.lessEqual(V("a",t,e,r),V("b",t,e,r))];case"LogicalAnd":return[n.logicalAnd(V("a",t,e,r),V("b",t,e,r))];case"LogicalNot":return[n.logicalNot(V("a",t,e,r))];case"LogicalOr":return[n.logicalOr(V("a",t,e,r),V("b",t,e,r))];case"Select":case"SelectV2":return[n.where(V("condition",t,e,r),V("a",t,e,r),V("b",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}},gGe=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[n.matMul(V("a",t,e,r),V("b",t,e,r),V("transposeA",t,e,r),V("transposeB",t,e,r))];case"Einsum":return[n.einsum.apply(n,Vi([V("equation",t,e,r)],V("tensors",t,e,r)))];case"Transpose":return[n.transpose(V("x",t,e,r),V("perm",t,e,r))];case"_FusedMatMul":var a=bt(V("fusedOps",t,e,r),2),s=a[0],o=a[1],u=s==="biasadd",l=o==="prelu",h=V("numArgs",t,e,r),p=V("leakyreluAlpha",t,e,r);if(u){if(l&&h!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&h!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var v=bt(V("args",t,e,r),2),y=v[0],S=v[1];return[n.fused.matMul({a:V("a",t,e,r),b:V("b",t,e,r),transposeA:V("transposeA",t,e,r),transposeB:V("transposeB",t,e,r),bias:y,activation:o,preluActivationWeights:S,leakyreluAlpha:p})];default:throw TypeError("Node type "+t.op+" is not implemented")}};var yGe=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"EuclideanNorm":return[n.euclideanNorm(V("x",t,e,r),V("axis",t,e,r),V("keepDims",t,e,r))];case"FusedBatchNorm":case"FusedBatchNormV2":return[n.batchNorm(V("x",t,e,r),V("mean",t,e,r),V("variance",t,e,r),V("offset",t,e,r),V("scale",t,e,r),V("epsilon",t,e,r))];case"FusedBatchNormV3":return[n.batchNorm(V("x",t,e,r),V("mean",t,e,r),V("variance",t,e,r),V("offset",t,e,r),V("scale",t,e,r),V("epsilon",t,e,r))];case"LRN":return[n.localResponseNormalization(V("x",t,e,r),V("radius",t,e,r),V("bias",t,e,r),V("alpha",t,e,r),V("beta",t,e,r))];case"Softmax":return[n.softmax(V("x",t,e,r))];case"LogSoftmax":return[n.logSoftmax(V("x",t,e,r))];case"SparseToDense":return[n.sparseToDense(V("sparseIndices",t,e,r),V("outputShape",t,e,r),V("sparseValues",t,e,r),V("defaultValue",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}};var bGe=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"Max":{var a=V("axis",t,e,r),s=V("keepDims",t,e,r);return[n.max(V("x",t,e,r),a,s)]}case"Mean":{var a=V("axis",t,e,r),s=V("keepDims",t,e,r);return[n.mean(V("x",t,e,r),a,s)]}case"Min":{var a=V("axis",t,e,r),s=V("keepDims",t,e,r);return[n.min(V("x",t,e,r),a,s)]}case"Sum":{var a=V("axis",t,e,r),s=V("keepDims",t,e,r);return[n.sum(V("x",t,e,r),a,s)]}case"All":{var a=V("axis",t,e,r),s=V("keepDims",t,e,r);return[n.all(V("x",t,e,r),a,s)]}case"Any":{var a=V("axis",t,e,r),s=V("keepDims",t,e,r);return[n.any(V("x",t,e,r),a,s)]}case"ArgMax":{var a=V("axis",t,e,r);return[n.argMax(V("x",t,e,r),a)]}case"ArgMin":{var a=V("axis",t,e,r);return[n.argMin(V("x",t,e,r),a)]}case"Prod":{var a=V("axis",t,e,r),s=V("keepDims",t,e,r);return[n.prod(V("x",t,e,r),a,s)]}case"Cumprod":{var a=V("axis",t,e,r),o=V("exclusive",t,e,r),u=V("reverse",t,e,r);return[n.cumprod(V("x",t,e,r),a,o,u)]}case"Cumsum":{var a=V("axis",t,e,r),o=V("exclusive",t,e,r),u=V("reverse",t,e,r);return[n.cumsum(V("x",t,e,r),a,o,u)]}case"Bincount":var l=V("x",t,e,r),h=V("weights",t,e,r),p=V("size",t,e,r);return[n.bincount(l,h,p)];case"DenseBincount":{var v=V("x",t,e,r),y=V("weights",t,e,r),S=V("size",t,e,r),A=V("binaryOutput",t,e,r);return[n.denseBincount(v,y,S,A)]}default:throw TypeError("Node type "+t.op+" is not implemented")}};var wGe=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"ConcatV2":case"Concat":{var a=V("n",t,e,r),s=V("axis",t,e,r),o=V("tensors",t,e,r);return o=o.slice(0,a),[n.concat(o,s)]}case"Gather":{var u=V("x",t,e,r),l=V("indices",t,e,r);return[n.gather(u,n.cast(l,"int32"),0)]}case"GatherV2":{var s=V("axis",t,e,r),h=V("batchDims",t,e,r),u=V("x",t,e,r),l=V("indices",t,e,r);return[n.gather(u,n.cast(l,"int32"),s,h)]}case"Reverse":{for(var p=V("dims",t,e,r),s=[],v=0;v<p.length;v++)p[v]&&s.push(v);var u=V("x",t,e,r);return[n.reverse(u,s)]}case"ReverseV2":{var s=V("axis",t,e,r),u=V("x",t,e,r);return[n.reverse(u,s)]}case"Slice":{var y=V("begin",t,e,r),S=V("size",t,e,r);return[n.slice(V("x",t,e,r),y,S)]}case"StridedSlice":{var y=V("begin",t,e,r),A=V("end",t,e,r),T=V("strides",t,e,r),I=V("beginMask",t,e,r),N=V("endMask",t,e,r),D=V("ellipsisMask",t,e,r),C=V("newAxisMask",t,e,r),L=V("shrinkAxisMask",t,e,r),z=V("x",t,e,r);return[n.stridedSlice(z,y,A,T,I,N,D,C,L)]}case"Pack":return wt.tidy(function(){var g=V("axis",t,e,r),m=V("tensors",t,e,r),b=m[0].shape,E=n.squeeze(m[0]).shape,k=m.map(function(w){var c=wt.util.arraysEqual(w.shape,b);if(!c&&!wt.util.arraysEqual(n.squeeze(w).shape,E))throw new Error("the input tensors shape does not match");return c?w:n.reshape(w,b)});return[n.stack(k,g)]});case"Unpack":{var s=V("axis",t,e,r),z=V("tensor",t,e,r);return n.unstack(z,s)}case"Tile":{var $=V("reps",t,e,r);return[n.tile(V("x",t,e,r),$)]}case"Split":case"SplitV":{var s=V("axis",t,e,r),G=V("numOrSizeSplits",t,e,r),z=V("x",t,e,r);return n.split(z,G,s)}case"ScatterNd":{var l=V("indices",t,e,r),j=V("values",t,e,r),Z=V("shape",t,e,r);return[n.scatterND(l,j,Z)]}case"GatherNd":{var M=V("x",t,e,r),l=V("indices",t,e,r);return[n.gatherND(M,l)]}case"SparseToDense":{var l=V("sparseIndices",t,e,r),Z=V("outputShape",t,e,r),f=V("sparseValues",t,e,r),d=V("defaultValue",t,e,r);return[n.sparseToDense(l,f,Z,f.dtype===d.dtype?d:n.cast(d,f.dtype))]}default:throw TypeError("Node type "+t.op+" is not implemented")}};var _Ge=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"SparseFillEmptyRows":{var a=n.sparse.sparseFillEmptyRows(V("indices",t,e,r),V("values",t,e,r),V("denseShape",t,e,r),V("defaultValue",t,e,r)),s=a.outputIndices,o=a.outputValues,u=a.emptyRowIndicator,l=a.reverseIndexMap;return[s,o,u,l]}case"SparseReshape":{var h=n.sparse.sparseReshape(V("inputIndices",t,e,r),V("inputShape",t,e,r),V("newShape",t,e,r)),s=h.outputIndices,p=h.outputShape;return[s,p]}case"SparseSegmentMean":{var v=n.sparse.sparseSegmentMean(V("data",t,e,r),V("indices",t,e,r),V("segmentIds",t,e,r));return[v]}case"SparseSegmentSum":{var v=n.sparse.sparseSegmentSum(V("data",t,e,r),V("indices",t,e,r),V("segmentIds",t,e,r));return[v]}default:throw TypeError("Node type "+t.op+" is not implemented")}};var xGe=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"FFT":return[n.fft(V("x",t,e,r))];case"IFFT":return[n.ifft(V("x",t,e,r))];case"RFFT":return[n.rfft(V("x",t,e,r))];case"IRFFT":return[n.irfft(V("x",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}};var SGe=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"StringNGrams":{var a=n.string.stringNGrams(V("data",t,e,r),V("dataSplits",t,e,r),V("separator",t,e,r),V("nGramWidths",t,e,r),V("leftPad",t,e,r),V("rightPad",t,e,r),V("padWidth",t,e,r),V("preserveShortSequences",t,e,r)),s=a.nGrams,o=a.nGramsSplits;return[s,o]}case"StringSplit":{var u=n.string.stringSplit(V("input",t,e,r),V("delimiter",t,e,r),V("skipEmpty",t,e,r)),l=u.indices,h=u.values,p=u.shape;return[l,h,p]}case"StringToHashBucketFast":{var v=n.string.stringToHashBucketFast(V("input",t,e,r),V("numBuckets",t,e,r));return[v]}default:throw TypeError("Node type "+t.op+" is not implemented")}};var EGe=function(t,e,r,n){switch(n===void 0&&(n=aa),t.op){case"Cast":return[n.cast(V("x",t,e,r),V("dtype",t,e,r))];case"ExpandDims":{var a=V("axis",t,e,r);return[n.expandDims(V("x",t,e,r),a)]}case"Squeeze":{var a=V("axis",t,e,r);return[n.squeeze(V("x",t,e,r),a)]}case"Reshape":return[n.reshape(V("x",t,e,r),V("shape",t,e,r))];case"MirrorPad":return[n.mirrorPad(V("x",t,e,r),V("padding",t,e,r),V("mode",t,e,r))];case"PadV2":case"Pad":return[n.pad(V("x",t,e,r),V("padding",t,e,r),V("constantValue",t,e,r))];case"SpaceToBatchND":{var s=V("blockShape",t,e,r),o=V("paddings",t,e,r);return[n.spaceToBatchND(V("x",t,e,r),s,o)]}case"BatchToSpaceND":{var s=V("blockShape",t,e,r),u=V("crops",t,e,r);return[n.batchToSpaceND(V("x",t,e,r),s,u)]}case"DepthToSpace":{var l=V("blockSize",t,e,r),h=V("dataFormat",t,e,r).toUpperCase();return[n.depthToSpace(V("x",t,e,r),l,h)]}case"BroadcastTo":return[n.broadcastTo(V("x",t,e,r),V("shape",t,e,r))];case"BroadcastArgs":return[n.broadcastArgs(V("s0",t,e,r),V("s1",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}};function ete(t,e,r,n,a){a===void 0&&(a=Aee.tidy);var s=function(o,u,l){switch(o.category){case"arithmetic":return a(function(){return YWe(o,u,l)});case"basic_math":return a(function(){return XWe(o,u,l)});case"control":return aGe(o,u,l);case"convolution":return a(function(){return sGe(o,u,l)});case"creation":return a(function(){return oGe(o,u,l)});case"dynamic":return fGe(o,u,l);case"evaluation":return a(function(){return lGe(o,u,l)});case"image":return a(function(){return mGe(o,u,l)});case"graph":return a(function(){return cGe(o,u,l)});case"logical":return a(function(){return vGe(o,u,l)});case"matrices":return a(function(){return gGe(o,u,l)});case"normalization":return a(function(){return yGe(o,u,l)});case"reduction":return a(function(){return bGe(o,u,l)});case"slice_join":return a(function(){return wGe(o,u,l)});case"sparse":return a(function(){return _Ge(o,u,l)});case"spectral":return a(function(){return xGe(o,u,l)});case"string":return a(function(){return SGe(o,u,l)});case"transformation":return a(function(){return EGe(o,u,l)});case"hash_table":return pGe(o,u,l,n);case"custom":var h=ite(o.op);if(h&&h.customExecutor)return h.customExecutor(new B7e(o,u,l));throw TypeError("Custom op "+o.op+" is not registered.");default:throw TypeError("Unknown op '"+o.op+"'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(t,e,r);return Aee.util.isPromise(s)?s.then(function(o){return[].concat(o)}):[].concat(s)}var tte=function(){function t(e,r,n,a){e===void 0&&(e={}),r===void 0&&(r={}),n===void 0&&(n={}),a===void 0&&(a={}),this.weightMap=e,this.tensorArrayMap=r,this.tensorListMap=n,this.functionMap=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return t.prototype.newFrame=function(e,r){return{id:e,frameName:r,iterationId:0}},Object.defineProperty(t.prototype,"currentContext",{get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentContextId",{get:function(){return this._currentContextIds[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentContextIds",{get:function(){return this._currentContextIds},enumerable:!0,configurable:!0}),t.prototype.generateCurrentContextIds=function(){for(var e=[],r=0;r<this.contexts.length-1;r++){var n=this.contexts.slice(0,this.contexts.length-r);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e},t.prototype.contextIdforContexts=function(e){return e?e.map(function(r){return r.id===0&&r.iterationId===0?"":r.frameName+"-"+r.iterationId}).join("/"):""},t.prototype.enterFrame=function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))},t.prototype.exitFrame=function(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")},t.prototype.nextIteration=function(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")},t.prototype.getWeight=function(e){return this.weightMap[e]},t.prototype.addTensorArray=function(e){this.tensorArrayMap[e.id]=e},t.prototype.getTensorArray=function(e){return this.tensorArrayMap[e]},t.prototype.addTensorList=function(e){this.tensorListMap[e.id]=e},t.prototype.getTensorList=function(e){return this.tensorListMap[e]},t.prototype.dispose=function(e){for(var r in this.tensorArrayMap)this.tensorArrayMap[r].clearAndClose(e);for(var r in this.tensorListMap)this.tensorListMap[r].clearAndClose(e)},t}();function rte(t,e,r,n){var a=new Set,s=[],o=null,u=null,l=new Set,h=Object.keys(t).map(function(S){return Xa(S)[0]}),p=[];n!=null&&(p=n.map(function(S){return Xa(S.name)[0]}));for(var v=Vi(e);v.length>0;){var y=v.pop();if((ure(y)||NGe(y)||IGe(y))&&o==null&&(o=y,u=o.children.map(function(S){return S.name}).filter(function(S){return a.has(S)})),a.add(y.name),r[y.name]==null&&h.indexOf(y.name)===-1&&p.indexOf(y.name)===-1){if(y.inputs.length===0){s.push(y.name);continue}y.inputs.forEach(function(S){l.has(S.name)||(l.add(S.name),v.push(S))})}}return{inputs:t,outputs:e,usedNodes:a,missingInputs:s,dynamicNode:o,syncInputs:u}}function MGe(t,e,r){var n=r.usedNodes,a=r.inputs,s=[],o=Object.keys(a).map(function(v){return Xa(v)[0]}).map(function(v){return t.nodes[v]}),u=t.initNodes;o.forEach(function(v){n.has(v.name)&&s.push(v)}),t.weights.forEach(function(v){n.has(v.name)&&s.push(v)}),u!=null&&u.forEach(function(v){n.has(v.name)&&s.push(v)});for(var l=new Set,h=[];s.length>0;){var p=s.pop();l.add(p.name),e[p.name]||h.push(p),p.children.forEach(function(v){!l.has(v.name)&&n.has(v.name)&&v.inputs.every(function(y){return l.has(y.name)})&&s.push(v)})}return h}var AGe=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],kGe=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],TGe=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function ure(t){return AGe.indexOf(t.op)>=0}function NGe(t){return kGe.indexOf(t.op)>=0}function IGe(t){return TGe.indexOf(t.op)>=0}var nte=function(){function t(e,r){var n=this;this.graph=e,this.parent=r,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(function(a){n._functionExecutorMap[a]=new t(e.functions[a],n)})}return Object.defineProperty(t.prototype,"weightIds",{get:function(){return this.parent?this.parent.weightIds:this._weightIds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"functionExecutorMap",{get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weightMap",{get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var r=Object.keys(e).map(function(n){return e[n].map(function(a){return a.id})});this._weightIds=[].concat.apply([],Vi(r)),this._weightMap=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resourceManager",{set:function(e){this._resourceManager=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return this._inputs.map(function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return this._outputs.map(function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNodes",{get:function(){return this._inputs.map(function(e){return e.signatureKey||e.name})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputNodes",{get:function(){return this._outputs.map(function(e){var r=e.signatureKey||e.name;return e.defaultOutput?r+":"+e.defaultOutput:r})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"functions",{get:function(){var e=this;return Object.keys(this._functions).reduce(function(r,n){return r[n]=e._functions[n].signature,r},{})},enumerable:!0,configurable:!0}),t.prototype.getCompilationKey=function(e,r){var n=e.map(function(s){return s.name}).sort(),a=r.map(function(s){return s.name}).sort();return n.join(this.SEPERATOR)+"--"+a.join(this.SEPERATOR)},t.prototype.compile=function(e,r){var n=rte(e,r,this.weightMap,this._initNodes),a=n.missingInputs,s=n.dynamicNode,o=n.syncInputs;if(s!=null)throw new Error("This execution contains the node '"+s.name+"', which has "+("the dynamic op '"+s.op+"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+("dynamic ops, specify the inputs ["+o+"]"));if(a.length>0){var u=r.map(function(h){return h.name}),l=Object.keys(e);throw new Error("Cannot compute the outputs ["+u+"] from the provided inputs "+("["+l+"]. Missing the following inputs: ["+a+"]"))}return MGe(this.graph,this.weightMap,n)},t.prototype.execute=function(e,r){var n=this;e=this.mapInputs(e);var a=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),r=this.mapOutputs(r),this.checkOutputs(r);var s=a.map(function(y){return n.graph.nodes[Xa(y)[0]]}),o=r.map(function(y){return Xa(y)[0]}),u=o.map(function(y){return n.graph.nodes[y]});this.resetIntermediateTensors(),u.length===0&&(u=this._outputs);var l=this.getCompilationKey(s,u),h=this.compiledMap.get(l);h==null&&(h=this.compile(e,u),this.compiledMap.set(l,h));var p={},v={};return wt.tidy(function(){var y=new tte(n.weightMap,p,v,n.functionExecutorMap),S=Object.assign({},n.weightMap);Object.keys(e).forEach(function(C){var L=bt(Xa(C),2),z=L[0],$=L[1],G=[];G[$]=e[C],S[z]=G});for(var A=n.getFrozenTensorIds(S),T={},I=0;I<h.length;I++){var N=h[I];if(!S[N.name]){var D=ete(N,S,y,n._resourceManager);if(wt.util.isPromise(D))throw new Error("The execution of the op '"+N.op+"' returned a promise. Please use model.executeAsync() instead.");S[N.name]=D,n.checkTensorForDisposal(N.name,N,S,y,A,o,T)}}return n.parent==null&&y.dispose(A),r.map(function(C){return Sa(C,S,y)})})},t.prototype.getFrozenTensorIds=function(e){var r=[].concat.apply([],Object.keys(e).map(function(n){return e[n]}).map(function(n){return n.map(function(a){return a.id})}));return new Set(r)},t.prototype.checkTensorForDisposal=function(e,r,n,a,s,o,u){var l=this;r.category==="control"||o.indexOf(e)!==-1||(n[e].forEach(function(h){h!=null&&(u[h.id]=(u[h.id]||0)+r.children.length)}),r.inputs.forEach(function(h){if(h.category!=="control"){var p=JFe(h.name,n,a);p!=null&&p.forEach(function(v){if(v&&!v.kept&&!s.has(v.id)){var y=u[v.id];if(y===1){if(!l.keepTensorForDebug)v.dispose();else{var S=bt(ju(r.name,a),2),A=S[0],T=S[1];l.intermediateTensors[A]||(l.intermediateTensors[A]=[]),l.intermediateTensors[A][T]=v}delete u[v.id]}else y!=null&&u[v.id]--}})}}))},t.prototype.executeAsync=function(e,r){return cn(this,void 0,void 0,function(){return nn(this,function(n){return[2,this._executeAsync(e,r)]})})},t.prototype.disposeIntermediateTensors=function(){var e=this;!this.intermediateTensors||(Object.keys(this.intermediateTensors).forEach(function(r){return e.intermediateTensors[r].forEach(function(n){return n.dispose()})}),this.disposeTensorsMap())},t.prototype.disposeTensorsMap=function(){var e=this;!this.tensorsMap||Object.keys(this.tensorsMap).forEach(function(r){var n=e.tensorsMap[r];n.forEach(function(a){a&&!a.kept&&!a.isDisposed&&!e.keepIds.has(a.id)&&a.dispose()})})},t.prototype.getIntermediateTensors=function(){return this.tensorsMap},t.prototype.resetIntermediateTensors=function(){for(var e in this.intermediateTensors)this.intermediateTensors[e].forEach(function(r){return r.dispose()}),delete this.intermediateTensors[e]},t.prototype._executeAsync=function(e,r,n,a,s){return n===void 0&&(n=!1),a===void 0&&(a={}),s===void 0&&(s={}),cn(this,void 0,void 0,function(){var o,u,l,h,p,v=this;return nn(this,function(y){switch(y.label){case 0:n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),r=this.mapOutputs(r),this.checkOutputs(r));try{this.keepTensorForDebug=wt.env().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(S){console.warn(S.message)}return this.resetIntermediateTensors(),o=new tte(this.weightMap,a,s,this.functionExecutorMap),u=this,[4,this.executeWithControlFlow(e,o,r,n)];case 1:return u.tensorsMap=y.sent(),l=r.map(function(S){return Sa(S,v.tensorsMap,o)}),h=l.map(function(S){return S.id}),p=Object.keys(e).map(function(S){return e[S].id}),this.keepIds=new Set(Vi(h,p,this.weightIds)),this.keepTensorForDebug||this.disposeTensorsMap(),this.parent==null&&o.dispose(this.keepIds),[2,l]}})})},t.prototype.executeFunctionAsync=function(e,r,n){return cn(this,void 0,void 0,function(){var a,s=this;return nn(this,function(o){return a=e.reduce(function(u,l,h){return u[s.inputs[h].name]=l,u},{}),[2,this._executeAsync(a,this.outputNodes,!0,r,n)]})})},t.prototype.executeWithControlFlow=function(e,r,n,a){return cn(this,void 0,void 0,function(){var s,o,u,l,h,p,v,y,S,A,T,I,N,D,C,L,z,$=this;return nn(this,function(G){switch(G.label){case 0:s=Object.keys(e),o=s.map(function(j){return $.graph.nodes[Xa(j)[0]]}),u=n.map(function(j){return Xa(j)[0]}),l=u.map(function(j){return $.graph.nodes[j]}),l.length===0&&(l=this._outputs),h=rte(e,l,this.weightMap,this._initNodes),p=h.usedNodes,v=h.missingInputs,y=h.dynamicNode,S=h.syncInputs,A=Vi(o,this.graph.weights,this._initNodes||[]).map(function(j){return{node:j,contexts:r.currentContext}}),T=Object.assign({},this.weightMap),Object.keys(e).forEach(function(j){var Z=bt(Xa(j),2),M=Z[0],f=Z[1],d=[];d[f]=e[j],T[M]=d}),I={},N=this.getFrozenTensorIds(T),D={},G.label=1;case 1:return A.length>0?(C=this.processStack(o,A,r,T,D,N,u,I,p),[4,Promise.all(C)]):[3,3];case 2:return G.sent(),[3,1];case 3:if(y==null&&!a&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),L=l.filter(function(j){return!ure(j)&&!Sa(j.name,T,r)}).map(function(j){return j.name}),L.length>0)throw z="",y!=null&&(z="Alternatively, to avoid the dynamic ops, use model.execute() "+("and specify the inputs ["+S+"]")),new Error("Cannot compute the outputs ["+L+"] from the provided "+("inputs ["+s+"]. Consider providing the following inputs: ")+("["+v+"]. "+z));return[2,T]}})})},t.prototype.processStack=function(e,r,n,a,s,o,u,l,h){for(var p=this,v=[],y=function(){var A,T,I=r.pop();n.currentContext=I.contexts;var N="";if(I.node.op==="Enter"&&V("isConstant",I.node,a,n)&&(A=bt(ju(I.node.name,n),1),N=A[0]),a[I.node.name]==null){var D=ete(I.node,a,n,S._resourceManager);N||(T=bt(ju(I.node.name,n),1),N=T[0]);var C=n.currentContext;wt.util.isPromise(D)?v.push(D.then(function(L){return a[N]=L,n.currentContext=C,p.checkTensorForDisposal(N,I.node,a,n,o,u,l),p.processChildNodes(I.node,r,n,a,s,h),L})):(a[N]=D,S.checkTensorForDisposal(N,I.node,a,n,o,u,l),S.processChildNodes(I.node,r,n,a,s,h))}else S.processChildNodes(I.node,r,n,a,s,h)},S=this;r.length>0;)y();return v},t.prototype.processChildNodes=function(e,r,n,a,s,o){e.children.forEach(function(u){var l=bt(ju(u.name,n),1),h=l[0];s[h]||!o.has(u.name)||(u.op==="Merge"?u.inputNames.some(function(p){return!!Sa(p,a,n)})&&(s[h]=!0,r.push({contexts:n.currentContext,node:u})):u.inputNames.every(function(p){return!!Sa(p,a,n)})&&(s[h]=!0,r.push({contexts:n.currentContext,node:u})))})},t.prototype.dispose=function(){var e=this;Object.keys(this.weightMap).forEach(function(r){return e.weightMap[r].forEach(function(n){return n.dispose()})})},t.prototype.checkInputShapeAndType=function(e){var r=this;Object.keys(e).forEach(function(n){var a=e[n],s=bt(Xa(n),1),o=s[0],u=r.graph.nodes[o];if(u.attrParams.shape&&u.attrParams.shape.value){var l=u.attrParams.shape.value,h=l.length===a.shape.length&&a.shape.every(function(p,v){return l[v]===-1||l[v]===p});wt.util.assert(h,function(){return"The shape of dict['"+u.name+"'] provided in "+("model.execute(dict) must be ["+l+"], but was ")+("["+a.shape+"]")})}u.attrParams.dtype&&u.attrParams.dtype.value&&wt.util.assert(a.dtype===u.attrParams.dtype.value,function(){return"The dtype of dict['"+u.name+"'] provided in model.execute(dict) must be "+(u.attrParams.dtype.value+", but was "+a.dtype)})})},t.prototype.mapInputs=function(e){var r={};for(var n in e)if(this._signature!=null&&this._signature.inputs!=null&&this._signature.inputs[n]!=null){var a=this._signature.inputs[n];r[a.name]=e[n]}else r[n]=e[n];return r},t.prototype.checkInputs=function(e){var r=this,n=Object.keys(e).filter(function(a){var s=bt(Xa(a),1),o=s[0];return r.graph.nodes[o]==null});if(n.length>0)throw new Error("The dict provided in model.execute(dict) has "+("keys: ["+n+"] that are not part of graph"))},t.prototype.mapOutputs=function(e){var r=this;return e.map(function(n){if(r._signature!=null&&r._signature.outputs!=null&&r._signature.outputs[n]!=null){var a=r._signature.outputs[n];return a.name}return n},{})},t.prototype.checkOutputs=function(e){var r=this;e.forEach(function(n){var a=bt(Xa(n),1),s=a[0];if(!r.graph.nodes[s])throw new Error("The output '"+n+"' is not found in the graph")})},t}(),DGe=function(){function t(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.hashTableNameToHandle=e,this.hashTableMap=r}return t.prototype.addHashTable=function(e,r){this.hashTableNameToHandle[e]=r.handle,this.hashTableMap[r.id]=r},t.prototype.getHashTableHandleByName=function(e){return this.hashTableNameToHandle[e]},t.prototype.getHashTableById=function(e){return this.hashTableMap[e]},t.prototype.dispose=function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var r in this.hashTableNameToHandle)this.hashTableNameToHandle[r].dispose(),delete this.hashTableNameToHandle[r]},t}(),OGe="?tfjs-format=file",RGe="model.json",XD=function(){function t(e,r,n){r===void 0&&(r={}),n===void 0&&(n=wt.io),this.modelUrl=e,this.loadOptions=r,this.version="n/a",this.io=n,r==null&&(this.loadOptions={}),this.resourceManager=new DGe}return Object.defineProperty(t.prototype,"modelVersion",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNodes",{get:function(){return this.executor.inputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputNodes",{get:function(){return this.executor.outputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return this.executor.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return this.executor.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.executor.weightMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.artifacts.userDefinedMetadata},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modelSignature",{get:function(){return this.signature},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modelStructuredOutputKeys",{get:function(){return this.structuredOutputKeys},enumerable:!0,configurable:!0}),t.prototype.findIOHandler=function(){var e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{var r=this.io.getLoadHandlers(e,this.loadOptions);if(r.length===0)r.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(r.length>1)throw new Error("Found more than one ("+r.length+") load handlers for "+("URL '"+[e]+"'"));this.handler=r[0]}},t.prototype.load=function(){var e=this;if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");var r=this.handler.load();return wt.util.isPromise(r)?r.then(function(n){return e.loadSync(n)}):this.loadSync(r)},t.prototype.loadSync=function(e){this.artifacts=e;var r=this.artifacts.modelTopology,n=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){var a=this.artifacts.userDefinedMetadata;a.signature!=null&&(n=a.signature),a.structuredOutputKeys!=null&&(this.structuredOutputKeys=a.structuredOutputKeys)}this.signature=n,this.version=r.versions.producer+"."+r.versions.minConsumer;var s=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new nte(Tee.Instance.transformGraph(r,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(s),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){var o=Tee.Instance.transformGraph(e.modelInitializer);this.initializer=new nte(o),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0},t.prototype.save=function(e,r){return cn(this,void 0,void 0,function(){var n;return nn(this,function(a){if(typeof e=="string"){if(n=this.io.getSaveHandlers(e),n.length===0)throw new Error("Cannot find any save handlers for URL '"+e+"'");if(n.length>1)throw new Error("Found more than one ("+n.length+") save handlers for "+("URL '"+e+"'"));e=n[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[2,e.save(this.artifacts)]})})},t.prototype.predict=function(e,r){var n=this,a=this.execute(e,this.outputNodes);if(this.structuredOutputKeys){var s=a instanceof wt.Tensor?[a]:a,o={};return s.forEach(function(u,l){return o[n.structuredOutputKeys[l]]=u}),o}return a},t.prototype.normalizeInputs=function(e){if(!(e instanceof wt.Tensor)&&!Array.isArray(e))return e;if(e=Array.isArray(e)?e:[e],e.length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+("the graph model has "+this.inputNodes.length+" placeholders, ")+("while there are "+e.length+" input tensors."));return this.inputNodes.reduce(function(r,n,a){return r[n]=e[a],r},{})},t.prototype.normalizeOutputs=function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]},t.prototype.execute=function(e,r){e=this.normalizeInputs(e),r=this.normalizeOutputs(r);var n=this.executor.execute(e,r);return n.length>1?n:n[0]},t.prototype.executeAsync=function(e,r){return cn(this,void 0,void 0,function(){var n;return nn(this,function(a){switch(a.label){case 0:return e=this.normalizeInputs(e),r=this.normalizeOutputs(r),[4,this.executor.executeAsync(e,r)];case 1:return n=a.sent(),[2,n.length>1?n:n[0]]}})})},t.prototype.getIntermediateTensors=function(){return this.executor.getIntermediateTensors()},t.prototype.disposeIntermediateTensors=function(){this.executor.disposeIntermediateTensors()},t.prototype.convertTensorMapToTensorsMap=function(e){return Object.keys(e).reduce(function(r,n){return r[n]=[e[n]],r},{})},t.prototype.dispose=function(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()},t}();function CGe(t,e,r){return e===void 0&&(e={}),r===void 0&&(r=wt.io),cn(this,void 0,void 0,function(){var n;return nn(this,function(a){switch(a.label){case 0:if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");return e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=BGe(t)),n=new XD(t,e,r),[4,n.load()];case 1:return a.sent(),[2,n]}})})}function FGe(t){if(t==null)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide a url or an IOHandler that loads the model");if(!t.load)throw new Error("modelUrl IO Handler "+t+" has no load function");var e=new XD(t);return e.load(),e}function BGe(t){return t.endsWith("/")||(t=t+"/"),""+t+RGe+OGe}var LGe="3.19.0";ac.GraphModel=XD;ac.deregisterOp=ZFe;ac.loadGraphModel=CGe;ac.loadGraphModelSync=FGe;ac.registerOp=KFe;ac.version_converter=LGe});var cre=ne((o3,lre)=>{(function(t,e){typeof o3=="object"&&typeof lre!="undefined"?e(o3,kt(),fre()):typeof define=="function"&&define.amd?define(["exports","@tensorflow/tfjs-core","@tensorflow/tfjs-converter"],e):e(t.use={},t.tf,t.tf)})(o3,function(t,e,r){"use strict";function n(E,k,w,c){function _(R){return R instanceof w?R:new w(function(O){O(R)})}return new(w||(w=Promise))(function(R,O){function F(J){try{H(c.next(J))}catch(fe){O(fe)}}function U(J){try{H(c.throw(J))}catch(fe){O(fe)}}function H(J){J.done?R(J.value):_(J.value).then(F,U)}H((c=c.apply(E,k||[])).next())})}function a(E,k){var w={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},c,_,R,O;return O={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function F(H){return function(J){return U([H,J])}}function U(H){if(c)throw new TypeError("Generator is already executing.");for(;w;)try{if(c=1,_&&(R=H[0]&2?_.return:H[0]?_.throw||((R=_.return)&&R.call(_),0):_.next)&&!(R=R.call(_,H[1])).done)return R;switch(_=0,R&&(H=[H[0]&2,R.value]),H[0]){case 0:case 1:R=H;break;case 4:return w.label++,{value:H[1],done:!1};case 5:w.label++,_=H[1],H=[0];continue;case 7:H=w.ops.pop(),w.trys.pop();continue;default:if(R=w.trys,!(R=R.length>0&&R[R.length-1])&&(H[0]===6||H[0]===2)){w=0;continue}if(H[0]===3&&(!R||H[1]>R[0]&&H[1]<R[3])){w.label=H[1];break}if(H[0]===6&&w.label<R[1]){w.label=R[1],R=H;break}if(R&&w.label<R[2]){w.label=R[2],w.ops.push(H);break}R[2]&&w.ops.pop(),w.trys.pop();continue}H=k.call(E,w)}catch(J){H=[6,J],_=0}finally{c=R=0}if(H[0]&5)throw H[1];return{value:H[0]?H[1]:void 0,done:!0}}}var s=function(E){for(var k=[],w=0,c=E;w<c.length;w++){var _=c[w];k.push(_)}return k};var o=function(){function E(){this.parent=null,this.children={},this.end=!1,this.word=[[],0,0]}return E}(),u=function(){function E(){this.root=new o}return E.prototype.insert=function(k,w,c){for(var _=this.root,R=s(k),O=0;O<R.length;O++)_.children[R[O]]||(_.children[R[O]]=new o,_.children[R[O]].parent=_,_.children[R[O]].word[0]=_.word[0].concat(R[O])),_=_.children[R[O]],O===R.length-1&&(_.end=!0,_.word[1]=w,_.word[2]=c)},E.prototype.commonPrefixSearch=function(k){for(var w=[],c=this.root.children[k[0]],_=0;_<k.length&&c;_++)c.end&&w.push(c.word),c=c.children[k[_+1]];return w.length||w.push([[k[0]],0,0]),w},E}();var l="\u2581";function h(E){var k=E.normalize("NFKC");return k.length>0?l+k.replace(/ /g,l):k}var p=6,v=function(){function E(k,w){w===void 0&&(w=p),this.vocabulary=k,this.reservedSymbolsCount=w,this.trie=new u;for(var c=this.reservedSymbolsCount;c<this.vocabulary.length;c++)this.trie.insert(this.vocabulary[c][0],this.vocabulary[c][1],c)}return E.prototype.encode=function(k){var w=[],c=[],_=[];k=h(k);for(var R=s(k),O=0;O<=R.length;O++)w.push({}),c.push(0),_.push(0);for(var O=0;O<R.length;O++)for(var F=this.trie.commonPrefixSearch(R.slice(O)),U=0;U<F.length;U++){var H=F[U],J={key:H[0],score:H[1],index:H[2]},fe=H[0].length;w[O+fe][O]==null&&(w[O+fe][O]=[]),w[O+fe][O].push(J)}for(var fe=0;fe<=R.length;fe++)for(var B in w[fe])for(var q=w[fe][B],U=0;U<q.length;U++){var Y=q[U],X=Y.score+_[fe-Y.key.length];(_[fe]===0||X>=_[fe])&&(_[fe]=X,c[fe]=q[U].index)}for(var Q=[],be=c.length-1;be>0;)Q.push(c[be]),be-=this.vocabulary[c[be]][0].length;for(var ue=[],me=!1,O=0;O<Q.length;O++){var yt=Q[O];me&&yt===0||ue.push(yt),me=yt===0}return ue.reverse()},E}();function y(E){return n(this,void 0,void 0,function(){var k,w;return a(this,function(c){switch(c.label){case 0:return[4,S(E)];case 1:return k=c.sent(),w=new v(k),[2,w]}})})}function S(E){return n(this,void 0,void 0,function(){var k;return a(this,function(w){switch(w.label){case 0:return[4,e.util.fetch(E)];case 1:return k=w.sent(),[2,k.json()]}})})}var A="1.3.3";var T="https://tfhub.dev/google/tfjs-model/universal-sentence-encoder-qa-ondevice/1",I=[0,1,2],N=3,D=192,C="input_inp_text",L="input_res_context",z="input_res_text",$="Final/EncodeResult/mul",G="Final/EncodeQuery/mul",j=3,Z=2,M=1;function f(){return n(this,void 0,void 0,function(){var E;return a(this,function(k){switch(k.label){case 0:return E=new d,[4,E.load()];case 1:return k.sent(),[2,E]}})})}var d=function(){function E(){}return E.prototype.loadModel=function(){return n(this,void 0,void 0,function(){return a(this,function(k){return[2,r.loadGraphModel(T,{fromTFHub:!0})]})})},E.prototype.load=function(){return n(this,void 0,void 0,function(){var k,w,c;return a(this,function(_){switch(_.label){case 0:return[4,Promise.all([this.loadModel(),S(T+"/vocab.json?tfjs-format=file")])];case 1:return k=_.sent(),w=k[0],c=k[1],this.model=w,this.tokenizer=new v(c,j),[2]}})})},E.prototype.embed=function(k){var w=this,c=e.tidy(function(){var O=w.tokenizeStrings(k.queries,D),F=w.tokenizeStrings(k.responses,D);if(k.contexts!=null&&k.contexts.length!==k.responses.length)throw new Error("The length of response strings and context strings need to match.");var U=k.contexts||[];k.contexts==null&&(U.length=k.responses.length,U.fill(""));var H=w.tokenizeStrings(U,D),J={};return J[C]=O,J[z]=F,J[L]=H,w.model.execute(J,[G,$])}),_=c[0],R=c[1];return{queryEmbedding:_,responseEmbedding:R}},E.prototype.tokenizeStrings=function(k,w){var c=this,_=k.map(function(R){return c.shiftTokens(c.tokenizer.encode(R),D)});return e.tensor2d(_,[k.length,D],"int32")},E.prototype.shiftTokens=function(k,w){k.unshift(M);for(var c=0;c<w;c++)c>=k.length?k[c]=Z:I.includes(k[c])||(k[c]+=N);return k.slice(0,w)},E}();var g="https://storage.googleapis.com/tfjs-models/savedmodel/universal_sentence_encoder";function m(E){return n(this,void 0,void 0,function(){var k;return a(this,function(w){switch(w.label){case 0:return k=new b,[4,k.load(E)];case 1:return w.sent(),[2,k]}})})}var b=function(){function E(){}return E.prototype.loadModel=function(k){return n(this,void 0,void 0,function(){return a(this,function(w){return[2,k?r.loadGraphModel(k):r.loadGraphModel("https://tfhub.dev/tensorflow/tfjs-model/universal-sentence-encoder-lite/1/default/1",{fromTFHub:!0})]})})},E.prototype.load=function(k){return k===void 0&&(k={}),n(this,void 0,void 0,function(){var w,c,_;return a(this,function(R){switch(R.label){case 0:return[4,Promise.all([this.loadModel(k.modelUrl),S(k.vocabUrl||g+"/vocab.json")])];case 1:return w=R.sent(),c=w[0],_=w[1],this.model=c,this.tokenizer=new v(_),[2]}})})},E.prototype.embed=function(k){return n(this,void 0,void 0,function(){var w,c,_,R,O,F,U,H,J=this;return a(this,function(fe){switch(fe.label){case 0:for(typeof k=="string"&&(k=[k]),w=k.map(function(B){return J.tokenizer.encode(B)}),c=w.map(function(B,q){return B.map(function(Y,X){return[q,X]})}),_=[],R=0;R<c.length;R++)_=_.concat(c[R]);return O=e.tensor2d(_,[_.length,2],"int32"),F=e.tensor1d(e.util.flatten(w),"int32"),U={indices:O,values:F},[4,this.model.executeAsync(U)];case 1:return H=fe.sent(),O.dispose(),F.dispose(),[2,H]}})})},E}();t.load=m,t.UniversalSentenceEncoder=b,t.Tokenizer=v,t.loadTokenizer=y,t.loadQnA=f,t.version=A,Object.defineProperty(t,"__esModule",{value:!0})})});var QD=ne((nAt,hre)=>{"use strict";hre.exports=function(e,r){return function(){for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];return e.apply(r,a)}}});var Gi=ne((iAt,mre)=>{"use strict";var PGe=QD(),t8=Object.prototype.toString,r8=function(t){return function(e){var r=t8.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function dd(t){return t=t.toLowerCase(),function(r){return r8(r)===t}}function n8(t){return Array.isArray(t)}function f3(t){return typeof t=="undefined"}function qGe(t){return t!==null&&!f3(t)&&t.constructor!==null&&!f3(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var dre=dd("ArrayBuffer");function $Ge(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&dre(t.buffer),e}function zGe(t){return typeof t=="string"}function jGe(t){return typeof t=="number"}function pre(t){return t!==null&&typeof t=="object"}function u3(t){if(r8(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var UGe=dd("Date"),VGe=dd("File"),WGe=dd("Blob"),GGe=dd("FileList");function i8(t){return t8.call(t)==="[object Function]"}function HGe(t){return pre(t)&&i8(t.pipe)}function KGe(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||t8.call(t)===e||i8(t.toString)&&t.toString()===e)}var ZGe=dd("URLSearchParams");function JGe(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function YGe(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function a8(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),n8(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}function e8(){var t={};function e(a,s){u3(t[s])&&u3(a)?t[s]=e8(t[s],a):u3(a)?t[s]=e8({},a):n8(a)?t[s]=a.slice():t[s]=a}for(var r=0,n=arguments.length;r<n;r++)a8(arguments[r],e);return t}function XGe(t,e,r){return a8(e,function(a,s){r&&typeof a=="function"?t[s]=PGe(a,r):t[s]=a}),t}function QGe(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function eHe(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)}function tHe(t,e,r){var n,a,s,o={};e=e||{};do{for(n=Object.getOwnPropertyNames(t),a=n.length;a-- >0;)s=n[a],o[s]||(e[s]=t[s],o[s]=!0);t=Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e}function rHe(t,e,r){t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return n!==-1&&n===r}function nHe(t){if(!t)return null;var e=t.length;if(f3(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r}var iHe=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array));mre.exports={isArray:n8,isArrayBuffer:dre,isBuffer:qGe,isFormData:KGe,isArrayBufferView:$Ge,isString:zGe,isNumber:jGe,isObject:pre,isPlainObject:u3,isUndefined:f3,isDate:UGe,isFile:VGe,isBlob:WGe,isFunction:i8,isStream:HGe,isURLSearchParams:ZGe,isStandardBrowserEnv:YGe,forEach:a8,merge:e8,extend:XGe,trim:JGe,stripBOM:QGe,inherits:eHe,toFlatObject:tHe,kindOf:r8,kindOfTest:dd,endsWith:rHe,toArray:nHe,isTypedArray:iHe,isFileList:GGe}});var s8=ne((aAt,gre)=>{"use strict";var Hm=Gi();function vre(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}gre.exports=function(e,r,n){if(!r)return e;var a;if(n)a=n(r);else if(Hm.isURLSearchParams(r))a=r.toString();else{var s=[];Hm.forEach(r,function(l,h){l===null||typeof l=="undefined"||(Hm.isArray(l)?h=h+"[]":l=[l],Hm.forEach(l,function(v){Hm.isDate(v)?v=v.toISOString():Hm.isObject(v)&&(v=JSON.stringify(v)),s.push(vre(h)+"="+vre(v))}))}),a=s.join("&")}if(a){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}});var bre=ne((sAt,yre)=>{"use strict";var aHe=Gi();function l3(){this.handlers=[]}l3.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};l3.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};l3.prototype.forEach=function(e){aHe.forEach(this.handlers,function(n){n!==null&&e(n)})};yre.exports=l3});var _re=ne((oAt,wre)=>{"use strict";var sHe=Gi();wre.exports=function(e,r){sHe.forEach(e,function(a,s){s!==r&&s.toUpperCase()===r.toUpperCase()&&(e[r]=a,delete e[s])})}});var pd=ne((uAt,Mre)=>{"use strict";var xre=Gi();function Km(t,e,r,n,a){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a)}xre.inherits(Km,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Sre=Km.prototype,Ere={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){Ere[t]={value:t}});Object.defineProperties(Km,Ere);Object.defineProperty(Sre,"isAxiosError",{value:!0});Km.from=function(t,e,r,n,a,s){var o=Object.create(Sre);return xre.toFlatObject(t,o,function(l){return l!==Error.prototype}),Km.call(o,t.message,e,r,n,a),o.name=t.name,s&&Object.assign(o,s),o};Mre.exports=Km});var o8=ne((fAt,Are)=>{"use strict";Are.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var u8=ne((lAt,kre)=>{"use strict";var nu=Gi();function oHe(t,e){e=e||new FormData;var r=[];function n(s){return s===null?"":nu.isDate(s)?s.toISOString():nu.isArrayBuffer(s)||nu.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function a(s,o){if(nu.isPlainObject(s)||nu.isArray(s)){if(r.indexOf(s)!==-1)throw Error("Circular reference detected in "+o);r.push(s),nu.forEach(s,function(l,h){if(!nu.isUndefined(l)){var p=o?o+"."+h:h,v;if(l&&!o&&typeof l=="object"){if(nu.endsWith(h,"{}"))l=JSON.stringify(l);else if(nu.endsWith(h,"[]")&&(v=nu.toArray(l))){v.forEach(function(y){!nu.isUndefined(y)&&e.append(p,n(y))});return}}a(l,p)}}),r.pop()}else e.append(o,n(s))}return a(t),e}kre.exports=oHe});var Nre=ne((cAt,Tre)=>{"use strict";var f8=pd();Tre.exports=function(e,r,n){var a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):r(new f8("Request failed with status code "+n.status,[f8.ERR_BAD_REQUEST,f8.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}});var Dre=ne((hAt,Ire)=>{"use strict";var c3=Gi();Ire.exports=c3.isStandardBrowserEnv()?function(){return{write:function(r,n,a,s,o,u){var l=[];l.push(r+"="+encodeURIComponent(n)),c3.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),c3.isString(s)&&l.push("path="+s),c3.isString(o)&&l.push("domain="+o),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var Rre=ne((dAt,Ore)=>{"use strict";Ore.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}});var Fre=ne((pAt,Cre)=>{"use strict";Cre.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}});var l8=ne((mAt,Bre)=>{"use strict";var uHe=Rre(),fHe=Fre();Bre.exports=function(e,r){return e&&!uHe(r)?fHe(e,r):r}});var Pre=ne((vAt,Lre)=>{"use strict";var c8=Gi(),lHe=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];Lre.exports=function(e){var r={},n,a,s;return e&&c8.forEach(e.split(`
`),function(u){if(s=u.indexOf(":"),n=c8.trim(u.substr(0,s)).toLowerCase(),a=c8.trim(u.substr(s+1)),n){if(r[n]&&lHe.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([a]):r[n]=r[n]?r[n]+", "+a:a}}),r}});var zre=ne((gAt,$re)=>{"use strict";var qre=Gi();$re.exports=qre.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function a(s){var o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=a(window.location.href),function(o){var u=qre.isString(o)?a(o):o;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}()});var A1=ne((yAt,Ure)=>{"use strict";var h8=pd(),cHe=Gi();function jre(t){h8.call(this,t==null?"canceled":t,h8.ERR_CANCELED),this.name="CanceledError"}cHe.inherits(jre,h8,{__CANCEL__:!0});Ure.exports=jre});var Wre=ne((bAt,Vre)=>{"use strict";Vre.exports=function(e){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}});var d8=ne((wAt,Gre)=>{"use strict";var k1=Gi(),hHe=Nre(),dHe=Dre(),pHe=s8(),mHe=l8(),vHe=Pre(),gHe=zre(),yHe=o8(),Hf=pd(),bHe=A1(),wHe=Wre();Gre.exports=function(e){return new Promise(function(n,a){var s=e.data,o=e.headers,u=e.responseType,l;function h(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}k1.isFormData(s)&&k1.isStandardBrowserEnv()&&delete o["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(v+":"+y)}var S=mHe(e.baseURL,e.url);p.open(e.method.toUpperCase(),pHe(S,e.params,e.paramsSerializer),!0),p.timeout=e.timeout;function A(){if(!!p){var N="getAllResponseHeaders"in p?vHe(p.getAllResponseHeaders()):null,D=!u||u==="text"||u==="json"?p.responseText:p.response,C={data:D,status:p.status,statusText:p.statusText,headers:N,config:e,request:p};hHe(function(z){n(z),h()},function(z){a(z),h()},C),p=null}}if("onloadend"in p?p.onloadend=A:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(A)},p.onabort=function(){!p||(a(new Hf("Request aborted",Hf.ECONNABORTED,e,p)),p=null)},p.onerror=function(){a(new Hf("Network Error",Hf.ERR_NETWORK,e,p,p)),p=null},p.ontimeout=function(){var D=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",C=e.transitional||yHe;e.timeoutErrorMessage&&(D=e.timeoutErrorMessage),a(new Hf(D,C.clarifyTimeoutError?Hf.ETIMEDOUT:Hf.ECONNABORTED,e,p)),p=null},k1.isStandardBrowserEnv()){var T=(e.withCredentials||gHe(S))&&e.xsrfCookieName?dHe.read(e.xsrfCookieName):void 0;T&&(o[e.xsrfHeaderName]=T)}"setRequestHeader"in p&&k1.forEach(o,function(D,C){typeof s=="undefined"&&C.toLowerCase()==="content-type"?delete o[C]:p.setRequestHeader(C,D)}),k1.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),u&&u!=="json"&&(p.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&p.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(l=function(N){!p||(a(!N||N&&N.type?new bHe:N),p.abort(),p=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l))),s||(s=null);var I=wHe(S);if(I&&["http","https","file"].indexOf(I)===-1){a(new Hf("Unsupported protocol "+I+":",Hf.ERR_BAD_REQUEST,e));return}p.send(s)})}});var Kre=ne((_At,Hre)=>{Hre.exports=null});var d3=ne((xAt,Xre)=>{"use strict";var Hi=Gi(),Zre=_re(),Jre=pd(),_He=o8(),xHe=u8(),SHe={"Content-Type":"application/x-www-form-urlencoded"};function Yre(t,e){!Hi.isUndefined(t)&&Hi.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function EHe(){var t;return typeof XMLHttpRequest!="undefined"?t=d8():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(t=d8()),t}function MHe(t,e,r){if(Hi.isString(t))try{return(e||JSON.parse)(t),Hi.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var h3={transitional:_He,adapter:EHe(),transformRequest:[function(e,r){if(Zre(r,"Accept"),Zre(r,"Content-Type"),Hi.isFormData(e)||Hi.isArrayBuffer(e)||Hi.isBuffer(e)||Hi.isStream(e)||Hi.isFile(e)||Hi.isBlob(e))return e;if(Hi.isArrayBufferView(e))return e.buffer;if(Hi.isURLSearchParams(e))return Yre(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n=Hi.isObject(e),a=r&&r["Content-Type"],s;if((s=Hi.isFileList(e))||n&&a==="multipart/form-data"){var o=this.env&&this.env.FormData;return xHe(s?{"files[]":e}:e,o&&new o)}else if(n||a==="application/json")return Yre(r,"application/json"),MHe(e);return e}],transformResponse:[function(e){var r=this.transitional||h3.transitional,n=r&&r.silentJSONParsing,a=r&&r.forcedJSONParsing,s=!n&&this.responseType==="json";if(s||a&&Hi.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?Jre.from(o,Jre.ERR_BAD_RESPONSE,this,null,this.response):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kre()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Hi.forEach(["delete","get","head"],function(e){h3.headers[e]={}});Hi.forEach(["post","put","patch"],function(e){h3.headers[e]=Hi.merge(SHe)});Xre.exports=h3});var ene=ne((SAt,Qre)=>{"use strict";var AHe=Gi(),kHe=d3();Qre.exports=function(e,r,n){var a=this||kHe;return AHe.forEach(n,function(o){e=o.call(a,e,r)}),e}});var p8=ne((EAt,tne)=>{"use strict";tne.exports=function(e){return!!(e&&e.__CANCEL__)}});var ine=ne((MAt,nne)=>{"use strict";var rne=Gi(),m8=ene(),THe=p8(),NHe=d3(),IHe=A1();function v8(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new IHe}nne.exports=function(e){v8(e),e.headers=e.headers||{},e.data=m8.call(e,e.data,e.headers,e.transformRequest),e.headers=rne.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),rne.forEach(["delete","get","head","post","put","patch","common"],function(a){delete e.headers[a]});var r=e.adapter||NHe.adapter;return r(e).then(function(a){return v8(e),a.data=m8.call(e,a.data,a.headers,e.transformResponse),a},function(a){return THe(a)||(v8(e),a&&a.response&&(a.response.data=m8.call(e,a.response.data,a.response.headers,e.transformResponse))),Promise.reject(a)})}});var g8=ne((AAt,ane)=>{"use strict";var gs=Gi();ane.exports=function(e,r){r=r||{};var n={};function a(p,v){return gs.isPlainObject(p)&&gs.isPlainObject(v)?gs.merge(p,v):gs.isPlainObject(v)?gs.merge({},v):gs.isArray(v)?v.slice():v}function s(p){if(gs.isUndefined(r[p])){if(!gs.isUndefined(e[p]))return a(void 0,e[p])}else return a(e[p],r[p])}function o(p){if(!gs.isUndefined(r[p]))return a(void 0,r[p])}function u(p){if(gs.isUndefined(r[p])){if(!gs.isUndefined(e[p]))return a(void 0,e[p])}else return a(void 0,r[p])}function l(p){if(p in r)return a(e[p],r[p]);if(p in e)return a(void 0,e[p])}var h={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:l};return gs.forEach(Object.keys(e).concat(Object.keys(r)),function(v){var y=h[v]||s,S=y(v);gs.isUndefined(S)&&y!==l||(n[v]=S)}),n}});var y8=ne((kAt,sne)=>{sne.exports={version:"0.27.2"}});var fne=ne((TAt,une)=>{"use strict";var DHe=y8().version,sc=pd(),b8={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){b8[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var one={};b8.transitional=function(e,r,n){function a(s,o){return"[Axios v"+DHe+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return function(s,o,u){if(e===!1)throw new sc(a(o," has been removed"+(r?" in "+r:"")),sc.ERR_DEPRECATED);return r&&!one[o]&&(one[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,u):!0}};function OHe(t,e,r){if(typeof t!="object")throw new sc("options must be an object",sc.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),a=n.length;a-- >0;){var s=n[a],o=e[s];if(o){var u=t[s],l=u===void 0||o(u,s,t);if(l!==!0)throw new sc("option "+s+" must be "+l,sc.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new sc("Unknown option "+s,sc.ERR_BAD_OPTION)}}une.exports={assertOptions:OHe,validators:b8}});var mne=ne((NAt,pne)=>{"use strict";var hne=Gi(),RHe=s8(),lne=bre(),cne=ine(),p3=g8(),CHe=l8(),dne=fne(),Zm=dne.validators;function Jm(t){this.defaults=t,this.interceptors={request:new lne,response:new lne}}Jm.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=p3(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&dne.assertOptions(n,{silentJSONParsing:Zm.transitional(Zm.boolean),forcedJSONParsing:Zm.transitional(Zm.boolean),clarifyTimeoutError:Zm.transitional(Zm.boolean)},!1);var a=[],s=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(r)===!1||(s=s&&S.synchronous,a.unshift(S.fulfilled,S.rejected))});var o=[];this.interceptors.response.forEach(function(S){o.push(S.fulfilled,S.rejected)});var u;if(!s){var l=[cne,void 0];for(Array.prototype.unshift.apply(l,a),l=l.concat(o),u=Promise.resolve(r);l.length;)u=u.then(l.shift(),l.shift());return u}for(var h=r;a.length;){var p=a.shift(),v=a.shift();try{h=p(h)}catch(y){v(y);break}}try{u=cne(h)}catch(y){return Promise.reject(y)}for(;o.length;)u=u.then(o.shift(),o.shift());return u};Jm.prototype.getUri=function(e){e=p3(this.defaults,e);var r=CHe(e.baseURL,e.url);return RHe(r,e.params,e.paramsSerializer)};hne.forEach(["delete","get","head","options"],function(e){Jm.prototype[e]=function(r,n){return this.request(p3(n||{},{method:e,url:r,data:(n||{}).data}))}});hne.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,u){return this.request(p3(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Jm.prototype[e]=r(),Jm.prototype[e+"Form"]=r(!0)});pne.exports=Jm});var gne=ne((IAt,vne)=>{"use strict";var FHe=A1();function Ym(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(a){e=a});var r=this;this.promise.then(function(n){if(!!r._listeners){var a,s=r._listeners.length;for(a=0;a<s;a++)r._listeners[a](n);r._listeners=null}}),this.promise.then=function(n){var a,s=new Promise(function(o){r.subscribe(o),a=o}).then(n);return s.cancel=function(){r.unsubscribe(a)},s},t(function(a){r.reason||(r.reason=new FHe(a),e(r.reason))})}Ym.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Ym.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};Ym.prototype.unsubscribe=function(e){if(!!this._listeners){var r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}};Ym.source=function(){var e,r=new Ym(function(a){e=a});return{token:r,cancel:e}};vne.exports=Ym});var bne=ne((DAt,yne)=>{"use strict";yne.exports=function(e){return function(n){return e.apply(null,n)}}});var _ne=ne((OAt,wne)=>{"use strict";var BHe=Gi();wne.exports=function(e){return BHe.isObject(e)&&e.isAxiosError===!0}});var Ene=ne((RAt,w8)=>{"use strict";var xne=Gi(),LHe=QD(),m3=mne(),PHe=g8(),qHe=d3();function Sne(t){var e=new m3(t),r=LHe(m3.prototype.request,e);return xne.extend(r,m3.prototype,e),xne.extend(r,e),r.create=function(a){return Sne(PHe(t,a))},r}var rs=Sne(qHe);rs.Axios=m3;rs.CanceledError=A1();rs.CancelToken=gne();rs.isCancel=p8();rs.VERSION=y8().version;rs.toFormData=u8();rs.AxiosError=pd();rs.Cancel=rs.CanceledError;rs.all=function(e){return Promise.all(e)};rs.spread=bne();rs.isAxiosError=_ne();w8.exports=rs;w8.exports.default=rs});var _8=ne((CAt,Mne)=>{Mne.exports=Ene()});var Tne=ne((LAt,kne)=>{"use strict";function UHe(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=r;return e}kne.exports=UHe});var Dne=ne((PAt,Ine)=>{Ine.exports=function(t){return t!=null&&(Nne(t)||VHe(t)||!!t._isBuffer)};function Nne(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function VHe(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&Nne(t.slice(0,0))}});var md=ne((qAt,One)=>{var WHe=Tne(),GHe=Dne(),HHe=typeof Float64Array!="undefined";function KHe(t,e){return t[0]-e[0]}function ZHe(){var t=this.stride,e=new Array(t.length),r;for(r=0;r<e.length;++r)e[r]=[Math.abs(t[r]),r];e.sort(KHe);var n=new Array(e.length);for(r=0;r<n.length;++r)n[r]=e[r][1];return n}function JHe(t,e){var r=["View",e,"d",t].join("");e<0&&(r="View_Nil"+t);var n=t==="generic";if(e===-1){var a="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",T=new Function(a);return T()}else if(e===0){var a="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",T=new Function("TrivialArray",a);return T(y3[t][0])}var a=["'use strict'"],s=WHe(e),o=s.map(function(I){return"i"+I}),u="this.offset+"+s.map(function(I){return"this.stride["+I+"]*i"+I}).join("+"),l=s.map(function(I){return"b"+I}).join(","),h=s.map(function(I){return"c"+I}).join(",");a.push("function "+r+"(a,"+l+","+h+",d){this.data=a","this.shape=["+l+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),a.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+s.map(function(I){return"this.shape["+I+"]"}).join("*"),"}})"),e===1?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),e<4?(a.push("function "+r+"_order(){"),e===2?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):e===3&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+r+"_set("+o.join(",")+",v){"),n?a.push("return this.data.set("+u+",v)}"):a.push("return this.data["+u+"]=v}"),a.push("proto.get=function "+r+"_get("+o.join(",")+"){"),n?a.push("return this.data.get("+u+")}"):a.push("return this.data["+u+"]}"),a.push("proto.index=function "+r+"_index(",o.join(),"){return "+u+"}"),a.push("proto.hi=function "+r+"_hi("+o.join(",")+"){return new "+r+"(this.data,"+s.map(function(I){return["(typeof i",I,"!=='number'||i",I,"<0)?this.shape[",I,"]:i",I,"|0"].join("")}).join(",")+","+s.map(function(I){return"this.stride["+I+"]"}).join(",")+",this.offset)}");var p=s.map(function(I){return"a"+I+"=this.shape["+I+"]"}),v=s.map(function(I){return"c"+I+"=this.stride["+I+"]"});a.push("proto.lo=function "+r+"_lo("+o.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+v.join(","));for(var y=0;y<e;++y)a.push("if(typeof i"+y+"==='number'&&i"+y+">=0){d=i"+y+"|0;b+=c"+y+"*d;a"+y+"-=d}");a.push("return new "+r+"(this.data,"+s.map(function(I){return"a"+I}).join(",")+","+s.map(function(I){return"c"+I}).join(",")+",b)}"),a.push("proto.step=function "+r+"_step("+o.join(",")+"){var "+s.map(function(I){return"a"+I+"=this.shape["+I+"]"}).join(",")+","+s.map(function(I){return"b"+I+"=this.stride["+I+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var y=0;y<e;++y)a.push("if(typeof i"+y+"==='number'){d=i"+y+"|0;if(d<0){c+=b"+y+"*(a"+y+"-1);a"+y+"=ceil(-a"+y+"/d)}else{a"+y+"=ceil(a"+y+"/d)}b"+y+"*=d}");a.push("return new "+r+"(this.data,"+s.map(function(I){return"a"+I}).join(",")+","+s.map(function(I){return"b"+I}).join(",")+",c)}");for(var S=new Array(e),A=new Array(e),y=0;y<e;++y)S[y]="a[i"+y+"]",A[y]="b[i"+y+"]";a.push("proto.transpose=function "+r+"_transpose("+o+"){"+o.map(function(I,N){return I+"=("+I+"===undefined?"+N+":"+I+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+S.join(",")+","+A.join(",")+",this.offset)}"),a.push("proto.pick=function "+r+"_pick("+o+"){var a=[],b=[],c=this.offset");for(var y=0;y<e;++y)a.push("if(typeof i"+y+"==='number'&&i"+y+">=0){c=(c+this.stride["+y+"]*i"+y+")|0}else{a.push(this.shape["+y+"]);b.push(this.stride["+y+"])}");a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+s.map(function(I){return"shape["+I+"]"}).join(",")+","+s.map(function(I){return"stride["+I+"]"}).join(",")+",offset)}");var T=new Function("CTOR_LIST","ORDER",a.join(`
`));return T(y3[t],ZHe)}function YHe(t){if(GHe(t))return"buffer";if(HHe)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}var y3={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function XHe(t,e,r,n){if(t===void 0){var h=y3.array[0];return h([])}else typeof t=="number"&&(t=[t]);e===void 0&&(e=[t.length]);var a=e.length;if(r===void 0){r=new Array(a);for(var s=a-1,o=1;s>=0;--s)r[s]=o,o*=e[s]}if(n===void 0){n=0;for(var s=0;s<a;++s)r[s]<0&&(n-=(e[s]-1)*r[s])}for(var u=YHe(t),l=y3[u];l.length<=a+1;)l.push(JHe(u,l.length-1));var h=l[a+1];return h(t,e,r,n)}One.exports=XHe});var x8=ne(($At,Rne)=>{"use strict";function QHe(t,e){for(var r=1,n=t.length,a=t[0],s=t[0],o=1;o<n;++o)if(s=a,a=t[o],e(a,s)){if(o===r){r++;continue}t[r++]=a}return t.length=r,t}function eKe(t){for(var e=1,r=t.length,n=t[0],a=t[0],s=1;s<r;++s,a=n)if(a=n,n=t[s],n!==a){if(s===e){e++;continue}t[e++]=n}return t.length=e,t}function tKe(t,e,r){return t.length===0?t:e?(r||t.sort(e),QHe(t,e)):(r||t.sort(),eKe(t))}Rne.exports=tKe});var Bne=ne((zAt,Fne)=>{"use strict";var rKe=x8();function Cne(t,e,r){var n=t.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,o=[],u=[],l=0,h=0,p,v;for(p=0;p<n;++p)u.push(["i",p,"=0"].join(""));for(v=0;v<a;++v)for(p=0;p<n;++p)h=l,l=t[p],p===0?u.push(["d",v,"s",p,"=t",v,"p",l].join("")):u.push(["d",v,"s",p,"=(t",v,"p",l,"-s",h,"*t",v,"p",h,")"].join(""));for(u.length>0&&o.push("var "+u.join(",")),p=n-1;p>=0;--p)l=t[p],o.push(["for(i",p,"=0;i",p,"<s",l,";++i",p,"){"].join(""));for(o.push(r),p=0;p<n;++p){for(h=l,l=t[p],v=0;v<a;++v)o.push(["p",v,"+=d",v,"s",p].join(""));s&&(p>0&&o.push(["index[",h,"]-=s",h].join("")),o.push(["++index[",l,"]"].join(""))),o.push("}")}return o.join(`
`)}function nKe(t,e,r,n){for(var a=e.length,s=r.arrayArgs.length,o=r.blockSize,u=r.indexArgs.length>0,l=[],h=0;h<s;++h)l.push(["var offset",h,"=p",h].join(""));for(var h=t;h<a;++h)l.push(["for(var j"+h+"=SS[",e[h],"]|0;j",h,">0;){"].join("")),l.push(["if(j",h,"<",o,"){"].join("")),l.push(["s",e[h],"=j",h].join("")),l.push(["j",h,"=0"].join("")),l.push(["}else{s",e[h],"=",o].join("")),l.push(["j",h,"-=",o,"}"].join("")),u&&l.push(["index[",e[h],"]=j",h].join(""));for(var h=0;h<s;++h){for(var p=["offset"+h],v=t;v<a;++v)p.push(["j",v,"*t",h,"p",e[v]].join(""));l.push(["p",h,"=(",p.join("+"),")"].join(""))}l.push(Cne(e,r,n));for(var h=t;h<a;++h)l.push("}");return l.join(`
`)}function iKe(t){for(var e=0,r=t[0].length;e<r;){for(var n=1;n<t.length;++n)if(t[n][e]!==t[0][e])return e;++e}return e}function S8(t,e,r){for(var n=t.body,a=[],s=[],o=0;o<t.args.length;++o){var u=t.args[o];if(!(u.count<=0)){var l=new RegExp(u.name,"g"),h="",p=e.arrayArgs.indexOf(o);switch(e.argTypes[o]){case"offset":var v=e.offsetArgIndex.indexOf(o),y=e.offsetArgs[v];p=y.array,h="+q"+v;case"array":h="p"+p+h;var S="l"+o,A="a"+p;if(e.arrayBlockIndices[p]===0)u.count===1?r[p]==="generic"?u.lvalue?(a.push(["var ",S,"=",A,".get(",h,")"].join("")),n=n.replace(l,S),s.push([A,".set(",h,",",S,")"].join(""))):n=n.replace(l,[A,".get(",h,")"].join("")):n=n.replace(l,[A,"[",h,"]"].join("")):r[p]==="generic"?(a.push(["var ",S,"=",A,".get(",h,")"].join("")),n=n.replace(l,S),u.lvalue&&s.push([A,".set(",h,",",S,")"].join(""))):(a.push(["var ",S,"=",A,"[",h,"]"].join("")),n=n.replace(l,S),u.lvalue&&s.push([A,"[",h,"]=",S].join("")));else{for(var T=[u.name],I=[h],N=0;N<Math.abs(e.arrayBlockIndices[p]);N++)T.push("\\s*\\[([^\\]]+)\\]"),I.push("$"+(N+1)+"*t"+p+"b"+N);if(l=new RegExp(T.join(""),"g"),h=I.join("+"),r[p]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(l,[A,"[",h,"]"].join(""))}break;case"scalar":n=n.replace(l,"Y"+e.scalarArgs.indexOf(o));break;case"index":n=n.replace(l,"index");break;case"shape":n=n.replace(l,"shape");break}}}return[a.join(`
`),n,s.join(`
`)].join(`
`).trim()}function aKe(t){for(var e=new Array(t.length),r=!0,n=0;n<t.length;++n){var a=t[n],s=a.match(/\d+/);s?s=s[0]:s="",a.charAt(0)===0?e[n]="u"+a.charAt(1)+s:e[n]=a.charAt(0)+s,n>0&&(r=r&&e[n]===e[n-1])}return r?e[0]:e.join("")}function sKe(t,e){for(var r=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,n=new Array(t.arrayArgs.length),a=new Array(t.arrayArgs.length),s=0;s<t.arrayArgs.length;++s)a[s]=e[2*s],n[s]=e[2*s+1];for(var o=[],u=[],l=[],h=[],p=[],s=0;s<t.arrayArgs.length;++s){t.arrayBlockIndices[s]<0?(l.push(0),h.push(r),o.push(r),u.push(r+t.arrayBlockIndices[s])):(l.push(t.arrayBlockIndices[s]),h.push(t.arrayBlockIndices[s]+r),o.push(0),u.push(t.arrayBlockIndices[s]));for(var v=[],y=0;y<n[s].length;y++)l[s]<=n[s][y]&&n[s][y]<h[s]&&v.push(n[s][y]-l[s]);p.push(v)}for(var S=["SS"],A=["'use strict'"],T=[],y=0;y<r;++y)T.push(["s",y,"=SS[",y,"]"].join(""));for(var s=0;s<t.arrayArgs.length;++s){S.push("a"+s),S.push("t"+s),S.push("p"+s);for(var y=0;y<r;++y)T.push(["t",s,"p",y,"=t",s,"[",l[s]+y,"]"].join(""));for(var y=0;y<Math.abs(t.arrayBlockIndices[s]);++y)T.push(["t",s,"b",y,"=t",s,"[",o[s]+y,"]"].join(""))}for(var s=0;s<t.scalarArgs.length;++s)S.push("Y"+s);if(t.shapeArgs.length>0&&T.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var I=new Array(r),s=0;s<r;++s)I[s]="0";T.push(["index=[",I.join(","),"]"].join(""))}for(var s=0;s<t.offsetArgs.length;++s){for(var N=t.offsetArgs[s],D=[],y=0;y<N.offset.length;++y)N.offset[y]!==0&&(N.offset[y]===1?D.push(["t",N.array,"p",y].join("")):D.push([N.offset[y],"*t",N.array,"p",y].join("")));D.length===0?T.push("q"+s+"=0"):T.push(["q",s,"=",D.join("+")].join(""))}var C=rKe([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));T=T.concat(C),T.length>0&&A.push("var "+T.join(","));for(var s=0;s<t.arrayArgs.length;++s)A.push("p"+s+"|=0");t.pre.body.length>3&&A.push(S8(t.pre,t,a));var L=S8(t.body,t,a),z=iKe(p);z<r?A.push(nKe(z,p[0],t,L)):A.push(Cne(p[0],t,L)),t.post.body.length>3&&A.push(S8(t.post,t,a)),t.debug&&console.log("-----Generated cwise routine for ",e,`:
`+A.join(`
`)+`
----------`);var $=[t.funcName||"unnamed","_cwise_loop_",n[0].join("s"),"m",z,aKe(a)].join(""),G=new Function(["function ",$,"(",S.join(","),"){",A.join(`
`),"} return ",$].join(""));return G()}Fne.exports=sKe});var Pne=ne((jAt,Lne)=>{"use strict";var oKe=Bne();function uKe(t){var e=["'use strict'","var CACHED={}"],r=[],n=t.funcName+"_cwise_thunk";e.push(["return function ",n,"(",t.shimArgs.join(","),"){"].join(""));for(var a=[],s=[],o=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],l=[],h=0;h<t.arrayArgs.length;++h){var p=t.arrayArgs[h];r.push(["t",p,"=array",p,".dtype,","r",p,"=array",p,".order"].join("")),a.push("t"+p),a.push("r"+p),s.push("t"+p),s.push("r"+p+".join()"),o.push("array"+p+".data"),o.push("array"+p+".stride"),o.push("array"+p+".offset|0"),h>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+p+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[h]))),l.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+p+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[h])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),e.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var h=0;h<t.scalarArgs.length;++h)o.push("scalar"+t.scalarArgs[h]);r.push(["type=[",s.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),e.push("var "+r.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",o.join(","),")}"].join("")),t.debug&&console.log(`-----Generated thunk:
`+e.join(`
`)+`
----------`);var v=new Function("compile",e.join(`
`));return v(oKe.bind(void 0,t))}Lne.exports=uKe});var b3=ne((UAt,qne)=>{"use strict";var fKe=Pne();function lKe(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function cKe(t){var e=new lKe;e.pre=t.pre,e.body=t.body,e.post=t.post;var r=t.args.slice(0);e.argTypes=r;for(var n=0;n<r.length;++n){var a=r[n];if(a==="array"||typeof a=="object"&&a.blockIndices){if(e.argTypes[n]="array",e.arrayArgs.push(n),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+n),n<e.pre.args.length&&e.pre.args[n].count>0)throw new Error("cwise: pre() block may not reference array args");if(n<e.post.args.length&&e.post.args[n].count>0)throw new Error("cwise: post() block may not reference array args")}else if(a==="scalar")e.scalarArgs.push(n),e.shimArgs.push("scalar"+n);else if(a==="index"){if(e.indexArgs.push(n),n<e.pre.args.length&&e.pre.args[n].count>0)throw new Error("cwise: pre() block may not reference array index");if(n<e.body.args.length&&e.body.args[n].lvalue)throw new Error("cwise: body() block may not write to array index");if(n<e.post.args.length&&e.post.args[n].count>0)throw new Error("cwise: post() block may not reference array index")}else if(a==="shape"){if(e.shapeArgs.push(n),n<e.pre.args.length&&e.pre.args[n].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(n<e.body.args.length&&e.body.args[n].lvalue)throw new Error("cwise: body() block may not write to array shape");if(n<e.post.args.length&&e.post.args[n].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof a=="object"&&a.offset)e.argTypes[n]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(n);else throw new Error("cwise: Unknown argument type "+r[n])}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,fKe(e)}qne.exports=cKe});var _3=ne(lr=>{"use strict";var ns=b3(),w3={body:"",args:[],thisVars:[],localVars:[]};function E8(t){if(!t)return w3;for(var e=0;e<t.args.length;++e){var r=t.args[e];e===0?t.args[e]={name:r,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:t.args[e]={name:r,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function hKe(t){return ns({args:t.args,pre:E8(t.pre),body:E8(t.body),post:E8(t.proc),funcName:t.funcName})}function ei(t){for(var e=[],r=0;r<t.args.length;++r)e.push("a"+r);var n=new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""));return n(hKe(t))}var $ne={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var t in $ne){var e=$ne[t];lr[t]=ei({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),lr[t+"eq"]=ei({args:["array","array"],body:{args:["a","b"],body:"a"+e+"=b"},rvalue:!0,funcName:t+"eq"}),lr[t+"s"]=ei({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),lr[t+"seq"]=ei({args:["array","scalar"],body:{args:["a","s"],body:"a"+e+"=s"},rvalue:!0,funcName:t+"seq"})}})();var zne={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var t in zne){var e=zne[t];lr[t]=ei({args:["array","array"],body:{args:["a","b"],body:"a="+e+"b"},funcName:t}),lr[t+"eq"]=ei({args:["array"],body:{args:["a"],body:"a="+e+"a"},rvalue:!0,count:2,funcName:t+"eq"})}})();var jne={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var t in jne){var e=jne[t];lr[t]=ei({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),lr[t+"s"]=ei({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),lr[t+"eq"]=ei({args:["array","array"],body:{args:["a","b"],body:"a=a"+e+"b"},rvalue:!0,count:2,funcName:t+"eq"}),lr[t+"seq"]=ei({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+e+"s"},rvalue:!0,count:2,funcName:t+"seq"})}})();var Une=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var t=0;t<Une.length;++t){var e=Une[t];lr[e]=ei({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:e}),lr[e+"eq"]=ei({args:["array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"})}})();var Vne=["max","min","atan2","pow"];(function(){for(var t=0;t<Vne.length;++t){var e=Vne[t];lr[e]=ei({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e}),lr[e+"s"]=ei({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e+"s"}),lr[e+"eq"]=ei({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"}),lr[e+"seq"]=ei({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"seq"})}})();var Wne=["atan2","pow"];(function(){for(var t=0;t<Wne.length;++t){var e=Wne[t];lr[e+"op"]=ei({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"op"}),lr[e+"ops"]=ei({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"ops"}),lr[e+"opeq"]=ei({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opeq"}),lr[e+"opseq"]=ei({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opseq"})}})();lr.any=ns({args:["array"],pre:w3,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"});lr.all=ns({args:["array"],pre:w3,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"});lr.sum=ns({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"});lr.prod=ns({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"});lr.norm2squared=ns({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"});lr.norm2=ns({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"});lr.norminf=ns({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"});lr.norm1=ns({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"});lr.sup=ns({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}});lr.inf=ns({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}});lr.argmin=ns({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}});lr.argmax=ns({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}});lr.random=ei({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"});lr.assign=ei({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"});lr.assigns=ei({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"});lr.equals=ns({args:["array","array"],pre:w3,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})});var Hne=ne((WAt,Gne)=>{Gne.exports=b3()({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:`{
var _inline_1_v=_inline_1_arg1_,_inline_1_i
for(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {
_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]
}
_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]
}`,args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})});var Jne=ne((GAt,Zne)=>{"use strict";var Kne=md(),dKe=Hne();Zne.exports=function(e,r){for(var n=[],a=e,s=1;Array.isArray(a);)n.push(a.length),s*=a.length,a=a[0];return n.length===0?Kne():(r||(r=Kne(new Float64Array(s),n)),dKe(r,e),r)}});var Qne=ne((HAt,Xne)=>{"use strict";function Yne(t,e,r){var n=t[r]|0;if(n<=0)return[];var a=new Array(n),s;if(r===t.length-1)for(s=0;s<n;++s)a[s]=e;else for(s=0;s<n;++s)a[s]=Yne(t,e,r+1);return a}function pKe(t,e){var r,n;for(r=new Array(t),n=0;n<t;++n)r[n]=e;return r}function mKe(t,e){switch(typeof e=="undefined"&&(e=0),typeof t){case"number":if(t>0)return pKe(t|0,e);break;case"object":if(typeof t.length=="number")return Yne(t,e,0);break}return[]}Xne.exports=mKe});var eie=ne(x3=>{(function(t,e){"use strict";typeof define=="function"&&define.amd?define(["exports"],e):e(typeof x3!="undefined"?x3:t.esprima={})})(x3,function(t){"use strict";var e,r,n,a,s,o,u,l,h,p,v,y,S,A,T,I,N,D;e={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},r={},r[e.BooleanLiteral]="Boolean",r[e.EOF]="<end>",r[e.Identifier]="Identifier",r[e.Keyword]="Keyword",r[e.NullLiteral]="Null",r[e.NumericLiteral]="Numeric",r[e.Punctuator]="Punctuator",r[e.StringLiteral]="String",r[e.RegularExpression]="RegularExpression",n=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],a={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},s={Data:1,Get:2,Set:4},o={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},u={NonAsciiIdentifierStart:new RegExp("[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]"),NonAsciiIdentifierPart:new RegExp("[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0\u08A2-\u08AC\u08E4-\u08FE\u0900-\u0963\u0966-\u096F\u0971-\u0977\u0979-\u097F\u0981-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191C\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1D00-\u1DE6\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA697\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7B\uAA80-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]")};function C(P,K){if(!P)throw new Error("ASSERT: "+K)}function L(P){return P>=48&&P<=57}function z(P){return"0123456789abcdefABCDEF".indexOf(P)>=0}function $(P){return"01234567".indexOf(P)>=0}function G(P){return P===32||P===9||P===11||P===12||P===160||P>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(P)>=0}function j(P){return P===10||P===13||P===8232||P===8233}function Z(P){return P===36||P===95||P>=65&&P<=90||P>=97&&P<=122||P===92||P>=128&&u.NonAsciiIdentifierStart.test(String.fromCharCode(P))}function M(P){return P===36||P===95||P>=65&&P<=90||P>=97&&P<=122||P>=48&&P<=57||P===92||P>=128&&u.NonAsciiIdentifierPart.test(String.fromCharCode(P))}function f(P){switch(P){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function d(P){switch(P){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function g(P){return P==="eval"||P==="arguments"}function m(P){if(p&&d(P))return!0;switch(P.length){case 2:return P==="if"||P==="in"||P==="do";case 3:return P==="var"||P==="for"||P==="new"||P==="try"||P==="let";case 4:return P==="this"||P==="else"||P==="case"||P==="void"||P==="with"||P==="enum";case 5:return P==="while"||P==="break"||P==="catch"||P==="throw"||P==="const"||P==="yield"||P==="class"||P==="super";case 6:return P==="return"||P==="typeof"||P==="delete"||P==="switch"||P==="export"||P==="import";case 7:return P==="default"||P==="finally"||P==="extends";case 8:return P==="function"||P==="continue"||P==="debugger";case 10:return P==="instanceof";default:return!1}}function b(P,K,oe,Me,et){var mt,Yt;C(typeof oe=="number","Comment must have valid position"),!(N.lastCommentStart>=oe)&&(N.lastCommentStart=oe,mt={type:P,value:K},D.range&&(mt.range=[oe,Me]),D.loc&&(mt.loc=et),D.comments.push(mt),D.attachComment&&(D.leadingComments.push(mt),D.trailingComments.push(mt)))}function E(P){var K,oe,Me,et;for(K=v-P,oe={start:{line:y,column:v-S-P}};v<A;)if(Me=h.charCodeAt(v),++v,j(Me)){D.comments&&(et=h.slice(K+P,v-1),oe.end={line:y,column:v-S-1},b("Line",et,K,v-1,oe)),Me===13&&h.charCodeAt(v)===10&&++v,++y,S=v;return}D.comments&&(et=h.slice(K+P,v),oe.end={line:y,column:v-S},b("Line",et,K,v,oe))}function k(){var P,K,oe,Me;for(D.comments&&(P=v-2,K={start:{line:y,column:v-S-2}});v<A;)if(oe=h.charCodeAt(v),j(oe))oe===13&&h.charCodeAt(v+1)===10&&++v,++y,++v,S=v,v>=A&&ee({},o.UnexpectedToken,"ILLEGAL");else if(oe===42){if(h.charCodeAt(v+1)===47){++v,++v,D.comments&&(Me=h.slice(P+2,v-2),K.end={line:y,column:v-S},b("Block",Me,P,v,K));return}++v}else++v;ee({},o.UnexpectedToken,"ILLEGAL")}function w(){var P,K;for(K=v===0;v<A;)if(P=h.charCodeAt(v),G(P))++v;else if(j(P))++v,P===13&&h.charCodeAt(v)===10&&++v,++y,S=v,K=!0;else if(P===47)if(P=h.charCodeAt(v+1),P===47)++v,++v,E(2),K=!0;else if(P===42)++v,++v,k();else break;else if(K&&P===45)if(h.charCodeAt(v+1)===45&&h.charCodeAt(v+2)===62)v+=3,E(3);else break;else if(P===60)if(h.slice(v+1,v+4)==="!--")++v,++v,++v,++v,E(4);else break;else break}function c(P){var K,oe,Me,et=0;for(oe=P==="u"?4:2,K=0;K<oe;++K)if(v<A&&z(h[v]))Me=h[v++],et=et*16+"0123456789abcdef".indexOf(Me.toLowerCase());else return"";return String.fromCharCode(et)}function _(){var P,K;for(P=h.charCodeAt(v++),K=String.fromCharCode(P),P===92&&(h.charCodeAt(v)!==117&&ee({},o.UnexpectedToken,"ILLEGAL"),++v,P=c("u"),(!P||P==="\\"||!Z(P.charCodeAt(0)))&&ee({},o.UnexpectedToken,"ILLEGAL"),K=P);v<A&&(P=h.charCodeAt(v),!!M(P));)++v,K+=String.fromCharCode(P),P===92&&(K=K.substr(0,K.length-1),h.charCodeAt(v)!==117&&ee({},o.UnexpectedToken,"ILLEGAL"),++v,P=c("u"),(!P||P==="\\"||!M(P.charCodeAt(0)))&&ee({},o.UnexpectedToken,"ILLEGAL"),K+=P);return K}function R(){var P,K;for(P=v++;v<A;){if(K=h.charCodeAt(v),K===92)return v=P,_();if(M(K))++v;else break}return h.slice(P,v)}function O(){var P,K,oe;return P=v,K=h.charCodeAt(v)===92?_():R(),K.length===1?oe=e.Identifier:m(K)?oe=e.Keyword:K==="null"?oe=e.NullLiteral:K==="true"||K==="false"?oe=e.BooleanLiteral:oe=e.Identifier,{type:oe,value:K,lineNumber:y,lineStart:S,start:P,end:v}}function F(){var P=v,K=h.charCodeAt(v),oe,Me=h[v],et,mt,Yt;switch(K){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++v,D.tokenize&&(K===40?D.openParenToken=D.tokens.length:K===123&&(D.openCurlyToken=D.tokens.length)),{type:e.Punctuator,value:String.fromCharCode(K),lineNumber:y,lineStart:S,start:P,end:v};default:if(oe=h.charCodeAt(v+1),oe===61)switch(K){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return v+=2,{type:e.Punctuator,value:String.fromCharCode(K)+String.fromCharCode(oe),lineNumber:y,lineStart:S,start:P,end:v};case 33:case 61:return v+=2,h.charCodeAt(v)===61&&++v,{type:e.Punctuator,value:h.slice(P,v),lineNumber:y,lineStart:S,start:P,end:v}}}if(Yt=h.substr(v,4),Yt===">>>=")return v+=4,{type:e.Punctuator,value:Yt,lineNumber:y,lineStart:S,start:P,end:v};if(mt=Yt.substr(0,3),mt===">>>"||mt==="<<="||mt===">>=")return v+=3,{type:e.Punctuator,value:mt,lineNumber:y,lineStart:S,start:P,end:v};if(et=mt.substr(0,2),Me===et[1]&&"+-<>&|".indexOf(Me)>=0||et==="=>")return v+=2,{type:e.Punctuator,value:et,lineNumber:y,lineStart:S,start:P,end:v};if("<>=!+-*%&|^/".indexOf(Me)>=0)return++v,{type:e.Punctuator,value:Me,lineNumber:y,lineStart:S,start:P,end:v};ee({},o.UnexpectedToken,"ILLEGAL")}function U(P){for(var K="";v<A&&z(h[v]);)K+=h[v++];return K.length===0&&ee({},o.UnexpectedToken,"ILLEGAL"),Z(h.charCodeAt(v))&&ee({},o.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseInt("0x"+K,16),lineNumber:y,lineStart:S,start:P,end:v}}function H(P){for(var K="0"+h[v++];v<A&&$(h[v]);)K+=h[v++];return(Z(h.charCodeAt(v))||L(h.charCodeAt(v)))&&ee({},o.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseInt(K,8),octal:!0,lineNumber:y,lineStart:S,start:P,end:v}}function J(){var P,K;for(P=v+1;P<A;++P){if(K=h[P],K==="8"||K==="9")return!1;if(!$(K))return!0}return!0}function fe(){var P,K,oe;if(oe=h[v],C(L(oe.charCodeAt(0))||oe===".","Numeric literal must start with a decimal digit or a decimal point"),K=v,P="",oe!=="."){if(P=h[v++],oe=h[v],P==="0"){if(oe==="x"||oe==="X")return++v,U(K);if($(oe)&&J())return H(K)}for(;L(h.charCodeAt(v));)P+=h[v++];oe=h[v]}if(oe==="."){for(P+=h[v++];L(h.charCodeAt(v));)P+=h[v++];oe=h[v]}if(oe==="e"||oe==="E")if(P+=h[v++],oe=h[v],(oe==="+"||oe==="-")&&(P+=h[v++]),L(h.charCodeAt(v)))for(;L(h.charCodeAt(v));)P+=h[v++];else ee({},o.UnexpectedToken,"ILLEGAL");return Z(h.charCodeAt(v))&&ee({},o.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseFloat(P),lineNumber:y,lineStart:S,start:K,end:v}}function B(){var P="",K,oe,Me,et,mt,Yt,Dr=!1,Ji,Oi;for(Ji=y,Oi=S,K=h[v],C(K==="'"||K==='"',"String literal must starts with a quote"),oe=v,++v;v<A;)if(Me=h[v++],Me===K){K="";break}else if(Me==="\\")if(Me=h[v++],!Me||!j(Me.charCodeAt(0)))switch(Me){case"u":case"x":Yt=v,mt=c(Me),mt?P+=mt:(v=Yt,P+=Me);break;case"n":P+=`
`;break;case"r":P+="\r";break;case"t":P+="	";break;case"b":P+="\b";break;case"f":P+="\f";break;case"v":P+="\v";break;default:$(Me)?(et="01234567".indexOf(Me),et!==0&&(Dr=!0),v<A&&$(h[v])&&(Dr=!0,et=et*8+"01234567".indexOf(h[v++]),"0123".indexOf(Me)>=0&&v<A&&$(h[v])&&(et=et*8+"01234567".indexOf(h[v++]))),P+=String.fromCharCode(et)):P+=Me;break}else++y,Me==="\r"&&h[v]===`
`&&++v,S=v;else{if(j(Me.charCodeAt(0)))break;P+=Me}return K!==""&&ee({},o.UnexpectedToken,"ILLEGAL"),{type:e.StringLiteral,value:P,octal:Dr,startLineNumber:Ji,startLineStart:Oi,lineNumber:y,lineStart:S,start:oe,end:v}}function q(P,K){var oe;try{oe=new RegExp(P,K)}catch(Me){ee({},o.InvalidRegExp)}return oe}function Y(){var P,K,oe,Me,et;for(P=h[v],C(P==="/","Regular expression literal must start with a slash"),K=h[v++],oe=!1,Me=!1;v<A;)if(P=h[v++],K+=P,P==="\\")P=h[v++],j(P.charCodeAt(0))&&ee({},o.UnterminatedRegExp),K+=P;else if(j(P.charCodeAt(0)))ee({},o.UnterminatedRegExp);else if(oe)P==="]"&&(oe=!1);else if(P==="/"){Me=!0;break}else P==="["&&(oe=!0);return Me||ee({},o.UnterminatedRegExp),et=K.substr(1,K.length-2),{value:et,literal:K}}function X(){var P,K,oe,Me;for(K="",oe="";v<A&&(P=h[v],!!M(P.charCodeAt(0)));)if(++v,P==="\\"&&v<A)if(P=h[v],P==="u"){if(++v,Me=v,P=c("u"),P)for(oe+=P,K+="\\u";Me<v;++Me)K+=h[Me];else v=Me,oe+="u",K+="\\u";ie({},o.UnexpectedToken,"ILLEGAL")}else K+="\\",ie({},o.UnexpectedToken,"ILLEGAL");else oe+=P,K+=P;return{value:oe,literal:K}}function Q(){var P,K,oe,Me,et;return I=null,w(),P=v,K=Y(),oe=X(),et=q(K.value,oe.value),D.tokenize?{type:e.RegularExpression,value:et,lineNumber:y,lineStart:S,start:P,end:v}:{literal:K.literal+oe.literal,value:et,start:P,end:v}}function be(){var P,K,oe,Me;return w(),P=v,K={start:{line:y,column:v-S}},oe=Q(),K.end={line:y,column:v-S},D.tokenize||(D.tokens.length>0&&(Me=D.tokens[D.tokens.length-1],Me.range[0]===P&&Me.type==="Punctuator"&&(Me.value==="/"||Me.value==="/=")&&D.tokens.pop()),D.tokens.push({type:"RegularExpression",value:oe.literal,range:[P,v],loc:K})),oe}function ue(P){return P.type===e.Identifier||P.type===e.Keyword||P.type===e.BooleanLiteral||P.type===e.NullLiteral}function me(){var P,K;if(P=D.tokens[D.tokens.length-1],!P)return be();if(P.type==="Punctuator"){if(P.value==="]")return F();if(P.value===")")return K=D.tokens[D.openParenToken-1],K&&K.type==="Keyword"&&(K.value==="if"||K.value==="while"||K.value==="for"||K.value==="with")?be():F();if(P.value==="}"){if(D.tokens[D.openCurlyToken-3]&&D.tokens[D.openCurlyToken-3].type==="Keyword"){if(K=D.tokens[D.openCurlyToken-4],!K)return F()}else if(D.tokens[D.openCurlyToken-4]&&D.tokens[D.openCurlyToken-4].type==="Keyword"){if(K=D.tokens[D.openCurlyToken-5],!K)return be()}else return F();return n.indexOf(K.value)>=0?F():be()}return be()}return P.type==="Keyword"&&P.value!=="this"?be():F()}function yt(){var P;return w(),v>=A?{type:e.EOF,lineNumber:y,lineStart:S,start:v,end:v}:(P=h.charCodeAt(v),Z(P)?O():P===40||P===41||P===59?F():P===39||P===34?B():P===46?L(h.charCodeAt(v+1))?fe():F():L(P)?fe():D.tokenize&&P===47?me():F())}function xe(){var P,K,oe,Me;return w(),P={start:{line:y,column:v-S}},K=yt(),P.end={line:y,column:v-S},K.type!==e.EOF&&(Me=h.slice(K.start,K.end),D.tokens.push({type:r[K.type],value:Me,range:[K.start,K.end],loc:P})),K}function le(){var P;return P=I,v=P.end,y=P.lineNumber,S=P.lineStart,I=typeof D.tokens!="undefined"?xe():yt(),v=P.end,y=P.lineNumber,S=P.lineStart,P}function zt(){var P,K,oe;P=v,K=y,oe=S,I=typeof D.tokens!="undefined"?xe():yt(),v=P,y=K,S=oe}function we(P,K){this.line=P,this.column=K}function Te(P,K,oe,Me){this.start=new we(P,K),this.end=new we(oe,Me)}l={name:"SyntaxTree",processComment:function(P){var K,oe;if(!(P.type===a.Program&&P.body.length>0)){for(D.trailingComments.length>0?D.trailingComments[0].range[0]>=P.range[1]?(oe=D.trailingComments,D.trailingComments=[]):D.trailingComments.length=0:D.bottomRightStack.length>0&&D.bottomRightStack[D.bottomRightStack.length-1].trailingComments&&D.bottomRightStack[D.bottomRightStack.length-1].trailingComments[0].range[0]>=P.range[1]&&(oe=D.bottomRightStack[D.bottomRightStack.length-1].trailingComments,delete D.bottomRightStack[D.bottomRightStack.length-1].trailingComments);D.bottomRightStack.length>0&&D.bottomRightStack[D.bottomRightStack.length-1].range[0]>=P.range[0];)K=D.bottomRightStack.pop();K?K.leadingComments&&K.leadingComments[K.leadingComments.length-1].range[1]<=P.range[0]&&(P.leadingComments=K.leadingComments,delete K.leadingComments):D.leadingComments.length>0&&D.leadingComments[D.leadingComments.length-1].range[1]<=P.range[0]&&(P.leadingComments=D.leadingComments,D.leadingComments=[]),oe&&(P.trailingComments=oe),D.bottomRightStack.push(P)}},markEnd:function(P,K){return D.range&&(P.range=[K.start,v]),D.loc&&(P.loc=new Te(K.startLineNumber===void 0?K.lineNumber:K.startLineNumber,K.start-(K.startLineStart===void 0?K.lineStart:K.startLineStart),y,v-S),this.postProcess(P)),D.attachComment&&this.processComment(P),P},postProcess:function(P){return D.source&&(P.loc.source=D.source),P},createArrayExpression:function(P){return{type:a.ArrayExpression,elements:P}},createAssignmentExpression:function(P,K,oe){return{type:a.AssignmentExpression,operator:P,left:K,right:oe}},createBinaryExpression:function(P,K,oe){var Me=P==="||"||P==="&&"?a.LogicalExpression:a.BinaryExpression;return{type:Me,operator:P,left:K,right:oe}},createBlockStatement:function(P){return{type:a.BlockStatement,body:P}},createBreakStatement:function(P){return{type:a.BreakStatement,label:P}},createCallExpression:function(P,K){return{type:a.CallExpression,callee:P,arguments:K}},createCatchClause:function(P,K){return{type:a.CatchClause,param:P,body:K}},createConditionalExpression:function(P,K,oe){return{type:a.ConditionalExpression,test:P,consequent:K,alternate:oe}},createContinueStatement:function(P){return{type:a.ContinueStatement,label:P}},createDebuggerStatement:function(){return{type:a.DebuggerStatement}},createDoWhileStatement:function(P,K){return{type:a.DoWhileStatement,body:P,test:K}},createEmptyStatement:function(){return{type:a.EmptyStatement}},createExpressionStatement:function(P){return{type:a.ExpressionStatement,expression:P}},createForStatement:function(P,K,oe,Me){return{type:a.ForStatement,init:P,test:K,update:oe,body:Me}},createForInStatement:function(P,K,oe){return{type:a.ForInStatement,left:P,right:K,body:oe,each:!1}},createFunctionDeclaration:function(P,K,oe,Me){return{type:a.FunctionDeclaration,id:P,params:K,defaults:oe,body:Me,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(P,K,oe,Me){return{type:a.FunctionExpression,id:P,params:K,defaults:oe,body:Me,rest:null,generator:!1,expression:!1}},createIdentifier:function(P){return{type:a.Identifier,name:P}},createIfStatement:function(P,K,oe){return{type:a.IfStatement,test:P,consequent:K,alternate:oe}},createLabeledStatement:function(P,K){return{type:a.LabeledStatement,label:P,body:K}},createLiteral:function(P){return{type:a.Literal,value:P.value,raw:h.slice(P.start,P.end)}},createMemberExpression:function(P,K,oe){return{type:a.MemberExpression,computed:P==="[",object:K,property:oe}},createNewExpression:function(P,K){return{type:a.NewExpression,callee:P,arguments:K}},createObjectExpression:function(P){return{type:a.ObjectExpression,properties:P}},createPostfixExpression:function(P,K){return{type:a.UpdateExpression,operator:P,argument:K,prefix:!1}},createProgram:function(P){return{type:a.Program,body:P}},createProperty:function(P,K,oe){return{type:a.Property,key:K,value:oe,kind:P}},createReturnStatement:function(P){return{type:a.ReturnStatement,argument:P}},createSequenceExpression:function(P){return{type:a.SequenceExpression,expressions:P}},createSwitchCase:function(P,K){return{type:a.SwitchCase,test:P,consequent:K}},createSwitchStatement:function(P,K){return{type:a.SwitchStatement,discriminant:P,cases:K}},createThisExpression:function(){return{type:a.ThisExpression}},createThrowStatement:function(P){return{type:a.ThrowStatement,argument:P}},createTryStatement:function(P,K,oe,Me){return{type:a.TryStatement,block:P,guardedHandlers:K,handlers:oe,finalizer:Me}},createUnaryExpression:function(P,K){return P==="++"||P==="--"?{type:a.UpdateExpression,operator:P,argument:K,prefix:!0}:{type:a.UnaryExpression,operator:P,argument:K,prefix:!0}},createVariableDeclaration:function(P,K){return{type:a.VariableDeclaration,declarations:P,kind:K}},createVariableDeclarator:function(P,K){return{type:a.VariableDeclarator,id:P,init:K}},createWhileStatement:function(P,K){return{type:a.WhileStatement,test:P,body:K}},createWithStatement:function(P,K){return{type:a.WithStatement,object:P,body:K}}};function ot(){var P,K,oe,Me;return P=v,K=y,oe=S,w(),Me=y!==K,v=P,y=K,S=oe,Me}function ee(P,K){var oe,Me=Array.prototype.slice.call(arguments,2),et=K.replace(/%(\d)/g,function(mt,Yt){return C(Yt<Me.length,"Message reference must be in range"),Me[Yt]});throw typeof P.lineNumber=="number"?(oe=new Error("Line "+P.lineNumber+": "+et),oe.index=P.start,oe.lineNumber=P.lineNumber,oe.column=P.start-S+1):(oe=new Error("Line "+y+": "+et),oe.index=v,oe.lineNumber=y,oe.column=v-S+1),oe.description=et,oe}function ie(){try{ee.apply(null,arguments)}catch(P){if(D.errors)D.errors.push(P);else throw P}}function rt(P){if(P.type===e.EOF&&ee(P,o.UnexpectedEOS),P.type===e.NumericLiteral&&ee(P,o.UnexpectedNumber),P.type===e.StringLiteral&&ee(P,o.UnexpectedString),P.type===e.Identifier&&ee(P,o.UnexpectedIdentifier),P.type===e.Keyword){if(f(P.value))ee(P,o.UnexpectedReserved);else if(p&&d(P.value)){ie(P,o.StrictReservedWord);return}ee(P,o.UnexpectedToken,P.value)}ee(P,o.UnexpectedToken,P.value)}function ae(P){var K=le();(K.type!==e.Punctuator||K.value!==P)&&rt(K)}function de(P){var K=le();(K.type!==e.Keyword||K.value!==P)&&rt(K)}function Je(P){return I.type===e.Punctuator&&I.value===P}function he(P){return I.type===e.Keyword&&I.value===P}function Se(){var P;return I.type!==e.Punctuator?!1:(P=I.value,P==="="||P==="*="||P==="/="||P==="%="||P==="+="||P==="-="||P==="<<="||P===">>="||P===">>>="||P==="&="||P==="^="||P==="|=")}function Tt(){var P,K=v,oe=y,Me=S,et=I;if(h.charCodeAt(v)===59||Je(";")){le();return}if(P=y,w(),y!==P){v=K,y=oe,S=Me,I=et;return}I.type!==e.EOF&&!Je("}")&&rt(I)}function _e(P){return P.type===a.Identifier||P.type===a.MemberExpression}function Ie(){var P=[],K;for(K=I,ae("[");!Je("]");)Je(",")?(le(),P.push(null)):(P.push(Er()),Je("]")||ae(","));return le(),T.markEnd(T.createArrayExpression(P),K)}function ar(P,K){var oe,Me,et;return oe=p,et=I,Me=Ir(),K&&p&&g(P[0].name)&&ie(K,o.StrictParamName),p=oe,T.markEnd(T.createFunctionExpression(null,P,[],Me),et)}function Ne(){var P,K;return K=I,P=le(),P.type===e.StringLiteral||P.type===e.NumericLiteral?(p&&P.octal&&ie(P,o.StrictOctalLiteral),T.markEnd(T.createLiteral(P),K)):T.markEnd(T.createIdentifier(P.value),K)}function Re(){var P,K,oe,Me,et,mt;if(P=I,mt=I,P.type===e.Identifier)return oe=Ne(),P.value==="get"&&!Je(":")?(K=Ne(),ae("("),ae(")"),Me=ar([]),T.markEnd(T.createProperty("get",K,Me),mt)):P.value==="set"&&!Je(":")?(K=Ne(),ae("("),P=I,P.type!==e.Identifier?(ae(")"),ie(P,o.UnexpectedToken,P.value),Me=ar([])):(et=[De()],ae(")"),Me=ar(et,P)),T.markEnd(T.createProperty("set",K,Me),mt)):(ae(":"),Me=Er(),T.markEnd(T.createProperty("init",oe,Me),mt));if(P.type===e.EOF||P.type===e.Punctuator)rt(P);else return K=Ne(),ae(":"),Me=Er(),T.markEnd(T.createProperty("init",K,Me),mt)}function ri(){var P=[],K,oe,Me,et,mt={},Yt=String,Dr;for(Dr=I,ae("{");!Je("}");)K=Re(),K.key.type===a.Identifier?oe=K.key.name:oe=Yt(K.key.value),et=K.kind==="init"?s.Data:K.kind==="get"?s.Get:s.Set,Me="$"+oe,Object.prototype.hasOwnProperty.call(mt,Me)?(mt[Me]===s.Data?p&&et===s.Data?ie({},o.StrictDuplicateProperty):et!==s.Data&&ie({},o.AccessorDataProperty):et===s.Data?ie({},o.AccessorDataProperty):mt[Me]&et&&ie({},o.AccessorGetSet),mt[Me]|=et):mt[Me]=et,P.push(K),Je("}")||ae(",");return ae("}"),T.markEnd(T.createObjectExpression(P),Dr)}function qe(){var P;return ae("("),P=ke(),ae(")"),P}function Fe(){var P,K,oe,Me;if(Je("("))return qe();if(Je("["))return Ie();if(Je("{"))return ri();if(P=I.type,Me=I,P===e.Identifier)oe=T.createIdentifier(le().value);else if(P===e.StringLiteral||P===e.NumericLiteral)p&&I.octal&&ie(I,o.StrictOctalLiteral),oe=T.createLiteral(le());else if(P===e.Keyword){if(he("function"))return vv();he("this")?(le(),oe=T.createThisExpression()):rt(le())}else P===e.BooleanLiteral?(K=le(),K.value=K.value==="true",oe=T.createLiteral(K)):P===e.NullLiteral?(K=le(),K.value=null,oe=T.createLiteral(K)):Je("/")||Je("/=")?(typeof D.tokens!="undefined"?oe=T.createLiteral(be()):oe=T.createLiteral(Q()),zt()):rt(le());return T.markEnd(oe,Me)}function Un(){var P=[];if(ae("("),!Je(")"))for(;v<A&&(P.push(Er()),!Je(")"));)ae(",");return ae(")"),P}function $e(){var P,K;return K=I,P=le(),ue(P)||rt(P),T.markEnd(T.createIdentifier(P.value),K)}function Be(){return ae("."),$e()}function Vn(){var P;return ae("["),P=ke(),ae("]"),P}function Le(){var P,K,oe;return oe=I,de("new"),P=ni(),K=Je("(")?Un():[],T.markEnd(T.createNewExpression(P,K),oe)}function ze(){var P,K,oe,Me,et=N.allowIn;for(Me=I,N.allowIn=!0,P=he("new")?Le():Fe();;){if(Je("."))oe=Be(),P=T.createMemberExpression(".",P,oe);else if(Je("("))K=Un(),P=T.createCallExpression(P,K);else if(Je("["))oe=Vn(),P=T.createMemberExpression("[",P,oe);else break;T.markEnd(P,Me)}return N.allowIn=et,P}function ni(){var P,K,oe;for(C(N.allowIn,"callee of new expression always allow in keyword."),oe=I,P=he("new")?Le():Fe();Je(".")||Je("[");)Je("[")?(K=Vn(),P=T.createMemberExpression("[",P,K)):(K=Be(),P=T.createMemberExpression(".",P,K)),T.markEnd(P,oe);return P}function Pe(){var P,K,oe=I;return P=ze(),I.type===e.Punctuator&&(Je("++")||Je("--"))&&!ot()&&(p&&P.type===a.Identifier&&g(P.name)&&ie({},o.StrictLHSPostfix),_e(P)||ie({},o.InvalidLHSInAssignment),K=le(),P=T.markEnd(T.createPostfixExpression(K.value,P),oe)),P}function Oe(){var P,K,oe;return I.type!==e.Punctuator&&I.type!==e.Keyword?K=Pe():Je("++")||Je("--")?(oe=I,P=le(),K=Oe(),p&&K.type===a.Identifier&&g(K.name)&&ie({},o.StrictLHSPrefix),_e(K)||ie({},o.InvalidLHSInAssignment),K=T.createUnaryExpression(P.value,K),K=T.markEnd(K,oe)):Je("+")||Je("-")||Je("~")||Je("!")?(oe=I,P=le(),K=Oe(),K=T.createUnaryExpression(P.value,K),K=T.markEnd(K,oe)):he("delete")||he("void")||he("typeof")?(oe=I,P=le(),K=Oe(),K=T.createUnaryExpression(P.value,K),K=T.markEnd(K,oe),p&&K.operator==="delete"&&K.argument.type===a.Identifier&&ie({},o.StrictDelete)):K=Pe(),K}function Wn(P,K){var oe=0;if(P.type!==e.Punctuator&&P.type!==e.Keyword)return 0;switch(P.value){case"||":oe=1;break;case"&&":oe=2;break;case"|":oe=3;break;case"^":oe=4;break;case"&":oe=5;break;case"==":case"!=":case"===":case"!==":oe=6;break;case"<":case">":case"<=":case">=":case"instanceof":oe=7;break;case"in":oe=K?7:0;break;case"<<":case">>":case">>>":oe=8;break;case"+":case"-":oe=9;break;case"*":case"/":case"%":oe=11;break;default:break}return oe}function je(){var P,K,oe,Me,et,mt,Yt,Dr,Ji,Oi;if(P=I,Ji=Oe(),Me=I,et=Wn(Me,N.allowIn),et===0)return Ji;for(Me.prec=et,le(),K=[P,I],Yt=Oe(),mt=[Ji,Me,Yt];(et=Wn(I,N.allowIn))>0;){for(;mt.length>2&&et<=mt[mt.length-2].prec;)Yt=mt.pop(),Dr=mt.pop().value,Ji=mt.pop(),oe=T.createBinaryExpression(Dr,Ji,Yt),K.pop(),P=K[K.length-1],T.markEnd(oe,P),mt.push(oe);Me=le(),Me.prec=et,mt.push(Me),K.push(I),oe=Oe(),mt.push(oe)}for(Oi=mt.length-1,oe=mt[Oi],K.pop();Oi>1;)oe=T.createBinaryExpression(mt[Oi-1].value,mt[Oi-2],oe),Oi-=2,P=K.pop(),T.markEnd(oe,P);return oe}function Ue(){var P,K,oe,Me,et;return et=I,P=je(),Je("?")&&(le(),K=N.allowIn,N.allowIn=!0,oe=Er(),N.allowIn=K,ae(":"),Me=Er(),P=T.createConditionalExpression(P,oe,Me),T.markEnd(P,et)),P}function Er(){var P,K,oe,Me,et;return P=I,et=I,Me=K=Ue(),Se()&&(_e(K)||ie({},o.InvalidLHSInAssignment),p&&K.type===a.Identifier&&g(K.name)&&ie(P,o.StrictLHSAssignment),P=le(),oe=Er(),Me=T.markEnd(T.createAssignmentExpression(P.value,K,oe),et)),Me}function ke(){var P,K=I;if(P=Er(),Je(",")){for(P=T.createSequenceExpression([P]);v<A&&Je(",");)le(),P.expressions.push(Er());T.markEnd(P,K)}return P}function Ve(){for(var P=[],K;v<A&&!(Je("}")||(K=gv(),typeof K=="undefined"));)P.push(K);return P}function In(){var P,K;return K=I,ae("{"),P=Ve(),ae("}"),T.markEnd(T.createBlockStatement(P),K)}function De(){var P,K;return K=I,P=le(),P.type!==e.Identifier&&rt(P),T.markEnd(T.createIdentifier(P.value),K)}function We(P){var K=null,oe,Me;return Me=I,oe=De(),p&&g(oe.name)&&ie({},o.StrictVarName),P==="const"?(ae("="),K=Er()):Je("=")&&(le(),K=Er()),T.markEnd(T.createVariableDeclarator(oe,K),Me)}function Fn(P){var K=[];do{if(K.push(We(P)),!Je(","))break;le()}while(v<A);return K}function Ge(){var P;return de("var"),P=Fn(),Tt(),T.createVariableDeclaration(P,"var")}function He(P){var K,oe;return oe=I,de(P),K=Fn(P),Tt(),T.markEnd(T.createVariableDeclaration(K,P),oe)}function sn(){return ae(";"),T.createEmptyStatement()}function Ct(){var P=ke();return Tt(),T.createExpressionStatement(P)}function Ft(){var P,K,oe;return de("if"),ae("("),P=ke(),ae(")"),K=er(),he("else")?(le(),oe=er()):oe=null,T.createIfStatement(P,K,oe)}function $r(){var P,K,oe;return de("do"),oe=N.inIteration,N.inIteration=!0,P=er(),N.inIteration=oe,de("while"),ae("("),K=ke(),ae(")"),Je(";")&&le(),T.createDoWhileStatement(P,K)}function zr(){var P,K,oe;return de("while"),ae("("),P=ke(),ae(")"),oe=N.inIteration,N.inIteration=!0,K=er(),N.inIteration=oe,T.createWhileStatement(P,K)}function jr(){var P,K,oe;return oe=I,P=le(),K=Fn(),T.markEnd(T.createVariableDeclaration(K,P.value),oe)}function Ur(){var P,K,oe,Me,et,mt,Yt,Dr=N.allowIn;return P=K=oe=null,de("for"),ae("("),Je(";")?le():(he("var")||he("let")?(N.allowIn=!1,P=jr(),N.allowIn=Dr,P.declarations.length===1&&he("in")&&(le(),Me=P,et=ke(),P=null)):(N.allowIn=!1,P=ke(),N.allowIn=Dr,he("in")&&(_e(P)||ie({},o.InvalidLHSInForIn),le(),Me=P,et=ke(),P=null)),typeof Me=="undefined"&&ae(";")),typeof Me=="undefined"&&(Je(";")||(K=ke()),ae(";"),Je(")")||(oe=ke())),ae(")"),Yt=N.inIteration,N.inIteration=!0,mt=er(),N.inIteration=Yt,typeof Me=="undefined"?T.createForStatement(P,K,oe,mt):T.createForInStatement(Me,et,mt)}function Vr(){var P=null,K;return de("continue"),h.charCodeAt(v)===59?(le(),N.inIteration||ee({},o.IllegalContinue),T.createContinueStatement(null)):ot()?(N.inIteration||ee({},o.IllegalContinue),T.createContinueStatement(null)):(I.type===e.Identifier&&(P=De(),K="$"+P.name,Object.prototype.hasOwnProperty.call(N.labelSet,K)||ee({},o.UnknownLabel,P.name)),Tt(),P===null&&!N.inIteration&&ee({},o.IllegalContinue),T.createContinueStatement(P))}function Wr(){var P=null,K;return de("break"),h.charCodeAt(v)===59?(le(),N.inIteration||N.inSwitch||ee({},o.IllegalBreak),T.createBreakStatement(null)):ot()?(N.inIteration||N.inSwitch||ee({},o.IllegalBreak),T.createBreakStatement(null)):(I.type===e.Identifier&&(P=De(),K="$"+P.name,Object.prototype.hasOwnProperty.call(N.labelSet,K)||ee({},o.UnknownLabel,P.name)),Tt(),P===null&&!(N.inIteration||N.inSwitch)&&ee({},o.IllegalBreak),T.createBreakStatement(P))}function Gr(){var P=null;return de("return"),N.inFunctionBody||ie({},o.IllegalReturn),h.charCodeAt(v)===32&&Z(h.charCodeAt(v+1))?(P=ke(),Tt(),T.createReturnStatement(P)):ot()?T.createReturnStatement(null):(Je(";")||!Je("}")&&I.type!==e.EOF&&(P=ke()),Tt(),T.createReturnStatement(P))}function Hr(){var P,K;return p&&(w(),ie({},o.StrictModeWith)),de("with"),ae("("),P=ke(),ae(")"),K=er(),T.createWithStatement(P,K)}function Kr(){var P,K=[],oe,Me;for(Me=I,he("default")?(le(),P=null):(de("case"),P=ke()),ae(":");v<A&&!(Je("}")||he("default")||he("case"));)oe=er(),K.push(oe);return T.markEnd(T.createSwitchCase(P,K),Me)}function Zr(){var P,K,oe,Me,et;if(de("switch"),ae("("),P=ke(),ae(")"),ae("{"),K=[],Je("}"))return le(),T.createSwitchStatement(P,K);for(Me=N.inSwitch,N.inSwitch=!0,et=!1;v<A&&!Je("}");)oe=Kr(),oe.test===null&&(et&&ee({},o.MultipleDefaultsInSwitch),et=!0),K.push(oe);return N.inSwitch=Me,ae("}"),T.createSwitchStatement(P,K)}function Jr(){var P;return de("throw"),ot()&&ee({},o.NewlineAfterThrow),P=ke(),Tt(),T.createThrowStatement(P)}function Yr(){var P,K,oe;return oe=I,de("catch"),ae("("),Je(")")&&rt(I),P=De(),p&&g(P.name)&&ie({},o.StrictCatchVariable),ae(")"),K=In(),T.markEnd(T.createCatchClause(P,K),oe)}function Xr(){var P,K=[],oe=null;return de("try"),P=In(),he("catch")&&K.push(Yr()),he("finally")&&(le(),oe=In()),K.length===0&&!oe&&ee({},o.NoCatchOrFinally),T.createTryStatement(P,[],K,oe)}function Qr(){return de("debugger"),Tt(),T.createDebuggerStatement()}function er(){var P=I.type,K,oe,Me,et;if(P===e.EOF&&rt(I),P===e.Punctuator&&I.value==="{")return In();if(et=I,P===e.Punctuator)switch(I.value){case";":return T.markEnd(sn(),et);case"(":return T.markEnd(Ct(),et);default:break}if(P===e.Keyword)switch(I.value){case"break":return T.markEnd(Wr(),et);case"continue":return T.markEnd(Vr(),et);case"debugger":return T.markEnd(Qr(),et);case"do":return T.markEnd($r(),et);case"for":return T.markEnd(Ur(),et);case"function":return T.markEnd(Sd(),et);case"if":return T.markEnd(Ft(),et);case"return":return T.markEnd(Gr(),et);case"switch":return T.markEnd(Zr(),et);case"throw":return T.markEnd(Jr(),et);case"try":return T.markEnd(Xr(),et);case"var":return T.markEnd(Ge(),et);case"while":return T.markEnd(zr(),et);case"with":return T.markEnd(Hr(),et);default:break}return K=ke(),K.type===a.Identifier&&Je(":")?(le(),Me="$"+K.name,Object.prototype.hasOwnProperty.call(N.labelSet,Me)&&ee({},o.Redeclaration,"Label",K.name),N.labelSet[Me]=!0,oe=er(),delete N.labelSet[Me],T.markEnd(T.createLabeledStatement(K,oe),et)):(Tt(),T.markEnd(T.createExpressionStatement(K),et))}function Ir(){var P,K=[],oe,Me,et,mt,Yt,Dr,Ji,Oi;for(Oi=I,ae("{");v<A&&!(I.type!==e.StringLiteral||(oe=I,P=gv(),K.push(P),P.expression.type!==a.Literal));)Me=h.slice(oe.start+1,oe.end-1),Me==="use strict"?(p=!0,et&&ie(et,o.StrictOctalLiteral)):!et&&oe.octal&&(et=oe);for(mt=N.labelSet,Yt=N.inIteration,Dr=N.inSwitch,Ji=N.inFunctionBody,N.labelSet={},N.inIteration=!1,N.inSwitch=!1,N.inFunctionBody=!0;v<A&&!(Je("}")||(P=gv(),typeof P=="undefined"));)K.push(P);return ae("}"),N.labelSet=mt,N.inIteration=Yt,N.inSwitch=Dr,N.inFunctionBody=Ji,T.markEnd(T.createBlockStatement(K),Oi)}function xd(P){var K,oe=[],Me,et,mt,Yt,Dr;if(ae("("),!Je(")"))for(mt={};v<A&&(Me=I,K=De(),Yt="$"+Me.value,p?(g(Me.value)&&(et=Me,Dr=o.StrictParamName),Object.prototype.hasOwnProperty.call(mt,Yt)&&(et=Me,Dr=o.StrictParamDupe)):P||(g(Me.value)?(P=Me,Dr=o.StrictParamName):d(Me.value)?(P=Me,Dr=o.StrictReservedWord):Object.prototype.hasOwnProperty.call(mt,Yt)&&(P=Me,Dr=o.StrictParamDupe)),oe.push(K),mt[Yt]=!0,!Je(")"));)ae(",");return ae(")"),{params:oe,stricted:et,firstRestricted:P,message:Dr}}function Sd(){var P,K=[],oe,Me,et,mt,Yt,Dr,Ji,Oi;return Oi=I,de("function"),Me=I,P=De(),p?g(Me.value)&&ie(Me,o.StrictFunctionName):g(Me.value)?(Yt=Me,Dr=o.StrictFunctionName):d(Me.value)&&(Yt=Me,Dr=o.StrictReservedWord),mt=xd(Yt),K=mt.params,et=mt.stricted,Yt=mt.firstRestricted,mt.message&&(Dr=mt.message),Ji=p,oe=Ir(),p&&Yt&&ee(Yt,Dr),p&&et&&ie(et,Dr),p=Ji,T.markEnd(T.createFunctionDeclaration(P,K,[],oe),Oi)}function vv(){var P,K=null,oe,Me,et,mt,Yt=[],Dr,Ji,Oi;return Oi=I,de("function"),Je("(")||(P=I,K=De(),p?g(P.value)&&ie(P,o.StrictFunctionName):g(P.value)?(Me=P,et=o.StrictFunctionName):d(P.value)&&(Me=P,et=o.StrictReservedWord)),mt=xd(Me),Yt=mt.params,oe=mt.stricted,Me=mt.firstRestricted,mt.message&&(et=mt.message),Ji=p,Dr=Ir(),p&&Me&&ee(Me,et),p&&oe&&ie(oe,et),p=Ji,T.markEnd(T.createFunctionExpression(K,Yt,[],Dr),Oi)}function gv(){if(I.type===e.Keyword)switch(I.value){case"const":case"let":return He(I.value);case"function":return Sd();default:return er()}if(I.type!==e.EOF)return er()}function cse(){for(var P,K=[],oe,Me,et;v<A&&(oe=I,!(oe.type!==e.StringLiteral||(P=gv(),K.push(P),P.expression.type!==a.Literal)));)Me=h.slice(oe.start+1,oe.end-1),Me==="use strict"?(p=!0,et&&ie(et,o.StrictOctalLiteral)):!et&&oe.octal&&(et=oe);for(;v<A&&(P=gv(),typeof P!="undefined");)K.push(P);return K}function hse(){var P,K;return w(),zt(),K=I,p=!1,P=cse(),T.markEnd(T.createProgram(P),K)}function LO(){var P,K,oe,Me=[];for(P=0;P<D.tokens.length;++P)K=D.tokens[P],oe={type:K.type,value:K.value},D.range&&(oe.range=K.range),D.loc&&(oe.loc=K.loc),Me.push(oe);D.tokens=Me}function dse(P,K){var oe,Me,et;oe=String,typeof P!="string"&&!(P instanceof String)&&(P=oe(P)),T=l,h=P,v=0,y=h.length>0?1:0,S=0,A=h.length,I=null,N={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},D={},K=K||{},K.tokens=!0,D.tokens=[],D.tokenize=!0,D.openParenToken=-1,D.openCurlyToken=-1,D.range=typeof K.range=="boolean"&&K.range,D.loc=typeof K.loc=="boolean"&&K.loc,typeof K.comment=="boolean"&&K.comment&&(D.comments=[]),typeof K.tolerant=="boolean"&&K.tolerant&&(D.errors=[]);try{if(zt(),I.type===e.EOF)return D.tokens;for(Me=le();I.type!==e.EOF;)try{Me=le()}catch(mt){if(Me=I,D.errors){D.errors.push(mt);break}else throw mt}LO(),et=D.tokens,typeof D.comments!="undefined"&&(et.comments=D.comments),typeof D.errors!="undefined"&&(et.errors=D.errors)}catch(mt){throw mt}finally{D={}}return et}function pse(P,K){var oe,Me;Me=String,typeof P!="string"&&!(P instanceof String)&&(P=Me(P)),T=l,h=P,v=0,y=h.length>0?1:0,S=0,A=h.length,I=null,N={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},D={},typeof K!="undefined"&&(D.range=typeof K.range=="boolean"&&K.range,D.loc=typeof K.loc=="boolean"&&K.loc,D.attachComment=typeof K.attachComment=="boolean"&&K.attachComment,D.loc&&K.source!==null&&K.source!==void 0&&(D.source=Me(K.source)),typeof K.tokens=="boolean"&&K.tokens&&(D.tokens=[]),typeof K.comment=="boolean"&&K.comment&&(D.comments=[]),typeof K.tolerant=="boolean"&&K.tolerant&&(D.errors=[]),D.attachComment&&(D.range=!0,D.comments=[],D.bottomRightStack=[],D.trailingComments=[],D.leadingComments=[]));try{oe=hse(),typeof D.comments!="undefined"&&(oe.comments=D.comments),typeof D.tokens!="undefined"&&(LO(),oe.tokens=D.tokens),typeof D.errors!="undefined"&&(oe.errors=D.errors)}catch(et){throw et}finally{D={}}return oe}t.version="1.2.5",t.tokenize=dse,t.parse=pse,t.Syntax=function(){var P,K={};typeof Object.create=="function"&&(K=Object.create(null));for(P in a)a.hasOwnProperty(P)&&(K[P]=a[P]);return typeof Object.freeze=="function"&&Object.freeze(K),K}()})});var nie=ne((ZAt,rie)=>{"use strict";var vKe=eie(),tie=x8(),gKe=0;function yKe(t,e,r){this.name=t,this.lvalue=e,this.rvalue=r,this.count=0}function bKe(t,e,r,n){this.body=t,this.args=e,this.thisVars=r,this.localVars=n}function wKe(t){if(t==="eval")throw new Error("cwise-parser: eval() not allowed");return typeof window!="undefined"?t in window:typeof global!="undefined"?t in global:typeof self!="undefined"?t in self:!1}function _Ke(t){for(var e=t.body[0].expression.callee.params,r=new Array(e.length),n=0;n<e.length;++n)r[n]=e[n].name;return r}function xKe(t){for(var e=["(",t,")()"].join(""),r=vKe.parse(e,{range:!0}),n="_inline_"+gKe+++"_",a=_Ke(r),s=new Array(a.length),o=0;o<a.length;++o)s[o]=new yKe([n,"arg",o,"_"].join(""),!1,!1);for(var u=new Array(e.length),o=0,l=e.length;o<l;++o)u[o]=e.charAt(o);var h=[],p=[],v=!1;function y(z){var $=n+z.replace(/\_/g,"__");return h.push($),$}function S(z){var $="this_"+z.replace(/\_/g,"__");return p.push($),$}function A(z,$){for(var G=z.range[0],j=z.range[1],Z=G+1;Z<j;++Z)u[Z]="";u[G]=$}function T(z){return"'"+z.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function I(z){return u.slice(z.range[0],z.range[1]).join("")}var N=1,D=2;function C(z){return z.parent.type==="AssignmentExpression"&&z.parent.left===z?z.parent.operator==="="?N:N|D:z.parent.type==="UpdateExpression"?N|D:D}(function z($,G){if($.parent=G,$.type==="MemberExpression")$.computed?(z($.object,$),z($.property,$)):$.object.type==="ThisExpression"?A($,S($.property.name)):z($.object,$);else{if($.type==="ThisExpression")throw new Error("cwise-parser: Computed this is not allowed");if($.type==="Identifier"){var j=$.name,Z=a.indexOf(j);if(Z>=0){var M=s[Z],f=C($);f&N&&(M.lvalue=!0),f&D&&(M.rvalue=!0),++M.count,A($,M.name)}else wKe(j)||A($,y(j))}else if($.type==="Literal")typeof $.value=="string"&&A($,T($.value));else{if($.type==="WithStatement")throw new Error("cwise-parser: with() statements not allowed");for(var d=Object.keys($),g=0,m=d.length;g<m;++g)if(d[g]!=="parent"){var b=$[d[g]];if(b)if(b instanceof Array)for(var E=0;E<b.length;++E)b[E]&&typeof b[E].type=="string"&&z(b[E],$);else typeof b.type=="string"&&z(b,$)}}}})(r.body[0].expression.callee.body,void 0),tie(h),tie(p);var L=new bKe(I(r.body[0].expression.callee.body),s,p,h);return L}rie.exports=xKe});var I1=ne((JAt,iie)=>{"use strict";var M8=nie(),SKe=b3(),S3=["args","body"],EKe=["pre","post","printCode","funcName","blockSize"];function MKe(t){for(var e in t)S3.indexOf(e)<0&&EKe.indexOf(e)<0&&console.warn("cwise: Unknown argument '"+e+"' passed to expression compiler");for(var r=0;r<S3.length;++r)if(!t[S3[r]])throw new Error("cwise: Missing argument: "+S3[r]);return SKe({args:t.args,pre:M8(t.pre||function(){}),body:M8(t.body),post:M8(t.post||function(){}),debug:!!t.printCode,funcName:t.funcName||t.body.name||"cwise",blockSize:t.blockSize||64})}iie.exports=MKe});var sie=ne((YAt,aie)=>{"use strict";var AKe=Qne(),kKe=I1(),TKe=kKe({args:["array","scalar","index"],body:function(e,r,n){var a=r,s;for(s=0;s<n.length-1;++s)a=a[n[s]];a[n[n.length-1]]=e}});aie.exports=function(e){var r=AKe(e.shape);return TKe(e,r),r}});var fie=ne((E3,uie)=>{"use strict";Object.defineProperty(E3,"__esModule",{value:!0});E3.default=function(t,e){for(var r=new Float64Array(t*e),n=0;n<r.length;n++)r[n]=oie()*1e-4;return(0,IKe.default)(r,[t,e])};var NKe=md(),IKe=DKe(NKe);function DKe(t){return t&&t.__esModule?t:{default:t}}function oie(){var t=2*Math.random()-1,e=2*Math.random()-1,r=t*t+e*e;return r==0||r>1?oie():t*Math.sqrt(-2*Math.log(r)/r)}uie.exports=E3.default});var A8=ne((A3,cie)=>{"use strict";Object.defineProperty(A3,"__esModule",{value:!0});A3.default=function(t,e){var r=t.shape[0],n=(0,RKe.default)(new Float64Array(r*r),[r,r]);switch(e){case"euclidean":for(var a=0;a<r;a++)for(var s=a+1;s<r;s++){var o=FKe(t.pick(a,null),t.pick(s,null));n.set(a,s,o),n.set(s,a,o)}break;case"manhattan":for(var a=0;a<r;a++)for(var s=a+1;s<r;s++){var o=BKe(t.pick(a,null),t.pick(s,null));n.set(a,s,o),n.set(s,a,o)}break;case"jaccard":for(var a=0;a<r;a++)for(var s=a+1;s<r;s++){var o=LKe(t.pick(a,null),t.pick(s,null));n.set(a,s,o),n.set(s,a,o)}break;case"dice":for(var a=0;a<r;a++)for(var s=a+1;s<r;s++){var o=PKe(t.pick(a,null),t.pick(s,null));n.set(a,s,o),n.set(s,a,o)}break;default:}return n};var OKe=md(),RKe=lie(OKe),CKe=I1(),M3=lie(CKe);function lie(t){return t&&t.__esModule?t:{default:t}}var FKe=(0,M3.default)({args:["array","array"],pre:function(e,r){this.sum=0},body:function(e,r){var n=e-r;this.sum+=n*n},post:function(e,r){return Math.sqrt(this.sum)}}),BKe=(0,M3.default)({args:["array","array"],pre:function(e,r){this.sum=0},body:function(e,r){this.sum+=Math.abs(e-r)},post:function(e,r){return this.sum}}),LKe=(0,M3.default)({args:["array","array"],pre:function(e,r){this.tf=0,this.tt=0},body:function(e,r){var n=Math.round(e),a=Math.round(r);this.tf+=+(n!=a),this.tt+=+(n==1&&a==1)},post:function(e,r){return this.tf+this.tt===0?1:this.tf/(this.tf+this.tt)}}),PKe=(0,M3.default)({args:["array","array"],pre:function(e,r){this.tf=0,this.tt=0},body:function(e,r){var n=Math.round(e),a=Math.round(r);this.tf+=+(n!=a),this.tt+=+(n==1&&a==1)},post:function(e,r){return this.tf+this.tt===0?1:this.tf/(this.tf+2*this.tt)}});cie.exports=A3.default});var vie=ne((T3,mie)=>{"use strict";Object.defineProperty(T3,"__esModule",{value:!0});T3.default=function(t,e){for(var r=100,n=t.shape[0],a=(0,hie.default)(new Float64Array(n*n),[n,n]),s=(0,hie.default)(new Float64Array(n*n),[n,n]),o=void 0,u=void 0,l=1/0,h=0,p=Math.log(e),v=void 0,y=void 0,S=void 0,A=void 0,T=0;T<n;T++){o=1,u=-1/0,l=1/0;for(var I=0;I<r;I++){for(var N=0;N<n;N++)a.set(T,N,Math.exp(-t.get(T,N)*o));a.set(T,T,0),S=0;for(var N=0;N<n;N++)S+=a.get(T,N);S==0&&(S=zKe),A=0;for(var N=0;N<n;N++)a.set(T,N,a.get(T,N)/S),A+=t.get(T,N)*a.get(T,N);if(y=Math.log(S)+o*A,v=y-p,Math.abs(v)<=jKe)break;v>0?(u=o,l==1/0?o=o*2:o=(o+l)/2):(l=o,u==-1/0?o=o/2:o=(o+u)/2)}h+=o}k3.default.add(s,a,a.transpose(1,0));var D=Math.max(k3.default.sum(s),die);return k3.default.divseq(s,D),k3.default.maxseq(s,die),s};var qKe=md(),hie=pie(qKe),$Ke=_3(),k3=pie($Ke);function pie(t){return t&&t.__esModule?t:{default:t}}var zKe=1e-7,die=Number.EPSILON||2220446049250313e-31,jKe=1e-5;mie.exports=T3.default});var bie=ne((I3,yie)=>{"use strict";Object.defineProperty(I3,"__esModule",{value:!0});I3.default=function(t,e,r){var n=t.shape[0],a=t.shape[1],s=(0,Xm.default)(new Float64Array(n*n),[n,n]),o=(0,KKe.default)(t,"euclidean");ZKe(o);var u=(r+1)/-2;Di.default.powseq(Di.default.divseq(Di.default.addseq(o,1),r),u);for(var l=0;l<n;l++)o.set(l,l,0);var h=Math.max(Di.default.sum(o),gie);Di.default.divs(s,o,h),Di.default.maxseq(s,gie);var p=(0,Xm.default)(new Float64Array(n*n),[n,n]),v=(0,Xm.default)(new Float64Array(n*n),[n,n]);Di.default.div(p,e,s),Di.default.logeq(p),Di.default.assign(v,e);var y=Di.default.sum(Di.default.muleq(p,v)),S=(0,Xm.default)(new Float64Array(t.size),t.shape),A=(0,Xm.default)(new Float64Array(n*n),[n,n]);Di.default.sub(A,e,s),Di.default.muleq(A,o);for(var l=0;l<n;l++)for(var T=0;T<a;T++){var I=(0,Xm.default)(new Float64Array(t.shape[0]),[t.shape[0]]);Di.default.assign(I,t.pick(null,T)),Di.default.addseq(Di.default.negeq(I),t.get(l,T)),Di.default.muleq(I,A.pick(l,null)),S.set(l,T,Di.default.sum(I))}var N=2*(r+1)/r;return Di.default.mulseq(S,N),[y,S]};var UKe=md(),Xm=N3(UKe),VKe=_3(),Di=N3(VKe),WKe=I1(),GKe=N3(WKe),HKe=A8(),KKe=N3(HKe);function N3(t){return t&&t.__esModule?t:{default:t}}var gie=Number.EPSILON||2220446049250313e-31,ZKe=(0,GKe.default)({args:["array"],body:function(e){e=e*e}});yie.exports=I3.default});var Eie=ne((D3,Sie)=>{"use strict";Object.defineProperty(D3,"__esModule",{value:!0});var D1=function(){function t(e,r){var n=[],a=!0,s=!1,o=void 0;try{for(var u=e[Symbol.iterator](),l;!(a=(l=u.next()).done)&&(n.push(l.value),!(r&&n.length===r));a=!0);}catch(h){s=!0,o=h}finally{try{!a&&u.return&&u.return()}finally{if(s)throw o}}return n}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),JKe=function(){function t(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),YKe=ws(),XKe=md(),Qm=Kf(XKe),QKe=_3(),Vu=Kf(QKe),eZe=Jne(),tZe=Kf(eZe),rZe=sie(),wie=Kf(rZe),nZe=I1(),_ie=Kf(nZe),iZe=fie(),xie=Kf(iZe),aZe=A8(),sZe=Kf(aZe),oZe=vie(),uZe=Kf(oZe),fZe=bie(),lZe=Kf(fZe);function Kf(t){return t&&t.__esModule?t:{default:t}}function cZe(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}function hZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dZe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var mZe=function(t){pZe(e,t);function e(r){hZe(this,e);var n=dZe(this,Object.getPrototypeOf(e).call(this));return r=r||{},n.dim=r.dim||2,n.perplexity=r.perplexity||30,n.earlyExaggeration=r.earlyExaggeration||4,n.learningRate=r.learningRate||1e3,n.nIter=r.nIter||1e3,n.metric=r.metric||"euclidean",n.barneshut=r.barneshut||!1,n.inputData=null,n.outputEmbedding=null,n}return JKe(e,[{key:"init",value:function(n){n=n||{};var a=n.data||[],s=n.type||"dense";if(s==="dense")this.inputData=(0,tZe.default)(a);else if(s==="sparse"){for(var o=[],u=1,l=function(D){var C=Math.max.apply(null,a.map(function(L){return L[D]}))+1;o.push(C),u*=C},h=0;h<a[0].length;h++)l(h);this.inputData=(0,Qm.default)(new Float64Array(u),o);var p=!0,v=!1,y=void 0;try{for(var S=a[Symbol.iterator](),A;!(p=(A=S.next()).done);p=!0){var T,I=A.value;(T=this.inputData).set.apply(T,cZe(I).concat([1]))}}catch(N){v=!0,y=N}finally{try{!p&&S.return&&S.return()}finally{if(v)throw y}}}else throw new Error("input data type must be dense or sparse");this.outputEmbedding=(0,xie.default)(this.inputData.shape[0],this.dim)}},{key:"run",value:function(){this.emit("progressStatus","Calculating pairwise distances"),this.distances=(0,sZe.default)(this.inputData,this.metric),this.emit("progressStatus","Calculating joint probabilities"),this.alpha=Math.max(this.dim-1,1),this.P=(0,uZe.default)(this.distances,this.perplexity);var n=Number.MAX_VALUE,a=0;this.emit("progressStatus","Early exaggeration with momentum 0.5"),Vu.default.mulseq(this.P,this.earlyExaggeration);var s=this._gradDesc(a,50,.5,0,0),o=D1(s,2);n=o[0],a=o[1],this.emit("progressStatus","Early exaggeration with momentum 0.8");var u=this._gradDesc(a+1,100,.8,0,0),l=D1(u,2);n=l[0],a=l[1],this.emit("progressStatus","Final optimization with momentum 0.8"),Vu.default.divseq(this.P,this.earlyExaggeration);var h=this._gradDesc(a+1,this.nIter,.8,1e-6,1e-6),p=D1(h,2);return n=p[0],a=p[1],this.emit("progressStatus","Optimization end"),[n,a]}},{key:"rerun",value:function(){this.outputEmbedding=(0,xie.default)(this.inputData.shape[0],this.dim);var n=this.run(),a=D1(n,2),s=a[0],o=a[1];return[s,o]}},{key:"getOutput",value:function(){return(0,wie.default)(this.outputEmbedding)}},{key:"getOutputScaled",value:function(){for(var n=(0,Qm.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),a=(0,Qm.default)(new Float64Array(this.outputEmbedding.shape[0]),[this.outputEmbedding.shape[0]]),s=0;s<this.outputEmbedding.shape[1];s++){var o=Vu.default.sup(Vu.default.abs(a,this.outputEmbedding.pick(null,s)));Vu.default.divs(n.pick(null,s),this.outputEmbedding.pick(null,s),o)}return(0,wie.default)(n)}},{key:"_gradDesc",value:function(n,a,s){for(var o=arguments.length<=3||arguments[3]===void 0?1e-6:arguments[3],u=arguments.length<=4||arguments[4]===void 0?1e-6:arguments[4],l=30,h=(0,Qm.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),p=new Float64Array(this.outputEmbedding.size),v=0;v<p.length;v++)p[v]=1;var y=(0,Qm.default)(p,this.outputEmbedding.shape),S=Number.MAX_VALUE,A=Number.MAX_VALUE,T=0,I=(0,_ie.default)({args:["array"],pre:function(f){this.sum=0},body:function(f){this.sum+=f*f},post:function(f){return Math.sqrt(this.sum)}}),N=(0,_ie.default)({args:["array","array","array"],body:function(f,d,g){d*g>=0?f+=.05:f*=.95,f=Math.max(f,.01)}}),D=void 0;for(D=n;D<a;D++){var C=(0,lZe.default)(this.outputEmbedding,this.P,this.alpha),L=D1(C,2),z=L[0],$=L[1],G=Math.abs(z-S);S=z;var j=I($);if(this.emit("progressIter",[D,S,j]),S<A)A=S,T=D;else if(D-T>l)break;if(o>=j||u>=G)break;N(y,h,$),Vu.default.muleq($,y);var Z=(0,Qm.default)(new Float64Array($.size),$.shape);Vu.default.muls(Z,$,this.learningRate),Vu.default.mulseq(h,s),Vu.default.subeq(h,Z),Vu.default.addeq(this.outputEmbedding,h),this.emit("progressData",this.getOutputScaled())}return[S,D]}}]),e}(YKe.EventEmitter);D3.default=mZe;Sie.exports=D3.default});var Bae=ne((H6t,Fae)=>{"use strict";var Mo=function(t){(!t||!(t instanceof Array))&&(t=[]),t=t.slice(0),t.sort(function(e,r){return e-r}),this.array=t};Mo.prototype.clone=function(){return new Mo(this.array.slice(0))};Mo.prototype.q1=function(){var t=this.clone();return t.slice(0,Math.floor(t.size()/2)).median()};Mo.prototype.q3=function(){var t=this.clone();return t.slice(Math.ceil(t.size()/2)).median()};Mo.prototype.iqr=function(){return this.q3()-this.q1()};Mo.prototype.median=function(){var t=Math.floor(this.size()/2);return this.size()%2?this.array[t]:(this.array[t-1]+this.array[t])/2};Mo.prototype.slice=function(){return this.array=Array.prototype.slice.apply(this.array,arguments),this};Mo.prototype.each=function(t){for(var e=0,r=this.size();e<r;e++)t.call(this.array[e],this.array[e],e,this.array);return this};Mo.prototype.findOutliers=function(){var t=this.median(),e=this.iqr()*1.5,r=[];return this.each(function(n){Math.abs(n-t)>e&&r.push(n)}),r};Mo.prototype.size=function(){return this.array.length};Mo.prototype.testOutlier=function(t){return Math.abs(t-this.median())>this.iqr()*1.5};Fae.exports=function(t){return new Mo(t)}});var ese=ne((r4t,Qae)=>{Qae.exports=fb;fb.flatten=fb;fb.unflatten=Xae;function Jae(t){return t&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Yae(t){return t}function fb(t,e){e=e||{};let r=e.delimiter||".",n=e.maxDepth,a=e.transformKey||Yae,s={};function o(u,l,h){h=h||1,Object.keys(u).forEach(function(p){let v=u[p],y=e.safe&&Array.isArray(v),S=Object.prototype.toString.call(v),A=Jae(v),T=S==="[object Object]"||S==="[object Array]",I=l?l+r+a(p):a(p);if(!y&&!A&&T&&Object.keys(v).length&&(!e.maxDepth||h<n))return o(v,I,h+1);s[I]=v})}return o(t),s}function Xae(t,e){e=e||{};let r=e.delimiter||".",n=e.overwrite||!1,a=e.transformKey||Yae,s={};if(Jae(t)||Object.prototype.toString.call(t)!=="[object Object]")return t;function u(p){let v=Number(p);return isNaN(v)||p.indexOf(".")!==-1||e.object?p:v}function l(p,v,y){return Object.keys(y).reduce(function(S,A){return S[p+r+A]=y[A],S},v)}function h(p){let v=Object.prototype.toString.call(p),y=v==="[object Array]",S=v==="[object Object]";if(p){if(y)return!p.length;if(S)return!Object.keys(p).length}else return!0}return t=Object.keys(t).reduce(function(p,v){let y=Object.prototype.toString.call(t[v]);return!(y==="[object Object]"||y==="[object Array]")||h(t[v])?(p[v]=t[v],p):l(v,p,fb(t[v],e))},{}),Object.keys(t).forEach(function(p){let v=p.split(r).map(a),y=u(v.shift()),S=u(v[0]),A=s;for(;S!==void 0;){if(y==="__proto__")return;let T=Object.prototype.toString.call(A[y]),I=T==="[object Object]"||T==="[object Array]";if(!n&&!I&&typeof A[y]!="undefined")return;(n&&!I||!n&&A[y]==null)&&(A[y]=typeof S=="number"&&!e.object?[]:{}),A=A[y],v.length>0&&(y=u(v.shift()),S=u(v[0]))}A[y]=Xae(t[p],e)}),s}});var wYe={};Qf(wYe,{Data:()=>Op,JSONModel:()=>fu,Model:()=>O1,ModelCategories:()=>NO,ModelTypes:()=>TO,ModelX:()=>fu,autoAssignFeatureColumns:()=>tM,createModelFitCallback:()=>rse,getAutoFeatures:()=>Q3,getBackend:()=>lb,getDataSet:()=>cb,getGeneratedStatefulFunction:()=>IO,getModel:()=>lse,getModelFromJSONM:()=>FO,getModelTrainingOptions:()=>BO,getScikit:()=>rM,setBackend:()=>tse,setScikit:()=>nse,sumPreviousRows:()=>DO});var Op={};Qf(Op,{DataSet:()=>wi,PD:()=>Jj.default,calc:()=>wxe,cross_validation:()=>v4,csv:()=>_xe,nlp:()=>p2,util:()=>Mr});var Wj=lt(rw()),Gj=lt(RA()),Hj=lt(CA()),p4=lt(FA()),Jj=lt(Pz()),Yj=lt(Fg()),Ip=lt(Fg()),Xj=lt(ch()),Qj=lt(e4());function h2e(t){return t.next()|0}function hh(t,e){return e===0?t:r=>t(r)+e}function Jz(t){let e=t.next()|0,r=t.next()>>>0;return(e&2097151)*4294967296+r+(e&2097152?-9007199254740992:0)}function d2e(t){for(;;){let e=t.next()|0;if(e&4194304){if((e&8388607)===4194304&&(t.next()|0)===0)return 9007199254740992}else{let r=t.next()>>>0;return(e&2097151)*4294967296+r+(e&2097152?-9007199254740992:0)}}}function p2e(t){return t.next()>>>0}function m2e(t){let e=t.next()&2097151,r=t.next()>>>0;return e*4294967296+r}function v2e(t){for(;;){let e=t.next()|0;if(e&2097152){if((e&2097151)===0&&(t.next()|0)===0)return 9007199254740992}else{let r=t.next()>>>0;return(e&2097151)*4294967296+r}}}function Qz(t){return(t+1&t)===0}function g2e(t){return e=>e.next()&t}function y2e(t){let e=t+1,r=e*Math.floor(4294967296/e);return n=>{let a=0;do a=n.next()>>>0;while(a>=r);return a%e}}function b2e(t){return Qz(t)?g2e(t):y2e(t)}function w2e(t){return(t|0)===0}function _2e(t){return e=>{let r=e.next()&t,n=e.next()>>>0;return r*4294967296+n}}function x2e(t){let e=t*Math.floor(9007199254740992/t);return r=>{let n=0;do{let a=r.next()&2097151,s=r.next()>>>0;n=a*4294967296+s}while(n>=e);return n%t}}function S2e(t){let e=t+1;if(w2e(e)){let r=(e/4294967296|0)-1;if(Qz(r))return _2e(r)}return x2e(e)}function Yz(t,e){return r=>{let n=0;do{let a=r.next()|0,s=r.next()>>>0;n=(a&2097151)*4294967296+s+(a&2097152?-9007199254740992:0)}while(n<t||n>e);return n}}function c2(t,e){if(t=Math.floor(t),e=Math.floor(e),t<-9007199254740992||!isFinite(t))throw new RangeError(`Expected min to be at least ${-9007199254740992}`);if(e>9007199254740992||!isFinite(e))throw new RangeError(`Expected max to be at most ${9007199254740992}`);let r=e-t;return r<=0||!isFinite(r)?()=>t:r===4294967295?t===0?p2e:hh(h2e,t+2147483648):r<4294967295?hh(b2e(r),t):r===9007199254740991?hh(m2e,t):r<9007199254740991?hh(S2e(r),t):e-1-t===9007199254740991?hh(v2e,t):t===-9007199254740992&&e===9007199254740992?d2e:t===-9007199254740992&&e===9007199254740991?Jz:t===-9007199254740991&&e===9007199254740992?hh(Jz,1):e===9007199254740992?hh(Yz(t-1,e-1),1):Yz(t,e)}var E2e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-";function ej(t=E2e){let e=t.length;if(!e)throw new Error("Expected pool not to be an empty string");let r=c2(0,e-1);return(n,a)=>{let s="";for(let o=0;o<a;++o){let u=r(n);s+=t.charAt(u)}return s}}var tj="0123456789abcdef",Vtt=ej(tj),Wtt=ej(tj.toUpperCase());var Gtt=Array.prototype.slice;var Htt=(()=>{try{if("x".repeat(3)==="xxx")return(t,e)=>t.repeat(e)}catch(t){}return(t,e)=>{let r="";for(;e>0;)e&1&&(r+=t),e>>=1,t+=t;return r}})();var M2e={next(){return Math.random()*4294967296|0}};var A2e=(()=>{try{let t=new ArrayBuffer(4),e=new Int32Array(t);if(e[0]=2147483648,e[0]===-2147483648)return Int32Array}catch(t){}return Array})();function k2e(t=M2e,e=16){let r=[];r.push(new Date().getTime()|0);for(let n=1;n<e;++n)r[n]=t.next()|0;return r}var n4=(()=>{try{if(Math.imul(4294967295,5)===-5)return Math.imul}catch(e){}let t=65535;return(e,r)=>{let n=e>>>16&t,a=e&t,s=r>>>16&t,o=r&t;return a*o+(n*o+a*s<<16>>>0)|0}})(),Ru=624,Nl=Ru-1,i4=397,Xz=Ru-i4,t4=2567483615,mf=class{constructor(){this.data=new A2e(Ru),this.index=0,this.uses=0}static seed(e){return new mf().seed(e)}static seedWithArray(e){return new mf().seedWithArray(e)}static autoSeed(){return mf.seedWithArray(k2e())}next(){(this.index|0)>=Ru&&(r4(this.data),this.index=0);let e=this.data[this.index];return this.index=this.index+1|0,this.uses+=1,T2e(e)|0}getUseCount(){return this.uses}discard(e){if(e<=0)return this;for(this.uses+=e,(this.index|0)>=Ru&&(r4(this.data),this.index=0);e+this.index>Ru;)e-=Ru-this.index,r4(this.data),this.index=0;return this.index=this.index+e|0,this}seed(e){let r=0;this.data[0]=r=e|0;for(let n=1;n<Ru;n=n+1|0)this.data[n]=r=n4(r^r>>>30,1812433253)+n|0;return this.index=Ru,this.uses=0,this}seedWithArray(e){return this.seed(19650218),N2e(this.data,e),this}};function r4(t){let e=0,r=0;for(;(e|0)<Xz;e=e+1|0)r=t[e]&2147483648|t[e+1|0]&2147483647,t[e]=t[e+i4|0]^r>>>1^(r&1?t4:0);for(;(e|0)<Nl;e=e+1|0)r=t[e]&2147483648|t[e+1|0]&2147483647,t[e]=t[e-Xz|0]^r>>>1^(r&1?t4:0);r=t[Nl]&2147483648|t[0]&2147483647,t[Nl]=t[i4-1]^r>>>1^(r&1?t4:0)}function T2e(t){return t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,t^t>>>18}function N2e(t,e){let r=1,n=0,a=e.length,s=Math.max(a,Ru)|0,o=t[0]|0;for(;(s|0)>0;--s)t[r]=o=(t[r]^n4(o^o>>>30,1664525))+(e[n]|0)+(n|0)|0,r=r+1|0,++n,(r|0)>Nl&&(t[0]=t[Nl],r=1),n>=a&&(n=0);for(s=Nl;(s|0)>0;--s)t[r]=o=(t[r]^n4(o^o>>>30,1566083941))-r|0,r=r+1|0,(r|0)>Nl&&(t[0]=t[Nl],r=1);t[0]=2147483648}var rU=lt(ch());var I2e=Object.prototype.toString;function Pi(t){return I2e.call(t).endsWith("Array]")}function rj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Pi(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var r=e.fromIndex,n=r===void 0?0:r,a=e.toIndex,s=a===void 0?t.length:a;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=n||s>t.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=t[n],u=n+1;u<s;u++)t[u]>o&&(o=t[u]);return o}function nj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Pi(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var r=e.fromIndex,n=r===void 0?0:r,a=e.toIndex,s=a===void 0?t.length:a;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=n||s>t.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=t[n],u=n+1;u<s;u++)t[u]<o&&(o=t[u]);return o}function a4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Pi(t)){if(t.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var r;if(e.output!==void 0){if(!Pi(e.output))throw new TypeError("output option must be an array if specified");r=e.output}else r=new Array(t.length);var n=nj(t),a=rj(t);if(n===a)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var s=e.min,o=s===void 0?e.autoMinMax?n:0:s,u=e.max,l=u===void 0?e.autoMinMax?a:1:u;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var h=(l-o)/(a-n),p=0;p<t.length;p++)r[p]=(t[p]-n)*h+o;return r}var h2=" ".repeat(2),ij=" ".repeat(4);function aj(){return s4(this)}function s4(t,e={}){let{maxRows:r=15,maxColumns:n=10,maxNumSize:a=8}=e;return`${t.constructor.name} {
${h2}[
${ij}${D2e(t,r,n,a)}
${h2}]
${h2}rows: ${t.rows}
${h2}columns: ${t.columns}
}`}function D2e(t,e,r,n){let{rows:a,columns:s}=t,o=Math.min(a,e),u=Math.min(s,r),l=[];for(let h=0;h<o;h++){let p=[];for(let v=0;v<u;v++)p.push(O2e(t.get(h,v),n));l.push(`${p.join(" ")}`)}return u!==s&&(l[l.length-1]+=` ... ${s-r} more columns`),o!==a&&l.push(`... ${a-e} more rows`),l.join(`
${ij}`)}function O2e(t,e){let r=String(t);if(r.length<=e)return r.padEnd(e," ");let n=t.toPrecision(e-2);if(n.length<=e)return n;let a=t.toExponential(e-2),s=a.indexOf("e"),o=a.slice(s);return a.slice(0,e-o.length)+o}function sj(t,e){t.prototype.add=function(n){return typeof n=="number"?this.addS(n):this.addM(n)},t.prototype.addS=function(n){for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)+n);return this},t.prototype.addM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)+n.get(a,s));return this},t.add=function(n,a){return new e(n).add(a)},t.prototype.sub=function(n){return typeof n=="number"?this.subS(n):this.subM(n)},t.prototype.subS=function(n){for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)-n);return this},t.prototype.subM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)-n.get(a,s));return this},t.sub=function(n,a){return new e(n).sub(a)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(n){return typeof n=="number"?this.mulS(n):this.mulM(n)},t.prototype.mulS=function(n){for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)*n);return this},t.prototype.mulM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)*n.get(a,s));return this},t.mul=function(n,a){return new e(n).mul(a)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(n){return typeof n=="number"?this.divS(n):this.divM(n)},t.prototype.divS=function(n){for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)/n);return this},t.prototype.divM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)/n.get(a,s));return this},t.div=function(n,a){return new e(n).div(a)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(n){return typeof n=="number"?this.modS(n):this.modM(n)},t.prototype.modS=function(n){for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)%n);return this},t.prototype.modM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)%n.get(a,s));return this},t.mod=function(n,a){return new e(n).mod(a)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(n){return typeof n=="number"?this.andS(n):this.andM(n)},t.prototype.andS=function(n){for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)&n);return this},t.prototype.andM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)&n.get(a,s));return this},t.and=function(n,a){return new e(n).and(a)},t.prototype.or=function(n){return typeof n=="number"?this.orS(n):this.orM(n)},t.prototype.orS=function(n){for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)|n);return this},t.prototype.orM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)|n.get(a,s));return this},t.or=function(n,a){return new e(n).or(a)},t.prototype.xor=function(n){return typeof n=="number"?this.xorS(n):this.xorM(n)},t.prototype.xorS=function(n){for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)^n);return this},t.prototype.xorM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)^n.get(a,s));return this},t.xor=function(n,a){return new e(n).xor(a)},t.prototype.leftShift=function(n){return typeof n=="number"?this.leftShiftS(n):this.leftShiftM(n)},t.prototype.leftShiftS=function(n){for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)<<n);return this},t.prototype.leftShiftM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)<<n.get(a,s));return this},t.leftShift=function(n,a){return new e(n).leftShift(a)},t.prototype.signPropagatingRightShift=function(n){return typeof n=="number"?this.signPropagatingRightShiftS(n):this.signPropagatingRightShiftM(n)},t.prototype.signPropagatingRightShiftS=function(n){for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)>>n);return this},t.prototype.signPropagatingRightShiftM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)>>n.get(a,s));return this},t.signPropagatingRightShift=function(n,a){return new e(n).signPropagatingRightShift(a)},t.prototype.rightShift=function(n){return typeof n=="number"?this.rightShiftS(n):this.rightShiftM(n)},t.prototype.rightShiftS=function(n){for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)>>>n);return this},t.prototype.rightShiftM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,this.get(a,s)>>>n.get(a,s));return this},t.rightShift=function(n,a){return new e(n).rightShift(a)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,~this.get(n,a));return this},t.not=function(n){return new e(n).not()},t.prototype.abs=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.abs(this.get(n,a)));return this},t.abs=function(n){return new e(n).abs()},t.prototype.acos=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.acos(this.get(n,a)));return this},t.acos=function(n){return new e(n).acos()},t.prototype.acosh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.acosh(this.get(n,a)));return this},t.acosh=function(n){return new e(n).acosh()},t.prototype.asin=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.asin(this.get(n,a)));return this},t.asin=function(n){return new e(n).asin()},t.prototype.asinh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.asinh(this.get(n,a)));return this},t.asinh=function(n){return new e(n).asinh()},t.prototype.atan=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.atan(this.get(n,a)));return this},t.atan=function(n){return new e(n).atan()},t.prototype.atanh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.atanh(this.get(n,a)));return this},t.atanh=function(n){return new e(n).atanh()},t.prototype.cbrt=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.cbrt(this.get(n,a)));return this},t.cbrt=function(n){return new e(n).cbrt()},t.prototype.ceil=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.ceil(this.get(n,a)));return this},t.ceil=function(n){return new e(n).ceil()},t.prototype.clz32=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.clz32(this.get(n,a)));return this},t.clz32=function(n){return new e(n).clz32()},t.prototype.cos=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.cos(this.get(n,a)));return this},t.cos=function(n){return new e(n).cos()},t.prototype.cosh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.cosh(this.get(n,a)));return this},t.cosh=function(n){return new e(n).cosh()},t.prototype.exp=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.exp(this.get(n,a)));return this},t.exp=function(n){return new e(n).exp()},t.prototype.expm1=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.expm1(this.get(n,a)));return this},t.expm1=function(n){return new e(n).expm1()},t.prototype.floor=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.floor(this.get(n,a)));return this},t.floor=function(n){return new e(n).floor()},t.prototype.fround=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.fround(this.get(n,a)));return this},t.fround=function(n){return new e(n).fround()},t.prototype.log=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.log(this.get(n,a)));return this},t.log=function(n){return new e(n).log()},t.prototype.log1p=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.log1p(this.get(n,a)));return this},t.log1p=function(n){return new e(n).log1p()},t.prototype.log10=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.log10(this.get(n,a)));return this},t.log10=function(n){return new e(n).log10()},t.prototype.log2=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.log2(this.get(n,a)));return this},t.log2=function(n){return new e(n).log2()},t.prototype.round=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.round(this.get(n,a)));return this},t.round=function(n){return new e(n).round()},t.prototype.sign=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.sign(this.get(n,a)));return this},t.sign=function(n){return new e(n).sign()},t.prototype.sin=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.sin(this.get(n,a)));return this},t.sin=function(n){return new e(n).sin()},t.prototype.sinh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.sinh(this.get(n,a)));return this},t.sinh=function(n){return new e(n).sinh()},t.prototype.sqrt=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.sqrt(this.get(n,a)));return this},t.sqrt=function(n){return new e(n).sqrt()},t.prototype.tan=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.tan(this.get(n,a)));return this},t.tan=function(n){return new e(n).tan()},t.prototype.tanh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.tanh(this.get(n,a)));return this},t.tanh=function(n){return new e(n).tanh()},t.prototype.trunc=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.trunc(this.get(n,a)));return this},t.trunc=function(n){return new e(n).trunc()},t.pow=function(n,a){return new e(n).pow(a)},t.prototype.pow=function(n){return typeof n=="number"?this.powS(n):this.powM(n)},t.prototype.powS=function(n){for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,Math.pow(this.get(a,s),n));return this},t.prototype.powM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let s=0;s<this.columns;s++)this.set(a,s,Math.pow(this.get(a,s),n.get(a,s)));return this}}function Vs(t,e,r){let n=r?t.rows:t.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function Ws(t,e,r){let n=r?t.columns:t.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function dh(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function ph(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function oj(t,e){if(!Pi(e))throw new TypeError("row indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.rows)throw new RangeError("row indices are out of range")}function uj(t,e){if(!Pi(e))throw new TypeError("column indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.columns)throw new RangeError("column indices are out of range")}function o4(t,e,r,n,a){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(d2("startRow",e),d2("endRow",r),d2("startColumn",n),d2("endColumn",a),e>r||n>a||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||a<0||a>=t.columns)throw new RangeError("Submatrix indices are out of range")}function Bg(t,e=0){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function d2(t,e){if(typeof e!="number")throw new TypeError(`${t} must be a number`)}function mh(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}function fj(t){let e=Bg(t.rows);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]+=t.get(r,n);return e}function lj(t){let e=Bg(t.columns);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]+=t.get(r,n);return e}function cj(t){let e=0;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e+=t.get(r,n);return e}function hj(t){let e=Bg(t.rows,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]*=t.get(r,n);return e}function dj(t){let e=Bg(t.columns,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]*=t.get(r,n);return e}function pj(t){let e=1;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e*=t.get(r,n);return e}function mj(t,e,r){let n=t.rows,a=t.columns,s=[];for(let o=0;o<n;o++){let u=0,l=0,h=0;for(let p=0;p<a;p++)h=t.get(o,p)-r[o],u+=h,l+=h*h;e?s.push((l-u*u/a)/(a-1)):s.push((l-u*u/a)/a)}return s}function vj(t,e,r){let n=t.rows,a=t.columns,s=[];for(let o=0;o<a;o++){let u=0,l=0,h=0;for(let p=0;p<n;p++)h=t.get(p,o)-r[o],u+=h,l+=h*h;e?s.push((l-u*u/n)/(n-1)):s.push((l-u*u/n)/n)}return s}function gj(t,e,r){let n=t.rows,a=t.columns,s=n*a,o=0,u=0,l=0;for(let h=0;h<n;h++)for(let p=0;p<a;p++)l=t.get(h,p)-r,o+=l,u+=l*l;return e?(u-o*o/s)/(s-1):(u-o*o/s)/s}function yj(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[r])}function bj(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[n])}function wj(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e)}function _j(t){let e=[];for(let r=0;r<t.rows;r++){let n=0;for(let a=0;a<t.columns;a++)n+=Math.pow(t.get(r,a),2)/(t.columns-1);e.push(Math.sqrt(n))}return e}function xj(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[r])}function Sj(t){let e=[];for(let r=0;r<t.columns;r++){let n=0;for(let a=0;a<t.rows;a++)n+=Math.pow(t.get(a,r),2)/(t.rows-1);e.push(Math.sqrt(n))}return e}function Ej(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[n])}function Mj(t){let e=t.size-1,r=0;for(let n=0;n<t.columns;n++)for(let a=0;a<t.rows;a++)r+=Math.pow(t.get(a,n),2)/e;return Math.sqrt(r)}function Aj(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e)}var Ht=class{static from1DArray(e,r,n){if(e*r!==n.length)throw new RangeError("data length does not match given dimensions");let s=new qt(e,r);for(let o=0;o<e;o++)for(let u=0;u<r;u++)s.set(o,u,n[o*r+u]);return s}static rowVector(e){let r=new qt(1,e.length);for(let n=0;n<e.length;n++)r.set(0,n,e[n]);return r}static columnVector(e){let r=new qt(e.length,1);for(let n=0;n<e.length;n++)r.set(n,0,e[n]);return r}static zeros(e,r){return new qt(e,r)}static ones(e,r){return new qt(e,r).fill(1)}static rand(e,r,n={}){if(typeof n!="object")throw new TypeError("options must be an object");let{random:a=Math.random}=n,s=new qt(e,r);for(let o=0;o<e;o++)for(let u=0;u<r;u++)s.set(o,u,a());return s}static randInt(e,r,n={}){if(typeof n!="object")throw new TypeError("options must be an object");let{min:a=0,max:s=1e3,random:o=Math.random}=n;if(!Number.isInteger(a))throw new TypeError("min must be an integer");if(!Number.isInteger(s))throw new TypeError("max must be an integer");if(a>=s)throw new RangeError("min must be smaller than max");let u=s-a,l=new qt(e,r);for(let h=0;h<e;h++)for(let p=0;p<r;p++){let v=a+Math.round(o()*u);l.set(h,p,v)}return l}static eye(e,r,n){r===void 0&&(r=e),n===void 0&&(n=1);let a=Math.min(e,r),s=this.zeros(e,r);for(let o=0;o<a;o++)s.set(o,o,n);return s}static diag(e,r,n){let a=e.length;r===void 0&&(r=a),n===void 0&&(n=r);let s=Math.min(a,r,n),o=this.zeros(r,n);for(let u=0;u<s;u++)o.set(u,u,e[u]);return o}static min(e,r){e=this.checkMatrix(e),r=this.checkMatrix(r);let n=e.rows,a=e.columns,s=new qt(n,a);for(let o=0;o<n;o++)for(let u=0;u<a;u++)s.set(o,u,Math.min(e.get(o,u),r.get(o,u)));return s}static max(e,r){e=this.checkMatrix(e),r=this.checkMatrix(r);let n=e.rows,a=e.columns,s=new this(n,a);for(let o=0;o<n;o++)for(let u=0;u<a;u++)s.set(o,u,Math.max(e.get(o,u),r.get(o,u)));return s}static checkMatrix(e){return Ht.isMatrix(e)?e:new qt(e)}static isMatrix(e){return e!=null&&e.klass==="Matrix"}get size(){return this.rows*this.columns}apply(e){if(typeof e!="function")throw new TypeError("callback must be a function");for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)e.call(this,r,n);return this}to1DArray(){let e=[];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)e.push(this.get(r,n));return e}to2DArray(){let e=[];for(let r=0;r<this.rows;r++){e.push([]);for(let n=0;n<this.columns;n++)e[r].push(this.get(r,n))}return e}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let r=0;r<=e;r++)if(this.get(e,r)!==this.get(r,e))return!1;return!0}return!1}isEchelonForm(){let e=0,r=0,n=-1,a=!0,s=!1;for(;e<this.rows&&a;){for(r=0,s=!1;r<this.columns&&s===!1;)this.get(e,r)===0?r++:this.get(e,r)===1&&r>n?(s=!0,n=r):(a=!1,s=!0);e++}return a}isReducedEchelonForm(){let e=0,r=0,n=-1,a=!0,s=!1;for(;e<this.rows&&a;){for(r=0,s=!1;r<this.columns&&s===!1;)this.get(e,r)===0?r++:this.get(e,r)===1&&r>n?(s=!0,n=r):(a=!1,s=!0);for(let o=r+1;o<this.rows;o++)this.get(e,o)!==0&&(a=!1);e++}return a}echelonForm(){let e=this.clone(),r=0,n=0;for(;r<e.rows&&n<e.columns;){let a=r;for(let s=r;s<e.rows;s++)e.get(s,n)>e.get(a,n)&&(a=s);if(e.get(a,n)===0)n++;else{e.swapRows(r,a);let s=e.get(r,n);for(let o=n;o<e.columns;o++)e.set(r,o,e.get(r,o)/s);for(let o=r+1;o<e.rows;o++){let u=e.get(o,n)/e.get(r,n);e.set(o,n,0);for(let l=n+1;l<e.columns;l++)e.set(o,l,e.get(o,l)-e.get(r,l)*u)}r++,n++}}return e}reducedEchelonForm(){let e=this.echelonForm(),r=e.columns,n=e.rows,a=n-1;for(;a>=0;)if(e.maxRow(a)===0)a--;else{let s=0,o=!1;for(;s<n&&o===!1;)e.get(a,s)===1?o=!0:s++;for(let u=0;u<a;u++){let l=e.get(u,s);for(let h=s;h<r;h++){let p=e.get(u,h)-l*e.get(a,h);e.set(u,h,p)}}a--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if(typeof e!="object")throw new TypeError("options must be an object");let{rows:r=1,columns:n=1}=e;if(!Number.isInteger(r)||r<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let a=new qt(this.rows*r,this.columns*n);for(let s=0;s<r;s++)for(let o=0;o<n;o++)a.setSubMatrix(this,this.rows*s,this.columns*o);return a}fill(e){for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,e);return this}neg(){return this.mulS(-1)}getRow(e){Vs(this,e);let r=[];for(let n=0;n<this.columns;n++)r.push(this.get(e,n));return r}getRowVector(e){return qt.rowVector(this.getRow(e))}setRow(e,r){Vs(this,e),r=dh(this,r);for(let n=0;n<this.columns;n++)this.set(e,n,r[n]);return this}swapRows(e,r){Vs(this,e),Vs(this,r);for(let n=0;n<this.columns;n++){let a=this.get(e,n);this.set(e,n,this.get(r,n)),this.set(r,n,a)}return this}getColumn(e){Ws(this,e);let r=[];for(let n=0;n<this.rows;n++)r.push(this.get(n,e));return r}getColumnVector(e){return qt.columnVector(this.getColumn(e))}setColumn(e,r){Ws(this,e),r=ph(this,r);for(let n=0;n<this.rows;n++)this.set(n,e,r[n]);return this}swapColumns(e,r){Ws(this,e),Ws(this,r);for(let n=0;n<this.rows;n++){let a=this.get(n,e);this.set(n,e,this.get(n,r)),this.set(n,r,a)}return this}addRowVector(e){e=dh(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)+e[n]);return this}subRowVector(e){e=dh(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)-e[n]);return this}mulRowVector(e){e=dh(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)*e[n]);return this}divRowVector(e){e=dh(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)/e[n]);return this}addColumnVector(e){e=ph(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)+e[r]);return this}subColumnVector(e){e=ph(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)-e[r]);return this}mulColumnVector(e){e=ph(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)*e[r]);return this}divColumnVector(e){e=ph(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)/e[r]);return this}mulRow(e,r){Vs(this,e);for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*r);return this}mulColumn(e,r){Ws(this,e);for(let n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*r);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{let r=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)>r[n]&&(r[n]=this.get(n,a));return r}case"column":{let r=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)>r[a]&&(r[a]=this.get(n,a));return r}case void 0:{let r=this.get(0,0);for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)>r&&(r=this.get(n,a));return r}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){mh(this);let e=this.get(0,0),r=[0,0];for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)>e&&(e=this.get(n,a),r[0]=n,r[1]=a);return r}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{let r=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)<r[n]&&(r[n]=this.get(n,a));return r}case"column":{let r=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)<r[a]&&(r[a]=this.get(n,a));return r}case void 0:{let r=this.get(0,0);for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)<r&&(r=this.get(n,a));return r}default:throw new Error(`invalid option: ${e}`)}}minIndex(){mh(this);let e=this.get(0,0),r=[0,0];for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)<e&&(e=this.get(n,a),r[0]=n,r[1]=a);return r}maxRow(e){if(Vs(this,e),this.isEmpty())return NaN;let r=this.get(e,0);for(let n=1;n<this.columns;n++)this.get(e,n)>r&&(r=this.get(e,n));return r}maxRowIndex(e){Vs(this,e),mh(this);let r=this.get(e,0),n=[e,0];for(let a=1;a<this.columns;a++)this.get(e,a)>r&&(r=this.get(e,a),n[1]=a);return n}minRow(e){if(Vs(this,e),this.isEmpty())return NaN;let r=this.get(e,0);for(let n=1;n<this.columns;n++)this.get(e,n)<r&&(r=this.get(e,n));return r}minRowIndex(e){Vs(this,e),mh(this);let r=this.get(e,0),n=[e,0];for(let a=1;a<this.columns;a++)this.get(e,a)<r&&(r=this.get(e,a),n[1]=a);return n}maxColumn(e){if(Ws(this,e),this.isEmpty())return NaN;let r=this.get(0,e);for(let n=1;n<this.rows;n++)this.get(n,e)>r&&(r=this.get(n,e));return r}maxColumnIndex(e){Ws(this,e),mh(this);let r=this.get(0,e),n=[0,e];for(let a=1;a<this.rows;a++)this.get(a,e)>r&&(r=this.get(a,e),n[0]=a);return n}minColumn(e){if(Ws(this,e),this.isEmpty())return NaN;let r=this.get(0,e);for(let n=1;n<this.rows;n++)this.get(n,e)<r&&(r=this.get(n,e));return r}minColumnIndex(e){Ws(this,e),mh(this);let r=this.get(0,e),n=[0,e];for(let a=1;a<this.rows;a++)this.get(a,e)<r&&(r=this.get(a,e),n[0]=a);return n}diag(){let e=Math.min(this.rows,this.columns),r=[];for(let n=0;n<e;n++)r.push(this.get(n,n));return r}norm(e="frobenius"){let r=0;if(e==="max")return this.max();if(e==="frobenius"){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)r=r+this.get(n,a)*this.get(n,a);return Math.sqrt(r)}else throw new RangeError(`unknown norm type: ${e}`)}cumulativeSum(){let e=0;for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)e+=this.get(r,n),this.set(r,n,e);return this}dot(e){Ht.isMatrix(e)&&(e=e.to1DArray());let r=this.to1DArray();if(r.length!==e.length)throw new RangeError("vectors do not have the same size");let n=0;for(let a=0;a<r.length;a++)n+=r[a]*e[a];return n}mmul(e){e=qt.checkMatrix(e);let r=this.rows,n=this.columns,a=e.columns,s=new qt(r,a),o=new Float64Array(n);for(let u=0;u<a;u++){for(let l=0;l<n;l++)o[l]=e.get(l,u);for(let l=0;l<r;l++){let h=0;for(let p=0;p<n;p++)h+=this.get(l,p)*o[p];s.set(l,u,h)}}return s}strassen2x2(e){e=qt.checkMatrix(e);let r=new qt(2,2),n=this.get(0,0),a=e.get(0,0),s=this.get(0,1),o=e.get(0,1),u=this.get(1,0),l=e.get(1,0),h=this.get(1,1),p=e.get(1,1),v=(n+h)*(a+p),y=(u+h)*a,S=n*(o-p),A=h*(l-a),T=(n+s)*p,I=(u-n)*(a+o),N=(s-h)*(l+p),D=v+A-T+N,C=S+T,L=y+A,z=v-y+S+I;return r.set(0,0,D),r.set(0,1,C),r.set(1,0,L),r.set(1,1,z),r}strassen3x3(e){e=qt.checkMatrix(e);let r=new qt(3,3),n=this.get(0,0),a=this.get(0,1),s=this.get(0,2),o=this.get(1,0),u=this.get(1,1),l=this.get(1,2),h=this.get(2,0),p=this.get(2,1),v=this.get(2,2),y=e.get(0,0),S=e.get(0,1),A=e.get(0,2),T=e.get(1,0),I=e.get(1,1),N=e.get(1,2),D=e.get(2,0),C=e.get(2,1),L=e.get(2,2),z=(n+a+s-o-u-p-v)*I,$=(n-o)*(-S+I),G=u*(-y+S+T-I-N-D+L),j=(-n+o+u)*(y-S+I),Z=(o+u)*(-y+S),M=n*y,f=(-n+h+p)*(y-A+N),d=(-n+h)*(A-N),g=(h+p)*(-y+A),m=(n+a+s-u-l-h-p)*N,b=p*(-y+A+T-I-N-D+C),E=(-s+p+v)*(I+D-C),k=(s-v)*(I-C),w=s*D,c=(p+v)*(-D+C),_=(-s+u+l)*(N+D-L),R=(s-l)*(N-L),O=(u+l)*(-D+L),F=a*T,U=l*C,H=o*A,J=h*S,fe=v*L,B=M+w+F,q=z+j+Z+M+E+w+c,Y=M+f+g+m+w+_+O,X=$+G+j+M+w+_+R,Q=$+j+Z+M+U,be=w+_+R+O+H,ue=M+f+d+b+E+k+w,me=E+k+w+c+J,yt=M+f+d+g+fe;return r.set(0,0,B),r.set(0,1,q),r.set(0,2,Y),r.set(1,0,X),r.set(1,1,Q),r.set(1,2,be),r.set(2,0,ue),r.set(2,1,me),r.set(2,2,yt),r}mmulStrassen(e){e=qt.checkMatrix(e);let r=this.clone(),n=r.rows,a=r.columns,s=e.rows,o=e.columns;a!==s&&console.warn(`Multiplying ${n} x ${a} and ${s} x ${o} matrix: dimensions do not match.`);function u(v,y,S){let A=v.rows,T=v.columns;if(A===y&&T===S)return v;{let I=Ht.zeros(y,S);return I=I.setSubMatrix(v,0,0),I}}let l=Math.max(n,s),h=Math.max(a,o);r=u(r,l,h),e=u(e,l,h);function p(v,y,S,A){if(S<=512||A<=512)return v.mmul(y);S%2===1&&A%2===1?(v=u(v,S+1,A+1),y=u(y,S+1,A+1)):S%2===1?(v=u(v,S+1,A),y=u(y,S+1,A)):A%2===1&&(v=u(v,S,A+1),y=u(y,S,A+1));let T=parseInt(v.rows/2,10),I=parseInt(v.columns/2,10),N=v.subMatrix(0,T-1,0,I-1),D=y.subMatrix(0,T-1,0,I-1),C=v.subMatrix(0,T-1,I,v.columns-1),L=y.subMatrix(0,T-1,I,y.columns-1),z=v.subMatrix(T,v.rows-1,0,I-1),$=y.subMatrix(T,y.rows-1,0,I-1),G=v.subMatrix(T,v.rows-1,I,v.columns-1),j=y.subMatrix(T,y.rows-1,I,y.columns-1),Z=p(Ht.add(N,G),Ht.add(D,j),T,I),M=p(Ht.add(z,G),D,T,I),f=p(N,Ht.sub(L,j),T,I),d=p(G,Ht.sub($,D),T,I),g=p(Ht.add(N,C),j,T,I),m=p(Ht.sub(z,N),Ht.add(D,L),T,I),b=p(Ht.sub(C,G),Ht.add($,j),T,I),E=Ht.add(Z,d);E.sub(g),E.add(b);let k=Ht.add(f,g),w=Ht.add(M,d),c=Ht.sub(Z,M);c.add(f),c.add(m);let _=Ht.zeros(2*E.rows,2*E.columns);return _=_.setSubMatrix(E,0,0),_=_.setSubMatrix(k,E.rows,0),_=_.setSubMatrix(w,0,E.columns),_=_.setSubMatrix(c,E.rows,E.columns),_.subMatrix(0,S-1,0,A-1)}return p(r,e,l,h)}scaleRows(e={}){if(typeof e!="object")throw new TypeError("options must be an object");let{min:r=0,max:n=1}=e;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(r>=n)throw new RangeError("min must be smaller than max");let a=new qt(this.rows,this.columns);for(let s=0;s<this.rows;s++){let o=this.getRow(s);o.length>0&&a4(o,{min:r,max:n,output:o}),a.setRow(s,o)}return a}scaleColumns(e={}){if(typeof e!="object")throw new TypeError("options must be an object");let{min:r=0,max:n=1}=e;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(r>=n)throw new RangeError("min must be smaller than max");let a=new qt(this.rows,this.columns);for(let s=0;s<this.columns;s++){let o=this.getColumn(s);o.length&&a4(o,{min:r,max:n,output:o}),a.setColumn(s,o)}return a}flipRows(){let e=Math.ceil(this.columns/2);for(let r=0;r<this.rows;r++)for(let n=0;n<e;n++){let a=this.get(r,n),s=this.get(r,this.columns-1-n);this.set(r,n,s),this.set(r,this.columns-1-n,a)}return this}flipColumns(){let e=Math.ceil(this.rows/2);for(let r=0;r<this.columns;r++)for(let n=0;n<e;n++){let a=this.get(n,r),s=this.get(this.rows-1-n,r);this.set(n,r,s),this.set(this.rows-1-n,r,a)}return this}kroneckerProduct(e){e=qt.checkMatrix(e);let r=this.rows,n=this.columns,a=e.rows,s=e.columns,o=new qt(r*a,n*s);for(let u=0;u<r;u++)for(let l=0;l<n;l++)for(let h=0;h<a;h++)for(let p=0;p<s;p++)o.set(a*u+h,s*l+p,this.get(u,l)*e.get(h,p));return o}kroneckerSum(e){if(e=qt.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let r=this.rows,n=e.rows,a=this.kroneckerProduct(qt.eye(n,n)),s=qt.eye(r,r).kroneckerProduct(e);return a.add(s)}transpose(){let e=new qt(this.columns,this.rows);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)e.set(n,r,this.get(r,n));return e}sortRows(e=kj){for(let r=0;r<this.rows;r++)this.setRow(r,this.getRow(r).sort(e));return this}sortColumns(e=kj){for(let r=0;r<this.columns;r++)this.setColumn(r,this.getColumn(r).sort(e));return this}subMatrix(e,r,n,a){o4(this,e,r,n,a);let s=new qt(r-e+1,a-n+1);for(let o=e;o<=r;o++)for(let u=n;u<=a;u++)s.set(o-e,u-n,this.get(o,u));return s}subMatrixRow(e,r,n){if(r===void 0&&(r=0),n===void 0&&(n=this.columns-1),r>n||r<0||r>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let a=new qt(e.length,n-r+1);for(let s=0;s<e.length;s++)for(let o=r;o<=n;o++){if(e[s]<0||e[s]>=this.rows)throw new RangeError(`Row index out of range: ${e[s]}`);a.set(s,o-r,this.get(e[s],o))}return a}subMatrixColumn(e,r,n){if(r===void 0&&(r=0),n===void 0&&(n=this.rows-1),r>n||r<0||r>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let a=new qt(n-r+1,e.length);for(let s=0;s<e.length;s++)for(let o=r;o<=n;o++){if(e[s]<0||e[s]>=this.columns)throw new RangeError(`Column index out of range: ${e[s]}`);a.set(o-r,s,this.get(o,e[s]))}return a}setSubMatrix(e,r,n){if(e=qt.checkMatrix(e),e.isEmpty())return this;let a=r+e.rows-1,s=n+e.columns-1;o4(this,r,a,n,s);for(let o=0;o<e.rows;o++)for(let u=0;u<e.columns;u++)this.set(r+o,n+u,e.get(o,u));return this}selection(e,r){oj(this,e),uj(this,r);let n=new qt(e.length,r.length);for(let a=0;a<e.length;a++){let s=e[a];for(let o=0;o<r.length;o++){let u=r[o];n.set(a,o,this.get(s,u))}}return n}trace(){let e=Math.min(this.rows,this.columns),r=0;for(let n=0;n<e;n++)r+=this.get(n,n);return r}clone(){let e=new qt(this.rows,this.columns);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)e.set(r,n,this.get(r,n));return e}sum(e){switch(e){case"row":return fj(this);case"column":return lj(this);case void 0:return cj(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return hj(this);case"column":return dj(this);case void 0:return pj(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){let r=this.sum(e);switch(e){case"row":{for(let n=0;n<this.rows;n++)r[n]/=this.columns;return r}case"column":{for(let n=0;n<this.columns;n++)r[n]/=this.rows;return r}case void 0:return r/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,r={}){if(typeof e=="object"&&(r=e,e=void 0),typeof r!="object")throw new TypeError("options must be an object");let{unbiased:n=!0,mean:a=this.mean(e)}=r;if(typeof n!="boolean")throw new TypeError("unbiased must be a boolean");switch(e){case"row":{if(!Pi(a))throw new TypeError("mean must be an array");return mj(this,n,a)}case"column":{if(!Pi(a))throw new TypeError("mean must be an array");return vj(this,n,a)}case void 0:{if(typeof a!="number")throw new TypeError("mean must be a number");return gj(this,n,a)}default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,r){typeof e=="object"&&(r=e,e=void 0);let n=this.variance(e,r);if(e===void 0)return Math.sqrt(n);for(let a=0;a<n.length;a++)n[a]=Math.sqrt(n[a]);return n}center(e,r={}){if(typeof e=="object"&&(r=e,e=void 0),typeof r!="object")throw new TypeError("options must be an object");let{center:n=this.mean(e)}=r;switch(e){case"row":{if(!Pi(n))throw new TypeError("center must be an array");return yj(this,n),this}case"column":{if(!Pi(n))throw new TypeError("center must be an array");return bj(this,n),this}case void 0:{if(typeof n!="number")throw new TypeError("center must be a number");return wj(this,n),this}default:throw new Error(`invalid option: ${e}`)}}scale(e,r={}){if(typeof e=="object"&&(r=e,e=void 0),typeof r!="object")throw new TypeError("options must be an object");let n=r.scale;switch(e){case"row":{if(n===void 0)n=_j(this);else if(!Pi(n))throw new TypeError("scale must be an array");return xj(this,n),this}case"column":{if(n===void 0)n=Sj(this);else if(!Pi(n))throw new TypeError("scale must be an array");return Ej(this,n),this}case void 0:{if(n===void 0)n=Mj(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return Aj(this,n),this}default:throw new Error(`invalid option: ${e}`)}}toString(e){return s4(this,e)}};Ht.prototype.klass="Matrix";typeof Symbol!="undefined"&&(Ht.prototype[Symbol.for("nodejs.util.inspect.custom")]=aj);function kj(t,e){return t-e}function R2e(t){return t.every(e=>typeof e=="number")}Ht.random=Ht.rand;Ht.randomInt=Ht.randInt;Ht.diagonal=Ht.diag;Ht.prototype.diagonal=Ht.prototype.diag;Ht.identity=Ht.eye;Ht.prototype.negate=Ht.prototype.neg;Ht.prototype.tensorProduct=Ht.prototype.kroneckerProduct;var qt=class extends Ht{constructor(e,r){if(super(),qt.isMatrix(e))return e.clone();if(Number.isInteger(e)&&e>=0)if(this.data=[],Number.isInteger(r)&&r>=0)for(let n=0;n<e;n++)this.data.push(new Float64Array(r));else throw new TypeError("nColumns must be a positive integer");else if(Pi(e)){let n=e;if(e=n.length,r=e?n[0].length:0,typeof r!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let a=0;a<e;a++){if(n[a].length!==r)throw new RangeError("Inconsistent array dimensions");if(!R2e(n[a]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(n[a]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=e,this.columns=r}set(e,r,n){return this.data[e][r]=n,this}get(e,r){return this.data[e][r]}removeRow(e){return Vs(this,e),this.data.splice(e,1),this.rows-=1,this}addRow(e,r){return r===void 0&&(r=e,e=this.rows),Vs(this,e,!0),r=Float64Array.from(dh(this,r)),this.data.splice(e,0,r),this.rows+=1,this}removeColumn(e){Ws(this,e);for(let r=0;r<this.rows;r++){let n=new Float64Array(this.columns-1);for(let a=0;a<e;a++)n[a]=this.data[r][a];for(let a=e+1;a<this.columns;a++)n[a-1]=this.data[r][a];this.data[r]=n}return this.columns-=1,this}addColumn(e,r){typeof r=="undefined"&&(r=e,e=this.columns),Ws(this,e,!0),r=ph(this,r);for(let n=0;n<this.rows;n++){let a=new Float64Array(this.columns+1),s=0;for(;s<e;s++)a[s]=this.data[n][s];for(a[s++]=r[n];s<this.columns+1;s++)a[s]=this.data[n][s-1];this.data[n]=a}return this.columns+=1,this}};sj(Ht,qt);var vf=class{constructor(e,r){if(e.length!==e[0].length)throw new Error("Confusion matrix must be square");if(r.length!==e.length)throw new Error("Confusion matrix and labels should have the same length");this.labels=r,this.matrix=e}static fromLabels(e,r,n={}){if(r.length!==e.length)throw new Error("predicted and actual must have the same length");let a;n.labels?a=new Set(n.labels):a=new Set([...e,...r]),a=Array.from(a),n.sort&&a.sort(n.sort);let s=Array.from({length:a.length});for(let o=0;o<s.length;o++)s[o]=new Array(s.length),s[o].fill(0);for(let o=0;o<r.length;o++){let u=a.indexOf(e[o]),l=a.indexOf(r[o]);u>=0&&l>=0&&s[u][l]++}return new vf(s,a)}getMatrix(){return this.matrix}getLabels(){return this.labels}getTotalCount(){let e=0;for(let r=0;r<this.matrix.length;r++)for(let n=0;n<this.matrix.length;n++)e+=this.matrix[r][n];return e}getTrueCount(){let e=0;for(let r=0;r<this.matrix.length;r++)e+=this.matrix[r][r];return e}getFalseCount(){return this.getTotalCount()-this.getTrueCount()}getTruePositiveCount(e){let r=this.getIndex(e);return this.matrix[r][r]}getTrueNegativeCount(e){let r=this.getIndex(e),n=0;for(let a=0;a<this.matrix.length;a++)for(let s=0;s<this.matrix.length;s++)a!==r&&s!==r&&(n+=this.matrix[a][s]);return n}getFalsePositiveCount(e){let r=this.getIndex(e),n=0;for(let a=0;a<this.matrix.length;a++)a!==r&&(n+=this.matrix[a][r]);return n}getFalseNegativeCount(e){let r=this.getIndex(e),n=0;for(let a=0;a<this.matrix.length;a++)a!==r&&(n+=this.matrix[r][a]);return n}getPositiveCount(e){return this.getTruePositiveCount(e)+this.getFalseNegativeCount(e)}getNegativeCount(e){return this.getTrueNegativeCount(e)+this.getFalsePositiveCount(e)}getIndex(e){let r=this.labels.indexOf(e);if(r===-1)throw new Error("The label does not exist");return r}getTruePositiveRate(e){return this.getTruePositiveCount(e)/this.getPositiveCount(e)}getTrueNegativeRate(e){return this.getTrueNegativeCount(e)/this.getNegativeCount(e)}getPositivePredictiveValue(e){let r=this.getTruePositiveCount(e);return r/(r+this.getFalsePositiveCount(e))}getNegativePredictiveValue(e){let r=this.getTrueNegativeCount(e);return r/(r+this.getFalseNegativeCount(e))}getFalseNegativeRate(e){return 1-this.getTruePositiveRate(e)}getFalsePositiveRate(e){return 1-this.getTrueNegativeRate(e)}getFalseDiscoveryRate(e){let r=this.getFalsePositiveCount(e);return r/(r+this.getTruePositiveCount(e))}getFalseOmissionRate(e){let r=this.getFalseNegativeCount(e);return r/(r+this.getTruePositiveCount(e))}getF1Score(e){let r=this.getTruePositiveCount(e);return 2*r/(2*r+this.getFalsePositiveCount(e)+this.getFalseNegativeCount(e))}getMatthewsCorrelationCoefficient(e){let r=this.getTruePositiveCount(e),n=this.getTrueNegativeCount(e),a=this.getFalsePositiveCount(e),s=this.getFalseNegativeCount(e);return(r*n-a*s)/Math.sqrt((r+a)*(r+s)*(n+a)*(n+s))}getInformedness(e){return this.getTruePositiveRate(e)+this.getTrueNegativeRate(e)-1}getMarkedness(e){return this.getPositivePredictiveValue(e)+this.getNegativePredictiveValue(e)-1}getConfusionTable(e){return[[this.getTruePositiveCount(e),this.getFalseNegativeCount(e)],[this.getFalsePositiveCount(e),this.getTrueNegativeCount(e)]]}getAccuracy(){let e=0,r=0;for(let n=0;n<this.matrix.length;n++)for(let a=0;a<this.matrix.length;a++)n===a?e+=this.matrix[n][a]:r+=this.matrix[n][a];return e/(e+r)}getCount(e,r){let n=this.getIndex(e),a=this.getIndex(r);return this.matrix[n][a]}get accuracy(){return this.getAccuracy()}get total(){return this.getTotalCount()}};var nU=lt(Oj()),vxe=lt(Fj()),z2e=Object.create,v2=Object.defineProperty,j2e=Object.getOwnPropertyDescriptor,jj=Object.getOwnPropertyNames,U2e=Object.getPrototypeOf,V2e=Object.prototype.hasOwnProperty,W2e=(t,e,r)=>e in t?v2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,G2e=(t,e)=>function(){return e||(0,t[jj(t)[0]])((e={exports:{}}).exports,e),e.exports},H2e=(t,e)=>{for(var r in e)v2(t,r,{get:e[r],enumerable:!0})},K2e=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of jj(e))!V2e.call(t,a)&&a!==r&&v2(t,a,{get:()=>e[a],enumerable:!(n=j2e(e,a))||n.enumerable});return t},Z2e=(t,e,r)=>(r=t!=null?z2e(U2e(t)):{},K2e(e||!t||!t.__esModule?v2(r,"default",{value:t,enumerable:!0}):r,t)),Uj=(t,e,r)=>(W2e(t,typeof e!="symbol"?e+"":e,r),r),J2e=G2e({"node_modules/stemmer/index.js"(t,e){"use strict";e.exports=M;var r={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},n={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},a="[^aeiou]",s="[aeiouy]",o="("+a+"[^aeiouy]*)",u="("+s+"[aeiou]*)",l=new RegExp("^"+o+"?"+u+o),h=new RegExp("^"+o+"?"+u+o+u+"?$"),p=new RegExp("^"+o+"?("+u+o+"){2,}"),v=new RegExp("^"+o+"?"+s),y=new RegExp("^"+o+s+"[^aeiouwxy]$"),S=/ll$/,A=/^(.+?)e$/,T=/^(.+?)y$/,I=/^(.+?(s|t))(ion)$/,N=/^(.+?)(ed|ing)$/,D=/(at|bl|iz)$/,C=/^(.+?)eed$/,L=/^.+?[^s]s$/,z=/^.+?(ss|i)es$/,$=/([^aeiouylsz])\1$/,G=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,j=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,Z=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;function M(f){var d,g;return f=String(f).toLowerCase(),f.length<3||(f.charCodeAt(0)===121&&(d=!0,f="Y"+f.slice(1)),z.test(f)?f=f.slice(0,f.length-2):L.test(f)&&(f=f.slice(0,f.length-1)),(g=C.exec(f))?l.test(g[1])&&(f=f.slice(0,f.length-1)):(g=N.exec(f))&&v.test(g[1])&&(f=g[1],D.test(f)?f+="e":$.test(f)?f=f.slice(0,f.length-1):y.test(f)&&(f+="e")),(g=T.exec(f))&&v.test(g[1])&&(f=g[1]+"i"),(g=G.exec(f))&&l.test(g[1])&&(f=g[1]+r[g[2]]),(g=j.exec(f))&&l.test(g[1])&&(f=g[1]+n[g[2]]),(g=Z.exec(f))?p.test(g[1])&&(f=g[1]):(g=I.exec(f))&&p.test(g[1])&&(f=g[1]),(g=A.exec(f))&&(p.test(g[1])||h.test(g[1])&&!y.test(g[1]))&&(f=g[1]),S.test(f)&&p.test(f)&&(f=f.slice(0,f.length-1)),d&&(f="y"+f.slice(1))),f}}}),Vj={};H2e(Vj,{loadCSV:()=>Zj,loadCSVURI:()=>Kj,loadTSV:()=>Y2e});function Kj(t,e){return Ke(this,null,function*(){let r=t.search(/https/gi)>-1?Gj.get:Wj.get;return new Promise((n,a)=>{let s=[],o=Object.assign({checkType:!0},e);r(t,l=>{(0,p4.default)(o).fromStream(l).subscribe(h=>{s.push(h)},h=>a(h),h=>h?a(h):n(s))}).on("error",a)})})}function Zj(t,e){return Ke(this,null,function*(){return Hj.default.isUri(t)?Kj(t,e):new Promise((r,n)=>{let a=[],s=Object.assign({checkType:!0},e);(0,p4.default)(s).fromFile(t).subscribe((o,u)=>{a.push(o)},o=>n(o),o=>o?n(o):r(a))})})}function Y2e(t,e){return Ke(this,null,function*(){let r=Object.assign({checkType:!0},e,{delimiter:"	"});return Zj(t,r)})}var X2e=Z2e(J2e(),1),Q2e={PorterStemmer:{tokenizeAndStem:(t="")=>t.split(" ").map(r=>r.trim()).filter(r=>r).map(X2e.default)}},exe=Q2e,Gs=Ip.array.mean,txe=Gs,vh=Ip.array.sum,m4=(t,e)=>t.map(r=>(r-Gs(t))/e),g2=Ip.array.max,y2=Ip.array.min,Pg=Ip.array.standardDeviation;function eU(t,e){return t.reduce((r,n,a,s)=>(r.push(Math.pow(e[a]-n,2)),r),[])}function rxe(t=[],e=[]){if(t.length!==e.length)throw new RangeError("arrays must have the same length");let r=eU(t,e);return Math.sqrt(vh(r)/(t.length-2))}function Bj(t=[]){let e=Gs(t),r=Pg(t);return t.map(n=>(n-e)/r)}function tU(t=[],e=[]){if(t.length!==e.length)throw new RangeError("arrays must have the same length");let r=txe(t),n=vh(t.reduce((o,u,l)=>(o.push(Math.pow(t[l]-r,2)),o),[])),a=vh(t.reduce((o,u,l)=>(o.push(Math.pow(t[l]-e[l],2)),o),[]));return(n-a)/n}function c4(t){let{actuals:e,estimates:r,rSquared:n,independentVariables:a,sampleSize:s}=t,o=n||tU(e,r),u=s||e.length,l=a;return 1-(1-o)*((u-1)/(u-(l+1)))}function h4(t=[],e=[]){if(t.length!==e.length)throw new RangeError("arrays must have the same length");let r=vh(t),n=vh(e),a=t.reduce((h,p,v)=>(h=h+t[v]*e[v],h),0),s=t.reduce((h,p)=>(h=h+p*p,h),0),o=e.reduce((h,p)=>(h=h+p*p,h),0),u=t.length;return(u*a-r*n)/Math.sqrt((u*s-Math.pow(r,2))*(u*o-Math.pow(n,2)))}function nxe(t=[],e=[]){return Math.pow(h4(t,e),2)}function ixe(t=[]){return t.reduce((e,r,n)=>(r.forEach((a,s)=>{n===0?e.push([a]):e[s].push(a)}),e),[])}function axe(t=[]){return t.length?t[0].map((e,r)=>{let n=[];return t.forEach((a,s)=>{n.push(t[s][r])}),n}):t}var sxe=t=>m4(t,Pg(t));function oxe(t=[],e=-1,r=!1,n={}){let a=typeof n.average!="undefined"?n.average:Gs(t),s=typeof n.standard_dev!="undefined"?n.standard_dev:Pg(t),o=typeof n.maximum!="undefined"?n.maximum:g2(t),u=typeof n.minimum!="undefined"?n.minimum:y2(t),l=v=>{let y=(v-a)/s;return isNaN(y)&&r?y:isNaN(y)&&r===!1?isNaN(s)?v:s:y},h=v=>{let y=v*s+a;return isNaN(y)&&r?y:isNaN(y)&&r===!1?isNaN(s)?v:s:y},p=t.map(l).map(v=>isNaN(v)?e:v);return{components:{average:a,standard_dev:s,maximum:o,minimum:u},scale:l,descale:h,values:p}}var uxe=t=>m4(t,g2(t)-y2(t));function fxe(t=[],e=-1,r=!1,n={}){let a=typeof n.average!="undefined"?n.average:Gs(t),s=typeof n.standard_dev!="undefined"?n.standard_dev:Pg(t),o=typeof n.maximum!="undefined"?n.maximum:g2(t),u=typeof n.minimum!="undefined"?n.minimum:y2(t),l=v=>{let y=(v-a)/(o-u);return isNaN(y)&&r?y:isNaN(y)&&r===!1?isNaN(s)?v:s:y},h=v=>{let y=v*(o-u)+a;return isNaN(y)&&r?y:isNaN(y)&&r===!1?isNaN(s)?v:s:y},p=t.map(l).map(v=>isNaN(v)?e:v);return{components:{average:a,standard_dev:s,maximum:o,minimum:u},scale:l,descale:h,values:p}}function lxe(t,e=!0){if(t<-6.5)return 0;if(t>6.5)return 1;let r=1,n=0,a=1,s=0,o=Math.exp(-23);for(;Math.abs(a)>o;)a=.3989422804*Math.pow(-1,s)*Math.pow(t,s)/(2*s+1)/Math.pow(2,s)*Math.pow(t,s+1)/r,n+=a,s++,r*=s;return n+=.5,e?1-n:n}function cxe(t){return t.replace(/[^\w\s]/gi,"_")}function Dp(t,e){if(t.length!==e.length)throw new Error(`Actuals length (${t.length}) must equal Estimates length (${e.length})`);return t.map((r,n)=>r-e[n])}function Lj(t,e){let r=Dp(t,e);return Gs(r)}function m2(t,e){let r=Dp(t,e).map(n=>Math.abs(n));return Gs(r)}function Pj(t,e){let r=vh(Dp(t,e)),n=m2(t,e);return r/n}function qj(t,e){let r=Dp(t,e).map(n=>n*n);return Gs(r)}function $j(t,e){let r=m2(t,e),n=Gs(t);return r/n}function zj(t,e){let n=Dp(t,e).map(a=>Math.abs(a)).map((a,s)=>a/t[s]);return Gs(n)}var Mr={range:Xj.default,rangeRight:Qj.default,scale:m4,avg:Gs,mean:Gs,sum:vh,max:g2,min:y2,sd:Pg,StandardScaler:sxe,StandardScalerTransforms:oxe,MinMaxScaler:uxe,MinMaxScalerTransforms:fxe,LogScaler:t=>t.map(Math.log),ExpScaler:t=>t.map(Math.exp),squaredDifference:eU,standardError:rxe,coefficientOfDetermination:tU,coefficientOfCorrelation:h4,r:h4,rSquared:nxe,adjustedCoefficentOfDetermination:c4,rBarSquared:c4,adjustedRSquared:c4,pivotVector:ixe,pivotArrays:axe,standardScore:Bj,zScore:Bj,approximateZPercentile:lxe,getSafePropertyName:cxe,forecastErrors:Dp,meanForecastError:Lj,MFE:Lj,meanAbsoluteDeviation:m2,MAD:m2,trackingSignal:Pj,TS:Pj,meanSquaredError:qj,MSE:qj,MADMeanRatio:$j,MMR:$j,meanAbsolutePercentageError:zj,MAPE:zj},hxe={scale:"scaleOptions",descale:"descaleOptions",label:"labelOptions",labelEncoder:"labelOptions",labeldecode:"labelOptions",labelDecode:"labelOptions",labelDecoder:"labelOptions",onehot:"oneHotOptions",oneHot:"oneHotOptions",oneHotEncode:"oneHotOptions",oneHotEncoder:"oneHotOptions",reducer:"reducerOptions",reduce:"reducerOptions",merge:"mergeData"},Mi=class{constructor(t=[],e={}){Xe(this,"config");Xe(this,"data");Xe(this,"labels");Xe(this,"encoders");Xe(this,"scalers");Xe(this,"selectColumns");Xe(this,"columnArray");Xe(this,"encodeObject");Xe(this,"oneHotEncoder");Xe(this,"oneHotDecoder");Xe(this,"columnMatrix");Xe(this,"reverseColumnMatrix");Xe(this,"reverseColumnVector");Xe(this,"getTransforms");return this.config=Object.assign({debug:!0},e),this.data=[...t],this.labels=new Map,this.encoders=new Map,this.scalers=new Map,this.selectColumns=Mi.selectColumns,this.columnArray=Mi.columnArray,this.encodeObject=Mi.encodeObject,this.oneHotEncoder=Mi.oneHotEncoder,this.oneHotDecoder=Mi.oneHotDecoder,this.columnMatrix=Mi.columnMatrix,this.reverseColumnMatrix=Mi.reverseColumnMatrix,this.reverseColumnVector=Mi.reverseColumnVector,this.getTransforms=Mi.getTransforms,(this.config.labels||this.config.encoders||this.config.scalers)&&this.importFeatures({labels:this.config.labels,encoders:this.config.encoders,scalers:this.config.scalers}),this}static getTransforms(t={}){return Object.keys(t).reduce((e,r)=>{let n=t[r],a={name:r,options:{strategy:Array.isArray(n)?n[0]:n}};return Array.isArray(n)&&n.length>1&&(a.options[hxe[n[0]]]=n[1]),e.push(a),e},[])}static reverseColumnMatrix(t={}){let{vectors:e=[],labels:r=[]}=t,n=Array.isArray(r)&&Array.isArray(r[0])?r:r.map(a=>[a]);return e.reduce((a,s)=>(a.push(s.reduce((o,u,l)=>(o[n[l][0]]=s[l],o),{})),a),[])}static reverseColumnVector(t={}){let{vector:e=[],labels:r=[]}=t,n=Array.isArray(r)&&Array.isArray(r[0])?r:r.map(a=>[a]);return e.reduce((a,s)=>(a.push({[n[0][0]]:s}),a),[])}static encodeObject(t,e){let{labels:r,prefix:n,name:a}=e;return r.reduce((o,u)=>{let l=`${n}${u}`;return o[l]=u&&t[a]&&t[a].toString()===u.toString()?1:0,o},{})}static oneHotEncoder(t,e){let r=Object.assign({merge:!0},e),n=r.data||this.columnArray(t,r.columnArrayOptions),a=Array.from(new Set(n).values()),s=r.prefix||`${t}_`,o=n.reduce((u,l,h,p)=>(a.forEach(v=>{let y=`${s}${v}`,S=l===v?1:0;Array.isArray(u[y])?u[y].push(S):u[y]=[S]}),u),{});return this.encoders.has(t)&&r.merge?this.encoders.get(t).labels=Array.from(new Set(a.concat(this.encoders.get(t).labels))):this.encoders.set(t,{name:t,labels:a,prefix:s}),o}static oneHotDecoder(t,e){let r=Object.assign({},e),n=r.encoders||this.encoders,a=r.prefix||n.get(t).prefix,s=r.labels||n.get(t).labels;return(r.data||this.oneHotColumnArray(t,r.oneHotColumnArrayOptions)).reduce((u,l)=>{let p=Object.keys(l).filter(y=>l[y]===1&&(s.indexOf(y.replace(a,""))!==-1||s.map(S=>String(S)).indexOf(y.replace(a,""))!==-1))[0]||"",v={[t]:p.replace(a,"")};return u.push(v),u},[])}static oneHotColumnArray(t,e){throw new Error("Method not implemented.")}static selectColumns(t,e={}){return(Object.assign({},e).data||this.data).reduce((a,s)=>{let o={};return t.forEach(u=>{o[u]=s[u]}),a.push(o),a},[])}static columnArray(t,e={}){let r=Object.assign({prefilter:()=>!0,filter:()=>!0,replace:{test:void 0,value:void 0},parseInt:!1,parseIntBase:10,parseFloat:!!e.scale,scale:!1},e),a=(r.data||this.data).filter(r.prefilter).reduce((s,o,u,l)=>{let h=o[t],p=typeof r.replace.test=="function"&&r.replace.test(h)?typeof r.replace.value=="function"?r.replace.value(s,o,u,l,t):r.replace.value:h;return r.filter(p)&&(r.parseInt?s.push(parseInt(p,r.parseIntBase)):r.parseFloat?s.push(parseFloat(p)):s.push(p)),s},[]);if(typeof r.scale=="function")return a.map(r.scale);if(r.scale)switch(r.scale){case"standard":return Mr.StandardScaler(a);case"log":return Mr.LogScaler(a);case"exp":return Mr.ExpScaler(a);case"normalize":default:return Mr.MinMaxScaler(a)}else return a}static columnMatrix(t=[],e=[]){let r=e.length?{data:e}:{},a=(Array.isArray(t)&&Array.isArray(t[0])?t:t.map(s=>[s,r])).map(s=>Mi.columnArray.call(this,...s));return Mr.pivotArrays(a)}static mapToObject(t=new Map){return Array.from(t.keys()).reduce((e,r)=>{let n=t.get(r);return n instanceof Map?e[r]=Mi.mapToObject(n):typeof n=="function"?e[r]=`[Function ${n.name}]`:e[r]=JSON.parse(JSON.stringify(n)),e},{})}static getBinaryValue(t=""){if(!t)return 0;switch(t){case!1:case"N":case"n":case"NO":case"No":case"no":case"False":case"FALSE":case"F":case"f":return 0;default:return 1}}exportFeatures(t={}){let e=Object.assign({},t);return{encoders:Mi.mapToObject(this.encoders),labels:Mi.mapToObject(this.labels),scalers:Mi.mapToObject(this.scalers)}}importFeatures(t={}){Object.keys(t.encoders||{}).forEach(e=>{let r=t.encoders[e];this.encoders.set(e,r)}),Object.keys(t.labels||{}).forEach(e=>{let r=t.labels[e],n=Object.keys(r).map(a=>[a,r[a]]);typeof r[0]!="undefined"&&typeof r[1]!="undefined"&&n.push([0,!1],[!1,0],[null,0],["no",0],["No",0],["NO",0],["FALSE",0],["F",0],["f",0],["null",0],["",0],[void 0,0],["undefined",0],["TRUE",1],["true",1],[1,!0],[!0,1]),this.labels.set(e,new Map(n))}),Object.keys(t.scalers||{}).forEach(e=>{let r,n=t.scalers[e],{config:a}=n;switch(a.strategy){case"standard":r=Mr.StandardScalerTransforms(void 0,a.nan_value,a.return_nan,n.components),n.scale=r.scale,n.descale=r.descale;break;case"normalize":case"minmax":r=Mr.MinMaxScalerTransforms(void 0,a.nan_value,a.return_nan,n.components),n.scale=r.scale,n.descale=r.descale;break;case"log":default:n.scale=Math.log,n.descale=Math.exp;break}this.scalers.set(e,n)})}filterColumn(t=()=>!0){return this.data.filter(t)}columnScale(t,e={}){let n=Object.assign({strategy:"log",forced_coercion:!1},typeof e=="string"?{strategy:e}:e),a=n.data||this.columnArray(t,n.columnArrayOptions),s,o;switch(a=a.filter(u=>typeof u!="undefined").map((u,l)=>{if(typeof u!="number"){this.config.debug&&n.forced_coercion===!1&&console.error(TypeError(`Each value must be a number, error at index [${t}][${l}]: <${typeof u}>${u}`));let h=Number(u);if(isNaN(h)&&n.forced_coercion)return 0;if(isNaN(h))throw TypeError(`Only numerical values in (${t}) can be scaled i: ${l} datum: ${u}`);return h}else return u}),n.strategy){case"standard":o=Mr.StandardScalerTransforms(a,n.nan_value,n.return_nan),this.scalers.set(t,{name:t,scale:o.scale,descale:o.descale,components:o.components}),s=o.values;break;case"normalize":case"minmax":o=Mr.MinMaxScalerTransforms(a,n.nan_value,n.return_nan),this.scalers.set(t,{name:t,scale:o.scale,descale:o.descale,components:o.components}),s=o.values;break;case"log":default:this.scalers.set(t,{name:t,scale:Math.log,descale:Math.exp,components:{average:Mr.avg(a),standard_dev:Mr.sd(a),maximum:Mr.max(a),minimum:Mr.min(a)}}),s=Mr.LogScaler(a);break}return this.scalers.get(t).config=n,s}columnDescale(t,e){let r=Object.assign({},e),n=r.data||this.columnArray(t,r.columnArrayOptions),a=this.scalers.get(t).descale;return n.map(a)}labelEncoder(t,e){let r=Object.assign({binary:!1,merge:!0},e),n=r.data||this.columnArray(t,r.columnArrayOptions),a=Array.from(new Set(n).values()).sort(r.sortFunction),s=new Map(a.reduce((u,l,h)=>(r.binary?(h===0&&u.push([0,!1],["0",!1],["FALSE",0],["false",0],[1,!0],["1",!0],["TRUE",1],["true",1]),u.push([l,Mi.getBinaryValue(l)])):(u.push([l,h]),u.push([h,l])),u),[]));return this.labels.has(t)&&r.merge?this.labels.set(t,new Map([...this.labels.get(t),...s])):this.labels.set(t,s),r.binary?n.map(Mi.getBinaryValue):n.map(u=>s.get(u))}labelDecode(t,e={}){let r=Object.assign({},e);return(r.data||this.columnArray(t,r.columnArrayOptions)).map(a=>this.labels.get(t).get(a))}oneHotColumnArray(t,e){let r=Object.assign({},e),n=r.labels||this.encoders.get(t).labels,a=r.prefix||this.encoders.get(t).prefix;return this.selectColumns(n.map(s=>`${a}${s}`))}columnReducer(t,e){return{[t]:this.columnArray(e.columnName,e.columnOptions).reduce(e.reducer,[])}}columnMerge(t,e=[]){if(this.data.length!==e.length)throw new RangeError(`Merged data column must have the same length(${e.length}) as the DataSet's length (${this.data.length})`);return{[t]:e}}inverseTransformObject(t,e){let r=Object.assign({removeValues:!1},e),n=[],a=Object.assign({},t),s=Object.keys(this.data[0]),o=s.reduce((h,p)=>(this.scalers.has(p)&&(h[p]=this.scalers.get(p).descale(t[p])),h),{}),u=s.reduce((h,p)=>(this.labels.has(p)&&(h[p]=this.labels.get(p).get(t[p])),h),{}),l=s.reduce((h,p)=>{if(this.encoders.has(p)){let v=this.oneHotDecoder(p,{data:[t]});h=Object.assign({},h,v[0]),r.removeValues&&n.push(...this.encoders.get(p).labels.map(y=>`${this.encoders.get(p).prefix}${y}`))}return h},{});return a=Object.assign(a,o,u,l),r.removeValues&&n.length&&(a=Object.keys(a).reduce((h,p)=>(n.indexOf(p)===-1&&(h[p]=a[p]),h),{})),a}transformObject(t,e){let r=Object.assign({removeValues:!1,checkColumnLength:!0},e),n=[],a=new Array().concat(...Array.from(this.encoders.keys()).map(h=>this.encoders.get(h).labels.map(p=>`${this.encoders.get(h).prefix}${p}`))),s=this.data.length?Object.keys(this.data[0]):Object.keys(t),o=Object.keys(t).concat(a),u=o.reduce((h,p)=>(s.indexOf(p)===-1&&a.indexOf(p)===-1&&h.push(p),h),[]),l=Object.assign({},t);if(r.checkColumnLength&&s.length!==o.length&&s.length+a.length!==o.length)throw new RangeError(`Object must have the same number of keys (${o.length}) as data in your dataset(${s.length})`);if(r.checkColumnLength&&u.length)throw new ReferenceError(`Object must have identical keys as data in your DataSet. Invalid keys: ${u.join(",")}`);{let h=o.reduce((y,S)=>(this.scalers.has(S)&&(y[S]=this.scalers.get(S).scale(t[S])),y),{}),p=o.reduce((y,S)=>(this.labels.has(S)&&(y[S]=this.labels.get(S).get(t[S])),y),{}),v=o.reduce((y,S)=>(this.encoders.has(S)&&(y=Object.assign({},y,this.encodeObject(t,this.encoders.get(S))),r.removeValues&&n.push(S)),y),{});l=Object.assign(l,h,p,v),r.removeValues&&n.length&&(l=Object.keys(l).reduce((y,S)=>(n.indexOf(S)===-1&&(y[S]=l[S]),y),{}))}return l}columnReplace(t,e={}){let r=Object.assign({strategy:"mean",empty:!0,arrayOptions:{parseFloat:!0,filter:s=>s},labelOptions:{}},e),n,a={test:s=>!s,value:n};switch(r.strategy){case"scale":n=this.columnScale(t,r.scaleOptions),a={test:s=>!0,value:(s,o,u,l)=>n[u]};break;case"descale":n=this.columnDescale(t,r.descaleOptions),a={test:s=>!0,value:(s,o,u,l)=>n[u]};break;case"label":case"labelEncoder":n=this.labelEncoder(t,r.labelOptions),a={test:s=>!0,value:(s,o,u,l)=>n[u]};break;case"labeldecode":case"labelDecode":case"labelDecoder":n=this.labelDecode(t,r.labelOptions),a={test:s=>!0,value:(s,o,u,l)=>n[u]};break;case"onehot":case"oneHot":case"oneHotEncode":case"oneHotEncoder":return n=this.oneHotEncoder(t,r.oneHotOptions),a={test:s=>!0,value:(s,o,u,l)=>n[u]},n;case"reducer":case"reduce":return n=this.columnReducer(t,r.reducerOptions),n;case"merge":return n=this.columnMerge(t,r.mergeData),n;case"parseNumber":return n=this.columnArray(t).map(s=>Number(s)),n;default:n=Yj.array[r.strategy](this.columnArray(t,r.arrayOptions)),a.value=n;break}return this.columnArray(t,Object.assign({},{replace:a,scale:e.scale},e.columnOptions))}fitColumns(t={},e={}){let r=Object.assign({returnData:!0,columns:[]},t);(!t.columns||Array.isArray(t.columns)===!1)&&(r.columns=t.columns?Mi.getTransforms(t.columns):Mi.getTransforms(t));let n=r.columns.reduce((a,s,o,u)=>{let l=this.columnReplace(s.name,s.options);return Array.isArray(l)?(l=l.map(h=>({[s.name]:h})),a[s.name]=l):Object.keys(l).forEach(h=>{a[h]=l[h].map(p=>({[h]:p}))}),a},{});if(Object.keys(n)&&Object.keys(n).length){let a=Object.keys(n),s=n[a[0]].reduce((o,u,l,h)=>{let p={};return a.forEach(v=>{p[v]=n[v][l][v]}),o.push(p),o},[]);this.data=this.data.map((o,u)=>Object.assign({},o,s[u]))}return r.returnData?this.data:this}fitInverseTransforms(t={}){let e=Object.assign({returnData:!0},t);return this.data=this.data.map(r=>t.removeValues?this.inverseTransformObject(r,t):Object.assign({},r,this.inverseTransformObject(r,t))),e.returnData?this.data:this}fitTransforms(t={}){let e=Object.assign({returnData:!0},t);return this.data=this.data.map(r=>t.removeValues?this.transformObject(r,t):Object.assign({},r,this.transformObject(r,t))),e.returnData?this.data:this}},wi=Mi;Uj(wi,"encoders");Uj(wi,"data");var dxe=class{constructor(t={}){Xe(this,"data");Xe(this,"tokens");Xe(this,"vectors");Xe(this,"wordMap");Xe(this,"wordCountMap");Xe(this,"maxFeatures");Xe(this,"sortedWordCount");Xe(this,"limitedFeatures");Xe(this,"matrix");Xe(this,"replacer");try{typeof p2.PorterStemmer=="undefined"&&Object.assign(p2,exe)}catch(e){console.error({E:e})}return this.data=t.data||[],this.tokens=new Set,this.vectors=[],this.wordMap={},this.wordCountMap={},this.maxFeatures=t.maxFeatures,this.sortedWordCount=[],this.limitedFeatures=[],this.matrix=[],this.replacer=(e="")=>{let r=e.toLowerCase().replace(/[^a-zA-Z]/gi," ");return p2.PorterStemmer.tokenizeAndStem(r).join(" ")},this}get_tokens(){return Array.from(this.tokens)}get_vector_array(){return this.get_tokens().map(t=>[t])}fit_transform(t={}){(t.data||this.data).forEach(n=>{let a={};this.replacer(n).split(" ").forEach(s=>{let o=s.toLowerCase();a[o]=a[o]?a[o]+1:1,this.wordCountMap[o]=this.wordCountMap[o]?this.wordCountMap[o]+1:1,this.tokens.add(o)}),this.vectors.push(a)}),this.wordMap=Array.from(this.tokens).reduce((n,a)=>(n[a]=0,n),{}),this.sortedWordCount=Object.keys(this.wordCountMap).sort((n,a)=>this.wordCountMap[a]-this.wordCountMap[n]),this.vectors=this.vectors.map(n=>Object.assign({},this.wordMap,n));let r=new wi(this.vectors);return this.limitedFeatures=this.get_limited_features(t),this.matrix=r.columnMatrix(this.limitedFeatures),this.matrix}get_limited_features(t={}){let e=t.maxFeatures||this.maxFeatures||this.tokens.size;return this.sortedWordCount.slice(0,e).map(r=>[r])}evaluateString(t=""){let r=this.replacer(t).split(" ").reduce((n,a)=>(this.tokens.has(a)&&(n[a]=n[a]!==void 0?n[a]+1:1),n),{});return st(st({},this.wordMap),r)}evaluate(t="",e){let r=this.evaluateString(t),n=this.get_limited_features(e);return new wi([r]).columnMatrix(n)}},p2=Object.assign({ColumnVectorizer:dxe}),{GridSearch:iU}=nU.default;function pxe(t=[],e={test_size:.2,train_size:.8,random_state:0,return_array:!1,parse_int_train_size:!0}){let r=mf.seed(e.random_state||0),n=[],a=typeof e.parse_int_train_size=="boolean"?e.parse_int_train_size:!0,s=e.train_size?e.train_size*t.length:(1-(e.test_size||.2))*t.length,o=a?parseInt(s.toString(),10):s,u=new Array().concat(t);for(;n.length<o;){let l=c2(0,u.length-1)(r);n.push(u.splice(l,1)[0])}return e.return_array?[n,u]:{train:n,test:u}}function d4(t=[],e={folds:3,random_state:0}){let r=mf.seed(e.random_state||0),n=e.folds||3,a=[],s=[].concat(t),o=t.length/(n||3),u=Math.floor(o);for(let l in(0,rU.default)(n)){let h=[];for(;h.length<u;){let p=c2(0,s.length-1)(r);h.push(s.splice(p,1)[0])}a.push(h)}return a}function aU(t={}){let e=st({dependentFeatures:[["X"]],independentFeatures:[["Y"]],folds:10,accuracy:"standardError",use_train_x_matrix:!0,use_train_y_matrix:!1,use_train_y_vector:!1,use_estimates_y_vector:!1},t),r=e.classifier,n=e.regression,a=d4(e.dataset,{folds:e.folds,random_state:e.random_state}),s=new wi(e.testingset),o=s.columnMatrix(e.independentFeatures),u=s.columnMatrix(e.dependentFeatures),l=Mr.pivotVector(o)[0];return a.map(p=>{let v=new wi(p),y=v.columnMatrix(e.dependentFeatures),S=v.columnMatrix(e.independentFeatures),A=e.use_train_x_matrix?new qt(y):y,T=e.use_train_y_matrix?new qt(S):e.use_train_y_vector?Mr.pivotVector(S)[0]:S;if(n){let I,N;typeof n.train=="function"?(I=n.train(A,T,e.modelOptions),N=n.predict(u)):(I=new n(A,T,e.modelOptions),N=I.predict(u));let D=N;return e.accuracy==="standardError"?Mr.standardError(l,D):Mr.rSquared(l,D)}else{let I,N;typeof r.train=="function"?(r.train(A,T,e.modelOptions),N=r.predict(u)):(I=new r(A,T,e.modelOptions),N=I.predict(u));let D=e.use_estimates_y_vector?Mr.pivotVector(N)[0]:N;return vf.fromLabels(l,D).getAccuracy()}})}function mxe(t={}){let e=st({return_parameters:!1,compare_score:"mean",sortAccuracyScore:"desc",parameters:{}},t),r=e.regression,n=e.classifier,a=!t.sortAccuracyScore&&e.regression?"asc":e.sortAccuracyScore,s=new iU({params:e.parameters,run_callback:l=>{e.regression?e.regression=new r(l):e.classifier=new n(l);let h=aU(e);return e.compare_score?Mr[e.compare_score](h):h}});s.run();let o=a==="desc"?(l,h)=>h.results-l.results:(l,h)=>l.results-h.results,u=s._results.sort(o);return e.return_parameters?u:u[0]}var v4={train_test_split:pxe,cross_validation_split:d4,kfolds:d4,cross_validate_score:aU,grid_search:mxe,GridSearch:iU},{FPGrowth:gxe}=vxe;function yxe(t,e){let r=Object.assign({},{exludeEmptyTranscations:!0},e),n=new Set,a=new Map,s=t.map(o=>([...Object.values(o)].forEach(u=>{n.add(u)}),n.forEach(u=>{if(!a.get(u)){let l=a.size<0?0:Math.round(a.size/2);a.set(u,l.toString()),a.set(l.toString(),u)}}),Object.values(o).map(u=>a.get(u)).filter(u=>u!==void 0)));return{values:n,valuesMap:a,transactions:r.exludeEmptyTranscations?s.filter(o=>o.length):s}}function bxe(t=[],e){return new Promise((r,n)=>{try{let a=Object.assign({},{support:.4,minLength:2,summary:!0,valuesMap:new Map},e);new gxe(a.support).exec(t).then(o=>{let u=o.itemsets?o.itemsets:o;a.summary?r(u.map(l=>({items_labels:l.items.map(h=>a.valuesMap.get(h)),items:l.items,support:l.support,support_percent:l.support/t.length})).filter(l=>l.items.length>1).sort((l,h)=>h.support-l.support)):r(o)}).catch(n)}catch(a){n(a)}})}var wxe={getTransactions:yxe,assocationRuleLearning:bxe},_xe=Vj;var vU=lt(Fg(),1);var Rp=lt(Fg(),1),hU=lt(ch(),1),dU=lt(e4(),1),Hs=Rp.array.mean,xxe=Hs,gh=Rp.array.sum,b4=(t,e)=>t.map(r=>(r-Hs(t))/e),w2=Rp.array.max,_2=Rp.array.min,qg=Rp.array.standardDeviation;function pU(t,e){return t.reduce((r,n,a,s)=>(r.push(Math.pow(e[a]-n,2)),r),[])}function Sxe(t=[],e=[]){if(t.length!==e.length)throw new RangeError("arrays must have the same length");let r=pU(t,e);return Math.sqrt(gh(r)/(t.length-2))}function sU(t=[]){let e=Hs(t),r=qg(t);return t.map(n=>(n-e)/r)}function mU(t=[],e=[]){if(t.length!==e.length)throw new RangeError("arrays must have the same length");let r=xxe(t),n=gh(t.reduce((o,u,l)=>(o.push(Math.pow(t[l]-r,2)),o),[])),a=gh(t.reduce((o,u,l)=>(o.push(Math.pow(t[l]-e[l],2)),o),[]));return(n-a)/n}function g4(t){let{actuals:e,estimates:r,rSquared:n,independentVariables:a,sampleSize:s}=t,o=n||mU(e,r),u=s||e.length,l=a;return 1-(1-o)*((u-1)/(u-(l+1)))}function y4(t=[],e=[]){if(t.length!==e.length)throw new RangeError("arrays must have the same length");let r=gh(t),n=gh(e),a=t.reduce((h,p,v)=>(h=h+t[v]*e[v],h),0),s=t.reduce((h,p)=>(h=h+p*p,h),0),o=e.reduce((h,p)=>(h=h+p*p,h),0),u=t.length;return(u*a-r*n)/Math.sqrt((u*s-Math.pow(r,2))*(u*o-Math.pow(n,2)))}function Exe(t=[],e=[]){return Math.pow(y4(t,e),2)}function Mxe(t=[]){return t.reduce((e,r,n)=>(r.forEach((a,s)=>{n===0?e.push([a]):e[s].push(a)}),e),[])}function Axe(t=[]){return t.length?t[0].map((e,r)=>{let n=[];return t.forEach((a,s)=>{n.push(t[s][r])}),n}):t}var kxe=t=>b4(t,qg(t));function Txe(t=[],e=-1,r=!1,n={}){let a=typeof n.average!="undefined"?n.average:Hs(t),s=typeof n.standard_dev!="undefined"?n.standard_dev:qg(t),o=typeof n.maximum!="undefined"?n.maximum:w2(t),u=typeof n.minimum!="undefined"?n.minimum:_2(t),l=v=>{let y=(v-a)/s;return isNaN(y)&&r?y:isNaN(y)&&r===!1?isNaN(s)?v:s:y},h=v=>{let y=v*s+a;return isNaN(y)&&r?y:isNaN(y)&&r===!1?isNaN(s)?v:s:y},p=t.map(l).map(v=>isNaN(v)?e:v);return{components:{average:a,standard_dev:s,maximum:o,minimum:u},scale:l,descale:h,values:p}}var Nxe=t=>b4(t,w2(t)-_2(t));function Ixe(t=[],e=-1,r=!1,n={}){let a=typeof n.average!="undefined"?n.average:Hs(t),s=typeof n.standard_dev!="undefined"?n.standard_dev:qg(t),o=typeof n.maximum!="undefined"?n.maximum:w2(t),u=typeof n.minimum!="undefined"?n.minimum:_2(t),l=v=>{let y=(v-a)/(o-u);return isNaN(y)&&r?y:isNaN(y)&&r===!1?isNaN(s)?v:s:y},h=v=>{let y=v*(o-u)+a;return isNaN(y)&&r?y:isNaN(y)&&r===!1?isNaN(s)?v:s:y},p=t.map(l).map(v=>isNaN(v)?e:v);return{components:{average:a,standard_dev:s,maximum:o,minimum:u},scale:l,descale:h,values:p}}function Dxe(t,e=!0){if(t<-6.5)return 0;if(t>6.5)return 1;let r=1,n=0,a=1,s=0,o=Math.exp(-23);for(;Math.abs(a)>o;)a=.3989422804*Math.pow(-1,s)*Math.pow(t,s)/(2*s+1)/Math.pow(2,s)*Math.pow(t,s+1)/r,n+=a,s++,r*=s;return n+=.5,e?1-n:n}function Oxe(t){return t.replace(/[^\w\s]/gi,"_")}function Cp(t,e){if(t.length!==e.length)throw new Error(`Actuals length (${t.length}) must equal Estimates length (${e.length})`);return t.map((r,n)=>r-e[n])}function oU(t,e){let r=Cp(t,e);return Hs(r)}function b2(t,e){let r=Cp(t,e).map(n=>Math.abs(n));return Hs(r)}function uU(t,e){let r=gh(Cp(t,e)),n=b2(t,e);return r/n}function fU(t,e){let r=Cp(t,e).map(n=>n*n);return Hs(r)}function lU(t,e){let r=b2(t,e),n=Hs(t);return r/n}function cU(t,e){let n=Cp(t,e).map(a=>Math.abs(a)).map((a,s)=>a/t[s]);return Hs(n)}var Aa={range:hU.default,rangeRight:dU.default,scale:b4,avg:Hs,mean:Hs,sum:gh,max:w2,min:_2,sd:qg,StandardScaler:kxe,StandardScalerTransforms:Txe,MinMaxScaler:Nxe,MinMaxScalerTransforms:Ixe,LogScaler:t=>t.map(Math.log),ExpScaler:t=>t.map(Math.exp),squaredDifference:pU,standardError:Sxe,coefficientOfDetermination:mU,coefficientOfCorrelation:y4,r:y4,rSquared:Exe,adjustedCoefficentOfDetermination:g4,rBarSquared:g4,adjustedRSquared:g4,pivotVector:Mxe,pivotArrays:Axe,standardScore:sU,zScore:sU,approximateZPercentile:Dxe,getSafePropertyName:Oxe,forecastErrors:Cp,meanForecastError:oU,MFE:oU,meanAbsoluteDeviation:b2,MAD:b2,trackingSignal:uU,TS:uU,meanSquaredError:fU,MSE:fU,MADMeanRatio:lU,MMR:lU,meanAbsolutePercentageError:cU,MAPE:cU};var Rxe={scale:"scaleOptions",descale:"descaleOptions",label:"labelOptions",labelEncoder:"labelOptions",labeldecode:"labelOptions",labelDecode:"labelOptions",labelDecoder:"labelOptions",onehot:"oneHotOptions",oneHot:"oneHotOptions",oneHotEncode:"oneHotOptions",oneHotEncoder:"oneHotOptions",reducer:"reducerOptions",reduce:"reducerOptions",merge:"mergeData"},Gn=class{static getTransforms(e={}){return Object.keys(e).reduce((r,n)=>{let a=e[n],s={name:n,options:{strategy:Array.isArray(a)?a[0]:a}};return Array.isArray(a)&&a.length>1&&(s.options[Rxe[a[0]]]=a[1]),r.push(s),r},[])}static reverseColumnMatrix(e={}){let{vectors:r=[],labels:n=[]}=e,a=Array.isArray(n)&&Array.isArray(n[0])?n:n.map(s=>[s]);return r.reduce((s,o)=>(s.push(o.reduce((u,l,h)=>(u[a[h][0]]=o[h],u),{})),s),[])}static reverseColumnVector(e={}){let{vector:r=[],labels:n=[]}=e,a=Array.isArray(n)&&Array.isArray(n[0])?n:n.map(s=>[s]);return r.reduce((s,o)=>(s.push({[a[0][0]]:o}),s),[])}static encodeObject(e,r){let{labels:n,prefix:a,name:s}=r;return n.reduce((u,l)=>{let h=`${a}${l}`;return u[h]=l&&e[s]&&e[s].toString()===l.toString()?1:0,u},{})}static oneHotEncoder(e,r){let n=Object.assign({merge:!0},r),a=n.data||this.columnArray(e,n.columnArrayOptions),s=Array.from(new Set(a).values()),o=n.prefix||`${e}_`,u=a.reduce((l,h,p,v)=>(s.forEach(y=>{let S=`${o}${y}`,A=h===y?1:0;Array.isArray(l[S])?l[S].push(A):l[S]=[A]}),l),{});return this.encoders.has(e)&&n.merge?this.encoders.get(e).labels=Array.from(new Set(s.concat(this.encoders.get(e).labels))):this.encoders.set(e,{name:e,labels:s,prefix:o}),u}static oneHotDecoder(e,r){let n=Object.assign({},r),a=n.encoders||this.encoders,s=n.prefix||a.get(e).prefix,o=n.labels||a.get(e).labels;return(n.data||this.oneHotColumnArray(e,n.oneHotColumnArrayOptions)).reduce((l,h)=>{let v=Object.keys(h).filter(S=>h[S]===1&&(o.indexOf(S.replace(s,""))!==-1||o.map(A=>String(A)).indexOf(S.replace(s,""))!==-1))[0]||"",y={[e]:v.replace(s,"")};return l.push(y),l},[])}static oneHotColumnArray(e,r){throw new Error("Method not implemented.")}static selectColumns(e,r={}){return(Object.assign({},r).data||this.data).reduce((s,o)=>{let u={};return e.forEach(l=>{u[l]=o[l]}),s.push(u),s},[])}static columnArray(e,r={}){let n=Object.assign({prefilter:()=>!0,filter:()=>!0,replace:{test:void 0,value:void 0},parseInt:!1,parseIntBase:10,parseFloat:!!r.scale,scale:!1},r),s=(n.data||this.data).filter(n.prefilter).reduce((o,u,l,h)=>{let p=u[e],v=typeof n.replace.test=="function"&&n.replace.test(p)?typeof n.replace.value=="function"?n.replace.value(o,u,l,h,e):n.replace.value:p;return n.filter(v)&&(n.parseInt?o.push(parseInt(v,n.parseIntBase)):n.parseFloat?o.push(parseFloat(v)):o.push(v)),o},[]);if(typeof n.scale=="function")return s.map(n.scale);if(n.scale)switch(n.scale){case"standard":return Aa.StandardScaler(s);case"log":return Aa.LogScaler(s);case"exp":return Aa.ExpScaler(s);case"normalize":default:return Aa.MinMaxScaler(s)}else return s}static columnMatrix(e=[],r=[]){let n=r.length?{data:r}:{},s=(Array.isArray(e)&&Array.isArray(e[0])?e:e.map(o=>[o,n])).map(o=>Gn.columnArray.call(this,...o));return Aa.pivotArrays(s)}static mapToObject(e=new Map){return Array.from(e.keys()).reduce((r,n)=>{let a=e.get(n);return a instanceof Map?r[n]=Gn.mapToObject(a):typeof a=="function"?r[n]=`[Function ${a.name}]`:r[n]=JSON.parse(JSON.stringify(a)),r},{})}static getBinaryValue(e=""){if(!e)return 0;switch(e){case!1:case"N":case"n":case"NO":case"No":case"no":case"False":case"FALSE":case"F":case"f":return 0;default:return 1}}constructor(e=[],r={}){return this.config=Object.assign({debug:!0},r),this.data=[...e],this.labels=new Map,this.encoders=new Map,this.scalers=new Map,this.selectColumns=Gn.selectColumns,this.columnArray=Gn.columnArray,this.encodeObject=Gn.encodeObject,this.oneHotEncoder=Gn.oneHotEncoder,this.oneHotDecoder=Gn.oneHotDecoder,this.columnMatrix=Gn.columnMatrix,this.reverseColumnMatrix=Gn.reverseColumnMatrix,this.reverseColumnVector=Gn.reverseColumnVector,this.getTransforms=Gn.getTransforms,(this.config.labels||this.config.encoders||this.config.scalers)&&this.importFeatures({labels:this.config.labels,encoders:this.config.encoders,scalers:this.config.scalers}),this}exportFeatures(e={}){let r=Object.assign({},e);return{encoders:Gn.mapToObject(this.encoders),labels:Gn.mapToObject(this.labels),scalers:Gn.mapToObject(this.scalers)}}importFeatures(e={}){Object.keys(e.encoders||{}).forEach(r=>{let n=e.encoders[r];this.encoders.set(r,n)}),Object.keys(e.labels||{}).forEach(r=>{let n=e.labels[r],a=Object.keys(n).map(s=>[s,n[s]]);typeof n[0]!="undefined"&&typeof n[1]!="undefined"&&a.push([0,!1],[!1,0],[null,0],["no",0],["No",0],["NO",0],["FALSE",0],["F",0],["f",0],["null",0],["",0],[void 0,0],["undefined",0],["TRUE",1],["true",1],[1,!0],[!0,1]),this.labels.set(r,new Map(a))}),Object.keys(e.scalers||{}).forEach(r=>{let n,a=e.scalers[r],{config:s}=a;switch(s.strategy){case"standard":n=Aa.StandardScalerTransforms(void 0,s.nan_value,s.return_nan,a.components),a.scale=n.scale,a.descale=n.descale;break;case"normalize":case"minmax":n=Aa.MinMaxScalerTransforms(void 0,s.nan_value,s.return_nan,a.components),a.scale=n.scale,a.descale=n.descale;break;case"log":default:a.scale=Math.log,a.descale=Math.exp;break}this.scalers.set(r,a)})}filterColumn(e=()=>!0){return this.data.filter(e)}columnScale(e,r={}){let a=Object.assign({strategy:"log",forced_coercion:!1},typeof r=="string"?{strategy:r}:r),s=a.data||this.columnArray(e,a.columnArrayOptions),o,u;switch(s=s.filter(l=>typeof l!="undefined").map((l,h)=>{if(typeof l!="number"){this.config.debug&&a.forced_coercion===!1&&console.error(TypeError(`Each value must be a number, error at index [${e}][${h}]: <${typeof l}>${l}`));let p=Number(l);if(isNaN(p)&&a.forced_coercion)return 0;if(isNaN(p))throw TypeError(`Only numerical values in (${e}) can be scaled i: ${h} datum: ${l}`);return p}else return l}),a.strategy){case"standard":u=Aa.StandardScalerTransforms(s,a.nan_value,a.return_nan),this.scalers.set(e,{name:e,scale:u.scale,descale:u.descale,components:u.components}),o=u.values;break;case"normalize":case"minmax":u=Aa.MinMaxScalerTransforms(s,a.nan_value,a.return_nan),this.scalers.set(e,{name:e,scale:u.scale,descale:u.descale,components:u.components}),o=u.values;break;case"log":default:this.scalers.set(e,{name:e,scale:Math.log,descale:Math.exp,components:{average:Aa.avg(s),standard_dev:Aa.sd(s),maximum:Aa.max(s),minimum:Aa.min(s)}}),o=Aa.LogScaler(s);break}return this.scalers.get(e).config=a,o}columnDescale(e,r){let n=Object.assign({},r),a=n.data||this.columnArray(e,n.columnArrayOptions),s=this.scalers.get(e).descale;return a.map(s)}labelEncoder(e,r){let n=Object.assign({binary:!1,merge:!0},r),a=n.data||this.columnArray(e,n.columnArrayOptions),s=Array.from(new Set(a).values()).sort(n.sortFunction),o=new Map(s.reduce((l,h,p)=>(n.binary?(p===0&&l.push([0,!1],["0",!1],["FALSE",0],["false",0],[1,!0],["1",!0],["TRUE",1],["true",1]),l.push([h,Gn.getBinaryValue(h)])):(l.push([h,p]),l.push([p,h])),l),[]));return this.labels.has(e)&&n.merge?this.labels.set(e,new Map([...this.labels.get(e),...o])):this.labels.set(e,o),n.binary?a.map(Gn.getBinaryValue):a.map(l=>o.get(l))}labelDecode(e,r={}){let n=Object.assign({},r);return(n.data||this.columnArray(e,n.columnArrayOptions)).map(s=>this.labels.get(e).get(s))}oneHotColumnArray(e,r){let n=Object.assign({},r),a=n.labels||this.encoders.get(e).labels,s=n.prefix||this.encoders.get(e).prefix;return this.selectColumns(a.map(o=>`${s}${o}`))}columnReducer(e,r){return{[e]:this.columnArray(r.columnName,r.columnOptions).reduce(r.reducer,[])}}columnMerge(e,r=[]){if(this.data.length!==r.length)throw new RangeError(`Merged data column must have the same length(${r.length}) as the DataSet's length (${this.data.length})`);return{[e]:r}}inverseTransformObject(e,r){let n=Object.assign({removeValues:!1},r),a=[],s=Object.assign({},e),o=Object.keys(this.data[0]),u=o.reduce((p,v)=>(this.scalers.has(v)&&(p[v]=this.scalers.get(v).descale(e[v])),p),{}),l=o.reduce((p,v)=>(this.labels.has(v)&&(p[v]=this.labels.get(v).get(e[v])),p),{}),h=o.reduce((p,v)=>{if(this.encoders.has(v)){let y=this.oneHotDecoder(v,{data:[e]});p=Object.assign({},p,y[0]),n.removeValues&&a.push(...this.encoders.get(v).labels.map(S=>`${this.encoders.get(v).prefix}${S}`))}return p},{});return s=Object.assign(s,u,l,h),n.removeValues&&a.length&&(s=Object.keys(s).reduce((p,v)=>(a.indexOf(v)===-1&&(p[v]=s[v]),p),{})),s}transformObject(e,r){let n=Object.assign({removeValues:!1,checkColumnLength:!0},r),a=[],s=new Array().concat(...Array.from(this.encoders.keys()).map(p=>this.encoders.get(p).labels.map(v=>`${this.encoders.get(p).prefix}${v}`))),o=this.data.length?Object.keys(this.data[0]):Object.keys(e),u=Object.keys(e).concat(s),l=u.reduce((p,v)=>(o.indexOf(v)===-1&&s.indexOf(v)===-1&&p.push(v),p),[]),h=Object.assign({},e);if(n.checkColumnLength&&o.length!==u.length&&o.length+s.length!==u.length)throw new RangeError(`Object must have the same number of keys (${u.length}) as data in your dataset(${o.length})`);if(n.checkColumnLength&&l.length)throw new ReferenceError(`Object must have identical keys as data in your DataSet. Invalid keys: ${l.join(",")}`);{let p=u.reduce((S,A)=>(this.scalers.has(A)&&(S[A]=this.scalers.get(A).scale(e[A])),S),{}),v=u.reduce((S,A)=>(this.labels.has(A)&&(S[A]=this.labels.get(A).get(e[A])),S),{}),y=u.reduce((S,A)=>(this.encoders.has(A)&&(S=Object.assign({},S,this.encodeObject(e,this.encoders.get(A))),n.removeValues&&a.push(A)),S),{});h=Object.assign(h,p,v,y),n.removeValues&&a.length&&(h=Object.keys(h).reduce((S,A)=>(a.indexOf(A)===-1&&(S[A]=h[A]),S),{}))}return h}columnReplace(e,r={}){let n=Object.assign({strategy:"mean",empty:!0,arrayOptions:{parseFloat:!0,filter:o=>o},labelOptions:{}},r),a,s={test:o=>!o,value:a};switch(n.strategy){case"scale":a=this.columnScale(e,n.scaleOptions),s={test:o=>!0,value:(o,u,l,h)=>a[l]};break;case"descale":a=this.columnDescale(e,n.descaleOptions),s={test:o=>!0,value:(o,u,l,h)=>a[l]};break;case"label":case"labelEncoder":a=this.labelEncoder(e,n.labelOptions),s={test:o=>!0,value:(o,u,l,h)=>a[l]};break;case"labeldecode":case"labelDecode":case"labelDecoder":a=this.labelDecode(e,n.labelOptions),s={test:o=>!0,value:(o,u,l,h)=>a[l]};break;case"onehot":case"oneHot":case"oneHotEncode":case"oneHotEncoder":return a=this.oneHotEncoder(e,n.oneHotOptions),s={test:o=>!0,value:(o,u,l,h)=>a[l]},a;case"reducer":case"reduce":return a=this.columnReducer(e,n.reducerOptions),a;case"merge":return a=this.columnMerge(e,n.mergeData),a;case"parseNumber":return a=this.columnArray(e).map(o=>Number(o)),a;default:a=vU.array[n.strategy](this.columnArray(e,n.arrayOptions)),s.value=a;break}return this.columnArray(e,Object.assign({},{replace:s,scale:r.scale},r.columnOptions))}fitColumns(e={},r={}){let n=Object.assign({returnData:!0,columns:[]},e);(!e.columns||Array.isArray(e.columns)===!1)&&(n.columns=e.columns?Gn.getTransforms(e.columns):Gn.getTransforms(e));let a=n.columns.reduce((s,o,u,l)=>{let h=this.columnReplace(o.name,o.options);return Array.isArray(h)?(h=h.map(p=>({[o.name]:p})),s[o.name]=h):Object.keys(h).forEach(p=>{s[p]=h[p].map(v=>({[p]:v}))}),s},{});if(Object.keys(a)&&Object.keys(a).length){let s=Object.keys(a),o=a[s[0]].reduce((u,l,h,p)=>{let v={};return s.forEach(y=>{v[y]=a[y][h][y]}),u.push(v),u},[]);this.data=this.data.map((u,l)=>Object.assign({},u,o[l]))}return n.returnData?this.data:this}fitInverseTransforms(e={}){let r=Object.assign({returnData:!0},e);return this.data=this.data.map(n=>e.removeValues?this.inverseTransformObject(n,e):Object.assign({},n,this.inverseTransformObject(n,e))),r.returnData?this.data:this}fitTransforms(e={}){let r=Object.assign({returnData:!0},e);return this.data=this.data.map(n=>e.removeValues?this.transformObject(n,e):Object.assign({},n,this.transformObject(n,e))),r.returnData?this.data:this}};var O1={};Qf(O1,{BaseNeuralNetwork:()=>gi,DeepLearningClassification:()=>Fm,DeepLearningRegression:()=>Cm,FeatureEmbedding:()=>Wu,LSTMMultivariateTimeSeries:()=>$n,LSTMTimeSeries:()=>Ca,LogisticRegression:()=>Bm,MachineLearningLinearRegression:()=>C3,MachineLearningLogisticRegression:()=>F3,MachineLearningModelInterface:()=>oc,MultipleLinearRegression:()=>rd,TensorScriptModelInterface:()=>Ra,TextEmbedding:()=>v3,createModelFitCallback:()=>Dm,getBackend:()=>ec,getScikit:()=>R3,setBackend:()=>OE,setScikit:()=>O3});var WK=lt(kt());var Tf=lt(kt());var Ta=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Ta.prototype)}},qi=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,qi.prototype)}},ce=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ce.prototype)}},St=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,St.prototype)}},Yp=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Yp.prototype)}};var hy=class{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let r;return this.cache.has(e)&&(r=this.cache.get(e),this.cache.delete(e),this.cache.set(e,r)),r}put(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){let n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let r=0;r<this.maxEntries-e;r++){let n=this.cache.keys().next().value;this.cache.delete(n)}this.maxEntries=e}};var dy=lt(kt());function eo(t,e){if(Array.isArray(t)){let r=[];for(let n=0;n<e;n++)r=r.concat(t);return r}else{let r=new Array(e);return r.fill(t),r}}function hs(t,e){if(!t)throw new Yp(e)}function FN(t,e){let r=0;for(let n of t)n===e&&r++;return r}function _i(t){return t.length===1?t[0]:t}function Ar(t){return Array.isArray(t)?t:[t]}function to(t){let r=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return r[0]!=="_"?r:"private"+r}function Ef(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,r)=>r.toUpperCase())}var Qs={};function Xp(t){if(t==null)return null;let e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function CN(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>CN(e));else{let e=Object.keys(t);for(let r of e){let n=t[r];n!=null&&typeof n=="object"&&(!Array.isArray(n)&&n.type==="ndarray"&&typeof n.value=="number"?t[r]=n.value:CN(n))}}}function Bu(t,e={},r={},n="object",a=!1){if(typeof t=="string"){let s=t,o;if(s in r)o=r[s];else if(s in Qs)o=Qs[s];else if(o=e[s],o==null)throw new ce(`Unknown ${n}: ${t}. This may be due to one of the following reasons:
1. The ${n} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${n} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return o}else{let s=t;if(s.className==null||s.config==null)throw new ce(`${n}: Improper config format: ${JSON.stringify(s)}.
'className' and 'config' must set.`);let o=s.className,u,l;if(o in r?[u,l]=r[o]:o in Qs?[u,l]=Qs.className:o in e&&([u,l]=e[o]),u==null)throw new ce(`Unknown ${n}: ${o}. This may be due to one of the following reasons:
1. The ${n} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${n} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(l!=null){let h={};for(let S of Object.keys(Qs))h[S]=Qs[S];for(let S of Object.keys(r))h[S]=r[S];let p=s.config;p.customObjects=h;let v=Object.assign({},Qs);for(let S of Object.keys(r))Qs[S]=r[S];CN(s.config);let y=l(u,s.config,r,a);return Qs=Object.assign({},v),y}else{let h=Object.assign({},Qs);for(let v of Object.keys(r))Qs[v]=r[v];let p=new u(s.config);return Qs=Object.assign({},h),p}}}function LDe(t,e){return t<e?-1:t>e?1:0}function py(t,e){return-1*LDe(t,e)}function ro(t){if(t==null)return t;let e=[];for(let r of t)e.indexOf(r)===-1&&e.push(r);return e}function gK(t){if(t==null)throw new ce(`Invalid value in obj: ${JSON.stringify(t)}`);for(let e in t)if(t.hasOwnProperty(e))return!1;return!0}function Lu(t,e,r){if(r!=null&&t.indexOf(r)<0)throw new ce(`${r} is not a valid ${e}.  Valid values are ${t} or null/undefined.`)}function lx(t,e,r=0,n=1/0){return hs(r>=0),hs(n>=r),Array.isArray(t)&&t.length>=r&&t.length<=n&&t.every(a=>typeof a===e)}function On(t,e){Array.isArray(t)?(dy.util.assert(t.length>0,()=>`${e} is unexpectedly an empty array.`),t.forEach((r,n)=>On(r,`element ${n+1} of ${e}`))):dy.util.assert(Number.isInteger(t)&&t>0,()=>`Expected ${e} to be a positive integer, but got ${yK(t)}.`)}function yK(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>yK(e)).join(",")+"]":typeof t=="string"?`"${t}"`:`${t}`}function bK(t,e,r){let n=r!=null?r():dy.util.now(),a;return(...o)=>{let u=r!=null?r():dy.util.now();return u-n<e||(n=u,a=t(...o)),a}}function cx(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}var jK=lt(kt());var PDe=0;function dx(){return PDe++}var hx={};function jl(t=""){return t in hx||(hx[t]=0),hx[t]+=1,t+hx[t].toString()}var c0=lt(kt());var wK=["channelsFirst","channelsLast"],_K=["nearest","bilinear"],xK=["valid","same","causal"],SK=["max","avg"],EK=["sum","mul","concat","ave"];var Qp=new Map;function fn(t){Lu(wK,"DataFormat",t)}function AK(t){Lu(_K,"InterpolationFormat",t)}function ma(t){Lu(xK,"PaddingMode",t)}function BN(t){Lu(SK,"PoolMode",t)}var my=[],MK="/";function Ho(t,e){my.push(t);try{let r=e();return my.pop(),r}catch(r){throw my.pop(),r}}function qDe(){return my.length===0?"":my.join(MK)+MK}function px(t){if(!kK(t))throw new Error("Not a valid tensor name: '"+t+"'");return qDe()+t}function mx(t){if(!kK(t))throw new Error("Not a valid tensor name: '"+t+"'");Qp.has(t)||Qp.set(t,0);let e=Qp.get(t);if(Qp.set(t,Qp.get(t)+1),e>0){let r=`${t}_${e}`;return Qp.set(r,1),r}else return t}var $De=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function kK(t){return!!t.match($De)}var Lt=lt(kt());var ct=lt(kt()),ga=lt(kt());function TK(t){return t===parseInt(t.toString(),10)}function no(t,e,r){e==null&&(e=0),r==null&&(r=t.length);let n=1;for(let a=e;a<r;++a)n*=t[a];return n}function Lh(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let r=0;r<t.length;r++){let n=t[r];n<e&&(e=n)}return e}function Ko(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let r=0;r<t.length;r++){let n=t[r];n>e&&(e=n)}return e}function ta(t,e){if(e<t)throw new ce(`end (${e}) < begin (${t}) is forbidden.`);let r=[];for(let n=t;n<e;++n)r.push(n);return r}var NK=lt(kt());var LN;function Kn(){return LN==null&&(LN=(0,NK.backend)().epsilon()),LN}function va(){return"channelsLast"}function Ph(t,e){return ct.cast(t,e)}function Af(t,e=-1){let r=t.shape.slice();return e<0&&(e=r.length+e+1),r.splice(e,0,1),ct.reshape(t,r)}function IK(t,e){return(0,ga.tidy)(()=>{if(t.shape.length!==2)throw new ce(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);let r=Af(t,1);return gx(r,[1,e,1])})}function DK(t){let e=[no(t.shape)];return ct.reshape(t,e)}function OK(t){if(t.rank<=1)throw new ce(`batchFlatten requires a minimum rank of 2. Got rank: ${t.rank}.`);let e=[t.shape[0],no(t.shape,1)];return ct.reshape(t,e)}function Mf(t,e,r){return(0,ga.tidy)(()=>{switch(t.rank){case 1:return ct.slice1d(t,e,r);case 2:return ct.slice2d(t,[e,0],[r,t.shape[1]]);case 3:return ct.slice3d(t,[e,0,0],[r,t.shape[1],t.shape[2]]);case 4:return ct.slice4d(t,[e,0,0,0],[r,t.shape[1],t.shape[2],t.shape[3]]);case 5:return ct.slice(t,[e,0,0,0,0],[r,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return ct.slice(t,[e,0,0,0,0,0],[r,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new ce(`sliceAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}})}function PN(t,e,r){return(0,ga.tidy)(()=>{switch(t.rank){case 1:return ct.slice1d(t,e,r);case 2:return ct.slice2d(t,[0,e],[t.shape[0],r]);case 3:return ct.slice3d(t,[0,0,e],[t.shape[0],t.shape[1],r]);case 4:return ct.slice4d(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],r]);default:throw new ce(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function vy(t,e,r,n){return(0,ga.tidy)(()=>{switch(t.rank){case 1:return ct.slice1d(t,e,r);case 2:switch(n){case 1:return Mf(t,e,r);case 2:return PN(t,e,r);default:throw new ce(`The axis is not within the rank of the tensor ${n}`)}case 3:switch(n){case 1:return Mf(t,e,r);case 2:return ct.slice3d(t,[0,e,0],[t.shape[0],r,t.shape[2]]);case 3:return PN(t,e,r);default:throw new ce(`The axis is not within the rank of the tensor ${n}`)}case 4:switch(n){case 1:return Mf(t,e,r);case 2:return ct.slice4d(t,[0,e,0,0],[t.shape[0],r,t.shape[2],t.shape[3]]);case 3:return ct.slice4d(t,[0,0,e,0],[t.shape[0],t.shape[1],r,t.shape[3]]);case 4:return PN(t,e,r);default:throw new ce(`The axis is not within the rank of the tensor ${n}`)}default:throw new ce(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function e0(t,e=-1){let r;return e<0&&(r=t[0].rank,r!==0?e=r:e=0),e===t[0].rank&&(e=-1),ct.concat(t,e)}function $N(t,e){switch(t.rank){case 1:return ct.concat1d([t,e]);case 2:return ct.concat2d([t,e],0);case 3:return ct.concat3d([t,e],0);case 4:return ct.concat4d([t,e],0);default:throw new ce(`concatAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}}function gx(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new ce(`The length of input n (${e.length}) does not match the number of dimensions in input x (${t.rank})`);return ct.tile(t,e)}function t0(t,e=0,r=1,n,a){return ct.randomNormal(t,e,r,n,a)}function io(t,e,r,n){if(t.rank<2||e.rank<2)throw new St(`dot requires both inputs to be rank >= 2 but got x shape = ${t.shape} and y shape = ${e.shape}`);if(e.rank>=3){let a=t.shape.slice(-1)[0],s=e.shape.slice(-2)[0];if(a!==s)throw new St(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${t.shape} and  y shape = ${e.shape}`)}if(t.rank===2&&e.rank===2)return ct.fused.matMul({a:t,b:e,transposeA:!1,transposeB:!1,bias:n?qN(t.rank,n,va()):null,activation:r});{let a=t.shape.slice(),s=a.pop();t=ct.reshape(t,[-1,s]);let o=e.shape.slice(),u=o.pop(),l=o.pop(),h=[...o,u],p=Array.from({length:e.rank},(A,T)=>T===0?e.rank-2:T<=e.rank-2?T-1:T);e=ct.reshape(ct.transpose(e,p),[l,-1]);let v=[...a,...h],y=!1,S=!1;return ct.reshape(ct.fused.matMul({a:t,b:e,transposeA:y,transposeB:S,bias:n?qN(t.rank,n,va()):null,activation:r}),v)}}function yx(t,e,r){return(0,ga.tidy)(()=>(Array.isArray(e)?e=(0,ga.tensor1d)(e,"int32"):e=ct.cast(e,"int32"),ct.gather(t,e,r)))}function qh(t){return ct.mul(t,t)}function qN(t,e,r){let n=e.shape;if(e.rank!==1&&e.rank!==t)throw new ce(`Unexpected bias dimensions: ${e.rank}; expected it to be 1 or ${t}`);if(t===5){if(r==="channelsFirst")return n.length===1?ct.reshape(e,[1,n[0],1,1,1]):ct.reshape(e,[1,n[3],n[0],n[1],n[2]]);if(r==="channelsLast")return n.length===1?ct.reshape(e,[1,1,1,1,n[0]]):ct.reshape(e,[1].concat(n))}else if(t===4){if(r==="channelsFirst")return n.length===1?ct.reshape(e,[1,n[0],1,1]):ct.reshape(e,[1,n[2],n[0],n[1]]);if(r==="channelsLast")return n.length===1?ct.reshape(e,[1,1,1,n[0]]):ct.reshape(e,[1].concat(n))}else if(t===3){if(r==="channelsFirst")return n.length===1?ct.reshape(e,[1,n[0],1]):ct.reshape(e,[1,n[1],n[0]]);if(r==="channelsLast")return n.length===1?ct.reshape(e,[1,1,n[0]]):ct.reshape(e,[1].concat(n))}else if(t<3)return e;throw new ce(`Unsupported input rank by biasAdd: ${e.rank}`)}function ya(t,e,r){return(0,ga.tidy)(()=>(r==null&&(r=va()),fn(r),ct.add(t,qN(t.rank,e,r))))}function RK(t,e=1){if(e!==1)throw new St(`Support for alpha values other than 1 (${e}) is not implemented yet.`);return ct.elu(t)}function CK(t){return(0,ga.tidy)(()=>ct.div(t,ct.add(ct.abs(t),1)))}function bx(t,e,r,n){return(0,ga.tidy)(()=>ct.dropout(t,e,r,n))}function FK(t){return(0,ga.tidy)(()=>{let e=ct.add(.5,ct.mul(.2,t));return ct.clipByValue(e,0,1)})}function Ul(t,e,r=!1){return r?t():e()}var BK=["fanIn","fanOut","fanAvg"],LK=["normal","uniform","truncatedNormal"];function zDe(t){Lu(BK,"FanMode",t)}function jDe(t){Lu(LK,"Distribution",t)}var wa=class extends Lt.serialization.Serializable{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}},gy=class extends wa{apply(e,r){return(0,Lt.zeros)(e,r)}};gy.className="Zeros";Lt.serialization.registerClass(gy);var $h=class extends wa{apply(e,r){return(0,Lt.ones)(e,r)}};$h.className="Ones";Lt.serialization.registerClass($h);var yy=class extends wa{constructor(e){if(super(),typeof e!="object")throw new ce(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new ce(`config must have value set but got ${e}`);this.value=e.value}apply(e,r){return(0,Lt.tidy)(()=>(0,Lt.mul)((0,Lt.scalar)(this.value),(0,Lt.ones)(e,r)))}getConfig(){return{value:this.value}}};yy.className="Constant";Lt.serialization.registerClass(yy);var by=class extends wa{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,r){return(0,Lt.randomUniform)(e,this.minval,this.maxval,r)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}};by.className="RandomUniform";Lt.serialization.registerClass(by);var wy=class extends wa{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,r){if(r=r||"float32",r!=="float32"&&r!=="int32")throw new St(`randomNormal does not support dType ${r}.`);return t0(e,this.mean,this.stddev,r,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}};wy.className="RandomNormal";Lt.serialization.registerClass(wy);var _y=class extends wa{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,r){if(r=r||"float32",r!=="float32"&&r!=="int32")throw new St(`truncatedNormal does not support dType ${r}.`);return(0,Lt.truncatedNormal)(e,this.mean,this.stddev,r,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}};_y.className="TruncatedNormal";Lt.serialization.registerClass(_y);var xy=class extends wa{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,r){return(0,Lt.tidy)(()=>{if(e.length!==2||e[0]!==e[1])throw new ce("Identity matrix initializer can only be used for 2D square matrices.");return(0,Lt.mul)(this.gain,(0,Lt.eye)(e[0]))})}getConfig(){return{gain:this.gain}}};xy.className="Identity";Lt.serialization.registerClass(xy);function UDe(t,e="channelsLast"){let r,n;if(fn(e),t.length===2)r=t[0],n=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){let a=no(t,2);r=t[1]*a,n=t[0]*a}else if(e==="channelsLast"){let a=no(t,0,t.length-2);r=t[t.length-2]*a,n=t[t.length-1]*a}}else{let a=no(t);r=Math.sqrt(a),n=Math.sqrt(a)}return[r,n]}var ra=class extends wa{constructor(e){if(super(),e.scale<0)throw new ce(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,zDe(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,jDe(this.distribution),this.seed=e.seed}apply(e,r){let n=UDe(e),a=n[0],s=n[1],o=this.scale;if(this.mode==="fanIn"?o/=Math.max(1,a):this.mode==="fanOut"?o/=Math.max(1,s):o/=Math.max(1,(a+s)/2),this.distribution==="normal"){let u=Math.sqrt(o);if(r=r||"float32",r!=="float32"&&r!=="int32")throw new St(`${this.getClassName()} does not support dType ${r}.`);return(0,Lt.truncatedNormal)(e,0,u,r,this.seed)}else{let u=Math.sqrt(3*o);return(0,Lt.randomUniform)(e,-u,u,r)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}};ra.className="VarianceScaling";Lt.serialization.registerClass(ra);var r0=class extends ra{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return ra.className}};r0.className="GlorotUniform";Lt.serialization.registerClass(r0);var n0=class extends ra{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return ra.className}};n0.className="GlorotNormal";Lt.serialization.registerClass(n0);var i0=class extends ra{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return ra.className}};i0.className="HeNormal";Lt.serialization.registerClass(i0);var a0=class extends ra{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return ra.className}};a0.className="HeUniform";Lt.serialization.registerClass(a0);var s0=class extends ra{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return ra.className}};s0.className="LeCunNormal";Lt.serialization.registerClass(s0);var o0=class extends ra{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return ra.className}};o0.className="LeCunNormal";Lt.serialization.registerClass(o0);var Sy=class extends wa{constructor(e){if(super(),this.DEFAULT_GAIN=1,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed,this.seed!=null)throw new St("Random seed is not implemented for Orthogonal Initializer yet.")}apply(e,r){return(0,Lt.tidy)(()=>{if(e.length<2)throw new St("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn(`Orthogonal initializer is being called on a matrix with more than 2000 (${e[0]*e[1]}) elements: Slowness may result.`);let n=e[0]>e[1]?[e[1],e[0]]:e,a=t0(n,0,1,"float32"),s=Lt.linalg.gramSchmidt(a);return e[0]>e[1]&&(s=(0,Lt.transpose)(s)),(0,Lt.mul)(this.gain,s)})}getConfig(){return{gain:this.gain,seed:this.seed}}};Sy.className="Orthogonal";Lt.serialization.registerClass(Sy);var PK={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function qK(t,e={}){return Bu(t,Lt.serialization.SerializationMap.getMap().classNameMap,e,"initializer")}function Cr(t){return Xp(t)}function xr(t){if(typeof t=="string"){let e=t in PK?PK[t]:t;if(e==="GlorotNormal")return new n0;if(e==="GlorotUniform")return new r0;if(e==="HeNormal")return new i0;if(e==="HeUniform")return new a0;if(e==="LeCunNormal")return new s0;if(e==="LeCunUniform")return new o0;{let r={};return r.className=e,r.config={},qK(r)}}else return t instanceof wa?t:qK(t)}function wx(t){return Array.isArray(t)&&Array.isArray(t[0])}function u0(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function It(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new ce(`Expected Tensor length to be 1; got ${t.length}`);e=t[0]}else e=t;return e}function $t(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new ce(`Expected exactly 1 Shape; got ${t.length}`)}else return t}function f0(t){let e=0;for(let r of t)r.shape.length===0?e+=1:e+=r.shape.reduce((n,a)=>n*a);return e}var ao=lt(kt());var zK="Variable",Ey=class{constructor(e,r="float32",n=zK,a=!0,s=null){this.dtype=r==null?"float32":r,this.shape=e.shape,this.id=dx(),n=n==null?zK:n,this.originalName=px(n),this.name=mx(this.originalName),this.trainable_=a,this.constraint=s,this.val=ao.variable(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),WDe(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}};function WDe(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function My(t){return t.map(e=>e.read())}function l0(t){t.forEach(e=>{e[0].write(e[1])})}var kr=class{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}},na=class{constructor(e,r,n,a,s,o,u){this.dtype=e,this.shape=r,this.sourceLayer=n,this.inputs=a,this.callArgs=s,this.outputTensorIndex=u,this.id=dx(),o!=null&&(this.originalName=px(o),this.name=mx(this.originalName)),this.rank=r.length}},GDe=0,kf=class{constructor(e,r){this.callArgs=r,this.id=GDe++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(let n of e.inboundLayers)n!=null&&n.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){let e=[];for(let r of this.inboundLayers)r!=null?e.push(r.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},HDe=0,Dt=class extends c0.serialization.Serializable{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=HDe++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let r=e.name;if(!r){let n=this.getClassName();r=to(n)+"_"+jl(n)}if(this.name=r,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let n;if(e.batchInputShape!=null)n=e.batchInputShape;else if(e.inputShape!=null){let s=null;e.batchSize!=null&&(s=e.batchSize),n=[s].concat(e.inputShape)}this.batchInputShape=n;let a=e.dtype;a==null&&(a=e.inputDType),a==null&&(a="float32"),this.dtype=a}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,r){return e.name+"_ib-"+r.toString()}getNodeAtIndex(e,r){if(this.inboundNodes.length===0)throw new qi(`The layer has never been called and thus has no defined ${r}.`);if(this.inboundNodes.length<=e)throw new ce(`Asked to get ${r} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return _i(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return _i(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new Ta(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new Ta(`Layer ${this.name} is not connected, no input to return.`);return _i(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new Ta(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new Ta(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return _i(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(r=>r.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){if(e=Ar(e),this.inputSpec==null||this.inputSpec.length===0)return;let r=Ar(this.inputSpec);if(e.length!==r.length)throw new ce(`Layer ${this.name} expects ${r.length} inputs, but it received ${e.length} input tensors. Input received: ${e}`);for(let n=0;n<e.length;n++){let a=e[n],s=r[n];if(s==null)continue;let o=a.rank;if(s.ndim!=null&&o!==s.ndim)throw new ce(`Input ${n} is incompatible with layer ${this.name}: expected ndim=${s.ndim}, found ndim=${o}`);if(s.maxNDim!=null&&o>s.maxNDim)throw new ce(`Input ${n} is incompatible with layer ${this.name}: expected max_ndim=${s.maxNDim}, found ndim=${o}`);if(s.minNDim!=null&&o<s.minNDim)throw new ce(`Input ${n} is incompatible with layer ${this.name}: expected min_ndim=${s.minNDim}, found ndim=${o}.`);if(s.dtype!=null&&a.dtype!==s.dtype)throw new ce(`Input ${n} is incompatible with layer ${this.name} : expected dtype=${s.dtype}, found dtype=${a.dtype}.`);if(s.axes){let u=a.shape;for(let l in s.axes){let h=Number(l),p=s.axes[l],v=h>=0?u[h]:u[u.length+h];if(p!=null&&[p,null].indexOf(v)===-1)throw new ce(`Input ${n} is incompatible with layer ${this.name}: expected axis ${h} of input shape to have value ${p} but got shape ${u}.`)}}if(s.shape!=null)for(let u=0;u<s.shape.length;++u){let l=s.shape[u],h=a.shape[u];if(l!=null&&h!=null&&l!==h)throw new ce(`Input ${n} is incompatible with layer ${this.name}: expected shape=${s.shape}, found shape=${a.shape}.`)}}}call(e,r){return e}invokeCallHook(e,r){this._callHook!=null&&this._callHook(e,r)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,r){r=r||{},this.assertNotDisposed();let n=Ar(e),a=!0;for(let o of n)if(!(o instanceof na)){a=!1;break}let s=!0;for(let o of n)if(o instanceof na){s=!1;break}if(a===s)throw new ce("Arguments to apply() must be all SymbolicTensors or all Tensors");return Ho(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);let o=[];for(let u of Ar(e))o.push(u.shape);this.build(_i(o)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&s&&(this._refCount=1)}if(this.assertInputCompatibility(e),s){let o=this.call(e,r),u=Ar(o),l=[];for(let h of u)n.indexOf(h)!==-1&&(h=h.clone()),l.push(h);if(o=_i(l),this.activityRegularizer!=null)throw new St("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return o}else{let o=KDe(e),u=this.computeOutputShape(o),l,h=ZDe(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?o[0]:o),u!=null&&u.length>0&&Array.isArray(u[0])?l=u.map((p,v)=>new na(h,p,this,Ar(e),r,this.name,v)):l=new na(h,u,this,Ar(e),r,this.name),this.addInboundNode(e,l,null,null,o,u,r),this._refCount++,this.activityRegularizer!=null)throw new St("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let r=!1;this.batchInputShape.forEach((n,a)=>{n!=null&&e[a]!=null&&e[a]!==n&&(r=!0)}),r&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new Ta(`The layer ${this.name} has never been called and thus has no defined output shape.`);let e=[];for(let r of this.inboundNodes){let n=JSON.stringify(r.outputShapes);e.indexOf(n)===-1&&e.push(n)}if(e.length===1){let r=this.inboundNodes[0].outputShapes;return Array.isArray(r)&&Array.isArray(r[0])&&r.length===1?r[0]:r}else throw new Ta(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new qi(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return f0(this.weights)}build(e){this.built=!0}getWeights(e=!1){return My(e?this.trainableWeights:this.weights)}setWeights(e){(0,c0.tidy)(()=>{let r=this.weights;if(r.length!==e.length)throw new ce(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${r.length} weights. Provided weights: ${e}...`);if(r.length===0)return;let n=[],a=My(r);for(let s=0;s<a.length;++s){let o=a[s],u=r[s],l=e[s];if(!c0.util.arraysEqual(o.shape,l.shape))throw new ce(`Layer weight shape ${o.shape} not compatible with provided weight shape ${l.shape}`);n.push([u,l])}l0(n)})}addWeight(e,r,n,a,s,o,u,l){if(this._addedWeightNames.indexOf(e)!==-1)throw new ce(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),n==null&&(n="float32"),this.fastWeightInitDuringBuild&&(a=l!=null?l():xr("zeros"));let h=a.apply(r,n),p=new Ey(h,n,e,o,u);return h.dispose(),s!=null&&this.addLoss(()=>s.apply(p.read())),o==null&&(o=!0),o?this._trainableWeights.push(p):this._nonTrainableWeights.push(p),p}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=Ar(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,r){if(!this.supportsMasking){if(r!=null)if(Array.isArray(r))r.forEach(n=>{if(n!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return r}addInboundNode(e,r,n,a,s,o,u=null){let l=Ar(e);r=Ar(r),n=Ar(n),a=Ar(a),s=u0(s),o=u0(o);let h=[],p=[],v=[];for(let y of l)h.push(y.sourceLayer),p.push(y.nodeIndex),v.push(y.tensorIndex);new kf({outboundLayer:this,inboundLayers:h,nodeIndices:p,tensorIndices:v,inputTensors:l,outputTensors:r,inputMasks:n,outputMasks:a,inputShapes:s,outputShapes:o},u);for(let y=0;y<r.length;y++)r[y].sourceLayer=this,r[y].nodeIndex=this.inboundNodes.length-1,r[y].tensorIndex=y}getConfig(){let e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}};function KDe(t){t=Ar(t);let e=[];for(let r of t)e.push(r.shape);return _i(e)}function ZDe(t){return"float32"}function zN(t,e,r){if((e==null||r!=null&&r>0)&&(e=t.sourceLayer,r=t.nodeIndex),e.inboundNodes.length===0)return[t];{let n=e.inboundNodes[r];if(n.inboundLayers.length===0)return n.inputTensors;{let a=[];for(let s=0;s<n.inboundLayers.length;s++){let o=n.inputTensors[s],u=n.inboundLayers[s],l=n.nodeIndices[s],h=zN(o,u,l);for(let p of h)a.indexOf(p)===-1&&a.push(p)}return a}}}var Zo=class extends Dt{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:jl("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new ce("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let r=e.batchInputShape;if(r==null){if(e.inputShape==null)throw new ce("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");r=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new ce("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");let n=e.dtype||"float32";this.batchInputShape=r,this.dtype=n,this.inputSpec=[{shape:r}];let a=new na(this.dtype,this.batchInputShape,this,[],{},this.name);a.nodeIndex=0,a.tensorIndex=0,new kf({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[r],outputShapes:[r]})}apply(e,r){throw new ce(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}};Zo.className="InputLayer";jK.serialization.registerClass(Zo);function _x(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new ce("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let r=t.dtype;return r==null&&(r="float32"),new Zo({batchInputShape:e,name:t.name,dtype:r,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}function JDe(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return(0,Tf.cast)(e,t.dtype)}catch(r){throw new ce(`The dtype of the feed (${e.dtype}) can not be cast to the dtype of the key '${t.name}' (${t.dtype}).`)}}var so=class{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof so)for(let r in e.id2Value)this.id2Value[r]=e.id2Value[r],r in e.id2Mask&&(this.id2Mask[r]=e.id2Mask[r]);else{if(e==null)return;for(let r of e)this.add(r.key,r.value)}}add(e,r,n){if(this.id2Value[e.id]==null)this.id2Value[e.id]=JDe(e,r),this.name2Id[e.name]=e.id,n!=null&&(this.id2Mask[e.id]=n);else throw new ce(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof na){if(this.id2Value[e.id]==null)throw new ce(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}else{let r=this.name2Id[e];if(r==null)throw new ce(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[r]}}getMask(e){if(e instanceof na){if(this.id2Value[e.id]==null)throw new ce(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}else{let r=this.name2Id[e];if(r==null)throw new ce(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[r]}}disposeMasks(){this.id2Mask!=null&&(0,Tf.dispose)(this.id2Mask)}},xx=new hy,Sx=new hy;function VK(t){xx!=null&&xx.setMaxEntries(t),Sx!=null&&Sx.setMaxEntries(t)}function zh(t,e,r,n){let a=r==null?!1:r.training,s=Array.isArray(t),o=s?t:[t],u=o.map(A=>A.name),l=[],h=e.names();for(let A of u)h.indexOf(A)!==-1?l.push(e.getValue(A)):l.push(null);n!=null&&(n.maxNumTensors=-1/0,n.minNumTensors=1/0);let p=u.join(",")+"|"+e.names().sort().join(","),v=xx.get(p),y;if(v==null){let A=YDe(o,e);v=A.sorted,y=A.recipientCounts,xx.put(p,v),Sx.put(p,y)}y={},a||Object.assign(y,Sx.get(p));let S=new so(e);for(let A=0;A<v.length;++A){if(n!=null){let Z=(0,Tf.memory)().numTensors;Z>n.maxNumTensors&&(n.maxNumTensors=Z),Z<n.minNumTensors&&(n.minNumTensors=Z)}let T=v[A],I=T.sourceLayer;if(I instanceof Zo)continue;let N=[],D=[],C=[],L=!1;for(let Z of T.inputs){let M=S.getValue(Z),f=S.getMask(Z);N.push(M),D.push(f),f!=null&&(L=!0),a||(y[Z.name]--,y[Z.name]===0&&!e.hasKey(Z)&&u.indexOf(Z.name)===-1&&!M.isDisposed&&Z.sourceLayer.stateful!==!0&&C.push(M))}L&&(r=r||{},r.mask=D[0]);let z=Ar(I.apply(N,r)),$=null;I.supportsMasking&&($=I.computeMask(N,D));let G=QDe(T),j=Array.isArray(G)?G:[G];for(let Z=0;Z<j.length;++Z){S.hasKey(j[Z])||S.add(j[Z],z[Z],Array.isArray($)?$[0]:$);let M=u.indexOf(j[Z].name);M!==-1&&(l[M]=z[Z])}a||(0,Tf.dispose)(C)}return S.disposeMasks(),s?l:l[0]}function YDe(t,e){Tf.util.assert(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let r=[],n={};if(t.length===1){let a=UK(t[0],e);r=a.sorted,n=a.recipientMap}else{let a=new Set;for(let s of t){let{sorted:o,recipientMap:u}=UK(s,e);for(let l of o)a.has(l.name)||(r.push(l),a.add(l.name));for(let l in u)n[l]==null&&(n[l]=new Set),u[l].forEach(h=>n[l].add(h))}}return{sorted:r,recipientCounts:XDe(n)}}function XDe(t){let e={};for(let r in t)e[r]=t[r].size;return e}function UK(t,e){let r=new Set,n=[],a={};for(let u of e.names())r.add(u);let s=[],o=[];for(s.push(t);s.length>0;){let u=s[s.length-1];if(r.has(u.name)){s.pop();continue}let l=o[o.length-1]===s.length-1;if(u.inputs.length===0||l)s.pop(),n.push(u),r.add(u.name),l&&o.pop();else{o.push(s.length-1);for(let h of u.inputs)a[h.name]==null&&(a[h.name]=new Set),a[h.name].add(u.name),!r.has(h.name)&&s.push(h)}}return{sorted:n,recipientMap:a}}function QDe(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let r=null;for(let n=0;n<t.sourceLayer.inboundNodes.length;++n)for(let a of t.sourceLayer.inboundNodes[n].outputTensors)if(a.id===t.id){r=n;break}e=t.sourceLayer.getOutputAt(r)}return e}var e8e=(0,WK.env)();e8e.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,VK);var GK="Abs",HK="Acos",KK="Acosh",h0="Add",ZK="AddN";var JK="ArgMax",YK="ArgMin",XK="Asin",QK="Asinh",eZ="Atan",tZ="Atanh",rZ="Atan2",nZ="AvgPool",iZ="AvgPoolGrad",aZ="AvgPool3D",sZ="AvgPool3DGrad",Ex="BatchMatMul",Mx="BatchToSpaceND";var oZ="BroadcastTo";var d0="Cast",uZ="Ceil",fZ="ClipByValue",lZ="Complex",cZ="ComplexAbs",Ax="Concat",kx="Conv2D",hZ="Conv2DBackpropFilter",Tx="Conv2DBackpropInput",dZ="Conv3D",pZ="Conv3DBackpropFilterV2",mZ="Conv3DBackpropInputV2",Nx="Cos",Ix="Cosh",vZ="Cumprod",Dx="Cumsum";var gZ="DepthwiseConv2dNative",yZ="DepthwiseConv2dNativeBackpropFilter",bZ="DepthwiseConv2dNativeBackpropInput";var wZ="Dilation2D",_Z="Dilation2DBackpropInput",xZ="Dilation2DBackpropFilter",Ox="RealDiv";var Rx="Elu",SZ="EluGrad",EZ="Erf",MZ="Equal",Cx="Exp",Fx="ExpandDims",AZ="Expm1";var Bx="Floor",Lx="FloorDiv",kZ="FusedBatchNorm",Px="GatherV2";var TZ="Greater",qx="GreaterEqual",p0="Identity";var NZ="Imag",IZ="IsFinite",DZ="IsInf",OZ="IsNan",$x="LeakyRelu",RZ="Less",CZ="LessEqual";var zx="Log",FZ="Log1p",BZ="LogicalAnd",LZ="LogicalNot";var PZ="LogSoftmax";var qZ="LRN",$Z="LRNGrad",zZ="Max",jx="Maximum",jZ="MaxPool",UZ="MaxPoolGrad",VZ="MaxPool3D",WZ="MaxPool3DGrad";var GZ="Mean",HZ="Min",KZ="Minimum",ZZ="MirrorPad",JZ="Mod";var Ux="Multiply",Vx="Neg";var YZ="OnesLike",XZ="OneHot",Wx="Pack",Gx="PadV2";var Hx="Pow",Kx="Prelu",QZ="Prod";var eJ="Real",tJ="Reciprocal",Zx="Relu",Jx="Reshape",rJ="ResizeNearestNeighbor",nJ="ResizeNearestNeighborGrad",iJ="ResizeBilinear",aJ="ResizeBilinearGrad",Yx="Relu6",Xx="Reverse",sJ="Round",Qx="Rsqrt";var eS="Select",oJ="Selu",tS="Slice",rS="Sin",nS="Sinh",uJ="Sign",iS="Sigmoid",fJ="Softplus",aS="Sqrt",sS="Sum",oS="SpaceToBatchND",uS="SplitV",lJ="Softmax";var cJ="SquaredDifference",hJ="Square";var fS="Sub",dJ="Tan",pJ="Tanh",m0="Tile";var v0="Transpose";var lS="Unpack",cS="UnsortedSegmentSum";var hS="ZerosLike",dS="Step";var pS=class{refCount(e){return ds("refCount")}incRef(e){return ds("incRef")}timerAvailable(){return!0}time(e){return ds("time")}read(e){return ds("read")}readSync(e){return ds("readSync")}readToGPU(e,r){return ds("readToGPU")}numDataIds(){return ds("numDataIds")}disposeData(e,r){return ds("disposeData")}write(e,r,n){return ds("write")}move(e,r,n,a,s){return ds("move")}memory(){return ds("memory")}floatPrecision(){return ds("floatPrecision")}epsilon(){return this.floatPrecision()===32?1e-7:1e-4}dispose(){return ds("dispose")}};function ds(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function Ay(t,e,r){return Math.max(t,Math.min(e,r))}function Ye(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function mJ(t,e,r=""){Ye(ky(t,e),()=>r+` Shapes ${t} and ${e} must match`)}function jh(t,e=[],r=!1){if(e==null&&(e=[]),Array.isArray(t)||ps(t)&&!r)for(let n=0;n<t.length;++n)jh(t[n],e,r);else e.push(t);return e}function Mn(t){if(t.length===0)return 1;let e=t[0];for(let r=1;r<t.length;r++)e*=t[r];return e}function ky(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function g0(t){return t%1===0}function y0(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function Ka(t,e){let r=e.length;return t=t==null?e.map((n,a)=>a):[].concat(t),Ye(t.every(n=>n>=-r&&n<r),()=>`All values in axis param must be in range [-${r}, ${r}) but got axis ${t}`),Ye(t.every(n=>g0(n)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(n=>n<0?r+n:n)}function vJ(t,e){for(let r=0;r<t.length;r++){let n=t[r];if(isNaN(n)||!isFinite(n))throw Error(`A tensor of type ${e} being uploaded contains ${n}.`)}}function gJ(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function ps(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}function jN(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function yJ(t){if(t==null)return 0;let e=0;return t.forEach(r=>e+=r.length),e}function Ty(t){return typeof t=="string"||t instanceof String}function t8e(t){return typeof t=="boolean"}function r8e(t){return typeof t=="number"}function Ny(t){return Array.isArray(t)?Ny(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":r8e(t)?"float32":Ty(t)?"string":t8e(t)?"bool":"float32"}function UN(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Iy(t,e){for(let r=e;r<t;++r)if(t%r===0)return r;return t}function Vl(t){let e=t.length;if(e<2)return[];let r=new Array(e-1);r[e-2]=t[e-1];for(let n=e-3;n>=0;--n)r[n]=r[n+1]*t[n+1];return r}function bJ(t,e,r,n=!1){let a=new Array;if(e.length===1){let s=e[0]*(n?2:1);for(let o=0;o<s;o++)a[o]=r[t+o]}else{let s=e[0],o=e.slice(1),u=o.reduce((l,h)=>l*h)*(n?2:1);for(let l=0;l<s;l++)a[l]=bJ(t+l*u,o,r,n)}return a}function VN(t,e,r=!1){if(t.length===0)return e[0];let n=t.reduce((a,s)=>a*s)*(r?2:1);if(n===0)return[];if(n!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${r?" for a complex tensor":""}.`);return bJ(0,t,e,r)}function mS(t,e){let r=Dy(t,e);for(let n=0;n<r.length;n++)r[n]=1;return r}function Dy(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function wJ(t){t.forEach(e=>{Ye(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function vS(t){return t&&t.then&&typeof t.then=="function"}var _J="tfjsflags",gS=class{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=i8e,this.populateURLFlags()}setPlatform(e,r){this.platform!=null&&(ur().getBool("IS_TEST")||ur().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=r}registerFlag(e,r,n){if(this.flagRegistry[e]={evaluationFn:r,setHook:n},this.urlFlags[e]!=null){let a=this.urlFlags[e];ur().getBool("IS_TEST")||ur().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${a}.`),this.set(e,a)}}getAsync(e){return Ke(this,null,function*(){return e in this.flags?this.flags[e]:(this.flags[e]=yield this.evaluateFlag(e),this.flags[e])})}get(e){if(e in this.flags)return this.flags[e];let r=this.evaluateFlag(e);if(vS(r))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=r,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,r){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=r,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(r)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global=="undefined"||typeof this.global.location=="undefined"||typeof this.global.location.search=="undefined")return;let e=this.getQueryParams(this.global.location.search);_J in e&&e[_J].split(",").forEach(n=>{let[a,s]=n.split(":");this.urlFlags[a]=s8e(a,s)})}};function i8e(t){let e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(r,...n)=>(a8e(e,n[0],n[1]),n.join("="))),e}function a8e(t,e,r){t[decodeURIComponent(e)]=decodeURIComponent(r||"")}function s8e(t,e){if(e=e.toLowerCase(),e==="true"||e==="false")return e==="true";if(`${+e}`===e)return+e;throw new Error(`Could not parse value flag value ${e} for flag ${t}.`)}function ur(){return xJ}var xJ=null;function SJ(t){xJ=t}var WN;function GN(){if(WN==null){let t;if(typeof window!="undefined")t=window;else if(typeof global!="undefined")t=global;else if(typeof process!="undefined")t=process;else if(typeof self!="undefined")t=self;else throw new Error("Could not find a global object");WN=t}return WN}function o8e(){let t=GN();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function Oy(t,e){let r=o8e();if(r.has(t))return r.get(t);{let n=e();return r.set(t,n),r.get(t)}}function Nf(...t){ur().getBool("IS_TEST")||ur().getBool("PROD")||console.warn(...t)}function u8e(...t){ur().getBool("IS_TEST")||ur().getBool("PROD")||console.log(...t)}var MJ=Oy("kernelRegistry",()=>new Map),HN=Oy("gradRegistry",()=>new Map);function KN(t,e){let r=f8e(t,e);return MJ.get(r)}function ZN(t){return HN.get(t)}function JN(t){let e=MJ.entries(),r=[];for(;;){let{done:n,value:a}=e.next();if(n)break;let[s,o]=a,[u]=s.split("_");u===t&&r.push(o)}return r}function AJ(t){let{kernelName:e}=t;HN.has(e)&&ur().getBool("DEBUG")&&Nf(`Overriding the gradient for '${e}'`),HN.set(e,t)}function f8e(t,e){return`${e}_${t}`}function l8e(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function yS(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=jh(t)),ur().getBool("DEBUG")&&vJ(t,e),l8e(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){let r=new Uint8Array(t.length);for(let n=0;n<r.length;++n)Math.round(t[n])!==0&&(r[n]=1);return r}else throw new Error(`Unknown data type ${e}`)}function b0(){return ur().platform.now()}function bS(t,e="utf-8"){return e=e||"utf-8",ur().platform.encode(t,e)}function Ry(t,e="utf-8"){return e=e||"utf-8",ur().platform.decode(t,e)}var wS=class{constructor(e,r){this.backendTimer=e,this.logger=r,r==null&&(this.logger=new YN)}profileKernel(e,r,n){let a,s=()=>{a=n()},o,u=b0();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(s);else{s();for(let h of a)h.dataSync();o=Promise.resolve({kernelMs:b0()-u})}if(ur().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let h=0;h<a.length;h++){let p=a[h];p.data().then(v=>{c8e(v,p.dtype,e)})}return{kernelName:e,outputs:a,inputs:r,timeMs:o.then(h=>h.kernelMs),extraInfo:o.then(h=>h.getExtraProfileInfo!=null?h.getExtraProfileInfo():"")}}logKernelProfile(e){let{kernelName:r,outputs:n,timeMs:a,inputs:s,extraInfo:o}=e;n.forEach(u=>{Promise.all([u.data(),a,o]).then(l=>{this.logger.logKernelProfile(r,u,l[0],l[1],s,l[2])})})}};function c8e(t,e,r){if(e!=="float32")return!1;for(let n=0;n<t.length;n++){let a=t[n];if(isNaN(a)||!isFinite(a))return console.warn(`Found ${a} in the result of '${r}'`),!0}return!1}var YN=class{logKernelProfile(e,r,n,a,s,o){let u=typeof a=="number"?y0(`${a}ms`,9):a.error,l=y0(e,25),h=r.rank,p=r.size,v=y0(r.shape.toString(),14),y="";for(let S in s){let A=s[S];if(A!=null){let T=A.shape||r.shape,I=T.length;y+=`${S}: ${I}D ${I>0?T:""} `}}console.log(`%c${l}	%c${u}	%c${h}D ${v}	%c${p}	%c${y}	%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}};function kJ(t,e,r){let n={},a={};for(let l=0;l<e.length;l++)n[e[l].id]=!0;for(let l=0;l<t.length;l++){let h=t[l],p=h.inputs;for(let v in p){let y=p[v],S=!1;for(let A=0;A<e.length;A++)if(n[y.id]){h.outputs.forEach(T=>n[T.id]=!0),S=!0,a[h.id]=!0;break}if(S)break}}let s={};s[r.id]=!0;let o={};for(let l=t.length-1;l>=0;l--){let h=t[l],p=h.inputs;for(let v=0;v<h.outputs.length;v++)if(s[h.outputs[v].id]){for(let y in p)s[p[y].id]=!0,o[h.id]=!0;break}}let u=[];for(let l=0;l<t.length;l++){let h=t[l];if(a[h.id]&&o[h.id]){let p={};for(let y in h.inputs){let S=h.inputs[y];n[S.id]&&(p[y]=S)}let v=Object.assign({},h);v.inputs=p,v.outputs=h.outputs,u.push(v)}}return u}function TJ(t,e,r,n){for(let a=e.length-1;a>=0;a--){let s=e[a],o=[];if(s.outputs.forEach(l=>{let h=t[l.id];h!=null?o.push(h):o.push(null)}),s.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${s.kernelName}.`);let u=s.gradient(o);for(let l in s.inputs){if(!(l in u))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(u)}.`);let h=r(()=>u[l]());if(h.dtype!=="float32")throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${h.dtype}'`);let p=s.inputs[l];if(!ky(h.shape,p.shape))throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input '${l}' has shape '${h.shape}', which does not match the shape of the input '${p.shape}'`);if(t[p.id]==null)t[p.id]=h;else{let v=t[p.id];t[p.id]=n(v,h),v.dispose()}}}}var NJ=20,Cy=3,XN=7;function IJ(t,e,r,n){let a=Vl(e),s=h8e(t,e,r,a),o=e.length,u=_S(t,e,r,a,s),l=["Tensor"];return n&&(l.push(`  dtype: ${r}`),l.push(`  rank: ${o}`),l.push(`  shape: [${e}]`),l.push("  values:")),l.push(u.map(h=>"    "+h).join(`
`)),l.join(`
`)}function h8e(t,e,r,n){let a=Mn(e),s=n[n.length-1],o=new Array(s).fill(0),u=e.length,l=r==="complex64"?By(t):t;if(u>1)for(let h=0;h<a/s;h++){let p=h*s;for(let v=0;v<s;v++)o[v]=Math.max(o[v],Fy(l[p+v],0,r).length)}return o}function Fy(t,e,r){let n;return Array.isArray(t)?n=`${parseFloat(t[0].toFixed(XN))} + ${parseFloat(t[1].toFixed(XN))}j`:Ty(t)?n=`'${t}'`:r==="bool"?n=DJ(t):n=parseFloat(t.toFixed(XN)).toString(),y0(n,e)}function DJ(t){return t===0?"false":"true"}function _S(t,e,r,n,a,s=!0){let o=r==="complex64"?2:1,u=e[0],l=e.length;if(l===0){if(r==="complex64"){let T=By(t);return[Fy(T[0],0,r)]}return r==="bool"?[DJ(t[0])]:[t[0].toString()]}if(l===1){if(u>NJ){let I=Cy*o,N=Array.from(t.slice(0,I)),D=Array.from(t.slice((u-Cy)*o,u*o));return r==="complex64"&&(N=By(N),D=By(D)),["["+N.map((C,L)=>Fy(C,a[L],r)).join(", ")+", ..., "+D.map((C,L)=>Fy(C,a[u-Cy+L],r)).join(", ")+"]"]}let T=r==="complex64"?By(t):Array.from(t);return["["+T.map((I,N)=>Fy(I,a[N],r)).join(", ")+"]"]}let h=e.slice(1),p=n.slice(1),v=n[0]*o,y=[];if(u>NJ){for(let T=0;T<Cy;T++){let I=T*v,N=I+v;y.push(..._S(t.slice(I,N),h,r,p,a,!1))}y.push("...");for(let T=u-Cy;T<u;T++){let I=T*v,N=I+v;y.push(..._S(t.slice(I,N),h,r,p,a,T===u-1))}}else for(let T=0;T<u;T++){let I=T*v,N=I+v;y.push(..._S(t.slice(I,N),h,r,p,a,T===u-1))}let S=l===2?",":"";y[0]="["+y[0]+S;for(let T=1;T<y.length-1;T++)y[T]=" "+y[T]+S;let A=`,
`;for(let T=2;T<l;T++)A+=`
`;return y[y.length-1]=" "+y[y.length-1]+"]"+(s?"":A),y}function By(t){let e=[];for(let r=0;r<t.length;r+=2)e.push([t[r],t[r+1]]);return e}var Pu=null,Ly=null,d8e=null;function OJ(t){Pu=t}function RJ(t){d8e=t}var $i=class{constructor(e,r,n,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=r||"float32",this.size=Mn(e),this.strides=Vl(e),this.dataId=n,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}buffer(){return Ke(this,null,function*(){let e=yield this.data();return Ly.buffer(this.shape,this.dtype,e)})}bufferSync(){return Ly.buffer(this.shape,this.dtype,this.dataSync())}array(){return Ke(this,null,function*(){let e=yield this.data();return VN(this.shape,e,this.dtype==="complex64")})}arraySync(){return VN(this.shape,this.dataSync(),this.dtype==="complex64")}data(){return Ke(this,null,function*(){this.throwIfDisposed();let e=Pu().read(this.dataId);if(this.dtype==="string"){let r=yield e;try{return r.map(n=>Ry(n))}catch(n){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e})}dataToGPU(e){return this.throwIfDisposed(),Pu().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();let e=Pu().readSync(this.dataId);if(this.dtype==="string")try{return e.map(r=>Ry(r))}catch(r){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}bytes(){return Ke(this,null,function*(){this.throwIfDisposed();let e=yield Pu().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)})}dispose(){this.isDisposed||(Pu().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Ly.print(this,e)}clone(){return this.throwIfDisposed(),Ly.clone(this)}toString(e=!1){let r=this.dataSync();return IJ(r,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Ly.cast(this,e)}variable(e=!0,r,n){return this.throwIfDisposed(),Pu().makeVariable(this,e,r,n)}};Object.defineProperty($i,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function p8e(){return Oy("Tensor",()=>$i)}p8e();var Uh=class extends $i{constructor(e,r,n,a){super(e.shape,e.dtype,e.dataId,a),this.trainable=r,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!ky(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Pu().disposeTensor(this),this.dataId=e.dataId,Pu().incRef(this,null)}dispose(){Pu().disposeVariable(this),this.isDisposedInternal=!0}};Object.defineProperty(Uh,Symbol.hasInstance,{value:t=>t instanceof $i&&t.assign!=null&&t.assign instanceof Function});var CJ;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(CJ||(CJ={}));var QN;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(QN||(QN={}));var eI;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(eI||(eI={}));var tI;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(tI||(tI={}));var rI;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(rI||(rI={}));var m8e={float32:tI,int32:QN,bool:eI,complex64:rI};function xS(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return m8e[t][e]}function An(t,e){if(t.dtype===e.dtype)return[t,e];let r=xS(t.dtype,e.dtype);return[t.cast(r),e.cast(r)]}function FJ(t){let e=[];return BJ(t,e,new Set),e}function BJ(t,e,r){if(t==null)return;if(t instanceof $i){e.push(t);return}if(!v8e(t))return;let n=t;for(let a in n){let s=n[a];r.has(s)||(r.add(s),BJ(s,e,r))}}function v8e(t){return Array.isArray(t)||typeof t=="object"}function nI(t){return t.kernelName!=null}var SS=class{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(let e in this.registeredVariables)this.registeredVariables[e].dispose()}},Wl=class{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new SS}ready(){return Ke(this,null,function*(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;let e=this.getSortedBackends();for(let r=0;r<e.length;r++){let n=e[r];if(yield this.initializeBackend(n).success){yield this.setBackend(n);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")})}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){let{name:e,asyncInit:r}=this.initializeBackendsAndReturnBest();if(r)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){let{asyncInit:r}=this.initializeBackend(e);if(r)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,r,n=1){return e in this.registryFactory?(Nf(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:r,priority:n},!0)}setBackend(e){return Ke(this,null,function*(){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;let{success:r,asyncInit:n}=this.initializeBackend(e);if(!(n?yield r:r))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new wS(this.backendInstance),!0})}setupRegisteredKernels(){JN(this.backendName).forEach(r=>{r.setupFunc!=null&&r.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){JN(e).forEach(n=>{n.disposeFunc!=null&&n.disposeFunc(this.registry[e])})}initializeBackend(e){let r=this.registryFactory[e];if(r==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{let n=r.factory();if(n&&!(n instanceof pS)&&typeof n.then=="function"){let a=++this.pendingBackendInitId,s=n.then(o=>a<this.pendingBackendInitId?!1:(this.registry[e]=o,this.pendingBackendInit=null,!0)).catch(o=>(a<this.pendingBackendInitId||(this.pendingBackendInit=null,Nf(`Initialization of backend ${e} failed`),Nf(o.stack||o.message)),!1));return this.pendingBackendInit=s,{success:s,asyncInit:!0}}else return this.registry[e]=n,{success:!0,asyncInit:!1}}catch(n){return Nf(`Initialization of backend ${e} failed`),Nf(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,r)=>this.registryFactory[r].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){let e=this.getSortedBackends();for(let r=0;r<e.length;r++){let n=e[r],{success:a,asyncInit:s}=this.initializeBackend(n);if(s||a)return{name:n,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,r){let n=this.state.tensorInfo.get(r),a=n.backend,s=this.readSync(r),o=a.refCount(r);a.disposeData(r,!0),n.backend=e,e.move(r,s,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,r){let n=null;if(r==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");r=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof r!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");n=e}let a;return this.scopedRun(()=>this.startScope(n),()=>this.endScope(a),()=>(a=r(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a))}scopedRun(e,r,n){e();try{let a=n();return r(),a}catch(a){throw r(),a}}nextTensorId(){return Wl.nextTensorId++}nextVariableId(){return Wl.nextVariableId++}clone(e){let r=Ae.runKernel(p0,{x:e}),n={x:e},a=o=>({x:()=>{let u="float32",l={x:o},h={dtype:u};return Ae.runKernel(d0,l,h)}}),s=[];return this.addTapeNode(this.state.activeScope.name,n,[r],a,s,{}),r}runKernel(e,r,n){if(this.backendName==null&&this.backend,!(KN(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:r,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,r,n){let a=this.backend.numDataIds(),s=0;n.forEach(l=>{s+=l.dtype==="complex64"?3:1});let o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],u=a-r-s-o;if(u>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${u} data ids) after running '${e}'`)}runKernelFunc(e){let r,n=[],a=this.isTapeOn(),s=this.state.numBytes,o=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let u;this.backendName==null&&this.backend;let l,h=nI(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(nI(e)){let{kernelName:A,inputs:T,attrs:I}=e;this.backendName==null&&this.backend;let N=KN(A,this.backendName);Ye(N!=null,()=>`Cannot find registered kernel '${A}' for backend '${this.backendName}'`),u=()=>{let D=this.backend.numDataIds();l=N.kernelFunc({inputs:T,attrs:I,backend:this.backend});let C=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(A,D,C);let L=C.map(z=>z.rank!=null?z:this.makeTensorFromTensorInfo(z));if(a){let z=this.getTensorsForGradient(A,T,L);n=this.saveTensorsForBackwardMode(z)}return L}}else{let{forwardFunc:A}=e,T=I=>{!a||(n=I.map(N=>this.keep(this.clone(N))))};u=()=>{let I=this.backend.numDataIds();l=this.tidy(()=>A(this.backend,T));let N=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(h,I,N),N}}let{inputs:p,attrs:v}=e,y=nI(e)?null:e.backwardsFunc,S;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?r=u():(S=this.profiler.profileKernel(h,p,()=>u()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(S),r=S.outputs)}),a&&this.addTapeNode(h,p,r,y,n,v),this.state.profiling&&this.state.activeProfile.kernels.push({name:h,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(p).map(A=>p[A]!=null?p[A].shape:null),outputShapes:r.map(A=>A.shape),kernelTimeMs:S.timeMs,extraInfo:S.extraInfo}),Array.isArray(l)?r:r[0]}saveTensorsForBackwardMode(e){return e.map(n=>this.keep(this.clone(n)))}getTensorsForGradient(e,r,n){let a=ZN(e);if(a!=null){let s=a.inputsToSave||[],o=a.outputsToSave||[],u;a.saveAllInputs?(Ye(Array.isArray(r),()=>"saveAllInputs is true, expected inputs to be an array."),u=Object.keys(r).map(h=>r[h])):u=s.map(h=>r[h]);let l=n.filter((h,p)=>o[p]);return u.concat(l)}return[]}makeTensor(e,r,n,a){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",a=a||this.backend;let s=e;n==="string"&&Ty(e[0])&&(s=e.map(l=>bS(l)));let o=a.write(s,r,n),u=new $i(r,n,o,this.nextTensorId());if(this.trackTensor(u,a),n==="string"){let l=this.state.tensorInfo.get(o),h=yJ(s);this.state.numBytes+=h-l.bytes,l.bytes=h}return u}makeTensorFromDataId(e,r,n,a){n=n||"float32";let s={dataId:e,shape:r,dtype:n};return this.makeTensorFromTensorInfo(s,a)}makeTensorFromTensorInfo(e,r){let{dataId:n,shape:a,dtype:s}=e,o=new $i(a,s,n,this.nextTensorId());return this.trackTensor(o,r),o}makeVariable(e,r=!0,n,a){n=n||this.nextVariableId().toString(),a!=null&&a!==e.dtype&&(e=e.cast(a));let s=new Uh(e,r,n,this.nextTensorId());if(this.state.registeredVariables[s.name]!=null)throw new Error(`Variable with name ${s.name} was already registered`);return this.state.registeredVariables[s.name]=s,this.incRef(s,this.backend),s}trackTensor(e,r){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let n=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(n=e.size*jN(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:r||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof Uh||this.track(e)}incRef(e,r){this.trackTensor(e,r),this.backend.incRef(e.dataId)}removeDataId(e,r){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===r&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;let r=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=r.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){let n=e.size*jN(e.dtype);this.state.numBytes-=n}r.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,r.backend)}disposeVariables(){for(let e in this.state.registeredVariables){let r=this.state.registeredVariables[e];this.disposeVariable(r)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){let e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}profile(e){return Ke(this,null,function*(){this.state.profiling=!0;let r=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=yield e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(a=>a.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-r,this.state.activeProfile.newTensors=this.state.numTensors-n;for(let a of this.state.activeProfile.kernels)a.kernelTimeMs=yield a.kernelTimeMs,a.extraInfo=yield a.extraInfo;return this.state.activeProfile})}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,r,n,a,s,o){let u={id:this.state.nextTapeNodeId++,kernelName:e,inputs:r,outputs:n,saved:s},l=ZN(e);l!=null&&(a=l.gradFunc),a!=null&&(u.gradient=h=>(h=h.map((p,v)=>{if(p==null){let y=n[v],S=Dy(y.size,y.dtype);return this.makeTensor(S,y.shape,y.dtype)}return p}),a(h.length>1?h:h[0],s,o))),this.state.activeTape.push(u)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){let r={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(r.name=e),this.state.scopeStack.push(r),this.state.activeScope=r}endScope(e){let r=FJ(e),n=new Set(r.map(s=>s.id));for(let s=0;s<this.state.activeScope.track.length;s++){let o=this.state.activeScope.track[s];!o.kept&&!n.has(o.id)&&o.dispose()}let a=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(s=>{!s.kept&&s.scopeId===a.id&&this.track(s)})}gradients(e,r,n,a=!1){if(Ye(r.length>0,()=>"gradients() received an empty list of xs."),n!=null&&n.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);let s=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));Ye(s instanceof $i,()=>"The result y returned by f() must be a tensor.");let o=kJ(this.state.activeTape,r,s);if(!a&&o.length===0&&r.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{let u={};u[s.id]=n==null?g8e(s.shape):n,TJ(u,o,h=>this.tidy(h),b8e);let l=r.map(h=>u[h.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(h=>{for(let p of h.saved)p.dispose()}),this.state.activeTape=null),{value:s,grads:l}})}customGrad(e){return Ye(UN(e),()=>"The f passed in customGrad(f) must be a function."),(...r)=>{Ye(r.every(u=>u instanceof $i),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let n,a={};r.forEach((u,l)=>{a[l]=u});let s=(u,l)=>(n=e(...r,l),Ye(n.value instanceof $i,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),Ye(UN(n.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),n.value),o=(u,l)=>{let h=n.gradFunc(u,l),p=Array.isArray(h)?h:[h];Ye(p.length===r.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),Ye(p.every(y=>y instanceof $i),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");let v={};return p.forEach((y,S)=>{v[S]=()=>y}),v};return this.runKernelFunc({forwardFunc:s,backwardsFunc:o,inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,r){return this.state.tensorInfo.get(e).backend.readToGPU(e,r)}time(e){return Ke(this,null,function*(){let r=b0(),n=yield this.backend.time(e);return n.wallMs=b0()-r,n})}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new SS;for(let e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}};Wl.nextTensorId=0;Wl.nextVariableId=0;function g8e(t){let e=mS(Mn(t),"float32");return Ae.makeTensor(e,t,"float32")}function y8e(){let t=GN();if(t._tfengine==null){let e=new gS(t);t._tfengine=new Wl(e)}return SJ(t._tfengine.ENV),OJ(()=>t._tfengine),t._tfengine}var Ae=y8e();function b8e(t,e){let r={a:t,b:e};return Ae.runKernel(h0,r)}function w8e(t,e){let r=t;if(ps(t))return e==="string"?[]:[t.length];if(!Array.isArray(t))return[];let n=[];for(;Array.isArray(r)||ps(r)&&e!=="string";)n.push(r.length),r=r[0];return Array.isArray(t)&&ur().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&PJ(t,n,[]),n}function PJ(t,e,r){if(r=r||[],!Array.isArray(t)&&!ps(t)){Ye(e.length===0,()=>`Element arr[${r.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}Ye(e.length>0,()=>`Element arr[${r.join("][")}] should be a primitive, but is an array of ${t.length} elements`),Ye(t.length===e[0],()=>`Element arr[${r.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);let n=e.slice(1);for(let a=0;a<t.length;++a)PJ(t[a],n,r.concat(a))}function LJ(t,e,r,n){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${r}' passed to '${n}' must be ${t} tensor, but got ${e} tensor`)}}function Ce(t,e,r,n="numeric"){if(t instanceof $i)return LJ(n,t.dtype,e,r),t;let a=Ny(t);if(a!=="string"&&["bool","int32","float32"].indexOf(n)>=0&&(a=n),LJ(n,a,e,r),t==null||!ps(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){let l=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${r}' must be a Tensor or TensorLike, but got '${l}'`)}let s=w8e(t,a);!ps(t)&&!Array.isArray(t)&&(t=[t]);let u=a!=="string"?yS(t,a):jh(t,[],!0);return Ae.makeTensor(u,s,a)}function ES(t,e,r,n="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${r} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((s,o)=>Ce(s,`${e}[${o}]`,r,n))}var _8e="__op";function Ze(t){let e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let r=e[0],n=t[r];r.endsWith("_")&&(r=r.substring(0,r.length-1)),r=r+_8e;let a=(...s)=>{Ae.startScope(r);try{let o=n(...s);return vS(o)&&console.error("Cannot return a Promise inside of tidy."),Ae.endScope(o),o}catch(o){throw Ae.endScope(null),o}};return Object.defineProperty(a,"name",{value:r,configurable:!0}),a}function x8e(t,e){let r=Ce(t,"x","cast");if(!gJ(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&r.dtype!=="string"||e!=="string"&&r.dtype==="string")throw new Error("Only strings can be casted to strings");let n={x:r},a={dtype:e};return Ae.runKernel(d0,n,a)}var _t=Ze({cast_:x8e});function S8e(t,e){let r=Ce(t,"a","mul"),n=Ce(e,"b","mul");[r,n]=An(r,n);let a={a:r,b:n};return Ae.runKernel(Ux,a)}var nt=Ze({mul_:S8e});function E8e(t,e=0){let n={x:Ce(t,"x","step")},a={alpha:e};return Ae.runKernel(dS,n,a)}var Gl=Ze({step_:E8e});var MS={kernelName:GK,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>nt(t,Gl(_t(r,"float32"),-1))}}};function M8e(t,e){let r=Ce(t,"a","floorDiv"),n=Ce(e,"b","floorDiv");[r,n]=An(r,n);let a={a:r,b:n};return Ae.runKernel(Lx,a)}var qJ=Ze({floorDiv_:M8e});function A8e(t,e){let r=Ce(t,"a","div"),n=Ce(e,"b","div");if([r,n]=An(r,n),r.dtype==="int32"&&n.dtype==="int32")return qJ(r,n);let a={a:r,b:n},s={};return Ae.runKernel(Ox,a,s)}var fr=Ze({div_:A8e});function k8e(t){let r={x:Ce(t,"x","neg")};return Ae.runKernel(Vx,r)}var Ln=Ze({neg_:k8e});function $J(t,e,r,n){if(n==null&&(n=Ny(t)),n==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!ps(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){wJ(e);let a=Mn(e),s=Mn(r);Ye(a===s,()=>`Based on the provided shape, [${e}], the tensor should have ${a} values but has ${s}`);for(let o=0;o<r.length;++o){let u=r[o],l=o===r.length-1?u!==Mn(e.slice(o)):!0;Ye(r[o]===e[o]||!l,()=>`Error creating a new Tensor. Inferred shape (${r}) does not match the provided shape (${e}). `)}}return!ps(t)&&!Array.isArray(t)&&(t=[t]),e=e||r,t=n!=="string"?yS(t,n):jh(t,[],!0),Ae.makeTensor(t,e,n)}function mn(t,e){if((ps(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&ps(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return $J(t,[],[],e)}function T8e(t){let r={x:Ce(t,"x","sqrt","float32")};return Ae.runKernel(aS,r)}var qu=Ze({sqrt_:T8e});function N8e(t){let e=Ce(t,"x","square"),r={};return Ae.runKernel("Square",{x:e},r)}var en=Ze({square_:N8e});function I8e(t,e){let r=Ce(t,"a","sub"),n=Ce(e,"b","sub");[r,n]=An(r,n);let a={a:r,b:n};return Ae.runKernel(fS,a)}var Zn=Ze({sub_:I8e});var zJ={kernelName:HK,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>{let n=en(_t(r,"float32")),a=qu(Zn(mn(1),n));return Ln(fr(t,a))}}}};var jJ={kernelName:KK,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>{let n=qu(Zn(en(_t(r,"float32")),1));return fr(t,n)}}}};function D8e(t,e){let r=t.length,n=[];for(let a=0;a<r;a++){let s=r-1-a,o=t[s]||1;(e[e.length-1-a]||1)>1&&o===1&&n.unshift(s)}return n}function Fr(t,e){let r=[];for(let n=0;n<e.length;n++){let a=t[t.length-n-1],s=e.length-n-1,o=e[s];(a==null||a===1&&o>1)&&r.unshift(s)}return r}function vr(t,e){let r=[],n=Math.max(t.length,e.length);for(let a=0;a<n;a++){let s=t[t.length-a-1];s==null&&(s=1);let o=e[e.length-a-1];if(o==null&&(o=1),s===1)r.unshift(o);else if(o===1)r.unshift(s);else if(s!==o){let u=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(u)}else r.unshift(s)}return r}function O8e(t,e){let n={x:Ce(t,"x","reshape","string_or_numeric")},a={shape:e};return Ae.runKernel(Jx,n,a)}var ut=Ze({reshape_:O8e});function R8e(t,e=null,r=!1){let n=Ce(t,"x","sum");n.dtype==="bool"&&(n=_t(n,"int32"));let a={x:n},s={axis:e,keepDims:r};return Ae.runKernel(sS,a,s)}var Qt=Ze({sum_:R8e});var UJ={kernelName:h0,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=vr(r.shape,n.shape);return{a:()=>{let u=t,l=Fr(r.shape,a);return l.length>0&&(u=Qt(u,l)),ut(u,r.shape)},b:()=>{let u=t,l=Fr(n.shape,a);return l.length>0&&(u=Qt(u,l)),ut(u,n.shape)}}}};var VJ={kernelName:ZK,saveAllInputs:!0,gradFunc:(t,e)=>{let r={};return e.forEach((n,a)=>{r[a]=()=>t.clone()}),r}};function C8e(t){let r={x:Ce(t,"x","zerosLike")};return Ae.runKernel(hS,r)}var Zt=Ze({zerosLike_:C8e});var WJ={kernelName:JK,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Zt(r)}}};var GJ={kernelName:YK,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Zt(r)}}};var HJ={kernelName:XK,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>fr(t,qu(Zn(mn(1),en(_t(r,"float32")))))}}};function F8e(t,e){let r=Ce(t,"a","add"),n=Ce(e,"b","add");[r,n]=An(r,n);let a={a:r,b:n};return Ae.runKernel(h0,a)}var _a=Ze({add_:F8e});var KJ={kernelName:QK,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>{let n=qu(_a(mn(1),en(_t(r,"float32"))));return fr(t,n)}}}};var ZJ={kernelName:rZ,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=vr(r.shape,n.shape);return{a:()=>{let u=_a(en(r),en(n)),l=nt(t,fr(n,u)),h=Fr(r.shape,a);return h.length>0&&(l=Qt(l,h)),ut(l,r.shape)},b:()=>{let u=_a(en(r),en(n)),l=Ln(nt(t,fr(r,u))),h=Fr(n.shape,a);return h.length>0&&(l=Qt(l,h)),ut(l,n.shape)}}}};var JJ={kernelName:eZ,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>fr(t,_a(en(_t(r,"float32")),1))}}};var YJ={kernelName:tZ,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>fr(t,Zn(mn(1),en(_t(r,"float32"))))}}};function B8e(t,e,r,n,a="NHWC",s){let o=t[3],u=[...e,o],l=QJ(a);return aI(t,u,r,s,n,null,null,l)}function L8e(t,e,r,n,a,s,o="channelsLast"){let[u,l]=AS(e),h;if(o==="channelsLast")h=[u,l,t[3],t[3]];else if(o==="channelsFirst")h=[u,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return aI(t,h,r,n,a,s,!1,o)}function P8e(t,e,r,n,a,s,o="NDHWC"){let[u,l,h]=iI(e),p,v;if(o==="NDHWC")v="channelsLast",p=[u,l,h,t[4],t[4]];else if(o==="NCDHW")v="channelsFirst",p=[u,l,h,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return XJ(t,p,r,n,a,!1,v,s)}function aI(t,e,r,n,a,s,o=!1,u="channelsLast"){let[l,h,p,v]=[-1,-1,-1,-1];if(u==="channelsLast")[l,h,p,v]=t;else if(u==="channelsFirst")[l,v,h,p]=t;else throw new Error(`Unknown dataFormat ${u}`);let[y,S,,A]=e,[T,I]=AS(r),[N,D]=AS(n),C=w0(y,N),L=w0(S,D),{padInfo:z,outHeight:$,outWidth:G}=z8e(a,h,p,T,I,C,L,s,u),j=o?A*v:A,Z;return u==="channelsFirst"?Z=[l,j,$,G]:u==="channelsLast"&&(Z=[l,$,G,j]),{batchSize:l,dataFormat:u,inHeight:h,inWidth:p,inChannels:v,outHeight:$,outWidth:G,outChannels:j,padInfo:z,strideHeight:T,strideWidth:I,filterHeight:y,filterWidth:S,effectiveFilterHeight:C,effectiveFilterWidth:L,dilationHeight:N,dilationWidth:D,inShape:t,outShape:Z,filterShape:e}}function XJ(t,e,r,n,a,s=!1,o="channelsLast",u){let[l,h,p,v,y]=[-1,-1,-1,-1,-1];if(o==="channelsLast")[l,h,p,v,y]=t;else if(o==="channelsFirst")[l,y,h,p,v]=t;else throw new Error(`Unknown dataFormat ${o}`);let[S,A,T,,I]=e,[N,D,C]=iI(r),[L,z,$]=iI(n),G=w0(S,L),j=w0(A,z),Z=w0(T,$),{padInfo:M,outDepth:f,outHeight:d,outWidth:g}=j8e(a,h,p,v,N,D,C,G,j,Z,u),m=s?I*y:I,b;return o==="channelsFirst"?b=[l,m,f,d,g]:o==="channelsLast"&&(b=[l,f,d,g,m]),{batchSize:l,dataFormat:o,inDepth:h,inHeight:p,inWidth:v,inChannels:y,outDepth:f,outHeight:d,outWidth:g,outChannels:m,padInfo:M,strideDepth:N,strideHeight:D,strideWidth:C,filterDepth:S,filterHeight:A,filterWidth:T,effectiveFilterDepth:G,effectiveFilterHeight:j,effectiveFilterWidth:Z,dilationDepth:L,dilationHeight:z,dilationWidth:$,inShape:t,outShape:b,filterShape:e}}function q8e(t,e,r,n,a){n==null&&(n=sI(t,e,r));let s=t[0],o=t[1],u=Vh((s-e+2*n)/r+1,a),l=Vh((o-e+2*n)/r+1,a);return[u,l]}function $8e(t,e,r,n,a,s){a==null&&(a=sI(t,e,n));let o=t[0],u=t[1],l=t[2],h=Vh((o-e+2*a)/n+1,s),p=Vh((u-e+2*a)/n+1,s),v=Vh((l-e+2*a)/n+1,s);return[h,p,v,r]}function sI(t,e,r,n=1){let a=w0(e,n);return Math.floor((t[0]*(r-1)-r+a)/2)}function AS(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function iI(t){return typeof t=="number"?[t,t,t]:t}function w0(t,e){return e<=1?t:t+(t-1)*(e-1)}function z8e(t,e,r,n,a,s,o,u,l){let h,p,v;if(typeof t=="number"){h={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};let S=q8e([e,r],s,n,t,u);p=S[0],v=S[1]}else if(t==="same"){p=Math.ceil(e/n),v=Math.ceil(r/a);let y=Math.max(0,(p-1)*n+s-e),S=Math.max(0,(v-1)*a+o-r),A=Math.floor(y/2),T=y-A,I=Math.floor(S/2),N=S-I;h={top:A,bottom:T,left:I,right:N,type:"SAME"}}else if(t==="valid")h={top:0,bottom:0,left:0,right:0,type:"VALID"},p=Math.ceil((e-s+1)/n),v=Math.ceil((r-o+1)/a);else if(typeof t=="object"){let y=l==="channelsLast"?t[1][0]:t[2][0],S=l==="channelsLast"?t[1][1]:t[2][1],A=l==="channelsLast"?t[2][0]:t[3][0],T=l==="channelsLast"?t[2][1]:t[3][1];h={top:y,bottom:S,left:A,right:T,type:y===0&&S===0&&A===0&&T===0?"VALID":"EXPLICIT"},p=Vh((e-s+y+S)/n+1,u),v=Vh((r-o+A+T)/a+1,u)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:h,outHeight:p,outWidth:v}}function j8e(t,e,r,n,a,s,o,u,l,h,p){let v,y,S,A;if(typeof t=="number"){v={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};let I=$8e([e,r,n,1],u,1,a,t,p);y=I[0],S=I[1],A=I[2]}else if(t==="same"){y=Math.ceil(e/a),S=Math.ceil(r/s),A=Math.ceil(n/o);let T=(y-1)*a+u-e,I=(S-1)*s+l-r,N=(A-1)*o+h-n,D=Math.floor(T/2),C=T-D,L=Math.floor(I/2),z=I-L,$=Math.floor(N/2),G=N-$;v={top:L,bottom:z,left:$,right:G,front:D,back:C,type:"SAME"}}else if(t==="valid")v={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},y=Math.ceil((e-u+1)/a),S=Math.ceil((r-l+1)/s),A=Math.ceil((n-h+1)/o);else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:v,outDepth:y,outHeight:S,outWidth:A}}function Vh(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function If(t){let[e,r,n]=AS(t);return e===1&&r===1&&n===1}function qy(t,e){return If(t)||If(e)}function QJ(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function Na(t,e,r){if(r!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${r} but got pad ${e}.`);if(typeof e=="number")Ye(g0(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${r} but got pad ${e}.`);else if(typeof e=="object")e.forEach(n=>{n.forEach(a=>{Ye(g0(a),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${r} but got pad ${a}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}function U8e(t,e,r,n,a,s){let o=Ce(t,"dy","avgPool3dGrad"),u=Ce(e,"input","avgPool3dGrad"),l=o,h=u,p=!1;u.rank===4&&(p=!0,l=ut(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),h=ut(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),Ye(l.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),Ye(h.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${h.rank}.`),Na("avgPool3dGrad",a,s);let v={dy:l,input:h},y={filterSize:r,strides:n,pad:a,dimRoundingMode:s},S=Ae.runKernel(sZ,v,y);return p?ut(S,[S.shape[1],S.shape[2],S.shape[3],S.shape[4]]):S}var eY=Ze({avgPool3dGrad_:U8e});var tY={kernelName:aZ,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{filterSize:a,strides:s,pad:o,dimRoundingMode:u}=r;return{x:()=>eY(t,n,a,s,o,u)}}};function V8e(t,e,r,n,a){let s=Ce(t,"dy","avgPoolGrad"),o=Ce(e,"input","avgPoolGrad");Ye(o.rank===s.rank,()=>`Rank of input (${o.rank}) does not match rank of dy (${s.rank})`);let u=o,l=s,h=!1;o.rank===3&&(h=!0,u=ut(o,[1,o.shape[0],o.shape[1],o.shape[2]]),l=ut(s,[1,s.shape[0],s.shape[1],s.shape[2]])),Ye(l.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),Ye(u.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${u.rank}.`);let p={dy:l,input:u},v={filterSize:r,strides:n,pad:a},y=Ae.runKernel(iZ,p,v);return h?ut(y,[y.shape[1],y.shape[2],y.shape[3]]):y}var rY=Ze({avgPoolGrad_:V8e});var nY={kernelName:nZ,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{filterSize:a,strides:s,pad:o}=r;return{x:()=>rY(t,n,a,s,o)}}};function W8e(t,e,r=!1,n=!1){let a=Ce(t,"a","matMul"),s=Ce(e,"b","matMul");[a,s]=An(a,s);let o={a,b:s},u={transposeA:r,transposeB:n};return Ae.runKernel(Ex,o,u)}var Df=Ze({matMul_:W8e});var iY={kernelName:Ex,inputsToSave:["a","b"],gradFunc:(t,e,r)=>{let[n,a]=e,{transposeA:s,transposeB:o}=r;return!s&&!o?{a:()=>Df(t,a,!1,!0),b:()=>Df(n,t,!0,!1)}:!s&&o?{a:()=>Df(t,a,!1,!1),b:()=>Df(t,n,!0,!1)}:s&&!o?{a:()=>Df(a,t,!1,!0),b:()=>Df(n,t,!1,!1)}:{a:()=>Df(a,t,!0,!0),b:()=>Df(t,n,!0,!0)}}};function G8e(t,e,r){let n=Ce(t,"x","spaceToBatchND");Ye(n.rank>=1+e.length,()=>`input rank ${n.rank} should be > than [blockShape] ${e.length}`),Ye(r.length===e.length,()=>`paddings.shape[0] ${r.length} must be equal to [blockShape] ${e.length}`),Ye(n.shape.reduce((o,u,l)=>l>0&&l<=e.length?o&&(u+r[l-1][0]+r[l-1][1])%e[l-1]===0:o,!0),()=>`input spatial dimensions ${n.shape.slice(1)} with paddings ${r.toString()} must be divisible by blockShapes ${e.toString()}`);let a={x:n},s={blockShape:e,paddings:r};return Ae.runKernel(oS,a,s)}var aY=Ze({spaceToBatchND_:G8e});var sY={kernelName:Mx,gradFunc:(t,e,r)=>{let{blockShape:n,crops:a}=r;return{x:()=>aY(t,n,a)}}};var oY={kernelName:oZ,gradFunc:(t,e,r)=>{let n=r,a=n.inputShape,s=n.shape,o=Array.from(s);for(let l=a.length-1;l>=0;l--)if(a[l]===s[l])o[l]=1;else if(a[l]!==1)throw new Error(`broadcastTo(): [${a}] cannot be broadcast to [${s}].`);let u=[];for(let l=0;l<o.length;l++)o[l]>1&&u.push(l);return{x:()=>Qt(t,u,!0)}}};var uY={kernelName:d0,gradFunc:t=>({x:()=>t.clone()})};var fY={kernelName:uZ,gradFunc:t=>({x:()=>Zt(t)})};function H8e(t,e){let r=Ce(t,"a","greaterEqual","string_or_numeric"),n=Ce(e,"b","greaterEqual","string_or_numeric");[r,n]=An(r,n),vr(r.shape,n.shape);let a={a:r,b:n};return Ae.runKernel(qx,a)}var x0=Ze({greaterEqual_:H8e});function K8e(t,e){let r=Ce(t,"a","lessEqual","string_or_numeric"),n=Ce(e,"b","lessEqual","string_or_numeric");[r,n]=An(r,n),vr(r.shape,n.shape);let a={a:r,b:n};return Ae.runKernel(CZ,a)}var S0=Ze({lessEqual_:K8e});function Z8e(t,e){let r=Ce(t,"a","logicalAnd","bool"),n=Ce(e,"b","logicalAnd","bool");vr(r.shape,n.shape);let a={a:r,b:n};return Ae.runKernel(BZ,a)}var kS=Ze({logicalAnd_:Z8e});function J8e(t){let r={x:Ce(t,"x","clone","string_or_numeric")};return Ae.runKernel(p0,r)}var TS=Ze({clone_:J8e});function Y8e(t,e){let r=Ce(t,"broadcastTo","x"),n=r.shape;if(e.some(h=>!(h>0)||h%1!==0))throw new Error(`broadcastTo(): Invalid broadcast shape [${e}].`);if(e.length<r.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${r.rank}.`);if(e.length>r.rank){let h=r.shape.slice();for(;h.length<e.length;)h.unshift(1);r=ut(r,h)}let a=r.shape,s=Array.from(e);for(let h=e.length-1;h>=0;h--)if(a[h]===e[h])s[h]=1;else if(r.shape[h]!==1)throw new Error(`broadcastTo(): [${n}] cannot be broadcast to [${e}].`);if(s.map((h,p)=>h>1?p:-1).filter(h=>h>=0).length===0)return TS(r);let u={x:r},l={reps:s};return Ae.runKernel(m0,u,l)}var NS=Ze({broadcastTo_:Y8e});function X8e(t,e,r){let n=Ce(e,"a","where"),a=Ce(r,"b","where"),s=Ce(t,"condition","where","bool"),o=vr(vr(s.shape,n.shape),a.shape),u=NS(s,o),l=NS(n,o),h=NS(a,o),p={condition:u,t:l,e:h};return Ae.runKernel(eS,p)}var ms=Ze({where_:X8e});var lY={kernelName:fZ,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{clipValueMin:a,clipValueMax:s}=r;return{x:()=>ms(kS(x0(n,a),S0(n,s)),t,Zt(t))}}};var cY={kernelName:cZ,inputsToSave:["x"],gradFunc:MS.gradFunc};function Q8e(t,e,r=0){let a={x:Ce(t,"x","split")},s={numOrSizeSplits:e,axis:r};return Ae.runKernel(uS,a,s)}var hY=Ze({split_:Q8e});var dY={kernelName:Ax,saveAllInputs:!0,gradFunc:(t,e,r)=>{let n=e.map(l=>l.shape),{axis:a}=r,s=Ka(a,e[0].shape)[0],o=n.map(l=>l[s]);return hY(t,o,s).map(l=>()=>l)}};function eOe(t,e,r,n,a,s="NHWC",o){let u=t;t.rank===3&&(u=ut(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=ut(e,[1,e.shape[0],e.shape[1],e.shape[2]])),Ye(u.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${u.shape}.`),Ye(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),Ye(r.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${r}.`);let h=s==="NHWC"?u.shape[3]:u.shape[1],p=s==="NHWC"?l.shape[3]:l.shape[1];Ye(h===r[2],()=>`Error in conv2dDerFilter: depth of input ${h}) must match input depth in filter (${r[2]}.`),Ye(p===r[3],()=>`Error in conv2dDerFilter: depth of dy (${p}) must match output depth for filter (${r[3]}).`),Na("conv2dDerFilter",a,o);let v={x:u,dy:l},y={strides:n,pad:a,dataFormat:s,dimRoundingMode:o,filterShape:r};return Ae.runKernel(hZ,v,y)}var IS=Ze({conv2DBackpropFilter_:eOe});function tOe(t,e,r,n,a,s="NHWC",o){Ye(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let u=t,l=e,h=!1;e.rank===3&&(h=!0,l=ut(e,[1,e.shape[0],e.shape[1],e.shape[2]]),u=[1,t[0],t[1],t[2]]),Ye(u.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${u.length}.`),Ye(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),Ye(r.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${r.rank}`);let p=s==="NHWC"?u[3]:u[1],v=s==="NHWC"?l.shape[3]:l.shape[1];Ye(p===r.shape[2],()=>`Error in conv2dDerInput: depth of input (${p}) must match input depth for filter ${r.shape[2]}.`),Ye(v===r.shape[3],()=>`Error in conv2dDerInput: depth of output (${v}) must match output depth for filter ${r.shape[3]}.`),Na("conv2dDerInput",a,o);let y={dy:l,filter:r},S={strides:n,pad:a,dataFormat:s,dimRoundingMode:o,inputShape:u},A=Ae.runKernel(Tx,y,S);return h?ut(A,[A.shape[1],A.shape[2],A.shape[3]]):A}var pY=Ze({conv2DBackpropInput_:tOe});var mY={kernelName:kx,inputsToSave:["x","filter"],gradFunc:(t,e,r)=>{let[n,a]=e,{dilations:s,strides:o,pad:u,dataFormat:l}=r;return Ye(If(s),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`),{x:()=>pY(n.shape,t,a,o,u,l),filter:()=>IS(n,t,a.shape,o,u,l)}}};function rOe(t,e,r,n,a="NHWC",s=[1,1],o){let u=Ce(t,"x","conv2d","float32"),l=Ce(e,"filter","conv2d","float32"),h=u,p=!1;u.rank===3&&(p=!0,h=ut(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Ye(h.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${h.rank}.`),Ye(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),Na("conv2d",n,o);let v=a==="NHWC"?h.shape[3]:h.shape[1];Ye(v===l.shape[2],()=>`Error in conv2d: depth of input (${v}) must match input depth for filter ${l.shape[2]}.`),Ye(qy(r,s),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${r} and dilations '${s}'`);let y={x:h,filter:l},S={strides:r,pad:n,dataFormat:a,dilations:s,dimRoundingMode:o},A=Ae.runKernel(kx,y,S);return p?ut(A,[A.shape[1],A.shape[2],A.shape[3]]):A}var vY=Ze({conv2d_:rOe});var gY={kernelName:Tx,inputsToSave:["dy","filter"],gradFunc:(t,e,r)=>{let[n,a]=e,{strides:s,pad:o,dataFormat:u,dimRoundingMode:l}=r;return{dy:()=>vY(t,a,s,o,u,1,l),filter:()=>IS(t,n,a.shape,s,o,u,l)}}};function nOe(t,e,r,n,a){let s=t;t.rank===4&&(s=ut(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let o=e;o.rank===4&&(o=ut(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),Ye(s.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${s.shape}.`),Ye(o.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${o.shape}.`),Ye(r.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${r}.`),Ye(s.shape[4]===r[3],()=>`Error in conv3dDerFilter: depth of input ${s.shape[4]}) must match input depth in filter (${r[3]}.`),Ye(o.shape[4]===r[4],()=>`Error in conv3dDerFilter: depth of dy (${o.shape[4]}) must match output depth for filter (${r[4]}).`);let u={x:s,dy:o},l={strides:n,pad:a,filterShape:r};return Ae.runKernel(pZ,u,l)}var yY=Ze({conv3DBackpropFilter_:nOe});function iOe(t,e,r,n,a){Ye(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let s=t,o=e,u=!1;e.rank===4&&(u=!0,o=ut(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),s=[1,t[0],t[1],t[2],t[3]]);let l=s[4],h=o.shape[4];Ye(s.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${s.length}.`),Ye(o.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${o.rank}`),Ye(r.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${r.rank}`),Ye(l===r.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${r.shape[3]}.`),Ye(h===r.shape[4],()=>`Error in conv3dDerInput: depth of output (${h}) must match output depth for filter ${r.shape[4]}.`);let p={dy:o,filter:r},v={pad:a,strides:n,inputShape:s},y=Ae.runKernel(mZ,p,v);return u?ut(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}var bY=Ze({conv3DBackpropInput_:iOe});var wY={kernelName:dZ,inputsToSave:["x","filter"],gradFunc:(t,e,r)=>{let{dilations:n,strides:a,pad:s}=r;Ye(If(n),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${n}'`);let[o,u]=e;return{x:()=>bY(o.shape,t,u,a,s),filter:()=>yY(o,t,u.shape,a,s)}}};function aOe(t){let r={x:Ce(t,"x","sin","float32")};return Ae.runKernel(rS,r)}var _Y=Ze({sin_:aOe});var xY={kernelName:Nx,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>nt(Ln(_Y(_t(r,"float32"))),t)}}};function sOe(t){let r={x:Ce(t,"x","sinh")};return Ae.runKernel(nS,r)}var SY=Ze({sinh_:sOe});var EY={kernelName:Ix,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>nt(SY(_t(r,"float32")),t)}}};function oI(t,e){for(let r=0;r<t.length;++r)if(t[t.length-r-1]!==e-1-r)return!1;return!0}function MY(t,e,r){let n=t.length+e.length,a=[],s=0,o=0;for(let u=0;u<n;u++)r.indexOf(u)===-1?a.push(t[s++]):a.push(e[o++]);return a}function uI(t,e){let r=[],n=t.length;for(let s=0;s<n;s++)e.indexOf(s)===-1&&r.push(t[s]);let a=e.map(s=>t[s]);return[r,a]}function DS(t,e){let r=e.map(n=>1);return MY(t,r,e)}function oOe(t,e,r){Ye(oI(e,r),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${r} input.`)}function fI(t,e){if(oI(t,e))return null;let r=[];for(let n=0;n<e;++n)t.indexOf(n)===-1&&r.push(n);return t.forEach(n=>r.push(n)),r}function $y(t){return t.map((e,r)=>[r,e]).sort((e,r)=>e[1]-r[1]).map(e=>e[0])}function uOe(t,e){let r=[];for(let n=e-t;n<e;++n)r.push(n);return r}function fOe(t,e=0,r=!1,n=!1){let s={x:Ce(t,"x","cumsum")},o={axis:e,exclusive:r,reverse:n};return Ae.runKernel(Dx,s,o)}var kY=Ze({cumsum_:fOe});function lOe(t){ur().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}RJ(lOe);function TY(t,e){return Ae.tidy(t,e)}function cOe(t,e){let r=Ce(t,"real","complex"),n=Ce(e,"imag","complex");mJ(r.shape,n.shape,`real and imag shapes, ${r.shape} and ${n.shape}, must match in call to tf.complex().`);let a={real:r,imag:n};return Ae.runKernel(lZ,a)}var E0=Ze({complex_:cOe});function hOe(t){let r={input:Ce(t,"input","imag")};return Ae.runKernel(NZ,r)}var NY=Ze({imag_:hOe});function dOe(t){let r={input:Ce(t,"input","real")};return Ae.runKernel(eJ,r)}var IY=Ze({real_:dOe});function pOe(t,e,r){let n=Ce(t,"x","transpose");if(e==null&&(e=n.shape.map((o,u)=>u).reverse()),Ye(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of perm ${e}.`),e.forEach(o=>{Ye(o>=0&&o<n.rank,()=>`All entries in 'perm' must be between 0 and ${n.rank-1} but got ${e}`)}),n.rank<=1)return n.clone();let a={x:n},s={perm:e};return n.dtype==="complex64"?TY(()=>{let o=IY(n),u=NY(n);return o=Ae.runKernel(v0,{x:o},s),u=Ae.runKernel(v0,{x:u},s),r&&(u=Ln(u)),E0(o,u)}):Ae.runKernel(v0,a,s)}var $u=Ze({transpose_:pOe});var DY={kernelName:Dx,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{axis:a,exclusive:s,reverse:o}=r;return{x:()=>{let u=fI([a],n.rank),l=kY(t,a,s,!o);return u!=null&&(l=$u(l,u)),l}}}};function mOe(t,e,r,n,a,s=[1,1],o){let u=t;t.rank===3&&(u=ut(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=ut(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let h={x:u,dy:l},p={strides:n,pad:a,dimRoundingMode:o,dilations:s,filterShape:r};return Ae.runKernel(yZ,h,p)}var OY=Ze({depthwiseConv2dNativeBackpropFilter_:mOe});function vOe(t,e,r,n,a,s=[1,1],o){let u=e,l=!1;e.rank===3&&(l=!0,u=ut(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let h={dy:u,filter:r},p={strides:n,pad:a,dimRoundingMode:o,dilations:s,inputShape:t},v=Ae.runKernel(bZ,h,p);return l?ut(v,[v.shape[1],v.shape[2],v.shape[3]]):v}var RY=Ze({depthwiseConv2dNativeBackpropInput_:vOe});var CY={kernelName:gZ,inputsToSave:["x","filter"],gradFunc:(t,e,r)=>{let{dilations:n,strides:a,pad:s,dimRoundingMode:o}=r,u=n==null?[1,1]:n;Ye(If(u),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${u}'`);let[l,h]=e;return Ye(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),Ye(h.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${h.rank}.`),Ye(l.shape[3]===h.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${h.shape[2]}.`),Ye(qy(a,u),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${a} and dilations '${u}'.`),Na("depthwiseConv2d",s,o),{x:()=>RY(l.shape,t,h,a,s,u,o),filter:()=>OY(l,t,h.shape,a,s,u,o)}}};var FY={kernelName:wZ,inputsToSave:["x","filter"],gradFunc:(t,e,r)=>{let[n,a]=e,s={x:n,filter:a,dy:t},o={x:n,filter:a,dy:t};return{x:()=>Ae.runKernel(_Z,s,r),filter:()=>Ae.runKernel(xZ,o,r)}}};var BY={kernelName:Rx,outputsToSave:[!0],gradFunc:(t,e)=>{let[r]=e,n={dy:t,y:r};return{x:()=>Ae.runKernel(SZ,n)}}};function gOe(t){let r={x:Ce(t,"x","exp")};return Ae.runKernel(Cx,r)}var Hl=Ze({exp_:gOe});var LY={kernelName:EZ,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e,n=nt(Hl(Ln(en(r))),2/Math.sqrt(Math.PI));return{x:()=>nt(t,n)}}};var PY={kernelName:Cx,outputsToSave:[!0],gradFunc:(t,e)=>{let[r]=e;return{x:()=>nt(t,r)}}};var qY={kernelName:Fx,inputsToSave:["input"],gradFunc:(t,e)=>{let[r]=e;return{input:()=>ut(t,r.shape)}}};var $Y={kernelName:AZ,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>nt(t,Hl(r))}}};var zY={kernelName:Bx,gradFunc:t=>({x:()=>Zt(t)})};var jY={kernelName:Lx,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=vr(r.shape,n.shape);return{a:()=>{let u=fr(t,_t(n,"float32")),l=Fr(r.shape,a);return l.length>0?ut(Qt(u,l),r.shape):u},b:()=>{let u=nt(t,_t(r,"float32")),l=Fr(n.shape,a);l.length>0&&(u=ut(Qt(u,l),n.shape));let h=en(n);return Ln(fr(u,_t(h,"float32")))}}}};function yOe(t){let r={x:Ce(t,"x","rsqrt","float32")};return Ae.runKernel(Qx,r)}var UY=Ze({rsqrt_:yOe});function bOe(t,e){let r=Ce(t,"x","tile","string_or_numeric");Ye(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of reps ${e}.`);let n={x:r},a={reps:e};return Ae.runKernel(m0,n,a)}var VY=Ze({tile_:bOe});var WY={kernelName:kZ,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,r)=>{let{varianceEpsilon:n}=r,[a,s,o,u]=e,l=u==null?mn(1):u,h=Fr(s.shape,a.shape),p=[];if(s.rank===1){for(let L=0;L<a.shape.length-1;++L)p.push(a.shape[L]);p.push(1)}let v=Zn(a,s),y=nt(t,l),S=UY(_a(o,mn(n))),A=nt(nt(nt(S,S),S),mn(-.5));return{x:()=>s.rank===1?ut(nt(nt(t,VY(ut(S,[1,1,1,s.shape[0]]),p)),l),a.shape):ut(nt(nt(t,S),l),a.shape),mean:()=>{let L=nt(nt(S,mn(-1)),y);return s.rank===1&&(L=Qt(L,h)),ut(L,s.shape)},variance:()=>{let L=nt(nt(A,v),y);return s.rank===1&&(L=Qt(L,h)),ut(L,s.shape)},scale:()=>{let L=nt(v,S),z=nt(t,L);return s.rank===1&&(z=Qt(z,h)),ut(z,s.shape)},offset:()=>{let L=t;return s.rank===1&&(L=Qt(L,h)),ut(L,s.shape)}}}};function wOe(t,e,r){let n=Ce(t,"x","unsortedSegmentSum"),a=Ce(e,"segmentIds","unsortedSegmentSum","int32");Ye(g0(r),()=>"numSegments must be of dtype int");let s={x:n,segmentIds:a},o={numSegments:r};return Ae.runKernel(cS,s,o)}var GY=Ze({unsortedSegmentSum_:wOe});var ZY={kernelName:Px,inputsToSave:["x","indices"],gradFunc:(t,e,r)=>{let[n,a]=e,{axis:s}=r,o=Ka(s,n.shape)[0];return{x:()=>{let l=n.shape,h=a.size,p=l.slice(0,o),v=p.length,y=l.slice(s,l.length).slice(1),S=y.length,A=HY(0,v),T=HY(v+1,v+1+S),I=KY([p,[h],y]),N=ut(t,I),D=ut(a,[h]),C=KY([[v],A,T]),L=$u(N,C),z=GY(L,D,n.shape[o]),$=$y(C);return z=$u(z,$),z},indices:()=>a}}};function HY(t,e){let r=[];for(let n=t;n<e;++n)r.push(n);return r}function KY(t){let e=[];for(let r=0;r<t.length;++r)for(let n=0;n<t[r].length;++n)e.push(t[r][n]);return e}var JY={kernelName:qx,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e;return{a:()=>Zt(r),b:()=>Zt(n)}}};var YY={kernelName:p0,gradFunc:t=>({x:()=>_t(t,"float32")})};var XY={kernelName:IZ,gradFunc:t=>({x:()=>Zt(t)})};var QY={kernelName:DZ,gradFunc:t=>({x:()=>Zt(t)})};var eX={kernelName:OZ,gradFunc:t=>({x:()=>Zt(t)})};function _Oe(t,e){let r=Ce(t,"a","greater","string_or_numeric"),n=Ce(e,"b","greater","string_or_numeric");[r,n]=An(r,n),vr(r.shape,n.shape);let a={a:r,b:n};return Ae.runKernel(TZ,a)}var zu=Ze({greater_:_Oe});var tX={kernelName:$x,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{alpha:a}=r,s=zu(n,0);return{x:()=>ms(s,t,nt(t,a))}}};var rX={kernelName:FZ,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>fr(t,_a(r,1))}}};var nX={kernelName:zx,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>fr(t,_t(r,"float32"))}}};var iX={kernelName:PZ,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,r)=>{let[n]=e,{axis:a}=r;return{logits:()=>{let o=Hl(n);return Zn(t,nt(Qt(t,a,!0),o))}}}};function xOe(t,e,r,n=5,a=1,s=1,o=.5){let u={x:t,y:e,dy:r},l={depthRadius:n,bias:a,alpha:s,beta:o};return Ae.runKernel($Z,u,l)}var aX=Ze({localResponseNormalizationBackprop_:xOe});var sX={kernelName:qZ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,r)=>{let[n,a]=e,{depthRadius:s,bias:o,alpha:u,beta:l}=r;return{x:()=>aX(n,a,t,s,o,u,l)}}};function SOe(t,e){let r=Ce(t,"a","equal","string_or_numeric"),n=Ce(e,"b","equal","string_or_numeric");[r,n]=An(r,n),vr(r.shape,n.shape);let a={a:r,b:n};return Ae.runKernel(MZ,a)}var oX=Ze({equal_:SOe});function OS(t,e,r,n){return e.rank<r.rank&&(e=ut(e,DS(e.shape,n))),t.rank<r.rank&&(t=ut(t,DS(t.shape,n))),{x:()=>nt(t,_t(oX(r,e),t.dtype))}}var lI={kernelName:zZ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,r)=>{let n=r,{reductionIndices:a}=n,s=e[0],o=e[1],u=Ka(a,s.shape),l=OS(t,o,s,u);return{x:()=>l.x()}}};function EOe(t,e){let r=Ce(t,"a","less","string_or_numeric"),n=Ce(e,"b","less","string_or_numeric");[r,n]=An(r,n),vr(r.shape,n.shape);let a={a:r,b:n};return Ae.runKernel(RZ,a)}var uX=Ze({less_:EOe});var fX={kernelName:jx,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e;return{a:()=>nt(t,_t(x0(r,n),"float32")),b:()=>nt(t,_t(uX(r,n),"float32"))}}};function MOe(t,e,r,n,a,s,o){let u=Ce(t,"dy","maxPool3dGrad"),l=Ce(e,"input","maxPool3dGrad"),h=Ce(r,"output","maxPool3dGrad"),p=u,v=l,y=h,S=!1;l.rank===4&&(S=!0,p=ut(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),v=ut(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),y=ut(h,[1,h.shape[0],h.shape[1],h.shape[2],h.shape[3]])),Ye(p.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${p.rank}.`),Ye(v.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${v.rank}.`),Ye(y.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${y.rank}.`),Na("maxPool3dGrad",s,o);let A={dy:p,input:v,output:y},T={filterSize:n,strides:a,pad:s,dimRoundingMode:o},I=Ae.runKernel(WZ,A,T);return S?ut(I,[I.shape[1],I.shape[2],I.shape[3],I.shape[4]]):I}var lX=Ze({maxPool3dGrad_:MOe});var cX={kernelName:VZ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,r)=>{let[n,a]=e,{filterSize:s,strides:o,pad:u,dimRoundingMode:l}=r;return{x:()=>lX(t,n,a,s,o,u,l)}}};function AOe(t,e,r,n,a,s,o){let u=Ce(t,"dy","maxPoolGrad"),l=Ce(e,"input","maxPoolGrad"),h=Ce(r,"output","maxPoolGrad");Ye(l.rank===u.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${u.rank})`),Ye(u.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${u.rank}.`),Ye(l.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),Na("maxPoolGrad",s,o);let p={dy:u,input:l,output:h},v={filterSize:n,strides:a,pad:s,dimRoundingMode:o};return Ae.runKernel(UZ,p,v)}var hX=Ze({maxPoolGrad_:AOe});var dX={kernelName:jZ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,r)=>{let[n,a]=e,{filterSize:s,strides:o,pad:u}=r;return{x:()=>hX(t,n,a,s,o,u)}}};function M0(t,e="float32"){if(e==="complex64"){let n=M0(t,"float32"),a=M0(t,"float32");return E0(n,a)}let r=Dy(Mn(t),e);return Ae.makeTensor(r,t,e)}function Wh(t,e="float32"){if(e==="complex64"){let n=Wh(t,"float32"),a=M0(t,"float32");return E0(n,a)}let r=mS(Mn(t),e);return Ae.makeTensor(r,t,e)}var pX={kernelName:GZ,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{axis:a}=r,s=Ka(a,n.shape),u=uI(n.shape,s)[1],l=Mn(u);return{x:()=>{let p=n.shape.slice();s.forEach(S=>{p[S]=1});let v=ut(t,p);return fr(nt(v,Wh(n.shape,"float32")),l)}}}};var mX={kernelName:HZ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,r)=>{let n=r,{axis:a}=n,[s,o]=e,u=Ka(a,s.shape),l=OS(t,o,s,u);return{x:()=>l.x()}}};var vX={kernelName:KZ,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e;return{a:()=>nt(t,_t(S0(r,n),"float32")),b:()=>nt(t,_t(zu(r,n),"float32"))}}};function kOe(t,e,r){let n=Ce(t,"x","slice","string_or_numeric");if(n.rank===0)throw new Error("Slicing scalar is not possible");let a={x:n},s={begin:e,size:r};return Ae.runKernel(tS,a,s)}var Of=Ze({slice_:kOe});var gX={kernelName:ZZ,inputsToSave:["x"],gradFunc:(t,e,r)=>{let n=e[0],{paddings:a}=r,s=a.map(o=>o[0]);return{x:()=>Of(t,s,n.shape)}}};function TOe(t){let r={x:Ce(t,"x","floor","float32")};return Ae.runKernel(Bx,r)}var yX=Ze({floor_:TOe});var bX={kernelName:JZ,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=vr(r.shape,n.shape);return{a:()=>{let u=Fr(r.shape,a);return u.length>0?ut(Qt(t,u),r.shape):t},b:()=>{let u=nt(t,Ln(yX(fr(r,n)))),l=Fr(n.shape,a);return l.length>0?ut(Qt(u,l),n.shape):u}}}};var wX={kernelName:Ux,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=vr(r.shape,n.shape);return{a:()=>{let u=nt(t,_t(n,"float32")),l=Fr(r.shape,a);return l.length>0?ut(Qt(u,l),r.shape):u},b:()=>{let u=nt(t,_t(r,"float32")),l=Fr(n.shape,a);return l.length>0?ut(Qt(u,l),n.shape):u}}}};var _X={kernelName:Vx,gradFunc:t=>({x:()=>Ln(t)})};var xX={kernelName:XZ,inputsToSave:["indices"],gradFunc:(t,e)=>{let r=e[0];return{indices:()=>M0(r.shape,"float32")}}};var SX={kernelName:YZ,gradFunc:t=>({x:()=>Zt(t)})};function NOe(t,e=0){let r=Ce(t,"x","unstack","string_or_numeric");Ye(e>=-r.shape.length&&e<r.shape.length,()=>`Axis = ${e} is not in [-${r.shape.length}, ${r.shape.length})`);let n={value:r},a={axis:e};return Ae.runKernel(lS,n,a)}var EX=Ze({unstack_:NOe});var MX={kernelName:Wx,saveAllInputs:!0,gradFunc:(t,e,r)=>{let{axis:n}=r;return EX(t,n).map(s=>()=>s)}};var cI={kernelName:Gx,inputsToSave:["x"],gradFunc:(t,e,r)=>{let n=e[0],{paddings:a}=r,s=a.map(o=>o[0]);return{x:()=>Of(t,s,n.shape)}}};function IOe(t){let r={x:Ce(t,"x","log","float32")};return Ae.runKernel(zx,r)}var AX=Ze({log_:IOe});function DOe(t,e){let r=Ce(t,"base","pow"),n=Ce(e,"exp","pow");[r,n]=An(r,n);let a={a:r,b:n};return Ae.runKernel(Hx,a)}var RS=Ze({pow_:DOe});var kX={kernelName:Hx,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{let[r,n,a]=e,s=r,o=n,u=vr(s.shape,o.shape);return{a:()=>{let p=_t(o,"float32"),v=nt(t,nt(p,RS(s,Zn(p,mn(1))))),y=Fr(s.shape,u);return y.length>0&&(v=Qt(v,y)),ut(v,s.shape)},b:()=>{let p=zu(s,0),v=ms(p,AX(s),Zt(s)),y=nt(t,nt(a,v)),S=Fr(o.shape,u);return S.length>0&&(y=Qt(y,S)),ut(y,o.shape)}}}};var TX={kernelName:Kx,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{let[r,n]=e,a=zu(r,0);return{x:()=>ms(a,t,nt(t,n)),alpha:()=>{let s=ms(a,Zt(t),nt(t,r)),o=Fr(n.shape,t.shape);return o.length>0&&(s=Qt(s,o)),ut(s,n.shape)}}}};function NX(){return typeof window!="undefined"&&window.document!=null||typeof WorkerGlobalScope!="undefined"}var oo=ur();oo.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});oo.registerFlag("IS_BROWSER",()=>NX());oo.registerFlag("IS_NODE",()=>typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined");oo.registerFlag("IS_CHROME",()=>typeof navigator!="undefined"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));oo.registerFlag("PROD",()=>!1);oo.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>oo.getBool("DEBUG"));oo.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);oo.registerFlag("IS_TEST",()=>!1);oo.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>!0);oo.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);oo.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);var hI=typeof Buffer!="undefined"&&(typeof Blob=="undefined"||typeof atob=="undefined"||typeof btoa=="undefined");function IX(t){return hI?Buffer.byteLength(t):new Blob([t]).size}function DX(t){if(hI)return Buffer.from(t).toString("base64");let e=new Uint8Array(t),r="";for(let n=0,a=e.length;n<a;n++)r+=String.fromCharCode(e[n]);return btoa(r)}function OX(t){if(hI){let n=Buffer.from(t,"base64");return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}let e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;++n)r.set([e.charCodeAt(n)],n);return r.buffer}function CS(t){if(t.length===1)return t[0];let e=0;t.forEach(a=>{e+=a.byteLength});let r=new Uint8Array(e),n=0;return t.forEach(a=>{r.set(new Uint8Array(a),n),n+=a.byteLength}),r.buffer}function FS(t,e){let r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),r}function BS(t,e){return Ke(this,null,function*(){let r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){let[n,a]=yield e(t.weightsManifest);r.weightSpecs=n,r.weightData=a}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),r})}function Rf(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:IX(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:IX(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:t.weightData.byteLength}}var Rn=class{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return Rn.instance==null&&(Rn.instance=new Rn),Rn.instance}static registerSaveRouter(e){Rn.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Rn.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Rn.getHandlers(e,"save")}static getLoadHandlers(e,r){return Rn.getHandlers(e,"load",r)}static getHandlers(e,r,n){let a=[];return(r==="load"?Rn.getInstance().loadRouters:Rn.getInstance().saveRouters).forEach(o=>{let u=o(e,n);u!==null&&a.push(u)}),a}};var COe="tensorflowjs",FOe=1,zy="models_store",LS="model_info_store";function BOe(){if(!ur().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");let t=typeof window=="undefined"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function LOe(t){let e=t.result;e.createObjectStore(zy,{keyPath:"modelPath"}),e.createObjectStore(LS,{keyPath:"modelPath"})}var A0=class{constructor(e){if(this.indexedDB=BOe(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}save(e){return Ke(this,null,function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)})}load(){return Ke(this,null,function*(){return this.databaseAction(this.modelPath)})}databaseAction(e,r){return new Promise((n,a)=>{let s=this.indexedDB.open(COe,FOe);s.onupgradeneeded=()=>LOe(s),s.onsuccess=()=>{let o=s.result;if(r==null){let u=o.transaction(zy,"readonly"),h=u.objectStore(zy).get(this.modelPath);h.onsuccess=()=>{if(h.result==null)return o.close(),a(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));n(h.result.modelArtifacts)},h.onerror=p=>(o.close(),a(h.error)),u.oncomplete=()=>o.close()}else{let u=Rf(r),l=o.transaction(LS,"readwrite"),h=l.objectStore(LS),p=h.put({modelPath:this.modelPath,modelArtifactsInfo:u}),v;p.onsuccess=()=>{v=o.transaction(zy,"readwrite");let S=v.objectStore(zy).put({modelPath:this.modelPath,modelArtifacts:r,modelArtifactsInfo:u});S.onsuccess=()=>n({modelArtifactsInfo:u}),S.onerror=A=>{h=l.objectStore(LS);let T=h.delete(this.modelPath);T.onsuccess=()=>(o.close(),a(S.error)),T.onerror=I=>(o.close(),a(S.error))}},p.onerror=y=>(o.close(),a(p.error)),l.oncomplete=()=>{v==null?o.close():v.oncomplete=()=>o.close()}}},s.onerror=o=>a(s.error)})}};A0.URL_SCHEME="indexeddb://";var RX=t=>ur().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(A0.URL_SCHEME)?POe(t.slice(A0.URL_SCHEME.length)):null;Rn.registerSaveRouter(RX);Rn.registerLoadRouter(RX);function POe(t){return new A0(t)}var jy="/",Uy="tensorflowjs_models",qOe="info",$Oe="model_topology",zOe="weight_specs",jOe="weight_data",UOe="model_metadata";function VOe(t){return{info:[Uy,t,qOe].join(jy),topology:[Uy,t,$Oe].join(jy),weightSpecs:[Uy,t,zOe].join(jy),weightData:[Uy,t,jOe].join(jy),modelMetadata:[Uy,t,UOe].join(jy)}}function WOe(t){for(let e of Object.values(t))window.localStorage.removeItem(e)}var k0=class{constructor(e){if(!ur().getBool("IS_BROWSER")||typeof window=="undefined"||typeof window.localStorage=="undefined")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=VOe(this.modelPath)}save(e){return Ke(this,null,function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{let r=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),a=Rf(e);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,r),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,DX(e.weightData));let s={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(s)),{modelArtifactsInfo:a}}catch(s){throw WOe(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${a.modelTopologyBytes}, weightSpecsBytes=${a.weightSpecsBytes}, weightDataBytes=${a.weightDataBytes}.`)}}})}load(){return Ke(this,null,function*(){let e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");let r={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(n==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);r.modelTopology=n;let a=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(a==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);r.weightSpecs=a;let s=this.LS.getItem(this.keys.modelMetadata);if(s!=null){let u=JSON.parse(s);r.format=u.format,r.generatedBy=u.generatedBy,r.convertedBy=u.convertedBy,u.signature!=null&&(r.signature=u.signature),u.userDefinedMetadata!=null&&(r.userDefinedMetadata=u.userDefinedMetadata),u.modelInitializer!=null&&(r.modelInitializer=u.modelInitializer),u.trainingConfig!=null&&(r.trainingConfig=u.trainingConfig)}let o=this.LS.getItem(this.keys.weightData);if(o==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return r.weightData=OX(o),r})}};k0.URL_SCHEME="localstorage://";var CX=t=>ur().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(k0.URL_SCHEME)?GOe(t.slice(k0.URL_SCHEME.length)):null;Rn.registerSaveRouter(CX);Rn.registerLoadRouter(CX);function GOe(t){return new k0(t)}var HOe="model",KOe=".json",ZOe=".weights.bin";function FX(t){return new Promise(e=>setTimeout(e)).then(t)}var Cf=class{constructor(e){if(!ur().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Cf.URL_SCHEME)&&(e=e.slice(Cf.URL_SCHEME.length)),(e==null||e.length===0)&&(e=HOe),this.modelJsonFileName=e+KOe,this.weightDataFileName=e+ZOe}save(e){return Ke(this,null,function*(){if(typeof document=="undefined")throw new Error("Browser downloads are not supported in this environment since `document` is not present");let r=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{let n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],a=FS(e,n),s=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),o=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=s,yield FX(()=>o.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){let u=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;u.download=this.weightDataFileName,u.href=r,yield FX(()=>u.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Rf(e)}}})}};Cf.URL_SCHEME="downloads://";var JOe=t=>ur().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Cf.URL_SCHEME)?YOe(t.slice(Cf.URL_SCHEME.length)):null;Rn.registerSaveRouter(JOe);function YOe(t="model"){return new Cf(t)}function dI(t,e,r,n){o(t),r=r==null?0:r,n=n==null?1:n,u(r,n);let a=0,s=l=>(l.then(h=>{let p=r+ ++a/t.length*(n-r);return e(p),h}),l);function o(l){Ye(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function u(l,h){Ye(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),Ye(h>=0&&h<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${h}`),Ye(h>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${h}`)}return Promise.all(t.map(s))}function BX(t,e){return Ke(this,null,function*(){e==null&&(e={});let r=e.fetchFunc==null?ur().platform.fetch:e.fetchFunc,n=t.map(v=>r(v,e.requestInit,{isBinary:!0})),a=0,s=.5,u=(e.onProgress==null?yield Promise.all(n):yield dI(n,e.onProgress,a,s)).map(v=>v.arrayBuffer()),l=.5,h=1;return e.onProgress==null?yield Promise.all(u):yield dI(u,e.onProgress,l,h)})}var QOe="application/octet-stream",e5e="application/json",Vy=class{constructor(e,r){if(this.DEFAULT_METHOD="POST",r==null&&(r={}),this.weightPathPrefix=r.weightPathPrefix,this.onProgress=r.onProgress,this.weightUrlConverter=r.weightUrlConverter,r.fetchFunc!=null?(Ye(typeof r.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=r.fetchFunc):this.fetch=ur().platform.fetch,Ye(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&Ye(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,r.requestInit!=null&&r.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=r.requestInit||{}}save(e){return Ke(this,null,function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");let r=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);r.body=new FormData;let n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a=FS(e,n);r.body.append("model.json",new Blob([JSON.stringify(a)],{type:e5e}),"model.json"),e.weightData!=null&&r.body.append("model.weights.bin",new Blob([e.weightData],{type:QOe}),"model.weights.bin");let s=yield this.fetch(this.path,r);if(s.ok)return{modelArtifactsInfo:Rf(e),responses:[s]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${s.status}.`)})}load(){return Ke(this,null,function*(){let e=yield this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let r;try{r=yield e.json()}catch(s){let o=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?o+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":o+=" Please make sure the server is serving valid JSON for this request.",new Error(o)}let n=r.modelTopology,a=r.weightsManifest;if(n==null&&a==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return BS(r,s=>this.loadWeights(s))})}loadWeights(e){return Ke(this,null,function*(){let r=Array.isArray(this.path)?this.path[1]:this.path,[n,a]=t5e(r),s=this.weightPathPrefix||n,o=[];for(let p of e)o.push(...p.weights);let u=[],l=[];for(let p of e)for(let v of p.paths)this.weightUrlConverter!=null?l.push(this.weightUrlConverter(v)):u.push(s+v+a);this.weightUrlConverter&&u.push(...yield Promise.all(l));let h=yield BX(u,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[o,CS(h)]})}};Vy.URL_SCHEME_REGEX=/^https?:\/\//;function t5e(t){let e=t.lastIndexOf("/"),r=t.lastIndexOf("?"),n=t.substring(0,e),a=r>e?t.substring(r):"";return[n+"/",a]}function pI(t){return t.match(Vy.URL_SCHEME_REGEX)!=null}var LX=(t,e)=>{if(typeof fetch=="undefined"&&(e==null||e.fetchFunc==null))return null;{let r=!0;if(Array.isArray(t)?r=t.every(n=>pI(n)):r=pI(t),r)return PX(t,e)}return null};Rn.registerSaveRouter(LX);Rn.registerLoadRouter(LX);function PX(t,e){return new Vy(t,e)}function n5e(t,e){let r=t.shape.length,n=e.shape.length;if(r<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${r}.`);if(n<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${n}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[n-1]>r)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[n-1]} vs. ${r}`);if(Mn(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);let a=e.shape,s=a[a.length-1],o=1;for(let v=0;v<a.length-1;++v)o*=a[v];let u=t.shape,l=a.slice();l.pop();let h=1;for(let v=s;v<r;++v)h*=u[v],l.push(u[v]);let p=[...Vl(t.shape).map(v=>v/h),1].slice(0,s);return[l,o,h,p]}function qX(t,e,r){let n=e.rank>1?e.shape[e.rank-1]:1,a=e.rank>1?e.rank-1:1,s=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${r.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${n}, and batchDim: ${a}.`;if(r.rank<a)throw new Error(s+` update.rank < ${a}. `);if(t.length<n+(r.rank-a))throw new Error(s+` Output shape length < ${n+(r.rank-a)}`);if(r.rank!==a+t.length-n)throw new Error(s+` update.rank != ${a+t.length-n}`);for(let o=0;o<a;++o)if(r.shape[o]!==e.shape[o])throw new Error(s+` updates.shape[${o}] (${r.shape[o]}) != indices.shape[${o}] (${e.shape[o]}).`);for(let o=0;o<r.rank-a;++o)if(r.shape[o+a]!==t[o+n])throw new Error(s+` updates.shape[${o+a}] (${r.shape[o+a]}) != shape[${o+a}] (${t[o+a]})`)}function i5e(t,e,r){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(r.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${r}`);if(r.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}qX(r,e,t)}function a5e(t,e,r){let n=e.shape.length,a=n>1?e.shape[n-1]:1,s=r.length,o=1;for(let v=a;v<s;++v)o*=r[v];let u=a<1?1:a,l=Mn(e.shape)/u,h=[...Vl(r.slice(0,a)),1],p=Mn(r);return{sliceRank:a,numUpdates:l,sliceSize:o,strides:h,outputSize:p}}var gI={};Qf(gI,{assertParamsValid:()=>o5e,computeFlatOffset:()=>h5e,computeOutShape:()=>f5e,getNormalizedAxes:()=>l5e,isSliceContinous:()=>c5e,maskToAxes:()=>u5e,parseSliceParams:()=>vI,sliceInfo:()=>d5e,startForAxis:()=>HX,startIndicesWithElidedDims:()=>VX,stopForAxis:()=>KX,stopIndicesWithElidedDims:()=>WX,stridesForAxis:()=>GX,stridesWithElidedDims:()=>zX});var mI=-2,s5e=-1;function o5e(t,e,r){let n=t.shape.length;Ye(n===e.length,()=>`Error in slice${n}D: Length of begin ${e} must match the rank of the array (${n}).`),Ye(n===r.length,()=>`Error in slice${n}D: Length of size ${r} must match the rank of the array (${n}).`);for(let a=0;a<n;++a)Ye(e[a]+r[a]<=t.shape[a],()=>`Error in slice${n}D: begin[${a}] + size[${a}] (${e[a]+r[a]}) would overflow input.shape[${a}] (${t.shape[a]})`)}function u5e(t){let e=[],r=0;for(;t>0;)t&1&&e.push(r),t/=2,r++;return e}function f5e(t,e,r){let n=[];for(let a=0;a<t.length;a++)n[a]=Math.ceil((e[a]-t[a])/r[a]);return n}function zX(t,e,r,n){let a=[...t];for(let s=a.length;s<n.length;s++)a.push(1);for(let s=0;s<r;s++)s===0?a[e]=1:(a.splice(e,0,1),a.pop());return a}function jX(t,e,r){return r<=t?r:r-(e-1)}function UX(t,e){let r=[];for(let n=0;n<t;n++)r.push(e+n);return r}function l5e(t,e,r,n,a,s,o,u,l){let h=t.length,p=new Array(h),v=new Array(h),y=new Array(h);if(e.length&&r>0){let S=e[0],A=r+1;p=VX(o,S,A,n,t),v=WX(u,S,A,a,t),y=zX(s,S,A,t)}else for(let S=0;S<h;S++)p[S]=HX(o,n,s,t,S,l),v[S]=KX(u,a,s,t,S,l),y[S]=GX(s,S,l);return{begin:p,end:v,strides:y}}function VX(t,e,r,n,a){let s=[...a],o=UX(r,e);for(let u=0;u<s.length;u++)if(o.indexOf(u)>-1)s[u]=0;else{let l=jX(e,r,u),h=n[l];t&1<<l&&(h=0),s[u]=h}return s}function WX(t,e,r,n,a){let s=[...a],o=UX(r,e);for(let u=0;u<s.length;u++)if(o.indexOf(u)>-1)s[u]=Number.MAX_SAFE_INTEGER;else{let l=jX(e,r,u),h=n[l];t&1<<l&&(h=Number.MAX_SAFE_INTEGER),s[u]=h}for(let u=0;u<s.length;u++){let l=a[u];s[u]<0&&(s[u]+=l),s[u]=Ay(0,s[u],a[u])}return s}function GX(t,e,r){let n=t[e];return(r&1<<e||n==null)&&(n=1),n}function HX(t,e,r,n,a,s){let o=e[a],u=r[a]||1;(t&1<<a||s&1<<a||o==null)&&(u>0?o=Number.MIN_SAFE_INTEGER:o=Number.MAX_SAFE_INTEGER);let l=n[a];return o<0&&(o+=l),o=Ay(0,o,l-1),o}function KX(t,e,r,n,a,s){let o=e[a],u=r[a]||1;(t&1<<a||s&1<<a||o==null)&&(u>0?o=Number.MAX_SAFE_INTEGER:o=Number.MIN_SAFE_INTEGER);let l=n[a];return o<0&&(o+=l),u>0?o=Ay(0,o,l):o=Ay(-1,o,l-1),o}function c5e(t,e,r){let n=r.length;for(let a=0;a<r.length;a++)if(r[a]>1){n=a;break}for(let a=n+1;a<r.length;a++)if(e[a]>0||r[a]!==t[a])return!1;return!0}function h5e(t,e){let r=t.length>0?t[t.length-1]:1;for(let n=0;n<t.length-1;n++)r+=t[n]*e[n];return r}function vI(t,e,r){let n,a=t.shape.length;typeof e=="number"?n=[e,...new Array(a-1).fill(0)]:e.length<a?n=e.concat(new Array(a-e.length).fill(0)):n=e.slice(),n.forEach(o=>{Ye(o!==-1,()=>"slice() does not support negative begin indexing.")});let s;return r==null?s=new Array(a).fill(-1):typeof r=="number"?s=[r,...new Array(a-1).fill(-1)]:r.length<a?s=r.concat(new Array(a-r.length).fill(-1)):s=r,s=s.map((o,u)=>o>=0?o:(Ye(o===-1,()=>`Negative size values should be exactly -1 but got ${o} for the slice() size at index ${u}.`),t.shape[u]-n[u])),[n,s]}function d5e(t,e,r,n,a,s,o,u,l){let h;if(n==null?(h=new Array(e.length),h.fill(1)):h=n,o!=null&&(o&o-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");let p=!1,v={dims:h.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:r.slice(),strides:h.slice(),beginMask:a,endMask:s,ellipsisMask:o,newAxisMask:u,shrinkAxisMask:l};for(let C=0;C<v.dims;C++)p&&(1<<C&u)!==0&&v.numAddAxisAfterEllipsis++,1<<C&o&&(p=!0);p||(v.ellipsisMask|=1<<v.dims,v.dims++);let y={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};p5e(v,y);let S=!0,A=!0,T=!0,I=[],N=[];for(let C=0;C<t.length;++C){if(y.strides[C]===0)throw Error(`strides[${C}] must be non-zero`);let L=!!(y.shrinkAxisMask&1<<C),z=t[C];if(z===-1){I.push(L?1:-1);continue}let $=[y.beginMask&1<<C,y.endMask&1<<C],G=[y.strides[C]>0?0:-1,y.strides[C]>0?z:z-1];if(L&&y.strides[C]<=0)throw Error("only stride 1 allowed on non-range indexing.");T=T&&y.strides[C]===1;let j=!!(y.beginMask&1<<C&&y.endMask&1<<C);if(y.beginValid&&y.endValid){if(L){let d=y.begin[C]<0?z+y.begin[C]:y.begin[C];if(y.begin[C]=d,y.end[C]=y.begin[C]+1,d<0||d>=z)throw Error(`slice index ${y.begin[C]} of dimension ${C} out of bounds.`)}else y.begin[C]=$X(y.begin[C],0,y.strides[C],z,$,G),y.end[C]=$X(y.end[C],1,y.strides[C],z,$,G);let f=y.strides[C]===1&&y.begin[C]===0&&y.end[C]===z;S=S&&f,A=A&&(C===0&&y.strides[C]===1||f)}else S=S&&y.strides[C]===1&&j,A=A&&(C===0&&y.strides[C]===1||j);let Z,M=!1;if(y.beginValid&&y.endValid?(Z=y.end[C]-y.begin[C],M=!0):L?(Z=1,M=!0):j&&z>=0&&(y.strides[C]<0?Z=-z:Z=z,M=!0),M){let f;Z===0||Z<0!=y.strides[C]<0?f=0:f=Math.trunc(Z/y.strides[C])+(Z%y.strides[C]!==0?1:0),I.push(f)}else I.push(-1)}for(let C=0;C<y.finalShapeGatherIndices.length;++C){let L=y.finalShapeGatherIndices[C];L>=0?N.push(I[L]):L===mI&&N.push(1)}return{finalShapeSparse:N.filter((C,L)=>y.finalShapeGatherIndices[L]!==mI),finalShape:N,isIdentity:S,sliceDim0:A,isSimpleSlice:T,begin:y.begin,end:y.end,strides:y.strides}}function p5e(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let r=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let n=0;n<t.dims;n++)if(1<<n&t.ellipsisMask){let a=Math.min(e.dims-(t.dims-n)+1+t.numAddAxisAfterEllipsis,e.dims);for(;r<a;r++)e.begin[r]=0,e.end[r]=0,e.strides[r]=1,e.beginMask|=1<<r,e.endMask|=1<<r,e.finalShapeGatherIndices.push(r),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[r]=n}else if(1<<n&t.newAxisMask)e.finalShapeGatherIndices.push(mI),e.finalShapeGatherIndicesSparse.push(-1);else{if(r===e.begin.length)throw Error(`Index out of range using input dim ${r}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[r]=t.begin[n]),t.end!=null&&(e.end[r]=t.end[n]),e.strides[r]=t.strides[n],t.beginMask&1<<n&&(e.beginMask|=1<<r),t.endMask&1<<n&&(e.endMask|=1<<r),t.shrinkAxisMask&1<<n?(e.finalShapeGatherIndices.push(s5e),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<r):(e.finalShapeGatherIndices.push(r),e.finalShapeGatherIndicesSparse.push(n)),e.inputShapeGatherIndicesSparse[r]=n,r++}}function $X(t,e,r,n,a,s){if(a[e])return r>0?s[e]:s[e+1&1];{let o=t<0?n+t:t;return o<s[0]?s[0]:o>s[1]?s[1]:o}}function m5e(t,e=0){Ye(t.length>=1,()=>"Pass at least one tensor to concat");let r=ES(t,"tensors","concat","string_or_numeric");if(r[0].dtype==="complex64"&&r.forEach(s=>{if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${s.dtype}. `)}),r.length===1)return TS(r[0]);let n=r,a={axis:e};return Ae.runKernel(Ax,n,a)}var ZX=Ze({concat_:m5e});function v5e(t){let r={x:Ce(t,"x","sigmoid","float32")};return Ae.runKernel(iS,r)}var PS=Ze({sigmoid_:v5e});function g5e(t,e,r){let n=Ce(t,"x","batchToSpaceND"),a=e.reduce((u,l)=>u*l);Ye(n.rank>=1+e.length,()=>`input rank is ${n.rank} but should be > than blockShape.length ${e.length}`),Ye(r.length===e.length,()=>`crops.length is ${r.length} but should be equal to blockShape.length  ${e.length}`),Ye(n.shape[0]%a===0,()=>`input tensor batch is ${n.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${a}`);let s={x:n},o={blockShape:e,crops:r};return Ae.runKernel(Mx,s,o)}var JX=Ze({batchToSpaceND_:g5e});function y5e(t){let r={x:Ce(t,"x","cos","float32")};return Ae.runKernel(Nx,r)}var qS=Ze({cos_:y5e});function b5e(t){let r={x:Ce(t,"x","cosh","float32")};return Ae.runKernel(Ix,r)}var YX=Ze({cosh_:b5e});function w5e(t,e=0,r=!1,n=!1){let s={x:Ce(t,"x","cumprod")},o={axis:e,exclusive:r,reverse:n};return Ae.runKernel(vZ,s,o)}var yI=Ze({cumprod_:w5e});function _5e(t){let r={x:Ce(t,"x","elu","float32")};return Ae.runKernel(Rx,r)}var XX=Ze({elu_:_5e});function x5e(t,e=0){let r=Ce(t,"x","expandDims","string_or_numeric");Ye(e<=r.rank,()=>"Axis must be <= rank of the tensor");let n={input:r},a={dim:e};return Ae.runKernel(Fx,n,a)}var QX=Ze({expandDims_:x5e});function S5e(t,e,r=0,n=0){let a=Ce(t,"x","gather"),s=Ce(e,"indices","gather","int32"),o={x:a,indices:s},u={axis:r,batchDims:n};return Ae.runKernel(Px,o,u)}var eQ=Ze({gather_:S5e});function E5e(t,e=.2){let n={x:Ce(t,"x","leakyRelu")},a={alpha:e};return Ae.runKernel($x,n,a)}var tQ=Ze({leakyRelu_:E5e});function M5e(t){let r={x:Ce(t,"x","logicalNot","bool")};return Ae.runKernel(LZ,r)}var rQ=Ze({logicalNot_:M5e});function A5e(t,e){let r=Ce(t,"a","maximum"),n=Ce(e,"b","maximum");[r,n]=An(r,n),r.dtype==="bool"&&(r=_t(r,"int32"),n=_t(n,"int32")),vr(r.shape,n.shape);let a={a:r,b:n};return Ae.runKernel(jx,a)}var nQ=Ze({maximum_:A5e});function k5e(t,e,r=0){let n=Ce(t,"x","pad");if(n.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");let a={paddings:e,constantValue:r},s={x:n};return Ae.runKernel(Gx,s,a)}var iQ=Ze({pad_:k5e});function T5e(t,e){let r=Ce(t,"x","prelu"),n=Ce(e,"alpha","prelu"),a={x:r,alpha:n};return Ae.runKernel(Kx,a)}var aQ=Ze({prelu_:T5e});function N5e(t){let r={x:Ce(t,"x","relu")};return Ae.runKernel(Zx,r)}var sQ=Ze({relu_:N5e});function I5e(t){let r={x:Ce(t,"x","relu6")};return Ae.runKernel(Yx,r)}var oQ=Ze({relu6_:I5e});function D5e(t,e){let n={x:Ce(t,"x","reverse")},a={dims:e};return Ae.runKernel(Xx,n,a)}var uQ=Ze({reverse_:D5e});function O5e(t,e=0){let r=ES(t,"tensors","stack","string_or_numeric");Ye(r.length>=1,()=>"Pass at least one tensor to tf.stack"),r.length>0&&Ye(e<=r[0].rank,()=>"Axis must be <= rank of the tensor");let n=r,a={axis:e};return Ae.runKernel(Wx,n,a)}var fQ=Ze({stack_:O5e});function R5e(t,e,r){if(r==null||r==="linear")return t;if(r==="relu")return nt(t,Gl(e));throw new Error(`Cannot compute gradient for fused activation ${r}.`)}function C5e(t,e){let r=e,n=Fr(t.shape,e.shape);return n.length>0&&(r=Qt(r,n)),ut(r,t.shape)}function F5e(t,e,r,n){if(e==="linear")return t;if(e==="relu")return sQ(t);if(e==="elu")return XX(t);if(e==="relu6")return oQ(t);if(e==="prelu")return aQ(t,r);if(e==="leakyrelu")return tQ(t,n);if(e==="sigmoid")return PS(t);throw new Error(`Unknown fused activation ${e}.`)}var B5e=(t,e)=>!(t>0)||e==="linear";var Wy={};Qf(Wy,{ERF_A1:()=>H5e,ERF_A2:()=>K5e,ERF_A3:()=>Z5e,ERF_A4:()=>J5e,ERF_A5:()=>Y5e,ERF_P:()=>G5e,PARALLELIZE_THRESHOLD:()=>$S,SELU_SCALE:()=>wI,SELU_SCALEALPHA:()=>bI,applyActivation:()=>F5e,assertAndGetBroadcastShape:()=>vr,assertAxesAreInnerMostDims:()=>oOe,assertParamsConsistent:()=>L5e,assignToTypedArray:()=>nRe,axesAreInnerMostDims:()=>oI,calculateShapes:()=>a5e,checkEinsumDimSizes:()=>fRe,checkPadOnDimRoundingMode:()=>Na,combineLocations:()=>MY,complexWithEvenIndex:()=>eRe,complexWithOddIndex:()=>tRe,computeConv2DInfo:()=>aI,computeConv3DInfo:()=>XJ,computeDefaultPad:()=>sI,computeDilation2DInfo:()=>B8e,computeOptimalWindowSize:()=>q5e,computeOutAndReduceShapes:()=>uI,computeOutShape:()=>P5e,computePool2DInfo:()=>L8e,computePool3DInfo:()=>P8e,convertConv2DDataFormat:()=>QJ,decodeEinsumEquation:()=>oRe,eitherStridesOrDilationsAreOne:()=>qy,expandShapeToKeepDim:()=>DS,exponent:()=>aRe,exponents:()=>iRe,fromStringArrayToUint8:()=>IRe,fromUint8ToStringArray:()=>NRe,getAxesPermutation:()=>fI,getBroadcastDims:()=>D8e,getComplexWithIndex:()=>rRe,getEinsumComputePath:()=>lRe,getEinsumPermutation:()=>uRe,getFusedBiasGradient:()=>C5e,getFusedDyActivation:()=>R5e,getImageCenter:()=>$5e,getInnerMostAxes:()=>uOe,getPermuted:()=>j5e,getReductionAxes:()=>Fr,getReshaped:()=>z5e,getReshapedPermuted:()=>U5e,getSliceBeginCoords:()=>V5e,getSliceSize:()=>W5e,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>pRe,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>mRe,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>vRe,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>bRe,getSparseReshapeInputOutputMismatchErrorMessage:()=>_Re,getSparseReshapeInputOutputMultipleErrorMessage:()=>wRe,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>gRe,getSparseReshapeNegativeOutputDimErrorMessage:()=>yRe,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>MRe,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>xRe,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>SRe,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>ERe,getUndoAxesPermutation:()=>$y,isIdentityPermutation:()=>cRe,log:()=>u8e,mergeRealAndImagArrays:()=>X5e,prepareAndValidate:()=>n5e,prepareSplitSize:()=>dRe,segment_util:()=>xI,shouldFuse:()=>B5e,slice_util:()=>gI,splitRealAndImagArrays:()=>Q5e,tupleValuesAreOne:()=>If,upcastType:()=>xS,validateInput:()=>i5e,validateUpdateShape:()=>qX,warn:()=>Nf});function L5e(t,e){let r=t[0].length;t.forEach((a,s)=>{Ye(a.length===r,()=>`Error in concat${r}D: rank of tensors[${s}] must be the same as the rank of the rest (${r})`)}),Ye(e>=0&&e<r,()=>`Error in concat${r}D: axis must be between 0 and ${r-1}.`);let n=t[0];t.forEach((a,s)=>{for(let o=0;o<r;o++)Ye(o===e||a[o]===n[o],()=>`Error in concat${r}D: Shape of tensors[${s}] (${a}) does not match the shape of the rest (${n}) along the non-concatenated axis ${s}.`)})}function P5e(t,e){let r=t[0].slice();for(let n=1;n<t.length;n++)r[e]+=t[n][e];return r}var $S=30;function q5e(t){return t<=$S?t:Iy(t,Math.floor(Math.sqrt(t)))}function $5e(t,e,r){let n=r*(typeof t=="number"?t:t[0]),a=e*(typeof t=="number"?t:t[1]);return[n,a]}function z5e(t,e,r,n=!0){let a=[];if(n)a=a.concat(e.slice(0)),a.push(t[0]/r),a=a.concat(t.slice(1));else{a=a.concat(t[0]);let s=e.length;for(let o=0;o<s;++o)a=a.concat([t[o+1]/e[o],e[o]]);a=a.concat(t.slice(s+1))}return a}function j5e(t,e,r=!0){let n=[];if(r){n.push(e);for(let a=e+1;a<t;++a)a<=2*e?(n.push(a),n.push(a-(e+1))):n.push(a)}else{let a=[],s=[];for(let o=1;o<t;++o)o>=e*2+1||o%2===1?s.push(o):a.push(o);n.push(...a),n.push(0),n.push(...s)}return n}function U5e(t,e,r,n=!0){let a=[];n?a.push(t[0]/r):a.push(t[0]*r);for(let s=1;s<t.length;++s)s<=e.length?n?a.push(e[s-1]*t[s]):a.push(t[s]/e[s-1]):a.push(t[s]);return a}function V5e(t,e){let r=[0];for(let n=0;n<e;++n)r.push(t[n][0]);return r}function W5e(t,e,r){let n=t.slice(0,1);for(let a=0;a<r;++a)n.push(t[a+1]-e[a][0]-e[a][1]);return n}var bI=1.7580993408473768,wI=1.0507009873554805;var G5e=.3275911,H5e=.254829592,K5e=-.284496736,Z5e=1.421413741,J5e=-1.453152027,Y5e=1.061405429;function X5e(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);let r=new Float32Array(t.length*2);for(let n=0;n<r.length;n+=2)r[n]=t[n/2],r[n+1]=e[n/2];return r}function Q5e(t){let e=new Float32Array(t.length/2),r=new Float32Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n/2]=t[n],r[n/2]=t[n+1];return{real:e,imag:r}}function eRe(t){let e=Math.ceil(t.length/4),r=new Float32Array(e),n=new Float32Array(e);for(let a=0;a<t.length;a+=4)r[Math.floor(a/4)]=t[a],n[Math.floor(a/4)]=t[a+1];return{real:r,imag:n}}function tRe(t){let e=Math.floor(t.length/4),r=new Float32Array(e),n=new Float32Array(e);for(let a=2;a<t.length;a+=4)r[Math.floor(a/4)]=t[a],n[Math.floor(a/4)]=t[a+1];return{real:r,imag:n}}function rRe(t,e){let r=t[e*2],n=t[e*2+1];return{real:r,imag:n}}function nRe(t,e,r,n){t[n*2]=e,t[n*2+1]=r}function iRe(t,e){let r=new Float32Array(t/2),n=new Float32Array(t/2);for(let a=0;a<Math.ceil(t/2);a++){let s=(e?2:-2)*Math.PI*(a/t);r[a]=Math.cos(s),n[a]=Math.sin(s)}return{real:r,imag:n}}function aRe(t,e,r){let n=(r?2:-2)*Math.PI*(t/e),a=Math.cos(n),s=Math.sin(n);return{real:a,imag:s}}var _I="->",sRe=/->/g,lQ=",",cQ="...";function oRe(t,e){t=t.replace(/\s/g,"");let r=(t.length-t.replace(sRe,"").length)/_I.length;if(r<1)throw new Error("Equations without an arrow are not supported.");if(r>1)throw new Error(`Equation must contain exactly one arrow ("${_I}").`);let[n,a]=t.split(_I);Ye(n.indexOf(cQ)===-1,()=>`The ellipsis notation ("${cQ}") is not supported yet.`);let s=n.split(lQ),o=s.length;if(e!==o)throw new Error(`Expected ${o} input tensors, received ${e}`);if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");let u=[];for(let y=0;y<a.length;++y){let S=a[y];if(!s.some(A=>A.indexOf(S)!==-1))throw new Error(`Output subscripts contain the label ${S} not present in the input subscripts.`);u.indexOf(S)===-1&&u.push(S)}for(let y=0;y<n.length;++y){let S=n[y];u.indexOf(S)===-1&&S!==lQ&&u.push(S)}let l=new Array(s.length);for(let y=0;y<o;++y){if(new Set(s[y].split("")).size!==s[y].length)throw new Error(`Found duplicate axes in input component ${s[y]}. Support for duplicate axes in input is not implemented yet.`);l[y]=[];for(let S=0;S<s[y].length;++S)l[y].push(u.indexOf(s[y][S]))}let h=u.length,p=a.length,v=[];for(let y=p;y<h;++y)v.push(y);return{allDims:u,summedDims:v,idDims:l}}function uRe(t,e){let r=new Array(t);r.fill(-1);for(let a=0;a<e.length;++a)r[e[a]]=a;let n=[];for(let a=0;a<t;++a)r[a]===-1&&n.push(a);return r=r.filter(a=>a!==-1),{permutationIndices:r,expandDims:n}}function fRe(t,e,r){let n=new Array(t);for(let a=0;a<r.length;++a){let s=r[a].shape;for(let o=0;o<e[a].length;++o)n[e[a][o]]===void 0?n[e[a][o]]=s[o]:Ye(n[e[a][o]]===s[o],()=>`Expected dimension ${n[e[a][o]]} at axis ${o} of input shaped ${JSON.stringify(s)}, but got dimension ${s[o]}`)}}function lRe(t,e){let r=t,n=[],a=0;t.length===0&&r.push(-1),a=t.length+1;for(let o=0;o<a;++o)n.push([]);let s=[];for(let o=0;o<r.length;++o){let u=r[o],l=hRe(e,u);for(let h of l)s.indexOf(h)===-1&&(n[o].push(h),s.push(h))}return{path:r,steps:n}}function cRe(t){return t.every((e,r)=>e===r)}function hRe(t,e){let r=[];for(let n=0;n<t.length;++n)(t[n].length===0||t[n].indexOf(e)!==-1||e===-1)&&r.push(n);return r}function dRe(t,e,r=0){let n=[];if(typeof e=="number")Ye(t.shape[r]%e===0,()=>"Number of splits must evenly divide the axis."),n=new Array(e).fill(t.shape[r]/e);else{let a=e.reduce((o,u)=>(u===-1&&(o+=1),o),0);Ye(a<=1,()=>"There should be only one negative value in split array.");let s=e.indexOf(-1);if(s!==-1){let o=e.reduce((u,l)=>l>0?u+l:u);e[s]=t.shape[r]-o}Ye(t.shape[r]===e.reduce((o,u)=>o+u),()=>"The sum of sizes must match the size of the axis dimension."),n=e}return n}function pRe(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function mRe(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function vRe(t,e,r){return`indices(${t}, 0) is invalid: ${e} >= ${r}`}function gRe(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function yRe(t,e){return`size ${t} must be non-negative, not ${e}`}function bRe(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function wRe(t,e){let r=Mn(t),n=Mn(e);return`Input to reshape is a SparseTensor with ${r}
  dense values, but the requested shape requires a multiple of ${n}. inputShape=${t} outputShape= ${e}`}function _Re(t,e){let r=Mn(t),n=Mn(e);return`Input to reshape is a tensor with ${r} dense values, but the requested shape has ${n}. inputShape=${t} outputShape=${e}`}function xRe(){return"segment ids must be >= 0"}function SRe(){return"segment ids are not increasing"}function ERe(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function MRe(t,e,r){return`Bad: indices[${t}] == ${e} out of range [0, ${r})`}var xI={};Qf(xI,{collectGatherOpShapeInfo:()=>TRe,computeOutShape:()=>kRe,segOpComputeOptimalWindowSize:()=>ARe});function ARe(t,e){let r=!1,n;for(t<=$S?(n=t,r=!0):n=Iy(t,Math.floor(Math.sqrt(t)));!r;)n>e||n===t?r=!0:n=Iy(t,n+1);return n}function kRe(t,e,r){let n=[],a=t.length;for(let s=0;s<a;s++)s!==e?n.push(t[s]):n.push(r);return n}function TRe(t,e,r,n){let a=e.shape.length,s=t.shape.length;if(n!==0&&(n<-a||n>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${n}`);if(n<0&&(n+=a),n>s)throw new Error(`batchDims (${n}) must be less than rank(x) (
    ${s}).`);if(r<n)throw new Error(`batchDims (${n}) must be less than or equal to axis (${r}).`);for(let v=0;v<n;++v)if(t.shape[v]!==e.shape[v])throw new Error(`x.shape[${v}]: ${t.shape[v]} should be equal to indices.shape[${v}]: ${e.shape[v]}.`);let o=t.shape[r],u=[],l=1,h=1,p=1;for(let v=0;v<n;++v)u.push(t.shape[v]),l*=t.shape[v];for(let v=n;v<r;v++)u.push(t.shape[v]),h*=t.shape[v];for(let v=n;v<a;v++)u.push(e.shape[v]);for(let v=r+1;v<s;v++)u.push(t.shape[v]),p*=t.shape[v];return{batchSize:l,sliceSize:p,outerSize:h,dimSize:o,outputShape:u}}function NRe(t){try{return t.map(e=>Ry(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function IRe(t){return t.map(e=>bS(e))}function DRe(t,e,r){let n=t.shape.slice();n[r]=1;let a=ut(e,n),s=yI(t,r,!0,!1),o=yI(t,r,!0,!0),u=nt(s,o);return nt(a,u)}function ORe(t,e,r){let n=t.shape.length,a=n-r.length,s=Wy.getAxesPermutation(r,n),o=t;s!=null&&(o=$u(t,s));let u=o.shape.slice(),h=u.splice(n-r.length,r.length).reduce((y,S)=>y*S,1);u.push(h);let p=o.reshape(u),v=DRe(p,e,a);if(v=v.reshape(o.shape),s!=null){let y=Wy.getUndoAxesPermutation(s);v=$u(v,y)}return v}var hQ={kernelName:QZ,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{axis:a}=r,s=[];return a==null?s=n.shape.map((o,u)=>u):typeof a=="number"?s=[a]:s=a,{x:()=>ORe(n,t,s)}}};var dQ={kernelName:Ox,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=vr(r.shape,n.shape);return{a:()=>{let u=fr(t,_t(n,"float32")),l=Fr(r.shape,a);return l.length>0?ut(Qt(u,l),r.shape):u},b:()=>{let u=nt(t,_t(r,"float32")),l=Fr(n.shape,a);l.length>0&&(u=ut(Qt(u,l),n.shape));let h=en(n);return Ln(fr(u,_t(h,"float32")))}}}};var pQ={kernelName:tJ,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>fr(t,Ln(en(r)))}}};var mQ={kernelName:Yx,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e,n=nt(S0(r,6),Gl(r));return{x:()=>nt(t,_t(n,"float32"))}}};var vQ={kernelName:Zx,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>nt(t,_t(Gl(r),"float32"))}}};var gQ={kernelName:Jx,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>ut(t,r.shape)}}};var yQ={kernelName:iJ,inputsToSave:["images"],gradFunc:(t,e,r)=>{let[n]=e,a={dy:t,images:n};return{images:()=>Ae.runKernel(aJ,a,r)}}};var bQ={kernelName:rJ,inputsToSave:["images"],gradFunc:(t,e,r)=>{let[n]=e,a={dy:t,images:n};return{images:()=>Ae.runKernel(nJ,a,r)}}};var wQ={kernelName:Xx,gradFunc:(t,e,r)=>{let{dims:n}=r,a=Ka(n,t.shape);return{x:()=>uQ(t,a)}}};var _Q={kernelName:sJ,gradFunc:t=>({x:()=>Zt(t)})};var xQ={kernelName:Qx,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Ln(fr(t,nt(RS(r,1.5),2)))}}};var SQ={kernelName:eS,inputsToSave:["condition"],gradFunc:(t,e)=>{let[r]=e;return{condition:()=>_t(Zt(r),"float32"),t:()=>nt(t,_t(r,t.dtype)),e:()=>nt(t,_t(rQ(r),t.dtype))}}};var EQ={kernelName:oJ,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>{let n=zu(r,mn(0)),a=mn(bI),s=mn(wI),o=nt(t,s),u=nt(nt(t,a),Hl(_t(r,"float32")));return ms(n,o,u)}}}};var MQ={kernelName:iS,outputsToSave:[!0],gradFunc:(t,e)=>{let[r]=e;return{x:()=>nt(t,nt(r,Zn(mn(1),r)))}}};var AQ={kernelName:uJ,gradFunc:t=>({x:()=>Zt(t)})};var kQ={kernelName:rS,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>nt(qS(_t(r,"float32")),t)}}};var TQ={kernelName:nS,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>nt(YX(_t(r,"float32")),t)}}};var NQ={kernelName:tS,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{begin:a,size:s}=r,o=n.shape,[u,l]=vI(n,a,s),h=[];for(let p=0;p<t.rank;p++)h.push([u[p],o[p]-u[p]-l[p]]);return{x:()=>iQ(t,h)}}};var IQ={kernelName:lJ,outputsToSave:[!0],gradFunc:(t,e,r)=>{let[n]=e,{dim:a}=r,s=!0,o=nt(t,n);return{logits:()=>Zn(o,nt(Qt(o,[a],s),n))}}};var DQ={kernelName:fJ,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>nt(t,PS(r))}}};var SI={kernelName:oS,gradFunc:(t,e,r)=>{let{blockShape:n,paddings:a}=r;return{x:()=>JX(t,n,a)}}};var EI={kernelName:uS,gradFunc:(t,e,r)=>{let{axis:n}=r;return{x:()=>ZX(t,n)}}};var OQ={kernelName:aS,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>fr(t,nt(qu(_t(r,"float32")),2))}}};var RQ={kernelName:hJ,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>nt(t,nt(_t(r,"float32"),2))}}};var CQ={kernelName:cJ,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=mn(2);return{a:()=>nt(t,nt(a,Zn(r,n))),b:()=>nt(t,nt(a,Zn(n,r)))}}};var FQ={kernelName:dS,gradFunc:t=>({x:()=>Zt(t)})};var BQ={kernelName:fS,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=vr(r.shape,n.shape);return{a:()=>{let u=t,l=Fr(r.shape,a);return l.length>0&&(u=Qt(u,l)),ut(u,r.shape)},b:()=>{let u=t,l=Fr(n.shape,a);return l.length>0&&(u=Qt(u,l)),ut(Ln(u),n.shape)}}}};var LQ={kernelName:sS,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,a=n.shape.slice(),{axis:s}=r;Ka(s,n.shape).forEach(h=>{a[h]=1});let u=ut(t,a),l=nt(u,Wh(n.shape,"float32"));return{x:()=>l}}};var PQ={kernelName:dJ,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>fr(t,en(qS(r)))}}};var qQ={kernelName:pJ,outputsToSave:[!0],gradFunc:(t,e)=>{let[r]=e;return{x:()=>nt(Zn(mn(1),en(r)),t)}}};var $Q={kernelName:m0,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{reps:a}=r;return{x:()=>{let o=Zt(n);if(n.rank===1)for(let u=0;u<a[0];++u)o=_a(o,Of(t,[u*n.shape[0]],[n.shape[0]]));else if(n.rank===2)for(let u=0;u<a[0];++u)for(let l=0;l<a[1];++l)o=_a(o,Of(t,[u*n.shape[0],l*n.shape[1]],[n.shape[0],n.shape[1]]));else if(n.rank===3)for(let u=0;u<a[0];++u)for(let l=0;l<a[1];++l)for(let h=0;h<a[2];++h)o=_a(o,Of(t,[u*n.shape[0],l*n.shape[1],h*n.shape[2]],[n.shape[0],n.shape[1],n.shape[2]]));else if(n.rank===4)for(let u=0;u<a[0];++u)for(let l=0;l<a[1];++l)for(let h=0;h<a[2];++h)for(let p=0;p<a[3];++p)o=_a(o,Of(t,[u*n.shape[0],l*n.shape[1],h*n.shape[2],p*n.shape[3]],[n.shape[0],n.shape[1],n.shape[2],n.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${n.rank} tensors yet.`);return o}}}};var zQ={kernelName:v0,gradFunc:(t,e,r)=>{let n=r,{perm:a}=n,s=$y(a);return{x:()=>$u(t,s)}}};var jQ={kernelName:lS,gradFunc:(t,e,r)=>{let n=r,{axis:a}=n;return{value:()=>fQ(t,a)}}};var UQ={kernelName:cS,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>RRe(t,r)}}};function RRe(t,e){let r=nQ(e,Zt(e)),n=eQ(t,r),a=x0(e,mn(0,"int32")),s=n.rank-a.rank;for(let u=0;u<s;++u)a=QX(a,u+1);a=kS(a,Wh(n.shape,"bool"));let o=Zt(n);return ms(a,n,o)}var VQ={kernelName:hS,gradFunc:t=>({x:()=>Zt(t)})};var CRe=[MS,zJ,jJ,UJ,VJ,WJ,GJ,HJ,KJ,ZJ,JJ,YJ,tY,nY,iY,sY,oY,uY,fY,lY,cY,dY,gY,mY,wY,xY,EY,DY,CY,FY,dQ,BY,LY,PY,qY,$Y,jY,zY,WY,ZY,JY,YY,XY,QY,eX,tX,rX,nX,iX,sX,lI,lI,fX,cX,dX,pX,mX,vX,gX,bX,wX,_X,xX,SX,MX,cI,cI,kX,TX,hQ,pQ,mQ,vQ,gQ,yQ,bQ,wQ,_Q,xQ,SQ,EQ,MQ,AQ,kQ,TQ,NQ,IQ,DQ,SI,SI,EI,EI,OQ,CQ,RQ,FQ,BQ,LQ,PQ,qQ,$Q,zQ,jQ,UQ,VQ];for(let t of CRe)AJ(t);var Pn=lt(kt()),uo=lt(kt());function MI(t,e){return(0,uo.tidy)(()=>Pn.sqrt(Pn.sum(Pn.mul(t,t),e,!0)))}var Gh=class extends uo.serialization.Serializable{getConfig(){return{}}},Gy=class extends Gh{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return(0,uo.tidy)(()=>{let r=MI(e,this.axis),n=Pn.clipByValue(r,0,this.maxValue);return Pn.mul(e,Pn.div(n,Pn.add(Kn(),r)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}};Gy.className="MaxNorm";uo.serialization.registerClass(Gy);var Hy=class extends Gh{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return(0,uo.tidy)(()=>Pn.div(e,Pn.add(Kn(),MI(e,this.axis))))}getConfig(){return{axis:this.axis}}};Hy.className="UnitNorm";uo.serialization.registerClass(Hy);var Ky=class extends Gh{apply(e){return Pn.relu(e)}};Ky.className="NonNeg";uo.serialization.registerClass(Ky);var Zy=class extends Gh{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return(0,uo.tidy)(()=>{let r=MI(e,this.axis),n=Pn.add(Pn.mul(this.rate,Pn.clipByValue(r,this.minValue,this.maxValue)),Pn.mul(1-this.rate,r));return Pn.mul(e,Pn.div(n,Pn.add(Kn(),r)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}};Zy.className="MinMaxNorm";uo.serialization.registerClass(Zy);var WQ={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function vn(t){return Xp(t)}function GQ(t,e={}){return Bu(t,uo.serialization.SerializationMap.getMap().classNameMap,e,"constraint")}function gn(t){if(t==null)return null;if(typeof t=="string"){let r={className:t in WQ?WQ[t]:t,config:{}};return GQ(r)}else return t instanceof Gh?t:GQ(t)}var DE={};Qf(DE,{Layer:()=>Dt,RNN:()=>Oa,RNNCell:()=>qf,activation:()=>GCe,add:()=>tFe,alphaDropout:()=>PFe,average:()=>rFe,averagePooling1d:()=>$I,averagePooling2d:()=>zI,averagePooling3d:()=>jI,avgPool1d:()=>cFe,avgPool2d:()=>dFe,avgPool3d:()=>mFe,avgPooling1d:()=>hFe,avgPooling2d:()=>pFe,avgPooling3d:()=>vFe,batchNormalization:()=>uFe,bidirectional:()=>IFe,concatenate:()=>nFe,conv1d:()=>LCe,conv2d:()=>PCe,conv2dTranspose:()=>qCe,conv3d:()=>$Ce,conv3dTranspose:()=>zCe,convLstm2d:()=>AFe,convLstm2dCell:()=>kFe,cropping2D:()=>UCe,dense:()=>HCe,depthwiseConv2d:()=>WCe,dot:()=>oFe,dropout:()=>KCe,elu:()=>DCe,embedding:()=>eFe,flatten:()=>JCe,gaussianDropout:()=>LFe,gaussianNoise:()=>BFe,globalAveragePooling1d:()=>gFe,globalAveragePooling2d:()=>yFe,globalMaxPool1d:()=>OFe,globalMaxPool2d:()=>RFe,globalMaxPooling1d:()=>wee,globalMaxPooling2d:()=>_ee,gru:()=>wFe,gruCell:()=>_Fe,input:()=>CI,inputLayer:()=>ICe,layerNormalization:()=>fFe,leakyReLU:()=>RCe,lstm:()=>xFe,lstmCell:()=>SFe,masking:()=>qFe,maxPool1d:()=>CFe,maxPool2d:()=>FFe,maxPooling1d:()=>xee,maxPooling2d:()=>See,maxPooling3d:()=>bFe,maximum:()=>iFe,minimum:()=>aFe,multiply:()=>sFe,permute:()=>QCe,prelu:()=>CCe,reLU:()=>OCe,repeatVector:()=>YCe,reshape:()=>XCe,rnn:()=>TFe,separableConv2d:()=>jCe,simpleRNN:()=>EFe,simpleRNNCell:()=>MFe,softmax:()=>FCe,spatialDropout1d:()=>ZCe,stackedRNNCells:()=>NFe,thresholdedReLU:()=>BCe,timeDistributed:()=>DFe,upSampling2d:()=>VCe,zeroPadding2d:()=>lFe});var zi=lt(kt());var HQ=lt(kt());function Ff(t){return Ke(this,null,function*(){if(t==null)return;let e=[],r=[],n=[];for(let a in t){let s=t[a];if(typeof s!="number"){let o=s;e.push(o.data()),r.push(a),n.push(o)}}if(e.length>0){let a=yield Promise.all(e);for(let s=0;s<a.length;++s)t[r[s]]=a[s][0];(0,HQ.dispose)(n)}})}function zS(t){if(t!=null)for(let e in t){let r=t[e];typeof r!="number"&&r.dispose()}}var KQ;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(KQ||(KQ={}));var LRe=125,Kl=class{constructor(){this.validationData=null}setParams(e){this.params=e}onEpochBegin(e,r){return Ke(this,null,function*(){})}onEpochEnd(e,r){return Ke(this,null,function*(){})}onBatchBegin(e,r){return Ke(this,null,function*(){})}onBatchEnd(e,r){return Ke(this,null,function*(){})}onTrainBegin(e){return Ke(this,null,function*(){})}onTrainEnd(e){return Ke(this,null,function*(){})}setModel(e){}},jS=class{constructor(e,r=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=r}append(e){this.callbacks.push(e)}setParams(e){for(let r of this.callbacks)r.setParams(e)}setModel(e){for(let r of this.callbacks)r.setModel(e)}onEpochBegin(e,r){return Ke(this,null,function*(){r==null&&(r={});for(let n of this.callbacks)yield n.onEpochBegin(e,r)})}onEpochEnd(e,r){return Ke(this,null,function*(){r==null&&(r={});for(let n of this.callbacks)yield n.onEpochEnd(e,r)})}onBatchBegin(e,r){return Ke(this,null,function*(){r==null&&(r={});for(let n of this.callbacks)yield n.onBatchBegin(e,r)})}onBatchEnd(e,r){return Ke(this,null,function*(){r==null&&(r={});for(let n of this.callbacks)yield n.onBatchEnd(e,r)})}onTrainBegin(e){return Ke(this,null,function*(){e==null&&(e={});for(let r of this.callbacks)yield r.onTrainBegin(e)})}onTrainEnd(e){return Ke(this,null,function*(){e==null&&(e={});for(let r of this.callbacks)yield r.onTrainEnd(e)})}},AI=class extends Kl{constructor(){super()}onEpochBegin(e){return Ke(this,null,function*(){this.seen=0,this.totals={}})}onBatchEnd(e,r){return Ke(this,null,function*(){r==null&&(r={});let n=r.size==null?0:r.size;this.seen+=n;for(let a in r){let s=r[a];if(typeof s=="number")this.totals.hasOwnProperty(a)||(this.totals[a]=0),this.totals[a]=this.totals[a]+s*n;else{let o;a in this.totals?o=this.totals[a]:this.totals[a]=0;let u=(0,zi.tidy)(()=>(0,zi.add)(this.totals[a],(0,zi.mul)(s,n)));this.totals[a]=u,o!=null&&o.dispose()}}})}onEpochEnd(e,r){return Ke(this,null,function*(){if(r!=null)for(let n of this.params.metrics)this.totals[n]!=null&&(typeof this.totals[n]=="number"?r[n]=this.totals[n]/this.seen:(0,zi.tidy)(()=>{let a=(0,zi.mul)((0,zi.div)(1,this.seen),this.totals[n]);r[n]=a,this.totals[n].dispose(),(0,zi.keep)(r[n])}))})}},US=class extends Kl{onTrainBegin(e){return Ke(this,null,function*(){this.epoch=[],this.history={}})}onEpochEnd(e,r){return Ke(this,null,function*(){r==null&&(r={}),this.epoch.push(e);for(let n in r)this.history[n]==null&&(this.history[n]=[]),this.history[n].push(r[n])})}syncData(){return Ke(this,null,function*(){let e=[],r=[],n=[];for(let s in this.history){let o=this.history[s];for(let u=0;u<o.length;++u)if(typeof o[u]!="number"){let l=o[u];e.push(l.data()),r.push(s),n.push(u)}}let a=yield Promise.all(e);for(let s=0;s<a.length;++s)this.history[r[s]][n[s]].dispose(),this.history[r[s]][n[s]]=a[s][0]})}},VS=class extends Kl{constructor(e,r){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||zi.nextFrame,this.yieldEvery=r||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=LRe),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");zi.util.isNumber(this.yieldEvery)&&(this.maybeWait=bK(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}maybeWait(e,r,n){return Ke(this,null,function*(){let a=[];this.yield!=null&&(yield Ff(n),a.push(this.yield(e,r,n))),a.push(this.nextFrameFunc()),yield Promise.all(a)})}onEpochBegin(e,r){return Ke(this,null,function*(){this.currentEpoch=e,this.epochBegin!=null&&(yield Ff(r),yield this.epochBegin(e,r))})}onEpochEnd(e,r){return Ke(this,null,function*(){let n=[];this.epochEnd!=null&&(yield Ff(r),n.push(this.epochEnd(e,r))),this.yieldEvery==="epoch"&&n.push(this.nextFrameFunc()),yield Promise.all(n)})}onBatchBegin(e,r){return Ke(this,null,function*(){this.batchBegin!=null&&(yield Ff(r),yield this.batchBegin(e,r))})}onBatchEnd(e,r){return Ke(this,null,function*(){let n=[];this.batchEnd!=null&&(yield Ff(r),n.push(this.batchEnd(e,r))),this.yieldEvery==="batch"?n.push(this.nextFrameFunc()):zi.util.isNumber(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,r)),yield Promise.all(n)})}onTrainBegin(e){return Ke(this,null,function*(){this.trainBegin!=null&&(yield Ff(e),yield this.trainBegin(e))})}onTrainEnd(e){return Ke(this,null,function*(){this.trainEnd!=null&&(yield Ff(e),yield this.trainEnd(e))})}};function WS(t,e){return t==null&&(t={}),t instanceof Kl?[t]:Array.isArray(t)&&t[0]instanceof Kl?t:Ar(t).map(n=>new VS(n,e))}var Ia=class{constructor(){}static registerCallbackConstructor(e,r){zi.util.assert(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),Ia.checkForDuplicate(r),Ia.constructors[e]==null&&(Ia.constructors[e]=[]),Ia.constructors[e].push(r)}static checkForDuplicate(e){for(let r in Ia.constructors)Ia.constructors[+r].forEach(a=>{if(a===e)throw new ce("Duplicate callback constructor.")})}static clear(){Ia.constructors={}}static createCallbacks(e){let r=[];for(let n in Ia.constructors){let a=+n;e>=a&&r.push(...Ia.constructors[a])}return r.map(n=>new n)}};Ia.constructors={};function GS(t,e,r,n,a,s,o,u,l){let h=new US,p=[new AI,...Ia.createCallbacks(e)];t!=null&&p.push(...t),p.push(h);let v=new jS(p);return v.setParams({epochs:r,initialEpoch:n,samples:a,steps:s,batchSize:o,verbose:e,doValidation:u,metrics:l}),{callbackList:v,history:h}}var tn=lt(kt()),Ti=lt(kt());var ZQ=lt(kt());function Za(t,e={},r=!1){return Bu(t,ZQ.serialization.SerializationMap.getMap().classNameMap,e,"layer",r)}var tt=lt(kt()),ki=lt(kt());function Jy(t,e){return(0,ki.tidy)(()=>{t.dtype!=="float32"&&(t=tt.cast(t,"float32"));let r=tt.sum(qh(t),e,!0),n=tt.fill(r.shape,Kn()),a=tt.sqrt(tt.maximum(r,n));return tt.div(t,a)})}function Hh(t,e){return(0,ki.tidy)(()=>tt.mean(qh(tt.sub(e,t)),-1))}function Xy(t,e){return(0,ki.tidy)(()=>tt.mean(tt.abs(tt.sub(e,t)),-1))}function Qy(t,e){return(0,ki.tidy)(()=>{let r=tt.sub(t,e),n=tt.clipByValue(tt.abs(t),Kn(),Number.MAX_VALUE),a=tt.abs(tt.div(r,n));return tt.mul(100,tt.mean(a,-1))})}function PRe(t,e){return(0,ki.tidy)(()=>{let r=tt.clipByValue(e,Kn(),Number.MAX_VALUE),n=tt.log(tt.add(1,r)),a=tt.clipByValue(t,Kn(),Number.MAX_VALUE),s=tt.log(tt.add(1,a));return tt.mean(qh(tt.sub(n,s)),-1)})}function qRe(t,e){return(0,ki.tidy)(()=>{let r=tt.maximum(0,tt.sub(1,tt.mul(t,e)));return tt.mean(qh(r),-1)})}function $Re(t,e){return(0,ki.tidy)(()=>{let r=tt.maximum(0,tt.sub(1,tt.mul(t,e)));return tt.mean(r,-1)})}function zRe(t,e){return(0,ki.tidy)(()=>{let r=tt.sum(tt.mul(t,e),-1),n=tt.max(tt.mul(tt.sub(1,t),e),-1);return tt.maximum(0,tt.add(1,tt.sub(n,r)))})}function jRe(t,e){return(0,ki.tidy)(()=>{let r=Math.log(2),n=tt.sub(e,t),a=tt.sub(tt.add(n,tt.softplus(tt.mul(-2,n))),r);return tt.mean(a,-1)})}function Kh(t,e,r=!1){return(0,ki.tidy)(()=>{if(r)e=tt.softmax(e);else{let n=tt.sum(e,e.shape.length-1,!0);e=tt.div(e,n)}return e=tt.clipByValue(e,Kn(),1-Kn()),tt.neg(tt.sum(tt.mul(tt.cast(t,"float32"),tt.log(e)),e.shape.length-1))})}function T0(t,e,r=!1){return(0,ki.tidy)(()=>{let n=tt.cast(tt.floor(DK(t)),"int32");e=tt.clipByValue(e,Kn(),1-Kn());let a=e.shape,s=tt.reshape(tt.oneHot(n,a[a.length-1]),a);return Kh(s,e,r)})}function URe(t,e){if(!ki.util.arraysEqual(t.shape,e.shape))throw new ce(`logits and labels must have the same shape, but got shapes ${JSON.stringify(t.shape)} and ${JSON.stringify(e.shape)}`);return(0,ki.tidy)(()=>{let r=tt.relu(e),n=tt.neg(tt.abs(e));return tt.add(tt.sub(r,tt.mul(e,t)),tt.log1p(tt.exp(n)))})}function N0(t,e){return(0,ki.tidy)(()=>{let r;return r=tt.clipByValue(e,Kn(),1-Kn()),r=tt.log(tt.div(r,tt.sub(1,r))),tt.mean(URe(t,r),-1)})}function VRe(t,e){return(0,ki.tidy)(()=>{let r=tt.clipByValue(t,Kn(),1),n=tt.clipByValue(e,Kn(),1);return tt.sum(tt.mul(t,tt.log(tt.div(r,n))),-1)})}function WRe(t,e){return(0,ki.tidy)(()=>{let r=tt.log(tt.add(Kn(),e));return tt.mean(tt.sub(e,tt.mul(t,r)),-1)})}function HS(t,e){return(0,ki.tidy)(()=>{let r=Jy(t,-1),n=Jy(e,-1),a=tt.mul(r,n);return tt.neg(tt.sum(a,-1))})}var Yy={meanSquaredError:Hh,meanAbsoluteError:Xy,meanAbsolutePercentageError:Qy,meanSquaredLogarithmicError:PRe,squaredHinge:qRe,hinge:$Re,categoricalHinge:zRe,logcosh:jRe,categoricalCrossentropy:Kh,sparseCategoricalCrossentropy:T0,binaryCrossentropy:N0,kullbackLeiblerDivergence:VRe,poisson:WRe,cosineProximity:HS};function KS(t){if(typeof t=="string"){if(t in Yy)return Yy[t];let e=`Unknown loss ${t}`;throw t.toLowerCase().includes("softmaxcrossentropy")&&(e=`Unknown loss ${t}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new ce(e)}else return t}var Ut=lt(kt()),I0=lt(kt());function JS(t,e){return(0,I0.tidy)(()=>{let r=Ut.mul(.5,Ut.onesLike(e)),n=Ph(Ut.greater(e,r),t.dtype);return Ut.mean(Ut.equal(t,n),-1)})}function YS(t,e){return(0,I0.tidy)(()=>Ph(Ut.equal(Ut.argMax(t,-1),Ut.argMax(e,-1)),"float32"))}function GRe(t,e){return(0,I0.tidy)(()=>Ut.cast(Ut.sum(Ut.logicalAnd(Ut.equal(t,1),Ut.equal(e,1))),"float32"))}function HRe(t,e){return(0,I0.tidy)(()=>Ut.cast(Ut.sum(Ut.logicalAnd(Ut.equal(t,0),Ut.equal(e,1))),"float32"))}function YQ(t,e){return(0,I0.tidy)(()=>{let r=GRe(t,e),n=HRe(t,e),a=Ut.add(r,n);return Ut.cast(Ut.where(Ut.greater(a,0),Ut.div(r,a),0),"float32")})}function kI(t,e){return N0(t,e)}function TI(t,e){return t.rank===e.rank&&(t=Ut.squeeze(t,[t.rank-1])),e=Ut.argMax(e,-1),e.dtype!==t.dtype&&(e=Ut.cast(e,t.dtype)),Ut.cast(Ut.equal(t,e),"float32")}var KRe=Hh,ZRe=Hh,JRe=Xy,YRe=Xy,XRe=Qy,QRe=Qy,XS=Kh,eCe=HS,NI=T0,ZS={binaryAccuracy:JS,categoricalAccuracy:YS,precision:YQ,categoricalCrossentropy:XS,sparseCategoricalCrossentropy:NI,mse:KRe,MSE:ZRe,mae:JRe,MAE:YRe,mape:XRe,MAPE:QRe,cosine:eCe};function XQ(t){if(typeof t=="string"&&t in ZS)return ZS[t];if(typeof t!="string"&&t!=null)return t;throw new ce(`Unknown metric ${t}`)}function e1(t){if(hs(t!==null,`Unknown LossOrMetricFn ${t}`),typeof t=="string")return t;{let e;for(let r of Object.keys(Yy))if(Yy[r]===t){e=r;break}if(e!==void 0)return e;for(let r of Object.keys(ZS))if(ZS[r]===t){e=r;break}return e!==void 0?e:t.name}}var Zh=lt(kt());function eee(t){let e={Adagrad:()=>Zh.train.adagrad(.01),Adadelta:()=>Zh.train.adadelta(1,.95,Kn()),Adam:()=>Zh.train.adam(.001,.9,.999,Kn()),Adamax:()=>Zh.train.adamax(.002,.9,.999,Kn(),0),RMSProp:()=>Zh.train.rmsprop(.001,.9,0,Kn()),SGD:()=>Zh.train.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new ce(`Unknown Optimizer ${t}`)}function DI(t,e,r=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!II(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(r){let n=JSON.stringify(t);n.length>1048576&&console.warn(`User-defined metadata of model "${e}" is too large in size (length=${n.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${1048576}.`)}}function II(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){let e=Object.keys(t);for(let r of e)if(typeof r!="string"||!II(t[r]))return!1;return!0}else if(Array.isArray(t)){for(let e of t)if(!II(e))return!1;return!0}else return!1;else{let e=typeof t;return e==="string"||e==="number"||e==="boolean"}}function tee(t,e,r,n=console.log){let a=nCe(t),s=["Layer (type)","Input Shape","Output shape","Param #"];a?(e=e||90,r=r||[.32,.61,.89,1]):(e=e||115,r=r||[.24,.48,.7,.8,1]),r[r.length-1]<=1&&(r=r.map(p=>Math.floor(e*p)));let o;if(!a){s.push("Receives inputs"),o=[];for(let p in t.nodesByDepth)o.push(...t.nodesByDepth[p])}n("_".repeat(e)),QS(s,r,n),n("=".repeat(e));let u=t.layers;for(let p=0;p<u.length;++p)a?iCe(u[p],r,n):aCe(u[p],r,o,n),n((p===u.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();let l=rCe(t),h=f0(t.nonTrainableWeights);n(`Total params: ${l+h}`),n(`Trainable params: ${l}`),n(`Non-trainable params: ${h}`),n("_".repeat(e))}function rCe(t){let e;return t.collectedTrainableWeights!=null?e=f0(t.collectedTrainableWeights):e=f0(t.trainableWeights),e}function nCe(t){let e=!0,r=[],n=[];for(let a in t.nodesByDepth)r.push(t.nodesByDepth[a]);for(let a of r){if(a.length>1||a.length===1&&a[0].inboundLayers.length>1){e=!1;break}n.push(...a)}if(e)for(let a of t.layers){let s=!1;for(let o of a.inboundNodes)if(n.indexOf(o)!==-1)if(s){e=!1;break}else s=!0;if(!e)break}return e}function QS(t,e,r=console.log){let n="";for(let a=0;a<t.length;++a)a>0&&(n=n.slice(0,n.length-1)+" "),n+=t[a],n=n.slice(0,e[a]),n+=" ".repeat(e[a]-n.length);r(n)}function iCe(t,e,r){let n,a;try{a=t.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch(l){a="multiple"}try{n=JSON.stringify(t.outputShape)}catch(l){n="multiple"}let s=t.name,o=t.getClassName(),u=[`${s} (${o})`,a,n,t.countParams().toString()];QS(u,e,r)}function aCe(t,e,r,n){let a,s;try{s=t.inboundNodes.map(v=>JSON.stringify(v.inputShapes)).join(",")}catch(v){s="multiple"}try{a=JSON.stringify(t.outputShape)}catch(v){a="multiple"}let o=[];for(let v of t.inboundNodes)if(!(r!=null&&r.length>0&&r.indexOf(v)===-1))for(let y=0;y<v.inboundLayers.length;++y){let S=v.inboundLayers[y].name,A=v.nodeIndices[y],T=v.tensorIndices[y];o.push(`${S}[${A}][${T}]`)}let u=t.name,l=t.getClassName(),h=o.length===0?"":o[0],p=[`${u} (${l})`,s,a,t.countParams().toString(),h];QS(p,e,n);for(let v=1;v<o.length;++v)QS(["","","","",o[v]],e,n)}function ree(t,e,r){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof r=="string"}function t1(t,e){if(t===null)return null;if(typeof t=="string")return Ef(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){let r=[],n=t.length;for(let a=0;a<n;++a){let s=t[a];ree(e,a,s)?r.push(s):r.push(t1(s,e))}return r}else{let r={};for(let n of Object.keys(t)){let a=t[n];if(n==="name"&&typeof a=="string")r[n]=a;else{let s=Ef(n);r[s]=t1(a,s)}}return r}}function eE(t,e){if(t==null)return null;if(typeof t=="string")return to(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){let r=[],n=t.length;for(let a=0;a<n;++a){let s=t[a];ree(e,a,s)?r.push(s):r.push(eE(s,e))}return r}else{let r={};for(let n of Object.keys(t)){let a=t[n],s=to(n);(n==="name"||n==="className")&&typeof a=="string"?r[s]=a:r[s]=eE(a,n)}return r}}var r1="3.19.0";var n1=lt(kt());var Ja=class extends Dt{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){let D=this.getClassName().toLowerCase();this.name=jl(D)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],ro(this.inputs).length!==this.inputs.length)throw new ce(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(D=>D.name)}`);ro(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(D=>D.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(let D of this.outputs){let C=D.sourceLayer,L=D.nodeIndex,z=D.tensorIndex;this.outputLayers.push(C),this.outputLayersNodeIndices.push(L),this.outputLayersTensorIndices.push(z)}for(let D of this.inputs){let C=D.sourceLayer,L=D.nodeIndex,z=D.tensorIndex;hs(L===0,"input layer has >1 nodes"),hs(z===0,"input layer has >1 tensors"),this.inputLayers.push(C),this.inputLayersNodeIndices.push(L),this.inputLayersTensorIndices.push(z)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let D=0;D<this.inputLayers.length;D++){let C=this.inputLayers[D];if(!(C instanceof Zo))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${D} (0-based) originates from layer type ${C.getClassName()}.`);this.inputNames.push(C.name),this.feedInputShapes.push(C.batchInputShape),this.feedInputNames.push(C.name)}for(let D of this.outputLayers)this.outputNames.push(D.name);this.internalInputShapes=this.inputs.map(D=>D.shape),this.internalOutputShapes=this.outputs.map(D=>D.shape);let r={},n={},a={},s={},o={},u=[],l=(D,C,L,z,$,G)=>{(z==null||$==null||G==null)&&(z=D.sourceLayer,$=D.nodeIndex,G=D.tensorIndex);let j=z.inboundNodes[$];if(L.indexOf(j)!==-1)throw new qi(`The tensor ${D.name} at layer "${z.name}" is part of a cycle.`);if(C.indexOf(j)!==-1)return;this.containerNodes.add(Ja.nodeKey(z,$)),z.id in o||(o[z.id]=Object.keys(o).length),L.indexOf(j)===-1&&L.push(j);let Z=j.inboundLayers.length;for(let M=0;M<Z;M++){let f=j.inputTensors[M],d=j.inboundLayers[M],g=j.nodeIndices[M],m=j.tensorIndices[M];l(f,C,L,d,g,m)}for(C.push(j);L.indexOf(j)>=0;)L.splice(L.indexOf(j),1);u.push(j)},h=[],p=[];for(let D of this.outputs)l(D,h,p);let v=u.slice().reverse();for(let D of v){n[D.id]=D,D.id in r||(r[D.id]=0);let C=r[D.id],L=a[D.outboundLayer.id]==null?0:a[D.outboundLayer.id];C=Math.max(C,L),a[D.outboundLayer.id]=C,s[D.outboundLayer.id]=D.outboundLayer,r[D.id]=C;for(let z=0;z<D.inboundLayers.length;z++){let $=D.inboundLayers[z],G=D.nodeIndices[z],j=$.inboundNodes[G],Z=r[j.id]==null?0:r[j.id];r[j.id]=Math.max(C+1,Z),n[j.id]=j}}let y={};for(let D in r){let C=r[D];C in y||(y[C]=[]),y[C].push(n[D])}let S={};for(let D in a){let C=a[D];C in S||(S[C]=[]),S[C].push(s[D])}let A=Object.keys(S).map(D=>parseInt(D,10)).sort(py);this.layers=[];for(let D of A){let C=S[D];C.sort((L,z)=>{let $=o[L.id],G=o[z.id];return $<G?-1:$>G?1:0});for(let L of C)L instanceof Ja&&this.internalContainerRefs.push(L),this.layers.push(L)}this.layersByDepth=S,A=Object.keys(y).map(D=>parseInt(D,10)).sort(py);let T=this.inputs.slice(),I=[];for(let D of A)for(let C of y[D]){let L=C.outboundLayer;if(L!=null){for(let z of C.inputTensors)if(T.indexOf(z)===-1)throw new qi(`Graph disconnected: cannot obtain value for tensor ${z} at layer "${L.name}". The following previous layers were accessed without issue: ${I}`);for(let z of C.outputTensors)T.push(z);I.push(L.name)}}this.nodesByDepth=y;let N=this.layers.map(D=>D.name);for(let D of N){let C=N.filter(L=>L===D).length;if(C!==1)throw new qi(`The name "${D}" is used ${C} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(N))}this.outboundNodes=[],this.inboundNodes=[],new kf({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(D=>null),outputMasks:this.outputs.map(D=>null),inputShapes:this.inputs.map(D=>D.shape),outputShapes:this.outputs.map(D=>D.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();let e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(let r of this.layers)e.numDisposedVariables+=r.dispose().numDisposedVariables;for(let r of this.internalContainerRefs)e.numDisposedVariables+=r.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(r=>{r._trainableWeights.forEach(n=>n.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new ce("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(let r of this.layers)e=e.concat(r.trainableWeights);return e}get nonTrainableWeights(){let e=[];for(let r of this.layers)e.push(...r.nonTrainableWeights);if(!this.trainable){let r=[];for(let n of this.layers)r.push(...n.trainableWeights);return r.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,r=!0){let n={},a=0;for(let o of this.layers)for(let u of o.weights){if(n[u.originalName]!=null)throw new ce(`Duplicate weight name: ${u.originalName}`);n[u.originalName]=u,a++}let s=[];for(let o in e){let u=o;if(n[o]==null){let l=o.split("/");u=l.slice(0,-2).concat([l[l.length-1]]).join("/")}if(n[u]!=null)s.push([n[u],e[o]]);else if(r)throw new ce(`Provided weight data has no target variable: ${o}`);delete n[u]}if(r){let o=[];for(let u in n)o.push(u);if(o.length>0)throw new ce(`${o.length} of ${a} weights are not set: ${o}`)}l0(s)}updatedConfig(){let e=this.getConfig(),r={};return r.className=this.getClassName(),r.config=e,r.kerasVersion=`tfjs-layers ${r1}`,r.backend="TensorFlow.js",r}toJSON(e,r=!0){let n=eE(this.updatedConfig());return r?JSON.stringify(n):n}call(e,r){return(0,n1.tidy)(()=>{e=Ar(e);let n=new so;for(let a=0;a<this.inputs.length;++a)n.add(this.inputs[a],e[a]);return zh(this.outputs,n,r)})}computeMask(e,r){return(0,n1.tidy)(()=>{e=Ar(e);let n;return r==null?n=eo(null,e.length):n=Ar(r),this.runInternalGraph(e,n)[1]})}computeOutputShape(e){let r=u0(e);if(r.length!==this.inputLayers.length)throw new ce(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);let n={};for(let u=0;u<r.length;u++){let l=this.inputLayers[u],h=r[u],p=l.name+"_0_0";n[p]=h}let a=Object.keys(this.nodesByDepth).map(u=>parseInt(u,10)).sort(py);if(a.length>1)for(let u of a){let l=this.nodesByDepth[u];for(let h of l){let p=h.outboundLayer;if(this.inputLayers.map(T=>T.id).indexOf(p.id)!==-1)continue;let v=[];for(let T=0;T<h.inboundLayers.length;T++){let I=h.inboundLayers[T],N=h.nodeIndices[T],D=h.tensorIndices[T],C=`${I.name}_${N}_${D}`,L=n[C];v.push(L)}let y=p.computeOutputShape(_i(v)),S=u0(y),A=p.inboundNodes.indexOf(h);for(let T=0;T<S.length;T++){let I=`${p.name}_${A}_${T}`;n[I]=S[T]}}}let s=[],o=[];for(let u=0;u<this.outputLayers.length;u++){let l=this.outputLayers[u],h=this.outputLayersNodeIndices[u],p=this.outputLayersTensorIndices[u],v=`${l.name}_${h}_${p}`;o.push(v)}for(let u=0;u<o.length;u++){let l=o[u];hs(l in n),s.push(n[l])}return _i(s)}runInternalGraph(e,r){r==null&&(r=eo(null,e.length));let n={};for(let l=0;l<this.inputs.length;++l){let h=this.inputs[l],p=e[l],v=r[l];n[h.id]=[p,v]}let a=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(py);for(let l of a){let h=this.nodesByDepth[l];for(let p of h){let v=p.outboundLayer,y=p.inputTensors,S=p.outputTensors,A=new Array;for(let T of y)T.id in n&&A.push(n[T.id]);if(A.length===y.length){let T={},I,N,D,C;if(p.callArgs!=null&&(T=p.callArgs),A.length===1){let[L,z]=A[0];T.mask==null&&(T.mask=z),D=Ar(v.call(L,T)),C=Ar(v.computeMask(L,z)),I=[L],N=[z]}else I=A.map(L=>L[0]),N=A.map(L=>L[1]),T.mask==null&&(T.mask=N),D=Ar(v.call(I,T)),C=Ar(v.computeMask(I,N));if(v.activityRegularizer)throw new St("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let L=0;L<S.length;++L){let z=S[L],$=D[L],G=C[L];n[z.id]=[$,G]}}}}let s=[],o=[],u=[];for(let l of this.outputs){hs(l.id in n,`Could not compute output ${l.name} : ${l.id}`);let[h,p]=n[l.id];u.push(h.shape),s.push(h),o.push(p)}return[s,o,u]}buildNodeConversionMap(e){let r={},n;for(let a of this.layers){n=a instanceof Ja?1:0;for(let s=0;s<a.inboundNodes.length;s++){let o=Ja.nodeKey(a,s);this.containerNodes.has(o)&&(r[o]=n,n+=1)}}return r}getLayer(e,r){if(r!=null){if(this.layers.length<=r)throw new ce(`Was asked to retrieve layer at index ${r}, but model only has ${this.layers.length} layer(s).`);return this.layers[r]}else if(e==null)throw new ce("Provide either a layer name or layer index");for(let n of this.layers)if(n.name===e)return n;throw new ce(`No such layer: ${e}`)}calculateLosses(){return(0,n1.tidy)(()=>{let e=[];for(let r of this.layers)for(let n=0;n<r.inboundNodes.length;++n){let a=Ja.nodeKey(r,n);this.containerNodes.has(a)&&e.push(...r.calculateLosses())}return e})}getConfig(){let e={name:this.name},r=this.buildNodeConversionMap(this.layers),n=[];for(let o of this.layers){let u=o.getClassName(),l=o.getConfig(),h=[];for(let v=0;v<o.inboundNodes.length;v++){let y=o.inboundNodes[v],S=Ja.nodeKey(o,v),A={};if(this.containerNodes.has(S)){if(y.callArgs)try{JSON.stringify(y.callArgs),A=y.callArgs}catch(T){console.warn(`Layer ${o.name} was passed non-serializable keyword arguments: ${y.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),A={}}if(y.inboundLayers.length>0){let T=[];for(let I=0;I<y.inboundLayers.length;I++){let N=y.inboundLayers[I],D=y.nodeIndices[I],C=y.tensorIndices[I],L=Ja.nodeKey(N,D),z=r[L];z==null&&(z=0),T.push([N.name,z,C,A])}h.push(T)}}}let p={};p.name=o.name,p.className=u,p.config=l,p.inboundNodes=h,n.push(p)}e.layers=n;let a=[];for(let o=0;o<this.inputLayers.length;o++){let u=this.inputLayers[o],l=this.inputLayersNodeIndices[o],h=Ja.nodeKey(u,l);if(!this.containerNodes.has(h))continue;let p=r[h];p==null&&(p=0);let v=this.inputLayersTensorIndices[o];a.push([u.name,p,v])}e.inputLayers=a;let s=[];for(let o=0;o<this.outputLayers.length;o++){let u=this.outputLayers[o],l=this.outputLayersNodeIndices[o],h=Ja.nodeKey(u,l);if(!this.containerNodes.has(h))continue;let p=r[h];p==null&&(p=0);let v=this.outputLayersTensorIndices[o];s.push([u.name,p,v])}return e.outputLayers=s,e}static fromConfig(e,r,n={},a=!1){let s={},o={};function u(I,N){I.name in o?o[I.name].push(N):o[I.name]=[N]}function l(I,N){let D=[],C;for(let L of N){let z=L[0],$=L[1],G=L[2];if(C=L[3]==null?{}:L[3],!(z in s)){u(I,N);return}let j=s[z];if(j.inboundNodes.length<=$){u(I,N);return}let Z=j.inboundNodes[$];D.push(Z.outputTensors[G])}D.length>0&&I.apply(_i(D),C)}function h(I){let N=I.name,D=Za(I,r.customObjects!=null?r.customObjects:{});D.setFastWeightInitDuringBuild(a),s[N]=D,I.inboundNodes.forEach(L=>{if(!(L instanceof Array))throw new ce(`Corrupted configuration, expected array for nodeData: ${L}`);u(D,L)})}let p=r.name,v=r.layers;for(let I of v)h(I);for(;!gK(o);)for(let I of v){let N=s[I.name];if(N.name in o){let D=o[N.name];delete o[N.name];for(let C of D)l(N,C)}}let y=[],S=[],A=r.inputLayers;for(let I of A){let N=I[0],D=I[1],C=I[2];hs(N in s);let z=s[N].inboundNodes[D].outputTensors;y.push(z[C])}let T=r.outputLayers;for(let I of T){let N=I[0],D=I[1],C=I[2];hs(N in s);let z=s[N].inboundNodes[D].outputTensors;S.push(z[C])}return new e({inputs:y,outputs:S,name:p})}get stateful(){if(this._stateful)throw new ce("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(let e of this.layers)if(e.stateful)return!0;return!1}resetStates(){(0,n1.tidy)(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}};var gr=lt(kt()),see=lt(kt());var Ya=lt(kt());function sCe(t,e,r){let n=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(a=>null);if(n===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==n)throw new Error(`Provided ${r} is an array of ${t.length} element(s), but the model has ${n} outputs. Make sure a set of weights is provided for each model output.`);return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){let a=[];return e.forEach(s=>{s in t?a.push(t[s]):a.push(null)}),a}else throw new Error(`The model has multiple (${n}) outputs, so ${r} must be either an array with ${n} elements or an object with ${e} keys. Provided ${r} not understood: ${JSON.stringify(t)}`)}function tE(t,e){return sCe(t,e,"classWeight")}function rE(t,e,r,n){return Ke(this,null,function*(){if(e!=null||n!=null)throw new Error("Support sampleWeight is not implemented yet");if(r!=null){let a=(0,Ya.tidy)(()=>{if(t.shape.length===1)return(0,Ya.clone)(t);if(t.shape.length===2){if(t.shape[1]>1)return(0,Ya.argMax)(t,1);if(t.shape[1]===1)return(0,Ya.reshape)(t,[t.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${t.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${t.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),s=Array.from(yield a.data());(0,Ya.dispose)(a);let o=[];return s.forEach(u=>{if(r[u]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${u} exists in the data but not in classWeight`);o.push(r[u])}),(0,Ya.tensor1d)(o,"float32")}else return null})}function nee(t,e){return(0,Ya.mul)(t,e)}var oCe=32;function oee(t,e){let r,n,a=e;r=a.xs,n=a.ys,gr.util.assert(r!=null&&n!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${e}`);let s=iee("input",t.inputNames,r),o=iee("output",t.outputNames,n),u=s[0].shape[0];gr.util.assert(s.length===t.inputs.length,()=>`LayersModel has ${t.inputs.length} inputs, but the dataset provides ${s.length} inputs.  (Expected input keys: ${JSON.stringify(t.inputNames)})`),gr.util.assert(o.length===t.outputs.length,()=>`LayersModel has ${t.outputs.length} outputs, but the dataset provides ${o.length} outputs.  (Expected output keys: ${JSON.stringify(t.outputNames)})`);for(let l=0;l<s.length;l++)gr.util.assert(s[l].shape[0]===u,()=>`Batch size mismatch: input ${t.inputNames[l]} has ${s[l].shape[0]}; expected  ${u} based on input ${t.inputNames[0]}.`);for(let l=0;l<o.length;l++)gr.util.assert(o[l].shape[0]===u,()=>`Batch size mismatch: output ${t.outputNames[l]} has ${o[l].shape[0]}; expected  ${u} based on input ${t.inputNames[0]}.`);return{xs:s,ys:o}}function iee(t,e,r){if(r instanceof gr.Tensor)return[r];if(Array.isArray(r))return gr.util.assert(r.length===e.length,()=>`Received an array of ${r.length} Tensors, but expected ${e.length} to match the ${t} keys ${e}.`),r;{let n=[];for(let a of e){if(r[a]==null)throw new ce(`The feature data generated by the dataset lacks the required ${t} key '${a}'.`);n.push(r[a])}return n}}function uCe(t){if(t.length===3)throw new St("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}function uee(t,e,r){return Ke(this,null,function*(){let n=r.batchesPerEpoch!=null;if(gr.util.assert(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),gr.util.assert(r!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),gr.util.assert(r.epochs!=null&&r.epochs>0&&Number.isInteger(r.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${r.epochs}`),gr.util.assert(!n||r.batchesPerEpoch>0&&Number.isInteger(r.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${r.batchesPerEpoch}`),gr.util.assert(r.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{let a=r.validationData!=null,s,o;if(a)if(aee(r.validationData))gr.util.assert(r.validationBatches==null||r.validationBatches>0&&Number.isInteger(r.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${r.validationBatches}`);else{let I=uCe(r.validationData);s=I.xs,o=I.ys}let u=t.makeTrainFunction(),l=t.getDedupedMetricsNames(),h;a?h=l.slice().concat(l.map(I=>"val_"+I)):h=l.slice();let p=WS(r.callbacks,r.yieldEvery),v=r.verbose==null?1:r.verbose,{callbackList:y,history:S}=GS(p,v,r.epochs,null,null,fCe(e,r),null,a,h);y.setModel(t),t.history=S,yield y.onTrainBegin(),t.stopTraining_=!1;let A=r.initialEpoch==null?0:r.initialEpoch,T=yield e.iterator();for(;A<r.epochs;){let I={};yield y.onEpochBegin(A);let N=0,D=0;for(n||(T=yield e.iterator());!n||N<r.batchesPerEpoch;){let C=yield T.next();if(n&&C.done){console.warn(`You provided \`batchesPerEpoch\` as ${r.batchesPerEpoch}, but your dataset iterator ran out of data after ${N} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${r.batchesPerEpoch*r.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(C.value!=null){let{xs:L,ys:z}=oee(t,C.value),$={};$.batch=D,$.size=L[0].shape[0],yield y.onBatchBegin(D,$);let G=[];if(r.classWeight!=null){let M=tE(r.classWeight,t.outputNames);for(let f=0;f<M.length;++f)G.push(yield rE(z[f],null,M[f]))}let j=L.concat(z).concat(G),Z=u(j);gr.dispose(j);for(let M=0;M<l.length;++M){let f=l[M],d=Z[M];$[f]=d,gr.keep(d)}yield y.onBatchEnd(D,$),zS($),D++,N++}if(n?N>=r.batchesPerEpoch:C.done){if(a){let L;aee(r.validationData)?L=Ar(yield t.evaluateDataset(r.validationData,{batches:r.validationBatches})):L=Ar(t.evaluate(s,o,{batchSize:r.validationBatchSize==null?oCe:r.validationBatchSize,verbose:0}));for(let z=0;z<t.metricsNames.length;++z)I[`val_${t.metricsNames[z]}`]=L[z]}break}if(t.stopTraining_)break}if(yield y.onEpochEnd(A,I),A++,t.stopTraining_)break}return yield y.onTrainEnd(),yield t.history.syncData(),t.history}finally{t.isTraining=!1}})}function fCe(t,e){let r=null;return e.batchesPerEpoch!=null?r=e.batchesPerEpoch:Number.isFinite(t.size)&&(r=t.size),r}function aee(t){return typeof t.iterator=="function"}function lCe(t){return typeof t.next=="function"}function fee(t,e,r){return Ke(this,null,function*(){r=r||{};let n=r.batches!=null,a=t.testFunction,s=[];if(r.verbose>0)throw new St("Verbose mode is not implemented yet.");gr.util.assert(!n||r.batches>0&&Number.isInteger(r.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(r.batches)}`);let o=lCe(e)?e:yield e.iterator(),u=0,l=0;for(;!n||l<r.batches;){let h=yield o.next();if(s=gr.tidy(()=>{if(h.value){let{xs:p,ys:v}=oee(t,h.value),y=p.concat(v),S=gr.tidy(()=>a(y));if(gr.dispose(y),l===0)for(let T=0;T<S.length;++T)s.push((0,see.scalar)(0));let A=y[0].shape[0];for(let T=0;T<S.length;++T){let I=S[T],N=s[T];s[T]=gr.tidy(()=>gr.add(s[T],gr.mul(A,I))),l>0&&gr.dispose(N)}gr.dispose(S),u+=A,++l}return s}),h.done){n&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${r.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let h=0;h<s.length;++h){let p=s[h];s[h]=gr.div(s[h],u),gr.dispose(p)}return _i(s)})}var lo=lt(kt()),Zl=lt(kt());function nE(t){lo.util.assert(t>0&&Number.isInteger(t),()=>`batchSize is required to be a positive integer, but got ${t}`)}function D0(t,e,r){return t==null?[null]:Array.isArray(t)?t.map(n=>Mf(n,e,r-e)):Mf(t,e,r-e)}function iE(t,e){return lo.tidy(()=>t==null?null:Array.isArray(t)?t.map(r=>iE(r,e)):yx(t,e.dtype==="int32"?e:lo.cast(e,"int32")))}function aE(t,e){let r=[],n=0,a=null;for(;n<t;)a=n+e,a>=t&&(a=t),r.push([n,a]),n=a;return r}function cCe(t,e,r,n,a,s,o,u,l,h,p,v,y,S,A){return Ke(this,null,function*(){a==null&&(a=32),s==null&&(s=1),p==null&&(p=!0),y==null&&(y=0);let T=!1;if(l!=null&&h!=null&&(T=!0),A!=null&&(T=!0,S==null))throw new ce("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");let I=t.checkNumSamples(r,a,S,"steps_per_epoch"),N;I!=null&&(N=ta(0,I)),o==null&&(o=1);let{callbackList:D,history:C}=GS(u,o,s,y,I,S,a,T,v);D.setModel(t),t.history=C,yield D.onTrainBegin(),t.stopTraining_=!1;for(let L=y;L<s;++L){yield D.onEpochBegin(L);let z={};if(S!=null)throw new St("stepsPerEpoch mode is not implemented yet.");{if(p==="batch")throw new St("batch shuffling is not implemneted yet");p&&Zl.util.shuffle(N);let $=(0,Zl.tensor1d)(N),G=aE(I,a);for(let j=0;j<G.length;++j){let Z={};if(yield D.onBatchBegin(j,Z),lo.tidy(()=>{let M=G[j][0],f=G[j][1],d=Mf($,M,f-M);Z.batch=j,Z.size=f-M;let g=iE(r,d),m=e(g);for(let b=0;b<n.length;++b){let E=n[b],k=m[b];Z[E]=k,lo.keep(k)}if(j===G.length-1&&T){let b=t.testLoop(l,h,a);for(let E=0;E<n.length;++E){let k=n[E],w=b[E];lo.keep(w),z["val_"+k]=w}}}),yield D.onBatchEnd(j,Z),zS(Z),t.stopTraining_)break}$.dispose()}if(yield D.onEpochEnd(L,z),t.stopTraining_)break}return yield D.onTrainEnd(),yield t.history.syncData(),t.history})}function lee(a,s,o){return Ke(this,arguments,function*(t,e,r,n={}){if(t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;let u,l,h,p,v,y,S,A,T;try{let I=n.batchSize==null?32:n.batchSize;nE(I);let N=!1,D=yield t.standardizeUserData(e,r,n.sampleWeight,n.classWeight,N,I);u=D[0],l=D[1],T=D[2];let C=!1,L;if(n.validationData!=null&&n.validationData.length>0){if(C=!0,n.validationData.length===2)v=n.validationData[0],y=n.validationData[1];else throw n.validationData.length===3?new St("validationData including sample weights is not supported yet."):new ce(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${n.validationData} is invalid.`);let d=!0,g=yield t.standardizeUserData(v,y,null,null,d,I);S=g[0],A=g[1],L=S.concat(A)}else if(n.validationSplit!=null&&n.validationSplit>0&&n.validationSplit<1){C=!0;let d=Math.floor(u[0].shape[0]*(1-n.validationSplit)),g=u[0].shape[0];S=D0(u,d,g),h=u,u=D0(u,0,d),A=D0(l,d,g),p=l,l=D0(l,0,d),L=S.concat(A)}else n.validationSteps!=null&&(C=!0);let z=u.concat(l).concat(T);t.checkTrainableWeightsConsistency();let $=t.makeTrainFunction(),G=t.getDedupedMetricsNames(),j,Z;C?(t.makeTestFunction(),j=t.testFunction,Z=G.slice().concat(G.map(d=>"val_"+d))):(j=null,L=[],Z=G.slice());let M=WS(n.callbacks,n.yieldEvery);return yield cCe(t,$,z,G,I,n.epochs,n.verbose,M,j,L,n.shuffle,Z,n.initialEpoch,null,null)}finally{t.isTraining=!1,fo(u,e),fo(l,r),fo(h,e),fo(p,r),fo(S,v),fo(A,y),T!=null&&lo.dispose(T)}})}function OI(t){let e=[];t instanceof Zl.Tensor&&(t=[t]);for(let r=0;r<t.length;++r){let n=t[r];if(n.rank===1)e.push(Af(n,1));else{if(n.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(n)}}return e}function fo(t,e){if(t==null)return;let r=[];if(e instanceof Zl.Tensor)r.push(e.id);else if(Array.isArray(e))e.forEach(a=>r.push(a.id));else if(e!=null)for(let a in e){let s=e[a];r.push(s.id)}let n=[];if(t instanceof Zl.Tensor)r.indexOf(t.id)===-1&&n.push(t);else if(Array.isArray(t))t.forEach(a=>{r.indexOf(a.id)===-1&&n.push(a)});else if(t!=null)for(let a in t){let s=t[a];r.indexOf(s.id)===-1&&n.push(s)}n.forEach(a=>{a.isDisposed||a.dispose()})}function hCe(t){return t instanceof Ti.Tensor}function RI(t){return Array.isArray(t)}function cee(t){return!hCe(t)&&!RI(t)}function hee(t,e,r,n=!0,a=""){if(e==null||e.length===0){if(t!=null){let o=!1;if(RI(t)&&t.length>0)o=!0;else if(cee(t)){for(let u in t)if(t.hasOwnProperty(u)){o=!0;break}}else o=!0;if(o)throw new ce(`Error when checking model ${a} expected no data, but got ${t}`)}return[]}if(t==null)return e.map(o=>null);let s;if(cee(t)){t=t,s=[];for(let o of e){if(t[o]==null)throw new ce(`No data provided for "${o}". Need data for each key in: ${e}`);s.push(t[o])}}else if(RI(t)){if(t=t,t.length!==e.length)throw new ce(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${e.length} Tensor(s), but instead got the following list of Tensor(s): ${t}`);s=t}else{if(t=t,e.length>1)throw new ce(`The model ${a} expects ${e.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${t.shape}`);s=[t]}if(s=OI(s),r!=null)for(let o=0;o<e.length;++o){if(r[o]==null)continue;let u=s[o];if(u.shape.length!==r[o].length)throw new ce(`Error when checking ${a}: expected ${e[o]} to have ${r[o].length} dimension(s). but got array with shape ${u.shape}`);for(let l=0;l<r[o].length;++l){if(l===0&&!n)continue;let h=u.shape[l],p=r[o][l];if(p!=null&&p>=0&&h!==p)throw new ce(`${a} expected a batch of elements where each example has shape [${r[o].slice(1,r[o].length)}] (i.e.,tensor shape [*,${r[o].slice(1,r[o].length)}]) but the ${a} received an input with ${u.shape[0]} examples, each with shape [${u.shape.slice(1,u.shape.length)}] (tensor shape [${u.shape}])`)}}return s}function dCe(t,e,r){let n=ro(t.map(s=>s.shape[0]));n.sort();let a=ro(e.map(s=>s.shape[0]));if(a.sort(),n.length>1)throw new ce(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(s=>s.shape))}`);if(a.length>1)throw new ce(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(s=>s.shape))}`);if(n.length>0&&a.length>0&&!Ti.util.arraysEqual(n,a))throw new ce(`Input Tensors should have the same number of samples as target Tensors. Found ${n[0]} input sample(s) and ${a[0]} target sample(s).`)}function pCe(t,e,r){let n=[Hh,N0,Kh];for(let a=0;a<t.length;++a){let s=t[a],o=e[a],u=r[a];if(o!=null){if(o===Kh&&s.shape[s.shape.length-1]===1)throw new ce(`You are passing a target array of shape ${s.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(n.indexOf(o)!==-1){let l=s.shape.slice(1),h=u.slice(1);for(let p=0;p<l.length;++p){let v=l[p],y=h[p];if(y!=null&&v!==y)throw new ce(`A target Tensor with shape ${s.shape} was passed for an output of shape ${u}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function dee(t,e,r,n=!0,a=""){let s;if(Array.isArray(t)){if(t.length!==e.length)throw new ce(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${e.length} Tensor(s), but instead got ${t.length} Tensors(s).`);s=t}else{if(e.length>1)throw new ce(`The model expects ${e.length} ${a} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(t.shape)}.`);s=[t]}if(r!=null)for(let o=0;o<e.length;++o){if(r[o]==null)continue;let u=s[o];if(u.shape.length!==r[o].length)throw new ce(`Error when checking ${a}: expected ${e[o]} to have ${r[o].length} dimension(s), but got array with shape ${JSON.stringify(u.shape)}`);for(let l=0;l<r[o].length;++l){if(l===0&&!n)continue;let h=u.shape[l],p=r[o][l];if(p!=null&&p!==h)throw new ce(`Error when checking ${a}: expected ${e[o]} to have shape ${JSON.stringify(r[o])} but got array with shape ${JSON.stringify(u.shape)}.`)}}}function mCe(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(n=>[]);let r;if(typeof t=="string"||typeof t=="function")r=[t];else if(Array.isArray(t)||typeof t=="object")r=t;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${t}`);if(Array.isArray(r))return e.map(n=>r);{let n=[];for(let a of e){let s=r.hasOwnProperty(a)?r[a]:[];Array.isArray(s)||(s=[s]),n.push(s)}return n}}var vCe="layers-model",co=class extends Ja{constructor(e){super(e),this.isTraining=!1}summary(e,r,n=console.log){if(!this.built)throw new ce("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");tee(this,e,r,n)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=eee(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Ti.Optimizer))throw new ce("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let r=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(let o in e.loss)if(this.outputNames.indexOf(o)===-1)throw new ce(`Unknown entry in loss dictionary: "${o}". Only expected the following keys: ${this.outputNames}`);for(let o of this.outputNames)e.loss[o]==null&&console.warn(`Output "${o}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${o} during training`),r.push(KS(e.loss[o]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new ce(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);r=e.loss.map(u=>KS(u))}else{let o=KS(e.loss);this.outputs.forEach(u=>{r.push(o)})}this.lossFunctions=r,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let o=0;o<this.outputs.length;++o){let u=this.internalOutputShapes[o],l=this.outputNames[o];this.feedOutputNames.push(l),this.feedOutputShapes.push(u),this.feedLossFns.push(this.lossFunctions[o])}let n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Ho("loss",()=>{for(let o=0;o<this.outputs.length;++o){if(n.indexOf(o)!==-1)continue;let u=this.lossFunctions[o];this.outputs.length>1&&(this.metricsTensors.push([u,o]),this.metricsNames.push(this.outputNames[o]+"_loss"))}});let a=mCe(e.metrics,this.outputNames),s=(o,u,l)=>{this.outputNames.length>1&&(u=this.outputNames[o]+"_"+u),this.metricsNames.push(u),this.metricsTensors.push([l,o])};Ho("metric",()=>{for(let o=0;o<this.outputs.length;++o){if(n.indexOf(o)!==-1)continue;let u=a[o];(h=>{let p="",v,y,S;for(let A of h){if(typeof A=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(A)!==-1){let I=this.internalOutputShapes[o];I[I.length-1]===1||this.lossFunctions[o]===N0?["accuracy","acc"].indexOf(A)!==-1?y=JS:["crossentropy","ce"].indexOf(A)!==-1&&(y=kI):this.lossFunctions[o]===T0?["accuracy","acc"].indexOf(A)!==-1?y=TI:["crossentropy","ce"].indexOf(A)!==-1&&(y=NI):["accuracy","acc"].indexOf(A)!==-1?y=YS:["crossentropy","ce"].indexOf(A)!==-1&&(y=XS);let N;["accuracy","acc"].indexOf(A)!==-1?N="acc":["crossentropy","ce"].indexOf(A)!==-1&&(N="ce"),S=y,v=p+N}else S=XQ(A),v=p+e1(A);let T;Ho(v,()=>{T=S}),s(o,v,T)}})(u)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,r,n={}){let a=n.batchSize==null?32:n.batchSize;nE(a);let s=!0,o=this.standardizeUserDataXY(e,r,s,a);try{let u=o[0].concat(o[1]);this.makeTestFunction();let l=this.testFunction,h=this.testLoop(l,u,a,n.verbose,n.steps);return _i(h)}finally{fo(o[0],e),fo(o[1],r)}}evaluateDataset(e,r){return Ke(this,null,function*(){return this.makeTestFunction(),fee(this,e,r)})}checkNumSamples(e,r,n,a="steps"){let s;if(n!=null){if(s=null,r!=null)throw new ce(`If ${a} is set, batchSize must be null or undefined.Got batchSize = ${r}`)}else if(e!=null)Array.isArray(e)?s=e[0].shape[0]:s=e.shape[0];else throw new ce(`Either the input data should have a defined shape, or ${a} shoud be specified.`);return s}execute(e,r){if(Array.isArray(r)&&r.length===0)throw new ce("`outputs` is an empty Array, which is not allowed.");let n=Array.isArray(r),a=n?r:[r],s=this.retrieveSymbolicTensors(a),o=new so;if(e instanceof Ti.Tensor&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new ce(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let l=0;l<this.inputs.length;++l)o.add(this.inputs[l],e[l])}else for(let l of this.inputs){let h=e[l.name];if(h==null)throw new ce(`No value is provided for the model's input ${l.name}`);o.add(l,h)}let u=zh(s,o);return n?u:u[0]}retrieveSymbolicTensors(e){let r=eo(null,e.length),n=e.length;for(let a of this.layers){let s=Array.isArray(a.output)?a.output:[a.output],o=s.map(u=>u.name);for(let u=0;u<e.length;++u){let l=o.indexOf(e[u]);if(l!==-1&&(r[u]=s[l],n--),n===0)break}if(n===0)break}if(n>0){let a=[];throw r.forEach((s,o)=>{s==null&&a.push(e[o])}),new ce(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(a)}`)}return r}predictLoop(e,r=32,n=!1){return tn.tidy(()=>{let a=this.checkNumSamples(e);if(n)throw new St("Verbose predictLoop() is not implemented yet.");let s=aE(a,r),o=this.outputs.map(u=>[]);for(let u=0;u<s.length;++u)tn.tidy(()=>{let h=s[u][0],p=s[u][1],v=D0(e,h,p),y=[];if(Array.isArray(v))for(let A=0;A<v.length;++A)y.push({key:this.inputs[A],value:v[A]});else y.push({key:this.inputs[0],value:v});let S=new so(y);return zh(this.outputs,S)}).forEach((h,p)=>o[p].push(h));return _i(o.map(u=>tn.concat(u,0)))})}predict(e,r={}){let n=OI(e);dee(n,this.inputNames,this.feedInputShapes,!1);try{let a=r.batchSize==null?32:r.batchSize;return nE(a),this.predictLoop(n,a)}finally{fo(n,e)}}predictOnBatch(e){dee(e,this.inputNames,this.feedInputShapes,!0);let r=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,r)}standardizeUserDataXY(e,r,n=!0,a){if(this.optimizer_==null)throw new qi("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");let s=[];for(let o=0;o<this.feedOutputShapes.length;++o){let u=this.feedOutputShapes[o];this.feedLossFns[o]===T0?s.push(u.slice(0,u.length-1).concat([1])):s.push(u)}if(e=hee(e,this.feedInputNames,this.feedInputShapes,!1,"input"),r=hee(r,this.feedOutputNames,s,!1,"target"),dCe(e,r,null),pCe(r,this.feedLossFns,this.feedOutputShapes),this.stateful&&a!=null&&a>0&&e[0].shape[0]%a!==0)throw new ce(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${a}. Found: ${e[0].shape[0]} sample(s).`);return[e,r]}standardizeUserData(e,r,n,a,s=!0,o){return Ke(this,null,function*(){let[u,l]=this.standardizeUserDataXY(e,r,s,o);if(n!=null)throw new Error("sample weight is not supported yet.");let h=null;if(a!=null){let p=tE(a,this.outputNames);h=[];for(let v=0;v<p.length;++v)h.push(yield rE(l[v],null,p[v]))}return[u,l,h]})}testLoop(e,r,n,a=0,s){return tn.tidy(()=>{let o=this.checkNumSamples(r,n,s,"steps"),u=[];if(a>0)throw new St("Verbose mode is not implemented yet.");if(s!=null)throw new St("steps mode in testLoop() is not implemented yet");{let l=aE(o,n),h=(0,Ti.tensor1d)(ta(0,o));for(let p=0;p<l.length;++p){let v=l[p][0],y=l[p][1],S=Mf(h,v,y-v),A=iE(r,S),T=e(A);if(p===0)for(let I=0;I<T.length;++I)u.push((0,Ti.scalar)(0));for(let I=0;I<T.length;++I){let N=T[I];u[I]=tn.add(u[I],tn.mul(y-v,N))}}for(let p=0;p<u.length;++p)u[p]=tn.div(u[p],o)}return u})}getDedupedMetricsNames(){let e=this.metricsNames,r=[];for(let n=0;n<e.length;++n){let a=e[n],s=a;FN(e,a)>1&&(s+=`_${FN(e.slice(0,n),a)}`),r.push(s)}return r}makeTrainFunction(){return e=>{let r=[],n=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),s=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),o=[],u=()=>{let v=[];for(let T=0;T<this.inputs.length;++T)v.push({key:this.inputs[T],value:n[T]});let y=new so(v),S=zh(this.outputs,y,{training:!0}),A;for(let T=0;T<this.lossFunctions.length;++T){let I=this.lossFunctions[T],N=I(a[T],S[T]);s[T]!=null&&(N=nee(N,s[T]));let D=tn.mean(N);r.push(D),T===0?A=N:A=tn.add(A,N)}for(let T=0;T<this.metricsTensors.length;++T){let I;if(this.outputs.length>1&&T<this.outputs.length)I=r[T];else{let N=this.metricsTensors[T][0],D=this.metricsTensors[T][1];I=tn.mean(N(a[D],S[D]))}tn.keep(I),o.push(I)}return A=tn.mean(A),this.calculateLosses().forEach(T=>{A=tn.add(A,T)}),A},l=this.collectedTrainableWeights.map(v=>v.read()),h=!0;return[this.optimizer_.minimize(u,h,l)].concat(o)}}makeTestFunction(){this.testFunction=e=>tn.tidy(()=>{let r=[],n,a=e.slice(0,this.inputs.length),s=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=[];for(let h=0;h<this.inputs.length;++h)o.push({key:this.inputs[h],value:a[h]});let u=new so(o),l=zh(this.outputs,u);for(let h=0;h<this.lossFunctions.length;++h){let p=this.lossFunctions[h],v=tn.mean(p(s[h],l[h]));h===0?n=v:n=tn.add(n,v),r.push(n)}for(let h=0;h<this.metricsTensors.length;++h){let p=this.metricsTensors[h][0],v=this.metricsTensors[h][1],y=tn.mean(p(s[v],l[v]));r.push(y)}return r})}fit(a,s){return Ke(this,arguments,function*(e,r,n={}){return lee(this,e,r,n)})}fitDataset(e,r){return Ke(this,null,function*(){return uee(this,e,r)})}trainOnBatch(e,r){return Ke(this,null,function*(){let n=yield this.standardizeUserData(e,r),a=n[0],s=n[1],u=this.makeTrainFunction()(a.concat(s)),l=[];for(let h of u){let p=yield h.data();l.push(p[0])}return tn.dispose(u),fo(n[0],e),fo(n[1],r),_i(l)})}getNamedWeights(e){let r=[],n=e!=null&&e.trainableOnly,a=n?this.trainableWeights:this.weights,s=this.getWeights(n);for(let o=0;o<a.length;++o)n&&!a[o].trainable||r.push({name:a[o].originalName,tensor:s[o]});return r}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){let e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){let r=tn.memory().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=r-tn.memory().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=to(this.loss);else if(Array.isArray(this.loss)){for(let r of this.loss)if(typeof r!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(r=>to(r))}else{let r=Object.keys(this.loss);e={};let n=this.loss;for(let a of r)if(typeof n[a]=="string")e[a]=to(n[a]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[to(e1(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>to(e1(e)));{let e={};for(let r in this.metrics)e[r]=to(e1(this.metrics[r]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");let r=t1(e.optimizer_config),n=Za(r),a;if(typeof e.loss=="string")a=Ef(e.loss);else if(Array.isArray(e.loss))a=e.loss.map(o=>Ef(o));else if(e.loss!=null){a={};for(let o in e.loss)a[o]=Ef(e.loss[o])}let s;if(Array.isArray(e.metrics))s=e.metrics.map(o=>Ef(o));else if(e.metrics!=null){s={};for(let o in e.metrics)s[o]=Ef(e.metrics[o])}this.compile({loss:a,metrics:s,optimizer:n})}save(e,r){return Ke(this,null,function*(){if(typeof e=="string"){let h=Ti.io.getSaveHandlers(e);if(h.length===0)throw new ce(`Cannot find any save handlers for URL '${e}'`);if(h.length>1)throw new ce(`Found more than one (${h.length}) save handlers for URL '${e}'`);e=h[0]}if(e.save==null)throw new ce("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");let n=yield Ti.io.encodeWeights(this.getNamedWeights(r)),a=!1,s=null,u={modelTopology:this.toJSON(s,a),format:vCe,generatedBy:`TensorFlow.js tfjs-layers v${r1}`,convertedBy:null};if((r==null?!1:r.includeOptimizer)&&this.optimizer!=null){u.trainingConfig=this.getTrainingConfig();let h="optimizer",{data:p,specs:v}=yield Ti.io.encodeWeights(yield this.optimizer.getWeights(),h);n.specs.push(...v),n.data=Ti.io.concatenateArrayBuffers([n.data,p])}return this.userDefinedMetadata!=null&&(DI(this.userDefinedMetadata,this.name,!0),u.userDefinedMetadata=this.userDefinedMetadata),u.weightData=n.data,u.weightSpecs=n.specs,e.save(u)})}setUserDefinedMetadata(e){DI(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}};co.className="Model";Ti.serialization.registerClass(co);var sE=class extends co{};sE.className="Functional";Ti.serialization.registerClass(sE);var O0=lt(kt());var Bf=class extends co{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:jl("sequential_"),e.layers!=null)for(let r of e.layers)this.add(r)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(n=>n<0))throw new ce(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){let r=e instanceof Bf||e instanceof co,n;if(r){if(n=e,n.outputs.length!==1)throw new ce("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(n.inputs.length!==1)throw new ce("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new ce("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");let a=_x({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(r)this.outputs=n.outputs,this.inputs=n.inputs;else{if(e.inboundNodes.length!==1)throw new ce(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(e.inboundNodes[0].outputTensors.length!==1)throw new ce("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=zN(this.outputs[0])}this.inboundNodes=[],new kf({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:eo(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(a=>a.shape),outputShapes:this.outputs[0].shape})}else{let a=e.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{let e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,r){return this.model==null&&this.build(),this.model.call(e,r)}build(e){if($t(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new co({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,r,n=console.log){this.built||this.build(),super.summary(e,r,n)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,r,n={}){if(!this.built)throw new qi("The model needs to be compiled before being used.");return this.model.evaluate(e,r,n)}evaluateDataset(e,r){return Ke(this,null,function*(){if(!this.built)throw new qi("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,r)})}predict(e,r={}){return this.model==null&&this.build(),this.model.predict(e,r)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}fit(a,s){return Ke(this,arguments,function*(e,r,n={}){if(!this.built)throw new qi("The model needs to be compiled before being used.");return this.model.fit(e,r,n)})}fitDataset(e,r){return Ke(this,null,function*(){if(!this.built)throw new qi("The model needs to be compiled before being used.");return this.model.fitDataset(e,r)})}trainOnBatch(e,r){return Ke(this,null,function*(){return this.model.trainOnBatch(e,r)})}static fromConfig(e,r,n={},a=!1){let s,o={};if(r instanceof Array){if(r[0].className==null||r[0].className==="Merge")throw new ce("Legacy serialization format not supported yet.");s=r}else O0.util.assert(r.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),s=r.layers,delete r.layers,o=r;let u=new e(o);if(!(u instanceof Bf))throw new St(`Sequential.fromConfig called on non-Sequential input: ${u}`);for(let l of s){let p=Za(l,void 0,a);a&&p.setFastWeightInitDuringBuild(!0),u.add(p)}return u}set stopTraining(e){if(this.model==null)throw new ce("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new ce("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){let e=[];for(let r of this.layers){let n={};n.className=r.getClassName(),n.config=r.getConfig(),e.push(n)}return{name:this.name,layers:e}}};Bf.className="Sequential";O0.serialization.registerClass(Bf);function CI(t){return _x(t)}var Jn=lt(kt());var qn=lt(kt()),pi=lt(kt());var ia=class extends pi.serialization.Serializable{getConfig(){return{}}},oE=class extends ia{apply(e,r=1){return RK(e,r)}};oE.className="elu";pi.serialization.registerClass(oE);var uE=class extends ia{apply(e){return qn.selu(e)}};uE.className="selu";pi.serialization.registerClass(uE);var fE=class extends ia{apply(e){return qn.relu(e)}};fE.className="relu";pi.serialization.registerClass(fE);var lE=class extends ia{apply(e){return(0,pi.tidy)(()=>qn.minimum(6,qn.relu(e)))}};lE.className="relu6";pi.serialization.registerClass(lE);var cE=class extends ia{apply(e){return e}};cE.className="linear";pi.serialization.registerClass(cE);var hE=class extends ia{apply(e){return qn.sigmoid(e)}};hE.className="sigmoid";pi.serialization.registerClass(hE);var dE=class extends ia{apply(e){return FK(e)}};dE.className="hardSigmoid";pi.serialization.registerClass(dE);var pE=class extends ia{apply(e){return qn.softplus(e)}};pE.className="softplus";pi.serialization.registerClass(pE);var mE=class extends ia{apply(e){return CK(e)}};mE.className="softsign";pi.serialization.registerClass(mE);var vE=class extends ia{apply(e){return qn.tanh(e)}};vE.className="tanh";pi.serialization.registerClass(vE);var R0=class extends ia{apply(e,r=-1){return qn.softmax(e,r)}};R0.className="softmax";pi.serialization.registerClass(R0);var gE=class extends ia{apply(e,r=-1){return qn.logSoftmax(e,r)}};gE.className="logSoftmax";pi.serialization.registerClass(gE);var yE=class extends ia{apply(e,r=1){return(0,pi.tidy)(()=>qn.mul(qn.sigmoid(qn.mul(e,r)),e))}};yE.className="swish";pi.serialization.registerClass(yE);var bE=class extends ia{apply(e){return(0,pi.tidy)(()=>qn.mul(e,qn.tanh(qn.softplus(e))))}};bE.className="mish";pi.serialization.registerClass(bE);function Jo(t){return t.getClassName()}function FI(t,e={}){return Bu(t,pi.serialization.SerializationMap.getMap().classNameMap,e,"activation")}function Yo(t){if(t==null){let e={};return e.className="linear",e.config={},FI(e)}if(typeof t=="string"){let e={};return e.className=t,e.config={},FI(e)}else return t instanceof ia?t:FI(t)}var i1=lt(kt()),xa=lt(kt());function gCe(t){if(t!=null&&typeof t!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${t}`)}var wE=class extends xa.serialization.Serializable{},a1=class extends wE{constructor(e){super(),gCe(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return(0,xa.tidy)(()=>{let r=(0,xa.zeros)([1]);return this.hasL1&&(r=(0,xa.add)(r,(0,xa.sum)(i1.mul(this.l1,(0,xa.abs)(e))))),this.hasL2&&(r=(0,xa.add)(r,(0,xa.sum)(i1.mul(this.l2,qh(e))))),i1.reshape(r,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,r){return new e({l1:r.l1,l2:r.l2})}};a1.className="L1L2";xa.serialization.registerClass(a1);var pee={l1l2:"L1L2"};function hr(t){return Xp(t)}function mee(t,e={}){return Bu(t,xa.serialization.SerializationMap.getMap().classNameMap,e,"regularizer")}function Nr(t){if(t==null)return null;if(typeof t=="string"){let r={className:t in pee?pee[t]:t,config:{}};return mee(r)}else return t instanceof wE?t:mee(t)}var C0=class extends Dt{constructor(e){super(e==null?{}:e),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,r){e=It(e);let n=(0,Jn.relu)(e);return this.maxValue!=null&&(n=(0,Jn.clipByValue)(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){let e={maxValue:this.maxValue},r=super.getConfig();return Object.assign(e,r),e}};C0.className="ReLU";Jn.serialization.registerClass(C0);var F0=class extends Dt{constructor(e){super(e==null?{}:e),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,r){let n=It(e);return(0,Jn.leakyRelu)(n,this.alpha)}computeOutputShape(e){return e}getConfig(){let e={alpha:this.alpha},r=super.getConfig();return Object.assign(e,r),e}};F0.className="LeakyReLU";Jn.serialization.registerClass(F0);var B0=class extends Dt{constructor(e){if(super(e==null?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=xr(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Nr(e.alphaRegularizer),this.alphaConstraint=gn(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new ce(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=$t(e);let r=e.slice(1);if(this.sharedAxes!=null)for(let a of this.sharedAxes)r[a-1]=1;this.alpha=this.addWeight("alpha",r,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);let n={};if(this.sharedAxes!=null)for(let a=1;a<e.length;++a)n[a]=e[a];this.inputSpec=[new kr({ndim:e.length,axes:n})],this.built=!0}call(e,r){return e=It(e),(0,Jn.prelu)(e,this.alpha.read())}getConfig(){let e={alphaInitializer:Cr(this.alphaInitializer),alphaRegularizer:hr(this.alphaRegularizer),alphaConstraint:vn(this.alphaConstraint),sharedAxes:this.sharedAxes},r=super.getConfig();return Object.assign(e,r),e}};B0.className="PReLU";Jn.serialization.registerClass(B0);var L0=class extends Dt{constructor(e){if(super(e==null?{}:e),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new St(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,r){let n=It(e);return(0,Jn.elu)(n)}computeOutputShape(e){return e}getConfig(){let e={alpha:this.alpha},r=super.getConfig();return Object.assign(e,r),e}};L0.className="ELU";Jn.serialization.registerClass(L0);var P0=class extends Dt{constructor(e){super(e==null?{}:e),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,r){let n=It(e);return(0,Jn.mul)(n,(0,Jn.cast)((0,Jn.greater)(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){let e={theta:this.theta},r=super.getConfig();return Object.assign(e,r),e}};P0.className="ThresholdedReLU";Jn.serialization.registerClass(P0);var q0=class extends Dt{constructor(e){super(e==null?{}:e),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new R0().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,r){let n=It(e);return this.softmax(n,this.axis)}computeOutputShape(e){return e}getConfig(){let e={axis:this.axis},r=super.getConfig();return Object.assign(e,r),e}};q0.className="Softmax";Jn.serialization.registerClass(q0);var dr=lt(kt()),ji=lt(kt());function Jl(t,e,r){if(typeof t=="number")return eo(t,e);if(t.length!==e)throw new ce(`The ${r} argument must be an integer or tuple of ${e} integers. Received: ${t.length} elements.`);for(let n=0;n<e;++n){let a=t[n];if(!TK(a))throw new ce(`The ${r} argument must be an integer or tuple of ${e} integers. Received: ${JSON.stringify(t)} including a non-integer number ${a}`)}return t}function Da(t,e,r,n,a=1){if(t==null)return t;let s=e+(e-1)*(a-1),o;return r==="same"?o=t:o=t-s+1,Math.floor((o+n-1)/n)}function Xo(t,e,r,n){if(t==null)return null;if(n==="valid")t=t*e+Ko([r-e,0]);else if(n==="same")t=t*e;else throw new ce(`Unsupport padding mode: ${n}.`);return t}function s1(t,e){return(0,ji.tidy)(()=>(fn(e),e==="channelsFirst"?dr.transpose(t,[0,2,3,1]):t))}function BI(t,e){return(0,ji.tidy)(()=>(fn(e),e==="channelsFirst"?dr.transpose(t,[0,2,3,4,1]):t))}function bCe(t,e,r,n=1,a="valid",s,o=1){return(0,ji.tidy)(()=>{if(s==null&&(s=va()),fn(s),t.shape.length!==3)throw new ce(`The input of a conv1dWithBias operation should be 3, but is ${t.shape.length} instead.`);if(e.shape.length!==3)throw new ce(`The kernel for a conv1dWithBias operation should be 3, but is ${e.shape.length} instead`);if(r!=null&&r.shape.length!==1)throw new ce(`The bias for a conv1dWithBias operation should be 1, but is ${e.shape.length} instead`);if(s==="channelsFirst"&&(t=dr.transpose(t,[0,2,1])),a==="causal")throw new St("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let u=dr.conv1d(t,e,n,a==="same"?"same":"valid","NWC",o);return r!=null&&(u=ya(u,r)),u})}function vee(t,e,r,n=[1,1],a="valid",s,o,u=null){return(0,ji.tidy)(()=>{if(s==null&&(s=va()),fn(s),t.rank!==3&&t.rank!==4)throw new ce(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${t.rank}.`);if(e.rank!==3&&e.rank!==4)throw new ce(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${t.rank}.`);let l=s1(t,s);if(a==="causal")throw new St("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=dr.fused.conv2d({x:l,filter:e,strides:n,pad:a==="same"?"same":"valid",dilations:o,dataFormat:"NHWC",bias:r,activation:u}),s==="channelsFirst"&&(l=dr.transpose(l,[0,3,1,2])),l})}function wCe(t,e,r,n=[1,1,1],a="valid",s,o){return(0,ji.tidy)(()=>{if(s==null&&(s=va()),fn(s),t.rank!==4&&t.rank!==5)throw new ce(`conv3dWithBias expects input to be of rank 4 or 5, but received ${t.rank}.`);if(e.rank!==4&&e.rank!==5)throw new ce(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${t.rank}.`);let u=BI(t,s);if(a==="causal")throw new St("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return u=dr.conv3d(u,e,n,a==="same"?"same":"valid","NDHWC",o),r!=null&&(u=ya(u,r)),s==="channelsFirst"&&(u=dr.transpose(u,[0,4,1,2,3])),u})}var Jh=class extends Dt{constructor(e,r){if(super(r),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",Jh.verifyArgs(r),this.rank=e,On(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new St(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Jl(r.kernelSize,e,"kernelSize"),this.strides=Jl(r.strides==null?1:r.strides,e,"strides"),this.padding=r.padding==null?"valid":r.padding,ma(this.padding),this.dataFormat=r.dataFormat==null?"channelsLast":r.dataFormat,fn(this.dataFormat),this.activation=Yo(r.activation),this.useBias=r.useBias==null?!0:r.useBias,this.biasInitializer=xr(r.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=gn(r.biasConstraint),this.biasRegularizer=Nr(r.biasRegularizer),this.activityRegularizer=Nr(r.activityRegularizer),this.dilationRate=Jl(r.dilationRate==null?1:r.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new ce(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new ce(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new ce(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if(hs("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!lx(e.kernelSize,"number",1,3))throw new ce(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){let e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Jo(this.activation),useBias:this.useBias,biasInitializer:Cr(this.biasInitializer),biasRegularizer:hr(this.biasRegularizer),activityRegularizer:hr(this.activityRegularizer),biasConstraint:vn(this.biasConstraint)},r=super.getConfig();return Object.assign(e,r),e}},Yl=class extends Jh{constructor(e,r){super(e,r),this.kernel=null,Yl.verifyArgs(r),this.filters=r.filters,On(this.filters,"filters"),this.kernelInitializer=xr(r.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=gn(r.kernelConstraint),this.kernelRegularizer=Nr(r.kernelRegularizer)}build(e){e=$t(e);let r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null)throw new ce(`The channel dimension of the input should be defined. Found ${e[r]}`);let n=e[r],a=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[r]:n}}],this.built=!0}call(e,r){return(0,ji.tidy)(()=>{e=It(e);let n,a=this.bias==null?null:this.bias.read(),s=cx(this.activation.getClassName());if(s!=null&&this.rank===2)n=vee(e,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate,s);else{if(this.rank===1)n=bCe(e,this.kernel.read(),a,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)n=vee(e,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)n=wCe(e,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new St("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(n=this.activation.apply(n))}return n})}computeOutputShape(e){e=$t(e);let r=[],n=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let s=0;s<n.length;++s){let o=Da(n[s],this.kernelSize[s],this.padding,this.strides[s],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[s]);r.push(o)}let a=[e[0]];return this.dataFormat==="channelsLast"?(a=a.concat(r),a.push(this.filters)):(a.push(this.filters),a=a.concat(r)),a}getConfig(){let e={filters:this.filters,kernelInitializer:Cr(this.kernelInitializer),kernelRegularizer:hr(this.kernelRegularizer),kernelConstraint:vn(this.kernelConstraint)},r=super.getConfig();return Object.assign(e,r),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new ce(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}},Lf=class extends Yl{constructor(e){super(2,e),Lf.verifyArgs(e)}getConfig(){let e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!lx(e.kernelSize,"number",1,2))throw new ce(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}};Lf.className="Conv2D";ji.serialization.registerClass(Lf);var Pf=class extends Yl{constructor(e){super(3,e),Pf.verifyArgs(e)}getConfig(){let e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new ce(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}};Pf.className="Conv3D";ji.serialization.registerClass(Pf);var $0=class extends Lf{constructor(e){if(super(e),this.inputSpec=[new kr({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new ce(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=$t(e),e.length!==4)throw new ce("Input should have rank 4; Received input shape: "+JSON.stringify(e));let r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null)throw new ce("The channel dimension of the inputs should be defined. Found `None`.");let n=e[r],a=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new kr({ndim:4,axes:{[r]:n}})],this.built=!0}call(e,r){return dr.tidy(()=>{let n=It(e);if(n.shape.length!==4)throw new ce(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${n.shape.length}`);let a=n.shape,s=a[0],o,u;this.dataFormat==="channelsFirst"?(o=2,u=3):(o=1,u=2);let l=a[o],h=a[u],p=this.kernelSize[0],v=this.kernelSize[1],y=this.strides[0],S=this.strides[1],A=Xo(l,y,p,this.padding),T=Xo(h,S,v,this.padding),I=[s,A,T,this.filters];this.dataFormat!=="channelsLast"&&(n=dr.transpose(n,[0,2,3,1]));let N=dr.conv2dTranspose(n,this.kernel.read(),I,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(N=dr.transpose(N,[0,3,1,2])),this.bias!=null&&(N=ya(N,this.bias.read(),this.dataFormat)),this.activation!=null&&(N=this.activation.apply(N)),N})}computeOutputShape(e){e=$t(e);let r=e.slice(),n,a,s;this.dataFormat==="channelsFirst"?(n=1,a=2,s=3):(n=3,a=1,s=2);let o=this.kernelSize[0],u=this.kernelSize[1],l=this.strides[0],h=this.strides[1];return r[n]=this.filters,r[a]=Xo(r[a],l,o,this.padding),r[s]=Xo(r[s],h,u,this.padding),r}getConfig(){let e=super.getConfig();return delete e.dilationRate,e}};$0.className="Conv2DTranspose";ji.serialization.registerClass($0);var z0=class extends Pf{constructor(e){if(super(e),this.inputSpec=[new kr({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new ce(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=$t(e),e.length!==5)throw new ce("Input should have rank 5; Received input shape: "+JSON.stringify(e));let r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null)throw new ce("The channel dimension of the inputs should be defined. Found `None`.");let n=e[r],a=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new kr({ndim:5,axes:{[r]:n}})],this.built=!0}call(e,r){return dr.tidy(()=>{let n=It(e);if(n.shape.length!==5)throw new ce(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${n.shape.length}`);let a=n.shape,s=a[0],o,u,l;this.dataFormat==="channelsFirst"?(l=2,o=3,u=4):(l=1,o=2,u=3);let h=a[l],p=a[o],v=a[u],y=this.kernelSize[0],S=this.kernelSize[1],A=this.kernelSize[2],T=this.strides[0],I=this.strides[1],N=this.strides[2],D=Xo(h,T,y,this.padding),C=Xo(p,I,S,this.padding),L=Xo(v,N,A,this.padding),z=[s,D,C,L,this.filters];this.dataFormat!=="channelsLast"&&(n=dr.transpose(n,[0,2,3,4,1]));let $=dr.conv3dTranspose(n,this.kernel.read(),z,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&($=dr.transpose($,[0,4,1,2,3])),this.bias!==null&&($=ya($,this.bias.read(),this.dataFormat)),this.activation!==null&&($=this.activation.apply($)),$})}computeOutputShape(e){e=$t(e);let r=e.slice(),n,a,s,o;this.dataFormat==="channelsFirst"?(n=1,a=2,s=3,o=4):(n=4,a=1,s=2,o=3);let u=this.kernelSize[0],l=this.kernelSize[1],h=this.kernelSize[2],p=this.strides[0],v=this.strides[1],y=this.strides[2];return r[n]=this.filters,r[a]=Xo(r[a],p,u,this.padding),r[s]=Xo(r[s],v,l,this.padding),r[o]=Xo(r[o],y,h,this.padding),r}getConfig(){let e=super.getConfig();return delete e.dilationRate,e}};z0.className="Conv3DTranspose";ji.serialization.registerClass(z0);var _E=class extends Yl{constructor(e,r){if(super(e,r),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,r.filters==null)throw new ce("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(r.kernelInitializer!=null||r.kernelRegularizer!=null||r.kernelConstraint!=null)throw new ce("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(r.padding!=null&&r.padding!=="same"&&r.padding!=="valid")throw new ce(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(r.padding)}`);this.depthMultiplier=r.depthMultiplier==null?1:r.depthMultiplier,this.depthwiseInitializer=xr(r.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Nr(r.depthwiseRegularizer),this.depthwiseConstraint=gn(r.depthwiseConstraint),this.pointwiseInitializer=xr(r.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Nr(r.pointwiseRegularizer),this.pointwiseConstraint=gn(r.pointwiseConstraint)}build(e){if(e=$t(e),e.length<this.rank+2)throw new ce(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);let r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null||e[r]<0)throw new ce(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[r])}`);let n=e[r],a=this.kernelSize.concat([n,this.depthMultiplier]),s=[];for(let u=0;u<this.rank;++u)s.push(1);s.push(n*this.depthMultiplier,this.filters);let o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",a,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",s,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new kr({ndim:this.rank+2,axes:{[r]:n}})],this.built=!0}call(e,r){return(0,ji.tidy)(()=>{e=It(e);let n;if(this.rank===1)throw new St("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=dr.transpose(e,[0,2,3,1])),n=dr.separableConv2d(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(n=ya(n,this.bias.read(),this.dataFormat)),this.activation!=null&&(n=this.activation.apply(n)),this.dataFormat==="channelsFirst"&&(n=dr.transpose(n,[0,3,1,2])),n})}getConfig(){let e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Cr(this.depthwiseInitializer),e.pointwiseInitializer=Cr(this.pointwiseInitializer),e.depthwiseRegularizer=hr(this.depthwiseRegularizer),e.pointwiseRegularizer=hr(this.pointwiseRegularizer),e.depthwiseConstraint=vn(this.depthwiseConstraint),e.pointwiseConstraint=vn(this.pointwiseConstraint),e}};_E.className="SeparableConv";var j0=class extends _E{constructor(e){super(2,e)}};j0.className="SeparableConv2D";ji.serialization.registerClass(j0);var Xl=class extends Yl{constructor(e){super(1,e),Xl.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){let e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!lx(e.kernelSize,"number",1,1))throw new ce(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}};Xl.className="Conv1D";ji.serialization.registerClass(Xl);var U0=class extends Dt{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,r){return(0,ji.tidy)(()=>{if(e=It(e),this.dataFormat==="channelsLast"){let n=vy(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return vy(n,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{let n=vy(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return vy(n,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){let e={cropping:this.cropping,dataFormat:this.dataFormat},r=super.getConfig();return Object.assign(e,r),e}};U0.className="Cropping2D";ji.serialization.registerClass(U0);var V0=class extends Dt{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,fn(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,AK(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){let r=e[2]==null?null:this.size[0]*e[2],n=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],r,n]}else{let r=e[1]==null?null:this.size[0]*e[1],n=e[2]==null?null:this.size[1]*e[2];return[e[0],r,n,e[3]]}}call(e,r){return dr.tidy(()=>{let n=It(e),a=n.shape;if(this.dataFormat==="channelsFirst"){n=dr.transpose(n,[0,2,3,1]);let s=this.size[0]*a[2],o=this.size[1]*a[3],u=this.interpolation==="nearest"?dr.image.resizeNearestNeighbor(n,[s,o]):dr.image.resizeBilinear(n,[s,o]);return dr.transpose(u,[0,3,1,2])}else{let s=this.size[0]*a[1],o=this.size[1]*a[2];return this.interpolation==="nearest"?dr.image.resizeNearestNeighbor(n,[s,o]):dr.image.resizeBilinear(n,[s,o])}})}getConfig(){let e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},r=super.getConfig();return Object.assign(e,r),e}};V0.className="UpSampling2D";ji.serialization.registerClass(V0);var xE=lt(kt()),o1=lt(kt());function _Ce(t,e,r=[1,1],n="valid",a,s){return(0,o1.tidy)(()=>{a==null&&(a=va()),fn(a);let o=s1(t,a);if(t.rank!==4)throw new ce(`Input for depthwiseConv2d is required to be 4-D, but is instead ${t.rank}-D`);if(e.rank!==4)throw new ce(`depthwiseKernel is required to be 4-D, but is instead ${e.rank}-D`);return o=xE.depthwiseConv2d(o,e,r,n==="same"?"same":"valid","NHWC",s),a==="channelsFirst"&&(o=xE.transpose(o,[0,3,1,2])),o})}var W0=class extends Jh{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=xr(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=gn(e.depthwiseConstraint),this.depthwiseRegularizer=Nr(e.depthwiseRegularizer)}build(e){if(e=$t(e),e.length<4)throw new ce(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);let r=this.dataFormat==="channelsFirst"?1:3;if(e[r]==null||e[r]<0)throw new ce(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[r]}).`);let n=e[r],a=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",a,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,r){return(0,o1.tidy)(()=>{e=It(e);let n=_Ce(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(n=ya(n,this.bias.read(),this.dataFormat)),this.activation!=null&&(n=this.activation.apply(n)),n})}computeOutputShape(e){e=$t(e);let r=this.dataFormat==="channelsFirst"?e[2]:e[1],n=this.dataFormat==="channelsFirst"?e[3]:e[2],a=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,s=Da(r,this.kernelSize[0],this.padding,this.strides[0]),o=Da(n,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],a,s,o]:[e[0],s,o,a]}getConfig(){let e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Cr(this.depthwiseInitializer),e.depthwiseRegularizer=hr(this.depthwiseRegularizer),e.depthwiseConstraint=vn(this.depthwiseRegularizer),e}};W0.className="DepthwiseConv2D";o1.serialization.registerClass(W0);var Pt=lt(kt()),gee=lt(kt());var ft=lt(kt()),Yn=lt(kt());function LI(t,e,r,n){if(Array.isArray(t)){if(e!=null||r!=null)throw new ce("When inputs is an array, neither initialState or constants should be provided");n!=null&&(r=t.slice(t.length-n,t.length),t=t.slice(0,t.length-n)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function a(s){return s==null||Array.isArray(s)?s:[s]}return e=a(e),r=a(r),{inputs:t,initialState:e,constants:r}}function qI(t,e,r,n=!1,a,s,o=!1,u=!1){return ft.tidy(()=>{let l=e.shape.length;if(l<3)throw new ce(`Input should be at least 3D, but is ${l}D.`);let h=[1,0].concat(ta(2,l));if(e=ft.transpose(e,h),s!=null)throw new St("The rnn() functoin of the deeplearn.js backend does not support constants yet.");o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),a!=null&&(a=ft.cast(ft.cast(a,"bool"),"float32"),a.rank===l-1&&(a=ft.expandDims(a,-1)),a=ft.transpose(a,h)),n&&(e=ft.reverse(e,0),a!=null&&(a=ft.reverse(a,0)));let p=[],v,y=r,S=e.shape[0],A=ft.unstack(e),T;a!=null&&(T=ft.unstack(a));for(let N=0;N<S;++N){let D=A[N],C=ft.tidy(()=>t(D,y));if(a==null)v=C[0],y=C[1];else{let L=ft.tidy(()=>{let z=T[N],$=ft.sub(ft.onesLike(z),z),G=ft.add(ft.mul(C[0],z),ft.mul(y[0],$)),j=y.map((Z,M)=>ft.add(ft.mul(C[1][M],z),ft.mul(Z,$)));return{output:G,newStates:j}});v=L.output,y=L.newStates}u&&p.push(v)}let I;return u&&(I=ft.stack(p,1)),[v,I,y]})}var Oa=class extends Dt{constructor(e){super(e);let r;if(e.cell==null)throw new ce("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?r=new Qh({cells:e.cell}):r=e.cell,r.stateSize==null)throw new ce("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=r,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new kr({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){let e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return ta(0,e).map(r=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){wx(e)&&(e=e[0]),e=e;let r=this.cell.stateSize;Array.isArray(r)||(r=[r]);let n=r[0],a;if(this.returnSequences?a=[e[0],e[1],n]:a=[e[0],n],this.returnState){let s=[];for(let o of r)s.push([e[0],o]);return[a].concat(s)}else return a}computeMask(e,r){return ft.tidy(()=>{Array.isArray(r)&&(r=r[0]);let n=this.returnSequences?r:null;if(this.returnState){let a=this.states.map(s=>null);return[n].concat(a)}else return n})}get states(){if(this.states_==null){let e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,r=[];for(let n=0;n<e;++n)r.push(null);return r}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new St("Constants support is not implemented in RNN yet.");wx(e)&&(e=e[0]),e=e;let n=this.stateful?e[0]:null,a=e.slice(2);this.inputSpec[0]=new kr({shape:[n,null,...a]});let s=[e[0]].concat(e.slice(2));this.cell.build(s);let o;if(Array.isArray(this.cell.stateSize)?o=this.cell.stateSize:o=[this.cell.stateSize],this.stateSpec!=null){if(!Yn.util.arraysEqual(this.stateSpec.map(u=>u.shape[u.shape.length-1]),o))throw new ce(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=o.map(u=>new kr({shape:[null,u]}));this.stateful&&this.resetStates()}resetStates(e,r=!1){(0,Yn.tidy)(()=>{if(!this.stateful)throw new Ta("Cannot call resetStates() on an RNN Layer that is not stateful.");let n=this.inputSpec[0].shape[0];if(n==null)throw new ce("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>ft.zeros([n,a])):this.states_=[ft.zeros([n,this.cell.stateSize])];else if(e==null)ft.dispose(this.states_),this.keptStates!=null&&(ft.dispose(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>ft.zeros([n,a])):this.states_[0]=ft.zeros([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new ce(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);r===!0?this.keptStates.push(this.states_.slice()):ft.dispose(this.states_);for(let a=0;a<this.states_.length;++a){let s=e[a],o=Array.isArray(this.cell.stateSize)?this.cell.stateSize[a]:this.cell.stateSize,u=[n,o];if(!Yn.util.arraysEqual(s.shape,u))throw new ce(`State ${a} is incompatible with layer ${this.name}: expected shape=${u}, received shape=${s.shape}`);this.states_[a]=s}}this.states_=this.states_.map(a=>ft.keep(a.clone()))})}apply(e,r){let n=r==null?null:r.initialState,a=r==null?null:r.constants;r==null&&(r={});let s=LI(e,n,a,this.numConstants);e=s.inputs,n=s.initialState,a=s.constants;let o=[],u=[];if(n!=null){r.initialState=n,o=o.concat(n),this.stateSpec=[];for(let h of n)this.stateSpec.push(new kr({shape:h.shape}));u=u.concat(this.stateSpec)}if(a!=null&&(r.constants=a,o=o.concat(a),this.numConstants=a.length),o[0]instanceof na){let h=[e].concat(o),p=this.inputSpec.concat(u),v=this.inputSpec;this.inputSpec=p;let y=super.apply(h,r);return this.inputSpec=v,y}else return super.apply(e,r)}call(e,r){return(0,Yn.tidy)(()=>{let n=r==null?null:r.mask,a=r==null?null:r.training,s=r==null?null:r.initialState;e=It(e),s==null&&(this.stateful?s=this.states_:s=this.getInitialState(e));let o=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(s.length!==o)throw new ce(`RNN Layer has ${o} state(s) but was passed ${s.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");let u={training:a},h=qI((A,T)=>{let I=this.cell.call([A].concat(T),u);return[I[0],I.slice(1)]},e,s,this.goBackwards,n,null,this.unroll,this.returnSequences),p=h[0],v=h[1],y=h[2];this.stateful&&this.resetStates(y,a);let S=this.returnSequences?v:p;return this.returnState?[S].concat(y):S})}getInitialState(e){return(0,Yn.tidy)(()=>{let r=ft.zeros(e.shape);return r=ft.sum(r,[1,2]),r=Af(r),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(n=>n>1?gx(r,[1,n]):r):this.cell.stateSize>1?[gx(r,[1,this.cell.stateSize])]:[r]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){let e=super.getConfig(),r={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(r.numConstants=this.numConstants);let n=this.cell.getConfig();return this.getClassName()===Oa.className&&(r.cell={className:this.cell.getClassName(),config:n}),Object.assign({},n,e,r)}static fromConfig(e,r,n={}){let a=r.cell,s=Za(a,n);return new e(Object.assign(r,{cell:s}))}};Oa.className="RNN";Yn.serialization.registerClass(Oa);var qf=class extends Dt{},Yh=class extends qf{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,On(this.units,"units"),this.activation=Yo(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=xr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=xr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=xr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Nr(e.kernelRegularizer),this.recurrentRegularizer=Nr(e.recurrentRegularizer),this.biasRegularizer=Nr(e.biasRegularizer),this.kernelConstraint=gn(e.kernelConstraint),this.recurrentConstraint=gn(e.recurrentConstraint),this.biasConstraint=gn(e.biasConstraint),this.dropout=Lh([1,Ko([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=Lh([1,Ko([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=$t(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,r){return(0,Yn.tidy)(()=>{if(e=e,e.length!==2)throw new ce(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let n=e[1];e=e[0];let a=r.training==null?!1:r.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=zf({ones:()=>ft.onesLike(e),rate:this.dropout,training:a,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=zf({ones:()=>ft.onesLike(n),rate:this.recurrentDropout,training:a,dropoutFunc:this.dropoutFunc}));let s,o=this.dropoutMask,u=this.recurrentDropoutMask;o!=null?s=io(ft.mul(e,o),this.kernel.read()):s=io(e,this.kernel.read()),this.bias!=null&&(s=ya(s,this.bias.read())),u!=null&&(n=ft.mul(n,u));let l=ft.add(s,io(n,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){let e=super.getConfig(),r={units:this.units,activation:Jo(this.activation),useBias:this.useBias,kernelInitializer:Cr(this.kernelInitializer),recurrentInitializer:Cr(this.recurrentInitializer),biasInitializer:Cr(this.biasInitializer),kernelRegularizer:hr(this.kernelRegularizer),recurrentRegularizer:hr(this.recurrentRegularizer),biasRegularizer:hr(this.biasRegularizer),activityRegularizer:hr(this.activityRegularizer),kernelConstraint:vn(this.kernelConstraint),recurrentConstraint:vn(this.recurrentConstraint),biasConstraint:vn(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign({},e,r)}};Yh.className="SimpleRNNCell";Yn.serialization.registerClass(Yh);var G0=class extends Oa{constructor(e){e.cell=new Yh(e),super(e)}call(e,r){return(0,Yn.tidy)(()=>{this.cell.dropoutMask!=null&&(ft.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(ft.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);let n=r==null?null:r.mask,a=r==null?null:r.training,s=r==null?null:r.initialState;return super.call(e,{mask:n,training:a,initialState:s})})}static fromConfig(e,r){return new e(r)}};G0.className="SimpleRNN";Yn.serialization.registerClass(G0);var Xh=class extends qf{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new ce("GRUCell does not support reset_after parameter set to true.");this.units=e.units,On(this.units,"units"),this.activation=Yo(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Yo(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=xr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=xr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=xr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Nr(e.kernelRegularizer),this.recurrentRegularizer=Nr(e.recurrentRegularizer),this.biasRegularizer=Nr(e.biasRegularizer),this.kernelConstraint=gn(e.kernelConstraint),this.recurrentConstraint=gn(e.recurrentConstraint),this.biasConstraint=gn(e.biasConstraint),this.dropout=Lh([1,Ko([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=Lh([1,Ko([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=$t(e);let r=e[e.length-1];this.kernel=this.addWeight("kernel",[r,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,r){return(0,Yn.tidy)(()=>{if(e=e,e.length!==2)throw new ce(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);let n=r.training==null?!1:r.training,a=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=zf({ones:()=>ft.onesLike(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=zf({ones:()=>ft.onesLike(a),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));let s=this.dropoutMask,o=this.recurrentDropoutMask,u,l,h;0<this.dropout&&this.dropout<1&&(e=ft.mul(e,s[0]));let p=io(e,this.kernel.read());this.useBias&&(p=ya(p,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(a=ft.mul(a,o[0]));let v=this.recurrentKernel.read(),[y,S]=ft.split(v,[2*this.units,this.units],v.rank-1),A=io(a,y),[T,I,N]=ft.split(p,3,p.rank-1),[D,C]=ft.split(A,2,A.rank-1);u=this.recurrentActivation.apply(ft.add(T,D)),l=this.recurrentActivation.apply(ft.add(I,C));let L=io(ft.mul(l,a),S);h=this.activation.apply(ft.add(N,L));let z=ft.add(ft.mul(u,a),ft.mul(ft.add(1,ft.neg(u)),h));return[z,z]})}getConfig(){let e=super.getConfig(),r={units:this.units,activation:Jo(this.activation),recurrentActivation:Jo(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Cr(this.kernelInitializer),recurrentInitializer:Cr(this.recurrentInitializer),biasInitializer:Cr(this.biasInitializer),kernelRegularizer:hr(this.kernelRegularizer),recurrentRegularizer:hr(this.recurrentRegularizer),biasRegularizer:hr(this.biasRegularizer),activityRegularizer:hr(this.activityRegularizer),kernelConstraint:vn(this.kernelConstraint),recurrentConstraint:vn(this.recurrentConstraint),biasConstraint:vn(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign({},e,r)}};Xh.className="GRUCell";Yn.serialization.registerClass(Xh);var H0=class extends Oa{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Xh(e),super(e)}call(e,r){return(0,Yn.tidy)(()=>{this.cell.dropoutMask!=null&&(ft.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(ft.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);let n=r==null?null:r.mask,a=r==null?null:r.training,s=r==null?null:r.initialState;return super.call(e,{mask:n,training:a,initialState:s})})}static fromConfig(e,r){return r.implmentation===0&&(r.implementation=1),new e(r)}};H0.className="GRU";Yn.serialization.registerClass(H0);var $f=class extends qf{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,On(this.units,"units"),this.activation=Yo(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Yo(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=xr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=xr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=xr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Nr(e.kernelRegularizer),this.recurrentRegularizer=Nr(e.recurrentRegularizer),this.biasRegularizer=Nr(e.biasRegularizer),this.kernelConstraint=gn(e.kernelConstraint),this.recurrentConstraint=gn(e.recurrentConstraint),this.biasConstraint=gn(e.biasConstraint),this.dropout=Lh([1,Ko([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=Lh([1,Ko([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var r;e=$t(e);let n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let a;if(this.useBias){if(this.unitForgetBias){let s=this.biasInitializer,o=this.units;a=new(r=class extends wa{apply(l,h){let p=s.apply([o]),v=new $h().apply([o]),y=s.apply([o*2]);return $N($N(p,v),y)}},r.className="CustomInit",r)}else a=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,a,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,r){return(0,Yn.tidy)(()=>{let n=r.training==null?!1:r.training;if(e=e,e.length!==3)throw new ce(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let a=e[1],s=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=zf({ones:()=>ft.onesLike(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=zf({ones:()=>ft.onesLike(a),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));let o=this.dropoutMask,u=this.recurrentDropoutMask,l,h,p,v;0<this.dropout&&this.dropout<1&&(e=ft.mul(e,o[0]));let y=io(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(a=ft.mul(a,u[0])),y=ft.add(y,io(a,this.recurrentKernel.read())),this.useBias&&(y=ya(y,this.bias.read()));let[S,A,T,I]=ft.split(y,4,y.rank-1);l=this.recurrentActivation.apply(S),h=this.recurrentActivation.apply(A),p=ft.add(ft.mul(h,s),ft.mul(l,this.activation.apply(T))),v=this.recurrentActivation.apply(I);let N=ft.mul(v,this.activation.apply(p));return[N,N,p]})}getConfig(){let e=super.getConfig(),r={units:this.units,activation:Jo(this.activation),recurrentActivation:Jo(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Cr(this.kernelInitializer),recurrentInitializer:Cr(this.recurrentInitializer),biasInitializer:Cr(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:hr(this.kernelRegularizer),recurrentRegularizer:hr(this.recurrentRegularizer),biasRegularizer:hr(this.biasRegularizer),activityRegularizer:hr(this.activityRegularizer),kernelConstraint:vn(this.kernelConstraint),recurrentConstraint:vn(this.recurrentConstraint),biasConstraint:vn(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign({},e,r)}};$f.className="LSTMCell";Yn.serialization.registerClass($f);var K0=class extends Oa{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new $f(e),super(e)}call(e,r){return(0,Yn.tidy)(()=>{this.cell.dropoutMask!=null&&(ft.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(ft.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);let n=r==null?null:r.mask,a=r==null?null:r.training,s=r==null?null:r.initialState;return super.call(e,{mask:n,training:a,initialState:s})})}static fromConfig(e,r){return r.implmentation===0&&(r.implementation=1),new e(r)}};K0.className="LSTM";Yn.serialization.registerClass(K0);var Qh=class extends qf{constructor(e){super(e),this.cells=e.cells}get stateSize(){let e=[];for(let r of this.cells.slice().reverse())Array.isArray(r.stateSize)?e.push(...r.stateSize):e.push(r.stateSize);return e}call(e,r){return(0,Yn.tidy)(()=>{e=e;let n=e.slice(1),a=[];for(let u of this.cells.slice().reverse())Array.isArray(u.stateSize)?a.push(n.splice(0,u.stateSize.length)):a.push(n.splice(0,1));a.reverse();let s=[],o;for(let u=0;u<this.cells.length;++u){let l=this.cells[u];n=a[u],u===0?o=[e[0]].concat(n):o=[o[0]].concat(n),o=l.call(o,r),s.push(o.slice(1))}n=[];for(let u of s.slice().reverse())n.push(...u);return[o[0]].concat(n)})}build(e){wx(e)&&(e=e[0]),e=e;let r;this.cells.forEach((n,a)=>{Ho(`RNNCell_${a}`,()=>{n.build(e),Array.isArray(n.stateSize)?r=n.stateSize[0]:r=n.stateSize,e=[e[0],r]})}),this.built=!0}getConfig(){let e=super.getConfig(),r=s=>({className:s.getClassName(),config:s.getConfig()}),a={cells:this.cells.map(r)};return Object.assign({},e,a)}static fromConfig(e,r,n={}){let a=[];for(let s of r.cells)a.push(Za(s,n));return new e({cells:a})}get trainableWeights(){if(!this.trainable)return[];let e=[];for(let r of this.cells)e.push(...r.trainableWeights);return e}get nonTrainableWeights(){let e=[];for(let r of this.cells)e.push(...r.nonTrainableWeights);if(!this.trainable){let r=[];for(let n of this.cells)r.push(...n.trainableWeights);return r.concat(e)}return e}getWeights(){let e=[];for(let r of this.cells)e.push(...r.weights);return My(e)}setWeights(e){let r=[];for(let n of this.cells){let a=n.weights.length,s=e.splice(a);for(let o=0;o<n.weights.length;++o)r.push([n.weights[o],s[o]])}l0(r)}};Qh.className="StackedRNNCells";Yn.serialization.registerClass(Qh);function zf(t){let{ones:e,rate:r,training:n=!1,count:a=1,dropoutFunc:s}=t,o=()=>s!=null?s(e(),r):bx(e(),r),u=()=>Ul(o,e,n);return!a||a<=1?ft.keep(u().clone()):Array(a).fill(void 0).map(u).map(h=>ft.keep(h.clone()))}var xCe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};var SE=class extends Oa{constructor(e){if(e.unroll)throw new St("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new St("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new kr({ndim:5})]}call(e,r){return Pt.tidy(()=>{if(this.cell.dropoutMask!=null&&(Pt.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Pt.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),r&&r.constants)throw new ce("ConvRNN2D cell does not support constants");let n=r==null?null:r.mask,a=r==null?null:r.training,s=r==null?null:r.initialState;return super.call(e,{mask:n,training:a,initialState:s})})}computeOutputShape(e){let r=this.computeSingleOutputShape(e);return this.returnSequences||(r=[r[0],...r.slice(2)]),this.returnState&&(r=[r,...Array(2).fill([e[0],...r.slice(-3)])]),r}getInitialState(e){return Pt.tidy(()=>{let{stateSize:r}=this.cell,n=e.shape,a=this.computeSingleOutputShape(n),s=[a[0],...a.slice(2)],o=Pt.zeros(s);return Array.isArray(r)?Array(r.length).fill(o):[o]})}resetStates(e,r=!1){Pt.tidy(()=>{if(!this.stateful)throw new Ta("Cannot call resetStates() on an RNN Layer that is not stateful.");let n=this.inputSpec[0].shape,a=this.computeSingleOutputShape(n),s=[a[0],...a.slice(2)];if(n[0]==null)throw new ce("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Pt.zeros(s)):this.states_=[Pt.zeros(s)];else if(e==null)Pt.dispose(this.states_),this.keptStates!=null&&(Pt.dispose(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Pt.zeros(s)):this.states_[0]=Pt.zeros(s);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new ce(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);r?this.keptStates.push(this.states_.slice()):Pt.dispose(this.states_);for(let u=0;u<this.states_.length;++u){let l=e[u],h=s;if(!gee.util.arraysEqual(l.shape,h))throw new ce(`State ${u} is incompatible with layer ${this.name}: expected shape=${h}, received shape=${l.shape}`);this.states_[u]=l}}this.states_=this.states_.map(u=>Pt.keep(u.clone()))})}computeSingleOutputShape(e){let{dataFormat:r,filters:n,kernelSize:a,padding:s,strides:o,dilationRate:u}=this.cell,l=r==="channelsFirst",h=e[l?3:2],p=e[l?4:3],v=Da(h,a[0],s,o[0],u[0]),y=Da(p,a[1],s,o[1],u[1]);return[...e.slice(0,2),...l?[n,v,y]:[v,y,n]]}};SE.className="ConvRNN2D";var ed=class extends $f{constructor(e){let{filters:r,kernelSize:n,strides:a,padding:s,dataFormat:o,dilationRate:u}=e;super(Object.assign({},e,{units:r})),this.filters=r,On(this.filters,"filters"),this.kernelSize=Jl(n,2,"kernelSize"),this.kernelSize.forEach(l=>On(l,"kernelSize")),this.strides=Jl(a||1,2,"strides"),this.strides.forEach(l=>On(l,"strides")),this.padding=s||"valid",ma(this.padding),this.dataFormat=o||"channelsLast",fn(this.dataFormat),this.dilationRate=Jl(u||1,2,"dilationRate"),this.dilationRate.forEach(l=>On(l,"dilationRate"))}build(e){var r;e=$t(e);let n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new ce(`The channel dimension of the input should be defined. Found ${e[n]}`);let a=e[n],s=4,o=this.kernelSize.concat([a,this.filters*s]);this.kernel=this.addWeight("kernel",o,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);let u=this.kernelSize.concat([this.filters,this.filters*s]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",u,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){let h=this.biasInitializer,p=this.filters;l=new(r=class extends wa{apply(y,S){let A=h.apply([p]),T=Pt.ones([p]),I=h.apply([p*2]);return e0([A,T,I])}},r.className="CustomInit",r)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*s],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,r){return Pt.tidy(()=>{if(e.length!==3)throw new ce(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let n=r.training||!1,a=e[0],s=e[1],o=e[2],u=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=zf({ones:()=>Pt.onesLike(a),rate:this.dropout,training:n,count:u,dropoutFunc:this.dropoutFunc}));let l=this.dropoutMask,h=(_,R,O)=>!R||!R[O]?_:Pt.mul(R[O],_),p=h(a,l,0),v=h(a,l,1),y=h(a,l,2),S=h(a,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=zf({ones:()=>Pt.onesLike(s),rate:this.recurrentDropout,training:n,count:u,dropoutFunc:this.dropoutFunc}));let A=this.recurrentDropoutMask,T=h(s,A,0),I=h(s,A,1),N=h(s,A,2),D=h(s,A,3),C=3,[L,z,$,G]=Pt.split(this.kernel.read(),u,C),[j,Z,M,f]=this.useBias?Pt.split(this.bias.read(),u):[null,null,null,null];p=this.inputConv(p,L,j,this.padding),v=this.inputConv(v,z,Z,this.padding),y=this.inputConv(y,$,M,this.padding),S=this.inputConv(S,G,f,this.padding);let[d,g,m,b]=Pt.split(this.recurrentKernel.read(),u,C);T=this.recurrentConv(T,d),I=this.recurrentConv(I,g),N=this.recurrentConv(N,m),D=this.recurrentConv(D,b);let E=this.recurrentActivation.apply(Pt.add(p,T)),k=this.recurrentActivation.apply(Pt.add(v,I)),w=Pt.add(Pt.mul(k,o),Pt.mul(E,this.activation.apply(Pt.add(y,N)))),c=Pt.mul(this.recurrentActivation.apply(Pt.add(S,D)),this.activation.apply(w));return[c,c,w]})}getConfig(){let e=super.getConfig(),{units:r}=e,n=xCe(e,["units"]),a={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign({},n,a)}inputConv(e,r,n,a){let s=Pt.conv2d(e,r,this.strides,a||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return n?ya(s,n,this.dataFormat):s}recurrentConv(e,r){return Pt.conv2d(e,r,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}};ed.className="ConvLSTM2DCell";Pt.serialization.registerClass(ed);var Z0=class extends SE{constructor(e){let r=new ed(e);super(Object.assign({},e,{cell:r}))}static fromConfig(e,r){return new e(r)}};Z0.className="ConvLSTM2D";Pt.serialization.registerClass(Z0);var pr=lt(kt());var td=class extends Dt{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;let r=e.shape,n=[];for(let a=0;a<this.noiseShape.length;++a)n.push(this.noiseShape[a]==null?r[a]:this.noiseShape[a]);return n}call(e,r){return(0,pr.tidy)(()=>{this.invokeCallHook(e,r);let n=It(e);if(0<this.rate&&this.rate<1){let a=r.training==null?!1:r.training,s=this.getNoiseShape(n);return Ul(()=>bx(n,this.rate,s,this.seed),()=>n,a)}return e})}getConfig(){let e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},r=super.getConfig();return Object.assign(e,r),e}dispose(){return super.dispose()}};td.className="Dropout";pr.serialization.registerClass(td);var J0=class extends td{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){let r=e.shape;return[r[0],1,r[2]]}};J0.className="SpatialDropout1D";pr.serialization.registerClass(J0);var Y0=class extends Dt{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let r=null;e.batchSize!=null&&(r=e.batchSize),this.batchInputShape=[r,e.inputDim]}this.units=e.units,On(this.units,"units"),this.activation=Yo(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=xr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=xr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=gn(e.kernelConstraint),this.biasConstraint=gn(e.biasConstraint),this.kernelRegularizer=Nr(e.kernelRegularizer),this.biasRegularizer=Nr(e.biasRegularizer),this.activityRegularizer=Nr(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=$t(e);let r=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[r,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:r}}],this.built=!0}computeOutputShape(e){e=$t(e);let r=e.slice();return r[r.length-1]=this.units,r}call(e,r){return(0,pr.tidy)(()=>{this.invokeCallHook(e,r);let n=It(e),a=cx(this.activation.getClassName()),s;return a!=null?s=io(n,this.kernel.read(),a,this.bias?this.bias.read():null):(s=io(n,this.kernel.read()),this.bias!=null&&(s=ya(s,this.bias.read())),this.activation!=null&&(s=this.activation.apply(s))),s})}getConfig(){let e={units:this.units,activation:Jo(this.activation),useBias:this.useBias,kernelInitializer:Cr(this.kernelInitializer),biasInitializer:Cr(this.biasInitializer),kernelRegularizer:hr(this.kernelRegularizer),biasRegularizer:hr(this.biasRegularizer),activityRegularizer:hr(this.activityRegularizer),kernelConstraint:vn(this.kernelConstraint),biasConstraint:vn(this.biasConstraint)},r=super.getConfig();return Object.assign(e,r),e}};Y0.className="Dense";pr.serialization.registerClass(Y0);var X0=class extends Dt{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=$t(e);for(let r of e.slice(1))if(r==null)throw new ce(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],no(e,1)]}call(e,r){return(0,pr.tidy)(()=>{this.invokeCallHook(e,r);let n=It(e);if(this.dataFormat==="channelsFirst"&&n.rank>1){let a=[0];for(let s=2;s<n.rank;++s)a.push(s);a.push(1),n=(0,pr.transpose)(n,a)}return OK(n)})}getConfig(){let e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);let r=super.getConfig();return Object.assign(e,r),e}};X0.className="Flatten";pr.serialization.registerClass(X0);var Q0=class extends Dt{constructor(e){super(e),this.supportsMasking=!0,this.activation=Yo(e.activation)}call(e,r){return(0,pr.tidy)(()=>{this.invokeCallHook(e,r);let n=It(e);return this.activation.apply(n)})}getConfig(){let e={activation:Jo(this.activation)},r=super.getConfig();return Object.assign(e,r),e}};Q0.className="Activation";pr.serialization.registerClass(Q0);var em=class extends Dt{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,r){return(0,pr.tidy)(()=>(e=It(e),IK(e,this.n)))}getConfig(){let e={n:this.n},r=super.getConfig();return Object.assign(e,r),e}};em.className="RepeatVector";pr.serialization.registerClass(em);var tm=class extends Dt{constructor(e){super(e),this.targetShape=e.targetShape;for(let r=0;r<this.targetShape.length;++r)this.isUnknown(this.targetShape[r])&&(this.targetShape[r]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,r){let n="Total size of new array must be unchanged.",a=r.slice(),s=1,o=null;for(let l=0;l<a.length;++l){let h=a[l];if(this.isUnknown(h))if(o===null)o=l;else throw new ce("Can only specifiy one unknown dimension.");else s*=h}let u=no(e);if(o!==null){if(s===0||u%s!==0)throw new ce(n);a[o]=u/s}else if(u!==s)throw new ce(n);return a}computeOutputShape(e){let r=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){r=!0;break}return r?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,r){return(0,pr.tidy)(()=>{this.invokeCallHook(e,r);let n=It(e),a=n.shape,s=a.slice(0,1).concat(this.fixUnknownDimension(a.slice(1),this.targetShape));return(0,pr.reshape)(n,s)})}getConfig(){let e={targetShape:this.targetShape},r=super.getConfig();return Object.assign(e,r),e}};tm.className="Reshape";pr.serialization.registerClass(tm);var rm=class extends Dt{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);let r=ta(1,e.dims.length+1);if(!pr.util.arraysEqual(e.dims.slice().sort(),r))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new kr({ndim:this.dims.length+1})]}computeOutputShape(e){e=$t(e);let r=e.slice();return this.dims.forEach((n,a)=>{r[a+1]=e[n]}),r}call(e,r){return(0,pr.transpose)(It(e),this.dimsIncludingBatch)}getConfig(){let e={dims:this.dims},r=super.getConfig();return Object.assign(e,r),e}};rm.className="Permute";pr.serialization.registerClass(rm);var nm=class extends Dt{constructor(e){super(e==null?{}:e),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),r={maskValue:this.maskValue};return Object.assign(r,e),r}computeMask(e,r){let n=It(e),a=-1;return(0,pr.any)((0,pr.notEqual)(n,this.maskValue),a)}call(e,r){return(0,pr.tidy)(()=>{this.invokeCallHook(e,r);let n=It(e),a=-1,s=!0,o=(0,pr.any)((0,pr.notEqual)(n,this.maskValue),a,s);return(0,pr.mul)(n,(0,pr.cast)(o,n.dtype))})}};nm.className="Masking";pr.serialization.registerClass(nm);var ho=lt(kt());var im=class extends Dt{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let r=null;e.batchSize!=null&&(r=e.batchSize),e.inputLength==null?this.batchInputShape=[r,null]:this.batchInputShape=[r].concat(Ar(e.inputLength))}this.inputDim=e.inputDim,On(this.inputDim,"inputDim"),this.outputDim=e.outputDim,On(this.outputDim,"outputDim"),this.embeddingsInitializer=xr(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Nr(e.embeddingsRegularizer),this.activityRegularizer=Nr(e.activityRegularizer),this.embeddingsConstraint=gn(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,r){return(0,ho.tidy)(()=>this.maskZero?(e=It(e),(0,ho.notEqual)(e,(0,ho.zerosLike)(e))):null)}computeOutputShape(e){if(e=$t(e),this.inputLength==null)return[...e,this.outputDim];let r=Ar(this.inputLength);if(r.length!==e.length-1)throw new ce(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let n=0;for(let a=0;a<r.length;++a){let s=r[a],o=e[a+1];if(s!=null&&o!=null&&s!==o)throw new ce(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);s==null&&(r[n]=o),n++}}return[e[0],...r,this.outputDim]}call(e,r){return(0,ho.tidy)(()=>{this.invokeCallHook(e,r);let n=It(e);n.dtype!=="int32"&&(n=Ph(n,"int32"));let a=yx(this.embeddings.read(),(0,ho.reshape)(n,[n.size]));return(0,ho.reshape)(a,$t(this.computeOutputShape(n.shape)))})}getConfig(){let e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Cr(this.embeddingsInitializer),embeddingsRegularizer:hr(this.embeddingsRegularizer),activityRegularizer:hr(this.activityRegularizer),embeddingsConstraint:vn(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},r=super.getConfig();return Object.assign(e,r),e}};im.className="Embedding";ho.serialization.registerClass(im);var Nt=lt(kt()),Ui=lt(kt());var jf=class extends Dt{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new St}computeElementwiseOpOutputShape(e,r){if(e==null||r==null)return null;if(e.length<r.length)return this.computeElementwiseOpOutputShape(r,e);if(r.length===0)return e;let n=e.slice(0,e.length-r.length);for(let a=0;a<r.length;++a){let s=e[e.length-r.length+a],o=r[a];if(s==null||o==null||s<0||o<0)n.push(null);else if(s===1)n.push(o);else if(o===1)n.push(s);else{if(s!==o)throw new ce("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(r));n.push(s)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[$t(e)]),e=e,e.length<2)throw new ce(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let r=[];for(let s of e)s!=null&&s[0]!==null&&r.push(s[0]);if(r=ro(r),r.length>1)throw new ce(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let n=e[0]==null?null:e[0].slice(1);for(let s=1;s<e.length;++s){let o=e[s]==null?null:e[s].slice(1);n=this.computeElementwiseOpOutputShape(n,o)}let a=e.map(s=>s.length);e.indexOf(null)===-1&&ro(a).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,r){return(0,Ui.tidy)(()=>{if(e=e,this.reshapeRequired){let n=[],a=e.map(s=>s.rank);if(a.indexOf(null)===-1){let s=Ko(a);for(let o of e){let u=o.rank;for(let l=0;l<s-u;++l)o=Af(o,1);n.push(o)}return this.mergeFunction(n)}else{let s=!1;for(let l of e){let h=l.rank;if(h==null){let p=l.shape,v=p[0],y=p.slice(1).concat([v]),S=Nt.reshape(l,[v].concat(no(p.slice(1))));S=Nt.transpose(S,[1,0]),S=Nt.reshape(S,y),n.push(S),s=!0}else if(h>1){let p=ta(1,h).concat([0]);n.push(Nt.transpose(l,p)),s=!0}else n.push(l)}let o=this.mergeFunction(n),u=o.rank;if(s){if(u==null){let l=o.shape,h=l.length,p=l[h-1],v=[p].concat(l.slice(0,l.length-1));o=Nt.reshape(Nt.transpose(Nt.reshape(o,[-1,p]),[1,0]),v)}else if(u>1){let l=[u-1].concat(ta(0,u-1));o=Nt.transpose(o,l)}}return o}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let r;e[0]==null?r=null:r=e[0].slice(1);for(let a=1;a<e.length;++a){let s=e[a]==null?null:e[a].slice(1);r=this.computeElementwiseOpOutputShape(r,s)}let n=[];for(let a of e)a!=null&&a[0]!==null&&n.push(a[0]);return n=ro(n),n.length===1?r=n.concat(r):r=[null].concat(r),r}computeMask(e,r){return Nt.tidy(()=>{if(r==null)return null;if(!Array.isArray(r))throw new ce("`mask` should be an Array");if(!Array.isArray(e))throw new ce("`inputs` should be an Array");if(r.length!==e.length)throw new ce(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${r.length})`);if(r.every(a=>a==null))return null;r=r.map(a=>a==null?a:Nt.expandDims(a,0));let n=r[0];for(let a=1;a<r.length-1;++a)n=Nt.logicalAnd(n,r[a]);return n})}},am=class extends jf{constructor(e){super(e)}mergeFunction(e){return(0,Ui.tidy)(()=>{let r=e[0].clone();for(let n=1;n<e.length;++n)r=Nt.add(r,e[n]);return r})}};am.className="Add";Ui.serialization.registerClass(am);var sm=class extends jf{constructor(e){super(e)}mergeFunction(e){return(0,Ui.tidy)(()=>{let r=e[0].clone();for(let n=1;n<e.length;++n)r=Nt.mul(r,e[n]);return r})}};sm.className="Multiply";Ui.serialization.registerClass(sm);var om=class extends jf{constructor(e){super(e)}mergeFunction(e){return(0,Ui.tidy)(()=>{let r=e[0].clone();for(let n=1;n<e.length;++n)r=Nt.add(r,e[n]);return Nt.mul(1/e.length,r)})}};om.className="Average";Ui.serialization.registerClass(om);var um=class extends jf{constructor(e){super(e)}mergeFunction(e){return(0,Ui.tidy)(()=>{let r=e[0];for(let n=1;n<e.length;++n)r=Nt.maximum(r,e[n]);return r})}};um.className="Maximum";Ui.serialization.registerClass(um);var fm=class extends jf{constructor(e){super(e)}mergeFunction(e){return(0,Ui.tidy)(()=>{let r=e[0];for(let n=1;n<e.length;++n)r=Nt.minimum(r,e[n]);return r})}};fm.className="Minimum";Ui.serialization.registerClass(fm);var lm=class extends jf{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new ce("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let r=!0;for(let a of e)if(a!=null){r=!1;break}if(r)return;let n=[];for(let a=0;a<e.length;++a){let s=e[a].slice();s.splice(this.axis,1);let o=!1;for(let u of n)if(Ui.util.arraysEqual(u,s)){o=!0;break}o||n.push(s)}if(n.length>1)throw new ce("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return(0,Ui.tidy)(()=>e0(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new ce("A `Concatenate` layer should be called on a list of inputs.");let r=e,n=r[0].slice(),a=this.axis<0?n.length+this.axis:this.axis;for(let s of r.slice(1)){if(n[a]==null||s[a]==null){n[a]=null;break}n[a]+=s[a]}return n}computeMask(e,r){if(r==null)return null;if(!Array.isArray(r))throw new ce("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new ce("`inputs` should be an array for Concatenate");if(r.length!==e.length)throw new ce(`Mismatch in the length of mask (${r.length}) and the legnth of inputs (${e.length})`);return Nt.tidy(()=>{let n=!0;if(r.forEach(o=>{if(o!=null){n=!1;return}}),n)return null;let a=[];for(let o=0;o<e.length;++o)r[o]==null?a.push(Nt.cast(Nt.onesLike(e[o]),"bool")):r[o].rank<e[o].rank?a.push(Nt.expandDims(r[o],-1)):a.push(r[o]);let s=Nt.concat(a,this.axis);return Nt.all(s,-1,!1)})}getConfig(){let e={axis:this.axis},r=super.getConfig();return Object.assign(e,r),e}};lm.className="Concatenate";Ui.serialization.registerClass(lm);function u1(t,e){for(;t<0;)t+=e;return t}function SCe(t,e,r){if(t.shape.length>3||e.shape.length>3)throw new St("batchDot is not implemented for tensors of 4D or higher rank yet");if(Nt.util.assert(t.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${t.shape.length}`),Nt.util.assert(t.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${e.shape.length}`),typeof r=="number"&&(r=[r,r]),t.dtype==="complex64"||e.dtype==="complex64")throw new St("batchDot is not implemented for complex64-type Tensors yet.");let n=t.shape.length,a=e.shape.length;r==null&&(r=[n-1,a-2]);let s=r;return Nt.tidy(()=>{let o;if(n>a){o=n-a;let l=[];for(let h=0;h<o;++h)l.push(1);e=Nt.reshape(e,e.shape.concat(l))}else if(a>n){o=a-n;let l=[];for(let h=0;h<o;++h)l.push(1);t=Nt.reshape(t,t.shape.concat(l))}else o=0;let u;if(t.shape.length===2&&e.shape.length===2)s[0]===s[1]?u=Nt.sum(Nt.mul(t,e),s[0]):u=Nt.sum(Nt.mul(Nt.transpose(t,[1,0]),e),s[1]);else{let l=s[0]!==t.shape.length-1,h=s[1]===e.shape.length-1;u=Nt.matMul(t,e,l,h)}if(o>0){let l;n>a?l=n+a-3:l=n-1;let h=[];for(let p=l;p<l+o;++p)h.push(p);u=Nt.squeeze(u,h)}return u.shape.length===1&&(u=Nt.expandDims(u,1)),u})}var cm=class extends jf{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){Nt.util.assert(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");let r=e[0],n=e[1];if(r.length>3||n.length>3)throw new St("Dot layer does not support tensors of 4D or higher rank yet.");let a=this.interpretAxes(r,n);if(r[a[0]]!==n[a[1]])throw new ce(`Dimension incompatibility: ${r[a[0]]} !== ${n[a[1]]}`)}mergeFunction(e){if(e.length!==2)throw new ce(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let r=e[0],n=e[1],a;return Array.isArray(this.axes)?a=this.axes.map((s,o)=>u1(s,e[o].shape.length)):a=[u1(this.axes,r.shape.length),u1(this.axes,n.shape.length)],this.normalize&&(r=Jy(r,a[0]),n=Jy(n,a[1])),SCe(r,n,a)}interpretAxes(e,r){let n;return Array.isArray(this.axes)?n=this.axes:n=[u1(this.axes,e.length),u1(this.axes,r.length)],n}computeOutputShape(e){Nt.util.assert(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");let r=e[0].slice(),n=e[1].slice();if(r.length>3||n.length>3)throw new St("Dot layer does not support tensors of 4D or higher rank yet.");let a=this.interpretAxes(r,n);r.splice(a[0],1),n.splice(a[1],1),n.splice(0,1);let s=r.concat(n);return s.length===1&&s.push(1),s}computeMask(e,r){return null}getConfig(){let e={axes:this.axes,normalize:this.normalize},r=super.getConfig();return Object.assign(e,r),e}};cm.className="Dot";Ui.serialization.registerClass(cm);var fi=lt(kt());var hm=class extends Dt{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),r={stddev:this.stddev};return Object.assign(r,e),r}call(e,r){return(0,fi.tidy)(()=>{this.invokeCallHook(e,r);let n=It(e);return Ul(()=>(0,fi.add)(t0(n.shape,0,this.stddev),n),()=>n,r.training||!1)})}};hm.className="GaussianNoise";fi.serialization.registerClass(hm);var dm=class extends Dt{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),r={rate:this.rate};return Object.assign(r,e),r}call(e,r){return(0,fi.tidy)(()=>{this.invokeCallHook(e,r);let n=It(e);return this.rate>0&&this.rate<1?Ul(()=>{let s=Math.sqrt(this.rate/(1-this.rate));return(0,fi.mul)(n,t0(n.shape,1,s))},()=>n,r.training||!1):n})}};dm.className="GaussianDropout";fi.serialization.registerClass(dm);var pm=class extends Dt{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||It(e).shape}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),r={rate:this.rate};return Object.assign(r,e),r}call(e,r){return(0,fi.tidy)(()=>{if(this.rate<1&&this.rate>0){let n=this._getNoiseShape(e);return Ul(()=>{let s=It(e),o=1.6732632423543772,u=1.0507009873554805,l=-o*u,h=(0,fi.greaterEqual)((0,fi.randomUniform)(n),this.rate);h=Ph(h,"float32");let p=Or((1-this.rate)*(1+this.rate*Or(l,2)),-.5),v=-p*l*this.rate,y=(0,fi.add)((0,fi.mul)(s,h),(0,fi.mul)((0,fi.add)(h,-1),l));return(0,fi.add)((0,fi.mul)(y,p),v)},()=>It(e),r.training||!1)}return e})}};pm.className="AlphaDropout";fi.serialization.registerClass(pm);var Xn=lt(kt()),li=lt(kt());function f1(t,e,r,n,a,s=.001){let o;if(t.rank===2)o=Xn.batchNorm2d(t,e,r,n,a,s);else if(t.rank===3)o=Xn.batchNorm3d(t,e,r,n,a,s);else if(t.rank===4)o=Xn.batchNorm4d(t,e,r,n,a,s);else throw new St(`batchNormalization is not implemented for array of rank ${t.rank} yet`);return o}function ECe(t,e,r,n,a=.001){return(0,li.tidy)(()=>{let s=Xn.moments(t,n),o=s.mean,u=s.variance;return[f1(t,o,u,r,e,a),o,u]})}function MCe(t,e,r,n,a=.001){return(0,li.tidy)(()=>{let s=Xn.moments(t,n),o=s.mean,u=s.variance,l=[];for(let A of ta(0,t.rank))n.indexOf(A)!==-1?l.push(1):l.push(t.shape[A]);let h=(0,li.reshape)(o,l),p=(0,li.reshape)(u,l),v=e==null?null:(0,li.reshape)(e,l),y=r==null?null:(0,li.reshape)(r,l);return[f1(t,h,p,y,v,a),o,u]})}function ACe(t,e,r,n,a=.001){return li.util.arraysEqual(n.slice().sort(),ta(0,t.rank-1))?ECe(t,e,r,n,a):MCe(t,e,r,n,a)}var mm=class extends Dt{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=xr(e.betaInitializer||"zeros"),this.gammaInitializer=xr(e.gammaInitializer||"ones"),this.movingMeanInitializer=xr(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=xr(e.movingVarianceInitializer||"ones"),this.betaConstraint=gn(e.betaConstraint),this.gammaConstraint=gn(e.gammaConstraint),this.betaRegularizer=Nr(e.betaRegularizer),this.gammaRegularizer=Nr(e.gammaRegularizer)}build(e){e=$t(e);let r=this.axis>=0?this.axis:this.axis+e.length,n=e[r];if(n==null)throw new ce(`Axis ${r} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new kr({ndim:e.length,axes:{[r]:n}})];let a=[n];this.scale&&(this.gamma=this.addWeight("gamma",a,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",a,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",a,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",a,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,r){return(0,li.tidy)(()=>{let n=r.training==null?!1:r.training,a=It(e),s=a.shape,o=s.length,u=ta(0,o),l=this.axis>=0?this.axis:this.axis+o;u.splice(l,1);let h=eo(1,o);h[l]=s[l];let p=u.slice();p.sort();let v=!li.util.arraysEqual(p,ta(0,o).slice(0,o-1)),y=()=>{if(v){let D=(0,li.reshape)(this.movingMean.read(),h),C=(0,li.reshape)(this.movingVariance.read(),h),L=this.center?(0,li.reshape)(this.beta.read(),h):null,z=this.scale?(0,li.reshape)(this.gamma.read(),h):null;return f1(a,D,C,L,z,this.epsilon)}else return f1(a,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!n)return y();let[S,A,T]=ACe(a,this.gamma.read(),this.beta.read(),u,this.epsilon),I=(D,C,L)=>{Xn.tidy(()=>{let z=1-L,$=D.read(),G=Xn.mul(Xn.sub($,C),z);D.write(Xn.sub($,G))})};return(()=>{I(this.movingMean,A,this.momentum),I(this.movingVariance,T,this.momentum)})(),S})}getConfig(){let e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Cr(this.betaInitializer),gammaInitializer:Cr(this.gammaInitializer),movingMeanInitializer:Cr(this.movingMeanInitializer),movingVarianceInitializer:Cr(this.movingVarianceInitializer),betaRegularizer:hr(this.betaRegularizer),gammaRegularizer:hr(this.gammaRegularizer),betaConstraint:vn(this.betaConstraint),gammaConstraint:vn(this.gammaConstraint)},r=super.getConfig();return Object.assign(e,r),e}};mm.className="BatchNormalization";li.serialization.registerClass(mm);var vm=class extends Dt{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(let r of this.axis)if(!Number.isInteger(r))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=xr(e.betaInitializer||"zeros"),this.gammaInitializer=xr(e.gammaInitializer||"ones"),this.betaRegularizer=Nr(e.betaRegularizer),this.gammaRegularizer=Nr(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=$t(e);let r=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let s=0;s<this.axis.length;++s)this.axis[s]<0&&(this.axis[s]+=r);for(let s of this.axis)if(s<0||s>=r)throw new Error(`Invalid axis: ${s}`);if(this.axis.length!==ro(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);let n=this.axis.map(s=>e[s]),a=!0;this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,a):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,a):this.beta=null,this.built=!0}call(e,r){let n=It(e),a=n.shape,s=a.length;return(0,li.tidy)(()=>{let{mean:u,variance:l}=(0,li.moments)(n,this.axis,!0),h=eo(1,s);for(let T of this.axis)h[T]=a[T];let p=T=>T!=null&&T.shape.length!==s?Xn.reshape(T,h):T,v=this.scale?p(this.gamma.read()):null,y=this.center?p(this.beta.read()):null,S=[],A=[];for(let T=0;T<s;++T)this.axis.indexOf(T)!==-1?(S.push(a[T]),A.push(1)):(S.push(1),A.push(a[T]));return u=Xn.tile(u,S),l=Xn.tile(l,S),v!=null&&(v=Xn.tile(v,A)),y!=null&&(y=Xn.tile(y,A)),f1(n,u,l,y,v,this.epsilon)})}getConfig(){let e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Cr(this.betaInitializer),gammaInitializer:Cr(this.gammaInitializer),betaRegularizer:hr(this.betaRegularizer),gammaRegularizer:hr(this.gammaRegularizer)},r=super.getConfig();return Object.assign(e,r),e}};vm.className="LayerNormalization";li.serialization.registerClass(vm);var yee=lt(kt()),l1=lt(kt());function kCe(t,e,r){return(0,l1.tidy)(()=>{if(t.rank!==4)throw new ce(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new ce("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(r==null&&(r=va()),r!=="channelsLast"&&r!=="channelsFirst")throw new ce(`Unknown data format: ${r}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let n;return r==="channelsFirst"?n=[[0,0],[0,0],e[0],e[1]]:n=[[0,0],e[0],e[1],[0,0]],yee.pad(t,n)})}var gm=class extends Dt{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?va():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new ce(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let r,n;if(typeof e.padding[0]=="number")r=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new ce(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(r=e.padding[0],e.padding[1].length!==2)throw new ce(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);n=e.padding[1]}this.padding=[r,n]}this.inputSpec=[new kr({ndim:4})]}computeOutputShape(e){e=$t(e);let r,n;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?r=e[2]+this.padding[0][0]+this.padding[0][1]:r=null,e[3]!=null&&e[3]>=0?n=e[3]+this.padding[1][0]+this.padding[1][1]:n=null,[e[0],e[1],r,n]):(e[1]!=null&&e[1]>=0?r=e[1]+this.padding[0][0]+this.padding[0][1]:r=null,e[2]!=null&&e[2]>=0?n=e[2]+this.padding[1][0]+this.padding[1][1]:n=null,[e[0],r,n,e[3]])}call(e,r){return(0,l1.tidy)(()=>kCe(It(e),this.padding,this.dataFormat))}getConfig(){let e={padding:this.padding,dataFormat:this.dataFormat},r=super.getConfig();return Object.assign(e,r),e}};gm.className="ZeroPadding2D";l1.serialization.registerClass(gm);var mi=lt(kt()),vi=lt(kt());function NE(t,e,r,n,a,s){return(0,vi.tidy)(()=>{fn(a),BN(s),ma(n),r==null&&(r=[1,1]),n==null&&(n="valid"),a==null&&(a=va()),s==null&&(s="max"),t=s1(t,a);let o,u=n==="same"?"same":"valid";return s==="max"?o=mi.maxPool(t,e,r,u):o=mi.avgPool(t,e,r,u),a==="channelsFirst"&&(o=mi.transpose(o,[0,3,1,2])),o})}function bee(t,e,r,n,a,s){return(0,vi.tidy)(()=>{fn(a),BN(s),ma(n),r==null&&(r=[1,1,1]),n==null&&(n="valid"),a==null&&(a=va()),s==null&&(s="max"),t=BI(t,a);let o,u=n==="same"?"same":"valid";return s==="max"?o=mi.maxPool3d(t,e,r,u):o=mi.avgPool3d(t,e,r,u),a==="channelsFirst"&&(o=mi.transpose(o,[0,4,1,2,3])),o})}var EE=class extends Dt{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new ce(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(On(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new ce(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);On(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,ma(this.padding),this.inputSpec=[new kr({ndim:3})]}computeOutputShape(e){e=$t(e);let r=Da(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],r,e[2]]}call(e,r){return(0,vi.tidy)(()=>{this.invokeCallHook(e,r),e=Af(It(e),2);let n=this.poolingFunction(It(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return mi.squeeze(n,[2])})}getConfig(){let e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},r=super.getConfig();return Object.assign(e,r),e}},ym=class extends EE{constructor(e){super(e)}poolingFunction(e,r,n,a,s){return fn(s),ma(a),NE(e,r,n,a,s,"max")}};ym.className="MaxPooling1D";vi.serialization.registerClass(ym);var bm=class extends EE{constructor(e){super(e)}poolingFunction(e,r,n,a,s){return fn(s),ma(a),NE(e,r,n,a,s,"avg")}};bm.className="AveragePooling1D";vi.serialization.registerClass(bm);var ME=class extends Dt{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new ce(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];On(this.poolSize,"poolSize"),On(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,fn(this.dataFormat),ma(this.padding),this.inputSpec=[new kr({ndim:4})]}computeOutputShape(e){e=$t(e);let r=this.dataFormat==="channelsFirst"?e[2]:e[1],n=this.dataFormat==="channelsFirst"?e[3]:e[2];return r=Da(r,this.poolSize[0],this.padding,this.strides[0]),n=Da(n,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],r,n]:[e[0],r,n,e[3]]}call(e,r){return(0,vi.tidy)(()=>(this.invokeCallHook(e,r),this.poolingFunction(It(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){let e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},r=super.getConfig();return Object.assign(e,r),e}},wm=class extends ME{constructor(e){super(e)}poolingFunction(e,r,n,a,s){return fn(s),ma(a),NE(e,r,n,a,s,"max")}};wm.className="MaxPooling2D";vi.serialization.registerClass(wm);var _m=class extends ME{constructor(e){super(e)}poolingFunction(e,r,n,a,s){return fn(s),ma(a),NE(e,r,n,a,s,"avg")}};_m.className="AveragePooling2D";vi.serialization.registerClass(_m);var AE=class extends Dt{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new ce(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];On(this.poolSize,"poolSize"),On(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,fn(this.dataFormat),ma(this.padding),this.inputSpec=[new kr({ndim:5})]}computeOutputShape(e){e=$t(e);let r=this.dataFormat==="channelsFirst"?e[2]:e[1],n=this.dataFormat==="channelsFirst"?e[3]:e[2],a=this.dataFormat==="channelsFirst"?e[4]:e[3];return r=Da(r,this.poolSize[0],this.padding,this.strides[0]),n=Da(n,this.poolSize[1],this.padding,this.strides[1]),a=Da(a,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],r,n,a]:[e[0],r,n,a,e[4]]}call(e,r){return(0,vi.tidy)(()=>(this.invokeCallHook(e,r),this.poolingFunction(It(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){let e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},r=super.getConfig();return Object.assign(e,r),e}},xm=class extends AE{constructor(e){super(e)}poolingFunction(e,r,n,a,s){return fn(s),ma(a),bee(e,r,n,a,s,"max")}};xm.className="MaxPooling3D";vi.serialization.registerClass(xm);var Sm=class extends AE{constructor(e){super(e)}poolingFunction(e,r,n,a,s){return fn(s),ma(a),bee(e,r,n,a,s,"avg")}};Sm.className="AveragePooling3D";vi.serialization.registerClass(Sm);var kE=class extends Dt{constructor(e){super(e),this.inputSpec=[new kr({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,r){throw new St}},Em=class extends kE{constructor(e){super(e||{})}call(e,r){return(0,vi.tidy)(()=>{let n=It(e);return mi.mean(n,1)})}};Em.className="GlobalAveragePooling1D";vi.serialization.registerClass(Em);var Mm=class extends kE{constructor(e){super(e||{})}call(e,r){return(0,vi.tidy)(()=>{let n=It(e);return mi.max(n,1)})}};Mm.className="GlobalMaxPooling1D";vi.serialization.registerClass(Mm);var TE=class extends Dt{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,fn(this.dataFormat),this.inputSpec=[new kr({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,r){throw new St}getConfig(){let e={dataFormat:this.dataFormat},r=super.getConfig();return Object.assign(e,r),e}},Am=class extends TE{call(e,r){return(0,vi.tidy)(()=>{let n=It(e);return this.dataFormat==="channelsLast"?mi.mean(n,[1,2]):mi.mean(n,[2,3])})}};Am.className="GlobalAveragePooling2D";vi.serialization.registerClass(Am);var km=class extends TE{call(e,r){return(0,vi.tidy)(()=>{let n=It(e);return this.dataFormat==="channelsLast"?mi.max(n,[1,2]):mi.max(n,[2,3])})}};km.className="GlobalMaxPooling2D";vi.serialization.registerClass(km);var Ql=lt(kt()),Im=lt(kt());var IE=class extends Dt{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){let e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},r=super.getConfig();return Object.assign(e,r),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,r,n={}){let a=r.layer,s=Za(a,n);delete r.layer;let o={layer:s};return Object.assign(o,r),new e(o)}},Tm=class extends IE{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=$t(e),e.length<3)throw new ce(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];let r=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(r),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=$t(e);let r=[e[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(r),a=e[1];return[n[0],a].concat(n.slice(1))}call(e,r){return(0,Im.tidy)(()=>(e=It(e),qI((o,u)=>[It(this.layer.call(o,r)),[]],e,[],!1,null,null,!1,!0)[1]))}};Tm.className="TimeDistributed";Im.serialization.registerClass(Tm);function TCe(t){Lu(EK,"BidirectionalMergeMode",t)}var NCe="concat",Nm=class extends IE{constructor(e){super(e);let r=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=r,this.forwardLayer=Za(n),r.goBackwards=r.goBackwards!==!0;let a={};if(a.className=e.layer.getClassName(),a.config=r,this.backwardLayer=Za(a),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?NCe:e.mergeMode,TCe(this.mergeMode),e.weights)throw new St("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){let r=e.length,n=Math.floor(r/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let r=this.forwardLayer.computeOutputShape(e);Array.isArray(r)&&Array.isArray(r[0])||(r=[r]),r=r;let n,a,s;return this.returnState&&(s=r.slice(1)),n=r[0],n=n,this.mergeMode==="concat"?(n[n.length-1]*=2,a=[n]):this.mergeMode==null?a=[n,n.slice()]:a=[n],this.returnState?this.mergeMode==null?a.concat(s).concat(s.slice()):[n].concat(s).concat(s.slice()):_i(a)}apply(e,r){let n=r==null?null:r.initialState,a=r==null?null:r.constants;r==null&&(r={});let s=LI(e,n,a,this.numConstants);if(e=s.inputs,n=s.initialState,a=s.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(n==null||n.length===0)&&a==null)return super.apply(e,r);let o=[],u=[];if(n!=null){let h=n.length;if(h%2>0)throw new ce("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");r.initialState=n,o.push(...n);let p=n.map(v=>new kr({shape:v.shape}));this.forwardLayer.stateSpec=p.slice(0,h/2),this.backwardLayer.stateSpec=p.slice(h/2),u.push(...p)}if(a!=null)throw new St("Support for constants in Bidirectional layers is not implemented yet.");let l=o[0]instanceof na;for(let h of o)if(h instanceof na!==l)throw new ce("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){let h=[e].concat(o),p=this.inputSpec.concat(u),v=this.inputSpec;this.inputSpec=p;let y=super.apply(h,r);return this.inputSpec=v,y}else return super.apply(e,r)}call(e,r){return(0,Im.tidy)(()=>{let n=r.initialState,a,s;if(n==null)a=this.forwardLayer.call(e,r),s=this.backwardLayer.call(e,r);else{let l=n.slice(0,n.length/2),h=n.slice(n.length/2);a=this.forwardLayer.call(e,Object.assign(r,{initialState:l})),s=this.backwardLayer.call(e,Object.assign(r,{initialState:h}))}let o;this.returnState&&(Array.isArray(a)&&(o=a.slice(1).concat(s.slice(1))),a=a[0],s=s[0]),this.returnSequences&&(s=Ql.reverse(s,1));let u;return this.mergeMode==="concat"?u=e0([a,s]):this.mergeMode==="sum"?u=Ql.add(a,s):this.mergeMode==="ave"?u=Ql.mul(.5,Ql.add(a,s)):this.mergeMode==="mul"?u=Ql.mul(a,s):this.mergeMode==null&&(u=[a,s]),this.returnState?this.mergeMode==null?u.concat(o):[u].concat(o):u})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){Ho(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),Ho(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,r){Array.isArray(r)&&(r=r[0]);let n;if(this.returnSequences?this.mergeMode==null?n=[r,r]:n=r:this.mergeMode==null?n=[null,null]:n=null,this.returnState){let s=this.forwardLayer.states.map(o=>null);return Array.isArray(n)?n.concat(s).concat(s):[n].concat(s).concat(s)}else return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){let e={mergeMode:this.mergeMode},r=super.getConfig();return Object.assign(e,r),e}static fromConfig(e,r){let n=Za(r.layer);if(delete r.layer,r.numConstants!=null)throw new St("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");let a=r;return a.layer=n,new e(a)}};Nm.className="Bidirectional";Im.serialization.registerClass(Nm);function ICe(t){return new Zo(t)}function DCe(t){return new L0(t)}function OCe(t){return new C0(t)}function RCe(t){return new F0(t)}function CCe(t){return new B0(t)}function FCe(t){return new q0(t)}function BCe(t){return new P0(t)}function LCe(t){return new Xl(t)}function PCe(t){return new Lf(t)}function qCe(t){return new $0(t)}function $Ce(t){return new Pf(t)}function zCe(t){return new z0(t)}function jCe(t){return new j0(t)}function UCe(t){return new U0(t)}function VCe(t){return new V0(t)}function WCe(t){return new W0(t)}function GCe(t){return new Q0(t)}function HCe(t){return new Y0(t)}function KCe(t){return new td(t)}function ZCe(t){return new J0(t)}function JCe(t){return new X0(t)}function YCe(t){return new em(t)}function XCe(t){return new tm(t)}function QCe(t){return new rm(t)}function eFe(t){return new im(t)}function tFe(t){return new am(t)}function rFe(t){return new om(t)}function nFe(t){return new lm(t)}function iFe(t){return new um(t)}function aFe(t){return new fm(t)}function sFe(t){return new sm(t)}function oFe(t){return new cm(t)}function uFe(t){return new mm(t)}function fFe(t){return new vm(t)}function lFe(t){return new gm(t)}function $I(t){return new bm(t)}function cFe(t){return $I(t)}function hFe(t){return $I(t)}function zI(t){return new _m(t)}function dFe(t){return zI(t)}function pFe(t){return zI(t)}function jI(t){return new Sm(t)}function mFe(t){return jI(t)}function vFe(t){return jI(t)}function gFe(t){return new Em(t)}function yFe(t){return new Am(t)}function wee(t){return new Mm(t)}function _ee(t){return new km(t)}function xee(t){return new ym(t)}function See(t){return new wm(t)}function bFe(t){return new xm(t)}function wFe(t){return new H0(t)}function _Fe(t){return new Xh(t)}function xFe(t){return new K0(t)}function SFe(t){return new $f(t)}function EFe(t){return new G0(t)}function MFe(t){return new Yh(t)}function AFe(t){return new Z0(t)}function kFe(t){return new ed(t)}function TFe(t){return new Oa(t)}function NFe(t){return new Qh(t)}function IFe(t){return new Nm(t)}function DFe(t){return new Tm(t)}var OFe=wee,RFe=_ee,CFe=xee,FFe=See;function BFe(t){return new hm(t)}function LFe(t){return new dm(t)}function PFe(t){return new pm(t)}function qFe(t){return new nm(t)}var UI=null;function OE(t){UI=t}function ec(){if(UI===null)throw Error(`
============================
Howdy \u{1F44B}\u{1F44B}. Looks like you are running @jsonstack/model but you haven't set a Tensorflow backend. 
To do so, simply import (or require) your tensorflow library, and call setBackend like so,

import * as tf from '@tensorflow/tfjs';
import * as jsm from '@jsonstack/model';
jsm.setBackend(tf);

That will let @jsonstack/model know you wish to use a tensorflow library to perform your calculations.
============================
    `);return UI}function Dm(t){let e=ec();return Array.isArray(t)?t:t?Object.keys(t).map(r=>new e.CustomCallback({[r]:t[r]})):[]}var WI=class extends DE.Layer{constructor(r){super(r);Xe(this,"name");Xe(this,"lambdaFunction");Xe(this,"lambdaOutputShape");r.name===void 0&&(r.name=(+new Date*Math.random()).toString(36)),this.name=r.name,this.lambdaFunction=r.lambdaFunction,r.lambdaOutputShape&&(this.lambdaOutputShape=r.lambdaOutputShape)}call(r,n){let a=ec();return a.tidy(()=>{let s=new Array;return s=new Function("input","tf",this.lambdaFunction)(r,a),s})}computeOutputShape(r){return this.lambdaOutputShape===void 0?r[0]:this.lambdaOutputShape}getConfig(){return yi(st({},super.getConfig()),{lambdaFunction:this.lambdaFunction,lambdaOutputShape:this.lambdaOutputShape})}static get className(){return"LambdaLayer"}},Ra=class{constructor(e={},r={}){Xe(this,"type");Xe(this,"settings");Xe(this,"model");Xe(this,"tokenizer");Xe(this,"tf");Xe(this,"trained");Xe(this,"compiled");Xe(this,"reshape");Xe(this,"getInputShape");Xe(this,"xShape");Xe(this,"yShape");Xe(this,"layers");Xe(this,"getTimeseriesShape");Xe(this,"loss");let n=ec();return this.type="ModelInterface",this.settings=Object.assign({},e),this.model=r.model,this.tf=r.tf||n,this.trained=!1,this.compiled=!1,this.reshape=Ra.reshape,this.getInputShape=Ra.getInputShape,this.tf&&this.tf.serialization&&this.tf.serialization.registerClass&&this.tf.serialization.registerClass(WI),this}static reshape(e,r){let n=VFe(e);function a(l){return l.reduce((h,p)=>h*p)}if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Om(0,a(VI(e)),"!=");let s,o=1,u=r[0];for(let l=0;l<r.length;l++)o*=r[l];if(n.length!==o)throw new Om(a(r),a(VI(e)),"!=");try{s=UFe(n,r)}catch(l){throw l instanceof Om?new Om(a(r),a(VI(e)),"!="):l}if(s.length!==u)throw new SyntaxError(`specified shape (${r}) is compatible with input array or length (${e.length})`);return s}static getInputShape(e=[]){if(Array.isArray(e)===!1||!e[0]||!e[0].length||Array.isArray(e[0])===!1)throw new TypeError("input must be a matrix");let r=[],n=e[0].length,a=e;for(e.forEach(s=>{if(s.length!==n)throw new SyntaxError("input must have the same length in each row")});r.push(a.length),Array.isArray(a[0]);)a=a[0];return r}exportConfiguration(){return{type:this.type,settings:this.settings,trained:this.trained,compiled:this.compiled,xShape:this.xShape,yShape:this.yShape,layers:this.layers}}importConfiguration(e){this.type=e.type||this.type,this.settings=st(st({},this.settings),e.settings),this.trained=e.trained||this.trained,this.compiled=e.compiled||this.compiled,this.xShape=e.xShape||this.xShape,this.yShape=e.yShape||this.yShape,this.layers=e.layers||this.layers}train(e,r){throw new ReferenceError("train method is not implemented")}calculate(e){throw new ReferenceError("calculate method is not implemented")}loadModel(e){return Ke(this,null,function*(){return this.model=yield this.tf.loadLayersModel(e),this.xShape=this.model.inputs[0].shape,this.yShape=this.model.outputs[0].shape,this.trained=!0,this.model})}saveModel(e){return Ke(this,null,function*(){return yield this.model.save(e)})}predict(e,r){return Ke(this,null,function*(){if(!e||Array.isArray(e)===!1)throw new Error("invalid input matrix");let n=st({json:!0,probability:!0},r),a=Array.isArray(e)||n.skip_matrix_check?e:[e];return this.calculate(a).data().then(s=>{if(n.json===!1)return s;{if(!this.yShape)throw new Error("Model is missing yShape");let o=[a.length,this.yShape[1]],u=n.probability===!1?Array.from(s).map(Math.round):Array.from(s);return this.reshape(u,o)}}).catch(s=>{throw s})})}};function VI(t){let e=[];for(;Array.isArray(t);)e.push(t.length),t=t[0];return e}function UFe(t,e){for(var r=t,n,a=e.length-1;a>0;a--){var s=e[a];n=[];for(var o=r.length/s,u=0;u<o;u++)n.push(r.slice(u*s,(u+1)*s));r=n}return r}var Om=class extends RangeError{constructor(r,n,a){let s="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" != "+(Array.isArray(n)?"["+n.join(", ")+"]":n)+")";super(s);Xe(this,"actual");Xe(this,"expected");Xe(this,"relation");Xe(this,"isDimensionError");this.actual=r,this.expected=n,this.relation=a,this.message=s,this.name="DimensionError",this.isDimensionError=!0}};function VFe(t){if(!Array.isArray(t))return t;let e=[];return t.forEach(function r(n){Array.isArray(n)?n.forEach(r):e.push(n)}),e}function Rm(t,e){return Ke(this,null,function*(){for(let r=0;r<t.length;r++)yield e(t[r],r,t)})}var gi=class extends Ra{constructor(e={},r){let n=Object.assign({layers:[],compile:{loss:"meanSquaredError",optimizer:"adam"},fit:{epochs:100,batchSize:5,verbose:0}},e);return super(n,r),this.type="BaseNeuralNetwork",this}generateLayers(e,r){throw new ReferenceError("generateLayers method is not implemented")}train(e,r,n,a,s){return Ke(this,null,function*(){let o=this.getInputShape(e),u=this.getInputShape(r),l=this.tf.tensor(e,o),h=this.tf.tensor(r,u);return this.xShape=o,this.yShape=u,(typeof this.compiled=="undefined"||this.compiled===!1)&&(this.model=this.tf.sequential(),this.generateLayers.call(this,e,r,n||this.layers,a,s),this.model.compile(this.settings.compile),this.compiled=!0),yield this.model.fit(l,h,this.settings.fit),this.trained=!0,l.dispose(),h.dispose(),this.model})}calculate(e,r){if(!e||Array.isArray(e)===!1)throw new Error("invalid input matrix");let n=Array.isArray(e[0])?e:[e],a=this.tf.tensor(n),s=this.model.predict(a,r);return a.dispose(),s}};var Cm=class extends gi{constructor(e={},r){let n=Object.assign({layers:[],layerPreference:"deep",compile:{loss:"meanSquaredError",optimizer:"adam"},fit:{epochs:100,batchSize:5}},e);return super(n,r),this.type="DeepLearningRegression",this}generateLayers(e,r,n){let a=this.getInputShape(e),s=this.getInputShape(r),o=[];n?o.push(...n):this.settings.layerPreference==="deep"?(o.push({units:a[1],inputShape:[a[1]],kernelInitializer:"randomNormal",activation:"relu"}),o.push({units:parseInt(String(Math.ceil(a[1]/2)),10),kernelInitializer:"randomNormal",activation:"relu"}),o.push({units:s[1],kernelInitializer:"randomNormal"})):(o.push({units:a[1]*2,inputShape:[a[1]],kernelInitializer:"randomNormal",activation:"relu"}),o.push({units:s[1],kernelInitializer:"randomNormal"})),this.layers=o,o.forEach(u=>{this.model.add(this.tf.layers.dense(u))})}};var Fm=class extends gi{constructor(e={},r){let n=Object.assign({layers:[],compile:{loss:"categoricalCrossentropy",optimizer:"adam"},fit:{epochs:100,batchSize:5}},e);return super(n,r),this.type="DeepLearningClassification",this}generateLayers(e,r,n){let a=this.getInputShape(e),s=this.getInputShape(r);this.yShape=s,this.xShape=a;let o=[];n?o.push(...n):(o.push({units:a[1]*2,inputDim:a[1],activation:"relu"}),o.push({units:s[1],activation:"softmax"})),this.layers=o,o.forEach(u=>{this.model.add(this.tf.layers.dense(u))})}};var Bm=class extends gi{constructor(e={},r){let n=Object.assign({layers:[],type:"simple",compile:{loss:"meanSquaredError",optimizer:"rmsprop"},fit:{epochs:100,batchSize:5}},e);return super(n,r),this.type="LogisticRegression",this}generateLayers(e,r,n,a,s){let o=this.getInputShape(e),u=this.getInputShape(r);this.yShape=u,this.xShape=o;let l=[];if(n)l.push(...n);else if(this.settings.type==="class"&&this.settings.compile)l.push({units:1,inputDim:o[1],activation:"sigmoid"}),this.settings.compile.loss="binaryCrossentropy";else if(this.settings.type==="l1l2"&&this.settings.compile){let h=this.tf.regularizers.l1l2({l1:.01,l2:.01});l.push({units:1,inputDim:o[1],activation:"sigmoid",kernelRegularizer:h}),this.settings.compile.loss="binaryCrossentropy"}else l.push({units:1,inputShape:[o[1]]});this.layers=l,l.forEach(h=>{this.model.add(this.tf.layers.dense(h))}),a&&s&&this.settings&&this.settings.fit&&(this.settings.fit.validationData=[a,s])}};var rd=class extends gi{constructor(e={},r={}){let n=Object.assign({layers:[],compile:{loss:"meanSquaredError",optimizer:"sgd"},fit:{epochs:500,batchSize:5}},e);return super(n,r),this.type="MultipleLinearRegression",this}generateLayers(e,r,n){let a=this.getInputShape(e),s=this.getInputShape(r),o=[];n?o.push(...n):o.push({units:s[1],inputShape:[a[1]]}),this.layers=o,o.forEach(u=>{this.model.add(this.tf.layers.dense(u))})}};var Eee=lt(ch(),1),Ca=class extends gi{constructor(r={},n){let a=Object.assign({layers:[],type:"simple",stateful:!1,stacked:!1,mulitpleTimeSteps:!1,lookback:1,batchSize:1,timeSteps:1,learningRate:.1,compile:{loss:"meanSquaredError",optimizer:"adam"},fit:{epochs:100,batchSize:1}},r);super(a,n);Xe(this,"createDataset");Xe(this,"getTimeseriesShape");Xe(this,"getTimeseriesDataSet");return this.type="LSTMTimeSeries",this.createDataset=Ca.createDataset,this.getTimeseriesDataSet=Ca.getTimeseriesDataSet,this.getTimeseriesShape=Ca.getTimeseriesShape,this}static createDataset(r=[],n=1){let a=new Array,s=new Array;for(let o in(0,Eee.default)(r.length-n-1)){let u=parseInt(o),l=r.slice(u,u+n);a.push(l),s.push(r[u+n])}return[a,s]}static getTimeseriesShape(r){let n=this.settings.timeSteps,a=this.getInputShape(r),s=a[0],o=n,u=a[1];return this.settings.mulitpleTimeSteps||this.settings.stateful?[s,u,o]:[s,o,u]}static getTimeseriesDataSet(r,n){let a=n||this.settings.lookback,s=Ca.createDataset.call(this,r,a),o=s[0],u=s[1],l=gi.reshape(o,[o.length,a]),h=gi.getInputShape(l);return{yShape:gi.getInputShape(u),xShape:h,y_matrix:u,x_matrix:l}}generateLayers(r,n,a){let s=this.getInputShape(r),o=this.getInputShape(n);this.yShape=o,this.xShape=s;let u=[],l=[],h=[];if(a)a.lstmLayers&&a.lstmLayers.length&&u.push(...a.lstmLayers),a.rnnLayers&&a.rnnLayers.length&&l.push(...a.rnnLayers),a.denseLayers&&a.denseLayers.length&&h.push(...a.denseLayers);else if(this.settings&&this.settings.fit&&this.settings.stateful){let p=[this.settings.fit.batchSize,this.settings.lookback,1];l.push({units:4,batchInputShape:p,returnSequences:!0}),l.push({units:4,batchInputShape:p}),h.push({units:o[1]})}else{let p=[1,this.settings.lookback];u.push({units:4,inputShape:p}),h.push({units:o[1]})}u.length&&u.forEach(p=>{this.model.add(this.tf.layers.lstm(p))}),l.length&&l.forEach(p=>{this.model.add(this.tf.layers.simpleRNN(p))}),h.length&&h.forEach(p=>{this.model.add(this.tf.layers.dense(p))}),this.layers={lstmLayers:u,rnnLayers:l,denseLayers:h}}train(r,n,a,s,o){return Ke(this,null,function*(){let u,l,h,p=this.settings.lookback;if(n)l=r,h=n;else{let T=this.createDataset(r,p);l=T[0],h=T[1],u=this.getInputShape(h)}let v=this.getTimeseriesShape(l),y=gi.reshape(l,v),S=this.tf.tensor(y,v),A=this.tf.tensor(h,u);return this.xShape=v,this.yShape=u,this.compiled===!1&&(this.model=this.tf.sequential(),this.generateLayers.call(this,y,h,a||this.layers),this.model.compile(this.settings.compile),this.settings.fit&&this.settings.stateful&&(this.settings.fit.shuffle=!1),this.compiled=!0),yield this.model.fit(S,A,this.settings.fit),this.trained=!0,S.dispose(),A.dispose(),this.model})}calculate(r){let n=this.getTimeseriesShape(r),a=gi.reshape(r,n);return super.calculate(a)}predict(a){return Ke(this,arguments,function*(r,n={}){return this.settings.stateful&&r.length>1?Promise.all(r.map(s=>sM(Ca.prototype,this,"predict").call(this,[s],n))):sM(Ca.prototype,this,"predict").call(this,r,n)})}};var RE=lt(ch(),1),$n=class extends Ca{constructor(r={},n){let a=Object.assign({layers:[],stateful:!0,mulitpleTimeSteps:!1,lookback:1,features:void 0,outputs:1,learningRate:.1,compile:{loss:"meanSquaredError",optimizer:"adam"},fit:{epochs:100,batchSize:1,shuffle:!1}},r);super(a,n);Xe(this,"createDataset");Xe(this,"seriesToSupervised");Xe(this,"getDropableColumns");Xe(this,"drop");Xe(this,"getTimeseriesShape");Xe(this,"getTimeseriesDataSet");return this.type="LSTMMultivariateTimeSeries",this.createDataset=$n.createDataset,this.seriesToSupervised=$n.seriesToSupervised,this.getDropableColumns=$n.getDropableColumns,this.drop=$n.drop,this.getTimeseriesShape=$n.getTimeseriesShape,this.getTimeseriesDataSet=$n.getTimeseriesDataSet,this}static createDataset(r=[],n=1){let a=this.settings&&this.settings.features?this.settings.features:r[0].length-1,s=n||this.settings.lookback||1,o=this.settings&&this.settings.outputs?this.settings.outputs:1,u=$n.seriesToSupervised(r,s,o),l=$n.getDropableColumns(a,s,o),h=$n.drop(u,l),p=[0],v=[0,h[0].length-1];for(let A=0;A<s;A++)p.push((A+1)*a+1);let y=Mee(h)[h[0].length-1];return[$n.drop(h,v),y,a]}static drop(r,n){return r.reduce((a,s,o)=>(a[o]=[],s.forEach((u,l)=>{n.indexOf(l)===-1&&a[o].push(u)}),a),[])}static seriesToSupervised(r,n=1,a=1){if(a!==1)throw new RangeError("Only 1 future iteration supported");if(r&&Array.isArray(r)&&Array.isArray(r[0])&&r[0].length<2)throw new RangeError("Must include at least two columns, the first column must be the dependent variable, followed by independent variables");let s=[];for(let o in r){if(o=Number(parseInt(o)),o+n+a>r.length)break;s[o]=[];for(let l in(0,RE.default)(n))l=parseInt(l),s[o].push(...r[o+l]);for(let l in(0,RE.default)(a))l=parseInt(l),s[o].push(...r[o+l+n])}return s}static getDropableColumns(r,n,a){if(a!==1)throw new RangeError("Only 1 future iteration supported");let s=r+1,o=s*n+s*a;return(0,RE.default)(o-s+1,o)}static getTimeseriesShape(r){let n=this.settings&&this.settings.lookback?this.settings.lookback:1,a=this.getInputShape(r),s=a[0],o=n,u=this.settings&&this.settings.features?this.settings.features:a[1];return[s,o,u]}static getTimeseriesDataSet(r,n){let a=n||this.settings.lookback,s=$n.createDataset.call(this,r,a),o=s[0],u=$n.reshape(s[1],[s[1].length,1]),l=$n.getTimeseriesShape.call(this,o),h=$n.reshape(o,l),p=$n.getInputShape(h),v=Mee(u)[u[0].length-1];return{yShape:$n.getInputShape(u),xShape:p,y_matrix:v,x_matrix:h}}generateLayers(r,n,a){let s=this.getInputShape(r),o=this.getInputShape(n);this.yShape=o,this.xShape=s;let u=[],l=[];if(a)a.lstmLayers&&a.lstmLayers.length&&u.push(...a.lstmLayers),a.denseLayers&&a.denseLayers.length&&l.push(...a.denseLayers);else{let h=[s[1],s[2]];u.push({units:10,inputShape:h}),l.push({units:o[1]})}u.length&&u.forEach(h=>{this.model.add(this.tf.layers.lstm(h))}),l.length&&l.forEach(h=>{this.model.add(this.tf.layers.dense(h))}),this.layers={lstmLayers:u,denseLayers:l}}train(r,n,a,s,o){return Ke(this,null,function*(){let u,l,h,p,v=this.settings.lookback;if(n)h=r,p=n,u=this.getInputShape(h),l=this.getInputShape(p);else{let I=this.createDataset(r,v);h=I[0],p=this.reshape(I[1],[I[1].length,1]),u=this.getInputShape(h),l=this.getInputShape(p)}let y=this.getTimeseriesShape(h),S=$n.reshape(h,y),A=this.tf.tensor(S,y),T=this.tf.tensor(p,l);return this.xShape=y,this.yShape=l,this.compiled===!1&&(this.model=this.tf.sequential(),this.generateLayers.call(this,S,p,a||this.layers),this.model.compile(this.settings.compile),this.compiled=!0),s&&o&&this.settings&&this.settings.fit&&(this.settings.fit.validation_data=[s,o]),yield this.model.fit(A,T,this.settings.fit),this.trained=!0,A.dispose(),T.dispose(),this.model})}};function Mee(t=[]){return t.reduce((e,r,n)=>(r.forEach((a,s)=>{n===0?e.push([a]):e[s].push(a)}),e),[])}var g3=lt(cre(),1),Ane=lt(_8(),1),$He="https://storage.googleapis.com/tfjs-models/savedmodel/universal_sentence_encoder";function zHe(t){return Ke(this,null,function*(){return(yield Ane.default.get(t)).data})}function jHe(){return Ke(this,null,function*(){let t=yield zHe(`${$He}/vocab.json`);return new g3.Tokenizer(t)})}var T1,N1,v3=class extends Ra{constructor(e={},r){let n=Object.assign({},e);return super(n,r),this.type="TextEmbedding",this}train(){return Ke(this,null,function*(){let e=[];T1?e.push(Promise.resolve(T1)):e.push((0,g3.load)()),N1?e.push(Promise.resolve(N1)):e.push(jHe());let r=yield Promise.all(e);return T1||(T1=r[0]),N1||(N1=r[1]),this.model=T1,this.tokenizer=N1,this.trained=!0,this.compiled=!0,this.model})}calculate(e,r={}){if(!e||Array.isArray(e)===!1)throw new Error("invalid input array of sentences");return this.model.embed(e)}predict(n){return Ke(this,arguments,function*(e,r={}){let a=Object.assign({json:!0,probability:!0},r),o=yield(yield this.calculate(e,r)).data();if(a.json===!1)return o;{let u=[e.length,512],l=r.probability===!1?Array.from(o).map(Math.round):Array.from(o);return this.reshape(l,u)}})}};var Aie=lt(ch(),1),kie=lt(Eie(),1);var Wu=class extends gi{constructor(r={},n){let a=st({layers:[],type:"cbow",compile:{loss:"categoricalCrossentropy",optimizer:"rmsprop"},fit:{epochs:15,batchSize:1},embedSize:50,windowSize:2,PAD:"PAD",streamInputMatrix:!0,initialLayerInitializerType:"randomNormal",initialLayerInitializerOptions:{seed:1}},r);super(a,n);Xe(this,"featureToId");Xe(this,"idToFeature");Xe(this,"featureIds");Xe(this,"numberOfFeatures");Xe(this,"importedEmbeddings");Xe(this,"getMergedArray");Xe(this,"getFeatureDataSet");Xe(this,"getContextPairs");return this.type="FeatureEmbedding",this.featureToId,this.idToFeature,this.featureIds,this.numberOfFeatures,this.getMergedArray=Wu.getMergedArray,this.getFeatureDataSet=Wu.getFeatureDataSet.bind(this),this.getContextPairs=Wu.getContextPairs.bind(this),this}static getFeatureDataSet(o){return Ke(this,arguments,function*({inputMatrixFeatures:r,PAD:n="PAD",initialIdToFeature:a,initialFeatureToId:s}){let u=s?Object.keys(s).length:1,l=st({0:this&&this.settings&&this.settings.PAD?this.settings.PAD:n},a),h=r.reduce((y,S)=>(S.forEach(A=>{y[A]||(l[u]&&u++,y[A]=u,l[u]=A,u++)}),y),st({[n]:0},s)),p=r.map(y=>y.map(S=>h[S])),v=Object.keys(h).length;return{featureToId:h,idToFeature:l,featureIds:p,numberOfFeatures:v}})}static getMergedArray(r=[],n=[],a=!1,s=!0){let o=new Array().concat(r);return a?o.splice(r.length-n.length,n.length,...n):o.splice(0,n.length,...n),s&&a?o.slice(-1*r.length):s?o.slice(0,r.length):o}static getContextPairs(o){return Ke(this,arguments,function*({inputMatrix:r,numberOfFeatures:n,window_size:a=2,tf:s}){let u=this&&this.tf?this.tf:ec(),l=(this&&this.settings&&this.settings.windowSize?this.settings.windowSize:a)*2,[h,p]=yield Promise.all([u.zeros([l]).array(),u.zeros([n]).array()]),v=[],y=[];return r.forEach((S,A)=>{S.forEach((T,I)=>{if(T!=0){let N=new Array().concat(p),D=new Array().concat(r[A]);D.splice(I,1);let C=Wu.getMergedArray(h,D,!0);N[T]=1,v.push(C),y.push(N)}})}),{context_length:l,emptyXVector:h,emptyYVector:p,x:v,y}})}generateLayers(r,n,a){if(!this.numberOfFeatures)throw ReferenceError(`${this.settings.name} model is missing numberOfFeatures`);if(!this.settings.embedSize)throw ReferenceError(`${this.settings.name} model is missing embedSize`);let s=[this.numberOfFeatures,this.settings.embedSize];this.yShape=s;let o=[];if(o.push({units:this.numberOfFeatures,inputDim:this.numberOfFeatures,outputDim:this.settings.embedSize,inputLength:(this.settings.windowSize||2)*2,embeddingsInitializer:this.settings.initialLayerInitializerType?this.tf.initializers[this.settings.initialLayerInitializerType](this.settings.initialLayerInitializerOptions):void 0}),o.push({lambdaFunction:"result = tf.mean(input,1,true)",lambdaOutputShape:[this.numberOfFeatures,this.settings.embedSize]}),o.push({units:this.numberOfFeatures,activation:"softmax"}),this.layers=o,this.model.add(this.tf.layers.embedding(o[0])),this.model.add(this.tf.layers.flatten()),this.model.add(this.tf.layers.dense(o[2])),a&&a.length&&a[0].weights){let u=this.model.getWeights();u[0]=a[0].weights,this.model.setWeights(u)}}trainOnBatch(l){return Ke(this,arguments,function*({x_input_matrix:r,y_output_matrix:n,epoch:a,trainingLoss:s,inputVectorIndex:o,inputVectorLength:u}){var p,v,y,S,A,T,I,N;let h=1/0;return(v=(p=this.settings.fit)==null?void 0:p.callbacks)!=null&&v.onEpochBegin&&((S=(y=this.settings.fit)==null?void 0:y.callbacks)==null||S.onEpochBegin(a,{loss:s})),yield Rm(r,(D,C)=>Ke(this,null,function*(){var Z,M,f,d,g,m,b,E,k,w,c,_;(M=(Z=this.settings.fit)==null?void 0:Z.callbacks)!=null&&M.onBatchBegin&&((d=(f=this.settings.fit)==null?void 0:f.callbacks)==null||d.onBatchBegin(C,{loss:s}));let L=n[C],z=this.getInputShape([D]),$=this.tf.tensor(D,z),G=this.getInputShape([L]),j=this.tf.tensor(L,G);h=yield this.model.trainOnBatch($,j),(m=(g=this.settings.fit)==null?void 0:g.callbacks)!=null&&m.onYield&&((E=(b=this.settings.fit)==null?void 0:b.callbacks)==null||E.onYield(a,C,{loss:h,inputVectorIndex:o,inputVectorLength:u,completion:`${(100*(((o||C)+1)/(u||r.length))).toFixed(2)}%`})),(w=(k=this.settings.fit)==null?void 0:k.callbacks)!=null&&w.onBatchEnd&&((_=(c=this.settings.fit)==null?void 0:c.callbacks)==null||_.onBatchEnd(C,{loss:h})),$.dispose(),j.dispose()})),(T=(A=this.settings.fit)==null?void 0:A.callbacks)!=null&&T.onEpochEnd&&((N=(I=this.settings.fit)==null?void 0:I.callbacks)==null||N.onEpochEnd(a,{loss:h})),{loss:h}})}generateBatch(n){return Ke(this,arguments,function*({epoch:r}){if(!this.featureIds)throw ReferenceError(`${this.settings.name} model is missing featureIds`);let a=this.featureIds,s=(this&&this.settings&&this.settings.windowSize?this.settings.windowSize:2)*2,[o,u]=yield Promise.all([this.tf.zeros([s]).array(),this.tf.zeros([this.numberOfFeatures]).array()]),l=[],h=[],p=1/0;return yield Rm(a,(v,y)=>Ke(this,null,function*(){yield Rm(v,(S,A)=>Ke(this,null,function*(){if(this.settings.checkInputMatrix&&this.numberOfFeatures&&S>=this.numberOfFeatures)console.warn("invalid word in corpus",{trainingLoss:p,word:S,"this.idToFeature[word]":this.idToFeature&&this.idToFeature[S],"this.numberOfFeatures":this.numberOfFeatures});else if(S!=0){let T=new Array().concat(u),I=new Array().concat(a[y]);I.splice(A,1);let N=Wu.getMergedArray(o,I,!0);T[S]=1,l=[N],h=[T],this.settings.checkInputMatrix&&this.numberOfFeatures&&this.numberOfFeatures>0&&N.filter(D=>this.numberOfFeatures&&D>=this.numberOfFeatures).length?console.warn("Input matrix contains unknown weight",{input:N,"this.numberOfFeatures":this.numberOfFeatures}):(l=[N],h=[T],p=(yield this.trainOnBatch({x_input_matrix:l,y_output_matrix:h,epoch:r,trainingLoss:p,inputVectorIndex:y,inputVectorLength:a.length})).loss)}}))})),{loss:p}})}exportEmbeddings(){return Ke(this,null,function*(){if(this.trained!==!0)throw new ReferenceError("The model has to be trained before embeddings can be exported");let r=yield this.predict(),n=this.labelWeights(r);return{featureToId:this.featureToId,idToFeature:this.idToFeature,featureIds:this.featureIds,numberOfFeatures:this.numberOfFeatures,labeledWeights:n}})}importEmbeddings(p){return Ke(this,arguments,function*({featureToId:r,idToFeature:n,featureIds:a,numberOfFeatures:s,labeledWeights:o,addNewWeights:u=!0,inputMatrixFeatures:l,fixImportedWeights:h=!1}){this.model=void 0;let v;u&&(l&&(v=yield this.getFeatureDataSet({inputMatrixFeatures:l,initialIdToFeature:n,initialFeatureToId:r}),r=v==null?void 0:v.featureToId,n=v==null?void 0:v.idToFeature,a=v==null?void 0:v.featureIds,s=v==null?void 0:v.numberOfFeatures),r&&(yield Rm(Object.keys(r),A=>Ke(this,null,function*(){(!o[A]||!o[A].length)&&(o[A]=yield this.tf.randomUniform([1,this.settings.embedSize],-1,1).array(),Array.isArray(o[A][0])&&(typeof o[A].flat=="function"?o[A]=o[A].flat():o[A]=o[A].reduce((T,I)=>T.concat(I),[])))})))),h&&Object.keys(o).forEach(A=>{Array.isArray(o[A][0])&&(typeof o[A].flat=="function"?o[A]=o[A].flat():o[A]=o[A].reduce((T,I)=>T.concat(I),[]))});let y=Object.keys(o)[0];if(!y||!o[y]||o[y].length!==this.settings.embedSize)throw new RangeError(`imported weights (${o[y]?o[y].length:"firstLabeledWeight:undefined"}) must have the same embedding size as model (${this.settings.embedSize})`);let S=this.tf.variable(this.tf.tensor(Object.values(o)));this.featureToId=r,this.idToFeature=n,this.featureIds=a,this.numberOfFeatures=s,S.shape[0]!==this.numberOfFeatures&&(console.warn("INVALID NUMBER OF this.numberOfFeatures",{"trainedWeights.shape[0]":S.shape[0],"this.numberOfFeatures":this.numberOfFeatures}),this.numberOfFeatures=S.shape[0]),this.compileModel({layers:[{weights:S}]}),this.importedEmbeddings=!0})}compileModel({layers:r}={}){this.model=void 0,this.model=this.tf.sequential(),this.generateLayers.call(this,[],[],r||this.layers),this.model.compile(this.settings.compile),this.compiled=!0}train(r,n,a){return Ke(this,null,function*(){var o,u,l,h,p,v,y,S,A;if(!this.featureToId||!this.idToFeature||!this.featureIds||!this.numberOfFeatures){let T=yield this.getFeatureDataSet({inputMatrixFeatures:r});this.featureToId=T.featureToId,this.idToFeature=T.idToFeature,this.featureIds=T.featureIds,this.numberOfFeatures=T.numberOfFeatures}else this.importedEmbeddings&&r&&r.length&&(this.featureIds=r);this.compiled===!1&&this.compileModel({layers:a});let s=1/0;return(u=(o=this.settings.fit)==null?void 0:o.callbacks)!=null&&u.onTrainBegin&&((h=(l=this.settings.fit)==null?void 0:l.callbacks)==null||h.onTrainBegin({loss:s})),yield Rm((0,Aie.default)(0,(p=this.settings.fit)==null?void 0:p.epochs),T=>Ke(this,null,function*(){if(this.settings.streamInputMatrix)s=(yield this.generateBatch({epoch:T})).loss;else{if(!this.numberOfFeatures)throw ReferenceError(`${this.settings.name} model is missing numberOfFeatures`);if(!this.featureIds)throw ReferenceError(`${this.settings.name} model is missing featureIds`);let I=yield this.getContextPairs({tf:this.tf,numberOfFeatures:this.numberOfFeatures,inputMatrix:this.featureIds}),N=I.x,D=I.y;s=(yield this.trainOnBatch({x_input_matrix:N,y_output_matrix:D,epoch:T,trainingLoss:s})).loss}})),(y=(v=this.settings.fit)==null?void 0:v.callbacks)!=null&&y.onTrainEnd&&((A=(S=this.settings.fit)==null?void 0:S.callbacks)==null||A.onTrainEnd({loss:s})),this.loss=s,this.trained=!0,this.model})}calculate(){return Ke(this,null,function*(){return this.model.getWeights()[0]})}predict(){return Ke(this,arguments,function*(r={}){let n=yield this.calculate();if(r.json===!1)return yield n.data();{let a=yield n.array();if(!this.yShape)throw new Error("Model is missing yShape");return this.reshape(a,n.shape)}})}labelWeights(r){return r.reduce((n,a,s)=>(this.idToFeature&&(n[this.idToFeature[s]]=a),n),{})}reduceWeights(r,n){return Ke(this,null,function*(){let a=new kie.default(st({dim:2,perplexity:30,earlyExaggeration:4,learningRate:100,nIter:1e3,metric:"euclidean"},n));a.init({data:r,type:n?n.type:"dense"});let[s,o]=a.run();return a.getOutput()})}findSimilarFeatures(a){return Ke(this,arguments,function*(r,n={}){let s=this.tf,{features:o=[],limit:u=5,labeledWeights:l,metric:h="distance"}=n,p=l||this.labelWeights(r);return this.settings&&this.settings.PAD&&delete p[this.settings.PAD],o.reduce((v,y)=>{let S=p[y];if(!S)throw new ReferenceError(`Invalid feature: ${y}`);let A=Object.keys(p).map(T=>{let I=s.tidy(()=>{let N=s.metrics.cosineProximity(s.tensor(S),s.tensor(p[T])),D=s.metrics.meanSquaredError(s.tensor(S),s.tensor(p[T]));return[N.asScalar().dataSync()[0],D.asScalar().dataSync()[0]]});return{comparedFeature:T,proximity:I[0],distance:I[1]}}).sort((T,I)=>h==="distance"?T.distance-I.distance:T.proximity-I.proximity);return v[y]=A.slice(1,u+1),v},{})})}},Mie;(function(t){t.DISTANCE="distance",t.PROXIMITY="proximity"})(Mie||(Mie={}));var k8=null;function O3(t){k8=t}function R3(){if(k8===null)throw Error(`
============================
Howdy \u{1F44B}\u{1F44B}. Looks like you are running @jsonstack/model but you haven't set a ScikitJS backend. 
To do so, simply import (or require) your scikit library, and call setScikit like so,

import * as tf from '@tensorflow/tfjs';
import * as scikit from 'scikitjs';
import * as jsm from '@jsonstack/model';
jsm.setBackend(tf);
jsm.setScikit(scikit);

That will let @jsonstack/model know you wish to use a scikitjs library to perform your calculations.
============================
    `);return k8}var oc=class extends Ra{constructor(r={},n={}){let a=R3(),s=st({},r);super(s,n);Xe(this,"scikit");return this.scikit=n.scikit||a,this.type="MachineLearningModelInterface",this}explain(){return{coefficients:this.model.coef,intercept:this.model.intercept}}};var C3=class extends oc{constructor(e={},r){var a,s;let n=st({layers:[],layerPreference:"deep",compile:{},fit:{callbacks:[]}},e);return super(n,r),(a=e==null?void 0:e.fit)!=null&&a.callbacks&&(n.fit.callbacks=[this.tf.callbacks.earlyStopping({monitor:"mse",patience:30})].concat(Dm((s=e==null?void 0:e.fit)==null?void 0:s.callbacks))),this.type="MachineLearningLinearRegression",this.model=new this.scikit.LinearRegression({modelFitOptions:n.fit}),this}train(e,r){return Ke(this,null,function*(){let n=this.getInputShape(e),a=this.getInputShape(r);return this.xShape=n,this.yShape=a,yield this.model.fit(e,r,this.settings.fit),this.trained=!0,this.compiled=!0,this.model})}calculate(e,r){if(!e||Array.isArray(e)===!1)throw new Error("invalid input matrix");let n=Array.isArray(e[0])?e:[e],a=this.tf.tensor(n),s=this.model.predict(a,r);return a.dispose(),s}};var F3=class extends oc{constructor(e={},r){var a,s;let n=st({layers:[],layerPreference:"deep",compile:{},fit:{callbacks:[]}},e);return super(n,r),(a=e==null?void 0:e.fit)!=null&&a.callbacks&&(n.fit.callbacks=[this.tf.callbacks.earlyStopping({monitor:"loss",patience:50})].concat(Dm((s=e==null?void 0:e.fit)==null?void 0:s.callbacks))),this.type="MachineLearningLogisticRegression",this.model=new this.scikit.LogisticRegression({modelFitOptions:n.fit}),this}train(e,r){return Ke(this,null,function*(){let n=r.map(o=>o[0]),a=this.getInputShape(e),s=this.getInputShape(r);return this.xShape=a,this.yShape=s,yield this.model.fit(e,n,this.settings.fit),this.trained=!0,this.compiled=!0,this.model})}calculate(e,r){if(!e||Array.isArray(e)===!1)throw new Error("invalid input matrix");let n=Array.isArray(e[0])?e:[e],a=this.tf.tensor(n),s=this.model.predict(a,r);return a.dispose(),s}};function T8(t){let e={};for(let r in t){let n=Object.getOwnPropertyDescriptor(t,r);n&&n.writable&&(e[r]=t[r])}return e}var Tie=Symbol("isPending"),Nie=Symbol("isFulfulled"),ev=Symbol("isRejected"),N8=Symbol("isPaused");function vZe(t,e){if(typeof this.timeout=="number"&&this.timeout>0){let r=setTimeout(()=>{this.value=t,e(t),clearTimeout(r)},this.timeout)}else this.value=t,e(t)}function gZe(t,e){if(typeof this.timeout=="number"){let r=setTimeout(()=>{e(t),clearTimeout(r)},this.timeout)}else e(t)}var B3=class{constructor(e){this.action=e.action,this.timeout=e.timeout||0,this.index=e.index,this.value=e.value,this[Tie]=!0,this[Nie]=!1,this[ev]=!1,this.fulfill=vZe.bind(this),this.reject=gZe.bind(this),this.next=void 0}resolve(e){return new Promise((r,n)=>{try{let a=typeof this.action=="function"?this.action(e):this.action;if(a&&typeof a.then=="function"&&typeof a.catch=="function")return a.then(s=>this.fulfill(s,r)).catch(s=>this.reject(s,n));this.fulfill(a,r)}catch(a){this.reject(a,n)}})}};Tie,Nie,ev;function yZe(t){let e=[],r=t;for(;r;)e.push(r.value),r=r.next;return e}function Iie(t,e){for(;this.active<this.concurrency&&this.current;){this.active++;let r=this.current;this.current=r.next,r.action=this.action,r.resolve(r.value).then(n=>{--this.active===0&&!this.current?t(this.decompress(this.root)):this.resolve(t,e)},n=>{this[ev]=!0,e(n)})}}var Zf=class{constructor(e){this.action=e.action,this.concurrency=e.concurrency||1/0,this.values=e.values||[],this.active=0,this.timeout=e.timeout||0,this.current=void 0,this[N8]=!1,this[ev]=!1,this.root=void 0,this.length=0,this.decompress=(e.decompress||yZe).bind(this)}insert(...e){for(let r=0;r<e.length;r++)if(this.length++,!this.root)this.root=new B3({index:r,action:void 0,value:e[r],timeout:this.timeout});else{let n=this.root;for(;n&&n.next;)n=n.next;n.next=new B3({index:r,action:void 0,value:e[r],timeout:this.timeout})}return this.current=this.root,this}resolve(e,r){if(!this.current||this[ev]||this[N8])return null;if(e&&r)Iie.call(this,e,r);else return new Promise((n,a)=>{Iie.call(this,n,a)})}};N8,ev;function I8(t,e,r,n){let a=typeof r=="function"?r:n,s=typeof r=="number"?r:void 0;return new Zf({action:t,concurrency:s}).insert(...e).resolve().then(l=>a(null,l)).catch(a)}function D8(t,e,r,n){let a=typeof r=="function"?r:n,s=typeof r=="number"?r:void 0;return new Zf({action:l=>{let{operation:h,key:p}=l;if(typeof h=="function"){if(Array.isArray(e)){let v=e;return Promise.all([h(...v),p])}return Promise.all([h(e),p])}return[h,p]},concurrency:s,decompress:l=>{let h={},p=l;for(;p;){let[v,y]=p.value;h[y]=v,p=p.next}return h}}).insert(...Object.keys(t).map(l=>({operation:t[l],key:l}))).resolve().then(l=>a(null,l)).catch(a)}function O8(t){return Object.keys(t).reduce((e,r)=>(t[r]&&typeof t[r]=="object"?e[r]=()=>jt.parallel(O8(t[r])):e[r]=t[r],e),{})}function R8(t,e,r){let n=typeof e=="function"?e:r,a=typeof e=="number"?e:void 0,s=[],o=[];return new Zf({action(h){if(typeof h=="function")try{let p=h();if(p&&typeof p.then=="function"&&typeof p.catch=="function")return p.then(v=>{s.push({value:v,status:"fulfilled"})},v=>{o.push({value:v,status:"rejected"})});s.push({value:p,status:"fulfilled"})}catch(p){o.push({value:p,status:"rejected"})}else s.push({value:h,status:"fulfilled"});return null},decompress(h){return null},concurrency:a}).insert(...t).resolve().then(()=>n(null,{fulfilled:s,rejected:o})).catch(n)}function C8(t){return function e(r,n){let a;try{a=t.next(r)}catch(u){n(u)}a||n(new Error("ERROR: generator returned 'undefined' value and is not iterable"));let{done:s,value:o}=a||{done:!0,value:null};if(s)n(null,o);else if(o&&typeof o.then=="function"&&typeof o.catch=="function")o.then(u=>e(u,n),n);else{let u=setTimeout(()=>{e(o,n),clearTimeout(u)},0)}}}function F8(t,e){let r;return function*(){do{let a=t();a&&typeof a.then=="function"&&typeof a.catch=="function"?yield a.then(s=>(r=s,r),s=>Promise.reject(s)):(r=a,yield r)}while(e(r))}}function bZe(t=0){return new Promise(e=>{let r=setTimeout(function(){clearTimeout(r),e()},t)})}function B8(t,e){let r,n=!0,{times:a,timeout:s}=e;return function*(){do{a--;let u=n||typeof s!="number"||s===0?t():(()=>bZe(s).then(t).catch(l=>Promise.reject(l)))();n=!1,u&&typeof u.then=="function"&&typeof u.catch=="function"?yield u.then(l=>(r={__isRejected:!1,e:null,value:l},r),l=>(r={__isRejected:!0,e:l,value:null},r)):(r={__isRejected:!1,e:null,value:u},yield r)}while(a&&r&&Object.hasOwnProperty.call(r,"__isRejected"));return r}}function wZe(t,e){return t.map(r=>{let n=typeof e=="object"?Array.isArray(e)?Object.assign([],e):Object.assign({},e):e;return typeof r=="function"?r(n):r})}function L8(t){return function*(){let r,n;for(;t.length;)r=t.shift(),Array.isArray(r)?n=yield Promise.all(wZe(r,n)).then(s=>Array.isArray(n)?n.concat(s):s).catch(s=>Promise.reject(s)):r!==void 0&&(n=yield r(n));return n}}var Gu={safeAssign:T8,map:I8,parallel:D8,handleRecursiveParallel:O8,settle:R8,iterator:C8,doWhilst:F8,retry:B8,series:L8};function _Ze(t){return t&&typeof t=="object"}function tv(t,e){return{success:t,failure:typeof e=="function"?e:void 0}}var jt=class extends Promise{constructor(e){super(e)}then(e,r){return super.then(e,r)}try(e,r){let{success:n,failure:a}=tv(function(s){try{return typeof e=="function"?e(s):jt.reject(new TypeError("ERROR: try expects onSuccess handler to be a function"))}catch(o){return jt.reject(o)}},r);return this.then(n,a)}spread(e,r){let{success:n,failure:a}=tv(function(s){return typeof s[Symbol.iterator]!="function"?jt.reject(new TypeError("ERROR: spread expects input to be iterable")):typeof e!="function"?jt.reject(new TypeError("ERROR: spread expects onSuccess handler to be a function")):e(...s)},r);return this.then(n,a)}map(e,r,n){typeof r=="number"&&(n=r,r=void 0);let{success:a,failure:s}=tv(function(o){return Array.isArray(o)?typeof e!="function"?jt.reject(new TypeError("ERROR: map expects onSuccess handler to be a function")):jt.map(o,n,e):jt.reject(new TypeError("ERROR: map expects input to be an array"))},r);return this.then(a,s)}each(e,r,n){typeof r=="number"&&(n=r,r=void 0);let{success:a,failure:s}=tv(function(o){return Array.isArray(o)?typeof e!="function"?jt.reject(new TypeError("ERROR: each expects onSuccess handler to be a function")):jt.each(o,n,e):jt.reject(new TypeError("ERROR: each expects input to be an array"))},r);return this.then(a,s)}settle(e,r){let{success:n,failure:a}=tv(function(s){if(!Array.isArray(s))return jt.reject(new TypeError("ERROR: settle expects input to be an array"));if(typeof e!="function")return jt.reject(new TypeError("ERROR: settle expects onSuccess handler to be a function"));let o=s.map(u=>()=>e(u));return jt.settle(o)},r);return this.then(n,a)}retry(e,r,n){r&&typeof r=="object"&&(n=r,r=void 0);let{success:a,failure:s}=tv(function(o){return typeof e!="function"?jt.reject(new TypeError("ERROR: retry expects onSuccess handler to be a function")):jt.retry(()=>e(o),n)},r);return this.then(a,s)}finally(e){let r=()=>typeof e=="function"?e():jt.reject(new TypeError("ERROR: finally expects handler to be a function"));return this.then(r,r)}static promisify(e,r){let n=function(...a){return new jt((s,o)=>{a.push(function(u,l){u?o(u):s(l)}),e.apply(this,a)})};return r?n.bind(r):n}static promisifyAll(e,r,n){let a=Object.assign({readonly:!0,recursive:!1},n),s=Object.create(e);a.readonly?s=Gu.safeAssign(e):s=Object.assign(s,e);let o={};return Object.keys(s).forEach(u=>{if(typeof s[u]=="function")o[`${u}Async`]=r?this.promisify(s[u],r):this.promisify(s[u]);else if(a.recursive){let l=s[u];_Ze(l)&&(o[u]=this.promisifyAll(l,r,a))}}),o}static series(e){return jt.iterate(Gu.series(e),null)}static pipe(e){return function(...r){let n=Object.assign([],e),a=n[0];return n[0]=function(){return a(...r)},jt.series(n)}}static compose(e){return jt.pipe(e.reverse())}static map(e,r,n){let a=typeof r=="function"?r:n;return typeof r!="number"&&(r=1),jt.promisify(Gu.map)(a,e,r)}static each(e,r,n){return jt.map(e,r,n).then(()=>e)}static parallel(e,r,n={}){let{recursive:a=!1,concurrency:s}=n;return a&&(e=Gu.handleRecursiveParallel(e)),jt.promisify(Gu.parallel)(e,r,s)}static settle(e,r){return jt.promisify(Gu.settle)(e,r)}static iterate(e,r){let n=Gu.iterator(e(r));return jt.promisify(n)(r)}static doWhilst(e,r){return jt.iterate(Gu.doWhilst(e,r),null)}static sleep(e){return new jt(r=>{setTimeout(()=>{r()},e)})}static retry(e,r){let{times:n=3,timeout:a=0}=r||{};return jt.iterate(Gu.retry(e,{times:n,timeout:a}),null).then(s=>{let{__isRejected:o,e:u,value:l}=s;return o?jt.reject(u):jt.resolve(l)})}};var J3={};Qf(J3,{DateTime:()=>ht,Duration:()=>Wt,FixedOffsetZone:()=>jn,IANAZone:()=>Si,Info:()=>Zu,Interval:()=>hn,InvalidZone:()=>bd,Settings:()=>an,SystemZone:()=>su,VERSION:()=>GJe,Zone:()=>Pa});var Jf=class extends Error{},L3=class extends Jf{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},P3=class extends Jf{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},q3=class extends Jf{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},Yf=class extends Jf{},rv=class extends Jf{constructor(e){super(`Invalid unit ${e}`)}},Ki=class extends Jf{},iu=class extends Jf{constructor(){super("Zone is an abstract class")}};var gt="numeric",au="short",ys="long",nv={year:gt,month:gt,day:gt},R1={year:gt,month:au,day:gt},P8={year:gt,month:au,day:gt,weekday:au},C1={year:gt,month:ys,day:gt},F1={year:gt,month:ys,day:gt,weekday:ys},B1={hour:gt,minute:gt},L1={hour:gt,minute:gt,second:gt},P1={hour:gt,minute:gt,second:gt,timeZoneName:au},q1={hour:gt,minute:gt,second:gt,timeZoneName:ys},$1={hour:gt,minute:gt,hourCycle:"h23"},z1={hour:gt,minute:gt,second:gt,hourCycle:"h23"},j1={hour:gt,minute:gt,second:gt,hourCycle:"h23",timeZoneName:au},U1={hour:gt,minute:gt,second:gt,hourCycle:"h23",timeZoneName:ys},V1={year:gt,month:gt,day:gt,hour:gt,minute:gt},W1={year:gt,month:gt,day:gt,hour:gt,minute:gt,second:gt},G1={year:gt,month:au,day:gt,hour:gt,minute:gt},H1={year:gt,month:au,day:gt,hour:gt,minute:gt,second:gt},q8={year:gt,month:au,day:gt,weekday:au,hour:gt,minute:gt},K1={year:gt,month:ys,day:gt,hour:gt,minute:gt,timeZoneName:au},Z1={year:gt,month:ys,day:gt,hour:gt,minute:gt,second:gt,timeZoneName:au},J1={year:gt,month:ys,day:gt,weekday:ys,hour:gt,minute:gt,timeZoneName:ys},Y1={year:gt,month:ys,day:gt,weekday:ys,hour:gt,minute:gt,second:gt,timeZoneName:ys};function Jt(t){return typeof t=="undefined"}function Hu(t){return typeof t=="number"}function X1(t){return typeof t=="number"&&t%1===0}function Die(t){return typeof t=="string"}function Oie(t){return Object.prototype.toString.call(t)==="[object Date]"}function $3(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function Rie(t){return Array.isArray(t)?t:[t]}function z8(t,e,r){if(t.length!==0)return t.reduce((n,a)=>{let s=[e(a),a];return n&&r(n[0],s[0])===n[0]?n:s},null)[1]}function Cie(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function uc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ku(t,e,r){return X1(t)&&t>=e&&t<=r}function xZe(t,e){return t-e*Math.floor(t/e)}function ti(t,e=2){let r=t<0,n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function Xf(t){if(!(Jt(t)||t===null||t===""))return parseInt(t,10)}function fc(t){if(!(Jt(t)||t===null||t===""))return parseFloat(t)}function Q1(t){if(!(Jt(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function iv(t,e,r=!1){let n=Or(10,e);return(r?Math.trunc:Math.round)(t*n)/n}function vd(t){return t%4===0&&(t%100!==0||t%400===0)}function gd(t){return vd(t)?366:365}function av(t,e){let r=xZe(e-1,12)+1,n=t+(e-r)/12;return r===2?vd(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function eb(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function sv(t){let e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,r=t-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return e===4||n===3?53:52}function tb(t){return t>99?t:t>60?1900+t:2e3+t}function z3(t,e,r,n=null){let a=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);let o=st({timeZoneName:e},s),u=new Intl.DateTimeFormat(r,o).formatToParts(a).find(l=>l.type.toLowerCase()==="timezonename");return u?u.value:null}function yd(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);let n=parseInt(e,10)||0,a=r<0||Object.is(r,-0)?-n:n;return r*60+a}function j8(t){let e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Ki(`Invalid unit value ${t}`);return e}function ov(t,e){let r={};for(let n in t)if(uc(t,n)){let a=t[n];if(a==null)continue;r[e(n)]=j8(a)}return r}function lc(t,e){let r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),a=t>=0?"+":"-";switch(e){case"short":return`${a}${ti(r,2)}:${ti(n,2)}`;case"narrow":return`${a}${r}${n>0?`:${n}`:""}`;case"techie":return`${a}${ti(r,2)}${ti(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function rb(t){return Cie(t,["hour","minute","second","millisecond"])}var U8=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;var SZe=["January","February","March","April","May","June","July","August","September","October","November","December"],V8=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],EZe=["J","F","M","A","M","J","J","A","S","O","N","D"];function W8(t){switch(t){case"narrow":return[...EZe];case"short":return[...V8];case"long":return[...SZe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var G8=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],H8=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],MZe=["M","T","W","T","F","S","S"];function K8(t){switch(t){case"narrow":return[...MZe];case"short":return[...H8];case"long":return[...G8];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Z8=["AM","PM"],AZe=["Before Christ","Anno Domini"],kZe=["BC","AD"],TZe=["B","A"];function J8(t){switch(t){case"narrow":return[...TZe];case"short":return[...kZe];case"long":return[...AZe];default:return null}}function Fie(t){return Z8[t.hour<12?0:1]}function Bie(t,e){return K8(e)[t.weekday-1]}function Lie(t,e){return W8(e)[t.month-1]}function Pie(t,e){return J8(e)[t.year<0?0:1]}function qie(t,e,r="always",n=!1){let a={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&s){let v=t==="days";switch(e){case 1:return v?"tomorrow":`next ${a[t][0]}`;case-1:return v?"yesterday":`last ${a[t][0]}`;case 0:return v?"today":`this ${a[t][0]}`;default:}}let o=Object.is(e,-0)||e<0,u=Math.abs(e),l=u===1,h=a[t],p=n?l?h[1]:h[2]||h[1]:l?a[t][0]:t;return o?`${u} ${p} ago`:`in ${u} ${p}`}function $ie(t,e){let r="";for(let n of t)n.literal?r+=n.val:r+=e(n.val);return r}var NZe={D:nv,DD:R1,DDD:C1,DDDD:F1,t:B1,tt:L1,ttt:P1,tttt:q1,T:$1,TT:z1,TTT:j1,TTTT:U1,f:V1,ff:G1,fff:K1,ffff:J1,F:W1,FF:H1,FFF:Z1,FFFF:Y1},xi=class{static create(e,r={}){return new xi(e,r)}static parseFormat(e){let r=null,n="",a=!1,s=[];for(let o=0;o<e.length;o++){let u=e.charAt(o);u==="'"?(n.length>0&&s.push({literal:a,val:n}),r=null,n="",a=!a):a||u===r?n+=u:(n.length>0&&s.push({literal:!1,val:n}),n=u,r=u)}return n.length>0&&s.push({literal:a,val:n}),s}static macroTokenToFormatOpts(e){return NZe[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,st(st({},this.opts),r)).format()}formatDateTime(e,r={}){return this.loc.dtFormatter(e,st(st({},this.opts),r)).format()}formatDateTimeParts(e,r={}){return this.loc.dtFormatter(e,st(st({},this.opts),r)).formatToParts()}resolvedOptions(e,r={}){return this.loc.dtFormatter(e,st(st({},this.opts),r)).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return ti(e,r);let n=st({},this.opts);return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){let n=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(S,A)=>this.loc.extract(e,S,A),o=S=>e.isOffsetFixed&&e.offset===0&&S.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,S.format):"",u=()=>n?Fie(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(S,A)=>n?Lie(e,S):s(A?{month:S}:{month:S,day:"numeric"},"month"),h=(S,A)=>n?Bie(e,S):s(A?{weekday:S}:{weekday:S,month:"long",day:"numeric"},"weekday"),p=S=>{let A=xi.macroTokenToFormatOpts(S);return A?this.formatWithSystemDefault(e,A):S},v=S=>n?Pie(e,S):s({era:S},"era"),y=S=>{switch(S){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return u();case"d":return a?s({day:"numeric"},"day"):this.num(e.day);case"dd":return a?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return h("short",!0);case"cccc":return h("long",!0);case"ccccc":return h("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return h("short",!1);case"EEEE":return h("long",!1);case"EEEEE":return h("narrow",!1);case"L":return a?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return a?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return a?s({month:"numeric"},"month"):this.num(e.month);case"MM":return a?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return a?s({year:"numeric"},"year"):this.num(e.year);case"yy":return a?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return a?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return a?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return v("short");case"GG":return v("long");case"GGGGG":return v("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return p(S)}};return $ie(xi.parseFormat(r),y)}formatDurationFromString(e,r){let n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},a=l=>h=>{let p=n(h);return p?this.num(l.get(p),h.length):h},s=xi.parseFormat(r),o=s.reduce((l,{literal:h,val:p})=>h?l:l.concat(p),[]),u=e.shiftTo(...o.map(n).filter(l=>l));return $ie(s,a(u))}};var Zi=class{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var Pa=class{get type(){throw new iu}get name(){throw new iu}get ianaName(){return this.name}get isUniversal(){throw new iu}offsetName(e,r){throw new iu}formatOffset(e,r){throw new iu}offset(e){throw new iu}equals(e){throw new iu}get isValid(){throw new iu}};var X8=null,su=class extends Pa{static get instance(){return X8===null&&(X8=new su),X8}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return z3(e,r,n)}formatOffset(e,r){return lc(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}};var U3={};function IZe(t){return U3[t]||(U3[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),U3[t]}var DZe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function OZe(t,e){let r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,a,s,o,u,l,h,p]=n;return[o,a,s,u,l,h,p]}function RZe(t,e){let r=t.formatToParts(e),n=[];for(let a=0;a<r.length;a++){let{type:s,value:o}=r[a],u=DZe[s];s==="era"?n[u]=o:Jt(u)||(n[u]=parseInt(o,10))}return n}var j3={},Si=class extends Pa{static create(e){return j3[e]||(j3[e]=new Si(e)),j3[e]}static resetCache(){j3={},U3={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(r){return!1}}constructor(e){super(),this.zoneName=e,this.valid=Si.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return z3(e,r,n,this.name)}formatOffset(e,r){return lc(this.offset(e),r)}offset(e){let r=new Date(e);if(isNaN(r))return NaN;let n=IZe(this.name),[a,s,o,u,l,h,p]=n.formatToParts?RZe(n,r):OZe(n,r);u==="BC"&&(a=-Math.abs(a)+1);let y=eb({year:a,month:s,day:o,hour:l===24?0:l,minute:h,second:p,millisecond:0}),S=+r,A=S%1e3;return S-=A>=0?A:1e3+A,(y-S)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}};var Q8=null,jn=class extends Pa{static get utcInstance(){return Q8===null&&(Q8=new jn(0)),Q8}static instance(e){return e===0?jn.utcInstance:new jn(e)}static parseSpecifier(e){if(e){let r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new jn(yd(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${lc(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${lc(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return lc(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}};var bd=class extends Pa{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function ou(t,e){let r;if(Jt(t)||t===null)return e;if(t instanceof Pa)return t;if(Die(t)){let n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?su.instance:n==="utc"||n==="gmt"?jn.utcInstance:jn.parseSpecifier(n)||Si.create(t)}else return Hu(t)?jn.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new bd(t)}var zie=()=>Date.now(),jie="system",Uie=null,Vie=null,Wie=null,Gie,an=class{static get now(){return zie}static set now(e){zie=e}static set defaultZone(e){jie=e}static get defaultZone(){return ou(jie,su.instance)}static get defaultLocale(){return Uie}static set defaultLocale(e){Uie=e}static get defaultNumberingSystem(){return Vie}static set defaultNumberingSystem(e){Vie=e}static get defaultOutputCalendar(){return Wie}static set defaultOutputCalendar(e){Wie=e}static get throwOnInvalid(){return Gie}static set throwOnInvalid(e){Gie=e}static resetCaches(){Br.resetCache(),Si.resetCache()}};var Hie={};function CZe(t,e={}){let r=JSON.stringify([t,e]),n=Hie[r];return n||(n=new Intl.ListFormat(t,e),Hie[r]=n),n}var eO={};function tO(t,e={}){let r=JSON.stringify([t,e]),n=eO[r];return n||(n=new Intl.DateTimeFormat(t,e),eO[r]=n),n}var rO={};function FZe(t,e={}){let r=JSON.stringify([t,e]),n=rO[r];return n||(n=new Intl.NumberFormat(t,e),rO[r]=n),n}var nO={};function BZe(t,e={}){let o=e,{base:r}=o,n=aM(o,["base"]),a=JSON.stringify([t,n]),s=nO[a];return s||(s=new Intl.RelativeTimeFormat(t,e),nO[a]=s),s}var nb=null;function LZe(){return nb||(nb=new Intl.DateTimeFormat().resolvedOptions().locale,nb)}function PZe(t){let e=t.indexOf("-u-");if(e===-1)return[t];{let r,n=t.substring(0,e);try{r=tO(t).resolvedOptions()}catch(o){r=tO(n).resolvedOptions()}let{numberingSystem:a,calendar:s}=r;return[n,a,s]}}function qZe(t,e,r){return(r||e)&&(t+="-u",r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function $Ze(t){let e=[];for(let r=1;r<=12;r++){let n=ht.utc(2016,r,1);e.push(t(n))}return e}function zZe(t){let e=[];for(let r=1;r<=7;r++){let n=ht.utc(2016,11,13+r);e.push(t(n))}return e}function V3(t,e,r,n,a){let s=t.listingMode(r);return s==="error"?null:s==="en"?n(e):a(e)}function jZe(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}var iO=class{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let u=n,{padTo:a,floor:s}=u,o=aM(u,["padTo","floor"]);if(!r||Object.keys(o).length>0){let l=st({useGrouping:!1},n);n.padTo>0&&(l.minimumIntegerDigits=n.padTo),this.inf=FZe(e,l)}}format(e){if(this.inf){let r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{let r=this.floor?Math.floor(e):iv(e,3);return ti(r,this.padTo)}}},aO=class{constructor(e,r,n){this.opts=n;let a;if(e.zone.isUniversal){let o=-1*(e.offset/60),u=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Si.create(u).valid?(a=u,this.dt=e):(a="UTC",n.timeZoneName?this.dt=e:this.dt=e.offset===0?e:ht.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,a=e.zone.name);let s=st({},this.opts);a&&(s.timeZone=a),this.dtf=tO(r,s)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}},sO=class{constructor(e,r,n){this.opts=st({style:"long"},n),!r&&$3()&&(this.rtf=BZe(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):qie(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}},Br=class{static fromOpts(e){return Br.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,r,n,a=!1){let s=e||an.defaultLocale,o=s||(a?"en-US":LZe()),u=r||an.defaultNumberingSystem,l=n||an.defaultOutputCalendar;return new Br(o,u,l,s)}static resetCache(){nb=null,eO={},rO={},nO={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n}={}){return Br.create(e,r,n)}constructor(e,r,n,a){let[s,o,u]=PZe(e);this.locale=s,this.numberingSystem=r||o||null,this.outputCalendar=n||u||null,this.intl=qZe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=jZe(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Br.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone(yi(st({},e),{defaultToEN:!0}))}redefaultToSystem(e={}){return this.clone(yi(st({},e),{defaultToEN:!1}))}months(e,r=!1,n=!0){return V3(this,e,n,W8,()=>{let a=r?{month:e,day:"numeric"}:{month:e},s=r?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=$Ze(o=>this.extract(o,a,"month"))),this.monthsCache[s][e]})}weekdays(e,r=!1,n=!0){return V3(this,e,n,K8,()=>{let a=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=r?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=zZe(o=>this.extract(o,a,"weekday"))),this.weekdaysCache[s][e]})}meridiems(e=!0){return V3(this,void 0,e,()=>Z8,()=>{if(!this.meridiemCache){let r={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ht.utc(2016,11,13,9),ht.utc(2016,11,13,19)].map(n=>this.extract(n,r,"dayperiod"))}return this.meridiemCache})}eras(e,r=!0){return V3(this,e,r,J8,()=>{let n={era:e};return this.eraCache[e]||(this.eraCache[e]=[ht.utc(-40,1,1),ht.utc(2017,1,1)].map(a=>this.extract(a,n,"era"))),this.eraCache[e]})}extract(e,r,n){let a=this.dtFormatter(e,r),s=a.formatToParts(),o=s.find(u=>u.type.toLowerCase()===n);return o?o.value:null}numberFormatter(e={}){return new iO(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new aO(e,this.intl,r)}relFormatter(e={}){return new sO(this.intl,this.isEnglish(),e)}listFormatter(e={}){return CZe(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}};function fv(...t){let e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function lv(...t){return e=>t.reduce(([r,n,a],s)=>{let[o,u,l]=s(e,a);return[st(st({},r),o),u||n,l]},[{},null,1]).slice(0,2)}function cv(t,...e){if(t==null)return[null,null];for(let[r,n]of e){let a=r.exec(t);if(a)return n(a)}return[null,null]}function Zie(...t){return(e,r)=>{let n={},a;for(a=0;a<t.length;a++)n[t[a]]=Xf(e[r+a]);return[n,null,r+a]}}var Jie=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,UZe=`(?:${Jie.source}?(?:\\[(${U8.source})\\])?)?`,oO=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Yie=RegExp(`${oO.source}${UZe}`),uO=RegExp(`(?:T${Yie.source})?`),VZe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,WZe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,GZe=/(\d{4})-?(\d{3})/,HZe=Zie("weekYear","weekNumber","weekDay"),KZe=Zie("year","ordinal"),ZZe=/(\d{4})-(\d\d)-(\d\d)/,Xie=RegExp(`${oO.source} ?(?:${Jie.source}|(${U8.source}))?`),JZe=RegExp(`(?: ${Xie.source})?`);function uv(t,e,r){let n=t[e];return Jt(n)?r:Xf(n)}function YZe(t,e){return[{year:uv(t,e),month:uv(t,e+1,1),day:uv(t,e+2,1)},null,e+3]}function hv(t,e){return[{hours:uv(t,e,0),minutes:uv(t,e+1,0),seconds:uv(t,e+2,0),milliseconds:Q1(t[e+3])},null,e+4]}function ib(t,e){let r=!t[e]&&!t[e+1],n=yd(t[e+1],t[e+2]),a=r?null:jn.instance(n);return[{},a,e+3]}function ab(t,e){let r=t[e]?Si.create(t[e]):null;return[{},r,e+1]}var XZe=RegExp(`^T?${oO.source}$`),QZe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function eJe(t){let[e,r,n,a,s,o,u,l,h]=t,p=e[0]==="-",v=l&&l[0]==="-",y=(S,A=!1)=>S!==void 0&&(A||S&&p)?-S:S;return[{years:y(fc(r)),months:y(fc(n)),weeks:y(fc(a)),days:y(fc(s)),hours:y(fc(o)),minutes:y(fc(u)),seconds:y(fc(l),l==="-0"),milliseconds:y(Q1(h),v)}]}var tJe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fO(t,e,r,n,a,s,o){let u={year:e.length===2?tb(Xf(e)):Xf(e),month:V8.indexOf(r)+1,day:Xf(n),hour:Xf(a),minute:Xf(s)};return o&&(u.second=Xf(o)),t&&(u.weekday=t.length>3?G8.indexOf(t)+1:H8.indexOf(t)+1),u}var rJe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function nJe(t){let[,e,r,n,a,s,o,u,l,h,p,v]=t,y=fO(e,a,n,r,s,o,u),S;return l?S=tJe[l]:h?S=0:S=yd(p,v),[y,new jn(S)]}function iJe(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var aJe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,sJe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,oJe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Kie(t){let[,e,r,n,a,s,o,u]=t;return[fO(e,a,n,r,s,o,u),jn.utcInstance]}function uJe(t){let[,e,r,n,a,s,o,u]=t;return[fO(e,u,r,n,a,s,o),jn.utcInstance]}var fJe=fv(VZe,uO),lJe=fv(WZe,uO),cJe=fv(GZe,uO),hJe=fv(Yie),Qie=lv(YZe,hv,ib,ab),dJe=lv(HZe,hv,ib,ab),pJe=lv(KZe,hv,ib,ab),mJe=lv(hv,ib,ab);function eae(t){return cv(t,[fJe,Qie],[lJe,dJe],[cJe,pJe],[hJe,mJe])}function tae(t){return cv(iJe(t),[rJe,nJe])}function rae(t){return cv(t,[aJe,Kie],[sJe,Kie],[oJe,uJe])}function nae(t){return cv(t,[QZe,eJe])}var vJe=lv(hv);function iae(t){return cv(t,[XZe,vJe])}var gJe=fv(ZZe,JZe),yJe=fv(Xie),bJe=lv(hv,ib,ab);function aae(t){return cv(t,[gJe,Qie],[yJe,bJe])}var wJe="Invalid Duration",sae={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},_Je=st({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},sae),xo=146097/400,dv=146097/4800,xJe=st({years:{quarters:4,months:12,weeks:xo/7,days:xo,hours:xo*24,minutes:xo*24*60,seconds:xo*24*60*60,milliseconds:xo*24*60*60*1e3},quarters:{months:3,weeks:xo/28,days:xo/4,hours:xo*24/4,minutes:xo*24*60/4,seconds:xo*24*60*60/4,milliseconds:xo*24*60*60*1e3/4},months:{weeks:dv/7,days:dv,hours:dv*24,minutes:dv*24*60,seconds:dv*24*60*60,milliseconds:dv*24*60*60*1e3}},sae),_d=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],SJe=_d.slice(0).reverse();function wd(t,e,r=!1){let n={values:r?e.values:st(st({},t.values),e.values||{}),loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy};return new Wt(n)}function EJe(t){return t<0?Math.floor(t):Math.ceil(t)}function oae(t,e,r,n,a){let s=t[a][r],o=e[r]/s,u=Math.sign(o)===Math.sign(n[a]),l=!u&&n[a]!==0&&Math.abs(o)<=1?EJe(o):Math.trunc(o);n[a]+=l,e[r]-=l*s}function MJe(t,e){SJe.reduce((r,n)=>Jt(e[n])?r:(r&&oae(t,e,r,e,n),n),null)}var Wt=class{constructor(e){let r=e.conversionAccuracy==="longterm"||!1;this.values=e.values,this.loc=e.loc||Br.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r?xJe:_Je,this.isLuxonDuration=!0}static fromMillis(e,r){return Wt.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Ki(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Wt({values:ov(e,Wt.normalizeUnit),loc:Br.fromObject(r),conversionAccuracy:r.conversionAccuracy})}static fromDurationLike(e){if(Hu(e))return Wt.fromMillis(e);if(Wt.isDuration(e))return e;if(typeof e=="object")return Wt.fromObject(e);throw new Ki(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){let[n]=nae(e);return n?Wt.fromObject(n,r):Wt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){let[n]=iae(e);return n?Wt.fromObject(n,r):Wt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Ki("need to specify a reason the Duration is invalid");let n=e instanceof Zi?e:new Zi(e,r);if(an.throwOnInvalid)throw new q3(n);return new Wt({invalid:n})}static normalizeUnit(e){let r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new rv(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){let n=yi(st({},r),{floor:r.round!==!1&&r.floor!==!1});return this.isValid?xi.create(this.loc,n).formatDurationFromString(this,e):wJe}toHuman(e={}){let r=_d.map(n=>{let a=this.values[n];return Jt(a)?null:this.loc.numberFormatter(yi(st({style:"unit",unitDisplay:"long"},e),{unit:n.slice(0,-1)})).format(a)}).filter(n=>n);return this.loc.listFormatter(st({type:"conjunction",style:e.listStyle||"narrow"},e)).format(r)}toObject(){return this.isValid?st({},this.values):{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=iv(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let r=this.toMillis();if(r<0||r>=864e5)return null;e=st({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);let n=this.shiftTo("hours","minutes","seconds","milliseconds"),a=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(a+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||n.milliseconds!==0)&&(a+=".SSS"));let s=n.toFormat(a);return e.includePrefix&&(s="T"+s),s}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let r=Wt.fromDurationLike(e),n={};for(let a of _d)(uc(r.values,a)||uc(this.values,a))&&(n[a]=r.get(a)+this.get(a));return wd(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let r=Wt.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;let r={};for(let n of Object.keys(this.values))r[n]=j8(e(this.values[n],n));return wd(this,{values:r},!0)}get(e){return this[Wt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let r=st(st({},this.values),ov(e,Wt.normalizeUnit));return wd(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n}={}){let a=this.loc.clone({locale:e,numberingSystem:r}),s={loc:a};return n&&(s.conversionAccuracy=n),wd(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return MJe(this.matrix,e),wd(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>Wt.normalizeUnit(o));let r={},n={},a=this.toObject(),s;for(let o of _d)if(e.indexOf(o)>=0){s=o;let u=0;for(let h in n)u+=this.matrix[h][o]*n[h],n[h]=0;Hu(a[o])&&(u+=a[o]);let l=Math.trunc(u);r[o]=l,n[o]=(u*1e3-l*1e3)/1e3;for(let h in a)_d.indexOf(h)>_d.indexOf(o)&&oae(this.matrix,a,h,r,o)}else Hu(a[o])&&(n[o]=a[o]);for(let o in n)n[o]!==0&&(r[s]+=o===s?n[o]:n[o]/this.matrix[s][o]);return wd(this,{values:r},!0).normalize()}negate(){if(!this.isValid)return this;let e={};for(let r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return wd(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,a){return n===void 0||n===0?a===void 0||a===0:n===a}for(let n of _d)if(!r(this.values[n],e.values[n]))return!1;return!0}};var sb="Invalid Interval";function AJe(t,e){return!t||!t.isValid?hn.invalid("missing or invalid start"):!e||!e.isValid?hn.invalid("missing or invalid end"):e<t?hn.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var hn=class{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Ki("need to specify a reason the Interval is invalid");let n=e instanceof Zi?e:new Zi(e,r);if(an.throwOnInvalid)throw new P3(n);return new hn({invalid:n})}static fromDateTimes(e,r){let n=pv(e),a=pv(r),s=AJe(n,a);return s==null?new hn({start:n,end:a}):s}static after(e,r){let n=Wt.fromDurationLike(r),a=pv(e);return hn.fromDateTimes(a,a.plus(n))}static before(e,r){let n=Wt.fromDurationLike(r),a=pv(e);return hn.fromDateTimes(a.minus(n),a)}static fromISO(e,r){let[n,a]=(e||"").split("/",2);if(n&&a){let s,o;try{s=ht.fromISO(n,r),o=s.isValid}catch(h){o=!1}let u,l;try{u=ht.fromISO(a,r),l=u.isValid}catch(h){l=!1}if(o&&l)return hn.fromDateTimes(s,u);if(o){let h=Wt.fromISO(a,r);if(h.isValid)return hn.after(s,h)}else if(l){let h=Wt.fromISO(n,r);if(h.isValid)return hn.before(u,h)}}return hn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let r=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(r,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?hn.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];let r=e.map(pv).filter(o=>this.contains(o)).sort(),n=[],{s:a}=this,s=0;for(;a<this.e;){let o=r[s]||this.e,u=+o>+this.e?this.e:o;n.push(hn.fromDateTimes(a,u)),a=u,s+=1}return n}splitBy(e){let r=Wt.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,a=1,s,o=[];for(;n<this.e;){let u=this.start.plus(r.mapUnits(l=>l*a));s=+u>+this.e?this.e:u,o.push(hn.fromDateTimes(n,s)),n=s,a+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:hn.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;let r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return hn.fromDateTimes(r,n)}static merge(e){let[r,n]=e.sort((a,s)=>a.s-s.s).reduce(([a,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[a,s.union(o)]:[a.concat([s]),o]:[a,o],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0,a=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),u=o.sort((l,h)=>l.time-h.time);for(let l of u)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&a.push(hn.fromDateTimes(r,l.time)),r=null);return hn.merge(a)}difference(...e){return hn.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:sb}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:sb}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:sb}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:sb}toFormat(e,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:sb}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):Wt.invalid(this.invalidReason)}mapEndpoints(e){return hn.fromDateTimes(e(this.s),e(this.e))}};var Zu=class{static hasDST(e=an.defaultZone){let r=ht.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return Si.isValidZone(e)}static normalizeZone(e){return ou(e,an.defaultZone)}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:a=null,outputCalendar:s="gregory"}={}){return(a||Br.create(r,n,s)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:a=null,outputCalendar:s="gregory"}={}){return(a||Br.create(r,n,s)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:a=null}={}){return(a||Br.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:a=null}={}){return(a||Br.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Br.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Br.create(r,null,"gregory").eras(e)}static features(){return{relative:$3()}}};function uae(t,e){let r=a=>a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(Wt.fromMillis(n).as("days"))}function kJe(t,e,r){let n=[["years",(u,l)=>l.year-u.year],["quarters",(u,l)=>l.quarter-u.quarter],["months",(u,l)=>l.month-u.month+(l.year-u.year)*12],["weeks",(u,l)=>{let h=uae(u,l);return(h-h%7)/7}],["days",uae]],a={},s,o;for(let[u,l]of n)if(r.indexOf(u)>=0){s=u;let h=l(t,e);o=t.plus({[u]:h}),o>e?(t=t.plus({[u]:h-1}),h-=1):t=o,a[u]=h}return[t,a,o,s]}function fae(t,e,r,n){let[a,s,o,u]=kJe(t,e,r),l=e-a,h=r.filter(v=>["hours","minutes","seconds","milliseconds"].indexOf(v)>=0);h.length===0&&(o<e&&(o=a.plus({[u]:1})),o!==a&&(s[u]=(s[u]||0)+l/(o-a)));let p=Wt.fromObject(s,n);return h.length>0?Wt.fromMillis(l,n).shiftTo(...h).plus(p):p}var lO={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},lae={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},TJe=lO.hanidec.replace(/[\[|\]]/g,"").split("");function cae(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(t[r].search(lO.hanidec)!==-1)e+=TJe.indexOf(t[r]);else for(let a in lae){let[s,o]=lae[a];n>=s&&n<=o&&(e+=n-s)}}return parseInt(e,10)}else return e}function So({numberingSystem:t},e=""){return new RegExp(`${lO[t||"latn"]}${e}`)}var NJe="missing Intl.DateTimeFormat.formatToParts support";function Lr(t,e=r=>r){return{regex:t,deser:([r])=>e(cae(r))}}var IJe=String.fromCharCode(160),pae=`[ ${IJe}]`,mae=new RegExp(pae,"g");function DJe(t){return t.replace(/\./g,"\\.?").replace(mae,pae)}function hae(t){return t.replace(/\./g,"").replace(mae," ").toLowerCase()}function uu(t,e){return t===null?null:{regex:RegExp(t.map(DJe).join("|")),deser:([r])=>t.findIndex(n=>hae(r)===hae(n))+e}}function dae(t,e){return{regex:t,deser:([,r,n])=>yd(r,n),groups:e}}function cO(t){return{regex:t,deser:([e])=>e}}function OJe(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function RJe(t,e){let r=So(e),n=So(e,"{2}"),a=So(e,"{3}"),s=So(e,"{4}"),o=So(e,"{6}"),u=So(e,"{1,2}"),l=So(e,"{1,3}"),h=So(e,"{1,6}"),p=So(e,"{1,9}"),v=So(e,"{2,4}"),y=So(e,"{4,6}"),S=I=>({regex:RegExp(OJe(I.val)),deser:([N])=>N,literal:!0}),T=(I=>{if(t.literal)return S(I);switch(I.val){case"G":return uu(e.eras("short",!1),0);case"GG":return uu(e.eras("long",!1),0);case"y":return Lr(h);case"yy":return Lr(v,tb);case"yyyy":return Lr(s);case"yyyyy":return Lr(y);case"yyyyyy":return Lr(o);case"M":return Lr(u);case"MM":return Lr(n);case"MMM":return uu(e.months("short",!0,!1),1);case"MMMM":return uu(e.months("long",!0,!1),1);case"L":return Lr(u);case"LL":return Lr(n);case"LLL":return uu(e.months("short",!1,!1),1);case"LLLL":return uu(e.months("long",!1,!1),1);case"d":return Lr(u);case"dd":return Lr(n);case"o":return Lr(l);case"ooo":return Lr(a);case"HH":return Lr(n);case"H":return Lr(u);case"hh":return Lr(n);case"h":return Lr(u);case"mm":return Lr(n);case"m":return Lr(u);case"q":return Lr(u);case"qq":return Lr(n);case"s":return Lr(u);case"ss":return Lr(n);case"S":return Lr(l);case"SSS":return Lr(a);case"u":return cO(p);case"uu":return cO(u);case"uuu":return Lr(r);case"a":return uu(e.meridiems(),0);case"kkkk":return Lr(s);case"kk":return Lr(v,tb);case"W":return Lr(u);case"WW":return Lr(n);case"E":case"c":return Lr(r);case"EEE":return uu(e.weekdays("short",!1,!1),1);case"EEEE":return uu(e.weekdays("long",!1,!1),1);case"ccc":return uu(e.weekdays("short",!0,!1),1);case"cccc":return uu(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return dae(new RegExp(`([+-]${u.source})(?::(${n.source}))?`),2);case"ZZZ":return dae(new RegExp(`([+-]${u.source})(${n.source})?`),2);case"z":return cO(/[a-z_+-/]{1,256}?/i);default:return S(I)}})(t)||{invalidReason:NJe};return T.token=t,T}var CJe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function FJe(t,e,r){let{type:n,value:a}=t;if(n==="literal")return{literal:!0,val:a};let s=r[n],o=CJe[n];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function BJe(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function LJe(t,e,r){let n=t.match(e);if(n){let a={},s=1;for(let o in r)if(uc(r,o)){let u=r[o],l=u.groups?u.groups+1:1;!u.literal&&u.token&&(a[u.token.val[0]]=u.deser(n.slice(s,s+l))),s+=l}return[n,a]}else return[n,{}]}function PJe(t){let e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},r=null,n;return Jt(t.z)||(r=Si.create(t.z)),Jt(t.Z)||(r||(r=new jn(t.Z)),n=t.Z),Jt(t.q)||(t.M=(t.q-1)*3+1),Jt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Jt(t.u)||(t.S=Q1(t.u)),[Object.keys(t).reduce((s,o)=>{let u=e(o);return u&&(s[u]=t[o]),s},{}),r,n]}var hO=null;function qJe(){return hO||(hO=ht.fromMillis(1555555555555)),hO}function $Je(t,e){if(t.literal)return t;let r=xi.macroTokenToFormatOpts(t.val),n=pO(r,e);return n==null||n.includes(void 0)?t:n}function zJe(t,e){return Array.prototype.concat(...t.map(r=>$Je(r,e)))}function dO(t,e,r){let n=zJe(xi.parseFormat(r),t),a=n.map(o=>RJe(o,t)),s=a.find(o=>o.invalidReason);if(s)return{input:e,tokens:n,invalidReason:s.invalidReason};{let[o,u]=BJe(a),l=RegExp(o,"i"),[h,p]=LJe(e,l,u),[v,y,S]=p?PJe(p):[null,null,void 0];if(uc(p,"a")&&uc(p,"H"))throw new Yf("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:l,rawMatches:h,matches:p,result:v,zone:y,specificOffset:S}}}function vae(t,e,r){let{result:n,zone:a,specificOffset:s,invalidReason:o}=dO(t,e,r);return[n,a,s,o]}function pO(t,e){return t?xi.create(e,t).formatDateTimeParts(qJe()).map(a=>FJe(a,e,t)):null}var gae=[0,31,59,90,120,151,181,212,243,273,304,334],yae=[0,31,60,91,121,152,182,213,244,274,305,335];function Eo(t,e){return new Zi("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function bae(t,e,r){let n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let a=n.getUTCDay();return a===0?7:a}function wae(t,e,r){return r+(vd(t)?yae:gae)[e-1]}function _ae(t,e){let r=vd(t)?yae:gae,n=r.findIndex(s=>s<e),a=e-r[n];return{month:n+1,day:a}}function W3(t){let{year:e,month:r,day:n}=t,a=wae(e,r,n),s=bae(e,r,n),o=Math.floor((a-s+10)/7),u;return o<1?(u=e-1,o=sv(u)):o>sv(e)?(u=e+1,o=1):u=e,st({weekYear:u,weekNumber:o,weekday:s},rb(t))}function mO(t){let{weekYear:e,weekNumber:r,weekday:n}=t,a=bae(e,1,4),s=gd(e),o=r*7+n-a-3,u;o<1?(u=e-1,o+=gd(u)):o>s?(u=e+1,o-=gd(e)):u=e;let{month:l,day:h}=_ae(u,o);return st({year:u,month:l,day:h},rb(t))}function G3(t){let{year:e,month:r,day:n}=t,a=wae(e,r,n);return st({year:e,ordinal:a},rb(t))}function vO(t){let{year:e,ordinal:r}=t,{month:n,day:a}=_ae(e,r);return st({year:e,month:n,day:a},rb(t))}function xae(t){let e=X1(t.weekYear),r=Ku(t.weekNumber,1,sv(t.weekYear)),n=Ku(t.weekday,1,7);return e?r?n?!1:Eo("weekday",t.weekday):Eo("week",t.week):Eo("weekYear",t.weekYear)}function Sae(t){let e=X1(t.year),r=Ku(t.ordinal,1,gd(t.year));return e?r?!1:Eo("ordinal",t.ordinal):Eo("year",t.year)}function gO(t){let e=X1(t.year),r=Ku(t.month,1,12),n=Ku(t.day,1,av(t.year,t.month));return e?r?n?!1:Eo("day",t.day):Eo("month",t.month):Eo("year",t.year)}function yO(t){let{hour:e,minute:r,second:n,millisecond:a}=t,s=Ku(e,0,23)||e===24&&r===0&&n===0&&a===0,o=Ku(r,0,59),u=Ku(n,0,59),l=Ku(a,0,999);return s?o?u?l?!1:Eo("millisecond",a):Eo("second",n):Eo("minute",r):Eo("hour",e)}var bO="Invalid DateTime",Eae=864e13;function H3(t){return new Zi("unsupported zone",`the zone "${t.name}" is not supported`)}function wO(t){return t.weekData===null&&(t.weekData=W3(t.c)),t.weekData}function ob(t,e){let r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new ht(yi(st(st({},r),e),{old:r}))}function Oae(t,e,r){let n=t-e*60*1e3,a=r.offset(n);if(e===a)return[n,e];n-=(a-e)*60*1e3;let s=r.offset(n);return a===s?[n,a]:[t-Math.min(a,s)*60*1e3,Math.max(a,s)]}function Mae(t,e){t+=e*60*1e3;let r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Z3(t,e,r){return Oae(eb(t),e,r)}function Aae(t,e){let r=t.o,n=t.c.year+Math.trunc(e.years),a=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s=yi(st({},t.c),{year:n,month:a,day:Math.min(t.c.day,av(n,a))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),o=Wt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),u=eb(s),[l,h]=Oae(u,r,t.zone);return o!==0&&(l+=o,h=t.zone.offset(l)),{ts:l,o:h}}function ub(t,e,r,n,a,s){let{setZone:o,zone:u}=r;if(t&&Object.keys(t).length!==0){let l=e||u,h=ht.fromObject(t,yi(st({},r),{zone:l,specificOffset:s}));return o?h:h.setZone(u)}else return ht.invalid(new Zi("unparsable",`the input "${a}" can't be parsed as ${n}`))}function K3(t,e,r=!0){return t.isValid?xi.create(Br.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function _O(t,e){let r=t.c.year>9999||t.c.year<0,n="";return r&&t.c.year>=0&&(n+="+"),n+=ti(t.c.year,r?6:4),e?(n+="-",n+=ti(t.c.month),n+="-",n+=ti(t.c.day)):(n+=ti(t.c.month),n+=ti(t.c.day)),n}function kae(t,e,r,n,a,s){let o=ti(t.c.hour);return e?(o+=":",o+=ti(t.c.minute),(t.c.second!==0||!r)&&(o+=":")):o+=ti(t.c.minute),(t.c.second!==0||!r)&&(o+=ti(t.c.second),(t.c.millisecond!==0||!n)&&(o+=".",o+=ti(t.c.millisecond,3))),a&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=ti(Math.trunc(-t.o/60)),o+=":",o+=ti(Math.trunc(-t.o%60))):(o+="+",o+=ti(Math.trunc(t.o/60)),o+=":",o+=ti(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}var Rae={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},jJe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},UJe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Cae=["year","month","day","hour","minute","second","millisecond"],VJe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],WJe=["year","ordinal","hour","minute","second","millisecond"];function Tae(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new rv(t);return e}function Nae(t,e){let r=ou(e.zone,an.defaultZone),n=Br.fromObject(e),a=an.now(),s,o;if(Jt(t.year))s=a;else{for(let h of Cae)Jt(t[h])&&(t[h]=Rae[h]);let u=gO(t)||yO(t);if(u)return ht.invalid(u);let l=r.offset(a);[s,o]=Z3(t,l,r)}return new ht({ts:s,zone:r,loc:n,o})}function Iae(t,e,r){let n=Jt(r.round)?!0:r.round,a=(o,u)=>(o=iv(o,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(o,u)),s=o=>r.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(r.unit)return a(s(r.unit),r.unit);for(let o of r.units){let u=s(o);if(Math.abs(u)>=1)return a(u,o)}return a(t>e?-0:0,r.units[r.units.length-1])}function Dae(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}var ht=class{constructor(e){let r=e.zone||an.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new Zi("invalid input"):null)||(r.isValid?null:H3(r));this.ts=Jt(e.ts)?an.now():e.ts;let a=null,s=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[a,s]=[e.old.c,e.old.o];else{let u=r.offset(this.ts);a=Mae(this.ts,u),n=Number.isNaN(a.year)?new Zi("invalid input"):null,a=n?null:a,s=n?null:u}this._zone=r,this.loc=e.loc||Br.create(),this.invalid=n,this.weekData=null,this.c=a,this.o=s,this.isLuxonDateTime=!0}static now(){return new ht({})}static local(){let[e,r]=Dae(arguments),[n,a,s,o,u,l,h]=r;return Nae({year:n,month:a,day:s,hour:o,minute:u,second:l,millisecond:h},e)}static utc(){let[e,r]=Dae(arguments),[n,a,s,o,u,l,h]=r;return e.zone=jn.utcInstance,Nae({year:n,month:a,day:s,hour:o,minute:u,second:l,millisecond:h},e)}static fromJSDate(e,r={}){let n=Oie(e)?e.valueOf():NaN;if(Number.isNaN(n))return ht.invalid("invalid input");let a=ou(r.zone,an.defaultZone);return a.isValid?new ht({ts:n,zone:a,loc:Br.fromObject(r)}):ht.invalid(H3(a))}static fromMillis(e,r={}){if(Hu(e))return e<-Eae||e>Eae?ht.invalid("Timestamp out of range"):new ht({ts:e,zone:ou(r.zone,an.defaultZone),loc:Br.fromObject(r)});throw new Ki(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(Hu(e))return new ht({ts:e*1e3,zone:ou(r.zone,an.defaultZone),loc:Br.fromObject(r)});throw new Ki("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};let n=ou(r.zone,an.defaultZone);if(!n.isValid)return ht.invalid(H3(n));let a=an.now(),s=Jt(r.specificOffset)?n.offset(a):r.specificOffset,o=ov(e,Tae),u=!Jt(o.ordinal),l=!Jt(o.year),h=!Jt(o.month)||!Jt(o.day),p=l||h,v=o.weekYear||o.weekNumber,y=Br.fromObject(r);if((p||u)&&v)throw new Yf("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&u)throw new Yf("Can't mix ordinal dates with month/day");let S=v||o.weekday&&!p,A,T,I=Mae(a,s);S?(A=VJe,T=jJe,I=W3(I)):u?(A=WJe,T=UJe,I=G3(I)):(A=Cae,T=Rae);let N=!1;for(let j of A){let Z=o[j];Jt(Z)?N?o[j]=T[j]:o[j]=I[j]:N=!0}let D=S?xae(o):u?Sae(o):gO(o),C=D||yO(o);if(C)return ht.invalid(C);let L=S?mO(o):u?vO(o):o,[z,$]=Z3(L,s,n),G=new ht({ts:z,zone:n,o:$,loc:y});return o.weekday&&p&&e.weekday!==G.weekday?ht.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${G.toISO()}`):G}static fromISO(e,r={}){let[n,a]=eae(e);return ub(n,a,r,"ISO 8601",e)}static fromRFC2822(e,r={}){let[n,a]=tae(e);return ub(n,a,r,"RFC 2822",e)}static fromHTTP(e,r={}){let[n,a]=rae(e);return ub(n,a,r,"HTTP",r)}static fromFormat(e,r,n={}){if(Jt(e)||Jt(r))throw new Ki("fromFormat requires an input string and a format");let{locale:a=null,numberingSystem:s=null}=n,o=Br.fromOpts({locale:a,numberingSystem:s,defaultToEN:!0}),[u,l,h,p]=vae(o,e,r);return p?ht.invalid(p):ub(u,l,n,`format ${r}`,e,h)}static fromString(e,r,n={}){return ht.fromFormat(e,r,n)}static fromSQL(e,r={}){let[n,a]=aae(e);return ub(n,a,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Ki("need to specify a reason the DateTime is invalid");let n=e instanceof Zi?e:new Zi(e,r);if(an.throwOnInvalid)throw new L3(n);return new ht({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){let n=pO(e,Br.fromObject(r));return n?n.map(a=>a?a.val:null).join(""):null}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?wO(this).weekYear:NaN}get weekNumber(){return this.isValid?wO(this).weekNumber:NaN}get weekday(){return this.isValid?wO(this).weekday:NaN}get ordinal(){return this.isValid?G3(this.c).ordinal:NaN}get monthShort(){return this.isValid?Zu.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Zu.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Zu.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Zu.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return vd(this.year)}get daysInMonth(){return av(this.year,this.month)}get daysInYear(){return this.isValid?gd(this.year):NaN}get weeksInWeekYear(){return this.isValid?sv(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:r,numberingSystem:n,calendar:a}=xi.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:a}}toUTC(e=0,r={}){return this.setZone(jn.instance(e),r)}toLocal(){return this.setZone(an.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=ou(e,an.defaultZone),e.equals(this.zone))return this;if(e.isValid){let a=this.ts;if(r||n){let s=e.offset(this.ts),o=this.toObject();[a]=Z3(o,s,e)}return ob(this,{ts:a,zone:e})}else return ht.invalid(H3(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){let a=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return ob(this,{loc:a})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let r=ov(e,Tae),n=!Jt(r.weekYear)||!Jt(r.weekNumber)||!Jt(r.weekday),a=!Jt(r.ordinal),s=!Jt(r.year),o=!Jt(r.month)||!Jt(r.day),u=s||o,l=r.weekYear||r.weekNumber;if((u||a)&&l)throw new Yf("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&a)throw new Yf("Can't mix ordinal dates with month/day");let h;n?h=mO(st(st({},W3(this.c)),r)):Jt(r.ordinal)?(h=st(st({},this.toObject()),r),Jt(r.day)&&(h.day=Math.min(av(h.year,h.month),h.day))):h=vO(st(st({},G3(this.c)),r));let[p,v]=Z3(h,this.o,this.zone);return ob(this,{ts:p,o:v})}plus(e){if(!this.isValid)return this;let r=Wt.fromDurationLike(e);return ob(this,Aae(this,r))}minus(e){if(!this.isValid)return this;let r=Wt.fromDurationLike(e).negate();return ob(this,Aae(this,r))}startOf(e){if(!this.isValid)return this;let r={},n=Wt.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break;case"milliseconds":break}if(n==="weeks"&&(r.weekday=1),n==="quarters"){let a=Math.ceil(this.month/3);r.month=(a-1)*3+1}return this.set(r)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,r={}){return this.isValid?xi.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):bO}toLocaleString(e=nv,r={}){return this.isValid?xi.create(this.loc.clone(r),e).formatDateTime(this):bO}toLocaleParts(e={}){return this.isValid?xi.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:a=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;let o=e==="extended",u=_O(this,o);return u+="T",u+=kae(this,o,r,n,a,s),u}toISODate({format:e="extended"}={}){return this.isValid?_O(this,e==="extended"):null}toISOWeekDate(){return K3(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:a=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(a?"T":"")+kae(this,o==="extended",r,e,n,s):null}toRFC2822(){return K3(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return K3(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?_O(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let a="HH:mm:ss.SSS";return(r||e)&&(n&&(a+=" "),r?a+="z":e&&(a+="ZZ")),K3(this,a,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():bO}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let r=st({},this.c);return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return Wt.invalid("created by diffing an invalid DateTime");let a=st({locale:this.locale,numberingSystem:this.numberingSystem},n),s=Rie(r).map(Wt.normalizeUnit),o=e.valueOf()>this.valueOf(),u=o?this:e,l=o?e:this,h=fae(u,l,s,a);return o?h.negate():h}diffNow(e="milliseconds",r={}){return this.diff(ht.now(),e,r)}until(e){return this.isValid?hn.fromDateTimes(this,e):this}hasSame(e,r){if(!this.isValid)return!1;let n=e.valueOf(),a=this.setZone(e.zone,{keepLocalTime:!0});return a.startOf(r)<=n&&n<=a.endOf(r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let r=e.base||ht.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0,a=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(a=e.unit,s=void 0),Iae(r,this.plus(n),yi(st({},e),{numeric:"always",units:a,unit:s}))}toRelativeCalendar(e={}){return this.isValid?Iae(e.base||ht.fromObject({},{zone:this.zone}),this,yi(st({},e),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...e){if(!e.every(ht.isDateTime))throw new Ki("min requires all arguments be DateTimes");return z8(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(ht.isDateTime))throw new Ki("max requires all arguments be DateTimes");return z8(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){let{locale:a=null,numberingSystem:s=null}=n,o=Br.fromOpts({locale:a,numberingSystem:s,defaultToEN:!0});return dO(o,e,r)}static fromStringExplain(e,r,n={}){return ht.fromFormatExplain(e,r,n)}static get DATE_SHORT(){return nv}static get DATE_MED(){return R1}static get DATE_MED_WITH_WEEKDAY(){return P8}static get DATE_FULL(){return C1}static get DATE_HUGE(){return F1}static get TIME_SIMPLE(){return B1}static get TIME_WITH_SECONDS(){return L1}static get TIME_WITH_SHORT_OFFSET(){return P1}static get TIME_WITH_LONG_OFFSET(){return q1}static get TIME_24_SIMPLE(){return $1}static get TIME_24_WITH_SECONDS(){return z1}static get TIME_24_WITH_SHORT_OFFSET(){return j1}static get TIME_24_WITH_LONG_OFFSET(){return U1}static get DATETIME_SHORT(){return V1}static get DATETIME_SHORT_WITH_SECONDS(){return W1}static get DATETIME_MED(){return G1}static get DATETIME_MED_WITH_SECONDS(){return H1}static get DATETIME_MED_WITH_WEEKDAY(){return q8}static get DATETIME_FULL(){return K1}static get DATETIME_FULL_WITH_SECONDS(){return Z1}static get DATETIME_HUGE(){return J1}static get DATETIME_HUGE_WITH_SECONDS(){return Y1}};function pv(t){if(ht.isDateTime(t))return t;if(t&&t.valueOf&&Hu(t.valueOf()))return ht.fromJSDate(t);if(t&&typeof t=="object")return ht.fromObject(t);throw new Ki(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var GJe="3.0.1";var qae=lt(Bae(),1);function mv(t){let{dateObject:e,dateFormat:r}=t;return r==="js"&&typeof e=="object"||typeof e=="object"&&e instanceof Date?{date:ht.fromJSDate(e,{zone:t.time_zone}),format:"js"}:typeof r=="string"&&r!=="iso"&&r!=="js"?{date:ht.fromFormat(e,r,{zone:t.time_zone}),format:r}:{date:ht.fromISO(e,{zone:t.time_zone}),format:"iso"}}var HJe=[],KJe=[],Lae=[],ZJe=[],JJe=[],YJe=[],XJe=[],QJe=[],$ae={year:new Date().getFullYear(),month:1,day:1,hour:0,minute:0,second:0,week:1,weekday:1,quarter_hour:1,oridinalday:1},zae=[$ae];for(let t=0;t<=366;t++){let e=Object.assign({},$ae);t>=1&&t<=12&&(e.month=t,HJe.push(t)),t>=1&&t<=52&&(e.week=t,KJe.push(t)),t>=1&&t<=7&&(e.weekday=t,Lae.push(t)),t>=1&&t<=366&&(e.oridinalday=t,JJe.push(t)),t>=1&&t<=31&&(e.day=t,Lae.push(t)),t>=1&&t<=96&&(e.quarter_hour=t,ZJe.push(t)),t<=23&&(e.hour=t,YJe.push(t)),t<=59&&(e.minute=t,XJe.push(t)),t<=59&&(e.second=t,QJe.push(t)),zae.push(e)}function jae({completion_percentage:t,loss:e,epoch:r,status:n,logs:a,defaultLog:s=!0}){s&&console.log({completion_percentage:t,loss:e,epoch:r,status:n,logs:a})}var Uae=zae;function eYe(t){let e=t/15;return e<1?1:e<2?2:e<3?3:4}function tYe(t){if(typeof t.hour=="undefined"||typeof t.minute=="undefined")throw new ReferenceError("both hour and minute are required");return t.hour*4+eYe(t.minute)}function Vae(t,e){let r=ht.fromJSDate(t,e),n=Object.assign({},r.toObject());return n.week=r.weekNumber,n.ordinal_day=r.ordinal,n.weekday=r.weekday,n.days_in_month=r.daysInMonth,n.weekend=r.weekday===6||r.weekday===7,n.quarter_hour=tYe(n),n}function xO({date:t,time_zone:e,dimension:r}){let n=ht.fromJSDate(t).plus({[SO[r]]:1}).toJSDate(),a=ht.fromJSDate(t,{zone:e}),s=ht.fromJSDate(n,{zone:e}),o=ht.fromJSDate(t),u=ht.fromJSDate(n),{year:l,month:h,day:p,ordinal:v,weekday:y,hour:S,minute:A,second:T}=a;return{year:l,month:h,day:p,hour:S,minute:A,second:T,days_in_month:a.daysInMonth,ordinal_day:v,week:a.weekNumber,weekday:y,weekend:a.weekday>=6,origin_time_zone:e,start_origin_date_string:a.toFormat(Pae),start_gmt_date_string:o.toJSDate().toUTCString(),end_origin_date_string:s.toFormat(Pae),end_gmt_date_string:u.toJSDate().toUTCString()}}var Pae="ccc, dd LLL yyyy TTT",SO={["monthly"]:"months",["weekly"]:"weeks",["daily"]:"days",["hourly"]:"hours"},Wae={years:"yearly",weeks:"weekly",months:"monthly",days:"daily",hours:"hourly"};var EO={includeOffset:!1,suppressMilliseconds:!0};var Gae=["years","months","weeks","days","hours"],Ao="+=+";function Hae(t={}){return 1}function Kae({outlier_property:t}={}){if(t){let e=this.data,r=(0,qae.default)(e.map(s=>s[t])),a=this.datum[t];return r.testOutlier(a)?1:-1}else return 0}function Y3(t,{mockEncodedData:e=[],includeConstants:r=!0}){let n=new Array().concat(e,r?Uae:[]);return t.data=t.data.concat(n),t}function X3(t,{mockEncodedData:e=[],includeConstants:r=!0}){let n=new Array().concat(e,r?Uae:[]);return t.data.splice(t.data.length-n.length,n.length),t}function Zae(t){return t.actuals=void 0,delete t.actuals,t.estimates=void 0,delete t.estimates,t}function rYe({start:t,end:e,time_zone:r}){if(!r)throw new ReferenceError("Missing required timezone");let n=ht.fromISO(t,{zone:r}).set({month:1,day:1,hour:0,minute:0,second:0,millisecond:0}),a=ht.fromISO(e,{zone:r}).set({month:1,day:1,hour:0,minute:0,second:0,millisecond:0}),s=[];do{if(n.isValid===!1)throw new SyntaxError("Date format is invalid, must be an ISO Date (ISO 8601 e.g. 2019-03-21T11:42:00 - YYYY-MM-DDTHH:mm:ss)");s.push(n.toJSDate()),n=n.plus({years:1})}while(n<=a);return s}function nYe({start:t,end:e,time_zone:r}){if(!r)throw new ReferenceError("Missing required timezone");let n=ht.fromISO(t,{zone:r}).set({day:1,hour:0,minute:0,second:0,millisecond:0}),a=ht.fromISO(e,{zone:r}).set({day:1,hour:0,minute:0,second:0,millisecond:0}),s=[];do{if(n.isValid===!1)throw new SyntaxError("Date format is invalid, must be an ISO Date (ISO 8601 e.g. 2019-03-21T11:42:00 - YYYY-MM-DDTHH:mm:ss)");s.push(n.toJSDate()),n=n.plus({months:1})}while(n<=a);return s}function iYe({start:t,end:e,weekday:r="monday",time_zone:n}){if(!n)throw new ReferenceError("Missing required timezone");let a={monday:1,1:1,tuesday:2,2:1,wednesday:3,3:1,thursday:4,4:1,friday:5,5:1,saturday:6,6:1,sunday:7,7:1,default:1},s=r.toString().toLowerCase(),o=a[s];if(!o)throw new ReferenceError(`Invalid weekday (${r}), must be either 1-7 or monday-sunday`);let u=ht.fromISO(t,{zone:n}).set({hour:0,minute:0,second:0,millisecond:0}),l=ht.fromISO(e,{zone:n}).set({hour:0,minute:0,second:0,millisecond:0}),h=o>=u.weekday?u.plus({days:o-u.weekday}):u.minus({days:u.weekday-o}),p=o>=l.weekday?l.plus({days:o-l.weekday}):l.minus({days:l.weekday-o}),v=[];do{if(h.isValid===!1)throw new SyntaxError("Date format is invalid, must be an ISO Date (ISO 8601 e.g. 2019-03-21T11:42:00 - YYYY-MM-DDTHH:mm:ss)");v.push(h.toJSDate()),h=h.plus({days:7})}while(h<=p);return v}function aYe({start:t,end:e,time_zone:r}){if(!r)throw new ReferenceError("Missing required timezone");let n=ht.fromISO(t,{zone:r}).set({hour:0,minute:0,second:0,millisecond:0}),a=ht.fromISO(e,{zone:r}).set({hour:0,minute:0,second:0,millisecond:0}),s=[];do{if(n.isValid===!1)throw new SyntaxError("Date format is invalid, must be an ISO Date (ISO 8601 e.g. 2019-03-21T11:42:00 - YYYY-MM-DDTHH:mm:ss)");s.push(n.toJSDate()),n=n.plus({days:1})}while(n<=a);return s}function sYe({start:t,end:e,time_zone:r}){if(!r)throw new ReferenceError("Missing required timezone");let n=ht.fromISO(t,{zone:r}).set({minute:0,second:0,millisecond:0}),a=ht.fromISO(e,{zone:r}).set({minute:0,second:0,millisecond:0}),s=[];do{if(n.isValid===!1)throw new SyntaxError("Date format is invalid, must be an ISO Date (ISO 8601 e.g. 2019-03-21T11:42:00 - YYYY-MM-DDTHH:mm:ss)");s.push(n.toJSDate()),n=n.plus({hours:1})}while(n<=a);return s}function oYe({start:t,end:e,time_zone:r}){if(!r)throw new ReferenceError("Missing required timezone");let n=ht.fromISO(t,{zone:r}).set({second:0,millisecond:0}),a=ht.fromISO(e,{zone:r}).set({second:0,millisecond:0}),s=[];do{if(n.isValid===!1)throw new SyntaxError("Date format is invalid, must be an ISO Date (ISO 8601 e.g. 2019-03-21T11:42:00 - YYYY-MM-DDTHH:mm:ss)");s.push(n.toJSDate()),n=n.plus({minutes:1})}while(n<=a);return s}function uYe({start:t,end:e,time_zone:r}){if(!r)throw new ReferenceError("Missing required timezone");let n=ht.fromISO(t,{zone:r}).set({millisecond:0}),a=ht.fromISO(e,{zone:r}).set({millisecond:0}),s=[];do{if(n.isValid===!1)throw new SyntaxError("Date format is invalid, must be an ISO Date (ISO 8601 e.g. 2019-03-21T11:42:00 - YYYY-MM-DDTHH:mm:ss)");s.push(n.toJSDate()),n=n.plus({seconds:1})}while(n<=a);return s}var eM={["yearly"]:rYe,["monthly"]:nYe,["weekly"]:iYe,["daily"]:aYe,["hourly"]:sYe,["minutely"]:oYe,["secondly"]:uYe};function MO({DataSet:t,features:e=[]}){if(t.encoders.size){let r=new Array().concat(e),n=[];for(let a of t.encoders.keys())if(e.includes(a)){let s=r.indexOf(a);r.splice(s,1),n.push(...t.encoders.get(a).labels.map(o=>`${t.encoders.get(a).prefix}${o}`))}return Array.from(new Set(n.concat(r)))}return e}function Q3({variables:t,datum:e}){return t.map(r=>{let n={feature_field_name:r,feature_field_type:"auto-detect"};return typeof e[r]=="number"?n.feature_field_type="number":typeof e[r]=="boolean"?n.feature_field_type="boolean":typeof e[r]=="string"&&(n.feature_field_type="text-encoded"),n})}function tM({independent_variables:t,dependent_variables:e,datum:r,input_independent_features:n,output_dependent_features:a,training_feature_column_options:s={},preprocessing_feature_column_options:o={}}){let u=v=>Object.keys(s).includes(v.feature_field_name)===!1,l=new Array().concat(t&&t.length&&r?Q3({variables:t,datum:r}):[],n||[]),h=new Array().concat(e&&e.length&&r?Q3({variables:e,datum:r}):[],a||[]);return new Array().concat(l,h).filter(u).forEach(v=>{v.feature_field_type==="text-encoded"?s[v.feature_field_name]=["onehot"]:v.feature_field_type==="text-label"?s[v.feature_field_name]=["label"]:v.feature_field_type==="boolean"?s[v.feature_field_name]=["label",{binary:!0}]:["number","auto-detect"].includes(v.feature_field_type)&&(s[v.feature_field_name]=["scale","standard"],o[v.feature_field_name]=["median"])}),{x_raw_independent_features:l.map(v=>v.feature_field_name),y_raw_dependent_labels:h.map(v=>v.feature_field_name),training_feature_column_options:s,preprocessing_feature_column_options:o}}var ko=lt(ese(),1);var AO=null;function tse(t){AO=t}function lb(){if(AO===null)throw Error(`
============================
Howdy \u{1F44B}\u{1F44B}. Looks like you are running @jsonstack/jsonm but you haven't set a Tensorflow backend. 
To do so, simply import (or require) your tensorflow library, and call setBackend like so,

import * as tf from '@tensorflow/tfjs';
import * as jsm from '@jsonstack/jsonm';
jsm.setBackend(tf);

That will let @jsonstack/jsonm know you wish to use a tensorflow library to perform your calculations.
============================
    `);return AO}function rse(t){let e=lb();return Array.isArray(t)?t:t?Object.keys(t).map(r=>new e.CustomCallback({[r]:t[r]})):[]}var kO=null;function nse(t){kO=t}function rM(){if(kO===null)throw Error(`
============================
Howdy \u{1F44B}\u{1F44B}. Looks like you are running @jsonstack/model but you haven't set a ScikitJS backend. 
To do so, simply import (or require) your scikit library, and call setScikit like so,

import * as tf from '@tensorflow/tfjs';
import * as scikit from 'scikitjs';
import * as jsm from '@jsonstack/model';
jsm.setBackend(tf);
jsm.setScikit(scikit);

That will let @jsonstack/model know you wish to use a scikitjs library to perform your calculations.
============================
    `);return kO}var TO=(u=>(u.FAST_FORECAST="ai-fast-forecast",u.FORECAST="ai-forecast",u.TIMESERIES_REGRESSION_FORECAST="ai-timeseries-regression-forecast",u.LINEAR_REGRESSION="ai-linear-regression",u.REGRESSION="ai-regression",u.CLASSIFICATION="ai-classification",u.LOGISTIC_CLASSIFICATION="ai-logistic-classification",u))(TO||{}),NO=(s=>(s.PREDICTION="regression",s.DECISION="classification",s.FORECAST="timeseries",s.RECOMMENDATION="recommendation",s.REACTION="reinforced",s))(NO||{}),fYe={"ai-fast-forecast":Ca,"ai-forecast":$n,"ai-timeseries-regression-forecast":rd,"ai-linear-regression":rd,"ai-regression":Cm,"ai-classification":Fm,"ai-logistic-classification":Bm},lYe={["ai-fast-forecast"]:"timeseries",["ai-forecast"]:"timeseries",["ai-timeseries-regression-forecast"]:"timeseries",["ai-linear-regression"]:"regression",["ai-regression"]:"regression",["ai-classification"]:"classification",["ai-logistic-classification"]:"classification"};function IO({variable_name:t="",function_body:e="",props:r,function_name_prefix:n="next_value_"}){let a=Function("state",`'use strict';${e}`).bind({props:r});return Object.defineProperty(a,"name",{value:`${n}${t}`}),a}function DO(t){let{property:e,rows:r,offset:n=1}=t,a=Boolean(this.reverseTransform),s=typeof this.offset=="number"?this.offset:n,o=s;if(this.debug&&s<1)throw new RangeError(`Offset must be larger than or equal to the default of 1 [property:${e}]`);let u=o,l=r+o;return this.data.slice(u,l).reduce((p,v)=>{let y=a?this.DataSet.inverseTransformObject(v):v;return p=p+y[e],p},0)}var OO=class{constructor(e,r={}){Xe(this,"config");Xe(this,"status");Xe(this,"trainingData");Xe(this,"removedFilterdtrainingData");Xe(this,"use_empty_objects");Xe(this,"use_preprocessing_on_trainning_data");Xe(this,"use_next_value_functions_for_training_data");Xe(this,"use_mock_encoded_data");Xe(this,"validate_training_data");Xe(this,"x_independent_features");Xe(this,"y_dependent_labels");Xe(this,"x_raw_independent_features");Xe(this,"y_raw_dependent_labels");Xe(this,"original_data_test");Xe(this,"original_data_train");Xe(this,"testDataSet");Xe(this,"trainDataSet");Xe(this,"prediction_inputs");Xe(this,"prediction_options");Xe(this,"x_indep_matrix_train");Xe(this,"x_indep_matrix_test");Xe(this,"y_dep_matrix_train");Xe(this,"y_dep_matrix_test");Xe(this,"Model");Xe(this,"training_options");Xe(this,"cross_validation_options");Xe(this,"training_size_values");Xe(this,"training_model_loss");Xe(this,"preprocessing_feature_column_options");Xe(this,"training_feature_column_options");Xe(this,"training_data_filter_function_body");Xe(this,"training_data_filter_function");Xe(this,"training_progress_callback");Xe(this,"prediction_inputs_next_value_functions");Xe(this,"prediction_inputs_next_value_function");Xe(this,"prediction_timeseries_time_zone");Xe(this,"prediction_timeseries_date_feature");Xe(this,"prediction_timeseries_date_format");Xe(this,"retrain_forecast_model_with_predictions");Xe(this,"prediction_timeseries_dimension_feature");Xe(this,"prediction_timeseries_start_date");Xe(this,"prediction_timeseries_end_date");Xe(this,"dimension");Xe(this,"entity");Xe(this,"DataSet");Xe(this,"forecastDates");Xe(this,"emptyObject");Xe(this,"mockEncodedData");Xe(this,"debug");Xe(this,"tf");Xe(this,"scikit");Xe(this,"auto_assign_features");Xe(this,"independent_variables");Xe(this,"dependent_variables");Xe(this,"input_independent_features");Xe(this,"output_dependent_features");Xe(this,"max_evaluation_outputs");Xe(this,"getTimeseriesDimension");this.debug=typeof e.debug=="boolean"?e.debug:!0,this.config={use_cache:typeof e.use_cache=="boolean"?e.use_cache:!0,model_type:e.model_type||"ai-regression",use_mock_dates_to_fit_trainning_data:e.use_mock_dates_to_fit_trainning_data},this.config.model_category=lYe[this.config.model_type],this.status={trained:!1,lastTrained:void 0},this.entity=e.entity||{},this.emptyObject=e.emptyObject||{},this.mockEncodedData=e.mockEncodedData||[],this.use_empty_objects=Boolean(Object.keys(this.emptyObject).length),this.use_mock_encoded_data=Boolean(this.mockEncodedData.length),this.dimension=e.dimension,this.training_data_filter_function_body=e.training_data_filter_function_body,this.training_data_filter_function=e.training_data_filter_function,this.trainingData=e.trainingData||[],this.removedFilterdtrainingData=[],this.DataSet=e.DataSet||new wi,this.max_evaluation_outputs=e.max_evaluation_outputs||5,this.testDataSet=e.testDataSet||new wi,this.trainDataSet=e.trainDataSet||new wi,this.x_indep_matrix_train=e.x_indep_matrix_train||[],this.x_indep_matrix_test=e.x_indep_matrix_test||[],this.y_dep_matrix_train=e.y_dep_matrix_train||[],this.y_dep_matrix_test=e.y_dep_matrix_test||[],this.x_independent_features=e.x_independent_features||[],this.x_raw_independent_features=e.x_raw_independent_features||[],this.y_dependent_labels=e.y_dependent_labels||[],this.y_raw_dependent_labels=e.y_raw_dependent_labels||[],this.auto_assign_features=typeof e.auto_assign_features=="boolean"?e.auto_assign_features:!0,this.independent_variables=e.independent_variables,this.dependent_variables=e.dependent_variables,this.input_independent_features=e.input_independent_features,this.output_dependent_features=e.output_dependent_features,this.use_next_value_functions_for_training_data=e.use_next_value_functions_for_training_data,this.training_size_values=e.training_size_values,this.cross_validation_options=st({train_size:.7},e.cross_validation_options),this.preprocessing_feature_column_options=e.preprocessing_feature_column_options||{},this.training_feature_column_options=e.training_feature_column_options||{};let n=e.training_options&&e.training_options.fit?e.training_options.fit:{};return this.training_options=yi(st({stateful:!0,features:this.x_independent_features.length},e.training_options),{fit:st({epochs:100,batchSize:5,verbose:0,callbacks:{}},n)}),this.training_progress_callback=e.training_progress_callback||jae,this.training_options&&this.training_options.fit&&this.training_options.fit.callbacks&&this.training_options.fit.epochs&&(this.training_options.fit.callbacks.onEpochEnd=(a,s)=>{let o=this.training_options.fit?this.training_options.fit.epochs:0,u=a/o||0;this.training_model_loss=s.loss,this.training_progress_callback({completion_percentage:u,loss:s.loss,epoch:a,logs:s,status:"training",defaultLog:this.debug})},this.training_options.fit.callbacks.onTrainEnd=a=>{let s=this.training_options.fit?this.training_options.fit.epochs:0,o=1;this.training_progress_callback({completion_percentage:o,loss:this.training_model_loss||0,epoch:s,logs:a,status:"trained",defaultLog:this.debug})},this.training_options.fit.callbacks.onTrainBegin=a=>{let s=this.training_options.fit?this.training_options.fit.epochs:0,o=0;this.training_progress_callback({completion_percentage:o,loss:a.loss,epoch:s,logs:a,status:"initializing",defaultLog:this.debug})}),this.prediction_options=e.prediction_options||{},this.prediction_inputs=e.prediction_inputs||[],this.prediction_timeseries_time_zone=e.prediction_timeseries_time_zone||"utc",this.prediction_timeseries_date_feature=e.prediction_timeseries_date_feature||"date",this.prediction_timeseries_date_format=e.prediction_timeseries_date_format,this.validate_training_data=typeof e.validate_training_data=="boolean"?e.validate_training_data:!0,this.retrain_forecast_model_with_predictions=e.retrain_forecast_model_with_predictions,this.use_preprocessing_on_trainning_data=typeof e.use_preprocessing_on_trainning_data!="undefined"?e.use_preprocessing_on_trainning_data:!0,this.prediction_timeseries_start_date=e.prediction_timeseries_start_date,this.prediction_timeseries_end_date=e.prediction_timeseries_end_date,this.prediction_timeseries_dimension_feature=e.prediction_timeseries_dimension_feature||"dimension",this.prediction_inputs_next_value_functions=e.prediction_inputs_next_value_functions||e.next_value_functions||[],this.tf=lb(),this.scikit=rM(),this.scikit.setBackend(this.tf),OE(this.tf),O3(this.scikit),this.Model=e.Model||new Ra,this.original_data_test=[],this.original_data_train=[],this.forecastDates=[],this.getTimeseriesDimension=OO.calcTimeseriesDimension.bind(this),this}static calcTimeseriesDimension(e={}){let r=e.timeseries_date_format||this.prediction_timeseries_date_format,n=e.dimension||this.dimension,a=e.timeseries_date_feature||this.prediction_timeseries_date_feature,s=e.DataSetData||this.DataSet&&this.DataSet.data||[];if(n&&r)return this.dimension=n,{dimension:n,dateFormat:r};if(typeof n!="string"&&s&&Array.isArray(s)&&s.length&&(s.length&&s[0][this.prediction_timeseries_dimension_feature]&&(n=s[0][this.prediction_timeseries_dimension_feature]),s.length>1&&s[0][a])){let o=s[1][a],u=mv({dateObject:o,dateFormat:r});r=u.format;let l=u.date,h=mv({dateObject:s[0][a],dateFormat:r}).date,p=l.diff(h,Gae).toObject(),v=Object.keys(p).filter(y=>p[y]===1);v.length===1&&(n=Wae[v[0]])}if(typeof n!="string"||Object.keys(eM).indexOf(n)===-1)throw new ReferenceError(`Invalid timeseries dimension (${n})`);if(this.prediction_timeseries_date_format=r,this.dimension=n,typeof r=="undefined")throw new ReferenceError("Invalid timeseries date format");return{dimension:n,dateFormat:r}}getForecastDates(e={}){let r=this.prediction_timeseries_start_date&&this.prediction_timeseries_start_date instanceof Date?ht.fromJSDate(this.prediction_timeseries_start_date).toISO(EO):this.prediction_timeseries_start_date,n=this.prediction_timeseries_end_date instanceof Date?ht.fromJSDate(this.prediction_timeseries_end_date).toISO(EO):this.prediction_timeseries_end_date;if(this.dimension){if(!r||!n)throw ReferenceError("Start and End Forecast Dates are required")}else throw ReferenceError("Forecasts require a timeseries dimension");return this.forecastDates=eM[this.dimension]({start:r,end:n,time_zone:this.prediction_timeseries_time_zone}),this.forecastDates}addMockData({use_mock_dates:e=!1}={}){e&&this.use_mock_encoded_data&&this.DataSet?this.DataSet=Y3(this.DataSet,{includeConstants:!0,mockEncodedData:this.mockEncodedData}):e&&this.DataSet?this.DataSet=Y3(this.DataSet,{}):this.use_mock_encoded_data&&this.DataSet&&(this.DataSet=Y3(this.DataSet,{includeConstants:!1,mockEncodedData:this.mockEncodedData}))}removeMockData({use_mock_dates:e=!1}={}){e&&this.use_mock_encoded_data&&this.DataSet?this.DataSet=X3(this.DataSet,{includeConstants:!0,mockEncodedData:this.mockEncodedData}):e&&this.DataSet?this.DataSet=X3(this.DataSet,{}):this.use_mock_encoded_data&&this.DataSet&&(this.DataSet=X3(this.DataSet,{includeConstants:!1,mockEncodedData:this.mockEncodedData}))}getCrosstrainingData(){let e,r;if(this.config.model_category==="timeseries"){let n=this.cross_validation_options.train_size||.7,a=this.training_size_values?this.DataSet.data.length-this.training_size_values:parseInt((this.DataSet.data.length*n).toString());e=this.DataSet.data.slice(a,this.DataSet.data.length),r=this.DataSet.data.slice(0,a)}else{let n=v4.train_test_split(this.DataSet.data,this.cross_validation_options);r=n.train,e=n.test}return{test:e,train:r}}validateTrainingData({cross_validate_training_data:e,inputMatrix:r}={inputMatrix:void 0}){let n=r||this.x_indep_matrix_train,a=r?"Prediction":"Trainning";return n.forEach((s,o)=>{s.forEach((u,l)=>{if(typeof u!="number"||isNaN(u))throw new TypeError(`${a} data (${o}) has an invalid ${this.x_independent_features[l]}. Value: ${u}`)})}),!0}getTrainingData(){return Ke(this,arguments,function*(e={}){e.trainingData?this.trainingData=e.trainingData:typeof e.getDataPromise=="function"&&(this.trainingData=yield e.getDataPromise({}))})}checkTrainingStatus(){return Ke(this,arguments,function*(e={}){return(e.retrain||this.status.trained===!1)&&(yield this.getTrainingData(e),yield this.trainModel(e)),!0})}getDataSetProperties(){return Ke(this,arguments,function*(e={}){let{nextValueIncludeForecastDate:r=!0,nextValueIncludeForecastTimezone:n=!0,nextValueIncludeForecastAssociations:a=!0,nextValueIncludeDateProperty:s=!0,nextValueIncludeParsedDate:o=!0,nextValueIncludeLocalParsedDate:u=!0,nextValueIncludeForecastInputs:l=!0}=e,h={Luxon:J3,JSONStackData:Op},p=this.prediction_inputs_next_value_functions.reduce((y,S)=>(y[S.variable_name]=IO(yi(st({},S),{props:h,function_name_prefix:"next_value_"})),y),{}),v=`'use strict';
    ${this.training_data_filter_function_body}
    `;this.training_data_filter_function=this.training_data_filter_function_body?Function("datum","datumIndex",v).bind({props:h}):this.training_data_filter_function,typeof this.training_data_filter_function=="function"&&this.training_data_filter_function.name&&this.training_data_filter_function.name.includes("anonymous")&&Object.defineProperty(this.training_data_filter_function,"name",{value:"training_data_filter_function"}),this.prediction_inputs_next_value_function=function(S){let A=S.lastDataRow||{},T=A.origin_time_zone||this.prediction_timeseries_time_zone,I=S.forecastDate;S.sumPreviousRows=DO.bind({data:S.data,DataSet:S.DataSet,offset:S.existingDatasetObjectIndex,reverseTransform:S.reverseTransform});let N={};if(r&&(N[this.prediction_timeseries_date_feature]=S.forecastDate),s&&(N.date=S.forecastDate),n&&(N.origin_time_zone=A.origin_time_zone),a&&(N.associated_data_location=A.associated_data_location?A.associated_data_location.toString():A.associated_data_location,N.associated_data_product=A.associated_data_product?A.associated_data_product.toString():A.associated_data_product,N.associated_data_entity=A.associated_data_entity?A.associated_data_entity.toString():A.associated_data_entity,N.forecast_entity_type=A.feature_entity_type?A.feature_entity_type.toString():A.forecast_entity_type,N.forecast_entity_title=A.feature_entity_title?A.feature_entity_title.toString():A.forecast_entity_title,N.forecast_entity_name=A.feature_entity_name?A.feature_entity_name.toString():A.forecast_entity_name,N.forecast_entity_id=A.feature_entity_id?A.feature_entity_id.toString():A.forecast_entity_id),o&&S.forecastDate){let D=Vae(S.forecastDate,{zone:T}),C=Hae.bind({entity:this.entity,dimension:this.dimension},{date:I,parsedDate:D,zone:T}),L=Kae.bind({entity:this.entity,data:S.data,datum:N});S.parsedDate=D,S.isOpen=C,S.isOutlier=L,Object.assign(N,D)}return u&&Object.assign(N,xO({date:S.forecastDate,time_zone:T,dimension:this.dimension})),l&&Object.assign(N,S.rawInputPredictionObject),Object.keys(p).reduce((D,C)=>(D[C]=p[C](S),D),N)},this.config.model_category==="timeseries"&&(this.dimension=this.getTimeseriesDimension(e).dimension),this.dimension&&this.config.model_category==="timeseries"&&this.prediction_inputs&&this.prediction_inputs.length&&(!this.prediction_timeseries_start_date||!this.prediction_timeseries_end_date)&&(this.prediction_timeseries_start_date||(this.prediction_timeseries_start_date=this.prediction_inputs[0][this.prediction_timeseries_date_feature]),this.prediction_timeseries_end_date||(this.prediction_timeseries_end_date=this.prediction_inputs[this.prediction_inputs.length-1][this.prediction_timeseries_date_feature])),this.dimension&&this.config.model_category==="timeseries"&&this.prediction_timeseries_start_date&&this.prediction_timeseries_end_date&&this.getForecastDates()})}getForecastDatesFromPredictionInputs(e={}){let r=e.prediction_inputs.map(a=>{let s=a[this.prediction_timeseries_date_feature],o=s&&s instanceof Date?s:this.prediction_timeseries_date_format?ht.fromFormat(s,this.prediction_timeseries_date_format).toJSDate():s;return yi(st({},a),{[this.prediction_timeseries_date_feature]:o})});return{forecastDates:r.map(a=>a[this.prediction_timeseries_date_feature]),raw_prediction_inputs:r}}validateTimeseriesData(){return Ke(this,arguments,function*(e={}){let{fixPredictionDates:r=!0}=e,n=this.dimension,a=e.prediction_inputs||(yield this.getPredictionData(e))||[],s=this.DataSet.data.length-1,o=this.DataSet.data[s],u=this.forecastDates;if(e.set_forecast_dates_for_predictions&&this.forecastDates.length<1){let T=this.getForecastDatesFromPredictionInputs(e);u=T.forecastDates,a=T.raw_prediction_inputs}let l=mv({dateObject:o[this.prediction_timeseries_date_feature],dateFormat:this.prediction_timeseries_date_format,time_zone:this.prediction_timeseries_time_zone}),h=l.date,p=l.format,v=h.toJSDate(),y=o[this.prediction_timeseries_date_feature]instanceof Date?this.DataSet.columnArray(this.prediction_timeseries_date_feature):this.DataSet.columnArray(this.prediction_timeseries_date_feature).map(T=>mv({dateObject:T,dateFormat:p,time_zone:this.prediction_timeseries_time_zone}).date.toJSDate()),S=y[0];r&&typeof this.prediction_timeseries_start_date=="string"&&(this.prediction_timeseries_start_date=ht.fromISO(this.prediction_timeseries_start_date).toJSDate()),r&&this.prediction_timeseries_start_date&&this.prediction_timeseries_start_date<S&&(this.prediction_timeseries_start_date=S,u=this.getForecastDates(),console.log("modified",{forecastDates:u}));let A;if(u.length){if(A=y.findIndex(T=>T.valueOf()===u[0].valueOf()),A===-1){let T=y[y.length-1],I=u[0];ht.fromJSDate(T,{zone:this.prediction_timeseries_time_zone}).plus({[SO[n]]:1}).valueOf()===I.valueOf()&&(A=y.length)}if(A===-1)throw new RangeError(`Forecast Date Range (${this.prediction_timeseries_start_date} - ${this.prediction_timeseries_end_date}) must include an existing forecast date (${this.DataSet.data[0][this.prediction_timeseries_date_feature]} - ${this.DataSet.data[s][this.prediction_timeseries_date_feature]})`);if(a.length){a[0][this.prediction_timeseries_date_feature]instanceof Date||(a=a.map(C=>Object.assign({},C,{[this.prediction_timeseries_date_feature]:mv({dateObject:C[this.prediction_timeseries_date_feature],dateFormat:p,time_zone:this.prediction_timeseries_time_zone}).date.toJSDate()})));let T=a[0][this.prediction_timeseries_date_feature],I=u[0],N=a.map(C=>C[this.prediction_timeseries_date_feature]);if(r&&I>T){let C=N.findIndex(L=>L.valueOf()===I.valueOf());a=a.slice(C),N=a.map(L=>L[this.prediction_timeseries_date_feature])}if(u.findIndex(C=>C.valueOf()===N[0].valueOf())<0)throw new RangeError(`Prediction Input First Date(${N[0]}) must be inclusive of forecastDates ( ${u[0]} - ${u[u.length-1]})`)}}return{forecastDates:u,forecastDateFirstDataSetDateIndex:A,lastOriginalForecastDate:v,raw_prediction_inputs:a,dimension:n,datasetDates:y}})}getPredictionData(){return Ke(this,arguments,function*(e={}){return typeof e.getPredictionInputPromise=="function"&&(this.prediction_inputs=yield e.getPredictionInputPromise({ModelX:this})),this.prediction_inputs})}trainModel(){return Ke(this,arguments,function*(e={}){let{cross_validate_training_data:r=!0,use_next_value_functions_for_training_data:n=!1,use_mock_dates_to_fit_trainning_data:a=!1}=e,s=fYe[this.config.model_type],o=a||this.config.use_mock_dates_to_fit_trainning_data,u=e.trainingData||this.trainingData||[];u=new Array().concat(u);let l,h;if(this.status.trained=!1,yield this.getDataSetProperties({DataSetData:u}),typeof this.training_data_filter_function=="function"&&n===!1&&(u=u.filter(this.training_data_filter_function)),!n&&this.use_empty_objects&&(u=u.map(p=>st(st({},this.emptyObject),p))),this.DataSet=new wi(u),this.auto_assign_features&&(!this.x_independent_features||!this.x_independent_features.length)&&!this.y_dependent_labels||!this.y_dependent_labels.length){let p=tM({input_independent_features:this.input_independent_features,output_dependent_features:this.output_dependent_features,independent_variables:this.independent_variables,dependent_variables:this.dependent_variables,training_feature_column_options:this.training_feature_column_options,preprocessing_feature_column_options:this.preprocessing_feature_column_options,datum:u[0]});this.x_raw_independent_features=Array.from(new Set(new Array().concat(this.x_raw_independent_features,p.x_raw_independent_features))),this.y_raw_dependent_labels=Array.from(new Set(new Array().concat(this.y_raw_dependent_labels,p.y_raw_dependent_labels))),this.preprocessing_feature_column_options=st(st({},p.preprocessing_feature_column_options),this.preprocessing_feature_column_options),this.training_feature_column_options=st(st({},p.training_feature_column_options),this.training_feature_column_options)}if(this.use_preprocessing_on_trainning_data&&this.preprocessing_feature_column_options&&Object.keys(this.preprocessing_feature_column_options).length&&this.DataSet.fitColumns(this.preprocessing_feature_column_options),n||this.use_next_value_functions_for_training_data){let p=u.map(v=>v[this.prediction_timeseries_date_feature]);u=u.map((v,y)=>{this.prediction_timeseries_date_format&&(v[this.prediction_timeseries_date_feature]=ht.fromFormat(v[this.prediction_timeseries_date_feature],this.prediction_timeseries_date_format).toJSDate());let S=v[this.prediction_timeseries_date_feature],A=y;v._id&&(v._id=v._id.toString()),v.feature_entity_id&&(v.feature_entity_id=v.feature_entity_id.toString());let T=this.prediction_inputs_next_value_function?this.prediction_inputs_next_value_function({rawInputPredictionObject:v,forecastDate:S,forecastDates:p,forecastPredictionIndex:A,existingDatasetObjectIndex:y,unscaledLastForecastedValue:u[y-1],data:u,DataSet:this.DataSet||new wi,lastDataRow:u[u.length-1],reverseTransform:!1}):{};return this.use_empty_objects?Object.assign({},this.emptyObject,(0,ko.default)(v,{maxDepth:2,delimiter:Ao}),(0,ko.default)(T,{maxDepth:2,delimiter:Ao})):Object.assign({},v,T)}),typeof this.training_data_filter_function=="function"&&n===!0&&(u=u.filter((v,y)=>{if(this.training_data_filter_function){let S=this.training_data_filter_function(v,y);return S||this.removedFilterdtrainingData.push(v),S}})),this.DataSet=new wi(u)}if(["is_location_open","is_open_hour","is_location_open"].forEach(p=>{this.training_feature_column_options[p]&&(this.training_feature_column_options[p]=["label",{binary:!0}])}),this.addMockData({use_mock_dates:o}),this.DataSet.fitColumns(this.training_feature_column_options),this.removeMockData({use_mock_dates:o}),this.auto_assign_features&&(!this.x_independent_features||!this.x_independent_features.length)&&(!this.y_dependent_labels||!this.y_dependent_labels.length)&&(this.x_independent_features=new Array().concat(this.x_independent_features,MO({DataSet:this.DataSet,features:this.x_raw_independent_features})),this.y_dependent_labels=new Array().concat(this.y_dependent_labels,MO({DataSet:this.DataSet,features:this.y_raw_dependent_labels}))),!this.x_independent_features||!this.x_independent_features.length)throw new ReferenceError("Missing Inputs (x_independent_features)");if(!this.y_dependent_labels||!this.y_dependent_labels.length)throw new ReferenceError("Missing Outputs (y_dependent_labels)");if(this.x_independent_features=Array.from(new Set(this.x_independent_features)),this.y_dependent_labels=Array.from(new Set(this.y_dependent_labels)),r){let p=this.getCrosstrainingData();l=p.test,h=p.train,this.original_data_test=p.test,this.original_data_train=p.train,this.testDataSet=new wi(l),this.trainDataSet=new wi(h),this.x_indep_matrix_train=this.trainDataSet.columnMatrix(this.x_independent_features),this.x_indep_matrix_test=this.testDataSet.columnMatrix(this.x_independent_features),this.y_dep_matrix_train=this.trainDataSet.columnMatrix(this.y_dependent_labels),this.y_dep_matrix_test=this.testDataSet.columnMatrix(this.y_dependent_labels)}else this.x_indep_matrix_train=this.DataSet.columnMatrix(this.x_independent_features),this.y_dep_matrix_train=this.DataSet.columnMatrix(this.y_dependent_labels);if(this.Model=new s(this.training_options,{}),this.config.model_category==="timeseries"){let p=yield this.validateTimeseriesData(e)}return this.validate_training_data&&this.validateTrainingData({cross_validate_training_data:r}),this.config.model_category==="timeseries"&&this.config.model_type==="ai-fast-forecast"?yield this.Model.train(this.x_indep_matrix_train,this.y_dep_matrix_train,void 0,void 0,void 0):yield this.Model.train(this.x_indep_matrix_train,this.y_dep_matrix_train,void 0,void 0,void 0),this.status.trained=!0,this.status.lastTrained=new Date,this})}predictModel(){return Ke(this,arguments,function*(e={}){Array.isArray(e)&&(e={prediction_inputs:e});let{descalePredictions:r=!0,includeInputs:n=!0,includeEvaluation:a=!1}=e,s=st(st({probability:this.config.model_category!=="classification"},this.prediction_options),e.predictionOptions),o,u,l,h,[p,v]=yield Promise.all([this.checkTrainingStatus(e),e.prediction_inputs||(yield this.getPredictionData(e))]);if(a){let{test:y,train:S}=this.getCrosstrainingData(),A=new Gn(y),T=A.columnMatrix(this.x_independent_features),I=A.columnMatrix(this.y_dependent_labels),N=Object.assign({},e,{x_indep_matrix_test:T,y_dep_matrix_test:I}),D=this.y_dependent_labels[0],C=yield this.evaluateModel(N);h=Object.keys(C).reduce((L,z)=>{let $=Zae(C[z]);return z===D?(L=Object.assign({},L,$),this.y_dependent_labels.length>1&&(L.data[z]=$)):L.data[z]=$,L},{data:{}})}if(this.config.model_category==="timeseries")o=yield this.timeseriesForecast(e);else{l=v,this.prediction_inputs=v.map(S=>{let A=this.use_empty_objects?Object.assign({},this.emptyObject,(0,ko.default)(S,{maxDepth:2,delimiter:Ao})):S;return this.DataSet.transformObject(A,{checkColumnLength:!1})});let y=this.DataSet.columnMatrix(this.x_independent_features,this.prediction_inputs);this.validate_training_data&&this.validateTrainingData({cross_validate_training_data:!1,inputMatrix:y}),u=yield this.Model.predict(y,s),o=this.DataSet.reverseColumnMatrix({vectors:u,labels:this.y_dependent_labels})}if(r){let y=this.y_dependent_labels.reduce((A,T)=>(A[T]=0,A),{}),S=this.dimension;o=o.map((A,T)=>{let I=this.DataSet.inverseTransformObject(A,{}),N=I.is_location_open,D={};return(S==="hourly"||S==="daily")&&this.entity&&!N&&(this.debug&&console.info(`Manually fixing prediction on closed - ${S} ${I.date}`),D=Object.assign({},y)),Object.assign({},D,I,n&&this.config.model_category!=="timeseries"?l[T]:{},a?{__evaluation:h}:{})})}else n&&this.config.model_category!=="timeseries"&&(o=o.map((y,S)=>Object.assign({},this.DataSet.inverseTransformObject(y,{}),n?this.prediction_inputs[S]:{},a?{__evaluation:h}:{})));return this.use_empty_objects&&(o=o.map(y=>ko.default.unflatten(y,{delimiter:Ao}))),o})}retrainTimeseriesModel(){return Ke(this,arguments,function*(e={}){let{inputMatrix:r,predictionMatrix:n,fitOptions:a}=e,s=st(st({},this.Model.settings.fit),a),o=r,u=n,l=o,h=u,p;this.Model;let v=typeof this.Model.getTimeseriesShape=="function"?this.Model.getTimeseriesShape(l):void 0,y=typeof v!="undefined"?this.Model.reshape(l,v):l,S=this.Model.tf.tensor(y,v),A=this.Model.tf.tensor(h,p);return yield this.Model.model.fit(S,A,s),S.dispose(),A.dispose(),this})}timeseriesForecast(){return Ke(this,arguments,function*(e={}){let r=this.retrain_forecast_model_with_predictions,n=Object.assign({probability:this.config.model_category!=="classification"},this.prediction_options,e.predictionOptions);e.set_forecast_dates_for_predictions=!0;let{forecastDates:a,forecastDateFirstDataSetDateIndex:s,lastOriginalForecastDate:o,raw_prediction_inputs:u,dimension:l,datasetDates:h}=yield this.validateTimeseriesData(e),p=[],v=0,y=h[h.length-1];return yield jt.each(a,1,S=>Ke(this,null,function*(){let A=s+v,T=u[v],I,N,D,C,L,z;S<=o&&(D=this.DataSet.data[A],C=this.DataSet.inverseTransformObject(D,{}),N=[D]);let $=p.length?p[p.length-1]:{},G=Object.keys($).length?this.DataSet.inverseTransformObject($,{}):{};G=this.y_dependent_labels.reduce((f,d)=>(typeof G[d]!="undefined"&&(f[d]=G[d]),f),{});let j=[].concat(this.removedFilterdtrainingData,this.DataSet.data.map(f=>this.DataSet.inverseTransformObject(f,{}))),Z=Object.keys(this.prediction_inputs_next_value_functions).length>0?this.prediction_inputs_next_value_function({rawInputPredictionObject:T,forecastDate:S,forecastDates:a,forecastPredictionIndex:v,existingDatasetObjectIndex:A+this.removedFilterdtrainingData.length,unscaledLastForecastedValue:G,data:j,DataSet:this.DataSet,lastDataRow:Object.assign({},this.DataSet.data[this.DataSet.data.length-1],C,T,G)}):{},M=xO({date:S,time_zone:this.prediction_timeseries_time_zone,dimension:l});if(L=this.use_empty_objects?Object.assign({},this.emptyObject,(0,ko.default)(C||{},{maxDepth:2,delimiter:Ao}),(0,ko.default)(Z||{},{maxDepth:2,delimiter:Ao}),(0,ko.default)(T||{},{maxDepth:2,delimiter:Ao}),(0,ko.default)(G,{maxDepth:2,delimiter:Ao}),(0,ko.default)(M,{maxDepth:2,delimiter:Ao})):Object.assign({},C,Z,T,G,M),z=this.DataSet.transformObject(L,{checkColumnLength:!1}),N=[z],N){let f=this.DataSet.columnMatrix(this.x_independent_features,N);this.validate_training_data&&this.validateTrainingData({cross_validate_training_data:!1,inputMatrix:f}),I=yield this.Model.predict(f,n),r&&S>y&&(yield this.retrainTimeseriesModel({inputMatrix:f,predictionMatrix:I}));let d=this.DataSet.reverseColumnMatrix({vectors:I,labels:this.y_dependent_labels})[0],g=Object.assign({},D,z,d,M,{[this.prediction_timeseries_date_feature]:S});S>o&&this.DataSet.data.splice(A,0,g),p.push(g)}return v++,I})),p})}evaluateClassificationAccuracy(e={}){let{dependent_feature_label:r,estimatesDescaled:n,actualsDescaled:a}=e,s=wi.columnArray(r,{data:n}),o=wi.columnArray(r,{data:a}),u=vf.fromLabels(o,s);return{accuracy:u.getAccuracy(),matrix:u.matrix,labels:u.labels,actuals:o,estimates:s}}evaluateRegressionAccuracy(e={}){let{dependent_feature_label:r,estimatesDescaled:n,actualsDescaled:a}=e,s=wi.columnArray(r,{data:n}),o=wi.columnArray(r,{data:a}),u=Mr.standardError(o,s),l=Mr.rSquared(o,s),h=Mr.adjustedRSquared({actuals:o,estimates:s,rSquared:l,sampleSize:o.length,independentVariables:this.x_independent_features.length}),p=Boolean(o.filter(D=>D===0||isNaN(D)).length),v=Mr.meanAbsolutePercentageError(o,s),y=Mr.meanAbsoluteDeviation(o,s),S=Mr.mean(o),A="meanAbsolutePercentageError",T="Actuals do not contain Zero values";p&&(A="MAD over MEAN ratio",T="Actuals contain Zero values");let I=p?y/S:v;I<0&&(I=0),I>1&&(I=1);let N=1-I;return{standardError:u,rSquared:l,adjustedRSquared:h,actuals:o,estimates:s,meanForecastError:Mr.meanForecastError(o,s),meanAbsoluteDeviation:Mr.meanAbsoluteDeviation(o,s),trackingSignal:Mr.trackingSignal(o,s),meanSquaredError:Mr.meanSquaredError(o,s),meanAbsolutePercentageError:I,accuracyPercentage:N,metric:A,reason:T,originalMeanAbsolutePercentageError:v}}evaluateModel(){return Ke(this,arguments,function*(e={}){yield this.checkTrainingStatus(e);let r=e.x_indep_matrix_test||this.x_indep_matrix_test,n=e.y_dep_matrix_test||this.y_dep_matrix_test,a=Object.assign({probability:this.config.model_category!=="classification"},this.prediction_options,e.predictionOptions),s=yield this.Model.predict(r,a),o=this.DataSet.reverseColumnMatrix({vectors:s,labels:this.y_dependent_labels}),u=this.DataSet.reverseColumnMatrix({vectors:n,labels:this.y_dependent_labels}),l=this.dimension,h=this.y_dependent_labels.reduce((S,A)=>(S[A]=0,S),{}),p=o.map((S,A)=>{let T=this.DataSet.inverseTransformObject(S,{});if(this.config.model_category==="timeseries"){let N=r[A],[D]=this.DataSet.reverseColumnMatrix({vectors:[N],labels:this.x_independent_features}),C=this.DataSet.inverseTransformObject(D,{}),L=D.is_location_open,{year:z,month:$,day:G,hour:j}=C;(l==="hourly"||l==="daily")&&this.entity&&!L&&(console.info(`Manually fixing prediction on closed - ${l} ${z}-${$}-${G}T${j}`),T=h)}return this.use_empty_objects?ko.default.unflatten(T,{delimiter:Ao}):T}),v=u.map(S=>{let A=this.DataSet.inverseTransformObject(S,{});return this.use_empty_objects?ko.default.unflatten(A,{delimiter:Ao}):A}),y=Array.isArray(this.y_raw_dependent_labels)&&this.y_raw_dependent_labels.length?this.y_raw_dependent_labels:this.y_dependent_labels;return y.splice(this.max_evaluation_outputs),this.config.model_category==="classification"?y.reduce((S,A)=>(S[A]=this.evaluateClassificationAccuracy({dependent_feature_label:A,estimatesDescaled:p,actualsDescaled:v}),S),{}):y.reduce((S,A)=>(S[A]=this.evaluateRegressionAccuracy({dependent_feature_label:A,estimatesDescaled:p,actualsDescaled:v}),S),{})})}},fu=OO;Xe(fu,"prediction_timeseries_date_format"),Xe(fu,"prediction_timeseries_date_feature"),Xe(fu,"dimension"),Xe(fu,"prediction_timeseries_dimension_feature");var ise=lt(rw(),1),ase=lt(RA(),1),sse=lt(CA(),1),RO=lt(FA(),1);function cYe(t,e){return Ke(this,null,function*(){let r=t.search(/https/gi)>-1?ase.get:ise.get;return new Promise((n,a)=>{let s=[],o=Object.assign({checkType:!0},e);r(t,l=>{(0,RO.default)(o).fromStream(l).subscribe(h=>{s.push(h)},h=>a(h),h=>h?a(h):n(s))}).on("error",a)})})}function CO(t,e){return Ke(this,null,function*(){return sse.default.isUri(t)?cYe(t,e):new Promise((r,n)=>{let a=[],s=Object.assign({checkType:!0},e);(0,RO.default)(s).fromFile(t).subscribe((o,u)=>{a.push(o)},o=>n(o),o=>o?n(o):r(a))})})}function ose(t,e){return Ke(this,null,function*(){let r=Object.assign({checkType:!0},e,{delimiter:"	"});return CO(t,r)})}function use(t={}){return t[Object.keys(t)[0]]||[]}var fse=lt(_8(),1),hYe={Promisie:jt,getFirstDataset:use};function cb(){return Ke(this,arguments,function*(t={}){if(Array.isArray(t))return t;let{reducer:e,data:r,_data_static:n,_data_promise:a,_data_url:s,_data_csv:o,_data_tsv:u,_data_csv_options:l}=t,h=[];return r?h=r:n?h=n:o?h=yield CO(o,l):u?h=yield ose(u,l):e?h=yield dYe(e):a?h=yield a():s&&(h=yield(yield(0,fse.default)(s)).data),h})}function dYe(t){return Ke(this,null,function*(){let{name:e}=t,r={context:st(yi(st({},hYe),{name:e}),t.context)},a=(Array.isArray(t.reducer_function)?t.reducer_function:[t.reducer_function]).map((l,h)=>mYe({reducer_function:l,name:e,context:r,index:h})),s=jt.pipe(a),o=yield pYe(t.datasets),{dataset_reduced:u}=yield s(o);return u})}function pYe(){return Ke(this,arguments,function*(t=[]){let e=0,r={};return t.length&&(r=(yield jt.map(t,10,a=>Ke(this,null,function*(){let s={};if(Array.isArray(a))s[`dataset_${e}`]=a;else{let o=yield cb(a);s[a.name||`dataset_${e}`]=o}return e++,s}))).reduce((a,s)=>{let o=Object.keys(s)[0],u=s[o];return a[o]=u,a},{})),r})}function mYe(t){let{reducer_function:e,name:r,context:n,index:a}=t;if(typeof e=="function"){let s=function(u){return Ke(this,null,function*(){return{dataset_reduced:yield e.call(n,u)}})}.bind(n);return Object.defineProperty(s,"name",{value:e.name||"ReducerFunction_"+a}),s}else{let s=`'use strict'; 
    return async function getAsyncString(){
      try {
        const dataset_reduced = await (async function getReducerData(){
          ${e}
        }.bind(this))();
        return {dataset_reduced};
      } catch(e){
        throw e;
      }
    }.call(this /* ,options */);
    `,o=Function("datasets",s).bind(n);return Object.defineProperty(o,"name",{value:r||"ReducerFunction_"+a}),o}}var vYe={regression:"ai-linear-regression",prediction:"ai-regression",classification:"ai-classification",description:"ai-classification",forecast:"ai-timeseries-regression-forecast"};function FO(t){return Ke(this,null,function*(){let e=Array.isArray(t.dataset)?t.dataset:yield cb(t.dataset);return new fu(st({trainingData:e,independent_variables:gYe(t),input_independent_features:t.input_transforms,dependent_variables:t.outputs,output_dependent_features:t.output_transforms,training_progress_callback:t.on_progress,training_options:t.training_options||BO(t.options),model_type:t.model_type||vYe[t.type]||t.type},bYe(t,e[0])))})}var lse=FO;function BO({accuracy_target:t}={}){return{fit:{epochs:300,batchSize:20}}}function gYe(t){return(t==null?void 0:t.type)==="forecast"?Array.from(new Set(t.inputs.concat(["year","month","day"]))):t.inputs}function yYe(t){return t!=null&&t.Date?"Date":"date"}function bYe(t,e){let r={};return!(t!=null&&t.model_options)&&(t==null?void 0:t.type)==="forecast"&&(r.prediction_timeseries_time_zone=t==null?void 0:t.forecast_date_time_zone,r.prediction_timeseries_date_feature=(t==null?void 0:t.forecast_date_field)||yYe(e),r.prediction_timeseries_date_format=t==null?void 0:t.forecast_date_format,r.validate_training_data=!0,r.retrain_forecast_model_with_predictions=!0,r.use_next_value_functions_for_training_data=!0,r.use_mock_dates_to_fit_trainning_data=!0,r.use_preprocessing_on_trainning_data=!0,r.training_feature_column_options={year:["onehot"],month:["onehot"],day:["onehot"]}),st(st({},r),t==null?void 0:t.model_options)}return _se(wYe);})();
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
    * @license
    * Copyright 2021 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/** @license See the LICENSE file. */
//# sourceMappingURL=indexlegacy-min.js.map
