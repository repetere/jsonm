var JSONM=(()=>{var GVe=Object.create;var Ww=Object.defineProperty,HVe=Object.defineProperties,KVe=Object.getOwnPropertyDescriptor,ZVe=Object.getOwnPropertyDescriptors,JVe=Object.getOwnPropertyNames,sM=Object.getOwnPropertySymbols,DZ=Object.getPrototypeOf,EC=Object.prototype.hasOwnProperty,kZ=Object.prototype.propertyIsEnumerable,YVe=Reflect.get;var ir=Math.pow,SC=(t,e,r)=>e in t?Ww(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,It=(t,e)=>{for(var r in e||(e={}))EC.call(e,r)&&SC(t,r,e[r]);if(sM)for(var r of sM(e))kZ.call(e,r)&&SC(t,r,e[r]);return t},Va=(t,e)=>HVe(t,ZVe(e));var MC=(t,e)=>{var r={};for(var n in t)EC.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&sM)for(var n of sM(t))e.indexOf(n)<0&&kZ.call(t,n)&&(r[n]=t[n]);return r};var te=(t,e)=>()=>(t&&(e=t(t=0)),e);var Ee=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),tl=(t,e)=>{for(var r in e)Ww(t,r,{get:e[r],enumerable:!0})},IZ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of JVe(e))!EC.call(t,a)&&a!==r&&Ww(t,a,{get:()=>e[a],enumerable:!(n=KVe(e,a))||n.enumerable});return t};var Bt=(t,e,r)=>(r=t!=null?GVe(DZ(t)):{},IZ(e||!t||!t.__esModule?Ww(r,"default",{value:t,enumerable:!0}):r,t)),uM=t=>IZ(Ww({},"__esModule",{value:!0}),t);var De=(t,e,r)=>(SC(t,typeof e!="symbol"?e+"":e,r),r);var Gw=(t,e,r)=>YVe(DZ(t),r,e);var it=(t,e,r)=>new Promise((n,a)=>{var o=f=>{try{u(r.next(f))}catch(l){a(l)}},s=f=>{try{u(r.throw(f))}catch(l){a(l)}},u=f=>f.done?n(f.value):Promise.resolve(f.value).then(o,s);u((r=r.apply(t,e)).next())});var w=te(()=>{});function au(t,e,r){return r={path:e,exports:{},require:function(n,a){return XVe(n,a==null?r.path:a)}},t(r,r.exports),r.exports}function XVe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Jl,yp=te(()=>{w();_();Jl=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{}});function OZ(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function nWe(t){var e=OZ(t),r=e[0],n=e[1];return(r+n)*3/4-n}function iWe(t,e,r){return(e+r)*3/4-r}function aWe(t){var e,r=OZ(t),n=r[0],a=r[1],o=new rWe(iWe(t,n,a)),s=0,u=a>0?n-4:n,f;for(f=0;f<u;f+=4)e=Cu[t.charCodeAt(f)]<<18|Cu[t.charCodeAt(f+1)]<<12|Cu[t.charCodeAt(f+2)]<<6|Cu[t.charCodeAt(f+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return a===2&&(e=Cu[t.charCodeAt(f)]<<2|Cu[t.charCodeAt(f+1)]>>4,o[s++]=e&255),a===1&&(e=Cu[t.charCodeAt(f)]<<10|Cu[t.charCodeAt(f+1)]<<4|Cu[t.charCodeAt(f+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function oWe(t){return Yl[t>>18&63]+Yl[t>>12&63]+Yl[t>>6&63]+Yl[t&63]}function sWe(t,e,r){for(var n,a=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),a.push(oWe(n));return a.join("")}function uWe(t){for(var e,r=t.length,n=r%3,a=[],o=16383,s=0,u=r-n;s<u;s+=o)a.push(sWe(t,s,s+o>u?u:s+o));return n===1?(e=t[r-1],a.push(Yl[e>>2]+Yl[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],a.push(Yl[e>>10]+Yl[e>>4&63]+Yl[e<<2&63]+"=")),a.join("")}var QVe,eWe,tWe,Yl,Cu,rWe,AC,nm,CZ,NC,fWe,lWe,Zv,Hw,$Buffer,$Xt,VXt,Kw,WXt,TC=te(()=>{w();_();yp();QVe=nWe,eWe=aWe,tWe=uWe,Yl=[],Cu=[],rWe=typeof Uint8Array!="undefined"?Uint8Array:Array,AC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(nm=0,CZ=AC.length;nm<CZ;++nm)Yl[nm]=AC[nm],Cu[AC.charCodeAt(nm)]=nm;Cu["-".charCodeAt(0)]=62;Cu["_".charCodeAt(0)]=63;NC={byteLength:QVe,toByteArray:eWe,fromByteArray:tWe},fWe=function(t,e,r,n,a){var o,s,u=a*8-n-1,f=(1<<u)-1,l=f>>1,c=-7,h=r?a-1:0,m=r?-1:1,g=t[e+h];for(h+=m,o=g&(1<<-c)-1,g>>=-c,c+=u;c>0;o=o*256+t[e+h],h+=m,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=s*256+t[e+h],h+=m,c-=8);if(o===0)o=1-l;else{if(o===f)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-l}return(g?-1:1)*s*Math.pow(2,o-n)},lWe=function(t,e,r,n,a,o){var s,u,f,l=o*8-a-1,c=(1<<l)-1,h=c>>1,m=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,b=n?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+h>=1?e+=m/f:e+=m*Math.pow(2,1-h),e*f>=2&&(s++,f/=2),s+h>=c?(u=0,s=c):s+h>=1?(u=(e*f-1)*Math.pow(2,a),s=s+h):(u=e*Math.pow(2,h-1)*Math.pow(2,a),s=0));a>=8;t[r+g]=u&255,g+=b,u/=256,a-=8);for(s=s<<a|u,l+=a;l>0;t[r+g]=s&255,g+=b,s/=256,l-=8);t[r+g-b]|=A*128},Zv={read:fWe,write:lWe},Hw=au(function(t,e){let r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=C,e.INSPECT_MAX_BYTES=50;let n=2147483647;e.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{let J=new Uint8Array(1),H={foo:function(){return 42}};return Object.setPrototypeOf(H,Uint8Array.prototype),Object.setPrototypeOf(J,H),J.foo()===42}catch(J){return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function o(J){if(J>n)throw new RangeError('The value "'+J+'" is invalid for option "size"');let H=new Uint8Array(J);return Object.setPrototypeOf(H,s.prototype),H}function s(J,H,Y){if(typeof J=="number"){if(typeof H=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(J)}return u(J,H,Y)}s.poolSize=8192;function u(J,H,Y){if(typeof J=="string")return h(J,H);if(ArrayBuffer.isView(J))return g(J);if(J==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J);if(be(J,ArrayBuffer)||J&&be(J.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(be(J,SharedArrayBuffer)||J&&be(J.buffer,SharedArrayBuffer)))return b(J,H,Y);if(typeof J=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let oe=J.valueOf&&J.valueOf();if(oe!=null&&oe!==J)return s.from(oe,H,Y);let Me=A(J);if(Me)return Me;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof J[Symbol.toPrimitive]=="function")return s.from(J[Symbol.toPrimitive]("string"),H,Y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J)}s.from=function(J,H,Y){return u(J,H,Y)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function f(J){if(typeof J!="number")throw new TypeError('"size" argument must be of type number');if(J<0)throw new RangeError('The value "'+J+'" is invalid for option "size"')}function l(J,H,Y){return f(J),J<=0?o(J):H!==void 0?typeof Y=="string"?o(J).fill(H,Y):o(J).fill(H):o(J)}s.alloc=function(J,H,Y){return l(J,H,Y)};function c(J){return f(J),o(J<0?0:I(J)|0)}s.allocUnsafe=function(J){return c(J)},s.allocUnsafeSlow=function(J){return c(J)};function h(J,H){if((typeof H!="string"||H==="")&&(H="utf8"),!s.isEncoding(H))throw new TypeError("Unknown encoding: "+H);let Y=R(J,H)|0,oe=o(Y),Me=oe.write(J,H);return Me!==Y&&(oe=oe.slice(0,Me)),oe}function m(J){let H=J.length<0?0:I(J.length)|0,Y=o(H);for(let oe=0;oe<H;oe+=1)Y[oe]=J[oe]&255;return Y}function g(J){if(be(J,Uint8Array)){let H=new Uint8Array(J);return b(H.buffer,H.byteOffset,H.byteLength)}return m(J)}function b(J,H,Y){if(H<0||J.byteLength<H)throw new RangeError('"offset" is outside of buffer bounds');if(J.byteLength<H+(Y||0))throw new RangeError('"length" is outside of buffer bounds');let oe;return H===void 0&&Y===void 0?oe=new Uint8Array(J):Y===void 0?oe=new Uint8Array(J,H):oe=new Uint8Array(J,H,Y),Object.setPrototypeOf(oe,s.prototype),oe}function A(J){if(s.isBuffer(J)){let H=I(J.length)|0,Y=o(H);return Y.length===0||J.copy(Y,0,0,H),Y}if(J.length!==void 0)return typeof J.length!="number"||qe(J.length)?o(0):m(J);if(J.type==="Buffer"&&Array.isArray(J.data))return m(J.data)}function I(J){if(J>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return J|0}function C(J){return+J!=J&&(J=0),s.alloc(+J)}s.isBuffer=function(H){return H!=null&&H._isBuffer===!0&&H!==s.prototype},s.compare=function(H,Y){if(be(H,Uint8Array)&&(H=s.from(H,H.offset,H.byteLength)),be(Y,Uint8Array)&&(Y=s.from(Y,Y.offset,Y.byteLength)),!s.isBuffer(H)||!s.isBuffer(Y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===Y)return 0;let oe=H.length,Me=Y.length;for(let Ge=0,Ce=Math.min(oe,Me);Ge<Ce;++Ge)if(H[Ge]!==Y[Ge]){oe=H[Ge],Me=Y[Ge];break}return oe<Me?-1:Me<oe?1:0},s.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(H,Y){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return s.alloc(0);let oe;if(Y===void 0)for(Y=0,oe=0;oe<H.length;++oe)Y+=H[oe].length;let Me=s.allocUnsafe(Y),Ge=0;for(oe=0;oe<H.length;++oe){let Ce=H[oe];if(be(Ce,Uint8Array))Ge+Ce.length>Me.length?(s.isBuffer(Ce)||(Ce=s.from(Ce)),Ce.copy(Me,Ge)):Uint8Array.prototype.set.call(Me,Ce,Ge);else if(s.isBuffer(Ce))Ce.copy(Me,Ge);else throw new TypeError('"list" argument must be an Array of Buffers');Ge+=Ce.length}return Me};function R(J,H){if(s.isBuffer(J))return J.length;if(ArrayBuffer.isView(J)||be(J,ArrayBuffer))return J.byteLength;if(typeof J!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof J);let Y=J.length,oe=arguments.length>2&&arguments[2]===!0;if(!oe&&Y===0)return 0;let Me=!1;for(;;)switch(H){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return xe(J).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y*2;case"hex":return Y>>>1;case"base64":return _e(J).length;default:if(Me)return oe?-1:xe(J).length;H=(""+H).toLowerCase(),Me=!0}}s.byteLength=R;function O(J,H,Y){let oe=!1;if((H===void 0||H<0)&&(H=0),H>this.length||((Y===void 0||Y>this.length)&&(Y=this.length),Y<=0)||(Y>>>=0,H>>>=0,Y<=H))return"";for(J||(J="utf8");;)switch(J){case"hex":return E(this,H,Y);case"utf8":case"utf-8":return S(this,H,Y);case"ascii":return D(this,H,Y);case"latin1":case"binary":return k(this,H,Y);case"base64":return v(this,H,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,H,Y);default:if(oe)throw new TypeError("Unknown encoding: "+J);J=(J+"").toLowerCase(),oe=!0}}s.prototype._isBuffer=!0;function F(J,H,Y){let oe=J[H];J[H]=J[Y],J[Y]=oe}s.prototype.swap16=function(){let H=this.length;if(H%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Y=0;Y<H;Y+=2)F(this,Y,Y+1);return this},s.prototype.swap32=function(){let H=this.length;if(H%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Y=0;Y<H;Y+=4)F(this,Y,Y+3),F(this,Y+1,Y+2);return this},s.prototype.swap64=function(){let H=this.length;if(H%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Y=0;Y<H;Y+=8)F(this,Y,Y+7),F(this,Y+1,Y+6),F(this,Y+2,Y+5),F(this,Y+3,Y+4);return this},s.prototype.toString=function(){let H=this.length;return H===0?"":arguments.length===0?S(this,0,H):O.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(H){if(!s.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H?!0:s.compare(this,H)===0},s.prototype.inspect=function(){let H="",Y=e.INSPECT_MAX_BYTES;return H=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim(),this.length>Y&&(H+=" ... "),"<Buffer "+H+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(H,Y,oe,Me,Ge){if(be(H,Uint8Array)&&(H=s.from(H,H.offset,H.byteLength)),!s.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(Y===void 0&&(Y=0),oe===void 0&&(oe=H?H.length:0),Me===void 0&&(Me=0),Ge===void 0&&(Ge=this.length),Y<0||oe>H.length||Me<0||Ge>this.length)throw new RangeError("out of range index");if(Me>=Ge&&Y>=oe)return 0;if(Me>=Ge)return-1;if(Y>=oe)return 1;if(Y>>>=0,oe>>>=0,Me>>>=0,Ge>>>=0,this===H)return 0;let Ce=Ge-Me,Xe=oe-Y,Yt=Math.min(Ce,Xe),tt=this.slice(Me,Ge),Ye=H.slice(Y,oe);for(let dr=0;dr<Yt;++dr)if(tt[dr]!==Ye[dr]){Ce=tt[dr],Xe=Ye[dr];break}return Ce<Xe?-1:Xe<Ce?1:0};function z(J,H,Y,oe,Me){if(J.length===0)return-1;if(typeof Y=="string"?(oe=Y,Y=0):Y>2147483647?Y=2147483647:Y<-2147483648&&(Y=-2147483648),Y=+Y,qe(Y)&&(Y=Me?0:J.length-1),Y<0&&(Y=J.length+Y),Y>=J.length){if(Me)return-1;Y=J.length-1}else if(Y<0)if(Me)Y=0;else return-1;if(typeof H=="string"&&(H=s.from(H,oe)),s.isBuffer(H))return H.length===0?-1:B(J,H,Y,oe,Me);if(typeof H=="number")return H=H&255,typeof Uint8Array.prototype.indexOf=="function"?Me?Uint8Array.prototype.indexOf.call(J,H,Y):Uint8Array.prototype.lastIndexOf.call(J,H,Y):B(J,[H],Y,oe,Me);throw new TypeError("val must be string, number or Buffer")}function B(J,H,Y,oe,Me){let Ge=1,Ce=J.length,Xe=H.length;if(oe!==void 0&&(oe=String(oe).toLowerCase(),oe==="ucs2"||oe==="ucs-2"||oe==="utf16le"||oe==="utf-16le")){if(J.length<2||H.length<2)return-1;Ge=2,Ce/=2,Xe/=2,Y/=2}function Yt(Ye,dr){return Ge===1?Ye[dr]:Ye.readUInt16BE(dr*Ge)}let tt;if(Me){let Ye=-1;for(tt=Y;tt<Ce;tt++)if(Yt(J,tt)===Yt(H,Ye===-1?0:tt-Ye)){if(Ye===-1&&(Ye=tt),tt-Ye+1===Xe)return Ye*Ge}else Ye!==-1&&(tt-=tt-Ye),Ye=-1}else for(Y+Xe>Ce&&(Y=Ce-Xe),tt=Y;tt>=0;tt--){let Ye=!0;for(let dr=0;dr<Xe;dr++)if(Yt(J,tt+dr)!==Yt(H,dr)){Ye=!1;break}if(Ye)return tt}return-1}s.prototype.includes=function(H,Y,oe){return this.indexOf(H,Y,oe)!==-1},s.prototype.indexOf=function(H,Y,oe){return z(this,H,Y,oe,!0)},s.prototype.lastIndexOf=function(H,Y,oe){return z(this,H,Y,oe,!1)};function $(J,H,Y,oe){Y=Number(Y)||0;let Me=J.length-Y;oe?(oe=Number(oe),oe>Me&&(oe=Me)):oe=Me;let Ge=H.length;oe>Ge/2&&(oe=Ge/2);let Ce;for(Ce=0;Ce<oe;++Ce){let Xe=parseInt(H.substr(Ce*2,2),16);if(qe(Xe))return Ce;J[Y+Ce]=Xe}return Ce}function j(J,H,Y,oe){return ve(xe(H,J.length-Y),J,Y,oe)}function W(J,H,Y,oe){return ve(ge(H),J,Y,oe)}function T(J,H,Y,oe){return ve(_e(H),J,Y,oe)}function p(J,H,Y,oe){return ve(Q(H,J.length-Y),J,Y,oe)}s.prototype.write=function(H,Y,oe,Me){if(Y===void 0)Me="utf8",oe=this.length,Y=0;else if(oe===void 0&&typeof Y=="string")Me=Y,oe=this.length,Y=0;else if(isFinite(Y))Y=Y>>>0,isFinite(oe)?(oe=oe>>>0,Me===void 0&&(Me="utf8")):(Me=oe,oe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let Ge=this.length-Y;if((oe===void 0||oe>Ge)&&(oe=Ge),H.length>0&&(oe<0||Y<0)||Y>this.length)throw new RangeError("Attempt to write outside buffer bounds");Me||(Me="utf8");let Ce=!1;for(;;)switch(Me){case"hex":return $(this,H,Y,oe);case"utf8":case"utf-8":return j(this,H,Y,oe);case"ascii":case"latin1":case"binary":return W(this,H,Y,oe);case"base64":return T(this,H,Y,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p(this,H,Y,oe);default:if(Ce)throw new TypeError("Unknown encoding: "+Me);Me=(""+Me).toLowerCase(),Ce=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function v(J,H,Y){return H===0&&Y===J.length?NC.fromByteArray(J):NC.fromByteArray(J.slice(H,Y))}function S(J,H,Y){Y=Math.min(J.length,Y);let oe=[],Me=H;for(;Me<Y;){let Ge=J[Me],Ce=null,Xe=Ge>239?4:Ge>223?3:Ge>191?2:1;if(Me+Xe<=Y){let Yt,tt,Ye,dr;switch(Xe){case 1:Ge<128&&(Ce=Ge);break;case 2:Yt=J[Me+1],(Yt&192)===128&&(dr=(Ge&31)<<6|Yt&63,dr>127&&(Ce=dr));break;case 3:Yt=J[Me+1],tt=J[Me+2],(Yt&192)===128&&(tt&192)===128&&(dr=(Ge&15)<<12|(Yt&63)<<6|tt&63,dr>2047&&(dr<55296||dr>57343)&&(Ce=dr));break;case 4:Yt=J[Me+1],tt=J[Me+2],Ye=J[Me+3],(Yt&192)===128&&(tt&192)===128&&(Ye&192)===128&&(dr=(Ge&15)<<18|(Yt&63)<<12|(tt&63)<<6|Ye&63,dr>65535&&dr<1114112&&(Ce=dr))}}Ce===null?(Ce=65533,Xe=1):Ce>65535&&(Ce-=65536,oe.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),oe.push(Ce),Me+=Xe}return M(oe)}let y=4096;function M(J){let H=J.length;if(H<=y)return String.fromCharCode.apply(String,J);let Y="",oe=0;for(;oe<H;)Y+=String.fromCharCode.apply(String,J.slice(oe,oe+=y));return Y}function D(J,H,Y){let oe="";Y=Math.min(J.length,Y);for(let Me=H;Me<Y;++Me)oe+=String.fromCharCode(J[Me]&127);return oe}function k(J,H,Y){let oe="";Y=Math.min(J.length,Y);for(let Me=H;Me<Y;++Me)oe+=String.fromCharCode(J[Me]);return oe}function E(J,H,Y){let oe=J.length;(!H||H<0)&&(H=0),(!Y||Y<0||Y>oe)&&(Y=oe);let Me="";for(let Ge=H;Ge<Y;++Ge)Me+=se[J[Ge]];return Me}function d(J,H,Y){let oe=J.slice(H,Y),Me="";for(let Ge=0;Ge<oe.length-1;Ge+=2)Me+=String.fromCharCode(oe[Ge]+oe[Ge+1]*256);return Me}s.prototype.slice=function(H,Y){let oe=this.length;H=~~H,Y=Y===void 0?oe:~~Y,H<0?(H+=oe,H<0&&(H=0)):H>oe&&(H=oe),Y<0?(Y+=oe,Y<0&&(Y=0)):Y>oe&&(Y=oe),Y<H&&(Y=H);let Me=this.subarray(H,Y);return Object.setPrototypeOf(Me,s.prototype),Me};function N(J,H,Y){if(J%1!==0||J<0)throw new RangeError("offset is not uint");if(J+H>Y)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(H,Y,oe){H=H>>>0,Y=Y>>>0,oe||N(H,Y,this.length);let Me=this[H],Ge=1,Ce=0;for(;++Ce<Y&&(Ge*=256);)Me+=this[H+Ce]*Ge;return Me},s.prototype.readUintBE=s.prototype.readUIntBE=function(H,Y,oe){H=H>>>0,Y=Y>>>0,oe||N(H,Y,this.length);let Me=this[H+--Y],Ge=1;for(;Y>0&&(Ge*=256);)Me+=this[H+--Y]*Ge;return Me},s.prototype.readUint8=s.prototype.readUInt8=function(H,Y){return H=H>>>0,Y||N(H,1,this.length),this[H]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(H,Y){return H=H>>>0,Y||N(H,2,this.length),this[H]|this[H+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(H,Y){return H=H>>>0,Y||N(H,2,this.length),this[H]<<8|this[H+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(H,Y){return H=H>>>0,Y||N(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+this[H+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(H,Y){return H=H>>>0,Y||N(H,4,this.length),this[H]*16777216+(this[H+1]<<16|this[H+2]<<8|this[H+3])},s.prototype.readBigUInt64LE=Se(function(H){H=H>>>0,pe(H,"offset");let Y=this[H],oe=this[H+7];(Y===void 0||oe===void 0)&&Ie(H,this.length-8);let Me=Y+this[++H]*ir(2,8)+this[++H]*ir(2,16)+this[++H]*ir(2,24),Ge=this[++H]+this[++H]*ir(2,8)+this[++H]*ir(2,16)+oe*ir(2,24);return BigInt(Me)+(BigInt(Ge)<<BigInt(32))}),s.prototype.readBigUInt64BE=Se(function(H){H=H>>>0,pe(H,"offset");let Y=this[H],oe=this[H+7];(Y===void 0||oe===void 0)&&Ie(H,this.length-8);let Me=Y*ir(2,24)+this[++H]*ir(2,16)+this[++H]*ir(2,8)+this[++H],Ge=this[++H]*ir(2,24)+this[++H]*ir(2,16)+this[++H]*ir(2,8)+oe;return(BigInt(Me)<<BigInt(32))+BigInt(Ge)}),s.prototype.readIntLE=function(H,Y,oe){H=H>>>0,Y=Y>>>0,oe||N(H,Y,this.length);let Me=this[H],Ge=1,Ce=0;for(;++Ce<Y&&(Ge*=256);)Me+=this[H+Ce]*Ge;return Ge*=128,Me>=Ge&&(Me-=Math.pow(2,8*Y)),Me},s.prototype.readIntBE=function(H,Y,oe){H=H>>>0,Y=Y>>>0,oe||N(H,Y,this.length);let Me=Y,Ge=1,Ce=this[H+--Me];for(;Me>0&&(Ge*=256);)Ce+=this[H+--Me]*Ge;return Ge*=128,Ce>=Ge&&(Ce-=Math.pow(2,8*Y)),Ce},s.prototype.readInt8=function(H,Y){return H=H>>>0,Y||N(H,1,this.length),this[H]&128?(255-this[H]+1)*-1:this[H]},s.prototype.readInt16LE=function(H,Y){H=H>>>0,Y||N(H,2,this.length);let oe=this[H]|this[H+1]<<8;return oe&32768?oe|4294901760:oe},s.prototype.readInt16BE=function(H,Y){H=H>>>0,Y||N(H,2,this.length);let oe=this[H+1]|this[H]<<8;return oe&32768?oe|4294901760:oe},s.prototype.readInt32LE=function(H,Y){return H=H>>>0,Y||N(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},s.prototype.readInt32BE=function(H,Y){return H=H>>>0,Y||N(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},s.prototype.readBigInt64LE=Se(function(H){H=H>>>0,pe(H,"offset");let Y=this[H],oe=this[H+7];(Y===void 0||oe===void 0)&&Ie(H,this.length-8);let Me=this[H+4]+this[H+5]*ir(2,8)+this[H+6]*ir(2,16)+(oe<<24);return(BigInt(Me)<<BigInt(32))+BigInt(Y+this[++H]*ir(2,8)+this[++H]*ir(2,16)+this[++H]*ir(2,24))}),s.prototype.readBigInt64BE=Se(function(H){H=H>>>0,pe(H,"offset");let Y=this[H],oe=this[H+7];(Y===void 0||oe===void 0)&&Ie(H,this.length-8);let Me=(Y<<24)+this[++H]*ir(2,16)+this[++H]*ir(2,8)+this[++H];return(BigInt(Me)<<BigInt(32))+BigInt(this[++H]*ir(2,24)+this[++H]*ir(2,16)+this[++H]*ir(2,8)+oe)}),s.prototype.readFloatLE=function(H,Y){return H=H>>>0,Y||N(H,4,this.length),Zv.read(this,H,!0,23,4)},s.prototype.readFloatBE=function(H,Y){return H=H>>>0,Y||N(H,4,this.length),Zv.read(this,H,!1,23,4)},s.prototype.readDoubleLE=function(H,Y){return H=H>>>0,Y||N(H,8,this.length),Zv.read(this,H,!0,52,8)},s.prototype.readDoubleBE=function(H,Y){return H=H>>>0,Y||N(H,8,this.length),Zv.read(this,H,!1,52,8)};function U(J,H,Y,oe,Me,Ge){if(!s.isBuffer(J))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>Me||H<Ge)throw new RangeError('"value" argument is out of bounds');if(Y+oe>J.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(H,Y,oe,Me){if(H=+H,Y=Y>>>0,oe=oe>>>0,!Me){let Xe=Math.pow(2,8*oe)-1;U(this,H,Y,oe,Xe,0)}let Ge=1,Ce=0;for(this[Y]=H&255;++Ce<oe&&(Ge*=256);)this[Y+Ce]=H/Ge&255;return Y+oe},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(H,Y,oe,Me){if(H=+H,Y=Y>>>0,oe=oe>>>0,!Me){let Xe=Math.pow(2,8*oe)-1;U(this,H,Y,oe,Xe,0)}let Ge=oe-1,Ce=1;for(this[Y+Ge]=H&255;--Ge>=0&&(Ce*=256);)this[Y+Ge]=H/Ce&255;return Y+oe},s.prototype.writeUint8=s.prototype.writeUInt8=function(H,Y,oe){return H=+H,Y=Y>>>0,oe||U(this,H,Y,1,255,0),this[Y]=H&255,Y+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(H,Y,oe){return H=+H,Y=Y>>>0,oe||U(this,H,Y,2,65535,0),this[Y]=H&255,this[Y+1]=H>>>8,Y+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(H,Y,oe){return H=+H,Y=Y>>>0,oe||U(this,H,Y,2,65535,0),this[Y]=H>>>8,this[Y+1]=H&255,Y+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(H,Y,oe){return H=+H,Y=Y>>>0,oe||U(this,H,Y,4,4294967295,0),this[Y+3]=H>>>24,this[Y+2]=H>>>16,this[Y+1]=H>>>8,this[Y]=H&255,Y+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(H,Y,oe){return H=+H,Y=Y>>>0,oe||U(this,H,Y,4,4294967295,0),this[Y]=H>>>24,this[Y+1]=H>>>16,this[Y+2]=H>>>8,this[Y+3]=H&255,Y+4};function q(J,H,Y,oe,Me){fe(H,oe,Me,J,Y,7);let Ge=Number(H&BigInt(4294967295));J[Y++]=Ge,Ge=Ge>>8,J[Y++]=Ge,Ge=Ge>>8,J[Y++]=Ge,Ge=Ge>>8,J[Y++]=Ge;let Ce=Number(H>>BigInt(32)&BigInt(4294967295));return J[Y++]=Ce,Ce=Ce>>8,J[Y++]=Ce,Ce=Ce>>8,J[Y++]=Ce,Ce=Ce>>8,J[Y++]=Ce,Y}function P(J,H,Y,oe,Me){fe(H,oe,Me,J,Y,7);let Ge=Number(H&BigInt(4294967295));J[Y+7]=Ge,Ge=Ge>>8,J[Y+6]=Ge,Ge=Ge>>8,J[Y+5]=Ge,Ge=Ge>>8,J[Y+4]=Ge;let Ce=Number(H>>BigInt(32)&BigInt(4294967295));return J[Y+3]=Ce,Ce=Ce>>8,J[Y+2]=Ce,Ce=Ce>>8,J[Y+1]=Ce,Ce=Ce>>8,J[Y]=Ce,Y+8}s.prototype.writeBigUInt64LE=Se(function(H,Y=0){return q(this,H,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Se(function(H,Y=0){return P(this,H,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(H,Y,oe,Me){if(H=+H,Y=Y>>>0,!Me){let Yt=Math.pow(2,8*oe-1);U(this,H,Y,oe,Yt-1,-Yt)}let Ge=0,Ce=1,Xe=0;for(this[Y]=H&255;++Ge<oe&&(Ce*=256);)H<0&&Xe===0&&this[Y+Ge-1]!==0&&(Xe=1),this[Y+Ge]=(H/Ce>>0)-Xe&255;return Y+oe},s.prototype.writeIntBE=function(H,Y,oe,Me){if(H=+H,Y=Y>>>0,!Me){let Yt=Math.pow(2,8*oe-1);U(this,H,Y,oe,Yt-1,-Yt)}let Ge=oe-1,Ce=1,Xe=0;for(this[Y+Ge]=H&255;--Ge>=0&&(Ce*=256);)H<0&&Xe===0&&this[Y+Ge+1]!==0&&(Xe=1),this[Y+Ge]=(H/Ce>>0)-Xe&255;return Y+oe},s.prototype.writeInt8=function(H,Y,oe){return H=+H,Y=Y>>>0,oe||U(this,H,Y,1,127,-128),H<0&&(H=255+H+1),this[Y]=H&255,Y+1},s.prototype.writeInt16LE=function(H,Y,oe){return H=+H,Y=Y>>>0,oe||U(this,H,Y,2,32767,-32768),this[Y]=H&255,this[Y+1]=H>>>8,Y+2},s.prototype.writeInt16BE=function(H,Y,oe){return H=+H,Y=Y>>>0,oe||U(this,H,Y,2,32767,-32768),this[Y]=H>>>8,this[Y+1]=H&255,Y+2},s.prototype.writeInt32LE=function(H,Y,oe){return H=+H,Y=Y>>>0,oe||U(this,H,Y,4,2147483647,-2147483648),this[Y]=H&255,this[Y+1]=H>>>8,this[Y+2]=H>>>16,this[Y+3]=H>>>24,Y+4},s.prototype.writeInt32BE=function(H,Y,oe){return H=+H,Y=Y>>>0,oe||U(this,H,Y,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),this[Y]=H>>>24,this[Y+1]=H>>>16,this[Y+2]=H>>>8,this[Y+3]=H&255,Y+4},s.prototype.writeBigInt64LE=Se(function(H,Y=0){return q(this,H,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Se(function(H,Y=0){return P(this,H,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function G(J,H,Y,oe,Me,Ge){if(Y+oe>J.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function Z(J,H,Y,oe,Me){return H=+H,Y=Y>>>0,Me||G(J,H,Y,4),Zv.write(J,H,Y,oe,23,4),Y+4}s.prototype.writeFloatLE=function(H,Y,oe){return Z(this,H,Y,!0,oe)},s.prototype.writeFloatBE=function(H,Y,oe){return Z(this,H,Y,!1,oe)};function X(J,H,Y,oe,Me){return H=+H,Y=Y>>>0,Me||G(J,H,Y,8),Zv.write(J,H,Y,oe,52,8),Y+8}s.prototype.writeDoubleLE=function(H,Y,oe){return X(this,H,Y,!0,oe)},s.prototype.writeDoubleBE=function(H,Y,oe){return X(this,H,Y,!1,oe)},s.prototype.copy=function(H,Y,oe,Me){if(!s.isBuffer(H))throw new TypeError("argument should be a Buffer");if(oe||(oe=0),!Me&&Me!==0&&(Me=this.length),Y>=H.length&&(Y=H.length),Y||(Y=0),Me>0&&Me<oe&&(Me=oe),Me===oe||H.length===0||this.length===0)return 0;if(Y<0)throw new RangeError("targetStart out of bounds");if(oe<0||oe>=this.length)throw new RangeError("Index out of range");if(Me<0)throw new RangeError("sourceEnd out of bounds");Me>this.length&&(Me=this.length),H.length-Y<Me-oe&&(Me=H.length-Y+oe);let Ge=Me-oe;return this===H&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Y,oe,Me):Uint8Array.prototype.set.call(H,this.subarray(oe,Me),Y),Ge},s.prototype.fill=function(H,Y,oe,Me){if(typeof H=="string"){if(typeof Y=="string"?(Me=Y,Y=0,oe=this.length):typeof oe=="string"&&(Me=oe,oe=this.length),Me!==void 0&&typeof Me!="string")throw new TypeError("encoding must be a string");if(typeof Me=="string"&&!s.isEncoding(Me))throw new TypeError("Unknown encoding: "+Me);if(H.length===1){let Ce=H.charCodeAt(0);(Me==="utf8"&&Ce<128||Me==="latin1")&&(H=Ce)}}else typeof H=="number"?H=H&255:typeof H=="boolean"&&(H=Number(H));if(Y<0||this.length<Y||this.length<oe)throw new RangeError("Out of range index");if(oe<=Y)return this;Y=Y>>>0,oe=oe===void 0?this.length:oe>>>0,H||(H=0);let Ge;if(typeof H=="number")for(Ge=Y;Ge<oe;++Ge)this[Ge]=H;else{let Ce=s.isBuffer(H)?H:s.from(H,Me),Xe=Ce.length;if(Xe===0)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(Ge=0;Ge<oe-Y;++Ge)this[Ge+Y]=Ce[Ge%Xe]}return this};let he={};function V(J,H,Y){he[J]=class extends Y{constructor(){super(),Object.defineProperty(this,"message",{value:H.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${J}]`,this.stack,delete this.name}get code(){return J}set code(Me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Me,writable:!0})}toString(){return`${this.name} [${J}]: ${this.message}`}}}V("ERR_BUFFER_OUT_OF_BOUNDS",function(J){return J?`${J} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),V("ERR_INVALID_ARG_TYPE",function(J,H){return`The "${J}" argument must be of type number. Received type ${typeof H}`},TypeError),V("ERR_OUT_OF_RANGE",function(J,H,Y){let oe=`The value of "${J}" is out of range.`,Me=Y;return Number.isInteger(Y)&&Math.abs(Y)>ir(2,32)?Me=K(String(Y)):typeof Y=="bigint"&&(Me=String(Y),(Y>ir(BigInt(2),BigInt(32))||Y<-ir(BigInt(2),BigInt(32)))&&(Me=K(Me)),Me+="n"),oe+=` It must be ${H}. Received ${Me}`,oe},RangeError);function K(J){let H="",Y=J.length,oe=J[0]==="-"?1:0;for(;Y>=oe+4;Y-=3)H=`_${J.slice(Y-3,Y)}${H}`;return`${J.slice(0,Y)}${H}`}function ne(J,H,Y){pe(H,"offset"),(J[H]===void 0||J[H+Y]===void 0)&&Ie(H,J.length-(Y+1))}function fe(J,H,Y,oe,Me,Ge){if(J>Y||J<H){let Ce=typeof H=="bigint"?"n":"",Xe;throw Ge>3?H===0||H===BigInt(0)?Xe=`>= 0${Ce} and < 2${Ce} ** ${(Ge+1)*8}${Ce}`:Xe=`>= -(2${Ce} ** ${(Ge+1)*8-1}${Ce}) and < 2 ** ${(Ge+1)*8-1}${Ce}`:Xe=`>= ${H}${Ce} and <= ${Y}${Ce}`,new he.ERR_OUT_OF_RANGE("value",Xe,J)}ne(oe,Me,Ge)}function pe(J,H){if(typeof J!="number")throw new he.ERR_INVALID_ARG_TYPE(H,"number",J)}function Ie(J,H,Y){throw Math.floor(J)!==J?(pe(J,Y),new he.ERR_OUT_OF_RANGE(Y||"offset","an integer",J)):H<0?new he.ERR_BUFFER_OUT_OF_BOUNDS:new he.ERR_OUT_OF_RANGE(Y||"offset",`>= ${Y?1:0} and <= ${H}`,J)}let ke=/[^+/0-9A-Za-z-_]/g;function ue(J){if(J=J.split("=")[0],J=J.trim().replace(ke,""),J.length<2)return"";for(;J.length%4!==0;)J=J+"=";return J}function xe(J,H){H=H||1/0;let Y,oe=J.length,Me=null,Ge=[];for(let Ce=0;Ce<oe;++Ce){if(Y=J.charCodeAt(Ce),Y>55295&&Y<57344){if(!Me){if(Y>56319){(H-=3)>-1&&Ge.push(239,191,189);continue}else if(Ce+1===oe){(H-=3)>-1&&Ge.push(239,191,189);continue}Me=Y;continue}if(Y<56320){(H-=3)>-1&&Ge.push(239,191,189),Me=Y;continue}Y=(Me-55296<<10|Y-56320)+65536}else Me&&(H-=3)>-1&&Ge.push(239,191,189);if(Me=null,Y<128){if((H-=1)<0)break;Ge.push(Y)}else if(Y<2048){if((H-=2)<0)break;Ge.push(Y>>6|192,Y&63|128)}else if(Y<65536){if((H-=3)<0)break;Ge.push(Y>>12|224,Y>>6&63|128,Y&63|128)}else if(Y<1114112){if((H-=4)<0)break;Ge.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,Y&63|128)}else throw new Error("Invalid code point")}return Ge}function ge(J){let H=[];for(let Y=0;Y<J.length;++Y)H.push(J.charCodeAt(Y)&255);return H}function Q(J,H){let Y,oe,Me,Ge=[];for(let Ce=0;Ce<J.length&&!((H-=2)<0);++Ce)Y=J.charCodeAt(Ce),oe=Y>>8,Me=Y%256,Ge.push(Me),Ge.push(oe);return Ge}function _e(J){return NC.toByteArray(ue(J))}function ve(J,H,Y,oe){let Me;for(Me=0;Me<oe&&!(Me+Y>=H.length||Me>=J.length);++Me)H[Me+Y]=J[Me];return Me}function be(J,H){return J instanceof H||J!=null&&J.constructor!=null&&J.constructor.name!=null&&J.constructor.name===H.name}function qe(J){return J!==J}let se=function(){let J="0123456789abcdef",H=new Array(256);for(let Y=0;Y<16;++Y){let oe=Y*16;for(let Me=0;Me<16;++Me)H[oe+Me]=J[Y]+J[Me]}return H}();function Se(J){return typeof BigInt=="undefined"?Ke:J}function Ke(){throw new Error("BigInt not supported")}}),$Buffer=Hw.Buffer,$Xt=Hw.INSPECT_MAX_BYTES,VXt=Hw.SlowBuffer,Kw=Hw,WXt=Hw.kMaxLength;});var fM=te(()=>{w();_();TC();TC()});var DC,XXt,lM,QXt,RZ=te(()=>{w();_();Zw();yp();DC=au(function(t,e){(function(r){var n=Object.hasOwnProperty,a=Array.isArray?Array.isArray:function(d){return Object.prototype.toString.call(d)==="[object Array]"},o=10,s=typeof $process=="object"&&typeof $process.nextTick=="function",u=typeof Symbol=="function",f=typeof Reflect=="object",l=typeof setImmediate=="function",c=l?setImmediate:setTimeout,h=u?f&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(E){var d=Object.getOwnPropertyNames(E);return d.push.apply(d,Object.getOwnPropertySymbols(E)),d}:Object.keys;function m(){this._events={},this._conf&&g.call(this,this._conf)}function g(E){E&&(this._conf=E,E.delimiter&&(this.delimiter=E.delimiter),E.maxListeners!==r&&(this._maxListeners=E.maxListeners),E.wildcard&&(this.wildcard=E.wildcard),E.newListener&&(this._newListener=E.newListener),E.removeListener&&(this._removeListener=E.removeListener),E.verboseMemoryLeak&&(this.verboseMemoryLeak=E.verboseMemoryLeak),E.ignoreErrors&&(this.ignoreErrors=E.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function b(E,d){var N="(node) warning: possible EventEmitter memory leak detected. "+E+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(N+=" Event name: "+d+"."),typeof $process!="undefined"&&$process.emitWarning){var U=new Error(N);U.name="MaxListenersExceededWarning",U.emitter=this,U.count=E,$process.emitWarning(U)}else console.error(N),console.trace&&console.trace()}var A=function(E,d,N){var U=arguments.length;switch(U){case 0:return[];case 1:return[E];case 2:return[E,d];case 3:return[E,d,N];default:for(var q=new Array(U);U--;)q[U]=arguments[U];return q}};function I(E,d){for(var N={},U,q=E.length,P=d?value.length:0,G=0;G<q;G++)U=E[G],N[U]=G<P?d[G]:r;return N}function C(E,d,N){this._emitter=E,this._target=d,this._listeners={},this._listenersCount=0;var U,q;if((N.on||N.off)&&(U=N.on,q=N.off),d.addEventListener?(U=d.addEventListener,q=d.removeEventListener):d.addListener?(U=d.addListener,q=d.removeListener):d.on&&(U=d.on,q=d.off),!U&&!q)throw Error("target does not implement any known event API");if(typeof U!="function")throw TypeError("on method must be a function");if(typeof q!="function")throw TypeError("off method must be a function");this._on=U,this._off=q;var P=E._observers;P?P.push(this):E._observers=[this]}Object.assign(C.prototype,{subscribe:function(E,d,N){var U=this,q=this._target,P=this._emitter,G=this._listeners,Z=function(){var X=A.apply(null,arguments),he={data:X,name:d,original:E};if(N){var V=N.call(q,he);V!==!1&&P.emit.apply(P,[he.name].concat(X));return}P.emit.apply(P,[d].concat(X))};if(G[E])throw Error("Event '"+E+"' is already listening");this._listenersCount++,P._newListener&&P._removeListener&&!U._onNewListener?(this._onNewListener=function(X){X===d&&G[E]===null&&(G[E]=Z,U._on.call(q,E,Z))},P.on("newListener",this._onNewListener),this._onRemoveListener=function(X){X===d&&!P.hasListeners(X)&&G[E]&&(G[E]=null,U._off.call(q,E,Z))},G[E]=null,P.on("removeListener",this._onRemoveListener)):(G[E]=Z,U._on.call(q,E,Z))},unsubscribe:function(E){var d=this,N=this._listeners,U=this._emitter,q,P,G=this._off,Z=this._target,X;if(E&&typeof E!="string")throw TypeError("event must be a string");function he(){d._onNewListener&&(U.off("newListener",d._onNewListener),U.off("removeListener",d._onRemoveListener),d._onNewListener=null,d._onRemoveListener=null);var V=j.call(U,d);U._observers.splice(V,1)}if(E){if(q=N[E],!q)return;G.call(Z,E,q),delete N[E],--this._listenersCount||he()}else{for(P=h(N),X=P.length;X-- >0;)E=P[X],G.call(Z,E,N[E]);this._listeners={},this._listenersCount=0,he()}}});function R(E,d,N,U){var q=Object.assign({},d);if(!E)return q;if(typeof E!="object")throw TypeError("options must be an object");var P=Object.keys(E),G=P.length,Z,X,he;function V(ne){throw Error('Invalid "'+Z+'" option value'+(ne?". Reason: "+ne:""))}for(var K=0;K<G;K++){if(Z=P[K],!U&&!n.call(d,Z))throw Error('Unknown "'+Z+'" option');X=E[Z],X!==r&&(he=N[Z],q[Z]=he?he(X,V):X)}return q}function O(E,d){return(typeof E!="function"||!E.hasOwnProperty("prototype"))&&d("value must be a constructor"),E}function F(E){var d="value must be type of "+E.join("|"),N=E.length,U=E[0],q=E[1];return N===1?function(P,G){if(typeof P===U)return P;G(d)}:N===2?function(P,G){var Z=typeof P;if(Z===U||Z===q)return P;G(d)}:function(P,G){for(var Z=typeof P,X=N;X-- >0;)if(Z===E[X])return P;G(d)}}var z=F(["function"]),B=F(["object","function"]);function $(E,d,N){var U,q,P=0,G,Z=new E(function(X,he,V){N=R(N,{timeout:0,overload:!1},{timeout:function(pe,Ie){return pe*=1,(typeof pe!="number"||pe<0||!Number.isFinite(pe))&&Ie("timeout must be a positive number"),pe}}),U=!N.overload&&typeof E.prototype.cancel=="function"&&typeof V=="function";function K(){q&&(q=null),P&&(clearTimeout(P),P=0)}var ne=function(pe){K(),X(pe)},fe=function(pe){K(),he(pe)};U?d(ne,fe,V):(q=[function(pe){fe(pe||Error("canceled"))}],d(ne,fe,function(pe){if(G)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof pe!="function")throw TypeError("onCancel callback must be a function");q.push(pe)}),G=!0),N.timeout>0&&(P=setTimeout(function(){var pe=Error("timeout");pe.code="ETIMEDOUT",P=0,Z.cancel(pe),he(pe)},N.timeout))});return U||(Z.cancel=function(X){if(!!q){for(var he=q.length,V=1;V<he;V++)q[V](X);q[0](X),q=null}}),Z}function j(E){var d=this._observers;if(!d)return-1;for(var N=d.length,U=0;U<N;U++)if(d[U]._target===E)return U;return-1}function W(E,d,N,U,q){if(!N)return null;if(U===0){var P=typeof d;if(P==="string"){var G,Z,X=0,he=0,V=this.delimiter,K=V.length;if((Z=d.indexOf(V))!==-1){G=new Array(5);do G[X++]=d.slice(he,Z),he=Z+K;while((Z=d.indexOf(V,he))!==-1);G[X++]=d.slice(he),d=G,q=X}else d=[d],q=1}else P==="object"?q=d.length:(d=[d],q=1)}var ne=null,fe,pe,Ie,ke,ue,xe=d[U],ge=d[U+1],Q,_e;if(U===q)N._listeners&&(typeof N._listeners=="function"?(E&&E.push(N._listeners),ne=[N]):(E&&E.push.apply(E,N._listeners),ne=[N]));else if(xe==="*"){for(Q=h(N),Z=Q.length;Z-- >0;)fe=Q[Z],fe!=="_listeners"&&(_e=W(E,d,N[fe],U+1,q),_e&&(ne?ne.push.apply(ne,_e):ne=_e));return ne}else if(xe==="**"){for(ue=U+1===q||U+2===q&&ge==="*",ue&&N._listeners&&(ne=W(E,d,N,q,q)),Q=h(N),Z=Q.length;Z-- >0;)fe=Q[Z],fe!=="_listeners"&&(fe==="*"||fe==="**"?(N[fe]._listeners&&!ue&&(_e=W(E,d,N[fe],q,q),_e&&(ne?ne.push.apply(ne,_e):ne=_e)),_e=W(E,d,N[fe],U,q)):fe===ge?_e=W(E,d,N[fe],U+2,q):_e=W(E,d,N[fe],U,q),_e&&(ne?ne.push.apply(ne,_e):ne=_e));return ne}else N[xe]&&(ne=W(E,d,N[xe],U+1,q));if(pe=N["*"],pe&&W(E,d,pe,U+1,q),Ie=N["**"],Ie)if(U<q)for(Ie._listeners&&W(E,d,Ie,q,q),Q=h(Ie),Z=Q.length;Z-- >0;)fe=Q[Z],fe!=="_listeners"&&(fe===ge?W(E,d,Ie[fe],U+2,q):fe===xe?W(E,d,Ie[fe],U+1,q):(ke={},ke[fe]=Ie[fe],W(E,d,{"**":ke},U+1,q)));else Ie._listeners?W(E,d,Ie,q,q):Ie["*"]&&Ie["*"]._listeners&&W(E,d,Ie["*"],q,q);return ne}function T(E,d,N){var U=0,q=0,P,G=this.delimiter,Z=G.length,X;if(typeof E=="string")if((P=E.indexOf(G))!==-1){X=new Array(5);do X[U++]=E.slice(q,P),q=P+Z;while((P=E.indexOf(G,q))!==-1);X[U++]=E.slice(q)}else X=[E],U=1;else X=E,U=E.length;if(U>1){for(P=0;P+1<U;P++)if(X[P]==="**"&&X[P+1]==="**")return}var he=this.listenerTree,V;for(P=0;P<U;P++)if(V=X[P],he=he[V]||(he[V]={}),P===U-1)return he._listeners?(typeof he._listeners=="function"&&(he._listeners=[he._listeners]),N?he._listeners.unshift(d):he._listeners.push(d),!he._listeners.warned&&this._maxListeners>0&&he._listeners.length>this._maxListeners&&(he._listeners.warned=!0,b.call(this,he._listeners.length,V))):he._listeners=d,!0;return!0}function p(E,d,N,U){for(var q=h(E),P=q.length,G,Z,X,he=E._listeners,V;P-- >0;)Z=q[P],G=E[Z],Z==="_listeners"?X=N:X=N?N.concat(Z):[Z],V=U||typeof Z=="symbol",he&&d.push(V?X:X.join(this.delimiter)),typeof G=="object"&&p.call(this,G,d,X,V);return d}function v(E){for(var d=h(E),N=d.length,U,q,P;N-- >0;)q=d[N],U=E[q],U&&(P=!0,q!=="_listeners"&&!v(U)&&delete E[q]);return P}function S(E,d,N){this.emitter=E,this.event=d,this.listener=N}S.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function y(E,d,N){if(N===!0)q=!0;else if(N===!1)U=!0;else{if(!N||typeof N!="object")throw TypeError("options should be an object or true");var U=N.async,q=N.promisify,P=N.nextTick,G=N.objectify}if(U||P||q){var Z=d,X=d._origin||d;if(P&&!s)throw Error("process.nextTick is not supported");q===r&&(q=d.constructor.name==="AsyncFunction"),d=function(){var he=arguments,V=this,K=this.event;return q?P?Promise.resolve():new Promise(function(ne){c(ne)}).then(function(){return V.event=K,Z.apply(V,he)}):(P?$process.nextTick:c)(function(){V.event=K,Z.apply(V,he)})},d._async=!0,d._origin=X}return[d,G?new S(this,E,d):this]}function M(E){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,g.call(this,E)}M.EventEmitter2=M,M.prototype.listenTo=function(E,d,N){if(typeof E!="object")throw TypeError("target musts be an object");var U=this;N=R(N,{on:r,off:r,reducers:r},{on:z,off:z,reducers:B});function q(P){if(typeof P!="object")throw TypeError("events must be an object");var G=N.reducers,Z=j.call(U,E),X;Z===-1?X=new C(U,E,N):X=U._observers[Z];for(var he=h(P),V=he.length,K,ne=typeof G=="function",fe=0;fe<V;fe++)K=he[fe],X.subscribe(K,P[K]||K,ne?G:G&&G[K])}return a(d)?q(I(d)):q(typeof d=="string"?I(d.split(/\s+/)):d),this},M.prototype.stopListeningTo=function(E,d){var N=this._observers;if(!N)return!1;var U=N.length,q,P=!1;if(E&&typeof E!="object")throw TypeError("target should be an object");for(;U-- >0;)q=N[U],(!E||q._target===E)&&(q.unsubscribe(d),P=!0);return P},M.prototype.delimiter=".",M.prototype.setMaxListeners=function(E){E!==r&&(this._maxListeners=E,this._conf||(this._conf={}),this._conf.maxListeners=E)},M.prototype.getMaxListeners=function(){return this._maxListeners},M.prototype.event="",M.prototype.once=function(E,d,N){return this._once(E,d,!1,N)},M.prototype.prependOnceListener=function(E,d,N){return this._once(E,d,!0,N)},M.prototype._once=function(E,d,N,U){return this._many(E,1,d,N,U)},M.prototype.many=function(E,d,N,U){return this._many(E,d,N,!1,U)},M.prototype.prependMany=function(E,d,N,U){return this._many(E,d,N,!0,U)},M.prototype._many=function(E,d,N,U,q){var P=this;if(typeof N!="function")throw new Error("many only accepts instances of Function");function G(){return--d===0&&P.off(E,G),N.apply(this,arguments)}return G._origin=N,this._on(E,G,U,q)},M.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||m.call(this);var E=arguments[0],d,N=this.wildcard,U,q,P,G,Z;if(E==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(N&&(d=E,E!=="newListener"&&E!=="removeListener"&&typeof E=="object")){if(q=E.length,u){for(P=0;P<q;P++)if(typeof E[P]=="symbol"){Z=!0;break}}Z||(E=E.join(this.delimiter))}var X=arguments.length,he;if(this._all&&this._all.length)for(he=this._all.slice(),P=0,q=he.length;P<q;P++)switch(this.event=E,X){case 1:he[P].call(this,E);break;case 2:he[P].call(this,E,arguments[1]);break;case 3:he[P].call(this,E,arguments[1],arguments[2]);break;default:he[P].apply(this,arguments)}if(N)he=[],W.call(this,he,d,this.listenerTree,0,q);else if(he=this._events[E],typeof he=="function"){switch(this.event=E,X){case 1:he.call(this);break;case 2:he.call(this,arguments[1]);break;case 3:he.call(this,arguments[1],arguments[2]);break;default:for(U=new Array(X-1),G=1;G<X;G++)U[G-1]=arguments[G];he.apply(this,U)}return!0}else he&&(he=he.slice());if(he&&he.length){if(X>3)for(U=new Array(X-1),G=1;G<X;G++)U[G-1]=arguments[G];for(P=0,q=he.length;P<q;P++)switch(this.event=E,X){case 1:he[P].call(this);break;case 2:he[P].call(this,arguments[1]);break;case 3:he[P].call(this,arguments[1],arguments[2]);break;default:he[P].apply(this,U)}return!0}else if(!this.ignoreErrors&&!this._all&&E==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},M.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||m.call(this);var E=arguments[0],d=this.wildcard,N,U,q,P,G,Z;if(E==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(d&&(N=E,E!=="newListener"&&E!=="removeListener"&&typeof E=="object")){if(P=E.length,u){for(G=0;G<P;G++)if(typeof E[G]=="symbol"){U=!0;break}}U||(E=E.join(this.delimiter))}var X=[],he=arguments.length,V;if(this._all)for(G=0,P=this._all.length;G<P;G++)switch(this.event=E,he){case 1:X.push(this._all[G].call(this,E));break;case 2:X.push(this._all[G].call(this,E,arguments[1]));break;case 3:X.push(this._all[G].call(this,E,arguments[1],arguments[2]));break;default:X.push(this._all[G].apply(this,arguments))}if(d?(V=[],W.call(this,V,N,this.listenerTree,0)):V=this._events[E],typeof V=="function")switch(this.event=E,he){case 1:X.push(V.call(this));break;case 2:X.push(V.call(this,arguments[1]));break;case 3:X.push(V.call(this,arguments[1],arguments[2]));break;default:for(q=new Array(he-1),Z=1;Z<he;Z++)q[Z-1]=arguments[Z];X.push(V.apply(this,q))}else if(V&&V.length){if(V=V.slice(),he>3)for(q=new Array(he-1),Z=1;Z<he;Z++)q[Z-1]=arguments[Z];for(G=0,P=V.length;G<P;G++)switch(this.event=E,he){case 1:X.push(V[G].call(this));break;case 2:X.push(V[G].call(this,arguments[1]));break;case 3:X.push(V[G].call(this,arguments[1],arguments[2]));break;default:X.push(V[G].apply(this,q))}}else if(!this.ignoreErrors&&!this._all&&E==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(X)},M.prototype.on=function(E,d,N){return this._on(E,d,!1,N)},M.prototype.prependListener=function(E,d,N){return this._on(E,d,!0,N)},M.prototype.onAny=function(E){return this._onAny(E,!1)},M.prototype.prependAny=function(E){return this._onAny(E,!0)},M.prototype.addListener=M.prototype.on,M.prototype._onAny=function(E,d){if(typeof E!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),d?this._all.unshift(E):this._all.push(E),this},M.prototype._on=function(E,d,N,U){if(typeof E=="function")return this._onAny(E,d),this;if(typeof d!="function")throw new Error("on only accepts instances of Function");this._events||m.call(this);var q=this,P;return U!==r&&(P=y.call(this,E,d,U),d=P[0],q=P[1]),this._newListener&&this.emit("newListener",E,d),this.wildcard?(T.call(this,E,d,N),q):(this._events[E]?(typeof this._events[E]=="function"&&(this._events[E]=[this._events[E]]),N?this._events[E].unshift(d):this._events[E].push(d),!this._events[E].warned&&this._maxListeners>0&&this._events[E].length>this._maxListeners&&(this._events[E].warned=!0,b.call(this,this._events[E].length,E))):this._events[E]=d,q)},M.prototype.off=function(E,d){if(typeof d!="function")throw new Error("removeListener only takes instances of Function");var N,U=[];if(this.wildcard){var q=typeof E=="string"?E.split(this.delimiter):E.slice();if(U=W.call(this,null,q,this.listenerTree,0),!U)return this}else{if(!this._events[E])return this;N=this._events[E],U.push({_listeners:N})}for(var P=0;P<U.length;P++){var G=U[P];if(N=G._listeners,a(N)){for(var Z=-1,X=0,he=N.length;X<he;X++)if(N[X]===d||N[X].listener&&N[X].listener===d||N[X]._origin&&N[X]._origin===d){Z=X;break}if(Z<0)continue;return this.wildcard?G._listeners.splice(Z,1):this._events[E].splice(Z,1),N.length===0&&(this.wildcard?delete G._listeners:delete this._events[E]),this._removeListener&&this.emit("removeListener",E,d),this}else(N===d||N.listener&&N.listener===d||N._origin&&N._origin===d)&&(this.wildcard?delete G._listeners:delete this._events[E],this._removeListener&&this.emit("removeListener",E,d))}return this.listenerTree&&v(this.listenerTree),this},M.prototype.offAny=function(E){var d=0,N=0,U;if(E&&this._all&&this._all.length>0){for(U=this._all,d=0,N=U.length;d<N;d++)if(E===U[d])return U.splice(d,1),this._removeListener&&this.emit("removeListenerAny",E),this}else{if(U=this._all,this._removeListener)for(d=0,N=U.length;d<N;d++)this.emit("removeListenerAny",U[d]);this._all=[]}return this},M.prototype.removeListener=M.prototype.off,M.prototype.removeAllListeners=function(E){if(E===r)return!this._events||m.call(this),this;if(this.wildcard){var d=W.call(this,null,E,this.listenerTree,0),N,U;if(!d)return this;for(U=0;U<d.length;U++)N=d[U],N._listeners=null;this.listenerTree&&v(this.listenerTree)}else this._events&&(this._events[E]=null);return this},M.prototype.listeners=function(E){var d=this._events,N,U,q,P,G;if(E===r){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!d)return[];for(N=h(d),P=N.length,q=[];P-- >0;)U=d[N[P]],typeof U=="function"?q.push(U):q.push.apply(q,U);return q}else{if(this.wildcard){if(G=this.listenerTree,!G)return[];var Z=[],X=typeof E=="string"?E.split(this.delimiter):E.slice();return W.call(this,Z,X,G,0),Z}return d?(U=d[E],U?typeof U=="function"?[U]:U:[]):[]}},M.prototype.eventNames=function(E){var d=this._events;return this.wildcard?p.call(this,this.listenerTree,[],null,E):d?h(d):[]},M.prototype.listenerCount=function(E){return this.listeners(E).length},M.prototype.hasListeners=function(E){if(this.wildcard){var d=[],N=typeof E=="string"?E.split(this.delimiter):E.slice();return W.call(this,d,N,this.listenerTree,0),d.length>0}var U=this._events,q=this._all;return!!(q&&q.length||U&&(E===r?h(U).length:U[E]))},M.prototype.listenersAny=function(){return this._all?this._all:[]},M.prototype.waitFor=function(E,d){var N=this,U=typeof d;return U==="number"?d={timeout:d}:U==="function"&&(d={filter:d}),d=R(d,{timeout:0,filter:r,handleError:!1,Promise,overload:!1},{filter:z,Promise:O}),$(d.Promise,function(q,P,G){function Z(){var X=d.filter;if(!(X&&!X.apply(N,arguments)))if(N.off(E,Z),d.handleError){var he=arguments[0];he?P(he):q(A.apply(null,arguments).slice(1))}else q(A.apply(null,arguments))}G(function(){N.off(E,Z)}),N._on(E,Z,!1)},{timeout:d.timeout,overload:d.overload})};function D(E,d,N){N=R(N,{Promise,timeout:0,overload:!1},{Promise:O});var U=N.Promise;return $(U,function(q,P,G){var Z;if(typeof E.addEventListener=="function"){Z=function(){q(A.apply(null,arguments))},G(function(){E.removeEventListener(d,Z)}),E.addEventListener(d,Z,{once:!0});return}var X=function(){he&&E.removeListener("error",he),q(A.apply(null,arguments))},he;d!=="error"&&(he=function(V){E.removeListener(d,X),P(V)},E.once("error",he)),G(function(){he&&E.removeListener("error",he),E.removeListener(d,X)}),E.once(d,X)},{timeout:N.timeout,overload:N.overload})}var k=M.prototype;Object.defineProperties(M,{defaultMaxListeners:{get:function(){return k._maxListeners},set:function(E){if(typeof E!="number"||E<0||Number.isNaN(E))throw TypeError("n must be a non-negative number");k._maxListeners=E},enumerable:!0},once:{value:D,writable:!0,configurable:!0}}),Object.defineProperties(k,{_maxListeners:{value:o,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof r=="function"&&r.amd?r(function(){return M}):t.exports=M})()}),XXt=DC.EventEmitter2,lM=DC,QXt=DC.defaultMaxListeners});var kC,IC,CC=te(()=>{w();_();RZ();lM.EventEmitter=lM;kC=lM,IC=kC});var cWe,cM,FZ=te(()=>{w();_();cWe=()=>{if("performance"in window||(window.performance={}),Date.now=Date.now||(()=>new Date().getTime()),!("now"in window.performance)){let t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=()=>Date.now()-t}},cM=t=>{cWe();let e=Math.floor((Date.now()-performance.now())*.001),r=performance.now()*.001,n=Math.floor(r)+e,a=Math.floor(r%1*1e9);return t&&(n=n-t[0],a=a-t[1],a<0&&(n--,a+=1e9)),[n,a]};cM.bigint=()=>{let t=cM();return BigInt(t[0]*1e9+t[1])}});function Jw(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;throw new Error("unable to locate global object")}var OC=te(()=>{w();_()});var hWe,RC,pWe,dWe,mWe,wp,LC,BZ,vWe,hM,In,Yw,qZ,Xv,FC,im,BC,gWe,Jv,bp,Yv,yWe,Qv,bWe,LZ,wWe,xWe,PZ,pM,_We,SWe,EWe,MWe,Xl,PC,zZ=te(()=>{w();_();yp();hWe="Function.prototype.bind called on incompatible ",RC=Array.prototype.slice,pWe=Object.prototype.toString,dWe="[object Function]",mWe=function(e){var r=this;if(typeof r!="function"||pWe.call(r)!==dWe)throw new TypeError(hWe+r);for(var n=RC.call(arguments,1),a,o=function(){if(this instanceof a){var c=r.apply(this,n.concat(RC.call(arguments)));return Object(c)===c?c:this}else return r.apply(e,n.concat(RC.call(arguments)))},s=Math.max(0,r.length-n.length),u=[],f=0;f<s;f++)u.push("$"+f);if(a=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var l=function(){};l.prototype=r.prototype,a.prototype=new l,l.prototype=null}return a},wp=Function.prototype.bind||mWe,LC=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==a||s.enumerable!==!0)return!1}return!0},BZ=typeof Symbol!="undefined"&&Symbol,vWe=function(){return typeof BZ!="function"||typeof Symbol!="function"||typeof BZ("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:LC()},hM=wp.call(Function.call,Object.prototype.hasOwnProperty),Yw=SyntaxError,qZ=Function,Xv=TypeError,FC=function(t){try{return qZ('"use strict"; return ('+t+").constructor;")()}catch(e){}},im=Object.getOwnPropertyDescriptor;if(im)try{im({},"")}catch(t){im=null}BC=function(){throw new Xv},gWe=im?function(){try{return arguments.callee,BC}catch(t){try{return im(arguments,"callee").get}catch(e){return BC}}}():BC,Jv=vWe(),bp=Object.getPrototypeOf||function(t){return t.__proto__},Yv={},yWe=typeof Uint8Array=="undefined"?In:bp(Uint8Array),Qv={"%AggregateError%":typeof AggregateError=="undefined"?In:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?In:ArrayBuffer,"%ArrayIteratorPrototype%":Jv?bp([][Symbol.iterator]()):In,"%AsyncFromSyncIteratorPrototype%":In,"%AsyncFunction%":Yv,"%AsyncGenerator%":Yv,"%AsyncGeneratorFunction%":Yv,"%AsyncIteratorPrototype%":Yv,"%Atomics%":typeof Atomics=="undefined"?In:Atomics,"%BigInt%":typeof BigInt=="undefined"?In:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?In:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?In:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?In:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?In:FinalizationRegistry,"%Function%":qZ,"%GeneratorFunction%":Yv,"%Int8Array%":typeof Int8Array=="undefined"?In:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?In:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?In:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Jv?bp(bp([][Symbol.iterator]())):In,"%JSON%":typeof JSON=="object"?JSON:In,"%Map%":typeof Map=="undefined"?In:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Jv?In:bp(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?In:Promise,"%Proxy%":typeof Proxy=="undefined"?In:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?In:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?In:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Jv?In:bp(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?In:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Jv?bp(""[Symbol.iterator]()):In,"%Symbol%":Jv?Symbol:In,"%SyntaxError%":Yw,"%ThrowTypeError%":gWe,"%TypedArray%":yWe,"%TypeError%":Xv,"%Uint8Array%":typeof Uint8Array=="undefined"?In:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?In:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?In:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?In:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?In:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?In:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?In:WeakSet},bWe=function t(e){var r;if(e==="%AsyncFunction%")r=FC("async function () {}");else if(e==="%GeneratorFunction%")r=FC("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=FC("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&(r=bp(a.prototype))}return Qv[e]=r,r},LZ={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},wWe=wp.call(Function.call,Array.prototype.concat),xWe=wp.call(Function.apply,Array.prototype.splice),PZ=wp.call(Function.call,String.prototype.replace),pM=wp.call(Function.call,String.prototype.slice),_We=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,SWe=/\\(\\)?/g,EWe=function(e){var r=pM(e,0,1),n=pM(e,-1);if(r==="%"&&n!=="%")throw new Yw("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Yw("invalid intrinsic syntax, expected opening `%`");var a=[];return PZ(e,_We,function(o,s,u,f){a[a.length]=u?PZ(f,SWe,"$1"):s||o}),a},MWe=function(e,r){var n=e,a;if(hM(LZ,n)&&(a=LZ[n],n="%"+a[0]+"%"),hM(Qv,n)){var o=Qv[n];if(o===Yv&&(o=bWe(n)),typeof o=="undefined"&&!r)throw new Xv("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:o}}throw new Yw("intrinsic "+e+" does not exist!")},Xl=function(e,r){if(typeof e!="string"||e.length===0)throw new Xv("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Xv('"allowMissing" argument must be a boolean');var n=EWe(e),a=n.length>0?n[0]:"",o=MWe("%"+a+"%",r),s=o.name,u=o.value,f=!1,l=o.alias;l&&(a=l[0],xWe(n,wWe([0,1],l)));for(var c=1,h=!0;c<n.length;c+=1){var m=n[c],g=pM(m,0,1),b=pM(m,-1);if((g==='"'||g==="'"||g==="`"||b==='"'||b==="'"||b==="`")&&g!==b)throw new Yw("property names with quotes must have matching quotes");if((m==="constructor"||!h)&&(f=!0),a+="."+m,s="%"+a+"%",hM(Qv,s))u=Qv[s];else if(u!=null){if(!(m in u)){if(!r)throw new Xv("base intrinsic for "+e+" exists, but the property is not available.");return}if(im&&c+1>=n.length){var A=im(u,m);h=!!A,h&&"get"in A&&!("originalValue"in A.get)?u=A.get:u=u[m]}else h=hM(u,m),u=u[m];h&&!f&&(Qv[s]=u)}}return u},PC=au(function(t){var e=Xl("%Function.prototype.apply%"),r=Xl("%Function.prototype.call%"),n=Xl("%Reflect.apply%",!0)||wp.call(r,e),a=Xl("%Object.getOwnPropertyDescriptor%",!0),o=Xl("%Object.defineProperty%",!0),s=Xl("%Math.max%");if(o)try{o({},"a",{value:1})}catch(f){o=null}t.exports=function(l){var c=n(wp,r,arguments);if(a&&o){var h=a(c,"length");h.configurable&&o(c,"length",{value:1+s(0,l.length-(arguments.length-1))})}return c};var u=function(){return n(wp,e,arguments)};o?o(t.exports,"apply",{value:u}):t.exports.apply=u})});var xp,qC=te(()=>{w();_();yp();xp=au(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var a=function(){};a.prototype=n.prototype,r.prototype=new a,r.prototype.constructor=r}}})});var mM,AWe,eg,NWe,WC,vM,jZ,TWe,DWe,kWe,IWe,CWe,$Z,zC,OWe,UC,RWe,FWe,BWe,gM,jC,LWe,VZ,dM,am,PWe,WZ,qWe,GZ,zWe,UWe,HZ,$C,jWe,GC,$We,KZ,UZ,VWe,WWe,ZZ,VC,GWe,rl,HWe,KWe,Ii,pQt,dQt,mQt,tg,vQt,gQt,yQt,bQt,wQt,xQt,_Qt,SQt,EQt,MQt,AQt,NQt,TQt,DQt,kQt,IQt,CQt,OQt,RQt,FQt,BQt,LQt,HC=te(()=>{w();_();Zw();yp();zZ();qC();mM=function(){return LC()&&!!Symbol.toStringTag},AWe=PC(Xl("String.prototype.indexOf")),eg=function(e,r){var n=Xl(e,!!r);return typeof n=="function"&&AWe(e,".prototype.")>-1?PC(n):n},NWe=mM(),WC=eg("Object.prototype.toString"),vM=function(e){return NWe&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:WC(e)==="[object Arguments]"},jZ=function(e){return vM(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&WC(e)!=="[object Array]"&&WC(e.callee)==="[object Function]"},TWe=function(){return vM(arguments)}();vM.isLegacyArguments=jZ;DWe=TWe?vM:jZ,kWe=Object.prototype.toString,IWe=Function.prototype.toString,CWe=/^\s*(?:function)?\*/,$Z=mM(),zC=Object.getPrototypeOf,OWe=function(){if(!$Z)return!1;try{return Function("return function*() {}")()}catch(t){}},RWe=function(e){if(typeof e!="function")return!1;if(CWe.test(IWe.call(e)))return!0;if(!$Z){var r=kWe.call(e);return r==="[object GeneratorFunction]"}if(!zC)return!1;if(typeof UC=="undefined"){var n=OWe();UC=n?zC(n):!1}return zC(e)===UC},FWe=Object.prototype.hasOwnProperty,BWe=Object.prototype.toString,gM=function(e,r,n){if(BWe.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var a=e.length;if(a===+a)for(var o=0;o<a;o++)r.call(n,e[o],o,e);else for(var s in e)FWe.call(e,s)&&r.call(n,e[s],s,e)},jC=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],LWe=typeof globalThis=="undefined"?Jl:globalThis,VZ=function(){for(var e=[],r=0;r<jC.length;r++)typeof LWe[jC[r]]=="function"&&(e[e.length]=jC[r]);return e},dM=Xl("%Object.getOwnPropertyDescriptor%",!0);if(dM)try{dM([],"length")}catch(t){dM=null}am=dM,PWe=eg("Object.prototype.toString"),WZ=mM(),qWe=typeof globalThis=="undefined"?Jl:globalThis,GZ=VZ(),zWe=eg("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},UWe=eg("String.prototype.slice"),HZ={},$C=Object.getPrototypeOf;WZ&&am&&$C&&gM(GZ,function(t){var e=new qWe[t];if(Symbol.toStringTag in e){var r=$C(e),n=am(r,Symbol.toStringTag);if(!n){var a=$C(r);n=am(a,Symbol.toStringTag)}HZ[t]=n.get}});jWe=function(e){var r=!1;return gM(HZ,function(n,a){if(!r)try{r=n.call(e)===a}catch(o){}}),r},GC=function(e){if(!e||typeof e!="object")return!1;if(!WZ||!(Symbol.toStringTag in e)){var r=UWe(PWe(e),8,-1);return zWe(GZ,r)>-1}return am?jWe(e):!1},$We=eg("Object.prototype.toString"),KZ=mM(),UZ=typeof globalThis=="undefined"?Jl:globalThis,VWe=VZ(),WWe=eg("String.prototype.slice"),ZZ={},VC=Object.getPrototypeOf;KZ&&am&&VC&&gM(VWe,function(t){if(typeof UZ[t]=="function"){var e=new UZ[t];if(Symbol.toStringTag in e){var r=VC(e),n=am(r,Symbol.toStringTag);if(!n){var a=VC(r);n=am(a,Symbol.toStringTag)}ZZ[t]=n.get}}});GWe=function(e){var r=!1;return gM(ZZ,function(n,a){if(!r)try{var o=n.call(e);o===a&&(r=o)}catch(s){}}),r},rl=function(e){return GC(e)?!KZ||!(Symbol.toStringTag in e)?WWe($We(e),8,-1):GWe(e):!1},HWe=au(function(t,e){function r(xe){return xe.call.bind(xe)}var n=typeof BigInt!="undefined",a=typeof Symbol!="undefined",o=r(Object.prototype.toString),s=r(Number.prototype.valueOf),u=r(String.prototype.valueOf),f=r(Boolean.prototype.valueOf);if(n)var l=r(BigInt.prototype.valueOf);if(a)var c=r(Symbol.prototype.valueOf);function h(xe,ge){if(typeof xe!="object")return!1;try{return ge(xe),!0}catch(Q){return!1}}e.isArgumentsObject=DWe,e.isGeneratorFunction=RWe,e.isTypedArray=GC;function m(xe){return typeof Promise!="undefined"&&xe instanceof Promise||xe!==null&&typeof xe=="object"&&typeof xe.then=="function"&&typeof xe.catch=="function"}e.isPromise=m;function g(xe){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(xe):GC(xe)||N(xe)}e.isArrayBufferView=g;function b(xe){return rl(xe)==="Uint8Array"}e.isUint8Array=b;function A(xe){return rl(xe)==="Uint8ClampedArray"}e.isUint8ClampedArray=A;function I(xe){return rl(xe)==="Uint16Array"}e.isUint16Array=I;function C(xe){return rl(xe)==="Uint32Array"}e.isUint32Array=C;function R(xe){return rl(xe)==="Int8Array"}e.isInt8Array=R;function O(xe){return rl(xe)==="Int16Array"}e.isInt16Array=O;function F(xe){return rl(xe)==="Int32Array"}e.isInt32Array=F;function z(xe){return rl(xe)==="Float32Array"}e.isFloat32Array=z;function B(xe){return rl(xe)==="Float64Array"}e.isFloat64Array=B;function $(xe){return rl(xe)==="BigInt64Array"}e.isBigInt64Array=$;function j(xe){return rl(xe)==="BigUint64Array"}e.isBigUint64Array=j;function W(xe){return o(xe)==="[object Map]"}W.working=typeof Map!="undefined"&&W(new Map);function T(xe){return typeof Map=="undefined"?!1:W.working?W(xe):xe instanceof Map}e.isMap=T;function p(xe){return o(xe)==="[object Set]"}p.working=typeof Set!="undefined"&&p(new Set);function v(xe){return typeof Set=="undefined"?!1:p.working?p(xe):xe instanceof Set}e.isSet=v;function S(xe){return o(xe)==="[object WeakMap]"}S.working=typeof WeakMap!="undefined"&&S(new WeakMap);function y(xe){return typeof WeakMap=="undefined"?!1:S.working?S(xe):xe instanceof WeakMap}e.isWeakMap=y;function M(xe){return o(xe)==="[object WeakSet]"}M.working=typeof WeakSet!="undefined"&&M(new WeakSet);function D(xe){return M(xe)}e.isWeakSet=D;function k(xe){return o(xe)==="[object ArrayBuffer]"}k.working=typeof ArrayBuffer!="undefined"&&k(new ArrayBuffer);function E(xe){return typeof ArrayBuffer=="undefined"?!1:k.working?k(xe):xe instanceof ArrayBuffer}e.isArrayBuffer=E;function d(xe){return o(xe)==="[object DataView]"}d.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&d(new DataView(new ArrayBuffer(1),0,1));function N(xe){return typeof DataView=="undefined"?!1:d.working?d(xe):xe instanceof DataView}e.isDataView=N;var U=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function q(xe){return o(xe)==="[object SharedArrayBuffer]"}function P(xe){return typeof U=="undefined"?!1:(typeof q.working=="undefined"&&(q.working=q(new U)),q.working?q(xe):xe instanceof U)}e.isSharedArrayBuffer=P;function G(xe){return o(xe)==="[object AsyncFunction]"}e.isAsyncFunction=G;function Z(xe){return o(xe)==="[object Map Iterator]"}e.isMapIterator=Z;function X(xe){return o(xe)==="[object Set Iterator]"}e.isSetIterator=X;function he(xe){return o(xe)==="[object Generator]"}e.isGeneratorObject=he;function V(xe){return o(xe)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=V;function K(xe){return h(xe,s)}e.isNumberObject=K;function ne(xe){return h(xe,u)}e.isStringObject=ne;function fe(xe){return h(xe,f)}e.isBooleanObject=fe;function pe(xe){return n&&h(xe,l)}e.isBigIntObject=pe;function Ie(xe){return a&&h(xe,c)}e.isSymbolObject=Ie;function ke(xe){return K(xe)||ne(xe)||fe(xe)||pe(xe)||Ie(xe)}e.isBoxedPrimitive=ke;function ue(xe){return typeof Uint8Array!="undefined"&&(E(xe)||P(xe))}e.isAnyArrayBuffer=ue,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(xe){Object.defineProperty(e,xe,{enumerable:!1,value:function(){throw new Error(xe+" is not supported in userland")}})})}),KWe=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},Ii=au(function(t,e){var r=Object.getOwnPropertyDescriptors||function(G){for(var Z=Object.keys(G),X={},he=0;he<Z.length;he++)X[Z[he]]=Object.getOwnPropertyDescriptor(G,Z[he]);return X},n=/%[sdj%]/g;e.format=function(P){if(!B(P)){for(var G=[],Z=0;Z<arguments.length;Z++)G.push(u(arguments[Z]));return G.join(" ")}for(var Z=1,X=arguments,he=X.length,V=String(P).replace(n,function(ne){if(ne==="%%")return"%";if(Z>=he)return ne;switch(ne){case"%s":return String(X[Z++]);case"%d":return Number(X[Z++]);case"%j":try{return JSON.stringify(X[Z++])}catch(fe){return"[Circular]"}default:return ne}}),K=X[Z];Z<he;K=X[++Z])O(K)||!T(K)?V+=" "+K:V+=" "+u(K);return V},e.deprecate=function(P,G){if(typeof $process!="undefined"&&$process.noDeprecation===!0)return P;if(typeof $process=="undefined")return function(){return e.deprecate(P,G).apply(this,arguments)};var Z=!1;function X(){if(!Z){if($process.throwDeprecation)throw new Error(G);$process.traceDeprecation?console.trace(G):console.error(G),Z=!0}return P.apply(this,arguments)}return X};var a={},o=/^$/;if($process.env.NODE_DEBUG){var s=$process.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+s+"$","i")}e.debuglog=function(P){if(P=P.toUpperCase(),!a[P])if(o.test(P)){var G=$process.pid;a[P]=function(){var Z=e.format.apply(e,arguments);console.error("%s %d: %s",P,G,Z)}}else a[P]=function(){};return a[P]};function u(P,G){var Z={seen:[],stylize:l};return arguments.length>=3&&(Z.depth=arguments[2]),arguments.length>=4&&(Z.colors=arguments[3]),R(G)?Z.showHidden=G:G&&e._extend(Z,G),j(Z.showHidden)&&(Z.showHidden=!1),j(Z.depth)&&(Z.depth=2),j(Z.colors)&&(Z.colors=!1),j(Z.customInspect)&&(Z.customInspect=!0),Z.colors&&(Z.stylize=f),h(Z,P,Z.depth)}e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function f(P,G){var Z=u.styles[G];return Z?"\x1B["+u.colors[Z][0]+"m"+P+"\x1B["+u.colors[Z][1]+"m":P}function l(P,G){return P}function c(P){var G={};return P.forEach(function(Z,X){G[Z]=!0}),G}function h(P,G,Z){if(P.customInspect&&G&&S(G.inspect)&&G.inspect!==e.inspect&&!(G.constructor&&G.constructor.prototype===G)){var X=G.inspect(Z,P);return B(X)||(X=h(P,X,Z)),X}var he=m(P,G);if(he)return he;var V=Object.keys(G),K=c(V);if(P.showHidden&&(V=Object.getOwnPropertyNames(G)),v(G)&&(V.indexOf("message")>=0||V.indexOf("description")>=0))return g(G);if(V.length===0){if(S(G)){var ne=G.name?": "+G.name:"";return P.stylize("[Function"+ne+"]","special")}if(W(G))return P.stylize(RegExp.prototype.toString.call(G),"regexp");if(p(G))return P.stylize(Date.prototype.toString.call(G),"date");if(v(G))return g(G)}var fe="",pe=!1,Ie=["{","}"];if(C(G)&&(pe=!0,Ie=["[","]"]),S(G)){var ke=G.name?": "+G.name:"";fe=" [Function"+ke+"]"}if(W(G)&&(fe=" "+RegExp.prototype.toString.call(G)),p(G)&&(fe=" "+Date.prototype.toUTCString.call(G)),v(G)&&(fe=" "+g(G)),V.length===0&&(!pe||G.length==0))return Ie[0]+fe+Ie[1];if(Z<0)return W(G)?P.stylize(RegExp.prototype.toString.call(G),"regexp"):P.stylize("[Object]","special");P.seen.push(G);var ue;return pe?ue=b(P,G,Z,K,V):ue=V.map(function(xe){return A(P,G,Z,K,xe,pe)}),P.seen.pop(),I(ue,fe,Ie)}function m(P,G){if(j(G))return P.stylize("undefined","undefined");if(B(G)){var Z="'"+JSON.stringify(G).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return P.stylize(Z,"string")}if(z(G))return P.stylize(""+G,"number");if(R(G))return P.stylize(""+G,"boolean");if(O(G))return P.stylize("null","null")}function g(P){return"["+Error.prototype.toString.call(P)+"]"}function b(P,G,Z,X,he){for(var V=[],K=0,ne=G.length;K<ne;++K)d(G,String(K))?V.push(A(P,G,Z,X,String(K),!0)):V.push("");return he.forEach(function(fe){fe.match(/^\d+$/)||V.push(A(P,G,Z,X,fe,!0))}),V}function A(P,G,Z,X,he,V){var K,ne,fe;if(fe=Object.getOwnPropertyDescriptor(G,he)||{value:G[he]},fe.get?fe.set?ne=P.stylize("[Getter/Setter]","special"):ne=P.stylize("[Getter]","special"):fe.set&&(ne=P.stylize("[Setter]","special")),d(X,he)||(K="["+he+"]"),ne||(P.seen.indexOf(fe.value)<0?(O(Z)?ne=h(P,fe.value,null):ne=h(P,fe.value,Z-1),ne.indexOf(`
`)>-1&&(V?ne=ne.split(`
`).map(function(pe){return"  "+pe}).join(`
`).substr(2):ne=`
`+ne.split(`
`).map(function(pe){return"   "+pe}).join(`
`))):ne=P.stylize("[Circular]","special")),j(K)){if(V&&he.match(/^\d+$/))return ne;K=JSON.stringify(""+he),K.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(K=K.substr(1,K.length-2),K=P.stylize(K,"name")):(K=K.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),K=P.stylize(K,"string"))}return K+": "+ne}function I(P,G,Z){var X=P.reduce(function(he,V){return V.indexOf(`
`)>=0,he+V.replace(/\u001b\[\d\d?m/g,"").length+1},0);return X>60?Z[0]+(G===""?"":G+`
 `)+" "+P.join(`,
  `)+" "+Z[1]:Z[0]+G+" "+P.join(", ")+" "+Z[1]}e.types=HWe;function C(P){return Array.isArray(P)}e.isArray=C;function R(P){return typeof P=="boolean"}e.isBoolean=R;function O(P){return P===null}e.isNull=O;function F(P){return P==null}e.isNullOrUndefined=F;function z(P){return typeof P=="number"}e.isNumber=z;function B(P){return typeof P=="string"}e.isString=B;function $(P){return typeof P=="symbol"}e.isSymbol=$;function j(P){return P===void 0}e.isUndefined=j;function W(P){return T(P)&&M(P)==="[object RegExp]"}e.isRegExp=W,e.types.isRegExp=W;function T(P){return typeof P=="object"&&P!==null}e.isObject=T;function p(P){return T(P)&&M(P)==="[object Date]"}e.isDate=p,e.types.isDate=p;function v(P){return T(P)&&(M(P)==="[object Error]"||P instanceof Error)}e.isError=v,e.types.isNativeError=v;function S(P){return typeof P=="function"}e.isFunction=S;function y(P){return P===null||typeof P=="boolean"||typeof P=="number"||typeof P=="string"||typeof P=="symbol"||typeof P=="undefined"}e.isPrimitive=y,e.isBuffer=KWe;function M(P){return Object.prototype.toString.call(P)}function D(P){return P<10?"0"+P.toString(10):P.toString(10)}var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var P=new Date,G=[D(P.getHours()),D(P.getMinutes()),D(P.getSeconds())].join(":");return[P.getDate(),k[P.getMonth()],G].join(" ")}e.log=function(){console.log("%s - %s",E(),e.format.apply(e,arguments))},e.inherits=xp,e._extend=function(P,G){if(!G||!T(G))return P;for(var Z=Object.keys(G),X=Z.length;X--;)P[Z[X]]=G[Z[X]];return P};function d(P,G){return Object.prototype.hasOwnProperty.call(P,G)}var N=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;e.promisify=function(G){if(typeof G!="function")throw new TypeError('The "original" argument must be of type Function');if(N&&G[N]){var Z=G[N];if(typeof Z!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Z,N,{value:Z,enumerable:!1,writable:!1,configurable:!0}),Z}function Z(){for(var X,he,V=new Promise(function(fe,pe){X=fe,he=pe}),K=[],ne=0;ne<arguments.length;ne++)K.push(arguments[ne]);K.push(function(fe,pe){fe?he(fe):X(pe)});try{G.apply(this,K)}catch(fe){he(fe)}return V}return Object.setPrototypeOf(Z,Object.getPrototypeOf(G)),N&&Object.defineProperty(Z,N,{value:Z,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Z,r(G))},e.promisify.custom=N;function U(P,G){if(!P){var Z=new Error("Promise was rejected with a falsy value");Z.reason=P,P=Z}return G(P)}function q(P){if(typeof P!="function")throw new TypeError('The "original" argument must be of type Function');function G(){for(var Z=[],X=0;X<arguments.length;X++)Z.push(arguments[X]);var he=Z.pop();if(typeof he!="function")throw new TypeError("The last argument must be of type Function");var V=this,K=function(){return he.apply(V,arguments)};P.apply(this,Z).then(function(ne){$process.nextTick(K.bind(null,null,ne))},function(ne){$process.nextTick(U.bind(null,ne,K))})}return Object.setPrototypeOf(G,Object.getPrototypeOf(P)),Object.defineProperties(G,r(P)),G}e.callbackify=q}),pQt=Ii._extend,dQt=Ii.callbackify,mQt=Ii.debuglog,tg=Ii,vQt=Ii.deprecate,gQt=Ii.format,yQt=Ii.inherits,bQt=Ii.inspect,wQt=Ii.isArray,xQt=Ii.isBoolean,_Qt=Ii.isBuffer,SQt=Ii.isDate,EQt=Ii.isError,MQt=Ii.isFunction,AQt=Ii.isNull,NQt=Ii.isNullOrUndefined,TQt=Ii.isNumber,DQt=Ii.isObject,kQt=Ii.isPrimitive,IQt=Ii.isRegExp,CQt=Ii.isString,OQt=Ii.isSymbol,RQt=Ii.isUndefined,FQt=Ii.log,BQt=Ii.promisify,LQt=Ii.types});var JZ=te(()=>{w();_();HC();HC()});function JWe(t){if(t&&!ZWe(t))throw new Error("Unknown encoding: "+t)}function yM(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),JWe(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=XWe;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=QWe;break;default:this.write=YWe;return}this.charBuffer=new $Buffer(6),this.charReceived=0,this.charLength=0}function YWe(t){return t.toString(this.encoding)}function XWe(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function QWe(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var ZWe,KC,YZ=te(()=>{w();_();fM();ZWe=$Buffer.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};yM.prototype.write=function(t){let e="";for(;this.charLength;){let a=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,a),this.charReceived+=a,this.charReceived<this.charLength)return"";t=t.slice(a,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);let o=e.charCodeAt(e.length-1);if(o>=55296&&o<=56319){this.charLength+=this.surrogateSize,e="";continue}if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.detectIncompleteChar(t);let r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived),e+=t.toString(this.encoding,0,r),r=e.length-1;let n=e.charCodeAt(r);if(n>=55296&&n<=56319){let a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),t.copy(this.charBuffer,0,0,a),e.substring(0,r)}return e};yM.prototype.detectIncompleteChar=function(t){let e=t.length>=3?3:t.length;for(;e>0;e--){let r=t[t.length-e];if(e===1&&r>>5===6){this.charLength=2;break}if(e<=2&&r>>4===14){this.charLength=3;break}if(e<=3&&r>>3===30){this.charLength=4;break}}this.charReceived=e};yM.prototype.end=function(t){let e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){let r=this.charReceived,n=this.charBuffer,a=this.encoding;e+=n.slice(0,r).toString(a)}return e};KC={StringDecoder:yM}});function eGe(t,e){if(ZC("noDeprecation"))return t;var r=!1;function n(){if(!r){if(ZC("throwDeprecation"))throw new Error(e);ZC("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function ZC(t){try{if(!Jl.localStorage)return!1}catch(r){return!1}var e=Jl.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var XZ,QZ=te(()=>{w();_();yp();XZ=eGe});function eJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tGe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eJ(Object(r),!0).forEach(function(n){rGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rGe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function iGe(t,e,r){return e&&tJ(t.prototype,e),r&&tJ(t,r),t}function oGe(t,e,r){_M.prototype.copy.call(t,e,r)}function uGe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,$process.nextTick(iO,this,t)):$process.nextTick(iO,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?$process.nextTick(SM,r):(r._writableState.errorEmitted=!0,$process.nextTick(rJ,r,o)):$process.nextTick(rJ,r,o):e?($process.nextTick(SM,r),e(o)):$process.nextTick(SM,r)}),this)}function rJ(t,e){iO(t,e),SM(t)}function SM(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function fGe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function iO(t,e){t.emit("error",e)}function lGe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}function cGe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Ou(t,e,r){r||(r=Error);function n(o,s,u){return typeof e=="string"?e:e(o,s,u)}var a=function(o){cGe(s,o);function s(u,f,l){return o.call(this,n(u,f,l))||this}return s}(r);a.prototype.name=r.name,a.prototype.code=t,cJ[t]=a}function nJ(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function hGe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function pGe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function dGe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}function gGe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function yGe(t,e,r,n){var a=gGe(e,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var o=n?r:"highWaterMark";throw new vGe(o,a)}return Math.floor(a)}return t.objectMode?16:16*1024}function bGe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];t.apply(this,n)}}}function wGe(){}function xGe(t){return t.setHeader&&typeof t.abort=="function"}function pJ(t,e,r){if(typeof e=="function")return pJ(t,null,e);e||(e={}),r=bGe(r||wGe);var n=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||u()},s=t._writableState&&t._writableState.finished,u=function(){a=!1,s=!0,n||r.call(t)},f=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,f=!0,a||r.call(t)},c=function(b){r.call(t,b)},h=function(){var b;if(n&&!f)return(!t._readableState||!t._readableState.ended)&&(b=new iJ),r.call(t,b);if(a&&!s)return(!t._writableState||!t._writableState.ended)&&(b=new iJ),r.call(t,b)},m=function(){t.req.on("finish",u)};return xGe(t)?(t.on("complete",u),t.on("abort",h),t.req?m():t.on("request",m)):a&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",l),t.on("finish",u),e.error!==!1&&t.on("error",c),t.on("close",h),function(){t.removeListener("complete",u),t.removeListener("abort",h),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",u),t.removeListener("end",l),t.removeListener("error",c),t.removeListener("close",h)}}function _p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ep(t,e){return{value:t,done:e}}function _Ge(t){var e=t[Sp];if(e!==null){var r=t[um].read();r!==null&&(t[sm]=null,t[Sp]=null,t[om]=null,e(Ep(r,!1)))}}function SGe(t){$process.nextTick(_Ge,t)}function EGe(t,e){return function(r,n){t.then(function(){if(e[MM]){r(Ep(void 0,!0));return}e[uO](r,n)},n)}}function IGe(t){return AM.from(t)}function CGe(t){return AM.isBuffer(t)||t instanceof kGe}function PGe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function mJ(t,e,r){t=t||{},typeof r!="boolean"&&(r=e instanceof Ci.Duplex),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=OGe(this,t,"readableHighWaterMark",r),this.buffer=new sGe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(rg||(rg=KC.StringDecoder),this.decoder=new rg(t.encoding),this.encoding=t.encoding)}function Ln(t){if(!(this instanceof Ln))return new Ln(t);var e=this instanceof Ci.Duplex;this._readableState=new mJ(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),fm.call(this)}function vJ(t,e,r,n,a){on("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,UGe(t,o);else{var s;if(a||(s=qGe(o,e)),s)Qw(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==AM.prototype&&(e=IGe(e)),n)o.endEmitted?Qw(t,new LGe):QC(t,o,e,!0);else if(o.ended)Qw(t,new FGe);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?QC(t,o,e,!1):aO(t,o)):QC(t,o,e,!1)}else n||(o.reading=!1,aO(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function QC(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&TM(t)),aO(t,e)}function qGe(t,e){var r;return!CGe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new RGe("chunk",["string","Buffer","Uint8Array"],e)),r}function zGe(t){return t>=aJ?t=aJ:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function oJ(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=zGe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function UGe(t,e){if(on("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?TM(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,gJ(t)))}}function TM(t){var e=t._readableState;on("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(on("emitReadable",e.flowing),e.emittedReadable=!0,$process.nextTick(gJ,t))}function gJ(t){var e=t._readableState;on("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,fO(t)}function aO(t,e){e.readingMore||(e.readingMore=!0,$process.nextTick(jGe,t,e))}function jGe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(on("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function $Ge(t){return function(){var r=t._readableState;on("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&dJ(t,"data")&&(r.flowing=!0,fO(t))}}function yJ(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function VGe(t){on("readable nexttick read 0"),t.read(0)}function WGe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,$process.nextTick(GGe,t,e))}function GGe(t,e){on("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),fO(t),e.flowing&&!e.reading&&t.read(0)}function fO(t){var e=t._readableState;for(on("flow",e.flowing);e.flowing&&t.read()!==null;);}function bJ(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function eO(t){var e=t._readableState;on("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,$process.nextTick(HGe,e,t))}function HGe(t,e){if(on("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function wJ(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function xJ(t){var e=this;this.next=null,this.entry=null,this.finish=function(){bHe(e,t)}}function JGe(t){return DM.from(t)}function YGe(t){return DM.isBuffer(t)||t instanceof ZGe}function sHe(){}function rx(t,e,r){t=t||{},typeof r!="boolean"&&(r=e instanceof Ci.Duplex),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=XGe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){dHe(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new xJ(this)}function Ea(t){var e=this instanceof Ci.Duplex;if(!e&&!EM.call(Ea,this))return new Ea(t);this._writableState=new rx(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),fm.call(this)}function uHe(t,e){var r=new aHe;ng(t,r),$process.nextTick(e,r)}function fHe(t,e,r,n){var a;return r===null?a=new iHe:typeof r!="string"&&!e.objectMode&&(a=new QGe("chunk",["string","Buffer"],r)),a?(ng(t,a),$process.nextTick(n,a),!1):!0}function lHe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=DM.from(e,r)),e}function cHe(t,e,r,n,a,o){if(!r){var s=lHe(e,n,a);n!==s&&(r=!0,a="buffer",n=s)}var u=e.objectMode?1:n.length;e.length+=u;var f=e.length<e.highWaterMark;if(f||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else oO(t,e,!1,u,n,a,o);return f}function oO(t,e,r,n,a,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new nHe("write")):r?t._writev(a,e.onwrite):t._write(a,o,e.onwrite),e.sync=!1}function hHe(t,e,r,n,a){--e.pendingcb,r?($process.nextTick(a,n),$process.nextTick(ex,t,e),t._writableState.errorEmitted=!0,ng(t,n)):(a(n),t._writableState.errorEmitted=!0,ng(t,n),ex(t,e))}function pHe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function dHe(t,e){var r=t._writableState,n=r.sync,a=r.writecb;if(typeof a!="function")throw new tHe;if(pHe(r),e)hHe(t,r,n,e,a);else{var o=SJ(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&_J(t,r),n?$process.nextTick(sJ,t,r,o,a):sJ(t,r,o,a)}}function sJ(t,e,r,n){r||mHe(t,e),e.pendingcb--,n(),ex(t,e)}function mHe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function _J(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,a=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)a[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;a.allBuffers=u,oO(t,e,!0,e.length,a,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new xJ(e),e.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,l=r.encoding,c=r.callback,h=e.objectMode?1:f.length;if(oO(t,e,!1,h,f,l,c),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function SJ(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function vHe(t,e){t._final(function(r){e.pendingcb--,r&&ng(t,r),e.prefinished=!0,t.emit("prefinish"),ex(t,e)})}function gHe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,$process.nextTick(vHe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function ex(t,e){var r=SJ(e);if(r&&(gHe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function yHe(t,e,r){e.ending=!0,ex(t,e),r&&(e.finished?$process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function bHe(t,e,r){var n=t.entry;for(t.entry=null;n;){var a=n.callback;e.pendingcb--,a(r),n=n.next}e.corkedRequestsFree.next=t}function Ql(t){if(!(this instanceof Ql))return new Ql(t);Ci.Readable.call(this,t),Ci.Writable.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",xHe)))}function xHe(){this._writableState.ended||$process.nextTick(_He,this)}function _He(t){t.end()}function NHe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new EHe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function eh(t){if(!(this instanceof eh))return new eh(t);Ci.Duplex.call(this,t),this._transformState={afterTransform:NHe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",THe)}function THe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){uJ(t,e,r)}):uJ(this,null,null)}function uJ(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new AHe;if(t._transformState.transforming)throw new MHe;return t.push(null)}function tx(t){if(!(this instanceof tx))return new tx(t);Transform.call(this,t)}function DHe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}function fJ(t){if(t)throw t}function CHe(t){return t.setHeader&&typeof t.abort=="function"}function OHe(t,e,r,n){n=DHe(n);var a=!1;t.on("close",function(){a=!0}),rO===void 0&&(rO=sO),rO(t,{readable:e,writable:r},function(s){if(s)return n(s);a=!0,n()});var o=!1;return function(s){if(!a&&!o){if(o=!0,CHe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new IHe("pipe"))}}}function lJ(t){t()}function RHe(t,e){return t.pipe(e)}function FHe(t){return!t.length||typeof t[t.length-1]!="function"?fJ:t.pop()}function BHe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=FHe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new kHe("streams");var a,o=e.map(function(s,u){var f=u<e.length-1,l=u>0;return OHe(s,f,l,function(c){a||(a=c),c&&o.forEach(lJ),!f&&(o.forEach(lJ),n(a))})});return e.reduce(RHe)}var Ci,fm,_M,nO,aGe,sGe,ig,cJ,mGe,ag,vGe,hJ,iJ,sO,bM,Sp,om,Xw,MM,sm,uO,um,MGe,AGe,NGe,TGe,DGe,eer,dJ,AM,kGe,on,OGe,NM,RGe,FGe,BGe,LGe,rg,JC,YC,Qw,XC,aJ,KGe,DM,ZGe,XGe,Mp,QGe,eHe,tHe,rHe,nHe,iHe,aHe,oHe,ng,EM,wHe,tO,wM,xM,kM,SHe,EHe,MHe,AHe,rO,EJ,kHe,IHe,LHe,Ap,ter,rer,MJ,ner,ier,AJ,aer,oer,NJ=te(()=>{w();_();yp();Zw();CC();fM();JZ();qC();YZ();QZ();Ci={},fm=IC.EventEmitter;_M=Kw.Buffer,nO=tg.inspect,aGe=nO&&nO.custom||"inspect";sGe=function(){function t(){nGe(this,t),this.head=null,this.tail=null,this.length=0}return iGe(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,a=""+n.data;n=n.next;)a+=r+n.data;return a}},{key:"concat",value:function(r){if(this.length===0)return _M.alloc(0);for(var n=_M.allocUnsafe(r>>>0),a=this.head,o=0;a;)oGe(a.data,n,o),o+=a.data.length,a=a.next;return n}},{key:"consume",value:function(r,n){var a;return r<this.head.data.length?(a=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?a=this.shift():a=n?this._getString(r):this._getBuffer(r),a}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,a=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,u=r>s.length?s.length:r;if(u===s.length?o+=s:o+=s.slice(0,r),r-=u,r===0){u===s.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(u));break}++a}return this.length-=a,o}},{key:"_getBuffer",value:function(r){var n=_M.allocUnsafe(r),a=this.head,o=1;for(a.data.copy(n),r-=a.data.length;a=a.next;){var s=a.data,u=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,u),r-=u,r===0){u===s.length?(++o,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=s.slice(u));break}++o}return this.length-=o,n}},{key:aGe,value:function(r,n){return nO(this,tGe({},n,{depth:0,customInspect:!1}))}}]),t}();ig={destroy:uGe,undestroy:fGe,errorOrDestroy:lGe};cJ={};Ou("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ou("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&hGe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var a;if(pGe(t," argument"))a="The ".concat(t," ").concat(n," ").concat(nJ(e,"type"));else{var o=dGe(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(nJ(e,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);Ou("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ou("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ou("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ou("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ou("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ou("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ou("ERR_STREAM_WRITE_AFTER_END","write after end");Ou("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ou("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ou("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");mGe=cJ,ag={codes:mGe},vGe=ag.codes.ERR_INVALID_OPT_VALUE;hJ={getHighWaterMark:yGe},iJ=ag.codes.ERR_STREAM_PREMATURE_CLOSE;sO=pJ;Sp=Symbol("lastResolve"),om=Symbol("lastReject"),Xw=Symbol("error"),MM=Symbol("ended"),sm=Symbol("lastPromise"),uO=Symbol("handlePromise"),um=Symbol("stream");MGe=Object.getPrototypeOf(function(){}),AGe=Object.setPrototypeOf((bM={get stream(){return this[um]},next:function(){var e=this,r=this[Xw];if(r!==null)return Promise.reject(r);if(this[MM])return Promise.resolve(Ep(void 0,!0));if(this[um].destroyed)return new Promise(function(s,u){$process.nextTick(function(){e[Xw]?u(e[Xw]):s(Ep(void 0,!0))})});var n=this[sm],a;if(n)a=new Promise(EGe(n,this));else{var o=this[um].read();if(o!==null)return Promise.resolve(Ep(o,!1));a=new Promise(this[uO])}return this[sm]=a,a}},_p(bM,Symbol.asyncIterator,function(){return this}),_p(bM,"return",function(){var e=this;return new Promise(function(r,n){e[um].destroy(null,function(a){if(a){n(a);return}r(Ep(void 0,!0))})})}),bM),MGe),NGe=function(e){var r,n=Object.create(AGe,(r={},_p(r,um,{value:e,writable:!0}),_p(r,Sp,{value:null,writable:!0}),_p(r,om,{value:null,writable:!0}),_p(r,Xw,{value:null,writable:!0}),_p(r,MM,{value:e._readableState.endEmitted,writable:!0}),_p(r,uO,{value:function(o,s){var u=n[um].read();u?(n[sm]=null,n[Sp]=null,n[om]=null,o(Ep(u,!1))):(n[Sp]=o,n[om]=s)},writable:!0}),r));return n[sm]=null,sO(e,function(a){if(a&&a.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[om];o!==null&&(n[sm]=null,n[Sp]=null,n[om]=null,o(a)),n[Xw]=a;return}var s=n[Sp];s!==null&&(n[sm]=null,n[Sp]=null,n[om]=null,s(Ep(void 0,!0))),n[MM]=!0}),e.on("readable",SGe.bind(null,n)),n},TGe=NGe,DGe=function(){throw new Error("Readable.from is not available in the browser")};Ci.Readable=Ln;Ln.ReadableState=mJ;eer=IC.EventEmitter,dJ=function(e,r){return e.listeners(r).length},AM=Kw.Buffer,kGe=Jl.Uint8Array||function(){};tg&&tg.debuglog?on=tg.debuglog("stream"):on=function(){};OGe=hJ.getHighWaterMark,NM=ag.codes,RGe=NM.ERR_INVALID_ARG_TYPE,FGe=NM.ERR_STREAM_PUSH_AFTER_EOF,BGe=NM.ERR_METHOD_NOT_IMPLEMENTED,LGe=NM.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;xp(Ln,fm);Qw=ig.errorOrDestroy,XC=["error","close","destroy","pause","resume"];Object.defineProperty(Ln.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});Ln.prototype.destroy=ig.destroy;Ln.prototype._undestroy=ig.undestroy;Ln.prototype._destroy=function(t,e){e(t)};Ln.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=AM.from(t,e),e=""),n=!0),vJ(this,t,e,!1,n)};Ln.prototype.unshift=function(t){return vJ(this,t,null,!0,!1)};Ln.prototype.isPaused=function(){return this._readableState.flowing===!1};Ln.prototype.setEncoding=function(t){rg||(rg=KC.StringDecoder);var e=new rg(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};aJ=1073741824;Ln.prototype.read=function(t){on("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return on("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?eO(this):TM(this),null;if(t=oJ(t,e),t===0&&e.ended)return e.length===0&&eO(this),null;var n=e.needReadable;on("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,on("length less than watermark",n)),e.ended||e.reading?(n=!1,on("reading or ended",n)):n&&(on("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=oJ(r,e)));var a;return t>0?a=bJ(t,e):a=null,a===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&eO(this)),a!==null&&this.emit("data",a),a};Ln.prototype._read=function(t){Qw(this,new BGe("_read()"))};Ln.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,on("pipe count=%d opts=%j",n.pipesCount,e);var a=(!e||e.end!==!1)&&t!==$process.stdout&&t!==$process.stderr,o=a?u:A;n.endEmitted?$process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(I,C){on("onunpipe"),I===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,c())}function u(){on("onend"),t.end()}var f=$Ge(r);t.on("drain",f);var l=!1;function c(){on("cleanup"),t.removeListener("close",g),t.removeListener("finish",b),t.removeListener("drain",f),t.removeListener("error",m),t.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",A),r.removeListener("data",h),l=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&f()}r.on("data",h);function h(I){on("ondata");var C=t.write(I);on("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&wJ(n.pipes,t)!==-1)&&!l&&(on("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function m(I){on("onerror",I),A(),t.removeListener("error",m),dJ(t,"error")===0&&Qw(t,I)}PGe(t,"error",m);function g(){t.removeListener("finish",b),A()}t.once("close",g);function b(){on("onfinish"),t.removeListener("close",g),A()}t.once("finish",b);function A(){on("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(on("pipe resume"),r.resume()),t};Ln.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,a=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<a;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=wJ(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Ln.prototype.on=function(t,e){var r=fm.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,on("on readable",n.length,n.reading),n.length?TM(this):n.reading||$process.nextTick(VGe,this)),r};Ln.prototype.addListener=Ln.prototype.on;Ln.prototype.removeListener=function(t,e){var r=fm.prototype.removeListener.call(this,t,e);return t==="readable"&&$process.nextTick(yJ,this),r};Ln.prototype.removeAllListeners=function(t){var e=fm.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&$process.nextTick(yJ,this),e};Ln.prototype.resume=function(){var t=this._readableState;return t.flowing||(on("resume"),t.flowing=!t.readableListening,WGe(this,t)),t.paused=!1,this};Ln.prototype.pause=function(){return on("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(on("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};Ln.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(on("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(on("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var u=e.push(s);u||(n=!0,t.pause())}});for(var a in t)this[a]===void 0&&typeof t[a]=="function"&&(this[a]=function(u){return function(){return t[u].apply(t,arguments)}}(a));for(var o=0;o<XC.length;o++)t.on(XC[o],this.emit.bind(this,XC[o]));return this._read=function(s){on("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Ln.prototype[Symbol.asyncIterator]=function(){return JC===void 0&&(JC=TGe),JC(this)});Object.defineProperty(Ln.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Ln.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Ln.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Ln._fromList=bJ;Object.defineProperty(Ln.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});typeof Symbol=="function"&&(Ln.from=function(t,e){return YC===void 0&&(YC=DGe),YC(Ln,t,e)});Ci.Writable=Ea;Ea.WritableState=rx;KGe={deprecate:XZ},DM=Kw.Buffer,ZGe=Jl.Uint8Array||function(){};XGe=hJ.getHighWaterMark,Mp=ag.codes,QGe=Mp.ERR_INVALID_ARG_TYPE,eHe=Mp.ERR_METHOD_NOT_IMPLEMENTED,tHe=Mp.ERR_MULTIPLE_CALLBACK,rHe=Mp.ERR_STREAM_CANNOT_PIPE,nHe=Mp.ERR_STREAM_DESTROYED,iHe=Mp.ERR_STREAM_NULL_VALUES,aHe=Mp.ERR_STREAM_WRITE_AFTER_END,oHe=Mp.ERR_UNKNOWN_ENCODING,ng=ig.errorOrDestroy;xp(Ea,fm);rx.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(rx.prototype,"buffer",{get:KGe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(EM=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ea,Symbol.hasInstance,{value:function(e){return EM.call(this,e)?!0:this!==Ea?!1:e&&e._writableState instanceof rx}})):EM=function(e){return e instanceof this};Ea.prototype.pipe=function(){ng(this,new rHe)};Ea.prototype.write=function(t,e,r){var n=this._writableState,a=!1,o=!n.objectMode&&YGe(t);return o&&!DM.isBuffer(t)&&(t=JGe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=sHe),n.ending?uHe(this,r):(o||fHe(this,n,t,r))&&(n.pendingcb++,a=cHe(this,n,o,t,e,r)),a};Ea.prototype.cork=function(){this._writableState.corked++};Ea.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&_J(this,t))};Ea.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new oHe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Ea.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Ea.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Ea.prototype._write=function(t,e,r){r(new eHe("_write()"))};Ea.prototype._writev=null;Ea.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||yHe(this,n,r),this};Object.defineProperty(Ea.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});Object.defineProperty(Ea.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});Ea.prototype.destroy=ig.destroy;Ea.prototype._undestroy=ig.undestroy;Ea.prototype._destroy=function(t,e){e(t)};wHe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Ci.Duplex=Ql;xp(Ql,Ci.Readable);for(tO=wHe(Ci.Writable.prototype),xM=0;xM<tO.length;xM++)wM=tO[xM],Ql.prototype[wM]||(Ql.prototype[wM]=Ci.Writable.prototype[wM]);Object.defineProperty(Ql.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Ql.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Ql.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});Object.defineProperty(Ql.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});Ci.Transform=eh;kM=ag.codes,SHe=kM.ERR_METHOD_NOT_IMPLEMENTED,EHe=kM.ERR_MULTIPLE_CALLBACK,MHe=kM.ERR_TRANSFORM_ALREADY_TRANSFORMING,AHe=kM.ERR_TRANSFORM_WITH_LENGTH_0;xp(eh,Ci.Duplex);eh.prototype.push=function(t,e){return this._transformState.needTransform=!1,Ci.Duplex.prototype.push.call(this,t,e)};eh.prototype._transform=function(t,e,r){r(new SHe("_transform()"))};eh.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};eh.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};eh.prototype._destroy=function(t,e){Ci.Duplex.prototype._destroy.call(this,t,function(r){e(r)})};Ci.PassThrough=tx;xp(tx,Ci.Transform);tx.prototype._transform=function(t,e,r){r(null,t)};EJ=ag.codes,kHe=EJ.ERR_MISSING_ARGS,IHe=EJ.ERR_STREAM_DESTROYED;LHe=BHe,Ap=au(function(t,e){e=t.exports=Ci.Readable,e.Stream=Ci.Readable,e.Readable=Ci.Readable,e.Writable=Ci.Writable,e.Duplex=Ci.Duplex,e.Transform=Ci.Transform,e.PassThrough=Ci.PassThrough,e.finished=sO,e.pipeline=LHe}),ter=Ap.Duplex,rer=Ap.PassThrough,MJ=Ap.Readable,ner=Ap.Stream,ier=Ap.Transform,AJ=Ap.Writable,aer=Ap.finished,oer=Ap.pipeline});var TJ=te(()=>{w();_();NJ()});var CM={};tl(CM,{ReadableStream:()=>nx,WritableStream:()=>ix,default:()=>PHe,isatty:()=>DJ});var IM,lO,nx,ix,DJ,PHe,OM=te(()=>{w();_();TJ();OC();IM=Jw(),lO=typeof IM.$brout!="undefined",nx=class extends MJ{constructor(){super(),this.isRaw=!1}get isTTY(){return!0}setRawMode(e){this.isRaw!==e&&(this.isRaw=e,this.emit("modeChange"))}_readFromBrout(){IM.$brout.process.stdin().then(e=>{e?this.push($Buffer.from(e,"base64")):this.push(null)}).catch(()=>this.push(null))}_read(){lO?this._readFromBrout():this.push(null)}},ix=class extends AJ{constructor(){super(),this.isRaw=!1,this.columns=80,this.rows=120,lO?this._log=IM.$brout.process.stdout:this._log=console.log}get isTTY(){return!0}setRawMode(e){this.isRaw!==e&&(this.isRaw=e,this.emit("modeChange"))}changeColumns(e){e!==this.columns&&(this.columns=e,this.emit("resize"))}changeRows(e){e!==this.rows&&(this.rows=e,this.emit("resize"))}_setStderr(){lO?this._log=IM.$brout.process.stderr:this._log=console.error}_write(e,r,n){this._log(r==="buffer"?e.toString("utf-8"):e),n(null)}},DJ=t=>t&&(t instanceof nx||t instanceof ix),PHe={isatty:DJ,WritableStream:ix,ReadableStream:nx}});var th,cO,hO,qHe,$process,Zw=te(()=>{w();_();CC();FZ();OC();th=Jw(),cO=typeof th.$brout!="undefined",hO=class extends kC{constructor(){super(),this.title="browser",this.browser=!0,this.env={},this.argv=[],this.version="",this.versions=cO?th.$brout.process.versions:{http_parser:"0.0",node:"0.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.hrtime=cM,this.pid=0,this.exitCode=null,this.connected=!0,this._startTime=Date.now(),this._errorCallback=null,this._cwd=cO?th.$brout.process.cwd:"/",this._initEvents(),this.listenerCount=this.listenerCount.bind(this),this.exit=this.exit.bind(this),this.setUncaughtExceptionCaptureCallback=this.setUncaughtExceptionCaptureCallback.bind(this),this.hasUncaughtExceptionCaptureCallback=this.hasUncaughtExceptionCaptureCallback.bind(this),this.cwd=this.cwd.bind(this),this.uptime=this.uptime.bind(this),this.memoryUsage=this.memoryUsage.bind(this),this.nextTick=this.nextTick.bind(this)}get stdout(){if(this._stdout)return this._stdout;let e=(OM(),uM(CM));return this._stdout=new e.WritableStream,this._stdout}get stderr(){if(this._stderr)return this._stderr;let e=(OM(),uM(CM));return this._stderr=new e.WritableStream,this._stderr._setStderr(),this._stderr}get stdin(){if(this._stdin)return this._stdin;let e=(OM(),uM(CM));return this._stdin=new e.ReadableStream,this._stdin}listenerCount(e){return this.listeners(e).length}exit(e){if(!this.exitCode){if(this.exitCode=e,th.__EXIT_CODE__=e,this.emit("exit",[e]),cO){th.$brout.process.exit(e);return}e===1&&console.error("process.exit(1) called.")}}setUncaughtExceptionCaptureCallback(e){this._errorCallback=e}hasUncaughtExceptionCaptureCallback(){return this._errorCallback!==null}cwd(){return this._cwd}uptime(){return Math.floor((Date.now()-this._startTime)/1e3)}memoryUsage(){if(!performance&&!performance.memory)return{rss:0,heapTotal:Number.MAX_SAFE_INTEGER,heapUsed:0,external:0};let{memory:e}=performance;return{rss:0,heapTotal:e.totalJSHeapSize,heapUsed:e.usedJSHeapSize,external:0}}nextTick(e,...r){if(this.exitCode===null){if(typeof e!="function")throw new TypeError("handler is not a function");queueMicrotask(()=>{try{e(...r)}catch(n){if(this.hasListeners("uncaughtException")){this.emit("uncaughtException",n);return}throw n}})}}_getActiveHandles(){return[]}_getActiveRequests(){return[]}_initEvents(){!th.addEventListener||(th.addEventListener("error",e=>{if(this._errorCallback){e.preventDefault(),this._errorCallback(e);return}if(this.hasListeners("uncaughtException")){e.preventDefault(),this.emit("uncaughtException",e);return}$process.nextTick(()=>$process.exit(1))}),th.addEventListener("rejectionhandled",e=>this.emit("rejectionHandled",e.reason,e.promise)),th.addEventListener("unhandledrejection",e=>{if(this.hasListeners("unhandledRejection")){e.preventDefault(),this.emit("unhandledRejection",e.reason,e.promise);return}console.warn("UnhandledPromiseRejectionWarning:",e.reason)}))}},qHe=new hO,$process=qHe});var _=te(()=>{fM();Zw()});var mO=Ee(Ru=>{w();_();Ru.fetch=ax(globalThis.fetch)&&ax(globalThis.ReadableStream);Ru.writableStream=ax(globalThis.WritableStream);Ru.abortController=ax(globalThis.AbortController);var Np;function pO(){if(Np!==void 0)return Np;if(globalThis.XMLHttpRequest){Np=new globalThis.XMLHttpRequest;try{Np.open("GET",globalThis.XDomainRequest?"/":"https://example.com")}catch(t){Np=null}}else Np=null;return Np}function dO(t){var e=pO();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(r){}return!1}Ru.arraybuffer=Ru.fetch||dO("arraybuffer");Ru.msstream=!Ru.fetch&&dO("ms-stream");Ru.mozchunkedarraybuffer=!Ru.fetch&&dO("moz-chunked-arraybuffer");Ru.overrideMimeType=Ru.fetch||(pO()?ax(pO().overrideMimeType):!1);function ax(t){return typeof t=="function"}Np=null});var xr=Ee((wer,vO)=>{w();_();typeof Object.create=="function"?vO.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:vO.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Fu=Ee((xer,gO)=>{"use strict";w();_();var og=typeof Reflect=="object"?Reflect:null,kJ=og&&typeof og.apply=="function"?og.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},RM;og&&typeof og.ownKeys=="function"?RM=og.ownKeys:Object.getOwnPropertySymbols?RM=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:RM=function(e){return Object.getOwnPropertyNames(e)};function zHe(t){console&&console.warn&&console.warn(t)}var CJ=Number.isNaN||function(e){return e!==e};function mi(){mi.init.call(this)}gO.exports=mi;gO.exports.once=VHe;mi.EventEmitter=mi;mi.prototype._events=void 0;mi.prototype._eventsCount=0;mi.prototype._maxListeners=void 0;var IJ=10;function FM(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(mi,"defaultMaxListeners",{enumerable:!0,get:function(){return IJ},set:function(t){if(typeof t!="number"||t<0||CJ(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");IJ=t}});mi.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};mi.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||CJ(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function OJ(t){return t._maxListeners===void 0?mi.defaultMaxListeners:t._maxListeners}mi.prototype.getMaxListeners=function(){return OJ(this)};mi.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var a=e==="error",o=this._events;if(o!==void 0)a=a&&o.error===void 0;else if(!a)return!1;if(a){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var f=o[e];if(f===void 0)return!1;if(typeof f=="function")kJ(f,this,r);else for(var l=f.length,c=PJ(f,l),n=0;n<l;++n)kJ(c[n],this,r);return!0};function RJ(t,e,r,n){var a,o,s;if(FM(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),a=OJ(t),a>0&&s.length>a&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,zHe(u)}return t}mi.prototype.addListener=function(e,r){return RJ(this,e,r,!1)};mi.prototype.on=mi.prototype.addListener;mi.prototype.prependListener=function(e,r){return RJ(this,e,r,!0)};function UHe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function FJ(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},a=UHe.bind(n);return a.listener=r,n.wrapFn=a,a}mi.prototype.once=function(e,r){return FM(r),this.on(e,FJ(this,e,r)),this};mi.prototype.prependOnceListener=function(e,r){return FM(r),this.prependListener(e,FJ(this,e,r)),this};mi.prototype.removeListener=function(e,r){var n,a,o,s,u;if(FM(r),a=this._events,a===void 0)return this;if(n=a[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){u=n[s].listener,o=s;break}if(o<0)return this;o===0?n.shift():jHe(n,o),n.length===1&&(a[e]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",e,u||r)}return this};mi.prototype.off=mi.prototype.removeListener;mi.prototype.removeAllListeners=function(e){var r,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),s;for(a=0;a<o.length;++a)s=o[a],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(e,r[a]);return this};function BJ(t,e,r){var n=t._events;if(n===void 0)return[];var a=n[e];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?$He(a):PJ(a,a.length)}mi.prototype.listeners=function(e){return BJ(this,e,!0)};mi.prototype.rawListeners=function(e){return BJ(this,e,!1)};mi.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):LJ.call(t,e)};mi.prototype.listenerCount=LJ;function LJ(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}mi.prototype.eventNames=function(){return this._eventsCount>0?RM(this._events):[]};function PJ(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function jHe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function $He(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function VHe(t,e){return new Promise(function(r,n){function a(s){t.removeListener(e,o),n(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",a),r([].slice.call(arguments))}qJ(t,e,o,{once:!0}),e!=="error"&&WHe(t,a,{once:!0})})}function WHe(t,e,r){typeof t.on=="function"&&qJ(t,"error",e,r)}function qJ(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function a(o){n.once&&t.removeEventListener(e,a),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var yO=Ee((_er,zJ)=>{w();_();zJ.exports=Fu().EventEmitter});var $J=Ee(BM=>{"use strict";w();_();BM.byteLength=HHe;BM.toByteArray=ZHe;BM.fromByteArray=XHe;var ec=[],Bu=[],GHe=typeof Uint8Array!="undefined"?Uint8Array:Array,bO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(lm=0,UJ=bO.length;lm<UJ;++lm)ec[lm]=bO[lm],Bu[bO.charCodeAt(lm)]=lm;var lm,UJ;Bu["-".charCodeAt(0)]=62;Bu["_".charCodeAt(0)]=63;function jJ(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function HHe(t){var e=jJ(t),r=e[0],n=e[1];return(r+n)*3/4-n}function KHe(t,e,r){return(e+r)*3/4-r}function ZHe(t){var e,r=jJ(t),n=r[0],a=r[1],o=new GHe(KHe(t,n,a)),s=0,u=a>0?n-4:n,f;for(f=0;f<u;f+=4)e=Bu[t.charCodeAt(f)]<<18|Bu[t.charCodeAt(f+1)]<<12|Bu[t.charCodeAt(f+2)]<<6|Bu[t.charCodeAt(f+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return a===2&&(e=Bu[t.charCodeAt(f)]<<2|Bu[t.charCodeAt(f+1)]>>4,o[s++]=e&255),a===1&&(e=Bu[t.charCodeAt(f)]<<10|Bu[t.charCodeAt(f+1)]<<4|Bu[t.charCodeAt(f+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function JHe(t){return ec[t>>18&63]+ec[t>>12&63]+ec[t>>6&63]+ec[t&63]}function YHe(t,e,r){for(var n,a=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),a.push(JHe(n));return a.join("")}function XHe(t){for(var e,r=t.length,n=r%3,a=[],o=16383,s=0,u=r-n;s<u;s+=o)a.push(YHe(t,s,s+o>u?u:s+o));return n===1?(e=t[r-1],a.push(ec[e>>2]+ec[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],a.push(ec[e>>10]+ec[e>>4&63]+ec[e<<2&63]+"=")),a.join("")}});var VJ=Ee(wO=>{w();_();wO.read=function(t,e,r,n,a){var o,s,u=a*8-n-1,f=(1<<u)-1,l=f>>1,c=-7,h=r?a-1:0,m=r?-1:1,g=t[e+h];for(h+=m,o=g&(1<<-c)-1,g>>=-c,c+=u;c>0;o=o*256+t[e+h],h+=m,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=s*256+t[e+h],h+=m,c-=8);if(o===0)o=1-l;else{if(o===f)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-l}return(g?-1:1)*s*Math.pow(2,o-n)};wO.write=function(t,e,r,n,a,o){var s,u,f,l=o*8-a-1,c=(1<<l)-1,h=c>>1,m=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,b=n?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+h>=1?e+=m/f:e+=m*Math.pow(2,1-h),e*f>=2&&(s++,f/=2),s+h>=c?(u=0,s=c):s+h>=1?(u=(e*f-1)*Math.pow(2,a),s=s+h):(u=e*Math.pow(2,h-1)*Math.pow(2,a),s=0));a>=8;t[r+g]=u&255,g+=b,u/=256,a-=8);for(s=s<<a|u,l+=a;l>0;t[r+g]=s&255,g+=b,s/=256,l-=8);t[r+g-b]|=A*128}});var Oi=Ee(lg=>{"use strict";w();_();var xO=$J(),ug=VJ(),WJ=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;lg.Buffer=Nt;lg.SlowBuffer=iKe;lg.INSPECT_MAX_BYTES=50;var LM=2147483647;lg.kMaxLength=LM;Nt.TYPED_ARRAY_SUPPORT=QHe();!Nt.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function QHe(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return!1}}Object.defineProperty(Nt.prototype,"parent",{enumerable:!0,get:function(){if(!!Nt.isBuffer(this))return this.buffer}});Object.defineProperty(Nt.prototype,"offset",{enumerable:!0,get:function(){if(!!Nt.isBuffer(this))return this.byteOffset}});function rh(t){if(t>LM)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,Nt.prototype),e}function Nt(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return MO(t)}return ZJ(t,e,r)}Nt.poolSize=8192;function ZJ(t,e,r){if(typeof t=="string")return tKe(t,e);if(ArrayBuffer.isView(t))return rKe(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(tc(t,ArrayBuffer)||t&&tc(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(tc(t,SharedArrayBuffer)||t&&tc(t.buffer,SharedArrayBuffer)))return SO(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return Nt.from(n,e,r);let a=nKe(t);if(a)return a;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return Nt.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}Nt.from=function(t,e,r){return ZJ(t,e,r)};Object.setPrototypeOf(Nt.prototype,Uint8Array.prototype);Object.setPrototypeOf(Nt,Uint8Array);function JJ(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function eKe(t,e,r){return JJ(t),t<=0?rh(t):e!==void 0?typeof r=="string"?rh(t).fill(e,r):rh(t).fill(e):rh(t)}Nt.alloc=function(t,e,r){return eKe(t,e,r)};function MO(t){return JJ(t),rh(t<0?0:AO(t)|0)}Nt.allocUnsafe=function(t){return MO(t)};Nt.allocUnsafeSlow=function(t){return MO(t)};function tKe(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Nt.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=YJ(t,e)|0,n=rh(r),a=n.write(t,e);return a!==r&&(n=n.slice(0,a)),n}function _O(t){let e=t.length<0?0:AO(t.length)|0,r=rh(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function rKe(t){if(tc(t,Uint8Array)){let e=new Uint8Array(t);return SO(e.buffer,e.byteOffset,e.byteLength)}return _O(t)}function SO(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,Nt.prototype),n}function nKe(t){if(Nt.isBuffer(t)){let e=AO(t.length)|0,r=rh(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||TO(t.length)?rh(0):_O(t);if(t.type==="Buffer"&&Array.isArray(t.data))return _O(t.data)}function AO(t){if(t>=LM)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+LM.toString(16)+" bytes");return t|0}function iKe(t){return+t!=t&&(t=0),Nt.alloc(+t)}Nt.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Nt.prototype};Nt.compare=function(e,r){if(tc(e,Uint8Array)&&(e=Nt.from(e,e.offset,e.byteLength)),tc(r,Uint8Array)&&(r=Nt.from(r,r.offset,r.byteLength)),!Nt.isBuffer(e)||!Nt.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,a=r.length;for(let o=0,s=Math.min(n,a);o<s;++o)if(e[o]!==r[o]){n=e[o],a=r[o];break}return n<a?-1:a<n?1:0};Nt.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Nt.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Nt.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let a=Nt.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(tc(s,Uint8Array))o+s.length>a.length?(Nt.isBuffer(s)||(s=Nt.from(s)),s.copy(a,o)):Uint8Array.prototype.set.call(a,s,o);else if(Nt.isBuffer(s))s.copy(a,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return a};function YJ(t,e){if(Nt.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||tc(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let a=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return EO(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return oY(t).length;default:if(a)return n?-1:EO(t).length;e=(""+e).toLowerCase(),a=!0}}Nt.byteLength=YJ;function aKe(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return mKe(this,e,r);case"utf8":case"utf-8":return QJ(this,e,r);case"ascii":return pKe(this,e,r);case"latin1":case"binary":return dKe(this,e,r);case"base64":return cKe(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vKe(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}Nt.prototype._isBuffer=!0;function cm(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}Nt.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)cm(this,r,r+1);return this};Nt.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)cm(this,r,r+3),cm(this,r+1,r+2);return this};Nt.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)cm(this,r,r+7),cm(this,r+1,r+6),cm(this,r+2,r+5),cm(this,r+3,r+4);return this};Nt.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?QJ(this,0,e):aKe.apply(this,arguments)};Nt.prototype.toLocaleString=Nt.prototype.toString;Nt.prototype.equals=function(e){if(!Nt.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Nt.compare(this,e)===0};Nt.prototype.inspect=function(){let e="",r=lg.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};WJ&&(Nt.prototype[WJ]=Nt.prototype.inspect);Nt.prototype.compare=function(e,r,n,a,o){if(tc(e,Uint8Array)&&(e=Nt.from(e,e.offset,e.byteLength)),!Nt.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),a===void 0&&(a=0),o===void 0&&(o=this.length),r<0||n>e.length||a<0||o>this.length)throw new RangeError("out of range index");if(a>=o&&r>=n)return 0;if(a>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,a>>>=0,o>>>=0,this===e)return 0;let s=o-a,u=n-r,f=Math.min(s,u),l=this.slice(a,o),c=e.slice(r,n);for(let h=0;h<f;++h)if(l[h]!==c[h]){s=l[h],u=c[h];break}return s<u?-1:u<s?1:0};function XJ(t,e,r,n,a){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,TO(r)&&(r=a?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(a)return-1;r=t.length-1}else if(r<0)if(a)r=0;else return-1;if(typeof e=="string"&&(e=Nt.from(e,n)),Nt.isBuffer(e))return e.length===0?-1:GJ(t,e,r,n,a);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?a?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):GJ(t,[e],r,n,a);throw new TypeError("val must be string, number or Buffer")}function GJ(t,e,r,n,a){let o=1,s=t.length,u=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,u/=2,r/=2}function f(c,h){return o===1?c[h]:c.readUInt16BE(h*o)}let l;if(a){let c=-1;for(l=r;l<s;l++)if(f(t,l)===f(e,c===-1?0:l-c)){if(c===-1&&(c=l),l-c+1===u)return c*o}else c!==-1&&(l-=l-c),c=-1}else for(r+u>s&&(r=s-u),l=r;l>=0;l--){let c=!0;for(let h=0;h<u;h++)if(f(t,l+h)!==f(e,h)){c=!1;break}if(c)return l}return-1}Nt.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};Nt.prototype.indexOf=function(e,r,n){return XJ(this,e,r,n,!0)};Nt.prototype.lastIndexOf=function(e,r,n){return XJ(this,e,r,n,!1)};function oKe(t,e,r,n){r=Number(r)||0;let a=t.length-r;n?(n=Number(n),n>a&&(n=a)):n=a;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let u=parseInt(e.substr(s*2,2),16);if(TO(u))return s;t[r+s]=u}return s}function sKe(t,e,r,n){return PM(EO(e,t.length-r),t,r,n)}function uKe(t,e,r,n){return PM(wKe(e),t,r,n)}function fKe(t,e,r,n){return PM(oY(e),t,r,n)}function lKe(t,e,r,n){return PM(xKe(e,t.length-r),t,r,n)}Nt.prototype.write=function(e,r,n,a){if(r===void 0)a="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")a=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,a===void 0&&(a="utf8")):(a=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let s=!1;for(;;)switch(a){case"hex":return oKe(this,e,r,n);case"utf8":case"utf-8":return sKe(this,e,r,n);case"ascii":case"latin1":case"binary":return uKe(this,e,r,n);case"base64":return fKe(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lKe(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),s=!0}};Nt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function cKe(t,e,r){return e===0&&r===t.length?xO.fromByteArray(t):xO.fromByteArray(t.slice(e,r))}function QJ(t,e,r){r=Math.min(t.length,r);let n=[],a=e;for(;a<r;){let o=t[a],s=null,u=o>239?4:o>223?3:o>191?2:1;if(a+u<=r){let f,l,c,h;switch(u){case 1:o<128&&(s=o);break;case 2:f=t[a+1],(f&192)===128&&(h=(o&31)<<6|f&63,h>127&&(s=h));break;case 3:f=t[a+1],l=t[a+2],(f&192)===128&&(l&192)===128&&(h=(o&15)<<12|(f&63)<<6|l&63,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:f=t[a+1],l=t[a+2],c=t[a+3],(f&192)===128&&(l&192)===128&&(c&192)===128&&(h=(o&15)<<18|(f&63)<<12|(l&63)<<6|c&63,h>65535&&h<1114112&&(s=h))}}s===null?(s=65533,u=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),a+=u}return hKe(n)}var HJ=4096;function hKe(t){let e=t.length;if(e<=HJ)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=HJ));return r}function pKe(t,e,r){let n="";r=Math.min(t.length,r);for(let a=e;a<r;++a)n+=String.fromCharCode(t[a]&127);return n}function dKe(t,e,r){let n="";r=Math.min(t.length,r);for(let a=e;a<r;++a)n+=String.fromCharCode(t[a]);return n}function mKe(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let a="";for(let o=e;o<r;++o)a+=_Ke[t[o]];return a}function vKe(t,e,r){let n=t.slice(e,r),a="";for(let o=0;o<n.length-1;o+=2)a+=String.fromCharCode(n[o]+n[o+1]*256);return a}Nt.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let a=this.subarray(e,r);return Object.setPrototypeOf(a,Nt.prototype),a};function fo(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}Nt.prototype.readUintLE=Nt.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||fo(e,r,this.length);let a=this[e],o=1,s=0;for(;++s<r&&(o*=256);)a+=this[e+s]*o;return a};Nt.prototype.readUintBE=Nt.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||fo(e,r,this.length);let a=this[e+--r],o=1;for(;r>0&&(o*=256);)a+=this[e+--r]*o;return a};Nt.prototype.readUint8=Nt.prototype.readUInt8=function(e,r){return e=e>>>0,r||fo(e,1,this.length),this[e]};Nt.prototype.readUint16LE=Nt.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||fo(e,2,this.length),this[e]|this[e+1]<<8};Nt.prototype.readUint16BE=Nt.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||fo(e,2,this.length),this[e]<<8|this[e+1]};Nt.prototype.readUint32LE=Nt.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||fo(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Nt.prototype.readUint32BE=Nt.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||fo(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Nt.prototype.readBigUInt64LE=Tp(function(e){e=e>>>0,fg(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ox(e,this.length-8);let a=r+this[++e]*ir(2,8)+this[++e]*ir(2,16)+this[++e]*ir(2,24),o=this[++e]+this[++e]*ir(2,8)+this[++e]*ir(2,16)+n*ir(2,24);return BigInt(a)+(BigInt(o)<<BigInt(32))});Nt.prototype.readBigUInt64BE=Tp(function(e){e=e>>>0,fg(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ox(e,this.length-8);let a=r*ir(2,24)+this[++e]*ir(2,16)+this[++e]*ir(2,8)+this[++e],o=this[++e]*ir(2,24)+this[++e]*ir(2,16)+this[++e]*ir(2,8)+n;return(BigInt(a)<<BigInt(32))+BigInt(o)});Nt.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||fo(e,r,this.length);let a=this[e],o=1,s=0;for(;++s<r&&(o*=256);)a+=this[e+s]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*r)),a};Nt.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||fo(e,r,this.length);let a=r,o=1,s=this[e+--a];for(;a>0&&(o*=256);)s+=this[e+--a]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};Nt.prototype.readInt8=function(e,r){return e=e>>>0,r||fo(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Nt.prototype.readInt16LE=function(e,r){e=e>>>0,r||fo(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};Nt.prototype.readInt16BE=function(e,r){e=e>>>0,r||fo(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};Nt.prototype.readInt32LE=function(e,r){return e=e>>>0,r||fo(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Nt.prototype.readInt32BE=function(e,r){return e=e>>>0,r||fo(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Nt.prototype.readBigInt64LE=Tp(function(e){e=e>>>0,fg(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ox(e,this.length-8);let a=this[e+4]+this[e+5]*ir(2,8)+this[e+6]*ir(2,16)+(n<<24);return(BigInt(a)<<BigInt(32))+BigInt(r+this[++e]*ir(2,8)+this[++e]*ir(2,16)+this[++e]*ir(2,24))});Nt.prototype.readBigInt64BE=Tp(function(e){e=e>>>0,fg(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ox(e,this.length-8);let a=(r<<24)+this[++e]*ir(2,16)+this[++e]*ir(2,8)+this[++e];return(BigInt(a)<<BigInt(32))+BigInt(this[++e]*ir(2,24)+this[++e]*ir(2,16)+this[++e]*ir(2,8)+n)});Nt.prototype.readFloatLE=function(e,r){return e=e>>>0,r||fo(e,4,this.length),ug.read(this,e,!0,23,4)};Nt.prototype.readFloatBE=function(e,r){return e=e>>>0,r||fo(e,4,this.length),ug.read(this,e,!1,23,4)};Nt.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||fo(e,8,this.length),ug.read(this,e,!0,52,8)};Nt.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||fo(e,8,this.length),ug.read(this,e,!1,52,8)};function Cs(t,e,r,n,a,o){if(!Nt.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>a||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}Nt.prototype.writeUintLE=Nt.prototype.writeUIntLE=function(e,r,n,a){if(e=+e,r=r>>>0,n=n>>>0,!a){let u=Math.pow(2,8*n)-1;Cs(this,e,r,n,u,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};Nt.prototype.writeUintBE=Nt.prototype.writeUIntBE=function(e,r,n,a){if(e=+e,r=r>>>0,n=n>>>0,!a){let u=Math.pow(2,8*n)-1;Cs(this,e,r,n,u,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};Nt.prototype.writeUint8=Nt.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Cs(this,e,r,1,255,0),this[r]=e&255,r+1};Nt.prototype.writeUint16LE=Nt.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Cs(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};Nt.prototype.writeUint16BE=Nt.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Cs(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};Nt.prototype.writeUint32LE=Nt.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Cs(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};Nt.prototype.writeUint32BE=Nt.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Cs(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function eY(t,e,r,n,a){aY(e,n,a,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function tY(t,e,r,n,a){aY(e,n,a,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}Nt.prototype.writeBigUInt64LE=Tp(function(e,r=0){return eY(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});Nt.prototype.writeBigUInt64BE=Tp(function(e,r=0){return tY(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});Nt.prototype.writeIntLE=function(e,r,n,a){if(e=+e,r=r>>>0,!a){let f=Math.pow(2,8*n-1);Cs(this,e,r,n,f-1,-f)}let o=0,s=1,u=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&u===0&&this[r+o-1]!==0&&(u=1),this[r+o]=(e/s>>0)-u&255;return r+n};Nt.prototype.writeIntBE=function(e,r,n,a){if(e=+e,r=r>>>0,!a){let f=Math.pow(2,8*n-1);Cs(this,e,r,n,f-1,-f)}let o=n-1,s=1,u=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&u===0&&this[r+o+1]!==0&&(u=1),this[r+o]=(e/s>>0)-u&255;return r+n};Nt.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Cs(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};Nt.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Cs(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};Nt.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Cs(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};Nt.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Cs(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};Nt.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Cs(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};Nt.prototype.writeBigInt64LE=Tp(function(e,r=0){return eY(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});Nt.prototype.writeBigInt64BE=Tp(function(e,r=0){return tY(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function rY(t,e,r,n,a,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function nY(t,e,r,n,a){return e=+e,r=r>>>0,a||rY(t,e,r,4,34028234663852886e22,-34028234663852886e22),ug.write(t,e,r,n,23,4),r+4}Nt.prototype.writeFloatLE=function(e,r,n){return nY(this,e,r,!0,n)};Nt.prototype.writeFloatBE=function(e,r,n){return nY(this,e,r,!1,n)};function iY(t,e,r,n,a){return e=+e,r=r>>>0,a||rY(t,e,r,8,17976931348623157e292,-17976931348623157e292),ug.write(t,e,r,n,52,8),r+8}Nt.prototype.writeDoubleLE=function(e,r,n){return iY(this,e,r,!0,n)};Nt.prototype.writeDoubleBE=function(e,r,n){return iY(this,e,r,!1,n)};Nt.prototype.copy=function(e,r,n,a){if(!Nt.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!a&&a!==0&&(a=this.length),r>=e.length&&(r=e.length),r||(r=0),a>0&&a<n&&(a=n),a===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-r<a-n&&(a=e.length-r+n);let o=a-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,a):Uint8Array.prototype.set.call(e,this.subarray(n,a),r),o};Nt.prototype.fill=function(e,r,n,a){if(typeof e=="string"){if(typeof r=="string"?(a=r,r=0,n=this.length):typeof n=="string"&&(a=n,n=this.length),a!==void 0&&typeof a!="string")throw new TypeError("encoding must be a string");if(typeof a=="string"&&!Nt.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(e.length===1){let s=e.charCodeAt(0);(a==="utf8"&&s<128||a==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=Nt.isBuffer(e)?e:Nt.from(e,a),u=s.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%u]}return this};var sg={};function NO(t,e,r){sg[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}NO("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);NO("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);NO("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,a=r;return Number.isInteger(r)&&Math.abs(r)>ir(2,32)?a=KJ(String(r)):typeof r=="bigint"&&(a=String(r),(r>ir(BigInt(2),BigInt(32))||r<-ir(BigInt(2),BigInt(32)))&&(a=KJ(a)),a+="n"),n+=` It must be ${e}. Received ${a}`,n},RangeError);function KJ(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function gKe(t,e,r){fg(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&ox(e,t.length-(r+1))}function aY(t,e,r,n,a,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",u;throw o>3?e===0||e===BigInt(0)?u=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:u=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:u=`>= ${e}${s} and <= ${r}${s}`,new sg.ERR_OUT_OF_RANGE("value",u,t)}gKe(n,a,o)}function fg(t,e){if(typeof t!="number")throw new sg.ERR_INVALID_ARG_TYPE(e,"number",t)}function ox(t,e,r){throw Math.floor(t)!==t?(fg(t,r),new sg.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new sg.ERR_BUFFER_OUT_OF_BOUNDS:new sg.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var yKe=/[^+/0-9A-Za-z-_]/g;function bKe(t){if(t=t.split("=")[0],t=t.trim().replace(yKe,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function EO(t,e){e=e||1/0;let r,n=t.length,a=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!a){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}a=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),a=r;continue}r=(a-55296<<10|r-56320)+65536}else a&&(e-=3)>-1&&o.push(239,191,189);if(a=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function wKe(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function xKe(t,e){let r,n,a,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,a=r%256,o.push(a),o.push(n);return o}function oY(t){return xO.toByteArray(bKe(t))}function PM(t,e,r,n){let a;for(a=0;a<n&&!(a+r>=e.length||a>=t.length);++a)e[a+r]=t[a];return a}function tc(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function TO(t){return t!==t}var _Ke=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let a=0;a<16;++a)e[n+a]=t[r]+t[a]}return e}();function Tp(t){return typeof BigInt=="undefined"?SKe:t}function SKe(){throw new Error("BigInt not supported")}});var DO=Ee((Ner,sY)=>{"use strict";w();_();sY.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==a||s.enumerable!==!0)return!1}return!0}});var sx=Ee((Ter,uY)=>{"use strict";w();_();var EKe=DO();uY.exports=function(){return EKe()&&!!Symbol.toStringTag}});var cY=Ee((Der,lY)=>{"use strict";w();_();var fY=typeof Symbol!="undefined"&&Symbol,MKe=DO();lY.exports=function(){return typeof fY!="function"||typeof Symbol!="function"||typeof fY("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:MKe()}});var pY=Ee((ker,hY)=>{"use strict";w();_();var AKe="Function.prototype.bind called on incompatible ",kO=Array.prototype.slice,NKe=Object.prototype.toString,TKe="[object Function]";hY.exports=function(e){var r=this;if(typeof r!="function"||NKe.call(r)!==TKe)throw new TypeError(AKe+r);for(var n=kO.call(arguments,1),a,o=function(){if(this instanceof a){var c=r.apply(this,n.concat(kO.call(arguments)));return Object(c)===c?c:this}else return r.apply(e,n.concat(kO.call(arguments)))},s=Math.max(0,r.length-n.length),u=[],f=0;f<s;f++)u.push("$"+f);if(a=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var l=function(){};l.prototype=r.prototype,a.prototype=new l,l.prototype=null}return a}});var qM=Ee((Ier,dY)=>{"use strict";w();_();var DKe=pY();dY.exports=Function.prototype.bind||DKe});var vY=Ee((Cer,mY)=>{"use strict";w();_();var kKe=qM();mY.exports=kKe.call(Function.call,Object.prototype.hasOwnProperty)});var jM=Ee((Oer,wY)=>{"use strict";w();_();var Cn,mg=SyntaxError,bY=Function,pg=TypeError,IO=function(t){try{return bY('"use strict"; return ('+t+").constructor;")()}catch(e){}},hm=Object.getOwnPropertyDescriptor;if(hm)try{hm({},"")}catch(t){hm=null}var CO=function(){throw new pg},IKe=hm?function(){try{return arguments.callee,CO}catch(t){try{return hm(arguments,"callee").get}catch(e){return CO}}}():CO,cg=cY()(),Dp=Object.getPrototypeOf||function(t){return t.__proto__},hg={},CKe=typeof Uint8Array=="undefined"?Cn:Dp(Uint8Array),dg={"%AggregateError%":typeof AggregateError=="undefined"?Cn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?Cn:ArrayBuffer,"%ArrayIteratorPrototype%":cg?Dp([][Symbol.iterator]()):Cn,"%AsyncFromSyncIteratorPrototype%":Cn,"%AsyncFunction%":hg,"%AsyncGenerator%":hg,"%AsyncGeneratorFunction%":hg,"%AsyncIteratorPrototype%":hg,"%Atomics%":typeof Atomics=="undefined"?Cn:Atomics,"%BigInt%":typeof BigInt=="undefined"?Cn:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?Cn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?Cn:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?Cn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?Cn:FinalizationRegistry,"%Function%":bY,"%GeneratorFunction%":hg,"%Int8Array%":typeof Int8Array=="undefined"?Cn:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?Cn:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?Cn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":cg?Dp(Dp([][Symbol.iterator]())):Cn,"%JSON%":typeof JSON=="object"?JSON:Cn,"%Map%":typeof Map=="undefined"?Cn:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!cg?Cn:Dp(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?Cn:Promise,"%Proxy%":typeof Proxy=="undefined"?Cn:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?Cn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?Cn:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!cg?Cn:Dp(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?Cn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":cg?Dp(""[Symbol.iterator]()):Cn,"%Symbol%":cg?Symbol:Cn,"%SyntaxError%":mg,"%ThrowTypeError%":IKe,"%TypedArray%":CKe,"%TypeError%":pg,"%Uint8Array%":typeof Uint8Array=="undefined"?Cn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?Cn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?Cn:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?Cn:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?Cn:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?Cn:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?Cn:WeakSet},OKe=function t(e){var r;if(e==="%AsyncFunction%")r=IO("async function () {}");else if(e==="%GeneratorFunction%")r=IO("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=IO("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&(r=Dp(a.prototype))}return dg[e]=r,r},gY={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ux=qM(),zM=vY(),RKe=ux.call(Function.call,Array.prototype.concat),FKe=ux.call(Function.apply,Array.prototype.splice),yY=ux.call(Function.call,String.prototype.replace),UM=ux.call(Function.call,String.prototype.slice),BKe=ux.call(Function.call,RegExp.prototype.exec),LKe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,PKe=/\\(\\)?/g,qKe=function(e){var r=UM(e,0,1),n=UM(e,-1);if(r==="%"&&n!=="%")throw new mg("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new mg("invalid intrinsic syntax, expected opening `%`");var a=[];return yY(e,LKe,function(o,s,u,f){a[a.length]=u?yY(f,PKe,"$1"):s||o}),a},zKe=function(e,r){var n=e,a;if(zM(gY,n)&&(a=gY[n],n="%"+a[0]+"%"),zM(dg,n)){var o=dg[n];if(o===hg&&(o=OKe(n)),typeof o=="undefined"&&!r)throw new pg("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:o}}throw new mg("intrinsic "+e+" does not exist!")};wY.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new pg("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new pg('"allowMissing" argument must be a boolean');if(BKe(/^%?[^%]*%?$/g,e)===null)throw new mg("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=qKe(e),a=n.length>0?n[0]:"",o=zKe("%"+a+"%",r),s=o.name,u=o.value,f=!1,l=o.alias;l&&(a=l[0],FKe(n,RKe([0,1],l)));for(var c=1,h=!0;c<n.length;c+=1){var m=n[c],g=UM(m,0,1),b=UM(m,-1);if((g==='"'||g==="'"||g==="`"||b==='"'||b==="'"||b==="`")&&g!==b)throw new mg("property names with quotes must have matching quotes");if((m==="constructor"||!h)&&(f=!0),a+="."+m,s="%"+a+"%",zM(dg,s))u=dg[s];else if(u!=null){if(!(m in u)){if(!r)throw new pg("base intrinsic for "+e+" exists, but the property is not available.");return}if(hm&&c+1>=n.length){var A=hm(u,m);h=!!A,h&&"get"in A&&!("originalValue"in A.get)?u=A.get:u=u[m]}else h=zM(u,m),u=u[m];h&&!f&&(dg[s]=u)}}return u}});var AY=Ee((Rer,$M)=>{"use strict";w();_();var OO=qM(),vg=jM(),SY=vg("%Function.prototype.apply%"),EY=vg("%Function.prototype.call%"),MY=vg("%Reflect.apply%",!0)||OO.call(EY,SY),xY=vg("%Object.getOwnPropertyDescriptor%",!0),pm=vg("%Object.defineProperty%",!0),UKe=vg("%Math.max%");if(pm)try{pm({},"a",{value:1})}catch(t){pm=null}$M.exports=function(e){var r=MY(OO,EY,arguments);if(xY&&pm){var n=xY(r,"length");n.configurable&&pm(r,"length",{value:1+UKe(0,e.length-(arguments.length-1))})}return r};var _Y=function(){return MY(OO,SY,arguments)};pm?pm($M.exports,"apply",{value:_Y}):$M.exports.apply=_Y});var VM=Ee((Fer,DY)=>{"use strict";w();_();var NY=jM(),TY=AY(),jKe=TY(NY("String.prototype.indexOf"));DY.exports=function(e,r){var n=NY(e,!!r);return typeof n=="function"&&jKe(e,".prototype.")>-1?TY(n):n}});var CY=Ee((Ber,IY)=>{"use strict";w();_();var $Ke=sx()(),VKe=VM(),RO=VKe("Object.prototype.toString"),WM=function(e){return $Ke&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:RO(e)==="[object Arguments]"},kY=function(e){return WM(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&RO(e)!=="[object Array]"&&RO(e.callee)==="[object Function]"},WKe=function(){return WM(arguments)}();WM.isLegacyArguments=kY;IY.exports=WKe?WM:kY});var FY=Ee((Ler,RY)=>{"use strict";w();_();var GKe=Object.prototype.toString,HKe=Function.prototype.toString,KKe=/^\s*(?:function)?\*/,OY=sx()(),FO=Object.getPrototypeOf,ZKe=function(){if(!OY)return!1;try{return Function("return function*() {}")()}catch(t){}},BO;RY.exports=function(e){if(typeof e!="function")return!1;if(KKe.test(HKe.call(e)))return!0;if(!OY){var r=GKe.call(e);return r==="[object GeneratorFunction]"}if(!FO)return!1;if(typeof BO=="undefined"){var n=ZKe();BO=n?FO(n):!1}return FO(e)===BO}});var qY=Ee((Per,PY)=>{"use strict";w();_();var LY=Function.prototype.toString,gg=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,LO,GM;if(typeof gg=="function"&&typeof Object.defineProperty=="function")try{LO=Object.defineProperty({},"length",{get:function(){throw GM}}),GM={},gg(function(){throw 42},null,LO)}catch(t){t!==GM&&(gg=null)}else gg=null;var JKe=/^\s*class\b/,PO=function(e){try{var r=LY.call(e);return JKe.test(r)}catch(n){return!1}},YKe=function(e){try{return PO(e)?!1:(LY.call(e),!0)}catch(r){return!1}},XKe=Object.prototype.toString,QKe="[object Function]",eZe="[object GeneratorFunction]",tZe=typeof Symbol=="function"&&!!Symbol.toStringTag,BY=typeof document=="object"&&typeof document.all=="undefined"&&document.all!==void 0?document.all:{};PY.exports=gg?function(e){if(e===BY)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;try{gg(e,null,LO)}catch(r){if(r!==GM)return!1}return!PO(e)}:function(e){if(e===BY)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;if(tZe)return YKe(e);if(PO(e))return!1;var r=XKe.call(e);return r===QKe||r===eZe}});var qO=Ee((qer,UY)=>{"use strict";w();_();var rZe=qY(),nZe=Object.prototype.toString,zY=Object.prototype.hasOwnProperty,iZe=function(e,r,n){for(var a=0,o=e.length;a<o;a++)zY.call(e,a)&&(n==null?r(e[a],a,e):r.call(n,e[a],a,e))},aZe=function(e,r,n){for(var a=0,o=e.length;a<o;a++)n==null?r(e.charAt(a),a,e):r.call(n,e.charAt(a),a,e)},oZe=function(e,r,n){for(var a in e)zY.call(e,a)&&(n==null?r(e[a],a,e):r.call(n,e[a],a,e))},sZe=function(e,r,n){if(!rZe(r))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),nZe.call(e)==="[object Array]"?iZe(e,r,a):typeof e=="string"?aZe(e,r,a):oZe(e,r,a)};UY.exports=sZe});var UO=Ee((zer,jY)=>{"use strict";w();_();var zO=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],uZe=globalThis;jY.exports=function(){for(var e=[],r=0;r<zO.length;r++)typeof uZe[zO[r]]=="function"&&(e[e.length]=zO[r]);return e}});var jO=Ee((Uer,$Y)=>{"use strict";w();_();var fZe=jM(),HM=fZe("%Object.getOwnPropertyDescriptor%",!0);if(HM)try{HM([],"length")}catch(t){HM=null}$Y.exports=HM});var WO=Ee((jer,KY)=>{"use strict";w();_();var VY=qO(),lZe=UO(),VO=VM(),cZe=VO("Object.prototype.toString"),WY=sx()(),hZe=globalThis,GY=lZe(),pZe=VO("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},dZe=VO("String.prototype.slice"),HY={},KM=jO(),$O=Object.getPrototypeOf;WY&&KM&&$O&&VY(GY,function(t){var e=new hZe[t];if(Symbol.toStringTag in e){var r=$O(e),n=KM(r,Symbol.toStringTag);if(!n){var a=$O(r);n=KM(a,Symbol.toStringTag)}HY[t]=n.get}});var mZe=function(e){var r=!1;return VY(HY,function(n,a){if(!r)try{r=n.call(e)===a}catch(o){}}),r};KY.exports=function(e){if(!e||typeof e!="object")return!1;if(!WY||!(Symbol.toStringTag in e)){var r=dZe(cZe(e),8,-1);return pZe(GY,r)>-1}return KM?mZe(e):!1}});var tX=Ee(($er,eX)=>{"use strict";w();_();var JY=qO(),vZe=UO(),YY=VM(),gZe=YY("Object.prototype.toString"),XY=sx()(),ZY=globalThis,yZe=vZe(),bZe=YY("String.prototype.slice"),QY={},GO=jO(),HO=Object.getPrototypeOf;XY&&GO&&HO&&JY(yZe,function(t){if(typeof ZY[t]=="function"){var e=new ZY[t];if(Symbol.toStringTag in e){var r=HO(e),n=GO(r,Symbol.toStringTag);if(!n){var a=HO(r);n=GO(a,Symbol.toStringTag)}QY[t]=n.get}}});var wZe=function(e){var r=!1;return JY(QY,function(n,a){if(!r)try{var o=n.call(e);o===a&&(r=o)}catch(s){}}),r},xZe=WO();eX.exports=function(e){return xZe(e)?!XY||!(Symbol.toStringTag in e)?bZe(gZe(e),8,-1):wZe(e):!1}});var mX=Ee(mn=>{"use strict";w();_();var _Ze=CY(),SZe=FY(),nl=tX(),rX=WO();function yg(t){return t.call.bind(t)}var nX=typeof BigInt!="undefined",iX=typeof Symbol!="undefined",Lu=yg(Object.prototype.toString),EZe=yg(Number.prototype.valueOf),MZe=yg(String.prototype.valueOf),AZe=yg(Boolean.prototype.valueOf);nX&&(aX=yg(BigInt.prototype.valueOf));var aX;iX&&(oX=yg(Symbol.prototype.valueOf));var oX;function lx(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch(r){return!1}}mn.isArgumentsObject=_Ze;mn.isGeneratorFunction=SZe;mn.isTypedArray=rX;function NZe(t){return typeof Promise!="undefined"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}mn.isPromise=NZe;function TZe(t){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(t):rX(t)||uX(t)}mn.isArrayBufferView=TZe;function DZe(t){return nl(t)==="Uint8Array"}mn.isUint8Array=DZe;function kZe(t){return nl(t)==="Uint8ClampedArray"}mn.isUint8ClampedArray=kZe;function IZe(t){return nl(t)==="Uint16Array"}mn.isUint16Array=IZe;function CZe(t){return nl(t)==="Uint32Array"}mn.isUint32Array=CZe;function OZe(t){return nl(t)==="Int8Array"}mn.isInt8Array=OZe;function RZe(t){return nl(t)==="Int16Array"}mn.isInt16Array=RZe;function FZe(t){return nl(t)==="Int32Array"}mn.isInt32Array=FZe;function BZe(t){return nl(t)==="Float32Array"}mn.isFloat32Array=BZe;function LZe(t){return nl(t)==="Float64Array"}mn.isFloat64Array=LZe;function PZe(t){return nl(t)==="BigInt64Array"}mn.isBigInt64Array=PZe;function qZe(t){return nl(t)==="BigUint64Array"}mn.isBigUint64Array=qZe;function ZM(t){return Lu(t)==="[object Map]"}ZM.working=typeof Map!="undefined"&&ZM(new Map);function zZe(t){return typeof Map=="undefined"?!1:ZM.working?ZM(t):t instanceof Map}mn.isMap=zZe;function JM(t){return Lu(t)==="[object Set]"}JM.working=typeof Set!="undefined"&&JM(new Set);function UZe(t){return typeof Set=="undefined"?!1:JM.working?JM(t):t instanceof Set}mn.isSet=UZe;function YM(t){return Lu(t)==="[object WeakMap]"}YM.working=typeof WeakMap!="undefined"&&YM(new WeakMap);function jZe(t){return typeof WeakMap=="undefined"?!1:YM.working?YM(t):t instanceof WeakMap}mn.isWeakMap=jZe;function ZO(t){return Lu(t)==="[object WeakSet]"}ZO.working=typeof WeakSet!="undefined"&&ZO(new WeakSet);function $Ze(t){return ZO(t)}mn.isWeakSet=$Ze;function XM(t){return Lu(t)==="[object ArrayBuffer]"}XM.working=typeof ArrayBuffer!="undefined"&&XM(new ArrayBuffer);function sX(t){return typeof ArrayBuffer=="undefined"?!1:XM.working?XM(t):t instanceof ArrayBuffer}mn.isArrayBuffer=sX;function QM(t){return Lu(t)==="[object DataView]"}QM.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&QM(new DataView(new ArrayBuffer(1),0,1));function uX(t){return typeof DataView=="undefined"?!1:QM.working?QM(t):t instanceof DataView}mn.isDataView=uX;var KO=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function fx(t){return Lu(t)==="[object SharedArrayBuffer]"}function fX(t){return typeof KO=="undefined"?!1:(typeof fx.working=="undefined"&&(fx.working=fx(new KO)),fx.working?fx(t):t instanceof KO)}mn.isSharedArrayBuffer=fX;function VZe(t){return Lu(t)==="[object AsyncFunction]"}mn.isAsyncFunction=VZe;function WZe(t){return Lu(t)==="[object Map Iterator]"}mn.isMapIterator=WZe;function GZe(t){return Lu(t)==="[object Set Iterator]"}mn.isSetIterator=GZe;function HZe(t){return Lu(t)==="[object Generator]"}mn.isGeneratorObject=HZe;function KZe(t){return Lu(t)==="[object WebAssembly.Module]"}mn.isWebAssemblyCompiledModule=KZe;function lX(t){return lx(t,EZe)}mn.isNumberObject=lX;function cX(t){return lx(t,MZe)}mn.isStringObject=cX;function hX(t){return lx(t,AZe)}mn.isBooleanObject=hX;function pX(t){return nX&&lx(t,aX)}mn.isBigIntObject=pX;function dX(t){return iX&&lx(t,oX)}mn.isSymbolObject=dX;function ZZe(t){return lX(t)||cX(t)||hX(t)||pX(t)||dX(t)}mn.isBoxedPrimitive=ZZe;function JZe(t){return typeof Uint8Array!="undefined"&&(sX(t)||fX(t))}mn.isAnyArrayBuffer=JZe;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(mn,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var gX=Ee((Wer,vX)=>{w();_();vX.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var rc=Ee(vn=>{w();_();var yX=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),n={},a=0;a<r.length;a++)n[r[a]]=Object.getOwnPropertyDescriptor(e,r[a]);return n},YZe=/%[sdj%]/g;vn.format=function(t){if(!oA(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(kp(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,a=n.length,o=String(t).replace(YZe,function(u){if(u==="%%")return"%";if(r>=a)return u;switch(u){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(f){return"[Circular]"}default:return u}}),s=n[r];r<a;s=n[++r])aA(s)||!bg(s)?o+=" "+s:o+=" "+kp(s);return o};vn.deprecate=function(t,e){if(typeof $process!="undefined"&&$process.noDeprecation===!0)return t;if(typeof $process=="undefined")return function(){return vn.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if($process.throwDeprecation)throw new Error(e);$process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n};var eA={},bX=/^$/;$process.env.NODE_DEBUG&&(tA=$process.env.NODE_DEBUG,tA=tA.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),bX=new RegExp("^"+tA+"$","i"));var tA;vn.debuglog=function(t){if(t=t.toUpperCase(),!eA[t])if(bX.test(t)){var e=$process.pid;eA[t]=function(){var r=vn.format.apply(vn,arguments);console.error("%s %d: %s",t,e,r)}}else eA[t]=function(){};return eA[t]};function kp(t,e){var r={seen:[],stylize:QZe};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),QO(e)?r.showHidden=e:e&&vn._extend(r,e),mm(r.showHidden)&&(r.showHidden=!1),mm(r.depth)&&(r.depth=2),mm(r.colors)&&(r.colors=!1),mm(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=XZe),nA(r,t,r.depth)}vn.inspect=kp;kp.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};kp.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function XZe(t,e){var r=kp.styles[e];return r?"\x1B["+kp.colors[r][0]+"m"+t+"\x1B["+kp.colors[r][1]+"m":t}function QZe(t,e){return t}function eJe(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function nA(t,e,r){if(t.customInspect&&e&&rA(e.inspect)&&e.inspect!==vn.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return oA(n)||(n=nA(t,n,r)),n}var a=tJe(t,e);if(a)return a;var o=Object.keys(e),s=eJe(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),hx(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return JO(e);if(o.length===0){if(rA(e)){var u=e.name?": "+e.name:"";return t.stylize("[Function"+u+"]","special")}if(cx(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(iA(e))return t.stylize(Date.prototype.toString.call(e),"date");if(hx(e))return JO(e)}var f="",l=!1,c=["{","}"];if(wX(e)&&(l=!0,c=["[","]"]),rA(e)){var h=e.name?": "+e.name:"";f=" [Function"+h+"]"}if(cx(e)&&(f=" "+RegExp.prototype.toString.call(e)),iA(e)&&(f=" "+Date.prototype.toUTCString.call(e)),hx(e)&&(f=" "+JO(e)),o.length===0&&(!l||e.length==0))return c[0]+f+c[1];if(r<0)return cx(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var m;return l?m=rJe(t,e,r,s,o):m=o.map(function(g){return XO(t,e,r,s,g,l)}),t.seen.pop(),nJe(m,f,c)}function tJe(t,e){if(mm(e))return t.stylize("undefined","undefined");if(oA(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(xX(e))return t.stylize(""+e,"number");if(QO(e))return t.stylize(""+e,"boolean");if(aA(e))return t.stylize("null","null")}function JO(t){return"["+Error.prototype.toString.call(t)+"]"}function rJe(t,e,r,n,a){for(var o=[],s=0,u=e.length;s<u;++s)_X(e,String(s))?o.push(XO(t,e,r,n,String(s),!0)):o.push("");return a.forEach(function(f){f.match(/^\d+$/)||o.push(XO(t,e,r,n,f,!0))}),o}function XO(t,e,r,n,a,o){var s,u,f;if(f=Object.getOwnPropertyDescriptor(e,a)||{value:e[a]},f.get?f.set?u=t.stylize("[Getter/Setter]","special"):u=t.stylize("[Getter]","special"):f.set&&(u=t.stylize("[Setter]","special")),_X(n,a)||(s="["+a+"]"),u||(t.seen.indexOf(f.value)<0?(aA(r)?u=nA(t,f.value,null):u=nA(t,f.value,r-1),u.indexOf(`
`)>-1&&(o?u=u.split(`
`).map(function(l){return"  "+l}).join(`
`).substr(2):u=`
`+u.split(`
`).map(function(l){return"   "+l}).join(`
`))):u=t.stylize("[Circular]","special")),mm(s)){if(o&&a.match(/^\d+$/))return u;s=JSON.stringify(""+a),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+u}function nJe(t,e,r){var n=0,a=t.reduce(function(o,s){return n++,s.indexOf(`
`)>=0&&n++,o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return a>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}vn.types=mX();function wX(t){return Array.isArray(t)}vn.isArray=wX;function QO(t){return typeof t=="boolean"}vn.isBoolean=QO;function aA(t){return t===null}vn.isNull=aA;function iJe(t){return t==null}vn.isNullOrUndefined=iJe;function xX(t){return typeof t=="number"}vn.isNumber=xX;function oA(t){return typeof t=="string"}vn.isString=oA;function aJe(t){return typeof t=="symbol"}vn.isSymbol=aJe;function mm(t){return t===void 0}vn.isUndefined=mm;function cx(t){return bg(t)&&e5(t)==="[object RegExp]"}vn.isRegExp=cx;vn.types.isRegExp=cx;function bg(t){return typeof t=="object"&&t!==null}vn.isObject=bg;function iA(t){return bg(t)&&e5(t)==="[object Date]"}vn.isDate=iA;vn.types.isDate=iA;function hx(t){return bg(t)&&(e5(t)==="[object Error]"||t instanceof Error)}vn.isError=hx;vn.types.isNativeError=hx;function rA(t){return typeof t=="function"}vn.isFunction=rA;function oJe(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t=="undefined"}vn.isPrimitive=oJe;vn.isBuffer=gX();function e5(t){return Object.prototype.toString.call(t)}function YO(t){return t<10?"0"+t.toString(10):t.toString(10)}var sJe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function uJe(){var t=new Date,e=[YO(t.getHours()),YO(t.getMinutes()),YO(t.getSeconds())].join(":");return[t.getDate(),sJe[t.getMonth()],e].join(" ")}vn.log=function(){console.log("%s - %s",uJe(),vn.format.apply(vn,arguments))};vn.inherits=xr();vn._extend=function(t,e){if(!e||!bg(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function _X(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var dm=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;vn.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(dm&&e[dm]){var r=e[dm];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,dm,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,a,o=new Promise(function(f,l){n=f,a=l}),s=[],u=0;u<arguments.length;u++)s.push(arguments[u]);s.push(function(f,l){f?a(f):n(l)});try{e.apply(this,s)}catch(f){a(f)}return o}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),dm&&Object.defineProperty(r,dm,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,yX(e))};vn.promisify.custom=dm;function fJe(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function lJe(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var a=r.pop();if(typeof a!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return a.apply(o,arguments)};t.apply(this,r).then(function(u){$process.nextTick(s.bind(null,null,u))},function(u){$process.nextTick(fJe.bind(null,u,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,yX(t)),e}vn.callbackify=lJe});var AX=Ee((Her,MX)=>{"use strict";w();_();function SX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cJe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SX(Object(r),!0).forEach(function(n){hJe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hJe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dJe(t,e,r){return e&&EX(t.prototype,e),r&&EX(t,r),t}var mJe=Oi(),sA=mJe.Buffer,vJe=rc(),t5=vJe.inspect,gJe=t5&&t5.custom||"inspect";function yJe(t,e,r){sA.prototype.copy.call(t,e,r)}MX.exports=function(){function t(){pJe(this,t),this.head=null,this.tail=null,this.length=0}return dJe(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,a=""+n.data;n=n.next;)a+=r+n.data;return a}},{key:"concat",value:function(r){if(this.length===0)return sA.alloc(0);for(var n=sA.allocUnsafe(r>>>0),a=this.head,o=0;a;)yJe(a.data,n,o),o+=a.data.length,a=a.next;return n}},{key:"consume",value:function(r,n){var a;return r<this.head.data.length?(a=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?a=this.shift():a=n?this._getString(r):this._getBuffer(r),a}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,a=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,u=r>s.length?s.length:r;if(u===s.length?o+=s:o+=s.slice(0,r),r-=u,r===0){u===s.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(u));break}++a}return this.length-=a,o}},{key:"_getBuffer",value:function(r){var n=sA.allocUnsafe(r),a=this.head,o=1;for(a.data.copy(n),r-=a.data.length;a=a.next;){var s=a.data,u=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,u),r-=u,r===0){u===s.length?(++o,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=s.slice(u));break}++o}return this.length-=o,n}},{key:gJe,value:function(r,n){return t5(this,cJe({},n,{depth:0,customInspect:!1}))}}]),t}()});var n5=Ee((Ker,TX)=>{"use strict";w();_();function bJe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,$process.nextTick(r5,this,t)):$process.nextTick(r5,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?$process.nextTick(uA,r):(r._writableState.errorEmitted=!0,$process.nextTick(NX,r,o)):$process.nextTick(NX,r,o):e?($process.nextTick(uA,r),e(o)):$process.nextTick(uA,r)}),this)}function NX(t,e){r5(t,e),uA(t)}function uA(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function wJe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function r5(t,e){t.emit("error",e)}function xJe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}TX.exports={destroy:bJe,undestroy:wJe,errorOrDestroy:xJe}});var vm=Ee((Zer,IX)=>{"use strict";w();_();function _Je(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var kX={};function Pu(t,e,r){r||(r=Error);function n(o,s,u){return typeof e=="string"?e:e(o,s,u)}var a=function(o){_Je(s,o);function s(u,f,l){return o.call(this,n(u,f,l))||this}return s}(r);a.prototype.name=r.name,a.prototype.code=t,kX[t]=a}function DX(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function SJe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function EJe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function MJe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Pu("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Pu("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&SJe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var a;if(EJe(t," argument"))a="The ".concat(t," ").concat(n," ").concat(DX(e,"type"));else{var o=MJe(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(DX(e,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);Pu("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Pu("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Pu("ERR_STREAM_PREMATURE_CLOSE","Premature close");Pu("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Pu("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Pu("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Pu("ERR_STREAM_WRITE_AFTER_END","write after end");Pu("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Pu("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Pu("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");IX.exports.codes=kX});var i5=Ee((Jer,CX)=>{"use strict";w();_();var AJe=vm().codes.ERR_INVALID_OPT_VALUE;function NJe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function TJe(t,e,r,n){var a=NJe(e,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var o=n?r:"highWaterMark";throw new AJe(o,a)}return Math.floor(a)}return t.objectMode?16:16*1024}CX.exports={getHighWaterMark:TJe}});var px=Ee((Yer,OX)=>{w();_();OX.exports=DJe;function DJe(t,e){if(a5("noDeprecation"))return t;var r=!1;function n(){if(!r){if(a5("throwDeprecation"))throw new Error(e);a5("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function a5(t){try{if(!globalThis.localStorage)return!1}catch(r){return!1}var e=globalThis.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var u5=Ee((Xer,qX)=>{"use strict";w();_();qX.exports=Ma;function FX(t){var e=this;this.next=null,this.entry=null,this.finish=function(){rYe(e,t)}}var wg;Ma.WritableState=mx;var kJe={deprecate:px()},BX=yO(),lA=Oi().Buffer,IJe=globalThis.Uint8Array||function(){};function CJe(t){return lA.from(t)}function OJe(t){return lA.isBuffer(t)||t instanceof IJe}var s5=n5(),RJe=i5(),FJe=RJe.getHighWaterMark,Ip=vm().codes,BJe=Ip.ERR_INVALID_ARG_TYPE,LJe=Ip.ERR_METHOD_NOT_IMPLEMENTED,PJe=Ip.ERR_MULTIPLE_CALLBACK,qJe=Ip.ERR_STREAM_CANNOT_PIPE,zJe=Ip.ERR_STREAM_DESTROYED,UJe=Ip.ERR_STREAM_NULL_VALUES,jJe=Ip.ERR_STREAM_WRITE_AFTER_END,$Je=Ip.ERR_UNKNOWN_ENCODING,xg=s5.errorOrDestroy;xr()(Ma,BX);function VJe(){}function mx(t,e,r){wg=wg||gm(),t=t||{},typeof r!="boolean"&&(r=e instanceof wg),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=FJe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){YJe(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new FX(this)}mx.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(mx.prototype,"buffer",{get:kJe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var fA;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(fA=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ma,Symbol.hasInstance,{value:function(e){return fA.call(this,e)?!0:this!==Ma?!1:e&&e._writableState instanceof mx}})):fA=function(e){return e instanceof this};function Ma(t){wg=wg||gm();var e=this instanceof wg;if(!e&&!fA.call(Ma,this))return new Ma(t);this._writableState=new mx(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),BX.call(this)}Ma.prototype.pipe=function(){xg(this,new qJe)};function WJe(t,e){var r=new jJe;xg(t,r),$process.nextTick(e,r)}function GJe(t,e,r,n){var a;return r===null?a=new UJe:typeof r!="string"&&!e.objectMode&&(a=new BJe("chunk",["string","Buffer"],r)),a?(xg(t,a),$process.nextTick(n,a),!1):!0}Ma.prototype.write=function(t,e,r){var n=this._writableState,a=!1,o=!n.objectMode&&OJe(t);return o&&!lA.isBuffer(t)&&(t=CJe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=VJe),n.ending?WJe(this,r):(o||GJe(this,n,t,r))&&(n.pendingcb++,a=KJe(this,n,o,t,e,r)),a};Ma.prototype.cork=function(){this._writableState.corked++};Ma.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&LX(this,t))};Ma.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new $Je(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Ma.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function HJe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=lA.from(e,r)),e}Object.defineProperty(Ma.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function KJe(t,e,r,n,a,o){if(!r){var s=HJe(e,n,a);n!==s&&(r=!0,a="buffer",n=s)}var u=e.objectMode?1:n.length;e.length+=u;var f=e.length<e.highWaterMark;if(f||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else o5(t,e,!1,u,n,a,o);return f}function o5(t,e,r,n,a,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new zJe("write")):r?t._writev(a,e.onwrite):t._write(a,o,e.onwrite),e.sync=!1}function ZJe(t,e,r,n,a){--e.pendingcb,r?($process.nextTick(a,n),$process.nextTick(dx,t,e),t._writableState.errorEmitted=!0,xg(t,n)):(a(n),t._writableState.errorEmitted=!0,xg(t,n),dx(t,e))}function JJe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function YJe(t,e){var r=t._writableState,n=r.sync,a=r.writecb;if(typeof a!="function")throw new PJe;if(JJe(r),e)ZJe(t,r,n,e,a);else{var o=PX(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&LX(t,r),n?$process.nextTick(RX,t,r,o,a):RX(t,r,o,a)}}function RX(t,e,r,n){r||XJe(t,e),e.pendingcb--,n(),dx(t,e)}function XJe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function LX(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,a=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)a[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;a.allBuffers=u,o5(t,e,!0,e.length,a,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new FX(e),e.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,l=r.encoding,c=r.callback,h=e.objectMode?1:f.length;if(o5(t,e,!1,h,f,l,c),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Ma.prototype._write=function(t,e,r){r(new LJe("_write()"))};Ma.prototype._writev=null;Ma.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||tYe(this,n,r),this};Object.defineProperty(Ma.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function PX(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function QJe(t,e){t._final(function(r){e.pendingcb--,r&&xg(t,r),e.prefinished=!0,t.emit("prefinish"),dx(t,e)})}function eYe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,$process.nextTick(QJe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function dx(t,e){var r=PX(e);if(r&&(eYe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function tYe(t,e,r){e.ending=!0,dx(t,e),r&&(e.finished?$process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function rYe(t,e,r){var n=t.entry;for(t.entry=null;n;){var a=n.callback;e.pendingcb--,a(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Ma.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});Ma.prototype.destroy=s5.destroy;Ma.prototype._undestroy=s5.undestroy;Ma.prototype._destroy=function(t,e){e(t)}});var gm=Ee((Qer,UX)=>{"use strict";w();_();var nYe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};UX.exports=nc;var zX=c5(),l5=u5();xr()(nc,zX);for(f5=nYe(l5.prototype),cA=0;cA<f5.length;cA++)hA=f5[cA],nc.prototype[hA]||(nc.prototype[hA]=l5.prototype[hA]);var f5,hA,cA;function nc(t){if(!(this instanceof nc))return new nc(t);zX.call(this,t),l5.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",iYe)))}Object.defineProperty(nc.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(nc.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(nc.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function iYe(){this._writableState.ended||$process.nextTick(aYe,this)}function aYe(t){t.end()}Object.defineProperty(nc.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var VX=Ee((h5,$X)=>{w();_();var pA=Oi(),ic=pA.Buffer;function jX(t,e){for(var r in t)e[r]=t[r]}ic.from&&ic.alloc&&ic.allocUnsafe&&ic.allocUnsafeSlow?$X.exports=pA:(jX(pA,h5),h5.Buffer=ym);function ym(t,e,r){return ic(t,e,r)}ym.prototype=Object.create(ic.prototype);jX(ic,ym);ym.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ic(t,e,r)};ym.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=ic(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};ym.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ic(t)};ym.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return pA.SlowBuffer(t)}});var ac=Ee(GX=>{"use strict";w();_();var d5=VX().Buffer,WX=d5.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function oYe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function sYe(t){var e=oYe(t);if(typeof e!="string"&&(d5.isEncoding===WX||!WX(t)))throw new Error("Unknown encoding: "+t);return e||t}GX.StringDecoder=vx;function vx(t){this.encoding=sYe(t);var e;switch(this.encoding){case"utf16le":this.text=pYe,this.end=dYe,e=4;break;case"utf8":this.fillLast=lYe,e=4;break;case"base64":this.text=mYe,this.end=vYe,e=3;break;default:this.write=gYe,this.end=yYe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=d5.allocUnsafe(e)}vx.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};vx.prototype.end=hYe;vx.prototype.text=cYe;vx.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function p5(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function uYe(t,e,r){var n=e.length-1;if(n<r)return 0;var a=p5(e[n]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--n<r||a===-2?0:(a=p5(e[n]),a>=0?(a>0&&(t.lastNeed=a-2),a):--n<r||a===-2?0:(a=p5(e[n]),a>=0?(a>0&&(a===2?a=0:t.lastNeed=a-3),a):0))}function fYe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function lYe(t){var e=this.lastTotal-this.lastNeed,r=fYe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function cYe(t,e){var r=uYe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function hYe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function pYe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function dYe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function mYe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function vYe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function gYe(t){return t.toString(this.encoding)}function yYe(t){return t&&t.length?this.write(t):""}});var dA=Ee((ttr,ZX)=>{"use strict";w();_();var HX=vm().codes.ERR_STREAM_PREMATURE_CLOSE;function bYe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];t.apply(this,n)}}}function wYe(){}function xYe(t){return t.setHeader&&typeof t.abort=="function"}function KX(t,e,r){if(typeof e=="function")return KX(t,null,e);e||(e={}),r=bYe(r||wYe);var n=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||u()},s=t._writableState&&t._writableState.finished,u=function(){a=!1,s=!0,n||r.call(t)},f=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,f=!0,a||r.call(t)},c=function(b){r.call(t,b)},h=function(){var b;if(n&&!f)return(!t._readableState||!t._readableState.ended)&&(b=new HX),r.call(t,b);if(a&&!s)return(!t._writableState||!t._writableState.ended)&&(b=new HX),r.call(t,b)},m=function(){t.req.on("finish",u)};return xYe(t)?(t.on("complete",u),t.on("abort",h),t.req?m():t.on("request",m)):a&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",l),t.on("finish",u),e.error!==!1&&t.on("error",c),t.on("close",h),function(){t.removeListener("complete",u),t.removeListener("abort",h),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",u),t.removeListener("end",l),t.removeListener("error",c),t.removeListener("close",h)}}ZX.exports=KX});var YX=Ee((rtr,JX)=>{"use strict";w();_();var mA;function Cp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _Ye=dA(),Op=Symbol("lastResolve"),bm=Symbol("lastReject"),gx=Symbol("error"),vA=Symbol("ended"),wm=Symbol("lastPromise"),m5=Symbol("handlePromise"),xm=Symbol("stream");function Rp(t,e){return{value:t,done:e}}function SYe(t){var e=t[Op];if(e!==null){var r=t[xm].read();r!==null&&(t[wm]=null,t[Op]=null,t[bm]=null,e(Rp(r,!1)))}}function EYe(t){$process.nextTick(SYe,t)}function MYe(t,e){return function(r,n){t.then(function(){if(e[vA]){r(Rp(void 0,!0));return}e[m5](r,n)},n)}}var AYe=Object.getPrototypeOf(function(){}),NYe=Object.setPrototypeOf((mA={get stream(){return this[xm]},next:function(){var e=this,r=this[gx];if(r!==null)return Promise.reject(r);if(this[vA])return Promise.resolve(Rp(void 0,!0));if(this[xm].destroyed)return new Promise(function(s,u){$process.nextTick(function(){e[gx]?u(e[gx]):s(Rp(void 0,!0))})});var n=this[wm],a;if(n)a=new Promise(MYe(n,this));else{var o=this[xm].read();if(o!==null)return Promise.resolve(Rp(o,!1));a=new Promise(this[m5])}return this[wm]=a,a}},Cp(mA,Symbol.asyncIterator,function(){return this}),Cp(mA,"return",function(){var e=this;return new Promise(function(r,n){e[xm].destroy(null,function(a){if(a){n(a);return}r(Rp(void 0,!0))})})}),mA),AYe),TYe=function(e){var r,n=Object.create(NYe,(r={},Cp(r,xm,{value:e,writable:!0}),Cp(r,Op,{value:null,writable:!0}),Cp(r,bm,{value:null,writable:!0}),Cp(r,gx,{value:null,writable:!0}),Cp(r,vA,{value:e._readableState.endEmitted,writable:!0}),Cp(r,m5,{value:function(o,s){var u=n[xm].read();u?(n[wm]=null,n[Op]=null,n[bm]=null,o(Rp(u,!1))):(n[Op]=o,n[bm]=s)},writable:!0}),r));return n[wm]=null,_Ye(e,function(a){if(a&&a.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[bm];o!==null&&(n[wm]=null,n[Op]=null,n[bm]=null,o(a)),n[gx]=a;return}var s=n[Op];s!==null&&(n[wm]=null,n[Op]=null,n[bm]=null,s(Rp(void 0,!0))),n[vA]=!0}),e.on("readable",EYe.bind(null,n)),n};JX.exports=TYe});var QX=Ee((ntr,XX)=>{w();_();XX.exports=function(){throw new Error("Readable.from is not available in the browser")}});var c5=Ee((atr,fQ)=>{"use strict";w();_();fQ.exports=Pn;var _g;Pn.ReadableState=nQ;var itr=Fu().EventEmitter,rQ=function(e,r){return e.listeners(r).length},bx=yO(),gA=Oi().Buffer,DYe=globalThis.Uint8Array||function(){};function kYe(t){return gA.from(t)}function IYe(t){return gA.isBuffer(t)||t instanceof DYe}var v5=rc(),sn;v5&&v5.debuglog?sn=v5.debuglog("stream"):sn=function(){};var CYe=AX(),S5=n5(),OYe=i5(),RYe=OYe.getHighWaterMark,yA=vm().codes,FYe=yA.ERR_INVALID_ARG_TYPE,BYe=yA.ERR_STREAM_PUSH_AFTER_EOF,LYe=yA.ERR_METHOD_NOT_IMPLEMENTED,PYe=yA.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Sg,g5,y5;xr()(Pn,bx);var yx=S5.errorOrDestroy,b5=["error","close","destroy","pause","resume"];function qYe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function nQ(t,e,r){_g=_g||gm(),t=t||{},typeof r!="boolean"&&(r=e instanceof _g),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=RYe(this,t,"readableHighWaterMark",r),this.buffer=new CYe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Sg||(Sg=ac().StringDecoder),this.decoder=new Sg(t.encoding),this.encoding=t.encoding)}function Pn(t){if(_g=_g||gm(),!(this instanceof Pn))return new Pn(t);var e=this instanceof _g;this._readableState=new nQ(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),bx.call(this)}Object.defineProperty(Pn.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});Pn.prototype.destroy=S5.destroy;Pn.prototype._undestroy=S5.undestroy;Pn.prototype._destroy=function(t,e){e(t)};Pn.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=gA.from(t,e),e=""),n=!0),iQ(this,t,e,!1,n)};Pn.prototype.unshift=function(t){return iQ(this,t,null,!0,!1)};function iQ(t,e,r,n,a){sn("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,jYe(t,o);else{var s;if(a||(s=zYe(o,e)),s)yx(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==gA.prototype&&(e=kYe(e)),n)o.endEmitted?yx(t,new PYe):w5(t,o,e,!0);else if(o.ended)yx(t,new BYe);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?w5(t,o,e,!1):_5(t,o)):w5(t,o,e,!1)}else n||(o.reading=!1,_5(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function w5(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&bA(t)),_5(t,e)}function zYe(t,e){var r;return!IYe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new FYe("chunk",["string","Buffer","Uint8Array"],e)),r}Pn.prototype.isPaused=function(){return this._readableState.flowing===!1};Pn.prototype.setEncoding=function(t){Sg||(Sg=ac().StringDecoder);var e=new Sg(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var eQ=1073741824;function UYe(t){return t>=eQ?t=eQ:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function tQ(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=UYe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Pn.prototype.read=function(t){sn("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return sn("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?x5(this):bA(this),null;if(t=tQ(t,e),t===0&&e.ended)return e.length===0&&x5(this),null;var n=e.needReadable;sn("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,sn("length less than watermark",n)),e.ended||e.reading?(n=!1,sn("reading or ended",n)):n&&(sn("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=tQ(r,e)));var a;return t>0?a=sQ(t,e):a=null,a===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&x5(this)),a!==null&&this.emit("data",a),a};function jYe(t,e){if(sn("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?bA(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,aQ(t)))}}function bA(t){var e=t._readableState;sn("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(sn("emitReadable",e.flowing),e.emittedReadable=!0,$process.nextTick(aQ,t))}function aQ(t){var e=t._readableState;sn("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,E5(t)}function _5(t,e){e.readingMore||(e.readingMore=!0,$process.nextTick($Ye,t,e))}function $Ye(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(sn("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Pn.prototype._read=function(t){yx(this,new LYe("_read()"))};Pn.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,sn("pipe count=%d opts=%j",n.pipesCount,e);var a=(!e||e.end!==!1)&&t!==$process.stdout&&t!==$process.stderr,o=a?u:A;n.endEmitted?$process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(I,C){sn("onunpipe"),I===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,c())}function u(){sn("onend"),t.end()}var f=VYe(r);t.on("drain",f);var l=!1;function c(){sn("cleanup"),t.removeListener("close",g),t.removeListener("finish",b),t.removeListener("drain",f),t.removeListener("error",m),t.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",A),r.removeListener("data",h),l=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&f()}r.on("data",h);function h(I){sn("ondata");var C=t.write(I);sn("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&uQ(n.pipes,t)!==-1)&&!l&&(sn("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function m(I){sn("onerror",I),A(),t.removeListener("error",m),rQ(t,"error")===0&&yx(t,I)}qYe(t,"error",m);function g(){t.removeListener("finish",b),A()}t.once("close",g);function b(){sn("onfinish"),t.removeListener("close",g),A()}t.once("finish",b);function A(){sn("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(sn("pipe resume"),r.resume()),t};function VYe(t){return function(){var r=t._readableState;sn("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&rQ(t,"data")&&(r.flowing=!0,E5(t))}}Pn.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,a=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<a;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=uQ(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Pn.prototype.on=function(t,e){var r=bx.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,sn("on readable",n.length,n.reading),n.length?bA(this):n.reading||$process.nextTick(WYe,this)),r};Pn.prototype.addListener=Pn.prototype.on;Pn.prototype.removeListener=function(t,e){var r=bx.prototype.removeListener.call(this,t,e);return t==="readable"&&$process.nextTick(oQ,this),r};Pn.prototype.removeAllListeners=function(t){var e=bx.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&$process.nextTick(oQ,this),e};function oQ(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function WYe(t){sn("readable nexttick read 0"),t.read(0)}Pn.prototype.resume=function(){var t=this._readableState;return t.flowing||(sn("resume"),t.flowing=!t.readableListening,GYe(this,t)),t.paused=!1,this};function GYe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,$process.nextTick(HYe,t,e))}function HYe(t,e){sn("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),E5(t),e.flowing&&!e.reading&&t.read(0)}Pn.prototype.pause=function(){return sn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(sn("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function E5(t){var e=t._readableState;for(sn("flow",e.flowing);e.flowing&&t.read()!==null;);}Pn.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(sn("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(sn("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var u=e.push(s);u||(n=!0,t.pause())}});for(var a in t)this[a]===void 0&&typeof t[a]=="function"&&(this[a]=function(u){return function(){return t[u].apply(t,arguments)}}(a));for(var o=0;o<b5.length;o++)t.on(b5[o],this.emit.bind(this,b5[o]));return this._read=function(s){sn("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Pn.prototype[Symbol.asyncIterator]=function(){return g5===void 0&&(g5=YX()),g5(this)});Object.defineProperty(Pn.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Pn.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Pn.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Pn._fromList=sQ;Object.defineProperty(Pn.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function sQ(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function x5(t){var e=t._readableState;sn("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,$process.nextTick(KYe,e,t))}function KYe(t,e){if(sn("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Pn.from=function(t,e){return y5===void 0&&(y5=QX()),y5(Pn,t,e)});function uQ(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var M5=Ee((otr,cQ)=>{"use strict";w();_();cQ.exports=nh;var wA=vm().codes,ZYe=wA.ERR_METHOD_NOT_IMPLEMENTED,JYe=wA.ERR_MULTIPLE_CALLBACK,YYe=wA.ERR_TRANSFORM_ALREADY_TRANSFORMING,XYe=wA.ERR_TRANSFORM_WITH_LENGTH_0,xA=gm();xr()(nh,xA);function QYe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new JYe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function nh(t){if(!(this instanceof nh))return new nh(t);xA.call(this,t),this._transformState={afterTransform:QYe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",eXe)}function eXe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){lQ(t,e,r)}):lQ(this,null,null)}nh.prototype.push=function(t,e){return this._transformState.needTransform=!1,xA.prototype.push.call(this,t,e)};nh.prototype._transform=function(t,e,r){r(new ZYe("_transform()"))};nh.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};nh.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};nh.prototype._destroy=function(t,e){xA.prototype._destroy.call(this,t,function(r){e(r)})};function lQ(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new XYe;if(t._transformState.transforming)throw new YYe;return t.push(null)}});var dQ=Ee((str,pQ)=>{"use strict";w();_();pQ.exports=wx;var hQ=M5();xr()(wx,hQ);function wx(t){if(!(this instanceof wx))return new wx(t);hQ.call(this,t)}wx.prototype._transform=function(t,e,r){r(null,t)}});var bQ=Ee((utr,yQ)=>{"use strict";w();_();var A5;function tXe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var gQ=vm().codes,rXe=gQ.ERR_MISSING_ARGS,nXe=gQ.ERR_STREAM_DESTROYED;function mQ(t){if(t)throw t}function iXe(t){return t.setHeader&&typeof t.abort=="function"}function aXe(t,e,r,n){n=tXe(n);var a=!1;t.on("close",function(){a=!0}),A5===void 0&&(A5=dA()),A5(t,{readable:e,writable:r},function(s){if(s)return n(s);a=!0,n()});var o=!1;return function(s){if(!a&&!o){if(o=!0,iXe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new nXe("pipe"))}}}function vQ(t){t()}function oXe(t,e){return t.pipe(e)}function sXe(t){return!t.length||typeof t[t.length-1]!="function"?mQ:t.pop()}function uXe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=sXe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new rXe("streams");var a,o=e.map(function(s,u){var f=u<e.length-1,l=u>0;return aXe(s,f,l,function(c){a||(a=c),c&&o.forEach(vQ),!f&&(o.forEach(vQ),n(a))})});return e.reduce(oXe)}yQ.exports=uXe});var N5=Ee((qu,wQ)=>{w();_();qu=wQ.exports=c5();qu.Stream=qu;qu.Readable=qu;qu.Writable=u5();qu.Duplex=gm();qu.Transform=M5();qu.PassThrough=dQ();qu.finished=dA();qu.pipeline=bQ()});var k5=Ee(D5=>{w();_();var xQ=mO(),fXe=xr(),_Q=N5(),_A=D5.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},T5=D5.IncomingMessage=function(t,e,r,n){var a=this;if(_Q.Readable.call(a),a._mode=r,a.headers={},a.rawHeaders=[],a.trailers={},a.rawTrailers=[],a.on("end",function(){$process.nextTick(function(){a.emit("close")})}),r==="fetch"){let h=function(){s.read().then(function(m){if(!a._destroyed){if(n(m.done),m.done){a.push(null);return}a.push($Buffer.from(m.value)),h()}}).catch(function(m){n(!0),a._destroyed||a.emit("error",m)})};var c=h;if(a._fetchResponse=e,a.url=e.url,a.statusCode=e.status,a.statusMessage=e.statusText,e.headers.forEach(function(m,g){a.headers[g.toLowerCase()]=m,a.rawHeaders.push(g,m)}),xQ.writableStream){var o=new WritableStream({write:function(m){return n(!1),new Promise(function(g,b){a._destroyed?b():a.push($Buffer.from(m))?g():a._resumeFetch=g})},close:function(){n(!0),a._destroyed||a.push(null)},abort:function(m){n(!0),a._destroyed||a.emit("error",m)}});try{e.body.pipeTo(o).catch(function(m){n(!0),a._destroyed||a.emit("error",m)});return}catch(m){}}var s=e.body.getReader();h()}else{a._xhr=t,a._pos=0,a.url=t.responseURL,a.statusCode=t.status,a.statusMessage=t.statusText;var u=t.getAllResponseHeaders().split(/\r?\n/);if(u.forEach(function(h){var m=h.match(/^([^:]+):\s*(.*)/);if(m){var g=m[1].toLowerCase();g==="set-cookie"?(a.headers[g]===void 0&&(a.headers[g]=[]),a.headers[g].push(m[2])):a.headers[g]!==void 0?a.headers[g]+=", "+m[2]:a.headers[g]=m[2],a.rawHeaders.push(m[1],m[2])}}),a._charset="x-user-defined",!xQ.overrideMimeType){var f=a.rawHeaders["mime-type"];if(f){var l=f.match(/;\s*charset=([^;])(;|$)/);l&&(a._charset=l[1].toLowerCase())}a._charset||(a._charset="utf-8")}}};fXe(T5,_Q.Readable);T5.prototype._read=function(){var t=this,e=t._resumeFetch;e&&(t._resumeFetch=null,e())};T5.prototype._onXHRProgress=function(t){var e=this,r=e._xhr,n=null;switch(e._mode){case"text":if(n=r.responseText,n.length>e._pos){var a=n.substr(e._pos);if(e._charset==="x-user-defined"){for(var o=$Buffer.alloc(a.length),s=0;s<a.length;s++)o[s]=a.charCodeAt(s)&255;e.push(o)}else e.push(a,e._charset);e._pos=n.length}break;case"arraybuffer":if(r.readyState!==_A.DONE||!r.response)break;n=r.response,e.push($Buffer.from(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=r.response,r.readyState!==_A.LOADING||!n)break;e.push($Buffer.from(new Uint8Array(n)));break;case"ms-stream":if(n=r.response,r.readyState!==_A.LOADING)break;var u=new globalThis.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push($Buffer.from(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){t(!0),e.push(null)},u.readAsArrayBuffer(n);break}e._xhr.readyState===_A.DONE&&e._mode!=="ms-stream"&&(t(!0),e.push(null))}});var AQ=Ee((ltr,MQ)=>{w();_();var _m=mO(),lXe=xr(),EQ=k5(),I5=N5(),cXe=EQ.IncomingMessage,SQ=EQ.readyStates;function hXe(t,e){return _m.fetch&&e?"fetch":_m.mozchunkedarraybuffer?"moz-chunked-arraybuffer":_m.msstream?"ms-stream":_m.arraybuffer&&t?"arraybuffer":"text"}var Wo=MQ.exports=function(t){var e=this;I5.Writable.call(e),e._opts=t,e._body=[],e._headers={},t.auth&&e.setHeader("Authorization","Basic "+$Buffer.from(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(a){e.setHeader(a,t.headers[a])});var r,n=!0;if(t.mode==="disable-fetch"||"requestTimeout"in t&&!_m.abortController)n=!1,r=!0;else if(t.mode==="prefer-streaming")r=!1;else if(t.mode==="allow-wrong-content-type")r=!_m.overrideMimeType;else if(!t.mode||t.mode==="default"||t.mode==="prefer-fast")r=!0;else throw new Error("Invalid value for opts.mode");e._mode=hXe(r,n),e._fetchTimer=null,e._socketTimeout=null,e._socketTimer=null,e.on("finish",function(){e._onFinish()})};lXe(Wo,I5.Writable);Wo.prototype.setHeader=function(t,e){var r=this,n=t.toLowerCase();dXe.indexOf(n)===-1&&(r._headers[n]={name:t,value:e})};Wo.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null};Wo.prototype.removeHeader=function(t){var e=this;delete e._headers[t.toLowerCase()]};Wo.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e=t._opts;"timeout"in e&&e.timeout!==0&&t.setTimeout(e.timeout);var r=t._headers,n=null;e.method!=="GET"&&e.method!=="HEAD"&&(n=new Blob(t._body,{type:(r["content-type"]||{}).value||""}));var a=[];if(Object.keys(r).forEach(function(f){var l=r[f].name,c=r[f].value;Array.isArray(c)?c.forEach(function(h){a.push([l,h])}):a.push([l,c])}),t._mode==="fetch"){var o=null;if(_m.abortController){var s=new AbortController;o=s.signal,t._fetchAbortController=s,"requestTimeout"in e&&e.requestTimeout!==0&&(t._fetchTimer=globalThis.setTimeout(function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()},e.requestTimeout))}globalThis.fetch(t._opts.url,{method:t._opts.method,headers:a,body:n||void 0,mode:"cors",credentials:e.withCredentials?"include":"same-origin",signal:o}).then(function(f){t._fetchResponse=f,t._resetTimers(!1),t._connect()},function(f){t._resetTimers(!0),t._destroyed||t.emit("error",f)})}else{var u=t._xhr=new globalThis.XMLHttpRequest;try{u.open(t._opts.method,t._opts.url,!0)}catch(f){$process.nextTick(function(){t.emit("error",f)});return}"responseType"in u&&(u.responseType=t._mode),"withCredentials"in u&&(u.withCredentials=!!e.withCredentials),t._mode==="text"&&"overrideMimeType"in u&&u.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in e&&(u.timeout=e.requestTimeout,u.ontimeout=function(){t.emit("requestTimeout")}),a.forEach(function(f){u.setRequestHeader(f[0],f[1])}),t._response=null,u.onreadystatechange=function(){switch(u.readyState){case SQ.LOADING:case SQ.DONE:t._onXHRProgress();break}},t._mode==="moz-chunked-arraybuffer"&&(u.onprogress=function(){t._onXHRProgress()}),u.onerror=function(){t._destroyed||(t._resetTimers(!0),t.emit("error",new Error("XHR error")))};try{u.send(n)}catch(f){$process.nextTick(function(){t.emit("error",f)});return}}}};function pXe(t){try{var e=t.status;return e!==null&&e!==0}catch(r){return!1}}Wo.prototype._onXHRProgress=function(){var t=this;t._resetTimers(!1),!(!pXe(t._xhr)||t._destroyed)&&(t._response||t._connect(),t._response._onXHRProgress(t._resetTimers.bind(t)))};Wo.prototype._connect=function(){var t=this;t._destroyed||(t._response=new cXe(t._xhr,t._fetchResponse,t._mode,t._resetTimers.bind(t)),t._response.on("error",function(e){t.emit("error",e)}),t.emit("response",t._response))};Wo.prototype._write=function(t,e,r){var n=this;n._body.push(t),r()};Wo.prototype._resetTimers=function(t){var e=this;globalThis.clearTimeout(e._socketTimer),e._socketTimer=null,t?(globalThis.clearTimeout(e._fetchTimer),e._fetchTimer=null):e._socketTimeout&&(e._socketTimer=globalThis.setTimeout(function(){e.emit("timeout")},e._socketTimeout))};Wo.prototype.abort=Wo.prototype.destroy=function(t){var e=this;e._destroyed=!0,e._resetTimers(!0),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort(),t&&e.emit("error",t)};Wo.prototype.end=function(t,e,r){var n=this;typeof t=="function"&&(r=t,t=void 0),I5.Writable.prototype.end.call(n,t,e,r)};Wo.prototype.setTimeout=function(t,e){var r=this;e&&r.once("timeout",e),r._socketTimeout=t,r._resetTimers(!1)};Wo.prototype.flushHeaders=function(){};Wo.prototype.setNoDelay=function(){};Wo.prototype.setSocketKeepAlive=function(){};var dXe=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]});var TQ=Ee((ctr,NQ)=>{w();_();NQ.exports=vXe;var mXe=Object.prototype.hasOwnProperty;function vXe(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)mXe.call(r,n)&&(t[n]=r[n])}return t}});var kQ=Ee((htr,DQ)=>{w();_();DQ.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}});var qQ=Ee((ptr,PQ)=>{"use strict";w();_();var CQ="-",gXe=/^xn--/,yXe=/[^\0-\x7E]/,bXe=/[\x2E\u3002\uFF0E\uFF61]/g,wXe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C5=36-1,oc=Math.floor,O5=String.fromCharCode;function Sm(t){throw new RangeError(wXe[t])}function xXe(t,e){let r=[],n=t.length;for(;n--;)r[n]=e(t[n]);return r}function OQ(t,e){let r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(bXe,".");let a=t.split("."),o=xXe(a,e).join(".");return n+o}function RQ(t){let e=[],r=0,n=t.length;for(;r<n;){let a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){let o=t.charCodeAt(r++);(o&64512)==56320?e.push(((a&1023)<<10)+(o&1023)+65536):(e.push(a),r--)}else e.push(a)}return e}var _Xe=t=>String.fromCodePoint(...t),SXe=function(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36},IQ=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},FQ=function(t,e,r){let n=0;for(t=r?oc(t/700):t>>1,t+=oc(t/e);t>C5*26>>1;n+=36)t=oc(t/C5);return oc(n+(C5+1)*t/(t+38))},BQ=function(t){let e=[],r=t.length,n=0,a=128,o=72,s=t.lastIndexOf(CQ);s<0&&(s=0);for(let u=0;u<s;++u)t.charCodeAt(u)>=128&&Sm("not-basic"),e.push(t.charCodeAt(u));for(let u=s>0?s+1:0;u<r;){let f=n;for(let c=1,h=36;;h+=36){u>=r&&Sm("invalid-input");let m=SXe(t.charCodeAt(u++));(m>=36||m>oc((2147483647-n)/c))&&Sm("overflow"),n+=m*c;let g=h<=o?1:h>=o+26?26:h-o;if(m<g)break;let b=36-g;c>oc(2147483647/b)&&Sm("overflow"),c*=b}let l=e.length+1;o=FQ(n-f,l,f==0),oc(n/l)>2147483647-a&&Sm("overflow"),a+=oc(n/l),n%=l,e.splice(n++,0,a)}return String.fromCodePoint(...e)},LQ=function(t){let e=[];t=RQ(t);let r=t.length,n=128,a=0,o=72;for(let f of t)f<128&&e.push(O5(f));let s=e.length,u=s;for(s&&e.push(CQ);u<r;){let f=2147483647;for(let c of t)c>=n&&c<f&&(f=c);let l=u+1;f-n>oc((2147483647-a)/l)&&Sm("overflow"),a+=(f-n)*l,n=f;for(let c of t)if(c<n&&++a>2147483647&&Sm("overflow"),c==n){let h=a;for(let m=36;;m+=36){let g=m<=o?1:m>=o+26?26:m-o;if(h<g)break;let b=h-g,A=36-g;e.push(O5(IQ(g+b%A,0))),h=oc(b/A)}e.push(O5(IQ(h,0))),o=FQ(a,l,u==s),a=0,++u}++a,++n}return e.join("")},EXe=function(t){return OQ(t,function(e){return gXe.test(e)?BQ(e.slice(4).toLowerCase()):e})},MXe=function(t){return OQ(t,function(e){return yXe.test(e)?"xn--"+LQ(e):e})},AXe={version:"2.1.0",ucs2:{decode:RQ,encode:_Xe},decode:BQ,encode:LQ,toASCII:MXe,toUnicode:EXe};PQ.exports=AXe});var UQ=Ee((dtr,zQ)=>{"use strict";w();_();zQ.exports={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}}});var $Q=Ee((mtr,jQ)=>{"use strict";w();_();function NXe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}jQ.exports=function(t,e,r,n){e=e||"&",r=r||"=";var a={};if(typeof t!="string"||t.length===0)return a;var o=/\+/g;t=t.split(e);var s=1e3;n&&typeof n.maxKeys=="number"&&(s=n.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var f=0;f<u;++f){var l=t[f].replace(o,"%20"),c=l.indexOf(r),h,m,g,b;c>=0?(h=l.substr(0,c),m=l.substr(c+1)):(h=l,m=""),g=decodeURIComponent(h),b=decodeURIComponent(m),NXe(a,g)?TXe(a[g])?a[g].push(b):a[g]=[a[g],b]:a[g]=b}return a};var TXe=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var GQ=Ee((vtr,WQ)=>{"use strict";w();_();var xx=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};WQ.exports=function(t,e,r,n){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?VQ(kXe(t),function(a){var o=encodeURIComponent(xx(a))+r;return DXe(t[a])?VQ(t[a],function(s){return o+encodeURIComponent(xx(s))}).join(e):o+encodeURIComponent(xx(t[a]))}).join(e):n?encodeURIComponent(xx(n))+r+encodeURIComponent(xx(t)):""};var DXe=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function VQ(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var kXe=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}});var HQ=Ee(_x=>{"use strict";w();_();_x.decode=_x.parse=$Q();_x.encode=_x.stringify=GQ()});var L5=Ee(Mg=>{"use strict";w();_();var IXe=qQ(),sc=UQ();Mg.parse=Sx;Mg.resolve=UXe;Mg.resolveObject=jXe;Mg.format=zXe;Mg.Url=zu;function zu(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var CXe=/^([a-z0-9.+-]+:)/i,OXe=/:[0-9]*$/,RXe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,FXe=["<",">",'"',"`"," ","\r",`
`,"	"],BXe=["{","}","|","\\","^","`"].concat(FXe),R5=["'"].concat(BXe),KQ=["%","/","?",";","#"].concat(R5),ZQ=["/","?","#"],LXe=255,JQ=/^[+a-z0-9A-Z_-]{0,63}$/,PXe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,qXe={javascript:!0,"javascript:":!0},F5={javascript:!0,"javascript:":!0},Eg={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},B5=HQ();function Sx(t,e,r){if(t&&sc.isObject(t)&&t instanceof zu)return t;var n=new zu;return n.parse(t,e,r),n}zu.prototype.parse=function(t,e,r){if(!sc.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),a=n!==-1&&n<t.indexOf("#")?"?":"#",o=t.split(a),s=/\\/g;o[0]=o[0].replace(s,"/"),t=o.join(a);var u=t;if(u=u.trim(),!r&&t.split("#").length===1){var f=RXe.exec(u);if(f)return this.path=u,this.href=u,this.pathname=f[1],f[2]?(this.search=f[2],e?this.query=B5.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=CXe.exec(u);if(l){l=l[0];var c=l.toLowerCase();this.protocol=c,u=u.substr(l.length)}if(r||l||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=u.substr(0,2)==="//";h&&!(l&&F5[l])&&(u=u.substr(2),this.slashes=!0)}if(!F5[l]&&(h||l&&!Eg[l])){for(var m=-1,g=0;g<ZQ.length;g++){var b=u.indexOf(ZQ[g]);b!==-1&&(m===-1||b<m)&&(m=b)}var A,I;m===-1?I=u.lastIndexOf("@"):I=u.lastIndexOf("@",m),I!==-1&&(A=u.slice(0,I),u=u.slice(I+1),this.auth=decodeURIComponent(A)),m=-1;for(var g=0;g<KQ.length;g++){var b=u.indexOf(KQ[g]);b!==-1&&(m===-1||b<m)&&(m=b)}m===-1&&(m=u.length),this.host=u.slice(0,m),u=u.slice(m),this.parseHost(),this.hostname=this.hostname||"";var C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C)for(var R=this.hostname.split(/\./),g=0,O=R.length;g<O;g++){var F=R[g];if(!!F&&!F.match(JQ)){for(var z="",B=0,$=F.length;B<$;B++)F.charCodeAt(B)>127?z+="x":z+=F[B];if(!z.match(JQ)){var j=R.slice(0,g),W=R.slice(g+1),T=F.match(PXe);T&&(j.push(T[1]),W.unshift(T[2])),W.length&&(u="/"+W.join(".")+u),this.hostname=j.join(".");break}}}this.hostname.length>LXe?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=IXe.toASCII(this.hostname));var p=this.port?":"+this.port:"",v=this.hostname||"";this.host=v+p,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!qXe[c])for(var g=0,O=R5.length;g<O;g++){var S=R5[g];if(u.indexOf(S)!==-1){var y=encodeURIComponent(S);y===S&&(y=escape(S)),u=u.split(S).join(y)}}var M=u.indexOf("#");M!==-1&&(this.hash=u.substr(M),u=u.slice(0,M));var D=u.indexOf("?");if(D!==-1?(this.search=u.substr(D),this.query=u.substr(D+1),e&&(this.query=B5.parse(this.query)),u=u.slice(0,D)):e&&(this.search="",this.query={}),u&&(this.pathname=u),Eg[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var p=this.pathname||"",k=this.search||"";this.path=p+k}return this.href=this.format(),this};function zXe(t){return sc.isString(t)&&(t=Sx(t)),t instanceof zu?t.format():zu.prototype.format.call(t)}zu.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,o="";this.host?a=t+this.host:this.hostname&&(a=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&sc.isObject(this.query)&&Object.keys(this.query).length&&(o=B5.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Eg[e])&&a!==!1?(a="//"+(a||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):a||(a=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),r=r.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),s=s.replace("#","%23"),e+a+r+s+n};function UXe(t,e){return Sx(t,!1,!0).resolve(e)}zu.prototype.resolve=function(t){return this.resolveObject(Sx(t,!1,!0)).format()};function jXe(t,e){return t?Sx(t,!1,!0).resolveObject(e):e}zu.prototype.resolveObject=function(t){if(sc.isString(t)){var e=new zu;e.parse(t,!1,!0),t=e}for(var r=new zu,n=Object.keys(this),a=0;a<n.length;a++){var o=n[a];r[o]=this[o]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),u=0;u<s.length;u++){var f=s[u];f!=="protocol"&&(r[f]=t[f])}return Eg[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Eg[t.protocol]){for(var l=Object.keys(t),c=0;c<l.length;c++){var h=l[c];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!F5[t.protocol]){for(var O=(t.pathname||"").split("/");O.length&&!(t.host=O.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),O[0]!==""&&O.unshift(""),O.length<2&&O.unshift(""),r.pathname=O.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&r.pathname.charAt(0)==="/",A=t.host||t.pathname&&t.pathname.charAt(0)==="/",I=A||b||r.host&&t.pathname,C=I,R=r.pathname&&r.pathname.split("/")||[],O=t.pathname&&t.pathname.split("/")||[],F=r.protocol&&!Eg[r.protocol];if(F&&(r.hostname="",r.port=null,r.host&&(R[0]===""?R[0]=r.host:R.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(O[0]===""?O[0]=t.host:O.unshift(t.host)),t.host=null),I=I&&(O[0]===""||R[0]==="")),A)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,R=O;else if(O.length)R||(R=[]),R.pop(),R=R.concat(O),r.search=t.search,r.query=t.query;else if(!sc.isNullOrUndefined(t.search)){if(F){r.hostname=r.host=R.shift();var z=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;z&&(r.auth=z.shift(),r.host=r.hostname=z.shift())}return r.search=t.search,r.query=t.query,(!sc.isNull(r.pathname)||!sc.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!R.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var B=R.slice(-1)[0],$=(r.host||t.host||R.length>1)&&(B==="."||B==="..")||B==="",j=0,W=R.length;W>=0;W--)B=R[W],B==="."?R.splice(W,1):B===".."?(R.splice(W,1),j++):j&&(R.splice(W,1),j--);if(!I&&!C)for(;j--;j)R.unshift("..");I&&R[0]!==""&&(!R[0]||R[0].charAt(0)!=="/")&&R.unshift(""),$&&R.join("/").substr(-1)!=="/"&&R.push("");var T=R[0]===""||R[0]&&R[0].charAt(0)==="/";if(F){r.hostname=r.host=T?"":R.length?R.shift():"";var z=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;z&&(r.auth=z.shift(),r.host=r.hostname=z.shift())}return I=I||r.host&&R.length,I&&!T&&R.unshift(""),R.length?r.pathname=R.join("/"):(r.pathname=null,r.path=null),(!sc.isNull(r.pathname)||!sc.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};zu.prototype.parseHost=function(){var t=this.host,e=OXe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}});var SA=Ee(XQ=>{w();_();var YQ=AQ(),$Xe=k5(),VXe=TQ(),WXe=kQ(),GXe=L5(),il=XQ;il.request=function(t,e){typeof t=="string"?t=GXe.parse(t):t=VXe(t);var r=globalThis.location.protocol.search(/^https?:$/)===-1?"http:":"",n=t.protocol||r,a=t.hostname||t.host,o=t.port,s=t.path||"/";a&&a.indexOf(":")!==-1&&(a="["+a+"]"),t.url=(a?n+"//"+a:"")+(o?":"+o:"")+s,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var u=new YQ(t);return e&&u.on("response",e),u};il.get=function(e,r){var n=il.request(e,r);return n.end(),n};il.ClientRequest=YQ;il.IncomingMessage=$Xe.IncomingMessage;il.Agent=function(){};il.Agent.defaultMaxSockets=4;il.globalAgent=new il.Agent;il.STATUS_CODES=WXe;il.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]});var q5=Ee((wtr,eee)=>{w();_();var Ex=SA(),HXe=L5(),P5=eee.exports;for(EA in Ex)Ex.hasOwnProperty(EA)&&(P5[EA]=Ex[EA]);var EA;P5.request=function(t,e){return t=QQ(t),Ex.request.call(this,t,e)};P5.get=function(t,e){return t=QQ(t),Ex.get.call(this,t,e)};function QQ(t){if(typeof t=="string"&&(t=HXe.parse(t)),t.protocol||(t.protocol="https:"),t.protocol!=="https:")throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}});var z5=Ee((xtr,tee)=>{w();_();(function(t){"use strict";t.exports.is_uri=r,t.exports.is_http_uri=n,t.exports.is_https_uri=a,t.exports.is_web_uri=o,t.exports.isUri=r,t.exports.isHttpUri=n,t.exports.isHttpsUri=a,t.exports.isWebUri=o;var e=function(s){var u=s.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return u};function r(s){if(!!s&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(s)&&!/%[^0-9a-f]/i.test(s)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(s)){var u=[],f="",l="",c="",h="",m="",g="";if(u=e(s),f=u[1],l=u[2],c=u[3],h=u[4],m=u[5],!!(f&&f.length&&c.length>=0)){if(l&&l.length){if(!(c.length===0||/^\//.test(c)))return}else if(/^\/\//.test(c))return;if(!!/^[a-z][a-z0-9\+\-\.]*$/.test(f.toLowerCase()))return g+=f+":",l&&l.length&&(g+="//"+l),g+=c,h&&h.length&&(g+="?"+h),m&&m.length&&(g+="#"+m),g}}}function n(s,u){if(!!r(s)){var f=[],l="",c="",h="",m="",g="",b="",A="";if(f=e(s),l=f[1],c=f[2],h=f[3],g=f[4],b=f[5],!!l){if(u){if(l.toLowerCase()!="https")return}else if(l.toLowerCase()!="http")return;if(!!c)return/:(\d+)$/.test(c)&&(m=c.match(/:(\d+)$/)[0],c=c.replace(/:\d+$/,"")),A+=l+":",A+="//"+c,m&&(A+=m),A+=h,g&&g.length&&(A+="?"+g),b&&b.length&&(A+="#"+b),A}}}function a(s){return n(s,!0)}function o(s){return n(s)||a(s)}})(tee)});var U5=Ee((_tr,ree)=>{w();_();ree.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(n,a,o){r.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:o})},r.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,a){if(1&a&&(n=r(n)),8&a||4&a&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&a&&typeof n!="string")for(var s in n)r.d(o,s,function(u){return n[u]}.bind(null,s));return o},r.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(a,"a",a),a},r.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},r.p="",r(r.s=32)}([function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(n){typeof window=="object"&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n=r(6),a=Object.keys||function(b){var A=[];for(var I in b)A.push(I);return A};t.exports=h;var o=r(5);o.inherits=r(2);var s=r(23),u=r(14);o.inherits(h,s);for(var f=a(u.prototype),l=0;l<f.length;l++){var c=f[l];h.prototype[c]||(h.prototype[c]=u.prototype[c])}function h(b){if(!(this instanceof h))return new h(b);s.call(this,b),u.call(this,b),b&&b.readable===!1&&(this.readable=!1),b&&b.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,b&&b.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",m)}function m(){this.allowHalfOpen||this._writableState.ended||n.nextTick(g,this)}function g(b){b.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}}),h.prototype._destroy=function(b,A){this.push(null),this.end(),n.nextTick(A,b)}},function(t,e){typeof Object.create=="function"?t.exports=function(r,n){r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(r,n){r.super_=n;var a=function(){};a.prototype=n.prototype,r.prototype=new a,r.prototype.constructor=r}},function(t,e,r){"use strict";(function(n){var a=r(38),o=r(39),s=r(40);function u(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(V,K){if(u()<K)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(V=new Uint8Array(K)).__proto__=l.prototype:(V===null&&(V=new l(K)),V.length=K),V}function l(V,K,ne){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(V,K,ne);if(typeof V=="number"){if(typeof K=="string")throw new Error("If encoding is specified then the first argument must be a string");return m(this,V)}return c(this,V,K,ne)}function c(V,K,ne,fe){if(typeof K=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&K instanceof ArrayBuffer?function(pe,Ie,ke,ue){if(Ie.byteLength,ke<0||Ie.byteLength<ke)throw new RangeError("'offset' is out of bounds");if(Ie.byteLength<ke+(ue||0))throw new RangeError("'length' is out of bounds");return Ie=ke===void 0&&ue===void 0?new Uint8Array(Ie):ue===void 0?new Uint8Array(Ie,ke):new Uint8Array(Ie,ke,ue),l.TYPED_ARRAY_SUPPORT?(pe=Ie).__proto__=l.prototype:pe=g(pe,Ie),pe}(V,K,ne,fe):typeof K=="string"?function(pe,Ie,ke){if(typeof ke=="string"&&ke!==""||(ke="utf8"),!l.isEncoding(ke))throw new TypeError('"encoding" must be a valid string encoding');var ue=0|A(Ie,ke),xe=(pe=f(pe,ue)).write(Ie,ke);return xe!==ue&&(pe=pe.slice(0,xe)),pe}(V,K,ne):function(pe,Ie){if(l.isBuffer(Ie)){var ke=0|b(Ie.length);return(pe=f(pe,ke)).length===0||Ie.copy(pe,0,0,ke),pe}if(Ie){if(typeof ArrayBuffer!="undefined"&&Ie.buffer instanceof ArrayBuffer||"length"in Ie)return typeof Ie.length!="number"||function(ue){return ue!=ue}(Ie.length)?f(pe,0):g(pe,Ie);if(Ie.type==="Buffer"&&s(Ie.data))return g(pe,Ie.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(V,K)}function h(V){if(typeof V!="number")throw new TypeError('"size" argument must be a number');if(V<0)throw new RangeError('"size" argument must not be negative')}function m(V,K){if(h(K),V=f(V,K<0?0:0|b(K)),!l.TYPED_ARRAY_SUPPORT)for(var ne=0;ne<K;++ne)V[ne]=0;return V}function g(V,K){var ne=K.length<0?0:0|b(K.length);V=f(V,ne);for(var fe=0;fe<ne;fe+=1)V[fe]=255&K[fe];return V}function b(V){if(V>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|V}function A(V,K){if(l.isBuffer(V))return V.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(V)||V instanceof ArrayBuffer))return V.byteLength;typeof V!="string"&&(V=""+V);var ne=V.length;if(ne===0)return 0;for(var fe=!1;;)switch(K){case"ascii":case"latin1":case"binary":return ne;case"utf8":case"utf-8":case void 0:return Z(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ne;case"hex":return ne>>>1;case"base64":return X(V).length;default:if(fe)return Z(V).length;K=(""+K).toLowerCase(),fe=!0}}function I(V,K,ne){var fe=V[K];V[K]=V[ne],V[ne]=fe}function C(V,K,ne,fe,pe){if(V.length===0)return-1;if(typeof ne=="string"?(fe=ne,ne=0):ne>2147483647?ne=2147483647:ne<-2147483648&&(ne=-2147483648),ne=+ne,isNaN(ne)&&(ne=pe?0:V.length-1),ne<0&&(ne=V.length+ne),ne>=V.length){if(pe)return-1;ne=V.length-1}else if(ne<0){if(!pe)return-1;ne=0}if(typeof K=="string"&&(K=l.from(K,fe)),l.isBuffer(K))return K.length===0?-1:R(V,K,ne,fe,pe);if(typeof K=="number")return K&=255,l.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?pe?Uint8Array.prototype.indexOf.call(V,K,ne):Uint8Array.prototype.lastIndexOf.call(V,K,ne):R(V,[K],ne,fe,pe);throw new TypeError("val must be string, number or Buffer")}function R(V,K,ne,fe,pe){var Ie,ke=1,ue=V.length,xe=K.length;if(fe!==void 0&&((fe=String(fe).toLowerCase())==="ucs2"||fe==="ucs-2"||fe==="utf16le"||fe==="utf-16le")){if(V.length<2||K.length<2)return-1;ke=2,ue/=2,xe/=2,ne/=2}function ge(be,qe){return ke===1?be[qe]:be.readUInt16BE(qe*ke)}if(pe){var Q=-1;for(Ie=ne;Ie<ue;Ie++)if(ge(V,Ie)===ge(K,Q===-1?0:Ie-Q)){if(Q===-1&&(Q=Ie),Ie-Q+1===xe)return Q*ke}else Q!==-1&&(Ie-=Ie-Q),Q=-1}else for(ne+xe>ue&&(ne=ue-xe),Ie=ne;Ie>=0;Ie--){for(var _e=!0,ve=0;ve<xe;ve++)if(ge(V,Ie+ve)!==ge(K,ve)){_e=!1;break}if(_e)return Ie}return-1}function O(V,K,ne,fe){ne=Number(ne)||0;var pe=V.length-ne;fe?(fe=Number(fe))>pe&&(fe=pe):fe=pe;var Ie=K.length;if(Ie%2!=0)throw new TypeError("Invalid hex string");fe>Ie/2&&(fe=Ie/2);for(var ke=0;ke<fe;++ke){var ue=parseInt(K.substr(2*ke,2),16);if(isNaN(ue))return ke;V[ne+ke]=ue}return ke}function F(V,K,ne,fe){return he(Z(K,V.length-ne),V,ne,fe)}function z(V,K,ne,fe){return he(function(pe){for(var Ie=[],ke=0;ke<pe.length;++ke)Ie.push(255&pe.charCodeAt(ke));return Ie}(K),V,ne,fe)}function B(V,K,ne,fe){return z(V,K,ne,fe)}function $(V,K,ne,fe){return he(X(K),V,ne,fe)}function j(V,K,ne,fe){return he(function(pe,Ie){for(var ke,ue,xe,ge=[],Q=0;Q<pe.length&&!((Ie-=2)<0);++Q)ue=(ke=pe.charCodeAt(Q))>>8,xe=ke%256,ge.push(xe),ge.push(ue);return ge}(K,V.length-ne),V,ne,fe)}function W(V,K,ne){return K===0&&ne===V.length?a.fromByteArray(V):a.fromByteArray(V.slice(K,ne))}function T(V,K,ne){ne=Math.min(V.length,ne);for(var fe=[],pe=K;pe<ne;){var Ie,ke,ue,xe,ge=V[pe],Q=null,_e=ge>239?4:ge>223?3:ge>191?2:1;if(pe+_e<=ne)switch(_e){case 1:ge<128&&(Q=ge);break;case 2:(192&(Ie=V[pe+1]))==128&&(xe=(31&ge)<<6|63&Ie)>127&&(Q=xe);break;case 3:Ie=V[pe+1],ke=V[pe+2],(192&Ie)==128&&(192&ke)==128&&(xe=(15&ge)<<12|(63&Ie)<<6|63&ke)>2047&&(xe<55296||xe>57343)&&(Q=xe);break;case 4:Ie=V[pe+1],ke=V[pe+2],ue=V[pe+3],(192&Ie)==128&&(192&ke)==128&&(192&ue)==128&&(xe=(15&ge)<<18|(63&Ie)<<12|(63&ke)<<6|63&ue)>65535&&xe<1114112&&(Q=xe)}Q===null?(Q=65533,_e=1):Q>65535&&(Q-=65536,fe.push(Q>>>10&1023|55296),Q=56320|1023&Q),fe.push(Q),pe+=_e}return function(ve){var be=ve.length;if(be<=p)return String.fromCharCode.apply(String,ve);for(var qe="",se=0;se<be;)qe+=String.fromCharCode.apply(String,ve.slice(se,se+=p));return qe}(fe)}e.Buffer=l,e.SlowBuffer=function(V){return+V!=V&&(V=0),l.alloc(+V)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=n.TYPED_ARRAY_SUPPORT!==void 0?n.TYPED_ARRAY_SUPPORT:function(){try{var V=new Uint8Array(1);return V.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},V.foo()===42&&typeof V.subarray=="function"&&V.subarray(1,1).byteLength===0}catch(K){return!1}}(),e.kMaxLength=u(),l.poolSize=8192,l._augment=function(V){return V.__proto__=l.prototype,V},l.from=function(V,K,ne){return c(null,V,K,ne)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(V,K,ne){return function(fe,pe,Ie,ke){return h(pe),pe<=0?f(fe,pe):Ie!==void 0?typeof ke=="string"?f(fe,pe).fill(Ie,ke):f(fe,pe).fill(Ie):f(fe,pe)}(null,V,K,ne)},l.allocUnsafe=function(V){return m(null,V)},l.allocUnsafeSlow=function(V){return m(null,V)},l.isBuffer=function(V){return!(V==null||!V._isBuffer)},l.compare=function(V,K){if(!l.isBuffer(V)||!l.isBuffer(K))throw new TypeError("Arguments must be Buffers");if(V===K)return 0;for(var ne=V.length,fe=K.length,pe=0,Ie=Math.min(ne,fe);pe<Ie;++pe)if(V[pe]!==K[pe]){ne=V[pe],fe=K[pe];break}return ne<fe?-1:fe<ne?1:0},l.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(V,K){if(!s(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return l.alloc(0);var ne;if(K===void 0)for(K=0,ne=0;ne<V.length;++ne)K+=V[ne].length;var fe=l.allocUnsafe(K),pe=0;for(ne=0;ne<V.length;++ne){var Ie=V[ne];if(!l.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(fe,pe),pe+=Ie.length}return fe},l.byteLength=A,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var V=this.length;if(V%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var K=0;K<V;K+=2)I(this,K,K+1);return this},l.prototype.swap32=function(){var V=this.length;if(V%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var K=0;K<V;K+=4)I(this,K,K+3),I(this,K+1,K+2);return this},l.prototype.swap64=function(){var V=this.length;if(V%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var K=0;K<V;K+=8)I(this,K,K+7),I(this,K+1,K+6),I(this,K+2,K+5),I(this,K+3,K+4);return this},l.prototype.toString=function(){var V=0|this.length;return V===0?"":arguments.length===0?T(this,0,V):function(K,ne,fe){var pe=!1;if((ne===void 0||ne<0)&&(ne=0),ne>this.length||((fe===void 0||fe>this.length)&&(fe=this.length),fe<=0)||(fe>>>=0)<=(ne>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return y(this,ne,fe);case"utf8":case"utf-8":return T(this,ne,fe);case"ascii":return v(this,ne,fe);case"latin1":case"binary":return S(this,ne,fe);case"base64":return W(this,ne,fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,ne,fe);default:if(pe)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),pe=!0}}.apply(this,arguments)},l.prototype.equals=function(V){if(!l.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V||l.compare(this,V)===0},l.prototype.inspect=function(){var V="",K=e.INSPECT_MAX_BYTES;return this.length>0&&(V=this.toString("hex",0,K).match(/.{2}/g).join(" "),this.length>K&&(V+=" ... ")),"<Buffer "+V+">"},l.prototype.compare=function(V,K,ne,fe,pe){if(!l.isBuffer(V))throw new TypeError("Argument must be a Buffer");if(K===void 0&&(K=0),ne===void 0&&(ne=V?V.length:0),fe===void 0&&(fe=0),pe===void 0&&(pe=this.length),K<0||ne>V.length||fe<0||pe>this.length)throw new RangeError("out of range index");if(fe>=pe&&K>=ne)return 0;if(fe>=pe)return-1;if(K>=ne)return 1;if(K>>>=0,ne>>>=0,fe>>>=0,pe>>>=0,this===V)return 0;for(var Ie=pe-fe,ke=ne-K,ue=Math.min(Ie,ke),xe=this.slice(fe,pe),ge=V.slice(K,ne),Q=0;Q<ue;++Q)if(xe[Q]!==ge[Q]){Ie=xe[Q],ke=ge[Q];break}return Ie<ke?-1:ke<Ie?1:0},l.prototype.includes=function(V,K,ne){return this.indexOf(V,K,ne)!==-1},l.prototype.indexOf=function(V,K,ne){return C(this,V,K,ne,!0)},l.prototype.lastIndexOf=function(V,K,ne){return C(this,V,K,ne,!1)},l.prototype.write=function(V,K,ne,fe){if(K===void 0)fe="utf8",ne=this.length,K=0;else if(ne===void 0&&typeof K=="string")fe=K,ne=this.length,K=0;else{if(!isFinite(K))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");K|=0,isFinite(ne)?(ne|=0,fe===void 0&&(fe="utf8")):(fe=ne,ne=void 0)}var pe=this.length-K;if((ne===void 0||ne>pe)&&(ne=pe),V.length>0&&(ne<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");for(var Ie=!1;;)switch(fe){case"hex":return O(this,V,K,ne);case"utf8":case"utf-8":return F(this,V,K,ne);case"ascii":return z(this,V,K,ne);case"latin1":case"binary":return B(this,V,K,ne);case"base64":return $(this,V,K,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,V,K,ne);default:if(Ie)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Ie=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var p=4096;function v(V,K,ne){var fe="";ne=Math.min(V.length,ne);for(var pe=K;pe<ne;++pe)fe+=String.fromCharCode(127&V[pe]);return fe}function S(V,K,ne){var fe="";ne=Math.min(V.length,ne);for(var pe=K;pe<ne;++pe)fe+=String.fromCharCode(V[pe]);return fe}function y(V,K,ne){var fe=V.length;(!K||K<0)&&(K=0),(!ne||ne<0||ne>fe)&&(ne=fe);for(var pe="",Ie=K;Ie<ne;++Ie)pe+=G(V[Ie]);return pe}function M(V,K,ne){for(var fe=V.slice(K,ne),pe="",Ie=0;Ie<fe.length;Ie+=2)pe+=String.fromCharCode(fe[Ie]+256*fe[Ie+1]);return pe}function D(V,K,ne){if(V%1!=0||V<0)throw new RangeError("offset is not uint");if(V+K>ne)throw new RangeError("Trying to access beyond buffer length")}function k(V,K,ne,fe,pe,Ie){if(!l.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(K>pe||K<Ie)throw new RangeError('"value" argument is out of bounds');if(ne+fe>V.length)throw new RangeError("Index out of range")}function E(V,K,ne,fe){K<0&&(K=65535+K+1);for(var pe=0,Ie=Math.min(V.length-ne,2);pe<Ie;++pe)V[ne+pe]=(K&255<<8*(fe?pe:1-pe))>>>8*(fe?pe:1-pe)}function d(V,K,ne,fe){K<0&&(K=4294967295+K+1);for(var pe=0,Ie=Math.min(V.length-ne,4);pe<Ie;++pe)V[ne+pe]=K>>>8*(fe?pe:3-pe)&255}function N(V,K,ne,fe,pe,Ie){if(ne+fe>V.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("Index out of range")}function U(V,K,ne,fe,pe){return pe||N(V,0,ne,4),o.write(V,K,ne,fe,23,4),ne+4}function q(V,K,ne,fe,pe){return pe||N(V,0,ne,8),o.write(V,K,ne,fe,52,8),ne+8}l.prototype.slice=function(V,K){var ne,fe=this.length;if(V=~~V,K=K===void 0?fe:~~K,V<0?(V+=fe)<0&&(V=0):V>fe&&(V=fe),K<0?(K+=fe)<0&&(K=0):K>fe&&(K=fe),K<V&&(K=V),l.TYPED_ARRAY_SUPPORT)(ne=this.subarray(V,K)).__proto__=l.prototype;else{var pe=K-V;ne=new l(pe,void 0);for(var Ie=0;Ie<pe;++Ie)ne[Ie]=this[Ie+V]}return ne},l.prototype.readUIntLE=function(V,K,ne){V|=0,K|=0,ne||D(V,K,this.length);for(var fe=this[V],pe=1,Ie=0;++Ie<K&&(pe*=256);)fe+=this[V+Ie]*pe;return fe},l.prototype.readUIntBE=function(V,K,ne){V|=0,K|=0,ne||D(V,K,this.length);for(var fe=this[V+--K],pe=1;K>0&&(pe*=256);)fe+=this[V+--K]*pe;return fe},l.prototype.readUInt8=function(V,K){return K||D(V,1,this.length),this[V]},l.prototype.readUInt16LE=function(V,K){return K||D(V,2,this.length),this[V]|this[V+1]<<8},l.prototype.readUInt16BE=function(V,K){return K||D(V,2,this.length),this[V]<<8|this[V+1]},l.prototype.readUInt32LE=function(V,K){return K||D(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+16777216*this[V+3]},l.prototype.readUInt32BE=function(V,K){return K||D(V,4,this.length),16777216*this[V]+(this[V+1]<<16|this[V+2]<<8|this[V+3])},l.prototype.readIntLE=function(V,K,ne){V|=0,K|=0,ne||D(V,K,this.length);for(var fe=this[V],pe=1,Ie=0;++Ie<K&&(pe*=256);)fe+=this[V+Ie]*pe;return fe>=(pe*=128)&&(fe-=Math.pow(2,8*K)),fe},l.prototype.readIntBE=function(V,K,ne){V|=0,K|=0,ne||D(V,K,this.length);for(var fe=K,pe=1,Ie=this[V+--fe];fe>0&&(pe*=256);)Ie+=this[V+--fe]*pe;return Ie>=(pe*=128)&&(Ie-=Math.pow(2,8*K)),Ie},l.prototype.readInt8=function(V,K){return K||D(V,1,this.length),128&this[V]?-1*(255-this[V]+1):this[V]},l.prototype.readInt16LE=function(V,K){K||D(V,2,this.length);var ne=this[V]|this[V+1]<<8;return 32768&ne?4294901760|ne:ne},l.prototype.readInt16BE=function(V,K){K||D(V,2,this.length);var ne=this[V+1]|this[V]<<8;return 32768&ne?4294901760|ne:ne},l.prototype.readInt32LE=function(V,K){return K||D(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},l.prototype.readInt32BE=function(V,K){return K||D(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},l.prototype.readFloatLE=function(V,K){return K||D(V,4,this.length),o.read(this,V,!0,23,4)},l.prototype.readFloatBE=function(V,K){return K||D(V,4,this.length),o.read(this,V,!1,23,4)},l.prototype.readDoubleLE=function(V,K){return K||D(V,8,this.length),o.read(this,V,!0,52,8)},l.prototype.readDoubleBE=function(V,K){return K||D(V,8,this.length),o.read(this,V,!1,52,8)},l.prototype.writeUIntLE=function(V,K,ne,fe){V=+V,K|=0,ne|=0,fe||k(this,V,K,ne,Math.pow(2,8*ne)-1,0);var pe=1,Ie=0;for(this[K]=255&V;++Ie<ne&&(pe*=256);)this[K+Ie]=V/pe&255;return K+ne},l.prototype.writeUIntBE=function(V,K,ne,fe){V=+V,K|=0,ne|=0,fe||k(this,V,K,ne,Math.pow(2,8*ne)-1,0);var pe=ne-1,Ie=1;for(this[K+pe]=255&V;--pe>=0&&(Ie*=256);)this[K+pe]=V/Ie&255;return K+ne},l.prototype.writeUInt8=function(V,K,ne){return V=+V,K|=0,ne||k(this,V,K,1,255,0),l.TYPED_ARRAY_SUPPORT||(V=Math.floor(V)),this[K]=255&V,K+1},l.prototype.writeUInt16LE=function(V,K,ne){return V=+V,K|=0,ne||k(this,V,K,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[K]=255&V,this[K+1]=V>>>8):E(this,V,K,!0),K+2},l.prototype.writeUInt16BE=function(V,K,ne){return V=+V,K|=0,ne||k(this,V,K,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[K]=V>>>8,this[K+1]=255&V):E(this,V,K,!1),K+2},l.prototype.writeUInt32LE=function(V,K,ne){return V=+V,K|=0,ne||k(this,V,K,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[K+3]=V>>>24,this[K+2]=V>>>16,this[K+1]=V>>>8,this[K]=255&V):d(this,V,K,!0),K+4},l.prototype.writeUInt32BE=function(V,K,ne){return V=+V,K|=0,ne||k(this,V,K,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[K]=V>>>24,this[K+1]=V>>>16,this[K+2]=V>>>8,this[K+3]=255&V):d(this,V,K,!1),K+4},l.prototype.writeIntLE=function(V,K,ne,fe){if(V=+V,K|=0,!fe){var pe=Math.pow(2,8*ne-1);k(this,V,K,ne,pe-1,-pe)}var Ie=0,ke=1,ue=0;for(this[K]=255&V;++Ie<ne&&(ke*=256);)V<0&&ue===0&&this[K+Ie-1]!==0&&(ue=1),this[K+Ie]=(V/ke>>0)-ue&255;return K+ne},l.prototype.writeIntBE=function(V,K,ne,fe){if(V=+V,K|=0,!fe){var pe=Math.pow(2,8*ne-1);k(this,V,K,ne,pe-1,-pe)}var Ie=ne-1,ke=1,ue=0;for(this[K+Ie]=255&V;--Ie>=0&&(ke*=256);)V<0&&ue===0&&this[K+Ie+1]!==0&&(ue=1),this[K+Ie]=(V/ke>>0)-ue&255;return K+ne},l.prototype.writeInt8=function(V,K,ne){return V=+V,K|=0,ne||k(this,V,K,1,127,-128),l.TYPED_ARRAY_SUPPORT||(V=Math.floor(V)),V<0&&(V=255+V+1),this[K]=255&V,K+1},l.prototype.writeInt16LE=function(V,K,ne){return V=+V,K|=0,ne||k(this,V,K,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[K]=255&V,this[K+1]=V>>>8):E(this,V,K,!0),K+2},l.prototype.writeInt16BE=function(V,K,ne){return V=+V,K|=0,ne||k(this,V,K,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[K]=V>>>8,this[K+1]=255&V):E(this,V,K,!1),K+2},l.prototype.writeInt32LE=function(V,K,ne){return V=+V,K|=0,ne||k(this,V,K,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[K]=255&V,this[K+1]=V>>>8,this[K+2]=V>>>16,this[K+3]=V>>>24):d(this,V,K,!0),K+4},l.prototype.writeInt32BE=function(V,K,ne){return V=+V,K|=0,ne||k(this,V,K,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),l.TYPED_ARRAY_SUPPORT?(this[K]=V>>>24,this[K+1]=V>>>16,this[K+2]=V>>>8,this[K+3]=255&V):d(this,V,K,!1),K+4},l.prototype.writeFloatLE=function(V,K,ne){return U(this,V,K,!0,ne)},l.prototype.writeFloatBE=function(V,K,ne){return U(this,V,K,!1,ne)},l.prototype.writeDoubleLE=function(V,K,ne){return q(this,V,K,!0,ne)},l.prototype.writeDoubleBE=function(V,K,ne){return q(this,V,K,!1,ne)},l.prototype.copy=function(V,K,ne,fe){if(ne||(ne=0),fe||fe===0||(fe=this.length),K>=V.length&&(K=V.length),K||(K=0),fe>0&&fe<ne&&(fe=ne),fe===ne||V.length===0||this.length===0)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("sourceStart out of bounds");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),V.length-K<fe-ne&&(fe=V.length-K+ne);var pe,Ie=fe-ne;if(this===V&&ne<K&&K<fe)for(pe=Ie-1;pe>=0;--pe)V[pe+K]=this[pe+ne];else if(Ie<1e3||!l.TYPED_ARRAY_SUPPORT)for(pe=0;pe<Ie;++pe)V[pe+K]=this[pe+ne];else Uint8Array.prototype.set.call(V,this.subarray(ne,ne+Ie),K);return Ie},l.prototype.fill=function(V,K,ne,fe){if(typeof V=="string"){if(typeof K=="string"?(fe=K,K=0,ne=this.length):typeof ne=="string"&&(fe=ne,ne=this.length),V.length===1){var pe=V.charCodeAt(0);pe<256&&(V=pe)}if(fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!l.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe)}else typeof V=="number"&&(V&=255);if(K<0||this.length<K||this.length<ne)throw new RangeError("Out of range index");if(ne<=K)return this;var Ie;if(K>>>=0,ne=ne===void 0?this.length:ne>>>0,V||(V=0),typeof V=="number")for(Ie=K;Ie<ne;++Ie)this[Ie]=V;else{var ke=l.isBuffer(V)?V:Z(new l(V,fe).toString()),ue=ke.length;for(Ie=0;Ie<ne-K;++Ie)this[Ie+K]=ke[Ie%ue]}return this};var P=/[^+\/0-9A-Za-z-_]/g;function G(V){return V<16?"0"+V.toString(16):V.toString(16)}function Z(V,K){var ne;K=K||1/0;for(var fe=V.length,pe=null,Ie=[],ke=0;ke<fe;++ke){if((ne=V.charCodeAt(ke))>55295&&ne<57344){if(!pe){if(ne>56319){(K-=3)>-1&&Ie.push(239,191,189);continue}if(ke+1===fe){(K-=3)>-1&&Ie.push(239,191,189);continue}pe=ne;continue}if(ne<56320){(K-=3)>-1&&Ie.push(239,191,189),pe=ne;continue}ne=65536+(pe-55296<<10|ne-56320)}else pe&&(K-=3)>-1&&Ie.push(239,191,189);if(pe=null,ne<128){if((K-=1)<0)break;Ie.push(ne)}else if(ne<2048){if((K-=2)<0)break;Ie.push(ne>>6|192,63&ne|128)}else if(ne<65536){if((K-=3)<0)break;Ie.push(ne>>12|224,ne>>6&63|128,63&ne|128)}else{if(!(ne<1114112))throw new Error("Invalid code point");if((K-=4)<0)break;Ie.push(ne>>18|240,ne>>12&63|128,ne>>6&63|128,63&ne|128)}}return Ie}function X(V){return a.toByteArray(function(K){if((K=function(ne){return ne.trim?ne.trim():ne.replace(/^\s+|\s+$/g,"")}(K).replace(P,"")).length<2)return"";for(;K.length%4!=0;)K+="=";return K}(V))}function he(V,K,ne,fe){for(var pe=0;pe<fe&&!(pe+ne>=K.length||pe>=V.length);++pe)K[pe+ne]=V[pe];return pe}}).call(this,r(0))},function(t,e){var r,n,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(I){if(r===setTimeout)return setTimeout(I,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(I,0);try{return r(I,0)}catch(C){try{return r.call(null,I,0)}catch(R){return r.call(this,I,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:o}catch(I){r=o}try{n=typeof clearTimeout=="function"?clearTimeout:s}catch(I){n=s}})();var f,l=[],c=!1,h=-1;function m(){c&&f&&(c=!1,f.length?l=f.concat(l):h=-1,l.length&&g())}function g(){if(!c){var I=u(m);c=!0;for(var C=l.length;C;){for(f=l,l=[];++h<C;)f&&f[h].run();h=-1,C=l.length}f=null,c=!1,function(R){if(n===clearTimeout)return clearTimeout(R);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(R);try{n(R)}catch(O){try{return n.call(null,R)}catch(F){return n.call(this,R)}}}(I)}}function b(I,C){this.fun=I,this.array=C}function A(){}a.nextTick=function(I){var C=new Array(arguments.length-1);if(arguments.length>1)for(var R=1;R<arguments.length;R++)C[R-1]=arguments[R];l.push(new b(I,C)),l.length!==1||c||u(g)},b.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=A,a.addListener=A,a.once=A,a.off=A,a.removeListener=A,a.removeAllListeners=A,a.emit=A,a.prependListener=A,a.prependOnceListener=A,a.listeners=function(I){return[]},a.binding=function(I){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(I){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,r){(function(n){function a(o){return Object.prototype.toString.call(o)}e.isArray=function(o){return Array.isArray?Array.isArray(o):a(o)==="[object Array]"},e.isBoolean=function(o){return typeof o=="boolean"},e.isNull=function(o){return o===null},e.isNullOrUndefined=function(o){return o==null},e.isNumber=function(o){return typeof o=="number"},e.isString=function(o){return typeof o=="string"},e.isSymbol=function(o){return typeof o=="symbol"},e.isUndefined=function(o){return o===void 0},e.isRegExp=function(o){return a(o)==="[object RegExp]"},e.isObject=function(o){return typeof o=="object"&&o!==null},e.isDate=function(o){return a(o)==="[object Date]"},e.isError=function(o){return a(o)==="[object Error]"||o instanceof Error},e.isFunction=function(o){return typeof o=="function"},e.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},e.isBuffer=n.isBuffer}).call(this,r(3).Buffer)},function(t,e,r){"use strict";(function(n){!n.version||n.version.indexOf("v0.")===0||n.version.indexOf("v1.")===0&&n.version.indexOf("v1.8.")!==0?t.exports={nextTick:function(a,o,s,u){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var f,l,c=arguments.length;switch(c){case 0:case 1:return n.nextTick(a);case 2:return n.nextTick(function(){a.call(null,o)});case 3:return n.nextTick(function(){a.call(null,o,s)});case 4:return n.nextTick(function(){a.call(null,o,s,u)});default:for(f=new Array(c-1),l=0;l<f.length;)f[l++]=arguments[l];return n.nextTick(function(){a.apply(null,f)})}}}:t.exports=n}).call(this,r(4))},function(t,e,r){var n=r(3),a=n.Buffer;function o(u,f){for(var l in u)f[l]=u[l]}function s(u,f,l){return a(u,f,l)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),o(a,s),s.from=function(u,f,l){if(typeof u=="number")throw new TypeError("Argument must not be a number");return a(u,f,l)},s.alloc=function(u,f,l){if(typeof u!="number")throw new TypeError("Argument must be a number");var c=a(u);return f!==void 0?typeof l=="string"?c.fill(f,l):c.fill(f):c.fill(0),c},s.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return a(u)},s.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}},function(t,e,r){var n=r(17)(Object,"create");t.exports=n},function(t,e,r){var n=r(31);t.exports=function(a,o){for(var s=a.length;s--;)if(n(a[s][0],o))return s;return-1}},function(t,e,r){var n=r(96);t.exports=function(a,o){var s=a.__data__;return n(o)?s[typeof o=="string"?"string":"hash"]:s.map}},function(t,e,r){(function(n){var a=n!==void 0&&n||typeof self!="undefined"&&self||window,o=Function.prototype.apply;function s(u,f){this._id=u,this._clearFn=f}e.setTimeout=function(){return new s(o.call(setTimeout,a,arguments),clearTimeout)},e.setInterval=function(){return new s(o.call(setInterval,a,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(u){u&&u.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(a,this._id)},e.enroll=function(u,f){clearTimeout(u._idleTimeoutId),u._idleTimeout=f},e.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},e._unrefActive=e.active=function(u){clearTimeout(u._idleTimeoutId);var f=u._idleTimeout;f>=0&&(u._idleTimeoutId=setTimeout(function(){u._onTimeout&&u._onTimeout()},f))},r(35),e.setImmediate=typeof self!="undefined"&&self.setImmediate||n!==void 0&&n.setImmediate||this&&this.setImmediate,e.clearImmediate=typeof self!="undefined"&&self.clearImmediate||n!==void 0&&n.clearImmediate||this&&this.clearImmediate}).call(this,r(0))},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(s){return typeof s=="function"}function a(s){return typeof s=="object"&&s!==null}function o(s){return s===void 0}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(s){if(!function(u){return typeof u=="number"}(s)||s<0||isNaN(s))throw TypeError("n must be a positive number");return this._maxListeners=s,this},r.prototype.emit=function(s){var u,f,l,c,h,m;if(this._events||(this._events={}),s==="error"&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((u=arguments[1])instanceof Error)throw u;var g=new Error('Uncaught, unspecified "error" event. ('+u+")");throw g.context=u,g}if(o(f=this._events[s]))return!1;if(n(f))switch(arguments.length){case 1:f.call(this);break;case 2:f.call(this,arguments[1]);break;case 3:f.call(this,arguments[1],arguments[2]);break;default:c=Array.prototype.slice.call(arguments,1),f.apply(this,c)}else if(a(f))for(c=Array.prototype.slice.call(arguments,1),l=(m=f.slice()).length,h=0;h<l;h++)m[h].apply(this,c);return!0},r.prototype.addListener=function(s,u){var f;if(!n(u))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",s,n(u.listener)?u.listener:u),this._events[s]?a(this._events[s])?this._events[s].push(u):this._events[s]=[this._events[s],u]:this._events[s]=u,a(this._events[s])&&!this._events[s].warned&&(f=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&f>0&&this._events[s].length>f&&(this._events[s].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[s].length),typeof console.trace=="function"&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(s,u){if(!n(u))throw TypeError("listener must be a function");var f=!1;function l(){this.removeListener(s,l),f||(f=!0,u.apply(this,arguments))}return l.listener=u,this.on(s,l),this},r.prototype.removeListener=function(s,u){var f,l,c,h;if(!n(u))throw TypeError("listener must be a function");if(!this._events||!this._events[s])return this;if(c=(f=this._events[s]).length,l=-1,f===u||n(f.listener)&&f.listener===u)delete this._events[s],this._events.removeListener&&this.emit("removeListener",s,u);else if(a(f)){for(h=c;h-- >0;)if(f[h]===u||f[h].listener&&f[h].listener===u){l=h;break}if(l<0)return this;f.length===1?(f.length=0,delete this._events[s]):f.splice(l,1),this._events.removeListener&&this.emit("removeListener",s,u)}return this},r.prototype.removeAllListeners=function(s){var u,f;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[s]&&delete this._events[s],this;if(arguments.length===0){for(u in this._events)u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events={},this}if(n(f=this._events[s]))this.removeListener(s,f);else if(f)for(;f.length;)this.removeListener(s,f[f.length-1]);return delete this._events[s],this},r.prototype.listeners=function(s){return this._events&&this._events[s]?n(this._events[s])?[this._events[s]]:this._events[s].slice():[]},r.prototype.listenerCount=function(s){if(this._events){var u=this._events[s];if(n(u))return 1;if(u)return u.length}return 0},r.listenerCount=function(s,u){return s.listenerCount(u)}},function(t,e,r){(e=t.exports=r(23)).Stream=e,e.Readable=e,e.Writable=r(14),e.Duplex=r(1),e.Transform=r(27),e.PassThrough=r(45)},function(t,e,r){"use strict";(function(n,a,o){var s=r(6);function u(T){var p=this;this.next=null,this.entry=null,this.finish=function(){(function(v,S,y){var M=v.entry;for(v.entry=null;M;){var D=M.callback;S.pendingcb--,D(void 0),M=M.next}S.corkedRequestsFree?S.corkedRequestsFree.next=v:S.corkedRequestsFree=v})(p,T)}}t.exports=O;var f,l=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?a:s.nextTick;O.WritableState=R;var c=r(5);c.inherits=r(2);var h,m={deprecate:r(44)},g=r(24),b=r(7).Buffer,A=o.Uint8Array||function(){},I=r(25);function C(){}function R(T,p){f=f||r(1),T=T||{};var v=p instanceof f;this.objectMode=!!T.objectMode,v&&(this.objectMode=this.objectMode||!!T.writableObjectMode);var S=T.highWaterMark,y=T.writableHighWaterMark,M=this.objectMode?16:16384;this.highWaterMark=S||S===0?S:v&&(y||y===0)?y:M,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var D=T.decodeStrings===!1;this.decodeStrings=!D,this.defaultEncoding=T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(k){(function(E,d){var N=E._writableState,U=N.sync,q=N.writecb;if(function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}(N),d)(function(G,Z,X,he,V){--Z.pendingcb,X?(s.nextTick(V,he),s.nextTick(W,G,Z),G._writableState.errorEmitted=!0,G.emit("error",he)):(V(he),G._writableState.errorEmitted=!0,G.emit("error",he),W(G,Z))})(E,N,U,d,q);else{var P=$(N);P||N.corked||N.bufferProcessing||!N.bufferedRequest||B(E,N),U?l(z,E,N,P,q):z(E,N,P,q)}})(p,k)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function O(T){if(f=f||r(1),!(h.call(O,this)||this instanceof f))return new O(T);this._writableState=new R(T,this),this.writable=!0,T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final)),g.call(this)}function F(T,p,v,S,y,M,D){p.writelen=S,p.writecb=D,p.writing=!0,p.sync=!0,v?T._writev(y,p.onwrite):T._write(y,M,p.onwrite),p.sync=!1}function z(T,p,v,S){v||function(y,M){M.length===0&&M.needDrain&&(M.needDrain=!1,y.emit("drain"))}(T,p),p.pendingcb--,S(),W(T,p)}function B(T,p){p.bufferProcessing=!0;var v=p.bufferedRequest;if(T._writev&&v&&v.next){var S=p.bufferedRequestCount,y=new Array(S),M=p.corkedRequestsFree;M.entry=v;for(var D=0,k=!0;v;)y[D]=v,v.isBuf||(k=!1),v=v.next,D+=1;y.allBuffers=k,F(T,p,!0,p.length,y,"",M.finish),p.pendingcb++,p.lastBufferedRequest=null,M.next?(p.corkedRequestsFree=M.next,M.next=null):p.corkedRequestsFree=new u(p),p.bufferedRequestCount=0}else{for(;v;){var E=v.chunk,d=v.encoding,N=v.callback;if(F(T,p,!1,p.objectMode?1:E.length,E,d,N),v=v.next,p.bufferedRequestCount--,p.writing)break}v===null&&(p.lastBufferedRequest=null)}p.bufferedRequest=v,p.bufferProcessing=!1}function $(T){return T.ending&&T.length===0&&T.bufferedRequest===null&&!T.finished&&!T.writing}function j(T,p){T._final(function(v){p.pendingcb--,v&&T.emit("error",v),p.prefinished=!0,T.emit("prefinish"),W(T,p)})}function W(T,p){var v=$(p);return v&&(function(S,y){y.prefinished||y.finalCalled||(typeof S._final=="function"?(y.pendingcb++,y.finalCalled=!0,s.nextTick(j,S,y)):(y.prefinished=!0,S.emit("prefinish")))}(T,p),p.pendingcb===0&&(p.finished=!0,T.emit("finish"))),v}c.inherits(O,g),R.prototype.getBuffer=function(){for(var T=this.bufferedRequest,p=[];T;)p.push(T),T=T.next;return p},function(){try{Object.defineProperty(R.prototype,"buffer",{get:m.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(T){}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(T){return!!h.call(this,T)||this===O&&T&&T._writableState instanceof R}})):h=function(T){return T instanceof this},O.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},O.prototype.write=function(T,p,v){var S=this._writableState,y=!1,M=!S.objectMode&&function(D){return b.isBuffer(D)||D instanceof A}(T);return M&&!b.isBuffer(T)&&(T=function(D){return b.from(D)}(T)),typeof p=="function"&&(v=p,p=null),M?p="buffer":p||(p=S.defaultEncoding),typeof v!="function"&&(v=C),S.ended?function(D,k){var E=new Error("write after end");D.emit("error",E),s.nextTick(k,E)}(this,v):(M||function(D,k,E,d){var N=!0,U=!1;return E===null?U=new TypeError("May not write null values to stream"):typeof E=="string"||E===void 0||k.objectMode||(U=new TypeError("Invalid non-string/buffer chunk")),U&&(D.emit("error",U),s.nextTick(d,U),N=!1),N}(this,S,T,v))&&(S.pendingcb++,y=function(D,k,E,d,N,U){if(!E){var q=function(X,he,V){return X.objectMode||X.decodeStrings===!1||typeof he!="string"||(he=b.from(he,V)),he}(k,d,N);d!==q&&(E=!0,N="buffer",d=q)}var P=k.objectMode?1:d.length;k.length+=P;var G=k.length<k.highWaterMark;if(G||(k.needDrain=!0),k.writing||k.corked){var Z=k.lastBufferedRequest;k.lastBufferedRequest={chunk:d,encoding:N,isBuf:E,callback:U,next:null},Z?Z.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else F(D,k,!1,P,d,N,U);return G}(this,S,M,T,p,v)),y},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var T=this._writableState;T.corked&&(T.corked--,T.writing||T.corked||T.finished||T.bufferProcessing||!T.bufferedRequest||B(this,T))},O.prototype.setDefaultEncoding=function(T){if(typeof T=="string"&&(T=T.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((T+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+T);return this._writableState.defaultEncoding=T,this},Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),O.prototype._write=function(T,p,v){v(new Error("_write() is not implemented"))},O.prototype._writev=null,O.prototype.end=function(T,p,v){var S=this._writableState;typeof T=="function"?(v=T,T=null,p=null):typeof p=="function"&&(v=p,p=null),T!=null&&this.write(T,p),S.corked&&(S.corked=1,this.uncork()),S.ending||S.finished||function(y,M,D){M.ending=!0,W(y,M),D&&(M.finished?s.nextTick(D):y.once("finish",D)),M.ended=!0,y.writable=!1}(this,S,v)},Object.defineProperty(O.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(T){this._writableState&&(this._writableState.destroyed=T)}}),O.prototype.destroy=I.destroy,O.prototype._undestroy=I.undestroy,O.prototype._destroy=function(T,p){this.end(),p(T)}}).call(this,r(4),r(11).setImmediate,r(0))},function(t,e,r){(function(n,a,o){t.exports=function s(u,f,l){function c(g,b){if(!f[g]){if(!u[g]){var A=typeof _dereq_=="function"&&_dereq_;if(!b&&A)return A(g,!0);if(h)return h(g,!0);var I=new Error("Cannot find module '"+g+"'");throw I.code="MODULE_NOT_FOUND",I}var C=f[g]={exports:{}};u[g][0].call(C.exports,function(R){return c(u[g][1][R]||R)},C,C.exports,s,u,f,l)}return f[g].exports}for(var h=typeof _dereq_=="function"&&_dereq_,m=0;m<l.length;m++)c(l[m]);return c}({1:[function(s,u,f){"use strict";u.exports=function(l){var c=l._SomePromiseArray;function h(m){var g=new c(m),b=g.promise();return g.setHowMany(1),g.setUnwrap(),g.init(),b}l.any=function(m){return h(m)},l.prototype.any=function(){return h(this)}}},{}],2:[function(s,u,f){"use strict";var l;try{throw new Error}catch(C){l=C}var c=s("./schedule"),h=s("./queue"),m=s("./util");function g(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new h(16),this._normalQueue=new h(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var C=this;this.drainQueues=function(){C._drainQueues()},this._schedule=c}function b(C,R,O){this._lateQueue.push(C,R,O),this._queueTick()}function A(C,R,O){this._normalQueue.push(C,R,O),this._queueTick()}function I(C){this._normalQueue._pushOne(C),this._queueTick()}g.prototype.setScheduler=function(C){var R=this._schedule;return this._schedule=C,this._customScheduler=!0,R},g.prototype.hasCustomScheduler=function(){return this._customScheduler},g.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},g.prototype.disableTrampolineIfNecessary=function(){m.hasDevTools&&(this._trampolineEnabled=!1)},g.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},g.prototype.fatalError=function(C,R){R?(n.stderr.write("Fatal "+(C instanceof Error?C.stack:C)+`
`),n.exit(2)):this.throwLater(C)},g.prototype.throwLater=function(C,R){if(arguments.length===1&&(R=C,C=function(){throw R}),typeof setTimeout!="undefined")setTimeout(function(){C(R)},0);else try{this._schedule(function(){C(R)})}catch(O){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},m.hasDevTools?(g.prototype.invokeLater=function(C,R,O){this._trampolineEnabled?b.call(this,C,R,O):this._schedule(function(){setTimeout(function(){C.call(R,O)},100)})},g.prototype.invoke=function(C,R,O){this._trampolineEnabled?A.call(this,C,R,O):this._schedule(function(){C.call(R,O)})},g.prototype.settlePromises=function(C){this._trampolineEnabled?I.call(this,C):this._schedule(function(){C._settlePromises()})}):(g.prototype.invokeLater=b,g.prototype.invoke=A,g.prototype.settlePromises=I),g.prototype._drainQueue=function(C){for(;C.length()>0;){var R=C.shift();if(typeof R=="function"){var O=C.shift(),F=C.shift();R.call(O,F)}else R._settlePromises()}},g.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},g.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},g.prototype._reset=function(){this._isTickUsed=!1},u.exports=g,u.exports.firstLineError=l},{"./queue":26,"./schedule":29,"./util":36}],3:[function(s,u,f){"use strict";u.exports=function(l,c,h,m){var g=!1,b=function(R,O){this._reject(O)},A=function(R,O){O.promiseRejectionQueued=!0,O.bindingPromise._then(b,b,null,this,R)},I=function(R,O){(50397184&this._bitField)==0&&this._resolveCallback(O.target)},C=function(R,O){O.promiseRejectionQueued||this._reject(R)};l.prototype.bind=function(R){g||(g=!0,l.prototype._propagateFrom=m.propagateFromFunction(),l.prototype._boundValue=m.boundValueFunction());var O=h(R),F=new l(c);F._propagateFrom(this,1);var z=this._target();if(F._setBoundTo(O),O instanceof l){var B={promiseRejectionQueued:!1,promise:F,target:z,bindingPromise:O};z._then(c,A,void 0,F,B),O._then(I,C,void 0,F,B),F._setOnCancel(O)}else F._resolveCallback(z);return F},l.prototype._setBoundTo=function(R){R!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=R):this._bitField=-2097153&this._bitField},l.prototype._isBound=function(){return(2097152&this._bitField)==2097152},l.bind=function(R,O){return l.resolve(O).bind(R)}}},{}],4:[function(s,u,f){"use strict";var l;typeof Promise!="undefined"&&(l=Promise);var c=s("./promise")();c.noConflict=function(){try{Promise===c&&(Promise=l)}catch(h){}return c},u.exports=c},{"./promise":22}],5:[function(s,u,f){"use strict";var l=Object.create;if(l){var c=l(null),h=l(null);c[" size"]=h[" size"]=0}u.exports=function(m){var g=s("./util"),b=g.canEvaluate;function A(R){return function(O,F){var z;if(O!=null&&(z=O[F]),typeof z!="function"){var B="Object "+g.classString(O)+" has no method '"+g.toString(F)+"'";throw new m.TypeError(B)}return z}(R,this.pop()).apply(R,this)}function I(R){return R[this]}function C(R){var O=+this;return O<0&&(O=Math.max(0,O+R.length)),R[O]}g.isIdentifier,m.prototype.call=function(R){var O=[].slice.call(arguments,1);return O.push(R),this._then(A,void 0,void 0,O,void 0)},m.prototype.get=function(R){var O;if(typeof R=="number")O=C;else if(b){var F=(void 0)(R);O=F!==null?F:I}else O=I;return this._then(O,void 0,void 0,R,void 0)}}},{"./util":36}],6:[function(s,u,f){"use strict";u.exports=function(l,c,h,m){var g=s("./util"),b=g.tryCatch,A=g.errorObj,I=l._async;l.prototype.break=l.prototype.cancel=function(){if(!m.cancellation())return this._warn("cancellation is disabled");for(var C=this,R=C;C._isCancellable();){if(!C._cancelBy(R)){R._isFollowing()?R._followee().cancel():R._cancelBranched();break}var O=C._cancellationParent;if(O==null||!O._isCancellable()){C._isFollowing()?C._followee().cancel():C._cancelBranched();break}C._isFollowing()&&C._followee().cancel(),C._setWillBeCancelled(),R=C,C=O}},l.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},l.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},l.prototype._cancelBy=function(C){return C===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},l.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},l.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),I.invoke(this._cancelPromises,this,void 0))},l.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},l.prototype._unsetOnCancel=function(){this._onCancelField=void 0},l.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},l.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},l.prototype._doInvokeOnCancel=function(C,R){if(g.isArray(C))for(var O=0;O<C.length;++O)this._doInvokeOnCancel(C[O],R);else if(C!==void 0)if(typeof C=="function"){if(!R){var F=b(C).call(this._boundValue());F===A&&(this._attachExtraTrace(F.e),I.throwLater(F.e))}}else C._resultCancelled(this)},l.prototype._invokeOnCancel=function(){var C=this._onCancel();this._unsetOnCancel(),I.invoke(this._doInvokeOnCancel,this,C)},l.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},l.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(s,u,f){"use strict";u.exports=function(l){var c=s("./util"),h=s("./es5").keys,m=c.tryCatch,g=c.errorObj;return function(b,A,I){return function(C){var R=I._boundValue();e:for(var O=0;O<b.length;++O){var F=b[O];if(F===Error||F!=null&&F.prototype instanceof Error){if(C instanceof F)return m(A).call(R,C)}else if(typeof F=="function"){var z=m(F).call(R,C);if(z===g)return z;if(z)return m(A).call(R,C)}else if(c.isObject(C)){for(var B=h(F),$=0;$<B.length;++$){var j=B[$];if(F[j]!=C[j])continue e}return m(A).call(R,C)}}return l}}}},{"./es5":13,"./util":36}],8:[function(s,u,f){"use strict";u.exports=function(l){var c=!1,h=[];function m(){this._trace=new m.CapturedTrace(g())}function g(){var b=h.length-1;if(b>=0)return h[b]}return l.prototype._promiseCreated=function(){},l.prototype._pushContext=function(){},l.prototype._popContext=function(){return null},l._peekContext=l.prototype._peekContext=function(){},m.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,h.push(this._trace))},m.prototype._popContext=function(){if(this._trace!==void 0){var b=h.pop(),A=b._promiseCreated;return b._promiseCreated=null,A}return null},m.CapturedTrace=null,m.create=function(){if(c)return new m},m.deactivateLongStackTraces=function(){},m.activateLongStackTraces=function(){var b=l.prototype._pushContext,A=l.prototype._popContext,I=l._peekContext,C=l.prototype._peekContext,R=l.prototype._promiseCreated;m.deactivateLongStackTraces=function(){l.prototype._pushContext=b,l.prototype._popContext=A,l._peekContext=I,l.prototype._peekContext=C,l.prototype._promiseCreated=R,c=!1},c=!0,l.prototype._pushContext=m.prototype._pushContext,l.prototype._popContext=m.prototype._popContext,l._peekContext=l.prototype._peekContext=g,l.prototype._promiseCreated=function(){var O=this._peekContext();O&&O._promiseCreated==null&&(O._promiseCreated=this)}},m}},{}],9:[function(s,u,f){"use strict";u.exports=function(l,c){var h,m,g,b=l._getDomain,A=l._async,I=s("./errors").Warning,C=s("./util"),R=C.canAttachTrace,O=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,F=/\((?:timers\.js):\d+:\d+\)/,z=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,B=null,$=null,j=!1,W=C.env("BLUEBIRD_DEBUG")!=0,T=!(C.env("BLUEBIRD_WARNINGS")==0||!W&&!C.env("BLUEBIRD_WARNINGS")),p=!(C.env("BLUEBIRD_LONG_STACK_TRACES")==0||!W&&!C.env("BLUEBIRD_LONG_STACK_TRACES")),v=C.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(T||!!C.env("BLUEBIRD_W_FORGOTTEN_RETURN"));l.prototype.suppressUnhandledRejections=function(){var se=this._target();se._bitField=-1048577&se._bitField|524288},l.prototype._ensurePossibleRejectionHandled=function(){if((524288&this._bitField)==0){this._setRejectionIsUnhandled();var se=this;setTimeout(function(){se._notifyUnhandledRejection()},1)}},l.prototype._notifyUnhandledRejectionIsHandled=function(){ke("rejectionHandled",h,void 0,this)},l.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},l.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!=0},l.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var se=this._settledValue();this._setUnhandledRejectionIsNotified(),ke("unhandledRejection",m,se,this)}},l.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},l.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},l.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},l.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},l.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},l.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},l.prototype._warn=function(se,Se,Ke){return ne(se,Se,Ke||this)},l.onPossiblyUnhandledRejection=function(se){var Se=b();m=typeof se=="function"?Se===null?se:C.domainBind(Se,se):void 0},l.onUnhandledRejectionHandled=function(se){var Se=b();h=typeof se=="function"?Se===null?se:C.domainBind(Se,se):void 0};var S=function(){};l.longStackTraces=function(){if(A.haveItemsQueued()&&!qe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!qe.longStackTraces&&xe()){var se=l.prototype._captureStackTrace,Se=l.prototype._attachExtraTrace;qe.longStackTraces=!0,S=function(){if(A.haveItemsQueued()&&!qe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);l.prototype._captureStackTrace=se,l.prototype._attachExtraTrace=Se,c.deactivateLongStackTraces(),A.enableTrampoline(),qe.longStackTraces=!1},l.prototype._captureStackTrace=V,l.prototype._attachExtraTrace=K,c.activateLongStackTraces(),A.disableTrampolineIfNecessary()}},l.hasLongStackTraces=function(){return qe.longStackTraces&&xe()};var y=function(){try{if(typeof CustomEvent=="function"){var se=new CustomEvent("CustomEvent");return C.global.dispatchEvent(se),function(Se,Ke){var J=new CustomEvent(Se.toLowerCase(),{detail:Ke,cancelable:!0});return!C.global.dispatchEvent(J)}}return typeof Event=="function"?(se=new Event("CustomEvent"),C.global.dispatchEvent(se),function(Se,Ke){var J=new Event(Se.toLowerCase(),{cancelable:!0});return J.detail=Ke,!C.global.dispatchEvent(J)}):((se=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),C.global.dispatchEvent(se),function(Se,Ke){var J=document.createEvent("CustomEvent");return J.initCustomEvent(Se.toLowerCase(),!1,!0,Ke),!C.global.dispatchEvent(J)})}catch(Se){}return function(){return!1}}(),M=C.isNode?function(){return n.emit.apply(n,arguments)}:C.global?function(se){var Se="on"+se.toLowerCase(),Ke=C.global[Se];return!!Ke&&(Ke.apply(C.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function D(se,Se){return{promise:Se}}var k={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(se,Se,Ke){return{promise:Se,child:Ke}},warning:function(se,Se){return{warning:Se}},unhandledRejection:function(se,Se,Ke){return{reason:Se,promise:Ke}},rejectionHandled:D},E=function(se){var Se=!1;try{Se=M.apply(null,arguments)}catch(J){A.throwLater(J),Se=!0}var Ke=!1;try{Ke=y(se,k[se].apply(null,arguments))}catch(J){A.throwLater(J),Ke=!0}return Ke||Se};function d(){return!1}function N(se,Se,Ke){var J=this;try{se(Se,Ke,function(H){if(typeof H!="function")throw new TypeError("onCancel must be a function, got: "+C.toString(H));J._attachCancellationCallback(H)})}catch(H){return H}}function U(se){if(!this._isCancellable())return this;var Se=this._onCancel();Se!==void 0?C.isArray(Se)?Se.push(se):this._setOnCancel([Se,se]):this._setOnCancel(se)}function q(){return this._onCancelField}function P(se){this._onCancelField=se}function G(){this._cancellationParent=void 0,this._onCancelField=void 0}function Z(se,Se){if((1&Se)!=0){this._cancellationParent=se;var Ke=se._branchesRemainingToCancel;Ke===void 0&&(Ke=0),se._branchesRemainingToCancel=Ke+1}(2&Se)!=0&&se._isBound()&&this._setBoundTo(se._boundTo)}l.config=function(se){if("longStackTraces"in(se=Object(se))&&(se.longStackTraces?l.longStackTraces():!se.longStackTraces&&l.hasLongStackTraces()&&S()),"warnings"in se){var Se=se.warnings;qe.warnings=!!Se,v=qe.warnings,C.isObject(Se)&&"wForgottenReturn"in Se&&(v=!!Se.wForgottenReturn)}if("cancellation"in se&&se.cancellation&&!qe.cancellation){if(A.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");l.prototype._clearCancellationData=G,l.prototype._propagateFrom=Z,l.prototype._onCancel=q,l.prototype._setOnCancel=P,l.prototype._attachCancellationCallback=U,l.prototype._execute=N,X=Z,qe.cancellation=!0}return"monitoring"in se&&(se.monitoring&&!qe.monitoring?(qe.monitoring=!0,l.prototype._fireEvent=E):!se.monitoring&&qe.monitoring&&(qe.monitoring=!1,l.prototype._fireEvent=d)),l},l.prototype._fireEvent=d,l.prototype._execute=function(se,Se,Ke){try{se(Se,Ke)}catch(J){return J}},l.prototype._onCancel=function(){},l.prototype._setOnCancel=function(se){},l.prototype._attachCancellationCallback=function(se){},l.prototype._captureStackTrace=function(){},l.prototype._attachExtraTrace=function(){},l.prototype._clearCancellationData=function(){},l.prototype._propagateFrom=function(se,Se){};var X=function(se,Se){(2&Se)!=0&&se._isBound()&&this._setBoundTo(se._boundTo)};function he(){var se=this._boundTo;return se!==void 0&&se instanceof l?se.isFulfilled()?se.value():void 0:se}function V(){this._trace=new ve(this._peekContext())}function K(se,Se){if(R(se)){var Ke=this._trace;if(Ke!==void 0&&Se&&(Ke=Ke._parent),Ke!==void 0)Ke.attachExtraTrace(se);else if(!se.__stackCleaned__){var J=pe(se);C.notEnumerableProp(se,"stack",J.message+`
`+J.stack.join(`
`)),C.notEnumerableProp(se,"__stackCleaned__",!0)}}}function ne(se,Se,Ke){if(qe.warnings){var J,H=new I(se);if(Se)Ke._attachExtraTrace(H);else if(qe.longStackTraces&&(J=l._peekContext()))J.attachExtraTrace(H);else{var Y=pe(H);H.stack=Y.message+`
`+Y.stack.join(`
`)}E("warning",H)||Ie(H,"",!0)}}function fe(se){for(var Se=[],Ke=0;Ke<se.length;++Ke){var J=se[Ke],H=J==="    (No stack trace)"||B.test(J),Y=H&&ge(J);H&&!Y&&(j&&J.charAt(0)!==" "&&(J="    "+J),Se.push(J))}return Se}function pe(se){var Se=se.stack,Ke=se.toString();return Se=typeof Se=="string"&&Se.length>0?function(J){for(var H=J.stack.replace(/\s+$/g,"").split(`
`),Y=0;Y<H.length;++Y){var oe=H[Y];if(oe==="    (No stack trace)"||B.test(oe))break}return Y>0&&J.name!="SyntaxError"&&(H=H.slice(Y)),H}(se):["    (No stack trace)"],{message:Ke,stack:se.name=="SyntaxError"?Se:fe(Se)}}function Ie(se,Se,Ke){if(typeof console!="undefined"){var J;if(C.isObject(se)){var H=se.stack;J=Se+$(H,se)}else J=Se+String(se);typeof g=="function"?g(J,Ke):typeof console.log!="function"&&typeof console.log!="object"||console.log(J)}}function ke(se,Se,Ke,J){var H=!1;try{typeof Se=="function"&&(H=!0,se==="rejectionHandled"?Se(J):Se(Ke,J))}catch(Y){A.throwLater(Y)}se==="unhandledRejection"?E(se,Ke,J)||H||Ie(Ke,"Unhandled rejection "):E(se,J)}function ue(se){var Se;if(typeof se=="function")Se="[function "+(se.name||"anonymous")+"]";else{if(Se=se&&typeof se.toString=="function"?se.toString():C.toString(se),/\[object [a-zA-Z0-9$_]+\]/.test(Se))try{Se=JSON.stringify(se)}catch(Ke){}Se.length===0&&(Se="(empty array)")}return"(<"+function(Ke){return Ke.length<41?Ke:Ke.substr(0,38)+"..."}(Se)+">, no stack trace)"}function xe(){return typeof be=="function"}var ge=function(){return!1},Q=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function _e(se){var Se=se.match(Q);if(Se)return{fileName:Se[1],line:parseInt(Se[2],10)}}function ve(se){this._parent=se,this._promisesCreated=0;var Se=this._length=1+(se===void 0?0:se._length);be(this,ve),Se>32&&this.uncycle()}C.inherits(ve,Error),c.CapturedTrace=ve,ve.prototype.uncycle=function(){var se=this._length;if(!(se<2)){for(var Se=[],Ke={},J=0,H=this;H!==void 0;++J)Se.push(H),H=H._parent;for(J=(se=this._length=J)-1;J>=0;--J){var Y=Se[J].stack;Ke[Y]===void 0&&(Ke[Y]=J)}for(J=0;J<se;++J){var oe=Ke[Se[J].stack];if(oe!==void 0&&oe!==J){oe>0&&(Se[oe-1]._parent=void 0,Se[oe-1]._length=1),Se[J]._parent=void 0,Se[J]._length=1;var Me=J>0?Se[J-1]:this;oe<se-1?(Me._parent=Se[oe+1],Me._parent.uncycle(),Me._length=Me._parent._length+1):(Me._parent=void 0,Me._length=1);for(var Ge=Me._length+1,Ce=J-2;Ce>=0;--Ce)Se[Ce]._length=Ge,Ge++;return}}}},ve.prototype.attachExtraTrace=function(se){if(!se.__stackCleaned__){this.uncycle();for(var Se=pe(se),Ke=Se.message,J=[Se.stack],H=this;H!==void 0;)J.push(fe(H.stack.split(`
`))),H=H._parent;(function(Y){for(var oe=Y[0],Me=1;Me<Y.length;++Me){for(var Ge=Y[Me],Ce=oe.length-1,Xe=oe[Ce],Yt=-1,tt=Ge.length-1;tt>=0;--tt)if(Ge[tt]===Xe){Yt=tt;break}for(tt=Yt;tt>=0;--tt){var Ye=Ge[tt];if(oe[Ce]!==Ye)break;oe.pop(),Ce--}oe=Ge}})(J),function(Y){for(var oe=0;oe<Y.length;++oe)(Y[oe].length===0||oe+1<Y.length&&Y[oe][0]===Y[oe+1][0])&&(Y.splice(oe,1),oe--)}(J),C.notEnumerableProp(se,"stack",function(Y,oe){for(var Me=0;Me<oe.length-1;++Me)oe[Me].push("From previous event:"),oe[Me]=oe[Me].join(`
`);return Me<oe.length&&(oe[Me]=oe[Me].join(`
`)),Y+`
`+oe.join(`
`)}(Ke,J)),C.notEnumerableProp(se,"__stackCleaned__",!0)}};var be=function(){var se=/^\s*at\s*/,Se=function(Y,oe){return typeof Y=="string"?Y:oe.name!==void 0&&oe.message!==void 0?oe.toString():ue(oe)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,B=se,$=Se;var Ke=Error.captureStackTrace;return ge=function(Y){return O.test(Y)},function(Y,oe){Error.stackTraceLimit+=6,Ke(Y,oe),Error.stackTraceLimit-=6}}var J,H=new Error;if(typeof H.stack=="string"&&H.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return B=/@/,$=Se,j=!0,function(Y){Y.stack=new Error().stack};try{throw new Error}catch(Y){J="stack"in Y}return"stack"in H||!J||typeof Error.stackTraceLimit!="number"?($=function(Y,oe){return typeof Y=="string"?Y:typeof oe!="object"&&typeof oe!="function"||oe.name===void 0||oe.message===void 0?ue(oe):oe.toString()},null):(B=se,$=Se,function(Y){Error.stackTraceLimit+=6;try{throw new Error}catch(oe){Y.stack=oe.stack}Error.stackTraceLimit-=6})}();typeof console!="undefined"&&console.warn!==void 0&&(g=function(se){console.warn(se)},C.isNode&&n.stderr.isTTY?g=function(se,Se){var Ke=Se?"\x1B[33m":"\x1B[31m";console.warn(Ke+se+`\x1B[0m
`)}:C.isNode||typeof new Error().stack!="string"||(g=function(se,Se){console.warn("%c"+se,Se?"color: darkorange":"color: red")}));var qe={warnings:T,longStackTraces:!1,cancellation:!1,monitoring:!1};return p&&l.longStackTraces(),{longStackTraces:function(){return qe.longStackTraces},warnings:function(){return qe.warnings},cancellation:function(){return qe.cancellation},monitoring:function(){return qe.monitoring},propagateFromFunction:function(){return X},boundValueFunction:function(){return he},checkForgottenReturns:function(se,Se,Ke,J,H){if(se===void 0&&Se!==null&&v){if(H!==void 0&&H._returnedNonUndefined()||(65535&J._bitField)==0)return;Ke&&(Ke+=" ");var Y="",oe="";if(Se._trace){for(var Me=Se._trace.stack.split(`
`),Ge=fe(Me),Ce=Ge.length-1;Ce>=0;--Ce){var Xe=Ge[Ce];if(!F.test(Xe)){var Yt=Xe.match(z);Yt&&(Y="at "+Yt[1]+":"+Yt[2]+":"+Yt[3]+" ");break}}if(Ge.length>0){var tt=Ge[0];for(Ce=0;Ce<Me.length;++Ce)if(Me[Ce]===tt){Ce>0&&(oe=`
`+Me[Ce-1]);break}}}var Ye="a promise was created in a "+Ke+"handler "+Y+"but was not returned from it, see http://goo.gl/rRqMUw"+oe;J._warn(Ye,!0,Se)}},setBounds:function(se,Se){if(xe()){for(var Ke,J,H=se.stack.split(`
`),Y=Se.stack.split(`
`),oe=-1,Me=-1,Ge=0;Ge<H.length;++Ge)if(Ce=_e(H[Ge])){Ke=Ce.fileName,oe=Ce.line;break}for(Ge=0;Ge<Y.length;++Ge){var Ce;if(Ce=_e(Y[Ge])){J=Ce.fileName,Me=Ce.line;break}}oe<0||Me<0||!Ke||!J||Ke!==J||oe>=Me||(ge=function(Xe){if(O.test(Xe))return!0;var Yt=_e(Xe);return!!(Yt&&Yt.fileName===Ke&&oe<=Yt.line&&Yt.line<=Me)})}},warn:ne,deprecated:function(se,Se){var Ke=se+" is deprecated and will be removed in a future version.";return Se&&(Ke+=" Use "+Se+" instead."),ne(Ke)},CapturedTrace:ve,fireDomEvent:y,fireGlobalEvent:M}}},{"./errors":12,"./util":36}],10:[function(s,u,f){"use strict";u.exports=function(l){function c(){return this.value}function h(){throw this.reason}l.prototype.return=l.prototype.thenReturn=function(m){return m instanceof l&&m.suppressUnhandledRejections(),this._then(c,void 0,void 0,{value:m},void 0)},l.prototype.throw=l.prototype.thenThrow=function(m){return this._then(h,void 0,void 0,{reason:m},void 0)},l.prototype.catchThrow=function(m){if(arguments.length<=1)return this._then(void 0,h,void 0,{reason:m},void 0);var g=arguments[1];return this.caught(m,function(){throw g})},l.prototype.catchReturn=function(m){if(arguments.length<=1)return m instanceof l&&m.suppressUnhandledRejections(),this._then(void 0,c,void 0,{value:m},void 0);var g=arguments[1];return g instanceof l&&g.suppressUnhandledRejections(),this.caught(m,function(){return g})}}},{}],11:[function(s,u,f){"use strict";u.exports=function(l,c){var h=l.reduce,m=l.all;function g(){return m(this)}l.prototype.each=function(b){return h(this,b,c,0)._then(g,void 0,void 0,this,void 0)},l.prototype.mapSeries=function(b){return h(this,b,c,c)},l.each=function(b,A){return h(b,A,c,0)._then(g,void 0,void 0,b,void 0)},l.mapSeries=function(b,A){return h(b,A,c,c)}}},{}],12:[function(s,u,f){"use strict";var l,c,h=s("./es5"),m=h.freeze,g=s("./util"),b=g.inherits,A=g.notEnumerableProp;function I(T,p){function v(S){if(!(this instanceof v))return new v(S);A(this,"message",typeof S=="string"?S:p),A(this,"name",T),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return b(v,Error),v}var C=I("Warning","warning"),R=I("CancellationError","cancellation error"),O=I("TimeoutError","timeout error"),F=I("AggregateError","aggregate error");try{l=TypeError,c=RangeError}catch(T){l=I("TypeError","type error"),c=I("RangeError","range error")}for(var z="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),B=0;B<z.length;++B)typeof Array.prototype[z[B]]=="function"&&(F.prototype[z[B]]=Array.prototype[z[B]]);h.defineProperty(F.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),F.prototype.isOperational=!0;var $=0;function j(T){if(!(this instanceof j))return new j(T);A(this,"name","OperationalError"),A(this,"message",T),this.cause=T,this.isOperational=!0,T instanceof Error?(A(this,"message",T.message),A(this,"stack",T.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}F.prototype.toString=function(){var T=Array(4*$+1).join(" "),p=`
`+T+`AggregateError of:
`;$++,T=Array(4*$+1).join(" ");for(var v=0;v<this.length;++v){for(var S=this[v]===this?"[Circular AggregateError]":this[v]+"",y=S.split(`
`),M=0;M<y.length;++M)y[M]=T+y[M];p+=(S=y.join(`
`))+`
`}return $--,p},b(j,Error);var W=Error.__BluebirdErrorTypes__;W||(W=m({CancellationError:R,TimeoutError:O,OperationalError:j,RejectionError:j,AggregateError:F}),h.defineProperty(Error,"__BluebirdErrorTypes__",{value:W,writable:!1,enumerable:!1,configurable:!1})),u.exports={Error,TypeError:l,RangeError:c,CancellationError:W.CancellationError,OperationalError:W.OperationalError,TimeoutError:W.TimeoutError,AggregateError:W.AggregateError,Warning:C}},{"./es5":13,"./util":36}],13:[function(s,u,f){var l=function(){"use strict";return this===void 0}();if(l)u.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:l,propertyIsWritable:function(b,A){var I=Object.getOwnPropertyDescriptor(b,A);return!(I&&!I.writable&&!I.set)}};else{var c={}.hasOwnProperty,h={}.toString,m={}.constructor.prototype,g=function(b){var A=[];for(var I in b)c.call(b,I)&&A.push(I);return A};u.exports={isArray:function(b){try{return h.call(b)==="[object Array]"}catch(A){return!1}},keys:g,names:g,defineProperty:function(b,A,I){return b[A]=I.value,b},getDescriptor:function(b,A){return{value:b[A]}},freeze:function(b){return b},getPrototypeOf:function(b){try{return Object(b).constructor.prototype}catch(A){return m}},isES5:l,propertyIsWritable:function(){return!0}}}},{}],14:[function(s,u,f){"use strict";u.exports=function(l,c){var h=l.map;l.prototype.filter=function(m,g){return h(this,m,g,c)},l.filter=function(m,g,b){return h(m,g,b,c)}}},{}],15:[function(s,u,f){"use strict";u.exports=function(l,c,h){var m=s("./util"),g=l.CancellationError,b=m.errorObj,A=s("./catch_filter")(h);function I(B,$,j){this.promise=B,this.type=$,this.handler=j,this.called=!1,this.cancelPromise=null}function C(B){this.finallyHandler=B}function R(B,$){return B.cancelPromise!=null&&(arguments.length>1?B.cancelPromise._reject($):B.cancelPromise._cancel(),B.cancelPromise=null,!0)}function O(){return z.call(this,this.promise._target()._settledValue())}function F(B){if(!R(this,B))return b.e=B,b}function z(B){var $=this.promise,j=this.handler;if(!this.called){this.called=!0;var W=this.isFinallyHandler()?j.call($._boundValue()):j.call($._boundValue(),B);if(W===h)return W;if(W!==void 0){$._setReturnedNonUndefined();var T=c(W,$);if(T instanceof l){if(this.cancelPromise!=null){if(T._isCancelled()){var p=new g("late cancellation observer");return $._attachExtraTrace(p),b.e=p,b}T.isPending()&&T._attachCancellationCallback(new C(this))}return T._then(O,F,void 0,this,void 0)}}}return $.isRejected()?(R(this),b.e=B,b):(R(this),B)}return I.prototype.isFinallyHandler=function(){return this.type===0},C.prototype._resultCancelled=function(){R(this.finallyHandler)},l.prototype._passThrough=function(B,$,j,W){return typeof B!="function"?this.then():this._then(j,W,void 0,new I(this,$,B),void 0)},l.prototype.lastly=l.prototype.finally=function(B){return this._passThrough(B,0,z,z)},l.prototype.tap=function(B){return this._passThrough(B,1,z)},l.prototype.tapCatch=function(B){var $=arguments.length;if($===1)return this._passThrough(B,1,void 0,z);var j,W=new Array($-1),T=0;for(j=0;j<$-1;++j){var p=arguments[j];if(!m.isObject(p))return l.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+m.classString(p)));W[T++]=p}W.length=T;var v=arguments[j];return this._passThrough(A(W,v,this),1,void 0,z)},I}},{"./catch_filter":7,"./util":36}],16:[function(s,u,f){"use strict";u.exports=function(l,c,h,m,g,b){var A=s("./errors").TypeError,I=s("./util"),C=I.errorObj,R=I.tryCatch,O=[];function F(z,B,$,j){if(b.cancellation()){var W=new l(h),T=this._finallyPromise=new l(h);this._promise=W.lastly(function(){return T}),W._captureStackTrace(),W._setOnCancel(this)}else(this._promise=new l(h))._captureStackTrace();this._stack=j,this._generatorFunction=z,this._receiver=B,this._generator=void 0,this._yieldHandlers=typeof $=="function"?[$].concat(O):O,this._yieldedPromise=null,this._cancellationPhase=!1}I.inherits(F,g),F.prototype._isResolved=function(){return this._promise===null},F.prototype._cleanup=function(){this._promise=this._generator=null,b.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},F.prototype._promiseCancelled=function(){if(!this._isResolved()){var z;if(this._generator.return!==void 0)this._promise._pushContext(),z=R(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var B=new l.CancellationError("generator .return() sentinel");l.coroutine.returnSentinel=B,this._promise._attachExtraTrace(B),this._promise._pushContext(),z=R(this._generator.throw).call(this._generator,B),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(z)}},F.prototype._promiseFulfilled=function(z){this._yieldedPromise=null,this._promise._pushContext();var B=R(this._generator.next).call(this._generator,z);this._promise._popContext(),this._continue(B)},F.prototype._promiseRejected=function(z){this._yieldedPromise=null,this._promise._attachExtraTrace(z),this._promise._pushContext();var B=R(this._generator.throw).call(this._generator,z);this._promise._popContext(),this._continue(B)},F.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof l){var z=this._yieldedPromise;this._yieldedPromise=null,z.cancel()}},F.prototype.promise=function(){return this._promise},F.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},F.prototype._continue=function(z){var B=this._promise;if(z===C)return this._cleanup(),this._cancellationPhase?B.cancel():B._rejectCallback(z.e,!1);var $=z.value;if(z.done===!0)return this._cleanup(),this._cancellationPhase?B.cancel():B._resolveCallback($);var j=m($,this._promise);if(j instanceof l||(j=function(T,p,v){for(var S=0;S<p.length;++S){v._pushContext();var y=R(p[S])(T);if(v._popContext(),y===C){v._pushContext();var M=l.reject(C.e);return v._popContext(),M}var D=m(y,v);if(D instanceof l)return D}return null}(j,this._yieldHandlers,this._promise))!==null){var W=(j=j._target())._bitField;(50397184&W)==0?(this._yieldedPromise=j,j._proxy(this,null)):(33554432&W)!=0?l._async.invoke(this._promiseFulfilled,this,j._value()):(16777216&W)!=0?l._async.invoke(this._promiseRejected,this,j._reason()):this._promiseCancelled()}else this._promiseRejected(new A(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String($))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)))},l.coroutine=function(z,B){if(typeof z!="function")throw new A(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var $=Object(B).yieldHandler,j=F,W=new Error().stack;return function(){var T=z.apply(this,arguments),p=new j(void 0,void 0,$,W),v=p.promise();return p._generator=T,p._promiseFulfilled(void 0),v}},l.coroutine.addYieldHandler=function(z){if(typeof z!="function")throw new A("expecting a function but got "+I.classString(z));O.push(z)},l.spawn=function(z){if(b.deprecated("Promise.spawn()","Promise.coroutine()"),typeof z!="function")return c(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var B=new F(z,this),$=B.promise();return B._run(l.spawn),$}}},{"./errors":12,"./util":36}],17:[function(s,u,f){"use strict";u.exports=function(l,c,h,m,g,b){var A=s("./util");A.canEvaluate,A.tryCatch,A.errorObj,l.join=function(){var I,C=arguments.length-1;C>0&&typeof arguments[C]=="function"&&(I=arguments[C]);var R=[].slice.call(arguments);I&&R.pop();var O=new c(R).promise();return I!==void 0?O.spread(I):O}}},{"./util":36}],18:[function(s,u,f){"use strict";u.exports=function(l,c,h,m,g,b){var A=l._getDomain,I=s("./util"),C=I.tryCatch,R=I.errorObj,O=l._async;function F(B,$,j,W){this.constructor$(B),this._promise._captureStackTrace();var T=A();this._callback=T===null?$:I.domainBind(T,$),this._preservedValues=W===g?new Array(this.length()):null,this._limit=j,this._inFlight=0,this._queue=[],O.invoke(this._asyncInit,this,void 0)}function z(B,$,j,W){if(typeof $!="function")return h("expecting a function but got "+I.classString($));var T=0;if(j!==void 0){if(typeof j!="object"||j===null)return l.reject(new TypeError("options argument must be an object but it is "+I.classString(j)));if(typeof j.concurrency!="number")return l.reject(new TypeError("'concurrency' must be a number but it is "+I.classString(j.concurrency)));T=j.concurrency}return new F(B,$,T=typeof T=="number"&&isFinite(T)&&T>=1?T:0,W).promise()}I.inherits(F,c),F.prototype._asyncInit=function(){this._init$(void 0,-2)},F.prototype._init=function(){},F.prototype._promiseFulfilled=function(B,$){var j=this._values,W=this.length(),T=this._preservedValues,p=this._limit;if($<0){if(j[$=-1*$-1]=B,p>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(p>=1&&this._inFlight>=p)return j[$]=B,this._queue.push($),!1;T!==null&&(T[$]=B);var v=this._promise,S=this._callback,y=v._boundValue();v._pushContext();var M=C(S).call(y,B,$,W),D=v._popContext();if(b.checkForgottenReturns(M,D,T!==null?"Promise.filter":"Promise.map",v),M===R)return this._reject(M.e),!0;var k=m(M,this._promise);if(k instanceof l){var E=(k=k._target())._bitField;if((50397184&E)==0)return p>=1&&this._inFlight++,j[$]=k,k._proxy(this,-1*($+1)),!1;if((33554432&E)==0)return(16777216&E)!=0?(this._reject(k._reason()),!0):(this._cancel(),!0);M=k._value()}j[$]=M}return++this._totalResolved>=W&&(T!==null?this._filter(j,T):this._resolve(j),!0)},F.prototype._drainQueue=function(){for(var B=this._queue,$=this._limit,j=this._values;B.length>0&&this._inFlight<$;){if(this._isResolved())return;var W=B.pop();this._promiseFulfilled(j[W],W)}},F.prototype._filter=function(B,$){for(var j=$.length,W=new Array(j),T=0,p=0;p<j;++p)B[p]&&(W[T++]=$[p]);W.length=T,this._resolve(W)},F.prototype.preservedValues=function(){return this._preservedValues},l.prototype.map=function(B,$){return z(this,B,$,null)},l.map=function(B,$,j,W){return z(B,$,j,W)}}},{"./util":36}],19:[function(s,u,f){"use strict";u.exports=function(l,c,h,m,g){var b=s("./util"),A=b.tryCatch;l.method=function(I){if(typeof I!="function")throw new l.TypeError("expecting a function but got "+b.classString(I));return function(){var C=new l(c);C._captureStackTrace(),C._pushContext();var R=A(I).apply(this,arguments),O=C._popContext();return g.checkForgottenReturns(R,O,"Promise.method",C),C._resolveFromSyncValue(R),C}},l.attempt=l.try=function(I){if(typeof I!="function")return m("expecting a function but got "+b.classString(I));var C,R=new l(c);if(R._captureStackTrace(),R._pushContext(),arguments.length>1){g.deprecated("calling Promise.try with more than 1 argument");var O=arguments[1],F=arguments[2];C=b.isArray(O)?A(I).apply(F,O):A(I).call(F,O)}else C=A(I)();var z=R._popContext();return g.checkForgottenReturns(C,z,"Promise.try",R),R._resolveFromSyncValue(C),R},l.prototype._resolveFromSyncValue=function(I){I===b.errorObj?this._rejectCallback(I.e,!1):this._resolveCallback(I,!0)}}},{"./util":36}],20:[function(s,u,f){"use strict";var l=s("./util"),c=l.maybeWrapAsError,h=s("./errors").OperationalError,m=s("./es5"),g=/^(?:name|message|stack|cause)$/;function b(A){var I;if(function(F){return F instanceof Error&&m.getPrototypeOf(F)===Error.prototype}(A)){(I=new h(A)).name=A.name,I.message=A.message,I.stack=A.stack;for(var C=m.keys(A),R=0;R<C.length;++R){var O=C[R];g.test(O)||(I[O]=A[O])}return I}return l.markAsOriginatingFromRejection(A),A}u.exports=function(A,I){return function(C,R){if(A!==null){if(C){var O=b(c(C));A._attachExtraTrace(O),A._reject(O)}else if(I){var F=[].slice.call(arguments,1);A._fulfill(F)}else A._fulfill(R);A=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(s,u,f){"use strict";u.exports=function(l){var c=s("./util"),h=l._async,m=c.tryCatch,g=c.errorObj;function b(C,R){if(!c.isArray(C))return A.call(this,C,R);var O=m(R).apply(this._boundValue(),[null].concat(C));O===g&&h.throwLater(O.e)}function A(C,R){var O=this._boundValue(),F=C===void 0?m(R).call(O,null):m(R).call(O,null,C);F===g&&h.throwLater(F.e)}function I(C,R){if(!C){var O=new Error(C+"");O.cause=C,C=O}var F=m(R).call(this._boundValue(),C);F===g&&h.throwLater(F.e)}l.prototype.asCallback=l.prototype.nodeify=function(C,R){if(typeof C=="function"){var O=A;R!==void 0&&Object(R).spread&&(O=b),this._then(O,I,void 0,this,C)}return this}}},{"./util":36}],22:[function(s,u,f){"use strict";u.exports=function(){var l=function(){return new F(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},c=function(){return new d.PromiseInspection(this._target())},h=function(P){return d.reject(new F(P))};function m(){}var g,b={},A=s("./util");g=A.isNode?function(){var P=n.domain;return P===void 0&&(P=null),P}:function(){return null},A.notEnumerableProp(d,"_getDomain",g);var I=s("./es5"),C=s("./async"),R=new C;I.defineProperty(d,"_async",{value:R});var O=s("./errors"),F=d.TypeError=O.TypeError;d.RangeError=O.RangeError;var z=d.CancellationError=O.CancellationError;d.TimeoutError=O.TimeoutError,d.OperationalError=O.OperationalError,d.RejectionError=O.OperationalError,d.AggregateError=O.AggregateError;var B=function(){},$={},j={},W=s("./thenables")(d,B),T=s("./promise_array")(d,B,W,h,m),p=s("./context")(d),v=p.create,S=s("./debuggability")(d,p),y=(S.CapturedTrace,s("./finally")(d,W,j)),M=s("./catch_filter")(j),D=s("./nodeback"),k=A.errorObj,E=A.tryCatch;function d(P){P!==B&&function(G,Z){if(G==null||G.constructor!==d)throw new F(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof Z!="function")throw new F("expecting a function but got "+A.classString(Z))}(this,P),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(P),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function N(P){this.promise._resolveCallback(P)}function U(P){this.promise._rejectCallback(P,!1)}function q(P){var G=new d(B);G._fulfillmentHandler0=P,G._rejectionHandler0=P,G._promise0=P,G._receiver0=P}return d.prototype.toString=function(){return"[object Promise]"},d.prototype.caught=d.prototype.catch=function(P){var G=arguments.length;if(G>1){var Z,X=new Array(G-1),he=0;for(Z=0;Z<G-1;++Z){var V=arguments[Z];if(!A.isObject(V))return h("Catch statement predicate: expecting an object but got "+A.classString(V));X[he++]=V}return X.length=he,P=arguments[Z],this.then(void 0,M(X,P,this))}return this.then(void 0,P)},d.prototype.reflect=function(){return this._then(c,c,void 0,this,void 0)},d.prototype.then=function(P,G){if(S.warnings()&&arguments.length>0&&typeof P!="function"&&typeof G!="function"){var Z=".then() only accepts functions but was passed: "+A.classString(P);arguments.length>1&&(Z+=", "+A.classString(G)),this._warn(Z)}return this._then(P,G,void 0,void 0,void 0)},d.prototype.done=function(P,G){this._then(P,G,void 0,void 0,void 0)._setIsFinal()},d.prototype.spread=function(P){return typeof P!="function"?h("expecting a function but got "+A.classString(P)):this.all()._then(P,void 0,void 0,$,void 0)},d.prototype.toJSON=function(){var P={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(P.fulfillmentValue=this.value(),P.isFulfilled=!0):this.isRejected()&&(P.rejectionReason=this.reason(),P.isRejected=!0),P},d.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new T(this).promise()},d.prototype.error=function(P){return this.caught(A.originatesFromRejection,P)},d.getNewLibraryCopy=u.exports,d.is=function(P){return P instanceof d},d.fromNode=d.fromCallback=function(P){var G=new d(B);G._captureStackTrace();var Z=arguments.length>1&&!!Object(arguments[1]).multiArgs,X=E(P)(D(G,Z));return X===k&&G._rejectCallback(X.e,!0),G._isFateSealed()||G._setAsyncGuaranteed(),G},d.all=function(P){return new T(P).promise()},d.cast=function(P){var G=W(P);return G instanceof d||((G=new d(B))._captureStackTrace(),G._setFulfilled(),G._rejectionHandler0=P),G},d.resolve=d.fulfilled=d.cast,d.reject=d.rejected=function(P){var G=new d(B);return G._captureStackTrace(),G._rejectCallback(P,!0),G},d.setScheduler=function(P){if(typeof P!="function")throw new F("expecting a function but got "+A.classString(P));return R.setScheduler(P)},d.prototype._then=function(P,G,Z,X,he){var V=he!==void 0,K=V?he:new d(B),ne=this._target(),fe=ne._bitField;V||(K._propagateFrom(this,3),K._captureStackTrace(),X===void 0&&(2097152&this._bitField)!=0&&(X=(50397184&fe)!=0?this._boundValue():ne===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,K));var pe=g();if((50397184&fe)!=0){var Ie,ke,ue=ne._settlePromiseCtx;(33554432&fe)!=0?(ke=ne._rejectionHandler0,Ie=P):(16777216&fe)!=0?(ke=ne._fulfillmentHandler0,Ie=G,ne._unsetRejectionIsUnhandled()):(ue=ne._settlePromiseLateCancellationObserver,ke=new z("late cancellation observer"),ne._attachExtraTrace(ke),Ie=G),R.invoke(ue,ne,{handler:pe===null?Ie:typeof Ie=="function"&&A.domainBind(pe,Ie),promise:K,receiver:X,value:ke})}else ne._addCallbacks(P,G,K,X,pe);return K},d.prototype._length=function(){return 65535&this._bitField},d.prototype._isFateSealed=function(){return(117506048&this._bitField)!=0},d.prototype._isFollowing=function(){return(67108864&this._bitField)==67108864},d.prototype._setLength=function(P){this._bitField=-65536&this._bitField|65535&P},d.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},d.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},d.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},d.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},d.prototype._isFinal=function(){return(4194304&this._bitField)>0},d.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},d.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},d.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},d.prototype._setAsyncGuaranteed=function(){R.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},d.prototype._receiverAt=function(P){var G=P===0?this._receiver0:this[4*P-4+3];if(G!==b)return G===void 0&&this._isBound()?this._boundValue():G},d.prototype._promiseAt=function(P){return this[4*P-4+2]},d.prototype._fulfillmentHandlerAt=function(P){return this[4*P-4+0]},d.prototype._rejectionHandlerAt=function(P){return this[4*P-4+1]},d.prototype._boundValue=function(){},d.prototype._migrateCallback0=function(P){P._bitField;var G=P._fulfillmentHandler0,Z=P._rejectionHandler0,X=P._promise0,he=P._receiverAt(0);he===void 0&&(he=b),this._addCallbacks(G,Z,X,he,null)},d.prototype._migrateCallbackAt=function(P,G){var Z=P._fulfillmentHandlerAt(G),X=P._rejectionHandlerAt(G),he=P._promiseAt(G),V=P._receiverAt(G);V===void 0&&(V=b),this._addCallbacks(Z,X,he,V,null)},d.prototype._addCallbacks=function(P,G,Z,X,he){var V=this._length();if(V>=65531&&(V=0,this._setLength(0)),V===0)this._promise0=Z,this._receiver0=X,typeof P=="function"&&(this._fulfillmentHandler0=he===null?P:A.domainBind(he,P)),typeof G=="function"&&(this._rejectionHandler0=he===null?G:A.domainBind(he,G));else{var K=4*V-4;this[K+2]=Z,this[K+3]=X,typeof P=="function"&&(this[K+0]=he===null?P:A.domainBind(he,P)),typeof G=="function"&&(this[K+1]=he===null?G:A.domainBind(he,G))}return this._setLength(V+1),V},d.prototype._proxy=function(P,G){this._addCallbacks(void 0,void 0,G,P,null)},d.prototype._resolveCallback=function(P,G){if((117506048&this._bitField)==0){if(P===this)return this._rejectCallback(l(),!1);var Z=W(P,this);if(!(Z instanceof d))return this._fulfill(P);G&&this._propagateFrom(Z,2);var X=Z._target();if(X!==this){var he=X._bitField;if((50397184&he)==0){var V=this._length();V>0&&X._migrateCallback0(this);for(var K=1;K<V;++K)X._migrateCallbackAt(this,K);this._setFollowing(),this._setLength(0),this._setFollowee(X)}else if((33554432&he)!=0)this._fulfill(X._value());else if((16777216&he)!=0)this._reject(X._reason());else{var ne=new z("late cancellation observer");X._attachExtraTrace(ne),this._reject(ne)}}else this._reject(l())}},d.prototype._rejectCallback=function(P,G,Z){var X=A.ensureErrorObject(P),he=X===P;if(!he&&!Z&&S.warnings()){var V="a promise was rejected with a non-error: "+A.classString(P);this._warn(V,!0)}this._attachExtraTrace(X,!!G&&he),this._reject(P)},d.prototype._resolveFromExecutor=function(P){if(P!==B){var G=this;this._captureStackTrace(),this._pushContext();var Z=!0,X=this._execute(P,function(he){G._resolveCallback(he)},function(he){G._rejectCallback(he,Z)});Z=!1,this._popContext(),X!==void 0&&G._rejectCallback(X,!0)}},d.prototype._settlePromiseFromHandler=function(P,G,Z,X){var he=X._bitField;if((65536&he)==0){var V;X._pushContext(),G===$?Z&&typeof Z.length=="number"?V=E(P).apply(this._boundValue(),Z):(V=k).e=new F("cannot .spread() a non-array: "+A.classString(Z)):V=E(P).call(G,Z);var K=X._popContext();(65536&(he=X._bitField))==0&&(V===j?X._reject(Z):V===k?X._rejectCallback(V.e,!1):(S.checkForgottenReturns(V,K,"",X,this),X._resolveCallback(V)))}},d.prototype._target=function(){for(var P=this;P._isFollowing();)P=P._followee();return P},d.prototype._followee=function(){return this._rejectionHandler0},d.prototype._setFollowee=function(P){this._rejectionHandler0=P},d.prototype._settlePromise=function(P,G,Z,X){var he=P instanceof d,V=this._bitField,K=(134217728&V)!=0;(65536&V)!=0?(he&&P._invokeInternalOnCancel(),Z instanceof y&&Z.isFinallyHandler()?(Z.cancelPromise=P,E(G).call(Z,X)===k&&P._reject(k.e)):G===c?P._fulfill(c.call(Z)):Z instanceof m?Z._promiseCancelled(P):he||P instanceof T?P._cancel():Z.cancel()):typeof G=="function"?he?(K&&P._setAsyncGuaranteed(),this._settlePromiseFromHandler(G,Z,X,P)):G.call(Z,X,P):Z instanceof m?Z._isResolved()||((33554432&V)!=0?Z._promiseFulfilled(X,P):Z._promiseRejected(X,P)):he&&(K&&P._setAsyncGuaranteed(),(33554432&V)!=0?P._fulfill(X):P._reject(X))},d.prototype._settlePromiseLateCancellationObserver=function(P){var G=P.handler,Z=P.promise,X=P.receiver,he=P.value;typeof G=="function"?Z instanceof d?this._settlePromiseFromHandler(G,X,he,Z):G.call(X,he,Z):Z instanceof d&&Z._reject(he)},d.prototype._settlePromiseCtx=function(P){this._settlePromise(P.promise,P.handler,P.receiver,P.value)},d.prototype._settlePromise0=function(P,G,Z){var X=this._promise0,he=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(X,P,he,G)},d.prototype._clearCallbackDataAtIndex=function(P){var G=4*P-4;this[G+2]=this[G+3]=this[G+0]=this[G+1]=void 0},d.prototype._fulfill=function(P){var G=this._bitField;if(!((117506048&G)>>>16)){if(P===this){var Z=l();return this._attachExtraTrace(Z),this._reject(Z)}this._setFulfilled(),this._rejectionHandler0=P,(65535&G)>0&&((134217728&G)!=0?this._settlePromises():R.settlePromises(this))}},d.prototype._reject=function(P){var G=this._bitField;if(!((117506048&G)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=P,this._isFinal())return R.fatalError(P,A.isNode);(65535&G)>0?R.settlePromises(this):this._ensurePossibleRejectionHandled()}},d.prototype._fulfillPromises=function(P,G){for(var Z=1;Z<P;Z++){var X=this._fulfillmentHandlerAt(Z),he=this._promiseAt(Z),V=this._receiverAt(Z);this._clearCallbackDataAtIndex(Z),this._settlePromise(he,X,V,G)}},d.prototype._rejectPromises=function(P,G){for(var Z=1;Z<P;Z++){var X=this._rejectionHandlerAt(Z),he=this._promiseAt(Z),V=this._receiverAt(Z);this._clearCallbackDataAtIndex(Z),this._settlePromise(he,X,V,G)}},d.prototype._settlePromises=function(){var P=this._bitField,G=65535&P;if(G>0){if((16842752&P)!=0){var Z=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,Z,P),this._rejectPromises(G,Z)}else{var X=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,X,P),this._fulfillPromises(G,X)}this._setLength(0)}this._clearCancellationData()},d.prototype._settledValue=function(){var P=this._bitField;return(33554432&P)!=0?this._rejectionHandler0:(16777216&P)!=0?this._fulfillmentHandler0:void 0},d.defer=d.pending=function(){return S.deprecated("Promise.defer","new Promise"),{promise:new d(B),resolve:N,reject:U}},A.notEnumerableProp(d,"_makeSelfResolutionError",l),s("./method")(d,B,W,h,S),s("./bind")(d,B,W,S),s("./cancel")(d,T,h,S),s("./direct_resolve")(d),s("./synchronous_inspection")(d),s("./join")(d,T,W,B,R,g),d.Promise=d,d.version="3.5.1",s("./map.js")(d,T,h,W,B,S),s("./call_get.js")(d),s("./using.js")(d,h,W,v,B,S),s("./timers.js")(d,B,S),s("./generators.js")(d,h,B,W,m,S),s("./nodeify.js")(d),s("./promisify.js")(d,B),s("./props.js")(d,T,W,h),s("./race.js")(d,B,W,h),s("./reduce.js")(d,T,h,W,B,S),s("./settle.js")(d,T,S),s("./some.js")(d,T,h),s("./filter.js")(d,B),s("./each.js")(d,B),s("./any.js")(d),A.toFastProperties(d),A.toFastProperties(d.prototype),q({a:1}),q({b:2}),q({c:3}),q(1),q(function(){}),q(void 0),q(!1),q(new d(B)),S.setBounds(C.firstLineError,A.lastLineError),d}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(s,u,f){"use strict";u.exports=function(l,c,h,m,g){var b=s("./util");function A(I){var C=this._promise=new l(c);I instanceof l&&C._propagateFrom(I,3),C._setOnCancel(this),this._values=I,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return b.isArray,b.inherits(A,g),A.prototype.length=function(){return this._length},A.prototype.promise=function(){return this._promise},A.prototype._init=function I(C,R){var O=h(this._values,this._promise);if(O instanceof l){var F=(O=O._target())._bitField;if(this._values=O,(50397184&F)==0)return this._promise._setAsyncGuaranteed(),O._then(I,this._reject,void 0,this,R);if((33554432&F)==0)return(16777216&F)!=0?this._reject(O._reason()):this._cancel();O=O._value()}if((O=b.asArray(O))!==null)O.length!==0?this._iterate(O):R===-5?this._resolveEmptyArray():this._resolve(function(B){switch(R){case-2:return[];case-3:return{};case-6:return new Map}}());else{var z=m("expecting an array or an iterable object but got "+b.classString(O)).reason();this._promise._rejectCallback(z,!1)}},A.prototype._iterate=function(I){var C=this.getActualLength(I.length);this._length=C,this._values=this.shouldCopyValues()?new Array(C):this._values;for(var R=this._promise,O=!1,F=null,z=0;z<C;++z){var B=h(I[z],R);F=B instanceof l?(B=B._target())._bitField:null,O?F!==null&&B.suppressUnhandledRejections():F!==null?(50397184&F)==0?(B._proxy(this,z),this._values[z]=B):O=(33554432&F)!=0?this._promiseFulfilled(B._value(),z):(16777216&F)!=0?this._promiseRejected(B._reason(),z):this._promiseCancelled(z):O=this._promiseFulfilled(B,z)}O||R._setAsyncGuaranteed()},A.prototype._isResolved=function(){return this._values===null},A.prototype._resolve=function(I){this._values=null,this._promise._fulfill(I)},A.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},A.prototype._reject=function(I){this._values=null,this._promise._rejectCallback(I,!1)},A.prototype._promiseFulfilled=function(I,C){return this._values[C]=I,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},A.prototype._promiseCancelled=function(){return this._cancel(),!0},A.prototype._promiseRejected=function(I){return this._totalResolved++,this._reject(I),!0},A.prototype._resultCancelled=function(){if(!this._isResolved()){var I=this._values;if(this._cancel(),I instanceof l)I.cancel();else for(var C=0;C<I.length;++C)I[C]instanceof l&&I[C].cancel()}},A.prototype.shouldCopyValues=function(){return!0},A.prototype.getActualLength=function(I){return I},A}},{"./util":36}],24:[function(s,u,f){"use strict";u.exports=function(l,c){var h={},m=s("./util"),g=s("./nodeback"),b=m.withAppended,A=m.maybeWrapAsError,I=m.canEvaluate,C=s("./errors").TypeError,R={__isPromisified__:!0},O=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),F=function(v){return m.isIdentifier(v)&&v.charAt(0)!=="_"&&v!=="constructor"};function z(v){return!O.test(v)}function B(v){try{return v.__isPromisified__===!0}catch(S){return!1}}function $(v,S,y){var M=m.getDataPropertyOrDefault(v,S+y,R);return!!M&&B(M)}function j(v,S,y,M){for(var D=m.inheritedDataKeys(v),k=[],E=0;E<D.length;++E){var d=D[E],N=v[d],U=M===F||F(d,N,v);typeof N!="function"||B(N)||$(v,d,S)||!M(d,N,v,U)||k.push(d,N)}return function(q,P,G){for(var Z=0;Z<q.length;Z+=2){var X=q[Z];if(G.test(X)){for(var he=X.replace(G,""),V=0;V<q.length;V+=2)if(q[V]===he)throw new C(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",P))}}}(k,S,y),k}var W=function(v){return v.replace(/([$])/,"\\$")},T=I?void 0:function(v,S,y,M,D,k){var E=function(){return this}(),d=v;function N(){var U=S;S===h&&(U=this);var q=new l(c);q._captureStackTrace();var P=typeof d=="string"&&this!==E?this[d]:v,G=g(q,k);try{P.apply(U,b(arguments,G))}catch(Z){q._rejectCallback(A(Z),!0,!0)}return q._isFateSealed()||q._setAsyncGuaranteed(),q}return typeof d=="string"&&(v=M),m.notEnumerableProp(N,"__isPromisified__",!0),N};function p(v,S,y,M,D){for(var k=new RegExp(W(S)+"$"),E=j(v,S,k,y),d=0,N=E.length;d<N;d+=2){var U=E[d],q=E[d+1],P=U+S;if(M===T)v[P]=T(U,h,U,q,S,D);else{var G=M(q,function(){return T(U,h,U,q,S,D)});m.notEnumerableProp(G,"__isPromisified__",!0),v[P]=G}}return m.toFastProperties(v),v}l.promisify=function(v,S){if(typeof v!="function")throw new C("expecting a function but got "+m.classString(v));if(B(v))return v;var y=(S=Object(S)).context===void 0?h:S.context,M=!!S.multiArgs,D=function(k,E,d){return T(k,E,void 0,k,null,M)}(v,y);return m.copyDescriptors(v,D,z),D},l.promisifyAll=function(v,S){if(typeof v!="function"&&typeof v!="object")throw new C(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);var y=!!(S=Object(S)).multiArgs,M=S.suffix;typeof M!="string"&&(M="Async");var D=S.filter;typeof D!="function"&&(D=F);var k=S.promisifier;if(typeof k!="function"&&(k=T),!m.isIdentifier(M))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var E=m.inheritedDataKeys(v),d=0;d<E.length;++d){var N=v[E[d]];E[d]!=="constructor"&&m.isClass(N)&&(p(N.prototype,M,D,k,y),p(N,M,D,k,y))}return p(v,M,D,k,y)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(s,u,f){"use strict";u.exports=function(l,c,h,m){var g,b=s("./util"),A=b.isObject,I=s("./es5");typeof Map=="function"&&(g=Map);var C=function(){var F=0,z=0;function B($,j){this[F]=$,this[F+z]=j,F++}return function($){z=$.size,F=0;var j=new Array(2*$.size);return $.forEach(B,j),j}}();function R(F){var z,B=!1;if(g!==void 0&&F instanceof g)z=C(F),B=!0;else{var $=I.keys(F),j=$.length;z=new Array(2*j);for(var W=0;W<j;++W){var T=$[W];z[W]=F[T],z[W+j]=T}}this.constructor$(z),this._isMap=B,this._init$(void 0,B?-6:-3)}function O(F){var z,B=h(F);return A(B)?(z=B instanceof l?B._then(l.props,void 0,void 0,void 0,void 0):new R(B).promise(),B instanceof l&&z._propagateFrom(B,2),z):m(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`)}b.inherits(R,c),R.prototype._init=function(){},R.prototype._promiseFulfilled=function(F,z){if(this._values[z]=F,++this._totalResolved>=this._length){var B;if(this._isMap)B=function(T){for(var p=new g,v=T.length/2|0,S=0;S<v;++S){var y=T[v+S],M=T[S];p.set(y,M)}return p}(this._values);else{B={};for(var $=this.length(),j=0,W=this.length();j<W;++j)B[this._values[j+$]]=this._values[j]}return this._resolve(B),!0}return!1},R.prototype.shouldCopyValues=function(){return!1},R.prototype.getActualLength=function(F){return F>>1},l.prototype.props=function(){return O(this)},l.props=function(F){return O(F)}}},{"./es5":13,"./util":36}],26:[function(s,u,f){"use strict";function l(c){this._capacity=c,this._length=0,this._front=0}l.prototype._willBeOverCapacity=function(c){return this._capacity<c},l.prototype._pushOne=function(c){var h=this.length();this._checkCapacity(h+1),this[this._front+h&this._capacity-1]=c,this._length=h+1},l.prototype.push=function(c,h,m){var g=this.length()+3;if(this._willBeOverCapacity(g))return this._pushOne(c),this._pushOne(h),void this._pushOne(m);var b=this._front+g-3;this._checkCapacity(g);var A=this._capacity-1;this[b+0&A]=c,this[b+1&A]=h,this[b+2&A]=m,this._length=g},l.prototype.shift=function(){var c=this._front,h=this[c];return this[c]=void 0,this._front=c+1&this._capacity-1,this._length--,h},l.prototype.length=function(){return this._length},l.prototype._checkCapacity=function(c){this._capacity<c&&this._resizeTo(this._capacity<<1)},l.prototype._resizeTo=function(c){var h=this._capacity;this._capacity=c,function(m,g,b,A,I){for(var C=0;C<I;++C)b[C+A]=m[C+0],m[C+0]=void 0}(this,0,this,h,this._front+this._length&h-1)},u.exports=l},{}],27:[function(s,u,f){"use strict";u.exports=function(l,c,h,m){var g=s("./util"),b=function(I){return I.then(function(C){return A(C,I)})};function A(I,C){var R=h(I);if(R instanceof l)return b(R);if((I=g.asArray(I))===null)return m("expecting an array or an iterable object but got "+g.classString(I));var O=new l(c);C!==void 0&&O._propagateFrom(C,3);for(var F=O._fulfill,z=O._reject,B=0,$=I.length;B<$;++B){var j=I[B];(j!==void 0||B in I)&&l.cast(j)._then(F,z,void 0,O,null)}return O}l.race=function(I){return A(I,void 0)},l.prototype.race=function(){return A(this,void 0)}}},{"./util":36}],28:[function(s,u,f){"use strict";u.exports=function(l,c,h,m,g,b){var A=l._getDomain,I=s("./util"),C=I.tryCatch;function R($,j,W,T){this.constructor$($);var p=A();this._fn=p===null?j:I.domainBind(p,j),W!==void 0&&(W=l.resolve(W))._attachCancellationCallback(this),this._initialValue=W,this._currentCancellable=null,this._eachValues=T===g?Array(this._length):T===0?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function O($,j){this.isFulfilled()?j._resolve($):j._reject($)}function F($,j,W,T){return typeof j!="function"?h("expecting a function but got "+I.classString(j)):new R($,j,W,T).promise()}function z($){this.accum=$,this.array._gotAccum($);var j=m(this.value,this.array._promise);return j instanceof l?(this.array._currentCancellable=j,j._then(B,void 0,void 0,this,void 0)):B.call(this,j)}function B($){var j,W=this.array,T=W._promise,p=C(W._fn);T._pushContext(),(j=W._eachValues!==void 0?p.call(T._boundValue(),$,this.index,this.length):p.call(T._boundValue(),this.accum,$,this.index,this.length))instanceof l&&(W._currentCancellable=j);var v=T._popContext();return b.checkForgottenReturns(j,v,W._eachValues!==void 0?"Promise.each":"Promise.reduce",T),j}I.inherits(R,c),R.prototype._gotAccum=function($){this._eachValues!==void 0&&this._eachValues!==null&&$!==g&&this._eachValues.push($)},R.prototype._eachComplete=function($){return this._eachValues!==null&&this._eachValues.push($),this._eachValues},R.prototype._init=function(){},R.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},R.prototype.shouldCopyValues=function(){return!1},R.prototype._resolve=function($){this._promise._resolveCallback($),this._values=null},R.prototype._resultCancelled=function($){if($===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof l&&this._currentCancellable.cancel(),this._initialValue instanceof l&&this._initialValue.cancel())},R.prototype._iterate=function($){var j,W;this._values=$;var T=$.length;if(this._initialValue!==void 0?(j=this._initialValue,W=0):(j=l.resolve($[0]),W=1),this._currentCancellable=j,!j.isRejected())for(;W<T;++W){var p={accum:null,value:$[W],index:W,length:T,array:this};j=j._then(z,void 0,void 0,p,void 0)}this._eachValues!==void 0&&(j=j._then(this._eachComplete,void 0,void 0,this,void 0)),j._then(O,O,void 0,j,this)},l.prototype.reduce=function($,j){return F(this,$,j,null)},l.reduce=function($,j,W,T){return F($,j,W,T)}}},{"./util":36}],29:[function(s,u,f){"use strict";var l,c=s("./util"),h=c.getNativePromise();if(c.isNode&&typeof MutationObserver=="undefined"){var m=a.setImmediate,g=n.nextTick;l=c.isRecentNode?function(A){m.call(a,A)}:function(A){g.call(n,A)}}else if(typeof h=="function"&&typeof h.resolve=="function"){var b=h.resolve();l=function(A){b.then(A)}}else l=typeof MutationObserver=="undefined"||typeof window!="undefined"&&window.navigator&&(window.navigator.standalone||window.cordova)?o!==void 0?function(A){o(A)}:typeof setTimeout!="undefined"?function(A){setTimeout(A,0)}:function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}:function(){var A=document.createElement("div"),I={attributes:!0},C=!1,R=document.createElement("div");return new MutationObserver(function(){A.classList.toggle("foo"),C=!1}).observe(R,I),function(O){var F=new MutationObserver(function(){F.disconnect(),O()});F.observe(A,I),C||(C=!0,R.classList.toggle("foo"))}}();u.exports=l},{"./util":36}],30:[function(s,u,f){"use strict";u.exports=function(l,c,h){var m=l.PromiseInspection;function g(b){this.constructor$(b)}s("./util").inherits(g,c),g.prototype._promiseResolved=function(b,A){return this._values[b]=A,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},g.prototype._promiseFulfilled=function(b,A){var I=new m;return I._bitField=33554432,I._settledValueField=b,this._promiseResolved(A,I)},g.prototype._promiseRejected=function(b,A){var I=new m;return I._bitField=16777216,I._settledValueField=b,this._promiseResolved(A,I)},l.settle=function(b){return h.deprecated(".settle()",".reflect()"),new g(b).promise()},l.prototype.settle=function(){return l.settle(this)}}},{"./util":36}],31:[function(s,u,f){"use strict";u.exports=function(l,c,h){var m=s("./util"),g=s("./errors").RangeError,b=s("./errors").AggregateError,A=m.isArray,I={};function C(O){this.constructor$(O),this._howMany=0,this._unwrap=!1,this._initialized=!1}function R(O,F){if((0|F)!==F||F<0)return h(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var z=new C(O),B=z.promise();return z.setHowMany(F),z.init(),B}m.inherits(C,c),C.prototype._init=function(){if(this._initialized)if(this._howMany!==0){this._init$(void 0,-5);var O=A(this._values);!this._isResolved()&&O&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},C.prototype.init=function(){this._initialized=!0,this._init()},C.prototype.setUnwrap=function(){this._unwrap=!0},C.prototype.howMany=function(){return this._howMany},C.prototype.setHowMany=function(O){this._howMany=O},C.prototype._promiseFulfilled=function(O){return this._addFulfilled(O),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},C.prototype._promiseRejected=function(O){return this._addRejected(O),this._checkOutcome()},C.prototype._promiseCancelled=function(){return this._values instanceof l||this._values==null?this._cancel():(this._addRejected(I),this._checkOutcome())},C.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var O=new b,F=this.length();F<this._values.length;++F)this._values[F]!==I&&O.push(this._values[F]);return O.length>0?this._reject(O):this._cancel(),!0}return!1},C.prototype._fulfilled=function(){return this._totalResolved},C.prototype._rejected=function(){return this._values.length-this.length()},C.prototype._addRejected=function(O){this._values.push(O)},C.prototype._addFulfilled=function(O){this._values[this._totalResolved++]=O},C.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},C.prototype._getRangeError=function(O){var F="Input array must contain at least "+this._howMany+" items but contains only "+O+" items";return new g(F)},C.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},l.some=function(O,F){return R(O,F)},l.prototype.some=function(O){return R(this,O)},l._SomePromiseArray=C}},{"./errors":12,"./util":36}],32:[function(s,u,f){"use strict";u.exports=function(l){function c(C){C!==void 0?(C=C._target(),this._bitField=C._bitField,this._settledValueField=C._isFateSealed()?C._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}c.prototype._settledValue=function(){return this._settledValueField};var h=c.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},m=c.prototype.error=c.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},g=c.prototype.isFulfilled=function(){return(33554432&this._bitField)!=0},b=c.prototype.isRejected=function(){return(16777216&this._bitField)!=0},A=c.prototype.isPending=function(){return(50397184&this._bitField)==0},I=c.prototype.isResolved=function(){return(50331648&this._bitField)!=0};c.prototype.isCancelled=function(){return(8454144&this._bitField)!=0},l.prototype.__isCancelled=function(){return(65536&this._bitField)==65536},l.prototype._isCancelled=function(){return this._target().__isCancelled()},l.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!=0},l.prototype.isPending=function(){return A.call(this._target())},l.prototype.isRejected=function(){return b.call(this._target())},l.prototype.isFulfilled=function(){return g.call(this._target())},l.prototype.isResolved=function(){return I.call(this._target())},l.prototype.value=function(){return h.call(this._target())},l.prototype.reason=function(){var C=this._target();return C._unsetRejectionIsUnhandled(),m.call(C)},l.prototype._value=function(){return this._settledValue()},l.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},l.PromiseInspection=c}},{}],33:[function(s,u,f){"use strict";u.exports=function(l,c){var h=s("./util"),m=h.errorObj,g=h.isObject,b={}.hasOwnProperty;return function(A,I){if(g(A)){if(A instanceof l)return A;var C=function(O){try{return function(F){return F.then}(O)}catch(F){return m.e=F,m}}(A);if(C===m){I&&I._pushContext();var R=l.reject(C.e);return I&&I._popContext(),R}if(typeof C=="function")return function(O){try{return b.call(O,"_promise0")}catch(F){return!1}}(A)?(R=new l(c),A._then(R._fulfill,R._reject,void 0,R,null),R):function(O,F,z){var B=new l(c),$=B;z&&z._pushContext(),B._captureStackTrace(),z&&z._popContext();var j=!0,W=h.tryCatch(F).call(O,function(T){B&&(B._resolveCallback(T),B=null)},function(T){B&&(B._rejectCallback(T,j,!0),B=null)});return j=!1,B&&W===m&&(B._rejectCallback(W.e,!0,!0),B=null),$}(A,C,I)}return A}}},{"./util":36}],34:[function(s,u,f){"use strict";u.exports=function(l,c,h){var m=s("./util"),g=l.TimeoutError;function b(O){this.handle=O}b.prototype._resultCancelled=function(){clearTimeout(this.handle)};var A=function(O){return I(+this).thenReturn(O)},I=l.delay=function(O,F){var z,B;return F!==void 0?(z=l.resolve(F)._then(A,null,null,O,void 0),h.cancellation()&&F instanceof l&&z._setOnCancel(F)):(z=new l(c),B=setTimeout(function(){z._fulfill()},+O),h.cancellation()&&z._setOnCancel(new b(B)),z._captureStackTrace()),z._setAsyncGuaranteed(),z};function C(O){return clearTimeout(this.handle),O}function R(O){throw clearTimeout(this.handle),O}l.prototype.delay=function(O){return I(O,this)},l.prototype.timeout=function(O,F){var z,B;O=+O;var $=new b(setTimeout(function(){z.isPending()&&function(j,W,T){var p;p=typeof W!="string"?W instanceof Error?W:new g("operation timed out"):new g(W),m.markAsOriginatingFromRejection(p),j._attachExtraTrace(p),j._reject(p),T!=null&&T.cancel()}(z,F,B)},O));return h.cancellation()?(B=this.then(),(z=B._then(C,R,void 0,$,void 0))._setOnCancel($)):z=this._then(C,R,void 0,$,void 0),z}}},{"./util":36}],35:[function(s,u,f){"use strict";u.exports=function(l,c,h,m,g,b){var A=s("./util"),I=s("./errors").TypeError,C=s("./util").inherits,R=A.errorObj,O=A.tryCatch,F={};function z(p){setTimeout(function(){throw p},0)}function B(p,v){var S=0,y=p.length,M=new l(g);return function D(){if(S>=y)return M._fulfill();var k=function(E){var d=h(E);return d!==E&&typeof E._isDisposable=="function"&&typeof E._getDisposer=="function"&&E._isDisposable()&&d._setDisposable(E._getDisposer()),d}(p[S++]);if(k instanceof l&&k._isDisposable()){try{k=h(k._getDisposer().tryDispose(v),p.promise)}catch(E){return z(E)}if(k instanceof l)return k._then(D,z,null,null,null)}D()}(),M}function $(p,v,S){this._data=p,this._promise=v,this._context=S}function j(p,v,S){this.constructor$(p,v,S)}function W(p){return $.isDisposer(p)?(this.resources[this.index]._setDisposable(p),p.promise()):p}function T(p){this.length=p,this.promise=null,this[p-1]=null}$.prototype.data=function(){return this._data},$.prototype.promise=function(){return this._promise},$.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():F},$.prototype.tryDispose=function(p){var v=this.resource(),S=this._context;S!==void 0&&S._pushContext();var y=v!==F?this.doDispose(v,p):null;return S!==void 0&&S._popContext(),this._promise._unsetDisposable(),this._data=null,y},$.isDisposer=function(p){return p!=null&&typeof p.resource=="function"&&typeof p.tryDispose=="function"},C(j,$),j.prototype.doDispose=function(p,v){return this.data().call(p,p,v)},T.prototype._resultCancelled=function(){for(var p=this.length,v=0;v<p;++v){var S=this[v];S instanceof l&&S.cancel()}},l.using=function(){var p=arguments.length;if(p<2)return c("you must pass at least 2 arguments to Promise.using");var v,S=arguments[p-1];if(typeof S!="function")return c("expecting a function but got "+A.classString(S));var y=!0;p===2&&Array.isArray(arguments[0])?(p=(v=arguments[0]).length,y=!1):(v=arguments,p--);for(var M=new T(p),D=0;D<p;++D){var k=v[D];if($.isDisposer(k)){var E=k;(k=k.promise())._setDisposable(E)}else{var d=h(k);d instanceof l&&(k=d._then(W,null,null,{resources:M,index:D},void 0))}M[D]=k}var N=new Array(M.length);for(D=0;D<N.length;++D)N[D]=l.resolve(M[D]).reflect();var U=l.all(N).then(function(P){for(var G=0;G<P.length;++G){var Z=P[G];if(Z.isRejected())return R.e=Z.error(),R;if(!Z.isFulfilled())return void U.cancel();P[G]=Z.value()}q._pushContext(),S=O(S);var X=y?S.apply(void 0,P):S(P),he=q._popContext();return b.checkForgottenReturns(X,he,"Promise.using",q),X}),q=U.lastly(function(){var P=new l.PromiseInspection(U);return B(M,P)});return M.promise=q,q._setOnCancel(M),q},l.prototype._setDisposable=function(p){this._bitField=131072|this._bitField,this._disposer=p},l.prototype._isDisposable=function(){return(131072&this._bitField)>0},l.prototype._getDisposer=function(){return this._disposer},l.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},l.prototype.disposer=function(p){if(typeof p=="function")return new j(p,this,m());throw new I}}},{"./errors":12,"./util":36}],36:[function(s,u,f){"use strict";var l,c=s("./es5"),h=typeof navigator=="undefined",m={e:{}},g=typeof self!="undefined"?self:typeof window!="undefined"?window:a!==void 0?a:this!==void 0?this:null;function b(){try{var y=l;return l=null,y.apply(this,arguments)}catch(M){return m.e=M,m}}function A(y){return y==null||y===!0||y===!1||typeof y=="string"||typeof y=="number"}function I(y,M,D){if(A(y))return y;var k={value:D,configurable:!0,enumerable:!1,writable:!0};return c.defineProperty(y,M,k),y}var C=function(){var y=[Array.prototype,Object.prototype,Function.prototype],M=function(E){for(var d=0;d<y.length;++d)if(y[d]===E)return!0;return!1};if(c.isES5){var D=Object.getOwnPropertyNames;return function(E){for(var d=[],N=Object.create(null);E!=null&&!M(E);){var U;try{U=D(E)}catch(Z){return d}for(var q=0;q<U.length;++q){var P=U[q];if(!N[P]){N[P]=!0;var G=Object.getOwnPropertyDescriptor(E,P);G!=null&&G.get==null&&G.set==null&&d.push(P)}}E=c.getPrototypeOf(E)}return d}}var k={}.hasOwnProperty;return function(E){if(M(E))return[];var d=[];e:for(var N in E)if(k.call(E,N))d.push(N);else{for(var U=0;U<y.length;++U)if(k.call(y[U],N))continue e;d.push(N)}return d}}(),R=/this\s*\.\s*\S+\s*=/,O=/^[a-z$_][a-z$_0-9]*$/i;function F(y){try{return y+""}catch(M){return"[no string representation]"}}function z(y){return y instanceof Error||y!==null&&typeof y=="object"&&typeof y.message=="string"&&typeof y.name=="string"}function B(y){return z(y)&&c.propertyIsWritable(y,"stack")}var $="stack"in new Error?function(y){return B(y)?y:new Error(F(y))}:function(y){if(B(y))return y;try{throw new Error(F(y))}catch(M){return M}};function j(y){return{}.toString.call(y)}var W=function(y){return c.isArray(y)?y:null};if(typeof Symbol!="undefined"&&Symbol.iterator){var T=typeof Array.from=="function"?function(y){return Array.from(y)}:function(y){for(var M,D=[],k=y[Symbol.iterator]();!(M=k.next()).done;)D.push(M.value);return D};W=function(y){return c.isArray(y)?y:y!=null&&typeof y[Symbol.iterator]=="function"?T(y):null}}var p=n!==void 0&&j(n).toLowerCase()==="[object process]",v=n!==void 0&&n.env!==void 0,S={isClass:function(y){try{if(typeof y=="function"){var M=c.names(y.prototype),D=c.isES5&&M.length>1,k=M.length>0&&!(M.length===1&&M[0]==="constructor"),E=R.test(y+"")&&c.names(y).length>0;if(D||k||E)return!0}return!1}catch(d){return!1}},isIdentifier:function(y){return O.test(y)},inheritedDataKeys:C,getDataPropertyOrDefault:function(y,M,D){if(!c.isES5)return{}.hasOwnProperty.call(y,M)?y[M]:void 0;var k=Object.getOwnPropertyDescriptor(y,M);return k!=null?k.get==null&&k.set==null?k.value:D:void 0},thrower:function(y){throw y},isArray:c.isArray,asArray:W,notEnumerableProp:I,isPrimitive:A,isObject:function(y){return typeof y=="function"||typeof y=="object"&&y!==null},isError:z,canEvaluate:h,errorObj:m,tryCatch:function(y){return l=y,b},inherits:function(y,M){var D={}.hasOwnProperty;function k(){for(var E in this.constructor=y,this.constructor$=M,M.prototype)D.call(M.prototype,E)&&E.charAt(E.length-1)!=="$"&&(this[E+"$"]=M.prototype[E])}return k.prototype=M.prototype,y.prototype=new k,y.prototype},withAppended:function(y,M){var D,k=y.length,E=new Array(k+1);for(D=0;D<k;++D)E[D]=y[D];return E[D]=M,E},maybeWrapAsError:function(y){return A(y)?new Error(F(y)):y},toFastProperties:function(y){function M(){}M.prototype=y;for(var D=8;D--;)new M;return y},filledRange:function(y,M,D){for(var k=new Array(y),E=0;E<y;++E)k[E]=M+E+D;return k},toString:F,canAttachTrace:B,ensureErrorObject:$,originatesFromRejection:function(y){return y!=null&&(y instanceof Error.__BluebirdErrorTypes__.OperationalError||y.isOperational===!0)},markAsOriginatingFromRejection:function(y){try{I(y,"isOperational",!0)}catch(M){}},classString:j,copyDescriptors:function(y,M,D){for(var k=c.names(y),E=0;E<k.length;++E){var d=k[E];if(D(d))try{c.defineProperty(M,d,c.getDescriptor(y,d))}catch(N){}}},hasDevTools:typeof chrome!="undefined"&&chrome&&typeof chrome.loadTimes=="function",isNode:p,hasEnvVariables:v,env:function(y){return v?n.env[y]:void 0},global:g,getNativePromise:function(){if(typeof Promise=="function")try{var y=new Promise(function(){});if({}.toString.call(y)==="[object Promise]")return Promise}catch(M){}},domainBind:function(y,M){return y.bind(M)}};S.isRecentNode=S.isNode&&function(){var y=n.versions.node.split(".").map(Number);return y[0]===0&&y[1]>10||y[0]>0}(),S.isNode&&S.toFastProperties(n);try{throw new Error}catch(y){S.lastLineError=y}u.exports=S},{"./es5":13}]},{},[4])(4),typeof window!="undefined"&&window!==null?window.P=window.Promise:typeof self!="undefined"&&self!==null&&(self.P=self.Promise)}).call(this,r(4),r(0),r(11).setImmediate)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,a){if(!a.eol&&n){for(var o=0,s=n.length;o<s;o++)if(n[o]==="\r"){if(n[o+1]===`
`){a.eol=`\r
`;break}if(n[o+1]){a.eol="\r";break}}else if(n[o]===`
`){a.eol=`
`;break}}return a.eol||`
`}},function(t,e,r){var n=r(65),a=r(73);t.exports=function(o,s){var u=a(o,s);return n(u)?u:void 0}},function(t,e,r){var n=r(19).Symbol;t.exports=n},function(t,e,r){var n=r(67),a=typeof self=="object"&&self&&self.Object===Object&&self,o=n||a||Function("return this")();t.exports=o},function(t,e){t.exports=function(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){var n=r(30),a=r(76);t.exports=function(o){return typeof o=="symbol"||a(o)&&n(o)=="[object Symbol]"}},function(t,e,r){"use strict";(function(n,a){var o=r(6);t.exports=F;var s,u=r(37);F.ReadableState=O,r(12).EventEmitter;var f=function(N,U){return N.listeners(U).length},l=r(24),c=r(7).Buffer,h=n.Uint8Array||function(){},m=r(5);m.inherits=r(2);var g=r(41),b=void 0;b=g&&g.debuglog?g.debuglog("stream"):function(){};var A,I=r(42),C=r(25);m.inherits(F,l);var R=["error","close","destroy","pause","resume"];function O(N,U){s=s||r(1),N=N||{};var q=U instanceof s;this.objectMode=!!N.objectMode,q&&(this.objectMode=this.objectMode||!!N.readableObjectMode);var P=N.highWaterMark,G=N.readableHighWaterMark,Z=this.objectMode?16:16384;this.highWaterMark=P||P===0?P:q&&(G||G===0)?G:Z,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new I,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(A||(A=r(26).StringDecoder),this.decoder=new A(N.encoding),this.encoding=N.encoding)}function F(N){if(s=s||r(1),!(this instanceof F))return new F(N);this._readableState=new O(N,this),this.readable=!0,N&&(typeof N.read=="function"&&(this._read=N.read),typeof N.destroy=="function"&&(this._destroy=N.destroy)),l.call(this)}function z(N,U,q,P,G){var Z,X=N._readableState;return U===null?(X.reading=!1,function(he,V){if(!V.ended){if(V.decoder){var K=V.decoder.end();K&&K.length&&(V.buffer.push(K),V.length+=V.objectMode?1:K.length)}V.ended=!0,W(he)}}(N,X)):(G||(Z=function(he,V){var K;return function(ne){return c.isBuffer(ne)||ne instanceof h}(V)||typeof V=="string"||V===void 0||he.objectMode||(K=new TypeError("Invalid non-string/buffer chunk")),K}(X,U)),Z?N.emit("error",Z):X.objectMode||U&&U.length>0?(typeof U=="string"||X.objectMode||Object.getPrototypeOf(U)===c.prototype||(U=function(he){return c.from(he)}(U)),P?X.endEmitted?N.emit("error",new Error("stream.unshift() after end event")):B(N,X,U,!0):X.ended?N.emit("error",new Error("stream.push() after EOF")):(X.reading=!1,X.decoder&&!q?(U=X.decoder.write(U),X.objectMode||U.length!==0?B(N,X,U,!1):p(N,X)):B(N,X,U,!1))):P||(X.reading=!1)),function(he){return!he.ended&&(he.needReadable||he.length<he.highWaterMark||he.length===0)}(X)}function B(N,U,q,P){U.flowing&&U.length===0&&!U.sync?(N.emit("data",q),N.read(0)):(U.length+=U.objectMode?1:q.length,P?U.buffer.unshift(q):U.buffer.push(q),U.needReadable&&W(N)),p(N,U)}Object.defineProperty(F.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),F.prototype.destroy=C.destroy,F.prototype._undestroy=C.undestroy,F.prototype._destroy=function(N,U){this.push(null),U(N)},F.prototype.push=function(N,U){var q,P=this._readableState;return P.objectMode?q=!0:typeof N=="string"&&((U=U||P.defaultEncoding)!==P.encoding&&(N=c.from(N,U),U=""),q=!0),z(this,N,U,!1,q)},F.prototype.unshift=function(N){return z(this,N,null,!0,!1)},F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(N){return A||(A=r(26).StringDecoder),this._readableState.decoder=new A(N),this._readableState.encoding=N,this};var $=8388608;function j(N,U){return N<=0||U.length===0&&U.ended?0:U.objectMode?1:N!=N?U.flowing&&U.length?U.buffer.head.data.length:U.length:(N>U.highWaterMark&&(U.highWaterMark=function(q){return q>=$?q=$:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}(N)),N<=U.length?N:U.ended?U.length:(U.needReadable=!0,0))}function W(N){var U=N._readableState;U.needReadable=!1,U.emittedReadable||(b("emitReadable",U.flowing),U.emittedReadable=!0,U.sync?o.nextTick(T,N):T(N))}function T(N){b("emit readable"),N.emit("readable"),M(N)}function p(N,U){U.readingMore||(U.readingMore=!0,o.nextTick(v,N,U))}function v(N,U){for(var q=U.length;!U.reading&&!U.flowing&&!U.ended&&U.length<U.highWaterMark&&(b("maybeReadMore read 0"),N.read(0),q!==U.length);)q=U.length;U.readingMore=!1}function S(N){b("readable nexttick read 0"),N.read(0)}function y(N,U){U.reading||(b("resume read 0"),N.read(0)),U.resumeScheduled=!1,U.awaitDrain=0,N.emit("resume"),M(N),U.flowing&&!U.reading&&N.read(0)}function M(N){var U=N._readableState;for(b("flow",U.flowing);U.flowing&&N.read()!==null;);}function D(N,U){return U.length===0?null:(U.objectMode?q=U.buffer.shift():!N||N>=U.length?(q=U.decoder?U.buffer.join(""):U.buffer.length===1?U.buffer.head.data:U.buffer.concat(U.length),U.buffer.clear()):q=function(P,G,Z){var X;return P<G.head.data.length?(X=G.head.data.slice(0,P),G.head.data=G.head.data.slice(P)):X=P===G.head.data.length?G.shift():Z?function(he,V){var K=V.head,ne=1,fe=K.data;for(he-=fe.length;K=K.next;){var pe=K.data,Ie=he>pe.length?pe.length:he;if(Ie===pe.length?fe+=pe:fe+=pe.slice(0,he),(he-=Ie)==0){Ie===pe.length?(++ne,K.next?V.head=K.next:V.head=V.tail=null):(V.head=K,K.data=pe.slice(Ie));break}++ne}return V.length-=ne,fe}(P,G):function(he,V){var K=c.allocUnsafe(he),ne=V.head,fe=1;for(ne.data.copy(K),he-=ne.data.length;ne=ne.next;){var pe=ne.data,Ie=he>pe.length?pe.length:he;if(pe.copy(K,K.length-he,0,Ie),(he-=Ie)==0){Ie===pe.length?(++fe,ne.next?V.head=ne.next:V.head=V.tail=null):(V.head=ne,ne.data=pe.slice(Ie));break}++fe}return V.length-=fe,K}(P,G),X}(N,U.buffer,U.decoder),q);var q}function k(N){var U=N._readableState;if(U.length>0)throw new Error('"endReadable()" called on non-empty stream');U.endEmitted||(U.ended=!0,o.nextTick(E,U,N))}function E(N,U){N.endEmitted||N.length!==0||(N.endEmitted=!0,U.readable=!1,U.emit("end"))}function d(N,U){for(var q=0,P=N.length;q<P;q++)if(N[q]===U)return q;return-1}F.prototype.read=function(N){b("read",N),N=parseInt(N,10);var U=this._readableState,q=N;if(N!==0&&(U.emittedReadable=!1),N===0&&U.needReadable&&(U.length>=U.highWaterMark||U.ended))return b("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?k(this):W(this),null;if((N=j(N,U))===0&&U.ended)return U.length===0&&k(this),null;var P,G=U.needReadable;return b("need readable",G),(U.length===0||U.length-N<U.highWaterMark)&&b("length less than watermark",G=!0),U.ended||U.reading?b("reading or ended",G=!1):G&&(b("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(N=j(q,U))),(P=N>0?D(N,U):null)===null?(U.needReadable=!0,N=0):U.length-=N,U.length===0&&(U.ended||(U.needReadable=!0),q!==N&&U.ended&&k(this)),P!==null&&this.emit("data",P),P},F.prototype._read=function(N){this.emit("error",new Error("_read() is not implemented"))},F.prototype.pipe=function(N,U){var q=this,P=this._readableState;switch(P.pipesCount){case 0:P.pipes=N;break;case 1:P.pipes=[P.pipes,N];break;default:P.pipes.push(N)}P.pipesCount+=1,b("pipe count=%d opts=%j",P.pipesCount,U);var G=U&&U.end===!1||N===a.stdout||N===a.stderr?Ie:Z;function Z(){b("onend"),N.end()}P.endEmitted?o.nextTick(G):q.once("end",G),N.on("unpipe",function ke(ue,xe){b("onunpipe"),ue===q&&xe&&xe.hasUnpiped===!1&&(xe.hasUnpiped=!0,b("cleanup"),N.removeListener("close",fe),N.removeListener("finish",pe),N.removeListener("drain",X),N.removeListener("error",ne),N.removeListener("unpipe",ke),q.removeListener("end",Z),q.removeListener("end",Ie),q.removeListener("data",K),he=!0,!P.awaitDrain||N._writableState&&!N._writableState.needDrain||X())});var X=function(ke){return function(){var ue=ke._readableState;b("pipeOnDrain",ue.awaitDrain),ue.awaitDrain&&ue.awaitDrain--,ue.awaitDrain===0&&f(ke,"data")&&(ue.flowing=!0,M(ke))}}(q);N.on("drain",X);var he=!1,V=!1;function K(ke){b("ondata"),V=!1,N.write(ke)!==!1||V||((P.pipesCount===1&&P.pipes===N||P.pipesCount>1&&d(P.pipes,N)!==-1)&&!he&&(b("false write response, pause",q._readableState.awaitDrain),q._readableState.awaitDrain++,V=!0),q.pause())}function ne(ke){b("onerror",ke),Ie(),N.removeListener("error",ne),f(N,"error")===0&&N.emit("error",ke)}function fe(){N.removeListener("finish",pe),Ie()}function pe(){b("onfinish"),N.removeListener("close",fe),Ie()}function Ie(){b("unpipe"),q.unpipe(N)}return q.on("data",K),function(ke,ue,xe){if(typeof ke.prependListener=="function")return ke.prependListener(ue,xe);ke._events&&ke._events[ue]?u(ke._events[ue])?ke._events[ue].unshift(xe):ke._events[ue]=[xe,ke._events[ue]]:ke.on(ue,xe)}(N,"error",ne),N.once("close",fe),N.once("finish",pe),N.emit("pipe",q),P.flowing||(b("pipe resume"),q.resume()),N},F.prototype.unpipe=function(N){var U=this._readableState,q={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return N&&N!==U.pipes?this:(N||(N=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,N&&N.emit("unpipe",this,q),this);if(!N){var P=U.pipes,G=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var Z=0;Z<G;Z++)P[Z].emit("unpipe",this,q);return this}var X=d(U.pipes,N);return X===-1?this:(U.pipes.splice(X,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),N.emit("unpipe",this,q),this)},F.prototype.on=function(N,U){var q=l.prototype.on.call(this,N,U);if(N==="data")this._readableState.flowing!==!1&&this.resume();else if(N==="readable"){var P=this._readableState;P.endEmitted||P.readableListening||(P.readableListening=P.needReadable=!0,P.emittedReadable=!1,P.reading?P.length&&W(this):o.nextTick(S,this))}return q},F.prototype.addListener=F.prototype.on,F.prototype.resume=function(){var N=this._readableState;return N.flowing||(b("resume"),N.flowing=!0,function(U,q){q.resumeScheduled||(q.resumeScheduled=!0,o.nextTick(y,U,q))}(this,N)),this},F.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this},F.prototype.wrap=function(N){var U=this,q=this._readableState,P=!1;for(var G in N.on("end",function(){if(b("wrapped end"),q.decoder&&!q.ended){var X=q.decoder.end();X&&X.length&&U.push(X)}U.push(null)}),N.on("data",function(X){b("wrapped data"),q.decoder&&(X=q.decoder.write(X)),(!q.objectMode||X!=null)&&(q.objectMode||X&&X.length)&&(U.push(X)||(P=!0,N.pause()))}),N)this[G]===void 0&&typeof N[G]=="function"&&(this[G]=function(X){return function(){return N[X].apply(N,arguments)}}(G));for(var Z=0;Z<R.length;Z++)N.on(R[Z],this.emit.bind(this,R[Z]));return this._read=function(X){b("wrapped _read",X),P&&(P=!1,N.resume())},this},Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),F._fromList=D}).call(this,r(0),r(4))},function(t,e,r){t.exports=r(12).EventEmitter},function(t,e,r){"use strict";var n=r(6);function a(o,s){o.emit("error",s)}t.exports={destroy:function(o,s){var u=this,f=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return f||l?(s?s(o):!o||this._writableState&&this._writableState.errorEmitted||n.nextTick(a,this,o),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(c){!s&&c?(n.nextTick(a,u,c),u._writableState&&(u._writableState.errorEmitted=!0)):s&&s(c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){"use strict";var n=r(7).Buffer,a=n.isEncoding||function(b){switch((b=""+b)&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(b){var A;switch(this.encoding=function(I){var C=function(R){if(!R)return"utf8";for(var O;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(O)return;R=(""+R).toLowerCase(),O=!0}}(I);if(typeof C!="string"&&(n.isEncoding===a||!a(I)))throw new Error("Unknown encoding: "+I);return C||I}(b),this.encoding){case"utf16le":this.text=f,this.end=l,A=4;break;case"utf8":this.fillLast=u,A=4;break;case"base64":this.text=c,this.end=h,A=3;break;default:return this.write=m,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(A)}function s(b){return b<=127?0:b>>5==6?2:b>>4==14?3:b>>3==30?4:b>>6==2?-1:-2}function u(b){var A=this.lastTotal-this.lastNeed,I=function(C,R,O){if((192&R[0])!=128)return C.lastNeed=0,"\uFFFD";if(C.lastNeed>1&&R.length>1){if((192&R[1])!=128)return C.lastNeed=1,"\uFFFD";if(C.lastNeed>2&&R.length>2&&(192&R[2])!=128)return C.lastNeed=2,"\uFFFD"}}(this,b);return I!==void 0?I:this.lastNeed<=b.length?(b.copy(this.lastChar,A,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(b.copy(this.lastChar,A,0,b.length),void(this.lastNeed-=b.length))}function f(b,A){if((b.length-A)%2==0){var I=b.toString("utf16le",A);if(I){var C=I.charCodeAt(I.length-1);if(C>=55296&&C<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",A,b.length-1)}function l(b){var A=b&&b.length?this.write(b):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return A+this.lastChar.toString("utf16le",0,I)}return A}function c(b,A){var I=(b.length-A)%3;return I===0?b.toString("base64",A):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",A,b.length-I))}function h(b){var A=b&&b.length?this.write(b):"";return this.lastNeed?A+this.lastChar.toString("base64",0,3-this.lastNeed):A}function m(b){return b.toString(this.encoding)}function g(b){return b&&b.length?this.write(b):""}e.StringDecoder=o,o.prototype.write=function(b){if(b.length===0)return"";var A,I;if(this.lastNeed){if((A=this.fillLast(b))===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<b.length?A?A+this.text(b,I):this.text(b,I):A||""},o.prototype.end=function(b){var A=b&&b.length?this.write(b):"";return this.lastNeed?A+"\uFFFD":A},o.prototype.text=function(b,A){var I=function(R,O,F){var z=O.length-1;if(z<F)return 0;var B=s(O[z]);return B>=0?(B>0&&(R.lastNeed=B-1),B):--z<F||B===-2?0:(B=s(O[z]))>=0?(B>0&&(R.lastNeed=B-2),B):--z<F||B===-2?0:(B=s(O[z]))>=0?(B>0&&(B===2?B=0:R.lastNeed=B-3),B):0}(this,b,A);if(!this.lastNeed)return b.toString("utf8",A);this.lastTotal=I;var C=b.length-(I-this.lastNeed);return b.copy(this.lastChar,0,C),b.toString("utf8",A,C)},o.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length}},function(t,e,r){"use strict";t.exports=o;var n=r(1),a=r(5);function o(f){if(!(this instanceof o))return new o(f);n.call(this,f),this._transformState={afterTransform:function(l,c){var h=this._transformState;h.transforming=!1;var m=h.writecb;if(!m)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,c!=null&&this.push(c),m(l);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",s)}function s(){var f=this;typeof this._flush=="function"?this._flush(function(l,c){u(f,l,c)}):u(this,null,null)}function u(f,l,c){if(l)return f.emit("error",l);if(c!=null&&f.push(c),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}a.inherits=r(2),a.inherits(o,n),o.prototype.push=function(f,l){return this._transformState.needTransform=!1,n.prototype.push.call(this,f,l)},o.prototype._transform=function(f,l,c){throw new Error("_transform() is not implemented")},o.prototype._write=function(f,l,c){var h=this._transformState;if(h.writecb=c,h.writechunk=f,h.writeencoding=l,!h.transforming){var m=this._readableState;(h.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},o.prototype._read=function(f){var l=this._transformState;l.writechunk!==null&&l.writecb&&!l.transforming?(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform)):l.needTransform=!0},o.prototype._destroy=function(f,l){var c=this;n.prototype._destroy.call(this,f,function(h){l(h),c.emit("close")})}},function(t,e,r){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.bufFromString=function(a){var o=n.byteLength(a),s=n.allocUnsafe?n.allocUnsafe(o):new n(o);return s.write(a),s},e.emptyBuffer=function(){return n.allocUnsafe?n.allocUnsafe(0):new n(0)},e.filterArray=function(a,o){for(var s=[],u=0;u<a.length;u++)o.indexOf(u)>-1&&s.push(a[u]);return s},e.trimLeft=String.prototype.trimLeft?function(a){return a.trimLeft()}:function(a){return a.replace(/^\s+/,"")},e.trimRight=String.prototype.trimRight?function(a){return a.trimRight()}:function(a){return a.replace(/\s+$/,"")}}).call(this,r(3).Buffer)},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])};return function(s,u){function f(){this.constructor=s}o(s,u),s.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=function(o){function s(u,f,l){var c=o.call(this,"Error: "+u+". JSON Line number: "+f+(l?" near: "+l:""))||this;return c.err=u,c.line=f,c.extra=l,c.name="CSV Parse Error",c}return n(s,o),s.column_mismatched=function(u,f){return new s("column_mismatched",u,f)},s.unclosed_quote=function(u,f){return new s("unclosed_quote",u,f)},s.fromJSON=function(u){return new s(u.err,u.line,u.extra)},s.prototype.toJSON=function(){return{err:this.err,line:this.line,extra:this.extra}},s}(Error);e.default=a},function(t,e,r){var n=r(18),a=r(68),o=r(69),s=n?n.toStringTag:void 0;t.exports=function(u){return u==null?u===void 0?"[object Undefined]":"[object Null]":s&&s in Object(u)?a(u):o(u)}},function(t,e){t.exports=function(r,n){return r===n||r!=r&&n!=n}},function(t,e,r){t.exports=r(33)},function(t,e,r){"use strict";var n=r(34),a=function(o,s){return new n.Converter(o,s)};a.csv=a,a.Converter=n.Converter,t.exports=a},function(t,e,r){"use strict";(function(n){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,A){b.__proto__=A}||function(b,A){for(var I in A)A.hasOwnProperty(I)&&(b[I]=A[I])};return function(b,A){function I(){this.constructor=b}g(b,A),b.prototype=A===null?Object.create(A):(I.prototype=A.prototype,new I)}}(),o=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(36),u=r(50),f=r(51),l=o(r(15)),c=r(52),h=r(105),m=function(g){function b(A,I){I===void 0&&(I={});var C=g.call(this,I)||this;return C.options=I,C.params=u.mergeParams(A),C.runtime=f.initParseRuntime(C),C.result=new h.Result(C),C.processor=new c.ProcessorLocal(C),C.once("error",function(R){n(function(){C.result.processError(R),C.emit("done",R)})}),C.once("done",function(){C.processor.destroy()}),C}return a(b,g),b.prototype.preRawData=function(A){return this.runtime.preRawDataHook=A,this},b.prototype.preFileLine=function(A){return this.runtime.preFileLineHook=A,this},b.prototype.subscribe=function(A,I,C){return this.parseRuntime.subscribe={onNext:A,onError:I,onCompleted:C},this},b.prototype.fromFile=function(A,I){var C=this,R=r(!function(){var O=new Error("Cannot find module 'fs'");throw O.code="MODULE_NOT_FOUND",O}());return R.exists(A,function(O){O?R.createReadStream(A,I).pipe(C):C.emit("error",new Error("File does not exist. Check to make sure the file path to your csv is correct."))}),this},b.prototype.fromStream=function(A){return A.pipe(this),this},b.prototype.fromString=function(A){A.toString();var I=new s.Readable,C=0;return I._read=function(R){if(C>=A.length)this.push(null);else{var O=A.substr(C,R);this.push(O),C+=R}},this.fromStream(I)},b.prototype.then=function(A,I){var C=this;return new l.default(function(R,O){C.parseRuntime.then={onfulfilled:function(F){R(A?A(F):F)},onrejected:function(F){I?R(I(F)):O(F)}}})},Object.defineProperty(b.prototype,"parseParam",{get:function(){return this.params},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"parseRuntime",{get:function(){return this.runtime},enumerable:!0,configurable:!0}),b.prototype._transform=function(A,I,C){var R=this;this.processor.process(A).then(function(O){if(O.length>0)return R.runtime.started=!0,R.result.processResult(O)}).then(function(){R.emit("drained"),C()},function(O){R.runtime.hasError=!0,R.runtime.error=O,R.emit("error",O),C()})},b.prototype._flush=function(A){var I=this;this.processor.flush().then(function(C){if(C.length>0)return I.result.processResult(C)}).then(function(){I.processEnd(A)},function(C){I.emit("error",C),A()})},b.prototype.processEnd=function(A){this.result.endProcess(),this.emit("done"),A()},Object.defineProperty(b.prototype,"parsedLineNumber",{get:function(){return this.runtime.parsedLineNumber},enumerable:!0,configurable:!0}),b}(s.Transform);e.Converter=m}).call(this,r(11).setImmediate)},function(t,e,r){(function(n,a){(function(o,s){"use strict";if(!o.setImmediate){var u,f=1,l={},c=!1,h=o.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(o);m=m&&m.setTimeout?m:o,{}.toString.call(o.process)==="[object process]"?u=function(A){a.nextTick(function(){b(A)})}:function(){if(o.postMessage&&!o.importScripts){var A=!0,I=o.onmessage;return o.onmessage=function(){A=!1},o.postMessage("","*"),o.onmessage=I,A}}()?function(){var A="setImmediate$"+Math.random()+"$",I=function(C){C.source===o&&typeof C.data=="string"&&C.data.indexOf(A)===0&&b(+C.data.slice(A.length))};o.addEventListener?o.addEventListener("message",I,!1):o.attachEvent("onmessage",I),u=function(C){o.postMessage(A+C,"*")}}():o.MessageChannel?function(){var A=new MessageChannel;A.port1.onmessage=function(I){b(I.data)},u=function(I){A.port2.postMessage(I)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var A=h.documentElement;u=function(I){var C=h.createElement("script");C.onreadystatechange=function(){b(I),C.onreadystatechange=null,A.removeChild(C),C=null},A.appendChild(C)}}():u=function(A){setTimeout(b,0,A)},m.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var I=new Array(arguments.length-1),C=0;C<I.length;C++)I[C]=arguments[C+1];var R={callback:A,args:I};return l[f]=R,u(f),f++},m.clearImmediate=g}function g(A){delete l[A]}function b(A){if(c)setTimeout(b,0,A);else{var I=l[A];if(I){c=!0;try{(function(C){var R=C.callback,O=C.args;switch(O.length){case 0:R();break;case 1:R(O[0]);break;case 2:R(O[0],O[1]);break;case 3:R(O[0],O[1],O[2]);break;default:R.apply(s,O)}})(I)}finally{g(A),c=!1}}}}})(typeof self=="undefined"?n===void 0?this:n:self)}).call(this,r(0),r(4))},function(t,e,r){t.exports=a;var n=r(12).EventEmitter;function a(){n.call(this)}r(2)(a,n),a.Readable=r(13),a.Writable=r(46),a.Duplex=r(47),a.Transform=r(48),a.PassThrough=r(49),a.Stream=a,a.prototype.pipe=function(o,s){var u=this;function f(A){o.writable&&o.write(A)===!1&&u.pause&&u.pause()}function l(){u.readable&&u.resume&&u.resume()}u.on("data",f),o.on("drain",l),o._isStdio||s&&s.end===!1||(u.on("end",h),u.on("close",m));var c=!1;function h(){c||(c=!0,o.end())}function m(){c||(c=!0,typeof o.destroy=="function"&&o.destroy())}function g(A){if(b(),n.listenerCount(this,"error")===0)throw A}function b(){u.removeListener("data",f),o.removeListener("drain",l),u.removeListener("end",h),u.removeListener("close",m),u.removeListener("error",g),o.removeListener("error",g),u.removeListener("end",b),u.removeListener("close",b),o.removeListener("close",b)}return u.on("error",g),o.on("error",g),u.on("end",b),u.on("close",b),o.on("close",b),o.emit("pipe",u),o}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(n){return r.call(n)=="[object Array]"}},function(t,e,r){"use strict";e.byteLength=function(m){var g=l(m),b=g[0],A=g[1];return 3*(b+A)/4-A},e.toByteArray=function(m){for(var g,b=l(m),A=b[0],I=b[1],C=new o(3*(A+I)/4-I),R=0,O=I>0?A-4:A,F=0;F<O;F+=4)g=a[m.charCodeAt(F)]<<18|a[m.charCodeAt(F+1)]<<12|a[m.charCodeAt(F+2)]<<6|a[m.charCodeAt(F+3)],C[R++]=g>>16&255,C[R++]=g>>8&255,C[R++]=255&g;return I===2&&(g=a[m.charCodeAt(F)]<<2|a[m.charCodeAt(F+1)]>>4,C[R++]=255&g),I===1&&(g=a[m.charCodeAt(F)]<<10|a[m.charCodeAt(F+1)]<<4|a[m.charCodeAt(F+2)]>>2,C[R++]=g>>8&255,C[R++]=255&g),C},e.fromByteArray=function(m){for(var g,b=m.length,A=b%3,I=[],C=0,R=b-A;C<R;C+=16383)I.push(h(m,C,C+16383>R?R:C+16383));return A===1?(g=m[b-1],I.push(n[g>>2]+n[g<<4&63]+"==")):A===2&&(g=(m[b-2]<<8)+m[b-1],I.push(n[g>>10]+n[g>>4&63]+n[g<<2&63]+"=")),I.join("")};for(var n=[],a=[],o=typeof Uint8Array!="undefined"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,f=s.length;u<f;++u)n[u]=s[u],a[s.charCodeAt(u)]=u;function l(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=m.indexOf("=");return b===-1&&(b=g),[b,b===g?0:4-b%4]}function c(m){return n[m>>18&63]+n[m>>12&63]+n[m>>6&63]+n[63&m]}function h(m,g,b){for(var A,I=[],C=g;C<b;C+=3)A=(m[C]<<16&16711680)+(m[C+1]<<8&65280)+(255&m[C+2]),I.push(c(A));return I.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(t,e){e.read=function(r,n,a,o,s){var u,f,l=8*s-o-1,c=(1<<l)-1,h=c>>1,m=-7,g=a?s-1:0,b=a?-1:1,A=r[n+g];for(g+=b,u=A&(1<<-m)-1,A>>=-m,m+=l;m>0;u=256*u+r[n+g],g+=b,m-=8);for(f=u&(1<<-m)-1,u>>=-m,m+=o;m>0;f=256*f+r[n+g],g+=b,m-=8);if(u===0)u=1-h;else{if(u===c)return f?NaN:1/0*(A?-1:1);f+=Math.pow(2,o),u-=h}return(A?-1:1)*f*Math.pow(2,u-o)},e.write=function(r,n,a,o,s,u){var f,l,c,h=8*u-s-1,m=(1<<h)-1,g=m>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=o?0:u-1,I=o?1:-1,C=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(l=isNaN(n)?1:0,f=m):(f=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-f))<1&&(f--,c*=2),(n+=f+g>=1?b/c:b*Math.pow(2,1-g))*c>=2&&(f++,c/=2),f+g>=m?(l=0,f=m):f+g>=1?(l=(n*c-1)*Math.pow(2,s),f+=g):(l=n*Math.pow(2,g-1)*Math.pow(2,s),f=0));s>=8;r[a+A]=255&l,A+=I,l/=256,s-=8);for(f=f<<s|l,h+=s;h>0;r[a+A]=255&f,A+=I,f/=256,h-=8);r[a+A-I]|=128*C}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(n){return r.call(n)=="[object Array]"}},function(t,e){},function(t,e,r){"use strict";var n=r(7).Buffer,a=r(43);function o(s,u,f){s.copy(u,f)}t.exports=function(){function s(){(function(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}return s.prototype.push=function(u){var f={data:u,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length},s.prototype.unshift=function(u){var f={data:u,next:this.head};this.length===0&&(this.tail=f),this.head=f,++this.length},s.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},s.prototype.clear=function(){this.head=this.tail=null,this.length=0},s.prototype.join=function(u){if(this.length===0)return"";for(var f=this.head,l=""+f.data;f=f.next;)l+=u+f.data;return l},s.prototype.concat=function(u){if(this.length===0)return n.alloc(0);if(this.length===1)return this.head.data;for(var f=n.allocUnsafe(u>>>0),l=this.head,c=0;l;)o(l.data,f,c),c+=l.data.length,l=l.next;return f},s}(),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var s=a.inspect({length:this.length});return this.constructor.name+" "+s})},function(t,e){},function(t,e,r){(function(n){function a(o){try{if(!n.localStorage)return!1}catch(u){return!1}var s=n.localStorage[o];return s!=null&&String(s).toLowerCase()==="true"}t.exports=function(o,s){if(a("noDeprecation"))return o;var u=!1;return function(){if(!u){if(a("throwDeprecation"))throw new Error(s);a("traceDeprecation")?console.trace(s):console.warn(s),u=!0}return o.apply(this,arguments)}}}).call(this,r(0))},function(t,e,r){"use strict";t.exports=o;var n=r(27),a=r(5);function o(s){if(!(this instanceof o))return new o(s);n.call(this,s)}a.inherits=r(2),a.inherits(o,n),o.prototype._transform=function(s,u,f){f(null,s)}},function(t,e,r){t.exports=r(14)},function(t,e,r){t.exports=r(1)},function(t,e,r){t.exports=r(13).Transform},function(t,e,r){t.exports=r(13).PassThrough},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeParams=function(n){var a={delimiter:",",ignoreColumns:void 0,includeColumns:void 0,quote:'"',trim:!0,checkType:!1,ignoreEmpty:!1,noheader:!1,headers:void 0,flatKeys:!1,maxRowLength:0,checkColumn:!1,escape:'"',colParser:{},eol:void 0,alwaysSplitAtEOL:!1,output:"json",nullObject:!1,downstreamFormat:"line",needEmitAll:!0};for(var o in n||(n={}),n)n.hasOwnProperty(o)&&(Array.isArray(n[o])?a[o]=[].concat(n[o]):a[o]=n[o]);return a}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initParseRuntime=function(n){var a=n.parseParam,o={needProcessIgnoreColumn:!1,needProcessIncludeColumn:!1,selectedColumns:void 0,ended:!1,hasError:!1,error:void 0,delimiter:n.parseParam.delimiter,eol:n.parseParam.eol,columnConv:[],headerType:[],headerTitle:[],headerFlag:[],headers:void 0,started:!1,parsedLineNumber:0,columnValueSetter:[]};return a.ignoreColumns&&(o.needProcessIgnoreColumn=!0),a.includeColumns&&(o.needProcessIncludeColumn=!0),o}},function(t,e,r){"use strict";(function(n){var a=this&&this.__extends||function(){var I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,R){C.__proto__=R}||function(C,R){for(var O in R)R.hasOwnProperty(O)&&(C[O]=R[O])};return function(C,R){function O(){this.constructor=C}I(C,R),C.prototype=R===null?Object.create(R):(O.prototype=R.prototype,new O)}}(),o=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(53),u=o(r(15)),f=r(54),l=o(r(16)),c=r(57),h=r(28),m=r(58),g=o(r(59)),b=o(r(29)),A=function(I){function C(){var R=I!==null&&I.apply(this,arguments)||this;return R.rowSplit=new m.RowSplit(R.converter),R.eolEmitted=!1,R._needEmitEol=void 0,R.headEmitted=!1,R._needEmitHead=void 0,R}return a(C,I),C.prototype.flush=function(){var R=this;if(this.runtime.csvLineBuffer&&this.runtime.csvLineBuffer.length>0){var O=this.runtime.csvLineBuffer;return this.runtime.csvLineBuffer=void 0,this.process(O,!0).then(function(F){return R.runtime.csvLineBuffer&&R.runtime.csvLineBuffer.length>0?u.default.reject(b.default.unclosed_quote(R.runtime.parsedLineNumber,R.runtime.csvLineBuffer.toString())):u.default.resolve(F)})}return u.default.resolve([])},C.prototype.destroy=function(){return u.default.resolve()},Object.defineProperty(C.prototype,"needEmitEol",{get:function(){return this._needEmitEol===void 0&&(this._needEmitEol=this.converter.listeners("eol").length>0),this._needEmitEol},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"needEmitHead",{get:function(){return this._needEmitHead===void 0&&(this._needEmitHead=this.converter.listeners("header").length>0),this._needEmitHead},enumerable:!0,configurable:!0}),C.prototype.process=function(R,O){var F,z=this;return O===void 0&&(O=!1),F=O?R.toString():f.prepareData(R,this.converter.parseRuntime),u.default.resolve().then(function(){return z.runtime.preRawDataHook?z.runtime.preRawDataHook(F):F}).then(function(B){return B&&B.length>0?z.processCSV(B,O):u.default.resolve([])})},C.prototype.processCSV=function(R,O){var F=this,z=this.params,B=this.runtime;B.eol||l.default(R,B),this.needEmitEol&&!this.eolEmitted&&B.eol&&(this.converter.emit("eol",B.eol),this.eolEmitted=!0),z.ignoreEmpty&&!B.started&&(R=h.trimLeft(R));var $=c.stringToLines(R,B);return O?($.lines.push($.partial),$.partial=""):this.prependLeftBuf(h.bufFromString($.partial)),$.lines.length>0?(B.preFileLineHook?this.runPreLineHook($.lines):u.default.resolve($.lines)).then(function(j){return B.started||F.runtime.headers?F.processCSVBody(j):F.processDataWithHead(j)}):u.default.resolve([])},C.prototype.processDataWithHead=function(R){if(this.params.noheader)this.params.headers?this.runtime.headers=this.params.headers:this.runtime.headers=[];else{for(var O="",F=[];R.length;){var z=O+R.shift(),B=this.rowSplit.parse(z);if(B.closed){F=B.cells,O="";break}O=z+l.default(z,this.runtime)}if(this.prependLeftBuf(h.bufFromString(O)),F.length===0)return[];this.params.headers?this.runtime.headers=this.params.headers:this.runtime.headers=F}return(this.runtime.needProcessIgnoreColumn||this.runtime.needProcessIncludeColumn)&&this.filterHeader(),this.needEmitHead&&!this.headEmitted&&(this.converter.emit("header",this.runtime.headers),this.headEmitted=!0),this.processCSVBody(R)},C.prototype.filterHeader=function(){if(this.runtime.selectedColumns=[],this.runtime.headers){for(var R=this.runtime.headers,O=0;O<R.length;O++)if(this.params.ignoreColumns)if(this.params.ignoreColumns.test(R[O])){if(!this.params.includeColumns||!this.params.includeColumns.test(R[O]))continue;this.runtime.selectedColumns.push(O)}else this.runtime.selectedColumns.push(O);else this.params.includeColumns?this.params.includeColumns.test(R[O])&&this.runtime.selectedColumns.push(O):this.runtime.selectedColumns.push(O);this.runtime.headers=h.filterArray(this.runtime.headers,this.runtime.selectedColumns)}},C.prototype.processCSVBody=function(R){if(this.params.output==="line")return R;var O=this.rowSplit.parseMultiLines(R);return this.prependLeftBuf(h.bufFromString(O.partial)),this.params.output==="csv"?O.rowsCells:g.default(O.rowsCells,this.converter)},C.prototype.prependLeftBuf=function(R){R&&(this.runtime.csvLineBuffer?this.runtime.csvLineBuffer=n.concat([R,this.runtime.csvLineBuffer]):this.runtime.csvLineBuffer=R)},C.prototype.runPreLineHook=function(R){var O=this;return new u.default(function(F,z){(function B($,j,W,T){if(W>=$.length)T();else if(j.preFileLineHook){var p=$[W],v=j.preFileLineHook(p,j.parsedLineNumber+W);if(W++,v&&v.then)v.then(function(S){$[W-1]=S,B($,j,W,T)});else{for($[W-1]=v;W<$.length;)$[W]=j.preFileLineHook($[W],j.parsedLineNumber+W),W++;T()}}else T()})(R,O.runtime,0,function(B){B?z(B):F(R)})})},C}(s.Processor);e.ProcessorLocal=A}).call(this,r(3).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(a){this.converter=a,this.params=a.parseParam,this.runtime=a.parseRuntime};e.Processor=n},function(t,e,r){"use strict";(function(n){var a=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(55));e.prepareData=function(s,u){var f=function(c,h){return h.csvLineBuffer&&h.csvLineBuffer.length>0?n.concat([h.csvLineBuffer,c]):c}(s,u);u.csvLineBuffer=void 0;var l=function(c,h){var m=c.length-1;if((128&c[m])!=0){for(;(192&c[m])==128;)m--;m--}return m!=c.length-1?(h.csvLineBuffer=c.slice(m+1),c.slice(0,m+1)):c}(f,u).toString("utf8");return u.started===!1?o.default(l):l}}).call(this,r(3).Buffer)},function(t,e,r){"use strict";(function(n){var a=r(56);t.exports=function(o){return typeof o=="string"&&o.charCodeAt(0)===65279?o.slice(1):n.isBuffer(o)&&a(o)&&o[0]===239&&o[1]===187&&o[2]===191?o.slice(3):o}}).call(this,r(3).Buffer)},function(t,e){t.exports=function(r){for(var n=0;n<r.length;)if(r[n]==9||r[n]==10||r[n]==13||32<=r[n]&&r[n]<=126)n+=1;else if(194<=r[n]&&r[n]<=223&&128<=r[n+1]&&r[n+1]<=191)n+=2;else if(r[n]==224&&160<=r[n+1]&&r[n+1]<=191&&128<=r[n+2]&&r[n+2]<=191||(225<=r[n]&&r[n]<=236||r[n]==238||r[n]==239)&&128<=r[n+1]&&r[n+1]<=191&&128<=r[n+2]&&r[n+2]<=191||r[n]==237&&128<=r[n+1]&&r[n+1]<=159&&128<=r[n+2]&&r[n+2]<=191)n+=3;else{if(!(r[n]==240&&144<=r[n+1]&&r[n+1]<=191&&128<=r[n+2]&&r[n+2]<=191&&128<=r[n+3]&&r[n+3]<=191||241<=r[n]&&r[n]<=243&&128<=r[n+1]&&r[n+1]<=191&&128<=r[n+2]&&r[n+2]<=191&&128<=r[n+3]&&r[n+3]<=191||r[n]==244&&128<=r[n+1]&&r[n+1]<=143&&128<=r[n+2]&&r[n+2]<=191&&128<=r[n+3]&&r[n+3]<=191))return!1;n+=4}return!0}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(r(16));e.stringToLines=function(o,s){var u=a.default(o,s),f=o.split(u);return{lines:f,partial:f.pop()||""}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(r(16)),o=r(28),s=[",","|","	",";",":"],u=function(){function f(l){this.conv=l,this.cachedRegExp={},this.delimiterEmitted=!1,this._needEmitDelimiter=void 0,this.quote=l.parseParam.quote,this.trim=l.parseParam.trim,this.escape=l.parseParam.escape}return Object.defineProperty(f.prototype,"needEmitDelimiter",{get:function(){return this._needEmitDelimiter===void 0&&(this._needEmitDelimiter=this.conv.listeners("delimiter").length>0),this._needEmitDelimiter},enumerable:!0,configurable:!0}),f.prototype.parse=function(l){if(l.length===0||this.conv.parseParam.ignoreEmpty&&l.trim().length===0)return{cells:[],closed:!0};var c=this.quote,h=this.trim;this.escape,(this.conv.parseRuntime.delimiter instanceof Array||this.conv.parseRuntime.delimiter.toLowerCase()==="auto")&&(this.conv.parseRuntime.delimiter=this.getDelimiter(l)),this.needEmitDelimiter&&!this.delimiterEmitted&&(this.conv.emit("delimiter",this.conv.parseRuntime.delimiter),this.delimiterEmitted=!0);var m=this.conv.parseRuntime.delimiter,g=l.split(m);if(c==="off"){if(h)for(var b=0;b<g.length;b++)g[b]=g[b].trim();return{cells:g,closed:!0}}return this.toCSVRow(g,h,c,m)},f.prototype.toCSVRow=function(l,c,h,m){for(var g=[],b=!1,A="",I=0,C=l.length;I<C;I++){var R=l[I];!b&&c&&(R=o.trimLeft(R));var O=R.length;if(b)this.isQuoteClose(R)?(b=!1,A+=m+(R=R.substr(0,O-1)),A=this.escapeQuote(A),c&&(A=o.trimRight(A)),g.push(A),A=""):A+=m+R;else{if(O===2&&R===this.quote+this.quote){g.push("");continue}if(this.isQuoteOpen(R)){if(R=R.substr(1),this.isQuoteClose(R)){R=R.substring(0,R.lastIndexOf(h)),R=this.escapeQuote(R),g.push(R);continue}if(R.indexOf(h)!==-1){for(var F=0,z="",B=0,$=R;B<$.length;B++){var j=$[B];j===h&&z!==this.escape?(F++,z=""):z=j}if(F%2==1){c&&(R=o.trimRight(R)),g.push(h+R);continue}b=!0,A+=R;continue}b=!0,A+=R;continue}c&&(R=o.trimRight(R)),g.push(R)}}return{cells:g,closed:!b}},f.prototype.getDelimiter=function(l){var c;if(this.conv.parseParam.delimiter==="auto")c=s;else{if(!(this.conv.parseParam.delimiter instanceof Array))return this.conv.parseParam.delimiter;c=this.conv.parseParam.delimiter}var h=0,m=",";return c.forEach(function(g){var b=l.split(g).length;b>h&&(m=g,h=b)}),m},f.prototype.isQuoteOpen=function(l){var c=this.quote,h=this.escape;return l[0]===c&&(l[1]!==c||l[1]===h&&(l[2]===c||l.length===2))},f.prototype.isQuoteClose=function(l){var c=this.quote,h=this.escape;this.conv.parseParam.trim&&(l=o.trimRight(l));for(var m=0,g=l.length-1;l[g]===c||l[g]===h;)g--,m++;return m%2!=0},f.prototype.escapeQuote=function(l){var c="es|"+this.quote+"|"+this.escape;this.cachedRegExp[c]===void 0&&(this.cachedRegExp[c]=new RegExp("\\"+this.escape+"\\"+this.quote,"g"));var h=this.cachedRegExp[c];return l.replace(h,this.quote)},f.prototype.parseMultiLines=function(l){for(var c=[],h="";l.length;){var m=h+l.shift(),g=this.parse(m);g.cells.length===0&&this.conv.parseParam.ignoreEmpty||(g.closed||this.conv.parseParam.alwaysSplitAtEOL?(this.conv.parseRuntime.selectedColumns?c.push(o.filterArray(g.cells,this.conv.parseRuntime.selectedColumns)):c.push(g.cells),h=""):h=m+(a.default(m,this.conv.parseRuntime)||`
`))}return{rowsCells:c,partial:h}},f}();e.RowSplit=u},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(r(29)),o=n(r(60)),s=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/;function u(C,R,O){if(R.parseParam.checkColumn&&R.parseRuntime.headers&&C.length!==R.parseRuntime.headers.length)throw a.default.column_mismatched(R.parseRuntime.parsedLineNumber+O);return function(F,z,B){for(var $=!1,j={},W=0,T=F.length;W<T;W++){var p=F[W];if(!B.parseParam.ignoreEmpty||p!==""){$=!0;var v=z[W];v&&v!==""||(v=z[W]="field"+(W+1));var S=l(v,W,B);if(S){var y=S(p,v,j,F,W);y!==void 0&&c(j,v,y,B,W)}else B.parseParam.checkType&&(p=g(p,v,W,B)(p)),p!==void 0&&c(j,v,p,B,W)}}return $?j:null}(C,R.parseRuntime.headers||[],R)||null}e.default=function(C,R){for(var O=[],F=0,z=C.length;F<z;F++){var B=u(C[F],R,F);B&&O.push(B)}return O};var f={string:A,number:b,omit:function(){}};function l(C,R,O){if(O.parseRuntime.columnConv[R]!==void 0)return O.parseRuntime.columnConv[R];var F=O.parseParam.colParser[C];if(F===void 0)return O.parseRuntime.columnConv[R]=null;if(typeof F=="object"&&(F=F.cellParser||"string"),typeof F=="string"){F=F.trim().toLowerCase();var z=f[F];return O.parseRuntime.columnConv[R]=z||null}return O.parseRuntime.columnConv[R]=typeof F=="function"?F:null}function c(C,R,O,F,z){if(!F.parseRuntime.columnValueSetter[z])if(F.parseParam.flatKeys)F.parseRuntime.columnValueSetter[z]=h;else if(R.indexOf(".")>-1){for(var B=R.split("."),$=!0;B.length>0;)if(B.shift().length===0){$=!1;break}!$||F.parseParam.colParser[R]&&F.parseParam.colParser[R].flat?F.parseRuntime.columnValueSetter[z]=h:F.parseRuntime.columnValueSetter[z]=m}else F.parseRuntime.columnValueSetter[z]=h;F.parseParam.nullObject===!0&&O==="null"&&(O=null),F.parseRuntime.columnValueSetter[z](C,R,O)}function h(C,R,O){C[R]=O}function m(C,R,O){o.default(C,R,O)}function g(C,R,O,F){return F.parseRuntime.headerType[O]?F.parseRuntime.headerType[O]:R.indexOf("number#!")>-1?F.parseRuntime.headerType[O]=b:R.indexOf("string#!")>-1?F.parseRuntime.headerType[O]=A:F.parseParam.checkType?F.parseRuntime.headerType[O]=I:F.parseRuntime.headerType[O]=A}function b(C){var R=parseFloat(C);return isNaN(R)?C:R}function A(C){return C.toString()}function I(C){var R=C.trim();return R===""?A(C):s.test(R)?b(C):R.length===5&&R.toLowerCase()==="false"||R.length===4&&R.toLowerCase()==="true"?function(O){var F=O.trim();return F.length!==5||F.toLowerCase()!=="false"}(C):R[0]==="{"&&R[R.length-1]==="}"||R[0]==="["&&R[R.length-1]==="]"?function(O){try{return JSON.parse(O)}catch(F){return O}}(C):A(C)}},function(t,e,r){var n=r(61);t.exports=function(a,o,s){return a==null?a:n(a,o,s)}},function(t,e,r){var n=r(62),a=r(74),o=r(103),s=r(20),u=r(104);t.exports=function(f,l,c,h){if(!s(f))return f;for(var m=-1,g=(l=a(l,f)).length,b=g-1,A=f;A!=null&&++m<g;){var I=u(l[m]),C=c;if(m!=b){var R=A[I];(C=h?h(R,I,A):void 0)===void 0&&(C=s(R)?R:o(l[m+1])?[]:{})}n(A,I,C),A=A[I]}return f}},function(t,e,r){var n=r(63),a=r(31),o=Object.prototype.hasOwnProperty;t.exports=function(s,u,f){var l=s[u];o.call(s,u)&&a(l,f)&&(f!==void 0||u in s)||n(s,u,f)}},function(t,e,r){var n=r(64);t.exports=function(a,o,s){o=="__proto__"&&n?n(a,o,{configurable:!0,enumerable:!0,value:s,writable:!0}):a[o]=s}},function(t,e,r){var n=r(17),a=function(){try{var o=n(Object,"defineProperty");return o({},"",{}),o}catch(s){}}();t.exports=a},function(t,e,r){var n=r(66),a=r(70),o=r(20),s=r(72),u=/^\[object .+?Constructor\]$/,f=Function.prototype,l=Object.prototype,c=f.toString,h=l.hasOwnProperty,m=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(g){return!(!o(g)||a(g))&&(n(g)?m:u).test(s(g))}},function(t,e,r){var n=r(30),a=r(20);t.exports=function(o){if(!a(o))return!1;var s=n(o);return s=="[object Function]"||s=="[object GeneratorFunction]"||s=="[object AsyncFunction]"||s=="[object Proxy]"}},function(t,e,r){(function(n){var a=typeof n=="object"&&n&&n.Object===Object&&n;t.exports=a}).call(this,r(0))},function(t,e,r){var n=r(18),a=Object.prototype,o=a.hasOwnProperty,s=a.toString,u=n?n.toStringTag:void 0;t.exports=function(f){var l=o.call(f,u),c=f[u];try{f[u]=void 0;var h=!0}catch(g){}var m=s.call(f);return h&&(l?f[u]=c:delete f[u]),m}},function(t,e){var r=Object.prototype.toString;t.exports=function(n){return r.call(n)}},function(t,e,r){var n=r(71),a=function(){var o=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();t.exports=function(o){return!!a&&a in o}},function(t,e,r){var n=r(19)["__core-js_shared__"];t.exports=n},function(t,e){var r=Function.prototype.toString;t.exports=function(n){if(n!=null){try{return r.call(n)}catch(a){}try{return n+""}catch(a){}}return""}},function(t,e){t.exports=function(r,n){return r==null?void 0:r[n]}},function(t,e,r){var n=r(21),a=r(75),o=r(77),s=r(100);t.exports=function(u,f){return n(u)?u:a(u,f)?[u]:o(s(u))}},function(t,e,r){var n=r(21),a=r(22),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(u,f){if(n(u))return!1;var l=typeof u;return!(l!="number"&&l!="symbol"&&l!="boolean"&&u!=null&&!a(u))||s.test(u)||!o.test(u)||f!=null&&u in Object(f)}},function(t,e){t.exports=function(r){return r!=null&&typeof r=="object"}},function(t,e,r){var n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r(78)(function(s){var u=[];return s.charCodeAt(0)===46&&u.push(""),s.replace(n,function(f,l,c,h){u.push(c?h.replace(a,"$1"):l||f)}),u});t.exports=o},function(t,e,r){var n=r(79);t.exports=function(a){var o=n(a,function(u){return s.size===500&&s.clear(),u}),s=o.cache;return o}},function(t,e,r){var n=r(80),a="Expected a function";function o(s,u){if(typeof s!="function"||u!=null&&typeof u!="function")throw new TypeError(a);var f=function(){var l=arguments,c=u?u.apply(this,l):l[0],h=f.cache;if(h.has(c))return h.get(c);var m=s.apply(this,l);return f.cache=h.set(c,m)||h,m};return f.cache=new(o.Cache||n),f}o.Cache=n,t.exports=o},function(t,e,r){var n=r(81),a=r(95),o=r(97),s=r(98),u=r(99);function f(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var m=l[c];this.set(m[0],m[1])}}f.prototype.clear=n,f.prototype.delete=a,f.prototype.get=o,f.prototype.has=s,f.prototype.set=u,t.exports=f},function(t,e,r){var n=r(82),a=r(88),o=r(94);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||a),string:new n}}},function(t,e,r){var n=r(83),a=r(84),o=r(85),s=r(86),u=r(87);function f(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var m=l[c];this.set(m[0],m[1])}}f.prototype.clear=n,f.prototype.delete=a,f.prototype.get=o,f.prototype.has=s,f.prototype.set=u,t.exports=f},function(t,e,r){var n=r(8);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,e){t.exports=function(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}},function(t,e,r){var n=r(8),a=Object.prototype.hasOwnProperty;t.exports=function(o){var s=this.__data__;if(n){var u=s[o];return u==="__lodash_hash_undefined__"?void 0:u}return a.call(s,o)?s[o]:void 0}},function(t,e,r){var n=r(8),a=Object.prototype.hasOwnProperty;t.exports=function(o){var s=this.__data__;return n?s[o]!==void 0:a.call(s,o)}},function(t,e,r){var n=r(8);t.exports=function(a,o){var s=this.__data__;return this.size+=this.has(a)?0:1,s[a]=n&&o===void 0?"__lodash_hash_undefined__":o,this}},function(t,e,r){var n=r(89),a=r(90),o=r(91),s=r(92),u=r(93);function f(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var m=l[c];this.set(m[0],m[1])}}f.prototype.clear=n,f.prototype.delete=a,f.prototype.get=o,f.prototype.has=s,f.prototype.set=u,t.exports=f},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,r){var n=r(9),a=Array.prototype.splice;t.exports=function(o){var s=this.__data__,u=n(s,o);return!(u<0||(u==s.length-1?s.pop():a.call(s,u,1),--this.size,0))}},function(t,e,r){var n=r(9);t.exports=function(a){var o=this.__data__,s=n(o,a);return s<0?void 0:o[s][1]}},function(t,e,r){var n=r(9);t.exports=function(a){return n(this.__data__,a)>-1}},function(t,e,r){var n=r(9);t.exports=function(a,o){var s=this.__data__,u=n(s,a);return u<0?(++this.size,s.push([a,o])):s[u][1]=o,this}},function(t,e,r){var n=r(17)(r(19),"Map");t.exports=n},function(t,e,r){var n=r(10);t.exports=function(a){var o=n(this,a).delete(a);return this.size-=o?1:0,o}},function(t,e){t.exports=function(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}},function(t,e,r){var n=r(10);t.exports=function(a){return n(this,a).get(a)}},function(t,e,r){var n=r(10);t.exports=function(a){return n(this,a).has(a)}},function(t,e,r){var n=r(10);t.exports=function(a,o){var s=n(this,a),u=s.size;return s.set(a,o),this.size+=s.size==u?0:1,this}},function(t,e,r){var n=r(101);t.exports=function(a){return a==null?"":n(a)}},function(t,e,r){var n=r(18),a=r(102),o=r(21),s=r(22),u=n?n.prototype:void 0,f=u?u.toString:void 0;t.exports=function l(c){if(typeof c=="string")return c;if(o(c))return a(c,l)+"";if(s(c))return f?f.call(c):"";var h=c+"";return h=="0"&&1/c==-1/0?"-0":h}},function(t,e){t.exports=function(r,n){for(var a=-1,o=r==null?0:r.length,s=Array(o);++a<o;)s[a]=n(r[a],a,r);return s}},function(t,e){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(n,a){var o=typeof n;return!!(a=a==null?9007199254740991:a)&&(o=="number"||o!="symbol"&&r.test(n))&&n>-1&&n%1==0&&n<a}},function(t,e,r){var n=r(22);t.exports=function(a){if(typeof a=="string"||n(a))return a;var o=a+"";return o=="0"&&1/a==-1/0?"-0":o}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(r(15)),o=r(106),s=function(){function f(l){this.converter=l,this.finalResult=[]}return Object.defineProperty(f.prototype,"needEmitLine",{get:function(){return!!this.converter.parseRuntime.subscribe&&!!this.converter.parseRuntime.subscribe.onNext||this.needPushDownstream},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"needPushDownstream",{get:function(){return this._needPushDownstream===void 0&&(this._needPushDownstream=this.converter.listeners("data").length>0||this.converter.listeners("readable").length>0),this._needPushDownstream},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"needEmitAll",{get:function(){return!!this.converter.parseRuntime.then&&this.converter.parseParam.needEmitAll},enumerable:!0,configurable:!0}),f.prototype.processResult=function(l){var c=this,h=this.converter.parseRuntime.parsedLineNumber;return this.needPushDownstream&&this.converter.parseParam.downstreamFormat==="array"&&h===0&&u(this.converter,"["+o.EOL),new a.default(function(m,g){c.needEmitLine?function b(A,I,C,R,O){if(C>=A.length)O();else if(I.parseRuntime.subscribe&&I.parseRuntime.subscribe.onNext){var F=I.parseRuntime.subscribe.onNext,z=A[C],B=F(z,I.parseRuntime.parsedLineNumber+C);if(C++,B&&B.then)B.then(function(){(function(j,W,T,p,v,S,y){v&&u(T,y),b(j,T,p,v,S)})(A,0,I,C,R,O,z)},O);else{for(R&&u(I,z);C<A.length;){var $=A[C];F($,I.parseRuntime.parsedLineNumber+C),C++,R&&u(I,$)}O()}}else{if(R)for(;C<A.length;)$=A[C++],u(I,$);O()}}(l,c.converter,0,c.needPushDownstream,function(b){b?g(b):(c.appendFinalResult(l),m())}):(c.appendFinalResult(l),m())})},f.prototype.appendFinalResult=function(l){this.needEmitAll&&(this.finalResult=this.finalResult.concat(l)),this.converter.parseRuntime.parsedLineNumber+=l.length},f.prototype.processError=function(l){this.converter.parseRuntime.subscribe&&this.converter.parseRuntime.subscribe.onError&&this.converter.parseRuntime.subscribe.onError(l),this.converter.parseRuntime.then&&this.converter.parseRuntime.then.onrejected&&this.converter.parseRuntime.then.onrejected(l)},f.prototype.endProcess=function(){this.converter.parseRuntime.then&&this.converter.parseRuntime.then.onfulfilled&&(this.needEmitAll?this.converter.parseRuntime.then.onfulfilled(this.finalResult):this.converter.parseRuntime.then.onfulfilled([])),this.converter.parseRuntime.subscribe&&this.converter.parseRuntime.subscribe.onCompleted&&this.converter.parseRuntime.subscribe.onCompleted(),this.needPushDownstream&&this.converter.parseParam.downstreamFormat==="array"&&u(this.converter,"]"+o.EOL)},f}();function u(f,l){if(typeof l!="object"||f.options.objectMode)f.push(l);else{var c=JSON.stringify(l);f.push(c+(f.parseParam.downstreamFormat==="array"?","+o.EOL:o.EOL),"utf8")}}e.Result=s},function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return typeof location!="undefined"?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return typeof navigator!="undefined"?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL=`
`,e.homedir=function(){return"/"}}])});var En=Ee((j5,iee)=>{w();_();var MA=Oi(),ih=MA.Buffer;function nee(t,e){for(var r in t)e[r]=t[r]}ih.from&&ih.alloc&&ih.allocUnsafe&&ih.allocUnsafeSlow?iee.exports=MA:(nee(MA,j5),j5.Buffer=Ag);function Ag(t,e,r){return ih(t,e,r)}nee(ih,Ag);Ag.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ih(t,e,r)};Ag.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=ih(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ag.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ih(t)};Ag.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return MA.SlowBuffer(t)}});var Em=Ee((Str,V5)=>{"use strict";w();_();var $5=65536,KXe=4294967295;function ZXe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var JXe=En().Buffer,AA=globalThis.crypto||globalThis.msCrypto;AA&&AA.getRandomValues?V5.exports=YXe:V5.exports=ZXe;function YXe(t,e){if(t>KXe)throw new RangeError("requested too many random bytes");var r=JXe.allocUnsafe(t);if(t>0)if(t>$5)for(var n=0;n<t;n+=$5)AA.getRandomValues(r.slice(n,n+$5));else AA.getRandomValues(r);return typeof e=="function"?$process.nextTick(function(){e(null,r)}):r}});var see=Ee((W5,oee)=>{w();_();var NA=Oi(),uc=NA.Buffer;function aee(t,e){for(var r in t)e[r]=t[r]}uc.from&&uc.alloc&&uc.allocUnsafe&&uc.allocUnsafeSlow?oee.exports=NA:(aee(NA,W5),W5.Buffer=Mm);function Mm(t,e,r){return uc(t,e,r)}Mm.prototype=Object.create(uc.prototype);aee(uc,Mm);Mm.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return uc(t,e,r)};Mm.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=uc(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Mm.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return uc(t)};Mm.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return NA.SlowBuffer(t)}});var G5=Ee((Etr,uee)=>{w();_();uee.exports=Fu().EventEmitter});var hee=Ee((Mtr,cee)=>{"use strict";w();_();function fee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function XXe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fee(Object(r),!0).forEach(function(n){QXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QXe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tQe(t,e,r){return e&&lee(t.prototype,e),r&&lee(t,r),t}var rQe=Oi(),TA=rQe.Buffer,nQe=rc(),H5=nQe.inspect,iQe=H5&&H5.custom||"inspect";function aQe(t,e,r){TA.prototype.copy.call(t,e,r)}cee.exports=function(){function t(){eQe(this,t),this.head=null,this.tail=null,this.length=0}return tQe(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,a=""+n.data;n=n.next;)a+=r+n.data;return a}},{key:"concat",value:function(r){if(this.length===0)return TA.alloc(0);for(var n=TA.allocUnsafe(r>>>0),a=this.head,o=0;a;)aQe(a.data,n,o),o+=a.data.length,a=a.next;return n}},{key:"consume",value:function(r,n){var a;return r<this.head.data.length?(a=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?a=this.shift():a=n?this._getString(r):this._getBuffer(r),a}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,a=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,u=r>s.length?s.length:r;if(u===s.length?o+=s:o+=s.slice(0,r),r-=u,r===0){u===s.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(u));break}++a}return this.length-=a,o}},{key:"_getBuffer",value:function(r){var n=TA.allocUnsafe(r),a=this.head,o=1;for(a.data.copy(n),r-=a.data.length;a=a.next;){var s=a.data,u=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,u),r-=u,r===0){u===s.length?(++o,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=s.slice(u));break}++o}return this.length-=o,n}},{key:iQe,value:function(r,n){return H5(this,XXe({},n,{depth:0,customInspect:!1}))}}]),t}()});var Z5=Ee((Atr,dee)=>{"use strict";w();_();function oQe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,$process.nextTick(K5,this,t)):$process.nextTick(K5,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?$process.nextTick(DA,r):(r._writableState.errorEmitted=!0,$process.nextTick(pee,r,o)):$process.nextTick(pee,r,o):e?($process.nextTick(DA,r),e(o)):$process.nextTick(DA,r)}),this)}function pee(t,e){K5(t,e),DA(t)}function DA(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function sQe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function K5(t,e){t.emit("error",e)}function uQe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}dee.exports={destroy:oQe,undestroy:sQe,errorOrDestroy:uQe}});var Am=Ee((Ntr,gee)=>{"use strict";w();_();function fQe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var vee={};function Uu(t,e,r){r||(r=Error);function n(o,s,u){return typeof e=="string"?e:e(o,s,u)}var a=function(o){fQe(s,o);function s(u,f,l){return o.call(this,n(u,f,l))||this}return s}(r);a.prototype.name=r.name,a.prototype.code=t,vee[t]=a}function mee(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function lQe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function cQe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function hQe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Uu("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Uu("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&lQe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var a;if(cQe(t," argument"))a="The ".concat(t," ").concat(n," ").concat(mee(e,"type"));else{var o=hQe(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(mee(e,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);Uu("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Uu("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Uu("ERR_STREAM_PREMATURE_CLOSE","Premature close");Uu("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Uu("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Uu("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Uu("ERR_STREAM_WRITE_AFTER_END","write after end");Uu("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Uu("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Uu("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");gee.exports.codes=vee});var J5=Ee((Ttr,yee)=>{"use strict";w();_();var pQe=Am().codes.ERR_INVALID_OPT_VALUE;function dQe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function mQe(t,e,r,n){var a=dQe(e,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var o=n?r:"highWaterMark";throw new pQe(o,a)}return Math.floor(a)}return t.objectMode?16:16*1024}yee.exports={getHighWaterMark:mQe}});var Q5=Ee((Dtr,Eee)=>{"use strict";w();_();Eee.exports=Aa;function wee(t){var e=this;this.next=null,this.entry=null,this.finish=function(){jQe(e,t)}}var Ng;Aa.WritableState=Ax;var vQe={deprecate:px()},xee=G5(),IA=Oi().Buffer,gQe=globalThis.Uint8Array||function(){};function yQe(t){return IA.from(t)}function bQe(t){return IA.isBuffer(t)||t instanceof gQe}var X5=Z5(),wQe=J5(),xQe=wQe.getHighWaterMark,Fp=Am().codes,_Qe=Fp.ERR_INVALID_ARG_TYPE,SQe=Fp.ERR_METHOD_NOT_IMPLEMENTED,EQe=Fp.ERR_MULTIPLE_CALLBACK,MQe=Fp.ERR_STREAM_CANNOT_PIPE,AQe=Fp.ERR_STREAM_DESTROYED,NQe=Fp.ERR_STREAM_NULL_VALUES,TQe=Fp.ERR_STREAM_WRITE_AFTER_END,DQe=Fp.ERR_UNKNOWN_ENCODING,Tg=X5.errorOrDestroy;xr()(Aa,xee);function kQe(){}function Ax(t,e,r){Ng=Ng||Nm(),t=t||{},typeof r!="boolean"&&(r=e instanceof Ng),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=xQe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){LQe(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new wee(this)}Ax.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Ax.prototype,"buffer",{get:vQe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var kA;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(kA=Function.prototype[Symbol.hasInstance],Object.defineProperty(Aa,Symbol.hasInstance,{value:function(e){return kA.call(this,e)?!0:this!==Aa?!1:e&&e._writableState instanceof Ax}})):kA=function(e){return e instanceof this};function Aa(t){Ng=Ng||Nm();var e=this instanceof Ng;if(!e&&!kA.call(Aa,this))return new Aa(t);this._writableState=new Ax(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),xee.call(this)}Aa.prototype.pipe=function(){Tg(this,new MQe)};function IQe(t,e){var r=new TQe;Tg(t,r),$process.nextTick(e,r)}function CQe(t,e,r,n){var a;return r===null?a=new NQe:typeof r!="string"&&!e.objectMode&&(a=new _Qe("chunk",["string","Buffer"],r)),a?(Tg(t,a),$process.nextTick(n,a),!1):!0}Aa.prototype.write=function(t,e,r){var n=this._writableState,a=!1,o=!n.objectMode&&bQe(t);return o&&!IA.isBuffer(t)&&(t=yQe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=kQe),n.ending?IQe(this,r):(o||CQe(this,n,t,r))&&(n.pendingcb++,a=RQe(this,n,o,t,e,r)),a};Aa.prototype.cork=function(){this._writableState.corked++};Aa.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&_ee(this,t))};Aa.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new DQe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Aa.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function OQe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=IA.from(e,r)),e}Object.defineProperty(Aa.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function RQe(t,e,r,n,a,o){if(!r){var s=OQe(e,n,a);n!==s&&(r=!0,a="buffer",n=s)}var u=e.objectMode?1:n.length;e.length+=u;var f=e.length<e.highWaterMark;if(f||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Y5(t,e,!1,u,n,a,o);return f}function Y5(t,e,r,n,a,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new AQe("write")):r?t._writev(a,e.onwrite):t._write(a,o,e.onwrite),e.sync=!1}function FQe(t,e,r,n,a){--e.pendingcb,r?($process.nextTick(a,n),$process.nextTick(Mx,t,e),t._writableState.errorEmitted=!0,Tg(t,n)):(a(n),t._writableState.errorEmitted=!0,Tg(t,n),Mx(t,e))}function BQe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function LQe(t,e){var r=t._writableState,n=r.sync,a=r.writecb;if(typeof a!="function")throw new EQe;if(BQe(r),e)FQe(t,r,n,e,a);else{var o=See(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&_ee(t,r),n?$process.nextTick(bee,t,r,o,a):bee(t,r,o,a)}}function bee(t,e,r,n){r||PQe(t,e),e.pendingcb--,n(),Mx(t,e)}function PQe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function _ee(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,a=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)a[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;a.allBuffers=u,Y5(t,e,!0,e.length,a,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new wee(e),e.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,l=r.encoding,c=r.callback,h=e.objectMode?1:f.length;if(Y5(t,e,!1,h,f,l,c),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Aa.prototype._write=function(t,e,r){r(new SQe("_write()"))};Aa.prototype._writev=null;Aa.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||UQe(this,n,r),this};Object.defineProperty(Aa.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function See(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function qQe(t,e){t._final(function(r){e.pendingcb--,r&&Tg(t,r),e.prefinished=!0,t.emit("prefinish"),Mx(t,e)})}function zQe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,$process.nextTick(qQe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Mx(t,e){var r=See(e);if(r&&(zQe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function UQe(t,e,r){e.ending=!0,Mx(t,e),r&&(e.finished?$process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function jQe(t,e,r){var n=t.entry;for(t.entry=null;n;){var a=n.callback;e.pendingcb--,a(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Aa.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});Aa.prototype.destroy=X5.destroy;Aa.prototype._undestroy=X5.undestroy;Aa.prototype._destroy=function(t,e){e(t)}});var Nm=Ee((ktr,Aee)=>{"use strict";w();_();var $Qe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Aee.exports=fc;var Mee=rR(),tR=Q5();xr()(fc,Mee);for(eR=$Qe(tR.prototype),CA=0;CA<eR.length;CA++)OA=eR[CA],fc.prototype[OA]||(fc.prototype[OA]=tR.prototype[OA]);var eR,OA,CA;function fc(t){if(!(this instanceof fc))return new fc(t);Mee.call(this,t),tR.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",VQe)))}Object.defineProperty(fc.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(fc.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(fc.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function VQe(){this._writableState.ended||$process.nextTick(WQe,this)}function WQe(t){t.end()}Object.defineProperty(fc.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var RA=Ee((Itr,Dee)=>{"use strict";w();_();var Nee=Am().codes.ERR_STREAM_PREMATURE_CLOSE;function GQe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];t.apply(this,n)}}}function HQe(){}function KQe(t){return t.setHeader&&typeof t.abort=="function"}function Tee(t,e,r){if(typeof e=="function")return Tee(t,null,e);e||(e={}),r=GQe(r||HQe);var n=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||u()},s=t._writableState&&t._writableState.finished,u=function(){a=!1,s=!0,n||r.call(t)},f=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,f=!0,a||r.call(t)},c=function(b){r.call(t,b)},h=function(){var b;if(n&&!f)return(!t._readableState||!t._readableState.ended)&&(b=new Nee),r.call(t,b);if(a&&!s)return(!t._writableState||!t._writableState.ended)&&(b=new Nee),r.call(t,b)},m=function(){t.req.on("finish",u)};return KQe(t)?(t.on("complete",u),t.on("abort",h),t.req?m():t.on("request",m)):a&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",l),t.on("finish",u),e.error!==!1&&t.on("error",c),t.on("close",h),function(){t.removeListener("complete",u),t.removeListener("abort",h),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",u),t.removeListener("end",l),t.removeListener("error",c),t.removeListener("close",h)}}Dee.exports=Tee});var Iee=Ee((Ctr,kee)=>{"use strict";w();_();var FA;function Bp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ZQe=RA(),Lp=Symbol("lastResolve"),Tm=Symbol("lastReject"),Nx=Symbol("error"),BA=Symbol("ended"),Dm=Symbol("lastPromise"),nR=Symbol("handlePromise"),km=Symbol("stream");function Pp(t,e){return{value:t,done:e}}function JQe(t){var e=t[Lp];if(e!==null){var r=t[km].read();r!==null&&(t[Dm]=null,t[Lp]=null,t[Tm]=null,e(Pp(r,!1)))}}function YQe(t){$process.nextTick(JQe,t)}function XQe(t,e){return function(r,n){t.then(function(){if(e[BA]){r(Pp(void 0,!0));return}e[nR](r,n)},n)}}var QQe=Object.getPrototypeOf(function(){}),eet=Object.setPrototypeOf((FA={get stream(){return this[km]},next:function(){var e=this,r=this[Nx];if(r!==null)return Promise.reject(r);if(this[BA])return Promise.resolve(Pp(void 0,!0));if(this[km].destroyed)return new Promise(function(s,u){$process.nextTick(function(){e[Nx]?u(e[Nx]):s(Pp(void 0,!0))})});var n=this[Dm],a;if(n)a=new Promise(XQe(n,this));else{var o=this[km].read();if(o!==null)return Promise.resolve(Pp(o,!1));a=new Promise(this[nR])}return this[Dm]=a,a}},Bp(FA,Symbol.asyncIterator,function(){return this}),Bp(FA,"return",function(){var e=this;return new Promise(function(r,n){e[km].destroy(null,function(a){if(a){n(a);return}r(Pp(void 0,!0))})})}),FA),QQe),tet=function(e){var r,n=Object.create(eet,(r={},Bp(r,km,{value:e,writable:!0}),Bp(r,Lp,{value:null,writable:!0}),Bp(r,Tm,{value:null,writable:!0}),Bp(r,Nx,{value:null,writable:!0}),Bp(r,BA,{value:e._readableState.endEmitted,writable:!0}),Bp(r,nR,{value:function(o,s){var u=n[km].read();u?(n[Dm]=null,n[Lp]=null,n[Tm]=null,o(Pp(u,!1))):(n[Lp]=o,n[Tm]=s)},writable:!0}),r));return n[Dm]=null,ZQe(e,function(a){if(a&&a.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Tm];o!==null&&(n[Dm]=null,n[Lp]=null,n[Tm]=null,o(a)),n[Nx]=a;return}var s=n[Lp];s!==null&&(n[Dm]=null,n[Lp]=null,n[Tm]=null,s(Pp(void 0,!0))),n[BA]=!0}),e.on("readable",YQe.bind(null,n)),n};kee.exports=tet});var Oee=Ee((Otr,Cee)=>{w();_();Cee.exports=function(){throw new Error("Readable.from is not available in the browser")}});var rR=Ee((Ftr,$ee)=>{"use strict";w();_();$ee.exports=qn;var Dg;qn.ReadableState=Lee;var Rtr=Fu().EventEmitter,Bee=function(e,r){return e.listeners(r).length},Dx=G5(),LA=Oi().Buffer,ret=globalThis.Uint8Array||function(){};function net(t){return LA.from(t)}function iet(t){return LA.isBuffer(t)||t instanceof ret}var iR=rc(),un;iR&&iR.debuglog?un=iR.debuglog("stream"):un=function(){};var aet=hee(),cR=Z5(),oet=J5(),set=oet.getHighWaterMark,PA=Am().codes,uet=PA.ERR_INVALID_ARG_TYPE,fet=PA.ERR_STREAM_PUSH_AFTER_EOF,cet=PA.ERR_METHOD_NOT_IMPLEMENTED,het=PA.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,kg,aR,oR;xr()(qn,Dx);var Tx=cR.errorOrDestroy,sR=["error","close","destroy","pause","resume"];function pet(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function Lee(t,e,r){Dg=Dg||Nm(),t=t||{},typeof r!="boolean"&&(r=e instanceof Dg),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=set(this,t,"readableHighWaterMark",r),this.buffer=new aet,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(kg||(kg=ac().StringDecoder),this.decoder=new kg(t.encoding),this.encoding=t.encoding)}function qn(t){if(Dg=Dg||Nm(),!(this instanceof qn))return new qn(t);var e=this instanceof Dg;this._readableState=new Lee(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Dx.call(this)}Object.defineProperty(qn.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});qn.prototype.destroy=cR.destroy;qn.prototype._undestroy=cR.undestroy;qn.prototype._destroy=function(t,e){e(t)};qn.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=LA.from(t,e),e=""),n=!0),Pee(this,t,e,!1,n)};qn.prototype.unshift=function(t){return Pee(this,t,null,!0,!1)};function Pee(t,e,r,n,a){un("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,vet(t,o);else{var s;if(a||(s=det(o,e)),s)Tx(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==LA.prototype&&(e=net(e)),n)o.endEmitted?Tx(t,new het):uR(t,o,e,!0);else if(o.ended)Tx(t,new fet);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?uR(t,o,e,!1):lR(t,o)):uR(t,o,e,!1)}else n||(o.reading=!1,lR(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function uR(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&qA(t)),lR(t,e)}function det(t,e){var r;return!iet(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new uet("chunk",["string","Buffer","Uint8Array"],e)),r}qn.prototype.isPaused=function(){return this._readableState.flowing===!1};qn.prototype.setEncoding=function(t){kg||(kg=ac().StringDecoder);var e=new kg(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Ree=1073741824;function met(t){return t>=Ree?t=Ree:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Fee(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=met(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}qn.prototype.read=function(t){un("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return un("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?fR(this):qA(this),null;if(t=Fee(t,e),t===0&&e.ended)return e.length===0&&fR(this),null;var n=e.needReadable;un("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,un("length less than watermark",n)),e.ended||e.reading?(n=!1,un("reading or ended",n)):n&&(un("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Fee(r,e)));var a;return t>0?a=Uee(t,e):a=null,a===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&fR(this)),a!==null&&this.emit("data",a),a};function vet(t,e){if(un("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?qA(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,qee(t)))}}function qA(t){var e=t._readableState;un("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(un("emitReadable",e.flowing),e.emittedReadable=!0,$process.nextTick(qee,t))}function qee(t){var e=t._readableState;un("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,hR(t)}function lR(t,e){e.readingMore||(e.readingMore=!0,$process.nextTick(get,t,e))}function get(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(un("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}qn.prototype._read=function(t){Tx(this,new cet("_read()"))};qn.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,un("pipe count=%d opts=%j",n.pipesCount,e);var a=(!e||e.end!==!1)&&t!==$process.stdout&&t!==$process.stderr,o=a?u:A;n.endEmitted?$process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(I,C){un("onunpipe"),I===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,c())}function u(){un("onend"),t.end()}var f=yet(r);t.on("drain",f);var l=!1;function c(){un("cleanup"),t.removeListener("close",g),t.removeListener("finish",b),t.removeListener("drain",f),t.removeListener("error",m),t.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",A),r.removeListener("data",h),l=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&f()}r.on("data",h);function h(I){un("ondata");var C=t.write(I);un("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&jee(n.pipes,t)!==-1)&&!l&&(un("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function m(I){un("onerror",I),A(),t.removeListener("error",m),Bee(t,"error")===0&&Tx(t,I)}pet(t,"error",m);function g(){t.removeListener("finish",b),A()}t.once("close",g);function b(){un("onfinish"),t.removeListener("close",g),A()}t.once("finish",b);function A(){un("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(un("pipe resume"),r.resume()),t};function yet(t){return function(){var r=t._readableState;un("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Bee(t,"data")&&(r.flowing=!0,hR(t))}}qn.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,a=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<a;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=jee(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};qn.prototype.on=function(t,e){var r=Dx.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,un("on readable",n.length,n.reading),n.length?qA(this):n.reading||$process.nextTick(bet,this)),r};qn.prototype.addListener=qn.prototype.on;qn.prototype.removeListener=function(t,e){var r=Dx.prototype.removeListener.call(this,t,e);return t==="readable"&&$process.nextTick(zee,this),r};qn.prototype.removeAllListeners=function(t){var e=Dx.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&$process.nextTick(zee,this),e};function zee(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function bet(t){un("readable nexttick read 0"),t.read(0)}qn.prototype.resume=function(){var t=this._readableState;return t.flowing||(un("resume"),t.flowing=!t.readableListening,wet(this,t)),t.paused=!1,this};function wet(t,e){e.resumeScheduled||(e.resumeScheduled=!0,$process.nextTick(xet,t,e))}function xet(t,e){un("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),hR(t),e.flowing&&!e.reading&&t.read(0)}qn.prototype.pause=function(){return un("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(un("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function hR(t){var e=t._readableState;for(un("flow",e.flowing);e.flowing&&t.read()!==null;);}qn.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(un("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(un("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var u=e.push(s);u||(n=!0,t.pause())}});for(var a in t)this[a]===void 0&&typeof t[a]=="function"&&(this[a]=function(u){return function(){return t[u].apply(t,arguments)}}(a));for(var o=0;o<sR.length;o++)t.on(sR[o],this.emit.bind(this,sR[o]));return this._read=function(s){un("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(qn.prototype[Symbol.asyncIterator]=function(){return aR===void 0&&(aR=Iee()),aR(this)});Object.defineProperty(qn.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(qn.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(qn.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});qn._fromList=Uee;Object.defineProperty(qn.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Uee(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function fR(t){var e=t._readableState;un("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,$process.nextTick(_et,e,t))}function _et(t,e){if(un("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(qn.from=function(t,e){return oR===void 0&&(oR=Oee()),oR(qn,t,e)});function jee(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var pR=Ee((Btr,Wee)=>{"use strict";w();_();Wee.exports=ah;var zA=Am().codes,Eet=zA.ERR_METHOD_NOT_IMPLEMENTED,Met=zA.ERR_MULTIPLE_CALLBACK,Aet=zA.ERR_TRANSFORM_ALREADY_TRANSFORMING,Net=zA.ERR_TRANSFORM_WITH_LENGTH_0,UA=Nm();xr()(ah,UA);function Tet(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Met);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function ah(t){if(!(this instanceof ah))return new ah(t);UA.call(this,t),this._transformState={afterTransform:Tet.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Det)}function Det(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Vee(t,e,r)}):Vee(this,null,null)}ah.prototype.push=function(t,e){return this._transformState.needTransform=!1,UA.prototype.push.call(this,t,e)};ah.prototype._transform=function(t,e,r){r(new Eet("_transform()"))};ah.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};ah.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};ah.prototype._destroy=function(t,e){UA.prototype._destroy.call(this,t,function(r){e(r)})};function Vee(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Net;if(t._transformState.transforming)throw new Aet;return t.push(null)}});var Kee=Ee((Ltr,Hee)=>{"use strict";w();_();Hee.exports=kx;var Gee=pR();xr()(kx,Gee);function kx(t){if(!(this instanceof kx))return new kx(t);Gee.call(this,t)}kx.prototype._transform=function(t,e,r){r(null,t)}});var Qee=Ee((Ptr,Xee)=>{"use strict";w();_();var dR;function ket(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Yee=Am().codes,Iet=Yee.ERR_MISSING_ARGS,Cet=Yee.ERR_STREAM_DESTROYED;function Zee(t){if(t)throw t}function Oet(t){return t.setHeader&&typeof t.abort=="function"}function Ret(t,e,r,n){n=ket(n);var a=!1;t.on("close",function(){a=!0}),dR===void 0&&(dR=RA()),dR(t,{readable:e,writable:r},function(s){if(s)return n(s);a=!0,n()});var o=!1;return function(s){if(!a&&!o){if(o=!0,Oet(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new Cet("pipe"))}}}function Jee(t){t()}function Fet(t,e){return t.pipe(e)}function Bet(t){return!t.length||typeof t[t.length-1]!="function"?Zee:t.pop()}function Let(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Bet(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Iet("streams");var a,o=e.map(function(s,u){var f=u<e.length-1,l=u>0;return Ret(s,f,l,function(c){a||(a=c),c&&o.forEach(Jee),!f&&(o.forEach(Jee),n(a))})});return e.reduce(Fet)}Xee.exports=Let});var tte=Ee((ju,ete)=>{w();_();ju=ete.exports=rR();ju.Stream=ju;ju.Readable=ju;ju.Writable=Q5();ju.Duplex=Nm();ju.Transform=pR();ju.PassThrough=Kee();ju.finished=RA();ju.pipeline=Qee()});var mR=Ee((qtr,nte)=>{"use strict";w();_();var jA=see().Buffer,rte=tte().Transform,Pet=xr();function qet(t,e){if(!jA.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function qp(t){rte.call(this),this._block=jA.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Pet(qp,rte);qp.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(a){n=a}r(n)};qp.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};qp.prototype.update=function(t,e){if(qet(t,"Data"),this._finalized)throw new Error("Digest already called");jA.isBuffer(t)||(t=jA.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)r[a++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var o=0,s=t.length*8;s>0;++o)this._length[o]+=s,s=this._length[o]/4294967296|0,s>0&&(this._length[o]-=4294967296*s);return this};qp.prototype._update=function(){throw new Error("_update is not implemented")};qp.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};qp.prototype._digest=function(){throw new Error("_digest is not implemented")};nte.exports=qp});var WA=Ee((ztr,ate)=>{"use strict";w();_();var zet=xr(),ite=mR(),Uet=En().Buffer,jet=new Array(16);function $A(){ite.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}zet($A,ite);$A.prototype._update=function(){for(var t=jet,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,a=this._c,o=this._d;r=Go(r,n,a,o,t[0],3614090360,7),o=Go(o,r,n,a,t[1],3905402710,12),a=Go(a,o,r,n,t[2],606105819,17),n=Go(n,a,o,r,t[3],3250441966,22),r=Go(r,n,a,o,t[4],4118548399,7),o=Go(o,r,n,a,t[5],1200080426,12),a=Go(a,o,r,n,t[6],2821735955,17),n=Go(n,a,o,r,t[7],4249261313,22),r=Go(r,n,a,o,t[8],1770035416,7),o=Go(o,r,n,a,t[9],2336552879,12),a=Go(a,o,r,n,t[10],4294925233,17),n=Go(n,a,o,r,t[11],2304563134,22),r=Go(r,n,a,o,t[12],1804603682,7),o=Go(o,r,n,a,t[13],4254626195,12),a=Go(a,o,r,n,t[14],2792965006,17),n=Go(n,a,o,r,t[15],1236535329,22),r=Ho(r,n,a,o,t[1],4129170786,5),o=Ho(o,r,n,a,t[6],3225465664,9),a=Ho(a,o,r,n,t[11],643717713,14),n=Ho(n,a,o,r,t[0],3921069994,20),r=Ho(r,n,a,o,t[5],3593408605,5),o=Ho(o,r,n,a,t[10],38016083,9),a=Ho(a,o,r,n,t[15],3634488961,14),n=Ho(n,a,o,r,t[4],3889429448,20),r=Ho(r,n,a,o,t[9],568446438,5),o=Ho(o,r,n,a,t[14],3275163606,9),a=Ho(a,o,r,n,t[3],4107603335,14),n=Ho(n,a,o,r,t[8],1163531501,20),r=Ho(r,n,a,o,t[13],2850285829,5),o=Ho(o,r,n,a,t[2],4243563512,9),a=Ho(a,o,r,n,t[7],1735328473,14),n=Ho(n,a,o,r,t[12],2368359562,20),r=Ko(r,n,a,o,t[5],4294588738,4),o=Ko(o,r,n,a,t[8],2272392833,11),a=Ko(a,o,r,n,t[11],1839030562,16),n=Ko(n,a,o,r,t[14],4259657740,23),r=Ko(r,n,a,o,t[1],2763975236,4),o=Ko(o,r,n,a,t[4],1272893353,11),a=Ko(a,o,r,n,t[7],4139469664,16),n=Ko(n,a,o,r,t[10],3200236656,23),r=Ko(r,n,a,o,t[13],681279174,4),o=Ko(o,r,n,a,t[0],3936430074,11),a=Ko(a,o,r,n,t[3],3572445317,16),n=Ko(n,a,o,r,t[6],76029189,23),r=Ko(r,n,a,o,t[9],3654602809,4),o=Ko(o,r,n,a,t[12],3873151461,11),a=Ko(a,o,r,n,t[15],530742520,16),n=Ko(n,a,o,r,t[2],3299628645,23),r=Zo(r,n,a,o,t[0],4096336452,6),o=Zo(o,r,n,a,t[7],1126891415,10),a=Zo(a,o,r,n,t[14],2878612391,15),n=Zo(n,a,o,r,t[5],4237533241,21),r=Zo(r,n,a,o,t[12],1700485571,6),o=Zo(o,r,n,a,t[3],2399980690,10),a=Zo(a,o,r,n,t[10],4293915773,15),n=Zo(n,a,o,r,t[1],2240044497,21),r=Zo(r,n,a,o,t[8],1873313359,6),o=Zo(o,r,n,a,t[15],4264355552,10),a=Zo(a,o,r,n,t[6],2734768916,15),n=Zo(n,a,o,r,t[13],1309151649,21),r=Zo(r,n,a,o,t[4],4149444226,6),o=Zo(o,r,n,a,t[11],3174756917,10),a=Zo(a,o,r,n,t[2],718787259,15),n=Zo(n,a,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+a|0,this._d=this._d+o|0};$A.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Uet.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function VA(t,e){return t<<e|t>>>32-e}function Go(t,e,r,n,a,o,s){return VA(t+(e&r|~e&n)+a+o|0,s)+e|0}function Ho(t,e,r,n,a,o,s){return VA(t+(e&n|r&~n)+a+o|0,s)+e|0}function Ko(t,e,r,n,a,o,s){return VA(t+(e^r^n)+a+o|0,s)+e|0}function Zo(t,e,r,n,a,o,s){return VA(t+(r^(e|~n))+a+o|0,s)+e|0}ate.exports=$A});var HA=Ee((Utr,hte)=>{"use strict";w();_();var vR=Oi().Buffer,$et=xr(),cte=mR(),Vet=new Array(16),Ix=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Cx=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ox=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Rx=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Fx=[0,1518500249,1859775393,2400959708,2840853838],Bx=[1352829926,1548603684,1836072691,2053994217,0];function GA(){cte.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}$et(GA,cte);GA.prototype._update=function(){for(var t=Vet,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,a=this._c|0,o=this._d|0,s=this._e|0,u=this._a|0,f=this._b|0,l=this._c|0,c=this._d|0,h=this._e|0,m=0;m<80;m+=1){var g,b;m<16?(g=ote(r,n,a,o,s,t[Ix[m]],Fx[0],Ox[m]),b=lte(u,f,l,c,h,t[Cx[m]],Bx[0],Rx[m])):m<32?(g=ste(r,n,a,o,s,t[Ix[m]],Fx[1],Ox[m]),b=fte(u,f,l,c,h,t[Cx[m]],Bx[1],Rx[m])):m<48?(g=ute(r,n,a,o,s,t[Ix[m]],Fx[2],Ox[m]),b=ute(u,f,l,c,h,t[Cx[m]],Bx[2],Rx[m])):m<64?(g=fte(r,n,a,o,s,t[Ix[m]],Fx[3],Ox[m]),b=ste(u,f,l,c,h,t[Cx[m]],Bx[3],Rx[m])):(g=lte(r,n,a,o,s,t[Ix[m]],Fx[4],Ox[m]),b=ote(u,f,l,c,h,t[Cx[m]],Bx[4],Rx[m])),r=s,s=o,o=Im(a,10),a=n,n=g,u=h,h=c,c=Im(l,10),l=f,f=b}var A=this._b+a+c|0;this._b=this._c+o+h|0,this._c=this._d+s+u|0,this._d=this._e+r+f|0,this._e=this._a+n+l|0,this._a=A};GA.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=vR.alloc?vR.alloc(20):new vR(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Im(t,e){return t<<e|t>>>32-e}function ote(t,e,r,n,a,o,s,u){return Im(t+(e^r^n)+o+s|0,u)+a|0}function ste(t,e,r,n,a,o,s,u){return Im(t+(e&r|~e&n)+o+s|0,u)+a|0}function ute(t,e,r,n,a,o,s,u){return Im(t+((e|~r)^n)+o+s|0,u)+a|0}function fte(t,e,r,n,a,o,s,u){return Im(t+(e&n|r&~n)+o+s|0,u)+a|0}function lte(t,e,r,n,a,o,s,u){return Im(t+(e^(r|~n))+o+s|0,u)+a|0}hte.exports=GA});var Cm=Ee((jtr,dte)=>{w();_();var pte=En().Buffer;function KA(t,e){this._block=pte.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}KA.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=pte.from(t,e));for(var r=this._block,n=this._blockSize,a=t.length,o=this._len,s=0;s<a;){for(var u=o%n,f=Math.min(a-s,n-u),l=0;l<f;l++)r[u+l]=t[s+l];o+=f,s+=f,o%n===0&&this._update(r)}return this._len+=a,this};KA.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,a=(r-n)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o};KA.prototype._update=function(){throw new Error("_update must be implemented by subclass")};dte.exports=KA});var gte=Ee(($tr,vte)=>{w();_();var Wet=xr(),mte=Cm(),Get=En().Buffer,Het=[1518500249,1859775393,-1894007588,-899497514],Ket=new Array(80);function Lx(){this.init(),this._w=Ket,mte.call(this,64,56)}Wet(Lx,mte);Lx.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Zet(t){return t<<5|t>>>27}function Jet(t){return t<<30|t>>>2}function Yet(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Lx.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,a=this._c|0,o=this._d|0,s=this._e|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<80;++u)e[u]=e[u-3]^e[u-8]^e[u-14]^e[u-16];for(var f=0;f<80;++f){var l=~~(f/20),c=Zet(r)+Yet(l,n,a,o)+s+e[f]+Het[l]|0;s=o,o=a,a=Jet(n),n=r,r=c}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};Lx.prototype._hash=function(){var t=Get.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};vte.exports=Lx});var wte=Ee((Vtr,bte)=>{w();_();var Xet=xr(),yte=Cm(),Qet=En().Buffer,ett=[1518500249,1859775393,-1894007588,-899497514],ttt=new Array(80);function Px(){this.init(),this._w=ttt,yte.call(this,64,56)}Xet(Px,yte);Px.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rtt(t){return t<<1|t>>>31}function ntt(t){return t<<5|t>>>27}function itt(t){return t<<30|t>>>2}function att(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Px.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,a=this._c|0,o=this._d|0,s=this._e|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<80;++u)e[u]=rtt(e[u-3]^e[u-8]^e[u-14]^e[u-16]);for(var f=0;f<80;++f){var l=~~(f/20),c=ntt(r)+att(l,n,a,o)+s+e[f]+ett[l]|0;s=o,o=a,a=itt(n),n=r,r=c}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};Px.prototype._hash=function(){var t=Qet.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};bte.exports=Px});var gR=Ee((Wtr,_te)=>{w();_();var ott=xr(),xte=Cm(),stt=En().Buffer,utt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ftt=new Array(64);function qx(){this.init(),this._w=ftt,xte.call(this,64,56)}ott(qx,xte);qx.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ltt(t,e,r){return r^t&(e^r)}function ctt(t,e,r){return t&e|r&(t|e)}function htt(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function ptt(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function dtt(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function mtt(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}qx.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,a=this._c|0,o=this._d|0,s=this._e|0,u=this._f|0,f=this._g|0,l=this._h|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<64;++c)e[c]=mtt(e[c-2])+e[c-7]+dtt(e[c-15])+e[c-16]|0;for(var h=0;h<64;++h){var m=l+ptt(s)+ltt(s,u,f)+utt[h]+e[h]|0,g=htt(r)+ctt(r,n,a)|0;l=f,f=u,u=s,s=o+m|0,o=a,a=n,n=r,r=m+g|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=u+this._f|0,this._g=f+this._g|0,this._h=l+this._h|0};qx.prototype._hash=function(){var t=stt.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};_te.exports=qx});var Ete=Ee((Gtr,Ste)=>{w();_();var vtt=xr(),gtt=gR(),ytt=Cm(),btt=En().Buffer,wtt=new Array(64);function ZA(){this.init(),this._w=wtt,ytt.call(this,64,56)}vtt(ZA,gtt);ZA.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};ZA.prototype._hash=function(){var t=btt.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};Ste.exports=ZA});var yR=Ee((Htr,Ite)=>{w();_();var xtt=xr(),kte=Cm(),_tt=En().Buffer,Mte=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Stt=new Array(160);function zx(){this.init(),this._w=Stt,kte.call(this,128,112)}xtt(zx,kte);zx.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ate(t,e,r){return r^t&(e^r)}function Nte(t,e,r){return t&e|r&(t|e)}function Tte(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Dte(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Ett(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Mtt(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Att(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Ntt(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function lo(t,e){return t>>>0<e>>>0?1:0}zx.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,a=this._ch|0,o=this._dh|0,s=this._eh|0,u=this._fh|0,f=this._gh|0,l=this._hh|0,c=this._al|0,h=this._bl|0,m=this._cl|0,g=this._dl|0,b=this._el|0,A=this._fl|0,I=this._gl|0,C=this._hl|0,R=0;R<32;R+=2)e[R]=t.readInt32BE(R*4),e[R+1]=t.readInt32BE(R*4+4);for(;R<160;R+=2){var O=e[R-30],F=e[R-15*2+1],z=Ett(O,F),B=Mtt(F,O);O=e[R-2*2],F=e[R-2*2+1];var $=Att(O,F),j=Ntt(F,O),W=e[R-7*2],T=e[R-7*2+1],p=e[R-16*2],v=e[R-16*2+1],S=B+T|0,y=z+W+lo(S,B)|0;S=S+j|0,y=y+$+lo(S,j)|0,S=S+v|0,y=y+p+lo(S,v)|0,e[R]=y,e[R+1]=S}for(var M=0;M<160;M+=2){y=e[M],S=e[M+1];var D=Nte(r,n,a),k=Nte(c,h,m),E=Tte(r,c),d=Tte(c,r),N=Dte(s,b),U=Dte(b,s),q=Mte[M],P=Mte[M+1],G=Ate(s,u,f),Z=Ate(b,A,I),X=C+U|0,he=l+N+lo(X,C)|0;X=X+Z|0,he=he+G+lo(X,Z)|0,X=X+P|0,he=he+q+lo(X,P)|0,X=X+S|0,he=he+y+lo(X,S)|0;var V=d+k|0,K=E+D+lo(V,d)|0;l=f,C=I,f=u,I=A,u=s,A=b,b=g+X|0,s=o+he+lo(b,g)|0,o=a,g=m,a=n,m=h,n=r,h=c,c=X+V|0,r=he+K+lo(c,X)|0}this._al=this._al+c|0,this._bl=this._bl+h|0,this._cl=this._cl+m|0,this._dl=this._dl+g|0,this._el=this._el+b|0,this._fl=this._fl+A|0,this._gl=this._gl+I|0,this._hl=this._hl+C|0,this._ah=this._ah+r+lo(this._al,c)|0,this._bh=this._bh+n+lo(this._bl,h)|0,this._ch=this._ch+a+lo(this._cl,m)|0,this._dh=this._dh+o+lo(this._dl,g)|0,this._eh=this._eh+s+lo(this._el,b)|0,this._fh=this._fh+u+lo(this._fl,A)|0,this._gh=this._gh+f+lo(this._gl,I)|0,this._hh=this._hh+l+lo(this._hl,C)|0};zx.prototype._hash=function(){var t=_tt.allocUnsafe(64);function e(r,n,a){t.writeInt32BE(r,a),t.writeInt32BE(n,a+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};Ite.exports=zx});var Ote=Ee((Ktr,Cte)=>{w();_();var Ttt=xr(),Dtt=yR(),ktt=Cm(),Itt=En().Buffer,Ctt=new Array(160);function JA(){this.init(),this._w=Ctt,ktt.call(this,128,112)}Ttt(JA,Dtt);JA.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};JA.prototype._hash=function(){var t=Itt.allocUnsafe(48);function e(r,n,a){t.writeInt32BE(r,a),t.writeInt32BE(n,a+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};Cte.exports=JA});var YA=Ee((oh,Rte)=>{w();_();var oh=Rte.exports=function(e){e=e.toLowerCase();var r=oh[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};oh.sha=gte();oh.sha1=wte();oh.sha224=Ete();oh.sha256=gR();oh.sha384=Ote();oh.sha512=yR()});var bR=Ee((Ztr,Fte)=>{w();_();Fte.exports=Fu().EventEmitter});var qte=Ee((Jtr,Pte)=>{"use strict";w();_();function Bte(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ott(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bte(Object(r),!0).forEach(function(n){Rtt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bte(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rtt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ftt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Btt(t,e,r){return e&&Lte(t.prototype,e),r&&Lte(t,r),t}var Ltt=Oi(),XA=Ltt.Buffer,Ptt=rc(),wR=Ptt.inspect,qtt=wR&&wR.custom||"inspect";function ztt(t,e,r){XA.prototype.copy.call(t,e,r)}Pte.exports=function(){function t(){Ftt(this,t),this.head=null,this.tail=null,this.length=0}return Btt(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,a=""+n.data;n=n.next;)a+=r+n.data;return a}},{key:"concat",value:function(r){if(this.length===0)return XA.alloc(0);for(var n=XA.allocUnsafe(r>>>0),a=this.head,o=0;a;)ztt(a.data,n,o),o+=a.data.length,a=a.next;return n}},{key:"consume",value:function(r,n){var a;return r<this.head.data.length?(a=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?a=this.shift():a=n?this._getString(r):this._getBuffer(r),a}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,a=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,u=r>s.length?s.length:r;if(u===s.length?o+=s:o+=s.slice(0,r),r-=u,r===0){u===s.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(u));break}++a}return this.length-=a,o}},{key:"_getBuffer",value:function(r){var n=XA.allocUnsafe(r),a=this.head,o=1;for(a.data.copy(n),r-=a.data.length;a=a.next;){var s=a.data,u=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,u),r-=u,r===0){u===s.length?(++o,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=s.slice(u));break}++o}return this.length-=o,n}},{key:qtt,value:function(r,n){return wR(this,Ott({},n,{depth:0,customInspect:!1}))}}]),t}()});var _R=Ee((Ytr,Ute)=>{"use strict";w();_();function Utt(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,$process.nextTick(xR,this,t)):$process.nextTick(xR,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?$process.nextTick(QA,r):(r._writableState.errorEmitted=!0,$process.nextTick(zte,r,o)):$process.nextTick(zte,r,o):e?($process.nextTick(QA,r),e(o)):$process.nextTick(QA,r)}),this)}function zte(t,e){xR(t,e),QA(t)}function QA(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function jtt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function xR(t,e){t.emit("error",e)}function $tt(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}Ute.exports={destroy:Utt,undestroy:jtt,errorOrDestroy:$tt}});var Om=Ee((Xtr,Vte)=>{"use strict";w();_();function Vtt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var $te={};function $u(t,e,r){r||(r=Error);function n(o,s,u){return typeof e=="string"?e:e(o,s,u)}var a=function(o){Vtt(s,o);function s(u,f,l){return o.call(this,n(u,f,l))||this}return s}(r);a.prototype.name=r.name,a.prototype.code=t,$te[t]=a}function jte(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Wtt(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Gtt(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Htt(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}$u("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);$u("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Wtt(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var a;if(Gtt(t," argument"))a="The ".concat(t," ").concat(n," ").concat(jte(e,"type"));else{var o=Htt(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(jte(e,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);$u("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");$u("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});$u("ERR_STREAM_PREMATURE_CLOSE","Premature close");$u("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});$u("ERR_MULTIPLE_CALLBACK","Callback called multiple times");$u("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");$u("ERR_STREAM_WRITE_AFTER_END","write after end");$u("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);$u("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);$u("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Vte.exports.codes=$te});var SR=Ee((Qtr,Wte)=>{"use strict";w();_();var Ktt=Om().codes.ERR_INVALID_OPT_VALUE;function Ztt(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Jtt(t,e,r,n){var a=Ztt(e,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var o=n?r:"highWaterMark";throw new Ktt(o,a)}return Math.floor(a)}return t.objectMode?16:16*1024}Wte.exports={getHighWaterMark:Jtt}});var AR=Ee((err,Yte)=>{"use strict";w();_();Yte.exports=Na;function Hte(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Srt(e,t)}}var Ig;Na.WritableState=jx;var Ytt={deprecate:px()},Kte=bR(),t3=Oi().Buffer,Xtt=globalThis.Uint8Array||function(){};function Qtt(t){return t3.from(t)}function ert(t){return t3.isBuffer(t)||t instanceof Xtt}var MR=_R(),trt=SR(),rrt=trt.getHighWaterMark,zp=Om().codes,nrt=zp.ERR_INVALID_ARG_TYPE,irt=zp.ERR_METHOD_NOT_IMPLEMENTED,art=zp.ERR_MULTIPLE_CALLBACK,ort=zp.ERR_STREAM_CANNOT_PIPE,srt=zp.ERR_STREAM_DESTROYED,urt=zp.ERR_STREAM_NULL_VALUES,frt=zp.ERR_STREAM_WRITE_AFTER_END,lrt=zp.ERR_UNKNOWN_ENCODING,Cg=MR.errorOrDestroy;xr()(Na,Kte);function crt(){}function jx(t,e,r){Ig=Ig||Rm(),t=t||{},typeof r!="boolean"&&(r=e instanceof Ig),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=rrt(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){yrt(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Hte(this)}jx.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(jx.prototype,"buffer",{get:Ytt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var e3;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(e3=Function.prototype[Symbol.hasInstance],Object.defineProperty(Na,Symbol.hasInstance,{value:function(e){return e3.call(this,e)?!0:this!==Na?!1:e&&e._writableState instanceof jx}})):e3=function(e){return e instanceof this};function Na(t){Ig=Ig||Rm();var e=this instanceof Ig;if(!e&&!e3.call(Na,this))return new Na(t);this._writableState=new jx(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Kte.call(this)}Na.prototype.pipe=function(){Cg(this,new ort)};function hrt(t,e){var r=new frt;Cg(t,r),$process.nextTick(e,r)}function prt(t,e,r,n){var a;return r===null?a=new urt:typeof r!="string"&&!e.objectMode&&(a=new nrt("chunk",["string","Buffer"],r)),a?(Cg(t,a),$process.nextTick(n,a),!1):!0}Na.prototype.write=function(t,e,r){var n=this._writableState,a=!1,o=!n.objectMode&&ert(t);return o&&!t3.isBuffer(t)&&(t=Qtt(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=crt),n.ending?hrt(this,r):(o||prt(this,n,t,r))&&(n.pendingcb++,a=mrt(this,n,o,t,e,r)),a};Na.prototype.cork=function(){this._writableState.corked++};Na.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Zte(this,t))};Na.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new lrt(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Na.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function drt(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=t3.from(e,r)),e}Object.defineProperty(Na.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function mrt(t,e,r,n,a,o){if(!r){var s=drt(e,n,a);n!==s&&(r=!0,a="buffer",n=s)}var u=e.objectMode?1:n.length;e.length+=u;var f=e.length<e.highWaterMark;if(f||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else ER(t,e,!1,u,n,a,o);return f}function ER(t,e,r,n,a,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new srt("write")):r?t._writev(a,e.onwrite):t._write(a,o,e.onwrite),e.sync=!1}function vrt(t,e,r,n,a){--e.pendingcb,r?($process.nextTick(a,n),$process.nextTick(Ux,t,e),t._writableState.errorEmitted=!0,Cg(t,n)):(a(n),t._writableState.errorEmitted=!0,Cg(t,n),Ux(t,e))}function grt(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function yrt(t,e){var r=t._writableState,n=r.sync,a=r.writecb;if(typeof a!="function")throw new art;if(grt(r),e)vrt(t,r,n,e,a);else{var o=Jte(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Zte(t,r),n?$process.nextTick(Gte,t,r,o,a):Gte(t,r,o,a)}}function Gte(t,e,r,n){r||brt(t,e),e.pendingcb--,n(),Ux(t,e)}function brt(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Zte(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,a=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)a[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;a.allBuffers=u,ER(t,e,!0,e.length,a,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new Hte(e),e.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,l=r.encoding,c=r.callback,h=e.objectMode?1:f.length;if(ER(t,e,!1,h,f,l,c),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Na.prototype._write=function(t,e,r){r(new irt("_write()"))};Na.prototype._writev=null;Na.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||_rt(this,n,r),this};Object.defineProperty(Na.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Jte(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function wrt(t,e){t._final(function(r){e.pendingcb--,r&&Cg(t,r),e.prefinished=!0,t.emit("prefinish"),Ux(t,e)})}function xrt(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,$process.nextTick(wrt,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Ux(t,e){var r=Jte(e);if(r&&(xrt(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function _rt(t,e,r){e.ending=!0,Ux(t,e),r&&(e.finished?$process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Srt(t,e,r){var n=t.entry;for(t.entry=null;n;){var a=n.callback;e.pendingcb--,a(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Na.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});Na.prototype.destroy=MR.destroy;Na.prototype._undestroy=MR.undestroy;Na.prototype._destroy=function(t,e){e(t)}});var Rm=Ee((trr,Qte)=>{"use strict";w();_();var Ert=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Qte.exports=lc;var Xte=DR(),TR=AR();xr()(lc,Xte);for(NR=Ert(TR.prototype),r3=0;r3<NR.length;r3++)n3=NR[r3],lc.prototype[n3]||(lc.prototype[n3]=TR.prototype[n3]);var NR,n3,r3;function lc(t){if(!(this instanceof lc))return new lc(t);Xte.call(this,t),TR.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Mrt)))}Object.defineProperty(lc.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(lc.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(lc.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Mrt(){this._writableState.ended||$process.nextTick(Art,this)}function Art(t){t.end()}Object.defineProperty(lc.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var i3=Ee((rrr,rre)=>{"use strict";w();_();var ere=Om().codes.ERR_STREAM_PREMATURE_CLOSE;function Nrt(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];t.apply(this,n)}}}function Trt(){}function Drt(t){return t.setHeader&&typeof t.abort=="function"}function tre(t,e,r){if(typeof e=="function")return tre(t,null,e);e||(e={}),r=Nrt(r||Trt);var n=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||u()},s=t._writableState&&t._writableState.finished,u=function(){a=!1,s=!0,n||r.call(t)},f=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,f=!0,a||r.call(t)},c=function(b){r.call(t,b)},h=function(){var b;if(n&&!f)return(!t._readableState||!t._readableState.ended)&&(b=new ere),r.call(t,b);if(a&&!s)return(!t._writableState||!t._writableState.ended)&&(b=new ere),r.call(t,b)},m=function(){t.req.on("finish",u)};return Drt(t)?(t.on("complete",u),t.on("abort",h),t.req?m():t.on("request",m)):a&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",l),t.on("finish",u),e.error!==!1&&t.on("error",c),t.on("close",h),function(){t.removeListener("complete",u),t.removeListener("abort",h),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",u),t.removeListener("end",l),t.removeListener("error",c),t.removeListener("close",h)}}rre.exports=tre});var ire=Ee((nrr,nre)=>{"use strict";w();_();var a3;function Up(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var krt=i3(),jp=Symbol("lastResolve"),Fm=Symbol("lastReject"),$x=Symbol("error"),o3=Symbol("ended"),Bm=Symbol("lastPromise"),kR=Symbol("handlePromise"),Lm=Symbol("stream");function $p(t,e){return{value:t,done:e}}function Irt(t){var e=t[jp];if(e!==null){var r=t[Lm].read();r!==null&&(t[Bm]=null,t[jp]=null,t[Fm]=null,e($p(r,!1)))}}function Crt(t){$process.nextTick(Irt,t)}function Ort(t,e){return function(r,n){t.then(function(){if(e[o3]){r($p(void 0,!0));return}e[kR](r,n)},n)}}var Rrt=Object.getPrototypeOf(function(){}),Frt=Object.setPrototypeOf((a3={get stream(){return this[Lm]},next:function(){var e=this,r=this[$x];if(r!==null)return Promise.reject(r);if(this[o3])return Promise.resolve($p(void 0,!0));if(this[Lm].destroyed)return new Promise(function(s,u){$process.nextTick(function(){e[$x]?u(e[$x]):s($p(void 0,!0))})});var n=this[Bm],a;if(n)a=new Promise(Ort(n,this));else{var o=this[Lm].read();if(o!==null)return Promise.resolve($p(o,!1));a=new Promise(this[kR])}return this[Bm]=a,a}},Up(a3,Symbol.asyncIterator,function(){return this}),Up(a3,"return",function(){var e=this;return new Promise(function(r,n){e[Lm].destroy(null,function(a){if(a){n(a);return}r($p(void 0,!0))})})}),a3),Rrt),Brt=function(e){var r,n=Object.create(Frt,(r={},Up(r,Lm,{value:e,writable:!0}),Up(r,jp,{value:null,writable:!0}),Up(r,Fm,{value:null,writable:!0}),Up(r,$x,{value:null,writable:!0}),Up(r,o3,{value:e._readableState.endEmitted,writable:!0}),Up(r,kR,{value:function(o,s){var u=n[Lm].read();u?(n[Bm]=null,n[jp]=null,n[Fm]=null,o($p(u,!1))):(n[jp]=o,n[Fm]=s)},writable:!0}),r));return n[Bm]=null,krt(e,function(a){if(a&&a.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Fm];o!==null&&(n[Bm]=null,n[jp]=null,n[Fm]=null,o(a)),n[$x]=a;return}var s=n[jp];s!==null&&(n[Bm]=null,n[jp]=null,n[Fm]=null,s($p(void 0,!0))),n[o3]=!0}),e.on("readable",Crt.bind(null,n)),n};nre.exports=Brt});var ore=Ee((irr,are)=>{w();_();are.exports=function(){throw new Error("Readable.from is not available in the browser")}});var DR=Ee((orr,vre)=>{"use strict";w();_();vre.exports=zn;var Og;zn.ReadableState=lre;var arr=Fu().EventEmitter,fre=function(e,r){return e.listeners(r).length},Wx=bR(),s3=Oi().Buffer,Lrt=globalThis.Uint8Array||function(){};function Prt(t){return s3.from(t)}function qrt(t){return s3.isBuffer(t)||t instanceof Lrt}var IR=rc(),fn;IR&&IR.debuglog?fn=IR.debuglog("stream"):fn=function(){};var zrt=qte(),PR=_R(),Urt=SR(),jrt=Urt.getHighWaterMark,u3=Om().codes,$rt=u3.ERR_INVALID_ARG_TYPE,Vrt=u3.ERR_STREAM_PUSH_AFTER_EOF,Wrt=u3.ERR_METHOD_NOT_IMPLEMENTED,Grt=u3.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Rg,CR,OR;xr()(zn,Wx);var Vx=PR.errorOrDestroy,RR=["error","close","destroy","pause","resume"];function Hrt(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function lre(t,e,r){Og=Og||Rm(),t=t||{},typeof r!="boolean"&&(r=e instanceof Og),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=jrt(this,t,"readableHighWaterMark",r),this.buffer=new zrt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Rg||(Rg=ac().StringDecoder),this.decoder=new Rg(t.encoding),this.encoding=t.encoding)}function zn(t){if(Og=Og||Rm(),!(this instanceof zn))return new zn(t);var e=this instanceof Og;this._readableState=new lre(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Wx.call(this)}Object.defineProperty(zn.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});zn.prototype.destroy=PR.destroy;zn.prototype._undestroy=PR.undestroy;zn.prototype._destroy=function(t,e){e(t)};zn.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=s3.from(t,e),e=""),n=!0),cre(this,t,e,!1,n)};zn.prototype.unshift=function(t){return cre(this,t,null,!0,!1)};function cre(t,e,r,n,a){fn("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,Jrt(t,o);else{var s;if(a||(s=Krt(o,e)),s)Vx(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==s3.prototype&&(e=Prt(e)),n)o.endEmitted?Vx(t,new Grt):FR(t,o,e,!0);else if(o.ended)Vx(t,new Vrt);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?FR(t,o,e,!1):LR(t,o)):FR(t,o,e,!1)}else n||(o.reading=!1,LR(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function FR(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&f3(t)),LR(t,e)}function Krt(t,e){var r;return!qrt(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new $rt("chunk",["string","Buffer","Uint8Array"],e)),r}zn.prototype.isPaused=function(){return this._readableState.flowing===!1};zn.prototype.setEncoding=function(t){Rg||(Rg=ac().StringDecoder);var e=new Rg(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var sre=1073741824;function Zrt(t){return t>=sre?t=sre:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function ure(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Zrt(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}zn.prototype.read=function(t){fn("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return fn("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?BR(this):f3(this),null;if(t=ure(t,e),t===0&&e.ended)return e.length===0&&BR(this),null;var n=e.needReadable;fn("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,fn("length less than watermark",n)),e.ended||e.reading?(n=!1,fn("reading or ended",n)):n&&(fn("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=ure(r,e)));var a;return t>0?a=dre(t,e):a=null,a===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&BR(this)),a!==null&&this.emit("data",a),a};function Jrt(t,e){if(fn("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?f3(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,hre(t)))}}function f3(t){var e=t._readableState;fn("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(fn("emitReadable",e.flowing),e.emittedReadable=!0,$process.nextTick(hre,t))}function hre(t){var e=t._readableState;fn("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,qR(t)}function LR(t,e){e.readingMore||(e.readingMore=!0,$process.nextTick(Yrt,t,e))}function Yrt(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(fn("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}zn.prototype._read=function(t){Vx(this,new Wrt("_read()"))};zn.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,fn("pipe count=%d opts=%j",n.pipesCount,e);var a=(!e||e.end!==!1)&&t!==$process.stdout&&t!==$process.stderr,o=a?u:A;n.endEmitted?$process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(I,C){fn("onunpipe"),I===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,c())}function u(){fn("onend"),t.end()}var f=Xrt(r);t.on("drain",f);var l=!1;function c(){fn("cleanup"),t.removeListener("close",g),t.removeListener("finish",b),t.removeListener("drain",f),t.removeListener("error",m),t.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",A),r.removeListener("data",h),l=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&f()}r.on("data",h);function h(I){fn("ondata");var C=t.write(I);fn("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&mre(n.pipes,t)!==-1)&&!l&&(fn("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function m(I){fn("onerror",I),A(),t.removeListener("error",m),fre(t,"error")===0&&Vx(t,I)}Hrt(t,"error",m);function g(){t.removeListener("finish",b),A()}t.once("close",g);function b(){fn("onfinish"),t.removeListener("close",g),A()}t.once("finish",b);function A(){fn("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(fn("pipe resume"),r.resume()),t};function Xrt(t){return function(){var r=t._readableState;fn("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&fre(t,"data")&&(r.flowing=!0,qR(t))}}zn.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,a=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<a;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=mre(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};zn.prototype.on=function(t,e){var r=Wx.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,fn("on readable",n.length,n.reading),n.length?f3(this):n.reading||$process.nextTick(Qrt,this)),r};zn.prototype.addListener=zn.prototype.on;zn.prototype.removeListener=function(t,e){var r=Wx.prototype.removeListener.call(this,t,e);return t==="readable"&&$process.nextTick(pre,this),r};zn.prototype.removeAllListeners=function(t){var e=Wx.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&$process.nextTick(pre,this),e};function pre(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Qrt(t){fn("readable nexttick read 0"),t.read(0)}zn.prototype.resume=function(){var t=this._readableState;return t.flowing||(fn("resume"),t.flowing=!t.readableListening,ent(this,t)),t.paused=!1,this};function ent(t,e){e.resumeScheduled||(e.resumeScheduled=!0,$process.nextTick(tnt,t,e))}function tnt(t,e){fn("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),qR(t),e.flowing&&!e.reading&&t.read(0)}zn.prototype.pause=function(){return fn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(fn("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function qR(t){var e=t._readableState;for(fn("flow",e.flowing);e.flowing&&t.read()!==null;);}zn.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(fn("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(fn("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var u=e.push(s);u||(n=!0,t.pause())}});for(var a in t)this[a]===void 0&&typeof t[a]=="function"&&(this[a]=function(u){return function(){return t[u].apply(t,arguments)}}(a));for(var o=0;o<RR.length;o++)t.on(RR[o],this.emit.bind(this,RR[o]));return this._read=function(s){fn("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(zn.prototype[Symbol.asyncIterator]=function(){return CR===void 0&&(CR=ire()),CR(this)});Object.defineProperty(zn.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(zn.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(zn.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});zn._fromList=dre;Object.defineProperty(zn.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function dre(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function BR(t){var e=t._readableState;fn("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,$process.nextTick(rnt,e,t))}function rnt(t,e){if(fn("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(zn.from=function(t,e){return OR===void 0&&(OR=ore()),OR(zn,t,e)});function mre(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var zR=Ee((srr,yre)=>{"use strict";w();_();yre.exports=sh;var l3=Om().codes,nnt=l3.ERR_METHOD_NOT_IMPLEMENTED,int=l3.ERR_MULTIPLE_CALLBACK,ant=l3.ERR_TRANSFORM_ALREADY_TRANSFORMING,ont=l3.ERR_TRANSFORM_WITH_LENGTH_0,c3=Rm();xr()(sh,c3);function snt(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new int);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function sh(t){if(!(this instanceof sh))return new sh(t);c3.call(this,t),this._transformState={afterTransform:snt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",unt)}function unt(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){gre(t,e,r)}):gre(this,null,null)}sh.prototype.push=function(t,e){return this._transformState.needTransform=!1,c3.prototype.push.call(this,t,e)};sh.prototype._transform=function(t,e,r){r(new nnt("_transform()"))};sh.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};sh.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};sh.prototype._destroy=function(t,e){c3.prototype._destroy.call(this,t,function(r){e(r)})};function gre(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new ont;if(t._transformState.transforming)throw new ant;return t.push(null)}});var xre=Ee((urr,wre)=>{"use strict";w();_();wre.exports=Gx;var bre=zR();xr()(Gx,bre);function Gx(t){if(!(this instanceof Gx))return new Gx(t);bre.call(this,t)}Gx.prototype._transform=function(t,e,r){r(null,t)}});var Are=Ee((frr,Mre)=>{"use strict";w();_();var UR;function fnt(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Ere=Om().codes,lnt=Ere.ERR_MISSING_ARGS,cnt=Ere.ERR_STREAM_DESTROYED;function _re(t){if(t)throw t}function hnt(t){return t.setHeader&&typeof t.abort=="function"}function pnt(t,e,r,n){n=fnt(n);var a=!1;t.on("close",function(){a=!0}),UR===void 0&&(UR=i3()),UR(t,{readable:e,writable:r},function(s){if(s)return n(s);a=!0,n()});var o=!1;return function(s){if(!a&&!o){if(o=!0,hnt(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new cnt("pipe"))}}}function Sre(t){t()}function dnt(t,e){return t.pipe(e)}function mnt(t){return!t.length||typeof t[t.length-1]!="function"?_re:t.pop()}function vnt(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=mnt(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new lnt("streams");var a,o=e.map(function(s,u){var f=u<e.length-1,l=u>0;return pnt(s,f,l,function(c){a||(a=c),c&&o.forEach(Sre),!f&&(o.forEach(Sre),n(a))})});return e.reduce(dnt)}Mre.exports=vnt});var Tre=Ee((lrr,Nre)=>{w();_();Nre.exports=Vu;var jR=Fu().EventEmitter,gnt=xr();gnt(Vu,jR);Vu.Readable=DR();Vu.Writable=AR();Vu.Duplex=Rm();Vu.Transform=zR();Vu.PassThrough=xre();Vu.finished=i3();Vu.pipeline=Are();Vu.Stream=Vu;function Vu(){jR.call(this)}Vu.prototype.pipe=function(t,e){var r=this;function n(c){t.writable&&t.write(c)===!1&&r.pause&&r.pause()}r.on("data",n);function a(){r.readable&&r.resume&&r.resume()}t.on("drain",a),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",u));var o=!1;function s(){o||(o=!0,t.end())}function u(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function f(c){if(l(),jR.listenerCount(this,"error")===0)throw c}r.on("error",f),t.on("error",f);function l(){r.removeListener("data",n),t.removeListener("drain",a),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",f),t.removeListener("error",f),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t}});var uh=Ee((crr,Ire)=>{w();_();var Dre=En().Buffer,kre=Tre().Transform,ynt=ac().StringDecoder,bnt=xr();function al(t){kre.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}bnt(al,kre);al.prototype.update=function(t,e,r){typeof t=="string"&&(t=Dre.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};al.prototype.setAutoPadding=function(){};al.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};al.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};al.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};al.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(a){n=a}finally{r(n)}};al.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};al.prototype._finalOrDigest=function(t){var e=this.__final()||Dre.alloc(0);return t&&(e=this._toString(e,t,!0)),e};al.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new ynt(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};Ire.exports=al});var Fg=Ee((hrr,Ore)=>{"use strict";w();_();var wnt=xr(),xnt=WA(),_nt=HA(),Snt=YA(),Cre=uh();function h3(t){Cre.call(this,"digest"),this._hash=t}wnt(h3,Cre);h3.prototype._update=function(t){this._hash.update(t)};h3.prototype._final=function(){return this._hash.digest()};Ore.exports=function(e){return e=e.toLowerCase(),e==="md5"?new xnt:e==="rmd160"||e==="ripemd160"?new _nt:new h3(Snt(e))}});var Bre=Ee((prr,Fre)=>{"use strict";w();_();var Ent=xr(),Pm=En().Buffer,Rre=uh(),Mnt=Pm.alloc(128),Bg=64;function p3(t,e){Rre.call(this,"digest"),typeof e=="string"&&(e=Pm.from(e)),this._alg=t,this._key=e,e.length>Bg?e=t(e):e.length<Bg&&(e=Pm.concat([e,Mnt],Bg));for(var r=this._ipad=Pm.allocUnsafe(Bg),n=this._opad=Pm.allocUnsafe(Bg),a=0;a<Bg;a++)r[a]=e[a]^54,n[a]=e[a]^92;this._hash=[r]}Ent(p3,Rre);p3.prototype._update=function(t){this._hash.push(t)};p3.prototype._final=function(){var t=this._alg(Pm.concat(this._hash));return this._alg(Pm.concat([this._opad,t]))};Fre.exports=p3});var $R=Ee((drr,Lre)=>{w();_();var Ant=WA();Lre.exports=function(t){return new Ant().update(t).digest()}});var GR=Ee((mrr,qre)=>{"use strict";w();_();var Nnt=xr(),Tnt=Bre(),Pre=uh(),Hx=En().Buffer,Dnt=$R(),VR=HA(),WR=YA(),knt=Hx.alloc(128);function Kx(t,e){Pre.call(this,"digest"),typeof e=="string"&&(e=Hx.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new VR:WR(t);e=n.update(e).digest()}else e.length<r&&(e=Hx.concat([e,knt],r));for(var a=this._ipad=Hx.allocUnsafe(r),o=this._opad=Hx.allocUnsafe(r),s=0;s<r;s++)a[s]=e[s]^54,o[s]=e[s]^92;this._hash=t==="rmd160"?new VR:WR(t),this._hash.update(a)}Nnt(Kx,Pre);Kx.prototype._update=function(t){this._hash.update(t)};Kx.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new VR:WR(this._alg);return e.update(this._opad).update(t).digest()};qre.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new Kx("rmd160",r):e==="md5"?new Tnt(Dnt,r):new Kx(e,r)}});var HR=Ee((vrr,Int)=>{Int.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var Ure=Ee((grr,zre)=>{w();_();zre.exports=HR()});var KR=Ee((yrr,jre)=>{w();_();var Cnt=Math.pow(2,30)-1;jre.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>Cnt||e!==e)throw new TypeError("Bad key length")}});var ZR=Ee((brr,Vre)=>{w();_();var d3;globalThis.process&&globalThis.process.browser?d3="utf-8":globalThis.process&&globalThis.process.version?($re=parseInt($process.version.split(".")[0].slice(1),10),d3=$re>=6?"utf-8":"binary"):d3="utf-8";var $re;Vre.exports=d3});var YR=Ee((wrr,Wre)=>{w();_();var JR=En().Buffer;Wre.exports=function(t,e,r){if(JR.isBuffer(t))return t;if(typeof t=="string")return JR.from(t,e);if(ArrayBuffer.isView(t))return JR.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var XR=Ee((xrr,Zre)=>{w();_();var Ont=$R(),Rnt=HA(),Fnt=YA(),qm=En().Buffer,Bnt=KR(),Gre=ZR(),Hre=YR(),Lnt=qm.alloc(128),m3={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Kre(t,e,r){var n=Pnt(t),a=t==="sha512"||t==="sha384"?128:64;e.length>a?e=n(e):e.length<a&&(e=qm.concat([e,Lnt],a));for(var o=qm.allocUnsafe(a+m3[t]),s=qm.allocUnsafe(a+m3[t]),u=0;u<a;u++)o[u]=e[u]^54,s[u]=e[u]^92;var f=qm.allocUnsafe(a+r+4);o.copy(f,0,0,a),this.ipad1=f,this.ipad2=o,this.opad=s,this.alg=t,this.blocksize=a,this.hash=n,this.size=m3[t]}Kre.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function Pnt(t){function e(n){return Fnt(t).update(n).digest()}function r(n){return new Rnt().update(n).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?Ont:e}function qnt(t,e,r,n,a){Bnt(r,n),t=Hre(t,Gre,"Password"),e=Hre(e,Gre,"Salt"),a=a||"sha1";var o=new Kre(a,t,e.length),s=qm.allocUnsafe(n),u=qm.allocUnsafe(e.length+4);e.copy(u,0,0,e.length);for(var f=0,l=m3[a],c=Math.ceil(n/l),h=1;h<=c;h++){u.writeUInt32BE(h,e.length);for(var m=o.run(u,o.ipad1),g=m,b=1;b<r;b++){g=o.run(g,o.ipad2);for(var A=0;A<l;A++)m[A]^=g[A]}m.copy(s,f),f+=l}return s}Zre.exports=qnt});var rne=Ee((_rr,tne)=>{w();_();var Qre=En().Buffer,znt=KR(),Jre=ZR(),Yre=XR(),Xre=YR(),v3,Zx=globalThis.crypto&&globalThis.crypto.subtle,Unt={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},QR=[];function jnt(t){if(globalThis.process&&!globalThis.process.browser||!Zx||!Zx.importKey||!Zx.deriveBits)return Promise.resolve(!1);if(QR[t]!==void 0)return QR[t];v3=v3||Qre.alloc(8);var e=ene(v3,v3,10,128,t).then(function(){return!0}).catch(function(){return!1});return QR[t]=e,e}var zm;function e8(){return zm||(globalThis.process&&globalThis.process.nextTick?zm=globalThis.process.nextTick:globalThis.queueMicrotask?zm=globalThis.queueMicrotask:globalThis.setImmediate?zm=globalThis.setImmediate:zm=globalThis.setTimeout,zm)}function ene(t,e,r,n,a){return Zx.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(o){return Zx.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:a}},o,n<<3)}).then(function(o){return Qre.from(o)})}function $nt(t,e){t.then(function(r){e8()(function(){e(null,r)})},function(r){e8()(function(){e(r)})})}tne.exports=function(t,e,r,n,a,o){typeof a=="function"&&(o=a,a=void 0),a=a||"sha1";var s=Unt[a.toLowerCase()];if(!s||typeof globalThis.Promise!="function"){e8()(function(){var u;try{u=Yre(t,e,r,n,a)}catch(f){return o(f)}o(null,u)});return}if(znt(r,n),t=Xre(t,Jre,"Password"),e=Xre(e,Jre,"Salt"),typeof o!="function")throw new Error("No callback provided to pbkdf2");$nt(jnt(s).then(function(u){return u?ene(t,e,r,n,s):Yre(t,e,r,n,a)}),o)}});var r8=Ee(t8=>{w();_();t8.pbkdf2=rne();t8.pbkdf2Sync=XR()});var n8=Ee(Wu=>{"use strict";w();_();Wu.readUInt32BE=function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0};Wu.writeUInt32BE=function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255};Wu.ip=function(e,r,n,a){for(var o=0,s=0,u=6;u>=0;u-=2){for(var f=0;f<=24;f+=8)o<<=1,o|=r>>>f+u&1;for(var f=0;f<=24;f+=8)o<<=1,o|=e>>>f+u&1}for(var u=6;u>=0;u-=2){for(var f=1;f<=25;f+=8)s<<=1,s|=r>>>f+u&1;for(var f=1;f<=25;f+=8)s<<=1,s|=e>>>f+u&1}n[a+0]=o>>>0,n[a+1]=s>>>0};Wu.rip=function(e,r,n,a){for(var o=0,s=0,u=0;u<4;u++)for(var f=24;f>=0;f-=8)o<<=1,o|=r>>>f+u&1,o<<=1,o|=e>>>f+u&1;for(var u=4;u<8;u++)for(var f=24;f>=0;f-=8)s<<=1,s|=r>>>f+u&1,s<<=1,s|=e>>>f+u&1;n[a+0]=o>>>0,n[a+1]=s>>>0};Wu.pc1=function(e,r,n,a){for(var o=0,s=0,u=7;u>=5;u--){for(var f=0;f<=24;f+=8)o<<=1,o|=r>>f+u&1;for(var f=0;f<=24;f+=8)o<<=1,o|=e>>f+u&1}for(var f=0;f<=24;f+=8)o<<=1,o|=r>>f+u&1;for(var u=1;u<=3;u++){for(var f=0;f<=24;f+=8)s<<=1,s|=r>>f+u&1;for(var f=0;f<=24;f+=8)s<<=1,s|=e>>f+u&1}for(var f=0;f<=24;f+=8)s<<=1,s|=e>>f+u&1;n[a+0]=o>>>0,n[a+1]=s>>>0};Wu.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var g3=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Wu.pc2=function(e,r,n,a){for(var o=0,s=0,u=g3.length>>>1,f=0;f<u;f++)o<<=1,o|=e>>>g3[f]&1;for(var f=u;f<g3.length;f++)s<<=1,s|=r>>>g3[f]&1;n[a+0]=o>>>0,n[a+1]=s>>>0};Wu.expand=function(e,r,n){var a=0,o=0;a=(e&1)<<5|e>>>27;for(var s=23;s>=15;s-=4)a<<=6,a|=e>>>s&63;for(var s=11;s>=3;s-=4)o|=e>>>s&63,o<<=6;o|=(e&31)<<1|e>>>31,r[n+0]=a>>>0,r[n+1]=o>>>0};var nne=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Wu.substitute=function(e,r){for(var n=0,a=0;a<4;a++){var o=e>>>18-a*6&63,s=nne[a*64+o];n<<=4,n|=s}for(var a=0;a<4;a++){var o=r>>>18-a*6&63,s=nne[4*64+a*64+o];n<<=4,n|=s}return n>>>0};var ine=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Wu.permute=function(e){for(var r=0,n=0;n<ine.length;n++)r<<=1,r|=e>>>ine[n]&1;return r>>>0};Wu.padSplit=function(e,r,n){for(var a=e.toString(2);a.length<r;)a="0"+a;for(var o=[],s=0;s<r;s+=n)o.push(a.slice(s,s+n));return o.join(" ")}});var ou=Ee((Mrr,one)=>{w();_();one.exports=ane;function ane(t,e){if(!t)throw new Error(e||"Assertion failed")}ane.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}});var y3=Ee((Arr,sne)=>{"use strict";w();_();var Vnt=ou();function Gu(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}sne.exports=Gu;Gu.prototype._init=function(){};Gu.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};Gu.prototype._buffer=function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),a=0;a<n;a++)this.buffer[this.bufferOff+a]=e[r+a];return this.bufferOff+=n,n};Gu.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};Gu.prototype._updateEncrypt=function(e){var r=0,n=0,a=(this.bufferOff+e.length)/this.blockSize|0,o=new Array(a*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(o,n)));for(var s=e.length-(e.length-r)%this.blockSize;r<s;r+=this.blockSize)this._update(e,r,o,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return o};Gu.prototype._updateDecrypt=function(e){for(var r=0,n=0,a=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,o=new Array(a*this.blockSize);a>0;a--)r+=this._buffer(e,r),n+=this._flushBuffer(o,n);return r+=this._buffer(e,r),o};Gu.prototype.final=function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};Gu.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};Gu.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};Gu.prototype._unpad=function(e){return e};Gu.prototype._finalDecrypt=function(){Vnt.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var i8=Ee((Nrr,lne)=>{"use strict";w();_();var une=ou(),Wnt=xr(),Xa=n8(),fne=y3();function Gnt(){this.tmp=new Array(2),this.keys=null}function cc(t){fne.call(this,t);var e=new Gnt;this._desState=e,this.deriveKeys(e,t.key)}Wnt(cc,fne);lne.exports=cc;cc.create=function(e){return new cc(e)};var Hnt=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];cc.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),une.equal(r.length,this.blockSize,"Invalid key length");var n=Xa.readUInt32BE(r,0),a=Xa.readUInt32BE(r,4);Xa.pc1(n,a,e.tmp,0),n=e.tmp[0],a=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=Hnt[o>>>1];n=Xa.r28shl(n,s),a=Xa.r28shl(a,s),Xa.pc2(n,a,e.keys,o)}};cc.prototype._update=function(e,r,n,a){var o=this._desState,s=Xa.readUInt32BE(e,r),u=Xa.readUInt32BE(e,r+4);Xa.ip(s,u,o.tmp,0),s=o.tmp[0],u=o.tmp[1],this.type==="encrypt"?this._encrypt(o,s,u,o.tmp,0):this._decrypt(o,s,u,o.tmp,0),s=o.tmp[0],u=o.tmp[1],Xa.writeUInt32BE(n,s,a),Xa.writeUInt32BE(n,u,a+4)};cc.prototype._pad=function(e,r){for(var n=e.length-r,a=r;a<e.length;a++)e[a]=n;return!0};cc.prototype._unpad=function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)une.equal(e[n],r);return e.slice(0,e.length-r)};cc.prototype._encrypt=function(e,r,n,a,o){for(var s=r,u=n,f=0;f<e.keys.length;f+=2){var l=e.keys[f],c=e.keys[f+1];Xa.expand(u,e.tmp,0),l^=e.tmp[0],c^=e.tmp[1];var h=Xa.substitute(l,c),m=Xa.permute(h),g=u;u=(s^m)>>>0,s=g}Xa.rip(u,s,a,o)};cc.prototype._decrypt=function(e,r,n,a,o){for(var s=n,u=r,f=e.keys.length-2;f>=0;f-=2){var l=e.keys[f],c=e.keys[f+1];Xa.expand(s,e.tmp,0),l^=e.tmp[0],c^=e.tmp[1];var h=Xa.substitute(l,c),m=Xa.permute(h),g=s;s=(u^m)>>>0,u=g}Xa.rip(s,u,a,o)}});var hne=Ee(cne=>{"use strict";w();_();var Knt=ou(),Znt=xr(),b3={};function Jnt(t){Knt.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function Ynt(t){function e(o){t.call(this,o),this._cbcInit()}Znt(e,t);for(var r=Object.keys(b3),n=0;n<r.length;n++){var a=r[n];e.prototype[a]=b3[a]}return e.create=function(s){return new e(s)},e}cne.instantiate=Ynt;b3._cbcInit=function(){var e=new Jnt(this.options.iv);this._cbcState=e};b3._update=function(e,r,n,a){var o=this._cbcState,s=this.constructor.super_.prototype,u=o.iv;if(this.type==="encrypt"){for(var f=0;f<this.blockSize;f++)u[f]^=e[r+f];s._update.call(this,u,0,n,a);for(var f=0;f<this.blockSize;f++)u[f]=n[a+f]}else{s._update.call(this,e,r,n,a);for(var f=0;f<this.blockSize;f++)n[a+f]^=u[f];for(var f=0;f<this.blockSize;f++)u[f]=e[r+f]}}});var mne=Ee((Drr,dne)=>{"use strict";w();_();var Xnt=ou(),Qnt=xr(),pne=y3(),Vp=i8();function eit(t,e){Xnt.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),a=e.slice(16,24);t==="encrypt"?this.ciphers=[Vp.create({type:"encrypt",key:r}),Vp.create({type:"decrypt",key:n}),Vp.create({type:"encrypt",key:a})]:this.ciphers=[Vp.create({type:"decrypt",key:a}),Vp.create({type:"encrypt",key:n}),Vp.create({type:"decrypt",key:r})]}function Um(t){pne.call(this,t);var e=new eit(this.type,this.options.key);this._edeState=e}Qnt(Um,pne);dne.exports=Um;Um.create=function(e){return new Um(e)};Um.prototype._update=function(e,r,n,a){var o=this._edeState;o.ciphers[0]._update(e,r,n,a),o.ciphers[1]._update(n,a,n,a),o.ciphers[2]._update(n,a,n,a)};Um.prototype._pad=Vp.prototype._pad;Um.prototype._unpad=Vp.prototype._unpad});var vne=Ee(Lg=>{"use strict";w();_();Lg.utils=n8();Lg.Cipher=y3();Lg.DES=i8();Lg.CBC=hne();Lg.EDE=mne()});var bne=Ee((Irr,yne)=>{w();_();var gne=uh(),fh=vne(),tit=xr(),jm=En().Buffer,Jx={"des-ede3-cbc":fh.CBC.instantiate(fh.EDE),"des-ede3":fh.EDE,"des-ede-cbc":fh.CBC.instantiate(fh.EDE),"des-ede":fh.EDE,"des-cbc":fh.CBC.instantiate(fh.DES),"des-ecb":fh.DES};Jx.des=Jx["des-cbc"];Jx.des3=Jx["des-ede3-cbc"];yne.exports=w3;tit(w3,gne);function w3(t){gne.call(this);var e=t.mode.toLowerCase(),r=Jx[e],n;t.decrypt?n="decrypt":n="encrypt";var a=t.key;jm.isBuffer(a)||(a=jm.from(a)),(e==="des-ede"||e==="des-ede-cbc")&&(a=jm.concat([a,a.slice(0,8)]));var o=t.iv;jm.isBuffer(o)||(o=jm.from(o)),this._des=r.create({key:a,iv:o,type:n})}w3.prototype._update=function(t){return jm.from(this._des.update(t))};w3.prototype._final=function(){return jm.from(this._des.final())}});var wne=Ee(a8=>{w();_();a8.encrypt=function(t,e){return t._cipher.encryptBlock(e)};a8.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var Pg=Ee((Orr,xne)=>{w();_();xne.exports=function(e,r){for(var n=Math.min(e.length,r.length),a=new $Buffer(n),o=0;o<n;++o)a[o]=e[o]^r[o];return a}});var Sne=Ee(o8=>{w();_();var _ne=Pg();o8.encrypt=function(t,e){var r=_ne(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};o8.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return _ne(n,r)}});var Ane=Ee(Mne=>{w();_();var Yx=En().Buffer,rit=Pg();function Ene(t,e,r){var n=e.length,a=rit(e,t._cache);return t._cache=t._cache.slice(n),t._prev=Yx.concat([t._prev,r?e:a]),a}Mne.encrypt=function(t,e,r){for(var n=Yx.allocUnsafe(0),a;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=Yx.allocUnsafe(0)),t._cache.length<=e.length)a=t._cache.length,n=Yx.concat([n,Ene(t,e.slice(0,a),r)]),e=e.slice(a);else{n=Yx.concat([n,Ene(t,e,r)]);break}return n}});var Tne=Ee(Nne=>{w();_();var s8=En().Buffer;function nit(t,e,r){var n=t._cipher.encryptBlock(t._prev),a=n[0]^e;return t._prev=s8.concat([t._prev.slice(1),s8.from([r?e:a])]),a}Nne.encrypt=function(t,e,r){for(var n=e.length,a=s8.allocUnsafe(n),o=-1;++o<n;)a[o]=nit(t,e[o],r);return a}});var kne=Ee(Dne=>{w();_();var x3=En().Buffer;function iit(t,e,r){for(var n,a=-1,o=8,s=0,u,f;++a<o;)n=t._cipher.encryptBlock(t._prev),u=e&1<<7-a?128:0,f=n[0]^u,s+=(f&128)>>a%8,t._prev=ait(t._prev,r?u:f);return s}function ait(t,e){var r=t.length,n=-1,a=x3.allocUnsafe(t.length);for(t=x3.concat([t,x3.from([e])]);++n<r;)a[n]=t[n]<<1|t[n+1]>>7;return a}Dne.encrypt=function(t,e,r){for(var n=e.length,a=x3.allocUnsafe(n),o=-1;++o<n;)a[o]=iit(t,e[o],r);return a}});var Cne=Ee(Ine=>{w();_();var oit=Pg();function sit(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}Ine.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=$Buffer.concat([t._cache,sit(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),oit(e,r)}});var u8=Ee((qrr,One)=>{w();_();function uit(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}One.exports=uit});var l8=Ee(Fne=>{w();_();var fit=Pg(),Rne=En().Buffer,lit=u8();function cit(t){var e=t._cipher.encryptBlockRaw(t._prev);return lit(t._prev),e}var f8=16;Fne.encrypt=function(t,e){var r=Math.ceil(e.length/f8),n=t._cache.length;t._cache=Rne.concat([t._cache,Rne.allocUnsafe(r*f8)]);for(var a=0;a<r;a++){var o=cit(t),s=n+a*f8;t._cache.writeUInt32BE(o[0],s+0),t._cache.writeUInt32BE(o[1],s+4),t._cache.writeUInt32BE(o[2],s+8),t._cache.writeUInt32BE(o[3],s+12)}var u=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),fit(e,u)}});var c8=Ee((Urr,hit)=>{hit.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var S3=Ee((jrr,Bne)=>{w();_();var pit={ECB:wne(),CBC:Sne(),CFB:Ane(),CFB8:Tne(),CFB1:kne(),OFB:Cne(),CTR:l8(),GCM:l8()},_3=c8();for(h8 in _3)_3[h8].module=pit[_3[h8].mode];var h8;Bne.exports=_3});var Xx=Ee(($rr,Pne)=>{w();_();var E3=En().Buffer;function d8(t){E3.isBuffer(t)||(t=E3.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}function p8(t){for(var e=0;e<t.length;t++)t[e]=0}function Lne(t,e,r,n,a){for(var o=r[0],s=r[1],u=r[2],f=r[3],l=t[0]^e[0],c=t[1]^e[1],h=t[2]^e[2],m=t[3]^e[3],g,b,A,I,C=4,R=1;R<a;R++)g=o[l>>>24]^s[c>>>16&255]^u[h>>>8&255]^f[m&255]^e[C++],b=o[c>>>24]^s[h>>>16&255]^u[m>>>8&255]^f[l&255]^e[C++],A=o[h>>>24]^s[m>>>16&255]^u[l>>>8&255]^f[c&255]^e[C++],I=o[m>>>24]^s[l>>>16&255]^u[c>>>8&255]^f[h&255]^e[C++],l=g,c=b,h=A,m=I;return g=(n[l>>>24]<<24|n[c>>>16&255]<<16|n[h>>>8&255]<<8|n[m&255])^e[C++],b=(n[c>>>24]<<24|n[h>>>16&255]<<16|n[m>>>8&255]<<8|n[l&255])^e[C++],A=(n[h>>>24]<<24|n[m>>>16&255]<<16|n[l>>>8&255]<<8|n[c&255])^e[C++],I=(n[m>>>24]<<24|n[l>>>16&255]<<16|n[c>>>8&255]<<8|n[h&255])^e[C++],g=g>>>0,b=b>>>0,A=A>>>0,I=I>>>0,[g,b,A,I]}var dit=[0,1,2,4,8,16,32,64,128,27,54],Wa=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],a=[[],[],[],[]],o=[[],[],[],[]],s=0,u=0,f=0;f<256;++f){var l=u^u<<1^u<<2^u<<3^u<<4;l=l>>>8^l&255^99,r[s]=l,n[l]=s;var c=t[s],h=t[c],m=t[h],g=t[l]*257^l*16843008;a[0][s]=g<<24|g>>>8,a[1][s]=g<<16|g>>>16,a[2][s]=g<<8|g>>>24,a[3][s]=g,g=m*16843009^h*65537^c*257^s*16843008,o[0][l]=g<<24|g>>>8,o[1][l]=g<<16|g>>>16,o[2][l]=g<<8|g>>>24,o[3][l]=g,s===0?s=u=1:(s=c^t[t[t[m^c]]],u^=t[t[u]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:a,INV_SUB_MIX:o}}();function Hu(t){this._key=d8(t),this._reset()}Hu.blockSize=4*4;Hu.keySize=256/8;Hu.prototype.blockSize=Hu.blockSize;Hu.prototype.keySize=Hu.keySize;Hu.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,a=[],o=0;o<e;o++)a[o]=t[o];for(o=e;o<n;o++){var s=a[o-1];o%e===0?(s=s<<8|s>>>24,s=Wa.SBOX[s>>>24]<<24|Wa.SBOX[s>>>16&255]<<16|Wa.SBOX[s>>>8&255]<<8|Wa.SBOX[s&255],s^=dit[o/e|0]<<24):e>6&&o%e===4&&(s=Wa.SBOX[s>>>24]<<24|Wa.SBOX[s>>>16&255]<<16|Wa.SBOX[s>>>8&255]<<8|Wa.SBOX[s&255]),a[o]=a[o-e]^s}for(var u=[],f=0;f<n;f++){var l=n-f,c=a[l-(f%4?0:4)];f<4||l<=4?u[f]=c:u[f]=Wa.INV_SUB_MIX[0][Wa.SBOX[c>>>24]]^Wa.INV_SUB_MIX[1][Wa.SBOX[c>>>16&255]]^Wa.INV_SUB_MIX[2][Wa.SBOX[c>>>8&255]]^Wa.INV_SUB_MIX[3][Wa.SBOX[c&255]]}this._nRounds=r,this._keySchedule=a,this._invKeySchedule=u};Hu.prototype.encryptBlockRaw=function(t){return t=d8(t),Lne(t,this._keySchedule,Wa.SUB_MIX,Wa.SBOX,this._nRounds)};Hu.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=E3.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};Hu.prototype.decryptBlock=function(t){t=d8(t);var e=t[1];t[1]=t[3],t[3]=e;var r=Lne(t,this._invKeySchedule,Wa.INV_SUB_MIX,Wa.INV_SBOX,this._nRounds),n=E3.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};Hu.prototype.scrub=function(){p8(this._keySchedule),p8(this._invKeySchedule),p8(this._key)};Pne.exports.AES=Hu});var Une=Ee((Vrr,zne)=>{w();_();var qg=En().Buffer,mit=qg.alloc(16,0);function vit(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function qne(t){var e=qg.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function Qx(t){this.h=t,this.state=qg.alloc(16,0),this.cache=qg.allocUnsafe(0)}Qx.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};Qx.prototype._multiply=function(){for(var t=vit(this.h),e=[0,0,0,0],r,n,a,o=-1;++o<128;){for(n=(this.state[~~(o/8)]&1<<7-o%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),a=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,a&&(t[0]=t[0]^225<<24)}this.state=qne(e)};Qx.prototype.update=function(t){this.cache=qg.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};Qx.prototype.final=function(t,e){return this.cache.length&&this.ghash(qg.concat([this.cache,mit],16)),this.ghash(qne([0,t,0,e])),this.state};zne.exports=Qx});var m8=Ee((Wrr,Vne)=>{w();_();var git=Xx(),Os=En().Buffer,jne=uh(),yit=xr(),$ne=Une(),bit=Pg(),wit=u8();function xit(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),a=0;a<n;++a)r+=t[a]^e[a];return r}function _it(t,e,r){if(e.length===12)return t._finID=Os.concat([e,Os.from([0,0,0,1])]),Os.concat([e,Os.from([0,0,0,2])]);var n=new $ne(r),a=e.length,o=a%16;n.update(e),o&&(o=16-o,n.update(Os.alloc(o,0))),n.update(Os.alloc(8,0));var s=a*8,u=Os.alloc(8);u.writeUIntBE(s,0,8),n.update(u),t._finID=n.state;var f=Os.from(t._finID);return wit(f),f}function $m(t,e,r,n){jne.call(this);var a=Os.alloc(4,0);this._cipher=new git.AES(e);var o=this._cipher.encryptBlock(a);this._ghash=new $ne(o),r=_it(this,r,o),this._prev=Os.from(r),this._cache=Os.allocUnsafe(0),this._secCache=Os.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}yit($m,jne);$m.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Os.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};$m.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=bit(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&xit(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};$m.prototype.getAuthTag=function(){if(this._decrypt||!Os.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};$m.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};$m.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};Vne.exports=$m});var g8=Ee((Grr,Gne)=>{w();_();var Sit=Xx(),v8=En().Buffer,Wne=uh(),Eit=xr();function M3(t,e,r,n){Wne.call(this),this._cipher=new Sit.AES(e),this._prev=v8.from(r),this._cache=v8.allocUnsafe(0),this._secCache=v8.allocUnsafe(0),this._decrypt=n,this._mode=t}Eit(M3,Wne);M3.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};M3.prototype._final=function(){this._cipher.scrub()};Gne.exports=M3});var e2=Ee((Hrr,Hne)=>{w();_();var Vm=En().Buffer,Mit=WA();function Ait(t,e,r,n){if(Vm.isBuffer(t)||(t=Vm.from(t,"binary")),e&&(Vm.isBuffer(e)||(e=Vm.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=r/8,o=Vm.alloc(a),s=Vm.alloc(n||0),u=Vm.alloc(0);a>0||n>0;){var f=new Mit;f.update(u),f.update(t),e&&f.update(e),u=f.digest();var l=0;if(a>0){var c=o.length-a;l=Math.min(a,u.length),u.copy(o,c,0,l),a-=l}if(l<u.length&&n>0){var h=s.length-n,m=Math.min(n,u.length-l);u.copy(s,h,l,l+m),n-=m}}return u.fill(0),{key:o,iv:s}}Hne.exports=Ait});var Yne=Ee(y8=>{w();_();var Kne=S3(),Nit=m8(),lh=En().Buffer,Tit=g8(),Zne=uh(),Dit=Xx(),kit=e2(),Iit=xr();function t2(t,e,r){Zne.call(this),this._cache=new A3,this._cipher=new Dit.AES(e),this._prev=lh.from(r),this._mode=t,this._autopadding=!0}Iit(t2,Zne);t2.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return lh.concat(n)};var Cit=lh.alloc(16,16);t2.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(Cit))throw this._cipher.scrub(),new Error("data not multiple of block length")};t2.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function A3(){this.cache=lh.allocUnsafe(0)}A3.prototype.add=function(t){this.cache=lh.concat([this.cache,t])};A3.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};A3.prototype.flush=function(){for(var t=16-this.cache.length,e=lh.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return lh.concat([this.cache,e])};function Jne(t,e,r){var n=Kne[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=lh.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=lh.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new Tit(n.module,e,r):n.type==="auth"?new Nit(n.module,e,r):new t2(n.module,e,r)}function Oit(t,e){var r=Kne[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=kit(e,!1,r.key,r.iv);return Jne(t,n.key,n.iv)}y8.createCipheriv=Jne;y8.createCipher=Oit});var tie=Ee(b8=>{w();_();var Rit=m8(),zg=En().Buffer,Xne=S3(),Fit=g8(),Qne=uh(),Bit=Xx(),Lit=e2(),Pit=xr();function r2(t,e,r){Qne.call(this),this._cache=new N3,this._last=void 0,this._cipher=new Bit.AES(e),this._prev=zg.from(r),this._mode=t,this._autopadding=!0}Pit(r2,Qne);r2.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return zg.concat(n)};r2.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return qit(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};r2.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function N3(){this.cache=zg.allocUnsafe(0)}N3.prototype.add=function(t){this.cache=zg.concat([this.cache,t])};N3.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};N3.prototype.flush=function(){if(this.cache.length)return this.cache};function qit(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function eie(t,e,r){var n=Xne[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=zg.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=zg.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new Fit(n.module,e,r,!0):n.type==="auth"?new Rit(n.module,e,r,!0):new r2(n.module,e,r)}function zit(t,e){var r=Xne[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=Lit(e,!1,r.key,r.iv);return eie(t,n.key,n.iv)}b8.createDecipher=zit;b8.createDecipheriv=eie});var T3=Ee(ol=>{w();_();var rie=Yne(),nie=tie(),Uit=c8();function jit(){return Object.keys(Uit)}ol.createCipher=ol.Cipher=rie.createCipher;ol.createCipheriv=ol.Cipheriv=rie.createCipheriv;ol.createDecipher=ol.Decipher=nie.createDecipher;ol.createDecipheriv=ol.Decipheriv=nie.createDecipheriv;ol.listCiphers=ol.getCiphers=jit});var iie=Ee(ch=>{w();_();ch["des-ecb"]={key:8,iv:0};ch["des-cbc"]=ch.des={key:8,iv:8};ch["des-ede3-cbc"]=ch.des3={key:24,iv:8};ch["des-ede3"]={key:24,iv:0};ch["des-ede-cbc"]={key:16,iv:8};ch["des-ede"]={key:16,iv:0}});var fie=Ee(sl=>{w();_();var aie=bne(),w8=T3(),Wp=S3(),hh=iie(),oie=e2();function $it(t,e){t=t.toLowerCase();var r,n;if(Wp[t])r=Wp[t].key,n=Wp[t].iv;else if(hh[t])r=hh[t].key*8,n=hh[t].iv;else throw new TypeError("invalid suite type");var a=oie(e,!1,r,n);return sie(t,a.key,a.iv)}function Vit(t,e){t=t.toLowerCase();var r,n;if(Wp[t])r=Wp[t].key,n=Wp[t].iv;else if(hh[t])r=hh[t].key*8,n=hh[t].iv;else throw new TypeError("invalid suite type");var a=oie(e,!1,r,n);return uie(t,a.key,a.iv)}function sie(t,e,r){if(t=t.toLowerCase(),Wp[t])return w8.createCipheriv(t,e,r);if(hh[t])return new aie({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function uie(t,e,r){if(t=t.toLowerCase(),Wp[t])return w8.createDecipheriv(t,e,r);if(hh[t])return new aie({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function Wit(){return Object.keys(hh).concat(w8.getCiphers())}sl.createCipher=sl.Cipher=$it;sl.createCipheriv=sl.Cipheriv=sie;sl.createDecipher=sl.Decipher=Vit;sl.createDecipheriv=sl.Decipheriv=uie;sl.listCiphers=sl.getCiphers=Wit});var _8=Ee((lie,x8)=>{w();_();(function(t,e){"use strict";function r(T,p){if(!T)throw new Error(p||"Assertion failed")}function n(T,p){T.super_=p;var v=function(){};v.prototype=p.prototype,T.prototype=new v,T.prototype.constructor=T}function a(T,p,v){if(a.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((p==="le"||p==="be")&&(v=p,p=10),this._init(T||0,p||10,v||"be"))}typeof t=="object"?t.exports=a:e.BN=a,a.BN=a,a.wordSize=26;var o;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?o=window.Buffer:o=Oi().Buffer}catch(T){}a.isBN=function(p){return p instanceof a?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===a.wordSize&&Array.isArray(p.words)},a.max=function(p,v){return p.cmp(v)>0?p:v},a.min=function(p,v){return p.cmp(v)<0?p:v},a.prototype._init=function(p,v,S){if(typeof p=="number")return this._initNumber(p,v,S);if(typeof p=="object")return this._initArray(p,v,S);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),p=p.toString().replace(/\s+/g,"");var y=0;p[0]==="-"&&(y++,this.negative=1),y<p.length&&(v===16?this._parseHex(p,y,S):(this._parseBase(p,v,y),S==="le"&&this._initArray(this.toArray(),v,S)))},a.prototype._initNumber=function(p,v,S){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(r(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),v,S)},a.prototype._initArray=function(p,v,S){if(r(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var M,D,k=0;if(S==="be")for(y=p.length-1,M=0;y>=0;y-=3)D=p[y]|p[y-1]<<8|p[y-2]<<16,this.words[M]|=D<<k&67108863,this.words[M+1]=D>>>26-k&67108863,k+=24,k>=26&&(k-=26,M++);else if(S==="le")for(y=0,M=0;y<p.length;y+=3)D=p[y]|p[y+1]<<8|p[y+2]<<16,this.words[M]|=D<<k&67108863,this.words[M+1]=D>>>26-k&67108863,k+=24,k>=26&&(k-=26,M++);return this.strip()};function s(T,p){var v=T.charCodeAt(p);return v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:v-48&15}function u(T,p,v){var S=s(T,v);return v-1>=p&&(S|=s(T,v-1)<<4),S}a.prototype._parseHex=function(p,v,S){this.length=Math.ceil((p.length-v)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var M=0,D=0,k;if(S==="be")for(y=p.length-1;y>=v;y-=2)k=u(p,v,y)<<M,this.words[D]|=k&67108863,M>=18?(M-=18,D+=1,this.words[D]|=k>>>26):M+=8;else{var E=p.length-v;for(y=E%2===0?v+1:v;y<p.length;y+=2)k=u(p,v,y)<<M,this.words[D]|=k&67108863,M>=18?(M-=18,D+=1,this.words[D]|=k>>>26):M+=8}this.strip()};function f(T,p,v,S){for(var y=0,M=Math.min(T.length,v),D=p;D<M;D++){var k=T.charCodeAt(D)-48;y*=S,k>=49?y+=k-49+10:k>=17?y+=k-17+10:y+=k}return y}a.prototype._parseBase=function(p,v,S){this.words=[0],this.length=1;for(var y=0,M=1;M<=67108863;M*=v)y++;y--,M=M/v|0;for(var D=p.length-S,k=D%y,E=Math.min(D,D-k)+S,d=0,N=S;N<E;N+=y)d=f(p,N,N+y,v),this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(k!==0){var U=1;for(d=f(p,N,p.length,v),N=0;N<k;N++)U*=v;this.imuln(U),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},a.prototype.copy=function(p){p.words=new Array(this.length);for(var v=0;v<this.length;v++)p.words[v]=this.words[v];p.length=this.length,p.negative=this.negative,p.red=this.red},a.prototype.clone=function(){var p=new a(null);return this.copy(p),p},a.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(p,v){p=p||10,v=v|0||1;var S;if(p===16||p==="hex"){S="";for(var y=0,M=0,D=0;D<this.length;D++){var k=this.words[D],E=((k<<y|M)&16777215).toString(16);M=k>>>24-y&16777215,M!==0||D!==this.length-1?S=l[6-E.length]+E+S:S=E+S,y+=2,y>=26&&(y-=26,D--)}for(M!==0&&(S=M.toString(16)+S);S.length%v!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(p===(p|0)&&p>=2&&p<=36){var d=c[p],N=h[p];S="";var U=this.clone();for(U.negative=0;!U.isZero();){var q=U.modn(N).toString(p);U=U.idivn(N),U.isZero()?S=q+S:S=l[d-q.length]+q+S}for(this.isZero()&&(S="0"+S);S.length%v!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(p,v){return r(typeof o!="undefined"),this.toArrayLike(o,p,v)},a.prototype.toArray=function(p,v){return this.toArrayLike(Array,p,v)},a.prototype.toArrayLike=function(p,v,S){var y=this.byteLength(),M=S||Math.max(1,y);r(y<=M,"byte array longer than desired length"),r(M>0,"Requested array length <= 0"),this.strip();var D=v==="le",k=new p(M),E,d,N=this.clone();if(D){for(d=0;!N.isZero();d++)E=N.andln(255),N.iushrn(8),k[d]=E;for(;d<M;d++)k[d]=0}else{for(d=0;d<M-y;d++)k[d]=0;for(d=0;!N.isZero();d++)E=N.andln(255),N.iushrn(8),k[M-d-1]=E}return k},Math.clz32?a.prototype._countBits=function(p){return 32-Math.clz32(p)}:a.prototype._countBits=function(p){var v=p,S=0;return v>=4096&&(S+=13,v>>>=13),v>=64&&(S+=7,v>>>=7),v>=8&&(S+=4,v>>>=4),v>=2&&(S+=2,v>>>=2),S+v},a.prototype._zeroBits=function(p){if(p===0)return 26;var v=p,S=0;return(v&8191)===0&&(S+=13,v>>>=13),(v&127)===0&&(S+=7,v>>>=7),(v&15)===0&&(S+=4,v>>>=4),(v&3)===0&&(S+=2,v>>>=2),(v&1)===0&&S++,S},a.prototype.bitLength=function(){var p=this.words[this.length-1],v=this._countBits(p);return(this.length-1)*26+v};function m(T){for(var p=new Array(T.bitLength()),v=0;v<p.length;v++){var S=v/26|0,y=v%26;p[v]=(T.words[S]&1<<y)>>>y}return p}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,v=0;v<this.length;v++){var S=this._zeroBits(this.words[v]);if(p+=S,S!==26)break}return p},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},a.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]|p.words[v];return this.strip()},a.prototype.ior=function(p){return r((this.negative|p.negative)===0),this.iuor(p)},a.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},a.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},a.prototype.iuand=function(p){var v;this.length>p.length?v=p:v=this;for(var S=0;S<v.length;S++)this.words[S]=this.words[S]&p.words[S];return this.length=v.length,this.strip()},a.prototype.iand=function(p){return r((this.negative|p.negative)===0),this.iuand(p)},a.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},a.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},a.prototype.iuxor=function(p){var v,S;this.length>p.length?(v=this,S=p):(v=p,S=this);for(var y=0;y<S.length;y++)this.words[y]=v.words[y]^S.words[y];if(this!==v)for(;y<v.length;y++)this.words[y]=v.words[y];return this.length=v.length,this.strip()},a.prototype.ixor=function(p){return r((this.negative|p.negative)===0),this.iuxor(p)},a.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},a.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},a.prototype.inotn=function(p){r(typeof p=="number"&&p>=0);var v=Math.ceil(p/26)|0,S=p%26;this._expand(v),S>0&&v--;for(var y=0;y<v;y++)this.words[y]=~this.words[y]&67108863;return S>0&&(this.words[y]=~this.words[y]&67108863>>26-S),this.strip()},a.prototype.notn=function(p){return this.clone().inotn(p)},a.prototype.setn=function(p,v){r(typeof p=="number"&&p>=0);var S=p/26|0,y=p%26;return this._expand(S+1),v?this.words[S]=this.words[S]|1<<y:this.words[S]=this.words[S]&~(1<<y),this.strip()},a.prototype.iadd=function(p){var v;if(this.negative!==0&&p.negative===0)return this.negative=0,v=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,v=this.isub(p),p.negative=1,v._normSign();var S,y;this.length>p.length?(S=this,y=p):(S=p,y=this);for(var M=0,D=0;D<y.length;D++)v=(S.words[D]|0)+(y.words[D]|0)+M,this.words[D]=v&67108863,M=v>>>26;for(;M!==0&&D<S.length;D++)v=(S.words[D]|0)+M,this.words[D]=v&67108863,M=v>>>26;if(this.length=S.length,M!==0)this.words[this.length]=M,this.length++;else if(S!==this)for(;D<S.length;D++)this.words[D]=S.words[D];return this},a.prototype.add=function(p){var v;return p.negative!==0&&this.negative===0?(p.negative=0,v=this.sub(p),p.negative^=1,v):p.negative===0&&this.negative!==0?(this.negative=0,v=p.sub(this),this.negative=1,v):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},a.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var v=this.iadd(p);return p.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var S=this.cmp(p);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,M;S>0?(y=this,M=p):(y=p,M=this);for(var D=0,k=0;k<M.length;k++)v=(y.words[k]|0)-(M.words[k]|0)+D,D=v>>26,this.words[k]=v&67108863;for(;D!==0&&k<y.length;k++)v=(y.words[k]|0)+D,D=v>>26,this.words[k]=v&67108863;if(D===0&&k<y.length&&y!==this)for(;k<y.length;k++)this.words[k]=y.words[k];return this.length=Math.max(this.length,k),y!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(p){return this.clone().isub(p)};function g(T,p,v){v.negative=p.negative^T.negative;var S=T.length+p.length|0;v.length=S,S=S-1|0;var y=T.words[0]|0,M=p.words[0]|0,D=y*M,k=D&67108863,E=D/67108864|0;v.words[0]=k;for(var d=1;d<S;d++){for(var N=E>>>26,U=E&67108863,q=Math.min(d,p.length-1),P=Math.max(0,d-T.length+1);P<=q;P++){var G=d-P|0;y=T.words[G]|0,M=p.words[P]|0,D=y*M+U,N+=D/67108864|0,U=D&67108863}v.words[d]=U|0,E=N|0}return E!==0?v.words[d]=E|0:v.length--,v.strip()}var b=function(p,v,S){var y=p.words,M=v.words,D=S.words,k=0,E,d,N,U=y[0]|0,q=U&8191,P=U>>>13,G=y[1]|0,Z=G&8191,X=G>>>13,he=y[2]|0,V=he&8191,K=he>>>13,ne=y[3]|0,fe=ne&8191,pe=ne>>>13,Ie=y[4]|0,ke=Ie&8191,ue=Ie>>>13,xe=y[5]|0,ge=xe&8191,Q=xe>>>13,_e=y[6]|0,ve=_e&8191,be=_e>>>13,qe=y[7]|0,se=qe&8191,Se=qe>>>13,Ke=y[8]|0,J=Ke&8191,H=Ke>>>13,Y=y[9]|0,oe=Y&8191,Me=Y>>>13,Ge=M[0]|0,Ce=Ge&8191,Xe=Ge>>>13,Yt=M[1]|0,tt=Yt&8191,Ye=Yt>>>13,dr=M[2]|0,re=dr&8191,Te=dr>>>13,ft=M[3]|0,ze=ft&8191,et=ft>>>13,lr=M[4]|0,ct=lr&8191,dt=lr>>>13,ki=M[5]|0,vt=ki&8191,pt=ki>>>13,_i=M[6]|0,gt=_i&8191,yt=_i>>>13,_n=M[7]|0,ut=_n&8191,bt=_n>>>13,si=M[8]|0,ht=si&8191,wt=si>>>13,ri=M[9]|0,at=ri&8191,lt=ri>>>13;S.negative=p.negative^v.negative,S.length=19,E=Math.imul(q,Ce),d=Math.imul(q,Xe),d=d+Math.imul(P,Ce)|0,N=Math.imul(P,Xe);var ie=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ie>>>26)|0,ie&=67108863,E=Math.imul(Z,Ce),d=Math.imul(Z,Xe),d=d+Math.imul(X,Ce)|0,N=Math.imul(X,Xe),E=E+Math.imul(q,tt)|0,d=d+Math.imul(q,Ye)|0,d=d+Math.imul(P,tt)|0,N=N+Math.imul(P,Ye)|0;var ce=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ce>>>26)|0,ce&=67108863,E=Math.imul(V,Ce),d=Math.imul(V,Xe),d=d+Math.imul(K,Ce)|0,N=Math.imul(K,Xe),E=E+Math.imul(Z,tt)|0,d=d+Math.imul(Z,Ye)|0,d=d+Math.imul(X,tt)|0,N=N+Math.imul(X,Ye)|0,E=E+Math.imul(q,re)|0,d=d+Math.imul(q,Te)|0,d=d+Math.imul(P,re)|0,N=N+Math.imul(P,Te)|0;var de=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(de>>>26)|0,de&=67108863,E=Math.imul(fe,Ce),d=Math.imul(fe,Xe),d=d+Math.imul(pe,Ce)|0,N=Math.imul(pe,Xe),E=E+Math.imul(V,tt)|0,d=d+Math.imul(V,Ye)|0,d=d+Math.imul(K,tt)|0,N=N+Math.imul(K,Ye)|0,E=E+Math.imul(Z,re)|0,d=d+Math.imul(Z,Te)|0,d=d+Math.imul(X,re)|0,N=N+Math.imul(X,Te)|0,E=E+Math.imul(q,ze)|0,d=d+Math.imul(q,et)|0,d=d+Math.imul(P,ze)|0,N=N+Math.imul(P,et)|0;var ye=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ye>>>26)|0,ye&=67108863,E=Math.imul(ke,Ce),d=Math.imul(ke,Xe),d=d+Math.imul(ue,Ce)|0,N=Math.imul(ue,Xe),E=E+Math.imul(fe,tt)|0,d=d+Math.imul(fe,Ye)|0,d=d+Math.imul(pe,tt)|0,N=N+Math.imul(pe,Ye)|0,E=E+Math.imul(V,re)|0,d=d+Math.imul(V,Te)|0,d=d+Math.imul(K,re)|0,N=N+Math.imul(K,Te)|0,E=E+Math.imul(Z,ze)|0,d=d+Math.imul(Z,et)|0,d=d+Math.imul(X,ze)|0,N=N+Math.imul(X,et)|0,E=E+Math.imul(q,ct)|0,d=d+Math.imul(q,dt)|0,d=d+Math.imul(P,ct)|0,N=N+Math.imul(P,dt)|0;var Ae=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,E=Math.imul(ge,Ce),d=Math.imul(ge,Xe),d=d+Math.imul(Q,Ce)|0,N=Math.imul(Q,Xe),E=E+Math.imul(ke,tt)|0,d=d+Math.imul(ke,Ye)|0,d=d+Math.imul(ue,tt)|0,N=N+Math.imul(ue,Ye)|0,E=E+Math.imul(fe,re)|0,d=d+Math.imul(fe,Te)|0,d=d+Math.imul(pe,re)|0,N=N+Math.imul(pe,Te)|0,E=E+Math.imul(V,ze)|0,d=d+Math.imul(V,et)|0,d=d+Math.imul(K,ze)|0,N=N+Math.imul(K,et)|0,E=E+Math.imul(Z,ct)|0,d=d+Math.imul(Z,dt)|0,d=d+Math.imul(X,ct)|0,N=N+Math.imul(X,dt)|0,E=E+Math.imul(q,vt)|0,d=d+Math.imul(q,pt)|0,d=d+Math.imul(P,vt)|0,N=N+Math.imul(P,pt)|0;var Ne=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,E=Math.imul(ve,Ce),d=Math.imul(ve,Xe),d=d+Math.imul(be,Ce)|0,N=Math.imul(be,Xe),E=E+Math.imul(ge,tt)|0,d=d+Math.imul(ge,Ye)|0,d=d+Math.imul(Q,tt)|0,N=N+Math.imul(Q,Ye)|0,E=E+Math.imul(ke,re)|0,d=d+Math.imul(ke,Te)|0,d=d+Math.imul(ue,re)|0,N=N+Math.imul(ue,Te)|0,E=E+Math.imul(fe,ze)|0,d=d+Math.imul(fe,et)|0,d=d+Math.imul(pe,ze)|0,N=N+Math.imul(pe,et)|0,E=E+Math.imul(V,ct)|0,d=d+Math.imul(V,dt)|0,d=d+Math.imul(K,ct)|0,N=N+Math.imul(K,dt)|0,E=E+Math.imul(Z,vt)|0,d=d+Math.imul(Z,pt)|0,d=d+Math.imul(X,vt)|0,N=N+Math.imul(X,pt)|0,E=E+Math.imul(q,gt)|0,d=d+Math.imul(q,yt)|0,d=d+Math.imul(P,gt)|0,N=N+Math.imul(P,yt)|0;var Pe=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,E=Math.imul(se,Ce),d=Math.imul(se,Xe),d=d+Math.imul(Se,Ce)|0,N=Math.imul(Se,Xe),E=E+Math.imul(ve,tt)|0,d=d+Math.imul(ve,Ye)|0,d=d+Math.imul(be,tt)|0,N=N+Math.imul(be,Ye)|0,E=E+Math.imul(ge,re)|0,d=d+Math.imul(ge,Te)|0,d=d+Math.imul(Q,re)|0,N=N+Math.imul(Q,Te)|0,E=E+Math.imul(ke,ze)|0,d=d+Math.imul(ke,et)|0,d=d+Math.imul(ue,ze)|0,N=N+Math.imul(ue,et)|0,E=E+Math.imul(fe,ct)|0,d=d+Math.imul(fe,dt)|0,d=d+Math.imul(pe,ct)|0,N=N+Math.imul(pe,dt)|0,E=E+Math.imul(V,vt)|0,d=d+Math.imul(V,pt)|0,d=d+Math.imul(K,vt)|0,N=N+Math.imul(K,pt)|0,E=E+Math.imul(Z,gt)|0,d=d+Math.imul(Z,yt)|0,d=d+Math.imul(X,gt)|0,N=N+Math.imul(X,yt)|0,E=E+Math.imul(q,ut)|0,d=d+Math.imul(q,bt)|0,d=d+Math.imul(P,ut)|0,N=N+Math.imul(P,bt)|0;var je=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(je>>>26)|0,je&=67108863,E=Math.imul(J,Ce),d=Math.imul(J,Xe),d=d+Math.imul(H,Ce)|0,N=Math.imul(H,Xe),E=E+Math.imul(se,tt)|0,d=d+Math.imul(se,Ye)|0,d=d+Math.imul(Se,tt)|0,N=N+Math.imul(Se,Ye)|0,E=E+Math.imul(ve,re)|0,d=d+Math.imul(ve,Te)|0,d=d+Math.imul(be,re)|0,N=N+Math.imul(be,Te)|0,E=E+Math.imul(ge,ze)|0,d=d+Math.imul(ge,et)|0,d=d+Math.imul(Q,ze)|0,N=N+Math.imul(Q,et)|0,E=E+Math.imul(ke,ct)|0,d=d+Math.imul(ke,dt)|0,d=d+Math.imul(ue,ct)|0,N=N+Math.imul(ue,dt)|0,E=E+Math.imul(fe,vt)|0,d=d+Math.imul(fe,pt)|0,d=d+Math.imul(pe,vt)|0,N=N+Math.imul(pe,pt)|0,E=E+Math.imul(V,gt)|0,d=d+Math.imul(V,yt)|0,d=d+Math.imul(K,gt)|0,N=N+Math.imul(K,yt)|0,E=E+Math.imul(Z,ut)|0,d=d+Math.imul(Z,bt)|0,d=d+Math.imul(X,ut)|0,N=N+Math.imul(X,bt)|0,E=E+Math.imul(q,ht)|0,d=d+Math.imul(q,wt)|0,d=d+Math.imul(P,ht)|0,N=N+Math.imul(P,wt)|0;var Qe=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,E=Math.imul(oe,Ce),d=Math.imul(oe,Xe),d=d+Math.imul(Me,Ce)|0,N=Math.imul(Me,Xe),E=E+Math.imul(J,tt)|0,d=d+Math.imul(J,Ye)|0,d=d+Math.imul(H,tt)|0,N=N+Math.imul(H,Ye)|0,E=E+Math.imul(se,re)|0,d=d+Math.imul(se,Te)|0,d=d+Math.imul(Se,re)|0,N=N+Math.imul(Se,Te)|0,E=E+Math.imul(ve,ze)|0,d=d+Math.imul(ve,et)|0,d=d+Math.imul(be,ze)|0,N=N+Math.imul(be,et)|0,E=E+Math.imul(ge,ct)|0,d=d+Math.imul(ge,dt)|0,d=d+Math.imul(Q,ct)|0,N=N+Math.imul(Q,dt)|0,E=E+Math.imul(ke,vt)|0,d=d+Math.imul(ke,pt)|0,d=d+Math.imul(ue,vt)|0,N=N+Math.imul(ue,pt)|0,E=E+Math.imul(fe,gt)|0,d=d+Math.imul(fe,yt)|0,d=d+Math.imul(pe,gt)|0,N=N+Math.imul(pe,yt)|0,E=E+Math.imul(V,ut)|0,d=d+Math.imul(V,bt)|0,d=d+Math.imul(K,ut)|0,N=N+Math.imul(K,bt)|0,E=E+Math.imul(Z,ht)|0,d=d+Math.imul(Z,wt)|0,d=d+Math.imul(X,ht)|0,N=N+Math.imul(X,wt)|0,E=E+Math.imul(q,at)|0,d=d+Math.imul(q,lt)|0,d=d+Math.imul(P,at)|0,N=N+Math.imul(P,lt)|0;var Ve=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,E=Math.imul(oe,tt),d=Math.imul(oe,Ye),d=d+Math.imul(Me,tt)|0,N=Math.imul(Me,Ye),E=E+Math.imul(J,re)|0,d=d+Math.imul(J,Te)|0,d=d+Math.imul(H,re)|0,N=N+Math.imul(H,Te)|0,E=E+Math.imul(se,ze)|0,d=d+Math.imul(se,et)|0,d=d+Math.imul(Se,ze)|0,N=N+Math.imul(Se,et)|0,E=E+Math.imul(ve,ct)|0,d=d+Math.imul(ve,dt)|0,d=d+Math.imul(be,ct)|0,N=N+Math.imul(be,dt)|0,E=E+Math.imul(ge,vt)|0,d=d+Math.imul(ge,pt)|0,d=d+Math.imul(Q,vt)|0,N=N+Math.imul(Q,pt)|0,E=E+Math.imul(ke,gt)|0,d=d+Math.imul(ke,yt)|0,d=d+Math.imul(ue,gt)|0,N=N+Math.imul(ue,yt)|0,E=E+Math.imul(fe,ut)|0,d=d+Math.imul(fe,bt)|0,d=d+Math.imul(pe,ut)|0,N=N+Math.imul(pe,bt)|0,E=E+Math.imul(V,ht)|0,d=d+Math.imul(V,wt)|0,d=d+Math.imul(K,ht)|0,N=N+Math.imul(K,wt)|0,E=E+Math.imul(Z,at)|0,d=d+Math.imul(Z,lt)|0,d=d+Math.imul(X,at)|0,N=N+Math.imul(X,lt)|0;var ot=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ot>>>26)|0,ot&=67108863,E=Math.imul(oe,re),d=Math.imul(oe,Te),d=d+Math.imul(Me,re)|0,N=Math.imul(Me,Te),E=E+Math.imul(J,ze)|0,d=d+Math.imul(J,et)|0,d=d+Math.imul(H,ze)|0,N=N+Math.imul(H,et)|0,E=E+Math.imul(se,ct)|0,d=d+Math.imul(se,dt)|0,d=d+Math.imul(Se,ct)|0,N=N+Math.imul(Se,dt)|0,E=E+Math.imul(ve,vt)|0,d=d+Math.imul(ve,pt)|0,d=d+Math.imul(be,vt)|0,N=N+Math.imul(be,pt)|0,E=E+Math.imul(ge,gt)|0,d=d+Math.imul(ge,yt)|0,d=d+Math.imul(Q,gt)|0,N=N+Math.imul(Q,yt)|0,E=E+Math.imul(ke,ut)|0,d=d+Math.imul(ke,bt)|0,d=d+Math.imul(ue,ut)|0,N=N+Math.imul(ue,bt)|0,E=E+Math.imul(fe,ht)|0,d=d+Math.imul(fe,wt)|0,d=d+Math.imul(pe,ht)|0,N=N+Math.imul(pe,wt)|0,E=E+Math.imul(V,at)|0,d=d+Math.imul(V,lt)|0,d=d+Math.imul(K,at)|0,N=N+Math.imul(K,lt)|0;var mt=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(mt>>>26)|0,mt&=67108863,E=Math.imul(oe,ze),d=Math.imul(oe,et),d=d+Math.imul(Me,ze)|0,N=Math.imul(Me,et),E=E+Math.imul(J,ct)|0,d=d+Math.imul(J,dt)|0,d=d+Math.imul(H,ct)|0,N=N+Math.imul(H,dt)|0,E=E+Math.imul(se,vt)|0,d=d+Math.imul(se,pt)|0,d=d+Math.imul(Se,vt)|0,N=N+Math.imul(Se,pt)|0,E=E+Math.imul(ve,gt)|0,d=d+Math.imul(ve,yt)|0,d=d+Math.imul(be,gt)|0,N=N+Math.imul(be,yt)|0,E=E+Math.imul(ge,ut)|0,d=d+Math.imul(ge,bt)|0,d=d+Math.imul(Q,ut)|0,N=N+Math.imul(Q,bt)|0,E=E+Math.imul(ke,ht)|0,d=d+Math.imul(ke,wt)|0,d=d+Math.imul(ue,ht)|0,N=N+Math.imul(ue,wt)|0,E=E+Math.imul(fe,at)|0,d=d+Math.imul(fe,lt)|0,d=d+Math.imul(pe,at)|0,N=N+Math.imul(pe,lt)|0;var Mt=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,E=Math.imul(oe,ct),d=Math.imul(oe,dt),d=d+Math.imul(Me,ct)|0,N=Math.imul(Me,dt),E=E+Math.imul(J,vt)|0,d=d+Math.imul(J,pt)|0,d=d+Math.imul(H,vt)|0,N=N+Math.imul(H,pt)|0,E=E+Math.imul(se,gt)|0,d=d+Math.imul(se,yt)|0,d=d+Math.imul(Se,gt)|0,N=N+Math.imul(Se,yt)|0,E=E+Math.imul(ve,ut)|0,d=d+Math.imul(ve,bt)|0,d=d+Math.imul(be,ut)|0,N=N+Math.imul(be,bt)|0,E=E+Math.imul(ge,ht)|0,d=d+Math.imul(ge,wt)|0,d=d+Math.imul(Q,ht)|0,N=N+Math.imul(Q,wt)|0,E=E+Math.imul(ke,at)|0,d=d+Math.imul(ke,lt)|0,d=d+Math.imul(ue,at)|0,N=N+Math.imul(ue,lt)|0;var $t=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+($t>>>26)|0,$t&=67108863,E=Math.imul(oe,vt),d=Math.imul(oe,pt),d=d+Math.imul(Me,vt)|0,N=Math.imul(Me,pt),E=E+Math.imul(J,gt)|0,d=d+Math.imul(J,yt)|0,d=d+Math.imul(H,gt)|0,N=N+Math.imul(H,yt)|0,E=E+Math.imul(se,ut)|0,d=d+Math.imul(se,bt)|0,d=d+Math.imul(Se,ut)|0,N=N+Math.imul(Se,bt)|0,E=E+Math.imul(ve,ht)|0,d=d+Math.imul(ve,wt)|0,d=d+Math.imul(be,ht)|0,N=N+Math.imul(be,wt)|0,E=E+Math.imul(ge,at)|0,d=d+Math.imul(ge,lt)|0,d=d+Math.imul(Q,at)|0,N=N+Math.imul(Q,lt)|0;var cr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(cr>>>26)|0,cr&=67108863,E=Math.imul(oe,gt),d=Math.imul(oe,yt),d=d+Math.imul(Me,gt)|0,N=Math.imul(Me,yt),E=E+Math.imul(J,ut)|0,d=d+Math.imul(J,bt)|0,d=d+Math.imul(H,ut)|0,N=N+Math.imul(H,bt)|0,E=E+Math.imul(se,ht)|0,d=d+Math.imul(se,wt)|0,d=d+Math.imul(Se,ht)|0,N=N+Math.imul(Se,wt)|0,E=E+Math.imul(ve,at)|0,d=d+Math.imul(ve,lt)|0,d=d+Math.imul(be,at)|0,N=N+Math.imul(be,lt)|0;var rr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(rr>>>26)|0,rr&=67108863,E=Math.imul(oe,ut),d=Math.imul(oe,bt),d=d+Math.imul(Me,ut)|0,N=Math.imul(Me,bt),E=E+Math.imul(J,ht)|0,d=d+Math.imul(J,wt)|0,d=d+Math.imul(H,ht)|0,N=N+Math.imul(H,wt)|0,E=E+Math.imul(se,at)|0,d=d+Math.imul(se,lt)|0,d=d+Math.imul(Se,at)|0,N=N+Math.imul(Se,lt)|0;var Br=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,E=Math.imul(oe,ht),d=Math.imul(oe,wt),d=d+Math.imul(Me,ht)|0,N=Math.imul(Me,wt),E=E+Math.imul(J,at)|0,d=d+Math.imul(J,lt)|0,d=d+Math.imul(H,at)|0,N=N+Math.imul(H,lt)|0;var pr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(pr>>>26)|0,pr&=67108863,E=Math.imul(oe,at),d=Math.imul(oe,lt),d=d+Math.imul(Me,at)|0,N=Math.imul(Me,lt);var Vr=(k+E|0)+((d&8191)<<13)|0;return k=(N+(d>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,D[0]=ie,D[1]=ce,D[2]=de,D[3]=ye,D[4]=Ae,D[5]=Ne,D[6]=Pe,D[7]=je,D[8]=Qe,D[9]=Ve,D[10]=ot,D[11]=mt,D[12]=Mt,D[13]=$t,D[14]=cr,D[15]=rr,D[16]=Br,D[17]=pr,D[18]=Vr,k!==0&&(D[19]=k,S.length++),S};Math.imul||(b=g);function A(T,p,v){v.negative=p.negative^T.negative,v.length=T.length+p.length;for(var S=0,y=0,M=0;M<v.length-1;M++){var D=y;y=0;for(var k=S&67108863,E=Math.min(M,p.length-1),d=Math.max(0,M-T.length+1);d<=E;d++){var N=M-d,U=T.words[N]|0,q=p.words[d]|0,P=U*q,G=P&67108863;D=D+(P/67108864|0)|0,G=G+k|0,k=G&67108863,D=D+(G>>>26)|0,y+=D>>>26,D&=67108863}v.words[M]=k,S=D,D=y}return S!==0?v.words[M]=S:v.length--,v.strip()}function I(T,p,v){var S=new C;return S.mulp(T,p,v)}a.prototype.mulTo=function(p,v){var S,y=this.length+p.length;return this.length===10&&p.length===10?S=b(this,p,v):y<63?S=g(this,p,v):y<1024?S=A(this,p,v):S=I(this,p,v),S};function C(T,p){this.x=T,this.y=p}C.prototype.makeRBT=function(p){for(var v=new Array(p),S=a.prototype._countBits(p)-1,y=0;y<p;y++)v[y]=this.revBin(y,S,p);return v},C.prototype.revBin=function(p,v,S){if(p===0||p===S-1)return p;for(var y=0,M=0;M<v;M++)y|=(p&1)<<v-M-1,p>>=1;return y},C.prototype.permute=function(p,v,S,y,M,D){for(var k=0;k<D;k++)y[k]=v[p[k]],M[k]=S[p[k]]},C.prototype.transform=function(p,v,S,y,M,D){this.permute(D,p,v,S,y,M);for(var k=1;k<M;k<<=1)for(var E=k<<1,d=Math.cos(2*Math.PI/E),N=Math.sin(2*Math.PI/E),U=0;U<M;U+=E)for(var q=d,P=N,G=0;G<k;G++){var Z=S[U+G],X=y[U+G],he=S[U+G+k],V=y[U+G+k],K=q*he-P*V;V=q*V+P*he,he=K,S[U+G]=Z+he,y[U+G]=X+V,S[U+G+k]=Z-he,y[U+G+k]=X-V,G!==E&&(K=d*q-N*P,P=d*P+N*q,q=K)}},C.prototype.guessLen13b=function(p,v){var S=Math.max(v,p)|1,y=S&1,M=0;for(S=S/2|0;S;S=S>>>1)M++;return 1<<M+1+y},C.prototype.conjugate=function(p,v,S){if(!(S<=1))for(var y=0;y<S/2;y++){var M=p[y];p[y]=p[S-y-1],p[S-y-1]=M,M=v[y],v[y]=-v[S-y-1],v[S-y-1]=-M}},C.prototype.normalize13b=function(p,v){for(var S=0,y=0;y<v/2;y++){var M=Math.round(p[2*y+1]/v)*8192+Math.round(p[2*y]/v)+S;p[y]=M&67108863,M<67108864?S=0:S=M/67108864|0}return p},C.prototype.convert13b=function(p,v,S,y){for(var M=0,D=0;D<v;D++)M=M+(p[D]|0),S[2*D]=M&8191,M=M>>>13,S[2*D+1]=M&8191,M=M>>>13;for(D=2*v;D<y;++D)S[D]=0;r(M===0),r((M&-8192)===0)},C.prototype.stub=function(p){for(var v=new Array(p),S=0;S<p;S++)v[S]=0;return v},C.prototype.mulp=function(p,v,S){var y=2*this.guessLen13b(p.length,v.length),M=this.makeRBT(y),D=this.stub(y),k=new Array(y),E=new Array(y),d=new Array(y),N=new Array(y),U=new Array(y),q=new Array(y),P=S.words;P.length=y,this.convert13b(p.words,p.length,k,y),this.convert13b(v.words,v.length,N,y),this.transform(k,D,E,d,y,M),this.transform(N,D,U,q,y,M);for(var G=0;G<y;G++){var Z=E[G]*U[G]-d[G]*q[G];d[G]=E[G]*q[G]+d[G]*U[G],E[G]=Z}return this.conjugate(E,d,y),this.transform(E,d,P,D,y,M),this.conjugate(P,D,y),this.normalize13b(P,y),S.negative=p.negative^v.negative,S.length=p.length+v.length,S.strip()},a.prototype.mul=function(p){var v=new a(null);return v.words=new Array(this.length+p.length),this.mulTo(p,v)},a.prototype.mulf=function(p){var v=new a(null);return v.words=new Array(this.length+p.length),I(this,p,v)},a.prototype.imul=function(p){return this.clone().mulTo(p,this)},a.prototype.imuln=function(p){r(typeof p=="number"),r(p<67108864);for(var v=0,S=0;S<this.length;S++){var y=(this.words[S]|0)*p,M=(y&67108863)+(v&67108863);v>>=26,v+=y/67108864|0,v+=M>>>26,this.words[S]=M&67108863}return v!==0&&(this.words[S]=v,this.length++),this},a.prototype.muln=function(p){return this.clone().imuln(p)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(p){var v=m(p);if(v.length===0)return new a(1);for(var S=this,y=0;y<v.length&&v[y]===0;y++,S=S.sqr());if(++y<v.length)for(var M=S.sqr();y<v.length;y++,M=M.sqr())v[y]!==0&&(S=S.mul(M));return S},a.prototype.iushln=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26,y=67108863>>>26-v<<26-v,M;if(v!==0){var D=0;for(M=0;M<this.length;M++){var k=this.words[M]&y,E=(this.words[M]|0)-k<<v;this.words[M]=E|D,D=k>>>26-v}D&&(this.words[M]=D,this.length++)}if(S!==0){for(M=this.length-1;M>=0;M--)this.words[M+S]=this.words[M];for(M=0;M<S;M++)this.words[M]=0;this.length+=S}return this.strip()},a.prototype.ishln=function(p){return r(this.negative===0),this.iushln(p)},a.prototype.iushrn=function(p,v,S){r(typeof p=="number"&&p>=0);var y;v?y=(v-v%26)/26:y=0;var M=p%26,D=Math.min((p-M)/26,this.length),k=67108863^67108863>>>M<<M,E=S;if(y-=D,y=Math.max(0,y),E){for(var d=0;d<D;d++)E.words[d]=this.words[d];E.length=D}if(D!==0)if(this.length>D)for(this.length-=D,d=0;d<this.length;d++)this.words[d]=this.words[d+D];else this.words[0]=0,this.length=1;var N=0;for(d=this.length-1;d>=0&&(N!==0||d>=y);d--){var U=this.words[d]|0;this.words[d]=N<<26-M|U>>>M,N=U&k}return E&&N!==0&&(E.words[E.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(p,v,S){return r(this.negative===0),this.iushrn(p,v,S)},a.prototype.shln=function(p){return this.clone().ishln(p)},a.prototype.ushln=function(p){return this.clone().iushln(p)},a.prototype.shrn=function(p){return this.clone().ishrn(p)},a.prototype.ushrn=function(p){return this.clone().iushrn(p)},a.prototype.testn=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26,y=1<<v;if(this.length<=S)return!1;var M=this.words[S];return!!(M&y)},a.prototype.imaskn=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(v!==0&&S++,this.length=Math.min(S,this.length),v!==0){var y=67108863^67108863>>>v<<v;this.words[this.length-1]&=y}return this.strip()},a.prototype.maskn=function(p){return this.clone().imaskn(p)},a.prototype.iaddn=function(p){return r(typeof p=="number"),r(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},a.prototype._iaddn=function(p){this.words[0]+=p;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},a.prototype.isubn=function(p){if(r(typeof p=="number"),r(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this.strip()},a.prototype.addn=function(p){return this.clone().iaddn(p)},a.prototype.subn=function(p){return this.clone().isubn(p)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(p,v,S){var y=p.length+S,M;this._expand(y);var D,k=0;for(M=0;M<p.length;M++){D=(this.words[M+S]|0)+k;var E=(p.words[M]|0)*v;D-=E&67108863,k=(D>>26)-(E/67108864|0),this.words[M+S]=D&67108863}for(;M<this.length-S;M++)D=(this.words[M+S]|0)+k,k=D>>26,this.words[M+S]=D&67108863;if(k===0)return this.strip();for(r(k===-1),k=0,M=0;M<this.length;M++)D=-(this.words[M]|0)+k,k=D>>26,this.words[M]=D&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(p,v){var S=this.length-p.length,y=this.clone(),M=p,D=M.words[M.length-1]|0,k=this._countBits(D);S=26-k,S!==0&&(M=M.ushln(S),y.iushln(S),D=M.words[M.length-1]|0);var E=y.length-M.length,d;if(v!=="mod"){d=new a(null),d.length=E+1,d.words=new Array(d.length);for(var N=0;N<d.length;N++)d.words[N]=0}var U=y.clone()._ishlnsubmul(M,1,E);U.negative===0&&(y=U,d&&(d.words[E]=1));for(var q=E-1;q>=0;q--){var P=(y.words[M.length+q]|0)*67108864+(y.words[M.length+q-1]|0);for(P=Math.min(P/D|0,67108863),y._ishlnsubmul(M,P,q);y.negative!==0;)P--,y.negative=0,y._ishlnsubmul(M,1,q),y.isZero()||(y.negative^=1);d&&(d.words[q]=P)}return d&&d.strip(),y.strip(),v!=="div"&&S!==0&&y.iushrn(S),{div:d||null,mod:y}},a.prototype.divmod=function(p,v,S){if(r(!p.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var y,M,D;return this.negative!==0&&p.negative===0?(D=this.neg().divmod(p,v),v!=="mod"&&(y=D.div.neg()),v!=="div"&&(M=D.mod.neg(),S&&M.negative!==0&&M.iadd(p)),{div:y,mod:M}):this.negative===0&&p.negative!==0?(D=this.divmod(p.neg(),v),v!=="mod"&&(y=D.div.neg()),{div:y,mod:D.mod}):(this.negative&p.negative)!==0?(D=this.neg().divmod(p.neg(),v),v!=="div"&&(M=D.mod.neg(),S&&M.negative!==0&&M.isub(p)),{div:D.div,mod:M}):p.length>this.length||this.cmp(p)<0?{div:new a(0),mod:this}:p.length===1?v==="div"?{div:this.divn(p.words[0]),mod:null}:v==="mod"?{div:null,mod:new a(this.modn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new a(this.modn(p.words[0]))}:this._wordDiv(p,v)},a.prototype.div=function(p){return this.divmod(p,"div",!1).div},a.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},a.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},a.prototype.divRound=function(p){var v=this.divmod(p);if(v.mod.isZero())return v.div;var S=v.div.negative!==0?v.mod.isub(p):v.mod,y=p.ushrn(1),M=p.andln(1),D=S.cmp(y);return D<0||M===1&&D===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},a.prototype.modn=function(p){r(p<=67108863);for(var v=(1<<26)%p,S=0,y=this.length-1;y>=0;y--)S=(v*S+(this.words[y]|0))%p;return S},a.prototype.idivn=function(p){r(p<=67108863);for(var v=0,S=this.length-1;S>=0;S--){var y=(this.words[S]|0)+v*67108864;this.words[S]=y/p|0,v=y%p}return this.strip()},a.prototype.divn=function(p){return this.clone().idivn(p)},a.prototype.egcd=function(p){r(p.negative===0),r(!p.isZero());var v=this,S=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var y=new a(1),M=new a(0),D=new a(0),k=new a(1),E=0;v.isEven()&&S.isEven();)v.iushrn(1),S.iushrn(1),++E;for(var d=S.clone(),N=v.clone();!v.isZero();){for(var U=0,q=1;(v.words[0]&q)===0&&U<26;++U,q<<=1);if(U>0)for(v.iushrn(U);U-- >0;)(y.isOdd()||M.isOdd())&&(y.iadd(d),M.isub(N)),y.iushrn(1),M.iushrn(1);for(var P=0,G=1;(S.words[0]&G)===0&&P<26;++P,G<<=1);if(P>0)for(S.iushrn(P);P-- >0;)(D.isOdd()||k.isOdd())&&(D.iadd(d),k.isub(N)),D.iushrn(1),k.iushrn(1);v.cmp(S)>=0?(v.isub(S),y.isub(D),M.isub(k)):(S.isub(v),D.isub(y),k.isub(M))}return{a:D,b:k,gcd:S.iushln(E)}},a.prototype._invmp=function(p){r(p.negative===0),r(!p.isZero());var v=this,S=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var y=new a(1),M=new a(0),D=S.clone();v.cmpn(1)>0&&S.cmpn(1)>0;){for(var k=0,E=1;(v.words[0]&E)===0&&k<26;++k,E<<=1);if(k>0)for(v.iushrn(k);k-- >0;)y.isOdd()&&y.iadd(D),y.iushrn(1);for(var d=0,N=1;(S.words[0]&N)===0&&d<26;++d,N<<=1);if(d>0)for(S.iushrn(d);d-- >0;)M.isOdd()&&M.iadd(D),M.iushrn(1);v.cmp(S)>=0?(v.isub(S),y.isub(M)):(S.isub(v),M.isub(y))}var U;return v.cmpn(1)===0?U=y:U=M,U.cmpn(0)<0&&U.iadd(p),U},a.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var v=this.clone(),S=p.clone();v.negative=0,S.negative=0;for(var y=0;v.isEven()&&S.isEven();y++)v.iushrn(1),S.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;S.isEven();)S.iushrn(1);var M=v.cmp(S);if(M<0){var D=v;v=S,S=D}else if(M===0||S.cmpn(1)===0)break;v.isub(S)}while(!0);return S.iushln(y)},a.prototype.invm=function(p){return this.egcd(p).a.umod(p)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(p){return this.words[0]&p},a.prototype.bincn=function(p){r(typeof p=="number");var v=p%26,S=(p-v)/26,y=1<<v;if(this.length<=S)return this._expand(S+1),this.words[S]|=y,this;for(var M=y,D=S;M!==0&&D<this.length;D++){var k=this.words[D]|0;k+=M,M=k>>>26,k&=67108863,this.words[D]=k}return M!==0&&(this.words[D]=M,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(p){var v=p<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this.strip();var S;if(this.length>1)S=1;else{v&&(p=-p),r(p<=67108863,"Number is too big");var y=this.words[0]|0;S=y===p?0:y<p?-1:1}return this.negative!==0?-S|0:S},a.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var v=this.ucmp(p);return this.negative!==0?-v|0:v},a.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var v=0,S=this.length-1;S>=0;S--){var y=this.words[S]|0,M=p.words[S]|0;if(y!==M){y<M?v=-1:y>M&&(v=1);break}}return v},a.prototype.gtn=function(p){return this.cmpn(p)===1},a.prototype.gt=function(p){return this.cmp(p)===1},a.prototype.gten=function(p){return this.cmpn(p)>=0},a.prototype.gte=function(p){return this.cmp(p)>=0},a.prototype.ltn=function(p){return this.cmpn(p)===-1},a.prototype.lt=function(p){return this.cmp(p)===-1},a.prototype.lten=function(p){return this.cmpn(p)<=0},a.prototype.lte=function(p){return this.cmp(p)<=0},a.prototype.eqn=function(p){return this.cmpn(p)===0},a.prototype.eq=function(p){return this.cmp(p)===0},a.red=function(p){return new j(p)},a.prototype.toRed=function(p){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(p){return this.red=p,this},a.prototype.forceRed=function(p){return r(!this.red,"Already a number in reduction context"),this._forceRed(p)},a.prototype.redAdd=function(p){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},a.prototype.redIAdd=function(p){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},a.prototype.redSub=function(p){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},a.prototype.redISub=function(p){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},a.prototype.redShl=function(p){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},a.prototype.redMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},a.prototype.redIMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(p){return r(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var R={k256:null,p224:null,p192:null,p25519:null};function O(T,p){this.name=T,this.p=new a(p,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var p=new a(null);return p.words=new Array(Math.ceil(this.n/13)),p},O.prototype.ireduce=function(p){var v=p,S;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),S=v.bitLength();while(S>this.n);var y=S<this.n?-1:v.ucmp(this.p);return y===0?(v.words[0]=0,v.length=1):y>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},O.prototype.split=function(p,v){p.iushrn(this.n,0,v)},O.prototype.imulK=function(p){return p.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,O),F.prototype.split=function(p,v){for(var S=4194303,y=Math.min(p.length,9),M=0;M<y;M++)v.words[M]=p.words[M];if(v.length=y,p.length<=9){p.words[0]=0,p.length=1;return}var D=p.words[9];for(v.words[v.length++]=D&S,M=10;M<p.length;M++){var k=p.words[M]|0;p.words[M-10]=(k&S)<<4|D>>>22,D=k}D>>>=22,p.words[M-10]=D,D===0&&p.length>10?p.length-=10:p.length-=9},F.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var v=0,S=0;S<p.length;S++){var y=p.words[S]|0;v+=y*977,p.words[S]=v&67108863,v=y*64+(v/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function z(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(z,O);function B(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(B,O);function $(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n($,O),$.prototype.imulK=function(p){for(var v=0,S=0;S<p.length;S++){var y=(p.words[S]|0)*19+v,M=y&67108863;y>>>=26,p.words[S]=M,v=y}return v!==0&&(p.words[p.length++]=v),p},a._prime=function(p){if(R[p])return R[p];var v;if(p==="k256")v=new F;else if(p==="p224")v=new z;else if(p==="p192")v=new B;else if(p==="p25519")v=new $;else throw new Error("Unknown prime "+p);return R[p]=v,v};function j(T){if(typeof T=="string"){var p=a._prime(T);this.m=p.p,this.prime=p}else r(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}j.prototype._verify1=function(p){r(p.negative===0,"red works only with positives"),r(p.red,"red works only with red numbers")},j.prototype._verify2=function(p,v){r((p.negative|v.negative)===0,"red works only with positives"),r(p.red&&p.red===v.red,"red works only with red numbers")},j.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):p.umod(this.m)._forceRed(this)},j.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},j.prototype.add=function(p,v){this._verify2(p,v);var S=p.add(v);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},j.prototype.iadd=function(p,v){this._verify2(p,v);var S=p.iadd(v);return S.cmp(this.m)>=0&&S.isub(this.m),S},j.prototype.sub=function(p,v){this._verify2(p,v);var S=p.sub(v);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},j.prototype.isub=function(p,v){this._verify2(p,v);var S=p.isub(v);return S.cmpn(0)<0&&S.iadd(this.m),S},j.prototype.shl=function(p,v){return this._verify1(p),this.imod(p.ushln(v))},j.prototype.imul=function(p,v){return this._verify2(p,v),this.imod(p.imul(v))},j.prototype.mul=function(p,v){return this._verify2(p,v),this.imod(p.mul(v))},j.prototype.isqr=function(p){return this.imul(p,p.clone())},j.prototype.sqr=function(p){return this.mul(p,p)},j.prototype.sqrt=function(p){if(p.isZero())return p.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var S=this.m.add(new a(1)).iushrn(2);return this.pow(p,S)}for(var y=this.m.subn(1),M=0;!y.isZero()&&y.andln(1)===0;)M++,y.iushrn(1);r(!y.isZero());var D=new a(1).toRed(this),k=D.redNeg(),E=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);this.pow(d,E).cmp(k)!==0;)d.redIAdd(k);for(var N=this.pow(d,y),U=this.pow(p,y.addn(1).iushrn(1)),q=this.pow(p,y),P=M;q.cmp(D)!==0;){for(var G=q,Z=0;G.cmp(D)!==0;Z++)G=G.redSqr();r(Z<P);var X=this.pow(N,new a(1).iushln(P-Z-1));U=U.redMul(X),N=X.redSqr(),q=q.redMul(N),P=Z}return U},j.prototype.invm=function(p){var v=p._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},j.prototype.pow=function(p,v){if(v.isZero())return new a(1).toRed(this);if(v.cmpn(1)===0)return p.clone();var S=4,y=new Array(1<<S);y[0]=new a(1).toRed(this),y[1]=p;for(var M=2;M<y.length;M++)y[M]=this.mul(y[M-1],p);var D=y[0],k=0,E=0,d=v.bitLength()%26;for(d===0&&(d=26),M=v.length-1;M>=0;M--){for(var N=v.words[M],U=d-1;U>=0;U--){var q=N>>U&1;if(D!==y[0]&&(D=this.sqr(D)),q===0&&k===0){E=0;continue}k<<=1,k|=q,E++,!(E!==S&&(M!==0||U!==0))&&(D=this.mul(D,y[k]),E=0,k=0)}d=26}return D},j.prototype.convertTo=function(p){var v=p.umod(this.m);return v===p?v.clone():v},j.prototype.convertFrom=function(p){var v=p.clone();return v.red=null,v},a.mont=function(p){return new W(p)};function W(T){j.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(W,j),W.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},W.prototype.convertFrom=function(p){var v=this.imod(p.mul(this.rinv));return v.red=null,v},W.prototype.imul=function(p,v){if(p.isZero()||v.isZero())return p.words[0]=0,p.length=1,p;var S=p.imul(v),y=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=S.isub(y).iushrn(this.shift),D=M;return M.cmp(this.m)>=0?D=M.isub(this.m):M.cmpn(0)<0&&(D=M.iadd(this.m)),D._forceRed(this)},W.prototype.mul=function(p,v){if(p.isZero()||v.isZero())return new a(0)._forceRed(this);var S=p.mul(v),y=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=S.isub(y).iushrn(this.shift),D=M;return M.cmp(this.m)>=0?D=M.isub(this.m):M.cmpn(0)<0&&(D=M.iadd(this.m)),D._forceRed(this)},W.prototype.invm=function(p){var v=this.imod(p._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(typeof x8=="undefined"||x8,lie)});var hie=Ee((cie,S8)=>{w();_();(function(t,e){"use strict";function r(T,p){if(!T)throw new Error(p||"Assertion failed")}function n(T,p){T.super_=p;var v=function(){};v.prototype=p.prototype,T.prototype=new v,T.prototype.constructor=T}function a(T,p,v){if(a.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((p==="le"||p==="be")&&(v=p,p=10),this._init(T||0,p||10,v||"be"))}typeof t=="object"?t.exports=a:e.BN=a,a.BN=a,a.wordSize=26;var o;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?o=window.Buffer:o=Oi().Buffer}catch(T){}a.isBN=function(p){return p instanceof a?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===a.wordSize&&Array.isArray(p.words)},a.max=function(p,v){return p.cmp(v)>0?p:v},a.min=function(p,v){return p.cmp(v)<0?p:v},a.prototype._init=function(p,v,S){if(typeof p=="number")return this._initNumber(p,v,S);if(typeof p=="object")return this._initArray(p,v,S);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),p=p.toString().replace(/\s+/g,"");var y=0;p[0]==="-"&&(y++,this.negative=1),y<p.length&&(v===16?this._parseHex(p,y,S):(this._parseBase(p,v,y),S==="le"&&this._initArray(this.toArray(),v,S)))},a.prototype._initNumber=function(p,v,S){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(r(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),v,S)},a.prototype._initArray=function(p,v,S){if(r(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var M,D,k=0;if(S==="be")for(y=p.length-1,M=0;y>=0;y-=3)D=p[y]|p[y-1]<<8|p[y-2]<<16,this.words[M]|=D<<k&67108863,this.words[M+1]=D>>>26-k&67108863,k+=24,k>=26&&(k-=26,M++);else if(S==="le")for(y=0,M=0;y<p.length;y+=3)D=p[y]|p[y+1]<<8|p[y+2]<<16,this.words[M]|=D<<k&67108863,this.words[M+1]=D>>>26-k&67108863,k+=24,k>=26&&(k-=26,M++);return this.strip()};function s(T,p){var v=T.charCodeAt(p);return v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:v-48&15}function u(T,p,v){var S=s(T,v);return v-1>=p&&(S|=s(T,v-1)<<4),S}a.prototype._parseHex=function(p,v,S){this.length=Math.ceil((p.length-v)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var M=0,D=0,k;if(S==="be")for(y=p.length-1;y>=v;y-=2)k=u(p,v,y)<<M,this.words[D]|=k&67108863,M>=18?(M-=18,D+=1,this.words[D]|=k>>>26):M+=8;else{var E=p.length-v;for(y=E%2===0?v+1:v;y<p.length;y+=2)k=u(p,v,y)<<M,this.words[D]|=k&67108863,M>=18?(M-=18,D+=1,this.words[D]|=k>>>26):M+=8}this.strip()};function f(T,p,v,S){for(var y=0,M=Math.min(T.length,v),D=p;D<M;D++){var k=T.charCodeAt(D)-48;y*=S,k>=49?y+=k-49+10:k>=17?y+=k-17+10:y+=k}return y}a.prototype._parseBase=function(p,v,S){this.words=[0],this.length=1;for(var y=0,M=1;M<=67108863;M*=v)y++;y--,M=M/v|0;for(var D=p.length-S,k=D%y,E=Math.min(D,D-k)+S,d=0,N=S;N<E;N+=y)d=f(p,N,N+y,v),this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(k!==0){var U=1;for(d=f(p,N,p.length,v),N=0;N<k;N++)U*=v;this.imuln(U),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},a.prototype.copy=function(p){p.words=new Array(this.length);for(var v=0;v<this.length;v++)p.words[v]=this.words[v];p.length=this.length,p.negative=this.negative,p.red=this.red},a.prototype.clone=function(){var p=new a(null);return this.copy(p),p},a.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(p,v){p=p||10,v=v|0||1;var S;if(p===16||p==="hex"){S="";for(var y=0,M=0,D=0;D<this.length;D++){var k=this.words[D],E=((k<<y|M)&16777215).toString(16);M=k>>>24-y&16777215,M!==0||D!==this.length-1?S=l[6-E.length]+E+S:S=E+S,y+=2,y>=26&&(y-=26,D--)}for(M!==0&&(S=M.toString(16)+S);S.length%v!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(p===(p|0)&&p>=2&&p<=36){var d=c[p],N=h[p];S="";var U=this.clone();for(U.negative=0;!U.isZero();){var q=U.modn(N).toString(p);U=U.idivn(N),U.isZero()?S=q+S:S=l[d-q.length]+q+S}for(this.isZero()&&(S="0"+S);S.length%v!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(p,v){return r(typeof o!="undefined"),this.toArrayLike(o,p,v)},a.prototype.toArray=function(p,v){return this.toArrayLike(Array,p,v)},a.prototype.toArrayLike=function(p,v,S){var y=this.byteLength(),M=S||Math.max(1,y);r(y<=M,"byte array longer than desired length"),r(M>0,"Requested array length <= 0"),this.strip();var D=v==="le",k=new p(M),E,d,N=this.clone();if(D){for(d=0;!N.isZero();d++)E=N.andln(255),N.iushrn(8),k[d]=E;for(;d<M;d++)k[d]=0}else{for(d=0;d<M-y;d++)k[d]=0;for(d=0;!N.isZero();d++)E=N.andln(255),N.iushrn(8),k[M-d-1]=E}return k},Math.clz32?a.prototype._countBits=function(p){return 32-Math.clz32(p)}:a.prototype._countBits=function(p){var v=p,S=0;return v>=4096&&(S+=13,v>>>=13),v>=64&&(S+=7,v>>>=7),v>=8&&(S+=4,v>>>=4),v>=2&&(S+=2,v>>>=2),S+v},a.prototype._zeroBits=function(p){if(p===0)return 26;var v=p,S=0;return(v&8191)===0&&(S+=13,v>>>=13),(v&127)===0&&(S+=7,v>>>=7),(v&15)===0&&(S+=4,v>>>=4),(v&3)===0&&(S+=2,v>>>=2),(v&1)===0&&S++,S},a.prototype.bitLength=function(){var p=this.words[this.length-1],v=this._countBits(p);return(this.length-1)*26+v};function m(T){for(var p=new Array(T.bitLength()),v=0;v<p.length;v++){var S=v/26|0,y=v%26;p[v]=(T.words[S]&1<<y)>>>y}return p}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,v=0;v<this.length;v++){var S=this._zeroBits(this.words[v]);if(p+=S,S!==26)break}return p},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},a.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]|p.words[v];return this.strip()},a.prototype.ior=function(p){return r((this.negative|p.negative)===0),this.iuor(p)},a.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},a.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},a.prototype.iuand=function(p){var v;this.length>p.length?v=p:v=this;for(var S=0;S<v.length;S++)this.words[S]=this.words[S]&p.words[S];return this.length=v.length,this.strip()},a.prototype.iand=function(p){return r((this.negative|p.negative)===0),this.iuand(p)},a.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},a.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},a.prototype.iuxor=function(p){var v,S;this.length>p.length?(v=this,S=p):(v=p,S=this);for(var y=0;y<S.length;y++)this.words[y]=v.words[y]^S.words[y];if(this!==v)for(;y<v.length;y++)this.words[y]=v.words[y];return this.length=v.length,this.strip()},a.prototype.ixor=function(p){return r((this.negative|p.negative)===0),this.iuxor(p)},a.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},a.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},a.prototype.inotn=function(p){r(typeof p=="number"&&p>=0);var v=Math.ceil(p/26)|0,S=p%26;this._expand(v),S>0&&v--;for(var y=0;y<v;y++)this.words[y]=~this.words[y]&67108863;return S>0&&(this.words[y]=~this.words[y]&67108863>>26-S),this.strip()},a.prototype.notn=function(p){return this.clone().inotn(p)},a.prototype.setn=function(p,v){r(typeof p=="number"&&p>=0);var S=p/26|0,y=p%26;return this._expand(S+1),v?this.words[S]=this.words[S]|1<<y:this.words[S]=this.words[S]&~(1<<y),this.strip()},a.prototype.iadd=function(p){var v;if(this.negative!==0&&p.negative===0)return this.negative=0,v=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,v=this.isub(p),p.negative=1,v._normSign();var S,y;this.length>p.length?(S=this,y=p):(S=p,y=this);for(var M=0,D=0;D<y.length;D++)v=(S.words[D]|0)+(y.words[D]|0)+M,this.words[D]=v&67108863,M=v>>>26;for(;M!==0&&D<S.length;D++)v=(S.words[D]|0)+M,this.words[D]=v&67108863,M=v>>>26;if(this.length=S.length,M!==0)this.words[this.length]=M,this.length++;else if(S!==this)for(;D<S.length;D++)this.words[D]=S.words[D];return this},a.prototype.add=function(p){var v;return p.negative!==0&&this.negative===0?(p.negative=0,v=this.sub(p),p.negative^=1,v):p.negative===0&&this.negative!==0?(this.negative=0,v=p.sub(this),this.negative=1,v):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},a.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var v=this.iadd(p);return p.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var S=this.cmp(p);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,M;S>0?(y=this,M=p):(y=p,M=this);for(var D=0,k=0;k<M.length;k++)v=(y.words[k]|0)-(M.words[k]|0)+D,D=v>>26,this.words[k]=v&67108863;for(;D!==0&&k<y.length;k++)v=(y.words[k]|0)+D,D=v>>26,this.words[k]=v&67108863;if(D===0&&k<y.length&&y!==this)for(;k<y.length;k++)this.words[k]=y.words[k];return this.length=Math.max(this.length,k),y!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(p){return this.clone().isub(p)};function g(T,p,v){v.negative=p.negative^T.negative;var S=T.length+p.length|0;v.length=S,S=S-1|0;var y=T.words[0]|0,M=p.words[0]|0,D=y*M,k=D&67108863,E=D/67108864|0;v.words[0]=k;for(var d=1;d<S;d++){for(var N=E>>>26,U=E&67108863,q=Math.min(d,p.length-1),P=Math.max(0,d-T.length+1);P<=q;P++){var G=d-P|0;y=T.words[G]|0,M=p.words[P]|0,D=y*M+U,N+=D/67108864|0,U=D&67108863}v.words[d]=U|0,E=N|0}return E!==0?v.words[d]=E|0:v.length--,v.strip()}var b=function(p,v,S){var y=p.words,M=v.words,D=S.words,k=0,E,d,N,U=y[0]|0,q=U&8191,P=U>>>13,G=y[1]|0,Z=G&8191,X=G>>>13,he=y[2]|0,V=he&8191,K=he>>>13,ne=y[3]|0,fe=ne&8191,pe=ne>>>13,Ie=y[4]|0,ke=Ie&8191,ue=Ie>>>13,xe=y[5]|0,ge=xe&8191,Q=xe>>>13,_e=y[6]|0,ve=_e&8191,be=_e>>>13,qe=y[7]|0,se=qe&8191,Se=qe>>>13,Ke=y[8]|0,J=Ke&8191,H=Ke>>>13,Y=y[9]|0,oe=Y&8191,Me=Y>>>13,Ge=M[0]|0,Ce=Ge&8191,Xe=Ge>>>13,Yt=M[1]|0,tt=Yt&8191,Ye=Yt>>>13,dr=M[2]|0,re=dr&8191,Te=dr>>>13,ft=M[3]|0,ze=ft&8191,et=ft>>>13,lr=M[4]|0,ct=lr&8191,dt=lr>>>13,ki=M[5]|0,vt=ki&8191,pt=ki>>>13,_i=M[6]|0,gt=_i&8191,yt=_i>>>13,_n=M[7]|0,ut=_n&8191,bt=_n>>>13,si=M[8]|0,ht=si&8191,wt=si>>>13,ri=M[9]|0,at=ri&8191,lt=ri>>>13;S.negative=p.negative^v.negative,S.length=19,E=Math.imul(q,Ce),d=Math.imul(q,Xe),d=d+Math.imul(P,Ce)|0,N=Math.imul(P,Xe);var ie=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ie>>>26)|0,ie&=67108863,E=Math.imul(Z,Ce),d=Math.imul(Z,Xe),d=d+Math.imul(X,Ce)|0,N=Math.imul(X,Xe),E=E+Math.imul(q,tt)|0,d=d+Math.imul(q,Ye)|0,d=d+Math.imul(P,tt)|0,N=N+Math.imul(P,Ye)|0;var ce=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ce>>>26)|0,ce&=67108863,E=Math.imul(V,Ce),d=Math.imul(V,Xe),d=d+Math.imul(K,Ce)|0,N=Math.imul(K,Xe),E=E+Math.imul(Z,tt)|0,d=d+Math.imul(Z,Ye)|0,d=d+Math.imul(X,tt)|0,N=N+Math.imul(X,Ye)|0,E=E+Math.imul(q,re)|0,d=d+Math.imul(q,Te)|0,d=d+Math.imul(P,re)|0,N=N+Math.imul(P,Te)|0;var de=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(de>>>26)|0,de&=67108863,E=Math.imul(fe,Ce),d=Math.imul(fe,Xe),d=d+Math.imul(pe,Ce)|0,N=Math.imul(pe,Xe),E=E+Math.imul(V,tt)|0,d=d+Math.imul(V,Ye)|0,d=d+Math.imul(K,tt)|0,N=N+Math.imul(K,Ye)|0,E=E+Math.imul(Z,re)|0,d=d+Math.imul(Z,Te)|0,d=d+Math.imul(X,re)|0,N=N+Math.imul(X,Te)|0,E=E+Math.imul(q,ze)|0,d=d+Math.imul(q,et)|0,d=d+Math.imul(P,ze)|0,N=N+Math.imul(P,et)|0;var ye=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ye>>>26)|0,ye&=67108863,E=Math.imul(ke,Ce),d=Math.imul(ke,Xe),d=d+Math.imul(ue,Ce)|0,N=Math.imul(ue,Xe),E=E+Math.imul(fe,tt)|0,d=d+Math.imul(fe,Ye)|0,d=d+Math.imul(pe,tt)|0,N=N+Math.imul(pe,Ye)|0,E=E+Math.imul(V,re)|0,d=d+Math.imul(V,Te)|0,d=d+Math.imul(K,re)|0,N=N+Math.imul(K,Te)|0,E=E+Math.imul(Z,ze)|0,d=d+Math.imul(Z,et)|0,d=d+Math.imul(X,ze)|0,N=N+Math.imul(X,et)|0,E=E+Math.imul(q,ct)|0,d=d+Math.imul(q,dt)|0,d=d+Math.imul(P,ct)|0,N=N+Math.imul(P,dt)|0;var Ae=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,E=Math.imul(ge,Ce),d=Math.imul(ge,Xe),d=d+Math.imul(Q,Ce)|0,N=Math.imul(Q,Xe),E=E+Math.imul(ke,tt)|0,d=d+Math.imul(ke,Ye)|0,d=d+Math.imul(ue,tt)|0,N=N+Math.imul(ue,Ye)|0,E=E+Math.imul(fe,re)|0,d=d+Math.imul(fe,Te)|0,d=d+Math.imul(pe,re)|0,N=N+Math.imul(pe,Te)|0,E=E+Math.imul(V,ze)|0,d=d+Math.imul(V,et)|0,d=d+Math.imul(K,ze)|0,N=N+Math.imul(K,et)|0,E=E+Math.imul(Z,ct)|0,d=d+Math.imul(Z,dt)|0,d=d+Math.imul(X,ct)|0,N=N+Math.imul(X,dt)|0,E=E+Math.imul(q,vt)|0,d=d+Math.imul(q,pt)|0,d=d+Math.imul(P,vt)|0,N=N+Math.imul(P,pt)|0;var Ne=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,E=Math.imul(ve,Ce),d=Math.imul(ve,Xe),d=d+Math.imul(be,Ce)|0,N=Math.imul(be,Xe),E=E+Math.imul(ge,tt)|0,d=d+Math.imul(ge,Ye)|0,d=d+Math.imul(Q,tt)|0,N=N+Math.imul(Q,Ye)|0,E=E+Math.imul(ke,re)|0,d=d+Math.imul(ke,Te)|0,d=d+Math.imul(ue,re)|0,N=N+Math.imul(ue,Te)|0,E=E+Math.imul(fe,ze)|0,d=d+Math.imul(fe,et)|0,d=d+Math.imul(pe,ze)|0,N=N+Math.imul(pe,et)|0,E=E+Math.imul(V,ct)|0,d=d+Math.imul(V,dt)|0,d=d+Math.imul(K,ct)|0,N=N+Math.imul(K,dt)|0,E=E+Math.imul(Z,vt)|0,d=d+Math.imul(Z,pt)|0,d=d+Math.imul(X,vt)|0,N=N+Math.imul(X,pt)|0,E=E+Math.imul(q,gt)|0,d=d+Math.imul(q,yt)|0,d=d+Math.imul(P,gt)|0,N=N+Math.imul(P,yt)|0;var Pe=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,E=Math.imul(se,Ce),d=Math.imul(se,Xe),d=d+Math.imul(Se,Ce)|0,N=Math.imul(Se,Xe),E=E+Math.imul(ve,tt)|0,d=d+Math.imul(ve,Ye)|0,d=d+Math.imul(be,tt)|0,N=N+Math.imul(be,Ye)|0,E=E+Math.imul(ge,re)|0,d=d+Math.imul(ge,Te)|0,d=d+Math.imul(Q,re)|0,N=N+Math.imul(Q,Te)|0,E=E+Math.imul(ke,ze)|0,d=d+Math.imul(ke,et)|0,d=d+Math.imul(ue,ze)|0,N=N+Math.imul(ue,et)|0,E=E+Math.imul(fe,ct)|0,d=d+Math.imul(fe,dt)|0,d=d+Math.imul(pe,ct)|0,N=N+Math.imul(pe,dt)|0,E=E+Math.imul(V,vt)|0,d=d+Math.imul(V,pt)|0,d=d+Math.imul(K,vt)|0,N=N+Math.imul(K,pt)|0,E=E+Math.imul(Z,gt)|0,d=d+Math.imul(Z,yt)|0,d=d+Math.imul(X,gt)|0,N=N+Math.imul(X,yt)|0,E=E+Math.imul(q,ut)|0,d=d+Math.imul(q,bt)|0,d=d+Math.imul(P,ut)|0,N=N+Math.imul(P,bt)|0;var je=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(je>>>26)|0,je&=67108863,E=Math.imul(J,Ce),d=Math.imul(J,Xe),d=d+Math.imul(H,Ce)|0,N=Math.imul(H,Xe),E=E+Math.imul(se,tt)|0,d=d+Math.imul(se,Ye)|0,d=d+Math.imul(Se,tt)|0,N=N+Math.imul(Se,Ye)|0,E=E+Math.imul(ve,re)|0,d=d+Math.imul(ve,Te)|0,d=d+Math.imul(be,re)|0,N=N+Math.imul(be,Te)|0,E=E+Math.imul(ge,ze)|0,d=d+Math.imul(ge,et)|0,d=d+Math.imul(Q,ze)|0,N=N+Math.imul(Q,et)|0,E=E+Math.imul(ke,ct)|0,d=d+Math.imul(ke,dt)|0,d=d+Math.imul(ue,ct)|0,N=N+Math.imul(ue,dt)|0,E=E+Math.imul(fe,vt)|0,d=d+Math.imul(fe,pt)|0,d=d+Math.imul(pe,vt)|0,N=N+Math.imul(pe,pt)|0,E=E+Math.imul(V,gt)|0,d=d+Math.imul(V,yt)|0,d=d+Math.imul(K,gt)|0,N=N+Math.imul(K,yt)|0,E=E+Math.imul(Z,ut)|0,d=d+Math.imul(Z,bt)|0,d=d+Math.imul(X,ut)|0,N=N+Math.imul(X,bt)|0,E=E+Math.imul(q,ht)|0,d=d+Math.imul(q,wt)|0,d=d+Math.imul(P,ht)|0,N=N+Math.imul(P,wt)|0;var Qe=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,E=Math.imul(oe,Ce),d=Math.imul(oe,Xe),d=d+Math.imul(Me,Ce)|0,N=Math.imul(Me,Xe),E=E+Math.imul(J,tt)|0,d=d+Math.imul(J,Ye)|0,d=d+Math.imul(H,tt)|0,N=N+Math.imul(H,Ye)|0,E=E+Math.imul(se,re)|0,d=d+Math.imul(se,Te)|0,d=d+Math.imul(Se,re)|0,N=N+Math.imul(Se,Te)|0,E=E+Math.imul(ve,ze)|0,d=d+Math.imul(ve,et)|0,d=d+Math.imul(be,ze)|0,N=N+Math.imul(be,et)|0,E=E+Math.imul(ge,ct)|0,d=d+Math.imul(ge,dt)|0,d=d+Math.imul(Q,ct)|0,N=N+Math.imul(Q,dt)|0,E=E+Math.imul(ke,vt)|0,d=d+Math.imul(ke,pt)|0,d=d+Math.imul(ue,vt)|0,N=N+Math.imul(ue,pt)|0,E=E+Math.imul(fe,gt)|0,d=d+Math.imul(fe,yt)|0,d=d+Math.imul(pe,gt)|0,N=N+Math.imul(pe,yt)|0,E=E+Math.imul(V,ut)|0,d=d+Math.imul(V,bt)|0,d=d+Math.imul(K,ut)|0,N=N+Math.imul(K,bt)|0,E=E+Math.imul(Z,ht)|0,d=d+Math.imul(Z,wt)|0,d=d+Math.imul(X,ht)|0,N=N+Math.imul(X,wt)|0,E=E+Math.imul(q,at)|0,d=d+Math.imul(q,lt)|0,d=d+Math.imul(P,at)|0,N=N+Math.imul(P,lt)|0;var Ve=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,E=Math.imul(oe,tt),d=Math.imul(oe,Ye),d=d+Math.imul(Me,tt)|0,N=Math.imul(Me,Ye),E=E+Math.imul(J,re)|0,d=d+Math.imul(J,Te)|0,d=d+Math.imul(H,re)|0,N=N+Math.imul(H,Te)|0,E=E+Math.imul(se,ze)|0,d=d+Math.imul(se,et)|0,d=d+Math.imul(Se,ze)|0,N=N+Math.imul(Se,et)|0,E=E+Math.imul(ve,ct)|0,d=d+Math.imul(ve,dt)|0,d=d+Math.imul(be,ct)|0,N=N+Math.imul(be,dt)|0,E=E+Math.imul(ge,vt)|0,d=d+Math.imul(ge,pt)|0,d=d+Math.imul(Q,vt)|0,N=N+Math.imul(Q,pt)|0,E=E+Math.imul(ke,gt)|0,d=d+Math.imul(ke,yt)|0,d=d+Math.imul(ue,gt)|0,N=N+Math.imul(ue,yt)|0,E=E+Math.imul(fe,ut)|0,d=d+Math.imul(fe,bt)|0,d=d+Math.imul(pe,ut)|0,N=N+Math.imul(pe,bt)|0,E=E+Math.imul(V,ht)|0,d=d+Math.imul(V,wt)|0,d=d+Math.imul(K,ht)|0,N=N+Math.imul(K,wt)|0,E=E+Math.imul(Z,at)|0,d=d+Math.imul(Z,lt)|0,d=d+Math.imul(X,at)|0,N=N+Math.imul(X,lt)|0;var ot=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ot>>>26)|0,ot&=67108863,E=Math.imul(oe,re),d=Math.imul(oe,Te),d=d+Math.imul(Me,re)|0,N=Math.imul(Me,Te),E=E+Math.imul(J,ze)|0,d=d+Math.imul(J,et)|0,d=d+Math.imul(H,ze)|0,N=N+Math.imul(H,et)|0,E=E+Math.imul(se,ct)|0,d=d+Math.imul(se,dt)|0,d=d+Math.imul(Se,ct)|0,N=N+Math.imul(Se,dt)|0,E=E+Math.imul(ve,vt)|0,d=d+Math.imul(ve,pt)|0,d=d+Math.imul(be,vt)|0,N=N+Math.imul(be,pt)|0,E=E+Math.imul(ge,gt)|0,d=d+Math.imul(ge,yt)|0,d=d+Math.imul(Q,gt)|0,N=N+Math.imul(Q,yt)|0,E=E+Math.imul(ke,ut)|0,d=d+Math.imul(ke,bt)|0,d=d+Math.imul(ue,ut)|0,N=N+Math.imul(ue,bt)|0,E=E+Math.imul(fe,ht)|0,d=d+Math.imul(fe,wt)|0,d=d+Math.imul(pe,ht)|0,N=N+Math.imul(pe,wt)|0,E=E+Math.imul(V,at)|0,d=d+Math.imul(V,lt)|0,d=d+Math.imul(K,at)|0,N=N+Math.imul(K,lt)|0;var mt=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(mt>>>26)|0,mt&=67108863,E=Math.imul(oe,ze),d=Math.imul(oe,et),d=d+Math.imul(Me,ze)|0,N=Math.imul(Me,et),E=E+Math.imul(J,ct)|0,d=d+Math.imul(J,dt)|0,d=d+Math.imul(H,ct)|0,N=N+Math.imul(H,dt)|0,E=E+Math.imul(se,vt)|0,d=d+Math.imul(se,pt)|0,d=d+Math.imul(Se,vt)|0,N=N+Math.imul(Se,pt)|0,E=E+Math.imul(ve,gt)|0,d=d+Math.imul(ve,yt)|0,d=d+Math.imul(be,gt)|0,N=N+Math.imul(be,yt)|0,E=E+Math.imul(ge,ut)|0,d=d+Math.imul(ge,bt)|0,d=d+Math.imul(Q,ut)|0,N=N+Math.imul(Q,bt)|0,E=E+Math.imul(ke,ht)|0,d=d+Math.imul(ke,wt)|0,d=d+Math.imul(ue,ht)|0,N=N+Math.imul(ue,wt)|0,E=E+Math.imul(fe,at)|0,d=d+Math.imul(fe,lt)|0,d=d+Math.imul(pe,at)|0,N=N+Math.imul(pe,lt)|0;var Mt=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,E=Math.imul(oe,ct),d=Math.imul(oe,dt),d=d+Math.imul(Me,ct)|0,N=Math.imul(Me,dt),E=E+Math.imul(J,vt)|0,d=d+Math.imul(J,pt)|0,d=d+Math.imul(H,vt)|0,N=N+Math.imul(H,pt)|0,E=E+Math.imul(se,gt)|0,d=d+Math.imul(se,yt)|0,d=d+Math.imul(Se,gt)|0,N=N+Math.imul(Se,yt)|0,E=E+Math.imul(ve,ut)|0,d=d+Math.imul(ve,bt)|0,d=d+Math.imul(be,ut)|0,N=N+Math.imul(be,bt)|0,E=E+Math.imul(ge,ht)|0,d=d+Math.imul(ge,wt)|0,d=d+Math.imul(Q,ht)|0,N=N+Math.imul(Q,wt)|0,E=E+Math.imul(ke,at)|0,d=d+Math.imul(ke,lt)|0,d=d+Math.imul(ue,at)|0,N=N+Math.imul(ue,lt)|0;var $t=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+($t>>>26)|0,$t&=67108863,E=Math.imul(oe,vt),d=Math.imul(oe,pt),d=d+Math.imul(Me,vt)|0,N=Math.imul(Me,pt),E=E+Math.imul(J,gt)|0,d=d+Math.imul(J,yt)|0,d=d+Math.imul(H,gt)|0,N=N+Math.imul(H,yt)|0,E=E+Math.imul(se,ut)|0,d=d+Math.imul(se,bt)|0,d=d+Math.imul(Se,ut)|0,N=N+Math.imul(Se,bt)|0,E=E+Math.imul(ve,ht)|0,d=d+Math.imul(ve,wt)|0,d=d+Math.imul(be,ht)|0,N=N+Math.imul(be,wt)|0,E=E+Math.imul(ge,at)|0,d=d+Math.imul(ge,lt)|0,d=d+Math.imul(Q,at)|0,N=N+Math.imul(Q,lt)|0;var cr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(cr>>>26)|0,cr&=67108863,E=Math.imul(oe,gt),d=Math.imul(oe,yt),d=d+Math.imul(Me,gt)|0,N=Math.imul(Me,yt),E=E+Math.imul(J,ut)|0,d=d+Math.imul(J,bt)|0,d=d+Math.imul(H,ut)|0,N=N+Math.imul(H,bt)|0,E=E+Math.imul(se,ht)|0,d=d+Math.imul(se,wt)|0,d=d+Math.imul(Se,ht)|0,N=N+Math.imul(Se,wt)|0,E=E+Math.imul(ve,at)|0,d=d+Math.imul(ve,lt)|0,d=d+Math.imul(be,at)|0,N=N+Math.imul(be,lt)|0;var rr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(rr>>>26)|0,rr&=67108863,E=Math.imul(oe,ut),d=Math.imul(oe,bt),d=d+Math.imul(Me,ut)|0,N=Math.imul(Me,bt),E=E+Math.imul(J,ht)|0,d=d+Math.imul(J,wt)|0,d=d+Math.imul(H,ht)|0,N=N+Math.imul(H,wt)|0,E=E+Math.imul(se,at)|0,d=d+Math.imul(se,lt)|0,d=d+Math.imul(Se,at)|0,N=N+Math.imul(Se,lt)|0;var Br=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,E=Math.imul(oe,ht),d=Math.imul(oe,wt),d=d+Math.imul(Me,ht)|0,N=Math.imul(Me,wt),E=E+Math.imul(J,at)|0,d=d+Math.imul(J,lt)|0,d=d+Math.imul(H,at)|0,N=N+Math.imul(H,lt)|0;var pr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(pr>>>26)|0,pr&=67108863,E=Math.imul(oe,at),d=Math.imul(oe,lt),d=d+Math.imul(Me,at)|0,N=Math.imul(Me,lt);var Vr=(k+E|0)+((d&8191)<<13)|0;return k=(N+(d>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,D[0]=ie,D[1]=ce,D[2]=de,D[3]=ye,D[4]=Ae,D[5]=Ne,D[6]=Pe,D[7]=je,D[8]=Qe,D[9]=Ve,D[10]=ot,D[11]=mt,D[12]=Mt,D[13]=$t,D[14]=cr,D[15]=rr,D[16]=Br,D[17]=pr,D[18]=Vr,k!==0&&(D[19]=k,S.length++),S};Math.imul||(b=g);function A(T,p,v){v.negative=p.negative^T.negative,v.length=T.length+p.length;for(var S=0,y=0,M=0;M<v.length-1;M++){var D=y;y=0;for(var k=S&67108863,E=Math.min(M,p.length-1),d=Math.max(0,M-T.length+1);d<=E;d++){var N=M-d,U=T.words[N]|0,q=p.words[d]|0,P=U*q,G=P&67108863;D=D+(P/67108864|0)|0,G=G+k|0,k=G&67108863,D=D+(G>>>26)|0,y+=D>>>26,D&=67108863}v.words[M]=k,S=D,D=y}return S!==0?v.words[M]=S:v.length--,v.strip()}function I(T,p,v){var S=new C;return S.mulp(T,p,v)}a.prototype.mulTo=function(p,v){var S,y=this.length+p.length;return this.length===10&&p.length===10?S=b(this,p,v):y<63?S=g(this,p,v):y<1024?S=A(this,p,v):S=I(this,p,v),S};function C(T,p){this.x=T,this.y=p}C.prototype.makeRBT=function(p){for(var v=new Array(p),S=a.prototype._countBits(p)-1,y=0;y<p;y++)v[y]=this.revBin(y,S,p);return v},C.prototype.revBin=function(p,v,S){if(p===0||p===S-1)return p;for(var y=0,M=0;M<v;M++)y|=(p&1)<<v-M-1,p>>=1;return y},C.prototype.permute=function(p,v,S,y,M,D){for(var k=0;k<D;k++)y[k]=v[p[k]],M[k]=S[p[k]]},C.prototype.transform=function(p,v,S,y,M,D){this.permute(D,p,v,S,y,M);for(var k=1;k<M;k<<=1)for(var E=k<<1,d=Math.cos(2*Math.PI/E),N=Math.sin(2*Math.PI/E),U=0;U<M;U+=E)for(var q=d,P=N,G=0;G<k;G++){var Z=S[U+G],X=y[U+G],he=S[U+G+k],V=y[U+G+k],K=q*he-P*V;V=q*V+P*he,he=K,S[U+G]=Z+he,y[U+G]=X+V,S[U+G+k]=Z-he,y[U+G+k]=X-V,G!==E&&(K=d*q-N*P,P=d*P+N*q,q=K)}},C.prototype.guessLen13b=function(p,v){var S=Math.max(v,p)|1,y=S&1,M=0;for(S=S/2|0;S;S=S>>>1)M++;return 1<<M+1+y},C.prototype.conjugate=function(p,v,S){if(!(S<=1))for(var y=0;y<S/2;y++){var M=p[y];p[y]=p[S-y-1],p[S-y-1]=M,M=v[y],v[y]=-v[S-y-1],v[S-y-1]=-M}},C.prototype.normalize13b=function(p,v){for(var S=0,y=0;y<v/2;y++){var M=Math.round(p[2*y+1]/v)*8192+Math.round(p[2*y]/v)+S;p[y]=M&67108863,M<67108864?S=0:S=M/67108864|0}return p},C.prototype.convert13b=function(p,v,S,y){for(var M=0,D=0;D<v;D++)M=M+(p[D]|0),S[2*D]=M&8191,M=M>>>13,S[2*D+1]=M&8191,M=M>>>13;for(D=2*v;D<y;++D)S[D]=0;r(M===0),r((M&-8192)===0)},C.prototype.stub=function(p){for(var v=new Array(p),S=0;S<p;S++)v[S]=0;return v},C.prototype.mulp=function(p,v,S){var y=2*this.guessLen13b(p.length,v.length),M=this.makeRBT(y),D=this.stub(y),k=new Array(y),E=new Array(y),d=new Array(y),N=new Array(y),U=new Array(y),q=new Array(y),P=S.words;P.length=y,this.convert13b(p.words,p.length,k,y),this.convert13b(v.words,v.length,N,y),this.transform(k,D,E,d,y,M),this.transform(N,D,U,q,y,M);for(var G=0;G<y;G++){var Z=E[G]*U[G]-d[G]*q[G];d[G]=E[G]*q[G]+d[G]*U[G],E[G]=Z}return this.conjugate(E,d,y),this.transform(E,d,P,D,y,M),this.conjugate(P,D,y),this.normalize13b(P,y),S.negative=p.negative^v.negative,S.length=p.length+v.length,S.strip()},a.prototype.mul=function(p){var v=new a(null);return v.words=new Array(this.length+p.length),this.mulTo(p,v)},a.prototype.mulf=function(p){var v=new a(null);return v.words=new Array(this.length+p.length),I(this,p,v)},a.prototype.imul=function(p){return this.clone().mulTo(p,this)},a.prototype.imuln=function(p){r(typeof p=="number"),r(p<67108864);for(var v=0,S=0;S<this.length;S++){var y=(this.words[S]|0)*p,M=(y&67108863)+(v&67108863);v>>=26,v+=y/67108864|0,v+=M>>>26,this.words[S]=M&67108863}return v!==0&&(this.words[S]=v,this.length++),this},a.prototype.muln=function(p){return this.clone().imuln(p)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(p){var v=m(p);if(v.length===0)return new a(1);for(var S=this,y=0;y<v.length&&v[y]===0;y++,S=S.sqr());if(++y<v.length)for(var M=S.sqr();y<v.length;y++,M=M.sqr())v[y]!==0&&(S=S.mul(M));return S},a.prototype.iushln=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26,y=67108863>>>26-v<<26-v,M;if(v!==0){var D=0;for(M=0;M<this.length;M++){var k=this.words[M]&y,E=(this.words[M]|0)-k<<v;this.words[M]=E|D,D=k>>>26-v}D&&(this.words[M]=D,this.length++)}if(S!==0){for(M=this.length-1;M>=0;M--)this.words[M+S]=this.words[M];for(M=0;M<S;M++)this.words[M]=0;this.length+=S}return this.strip()},a.prototype.ishln=function(p){return r(this.negative===0),this.iushln(p)},a.prototype.iushrn=function(p,v,S){r(typeof p=="number"&&p>=0);var y;v?y=(v-v%26)/26:y=0;var M=p%26,D=Math.min((p-M)/26,this.length),k=67108863^67108863>>>M<<M,E=S;if(y-=D,y=Math.max(0,y),E){for(var d=0;d<D;d++)E.words[d]=this.words[d];E.length=D}if(D!==0)if(this.length>D)for(this.length-=D,d=0;d<this.length;d++)this.words[d]=this.words[d+D];else this.words[0]=0,this.length=1;var N=0;for(d=this.length-1;d>=0&&(N!==0||d>=y);d--){var U=this.words[d]|0;this.words[d]=N<<26-M|U>>>M,N=U&k}return E&&N!==0&&(E.words[E.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(p,v,S){return r(this.negative===0),this.iushrn(p,v,S)},a.prototype.shln=function(p){return this.clone().ishln(p)},a.prototype.ushln=function(p){return this.clone().iushln(p)},a.prototype.shrn=function(p){return this.clone().ishrn(p)},a.prototype.ushrn=function(p){return this.clone().iushrn(p)},a.prototype.testn=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26,y=1<<v;if(this.length<=S)return!1;var M=this.words[S];return!!(M&y)},a.prototype.imaskn=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(v!==0&&S++,this.length=Math.min(S,this.length),v!==0){var y=67108863^67108863>>>v<<v;this.words[this.length-1]&=y}return this.strip()},a.prototype.maskn=function(p){return this.clone().imaskn(p)},a.prototype.iaddn=function(p){return r(typeof p=="number"),r(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},a.prototype._iaddn=function(p){this.words[0]+=p;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},a.prototype.isubn=function(p){if(r(typeof p=="number"),r(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this.strip()},a.prototype.addn=function(p){return this.clone().iaddn(p)},a.prototype.subn=function(p){return this.clone().isubn(p)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(p,v,S){var y=p.length+S,M;this._expand(y);var D,k=0;for(M=0;M<p.length;M++){D=(this.words[M+S]|0)+k;var E=(p.words[M]|0)*v;D-=E&67108863,k=(D>>26)-(E/67108864|0),this.words[M+S]=D&67108863}for(;M<this.length-S;M++)D=(this.words[M+S]|0)+k,k=D>>26,this.words[M+S]=D&67108863;if(k===0)return this.strip();for(r(k===-1),k=0,M=0;M<this.length;M++)D=-(this.words[M]|0)+k,k=D>>26,this.words[M]=D&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(p,v){var S=this.length-p.length,y=this.clone(),M=p,D=M.words[M.length-1]|0,k=this._countBits(D);S=26-k,S!==0&&(M=M.ushln(S),y.iushln(S),D=M.words[M.length-1]|0);var E=y.length-M.length,d;if(v!=="mod"){d=new a(null),d.length=E+1,d.words=new Array(d.length);for(var N=0;N<d.length;N++)d.words[N]=0}var U=y.clone()._ishlnsubmul(M,1,E);U.negative===0&&(y=U,d&&(d.words[E]=1));for(var q=E-1;q>=0;q--){var P=(y.words[M.length+q]|0)*67108864+(y.words[M.length+q-1]|0);for(P=Math.min(P/D|0,67108863),y._ishlnsubmul(M,P,q);y.negative!==0;)P--,y.negative=0,y._ishlnsubmul(M,1,q),y.isZero()||(y.negative^=1);d&&(d.words[q]=P)}return d&&d.strip(),y.strip(),v!=="div"&&S!==0&&y.iushrn(S),{div:d||null,mod:y}},a.prototype.divmod=function(p,v,S){if(r(!p.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var y,M,D;return this.negative!==0&&p.negative===0?(D=this.neg().divmod(p,v),v!=="mod"&&(y=D.div.neg()),v!=="div"&&(M=D.mod.neg(),S&&M.negative!==0&&M.iadd(p)),{div:y,mod:M}):this.negative===0&&p.negative!==0?(D=this.divmod(p.neg(),v),v!=="mod"&&(y=D.div.neg()),{div:y,mod:D.mod}):(this.negative&p.negative)!==0?(D=this.neg().divmod(p.neg(),v),v!=="div"&&(M=D.mod.neg(),S&&M.negative!==0&&M.isub(p)),{div:D.div,mod:M}):p.length>this.length||this.cmp(p)<0?{div:new a(0),mod:this}:p.length===1?v==="div"?{div:this.divn(p.words[0]),mod:null}:v==="mod"?{div:null,mod:new a(this.modn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new a(this.modn(p.words[0]))}:this._wordDiv(p,v)},a.prototype.div=function(p){return this.divmod(p,"div",!1).div},a.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},a.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},a.prototype.divRound=function(p){var v=this.divmod(p);if(v.mod.isZero())return v.div;var S=v.div.negative!==0?v.mod.isub(p):v.mod,y=p.ushrn(1),M=p.andln(1),D=S.cmp(y);return D<0||M===1&&D===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},a.prototype.modn=function(p){r(p<=67108863);for(var v=(1<<26)%p,S=0,y=this.length-1;y>=0;y--)S=(v*S+(this.words[y]|0))%p;return S},a.prototype.idivn=function(p){r(p<=67108863);for(var v=0,S=this.length-1;S>=0;S--){var y=(this.words[S]|0)+v*67108864;this.words[S]=y/p|0,v=y%p}return this.strip()},a.prototype.divn=function(p){return this.clone().idivn(p)},a.prototype.egcd=function(p){r(p.negative===0),r(!p.isZero());var v=this,S=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var y=new a(1),M=new a(0),D=new a(0),k=new a(1),E=0;v.isEven()&&S.isEven();)v.iushrn(1),S.iushrn(1),++E;for(var d=S.clone(),N=v.clone();!v.isZero();){for(var U=0,q=1;(v.words[0]&q)===0&&U<26;++U,q<<=1);if(U>0)for(v.iushrn(U);U-- >0;)(y.isOdd()||M.isOdd())&&(y.iadd(d),M.isub(N)),y.iushrn(1),M.iushrn(1);for(var P=0,G=1;(S.words[0]&G)===0&&P<26;++P,G<<=1);if(P>0)for(S.iushrn(P);P-- >0;)(D.isOdd()||k.isOdd())&&(D.iadd(d),k.isub(N)),D.iushrn(1),k.iushrn(1);v.cmp(S)>=0?(v.isub(S),y.isub(D),M.isub(k)):(S.isub(v),D.isub(y),k.isub(M))}return{a:D,b:k,gcd:S.iushln(E)}},a.prototype._invmp=function(p){r(p.negative===0),r(!p.isZero());var v=this,S=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var y=new a(1),M=new a(0),D=S.clone();v.cmpn(1)>0&&S.cmpn(1)>0;){for(var k=0,E=1;(v.words[0]&E)===0&&k<26;++k,E<<=1);if(k>0)for(v.iushrn(k);k-- >0;)y.isOdd()&&y.iadd(D),y.iushrn(1);for(var d=0,N=1;(S.words[0]&N)===0&&d<26;++d,N<<=1);if(d>0)for(S.iushrn(d);d-- >0;)M.isOdd()&&M.iadd(D),M.iushrn(1);v.cmp(S)>=0?(v.isub(S),y.isub(M)):(S.isub(v),M.isub(y))}var U;return v.cmpn(1)===0?U=y:U=M,U.cmpn(0)<0&&U.iadd(p),U},a.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var v=this.clone(),S=p.clone();v.negative=0,S.negative=0;for(var y=0;v.isEven()&&S.isEven();y++)v.iushrn(1),S.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;S.isEven();)S.iushrn(1);var M=v.cmp(S);if(M<0){var D=v;v=S,S=D}else if(M===0||S.cmpn(1)===0)break;v.isub(S)}while(!0);return S.iushln(y)},a.prototype.invm=function(p){return this.egcd(p).a.umod(p)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(p){return this.words[0]&p},a.prototype.bincn=function(p){r(typeof p=="number");var v=p%26,S=(p-v)/26,y=1<<v;if(this.length<=S)return this._expand(S+1),this.words[S]|=y,this;for(var M=y,D=S;M!==0&&D<this.length;D++){var k=this.words[D]|0;k+=M,M=k>>>26,k&=67108863,this.words[D]=k}return M!==0&&(this.words[D]=M,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(p){var v=p<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this.strip();var S;if(this.length>1)S=1;else{v&&(p=-p),r(p<=67108863,"Number is too big");var y=this.words[0]|0;S=y===p?0:y<p?-1:1}return this.negative!==0?-S|0:S},a.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var v=this.ucmp(p);return this.negative!==0?-v|0:v},a.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var v=0,S=this.length-1;S>=0;S--){var y=this.words[S]|0,M=p.words[S]|0;if(y!==M){y<M?v=-1:y>M&&(v=1);break}}return v},a.prototype.gtn=function(p){return this.cmpn(p)===1},a.prototype.gt=function(p){return this.cmp(p)===1},a.prototype.gten=function(p){return this.cmpn(p)>=0},a.prototype.gte=function(p){return this.cmp(p)>=0},a.prototype.ltn=function(p){return this.cmpn(p)===-1},a.prototype.lt=function(p){return this.cmp(p)===-1},a.prototype.lten=function(p){return this.cmpn(p)<=0},a.prototype.lte=function(p){return this.cmp(p)<=0},a.prototype.eqn=function(p){return this.cmpn(p)===0},a.prototype.eq=function(p){return this.cmp(p)===0},a.red=function(p){return new j(p)},a.prototype.toRed=function(p){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(p){return this.red=p,this},a.prototype.forceRed=function(p){return r(!this.red,"Already a number in reduction context"),this._forceRed(p)},a.prototype.redAdd=function(p){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},a.prototype.redIAdd=function(p){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},a.prototype.redSub=function(p){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},a.prototype.redISub=function(p){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},a.prototype.redShl=function(p){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},a.prototype.redMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},a.prototype.redIMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(p){return r(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var R={k256:null,p224:null,p192:null,p25519:null};function O(T,p){this.name=T,this.p=new a(p,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var p=new a(null);return p.words=new Array(Math.ceil(this.n/13)),p},O.prototype.ireduce=function(p){var v=p,S;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),S=v.bitLength();while(S>this.n);var y=S<this.n?-1:v.ucmp(this.p);return y===0?(v.words[0]=0,v.length=1):y>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},O.prototype.split=function(p,v){p.iushrn(this.n,0,v)},O.prototype.imulK=function(p){return p.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,O),F.prototype.split=function(p,v){for(var S=4194303,y=Math.min(p.length,9),M=0;M<y;M++)v.words[M]=p.words[M];if(v.length=y,p.length<=9){p.words[0]=0,p.length=1;return}var D=p.words[9];for(v.words[v.length++]=D&S,M=10;M<p.length;M++){var k=p.words[M]|0;p.words[M-10]=(k&S)<<4|D>>>22,D=k}D>>>=22,p.words[M-10]=D,D===0&&p.length>10?p.length-=10:p.length-=9},F.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var v=0,S=0;S<p.length;S++){var y=p.words[S]|0;v+=y*977,p.words[S]=v&67108863,v=y*64+(v/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function z(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(z,O);function B(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(B,O);function $(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n($,O),$.prototype.imulK=function(p){for(var v=0,S=0;S<p.length;S++){var y=(p.words[S]|0)*19+v,M=y&67108863;y>>>=26,p.words[S]=M,v=y}return v!==0&&(p.words[p.length++]=v),p},a._prime=function(p){if(R[p])return R[p];var v;if(p==="k256")v=new F;else if(p==="p224")v=new z;else if(p==="p192")v=new B;else if(p==="p25519")v=new $;else throw new Error("Unknown prime "+p);return R[p]=v,v};function j(T){if(typeof T=="string"){var p=a._prime(T);this.m=p.p,this.prime=p}else r(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}j.prototype._verify1=function(p){r(p.negative===0,"red works only with positives"),r(p.red,"red works only with red numbers")},j.prototype._verify2=function(p,v){r((p.negative|v.negative)===0,"red works only with positives"),r(p.red&&p.red===v.red,"red works only with red numbers")},j.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):p.umod(this.m)._forceRed(this)},j.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},j.prototype.add=function(p,v){this._verify2(p,v);var S=p.add(v);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},j.prototype.iadd=function(p,v){this._verify2(p,v);var S=p.iadd(v);return S.cmp(this.m)>=0&&S.isub(this.m),S},j.prototype.sub=function(p,v){this._verify2(p,v);var S=p.sub(v);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},j.prototype.isub=function(p,v){this._verify2(p,v);var S=p.isub(v);return S.cmpn(0)<0&&S.iadd(this.m),S},j.prototype.shl=function(p,v){return this._verify1(p),this.imod(p.ushln(v))},j.prototype.imul=function(p,v){return this._verify2(p,v),this.imod(p.imul(v))},j.prototype.mul=function(p,v){return this._verify2(p,v),this.imod(p.mul(v))},j.prototype.isqr=function(p){return this.imul(p,p.clone())},j.prototype.sqr=function(p){return this.mul(p,p)},j.prototype.sqrt=function(p){if(p.isZero())return p.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var S=this.m.add(new a(1)).iushrn(2);return this.pow(p,S)}for(var y=this.m.subn(1),M=0;!y.isZero()&&y.andln(1)===0;)M++,y.iushrn(1);r(!y.isZero());var D=new a(1).toRed(this),k=D.redNeg(),E=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);this.pow(d,E).cmp(k)!==0;)d.redIAdd(k);for(var N=this.pow(d,y),U=this.pow(p,y.addn(1).iushrn(1)),q=this.pow(p,y),P=M;q.cmp(D)!==0;){for(var G=q,Z=0;G.cmp(D)!==0;Z++)G=G.redSqr();r(Z<P);var X=this.pow(N,new a(1).iushln(P-Z-1));U=U.redMul(X),N=X.redSqr(),q=q.redMul(N),P=Z}return U},j.prototype.invm=function(p){var v=p._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},j.prototype.pow=function(p,v){if(v.isZero())return new a(1).toRed(this);if(v.cmpn(1)===0)return p.clone();var S=4,y=new Array(1<<S);y[0]=new a(1).toRed(this),y[1]=p;for(var M=2;M<y.length;M++)y[M]=this.mul(y[M-1],p);var D=y[0],k=0,E=0,d=v.bitLength()%26;for(d===0&&(d=26),M=v.length-1;M>=0;M--){for(var N=v.words[M],U=d-1;U>=0;U--){var q=N>>U&1;if(D!==y[0]&&(D=this.sqr(D)),q===0&&k===0){E=0;continue}k<<=1,k|=q,E++,!(E!==S&&(M!==0||U!==0))&&(D=this.mul(D,y[k]),E=0,k=0)}d=26}return D},j.prototype.convertTo=function(p){var v=p.umod(this.m);return v===p?v.clone():v},j.prototype.convertFrom=function(p){var v=p.clone();return v.red=null,v},a.mont=function(p){return new W(p)};function W(T){j.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(W,j),W.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},W.prototype.convertFrom=function(p){var v=this.imod(p.mul(this.rinv));return v.red=null,v},W.prototype.imul=function(p,v){if(p.isZero()||v.isZero())return p.words[0]=0,p.length=1,p;var S=p.imul(v),y=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=S.isub(y).iushrn(this.shift),D=M;return M.cmp(this.m)>=0?D=M.isub(this.m):M.cmpn(0)<0&&(D=M.iadd(this.m)),D._forceRed(this)},W.prototype.mul=function(p,v){if(p.isZero()||v.isZero())return new a(0)._forceRed(this);var S=p.mul(v),y=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=S.isub(y).iushrn(this.shift),D=M;return M.cmp(this.m)>=0?D=M.isub(this.m):M.cmpn(0)<0&&(D=M.iadd(this.m)),D._forceRed(this)},W.prototype.invm=function(p){var v=this.imod(p._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(typeof S8=="undefined"||S8,cie)});var D3=Ee((Qrr,A8)=>{w();_();var E8;A8.exports=function(e){return E8||(E8=new Gp(null)),E8.generate(e)};function Gp(t){this.rand=t}A8.exports.Rand=Gp;Gp.prototype.generate=function(e){return this._rand(e)};Gp.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Gp.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Gp.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Gp.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(M8=n2(),typeof M8.randomBytes!="function")throw new Error("Not supported");Gp.prototype._rand=function(e){return M8.randomBytes(e)}}catch(t){}var M8});var N8=Ee((enr,pie)=>{w();_();var Wm=hie(),Git=D3();function Gm(t){this.rand=t||new Git.Rand}pie.exports=Gm;Gm.create=function(e){return new Gm(e)};Gm.prototype._randbelow=function(e){var r=e.bitLength(),n=Math.ceil(r/8);do var a=new Wm(this.rand.generate(n));while(a.cmp(e)>=0);return a};Gm.prototype._randrange=function(e,r){var n=r.sub(e);return e.add(this._randbelow(n))};Gm.prototype.test=function(e,r,n){var a=e.bitLength(),o=Wm.mont(e),s=new Wm(1).toRed(o);r||(r=Math.max(1,a/48|0));for(var u=e.subn(1),f=0;!u.testn(f);f++);for(var l=e.shrn(f),c=u.toRed(o),h=!0;r>0;r--){var m=this._randrange(new Wm(2),u);n&&n(m);var g=m.toRed(o).redPow(l);if(!(g.cmp(s)===0||g.cmp(c)===0)){for(var b=1;b<f;b++){if(g=g.redSqr(),g.cmp(s)===0)return!1;if(g.cmp(c)===0)break}if(b===f)return!1}}return h};Gm.prototype.getDivisor=function(e,r){var n=e.bitLength(),a=Wm.mont(e),o=new Wm(1).toRed(a);r||(r=Math.max(1,n/48|0));for(var s=e.subn(1),u=0;!s.testn(u);u++);for(var f=e.shrn(u),l=s.toRed(a);r>0;r--){var c=this._randrange(new Wm(2),s),h=e.gcd(c);if(h.cmpn(1)!==0)return h;var m=c.toRed(a).redPow(f);if(!(m.cmp(o)===0||m.cmp(l)===0)){for(var g=1;g<u;g++){if(m=m.redSqr(),m.cmp(o)===0)return m.fromRed().subn(1).gcd(e);if(m.cmp(l)===0)break}if(g===u)return m=m.redSqr(),m.fromRed().subn(1).gcd(e)}}return!1}});var O8=Ee((anr,vie)=>{w();_();var Hit=Em();vie.exports=C8;C8.simpleSieve=k8;C8.fermatTest=I8;var Co=_8(),Kit=new Co(24),Zit=N8(),die=new Zit,Jit=new Co(1),D8=new Co(2),Yit=new Co(5),tnr=new Co(16),rnr=new Co(8),Xit=new Co(10),Qit=new Co(3),nnr=new Co(7),eat=new Co(11),mie=new Co(4),inr=new Co(12),T8=null;function tat(){if(T8!==null)return T8;var t=1048576,e=[];e[0]=2;for(var r=1,n=3;n<t;n+=2){for(var a=Math.ceil(Math.sqrt(n)),o=0;o<r&&e[o]<=a&&n%e[o]!==0;o++);r!==o&&e[o]<=a||(e[r++]=n)}return T8=e,e}function k8(t){for(var e=tat(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function I8(t){var e=Co.mont(t);return D8.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function C8(t,e){if(t<16)return e===2||e===5?new Co([140,123]):new Co([140,39]);e=new Co(e);for(var r,n;;){for(r=new Co(Hit(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(Jit),r.testn(1)||r.iadd(D8),e.cmp(D8)){if(!e.cmp(Yit))for(;r.mod(Xit).cmp(Qit);)r.iadd(mie)}else for(;r.mod(Kit).cmp(eat);)r.iadd(mie);if(n=r.shrn(1),k8(n)&&k8(r)&&I8(n)&&I8(r)&&die.test(n)&&die.test(r))return r}}});var gie=Ee((onr,rat)=>{rat.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var xie=Ee((snr,wie)=>{w();_();var Ku=_8(),nat=N8(),yie=new nat,iat=new Ku(24),aat=new Ku(11),oat=new Ku(10),sat=new Ku(3),uat=new Ku(7),bie=O8(),fat=Em();wie.exports=ph;function lat(t,e){return e=e||"utf8",$Buffer.isBuffer(t)||(t=new $Buffer(t,e)),this._pub=new Ku(t),this}function cat(t,e){return e=e||"utf8",$Buffer.isBuffer(t)||(t=new $Buffer(t,e)),this._priv=new Ku(t),this}var k3={};function hat(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in k3)return k3[n];var a=0;if(t.isEven()||!bie.simpleSieve||!bie.fermatTest(t)||!yie.test(t))return a+=1,r==="02"||r==="05"?a+=8:a+=4,k3[n]=a,a;yie.test(t.shrn(1))||(a+=2);var o;switch(r){case"02":t.mod(iat).cmp(aat)&&(a+=8);break;case"05":o=t.mod(oat),o.cmp(sat)&&o.cmp(uat)&&(a+=8);break;default:a+=4}return k3[n]=a,a}function ph(t,e,r){this.setGenerator(e),this.__prime=new Ku(t),this._prime=Ku.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=lat,this.setPrivateKey=cat):this._primeCode=8}Object.defineProperty(ph.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=hat(this.__prime,this.__gen)),this._primeCode}});ph.prototype.generateKeys=function(){return this._priv||(this._priv=new Ku(fat(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};ph.prototype.computeSecret=function(t){t=new Ku(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new $Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var a=new $Buffer(n.length-r.length);a.fill(0),r=$Buffer.concat([a,r])}return r};ph.prototype.getPublicKey=function(e){return I3(this._pub,e)};ph.prototype.getPrivateKey=function(e){return I3(this._priv,e)};ph.prototype.getPrime=function(t){return I3(this.__prime,t)};ph.prototype.getGenerator=function(t){return I3(this._gen,t)};ph.prototype.setGenerator=function(t,e){return e=e||"utf8",$Buffer.isBuffer(t)||(t=new $Buffer(t,e)),this.__gen=t,this._gen=new Ku(t),this};function I3(t,e){var r=new $Buffer(t.toArray());return e?r.toString(e):r}});var Eie=Ee(Ug=>{w();_();var pat=O8(),_ie=gie(),R8=xie();function dat(t){var e=new $Buffer(_ie[t].prime,"hex"),r=new $Buffer(_ie[t].gen,"hex");return new R8(e,r)}var mat={binary:!0,hex:!0,base64:!0};function Sie(t,e,r,n){return $Buffer.isBuffer(e)||mat[e]===void 0?Sie(t,"binary",e,r):(e=e||"binary",n=n||"binary",r=r||new $Buffer([2]),$Buffer.isBuffer(r)||(r=new $Buffer(r,n)),typeof t=="number"?new R8(pat(t,r),r,!0):($Buffer.isBuffer(t)||(t=new $Buffer(t,e)),new R8(t,r,!0)))}Ug.DiffieHellmanGroup=Ug.createDiffieHellmanGroup=Ug.getDiffieHellman=dat;Ug.createDiffieHellman=Ug.DiffieHellman=Sie});var O3=Ee((F8,Aie)=>{w();_();var C3=Oi(),hc=C3.Buffer;function Mie(t,e){for(var r in t)e[r]=t[r]}hc.from&&hc.alloc&&hc.allocUnsafe&&hc.allocUnsafeSlow?Aie.exports=C3:(Mie(C3,F8),F8.Buffer=Hm);function Hm(t,e,r){return hc(t,e,r)}Hm.prototype=Object.create(hc.prototype);Mie(hc,Hm);Hm.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return hc(t,e,r)};Hm.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=hc(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Hm.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return hc(t)};Hm.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return C3.SlowBuffer(t)}});var B8=Ee((fnr,Nie)=>{w();_();Nie.exports=Fu().EventEmitter});var Iie=Ee((lnr,kie)=>{"use strict";w();_();function Tie(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vat(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tie(Object(r),!0).forEach(function(n){gat(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tie(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gat(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Die(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function bat(t,e,r){return e&&Die(t.prototype,e),r&&Die(t,r),t}var wat=Oi(),R3=wat.Buffer,xat=rc(),L8=xat.inspect,_at=L8&&L8.custom||"inspect";function Sat(t,e,r){R3.prototype.copy.call(t,e,r)}kie.exports=function(){function t(){yat(this,t),this.head=null,this.tail=null,this.length=0}return bat(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,a=""+n.data;n=n.next;)a+=r+n.data;return a}},{key:"concat",value:function(r){if(this.length===0)return R3.alloc(0);for(var n=R3.allocUnsafe(r>>>0),a=this.head,o=0;a;)Sat(a.data,n,o),o+=a.data.length,a=a.next;return n}},{key:"consume",value:function(r,n){var a;return r<this.head.data.length?(a=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?a=this.shift():a=n?this._getString(r):this._getBuffer(r),a}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,a=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,u=r>s.length?s.length:r;if(u===s.length?o+=s:o+=s.slice(0,r),r-=u,r===0){u===s.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(u));break}++a}return this.length-=a,o}},{key:"_getBuffer",value:function(r){var n=R3.allocUnsafe(r),a=this.head,o=1;for(a.data.copy(n),r-=a.data.length;a=a.next;){var s=a.data,u=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,u),r-=u,r===0){u===s.length?(++o,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=s.slice(u));break}++o}return this.length-=o,n}},{key:_at,value:function(r,n){return L8(this,vat({},n,{depth:0,customInspect:!1}))}}]),t}()});var q8=Ee((cnr,Oie)=>{"use strict";w();_();function Eat(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,$process.nextTick(P8,this,t)):$process.nextTick(P8,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?$process.nextTick(F3,r):(r._writableState.errorEmitted=!0,$process.nextTick(Cie,r,o)):$process.nextTick(Cie,r,o):e?($process.nextTick(F3,r),e(o)):$process.nextTick(F3,r)}),this)}function Cie(t,e){P8(t,e),F3(t)}function F3(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Mat(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function P8(t,e){t.emit("error",e)}function Aat(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}Oie.exports={destroy:Eat,undestroy:Mat,errorOrDestroy:Aat}});var Km=Ee((hnr,Bie)=>{"use strict";w();_();function Nat(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Fie={};function Zu(t,e,r){r||(r=Error);function n(o,s,u){return typeof e=="string"?e:e(o,s,u)}var a=function(o){Nat(s,o);function s(u,f,l){return o.call(this,n(u,f,l))||this}return s}(r);a.prototype.name=r.name,a.prototype.code=t,Fie[t]=a}function Rie(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Tat(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Dat(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function kat(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Zu("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Zu("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Tat(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var a;if(Dat(t," argument"))a="The ".concat(t," ").concat(n," ").concat(Rie(e,"type"));else{var o=kat(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(Rie(e,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);Zu("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Zu("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Zu("ERR_STREAM_PREMATURE_CLOSE","Premature close");Zu("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Zu("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Zu("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Zu("ERR_STREAM_WRITE_AFTER_END","write after end");Zu("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Zu("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Zu("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Bie.exports.codes=Fie});var z8=Ee((pnr,Lie)=>{"use strict";w();_();var Iat=Km().codes.ERR_INVALID_OPT_VALUE;function Cat(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Oat(t,e,r,n){var a=Cat(e,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var o=n?r:"highWaterMark";throw new Iat(o,a)}return Math.floor(a)}return t.objectMode?16:16*1024}Lie.exports={getHighWaterMark:Oat}});var $8=Ee((dnr,$ie)=>{"use strict";w();_();$ie.exports=Ta;function qie(t){var e=this;this.next=null,this.entry=null,this.finish=function(){oot(e,t)}}var jg;Ta.WritableState=a2;var Rat={deprecate:px()},zie=B8(),L3=Oi().Buffer,Fat=globalThis.Uint8Array||function(){};function Bat(t){return L3.from(t)}function Lat(t){return L3.isBuffer(t)||t instanceof Fat}var j8=q8(),Pat=z8(),qat=Pat.getHighWaterMark,Hp=Km().codes,zat=Hp.ERR_INVALID_ARG_TYPE,Uat=Hp.ERR_METHOD_NOT_IMPLEMENTED,jat=Hp.ERR_MULTIPLE_CALLBACK,$at=Hp.ERR_STREAM_CANNOT_PIPE,Vat=Hp.ERR_STREAM_DESTROYED,Wat=Hp.ERR_STREAM_NULL_VALUES,Gat=Hp.ERR_STREAM_WRITE_AFTER_END,Hat=Hp.ERR_UNKNOWN_ENCODING,$g=j8.errorOrDestroy;xr()(Ta,zie);function Kat(){}function a2(t,e,r){jg=jg||Zm(),t=t||{},typeof r!="boolean"&&(r=e instanceof jg),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=qat(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){tot(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new qie(this)}a2.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(a2.prototype,"buffer",{get:Rat.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var B3;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(B3=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ta,Symbol.hasInstance,{value:function(e){return B3.call(this,e)?!0:this!==Ta?!1:e&&e._writableState instanceof a2}})):B3=function(e){return e instanceof this};function Ta(t){jg=jg||Zm();var e=this instanceof jg;if(!e&&!B3.call(Ta,this))return new Ta(t);this._writableState=new a2(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),zie.call(this)}Ta.prototype.pipe=function(){$g(this,new $at)};function Zat(t,e){var r=new Gat;$g(t,r),$process.nextTick(e,r)}function Jat(t,e,r,n){var a;return r===null?a=new Wat:typeof r!="string"&&!e.objectMode&&(a=new zat("chunk",["string","Buffer"],r)),a?($g(t,a),$process.nextTick(n,a),!1):!0}Ta.prototype.write=function(t,e,r){var n=this._writableState,a=!1,o=!n.objectMode&&Lat(t);return o&&!L3.isBuffer(t)&&(t=Bat(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Kat),n.ending?Zat(this,r):(o||Jat(this,n,t,r))&&(n.pendingcb++,a=Xat(this,n,o,t,e,r)),a};Ta.prototype.cork=function(){this._writableState.corked++};Ta.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Uie(this,t))};Ta.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Hat(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Ta.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Yat(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=L3.from(e,r)),e}Object.defineProperty(Ta.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Xat(t,e,r,n,a,o){if(!r){var s=Yat(e,n,a);n!==s&&(r=!0,a="buffer",n=s)}var u=e.objectMode?1:n.length;e.length+=u;var f=e.length<e.highWaterMark;if(f||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else U8(t,e,!1,u,n,a,o);return f}function U8(t,e,r,n,a,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Vat("write")):r?t._writev(a,e.onwrite):t._write(a,o,e.onwrite),e.sync=!1}function Qat(t,e,r,n,a){--e.pendingcb,r?($process.nextTick(a,n),$process.nextTick(i2,t,e),t._writableState.errorEmitted=!0,$g(t,n)):(a(n),t._writableState.errorEmitted=!0,$g(t,n),i2(t,e))}function eot(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function tot(t,e){var r=t._writableState,n=r.sync,a=r.writecb;if(typeof a!="function")throw new jat;if(eot(r),e)Qat(t,r,n,e,a);else{var o=jie(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Uie(t,r),n?$process.nextTick(Pie,t,r,o,a):Pie(t,r,o,a)}}function Pie(t,e,r,n){r||rot(t,e),e.pendingcb--,n(),i2(t,e)}function rot(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Uie(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,a=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)a[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;a.allBuffers=u,U8(t,e,!0,e.length,a,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new qie(e),e.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,l=r.encoding,c=r.callback,h=e.objectMode?1:f.length;if(U8(t,e,!1,h,f,l,c),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Ta.prototype._write=function(t,e,r){r(new Uat("_write()"))};Ta.prototype._writev=null;Ta.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||aot(this,n,r),this};Object.defineProperty(Ta.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function jie(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function not(t,e){t._final(function(r){e.pendingcb--,r&&$g(t,r),e.prefinished=!0,t.emit("prefinish"),i2(t,e)})}function iot(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,$process.nextTick(not,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function i2(t,e){var r=jie(e);if(r&&(iot(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function aot(t,e,r){e.ending=!0,i2(t,e),r&&(e.finished?$process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function oot(t,e,r){var n=t.entry;for(t.entry=null;n;){var a=n.callback;e.pendingcb--,a(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Ta.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});Ta.prototype.destroy=j8.destroy;Ta.prototype._undestroy=j8.undestroy;Ta.prototype._destroy=function(t,e){e(t)}});var Zm=Ee((mnr,Wie)=>{"use strict";w();_();var sot=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Wie.exports=pc;var Vie=G8(),W8=$8();xr()(pc,Vie);for(V8=sot(W8.prototype),P3=0;P3<V8.length;P3++)q3=V8[P3],pc.prototype[q3]||(pc.prototype[q3]=W8.prototype[q3]);var V8,q3,P3;function pc(t){if(!(this instanceof pc))return new pc(t);Vie.call(this,t),W8.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",uot)))}Object.defineProperty(pc.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(pc.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(pc.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function uot(){this._writableState.ended||$process.nextTick(fot,this)}function fot(t){t.end()}Object.defineProperty(pc.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var z3=Ee((vnr,Kie)=>{"use strict";w();_();var Gie=Km().codes.ERR_STREAM_PREMATURE_CLOSE;function lot(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];t.apply(this,n)}}}function cot(){}function hot(t){return t.setHeader&&typeof t.abort=="function"}function Hie(t,e,r){if(typeof e=="function")return Hie(t,null,e);e||(e={}),r=lot(r||cot);var n=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||u()},s=t._writableState&&t._writableState.finished,u=function(){a=!1,s=!0,n||r.call(t)},f=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,f=!0,a||r.call(t)},c=function(b){r.call(t,b)},h=function(){var b;if(n&&!f)return(!t._readableState||!t._readableState.ended)&&(b=new Gie),r.call(t,b);if(a&&!s)return(!t._writableState||!t._writableState.ended)&&(b=new Gie),r.call(t,b)},m=function(){t.req.on("finish",u)};return hot(t)?(t.on("complete",u),t.on("abort",h),t.req?m():t.on("request",m)):a&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",l),t.on("finish",u),e.error!==!1&&t.on("error",c),t.on("close",h),function(){t.removeListener("complete",u),t.removeListener("abort",h),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",u),t.removeListener("end",l),t.removeListener("error",c),t.removeListener("close",h)}}Kie.exports=Hie});var Jie=Ee((gnr,Zie)=>{"use strict";w();_();var U3;function Kp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var pot=z3(),Zp=Symbol("lastResolve"),Jm=Symbol("lastReject"),o2=Symbol("error"),j3=Symbol("ended"),Ym=Symbol("lastPromise"),H8=Symbol("handlePromise"),Xm=Symbol("stream");function Jp(t,e){return{value:t,done:e}}function dot(t){var e=t[Zp];if(e!==null){var r=t[Xm].read();r!==null&&(t[Ym]=null,t[Zp]=null,t[Jm]=null,e(Jp(r,!1)))}}function mot(t){$process.nextTick(dot,t)}function vot(t,e){return function(r,n){t.then(function(){if(e[j3]){r(Jp(void 0,!0));return}e[H8](r,n)},n)}}var got=Object.getPrototypeOf(function(){}),yot=Object.setPrototypeOf((U3={get stream(){return this[Xm]},next:function(){var e=this,r=this[o2];if(r!==null)return Promise.reject(r);if(this[j3])return Promise.resolve(Jp(void 0,!0));if(this[Xm].destroyed)return new Promise(function(s,u){$process.nextTick(function(){e[o2]?u(e[o2]):s(Jp(void 0,!0))})});var n=this[Ym],a;if(n)a=new Promise(vot(n,this));else{var o=this[Xm].read();if(o!==null)return Promise.resolve(Jp(o,!1));a=new Promise(this[H8])}return this[Ym]=a,a}},Kp(U3,Symbol.asyncIterator,function(){return this}),Kp(U3,"return",function(){var e=this;return new Promise(function(r,n){e[Xm].destroy(null,function(a){if(a){n(a);return}r(Jp(void 0,!0))})})}),U3),got),bot=function(e){var r,n=Object.create(yot,(r={},Kp(r,Xm,{value:e,writable:!0}),Kp(r,Zp,{value:null,writable:!0}),Kp(r,Jm,{value:null,writable:!0}),Kp(r,o2,{value:null,writable:!0}),Kp(r,j3,{value:e._readableState.endEmitted,writable:!0}),Kp(r,H8,{value:function(o,s){var u=n[Xm].read();u?(n[Ym]=null,n[Zp]=null,n[Jm]=null,o(Jp(u,!1))):(n[Zp]=o,n[Jm]=s)},writable:!0}),r));return n[Ym]=null,pot(e,function(a){if(a&&a.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Jm];o!==null&&(n[Ym]=null,n[Zp]=null,n[Jm]=null,o(a)),n[o2]=a;return}var s=n[Zp];s!==null&&(n[Ym]=null,n[Zp]=null,n[Jm]=null,s(Jp(void 0,!0))),n[j3]=!0}),e.on("readable",mot.bind(null,n)),n};Zie.exports=bot});var Xie=Ee((ynr,Yie)=>{w();_();Yie.exports=function(){throw new Error("Readable.from is not available in the browser")}});var G8=Ee((wnr,uae)=>{"use strict";w();_();uae.exports=Un;var Vg;Un.ReadableState=rae;var bnr=Fu().EventEmitter,tae=function(e,r){return e.listeners(r).length},u2=B8(),$3=Oi().Buffer,wot=globalThis.Uint8Array||function(){};function xot(t){return $3.from(t)}function _ot(t){return $3.isBuffer(t)||t instanceof wot}var K8=rc(),cn;K8&&K8.debuglog?cn=K8.debuglog("stream"):cn=function(){};var Sot=Iie(),tF=q8(),Eot=z8(),Mot=Eot.getHighWaterMark,V3=Km().codes,Aot=V3.ERR_INVALID_ARG_TYPE,Not=V3.ERR_STREAM_PUSH_AFTER_EOF,Tot=V3.ERR_METHOD_NOT_IMPLEMENTED,Dot=V3.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Wg,Z8,J8;xr()(Un,u2);var s2=tF.errorOrDestroy,Y8=["error","close","destroy","pause","resume"];function kot(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function rae(t,e,r){Vg=Vg||Zm(),t=t||{},typeof r!="boolean"&&(r=e instanceof Vg),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Mot(this,t,"readableHighWaterMark",r),this.buffer=new Sot,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Wg||(Wg=ac().StringDecoder),this.decoder=new Wg(t.encoding),this.encoding=t.encoding)}function Un(t){if(Vg=Vg||Zm(),!(this instanceof Un))return new Un(t);var e=this instanceof Vg;this._readableState=new rae(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),u2.call(this)}Object.defineProperty(Un.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});Un.prototype.destroy=tF.destroy;Un.prototype._undestroy=tF.undestroy;Un.prototype._destroy=function(t,e){e(t)};Un.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=$3.from(t,e),e=""),n=!0),nae(this,t,e,!1,n)};Un.prototype.unshift=function(t){return nae(this,t,null,!0,!1)};function nae(t,e,r,n,a){cn("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,Oot(t,o);else{var s;if(a||(s=Iot(o,e)),s)s2(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==$3.prototype&&(e=xot(e)),n)o.endEmitted?s2(t,new Dot):X8(t,o,e,!0);else if(o.ended)s2(t,new Not);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?X8(t,o,e,!1):eF(t,o)):X8(t,o,e,!1)}else n||(o.reading=!1,eF(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function X8(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&W3(t)),eF(t,e)}function Iot(t,e){var r;return!_ot(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Aot("chunk",["string","Buffer","Uint8Array"],e)),r}Un.prototype.isPaused=function(){return this._readableState.flowing===!1};Un.prototype.setEncoding=function(t){Wg||(Wg=ac().StringDecoder);var e=new Wg(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Qie=1073741824;function Cot(t){return t>=Qie?t=Qie:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function eae(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Cot(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Un.prototype.read=function(t){cn("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return cn("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Q8(this):W3(this),null;if(t=eae(t,e),t===0&&e.ended)return e.length===0&&Q8(this),null;var n=e.needReadable;cn("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,cn("length less than watermark",n)),e.ended||e.reading?(n=!1,cn("reading or ended",n)):n&&(cn("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=eae(r,e)));var a;return t>0?a=oae(t,e):a=null,a===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Q8(this)),a!==null&&this.emit("data",a),a};function Oot(t,e){if(cn("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?W3(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,iae(t)))}}function W3(t){var e=t._readableState;cn("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(cn("emitReadable",e.flowing),e.emittedReadable=!0,$process.nextTick(iae,t))}function iae(t){var e=t._readableState;cn("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,rF(t)}function eF(t,e){e.readingMore||(e.readingMore=!0,$process.nextTick(Rot,t,e))}function Rot(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(cn("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Un.prototype._read=function(t){s2(this,new Tot("_read()"))};Un.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,cn("pipe count=%d opts=%j",n.pipesCount,e);var a=(!e||e.end!==!1)&&t!==$process.stdout&&t!==$process.stderr,o=a?u:A;n.endEmitted?$process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(I,C){cn("onunpipe"),I===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,c())}function u(){cn("onend"),t.end()}var f=Fot(r);t.on("drain",f);var l=!1;function c(){cn("cleanup"),t.removeListener("close",g),t.removeListener("finish",b),t.removeListener("drain",f),t.removeListener("error",m),t.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",A),r.removeListener("data",h),l=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&f()}r.on("data",h);function h(I){cn("ondata");var C=t.write(I);cn("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&sae(n.pipes,t)!==-1)&&!l&&(cn("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function m(I){cn("onerror",I),A(),t.removeListener("error",m),tae(t,"error")===0&&s2(t,I)}kot(t,"error",m);function g(){t.removeListener("finish",b),A()}t.once("close",g);function b(){cn("onfinish"),t.removeListener("close",g),A()}t.once("finish",b);function A(){cn("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(cn("pipe resume"),r.resume()),t};function Fot(t){return function(){var r=t._readableState;cn("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&tae(t,"data")&&(r.flowing=!0,rF(t))}}Un.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,a=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<a;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=sae(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Un.prototype.on=function(t,e){var r=u2.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,cn("on readable",n.length,n.reading),n.length?W3(this):n.reading||$process.nextTick(Bot,this)),r};Un.prototype.addListener=Un.prototype.on;Un.prototype.removeListener=function(t,e){var r=u2.prototype.removeListener.call(this,t,e);return t==="readable"&&$process.nextTick(aae,this),r};Un.prototype.removeAllListeners=function(t){var e=u2.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&$process.nextTick(aae,this),e};function aae(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Bot(t){cn("readable nexttick read 0"),t.read(0)}Un.prototype.resume=function(){var t=this._readableState;return t.flowing||(cn("resume"),t.flowing=!t.readableListening,Lot(this,t)),t.paused=!1,this};function Lot(t,e){e.resumeScheduled||(e.resumeScheduled=!0,$process.nextTick(Pot,t,e))}function Pot(t,e){cn("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),rF(t),e.flowing&&!e.reading&&t.read(0)}Un.prototype.pause=function(){return cn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(cn("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function rF(t){var e=t._readableState;for(cn("flow",e.flowing);e.flowing&&t.read()!==null;);}Un.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(cn("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(cn("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var u=e.push(s);u||(n=!0,t.pause())}});for(var a in t)this[a]===void 0&&typeof t[a]=="function"&&(this[a]=function(u){return function(){return t[u].apply(t,arguments)}}(a));for(var o=0;o<Y8.length;o++)t.on(Y8[o],this.emit.bind(this,Y8[o]));return this._read=function(s){cn("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Un.prototype[Symbol.asyncIterator]=function(){return Z8===void 0&&(Z8=Jie()),Z8(this)});Object.defineProperty(Un.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Un.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Un.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Un._fromList=oae;Object.defineProperty(Un.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function oae(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Q8(t){var e=t._readableState;cn("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,$process.nextTick(qot,e,t))}function qot(t,e){if(cn("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Un.from=function(t,e){return J8===void 0&&(J8=Xie()),J8(Un,t,e)});function sae(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var nF=Ee((xnr,lae)=>{"use strict";w();_();lae.exports=dh;var G3=Km().codes,zot=G3.ERR_METHOD_NOT_IMPLEMENTED,Uot=G3.ERR_MULTIPLE_CALLBACK,jot=G3.ERR_TRANSFORM_ALREADY_TRANSFORMING,$ot=G3.ERR_TRANSFORM_WITH_LENGTH_0,H3=Zm();xr()(dh,H3);function Vot(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Uot);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function dh(t){if(!(this instanceof dh))return new dh(t);H3.call(this,t),this._transformState={afterTransform:Vot.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Wot)}function Wot(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){fae(t,e,r)}):fae(this,null,null)}dh.prototype.push=function(t,e){return this._transformState.needTransform=!1,H3.prototype.push.call(this,t,e)};dh.prototype._transform=function(t,e,r){r(new zot("_transform()"))};dh.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};dh.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};dh.prototype._destroy=function(t,e){H3.prototype._destroy.call(this,t,function(r){e(r)})};function fae(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new $ot;if(t._transformState.transforming)throw new jot;return t.push(null)}});var pae=Ee((_nr,hae)=>{"use strict";w();_();hae.exports=f2;var cae=nF();xr()(f2,cae);function f2(t){if(!(this instanceof f2))return new f2(t);cae.call(this,t)}f2.prototype._transform=function(t,e,r){r(null,t)}});var yae=Ee((Snr,gae)=>{"use strict";w();_();var iF;function Got(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var vae=Km().codes,Hot=vae.ERR_MISSING_ARGS,Kot=vae.ERR_STREAM_DESTROYED;function dae(t){if(t)throw t}function Zot(t){return t.setHeader&&typeof t.abort=="function"}function Jot(t,e,r,n){n=Got(n);var a=!1;t.on("close",function(){a=!0}),iF===void 0&&(iF=z3()),iF(t,{readable:e,writable:r},function(s){if(s)return n(s);a=!0,n()});var o=!1;return function(s){if(!a&&!o){if(o=!0,Zot(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new Kot("pipe"))}}}function mae(t){t()}function Yot(t,e){return t.pipe(e)}function Xot(t){return!t.length||typeof t[t.length-1]!="function"?dae:t.pop()}function Qot(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Xot(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Hot("streams");var a,o=e.map(function(s,u){var f=u<e.length-1,l=u>0;return Jot(s,f,l,function(c){a||(a=c),c&&o.forEach(mae),!f&&(o.forEach(mae),n(a))})});return e.reduce(Yot)}gae.exports=Qot});var wae=Ee((Ju,bae)=>{w();_();Ju=bae.exports=G8();Ju.Stream=Ju;Ju.Readable=Ju;Ju.Writable=$8();Ju.Duplex=Zm();Ju.Transform=nF();Ju.PassThrough=pae();Ju.finished=z3();Ju.pipeline=yae()});var K3=Ee((xae,aF)=>{w();_();(function(t,e){"use strict";function r(S,y){if(!S)throw new Error(y||"Assertion failed")}function n(S,y){S.super_=y;var M=function(){};M.prototype=y.prototype,S.prototype=new M,S.prototype.constructor=S}function a(S,y,M){if(a.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((y==="le"||y==="be")&&(M=y,y=10),this._init(S||0,y||10,M||"be"))}typeof t=="object"?t.exports=a:e.BN=a,a.BN=a,a.wordSize=26;var o;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?o=window.Buffer:o=Oi().Buffer}catch(S){}a.isBN=function(y){return y instanceof a?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===a.wordSize&&Array.isArray(y.words)},a.max=function(y,M){return y.cmp(M)>0?y:M},a.min=function(y,M){return y.cmp(M)<0?y:M},a.prototype._init=function(y,M,D){if(typeof y=="number")return this._initNumber(y,M,D);if(typeof y=="object")return this._initArray(y,M,D);M==="hex"&&(M=16),r(M===(M|0)&&M>=2&&M<=36),y=y.toString().replace(/\s+/g,"");var k=0;y[0]==="-"&&(k++,this.negative=1),k<y.length&&(M===16?this._parseHex(y,k,D):(this._parseBase(y,M,k),D==="le"&&this._initArray(this.toArray(),M,D)))},a.prototype._initNumber=function(y,M,D){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(r(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),D==="le"&&this._initArray(this.toArray(),M,D)},a.prototype._initArray=function(y,M,D){if(r(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var E,d,N=0;if(D==="be")for(k=y.length-1,E=0;k>=0;k-=3)d=y[k]|y[k-1]<<8|y[k-2]<<16,this.words[E]|=d<<N&67108863,this.words[E+1]=d>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);else if(D==="le")for(k=0,E=0;k<y.length;k+=3)d=y[k]|y[k+1]<<8|y[k+2]<<16,this.words[E]|=d<<N&67108863,this.words[E+1]=d>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);return this._strip()};function s(S,y){var M=S.charCodeAt(y);if(M>=48&&M<=57)return M-48;if(M>=65&&M<=70)return M-55;if(M>=97&&M<=102)return M-87;r(!1,"Invalid character in "+S)}function u(S,y,M){var D=s(S,M);return M-1>=y&&(D|=s(S,M-1)<<4),D}a.prototype._parseHex=function(y,M,D){this.length=Math.ceil((y.length-M)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var E=0,d=0,N;if(D==="be")for(k=y.length-1;k>=M;k-=2)N=u(y,M,k)<<E,this.words[d]|=N&67108863,E>=18?(E-=18,d+=1,this.words[d]|=N>>>26):E+=8;else{var U=y.length-M;for(k=U%2===0?M+1:M;k<y.length;k+=2)N=u(y,M,k)<<E,this.words[d]|=N&67108863,E>=18?(E-=18,d+=1,this.words[d]|=N>>>26):E+=8}this._strip()};function f(S,y,M,D){for(var k=0,E=0,d=Math.min(S.length,M),N=y;N<d;N++){var U=S.charCodeAt(N)-48;k*=D,U>=49?E=U-49+10:U>=17?E=U-17+10:E=U,r(U>=0&&E<D,"Invalid character"),k+=E}return k}a.prototype._parseBase=function(y,M,D){this.words=[0],this.length=1;for(var k=0,E=1;E<=67108863;E*=M)k++;k--,E=E/M|0;for(var d=y.length-D,N=d%k,U=Math.min(d,d-N)+D,q=0,P=D;P<U;P+=k)q=f(y,P,P+k,M),this.imuln(E),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(N!==0){var G=1;for(q=f(y,P,y.length,M),P=0;P<N;P++)G*=M;this.imuln(G),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this._strip()},a.prototype.copy=function(y){y.words=new Array(this.length);for(var M=0;M<this.length;M++)y.words[M]=this.words[M];y.length=this.length,y.negative=this.negative,y.red=this.red};function l(S,y){S.words=y.words,S.length=y.length,S.negative=y.negative,S.red=y.red}if(a.prototype._move=function(y){l(y,this)},a.prototype.clone=function(){var y=new a(null);return this.copy(y),y},a.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(S){a.prototype.inspect=c}else a.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(y,M){y=y||10,M=M|0||1;var D;if(y===16||y==="hex"){D="";for(var k=0,E=0,d=0;d<this.length;d++){var N=this.words[d],U=((N<<k|E)&16777215).toString(16);E=N>>>24-k&16777215,k+=2,k>=26&&(k-=26,d--),E!==0||d!==this.length-1?D=h[6-U.length]+U+D:D=U+D}for(E!==0&&(D=E.toString(16)+D);D.length%M!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}if(y===(y|0)&&y>=2&&y<=36){var q=m[y],P=g[y];D="";var G=this.clone();for(G.negative=0;!G.isZero();){var Z=G.modrn(P).toString(y);G=G.idivn(P),G.isZero()?D=Z+D:D=h[q-Z.length]+Z+D}for(this.isZero()&&(D="0"+D);D.length%M!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},a.prototype.toJSON=function(){return this.toString(16,2)},o&&(a.prototype.toBuffer=function(y,M){return this.toArrayLike(o,y,M)}),a.prototype.toArray=function(y,M){return this.toArrayLike(Array,y,M)};var b=function(y,M){return y.allocUnsafe?y.allocUnsafe(M):new y(M)};a.prototype.toArrayLike=function(y,M,D){this._strip();var k=this.byteLength(),E=D||Math.max(1,k);r(k<=E,"byte array longer than desired length"),r(E>0,"Requested array length <= 0");var d=b(y,E),N=M==="le"?"LE":"BE";return this["_toArrayLike"+N](d,k),d},a.prototype._toArrayLikeLE=function(y,M){for(var D=0,k=0,E=0,d=0;E<this.length;E++){var N=this.words[E]<<d|k;y[D++]=N&255,D<y.length&&(y[D++]=N>>8&255),D<y.length&&(y[D++]=N>>16&255),d===6?(D<y.length&&(y[D++]=N>>24&255),k=0,d=0):(k=N>>>24,d+=2)}if(D<y.length)for(y[D++]=k;D<y.length;)y[D++]=0},a.prototype._toArrayLikeBE=function(y,M){for(var D=y.length-1,k=0,E=0,d=0;E<this.length;E++){var N=this.words[E]<<d|k;y[D--]=N&255,D>=0&&(y[D--]=N>>8&255),D>=0&&(y[D--]=N>>16&255),d===6?(D>=0&&(y[D--]=N>>24&255),k=0,d=0):(k=N>>>24,d+=2)}if(D>=0)for(y[D--]=k;D>=0;)y[D--]=0},Math.clz32?a.prototype._countBits=function(y){return 32-Math.clz32(y)}:a.prototype._countBits=function(y){var M=y,D=0;return M>=4096&&(D+=13,M>>>=13),M>=64&&(D+=7,M>>>=7),M>=8&&(D+=4,M>>>=4),M>=2&&(D+=2,M>>>=2),D+M},a.prototype._zeroBits=function(y){if(y===0)return 26;var M=y,D=0;return(M&8191)===0&&(D+=13,M>>>=13),(M&127)===0&&(D+=7,M>>>=7),(M&15)===0&&(D+=4,M>>>=4),(M&3)===0&&(D+=2,M>>>=2),(M&1)===0&&D++,D},a.prototype.bitLength=function(){var y=this.words[this.length-1],M=this._countBits(y);return(this.length-1)*26+M};function A(S){for(var y=new Array(S.bitLength()),M=0;M<y.length;M++){var D=M/26|0,k=M%26;y[M]=S.words[D]>>>k&1}return y}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,M=0;M<this.length;M++){var D=this._zeroBits(this.words[M]);if(y+=D,D!==26)break}return y},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},a.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var M=0;M<y.length;M++)this.words[M]=this.words[M]|y.words[M];return this._strip()},a.prototype.ior=function(y){return r((this.negative|y.negative)===0),this.iuor(y)},a.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},a.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},a.prototype.iuand=function(y){var M;this.length>y.length?M=y:M=this;for(var D=0;D<M.length;D++)this.words[D]=this.words[D]&y.words[D];return this.length=M.length,this._strip()},a.prototype.iand=function(y){return r((this.negative|y.negative)===0),this.iuand(y)},a.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},a.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},a.prototype.iuxor=function(y){var M,D;this.length>y.length?(M=this,D=y):(M=y,D=this);for(var k=0;k<D.length;k++)this.words[k]=M.words[k]^D.words[k];if(this!==M)for(;k<M.length;k++)this.words[k]=M.words[k];return this.length=M.length,this._strip()},a.prototype.ixor=function(y){return r((this.negative|y.negative)===0),this.iuxor(y)},a.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},a.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},a.prototype.inotn=function(y){r(typeof y=="number"&&y>=0);var M=Math.ceil(y/26)|0,D=y%26;this._expand(M),D>0&&M--;for(var k=0;k<M;k++)this.words[k]=~this.words[k]&67108863;return D>0&&(this.words[k]=~this.words[k]&67108863>>26-D),this._strip()},a.prototype.notn=function(y){return this.clone().inotn(y)},a.prototype.setn=function(y,M){r(typeof y=="number"&&y>=0);var D=y/26|0,k=y%26;return this._expand(D+1),M?this.words[D]=this.words[D]|1<<k:this.words[D]=this.words[D]&~(1<<k),this._strip()},a.prototype.iadd=function(y){var M;if(this.negative!==0&&y.negative===0)return this.negative=0,M=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,M=this.isub(y),y.negative=1,M._normSign();var D,k;this.length>y.length?(D=this,k=y):(D=y,k=this);for(var E=0,d=0;d<k.length;d++)M=(D.words[d]|0)+(k.words[d]|0)+E,this.words[d]=M&67108863,E=M>>>26;for(;E!==0&&d<D.length;d++)M=(D.words[d]|0)+E,this.words[d]=M&67108863,E=M>>>26;if(this.length=D.length,E!==0)this.words[this.length]=E,this.length++;else if(D!==this)for(;d<D.length;d++)this.words[d]=D.words[d];return this},a.prototype.add=function(y){var M;return y.negative!==0&&this.negative===0?(y.negative=0,M=this.sub(y),y.negative^=1,M):y.negative===0&&this.negative!==0?(this.negative=0,M=y.sub(this),this.negative=1,M):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},a.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var M=this.iadd(y);return y.negative=1,M._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var D=this.cmp(y);if(D===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,E;D>0?(k=this,E=y):(k=y,E=this);for(var d=0,N=0;N<E.length;N++)M=(k.words[N]|0)-(E.words[N]|0)+d,d=M>>26,this.words[N]=M&67108863;for(;d!==0&&N<k.length;N++)M=(k.words[N]|0)+d,d=M>>26,this.words[N]=M&67108863;if(d===0&&N<k.length&&k!==this)for(;N<k.length;N++)this.words[N]=k.words[N];return this.length=Math.max(this.length,N),k!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(y){return this.clone().isub(y)};function I(S,y,M){M.negative=y.negative^S.negative;var D=S.length+y.length|0;M.length=D,D=D-1|0;var k=S.words[0]|0,E=y.words[0]|0,d=k*E,N=d&67108863,U=d/67108864|0;M.words[0]=N;for(var q=1;q<D;q++){for(var P=U>>>26,G=U&67108863,Z=Math.min(q,y.length-1),X=Math.max(0,q-S.length+1);X<=Z;X++){var he=q-X|0;k=S.words[he]|0,E=y.words[X]|0,d=k*E+G,P+=d/67108864|0,G=d&67108863}M.words[q]=G|0,U=P|0}return U!==0?M.words[q]=U|0:M.length--,M._strip()}var C=function(y,M,D){var k=y.words,E=M.words,d=D.words,N=0,U,q,P,G=k[0]|0,Z=G&8191,X=G>>>13,he=k[1]|0,V=he&8191,K=he>>>13,ne=k[2]|0,fe=ne&8191,pe=ne>>>13,Ie=k[3]|0,ke=Ie&8191,ue=Ie>>>13,xe=k[4]|0,ge=xe&8191,Q=xe>>>13,_e=k[5]|0,ve=_e&8191,be=_e>>>13,qe=k[6]|0,se=qe&8191,Se=qe>>>13,Ke=k[7]|0,J=Ke&8191,H=Ke>>>13,Y=k[8]|0,oe=Y&8191,Me=Y>>>13,Ge=k[9]|0,Ce=Ge&8191,Xe=Ge>>>13,Yt=E[0]|0,tt=Yt&8191,Ye=Yt>>>13,dr=E[1]|0,re=dr&8191,Te=dr>>>13,ft=E[2]|0,ze=ft&8191,et=ft>>>13,lr=E[3]|0,ct=lr&8191,dt=lr>>>13,ki=E[4]|0,vt=ki&8191,pt=ki>>>13,_i=E[5]|0,gt=_i&8191,yt=_i>>>13,_n=E[6]|0,ut=_n&8191,bt=_n>>>13,si=E[7]|0,ht=si&8191,wt=si>>>13,ri=E[8]|0,at=ri&8191,lt=ri>>>13,ie=E[9]|0,ce=ie&8191,de=ie>>>13;D.negative=y.negative^M.negative,D.length=19,U=Math.imul(Z,tt),q=Math.imul(Z,Ye),q=q+Math.imul(X,tt)|0,P=Math.imul(X,Ye);var ye=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(ye>>>26)|0,ye&=67108863,U=Math.imul(V,tt),q=Math.imul(V,Ye),q=q+Math.imul(K,tt)|0,P=Math.imul(K,Ye),U=U+Math.imul(Z,re)|0,q=q+Math.imul(Z,Te)|0,q=q+Math.imul(X,re)|0,P=P+Math.imul(X,Te)|0;var Ae=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,U=Math.imul(fe,tt),q=Math.imul(fe,Ye),q=q+Math.imul(pe,tt)|0,P=Math.imul(pe,Ye),U=U+Math.imul(V,re)|0,q=q+Math.imul(V,Te)|0,q=q+Math.imul(K,re)|0,P=P+Math.imul(K,Te)|0,U=U+Math.imul(Z,ze)|0,q=q+Math.imul(Z,et)|0,q=q+Math.imul(X,ze)|0,P=P+Math.imul(X,et)|0;var Ne=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,U=Math.imul(ke,tt),q=Math.imul(ke,Ye),q=q+Math.imul(ue,tt)|0,P=Math.imul(ue,Ye),U=U+Math.imul(fe,re)|0,q=q+Math.imul(fe,Te)|0,q=q+Math.imul(pe,re)|0,P=P+Math.imul(pe,Te)|0,U=U+Math.imul(V,ze)|0,q=q+Math.imul(V,et)|0,q=q+Math.imul(K,ze)|0,P=P+Math.imul(K,et)|0,U=U+Math.imul(Z,ct)|0,q=q+Math.imul(Z,dt)|0,q=q+Math.imul(X,ct)|0,P=P+Math.imul(X,dt)|0;var Pe=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,U=Math.imul(ge,tt),q=Math.imul(ge,Ye),q=q+Math.imul(Q,tt)|0,P=Math.imul(Q,Ye),U=U+Math.imul(ke,re)|0,q=q+Math.imul(ke,Te)|0,q=q+Math.imul(ue,re)|0,P=P+Math.imul(ue,Te)|0,U=U+Math.imul(fe,ze)|0,q=q+Math.imul(fe,et)|0,q=q+Math.imul(pe,ze)|0,P=P+Math.imul(pe,et)|0,U=U+Math.imul(V,ct)|0,q=q+Math.imul(V,dt)|0,q=q+Math.imul(K,ct)|0,P=P+Math.imul(K,dt)|0,U=U+Math.imul(Z,vt)|0,q=q+Math.imul(Z,pt)|0,q=q+Math.imul(X,vt)|0,P=P+Math.imul(X,pt)|0;var je=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(je>>>26)|0,je&=67108863,U=Math.imul(ve,tt),q=Math.imul(ve,Ye),q=q+Math.imul(be,tt)|0,P=Math.imul(be,Ye),U=U+Math.imul(ge,re)|0,q=q+Math.imul(ge,Te)|0,q=q+Math.imul(Q,re)|0,P=P+Math.imul(Q,Te)|0,U=U+Math.imul(ke,ze)|0,q=q+Math.imul(ke,et)|0,q=q+Math.imul(ue,ze)|0,P=P+Math.imul(ue,et)|0,U=U+Math.imul(fe,ct)|0,q=q+Math.imul(fe,dt)|0,q=q+Math.imul(pe,ct)|0,P=P+Math.imul(pe,dt)|0,U=U+Math.imul(V,vt)|0,q=q+Math.imul(V,pt)|0,q=q+Math.imul(K,vt)|0,P=P+Math.imul(K,pt)|0,U=U+Math.imul(Z,gt)|0,q=q+Math.imul(Z,yt)|0,q=q+Math.imul(X,gt)|0,P=P+Math.imul(X,yt)|0;var Qe=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,U=Math.imul(se,tt),q=Math.imul(se,Ye),q=q+Math.imul(Se,tt)|0,P=Math.imul(Se,Ye),U=U+Math.imul(ve,re)|0,q=q+Math.imul(ve,Te)|0,q=q+Math.imul(be,re)|0,P=P+Math.imul(be,Te)|0,U=U+Math.imul(ge,ze)|0,q=q+Math.imul(ge,et)|0,q=q+Math.imul(Q,ze)|0,P=P+Math.imul(Q,et)|0,U=U+Math.imul(ke,ct)|0,q=q+Math.imul(ke,dt)|0,q=q+Math.imul(ue,ct)|0,P=P+Math.imul(ue,dt)|0,U=U+Math.imul(fe,vt)|0,q=q+Math.imul(fe,pt)|0,q=q+Math.imul(pe,vt)|0,P=P+Math.imul(pe,pt)|0,U=U+Math.imul(V,gt)|0,q=q+Math.imul(V,yt)|0,q=q+Math.imul(K,gt)|0,P=P+Math.imul(K,yt)|0,U=U+Math.imul(Z,ut)|0,q=q+Math.imul(Z,bt)|0,q=q+Math.imul(X,ut)|0,P=P+Math.imul(X,bt)|0;var Ve=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,U=Math.imul(J,tt),q=Math.imul(J,Ye),q=q+Math.imul(H,tt)|0,P=Math.imul(H,Ye),U=U+Math.imul(se,re)|0,q=q+Math.imul(se,Te)|0,q=q+Math.imul(Se,re)|0,P=P+Math.imul(Se,Te)|0,U=U+Math.imul(ve,ze)|0,q=q+Math.imul(ve,et)|0,q=q+Math.imul(be,ze)|0,P=P+Math.imul(be,et)|0,U=U+Math.imul(ge,ct)|0,q=q+Math.imul(ge,dt)|0,q=q+Math.imul(Q,ct)|0,P=P+Math.imul(Q,dt)|0,U=U+Math.imul(ke,vt)|0,q=q+Math.imul(ke,pt)|0,q=q+Math.imul(ue,vt)|0,P=P+Math.imul(ue,pt)|0,U=U+Math.imul(fe,gt)|0,q=q+Math.imul(fe,yt)|0,q=q+Math.imul(pe,gt)|0,P=P+Math.imul(pe,yt)|0,U=U+Math.imul(V,ut)|0,q=q+Math.imul(V,bt)|0,q=q+Math.imul(K,ut)|0,P=P+Math.imul(K,bt)|0,U=U+Math.imul(Z,ht)|0,q=q+Math.imul(Z,wt)|0,q=q+Math.imul(X,ht)|0,P=P+Math.imul(X,wt)|0;var ot=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(ot>>>26)|0,ot&=67108863,U=Math.imul(oe,tt),q=Math.imul(oe,Ye),q=q+Math.imul(Me,tt)|0,P=Math.imul(Me,Ye),U=U+Math.imul(J,re)|0,q=q+Math.imul(J,Te)|0,q=q+Math.imul(H,re)|0,P=P+Math.imul(H,Te)|0,U=U+Math.imul(se,ze)|0,q=q+Math.imul(se,et)|0,q=q+Math.imul(Se,ze)|0,P=P+Math.imul(Se,et)|0,U=U+Math.imul(ve,ct)|0,q=q+Math.imul(ve,dt)|0,q=q+Math.imul(be,ct)|0,P=P+Math.imul(be,dt)|0,U=U+Math.imul(ge,vt)|0,q=q+Math.imul(ge,pt)|0,q=q+Math.imul(Q,vt)|0,P=P+Math.imul(Q,pt)|0,U=U+Math.imul(ke,gt)|0,q=q+Math.imul(ke,yt)|0,q=q+Math.imul(ue,gt)|0,P=P+Math.imul(ue,yt)|0,U=U+Math.imul(fe,ut)|0,q=q+Math.imul(fe,bt)|0,q=q+Math.imul(pe,ut)|0,P=P+Math.imul(pe,bt)|0,U=U+Math.imul(V,ht)|0,q=q+Math.imul(V,wt)|0,q=q+Math.imul(K,ht)|0,P=P+Math.imul(K,wt)|0,U=U+Math.imul(Z,at)|0,q=q+Math.imul(Z,lt)|0,q=q+Math.imul(X,at)|0,P=P+Math.imul(X,lt)|0;var mt=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(mt>>>26)|0,mt&=67108863,U=Math.imul(Ce,tt),q=Math.imul(Ce,Ye),q=q+Math.imul(Xe,tt)|0,P=Math.imul(Xe,Ye),U=U+Math.imul(oe,re)|0,q=q+Math.imul(oe,Te)|0,q=q+Math.imul(Me,re)|0,P=P+Math.imul(Me,Te)|0,U=U+Math.imul(J,ze)|0,q=q+Math.imul(J,et)|0,q=q+Math.imul(H,ze)|0,P=P+Math.imul(H,et)|0,U=U+Math.imul(se,ct)|0,q=q+Math.imul(se,dt)|0,q=q+Math.imul(Se,ct)|0,P=P+Math.imul(Se,dt)|0,U=U+Math.imul(ve,vt)|0,q=q+Math.imul(ve,pt)|0,q=q+Math.imul(be,vt)|0,P=P+Math.imul(be,pt)|0,U=U+Math.imul(ge,gt)|0,q=q+Math.imul(ge,yt)|0,q=q+Math.imul(Q,gt)|0,P=P+Math.imul(Q,yt)|0,U=U+Math.imul(ke,ut)|0,q=q+Math.imul(ke,bt)|0,q=q+Math.imul(ue,ut)|0,P=P+Math.imul(ue,bt)|0,U=U+Math.imul(fe,ht)|0,q=q+Math.imul(fe,wt)|0,q=q+Math.imul(pe,ht)|0,P=P+Math.imul(pe,wt)|0,U=U+Math.imul(V,at)|0,q=q+Math.imul(V,lt)|0,q=q+Math.imul(K,at)|0,P=P+Math.imul(K,lt)|0,U=U+Math.imul(Z,ce)|0,q=q+Math.imul(Z,de)|0,q=q+Math.imul(X,ce)|0,P=P+Math.imul(X,de)|0;var Mt=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,U=Math.imul(Ce,re),q=Math.imul(Ce,Te),q=q+Math.imul(Xe,re)|0,P=Math.imul(Xe,Te),U=U+Math.imul(oe,ze)|0,q=q+Math.imul(oe,et)|0,q=q+Math.imul(Me,ze)|0,P=P+Math.imul(Me,et)|0,U=U+Math.imul(J,ct)|0,q=q+Math.imul(J,dt)|0,q=q+Math.imul(H,ct)|0,P=P+Math.imul(H,dt)|0,U=U+Math.imul(se,vt)|0,q=q+Math.imul(se,pt)|0,q=q+Math.imul(Se,vt)|0,P=P+Math.imul(Se,pt)|0,U=U+Math.imul(ve,gt)|0,q=q+Math.imul(ve,yt)|0,q=q+Math.imul(be,gt)|0,P=P+Math.imul(be,yt)|0,U=U+Math.imul(ge,ut)|0,q=q+Math.imul(ge,bt)|0,q=q+Math.imul(Q,ut)|0,P=P+Math.imul(Q,bt)|0,U=U+Math.imul(ke,ht)|0,q=q+Math.imul(ke,wt)|0,q=q+Math.imul(ue,ht)|0,P=P+Math.imul(ue,wt)|0,U=U+Math.imul(fe,at)|0,q=q+Math.imul(fe,lt)|0,q=q+Math.imul(pe,at)|0,P=P+Math.imul(pe,lt)|0,U=U+Math.imul(V,ce)|0,q=q+Math.imul(V,de)|0,q=q+Math.imul(K,ce)|0,P=P+Math.imul(K,de)|0;var $t=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+($t>>>26)|0,$t&=67108863,U=Math.imul(Ce,ze),q=Math.imul(Ce,et),q=q+Math.imul(Xe,ze)|0,P=Math.imul(Xe,et),U=U+Math.imul(oe,ct)|0,q=q+Math.imul(oe,dt)|0,q=q+Math.imul(Me,ct)|0,P=P+Math.imul(Me,dt)|0,U=U+Math.imul(J,vt)|0,q=q+Math.imul(J,pt)|0,q=q+Math.imul(H,vt)|0,P=P+Math.imul(H,pt)|0,U=U+Math.imul(se,gt)|0,q=q+Math.imul(se,yt)|0,q=q+Math.imul(Se,gt)|0,P=P+Math.imul(Se,yt)|0,U=U+Math.imul(ve,ut)|0,q=q+Math.imul(ve,bt)|0,q=q+Math.imul(be,ut)|0,P=P+Math.imul(be,bt)|0,U=U+Math.imul(ge,ht)|0,q=q+Math.imul(ge,wt)|0,q=q+Math.imul(Q,ht)|0,P=P+Math.imul(Q,wt)|0,U=U+Math.imul(ke,at)|0,q=q+Math.imul(ke,lt)|0,q=q+Math.imul(ue,at)|0,P=P+Math.imul(ue,lt)|0,U=U+Math.imul(fe,ce)|0,q=q+Math.imul(fe,de)|0,q=q+Math.imul(pe,ce)|0,P=P+Math.imul(pe,de)|0;var cr=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(cr>>>26)|0,cr&=67108863,U=Math.imul(Ce,ct),q=Math.imul(Ce,dt),q=q+Math.imul(Xe,ct)|0,P=Math.imul(Xe,dt),U=U+Math.imul(oe,vt)|0,q=q+Math.imul(oe,pt)|0,q=q+Math.imul(Me,vt)|0,P=P+Math.imul(Me,pt)|0,U=U+Math.imul(J,gt)|0,q=q+Math.imul(J,yt)|0,q=q+Math.imul(H,gt)|0,P=P+Math.imul(H,yt)|0,U=U+Math.imul(se,ut)|0,q=q+Math.imul(se,bt)|0,q=q+Math.imul(Se,ut)|0,P=P+Math.imul(Se,bt)|0,U=U+Math.imul(ve,ht)|0,q=q+Math.imul(ve,wt)|0,q=q+Math.imul(be,ht)|0,P=P+Math.imul(be,wt)|0,U=U+Math.imul(ge,at)|0,q=q+Math.imul(ge,lt)|0,q=q+Math.imul(Q,at)|0,P=P+Math.imul(Q,lt)|0,U=U+Math.imul(ke,ce)|0,q=q+Math.imul(ke,de)|0,q=q+Math.imul(ue,ce)|0,P=P+Math.imul(ue,de)|0;var rr=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(rr>>>26)|0,rr&=67108863,U=Math.imul(Ce,vt),q=Math.imul(Ce,pt),q=q+Math.imul(Xe,vt)|0,P=Math.imul(Xe,pt),U=U+Math.imul(oe,gt)|0,q=q+Math.imul(oe,yt)|0,q=q+Math.imul(Me,gt)|0,P=P+Math.imul(Me,yt)|0,U=U+Math.imul(J,ut)|0,q=q+Math.imul(J,bt)|0,q=q+Math.imul(H,ut)|0,P=P+Math.imul(H,bt)|0,U=U+Math.imul(se,ht)|0,q=q+Math.imul(se,wt)|0,q=q+Math.imul(Se,ht)|0,P=P+Math.imul(Se,wt)|0,U=U+Math.imul(ve,at)|0,q=q+Math.imul(ve,lt)|0,q=q+Math.imul(be,at)|0,P=P+Math.imul(be,lt)|0,U=U+Math.imul(ge,ce)|0,q=q+Math.imul(ge,de)|0,q=q+Math.imul(Q,ce)|0,P=P+Math.imul(Q,de)|0;var Br=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(Br>>>26)|0,Br&=67108863,U=Math.imul(Ce,gt),q=Math.imul(Ce,yt),q=q+Math.imul(Xe,gt)|0,P=Math.imul(Xe,yt),U=U+Math.imul(oe,ut)|0,q=q+Math.imul(oe,bt)|0,q=q+Math.imul(Me,ut)|0,P=P+Math.imul(Me,bt)|0,U=U+Math.imul(J,ht)|0,q=q+Math.imul(J,wt)|0,q=q+Math.imul(H,ht)|0,P=P+Math.imul(H,wt)|0,U=U+Math.imul(se,at)|0,q=q+Math.imul(se,lt)|0,q=q+Math.imul(Se,at)|0,P=P+Math.imul(Se,lt)|0,U=U+Math.imul(ve,ce)|0,q=q+Math.imul(ve,de)|0,q=q+Math.imul(be,ce)|0,P=P+Math.imul(be,de)|0;var pr=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(pr>>>26)|0,pr&=67108863,U=Math.imul(Ce,ut),q=Math.imul(Ce,bt),q=q+Math.imul(Xe,ut)|0,P=Math.imul(Xe,bt),U=U+Math.imul(oe,ht)|0,q=q+Math.imul(oe,wt)|0,q=q+Math.imul(Me,ht)|0,P=P+Math.imul(Me,wt)|0,U=U+Math.imul(J,at)|0,q=q+Math.imul(J,lt)|0,q=q+Math.imul(H,at)|0,P=P+Math.imul(H,lt)|0,U=U+Math.imul(se,ce)|0,q=q+Math.imul(se,de)|0,q=q+Math.imul(Se,ce)|0,P=P+Math.imul(Se,de)|0;var Vr=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,U=Math.imul(Ce,ht),q=Math.imul(Ce,wt),q=q+Math.imul(Xe,ht)|0,P=Math.imul(Xe,wt),U=U+Math.imul(oe,at)|0,q=q+Math.imul(oe,lt)|0,q=q+Math.imul(Me,at)|0,P=P+Math.imul(Me,lt)|0,U=U+Math.imul(J,ce)|0,q=q+Math.imul(J,de)|0,q=q+Math.imul(H,ce)|0,P=P+Math.imul(H,de)|0;var kn=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(kn>>>26)|0,kn&=67108863,U=Math.imul(Ce,at),q=Math.imul(Ce,lt),q=q+Math.imul(Xe,at)|0,P=Math.imul(Xe,lt),U=U+Math.imul(oe,ce)|0,q=q+Math.imul(oe,de)|0,q=q+Math.imul(Me,ce)|0,P=P+Math.imul(Me,de)|0;var fa=(N+U|0)+((q&8191)<<13)|0;N=(P+(q>>>13)|0)+(fa>>>26)|0,fa&=67108863,U=Math.imul(Ce,ce),q=Math.imul(Ce,de),q=q+Math.imul(Xe,ce)|0,P=Math.imul(Xe,de);var Zl=(N+U|0)+((q&8191)<<13)|0;return N=(P+(q>>>13)|0)+(Zl>>>26)|0,Zl&=67108863,d[0]=ye,d[1]=Ae,d[2]=Ne,d[3]=Pe,d[4]=je,d[5]=Qe,d[6]=Ve,d[7]=ot,d[8]=mt,d[9]=Mt,d[10]=$t,d[11]=cr,d[12]=rr,d[13]=Br,d[14]=pr,d[15]=Vr,d[16]=kn,d[17]=fa,d[18]=Zl,N!==0&&(d[19]=N,D.length++),D};Math.imul||(C=I);function R(S,y,M){M.negative=y.negative^S.negative,M.length=S.length+y.length;for(var D=0,k=0,E=0;E<M.length-1;E++){var d=k;k=0;for(var N=D&67108863,U=Math.min(E,y.length-1),q=Math.max(0,E-S.length+1);q<=U;q++){var P=E-q,G=S.words[P]|0,Z=y.words[q]|0,X=G*Z,he=X&67108863;d=d+(X/67108864|0)|0,he=he+N|0,N=he&67108863,d=d+(he>>>26)|0,k+=d>>>26,d&=67108863}M.words[E]=N,D=d,d=k}return D!==0?M.words[E]=D:M.length--,M._strip()}function O(S,y,M){return R(S,y,M)}a.prototype.mulTo=function(y,M){var D,k=this.length+y.length;return this.length===10&&y.length===10?D=C(this,y,M):k<63?D=I(this,y,M):k<1024?D=R(this,y,M):D=O(this,y,M),D};function F(S,y){this.x=S,this.y=y}F.prototype.makeRBT=function(y){for(var M=new Array(y),D=a.prototype._countBits(y)-1,k=0;k<y;k++)M[k]=this.revBin(k,D,y);return M},F.prototype.revBin=function(y,M,D){if(y===0||y===D-1)return y;for(var k=0,E=0;E<M;E++)k|=(y&1)<<M-E-1,y>>=1;return k},F.prototype.permute=function(y,M,D,k,E,d){for(var N=0;N<d;N++)k[N]=M[y[N]],E[N]=D[y[N]]},F.prototype.transform=function(y,M,D,k,E,d){this.permute(d,y,M,D,k,E);for(var N=1;N<E;N<<=1)for(var U=N<<1,q=Math.cos(2*Math.PI/U),P=Math.sin(2*Math.PI/U),G=0;G<E;G+=U)for(var Z=q,X=P,he=0;he<N;he++){var V=D[G+he],K=k[G+he],ne=D[G+he+N],fe=k[G+he+N],pe=Z*ne-X*fe;fe=Z*fe+X*ne,ne=pe,D[G+he]=V+ne,k[G+he]=K+fe,D[G+he+N]=V-ne,k[G+he+N]=K-fe,he!==U&&(pe=q*Z-P*X,X=q*X+P*Z,Z=pe)}},F.prototype.guessLen13b=function(y,M){var D=Math.max(M,y)|1,k=D&1,E=0;for(D=D/2|0;D;D=D>>>1)E++;return 1<<E+1+k},F.prototype.conjugate=function(y,M,D){if(!(D<=1))for(var k=0;k<D/2;k++){var E=y[k];y[k]=y[D-k-1],y[D-k-1]=E,E=M[k],M[k]=-M[D-k-1],M[D-k-1]=-E}},F.prototype.normalize13b=function(y,M){for(var D=0,k=0;k<M/2;k++){var E=Math.round(y[2*k+1]/M)*8192+Math.round(y[2*k]/M)+D;y[k]=E&67108863,E<67108864?D=0:D=E/67108864|0}return y},F.prototype.convert13b=function(y,M,D,k){for(var E=0,d=0;d<M;d++)E=E+(y[d]|0),D[2*d]=E&8191,E=E>>>13,D[2*d+1]=E&8191,E=E>>>13;for(d=2*M;d<k;++d)D[d]=0;r(E===0),r((E&-8192)===0)},F.prototype.stub=function(y){for(var M=new Array(y),D=0;D<y;D++)M[D]=0;return M},F.prototype.mulp=function(y,M,D){var k=2*this.guessLen13b(y.length,M.length),E=this.makeRBT(k),d=this.stub(k),N=new Array(k),U=new Array(k),q=new Array(k),P=new Array(k),G=new Array(k),Z=new Array(k),X=D.words;X.length=k,this.convert13b(y.words,y.length,N,k),this.convert13b(M.words,M.length,P,k),this.transform(N,d,U,q,k,E),this.transform(P,d,G,Z,k,E);for(var he=0;he<k;he++){var V=U[he]*G[he]-q[he]*Z[he];q[he]=U[he]*Z[he]+q[he]*G[he],U[he]=V}return this.conjugate(U,q,k),this.transform(U,q,X,d,k,E),this.conjugate(X,d,k),this.normalize13b(X,k),D.negative=y.negative^M.negative,D.length=y.length+M.length,D._strip()},a.prototype.mul=function(y){var M=new a(null);return M.words=new Array(this.length+y.length),this.mulTo(y,M)},a.prototype.mulf=function(y){var M=new a(null);return M.words=new Array(this.length+y.length),O(this,y,M)},a.prototype.imul=function(y){return this.clone().mulTo(y,this)},a.prototype.imuln=function(y){var M=y<0;M&&(y=-y),r(typeof y=="number"),r(y<67108864);for(var D=0,k=0;k<this.length;k++){var E=(this.words[k]|0)*y,d=(E&67108863)+(D&67108863);D>>=26,D+=E/67108864|0,D+=d>>>26,this.words[k]=d&67108863}return D!==0&&(this.words[k]=D,this.length++),M?this.ineg():this},a.prototype.muln=function(y){return this.clone().imuln(y)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(y){var M=A(y);if(M.length===0)return new a(1);for(var D=this,k=0;k<M.length&&M[k]===0;k++,D=D.sqr());if(++k<M.length)for(var E=D.sqr();k<M.length;k++,E=E.sqr())M[k]!==0&&(D=D.mul(E));return D},a.prototype.iushln=function(y){r(typeof y=="number"&&y>=0);var M=y%26,D=(y-M)/26,k=67108863>>>26-M<<26-M,E;if(M!==0){var d=0;for(E=0;E<this.length;E++){var N=this.words[E]&k,U=(this.words[E]|0)-N<<M;this.words[E]=U|d,d=N>>>26-M}d&&(this.words[E]=d,this.length++)}if(D!==0){for(E=this.length-1;E>=0;E--)this.words[E+D]=this.words[E];for(E=0;E<D;E++)this.words[E]=0;this.length+=D}return this._strip()},a.prototype.ishln=function(y){return r(this.negative===0),this.iushln(y)},a.prototype.iushrn=function(y,M,D){r(typeof y=="number"&&y>=0);var k;M?k=(M-M%26)/26:k=0;var E=y%26,d=Math.min((y-E)/26,this.length),N=67108863^67108863>>>E<<E,U=D;if(k-=d,k=Math.max(0,k),U){for(var q=0;q<d;q++)U.words[q]=this.words[q];U.length=d}if(d!==0)if(this.length>d)for(this.length-=d,q=0;q<this.length;q++)this.words[q]=this.words[q+d];else this.words[0]=0,this.length=1;var P=0;for(q=this.length-1;q>=0&&(P!==0||q>=k);q--){var G=this.words[q]|0;this.words[q]=P<<26-E|G>>>E,P=G&N}return U&&P!==0&&(U.words[U.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(y,M,D){return r(this.negative===0),this.iushrn(y,M,D)},a.prototype.shln=function(y){return this.clone().ishln(y)},a.prototype.ushln=function(y){return this.clone().iushln(y)},a.prototype.shrn=function(y){return this.clone().ishrn(y)},a.prototype.ushrn=function(y){return this.clone().iushrn(y)},a.prototype.testn=function(y){r(typeof y=="number"&&y>=0);var M=y%26,D=(y-M)/26,k=1<<M;if(this.length<=D)return!1;var E=this.words[D];return!!(E&k)},a.prototype.imaskn=function(y){r(typeof y=="number"&&y>=0);var M=y%26,D=(y-M)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=D)return this;if(M!==0&&D++,this.length=Math.min(D,this.length),M!==0){var k=67108863^67108863>>>M<<M;this.words[this.length-1]&=k}return this._strip()},a.prototype.maskn=function(y){return this.clone().imaskn(y)},a.prototype.iaddn=function(y){return r(typeof y=="number"),r(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<=y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},a.prototype._iaddn=function(y){this.words[0]+=y;for(var M=0;M<this.length&&this.words[M]>=67108864;M++)this.words[M]-=67108864,M===this.length-1?this.words[M+1]=1:this.words[M+1]++;return this.length=Math.max(this.length,M+1),this},a.prototype.isubn=function(y){if(r(typeof y=="number"),r(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var M=0;M<this.length&&this.words[M]<0;M++)this.words[M]+=67108864,this.words[M+1]-=1;return this._strip()},a.prototype.addn=function(y){return this.clone().iaddn(y)},a.prototype.subn=function(y){return this.clone().isubn(y)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(y,M,D){var k=y.length+D,E;this._expand(k);var d,N=0;for(E=0;E<y.length;E++){d=(this.words[E+D]|0)+N;var U=(y.words[E]|0)*M;d-=U&67108863,N=(d>>26)-(U/67108864|0),this.words[E+D]=d&67108863}for(;E<this.length-D;E++)d=(this.words[E+D]|0)+N,N=d>>26,this.words[E+D]=d&67108863;if(N===0)return this._strip();for(r(N===-1),N=0,E=0;E<this.length;E++)d=-(this.words[E]|0)+N,N=d>>26,this.words[E]=d&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(y,M){var D=this.length-y.length,k=this.clone(),E=y,d=E.words[E.length-1]|0,N=this._countBits(d);D=26-N,D!==0&&(E=E.ushln(D),k.iushln(D),d=E.words[E.length-1]|0);var U=k.length-E.length,q;if(M!=="mod"){q=new a(null),q.length=U+1,q.words=new Array(q.length);for(var P=0;P<q.length;P++)q.words[P]=0}var G=k.clone()._ishlnsubmul(E,1,U);G.negative===0&&(k=G,q&&(q.words[U]=1));for(var Z=U-1;Z>=0;Z--){var X=(k.words[E.length+Z]|0)*67108864+(k.words[E.length+Z-1]|0);for(X=Math.min(X/d|0,67108863),k._ishlnsubmul(E,X,Z);k.negative!==0;)X--,k.negative=0,k._ishlnsubmul(E,1,Z),k.isZero()||(k.negative^=1);q&&(q.words[Z]=X)}return q&&q._strip(),k._strip(),M!=="div"&&D!==0&&k.iushrn(D),{div:q||null,mod:k}},a.prototype.divmod=function(y,M,D){if(r(!y.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var k,E,d;return this.negative!==0&&y.negative===0?(d=this.neg().divmod(y,M),M!=="mod"&&(k=d.div.neg()),M!=="div"&&(E=d.mod.neg(),D&&E.negative!==0&&E.iadd(y)),{div:k,mod:E}):this.negative===0&&y.negative!==0?(d=this.divmod(y.neg(),M),M!=="mod"&&(k=d.div.neg()),{div:k,mod:d.mod}):(this.negative&y.negative)!==0?(d=this.neg().divmod(y.neg(),M),M!=="div"&&(E=d.mod.neg(),D&&E.negative!==0&&E.isub(y)),{div:d.div,mod:E}):y.length>this.length||this.cmp(y)<0?{div:new a(0),mod:this}:y.length===1?M==="div"?{div:this.divn(y.words[0]),mod:null}:M==="mod"?{div:null,mod:new a(this.modrn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new a(this.modrn(y.words[0]))}:this._wordDiv(y,M)},a.prototype.div=function(y){return this.divmod(y,"div",!1).div},a.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},a.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},a.prototype.divRound=function(y){var M=this.divmod(y);if(M.mod.isZero())return M.div;var D=M.div.negative!==0?M.mod.isub(y):M.mod,k=y.ushrn(1),E=y.andln(1),d=D.cmp(k);return d<0||E===1&&d===0?M.div:M.div.negative!==0?M.div.isubn(1):M.div.iaddn(1)},a.prototype.modrn=function(y){var M=y<0;M&&(y=-y),r(y<=67108863);for(var D=(1<<26)%y,k=0,E=this.length-1;E>=0;E--)k=(D*k+(this.words[E]|0))%y;return M?-k:k},a.prototype.modn=function(y){return this.modrn(y)},a.prototype.idivn=function(y){var M=y<0;M&&(y=-y),r(y<=67108863);for(var D=0,k=this.length-1;k>=0;k--){var E=(this.words[k]|0)+D*67108864;this.words[k]=E/y|0,D=E%y}return this._strip(),M?this.ineg():this},a.prototype.divn=function(y){return this.clone().idivn(y)},a.prototype.egcd=function(y){r(y.negative===0),r(!y.isZero());var M=this,D=y.clone();M.negative!==0?M=M.umod(y):M=M.clone();for(var k=new a(1),E=new a(0),d=new a(0),N=new a(1),U=0;M.isEven()&&D.isEven();)M.iushrn(1),D.iushrn(1),++U;for(var q=D.clone(),P=M.clone();!M.isZero();){for(var G=0,Z=1;(M.words[0]&Z)===0&&G<26;++G,Z<<=1);if(G>0)for(M.iushrn(G);G-- >0;)(k.isOdd()||E.isOdd())&&(k.iadd(q),E.isub(P)),k.iushrn(1),E.iushrn(1);for(var X=0,he=1;(D.words[0]&he)===0&&X<26;++X,he<<=1);if(X>0)for(D.iushrn(X);X-- >0;)(d.isOdd()||N.isOdd())&&(d.iadd(q),N.isub(P)),d.iushrn(1),N.iushrn(1);M.cmp(D)>=0?(M.isub(D),k.isub(d),E.isub(N)):(D.isub(M),d.isub(k),N.isub(E))}return{a:d,b:N,gcd:D.iushln(U)}},a.prototype._invmp=function(y){r(y.negative===0),r(!y.isZero());var M=this,D=y.clone();M.negative!==0?M=M.umod(y):M=M.clone();for(var k=new a(1),E=new a(0),d=D.clone();M.cmpn(1)>0&&D.cmpn(1)>0;){for(var N=0,U=1;(M.words[0]&U)===0&&N<26;++N,U<<=1);if(N>0)for(M.iushrn(N);N-- >0;)k.isOdd()&&k.iadd(d),k.iushrn(1);for(var q=0,P=1;(D.words[0]&P)===0&&q<26;++q,P<<=1);if(q>0)for(D.iushrn(q);q-- >0;)E.isOdd()&&E.iadd(d),E.iushrn(1);M.cmp(D)>=0?(M.isub(D),k.isub(E)):(D.isub(M),E.isub(k))}var G;return M.cmpn(1)===0?G=k:G=E,G.cmpn(0)<0&&G.iadd(y),G},a.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var M=this.clone(),D=y.clone();M.negative=0,D.negative=0;for(var k=0;M.isEven()&&D.isEven();k++)M.iushrn(1),D.iushrn(1);do{for(;M.isEven();)M.iushrn(1);for(;D.isEven();)D.iushrn(1);var E=M.cmp(D);if(E<0){var d=M;M=D,D=d}else if(E===0||D.cmpn(1)===0)break;M.isub(D)}while(!0);return D.iushln(k)},a.prototype.invm=function(y){return this.egcd(y).a.umod(y)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(y){return this.words[0]&y},a.prototype.bincn=function(y){r(typeof y=="number");var M=y%26,D=(y-M)/26,k=1<<M;if(this.length<=D)return this._expand(D+1),this.words[D]|=k,this;for(var E=k,d=D;E!==0&&d<this.length;d++){var N=this.words[d]|0;N+=E,E=N>>>26,N&=67108863,this.words[d]=N}return E!==0&&(this.words[d]=E,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(y){var M=y<0;if(this.negative!==0&&!M)return-1;if(this.negative===0&&M)return 1;this._strip();var D;if(this.length>1)D=1;else{M&&(y=-y),r(y<=67108863,"Number is too big");var k=this.words[0]|0;D=k===y?0:k<y?-1:1}return this.negative!==0?-D|0:D},a.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var M=this.ucmp(y);return this.negative!==0?-M|0:M},a.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var M=0,D=this.length-1;D>=0;D--){var k=this.words[D]|0,E=y.words[D]|0;if(k!==E){k<E?M=-1:k>E&&(M=1);break}}return M},a.prototype.gtn=function(y){return this.cmpn(y)===1},a.prototype.gt=function(y){return this.cmp(y)===1},a.prototype.gten=function(y){return this.cmpn(y)>=0},a.prototype.gte=function(y){return this.cmp(y)>=0},a.prototype.ltn=function(y){return this.cmpn(y)===-1},a.prototype.lt=function(y){return this.cmp(y)===-1},a.prototype.lten=function(y){return this.cmpn(y)<=0},a.prototype.lte=function(y){return this.cmp(y)<=0},a.prototype.eqn=function(y){return this.cmpn(y)===0},a.prototype.eq=function(y){return this.cmp(y)===0},a.red=function(y){return new p(y)},a.prototype.toRed=function(y){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(y){return this.red=y,this},a.prototype.forceRed=function(y){return r(!this.red,"Already a number in reduction context"),this._forceRed(y)},a.prototype.redAdd=function(y){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},a.prototype.redIAdd=function(y){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},a.prototype.redSub=function(y){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},a.prototype.redISub=function(y){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},a.prototype.redShl=function(y){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},a.prototype.redMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},a.prototype.redIMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(y){return r(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var z={k256:null,p224:null,p192:null,p25519:null};function B(S,y){this.name=S,this.p=new a(y,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var y=new a(null);return y.words=new Array(Math.ceil(this.n/13)),y},B.prototype.ireduce=function(y){var M=y,D;do this.split(M,this.tmp),M=this.imulK(M),M=M.iadd(this.tmp),D=M.bitLength();while(D>this.n);var k=D<this.n?-1:M.ucmp(this.p);return k===0?(M.words[0]=0,M.length=1):k>0?M.isub(this.p):M.strip!==void 0?M.strip():M._strip(),M},B.prototype.split=function(y,M){y.iushrn(this.n,0,M)},B.prototype.imulK=function(y){return y.imul(this.k)};function $(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n($,B),$.prototype.split=function(y,M){for(var D=4194303,k=Math.min(y.length,9),E=0;E<k;E++)M.words[E]=y.words[E];if(M.length=k,y.length<=9){y.words[0]=0,y.length=1;return}var d=y.words[9];for(M.words[M.length++]=d&D,E=10;E<y.length;E++){var N=y.words[E]|0;y.words[E-10]=(N&D)<<4|d>>>22,d=N}d>>>=22,y.words[E-10]=d,d===0&&y.length>10?y.length-=10:y.length-=9},$.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var M=0,D=0;D<y.length;D++){var k=y.words[D]|0;M+=k*977,y.words[D]=M&67108863,M=k*64+(M/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function j(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(j,B);function W(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(W,B);function T(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(T,B),T.prototype.imulK=function(y){for(var M=0,D=0;D<y.length;D++){var k=(y.words[D]|0)*19+M,E=k&67108863;k>>>=26,y.words[D]=E,M=k}return M!==0&&(y.words[y.length++]=M),y},a._prime=function(y){if(z[y])return z[y];var M;if(y==="k256")M=new $;else if(y==="p224")M=new j;else if(y==="p192")M=new W;else if(y==="p25519")M=new T;else throw new Error("Unknown prime "+y);return z[y]=M,M};function p(S){if(typeof S=="string"){var y=a._prime(S);this.m=y.p,this.prime=y}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}p.prototype._verify1=function(y){r(y.negative===0,"red works only with positives"),r(y.red,"red works only with red numbers")},p.prototype._verify2=function(y,M){r((y.negative|M.negative)===0,"red works only with positives"),r(y.red&&y.red===M.red,"red works only with red numbers")},p.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):(l(y,y.umod(this.m)._forceRed(this)),y)},p.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},p.prototype.add=function(y,M){this._verify2(y,M);var D=y.add(M);return D.cmp(this.m)>=0&&D.isub(this.m),D._forceRed(this)},p.prototype.iadd=function(y,M){this._verify2(y,M);var D=y.iadd(M);return D.cmp(this.m)>=0&&D.isub(this.m),D},p.prototype.sub=function(y,M){this._verify2(y,M);var D=y.sub(M);return D.cmpn(0)<0&&D.iadd(this.m),D._forceRed(this)},p.prototype.isub=function(y,M){this._verify2(y,M);var D=y.isub(M);return D.cmpn(0)<0&&D.iadd(this.m),D},p.prototype.shl=function(y,M){return this._verify1(y),this.imod(y.ushln(M))},p.prototype.imul=function(y,M){return this._verify2(y,M),this.imod(y.imul(M))},p.prototype.mul=function(y,M){return this._verify2(y,M),this.imod(y.mul(M))},p.prototype.isqr=function(y){return this.imul(y,y.clone())},p.prototype.sqr=function(y){return this.mul(y,y)},p.prototype.sqrt=function(y){if(y.isZero())return y.clone();var M=this.m.andln(3);if(r(M%2===1),M===3){var D=this.m.add(new a(1)).iushrn(2);return this.pow(y,D)}for(var k=this.m.subn(1),E=0;!k.isZero()&&k.andln(1)===0;)E++,k.iushrn(1);r(!k.isZero());var d=new a(1).toRed(this),N=d.redNeg(),U=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new a(2*q*q).toRed(this);this.pow(q,U).cmp(N)!==0;)q.redIAdd(N);for(var P=this.pow(q,k),G=this.pow(y,k.addn(1).iushrn(1)),Z=this.pow(y,k),X=E;Z.cmp(d)!==0;){for(var he=Z,V=0;he.cmp(d)!==0;V++)he=he.redSqr();r(V<X);var K=this.pow(P,new a(1).iushln(X-V-1));G=G.redMul(K),P=K.redSqr(),Z=Z.redMul(P),X=V}return G},p.prototype.invm=function(y){var M=y._invmp(this.m);return M.negative!==0?(M.negative=0,this.imod(M).redNeg()):this.imod(M)},p.prototype.pow=function(y,M){if(M.isZero())return new a(1).toRed(this);if(M.cmpn(1)===0)return y.clone();var D=4,k=new Array(1<<D);k[0]=new a(1).toRed(this),k[1]=y;for(var E=2;E<k.length;E++)k[E]=this.mul(k[E-1],y);var d=k[0],N=0,U=0,q=M.bitLength()%26;for(q===0&&(q=26),E=M.length-1;E>=0;E--){for(var P=M.words[E],G=q-1;G>=0;G--){var Z=P>>G&1;if(d!==k[0]&&(d=this.sqr(d)),Z===0&&N===0){U=0;continue}N<<=1,N|=Z,U++,!(U!==D&&(E!==0||G!==0))&&(d=this.mul(d,k[N]),U=0,N=0)}q=26}return d},p.prototype.convertTo=function(y){var M=y.umod(this.m);return M===y?M.clone():M},p.prototype.convertFrom=function(y){var M=y.clone();return M.red=null,M},a.mont=function(y){return new v(y)};function v(S){p.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(v,p),v.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},v.prototype.convertFrom=function(y){var M=this.imod(y.mul(this.rinv));return M.red=null,M},v.prototype.imul=function(y,M){if(y.isZero()||M.isZero())return y.words[0]=0,y.length=1,y;var D=y.imul(M),k=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=D.isub(k).iushrn(this.shift),d=E;return E.cmp(this.m)>=0?d=E.isub(this.m):E.cmpn(0)<0&&(d=E.iadd(this.m)),d._forceRed(this)},v.prototype.mul=function(y,M){if(y.isZero()||M.isZero())return new a(0)._forceRed(this);var D=y.mul(M),k=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=D.isub(k).iushrn(this.shift),d=E;return E.cmp(this.m)>=0?d=E.isub(this.m):E.cmpn(0)<0&&(d=E.iadd(this.m)),d._forceRed(this)},v.prototype.invm=function(y){var M=this.imod(y._invmp(this.m).mul(this.r2));return M._forceRed(this)}})(typeof aF=="undefined"||aF,xae)});var Z3=Ee((Enr,Eae)=>{w();_();var Gg=K3(),est=Em();function tst(t){var e=_ae(t),r=e.toRed(Gg.mont(t.modulus)).redPow(new Gg(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function _ae(t){var e=t.modulus.byteLength(),r;do r=new Gg(est(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function Sae(t,e){var r=tst(e),n=e.modulus.byteLength(),a=new Gg(t).mul(r.blinder).umod(e.modulus),o=a.toRed(Gg.mont(e.prime1)),s=a.toRed(Gg.mont(e.prime2)),u=e.coefficient,f=e.prime1,l=e.prime2,c=o.redPow(e.exponent1).fromRed(),h=s.redPow(e.exponent2).fromRed(),m=c.isub(h).imul(u).umod(f).imul(l);return h.iadd(m).imul(r.unblinder).umod(e.modulus).toArrayLike($Buffer,"be",n)}Sae.getr=_ae;Eae.exports=Sae});var Mae=Ee((Mnr,rst)=>{rst.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var dc=Ee((Aae,oF)=>{w();_();(function(t,e){"use strict";function r(T,p){if(!T)throw new Error(p||"Assertion failed")}function n(T,p){T.super_=p;var v=function(){};v.prototype=p.prototype,T.prototype=new v,T.prototype.constructor=T}function a(T,p,v){if(a.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((p==="le"||p==="be")&&(v=p,p=10),this._init(T||0,p||10,v||"be"))}typeof t=="object"?t.exports=a:e.BN=a,a.BN=a,a.wordSize=26;var o;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?o=window.Buffer:o=Oi().Buffer}catch(T){}a.isBN=function(p){return p instanceof a?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===a.wordSize&&Array.isArray(p.words)},a.max=function(p,v){return p.cmp(v)>0?p:v},a.min=function(p,v){return p.cmp(v)<0?p:v},a.prototype._init=function(p,v,S){if(typeof p=="number")return this._initNumber(p,v,S);if(typeof p=="object")return this._initArray(p,v,S);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),p=p.toString().replace(/\s+/g,"");var y=0;p[0]==="-"&&(y++,this.negative=1),y<p.length&&(v===16?this._parseHex(p,y,S):(this._parseBase(p,v,y),S==="le"&&this._initArray(this.toArray(),v,S)))},a.prototype._initNumber=function(p,v,S){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(r(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),v,S)},a.prototype._initArray=function(p,v,S){if(r(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var M,D,k=0;if(S==="be")for(y=p.length-1,M=0;y>=0;y-=3)D=p[y]|p[y-1]<<8|p[y-2]<<16,this.words[M]|=D<<k&67108863,this.words[M+1]=D>>>26-k&67108863,k+=24,k>=26&&(k-=26,M++);else if(S==="le")for(y=0,M=0;y<p.length;y+=3)D=p[y]|p[y+1]<<8|p[y+2]<<16,this.words[M]|=D<<k&67108863,this.words[M+1]=D>>>26-k&67108863,k+=24,k>=26&&(k-=26,M++);return this.strip()};function s(T,p){var v=T.charCodeAt(p);return v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:v-48&15}function u(T,p,v){var S=s(T,v);return v-1>=p&&(S|=s(T,v-1)<<4),S}a.prototype._parseHex=function(p,v,S){this.length=Math.ceil((p.length-v)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var M=0,D=0,k;if(S==="be")for(y=p.length-1;y>=v;y-=2)k=u(p,v,y)<<M,this.words[D]|=k&67108863,M>=18?(M-=18,D+=1,this.words[D]|=k>>>26):M+=8;else{var E=p.length-v;for(y=E%2===0?v+1:v;y<p.length;y+=2)k=u(p,v,y)<<M,this.words[D]|=k&67108863,M>=18?(M-=18,D+=1,this.words[D]|=k>>>26):M+=8}this.strip()};function f(T,p,v,S){for(var y=0,M=Math.min(T.length,v),D=p;D<M;D++){var k=T.charCodeAt(D)-48;y*=S,k>=49?y+=k-49+10:k>=17?y+=k-17+10:y+=k}return y}a.prototype._parseBase=function(p,v,S){this.words=[0],this.length=1;for(var y=0,M=1;M<=67108863;M*=v)y++;y--,M=M/v|0;for(var D=p.length-S,k=D%y,E=Math.min(D,D-k)+S,d=0,N=S;N<E;N+=y)d=f(p,N,N+y,v),this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(k!==0){var U=1;for(d=f(p,N,p.length,v),N=0;N<k;N++)U*=v;this.imuln(U),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},a.prototype.copy=function(p){p.words=new Array(this.length);for(var v=0;v<this.length;v++)p.words[v]=this.words[v];p.length=this.length,p.negative=this.negative,p.red=this.red},a.prototype.clone=function(){var p=new a(null);return this.copy(p),p},a.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(p,v){p=p||10,v=v|0||1;var S;if(p===16||p==="hex"){S="";for(var y=0,M=0,D=0;D<this.length;D++){var k=this.words[D],E=((k<<y|M)&16777215).toString(16);M=k>>>24-y&16777215,M!==0||D!==this.length-1?S=l[6-E.length]+E+S:S=E+S,y+=2,y>=26&&(y-=26,D--)}for(M!==0&&(S=M.toString(16)+S);S.length%v!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(p===(p|0)&&p>=2&&p<=36){var d=c[p],N=h[p];S="";var U=this.clone();for(U.negative=0;!U.isZero();){var q=U.modn(N).toString(p);U=U.idivn(N),U.isZero()?S=q+S:S=l[d-q.length]+q+S}for(this.isZero()&&(S="0"+S);S.length%v!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(p,v){return r(typeof o!="undefined"),this.toArrayLike(o,p,v)},a.prototype.toArray=function(p,v){return this.toArrayLike(Array,p,v)},a.prototype.toArrayLike=function(p,v,S){var y=this.byteLength(),M=S||Math.max(1,y);r(y<=M,"byte array longer than desired length"),r(M>0,"Requested array length <= 0"),this.strip();var D=v==="le",k=new p(M),E,d,N=this.clone();if(D){for(d=0;!N.isZero();d++)E=N.andln(255),N.iushrn(8),k[d]=E;for(;d<M;d++)k[d]=0}else{for(d=0;d<M-y;d++)k[d]=0;for(d=0;!N.isZero();d++)E=N.andln(255),N.iushrn(8),k[M-d-1]=E}return k},Math.clz32?a.prototype._countBits=function(p){return 32-Math.clz32(p)}:a.prototype._countBits=function(p){var v=p,S=0;return v>=4096&&(S+=13,v>>>=13),v>=64&&(S+=7,v>>>=7),v>=8&&(S+=4,v>>>=4),v>=2&&(S+=2,v>>>=2),S+v},a.prototype._zeroBits=function(p){if(p===0)return 26;var v=p,S=0;return(v&8191)===0&&(S+=13,v>>>=13),(v&127)===0&&(S+=7,v>>>=7),(v&15)===0&&(S+=4,v>>>=4),(v&3)===0&&(S+=2,v>>>=2),(v&1)===0&&S++,S},a.prototype.bitLength=function(){var p=this.words[this.length-1],v=this._countBits(p);return(this.length-1)*26+v};function m(T){for(var p=new Array(T.bitLength()),v=0;v<p.length;v++){var S=v/26|0,y=v%26;p[v]=(T.words[S]&1<<y)>>>y}return p}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,v=0;v<this.length;v++){var S=this._zeroBits(this.words[v]);if(p+=S,S!==26)break}return p},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},a.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]|p.words[v];return this.strip()},a.prototype.ior=function(p){return r((this.negative|p.negative)===0),this.iuor(p)},a.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},a.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},a.prototype.iuand=function(p){var v;this.length>p.length?v=p:v=this;for(var S=0;S<v.length;S++)this.words[S]=this.words[S]&p.words[S];return this.length=v.length,this.strip()},a.prototype.iand=function(p){return r((this.negative|p.negative)===0),this.iuand(p)},a.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},a.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},a.prototype.iuxor=function(p){var v,S;this.length>p.length?(v=this,S=p):(v=p,S=this);for(var y=0;y<S.length;y++)this.words[y]=v.words[y]^S.words[y];if(this!==v)for(;y<v.length;y++)this.words[y]=v.words[y];return this.length=v.length,this.strip()},a.prototype.ixor=function(p){return r((this.negative|p.negative)===0),this.iuxor(p)},a.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},a.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},a.prototype.inotn=function(p){r(typeof p=="number"&&p>=0);var v=Math.ceil(p/26)|0,S=p%26;this._expand(v),S>0&&v--;for(var y=0;y<v;y++)this.words[y]=~this.words[y]&67108863;return S>0&&(this.words[y]=~this.words[y]&67108863>>26-S),this.strip()},a.prototype.notn=function(p){return this.clone().inotn(p)},a.prototype.setn=function(p,v){r(typeof p=="number"&&p>=0);var S=p/26|0,y=p%26;return this._expand(S+1),v?this.words[S]=this.words[S]|1<<y:this.words[S]=this.words[S]&~(1<<y),this.strip()},a.prototype.iadd=function(p){var v;if(this.negative!==0&&p.negative===0)return this.negative=0,v=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,v=this.isub(p),p.negative=1,v._normSign();var S,y;this.length>p.length?(S=this,y=p):(S=p,y=this);for(var M=0,D=0;D<y.length;D++)v=(S.words[D]|0)+(y.words[D]|0)+M,this.words[D]=v&67108863,M=v>>>26;for(;M!==0&&D<S.length;D++)v=(S.words[D]|0)+M,this.words[D]=v&67108863,M=v>>>26;if(this.length=S.length,M!==0)this.words[this.length]=M,this.length++;else if(S!==this)for(;D<S.length;D++)this.words[D]=S.words[D];return this},a.prototype.add=function(p){var v;return p.negative!==0&&this.negative===0?(p.negative=0,v=this.sub(p),p.negative^=1,v):p.negative===0&&this.negative!==0?(this.negative=0,v=p.sub(this),this.negative=1,v):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},a.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var v=this.iadd(p);return p.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var S=this.cmp(p);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,M;S>0?(y=this,M=p):(y=p,M=this);for(var D=0,k=0;k<M.length;k++)v=(y.words[k]|0)-(M.words[k]|0)+D,D=v>>26,this.words[k]=v&67108863;for(;D!==0&&k<y.length;k++)v=(y.words[k]|0)+D,D=v>>26,this.words[k]=v&67108863;if(D===0&&k<y.length&&y!==this)for(;k<y.length;k++)this.words[k]=y.words[k];return this.length=Math.max(this.length,k),y!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(p){return this.clone().isub(p)};function g(T,p,v){v.negative=p.negative^T.negative;var S=T.length+p.length|0;v.length=S,S=S-1|0;var y=T.words[0]|0,M=p.words[0]|0,D=y*M,k=D&67108863,E=D/67108864|0;v.words[0]=k;for(var d=1;d<S;d++){for(var N=E>>>26,U=E&67108863,q=Math.min(d,p.length-1),P=Math.max(0,d-T.length+1);P<=q;P++){var G=d-P|0;y=T.words[G]|0,M=p.words[P]|0,D=y*M+U,N+=D/67108864|0,U=D&67108863}v.words[d]=U|0,E=N|0}return E!==0?v.words[d]=E|0:v.length--,v.strip()}var b=function(p,v,S){var y=p.words,M=v.words,D=S.words,k=0,E,d,N,U=y[0]|0,q=U&8191,P=U>>>13,G=y[1]|0,Z=G&8191,X=G>>>13,he=y[2]|0,V=he&8191,K=he>>>13,ne=y[3]|0,fe=ne&8191,pe=ne>>>13,Ie=y[4]|0,ke=Ie&8191,ue=Ie>>>13,xe=y[5]|0,ge=xe&8191,Q=xe>>>13,_e=y[6]|0,ve=_e&8191,be=_e>>>13,qe=y[7]|0,se=qe&8191,Se=qe>>>13,Ke=y[8]|0,J=Ke&8191,H=Ke>>>13,Y=y[9]|0,oe=Y&8191,Me=Y>>>13,Ge=M[0]|0,Ce=Ge&8191,Xe=Ge>>>13,Yt=M[1]|0,tt=Yt&8191,Ye=Yt>>>13,dr=M[2]|0,re=dr&8191,Te=dr>>>13,ft=M[3]|0,ze=ft&8191,et=ft>>>13,lr=M[4]|0,ct=lr&8191,dt=lr>>>13,ki=M[5]|0,vt=ki&8191,pt=ki>>>13,_i=M[6]|0,gt=_i&8191,yt=_i>>>13,_n=M[7]|0,ut=_n&8191,bt=_n>>>13,si=M[8]|0,ht=si&8191,wt=si>>>13,ri=M[9]|0,at=ri&8191,lt=ri>>>13;S.negative=p.negative^v.negative,S.length=19,E=Math.imul(q,Ce),d=Math.imul(q,Xe),d=d+Math.imul(P,Ce)|0,N=Math.imul(P,Xe);var ie=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ie>>>26)|0,ie&=67108863,E=Math.imul(Z,Ce),d=Math.imul(Z,Xe),d=d+Math.imul(X,Ce)|0,N=Math.imul(X,Xe),E=E+Math.imul(q,tt)|0,d=d+Math.imul(q,Ye)|0,d=d+Math.imul(P,tt)|0,N=N+Math.imul(P,Ye)|0;var ce=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ce>>>26)|0,ce&=67108863,E=Math.imul(V,Ce),d=Math.imul(V,Xe),d=d+Math.imul(K,Ce)|0,N=Math.imul(K,Xe),E=E+Math.imul(Z,tt)|0,d=d+Math.imul(Z,Ye)|0,d=d+Math.imul(X,tt)|0,N=N+Math.imul(X,Ye)|0,E=E+Math.imul(q,re)|0,d=d+Math.imul(q,Te)|0,d=d+Math.imul(P,re)|0,N=N+Math.imul(P,Te)|0;var de=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(de>>>26)|0,de&=67108863,E=Math.imul(fe,Ce),d=Math.imul(fe,Xe),d=d+Math.imul(pe,Ce)|0,N=Math.imul(pe,Xe),E=E+Math.imul(V,tt)|0,d=d+Math.imul(V,Ye)|0,d=d+Math.imul(K,tt)|0,N=N+Math.imul(K,Ye)|0,E=E+Math.imul(Z,re)|0,d=d+Math.imul(Z,Te)|0,d=d+Math.imul(X,re)|0,N=N+Math.imul(X,Te)|0,E=E+Math.imul(q,ze)|0,d=d+Math.imul(q,et)|0,d=d+Math.imul(P,ze)|0,N=N+Math.imul(P,et)|0;var ye=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ye>>>26)|0,ye&=67108863,E=Math.imul(ke,Ce),d=Math.imul(ke,Xe),d=d+Math.imul(ue,Ce)|0,N=Math.imul(ue,Xe),E=E+Math.imul(fe,tt)|0,d=d+Math.imul(fe,Ye)|0,d=d+Math.imul(pe,tt)|0,N=N+Math.imul(pe,Ye)|0,E=E+Math.imul(V,re)|0,d=d+Math.imul(V,Te)|0,d=d+Math.imul(K,re)|0,N=N+Math.imul(K,Te)|0,E=E+Math.imul(Z,ze)|0,d=d+Math.imul(Z,et)|0,d=d+Math.imul(X,ze)|0,N=N+Math.imul(X,et)|0,E=E+Math.imul(q,ct)|0,d=d+Math.imul(q,dt)|0,d=d+Math.imul(P,ct)|0,N=N+Math.imul(P,dt)|0;var Ae=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,E=Math.imul(ge,Ce),d=Math.imul(ge,Xe),d=d+Math.imul(Q,Ce)|0,N=Math.imul(Q,Xe),E=E+Math.imul(ke,tt)|0,d=d+Math.imul(ke,Ye)|0,d=d+Math.imul(ue,tt)|0,N=N+Math.imul(ue,Ye)|0,E=E+Math.imul(fe,re)|0,d=d+Math.imul(fe,Te)|0,d=d+Math.imul(pe,re)|0,N=N+Math.imul(pe,Te)|0,E=E+Math.imul(V,ze)|0,d=d+Math.imul(V,et)|0,d=d+Math.imul(K,ze)|0,N=N+Math.imul(K,et)|0,E=E+Math.imul(Z,ct)|0,d=d+Math.imul(Z,dt)|0,d=d+Math.imul(X,ct)|0,N=N+Math.imul(X,dt)|0,E=E+Math.imul(q,vt)|0,d=d+Math.imul(q,pt)|0,d=d+Math.imul(P,vt)|0,N=N+Math.imul(P,pt)|0;var Ne=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,E=Math.imul(ve,Ce),d=Math.imul(ve,Xe),d=d+Math.imul(be,Ce)|0,N=Math.imul(be,Xe),E=E+Math.imul(ge,tt)|0,d=d+Math.imul(ge,Ye)|0,d=d+Math.imul(Q,tt)|0,N=N+Math.imul(Q,Ye)|0,E=E+Math.imul(ke,re)|0,d=d+Math.imul(ke,Te)|0,d=d+Math.imul(ue,re)|0,N=N+Math.imul(ue,Te)|0,E=E+Math.imul(fe,ze)|0,d=d+Math.imul(fe,et)|0,d=d+Math.imul(pe,ze)|0,N=N+Math.imul(pe,et)|0,E=E+Math.imul(V,ct)|0,d=d+Math.imul(V,dt)|0,d=d+Math.imul(K,ct)|0,N=N+Math.imul(K,dt)|0,E=E+Math.imul(Z,vt)|0,d=d+Math.imul(Z,pt)|0,d=d+Math.imul(X,vt)|0,N=N+Math.imul(X,pt)|0,E=E+Math.imul(q,gt)|0,d=d+Math.imul(q,yt)|0,d=d+Math.imul(P,gt)|0,N=N+Math.imul(P,yt)|0;var Pe=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,E=Math.imul(se,Ce),d=Math.imul(se,Xe),d=d+Math.imul(Se,Ce)|0,N=Math.imul(Se,Xe),E=E+Math.imul(ve,tt)|0,d=d+Math.imul(ve,Ye)|0,d=d+Math.imul(be,tt)|0,N=N+Math.imul(be,Ye)|0,E=E+Math.imul(ge,re)|0,d=d+Math.imul(ge,Te)|0,d=d+Math.imul(Q,re)|0,N=N+Math.imul(Q,Te)|0,E=E+Math.imul(ke,ze)|0,d=d+Math.imul(ke,et)|0,d=d+Math.imul(ue,ze)|0,N=N+Math.imul(ue,et)|0,E=E+Math.imul(fe,ct)|0,d=d+Math.imul(fe,dt)|0,d=d+Math.imul(pe,ct)|0,N=N+Math.imul(pe,dt)|0,E=E+Math.imul(V,vt)|0,d=d+Math.imul(V,pt)|0,d=d+Math.imul(K,vt)|0,N=N+Math.imul(K,pt)|0,E=E+Math.imul(Z,gt)|0,d=d+Math.imul(Z,yt)|0,d=d+Math.imul(X,gt)|0,N=N+Math.imul(X,yt)|0,E=E+Math.imul(q,ut)|0,d=d+Math.imul(q,bt)|0,d=d+Math.imul(P,ut)|0,N=N+Math.imul(P,bt)|0;var je=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(je>>>26)|0,je&=67108863,E=Math.imul(J,Ce),d=Math.imul(J,Xe),d=d+Math.imul(H,Ce)|0,N=Math.imul(H,Xe),E=E+Math.imul(se,tt)|0,d=d+Math.imul(se,Ye)|0,d=d+Math.imul(Se,tt)|0,N=N+Math.imul(Se,Ye)|0,E=E+Math.imul(ve,re)|0,d=d+Math.imul(ve,Te)|0,d=d+Math.imul(be,re)|0,N=N+Math.imul(be,Te)|0,E=E+Math.imul(ge,ze)|0,d=d+Math.imul(ge,et)|0,d=d+Math.imul(Q,ze)|0,N=N+Math.imul(Q,et)|0,E=E+Math.imul(ke,ct)|0,d=d+Math.imul(ke,dt)|0,d=d+Math.imul(ue,ct)|0,N=N+Math.imul(ue,dt)|0,E=E+Math.imul(fe,vt)|0,d=d+Math.imul(fe,pt)|0,d=d+Math.imul(pe,vt)|0,N=N+Math.imul(pe,pt)|0,E=E+Math.imul(V,gt)|0,d=d+Math.imul(V,yt)|0,d=d+Math.imul(K,gt)|0,N=N+Math.imul(K,yt)|0,E=E+Math.imul(Z,ut)|0,d=d+Math.imul(Z,bt)|0,d=d+Math.imul(X,ut)|0,N=N+Math.imul(X,bt)|0,E=E+Math.imul(q,ht)|0,d=d+Math.imul(q,wt)|0,d=d+Math.imul(P,ht)|0,N=N+Math.imul(P,wt)|0;var Qe=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,E=Math.imul(oe,Ce),d=Math.imul(oe,Xe),d=d+Math.imul(Me,Ce)|0,N=Math.imul(Me,Xe),E=E+Math.imul(J,tt)|0,d=d+Math.imul(J,Ye)|0,d=d+Math.imul(H,tt)|0,N=N+Math.imul(H,Ye)|0,E=E+Math.imul(se,re)|0,d=d+Math.imul(se,Te)|0,d=d+Math.imul(Se,re)|0,N=N+Math.imul(Se,Te)|0,E=E+Math.imul(ve,ze)|0,d=d+Math.imul(ve,et)|0,d=d+Math.imul(be,ze)|0,N=N+Math.imul(be,et)|0,E=E+Math.imul(ge,ct)|0,d=d+Math.imul(ge,dt)|0,d=d+Math.imul(Q,ct)|0,N=N+Math.imul(Q,dt)|0,E=E+Math.imul(ke,vt)|0,d=d+Math.imul(ke,pt)|0,d=d+Math.imul(ue,vt)|0,N=N+Math.imul(ue,pt)|0,E=E+Math.imul(fe,gt)|0,d=d+Math.imul(fe,yt)|0,d=d+Math.imul(pe,gt)|0,N=N+Math.imul(pe,yt)|0,E=E+Math.imul(V,ut)|0,d=d+Math.imul(V,bt)|0,d=d+Math.imul(K,ut)|0,N=N+Math.imul(K,bt)|0,E=E+Math.imul(Z,ht)|0,d=d+Math.imul(Z,wt)|0,d=d+Math.imul(X,ht)|0,N=N+Math.imul(X,wt)|0,E=E+Math.imul(q,at)|0,d=d+Math.imul(q,lt)|0,d=d+Math.imul(P,at)|0,N=N+Math.imul(P,lt)|0;var Ve=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,E=Math.imul(oe,tt),d=Math.imul(oe,Ye),d=d+Math.imul(Me,tt)|0,N=Math.imul(Me,Ye),E=E+Math.imul(J,re)|0,d=d+Math.imul(J,Te)|0,d=d+Math.imul(H,re)|0,N=N+Math.imul(H,Te)|0,E=E+Math.imul(se,ze)|0,d=d+Math.imul(se,et)|0,d=d+Math.imul(Se,ze)|0,N=N+Math.imul(Se,et)|0,E=E+Math.imul(ve,ct)|0,d=d+Math.imul(ve,dt)|0,d=d+Math.imul(be,ct)|0,N=N+Math.imul(be,dt)|0,E=E+Math.imul(ge,vt)|0,d=d+Math.imul(ge,pt)|0,d=d+Math.imul(Q,vt)|0,N=N+Math.imul(Q,pt)|0,E=E+Math.imul(ke,gt)|0,d=d+Math.imul(ke,yt)|0,d=d+Math.imul(ue,gt)|0,N=N+Math.imul(ue,yt)|0,E=E+Math.imul(fe,ut)|0,d=d+Math.imul(fe,bt)|0,d=d+Math.imul(pe,ut)|0,N=N+Math.imul(pe,bt)|0,E=E+Math.imul(V,ht)|0,d=d+Math.imul(V,wt)|0,d=d+Math.imul(K,ht)|0,N=N+Math.imul(K,wt)|0,E=E+Math.imul(Z,at)|0,d=d+Math.imul(Z,lt)|0,d=d+Math.imul(X,at)|0,N=N+Math.imul(X,lt)|0;var ot=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ot>>>26)|0,ot&=67108863,E=Math.imul(oe,re),d=Math.imul(oe,Te),d=d+Math.imul(Me,re)|0,N=Math.imul(Me,Te),E=E+Math.imul(J,ze)|0,d=d+Math.imul(J,et)|0,d=d+Math.imul(H,ze)|0,N=N+Math.imul(H,et)|0,E=E+Math.imul(se,ct)|0,d=d+Math.imul(se,dt)|0,d=d+Math.imul(Se,ct)|0,N=N+Math.imul(Se,dt)|0,E=E+Math.imul(ve,vt)|0,d=d+Math.imul(ve,pt)|0,d=d+Math.imul(be,vt)|0,N=N+Math.imul(be,pt)|0,E=E+Math.imul(ge,gt)|0,d=d+Math.imul(ge,yt)|0,d=d+Math.imul(Q,gt)|0,N=N+Math.imul(Q,yt)|0,E=E+Math.imul(ke,ut)|0,d=d+Math.imul(ke,bt)|0,d=d+Math.imul(ue,ut)|0,N=N+Math.imul(ue,bt)|0,E=E+Math.imul(fe,ht)|0,d=d+Math.imul(fe,wt)|0,d=d+Math.imul(pe,ht)|0,N=N+Math.imul(pe,wt)|0,E=E+Math.imul(V,at)|0,d=d+Math.imul(V,lt)|0,d=d+Math.imul(K,at)|0,N=N+Math.imul(K,lt)|0;var mt=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(mt>>>26)|0,mt&=67108863,E=Math.imul(oe,ze),d=Math.imul(oe,et),d=d+Math.imul(Me,ze)|0,N=Math.imul(Me,et),E=E+Math.imul(J,ct)|0,d=d+Math.imul(J,dt)|0,d=d+Math.imul(H,ct)|0,N=N+Math.imul(H,dt)|0,E=E+Math.imul(se,vt)|0,d=d+Math.imul(se,pt)|0,d=d+Math.imul(Se,vt)|0,N=N+Math.imul(Se,pt)|0,E=E+Math.imul(ve,gt)|0,d=d+Math.imul(ve,yt)|0,d=d+Math.imul(be,gt)|0,N=N+Math.imul(be,yt)|0,E=E+Math.imul(ge,ut)|0,d=d+Math.imul(ge,bt)|0,d=d+Math.imul(Q,ut)|0,N=N+Math.imul(Q,bt)|0,E=E+Math.imul(ke,ht)|0,d=d+Math.imul(ke,wt)|0,d=d+Math.imul(ue,ht)|0,N=N+Math.imul(ue,wt)|0,E=E+Math.imul(fe,at)|0,d=d+Math.imul(fe,lt)|0,d=d+Math.imul(pe,at)|0,N=N+Math.imul(pe,lt)|0;var Mt=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,E=Math.imul(oe,ct),d=Math.imul(oe,dt),d=d+Math.imul(Me,ct)|0,N=Math.imul(Me,dt),E=E+Math.imul(J,vt)|0,d=d+Math.imul(J,pt)|0,d=d+Math.imul(H,vt)|0,N=N+Math.imul(H,pt)|0,E=E+Math.imul(se,gt)|0,d=d+Math.imul(se,yt)|0,d=d+Math.imul(Se,gt)|0,N=N+Math.imul(Se,yt)|0,E=E+Math.imul(ve,ut)|0,d=d+Math.imul(ve,bt)|0,d=d+Math.imul(be,ut)|0,N=N+Math.imul(be,bt)|0,E=E+Math.imul(ge,ht)|0,d=d+Math.imul(ge,wt)|0,d=d+Math.imul(Q,ht)|0,N=N+Math.imul(Q,wt)|0,E=E+Math.imul(ke,at)|0,d=d+Math.imul(ke,lt)|0,d=d+Math.imul(ue,at)|0,N=N+Math.imul(ue,lt)|0;var $t=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+($t>>>26)|0,$t&=67108863,E=Math.imul(oe,vt),d=Math.imul(oe,pt),d=d+Math.imul(Me,vt)|0,N=Math.imul(Me,pt),E=E+Math.imul(J,gt)|0,d=d+Math.imul(J,yt)|0,d=d+Math.imul(H,gt)|0,N=N+Math.imul(H,yt)|0,E=E+Math.imul(se,ut)|0,d=d+Math.imul(se,bt)|0,d=d+Math.imul(Se,ut)|0,N=N+Math.imul(Se,bt)|0,E=E+Math.imul(ve,ht)|0,d=d+Math.imul(ve,wt)|0,d=d+Math.imul(be,ht)|0,N=N+Math.imul(be,wt)|0,E=E+Math.imul(ge,at)|0,d=d+Math.imul(ge,lt)|0,d=d+Math.imul(Q,at)|0,N=N+Math.imul(Q,lt)|0;var cr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(cr>>>26)|0,cr&=67108863,E=Math.imul(oe,gt),d=Math.imul(oe,yt),d=d+Math.imul(Me,gt)|0,N=Math.imul(Me,yt),E=E+Math.imul(J,ut)|0,d=d+Math.imul(J,bt)|0,d=d+Math.imul(H,ut)|0,N=N+Math.imul(H,bt)|0,E=E+Math.imul(se,ht)|0,d=d+Math.imul(se,wt)|0,d=d+Math.imul(Se,ht)|0,N=N+Math.imul(Se,wt)|0,E=E+Math.imul(ve,at)|0,d=d+Math.imul(ve,lt)|0,d=d+Math.imul(be,at)|0,N=N+Math.imul(be,lt)|0;var rr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(rr>>>26)|0,rr&=67108863,E=Math.imul(oe,ut),d=Math.imul(oe,bt),d=d+Math.imul(Me,ut)|0,N=Math.imul(Me,bt),E=E+Math.imul(J,ht)|0,d=d+Math.imul(J,wt)|0,d=d+Math.imul(H,ht)|0,N=N+Math.imul(H,wt)|0,E=E+Math.imul(se,at)|0,d=d+Math.imul(se,lt)|0,d=d+Math.imul(Se,at)|0,N=N+Math.imul(Se,lt)|0;var Br=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,E=Math.imul(oe,ht),d=Math.imul(oe,wt),d=d+Math.imul(Me,ht)|0,N=Math.imul(Me,wt),E=E+Math.imul(J,at)|0,d=d+Math.imul(J,lt)|0,d=d+Math.imul(H,at)|0,N=N+Math.imul(H,lt)|0;var pr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(pr>>>26)|0,pr&=67108863,E=Math.imul(oe,at),d=Math.imul(oe,lt),d=d+Math.imul(Me,at)|0,N=Math.imul(Me,lt);var Vr=(k+E|0)+((d&8191)<<13)|0;return k=(N+(d>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,D[0]=ie,D[1]=ce,D[2]=de,D[3]=ye,D[4]=Ae,D[5]=Ne,D[6]=Pe,D[7]=je,D[8]=Qe,D[9]=Ve,D[10]=ot,D[11]=mt,D[12]=Mt,D[13]=$t,D[14]=cr,D[15]=rr,D[16]=Br,D[17]=pr,D[18]=Vr,k!==0&&(D[19]=k,S.length++),S};Math.imul||(b=g);function A(T,p,v){v.negative=p.negative^T.negative,v.length=T.length+p.length;for(var S=0,y=0,M=0;M<v.length-1;M++){var D=y;y=0;for(var k=S&67108863,E=Math.min(M,p.length-1),d=Math.max(0,M-T.length+1);d<=E;d++){var N=M-d,U=T.words[N]|0,q=p.words[d]|0,P=U*q,G=P&67108863;D=D+(P/67108864|0)|0,G=G+k|0,k=G&67108863,D=D+(G>>>26)|0,y+=D>>>26,D&=67108863}v.words[M]=k,S=D,D=y}return S!==0?v.words[M]=S:v.length--,v.strip()}function I(T,p,v){var S=new C;return S.mulp(T,p,v)}a.prototype.mulTo=function(p,v){var S,y=this.length+p.length;return this.length===10&&p.length===10?S=b(this,p,v):y<63?S=g(this,p,v):y<1024?S=A(this,p,v):S=I(this,p,v),S};function C(T,p){this.x=T,this.y=p}C.prototype.makeRBT=function(p){for(var v=new Array(p),S=a.prototype._countBits(p)-1,y=0;y<p;y++)v[y]=this.revBin(y,S,p);return v},C.prototype.revBin=function(p,v,S){if(p===0||p===S-1)return p;for(var y=0,M=0;M<v;M++)y|=(p&1)<<v-M-1,p>>=1;return y},C.prototype.permute=function(p,v,S,y,M,D){for(var k=0;k<D;k++)y[k]=v[p[k]],M[k]=S[p[k]]},C.prototype.transform=function(p,v,S,y,M,D){this.permute(D,p,v,S,y,M);for(var k=1;k<M;k<<=1)for(var E=k<<1,d=Math.cos(2*Math.PI/E),N=Math.sin(2*Math.PI/E),U=0;U<M;U+=E)for(var q=d,P=N,G=0;G<k;G++){var Z=S[U+G],X=y[U+G],he=S[U+G+k],V=y[U+G+k],K=q*he-P*V;V=q*V+P*he,he=K,S[U+G]=Z+he,y[U+G]=X+V,S[U+G+k]=Z-he,y[U+G+k]=X-V,G!==E&&(K=d*q-N*P,P=d*P+N*q,q=K)}},C.prototype.guessLen13b=function(p,v){var S=Math.max(v,p)|1,y=S&1,M=0;for(S=S/2|0;S;S=S>>>1)M++;return 1<<M+1+y},C.prototype.conjugate=function(p,v,S){if(!(S<=1))for(var y=0;y<S/2;y++){var M=p[y];p[y]=p[S-y-1],p[S-y-1]=M,M=v[y],v[y]=-v[S-y-1],v[S-y-1]=-M}},C.prototype.normalize13b=function(p,v){for(var S=0,y=0;y<v/2;y++){var M=Math.round(p[2*y+1]/v)*8192+Math.round(p[2*y]/v)+S;p[y]=M&67108863,M<67108864?S=0:S=M/67108864|0}return p},C.prototype.convert13b=function(p,v,S,y){for(var M=0,D=0;D<v;D++)M=M+(p[D]|0),S[2*D]=M&8191,M=M>>>13,S[2*D+1]=M&8191,M=M>>>13;for(D=2*v;D<y;++D)S[D]=0;r(M===0),r((M&-8192)===0)},C.prototype.stub=function(p){for(var v=new Array(p),S=0;S<p;S++)v[S]=0;return v},C.prototype.mulp=function(p,v,S){var y=2*this.guessLen13b(p.length,v.length),M=this.makeRBT(y),D=this.stub(y),k=new Array(y),E=new Array(y),d=new Array(y),N=new Array(y),U=new Array(y),q=new Array(y),P=S.words;P.length=y,this.convert13b(p.words,p.length,k,y),this.convert13b(v.words,v.length,N,y),this.transform(k,D,E,d,y,M),this.transform(N,D,U,q,y,M);for(var G=0;G<y;G++){var Z=E[G]*U[G]-d[G]*q[G];d[G]=E[G]*q[G]+d[G]*U[G],E[G]=Z}return this.conjugate(E,d,y),this.transform(E,d,P,D,y,M),this.conjugate(P,D,y),this.normalize13b(P,y),S.negative=p.negative^v.negative,S.length=p.length+v.length,S.strip()},a.prototype.mul=function(p){var v=new a(null);return v.words=new Array(this.length+p.length),this.mulTo(p,v)},a.prototype.mulf=function(p){var v=new a(null);return v.words=new Array(this.length+p.length),I(this,p,v)},a.prototype.imul=function(p){return this.clone().mulTo(p,this)},a.prototype.imuln=function(p){r(typeof p=="number"),r(p<67108864);for(var v=0,S=0;S<this.length;S++){var y=(this.words[S]|0)*p,M=(y&67108863)+(v&67108863);v>>=26,v+=y/67108864|0,v+=M>>>26,this.words[S]=M&67108863}return v!==0&&(this.words[S]=v,this.length++),this},a.prototype.muln=function(p){return this.clone().imuln(p)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(p){var v=m(p);if(v.length===0)return new a(1);for(var S=this,y=0;y<v.length&&v[y]===0;y++,S=S.sqr());if(++y<v.length)for(var M=S.sqr();y<v.length;y++,M=M.sqr())v[y]!==0&&(S=S.mul(M));return S},a.prototype.iushln=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26,y=67108863>>>26-v<<26-v,M;if(v!==0){var D=0;for(M=0;M<this.length;M++){var k=this.words[M]&y,E=(this.words[M]|0)-k<<v;this.words[M]=E|D,D=k>>>26-v}D&&(this.words[M]=D,this.length++)}if(S!==0){for(M=this.length-1;M>=0;M--)this.words[M+S]=this.words[M];for(M=0;M<S;M++)this.words[M]=0;this.length+=S}return this.strip()},a.prototype.ishln=function(p){return r(this.negative===0),this.iushln(p)},a.prototype.iushrn=function(p,v,S){r(typeof p=="number"&&p>=0);var y;v?y=(v-v%26)/26:y=0;var M=p%26,D=Math.min((p-M)/26,this.length),k=67108863^67108863>>>M<<M,E=S;if(y-=D,y=Math.max(0,y),E){for(var d=0;d<D;d++)E.words[d]=this.words[d];E.length=D}if(D!==0)if(this.length>D)for(this.length-=D,d=0;d<this.length;d++)this.words[d]=this.words[d+D];else this.words[0]=0,this.length=1;var N=0;for(d=this.length-1;d>=0&&(N!==0||d>=y);d--){var U=this.words[d]|0;this.words[d]=N<<26-M|U>>>M,N=U&k}return E&&N!==0&&(E.words[E.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(p,v,S){return r(this.negative===0),this.iushrn(p,v,S)},a.prototype.shln=function(p){return this.clone().ishln(p)},a.prototype.ushln=function(p){return this.clone().iushln(p)},a.prototype.shrn=function(p){return this.clone().ishrn(p)},a.prototype.ushrn=function(p){return this.clone().iushrn(p)},a.prototype.testn=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26,y=1<<v;if(this.length<=S)return!1;var M=this.words[S];return!!(M&y)},a.prototype.imaskn=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(v!==0&&S++,this.length=Math.min(S,this.length),v!==0){var y=67108863^67108863>>>v<<v;this.words[this.length-1]&=y}return this.strip()},a.prototype.maskn=function(p){return this.clone().imaskn(p)},a.prototype.iaddn=function(p){return r(typeof p=="number"),r(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},a.prototype._iaddn=function(p){this.words[0]+=p;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},a.prototype.isubn=function(p){if(r(typeof p=="number"),r(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this.strip()},a.prototype.addn=function(p){return this.clone().iaddn(p)},a.prototype.subn=function(p){return this.clone().isubn(p)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(p,v,S){var y=p.length+S,M;this._expand(y);var D,k=0;for(M=0;M<p.length;M++){D=(this.words[M+S]|0)+k;var E=(p.words[M]|0)*v;D-=E&67108863,k=(D>>26)-(E/67108864|0),this.words[M+S]=D&67108863}for(;M<this.length-S;M++)D=(this.words[M+S]|0)+k,k=D>>26,this.words[M+S]=D&67108863;if(k===0)return this.strip();for(r(k===-1),k=0,M=0;M<this.length;M++)D=-(this.words[M]|0)+k,k=D>>26,this.words[M]=D&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(p,v){var S=this.length-p.length,y=this.clone(),M=p,D=M.words[M.length-1]|0,k=this._countBits(D);S=26-k,S!==0&&(M=M.ushln(S),y.iushln(S),D=M.words[M.length-1]|0);var E=y.length-M.length,d;if(v!=="mod"){d=new a(null),d.length=E+1,d.words=new Array(d.length);for(var N=0;N<d.length;N++)d.words[N]=0}var U=y.clone()._ishlnsubmul(M,1,E);U.negative===0&&(y=U,d&&(d.words[E]=1));for(var q=E-1;q>=0;q--){var P=(y.words[M.length+q]|0)*67108864+(y.words[M.length+q-1]|0);for(P=Math.min(P/D|0,67108863),y._ishlnsubmul(M,P,q);y.negative!==0;)P--,y.negative=0,y._ishlnsubmul(M,1,q),y.isZero()||(y.negative^=1);d&&(d.words[q]=P)}return d&&d.strip(),y.strip(),v!=="div"&&S!==0&&y.iushrn(S),{div:d||null,mod:y}},a.prototype.divmod=function(p,v,S){if(r(!p.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var y,M,D;return this.negative!==0&&p.negative===0?(D=this.neg().divmod(p,v),v!=="mod"&&(y=D.div.neg()),v!=="div"&&(M=D.mod.neg(),S&&M.negative!==0&&M.iadd(p)),{div:y,mod:M}):this.negative===0&&p.negative!==0?(D=this.divmod(p.neg(),v),v!=="mod"&&(y=D.div.neg()),{div:y,mod:D.mod}):(this.negative&p.negative)!==0?(D=this.neg().divmod(p.neg(),v),v!=="div"&&(M=D.mod.neg(),S&&M.negative!==0&&M.isub(p)),{div:D.div,mod:M}):p.length>this.length||this.cmp(p)<0?{div:new a(0),mod:this}:p.length===1?v==="div"?{div:this.divn(p.words[0]),mod:null}:v==="mod"?{div:null,mod:new a(this.modn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new a(this.modn(p.words[0]))}:this._wordDiv(p,v)},a.prototype.div=function(p){return this.divmod(p,"div",!1).div},a.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},a.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},a.prototype.divRound=function(p){var v=this.divmod(p);if(v.mod.isZero())return v.div;var S=v.div.negative!==0?v.mod.isub(p):v.mod,y=p.ushrn(1),M=p.andln(1),D=S.cmp(y);return D<0||M===1&&D===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},a.prototype.modn=function(p){r(p<=67108863);for(var v=(1<<26)%p,S=0,y=this.length-1;y>=0;y--)S=(v*S+(this.words[y]|0))%p;return S},a.prototype.idivn=function(p){r(p<=67108863);for(var v=0,S=this.length-1;S>=0;S--){var y=(this.words[S]|0)+v*67108864;this.words[S]=y/p|0,v=y%p}return this.strip()},a.prototype.divn=function(p){return this.clone().idivn(p)},a.prototype.egcd=function(p){r(p.negative===0),r(!p.isZero());var v=this,S=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var y=new a(1),M=new a(0),D=new a(0),k=new a(1),E=0;v.isEven()&&S.isEven();)v.iushrn(1),S.iushrn(1),++E;for(var d=S.clone(),N=v.clone();!v.isZero();){for(var U=0,q=1;(v.words[0]&q)===0&&U<26;++U,q<<=1);if(U>0)for(v.iushrn(U);U-- >0;)(y.isOdd()||M.isOdd())&&(y.iadd(d),M.isub(N)),y.iushrn(1),M.iushrn(1);for(var P=0,G=1;(S.words[0]&G)===0&&P<26;++P,G<<=1);if(P>0)for(S.iushrn(P);P-- >0;)(D.isOdd()||k.isOdd())&&(D.iadd(d),k.isub(N)),D.iushrn(1),k.iushrn(1);v.cmp(S)>=0?(v.isub(S),y.isub(D),M.isub(k)):(S.isub(v),D.isub(y),k.isub(M))}return{a:D,b:k,gcd:S.iushln(E)}},a.prototype._invmp=function(p){r(p.negative===0),r(!p.isZero());var v=this,S=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var y=new a(1),M=new a(0),D=S.clone();v.cmpn(1)>0&&S.cmpn(1)>0;){for(var k=0,E=1;(v.words[0]&E)===0&&k<26;++k,E<<=1);if(k>0)for(v.iushrn(k);k-- >0;)y.isOdd()&&y.iadd(D),y.iushrn(1);for(var d=0,N=1;(S.words[0]&N)===0&&d<26;++d,N<<=1);if(d>0)for(S.iushrn(d);d-- >0;)M.isOdd()&&M.iadd(D),M.iushrn(1);v.cmp(S)>=0?(v.isub(S),y.isub(M)):(S.isub(v),M.isub(y))}var U;return v.cmpn(1)===0?U=y:U=M,U.cmpn(0)<0&&U.iadd(p),U},a.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var v=this.clone(),S=p.clone();v.negative=0,S.negative=0;for(var y=0;v.isEven()&&S.isEven();y++)v.iushrn(1),S.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;S.isEven();)S.iushrn(1);var M=v.cmp(S);if(M<0){var D=v;v=S,S=D}else if(M===0||S.cmpn(1)===0)break;v.isub(S)}while(!0);return S.iushln(y)},a.prototype.invm=function(p){return this.egcd(p).a.umod(p)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(p){return this.words[0]&p},a.prototype.bincn=function(p){r(typeof p=="number");var v=p%26,S=(p-v)/26,y=1<<v;if(this.length<=S)return this._expand(S+1),this.words[S]|=y,this;for(var M=y,D=S;M!==0&&D<this.length;D++){var k=this.words[D]|0;k+=M,M=k>>>26,k&=67108863,this.words[D]=k}return M!==0&&(this.words[D]=M,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(p){var v=p<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this.strip();var S;if(this.length>1)S=1;else{v&&(p=-p),r(p<=67108863,"Number is too big");var y=this.words[0]|0;S=y===p?0:y<p?-1:1}return this.negative!==0?-S|0:S},a.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var v=this.ucmp(p);return this.negative!==0?-v|0:v},a.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var v=0,S=this.length-1;S>=0;S--){var y=this.words[S]|0,M=p.words[S]|0;if(y!==M){y<M?v=-1:y>M&&(v=1);break}}return v},a.prototype.gtn=function(p){return this.cmpn(p)===1},a.prototype.gt=function(p){return this.cmp(p)===1},a.prototype.gten=function(p){return this.cmpn(p)>=0},a.prototype.gte=function(p){return this.cmp(p)>=0},a.prototype.ltn=function(p){return this.cmpn(p)===-1},a.prototype.lt=function(p){return this.cmp(p)===-1},a.prototype.lten=function(p){return this.cmpn(p)<=0},a.prototype.lte=function(p){return this.cmp(p)<=0},a.prototype.eqn=function(p){return this.cmpn(p)===0},a.prototype.eq=function(p){return this.cmp(p)===0},a.red=function(p){return new j(p)},a.prototype.toRed=function(p){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(p){return this.red=p,this},a.prototype.forceRed=function(p){return r(!this.red,"Already a number in reduction context"),this._forceRed(p)},a.prototype.redAdd=function(p){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},a.prototype.redIAdd=function(p){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},a.prototype.redSub=function(p){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},a.prototype.redISub=function(p){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},a.prototype.redShl=function(p){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},a.prototype.redMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},a.prototype.redIMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(p){return r(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var R={k256:null,p224:null,p192:null,p25519:null};function O(T,p){this.name=T,this.p=new a(p,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var p=new a(null);return p.words=new Array(Math.ceil(this.n/13)),p},O.prototype.ireduce=function(p){var v=p,S;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),S=v.bitLength();while(S>this.n);var y=S<this.n?-1:v.ucmp(this.p);return y===0?(v.words[0]=0,v.length=1):y>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},O.prototype.split=function(p,v){p.iushrn(this.n,0,v)},O.prototype.imulK=function(p){return p.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,O),F.prototype.split=function(p,v){for(var S=4194303,y=Math.min(p.length,9),M=0;M<y;M++)v.words[M]=p.words[M];if(v.length=y,p.length<=9){p.words[0]=0,p.length=1;return}var D=p.words[9];for(v.words[v.length++]=D&S,M=10;M<p.length;M++){var k=p.words[M]|0;p.words[M-10]=(k&S)<<4|D>>>22,D=k}D>>>=22,p.words[M-10]=D,D===0&&p.length>10?p.length-=10:p.length-=9},F.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var v=0,S=0;S<p.length;S++){var y=p.words[S]|0;v+=y*977,p.words[S]=v&67108863,v=y*64+(v/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function z(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(z,O);function B(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(B,O);function $(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n($,O),$.prototype.imulK=function(p){for(var v=0,S=0;S<p.length;S++){var y=(p.words[S]|0)*19+v,M=y&67108863;y>>>=26,p.words[S]=M,v=y}return v!==0&&(p.words[p.length++]=v),p},a._prime=function(p){if(R[p])return R[p];var v;if(p==="k256")v=new F;else if(p==="p224")v=new z;else if(p==="p192")v=new B;else if(p==="p25519")v=new $;else throw new Error("Unknown prime "+p);return R[p]=v,v};function j(T){if(typeof T=="string"){var p=a._prime(T);this.m=p.p,this.prime=p}else r(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}j.prototype._verify1=function(p){r(p.negative===0,"red works only with positives"),r(p.red,"red works only with red numbers")},j.prototype._verify2=function(p,v){r((p.negative|v.negative)===0,"red works only with positives"),r(p.red&&p.red===v.red,"red works only with red numbers")},j.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):p.umod(this.m)._forceRed(this)},j.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},j.prototype.add=function(p,v){this._verify2(p,v);var S=p.add(v);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},j.prototype.iadd=function(p,v){this._verify2(p,v);var S=p.iadd(v);return S.cmp(this.m)>=0&&S.isub(this.m),S},j.prototype.sub=function(p,v){this._verify2(p,v);var S=p.sub(v);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},j.prototype.isub=function(p,v){this._verify2(p,v);var S=p.isub(v);return S.cmpn(0)<0&&S.iadd(this.m),S},j.prototype.shl=function(p,v){return this._verify1(p),this.imod(p.ushln(v))},j.prototype.imul=function(p,v){return this._verify2(p,v),this.imod(p.imul(v))},j.prototype.mul=function(p,v){return this._verify2(p,v),this.imod(p.mul(v))},j.prototype.isqr=function(p){return this.imul(p,p.clone())},j.prototype.sqr=function(p){return this.mul(p,p)},j.prototype.sqrt=function(p){if(p.isZero())return p.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var S=this.m.add(new a(1)).iushrn(2);return this.pow(p,S)}for(var y=this.m.subn(1),M=0;!y.isZero()&&y.andln(1)===0;)M++,y.iushrn(1);r(!y.isZero());var D=new a(1).toRed(this),k=D.redNeg(),E=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);this.pow(d,E).cmp(k)!==0;)d.redIAdd(k);for(var N=this.pow(d,y),U=this.pow(p,y.addn(1).iushrn(1)),q=this.pow(p,y),P=M;q.cmp(D)!==0;){for(var G=q,Z=0;G.cmp(D)!==0;Z++)G=G.redSqr();r(Z<P);var X=this.pow(N,new a(1).iushln(P-Z-1));U=U.redMul(X),N=X.redSqr(),q=q.redMul(N),P=Z}return U},j.prototype.invm=function(p){var v=p._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},j.prototype.pow=function(p,v){if(v.isZero())return new a(1).toRed(this);if(v.cmpn(1)===0)return p.clone();var S=4,y=new Array(1<<S);y[0]=new a(1).toRed(this),y[1]=p;for(var M=2;M<y.length;M++)y[M]=this.mul(y[M-1],p);var D=y[0],k=0,E=0,d=v.bitLength()%26;for(d===0&&(d=26),M=v.length-1;M>=0;M--){for(var N=v.words[M],U=d-1;U>=0;U--){var q=N>>U&1;if(D!==y[0]&&(D=this.sqr(D)),q===0&&k===0){E=0;continue}k<<=1,k|=q,E++,!(E!==S&&(M!==0||U!==0))&&(D=this.mul(D,y[k]),E=0,k=0)}d=26}return D},j.prototype.convertTo=function(p){var v=p.umod(this.m);return v===p?v.clone():v},j.prototype.convertFrom=function(p){var v=p.clone();return v.red=null,v},a.mont=function(p){return new W(p)};function W(T){j.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(W,j),W.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},W.prototype.convertFrom=function(p){var v=this.imod(p.mul(this.rinv));return v.red=null,v},W.prototype.imul=function(p,v){if(p.isZero()||v.isZero())return p.words[0]=0,p.length=1,p;var S=p.imul(v),y=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=S.isub(y).iushrn(this.shift),D=M;return M.cmp(this.m)>=0?D=M.isub(this.m):M.cmpn(0)<0&&(D=M.iadd(this.m)),D._forceRed(this)},W.prototype.mul=function(p,v){if(p.isZero()||v.isZero())return new a(0)._forceRed(this);var S=p.mul(v),y=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=S.isub(y).iushrn(this.shift),D=M;return M.cmp(this.m)>=0?D=M.isub(this.m):M.cmpn(0)<0&&(D=M.iadd(this.m)),D._forceRed(this)},W.prototype.invm=function(p){var v=this.imod(p._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(typeof oF=="undefined"||oF,Aae)});var sF=Ee(Dae=>{"use strict";w();_();var J3=Dae;function nst(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var a=t.charCodeAt(n),o=a>>8,s=a&255;o?r.push(o,s):r.push(s)}return r}J3.toArray=nst;function Nae(t){return t.length===1?"0"+t:t}J3.zero2=Nae;function Tae(t){for(var e="",r=0;r<t.length;r++)e+=Nae(t[r].toString(16));return e}J3.toHex=Tae;J3.encode=function(e,r){return r==="hex"?Tae(e):e}});var su=Ee(kae=>{"use strict";w();_();var ul=kae,ist=dc(),ast=ou(),Y3=sF();ul.assert=ast;ul.toArray=Y3.toArray;ul.zero2=Y3.zero2;ul.toHex=Y3.toHex;ul.encode=Y3.encode;function ost(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var a=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var u,f=o.andln(a-1);o.isOdd()?(f>(a>>1)-1?u=(a>>1)-f:u=f,o.isubn(u)):u=0,n[s]=u,o.iushrn(1)}return n}ul.getNAF=ost;function sst(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,a=0,o;t.cmpn(-n)>0||e.cmpn(-a)>0;){var s=t.andln(3)+n&3,u=e.andln(3)+a&3;s===3&&(s=-1),u===3&&(u=-1);var f;(s&1)===0?f=0:(o=t.andln(7)+n&7,(o===3||o===5)&&u===2?f=-s:f=s),r[0].push(f);var l;(u&1)===0?l=0:(o=e.andln(7)+a&7,(o===3||o===5)&&s===2?l=-u:l=u),r[1].push(l),2*n===f+1&&(n=1-n),2*a===l+1&&(a=1-a),t.iushrn(1),e.iushrn(1)}return r}ul.getJSF=sst;function ust(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}ul.cachedProperty=ust;function fst(t){return typeof t=="string"?ul.toArray(t,"hex"):t}ul.parseBytes=fst;function lst(t){return new ist(t,"hex","le")}ul.intFromLE=lst});var c2=Ee((Tnr,Iae)=>{"use strict";w();_();var Qm=dc(),l2=su(),X3=l2.getNAF,cst=l2.getJSF,Q3=l2.assert;function Yp(t,e){this.type=t,this.p=new Qm(e.p,16),this.red=e.prime?Qm.red(e.prime):Qm.mont(this.p),this.zero=new Qm(0).toRed(this.red),this.one=new Qm(1).toRed(this.red),this.two=new Qm(2).toRed(this.red),this.n=e.n&&new Qm(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Iae.exports=Yp;Yp.prototype.point=function(){throw new Error("Not implemented")};Yp.prototype.validate=function(){throw new Error("Not implemented")};Yp.prototype._fixedNafMul=function(e,r){Q3(e.precomputed);var n=e._getDoubles(),a=X3(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],u,f;for(u=0;u<a.length;u+=n.step){f=0;for(var l=u+n.step-1;l>=u;l--)f=(f<<1)+a[l];s.push(f)}for(var c=this.jpoint(null,null,null),h=this.jpoint(null,null,null),m=o;m>0;m--){for(u=0;u<s.length;u++)f=s[u],f===m?h=h.mixedAdd(n.points[u]):f===-m&&(h=h.mixedAdd(n.points[u].neg()));c=c.add(h)}return c.toP()};Yp.prototype._wnafMul=function(e,r){var n=4,a=e._getNAFPoints(n);n=a.wnd;for(var o=a.points,s=X3(r,n,this._bitLength),u=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var l=0;f>=0&&s[f]===0;f--)l++;if(f>=0&&l++,u=u.dblp(l),f<0)break;var c=s[f];Q3(c!==0),e.type==="affine"?c>0?u=u.mixedAdd(o[c-1>>1]):u=u.mixedAdd(o[-c-1>>1].neg()):c>0?u=u.add(o[c-1>>1]):u=u.add(o[-c-1>>1].neg())}return e.type==="affine"?u.toP():u};Yp.prototype._wnafMulAdd=function(e,r,n,a,o){var s=this._wnafT1,u=this._wnafT2,f=this._wnafT3,l=0,c,h,m;for(c=0;c<a;c++){m=r[c];var g=m._getNAFPoints(e);s[c]=g.wnd,u[c]=g.points}for(c=a-1;c>=1;c-=2){var b=c-1,A=c;if(s[b]!==1||s[A]!==1){f[b]=X3(n[b],s[b],this._bitLength),f[A]=X3(n[A],s[A],this._bitLength),l=Math.max(f[b].length,l),l=Math.max(f[A].length,l);continue}var I=[r[b],null,null,r[A]];r[b].y.cmp(r[A].y)===0?(I[1]=r[b].add(r[A]),I[2]=r[b].toJ().mixedAdd(r[A].neg())):r[b].y.cmp(r[A].y.redNeg())===0?(I[1]=r[b].toJ().mixedAdd(r[A]),I[2]=r[b].add(r[A].neg())):(I[1]=r[b].toJ().mixedAdd(r[A]),I[2]=r[b].toJ().mixedAdd(r[A].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],R=cst(n[b],n[A]);for(l=Math.max(R[0].length,l),f[b]=new Array(l),f[A]=new Array(l),h=0;h<l;h++){var O=R[0][h]|0,F=R[1][h]|0;f[b][h]=C[(O+1)*3+(F+1)],f[A][h]=0,u[b]=I}}var z=this.jpoint(null,null,null),B=this._wnafT4;for(c=l;c>=0;c--){for(var $=0;c>=0;){var j=!0;for(h=0;h<a;h++)B[h]=f[h][c]|0,B[h]!==0&&(j=!1);if(!j)break;$++,c--}if(c>=0&&$++,z=z.dblp($),c<0)break;for(h=0;h<a;h++){var W=B[h];W!==0&&(W>0?m=u[h][W-1>>1]:W<0&&(m=u[h][-W-1>>1].neg()),m.type==="affine"?z=z.mixedAdd(m):z=z.add(m))}}for(c=0;c<a;c++)u[c]=null;return o?z:z.toP()};function Yu(t,e){this.curve=t,this.type=e,this.precomputed=null}Yp.BasePoint=Yu;Yu.prototype.eq=function(){throw new Error("Not implemented")};Yu.prototype.validate=function(){return this.curve.validate(this)};Yp.prototype.decodePoint=function(e,r){e=l2.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Q3(e[e.length-1]%2===0):e[0]===7&&Q3(e[e.length-1]%2===1);var a=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return a}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Yu.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Yu.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Yu.prototype.encode=function(e,r){return l2.encode(this._encode(r),e)};Yu.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Yu.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Yu.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],a=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)a=a.dbl();n.push(a)}return{step:e,points:n}};Yu.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,a=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(a);return{wnd:e,points:r}};Yu.prototype._getBeta=function(){return null};Yu.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var Oae=Ee((Dnr,Cae)=>{"use strict";w();_();var hst=su(),Da=dc(),uF=xr(),Hg=c2(),pst=hst.assert;function Xu(t){Hg.call(this,"short",t),this.a=new Da(t.a,16).toRed(this.red),this.b=new Da(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}uF(Xu,Hg);Cae.exports=Xu;Xu.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Da(e.beta,16).toRed(this.red);else{var a=this._getEndoRoots(this.p);r=a[0].cmp(a[1])<0?a[0]:a[1],r=r.toRed(this.red)}if(e.lambda)n=new Da(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],pst(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(u){return{a:new Da(u.a,16),b:new Da(u.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Xu.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Da.mont(e),n=new Da(2).toRed(r).redInvm(),a=n.redNeg(),o=new Da(3).toRed(r).redNeg().redSqrt().redMul(n),s=a.redAdd(o).fromRed(),u=a.redSub(o).fromRed();return[s,u]};Xu.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,a=this.n.clone(),o=new Da(1),s=new Da(0),u=new Da(0),f=new Da(1),l,c,h,m,g,b,A,I=0,C,R;n.cmpn(0)!==0;){var O=a.div(n);C=a.sub(O.mul(n)),R=u.sub(O.mul(o));var F=f.sub(O.mul(s));if(!h&&C.cmp(r)<0)l=A.neg(),c=o,h=C.neg(),m=R;else if(h&&++I===2)break;A=C,a=n,n=C,u=o,o=R,f=s,s=F}g=C.neg(),b=R;var z=h.sqr().add(m.sqr()),B=g.sqr().add(b.sqr());return B.cmp(z)>=0&&(g=l,b=c),h.negative&&(h=h.neg(),m=m.neg()),g.negative&&(g=g.neg(),b=b.neg()),[{a:h,b:m},{a:g,b}]};Xu.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],a=r[1],o=a.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),u=o.mul(n.a),f=s.mul(a.a),l=o.mul(n.b),c=s.mul(a.b),h=e.sub(u).sub(f),m=l.add(c).neg();return{k1:h,k2:m}};Xu.prototype.pointFromX=function(e,r){e=new Da(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),a=n.redSqrt();if(a.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=a.fromRed().isOdd();return(r&&!o||!r&&o)&&(a=a.redNeg()),this.point(e,a)};Xu.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,a=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(a).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Xu.prototype._endoWnafMulAdd=function(e,r,n){for(var a=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var u=this._endoSplit(r[s]),f=e[s],l=f._getBeta();u.k1.negative&&(u.k1.ineg(),f=f.neg(!0)),u.k2.negative&&(u.k2.ineg(),l=l.neg(!0)),a[s*2]=f,a[s*2+1]=l,o[s*2]=u.k1,o[s*2+1]=u.k2}for(var c=this._wnafMulAdd(1,a,o,s*2,n),h=0;h<s*2;h++)a[h]=null,o[h]=null;return c};function co(t,e,r,n){Hg.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Da(e,16),this.y=new Da(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}uF(co,Hg.BasePoint);Xu.prototype.point=function(e,r,n){return new co(this,e,r,n)};Xu.prototype.pointFromJSON=function(e,r){return co.fromJSON(this,e,r)};co.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,a=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(a)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(a)}}}return r}};co.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};co.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var a=e.point(r[0],r[1],n);if(!r[2])return a;function o(u){return e.point(u[0],u[1],n)}var s=r[2];return a.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[a].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[a].concat(s.naf.points.map(o))}},a};co.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};co.prototype.isInfinity=function(){return this.inf};co.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),a=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,a)};co.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),a=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(a),s=o.redSqr().redISub(this.x.redAdd(this.x)),u=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,u)};co.prototype.getX=function(){return this.x.fromRed()};co.prototype.getY=function(){return this.y.fromRed()};co.prototype.mul=function(e){return e=new Da(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};co.prototype.mulAdd=function(e,r,n){var a=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,o):this.curve._wnafMulAdd(1,a,o,2)};co.prototype.jmulAdd=function(e,r,n){var a=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,o,!0):this.curve._wnafMulAdd(1,a,o,2,!0)};co.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};co.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,a=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(a)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(a)}}}return r};co.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Oo(t,e,r,n){Hg.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Da(0)):(this.x=new Da(e,16),this.y=new Da(r,16),this.z=new Da(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}uF(Oo,Hg.BasePoint);Xu.prototype.jpoint=function(e,r,n){return new Oo(this,e,r,n)};Oo.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),a=this.y.redMul(r).redMul(e);return this.curve.point(n,a)};Oo.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Oo.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),a=this.x.redMul(r),o=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),u=e.y.redMul(n.redMul(this.z)),f=a.redSub(o),l=s.redSub(u);if(f.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=f.redSqr(),h=c.redMul(f),m=a.redMul(c),g=l.redSqr().redIAdd(h).redISub(m).redISub(m),b=l.redMul(m.redISub(g)).redISub(s.redMul(h)),A=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(g,b,A)};Oo.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,a=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),u=n.redSub(a),f=o.redSub(s);if(u.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=u.redSqr(),c=l.redMul(u),h=n.redMul(l),m=f.redSqr().redIAdd(c).redISub(h).redISub(h),g=f.redMul(h.redISub(m)).redISub(o.redMul(c)),b=this.z.redMul(u);return this.curve.jpoint(m,g,b)};Oo.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var a=this.curve.a,o=this.curve.tinv,s=this.x,u=this.y,f=this.z,l=f.redSqr().redSqr(),c=u.redAdd(u);for(r=0;r<e;r++){var h=s.redSqr(),m=c.redSqr(),g=m.redSqr(),b=h.redAdd(h).redIAdd(h).redIAdd(a.redMul(l)),A=s.redMul(m),I=b.redSqr().redISub(A.redAdd(A)),C=A.redISub(I),R=b.redMul(C);R=R.redIAdd(R).redISub(g);var O=c.redMul(f);r+1<e&&(l=l.redMul(g)),s=I,f=O,c=R}return this.curve.jpoint(s,c.redMul(o),f)};Oo.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Oo.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var a=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),u=this.x.redAdd(o).redSqr().redISub(a).redISub(s);u=u.redIAdd(u);var f=a.redAdd(a).redIAdd(a),l=f.redSqr().redISub(u).redISub(u),c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),e=l,r=f.redMul(u.redISub(l)).redISub(c),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),m=this.y.redSqr(),g=m.redSqr(),b=this.x.redAdd(m).redSqr().redISub(h).redISub(g);b=b.redIAdd(b);var A=h.redAdd(h).redIAdd(h),I=A.redSqr(),C=g.redIAdd(g);C=C.redIAdd(C),C=C.redIAdd(C),e=I.redISub(b).redISub(b),r=A.redMul(b.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Oo.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var a=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),u=this.x.redAdd(o).redSqr().redISub(a).redISub(s);u=u.redIAdd(u);var f=a.redAdd(a).redIAdd(a).redIAdd(this.curve.a),l=f.redSqr().redISub(u).redISub(u);e=l;var c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),r=f.redMul(u.redISub(l)).redISub(c),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),m=this.y.redSqr(),g=this.x.redMul(m),b=this.x.redSub(h).redMul(this.x.redAdd(h));b=b.redAdd(b).redIAdd(b);var A=g.redIAdd(g);A=A.redIAdd(A);var I=A.redAdd(A);e=b.redSqr().redISub(I),n=this.y.redAdd(this.z).redSqr().redISub(m).redISub(h);var C=m.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=b.redMul(A.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)};Oo.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,a=this.z,o=a.redSqr().redSqr(),s=r.redSqr(),u=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),l=r.redAdd(r);l=l.redIAdd(l);var c=l.redMul(u),h=f.redSqr().redISub(c.redAdd(c)),m=c.redISub(h),g=u.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var b=f.redMul(m).redISub(g),A=n.redAdd(n).redMul(a);return this.curve.jpoint(h,b,A)};Oo.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),a=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),u=this.x.redAdd(r).redSqr().redISub(e).redISub(a);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(s);var f=u.redSqr(),l=a.redIAdd(a);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var c=o.redIAdd(u).redSqr().redISub(s).redISub(f).redISub(l),h=r.redMul(c);h=h.redIAdd(h),h=h.redIAdd(h);var m=this.x.redMul(f).redISub(h);m=m.redIAdd(m),m=m.redIAdd(m);var g=this.y.redMul(c.redMul(l.redISub(c)).redISub(u.redMul(f)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var b=this.z.redAdd(u).redSqr().redISub(n).redISub(f);return this.curve.jpoint(m,g,b)};Oo.prototype.mul=function(e,r){return e=new Da(e,r),this.curve._wnafMul(this,e)};Oo.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var a=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(a)).cmpn(0)===0};Oo.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var a=e.clone(),o=this.curve.redN.redMul(r);;){if(a.iadd(this.curve.n),a.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Oo.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Oo.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var Bae=Ee((knr,Fae)=>{"use strict";w();_();var Kg=dc(),Rae=xr(),eN=c2(),dst=su();function Zg(t){eN.call(this,"mont",t),this.a=new Kg(t.a,16).toRed(this.red),this.b=new Kg(t.b,16).toRed(this.red),this.i4=new Kg(4).toRed(this.red).redInvm(),this.two=new Kg(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Rae(Zg,eN);Fae.exports=Zg;Zg.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),a=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),o=a.redSqrt();return o.redSqr().cmp(a)===0};function ho(t,e,r){eN.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Kg(e,16),this.z=new Kg(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Rae(ho,eN.BasePoint);Zg.prototype.decodePoint=function(e,r){return this.point(dst.toArray(e,r),1)};Zg.prototype.point=function(e,r){return new ho(this,e,r)};Zg.prototype.pointFromJSON=function(e){return ho.fromJSON(this,e)};ho.prototype.precompute=function(){};ho.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};ho.fromJSON=function(e,r){return new ho(e,r[0],r[1]||e.one)};ho.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ho.prototype.isInfinity=function(){return this.z.cmpn(0)===0};ho.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),a=n.redSqr(),o=r.redSub(a),s=r.redMul(a),u=o.redMul(a.redAdd(this.curve.a24.redMul(o)));return this.curve.point(s,u)};ho.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};ho.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),a=this.x.redSub(this.z),o=e.x.redAdd(e.z),s=e.x.redSub(e.z),u=s.redMul(n),f=o.redMul(a),l=r.z.redMul(u.redAdd(f).redSqr()),c=r.x.redMul(u.redISub(f).redSqr());return this.curve.point(l,c)};ho.prototype.mul=function(e){for(var r=e.clone(),n=this,a=this.curve.point(null,null),o=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var u=s.length-1;u>=0;u--)s[u]===0?(n=n.diffAdd(a,o),a=a.dbl()):(a=n.diffAdd(a,o),n=n.dbl());return a};ho.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};ho.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};ho.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};ho.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};ho.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var qae=Ee((Inr,Pae)=>{"use strict";w();_();var mst=su(),mh=dc(),Lae=xr(),tN=c2(),vst=mst.assert;function mc(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,tN.call(this,"edwards",t),this.a=new mh(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new mh(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new mh(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),vst(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}Lae(mc,tN);Pae.exports=mc;mc.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};mc.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};mc.prototype.jpoint=function(e,r,n,a){return this.point(e,r,n,a)};mc.prototype.pointFromX=function(e,r){e=new mh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),a=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=a.redMul(o.redInvm()),u=s.redSqrt();if(u.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=u.fromRed().isOdd();return(r&&!f||!r&&f)&&(u=u.redNeg()),this.point(e,u)};mc.prototype.pointFromY=function(e,r){e=new mh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),a=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=a.redMul(o.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var u=s.redSqrt();if(u.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return u.fromRed().isOdd()!==r&&(u=u.redNeg()),this.point(u,e)};mc.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),a=r.redMul(this.a).redAdd(n),o=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return a.cmp(o)===0};function Ri(t,e,r,n,a){tN.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new mh(e,16),this.y=new mh(r,16),this.z=n?new mh(n,16):this.curve.one,this.t=a&&new mh(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Lae(Ri,tN.BasePoint);mc.prototype.pointFromJSON=function(e){return Ri.fromJSON(this,e)};mc.prototype.point=function(e,r,n,a){return new Ri(this,e,r,n,a)};Ri.fromJSON=function(e,r){return new Ri(e,r[0],r[1],r[2])};Ri.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ri.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ri.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var a=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=a.redAdd(r),u=s.redSub(n),f=a.redSub(r),l=o.redMul(u),c=s.redMul(f),h=o.redMul(f),m=u.redMul(s);return this.curve.point(l,c,m,h)};Ri.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),a,o,s,u,f,l;if(this.curve.twisted){u=this.curve._mulA(r);var c=u.redAdd(n);this.zOne?(a=e.redSub(r).redSub(n).redMul(c.redSub(this.curve.two)),o=c.redMul(u.redSub(n)),s=c.redSqr().redSub(c).redSub(c)):(f=this.z.redSqr(),l=c.redSub(f).redISub(f),a=e.redSub(r).redISub(n).redMul(l),o=c.redMul(u.redSub(n)),s=c.redMul(l))}else u=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),l=u.redSub(f).redSub(f),a=this.curve._mulC(e.redISub(u)).redMul(l),o=this.curve._mulC(u).redMul(r.redISub(n)),s=u.redMul(l);return this.curve.point(a,o,s)};Ri.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ri.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),a=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),u=o.redSub(a),f=o.redAdd(a),l=n.redAdd(r),c=s.redMul(u),h=f.redMul(l),m=s.redMul(l),g=u.redMul(f);return this.curve.point(c,h,g,m)};Ri.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),a=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(a).redMul(o),u=n.redSub(s),f=n.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(o),c=r.redMul(u).redMul(l),h,m;return this.curve.twisted?(h=r.redMul(f).redMul(o.redSub(this.curve._mulA(a))),m=u.redMul(f)):(h=r.redMul(f).redMul(o.redSub(a)),m=this.curve._mulC(u).redMul(f)),this.curve.point(c,h,m)};Ri.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Ri.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Ri.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Ri.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Ri.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Ri.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ri.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ri.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ri.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Ri.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),a=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),this.x.cmp(r)===0)return!0}};Ri.prototype.toP=Ri.prototype.normalize;Ri.prototype.mixedAdd=Ri.prototype.add});var fF=Ee(zae=>{"use strict";w();_();var rN=zae;rN.base=c2();rN.short=Oae();rN.mont=Bae();rN.edwards=qae()});var fl=Ee(Si=>{"use strict";w();_();var gst=ou(),yst=xr();Si.inherits=yst;function bst(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function wst(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),a=0;a<t.length;a+=2)r.push(parseInt(t[a]+t[a+1],16))}else for(var n=0,a=0;a<t.length;a++){var o=t.charCodeAt(a);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):bst(t,a)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++a)&1023),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128)}else for(a=0;a<t.length;a++)r[a]=t[a]|0;return r}Si.toArray=wst;function xst(t){for(var e="",r=0;r<t.length;r++)e+=jae(t[r].toString(16));return e}Si.toHex=xst;function Uae(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Si.htonl=Uae;function _st(t,e){for(var r="",n=0;n<t.length;n++){var a=t[n];e==="little"&&(a=Uae(a)),r+=$ae(a.toString(16))}return r}Si.toHex32=_st;function jae(t){return t.length===1?"0"+t:t}Si.zero2=jae;function $ae(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Si.zero8=$ae;function Sst(t,e,r,n){var a=r-e;gst(a%4===0);for(var o=new Array(a/4),s=0,u=e;s<o.length;s++,u+=4){var f;n==="big"?f=t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:f=t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],o[s]=f>>>0}return o}Si.join32=Sst;function Est(t,e){for(var r=new Array(t.length*4),n=0,a=0;n<t.length;n++,a+=4){var o=t[n];e==="big"?(r[a]=o>>>24,r[a+1]=o>>>16&255,r[a+2]=o>>>8&255,r[a+3]=o&255):(r[a+3]=o>>>24,r[a+2]=o>>>16&255,r[a+1]=o>>>8&255,r[a]=o&255)}return r}Si.split32=Est;function Mst(t,e){return t>>>e|t<<32-e}Si.rotr32=Mst;function Ast(t,e){return t<<e|t>>>32-e}Si.rotl32=Ast;function Nst(t,e){return t+e>>>0}Si.sum32=Nst;function Tst(t,e,r){return t+e+r>>>0}Si.sum32_3=Tst;function Dst(t,e,r,n){return t+e+r+n>>>0}Si.sum32_4=Dst;function kst(t,e,r,n,a){return t+e+r+n+a>>>0}Si.sum32_5=kst;function Ist(t,e,r,n){var a=t[e],o=t[e+1],s=n+o>>>0,u=(s<n?1:0)+r+a;t[e]=u>>>0,t[e+1]=s}Si.sum64=Ist;function Cst(t,e,r,n){var a=e+n>>>0,o=(a<e?1:0)+t+r;return o>>>0}Si.sum64_hi=Cst;function Ost(t,e,r,n){var a=e+n;return a>>>0}Si.sum64_lo=Ost;function Rst(t,e,r,n,a,o,s,u){var f=0,l=e;l=l+n>>>0,f+=l<e?1:0,l=l+o>>>0,f+=l<o?1:0,l=l+u>>>0,f+=l<u?1:0;var c=t+r+a+s+f;return c>>>0}Si.sum64_4_hi=Rst;function Fst(t,e,r,n,a,o,s,u){var f=e+n+o+u;return f>>>0}Si.sum64_4_lo=Fst;function Bst(t,e,r,n,a,o,s,u,f,l){var c=0,h=e;h=h+n>>>0,c+=h<e?1:0,h=h+o>>>0,c+=h<o?1:0,h=h+u>>>0,c+=h<u?1:0,h=h+l>>>0,c+=h<l?1:0;var m=t+r+a+s+f+c;return m>>>0}Si.sum64_5_hi=Bst;function Lst(t,e,r,n,a,o,s,u,f,l){var c=e+n+o+u+l;return c>>>0}Si.sum64_5_lo=Lst;function Pst(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Si.rotr64_hi=Pst;function qst(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Si.rotr64_lo=qst;function zst(t,e,r){return t>>>r}Si.shr64_hi=zst;function Ust(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Si.shr64_lo=Ust});var Jg=Ee(Wae=>{"use strict";w();_();var Vae=fl(),jst=ou();function nN(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Wae.BlockHash=nN;nN.prototype.update=function(e,r){if(e=Vae.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Vae.join32(e,0,e.length-n,this.endian);for(var a=0;a<e.length;a+=this._delta32)this._update(e,a,a+this._delta32)}return this};nN.prototype.digest=function(e){return this.update(this._pad()),jst(this.pending===null),this._digest(e)};nN.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,a=new Array(n+this.padLength);a[0]=128;for(var o=1;o<n;o++)a[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)a[o++]=0;a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=e>>>24&255,a[o++]=e>>>16&255,a[o++]=e>>>8&255,a[o++]=e&255}else for(a[o++]=e&255,a[o++]=e>>>8&255,a[o++]=e>>>16&255,a[o++]=e>>>24&255,a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=0,s=8;s<this.padLength;s++)a[o++]=0;return a}});var lF=Ee(vh=>{"use strict";w();_();var $st=fl(),vc=$st.rotr32;function Vst(t,e,r,n){if(t===0)return Gae(e,r,n);if(t===1||t===3)return Kae(e,r,n);if(t===2)return Hae(e,r,n)}vh.ft_1=Vst;function Gae(t,e,r){return t&e^~t&r}vh.ch32=Gae;function Hae(t,e,r){return t&e^t&r^e&r}vh.maj32=Hae;function Kae(t,e,r){return t^e^r}vh.p32=Kae;function Wst(t){return vc(t,2)^vc(t,13)^vc(t,22)}vh.s0_256=Wst;function Gst(t){return vc(t,6)^vc(t,11)^vc(t,25)}vh.s1_256=Gst;function Hst(t){return vc(t,7)^vc(t,18)^t>>>3}vh.g0_256=Hst;function Kst(t){return vc(t,17)^vc(t,19)^t>>>10}vh.g1_256=Kst});var Yae=Ee((Bnr,Jae)=>{"use strict";w();_();var Yg=fl(),Zst=Jg(),Jst=lF(),cF=Yg.rotl32,h2=Yg.sum32,Yst=Yg.sum32_5,Xst=Jst.ft_1,Zae=Zst.BlockHash,Qst=[1518500249,1859775393,2400959708,3395469782];function gc(){if(!(this instanceof gc))return new gc;Zae.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Yg.inherits(gc,Zae);Jae.exports=gc;gc.blockSize=512;gc.outSize=160;gc.hmacStrength=80;gc.padLength=64;gc.prototype._update=function(e,r){for(var n=this.W,a=0;a<16;a++)n[a]=e[r+a];for(;a<n.length;a++)n[a]=cF(n[a-3]^n[a-8]^n[a-14]^n[a-16],1);var o=this.h[0],s=this.h[1],u=this.h[2],f=this.h[3],l=this.h[4];for(a=0;a<n.length;a++){var c=~~(a/20),h=Yst(cF(o,5),Xst(c,s,u,f),l,n[a],Qst[c]);l=f,f=u,u=cF(s,30),s=o,o=h}this.h[0]=h2(this.h[0],o),this.h[1]=h2(this.h[1],s),this.h[2]=h2(this.h[2],u),this.h[3]=h2(this.h[3],f),this.h[4]=h2(this.h[4],l)};gc.prototype._digest=function(e){return e==="hex"?Yg.toHex32(this.h,"big"):Yg.split32(this.h,"big")}});var hF=Ee((Lnr,Qae)=>{"use strict";w();_();var Xg=fl(),eut=Jg(),Qg=lF(),tut=ou(),ll=Xg.sum32,rut=Xg.sum32_4,nut=Xg.sum32_5,iut=Qg.ch32,aut=Qg.maj32,out=Qg.s0_256,sut=Qg.s1_256,uut=Qg.g0_256,fut=Qg.g1_256,Xae=eut.BlockHash,lut=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yc(){if(!(this instanceof yc))return new yc;Xae.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=lut,this.W=new Array(64)}Xg.inherits(yc,Xae);Qae.exports=yc;yc.blockSize=512;yc.outSize=256;yc.hmacStrength=192;yc.padLength=64;yc.prototype._update=function(e,r){for(var n=this.W,a=0;a<16;a++)n[a]=e[r+a];for(;a<n.length;a++)n[a]=rut(fut(n[a-2]),n[a-7],uut(n[a-15]),n[a-16]);var o=this.h[0],s=this.h[1],u=this.h[2],f=this.h[3],l=this.h[4],c=this.h[5],h=this.h[6],m=this.h[7];for(tut(this.k.length===n.length),a=0;a<n.length;a++){var g=nut(m,sut(l),iut(l,c,h),this.k[a],n[a]),b=ll(out(o),aut(o,s,u));m=h,h=c,c=l,l=ll(f,g),f=u,u=s,s=o,o=ll(g,b)}this.h[0]=ll(this.h[0],o),this.h[1]=ll(this.h[1],s),this.h[2]=ll(this.h[2],u),this.h[3]=ll(this.h[3],f),this.h[4]=ll(this.h[4],l),this.h[5]=ll(this.h[5],c),this.h[6]=ll(this.h[6],h),this.h[7]=ll(this.h[7],m)};yc.prototype._digest=function(e){return e==="hex"?Xg.toHex32(this.h,"big"):Xg.split32(this.h,"big")}});var roe=Ee((Pnr,toe)=>{"use strict";w();_();var pF=fl(),eoe=hF();function gh(){if(!(this instanceof gh))return new gh;eoe.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}pF.inherits(gh,eoe);toe.exports=gh;gh.blockSize=512;gh.outSize=224;gh.hmacStrength=192;gh.padLength=64;gh.prototype._digest=function(e){return e==="hex"?pF.toHex32(this.h.slice(0,7),"big"):pF.split32(this.h.slice(0,7),"big")}});var vF=Ee((qnr,ooe)=>{"use strict";w();_();var Rs=fl(),cut=Jg(),hut=ou(),bc=Rs.rotr64_hi,wc=Rs.rotr64_lo,noe=Rs.shr64_hi,ioe=Rs.shr64_lo,Xp=Rs.sum64,dF=Rs.sum64_hi,mF=Rs.sum64_lo,put=Rs.sum64_4_hi,dut=Rs.sum64_4_lo,mut=Rs.sum64_5_hi,vut=Rs.sum64_5_lo,aoe=cut.BlockHash,gut=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function cl(){if(!(this instanceof cl))return new cl;aoe.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=gut,this.W=new Array(160)}Rs.inherits(cl,aoe);ooe.exports=cl;cl.blockSize=1024;cl.outSize=512;cl.hmacStrength=192;cl.padLength=128;cl.prototype._prepareBlock=function(e,r){for(var n=this.W,a=0;a<32;a++)n[a]=e[r+a];for(;a<n.length;a+=2){var o=Tut(n[a-4],n[a-3]),s=Dut(n[a-4],n[a-3]),u=n[a-14],f=n[a-13],l=Aut(n[a-30],n[a-29]),c=Nut(n[a-30],n[a-29]),h=n[a-32],m=n[a-31];n[a]=put(o,s,u,f,l,c,h,m),n[a+1]=dut(o,s,u,f,l,c,h,m)}};cl.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,a=this.h[0],o=this.h[1],s=this.h[2],u=this.h[3],f=this.h[4],l=this.h[5],c=this.h[6],h=this.h[7],m=this.h[8],g=this.h[9],b=this.h[10],A=this.h[11],I=this.h[12],C=this.h[13],R=this.h[14],O=this.h[15];hut(this.k.length===n.length);for(var F=0;F<n.length;F+=2){var z=R,B=O,$=Eut(m,g),j=Mut(m,g),W=yut(m,g,b,A,I,C),T=but(m,g,b,A,I,C),p=this.k[F],v=this.k[F+1],S=n[F],y=n[F+1],M=mut(z,B,$,j,W,T,p,v,S,y),D=vut(z,B,$,j,W,T,p,v,S,y);z=_ut(a,o),B=Sut(a,o),$=wut(a,o,s,u,f,l),j=xut(a,o,s,u,f,l);var k=dF(z,B,$,j),E=mF(z,B,$,j);R=I,O=C,I=b,C=A,b=m,A=g,m=dF(c,h,M,D),g=mF(h,h,M,D),c=f,h=l,f=s,l=u,s=a,u=o,a=dF(M,D,k,E),o=mF(M,D,k,E)}Xp(this.h,0,a,o),Xp(this.h,2,s,u),Xp(this.h,4,f,l),Xp(this.h,6,c,h),Xp(this.h,8,m,g),Xp(this.h,10,b,A),Xp(this.h,12,I,C),Xp(this.h,14,R,O)};cl.prototype._digest=function(e){return e==="hex"?Rs.toHex32(this.h,"big"):Rs.split32(this.h,"big")};function yut(t,e,r,n,a){var o=t&r^~t&a;return o<0&&(o+=4294967296),o}function but(t,e,r,n,a,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function wut(t,e,r,n,a){var o=t&r^t&a^r&a;return o<0&&(o+=4294967296),o}function xut(t,e,r,n,a,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function _ut(t,e){var r=bc(t,e,28),n=bc(e,t,2),a=bc(e,t,7),o=r^n^a;return o<0&&(o+=4294967296),o}function Sut(t,e){var r=wc(t,e,28),n=wc(e,t,2),a=wc(e,t,7),o=r^n^a;return o<0&&(o+=4294967296),o}function Eut(t,e){var r=bc(t,e,14),n=bc(t,e,18),a=bc(e,t,9),o=r^n^a;return o<0&&(o+=4294967296),o}function Mut(t,e){var r=wc(t,e,14),n=wc(t,e,18),a=wc(e,t,9),o=r^n^a;return o<0&&(o+=4294967296),o}function Aut(t,e){var r=bc(t,e,1),n=bc(t,e,8),a=noe(t,e,7),o=r^n^a;return o<0&&(o+=4294967296),o}function Nut(t,e){var r=wc(t,e,1),n=wc(t,e,8),a=ioe(t,e,7),o=r^n^a;return o<0&&(o+=4294967296),o}function Tut(t,e){var r=bc(t,e,19),n=bc(e,t,29),a=noe(t,e,6),o=r^n^a;return o<0&&(o+=4294967296),o}function Dut(t,e){var r=wc(t,e,19),n=wc(e,t,29),a=ioe(t,e,6),o=r^n^a;return o<0&&(o+=4294967296),o}});var foe=Ee((znr,uoe)=>{"use strict";w();_();var gF=fl(),soe=vF();function yh(){if(!(this instanceof yh))return new yh;soe.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}gF.inherits(yh,soe);uoe.exports=yh;yh.blockSize=1024;yh.outSize=384;yh.hmacStrength=192;yh.padLength=128;yh.prototype._digest=function(e){return e==="hex"?gF.toHex32(this.h.slice(0,12),"big"):gF.split32(this.h.slice(0,12),"big")}});var loe=Ee(ey=>{"use strict";w();_();ey.sha1=Yae();ey.sha224=roe();ey.sha256=hF();ey.sha384=foe();ey.sha512=vF()});var voe=Ee(moe=>{"use strict";w();_();var e0=fl(),kut=Jg(),iN=e0.rotl32,coe=e0.sum32,p2=e0.sum32_3,hoe=e0.sum32_4,doe=kut.BlockHash;function xc(){if(!(this instanceof xc))return new xc;doe.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e0.inherits(xc,doe);moe.ripemd160=xc;xc.blockSize=512;xc.outSize=160;xc.hmacStrength=192;xc.padLength=64;xc.prototype._update=function(e,r){for(var n=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4],f=n,l=a,c=o,h=s,m=u,g=0;g<80;g++){var b=coe(iN(hoe(n,poe(g,a,o,s),e[Out[g]+r],Iut(g)),Fut[g]),u);n=u,u=s,s=iN(o,10),o=a,a=b,b=coe(iN(hoe(f,poe(79-g,l,c,h),e[Rut[g]+r],Cut(g)),But[g]),m),f=m,m=h,h=iN(c,10),c=l,l=b}b=p2(this.h[1],o,h),this.h[1]=p2(this.h[2],s,m),this.h[2]=p2(this.h[3],u,f),this.h[3]=p2(this.h[4],n,l),this.h[4]=p2(this.h[0],a,c),this.h[0]=b};xc.prototype._digest=function(e){return e==="hex"?e0.toHex32(this.h,"little"):e0.split32(this.h,"little")};function poe(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function Iut(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Cut(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Out=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Rut=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Fut=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],But=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var yoe=Ee(($nr,goe)=>{"use strict";w();_();var Lut=fl(),Put=ou();function ty(t,e,r){if(!(this instanceof ty))return new ty(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Lut.toArray(e,r))}goe.exports=ty;ty.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Put(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};ty.prototype.update=function(e,r){return this.inner.update(e,r),this};ty.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var aN=Ee(boe=>{w();_();var Ro=boe;Ro.utils=fl();Ro.common=Jg();Ro.sha=loe();Ro.ripemd=voe();Ro.hmac=yoe();Ro.sha1=Ro.sha.sha1;Ro.sha256=Ro.sha.sha256;Ro.sha224=Ro.sha.sha224;Ro.sha384=Ro.sha.sha384;Ro.sha512=Ro.sha.sha512;Ro.ripemd160=Ro.ripemd.ripemd160});var xoe=Ee((Wnr,woe)=>{w();_();woe.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var oN=Ee(Eoe=>{"use strict";w();_();var bF=Eoe,Qp=aN(),yF=fF(),qut=su(),_oe=qut.assert;function Soe(t){t.type==="short"?this.curve=new yF.short(t):t.type==="edwards"?this.curve=new yF.edwards(t):this.curve=new yF.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,_oe(this.g.validate(),"Invalid curve"),_oe(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}bF.PresetCurve=Soe;function ed(t,e){Object.defineProperty(bF,t,{configurable:!0,enumerable:!0,get:function(){var r=new Soe(e);return Object.defineProperty(bF,t,{configurable:!0,enumerable:!0,value:r}),r}})}ed("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Qp.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});ed("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Qp.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});ed("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Qp.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});ed("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Qp.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});ed("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Qp.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});ed("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Qp.sha256,gRed:!1,g:["9"]});ed("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Qp.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var wF;try{wF=xoe()}catch(t){wF=void 0}ed("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Qp.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",wF]})});var Noe=Ee((Hnr,Aoe)=>{"use strict";w();_();var zut=aN(),t0=sF(),Moe=ou();function td(t){if(!(this instanceof td))return new td(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=t0.toArray(t.entropy,t.entropyEnc||"hex"),r=t0.toArray(t.nonce,t.nonceEnc||"hex"),n=t0.toArray(t.pers,t.persEnc||"hex");Moe(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}Aoe.exports=td;td.prototype._init=function(e,r,n){var a=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(a),this._reseed=1,this.reseedInterval=281474976710656};td.prototype._hmac=function(){return new zut.hmac(this.hash,this.K)};td.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};td.prototype.reseed=function(e,r,n,a){typeof r!="string"&&(a=n,n=r,r=null),e=t0.toArray(e,r),n=t0.toArray(n,a),Moe(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};td.prototype.generate=function(e,r,n,a){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(a=n,n=r,r=null),n&&(n=t0.toArray(n,a||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,t0.encode(s,r)}});var Doe=Ee((Knr,Toe)=>{"use strict";w();_();var Uut=dc(),jut=su(),xF=jut.assert;function Jo(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}Toe.exports=Jo;Jo.fromPublic=function(e,r,n){return r instanceof Jo?r:new Jo(e,{pub:r,pubEnc:n})};Jo.fromPrivate=function(e,r,n){return r instanceof Jo?r:new Jo(e,{priv:r,privEnc:n})};Jo.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Jo.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Jo.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Jo.prototype._importPrivate=function(e,r){this.priv=new Uut(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Jo.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?xF(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&xF(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Jo.prototype.derive=function(e){return e.validate()||xF(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Jo.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Jo.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Jo.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var Coe=Ee((Znr,Ioe)=>{"use strict";w();_();var sN=dc(),EF=su(),$ut=EF.assert;function uN(t,e){if(t instanceof uN)return t;this._importDER(t,e)||($ut(t.r&&t.s,"Signature without r or s"),this.r=new sN(t.r,16),this.s=new sN(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}Ioe.exports=uN;function Vut(){this.place=0}function _F(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var a=0,o=0,s=e.place;o<n;o++,s++)a<<=8,a|=t[s],a>>>=0;return a<=127?!1:(e.place=s,a)}function koe(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}uN.prototype._importDER=function(e,r){e=EF.toArray(e,r);var n=new Vut;if(e[n.place++]!==48)return!1;var a=_F(e,n);if(a===!1||a+n.place!==e.length||e[n.place++]!==2)return!1;var o=_F(e,n);if(o===!1)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var u=_F(e,n);if(u===!1||e.length!==u+n.place)return!1;var f=e.slice(n.place,u+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new sN(s),this.s=new sN(f),this.recoveryParam=null,!0};function SF(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}uN.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=koe(r),n=koe(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var a=[2];SF(a,r.length),a=a.concat(r),a.push(2),SF(a,n.length);var o=a.concat(n),s=[48];return SF(s,o.length),s=s.concat(o),EF.encode(s,e)}});var Boe=Ee((Jnr,Foe)=>{"use strict";w();_();var r0=dc(),Ooe=Noe(),Wut=su(),MF=oN(),Gut=D3(),Roe=Wut.assert,AF=Doe(),fN=Coe();function Qu(t){if(!(this instanceof Qu))return new Qu(t);typeof t=="string"&&(Roe(Object.prototype.hasOwnProperty.call(MF,t),"Unknown curve "+t),t=MF[t]),t instanceof MF.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}Foe.exports=Qu;Qu.prototype.keyPair=function(e){return new AF(this,e)};Qu.prototype.keyFromPrivate=function(e,r){return AF.fromPrivate(this,e,r)};Qu.prototype.keyFromPublic=function(e,r){return AF.fromPublic(this,e,r)};Qu.prototype.genKeyPair=function(e){e||(e={});for(var r=new Ooe({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Gut(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),a=this.n.sub(new r0(2));;){var o=new r0(r.generate(n));if(!(o.cmp(a)>0))return o.iaddn(1),this.keyFromPrivate(o)}};Qu.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Qu.prototype.sign=function(e,r,n,a){typeof n=="object"&&(a=n,n=null),a||(a={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new r0(e,16));for(var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),u=e.toArray("be",o),f=new Ooe({hash:this.hash,entropy:s,nonce:u,pers:a.pers,persEnc:a.persEnc||"utf8"}),l=this.n.sub(new r0(1)),c=0;;c++){var h=a.k?a.k(c):new r0(f.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(l)>=0)){var m=this.g.mul(h);if(!m.isInfinity()){var g=m.getX(),b=g.umod(this.n);if(b.cmpn(0)!==0){var A=h.invm(this.n).mul(b.mul(r.getPrivate()).iadd(e));if(A=A.umod(this.n),A.cmpn(0)!==0){var I=(m.getY().isOdd()?1:0)|(g.cmp(b)!==0?2:0);return a.canonical&&A.cmp(this.nh)>0&&(A=this.n.sub(A),I^=1),new fN({r:b,s:A,recoveryParam:I})}}}}}};Qu.prototype.verify=function(e,r,n,a){e=this._truncateToN(new r0(e,16)),n=this.keyFromPublic(n,a),r=new fN(r,"hex");var o=r.r,s=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var u=s.invm(this.n),f=u.mul(e).umod(this.n),l=u.mul(o).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(f,n.getPublic(),l),c.isInfinity()?!1:c.eqXToP(o)):(c=this.g.mulAdd(f,n.getPublic(),l),c.isInfinity()?!1:c.getX().umod(this.n).cmp(o)===0)};Qu.prototype.recoverPubKey=function(t,e,r,n){Roe((3&r)===r,"The recovery param is more than two bits"),e=new fN(e,n);var a=this.n,o=new r0(t),s=e.r,u=e.s,f=r&1,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var c=e.r.invm(a),h=a.sub(o).mul(c).umod(a),m=u.mul(c).umod(a);return this.g.mulAdd(h,s,m)};Qu.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new fN(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var a=0;a<4;a++){var o;try{o=this.recoverPubKey(t,e,a)}catch(s){continue}if(o.eq(r))return a}throw new Error("Unable to find valid recovery factor")}});var zoe=Ee((Ynr,qoe)=>{"use strict";w();_();var d2=su(),Poe=d2.assert,Loe=d2.parseBytes,ry=d2.cachedProperty;function po(t,e){this.eddsa=t,this._secret=Loe(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Loe(e.pub)}po.fromPublic=function(e,r){return r instanceof po?r:new po(e,{pub:r})};po.fromSecret=function(e,r){return r instanceof po?r:new po(e,{secret:r})};po.prototype.secret=function(){return this._secret};ry(po,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});ry(po,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});ry(po,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,a=r.slice(0,e.encodingLength);return a[0]&=248,a[n]&=127,a[n]|=64,a});ry(po,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});ry(po,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});ry(po,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});po.prototype.sign=function(e){return Poe(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};po.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};po.prototype.getSecret=function(e){return Poe(this._secret,"KeyPair is public only"),d2.encode(this.secret(),e)};po.prototype.getPublic=function(e){return d2.encode(this.pubBytes(),e)};qoe.exports=po});var joe=Ee((Xnr,Uoe)=>{"use strict";w();_();var Hut=dc(),lN=su(),Kut=lN.assert,cN=lN.cachedProperty,Zut=lN.parseBytes;function n0(t,e){this.eddsa=t,typeof e!="object"&&(e=Zut(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Kut(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Hut&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}cN(n0,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});cN(n0,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});cN(n0,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});cN(n0,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});n0.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};n0.prototype.toHex=function(){return lN.encode(this.toBytes(),"hex").toUpperCase()};Uoe.exports=n0});var Hoe=Ee((Qnr,Goe)=>{"use strict";w();_();var Jut=aN(),Yut=oN(),ny=su(),Xut=ny.assert,Voe=ny.parseBytes,Woe=zoe(),$oe=joe();function Fs(t){if(Xut(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Fs))return new Fs(t);t=Yut[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Jut.sha512}Goe.exports=Fs;Fs.prototype.sign=function(e,r){e=Voe(e);var n=this.keyFromSecret(r),a=this.hashInt(n.messagePrefix(),e),o=this.g.mul(a),s=this.encodePoint(o),u=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),f=a.add(u).umod(this.curve.n);return this.makeSignature({R:o,S:f,Rencoded:s})};Fs.prototype.verify=function(e,r,n){e=Voe(e),r=this.makeSignature(r);var a=this.keyFromPublic(n),o=this.hashInt(r.Rencoded(),a.pubBytes(),e),s=this.g.mul(r.S()),u=r.R().add(a.pub().mul(o));return u.eq(s)};Fs.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return ny.intFromLE(e.digest()).umod(this.curve.n)};Fs.prototype.keyFromPublic=function(e){return Woe.fromPublic(this,e)};Fs.prototype.keyFromSecret=function(e){return Woe.fromSecret(this,e)};Fs.prototype.makeSignature=function(e){return e instanceof $oe?e:new $oe(this,e)};Fs.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Fs.prototype.decodePoint=function(e){e=ny.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),a=(e[r]&128)!==0,o=ny.intFromLE(n);return this.curve.pointFromY(o,a)};Fs.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Fs.prototype.decodeInt=function(e){return ny.intFromLE(e)};Fs.prototype.isPoint=function(e){return e instanceof this.pointClass}});var hN=Ee(Koe=>{"use strict";w();_();var i0=Koe;i0.version=Mae().version;i0.utils=su();i0.rand=D3();i0.curve=fF();i0.curves=oN();i0.ec=Boe();i0.eddsa=Hoe()});var TF=Ee((Zoe,NF)=>{w();_();(function(t,e){"use strict";function r(T,p){if(!T)throw new Error(p||"Assertion failed")}function n(T,p){T.super_=p;var v=function(){};v.prototype=p.prototype,T.prototype=new v,T.prototype.constructor=T}function a(T,p,v){if(a.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((p==="le"||p==="be")&&(v=p,p=10),this._init(T||0,p||10,v||"be"))}typeof t=="object"?t.exports=a:e.BN=a,a.BN=a,a.wordSize=26;var o;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?o=window.Buffer:o=Oi().Buffer}catch(T){}a.isBN=function(p){return p instanceof a?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===a.wordSize&&Array.isArray(p.words)},a.max=function(p,v){return p.cmp(v)>0?p:v},a.min=function(p,v){return p.cmp(v)<0?p:v},a.prototype._init=function(p,v,S){if(typeof p=="number")return this._initNumber(p,v,S);if(typeof p=="object")return this._initArray(p,v,S);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),p=p.toString().replace(/\s+/g,"");var y=0;p[0]==="-"&&(y++,this.negative=1),y<p.length&&(v===16?this._parseHex(p,y,S):(this._parseBase(p,v,y),S==="le"&&this._initArray(this.toArray(),v,S)))},a.prototype._initNumber=function(p,v,S){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(r(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),v,S)},a.prototype._initArray=function(p,v,S){if(r(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var M,D,k=0;if(S==="be")for(y=p.length-1,M=0;y>=0;y-=3)D=p[y]|p[y-1]<<8|p[y-2]<<16,this.words[M]|=D<<k&67108863,this.words[M+1]=D>>>26-k&67108863,k+=24,k>=26&&(k-=26,M++);else if(S==="le")for(y=0,M=0;y<p.length;y+=3)D=p[y]|p[y+1]<<8|p[y+2]<<16,this.words[M]|=D<<k&67108863,this.words[M+1]=D>>>26-k&67108863,k+=24,k>=26&&(k-=26,M++);return this.strip()};function s(T,p){var v=T.charCodeAt(p);return v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:v-48&15}function u(T,p,v){var S=s(T,v);return v-1>=p&&(S|=s(T,v-1)<<4),S}a.prototype._parseHex=function(p,v,S){this.length=Math.ceil((p.length-v)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var M=0,D=0,k;if(S==="be")for(y=p.length-1;y>=v;y-=2)k=u(p,v,y)<<M,this.words[D]|=k&67108863,M>=18?(M-=18,D+=1,this.words[D]|=k>>>26):M+=8;else{var E=p.length-v;for(y=E%2===0?v+1:v;y<p.length;y+=2)k=u(p,v,y)<<M,this.words[D]|=k&67108863,M>=18?(M-=18,D+=1,this.words[D]|=k>>>26):M+=8}this.strip()};function f(T,p,v,S){for(var y=0,M=Math.min(T.length,v),D=p;D<M;D++){var k=T.charCodeAt(D)-48;y*=S,k>=49?y+=k-49+10:k>=17?y+=k-17+10:y+=k}return y}a.prototype._parseBase=function(p,v,S){this.words=[0],this.length=1;for(var y=0,M=1;M<=67108863;M*=v)y++;y--,M=M/v|0;for(var D=p.length-S,k=D%y,E=Math.min(D,D-k)+S,d=0,N=S;N<E;N+=y)d=f(p,N,N+y,v),this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(k!==0){var U=1;for(d=f(p,N,p.length,v),N=0;N<k;N++)U*=v;this.imuln(U),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},a.prototype.copy=function(p){p.words=new Array(this.length);for(var v=0;v<this.length;v++)p.words[v]=this.words[v];p.length=this.length,p.negative=this.negative,p.red=this.red},a.prototype.clone=function(){var p=new a(null);return this.copy(p),p},a.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(p,v){p=p||10,v=v|0||1;var S;if(p===16||p==="hex"){S="";for(var y=0,M=0,D=0;D<this.length;D++){var k=this.words[D],E=((k<<y|M)&16777215).toString(16);M=k>>>24-y&16777215,M!==0||D!==this.length-1?S=l[6-E.length]+E+S:S=E+S,y+=2,y>=26&&(y-=26,D--)}for(M!==0&&(S=M.toString(16)+S);S.length%v!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(p===(p|0)&&p>=2&&p<=36){var d=c[p],N=h[p];S="";var U=this.clone();for(U.negative=0;!U.isZero();){var q=U.modn(N).toString(p);U=U.idivn(N),U.isZero()?S=q+S:S=l[d-q.length]+q+S}for(this.isZero()&&(S="0"+S);S.length%v!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(p,v){return r(typeof o!="undefined"),this.toArrayLike(o,p,v)},a.prototype.toArray=function(p,v){return this.toArrayLike(Array,p,v)},a.prototype.toArrayLike=function(p,v,S){var y=this.byteLength(),M=S||Math.max(1,y);r(y<=M,"byte array longer than desired length"),r(M>0,"Requested array length <= 0"),this.strip();var D=v==="le",k=new p(M),E,d,N=this.clone();if(D){for(d=0;!N.isZero();d++)E=N.andln(255),N.iushrn(8),k[d]=E;for(;d<M;d++)k[d]=0}else{for(d=0;d<M-y;d++)k[d]=0;for(d=0;!N.isZero();d++)E=N.andln(255),N.iushrn(8),k[M-d-1]=E}return k},Math.clz32?a.prototype._countBits=function(p){return 32-Math.clz32(p)}:a.prototype._countBits=function(p){var v=p,S=0;return v>=4096&&(S+=13,v>>>=13),v>=64&&(S+=7,v>>>=7),v>=8&&(S+=4,v>>>=4),v>=2&&(S+=2,v>>>=2),S+v},a.prototype._zeroBits=function(p){if(p===0)return 26;var v=p,S=0;return(v&8191)===0&&(S+=13,v>>>=13),(v&127)===0&&(S+=7,v>>>=7),(v&15)===0&&(S+=4,v>>>=4),(v&3)===0&&(S+=2,v>>>=2),(v&1)===0&&S++,S},a.prototype.bitLength=function(){var p=this.words[this.length-1],v=this._countBits(p);return(this.length-1)*26+v};function m(T){for(var p=new Array(T.bitLength()),v=0;v<p.length;v++){var S=v/26|0,y=v%26;p[v]=(T.words[S]&1<<y)>>>y}return p}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,v=0;v<this.length;v++){var S=this._zeroBits(this.words[v]);if(p+=S,S!==26)break}return p},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},a.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]|p.words[v];return this.strip()},a.prototype.ior=function(p){return r((this.negative|p.negative)===0),this.iuor(p)},a.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},a.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},a.prototype.iuand=function(p){var v;this.length>p.length?v=p:v=this;for(var S=0;S<v.length;S++)this.words[S]=this.words[S]&p.words[S];return this.length=v.length,this.strip()},a.prototype.iand=function(p){return r((this.negative|p.negative)===0),this.iuand(p)},a.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},a.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},a.prototype.iuxor=function(p){var v,S;this.length>p.length?(v=this,S=p):(v=p,S=this);for(var y=0;y<S.length;y++)this.words[y]=v.words[y]^S.words[y];if(this!==v)for(;y<v.length;y++)this.words[y]=v.words[y];return this.length=v.length,this.strip()},a.prototype.ixor=function(p){return r((this.negative|p.negative)===0),this.iuxor(p)},a.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},a.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},a.prototype.inotn=function(p){r(typeof p=="number"&&p>=0);var v=Math.ceil(p/26)|0,S=p%26;this._expand(v),S>0&&v--;for(var y=0;y<v;y++)this.words[y]=~this.words[y]&67108863;return S>0&&(this.words[y]=~this.words[y]&67108863>>26-S),this.strip()},a.prototype.notn=function(p){return this.clone().inotn(p)},a.prototype.setn=function(p,v){r(typeof p=="number"&&p>=0);var S=p/26|0,y=p%26;return this._expand(S+1),v?this.words[S]=this.words[S]|1<<y:this.words[S]=this.words[S]&~(1<<y),this.strip()},a.prototype.iadd=function(p){var v;if(this.negative!==0&&p.negative===0)return this.negative=0,v=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,v=this.isub(p),p.negative=1,v._normSign();var S,y;this.length>p.length?(S=this,y=p):(S=p,y=this);for(var M=0,D=0;D<y.length;D++)v=(S.words[D]|0)+(y.words[D]|0)+M,this.words[D]=v&67108863,M=v>>>26;for(;M!==0&&D<S.length;D++)v=(S.words[D]|0)+M,this.words[D]=v&67108863,M=v>>>26;if(this.length=S.length,M!==0)this.words[this.length]=M,this.length++;else if(S!==this)for(;D<S.length;D++)this.words[D]=S.words[D];return this},a.prototype.add=function(p){var v;return p.negative!==0&&this.negative===0?(p.negative=0,v=this.sub(p),p.negative^=1,v):p.negative===0&&this.negative!==0?(this.negative=0,v=p.sub(this),this.negative=1,v):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},a.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var v=this.iadd(p);return p.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var S=this.cmp(p);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,M;S>0?(y=this,M=p):(y=p,M=this);for(var D=0,k=0;k<M.length;k++)v=(y.words[k]|0)-(M.words[k]|0)+D,D=v>>26,this.words[k]=v&67108863;for(;D!==0&&k<y.length;k++)v=(y.words[k]|0)+D,D=v>>26,this.words[k]=v&67108863;if(D===0&&k<y.length&&y!==this)for(;k<y.length;k++)this.words[k]=y.words[k];return this.length=Math.max(this.length,k),y!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(p){return this.clone().isub(p)};function g(T,p,v){v.negative=p.negative^T.negative;var S=T.length+p.length|0;v.length=S,S=S-1|0;var y=T.words[0]|0,M=p.words[0]|0,D=y*M,k=D&67108863,E=D/67108864|0;v.words[0]=k;for(var d=1;d<S;d++){for(var N=E>>>26,U=E&67108863,q=Math.min(d,p.length-1),P=Math.max(0,d-T.length+1);P<=q;P++){var G=d-P|0;y=T.words[G]|0,M=p.words[P]|0,D=y*M+U,N+=D/67108864|0,U=D&67108863}v.words[d]=U|0,E=N|0}return E!==0?v.words[d]=E|0:v.length--,v.strip()}var b=function(p,v,S){var y=p.words,M=v.words,D=S.words,k=0,E,d,N,U=y[0]|0,q=U&8191,P=U>>>13,G=y[1]|0,Z=G&8191,X=G>>>13,he=y[2]|0,V=he&8191,K=he>>>13,ne=y[3]|0,fe=ne&8191,pe=ne>>>13,Ie=y[4]|0,ke=Ie&8191,ue=Ie>>>13,xe=y[5]|0,ge=xe&8191,Q=xe>>>13,_e=y[6]|0,ve=_e&8191,be=_e>>>13,qe=y[7]|0,se=qe&8191,Se=qe>>>13,Ke=y[8]|0,J=Ke&8191,H=Ke>>>13,Y=y[9]|0,oe=Y&8191,Me=Y>>>13,Ge=M[0]|0,Ce=Ge&8191,Xe=Ge>>>13,Yt=M[1]|0,tt=Yt&8191,Ye=Yt>>>13,dr=M[2]|0,re=dr&8191,Te=dr>>>13,ft=M[3]|0,ze=ft&8191,et=ft>>>13,lr=M[4]|0,ct=lr&8191,dt=lr>>>13,ki=M[5]|0,vt=ki&8191,pt=ki>>>13,_i=M[6]|0,gt=_i&8191,yt=_i>>>13,_n=M[7]|0,ut=_n&8191,bt=_n>>>13,si=M[8]|0,ht=si&8191,wt=si>>>13,ri=M[9]|0,at=ri&8191,lt=ri>>>13;S.negative=p.negative^v.negative,S.length=19,E=Math.imul(q,Ce),d=Math.imul(q,Xe),d=d+Math.imul(P,Ce)|0,N=Math.imul(P,Xe);var ie=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ie>>>26)|0,ie&=67108863,E=Math.imul(Z,Ce),d=Math.imul(Z,Xe),d=d+Math.imul(X,Ce)|0,N=Math.imul(X,Xe),E=E+Math.imul(q,tt)|0,d=d+Math.imul(q,Ye)|0,d=d+Math.imul(P,tt)|0,N=N+Math.imul(P,Ye)|0;var ce=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ce>>>26)|0,ce&=67108863,E=Math.imul(V,Ce),d=Math.imul(V,Xe),d=d+Math.imul(K,Ce)|0,N=Math.imul(K,Xe),E=E+Math.imul(Z,tt)|0,d=d+Math.imul(Z,Ye)|0,d=d+Math.imul(X,tt)|0,N=N+Math.imul(X,Ye)|0,E=E+Math.imul(q,re)|0,d=d+Math.imul(q,Te)|0,d=d+Math.imul(P,re)|0,N=N+Math.imul(P,Te)|0;var de=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(de>>>26)|0,de&=67108863,E=Math.imul(fe,Ce),d=Math.imul(fe,Xe),d=d+Math.imul(pe,Ce)|0,N=Math.imul(pe,Xe),E=E+Math.imul(V,tt)|0,d=d+Math.imul(V,Ye)|0,d=d+Math.imul(K,tt)|0,N=N+Math.imul(K,Ye)|0,E=E+Math.imul(Z,re)|0,d=d+Math.imul(Z,Te)|0,d=d+Math.imul(X,re)|0,N=N+Math.imul(X,Te)|0,E=E+Math.imul(q,ze)|0,d=d+Math.imul(q,et)|0,d=d+Math.imul(P,ze)|0,N=N+Math.imul(P,et)|0;var ye=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ye>>>26)|0,ye&=67108863,E=Math.imul(ke,Ce),d=Math.imul(ke,Xe),d=d+Math.imul(ue,Ce)|0,N=Math.imul(ue,Xe),E=E+Math.imul(fe,tt)|0,d=d+Math.imul(fe,Ye)|0,d=d+Math.imul(pe,tt)|0,N=N+Math.imul(pe,Ye)|0,E=E+Math.imul(V,re)|0,d=d+Math.imul(V,Te)|0,d=d+Math.imul(K,re)|0,N=N+Math.imul(K,Te)|0,E=E+Math.imul(Z,ze)|0,d=d+Math.imul(Z,et)|0,d=d+Math.imul(X,ze)|0,N=N+Math.imul(X,et)|0,E=E+Math.imul(q,ct)|0,d=d+Math.imul(q,dt)|0,d=d+Math.imul(P,ct)|0,N=N+Math.imul(P,dt)|0;var Ae=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,E=Math.imul(ge,Ce),d=Math.imul(ge,Xe),d=d+Math.imul(Q,Ce)|0,N=Math.imul(Q,Xe),E=E+Math.imul(ke,tt)|0,d=d+Math.imul(ke,Ye)|0,d=d+Math.imul(ue,tt)|0,N=N+Math.imul(ue,Ye)|0,E=E+Math.imul(fe,re)|0,d=d+Math.imul(fe,Te)|0,d=d+Math.imul(pe,re)|0,N=N+Math.imul(pe,Te)|0,E=E+Math.imul(V,ze)|0,d=d+Math.imul(V,et)|0,d=d+Math.imul(K,ze)|0,N=N+Math.imul(K,et)|0,E=E+Math.imul(Z,ct)|0,d=d+Math.imul(Z,dt)|0,d=d+Math.imul(X,ct)|0,N=N+Math.imul(X,dt)|0,E=E+Math.imul(q,vt)|0,d=d+Math.imul(q,pt)|0,d=d+Math.imul(P,vt)|0,N=N+Math.imul(P,pt)|0;var Ne=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,E=Math.imul(ve,Ce),d=Math.imul(ve,Xe),d=d+Math.imul(be,Ce)|0,N=Math.imul(be,Xe),E=E+Math.imul(ge,tt)|0,d=d+Math.imul(ge,Ye)|0,d=d+Math.imul(Q,tt)|0,N=N+Math.imul(Q,Ye)|0,E=E+Math.imul(ke,re)|0,d=d+Math.imul(ke,Te)|0,d=d+Math.imul(ue,re)|0,N=N+Math.imul(ue,Te)|0,E=E+Math.imul(fe,ze)|0,d=d+Math.imul(fe,et)|0,d=d+Math.imul(pe,ze)|0,N=N+Math.imul(pe,et)|0,E=E+Math.imul(V,ct)|0,d=d+Math.imul(V,dt)|0,d=d+Math.imul(K,ct)|0,N=N+Math.imul(K,dt)|0,E=E+Math.imul(Z,vt)|0,d=d+Math.imul(Z,pt)|0,d=d+Math.imul(X,vt)|0,N=N+Math.imul(X,pt)|0,E=E+Math.imul(q,gt)|0,d=d+Math.imul(q,yt)|0,d=d+Math.imul(P,gt)|0,N=N+Math.imul(P,yt)|0;var Pe=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,E=Math.imul(se,Ce),d=Math.imul(se,Xe),d=d+Math.imul(Se,Ce)|0,N=Math.imul(Se,Xe),E=E+Math.imul(ve,tt)|0,d=d+Math.imul(ve,Ye)|0,d=d+Math.imul(be,tt)|0,N=N+Math.imul(be,Ye)|0,E=E+Math.imul(ge,re)|0,d=d+Math.imul(ge,Te)|0,d=d+Math.imul(Q,re)|0,N=N+Math.imul(Q,Te)|0,E=E+Math.imul(ke,ze)|0,d=d+Math.imul(ke,et)|0,d=d+Math.imul(ue,ze)|0,N=N+Math.imul(ue,et)|0,E=E+Math.imul(fe,ct)|0,d=d+Math.imul(fe,dt)|0,d=d+Math.imul(pe,ct)|0,N=N+Math.imul(pe,dt)|0,E=E+Math.imul(V,vt)|0,d=d+Math.imul(V,pt)|0,d=d+Math.imul(K,vt)|0,N=N+Math.imul(K,pt)|0,E=E+Math.imul(Z,gt)|0,d=d+Math.imul(Z,yt)|0,d=d+Math.imul(X,gt)|0,N=N+Math.imul(X,yt)|0,E=E+Math.imul(q,ut)|0,d=d+Math.imul(q,bt)|0,d=d+Math.imul(P,ut)|0,N=N+Math.imul(P,bt)|0;var je=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(je>>>26)|0,je&=67108863,E=Math.imul(J,Ce),d=Math.imul(J,Xe),d=d+Math.imul(H,Ce)|0,N=Math.imul(H,Xe),E=E+Math.imul(se,tt)|0,d=d+Math.imul(se,Ye)|0,d=d+Math.imul(Se,tt)|0,N=N+Math.imul(Se,Ye)|0,E=E+Math.imul(ve,re)|0,d=d+Math.imul(ve,Te)|0,d=d+Math.imul(be,re)|0,N=N+Math.imul(be,Te)|0,E=E+Math.imul(ge,ze)|0,d=d+Math.imul(ge,et)|0,d=d+Math.imul(Q,ze)|0,N=N+Math.imul(Q,et)|0,E=E+Math.imul(ke,ct)|0,d=d+Math.imul(ke,dt)|0,d=d+Math.imul(ue,ct)|0,N=N+Math.imul(ue,dt)|0,E=E+Math.imul(fe,vt)|0,d=d+Math.imul(fe,pt)|0,d=d+Math.imul(pe,vt)|0,N=N+Math.imul(pe,pt)|0,E=E+Math.imul(V,gt)|0,d=d+Math.imul(V,yt)|0,d=d+Math.imul(K,gt)|0,N=N+Math.imul(K,yt)|0,E=E+Math.imul(Z,ut)|0,d=d+Math.imul(Z,bt)|0,d=d+Math.imul(X,ut)|0,N=N+Math.imul(X,bt)|0,E=E+Math.imul(q,ht)|0,d=d+Math.imul(q,wt)|0,d=d+Math.imul(P,ht)|0,N=N+Math.imul(P,wt)|0;var Qe=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,E=Math.imul(oe,Ce),d=Math.imul(oe,Xe),d=d+Math.imul(Me,Ce)|0,N=Math.imul(Me,Xe),E=E+Math.imul(J,tt)|0,d=d+Math.imul(J,Ye)|0,d=d+Math.imul(H,tt)|0,N=N+Math.imul(H,Ye)|0,E=E+Math.imul(se,re)|0,d=d+Math.imul(se,Te)|0,d=d+Math.imul(Se,re)|0,N=N+Math.imul(Se,Te)|0,E=E+Math.imul(ve,ze)|0,d=d+Math.imul(ve,et)|0,d=d+Math.imul(be,ze)|0,N=N+Math.imul(be,et)|0,E=E+Math.imul(ge,ct)|0,d=d+Math.imul(ge,dt)|0,d=d+Math.imul(Q,ct)|0,N=N+Math.imul(Q,dt)|0,E=E+Math.imul(ke,vt)|0,d=d+Math.imul(ke,pt)|0,d=d+Math.imul(ue,vt)|0,N=N+Math.imul(ue,pt)|0,E=E+Math.imul(fe,gt)|0,d=d+Math.imul(fe,yt)|0,d=d+Math.imul(pe,gt)|0,N=N+Math.imul(pe,yt)|0,E=E+Math.imul(V,ut)|0,d=d+Math.imul(V,bt)|0,d=d+Math.imul(K,ut)|0,N=N+Math.imul(K,bt)|0,E=E+Math.imul(Z,ht)|0,d=d+Math.imul(Z,wt)|0,d=d+Math.imul(X,ht)|0,N=N+Math.imul(X,wt)|0,E=E+Math.imul(q,at)|0,d=d+Math.imul(q,lt)|0,d=d+Math.imul(P,at)|0,N=N+Math.imul(P,lt)|0;var Ve=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,E=Math.imul(oe,tt),d=Math.imul(oe,Ye),d=d+Math.imul(Me,tt)|0,N=Math.imul(Me,Ye),E=E+Math.imul(J,re)|0,d=d+Math.imul(J,Te)|0,d=d+Math.imul(H,re)|0,N=N+Math.imul(H,Te)|0,E=E+Math.imul(se,ze)|0,d=d+Math.imul(se,et)|0,d=d+Math.imul(Se,ze)|0,N=N+Math.imul(Se,et)|0,E=E+Math.imul(ve,ct)|0,d=d+Math.imul(ve,dt)|0,d=d+Math.imul(be,ct)|0,N=N+Math.imul(be,dt)|0,E=E+Math.imul(ge,vt)|0,d=d+Math.imul(ge,pt)|0,d=d+Math.imul(Q,vt)|0,N=N+Math.imul(Q,pt)|0,E=E+Math.imul(ke,gt)|0,d=d+Math.imul(ke,yt)|0,d=d+Math.imul(ue,gt)|0,N=N+Math.imul(ue,yt)|0,E=E+Math.imul(fe,ut)|0,d=d+Math.imul(fe,bt)|0,d=d+Math.imul(pe,ut)|0,N=N+Math.imul(pe,bt)|0,E=E+Math.imul(V,ht)|0,d=d+Math.imul(V,wt)|0,d=d+Math.imul(K,ht)|0,N=N+Math.imul(K,wt)|0,E=E+Math.imul(Z,at)|0,d=d+Math.imul(Z,lt)|0,d=d+Math.imul(X,at)|0,N=N+Math.imul(X,lt)|0;var ot=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ot>>>26)|0,ot&=67108863,E=Math.imul(oe,re),d=Math.imul(oe,Te),d=d+Math.imul(Me,re)|0,N=Math.imul(Me,Te),E=E+Math.imul(J,ze)|0,d=d+Math.imul(J,et)|0,d=d+Math.imul(H,ze)|0,N=N+Math.imul(H,et)|0,E=E+Math.imul(se,ct)|0,d=d+Math.imul(se,dt)|0,d=d+Math.imul(Se,ct)|0,N=N+Math.imul(Se,dt)|0,E=E+Math.imul(ve,vt)|0,d=d+Math.imul(ve,pt)|0,d=d+Math.imul(be,vt)|0,N=N+Math.imul(be,pt)|0,E=E+Math.imul(ge,gt)|0,d=d+Math.imul(ge,yt)|0,d=d+Math.imul(Q,gt)|0,N=N+Math.imul(Q,yt)|0,E=E+Math.imul(ke,ut)|0,d=d+Math.imul(ke,bt)|0,d=d+Math.imul(ue,ut)|0,N=N+Math.imul(ue,bt)|0,E=E+Math.imul(fe,ht)|0,d=d+Math.imul(fe,wt)|0,d=d+Math.imul(pe,ht)|0,N=N+Math.imul(pe,wt)|0,E=E+Math.imul(V,at)|0,d=d+Math.imul(V,lt)|0,d=d+Math.imul(K,at)|0,N=N+Math.imul(K,lt)|0;var mt=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(mt>>>26)|0,mt&=67108863,E=Math.imul(oe,ze),d=Math.imul(oe,et),d=d+Math.imul(Me,ze)|0,N=Math.imul(Me,et),E=E+Math.imul(J,ct)|0,d=d+Math.imul(J,dt)|0,d=d+Math.imul(H,ct)|0,N=N+Math.imul(H,dt)|0,E=E+Math.imul(se,vt)|0,d=d+Math.imul(se,pt)|0,d=d+Math.imul(Se,vt)|0,N=N+Math.imul(Se,pt)|0,E=E+Math.imul(ve,gt)|0,d=d+Math.imul(ve,yt)|0,d=d+Math.imul(be,gt)|0,N=N+Math.imul(be,yt)|0,E=E+Math.imul(ge,ut)|0,d=d+Math.imul(ge,bt)|0,d=d+Math.imul(Q,ut)|0,N=N+Math.imul(Q,bt)|0,E=E+Math.imul(ke,ht)|0,d=d+Math.imul(ke,wt)|0,d=d+Math.imul(ue,ht)|0,N=N+Math.imul(ue,wt)|0,E=E+Math.imul(fe,at)|0,d=d+Math.imul(fe,lt)|0,d=d+Math.imul(pe,at)|0,N=N+Math.imul(pe,lt)|0;var Mt=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,E=Math.imul(oe,ct),d=Math.imul(oe,dt),d=d+Math.imul(Me,ct)|0,N=Math.imul(Me,dt),E=E+Math.imul(J,vt)|0,d=d+Math.imul(J,pt)|0,d=d+Math.imul(H,vt)|0,N=N+Math.imul(H,pt)|0,E=E+Math.imul(se,gt)|0,d=d+Math.imul(se,yt)|0,d=d+Math.imul(Se,gt)|0,N=N+Math.imul(Se,yt)|0,E=E+Math.imul(ve,ut)|0,d=d+Math.imul(ve,bt)|0,d=d+Math.imul(be,ut)|0,N=N+Math.imul(be,bt)|0,E=E+Math.imul(ge,ht)|0,d=d+Math.imul(ge,wt)|0,d=d+Math.imul(Q,ht)|0,N=N+Math.imul(Q,wt)|0,E=E+Math.imul(ke,at)|0,d=d+Math.imul(ke,lt)|0,d=d+Math.imul(ue,at)|0,N=N+Math.imul(ue,lt)|0;var $t=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+($t>>>26)|0,$t&=67108863,E=Math.imul(oe,vt),d=Math.imul(oe,pt),d=d+Math.imul(Me,vt)|0,N=Math.imul(Me,pt),E=E+Math.imul(J,gt)|0,d=d+Math.imul(J,yt)|0,d=d+Math.imul(H,gt)|0,N=N+Math.imul(H,yt)|0,E=E+Math.imul(se,ut)|0,d=d+Math.imul(se,bt)|0,d=d+Math.imul(Se,ut)|0,N=N+Math.imul(Se,bt)|0,E=E+Math.imul(ve,ht)|0,d=d+Math.imul(ve,wt)|0,d=d+Math.imul(be,ht)|0,N=N+Math.imul(be,wt)|0,E=E+Math.imul(ge,at)|0,d=d+Math.imul(ge,lt)|0,d=d+Math.imul(Q,at)|0,N=N+Math.imul(Q,lt)|0;var cr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(cr>>>26)|0,cr&=67108863,E=Math.imul(oe,gt),d=Math.imul(oe,yt),d=d+Math.imul(Me,gt)|0,N=Math.imul(Me,yt),E=E+Math.imul(J,ut)|0,d=d+Math.imul(J,bt)|0,d=d+Math.imul(H,ut)|0,N=N+Math.imul(H,bt)|0,E=E+Math.imul(se,ht)|0,d=d+Math.imul(se,wt)|0,d=d+Math.imul(Se,ht)|0,N=N+Math.imul(Se,wt)|0,E=E+Math.imul(ve,at)|0,d=d+Math.imul(ve,lt)|0,d=d+Math.imul(be,at)|0,N=N+Math.imul(be,lt)|0;var rr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(rr>>>26)|0,rr&=67108863,E=Math.imul(oe,ut),d=Math.imul(oe,bt),d=d+Math.imul(Me,ut)|0,N=Math.imul(Me,bt),E=E+Math.imul(J,ht)|0,d=d+Math.imul(J,wt)|0,d=d+Math.imul(H,ht)|0,N=N+Math.imul(H,wt)|0,E=E+Math.imul(se,at)|0,d=d+Math.imul(se,lt)|0,d=d+Math.imul(Se,at)|0,N=N+Math.imul(Se,lt)|0;var Br=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,E=Math.imul(oe,ht),d=Math.imul(oe,wt),d=d+Math.imul(Me,ht)|0,N=Math.imul(Me,wt),E=E+Math.imul(J,at)|0,d=d+Math.imul(J,lt)|0,d=d+Math.imul(H,at)|0,N=N+Math.imul(H,lt)|0;var pr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(pr>>>26)|0,pr&=67108863,E=Math.imul(oe,at),d=Math.imul(oe,lt),d=d+Math.imul(Me,at)|0,N=Math.imul(Me,lt);var Vr=(k+E|0)+((d&8191)<<13)|0;return k=(N+(d>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,D[0]=ie,D[1]=ce,D[2]=de,D[3]=ye,D[4]=Ae,D[5]=Ne,D[6]=Pe,D[7]=je,D[8]=Qe,D[9]=Ve,D[10]=ot,D[11]=mt,D[12]=Mt,D[13]=$t,D[14]=cr,D[15]=rr,D[16]=Br,D[17]=pr,D[18]=Vr,k!==0&&(D[19]=k,S.length++),S};Math.imul||(b=g);function A(T,p,v){v.negative=p.negative^T.negative,v.length=T.length+p.length;for(var S=0,y=0,M=0;M<v.length-1;M++){var D=y;y=0;for(var k=S&67108863,E=Math.min(M,p.length-1),d=Math.max(0,M-T.length+1);d<=E;d++){var N=M-d,U=T.words[N]|0,q=p.words[d]|0,P=U*q,G=P&67108863;D=D+(P/67108864|0)|0,G=G+k|0,k=G&67108863,D=D+(G>>>26)|0,y+=D>>>26,D&=67108863}v.words[M]=k,S=D,D=y}return S!==0?v.words[M]=S:v.length--,v.strip()}function I(T,p,v){var S=new C;return S.mulp(T,p,v)}a.prototype.mulTo=function(p,v){var S,y=this.length+p.length;return this.length===10&&p.length===10?S=b(this,p,v):y<63?S=g(this,p,v):y<1024?S=A(this,p,v):S=I(this,p,v),S};function C(T,p){this.x=T,this.y=p}C.prototype.makeRBT=function(p){for(var v=new Array(p),S=a.prototype._countBits(p)-1,y=0;y<p;y++)v[y]=this.revBin(y,S,p);return v},C.prototype.revBin=function(p,v,S){if(p===0||p===S-1)return p;for(var y=0,M=0;M<v;M++)y|=(p&1)<<v-M-1,p>>=1;return y},C.prototype.permute=function(p,v,S,y,M,D){for(var k=0;k<D;k++)y[k]=v[p[k]],M[k]=S[p[k]]},C.prototype.transform=function(p,v,S,y,M,D){this.permute(D,p,v,S,y,M);for(var k=1;k<M;k<<=1)for(var E=k<<1,d=Math.cos(2*Math.PI/E),N=Math.sin(2*Math.PI/E),U=0;U<M;U+=E)for(var q=d,P=N,G=0;G<k;G++){var Z=S[U+G],X=y[U+G],he=S[U+G+k],V=y[U+G+k],K=q*he-P*V;V=q*V+P*he,he=K,S[U+G]=Z+he,y[U+G]=X+V,S[U+G+k]=Z-he,y[U+G+k]=X-V,G!==E&&(K=d*q-N*P,P=d*P+N*q,q=K)}},C.prototype.guessLen13b=function(p,v){var S=Math.max(v,p)|1,y=S&1,M=0;for(S=S/2|0;S;S=S>>>1)M++;return 1<<M+1+y},C.prototype.conjugate=function(p,v,S){if(!(S<=1))for(var y=0;y<S/2;y++){var M=p[y];p[y]=p[S-y-1],p[S-y-1]=M,M=v[y],v[y]=-v[S-y-1],v[S-y-1]=-M}},C.prototype.normalize13b=function(p,v){for(var S=0,y=0;y<v/2;y++){var M=Math.round(p[2*y+1]/v)*8192+Math.round(p[2*y]/v)+S;p[y]=M&67108863,M<67108864?S=0:S=M/67108864|0}return p},C.prototype.convert13b=function(p,v,S,y){for(var M=0,D=0;D<v;D++)M=M+(p[D]|0),S[2*D]=M&8191,M=M>>>13,S[2*D+1]=M&8191,M=M>>>13;for(D=2*v;D<y;++D)S[D]=0;r(M===0),r((M&-8192)===0)},C.prototype.stub=function(p){for(var v=new Array(p),S=0;S<p;S++)v[S]=0;return v},C.prototype.mulp=function(p,v,S){var y=2*this.guessLen13b(p.length,v.length),M=this.makeRBT(y),D=this.stub(y),k=new Array(y),E=new Array(y),d=new Array(y),N=new Array(y),U=new Array(y),q=new Array(y),P=S.words;P.length=y,this.convert13b(p.words,p.length,k,y),this.convert13b(v.words,v.length,N,y),this.transform(k,D,E,d,y,M),this.transform(N,D,U,q,y,M);for(var G=0;G<y;G++){var Z=E[G]*U[G]-d[G]*q[G];d[G]=E[G]*q[G]+d[G]*U[G],E[G]=Z}return this.conjugate(E,d,y),this.transform(E,d,P,D,y,M),this.conjugate(P,D,y),this.normalize13b(P,y),S.negative=p.negative^v.negative,S.length=p.length+v.length,S.strip()},a.prototype.mul=function(p){var v=new a(null);return v.words=new Array(this.length+p.length),this.mulTo(p,v)},a.prototype.mulf=function(p){var v=new a(null);return v.words=new Array(this.length+p.length),I(this,p,v)},a.prototype.imul=function(p){return this.clone().mulTo(p,this)},a.prototype.imuln=function(p){r(typeof p=="number"),r(p<67108864);for(var v=0,S=0;S<this.length;S++){var y=(this.words[S]|0)*p,M=(y&67108863)+(v&67108863);v>>=26,v+=y/67108864|0,v+=M>>>26,this.words[S]=M&67108863}return v!==0&&(this.words[S]=v,this.length++),this},a.prototype.muln=function(p){return this.clone().imuln(p)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(p){var v=m(p);if(v.length===0)return new a(1);for(var S=this,y=0;y<v.length&&v[y]===0;y++,S=S.sqr());if(++y<v.length)for(var M=S.sqr();y<v.length;y++,M=M.sqr())v[y]!==0&&(S=S.mul(M));return S},a.prototype.iushln=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26,y=67108863>>>26-v<<26-v,M;if(v!==0){var D=0;for(M=0;M<this.length;M++){var k=this.words[M]&y,E=(this.words[M]|0)-k<<v;this.words[M]=E|D,D=k>>>26-v}D&&(this.words[M]=D,this.length++)}if(S!==0){for(M=this.length-1;M>=0;M--)this.words[M+S]=this.words[M];for(M=0;M<S;M++)this.words[M]=0;this.length+=S}return this.strip()},a.prototype.ishln=function(p){return r(this.negative===0),this.iushln(p)},a.prototype.iushrn=function(p,v,S){r(typeof p=="number"&&p>=0);var y;v?y=(v-v%26)/26:y=0;var M=p%26,D=Math.min((p-M)/26,this.length),k=67108863^67108863>>>M<<M,E=S;if(y-=D,y=Math.max(0,y),E){for(var d=0;d<D;d++)E.words[d]=this.words[d];E.length=D}if(D!==0)if(this.length>D)for(this.length-=D,d=0;d<this.length;d++)this.words[d]=this.words[d+D];else this.words[0]=0,this.length=1;var N=0;for(d=this.length-1;d>=0&&(N!==0||d>=y);d--){var U=this.words[d]|0;this.words[d]=N<<26-M|U>>>M,N=U&k}return E&&N!==0&&(E.words[E.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(p,v,S){return r(this.negative===0),this.iushrn(p,v,S)},a.prototype.shln=function(p){return this.clone().ishln(p)},a.prototype.ushln=function(p){return this.clone().iushln(p)},a.prototype.shrn=function(p){return this.clone().ishrn(p)},a.prototype.ushrn=function(p){return this.clone().iushrn(p)},a.prototype.testn=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26,y=1<<v;if(this.length<=S)return!1;var M=this.words[S];return!!(M&y)},a.prototype.imaskn=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(v!==0&&S++,this.length=Math.min(S,this.length),v!==0){var y=67108863^67108863>>>v<<v;this.words[this.length-1]&=y}return this.strip()},a.prototype.maskn=function(p){return this.clone().imaskn(p)},a.prototype.iaddn=function(p){return r(typeof p=="number"),r(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},a.prototype._iaddn=function(p){this.words[0]+=p;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},a.prototype.isubn=function(p){if(r(typeof p=="number"),r(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this.strip()},a.prototype.addn=function(p){return this.clone().iaddn(p)},a.prototype.subn=function(p){return this.clone().isubn(p)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(p,v,S){var y=p.length+S,M;this._expand(y);var D,k=0;for(M=0;M<p.length;M++){D=(this.words[M+S]|0)+k;var E=(p.words[M]|0)*v;D-=E&67108863,k=(D>>26)-(E/67108864|0),this.words[M+S]=D&67108863}for(;M<this.length-S;M++)D=(this.words[M+S]|0)+k,k=D>>26,this.words[M+S]=D&67108863;if(k===0)return this.strip();for(r(k===-1),k=0,M=0;M<this.length;M++)D=-(this.words[M]|0)+k,k=D>>26,this.words[M]=D&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(p,v){var S=this.length-p.length,y=this.clone(),M=p,D=M.words[M.length-1]|0,k=this._countBits(D);S=26-k,S!==0&&(M=M.ushln(S),y.iushln(S),D=M.words[M.length-1]|0);var E=y.length-M.length,d;if(v!=="mod"){d=new a(null),d.length=E+1,d.words=new Array(d.length);for(var N=0;N<d.length;N++)d.words[N]=0}var U=y.clone()._ishlnsubmul(M,1,E);U.negative===0&&(y=U,d&&(d.words[E]=1));for(var q=E-1;q>=0;q--){var P=(y.words[M.length+q]|0)*67108864+(y.words[M.length+q-1]|0);for(P=Math.min(P/D|0,67108863),y._ishlnsubmul(M,P,q);y.negative!==0;)P--,y.negative=0,y._ishlnsubmul(M,1,q),y.isZero()||(y.negative^=1);d&&(d.words[q]=P)}return d&&d.strip(),y.strip(),v!=="div"&&S!==0&&y.iushrn(S),{div:d||null,mod:y}},a.prototype.divmod=function(p,v,S){if(r(!p.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var y,M,D;return this.negative!==0&&p.negative===0?(D=this.neg().divmod(p,v),v!=="mod"&&(y=D.div.neg()),v!=="div"&&(M=D.mod.neg(),S&&M.negative!==0&&M.iadd(p)),{div:y,mod:M}):this.negative===0&&p.negative!==0?(D=this.divmod(p.neg(),v),v!=="mod"&&(y=D.div.neg()),{div:y,mod:D.mod}):(this.negative&p.negative)!==0?(D=this.neg().divmod(p.neg(),v),v!=="div"&&(M=D.mod.neg(),S&&M.negative!==0&&M.isub(p)),{div:D.div,mod:M}):p.length>this.length||this.cmp(p)<0?{div:new a(0),mod:this}:p.length===1?v==="div"?{div:this.divn(p.words[0]),mod:null}:v==="mod"?{div:null,mod:new a(this.modn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new a(this.modn(p.words[0]))}:this._wordDiv(p,v)},a.prototype.div=function(p){return this.divmod(p,"div",!1).div},a.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},a.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},a.prototype.divRound=function(p){var v=this.divmod(p);if(v.mod.isZero())return v.div;var S=v.div.negative!==0?v.mod.isub(p):v.mod,y=p.ushrn(1),M=p.andln(1),D=S.cmp(y);return D<0||M===1&&D===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},a.prototype.modn=function(p){r(p<=67108863);for(var v=(1<<26)%p,S=0,y=this.length-1;y>=0;y--)S=(v*S+(this.words[y]|0))%p;return S},a.prototype.idivn=function(p){r(p<=67108863);for(var v=0,S=this.length-1;S>=0;S--){var y=(this.words[S]|0)+v*67108864;this.words[S]=y/p|0,v=y%p}return this.strip()},a.prototype.divn=function(p){return this.clone().idivn(p)},a.prototype.egcd=function(p){r(p.negative===0),r(!p.isZero());var v=this,S=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var y=new a(1),M=new a(0),D=new a(0),k=new a(1),E=0;v.isEven()&&S.isEven();)v.iushrn(1),S.iushrn(1),++E;for(var d=S.clone(),N=v.clone();!v.isZero();){for(var U=0,q=1;(v.words[0]&q)===0&&U<26;++U,q<<=1);if(U>0)for(v.iushrn(U);U-- >0;)(y.isOdd()||M.isOdd())&&(y.iadd(d),M.isub(N)),y.iushrn(1),M.iushrn(1);for(var P=0,G=1;(S.words[0]&G)===0&&P<26;++P,G<<=1);if(P>0)for(S.iushrn(P);P-- >0;)(D.isOdd()||k.isOdd())&&(D.iadd(d),k.isub(N)),D.iushrn(1),k.iushrn(1);v.cmp(S)>=0?(v.isub(S),y.isub(D),M.isub(k)):(S.isub(v),D.isub(y),k.isub(M))}return{a:D,b:k,gcd:S.iushln(E)}},a.prototype._invmp=function(p){r(p.negative===0),r(!p.isZero());var v=this,S=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var y=new a(1),M=new a(0),D=S.clone();v.cmpn(1)>0&&S.cmpn(1)>0;){for(var k=0,E=1;(v.words[0]&E)===0&&k<26;++k,E<<=1);if(k>0)for(v.iushrn(k);k-- >0;)y.isOdd()&&y.iadd(D),y.iushrn(1);for(var d=0,N=1;(S.words[0]&N)===0&&d<26;++d,N<<=1);if(d>0)for(S.iushrn(d);d-- >0;)M.isOdd()&&M.iadd(D),M.iushrn(1);v.cmp(S)>=0?(v.isub(S),y.isub(M)):(S.isub(v),M.isub(y))}var U;return v.cmpn(1)===0?U=y:U=M,U.cmpn(0)<0&&U.iadd(p),U},a.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var v=this.clone(),S=p.clone();v.negative=0,S.negative=0;for(var y=0;v.isEven()&&S.isEven();y++)v.iushrn(1),S.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;S.isEven();)S.iushrn(1);var M=v.cmp(S);if(M<0){var D=v;v=S,S=D}else if(M===0||S.cmpn(1)===0)break;v.isub(S)}while(!0);return S.iushln(y)},a.prototype.invm=function(p){return this.egcd(p).a.umod(p)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(p){return this.words[0]&p},a.prototype.bincn=function(p){r(typeof p=="number");var v=p%26,S=(p-v)/26,y=1<<v;if(this.length<=S)return this._expand(S+1),this.words[S]|=y,this;for(var M=y,D=S;M!==0&&D<this.length;D++){var k=this.words[D]|0;k+=M,M=k>>>26,k&=67108863,this.words[D]=k}return M!==0&&(this.words[D]=M,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(p){var v=p<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this.strip();var S;if(this.length>1)S=1;else{v&&(p=-p),r(p<=67108863,"Number is too big");var y=this.words[0]|0;S=y===p?0:y<p?-1:1}return this.negative!==0?-S|0:S},a.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var v=this.ucmp(p);return this.negative!==0?-v|0:v},a.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var v=0,S=this.length-1;S>=0;S--){var y=this.words[S]|0,M=p.words[S]|0;if(y!==M){y<M?v=-1:y>M&&(v=1);break}}return v},a.prototype.gtn=function(p){return this.cmpn(p)===1},a.prototype.gt=function(p){return this.cmp(p)===1},a.prototype.gten=function(p){return this.cmpn(p)>=0},a.prototype.gte=function(p){return this.cmp(p)>=0},a.prototype.ltn=function(p){return this.cmpn(p)===-1},a.prototype.lt=function(p){return this.cmp(p)===-1},a.prototype.lten=function(p){return this.cmpn(p)<=0},a.prototype.lte=function(p){return this.cmp(p)<=0},a.prototype.eqn=function(p){return this.cmpn(p)===0},a.prototype.eq=function(p){return this.cmp(p)===0},a.red=function(p){return new j(p)},a.prototype.toRed=function(p){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(p){return this.red=p,this},a.prototype.forceRed=function(p){return r(!this.red,"Already a number in reduction context"),this._forceRed(p)},a.prototype.redAdd=function(p){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},a.prototype.redIAdd=function(p){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},a.prototype.redSub=function(p){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},a.prototype.redISub=function(p){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},a.prototype.redShl=function(p){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},a.prototype.redMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},a.prototype.redIMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(p){return r(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var R={k256:null,p224:null,p192:null,p25519:null};function O(T,p){this.name=T,this.p=new a(p,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var p=new a(null);return p.words=new Array(Math.ceil(this.n/13)),p},O.prototype.ireduce=function(p){var v=p,S;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),S=v.bitLength();while(S>this.n);var y=S<this.n?-1:v.ucmp(this.p);return y===0?(v.words[0]=0,v.length=1):y>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},O.prototype.split=function(p,v){p.iushrn(this.n,0,v)},O.prototype.imulK=function(p){return p.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,O),F.prototype.split=function(p,v){for(var S=4194303,y=Math.min(p.length,9),M=0;M<y;M++)v.words[M]=p.words[M];if(v.length=y,p.length<=9){p.words[0]=0,p.length=1;return}var D=p.words[9];for(v.words[v.length++]=D&S,M=10;M<p.length;M++){var k=p.words[M]|0;p.words[M-10]=(k&S)<<4|D>>>22,D=k}D>>>=22,p.words[M-10]=D,D===0&&p.length>10?p.length-=10:p.length-=9},F.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var v=0,S=0;S<p.length;S++){var y=p.words[S]|0;v+=y*977,p.words[S]=v&67108863,v=y*64+(v/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function z(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(z,O);function B(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(B,O);function $(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n($,O),$.prototype.imulK=function(p){for(var v=0,S=0;S<p.length;S++){var y=(p.words[S]|0)*19+v,M=y&67108863;y>>>=26,p.words[S]=M,v=y}return v!==0&&(p.words[p.length++]=v),p},a._prime=function(p){if(R[p])return R[p];var v;if(p==="k256")v=new F;else if(p==="p224")v=new z;else if(p==="p192")v=new B;else if(p==="p25519")v=new $;else throw new Error("Unknown prime "+p);return R[p]=v,v};function j(T){if(typeof T=="string"){var p=a._prime(T);this.m=p.p,this.prime=p}else r(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}j.prototype._verify1=function(p){r(p.negative===0,"red works only with positives"),r(p.red,"red works only with red numbers")},j.prototype._verify2=function(p,v){r((p.negative|v.negative)===0,"red works only with positives"),r(p.red&&p.red===v.red,"red works only with red numbers")},j.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):p.umod(this.m)._forceRed(this)},j.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},j.prototype.add=function(p,v){this._verify2(p,v);var S=p.add(v);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},j.prototype.iadd=function(p,v){this._verify2(p,v);var S=p.iadd(v);return S.cmp(this.m)>=0&&S.isub(this.m),S},j.prototype.sub=function(p,v){this._verify2(p,v);var S=p.sub(v);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},j.prototype.isub=function(p,v){this._verify2(p,v);var S=p.isub(v);return S.cmpn(0)<0&&S.iadd(this.m),S},j.prototype.shl=function(p,v){return this._verify1(p),this.imod(p.ushln(v))},j.prototype.imul=function(p,v){return this._verify2(p,v),this.imod(p.imul(v))},j.prototype.mul=function(p,v){return this._verify2(p,v),this.imod(p.mul(v))},j.prototype.isqr=function(p){return this.imul(p,p.clone())},j.prototype.sqr=function(p){return this.mul(p,p)},j.prototype.sqrt=function(p){if(p.isZero())return p.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var S=this.m.add(new a(1)).iushrn(2);return this.pow(p,S)}for(var y=this.m.subn(1),M=0;!y.isZero()&&y.andln(1)===0;)M++,y.iushrn(1);r(!y.isZero());var D=new a(1).toRed(this),k=D.redNeg(),E=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);this.pow(d,E).cmp(k)!==0;)d.redIAdd(k);for(var N=this.pow(d,y),U=this.pow(p,y.addn(1).iushrn(1)),q=this.pow(p,y),P=M;q.cmp(D)!==0;){for(var G=q,Z=0;G.cmp(D)!==0;Z++)G=G.redSqr();r(Z<P);var X=this.pow(N,new a(1).iushln(P-Z-1));U=U.redMul(X),N=X.redSqr(),q=q.redMul(N),P=Z}return U},j.prototype.invm=function(p){var v=p._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},j.prototype.pow=function(p,v){if(v.isZero())return new a(1).toRed(this);if(v.cmpn(1)===0)return p.clone();var S=4,y=new Array(1<<S);y[0]=new a(1).toRed(this),y[1]=p;for(var M=2;M<y.length;M++)y[M]=this.mul(y[M-1],p);var D=y[0],k=0,E=0,d=v.bitLength()%26;for(d===0&&(d=26),M=v.length-1;M>=0;M--){for(var N=v.words[M],U=d-1;U>=0;U--){var q=N>>U&1;if(D!==y[0]&&(D=this.sqr(D)),q===0&&k===0){E=0;continue}k<<=1,k|=q,E++,!(E!==S&&(M!==0||U!==0))&&(D=this.mul(D,y[k]),E=0,k=0)}d=26}return D},j.prototype.convertTo=function(p){var v=p.umod(this.m);return v===p?v.clone():v},j.prototype.convertFrom=function(p){var v=p.clone();return v.red=null,v},a.mont=function(p){return new W(p)};function W(T){j.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(W,j),W.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},W.prototype.convertFrom=function(p){var v=this.imod(p.mul(this.rinv));return v.red=null,v},W.prototype.imul=function(p,v){if(p.isZero()||v.isZero())return p.words[0]=0,p.length=1,p;var S=p.imul(v),y=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=S.isub(y).iushrn(this.shift),D=M;return M.cmp(this.m)>=0?D=M.isub(this.m):M.cmpn(0)<0&&(D=M.iadd(this.m)),D._forceRed(this)},W.prototype.mul=function(p,v){if(p.isZero()||v.isZero())return new a(0)._forceRed(this);var S=p.mul(v),y=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=S.isub(y).iushrn(this.shift),D=M;return M.cmp(this.m)>=0?D=M.isub(this.m):M.cmpn(0)<0&&(D=M.iadd(this.m)),D._forceRed(this)},W.prototype.invm=function(p){var v=this.imod(p._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(typeof NF=="undefined"||NF,Zoe)});var dN=Ee((tir,Joe)=>{"use strict";w();_();var pN=Oi(),iy=pN.Buffer,ef={},tf;for(tf in pN)!pN.hasOwnProperty(tf)||tf==="SlowBuffer"||tf==="Buffer"||(ef[tf]=pN[tf]);var ay=ef.Buffer={};for(tf in iy)!iy.hasOwnProperty(tf)||tf==="allocUnsafe"||tf==="allocUnsafeSlow"||(ay[tf]=iy[tf]);ef.Buffer.prototype=iy.prototype;(!ay.from||ay.from===Uint8Array.from)&&(ay.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return iy(t,e,r)});ay.alloc||(ay.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=iy(t);return!e||e.length===0?n.fill(0):typeof r=="string"?n.fill(e,r):n.fill(e),n});if(!ef.kStringMaxLength)try{ef.kStringMaxLength=$process.binding("buffer").kStringMaxLength}catch(t){}ef.constants||(ef.constants={MAX_LENGTH:ef.kMaxLength},ef.kStringMaxLength&&(ef.constants.MAX_STRING_LENGTH=ef.kStringMaxLength));Joe.exports=ef});var mN=Ee(Yoe=>{"use strict";w();_();var Qut=xr();function rf(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}Yoe.Reporter=rf;rf.prototype.isError=function(e){return e instanceof oy};rf.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};rf.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};rf.prototype.enterKey=function(e){return this._reporterState.path.push(e)};rf.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};rf.prototype.leaveKey=function(e,r,n){let a=this._reporterState;this.exitKey(e),a.obj!==null&&(a.obj[r]=n)};rf.prototype.path=function(){return this._reporterState.path.join("/")};rf.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};rf.prototype.leaveObject=function(e){let r=this._reporterState,n=r.obj;return r.obj=e,n};rf.prototype.error=function(e){let r,n=this._reporterState,a=e instanceof oy;if(a?r=e:r=new oy(n.path.map(function(o){return"["+JSON.stringify(o)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return a||n.errors.push(r),r};rf.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function oy(t,e){this.path=t,this.rethrow(e)}Qut(oy,Error);oy.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,oy),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var fy=Ee(DF=>{"use strict";w();_();var eft=xr(),vN=mN().Reporter,sy=dN().Buffer;function nf(t,e){if(vN.call(this,e),!sy.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}eft(nf,vN);DF.DecoderBuffer=nf;nf.isDecoderBuffer=function(e){return e instanceof nf?!0:typeof e=="object"&&sy.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};nf.prototype.save=function(){return{offset:this.offset,reporter:vN.prototype.save.call(this)}};nf.prototype.restore=function(e){let r=new nf(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,vN.prototype.restore.call(this,e.reporter),r};nf.prototype.isEmpty=function(){return this.offset===this.length};nf.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};nf.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new nf(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n};nf.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function uy(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return uy.isEncoderBuffer(r)||(r=new uy(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=sy.byteLength(t);else if(sy.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}DF.EncoderBuffer=uy;uy.isEncoderBuffer=function(e){return e instanceof uy?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};uy.prototype.join=function(e,r){return e||(e=sy.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):sy.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var gN=Ee((iir,Qoe)=>{"use strict";w();_();var tft=mN().Reporter,rft=fy().EncoderBuffer,nft=fy().DecoderBuffer,vs=ou(),Xoe=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],ift=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Xoe),aft=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function vi(t,e,r){let n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}Qoe.exports=vi;var oft=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];vi.prototype.clone=function(){let e=this._baseState,r={};oft.forEach(function(a){r[a]=e[a]});let n=new this.constructor(r.parent);return n._baseState=r,n};vi.prototype._wrap=function(){let e=this._baseState;ift.forEach(function(r){this[r]=function(){let a=new this.constructor(this);return e.children.push(a),a[r].apply(a,arguments)}},this)};vi.prototype._init=function(e){let r=this._baseState;vs(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),vs.equal(r.children.length,1,"Root node can have only one child")};vi.prototype._useArgs=function(e){let r=this._baseState,n=e.filter(function(a){return a instanceof this.constructor},this);e=e.filter(function(a){return!(a instanceof this.constructor)},this),n.length!==0&&(vs(r.children===null),r.children=n,n.forEach(function(a){a._baseState.parent=this},this)),e.length!==0&&(vs(r.args===null),r.args=e,r.reverseArgs=e.map(function(a){if(typeof a!="object"||a.constructor!==Object)return a;let o={};return Object.keys(a).forEach(function(s){s==(s|0)&&(s|=0);let u=a[s];o[u]=s}),o}))};aft.forEach(function(t){vi.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});Xoe.forEach(function(t){vi.prototype[t]=function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return vs(r.tag===null),r.tag=t,this._useArgs(n),this}});vi.prototype.use=function(e){vs(e);let r=this._baseState;return vs(r.use===null),r.use=e,this};vi.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};vi.prototype.def=function(e){let r=this._baseState;return vs(r.default===null),r.default=e,r.optional=!0,this};vi.prototype.explicit=function(e){let r=this._baseState;return vs(r.explicit===null&&r.implicit===null),r.explicit=e,this};vi.prototype.implicit=function(e){let r=this._baseState;return vs(r.explicit===null&&r.implicit===null),r.implicit=e,this};vi.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};vi.prototype.key=function(e){let r=this._baseState;return vs(r.key===null),r.key=e,this};vi.prototype.any=function(){let e=this._baseState;return e.any=!0,this};vi.prototype.choice=function(e){let r=this._baseState;return vs(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this};vi.prototype.contains=function(e){let r=this._baseState;return vs(r.use===null),r.contains=e,this};vi.prototype._decode=function(e,r){let n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let a=n.default,o=!0,s=null;if(n.key!==null&&(s=e.enterKey(n.key)),n.optional){let f=null;if(n.explicit!==null?f=n.explicit:n.implicit!==null?f=n.implicit:n.tag!==null&&(f=n.tag),f===null&&!n.any){let l=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),o=!0}catch(c){o=!1}e.restore(l)}else if(o=this._peekTag(e,f,n.any),e.isError(o))return o}let u;if(n.obj&&o&&(u=e.enterObject()),o){if(n.explicit!==null){let l=this._decodeTag(e,n.explicit);if(e.isError(l))return l;e=l}let f=e.offset;if(n.use===null&&n.choice===null){let l;n.any&&(l=e.save());let c=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(c))return c;n.any?a=e.raw(l):e=c}if(r&&r.track&&n.tag!==null&&r.track(e.path(),f,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?a=this._decodeGeneric(n.tag,e,r):a=this._decodeChoice(e,r)),e.isError(a))return a;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(c){c._decode(e,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let l=new nft(a);a=this._getUse(n.contains,e._reporterState.obj)._decode(l,r)}}return n.obj&&o&&(a=e.leaveObject(u)),n.key!==null&&(a!==null||o===!0)?e.leaveKey(s,n.key,a):s!==null&&e.exitKey(s),a};vi.prototype._decodeGeneric=function(e,r,n){let a=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,a.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&a.args?this._decodeObjid(r,a.args[0],a.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,a.args&&a.args[0],n):a.use!==null?this._getUse(a.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)};vi.prototype._getUse=function(e,r){let n=this._baseState;return n.useDecoder=this._use(e,r),vs(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};vi.prototype._decodeChoice=function(e,r){let n=this._baseState,a=null,o=!1;return Object.keys(n.choice).some(function(s){let u=e.save(),f=n.choice[s];try{let l=f._decode(e,r);if(e.isError(l))return!1;a={type:s,value:l},o=!0}catch(l){return e.restore(u),!1}return!0},this),o?a:e.error("Choice not matched")};vi.prototype._createEncoderBuffer=function(e){return new rft(e,this.reporter)};vi.prototype._encode=function(e,r,n){let a=this._baseState;if(a.default!==null&&a.default===e)return;let o=this._encodeValue(e,r,n);if(o!==void 0&&!this._skipDefault(o,r,n))return o};vi.prototype._encodeValue=function(e,r,n){let a=this._baseState;if(a.parent===null)return a.children[0]._encode(e,r||new tft);let o=null;if(this.reporter=r,a.optional&&e===void 0)if(a.default!==null)e=a.default;else return;let s=null,u=!1;if(a.any)o=this._createEncoderBuffer(e);else if(a.choice)o=this._encodeChoice(e,r);else if(a.contains)s=this._getUse(a.contains,n)._encode(e,r),u=!0;else if(a.children)s=a.children.map(function(f){if(f._baseState.tag==="null_")return f._encode(null,r,e);if(f._baseState.key===null)return r.error("Child should have a key");let l=r.enterKey(f._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let c=f._encode(e[f._baseState.key],r,e);return r.leaveKey(l),c},this).filter(function(f){return f}),s=this._createEncoderBuffer(s);else if(a.tag==="seqof"||a.tag==="setof"){if(!(a.args&&a.args.length===1))return r.error("Too many args for : "+a.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let f=this.clone();f._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(l){let c=this._baseState;return this._getUse(c.args[0],e)._encode(l,r)},f))}else a.use!==null?o=this._getUse(a.use,n)._encode(e,r):(s=this._encodePrimitive(a.tag,e),u=!0);if(!a.any&&a.choice===null){let f=a.implicit!==null?a.implicit:a.tag,l=a.implicit===null?"universal":"context";f===null?a.use===null&&r.error("Tag could be omitted only for .use()"):a.use===null&&(o=this._encodeComposite(f,u,l,s))}return a.explicit!==null&&(o=this._encodeComposite(a.explicit,!1,"context",o)),o};vi.prototype._encodeChoice=function(e,r){let n=this._baseState,a=n.choice[e.type];return a||vs(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),a._encode(e.value,r)};vi.prototype._encodePrimitive=function(e,r){let n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};vi.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};vi.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var yN=Ee(a0=>{"use strict";w();_();function ese(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let n=t[r];e[n]=r}),e}a0.tagClass={0:"universal",1:"application",2:"context",3:"private"};a0.tagClassByName=ese(a0.tagClass);a0.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};a0.tagByName=ese(a0.tag)});var IF=Ee((oir,nse)=>{"use strict";w();_();var sft=xr(),bh=dN().Buffer,tse=gN(),kF=yN();function rse(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new hl,this.tree._init(t.body)}nse.exports=rse;rse.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function hl(t){tse.call(this,"der",t)}sft(hl,tse);hl.prototype._encodeComposite=function(e,r,n,a){let o=uft(e,r,n,this.reporter);if(a.length<128){let f=bh.alloc(2);return f[0]=o,f[1]=a.length,this._createEncoderBuffer([f,a])}let s=1;for(let f=a.length;f>=256;f>>=8)s++;let u=bh.alloc(1+1+s);u[0]=o,u[1]=128|s;for(let f=1+s,l=a.length;l>0;f--,l>>=8)u[f]=l&255;return this._createEncoderBuffer([u,a])};hl.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let n=bh.alloc(e.length*2);for(let a=0;a<e.length;a++)n.writeUInt16BE(e.charCodeAt(a),a*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};hl.prototype._encodeObjid=function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let u=0;u<e.length;u++)e[u]|=0}else if(Array.isArray(e)){e=e.slice();for(let u=0;u<e.length;u++)e[u]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let a=0;for(let u=0;u<e.length;u++){let f=e[u];for(a++;f>=128;f>>=7)a++}let o=bh.alloc(a),s=o.length-1;for(let u=e.length-1;u>=0;u--){let f=e[u];for(o[s--]=f&127;(f>>=7)>0;)o[s--]=128|f&127}return this._createEncoderBuffer(o)};function af(t){return t<10?"0"+t:t}hl.prototype._encodeTime=function(e,r){let n,a=new Date(e);return r==="gentime"?n=[af(a.getUTCFullYear()),af(a.getUTCMonth()+1),af(a.getUTCDate()),af(a.getUTCHours()),af(a.getUTCMinutes()),af(a.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[af(a.getUTCFullYear()%100),af(a.getUTCMonth()+1),af(a.getUTCDate()),af(a.getUTCHours()),af(a.getUTCMinutes()),af(a.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")};hl.prototype._encodeNull=function(){return this._createEncoderBuffer("")};hl.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!bh.isBuffer(e)){let o=e.toArray();!e.sign&&o[0]&128&&o.unshift(0),e=bh.from(o)}if(bh.isBuffer(e)){let o=e.length;e.length===0&&o++;let s=bh.alloc(o);return e.copy(s),e.length===0&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let o=e;o>=256;o>>=8)n++;let a=new Array(n);for(let o=a.length-1;o>=0;o--)a[o]=e&255,e>>=8;return a[0]&128&&a.unshift(0),this._createEncoderBuffer(bh.from(a))};hl.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};hl.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};hl.prototype._skipDefault=function(e,r,n){let a=this._baseState,o;if(a.default===null)return!1;let s=e.join();if(a.defaultBuffer===void 0&&(a.defaultBuffer=this._encodeValue(a.default,r,n).join()),s.length!==a.defaultBuffer.length)return!1;for(o=0;o<s.length;o++)if(s[o]!==a.defaultBuffer[o])return!1;return!0};function uft(t,e,r,n){let a;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),kF.tagByName.hasOwnProperty(t))a=kF.tagByName[t];else if(typeof t=="number"&&(t|0)===t)a=t;else return n.error("Unknown tag: "+t);return a>=31?n.error("Multi-octet tag encoding unsupported"):(e||(a|=32),a|=kF.tagClassByName[r||"universal"]<<6,a)}});var ase=Ee((sir,ise)=>{"use strict";w();_();var fft=xr(),CF=IF();function OF(t){CF.call(this,t),this.enc="pem"}fft(OF,CF);ise.exports=OF;OF.prototype.encode=function(e,r){let a=CF.prototype.encode.call(this,e).toString("base64"),o=["-----BEGIN "+r.label+"-----"];for(let s=0;s<a.length;s+=64)o.push(a.slice(s,s+64));return o.push("-----END "+r.label+"-----"),o.join(`
`)}});var RF=Ee(sse=>{"use strict";w();_();var ose=sse;ose.der=IF();ose.pem=ase()});var BF=Ee((fir,pse)=>{"use strict";w();_();var lft=xr(),cft=TF(),use=fy().DecoderBuffer,lse=gN(),fse=yN();function cse(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new uu,this.tree._init(t.body)}pse.exports=cse;cse.prototype.decode=function(e,r){return use.isDecoderBuffer(e)||(e=new use(e,r)),this.tree._decode(e,r)};function uu(t){lse.call(this,"der",t)}lft(uu,lse);uu.prototype._peekTag=function(e,r,n){if(e.isEmpty())return!1;let a=e.save(),o=FF(e,'Failed to peek tag: "'+r+'"');return e.isError(o)?o:(e.restore(a),o.tag===r||o.tagStr===r||o.tagStr+"of"===r||n)};uu.prototype._decodeTag=function(e,r,n){let a=FF(e,'Failed to decode tag of "'+r+'"');if(e.isError(a))return a;let o=hse(e,a.primitive,'Failed to get length of "'+r+'"');if(e.isError(o))return o;if(!n&&a.tag!==r&&a.tagStr!==r&&a.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(a.primitive||o!==null)return e.skip(o,'Failed to match body of: "'+r+'"');let s=e.save(),u=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(u)?u:(o=e.offset-s.offset,e.restore(s),e.skip(o,'Failed to match body of: "'+r+'"'))};uu.prototype._skipUntilEnd=function(e,r){for(;;){let n=FF(e,r);if(e.isError(n))return n;let a=hse(e,n.primitive,r);if(e.isError(a))return a;let o;if(n.primitive||a!==null?o=e.skip(a):o=this._skipUntilEnd(e,r),e.isError(o))return o;if(n.tagStr==="end")break}};uu.prototype._decodeList=function(e,r,n,a){let o=[];for(;!e.isEmpty();){let s=this._peekTag(e,"end");if(e.isError(s))return s;let u=n.decode(e,"der",a);if(e.isError(u)&&s)break;o.push(u)}return o};uu.prototype._decodeStr=function(e,r){if(r==="bitstr"){let n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){let n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let a="";for(let o=0;o<n.length/2;o++)a+=String.fromCharCode(n.readUInt16BE(o*2));return a}else if(r==="numstr"){let n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};uu.prototype._decodeObjid=function(e,r,n){let a,o=[],s=0,u=0;for(;!e.isEmpty();)u=e.readUInt8(),s<<=7,s|=u&127,(u&128)===0&&(o.push(s),s=0);u&128&&o.push(s);let f=o[0]/40|0,l=o[0]%40;if(n?a=o:a=[f,l].concat(o.slice(1)),r){let c=r[a.join(" ")];c===void 0&&(c=r[a.join(".")]),c!==void 0&&(a=c)}return a};uu.prototype._decodeTime=function(e,r){let n=e.raw().toString(),a,o,s,u,f,l;if(r==="gentime")a=n.slice(0,4)|0,o=n.slice(4,6)|0,s=n.slice(6,8)|0,u=n.slice(8,10)|0,f=n.slice(10,12)|0,l=n.slice(12,14)|0;else if(r==="utctime")a=n.slice(0,2)|0,o=n.slice(2,4)|0,s=n.slice(4,6)|0,u=n.slice(6,8)|0,f=n.slice(8,10)|0,l=n.slice(10,12)|0,a<70?a=2e3+a:a=1900+a;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(a,o-1,s,u,f,l,0)};uu.prototype._decodeNull=function(){return null};uu.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};uu.prototype._decodeInt=function(e,r){let n=e.raw(),a=new cft(n);return r&&(a=r[a.toString(10)]||a),a};uu.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function FF(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let n=fse.tagClass[r>>6],a=(r&32)===0;if((r&31)===31){let s=r;for(r=0;(s&128)===128;){if(s=t.readUInt8(e),t.isError(s))return s;r<<=7,r|=s&127}}else r&=31;let o=fse.tag[r];return{cls:n,primitive:a,tag:r,tagStr:o}}function hse(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if((n&128)===0)return n;let a=n&127;if(a>4)return t.error("length octect is too long");n=0;for(let o=0;o<a;o++){n<<=8;let s=t.readUInt8(r);if(t.isError(s))return s;n|=s}return n}});var mse=Ee((lir,dse)=>{"use strict";w();_();var hft=xr(),pft=dN().Buffer,LF=BF();function PF(t){LF.call(this,t),this.enc="pem"}hft(PF,LF);dse.exports=PF;PF.prototype.decode=function(e,r){let n=e.toString().split(/[\r\n]+/g),a=r.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,u=-1;for(let c=0;c<n.length;c++){let h=n[c].match(o);if(h!==null&&h[2]===a)if(s===-1){if(h[1]!=="BEGIN")break;s=c}else{if(h[1]!=="END")break;u=c;break}}if(s===-1||u===-1)throw new Error("PEM section not found for: "+a);let f=n.slice(s+1,u).join("");f.replace(/[^a-z0-9+/=]+/gi,"");let l=pft.from(f,"base64");return LF.prototype.decode.call(this,l,r)}});var qF=Ee(gse=>{"use strict";w();_();var vse=gse;vse.der=BF();vse.pem=mse()});var bse=Ee(yse=>{"use strict";w();_();var dft=RF(),mft=qF(),vft=xr(),gft=yse;gft.define=function(e,r){return new ly(e,r)};function ly(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}ly.prototype._createNamed=function(e){let r=this.name;function n(a){this._initNamed(a,r)}return vft(n,e),n.prototype._initNamed=function(o,s){e.call(this,o,s)},new n(this)};ly.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(mft[e])),this.decoders[e]};ly.prototype.decode=function(e,r,n){return this._getDecoder(r).decode(e,n)};ly.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(dft[e])),this.encoders[e]};ly.prototype.encode=function(e,r,n){return this._getEncoder(r).encode(e,n)}});var xse=Ee(wse=>{"use strict";w();_();var bN=wse;bN.Reporter=mN().Reporter;bN.DecoderBuffer=fy().DecoderBuffer;bN.EncoderBuffer=fy().EncoderBuffer;bN.Node=gN()});var Ese=Ee(Sse=>{"use strict";w();_();var _se=Sse;_se._reverse=function(e){let r={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);let a=e[n];r[a]=n}),r};_se.der=yN()});var zF=Ee(Mse=>{"use strict";w();_();var cy=Mse;cy.bignum=TF();cy.define=bse().define;cy.base=xse();cy.constants=Ese();cy.decoders=qF();cy.encoders=RF()});var Dse=Ee((vir,Tse)=>{"use strict";w();_();var pl=zF(),Ase=pl.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),yft=pl.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),UF=pl.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),bft=pl.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(UF),this.key("subjectPublicKey").bitstr())}),wft=pl.define("RelativeDistinguishedName",function(){this.setof(yft)}),xft=pl.define("RDNSequence",function(){this.seqof(wft)}),Nse=pl.define("Name",function(){this.choice({rdnSequence:this.use(xft)})}),_ft=pl.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Ase),this.key("notAfter").use(Ase))}),Sft=pl.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Eft=pl.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(UF),this.key("issuer").use(Nse),this.key("validity").use(_ft),this.key("subject").use(Nse),this.key("subjectPublicKeyInfo").use(bft),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Sft).optional())}),Mft=pl.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Eft),this.key("signatureAlgorithm").use(UF),this.key("signatureValue").bitstr())});Tse.exports=Mft});var Ise=Ee(ml=>{"use strict";w();_();var dl=zF();ml.certificate=Dse();var Aft=dl.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});ml.RSAPrivateKey=Aft;var Nft=dl.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});ml.RSAPublicKey=Nft;var Tft=dl.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(kse),this.key("subjectPublicKey").bitstr())});ml.PublicKey=Tft;var kse=dl.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),Dft=dl.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(kse),this.key("subjectPrivateKey").octstr())});ml.PrivateKey=Dft;var kft=dl.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});ml.EncryptedPrivateKey=kft;var Ift=dl.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});ml.DSAPrivateKey=Ift;ml.DSAparam=dl.define("DSAparam",function(){this.int()});var Cft=dl.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Oft),this.key("publicKey").optional().explicit(1).bitstr())});ml.ECPrivateKey=Cft;var Oft=dl.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});ml.signature=dl.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var Cse=Ee((yir,Rft)=>{Rft.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var Rse=Ee((bir,Ose)=>{w();_();var Fft=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,Bft=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,Lft=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,Pft=e2(),qft=T3(),wN=En().Buffer;Ose.exports=function(t,e){var r=t.toString(),n=r.match(Fft),a;if(n){var s="aes"+n[1],u=wN.from(n[2],"hex"),f=wN.from(n[3].replace(/[\r\n]/g,""),"base64"),l=Pft(e,u.slice(0,8),parseInt(n[1],10)).key,c=[],h=qft.createDecipheriv(s,l,u);c.push(h.update(f)),c.push(h.final()),a=wN.concat(c)}else{var o=r.match(Lft);a=wN.from(o[2].replace(/[\r\n]/g,""),"base64")}var m=r.match(Bft)[1];return{tag:m,data:a}}});var m2=Ee((wir,Bse)=>{w();_();var Bs=Ise(),zft=Cse(),Uft=Rse(),jft=T3(),$ft=r8(),jF=En().Buffer;Bse.exports=Fse;function Fse(t){var e;typeof t=="object"&&!jF.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=jF.from(t));var r=Uft(t,e),n=r.tag,a=r.data,o,s;switch(n){case"CERTIFICATE":s=Bs.certificate.decode(a,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(s||(s=Bs.PublicKey.decode(a,"der")),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return Bs.RSAPublicKey.decode(s.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return s.subjectPrivateKey=s.subjectPublicKey,{type:"ec",data:s};case"1.2.840.10040.4.1":return s.algorithm.params.pub_key=Bs.DSAparam.decode(s.subjectPublicKey.data,"der"),{type:"dsa",data:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"ENCRYPTED PRIVATE KEY":a=Bs.EncryptedPrivateKey.decode(a,"der"),a=Vft(a,e);case"PRIVATE KEY":switch(s=Bs.PrivateKey.decode(a,"der"),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return Bs.RSAPrivateKey.decode(s.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:s.algorithm.curve,privateKey:Bs.ECPrivateKey.decode(s.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return s.algorithm.params.priv_key=Bs.DSAparam.decode(s.subjectPrivateKey,"der"),{type:"dsa",params:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"RSA PUBLIC KEY":return Bs.RSAPublicKey.decode(a,"der");case"RSA PRIVATE KEY":return Bs.RSAPrivateKey.decode(a,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Bs.DSAPrivateKey.decode(a,"der")};case"EC PRIVATE KEY":return a=Bs.ECPrivateKey.decode(a,"der"),{curve:a.parameters.value,privateKey:a.privateKey};default:throw new Error("unknown key type "+n)}}Fse.signature=Bs.signature;function Vft(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),a=zft[t.algorithm.decrypt.cipher.algo.join(".")],o=t.algorithm.decrypt.cipher.iv,s=t.subjectPrivateKey,u=parseInt(a.split("-")[1],10)/8,f=$ft.pbkdf2Sync(e,r,n,u,"sha1"),l=jft.createDecipheriv(a,f,o),c=[];return c.push(l.update(s)),c.push(l.final()),jF.concat(c)}});var $F=Ee((xir,Wft)=>{Wft.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var qse=Ee((_ir,_N)=>{w();_();var Yo=O3().Buffer,o0=GR(),Gft=Z3(),Hft=hN().ec,xN=K3(),Kft=m2(),Zft=$F();function Jft(t,e,r,n,a){var o=Kft(e);if(o.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return Yft(t,o)}else if(o.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return Xft(t,o,r)}else if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");t=Yo.concat([a,t]);for(var s=o.modulus.byteLength(),u=[0,1];t.length+u.length+1<s;)u.push(255);u.push(0);for(var f=-1;++f<t.length;)u.push(t[f]);var l=Gft(u,o);return l}function Yft(t,e){var r=Zft[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new Hft(r),a=n.keyFromPrivate(e.privateKey),o=a.sign(t);return Yo.from(o.toDER())}function Xft(t,e,r){for(var n=e.params.priv_key,a=e.params.p,o=e.params.q,s=e.params.g,u=new xN(0),f,l=VF(t,o).mod(o),c=!1,h=Lse(n,o,t,r);c===!1;)f=Pse(o,h,r),u=tlt(s,f,a,o),c=f.invm(o).imul(l.add(n.mul(u))).mod(o),c.cmpn(0)===0&&(c=!1,u=new xN(0));return Qft(u,c)}function Qft(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,n=[48,r,2,t.length];return n=n.concat(t,[2,e.length],e),Yo.from(n)}function Lse(t,e,r,n){if(t=Yo.from(t.toArray()),t.length<e.byteLength()){var a=Yo.alloc(e.byteLength()-t.length);t=Yo.concat([a,t])}var o=r.length,s=elt(r,e),u=Yo.alloc(o);u.fill(1);var f=Yo.alloc(o);return f=o0(n,f).update(u).update(Yo.from([0])).update(t).update(s).digest(),u=o0(n,f).update(u).digest(),f=o0(n,f).update(u).update(Yo.from([1])).update(t).update(s).digest(),u=o0(n,f).update(u).digest(),{k:f,v:u}}function VF(t,e){var r=new xN(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function elt(t,e){t=VF(t,e),t=t.mod(e);var r=Yo.from(t.toArray());if(r.length<e.byteLength()){var n=Yo.alloc(e.byteLength()-r.length);r=Yo.concat([n,r])}return r}function Pse(t,e,r){var n,a;do{for(n=Yo.alloc(0);n.length*8<t.bitLength();)e.v=o0(r,e.k).update(e.v).digest(),n=Yo.concat([n,e.v]);a=VF(n,t),e.k=o0(r,e.k).update(e.v).update(Yo.from([0])).digest(),e.v=o0(r,e.k).update(e.v).digest()}while(a.cmp(t)!==-1);return a}function tlt(t,e,r,n){return t.toRed(xN.mont(r)).redPow(e).fromRed().mod(n)}_N.exports=Jft;_N.exports.getKey=Lse;_N.exports.makeKey=Pse});var $se=Ee((Sir,jse)=>{w();_();var WF=O3().Buffer,v2=K3(),rlt=hN().ec,Use=m2(),nlt=$F();function ilt(t,e,r,n,a){var o=Use(r);if(o.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return alt(t,e,o)}else if(o.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return olt(t,e,o)}else if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");e=WF.concat([a,e]);for(var s=o.modulus.byteLength(),u=[1],f=0;e.length+u.length+2<s;)u.push(255),f++;u.push(0);for(var l=-1;++l<e.length;)u.push(e[l]);u=WF.from(u);var c=v2.mont(o.modulus);t=new v2(t).toRed(c),t=t.redPow(new v2(o.publicExponent)),t=WF.from(t.fromRed().toArray());var h=f<8?1:0;for(s=Math.min(t.length,u.length),t.length!==u.length&&(h=1),l=-1;++l<s;)h|=t[l]^u[l];return h===0}function alt(t,e,r){var n=nlt[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var a=new rlt(n),o=r.data.subjectPrivateKey.data;return a.verify(e,t,o)}function olt(t,e,r){var n=r.data.p,a=r.data.q,o=r.data.g,s=r.data.pub_key,u=Use.signature.decode(t,"der"),f=u.s,l=u.r;zse(f,a),zse(l,a);var c=v2.mont(n),h=f.invm(a),m=o.toRed(c).redPow(new v2(e).mul(h).mod(a)).fromRed().mul(s.toRed(c).redPow(l.mul(h).mod(a)).fromRed()).mod(n).mod(a);return m.cmp(l)===0}function zse(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}jse.exports=ilt});var Zse=Ee((Eir,Kse)=>{w();_();var SN=O3().Buffer,Gse=Fg(),EN=wae(),Hse=xr(),slt=qse(),ult=$se(),s0=HR();Object.keys(s0).forEach(function(t){s0[t].id=SN.from(s0[t].id,"hex"),s0[t.toLowerCase()]=s0[t]});function g2(t){EN.Writable.call(this);var e=s0[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=Gse(e.hash),this._tag=e.id,this._signType=e.sign}Hse(g2,EN.Writable);g2.prototype._write=function(e,r,n){this._hash.update(e),n()};g2.prototype.update=function(e,r){return typeof e=="string"&&(e=SN.from(e,r)),this._hash.update(e),this};g2.prototype.sign=function(e,r){this.end();var n=this._hash.digest(),a=slt(n,e,this._hashType,this._signType,this._tag);return r?a.toString(r):a};function y2(t){EN.Writable.call(this);var e=s0[t];if(!e)throw new Error("Unknown message digest");this._hash=Gse(e.hash),this._tag=e.id,this._signType=e.sign}Hse(y2,EN.Writable);y2.prototype._write=function(e,r,n){this._hash.update(e),n()};y2.prototype.update=function(e,r){return typeof e=="string"&&(e=SN.from(e,r)),this._hash.update(e),this};y2.prototype.verify=function(e,r,n){typeof r=="string"&&(r=SN.from(r,n)),this.end();var a=this._hash.digest();return ult(r,a,e,this._signType,this._tag)};function Vse(t){return new g2(t)}function Wse(t){return new y2(t)}Kse.exports={Sign:Vse,Verify:Wse,createSign:Vse,createVerify:Wse}});var Yse=Ee((Jse,GF)=>{w();_();(function(t,e){"use strict";function r(T,p){if(!T)throw new Error(p||"Assertion failed")}function n(T,p){T.super_=p;var v=function(){};v.prototype=p.prototype,T.prototype=new v,T.prototype.constructor=T}function a(T,p,v){if(a.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((p==="le"||p==="be")&&(v=p,p=10),this._init(T||0,p||10,v||"be"))}typeof t=="object"?t.exports=a:e.BN=a,a.BN=a,a.wordSize=26;var o;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?o=window.Buffer:o=Oi().Buffer}catch(T){}a.isBN=function(p){return p instanceof a?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===a.wordSize&&Array.isArray(p.words)},a.max=function(p,v){return p.cmp(v)>0?p:v},a.min=function(p,v){return p.cmp(v)<0?p:v},a.prototype._init=function(p,v,S){if(typeof p=="number")return this._initNumber(p,v,S);if(typeof p=="object")return this._initArray(p,v,S);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),p=p.toString().replace(/\s+/g,"");var y=0;p[0]==="-"&&(y++,this.negative=1),y<p.length&&(v===16?this._parseHex(p,y,S):(this._parseBase(p,v,y),S==="le"&&this._initArray(this.toArray(),v,S)))},a.prototype._initNumber=function(p,v,S){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(r(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),v,S)},a.prototype._initArray=function(p,v,S){if(r(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var M,D,k=0;if(S==="be")for(y=p.length-1,M=0;y>=0;y-=3)D=p[y]|p[y-1]<<8|p[y-2]<<16,this.words[M]|=D<<k&67108863,this.words[M+1]=D>>>26-k&67108863,k+=24,k>=26&&(k-=26,M++);else if(S==="le")for(y=0,M=0;y<p.length;y+=3)D=p[y]|p[y+1]<<8|p[y+2]<<16,this.words[M]|=D<<k&67108863,this.words[M+1]=D>>>26-k&67108863,k+=24,k>=26&&(k-=26,M++);return this.strip()};function s(T,p){var v=T.charCodeAt(p);return v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:v-48&15}function u(T,p,v){var S=s(T,v);return v-1>=p&&(S|=s(T,v-1)<<4),S}a.prototype._parseHex=function(p,v,S){this.length=Math.ceil((p.length-v)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var M=0,D=0,k;if(S==="be")for(y=p.length-1;y>=v;y-=2)k=u(p,v,y)<<M,this.words[D]|=k&67108863,M>=18?(M-=18,D+=1,this.words[D]|=k>>>26):M+=8;else{var E=p.length-v;for(y=E%2===0?v+1:v;y<p.length;y+=2)k=u(p,v,y)<<M,this.words[D]|=k&67108863,M>=18?(M-=18,D+=1,this.words[D]|=k>>>26):M+=8}this.strip()};function f(T,p,v,S){for(var y=0,M=Math.min(T.length,v),D=p;D<M;D++){var k=T.charCodeAt(D)-48;y*=S,k>=49?y+=k-49+10:k>=17?y+=k-17+10:y+=k}return y}a.prototype._parseBase=function(p,v,S){this.words=[0],this.length=1;for(var y=0,M=1;M<=67108863;M*=v)y++;y--,M=M/v|0;for(var D=p.length-S,k=D%y,E=Math.min(D,D-k)+S,d=0,N=S;N<E;N+=y)d=f(p,N,N+y,v),this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(k!==0){var U=1;for(d=f(p,N,p.length,v),N=0;N<k;N++)U*=v;this.imuln(U),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},a.prototype.copy=function(p){p.words=new Array(this.length);for(var v=0;v<this.length;v++)p.words[v]=this.words[v];p.length=this.length,p.negative=this.negative,p.red=this.red},a.prototype.clone=function(){var p=new a(null);return this.copy(p),p},a.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(p,v){p=p||10,v=v|0||1;var S;if(p===16||p==="hex"){S="";for(var y=0,M=0,D=0;D<this.length;D++){var k=this.words[D],E=((k<<y|M)&16777215).toString(16);M=k>>>24-y&16777215,M!==0||D!==this.length-1?S=l[6-E.length]+E+S:S=E+S,y+=2,y>=26&&(y-=26,D--)}for(M!==0&&(S=M.toString(16)+S);S.length%v!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(p===(p|0)&&p>=2&&p<=36){var d=c[p],N=h[p];S="";var U=this.clone();for(U.negative=0;!U.isZero();){var q=U.modn(N).toString(p);U=U.idivn(N),U.isZero()?S=q+S:S=l[d-q.length]+q+S}for(this.isZero()&&(S="0"+S);S.length%v!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(p,v){return r(typeof o!="undefined"),this.toArrayLike(o,p,v)},a.prototype.toArray=function(p,v){return this.toArrayLike(Array,p,v)},a.prototype.toArrayLike=function(p,v,S){var y=this.byteLength(),M=S||Math.max(1,y);r(y<=M,"byte array longer than desired length"),r(M>0,"Requested array length <= 0"),this.strip();var D=v==="le",k=new p(M),E,d,N=this.clone();if(D){for(d=0;!N.isZero();d++)E=N.andln(255),N.iushrn(8),k[d]=E;for(;d<M;d++)k[d]=0}else{for(d=0;d<M-y;d++)k[d]=0;for(d=0;!N.isZero();d++)E=N.andln(255),N.iushrn(8),k[M-d-1]=E}return k},Math.clz32?a.prototype._countBits=function(p){return 32-Math.clz32(p)}:a.prototype._countBits=function(p){var v=p,S=0;return v>=4096&&(S+=13,v>>>=13),v>=64&&(S+=7,v>>>=7),v>=8&&(S+=4,v>>>=4),v>=2&&(S+=2,v>>>=2),S+v},a.prototype._zeroBits=function(p){if(p===0)return 26;var v=p,S=0;return(v&8191)===0&&(S+=13,v>>>=13),(v&127)===0&&(S+=7,v>>>=7),(v&15)===0&&(S+=4,v>>>=4),(v&3)===0&&(S+=2,v>>>=2),(v&1)===0&&S++,S},a.prototype.bitLength=function(){var p=this.words[this.length-1],v=this._countBits(p);return(this.length-1)*26+v};function m(T){for(var p=new Array(T.bitLength()),v=0;v<p.length;v++){var S=v/26|0,y=v%26;p[v]=(T.words[S]&1<<y)>>>y}return p}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,v=0;v<this.length;v++){var S=this._zeroBits(this.words[v]);if(p+=S,S!==26)break}return p},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},a.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]|p.words[v];return this.strip()},a.prototype.ior=function(p){return r((this.negative|p.negative)===0),this.iuor(p)},a.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},a.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},a.prototype.iuand=function(p){var v;this.length>p.length?v=p:v=this;for(var S=0;S<v.length;S++)this.words[S]=this.words[S]&p.words[S];return this.length=v.length,this.strip()},a.prototype.iand=function(p){return r((this.negative|p.negative)===0),this.iuand(p)},a.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},a.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},a.prototype.iuxor=function(p){var v,S;this.length>p.length?(v=this,S=p):(v=p,S=this);for(var y=0;y<S.length;y++)this.words[y]=v.words[y]^S.words[y];if(this!==v)for(;y<v.length;y++)this.words[y]=v.words[y];return this.length=v.length,this.strip()},a.prototype.ixor=function(p){return r((this.negative|p.negative)===0),this.iuxor(p)},a.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},a.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},a.prototype.inotn=function(p){r(typeof p=="number"&&p>=0);var v=Math.ceil(p/26)|0,S=p%26;this._expand(v),S>0&&v--;for(var y=0;y<v;y++)this.words[y]=~this.words[y]&67108863;return S>0&&(this.words[y]=~this.words[y]&67108863>>26-S),this.strip()},a.prototype.notn=function(p){return this.clone().inotn(p)},a.prototype.setn=function(p,v){r(typeof p=="number"&&p>=0);var S=p/26|0,y=p%26;return this._expand(S+1),v?this.words[S]=this.words[S]|1<<y:this.words[S]=this.words[S]&~(1<<y),this.strip()},a.prototype.iadd=function(p){var v;if(this.negative!==0&&p.negative===0)return this.negative=0,v=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,v=this.isub(p),p.negative=1,v._normSign();var S,y;this.length>p.length?(S=this,y=p):(S=p,y=this);for(var M=0,D=0;D<y.length;D++)v=(S.words[D]|0)+(y.words[D]|0)+M,this.words[D]=v&67108863,M=v>>>26;for(;M!==0&&D<S.length;D++)v=(S.words[D]|0)+M,this.words[D]=v&67108863,M=v>>>26;if(this.length=S.length,M!==0)this.words[this.length]=M,this.length++;else if(S!==this)for(;D<S.length;D++)this.words[D]=S.words[D];return this},a.prototype.add=function(p){var v;return p.negative!==0&&this.negative===0?(p.negative=0,v=this.sub(p),p.negative^=1,v):p.negative===0&&this.negative!==0?(this.negative=0,v=p.sub(this),this.negative=1,v):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},a.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var v=this.iadd(p);return p.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var S=this.cmp(p);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,M;S>0?(y=this,M=p):(y=p,M=this);for(var D=0,k=0;k<M.length;k++)v=(y.words[k]|0)-(M.words[k]|0)+D,D=v>>26,this.words[k]=v&67108863;for(;D!==0&&k<y.length;k++)v=(y.words[k]|0)+D,D=v>>26,this.words[k]=v&67108863;if(D===0&&k<y.length&&y!==this)for(;k<y.length;k++)this.words[k]=y.words[k];return this.length=Math.max(this.length,k),y!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(p){return this.clone().isub(p)};function g(T,p,v){v.negative=p.negative^T.negative;var S=T.length+p.length|0;v.length=S,S=S-1|0;var y=T.words[0]|0,M=p.words[0]|0,D=y*M,k=D&67108863,E=D/67108864|0;v.words[0]=k;for(var d=1;d<S;d++){for(var N=E>>>26,U=E&67108863,q=Math.min(d,p.length-1),P=Math.max(0,d-T.length+1);P<=q;P++){var G=d-P|0;y=T.words[G]|0,M=p.words[P]|0,D=y*M+U,N+=D/67108864|0,U=D&67108863}v.words[d]=U|0,E=N|0}return E!==0?v.words[d]=E|0:v.length--,v.strip()}var b=function(p,v,S){var y=p.words,M=v.words,D=S.words,k=0,E,d,N,U=y[0]|0,q=U&8191,P=U>>>13,G=y[1]|0,Z=G&8191,X=G>>>13,he=y[2]|0,V=he&8191,K=he>>>13,ne=y[3]|0,fe=ne&8191,pe=ne>>>13,Ie=y[4]|0,ke=Ie&8191,ue=Ie>>>13,xe=y[5]|0,ge=xe&8191,Q=xe>>>13,_e=y[6]|0,ve=_e&8191,be=_e>>>13,qe=y[7]|0,se=qe&8191,Se=qe>>>13,Ke=y[8]|0,J=Ke&8191,H=Ke>>>13,Y=y[9]|0,oe=Y&8191,Me=Y>>>13,Ge=M[0]|0,Ce=Ge&8191,Xe=Ge>>>13,Yt=M[1]|0,tt=Yt&8191,Ye=Yt>>>13,dr=M[2]|0,re=dr&8191,Te=dr>>>13,ft=M[3]|0,ze=ft&8191,et=ft>>>13,lr=M[4]|0,ct=lr&8191,dt=lr>>>13,ki=M[5]|0,vt=ki&8191,pt=ki>>>13,_i=M[6]|0,gt=_i&8191,yt=_i>>>13,_n=M[7]|0,ut=_n&8191,bt=_n>>>13,si=M[8]|0,ht=si&8191,wt=si>>>13,ri=M[9]|0,at=ri&8191,lt=ri>>>13;S.negative=p.negative^v.negative,S.length=19,E=Math.imul(q,Ce),d=Math.imul(q,Xe),d=d+Math.imul(P,Ce)|0,N=Math.imul(P,Xe);var ie=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ie>>>26)|0,ie&=67108863,E=Math.imul(Z,Ce),d=Math.imul(Z,Xe),d=d+Math.imul(X,Ce)|0,N=Math.imul(X,Xe),E=E+Math.imul(q,tt)|0,d=d+Math.imul(q,Ye)|0,d=d+Math.imul(P,tt)|0,N=N+Math.imul(P,Ye)|0;var ce=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ce>>>26)|0,ce&=67108863,E=Math.imul(V,Ce),d=Math.imul(V,Xe),d=d+Math.imul(K,Ce)|0,N=Math.imul(K,Xe),E=E+Math.imul(Z,tt)|0,d=d+Math.imul(Z,Ye)|0,d=d+Math.imul(X,tt)|0,N=N+Math.imul(X,Ye)|0,E=E+Math.imul(q,re)|0,d=d+Math.imul(q,Te)|0,d=d+Math.imul(P,re)|0,N=N+Math.imul(P,Te)|0;var de=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(de>>>26)|0,de&=67108863,E=Math.imul(fe,Ce),d=Math.imul(fe,Xe),d=d+Math.imul(pe,Ce)|0,N=Math.imul(pe,Xe),E=E+Math.imul(V,tt)|0,d=d+Math.imul(V,Ye)|0,d=d+Math.imul(K,tt)|0,N=N+Math.imul(K,Ye)|0,E=E+Math.imul(Z,re)|0,d=d+Math.imul(Z,Te)|0,d=d+Math.imul(X,re)|0,N=N+Math.imul(X,Te)|0,E=E+Math.imul(q,ze)|0,d=d+Math.imul(q,et)|0,d=d+Math.imul(P,ze)|0,N=N+Math.imul(P,et)|0;var ye=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ye>>>26)|0,ye&=67108863,E=Math.imul(ke,Ce),d=Math.imul(ke,Xe),d=d+Math.imul(ue,Ce)|0,N=Math.imul(ue,Xe),E=E+Math.imul(fe,tt)|0,d=d+Math.imul(fe,Ye)|0,d=d+Math.imul(pe,tt)|0,N=N+Math.imul(pe,Ye)|0,E=E+Math.imul(V,re)|0,d=d+Math.imul(V,Te)|0,d=d+Math.imul(K,re)|0,N=N+Math.imul(K,Te)|0,E=E+Math.imul(Z,ze)|0,d=d+Math.imul(Z,et)|0,d=d+Math.imul(X,ze)|0,N=N+Math.imul(X,et)|0,E=E+Math.imul(q,ct)|0,d=d+Math.imul(q,dt)|0,d=d+Math.imul(P,ct)|0,N=N+Math.imul(P,dt)|0;var Ae=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,E=Math.imul(ge,Ce),d=Math.imul(ge,Xe),d=d+Math.imul(Q,Ce)|0,N=Math.imul(Q,Xe),E=E+Math.imul(ke,tt)|0,d=d+Math.imul(ke,Ye)|0,d=d+Math.imul(ue,tt)|0,N=N+Math.imul(ue,Ye)|0,E=E+Math.imul(fe,re)|0,d=d+Math.imul(fe,Te)|0,d=d+Math.imul(pe,re)|0,N=N+Math.imul(pe,Te)|0,E=E+Math.imul(V,ze)|0,d=d+Math.imul(V,et)|0,d=d+Math.imul(K,ze)|0,N=N+Math.imul(K,et)|0,E=E+Math.imul(Z,ct)|0,d=d+Math.imul(Z,dt)|0,d=d+Math.imul(X,ct)|0,N=N+Math.imul(X,dt)|0,E=E+Math.imul(q,vt)|0,d=d+Math.imul(q,pt)|0,d=d+Math.imul(P,vt)|0,N=N+Math.imul(P,pt)|0;var Ne=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,E=Math.imul(ve,Ce),d=Math.imul(ve,Xe),d=d+Math.imul(be,Ce)|0,N=Math.imul(be,Xe),E=E+Math.imul(ge,tt)|0,d=d+Math.imul(ge,Ye)|0,d=d+Math.imul(Q,tt)|0,N=N+Math.imul(Q,Ye)|0,E=E+Math.imul(ke,re)|0,d=d+Math.imul(ke,Te)|0,d=d+Math.imul(ue,re)|0,N=N+Math.imul(ue,Te)|0,E=E+Math.imul(fe,ze)|0,d=d+Math.imul(fe,et)|0,d=d+Math.imul(pe,ze)|0,N=N+Math.imul(pe,et)|0,E=E+Math.imul(V,ct)|0,d=d+Math.imul(V,dt)|0,d=d+Math.imul(K,ct)|0,N=N+Math.imul(K,dt)|0,E=E+Math.imul(Z,vt)|0,d=d+Math.imul(Z,pt)|0,d=d+Math.imul(X,vt)|0,N=N+Math.imul(X,pt)|0,E=E+Math.imul(q,gt)|0,d=d+Math.imul(q,yt)|0,d=d+Math.imul(P,gt)|0,N=N+Math.imul(P,yt)|0;var Pe=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,E=Math.imul(se,Ce),d=Math.imul(se,Xe),d=d+Math.imul(Se,Ce)|0,N=Math.imul(Se,Xe),E=E+Math.imul(ve,tt)|0,d=d+Math.imul(ve,Ye)|0,d=d+Math.imul(be,tt)|0,N=N+Math.imul(be,Ye)|0,E=E+Math.imul(ge,re)|0,d=d+Math.imul(ge,Te)|0,d=d+Math.imul(Q,re)|0,N=N+Math.imul(Q,Te)|0,E=E+Math.imul(ke,ze)|0,d=d+Math.imul(ke,et)|0,d=d+Math.imul(ue,ze)|0,N=N+Math.imul(ue,et)|0,E=E+Math.imul(fe,ct)|0,d=d+Math.imul(fe,dt)|0,d=d+Math.imul(pe,ct)|0,N=N+Math.imul(pe,dt)|0,E=E+Math.imul(V,vt)|0,d=d+Math.imul(V,pt)|0,d=d+Math.imul(K,vt)|0,N=N+Math.imul(K,pt)|0,E=E+Math.imul(Z,gt)|0,d=d+Math.imul(Z,yt)|0,d=d+Math.imul(X,gt)|0,N=N+Math.imul(X,yt)|0,E=E+Math.imul(q,ut)|0,d=d+Math.imul(q,bt)|0,d=d+Math.imul(P,ut)|0,N=N+Math.imul(P,bt)|0;var je=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(je>>>26)|0,je&=67108863,E=Math.imul(J,Ce),d=Math.imul(J,Xe),d=d+Math.imul(H,Ce)|0,N=Math.imul(H,Xe),E=E+Math.imul(se,tt)|0,d=d+Math.imul(se,Ye)|0,d=d+Math.imul(Se,tt)|0,N=N+Math.imul(Se,Ye)|0,E=E+Math.imul(ve,re)|0,d=d+Math.imul(ve,Te)|0,d=d+Math.imul(be,re)|0,N=N+Math.imul(be,Te)|0,E=E+Math.imul(ge,ze)|0,d=d+Math.imul(ge,et)|0,d=d+Math.imul(Q,ze)|0,N=N+Math.imul(Q,et)|0,E=E+Math.imul(ke,ct)|0,d=d+Math.imul(ke,dt)|0,d=d+Math.imul(ue,ct)|0,N=N+Math.imul(ue,dt)|0,E=E+Math.imul(fe,vt)|0,d=d+Math.imul(fe,pt)|0,d=d+Math.imul(pe,vt)|0,N=N+Math.imul(pe,pt)|0,E=E+Math.imul(V,gt)|0,d=d+Math.imul(V,yt)|0,d=d+Math.imul(K,gt)|0,N=N+Math.imul(K,yt)|0,E=E+Math.imul(Z,ut)|0,d=d+Math.imul(Z,bt)|0,d=d+Math.imul(X,ut)|0,N=N+Math.imul(X,bt)|0,E=E+Math.imul(q,ht)|0,d=d+Math.imul(q,wt)|0,d=d+Math.imul(P,ht)|0,N=N+Math.imul(P,wt)|0;var Qe=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,E=Math.imul(oe,Ce),d=Math.imul(oe,Xe),d=d+Math.imul(Me,Ce)|0,N=Math.imul(Me,Xe),E=E+Math.imul(J,tt)|0,d=d+Math.imul(J,Ye)|0,d=d+Math.imul(H,tt)|0,N=N+Math.imul(H,Ye)|0,E=E+Math.imul(se,re)|0,d=d+Math.imul(se,Te)|0,d=d+Math.imul(Se,re)|0,N=N+Math.imul(Se,Te)|0,E=E+Math.imul(ve,ze)|0,d=d+Math.imul(ve,et)|0,d=d+Math.imul(be,ze)|0,N=N+Math.imul(be,et)|0,E=E+Math.imul(ge,ct)|0,d=d+Math.imul(ge,dt)|0,d=d+Math.imul(Q,ct)|0,N=N+Math.imul(Q,dt)|0,E=E+Math.imul(ke,vt)|0,d=d+Math.imul(ke,pt)|0,d=d+Math.imul(ue,vt)|0,N=N+Math.imul(ue,pt)|0,E=E+Math.imul(fe,gt)|0,d=d+Math.imul(fe,yt)|0,d=d+Math.imul(pe,gt)|0,N=N+Math.imul(pe,yt)|0,E=E+Math.imul(V,ut)|0,d=d+Math.imul(V,bt)|0,d=d+Math.imul(K,ut)|0,N=N+Math.imul(K,bt)|0,E=E+Math.imul(Z,ht)|0,d=d+Math.imul(Z,wt)|0,d=d+Math.imul(X,ht)|0,N=N+Math.imul(X,wt)|0,E=E+Math.imul(q,at)|0,d=d+Math.imul(q,lt)|0,d=d+Math.imul(P,at)|0,N=N+Math.imul(P,lt)|0;var Ve=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,E=Math.imul(oe,tt),d=Math.imul(oe,Ye),d=d+Math.imul(Me,tt)|0,N=Math.imul(Me,Ye),E=E+Math.imul(J,re)|0,d=d+Math.imul(J,Te)|0,d=d+Math.imul(H,re)|0,N=N+Math.imul(H,Te)|0,E=E+Math.imul(se,ze)|0,d=d+Math.imul(se,et)|0,d=d+Math.imul(Se,ze)|0,N=N+Math.imul(Se,et)|0,E=E+Math.imul(ve,ct)|0,d=d+Math.imul(ve,dt)|0,d=d+Math.imul(be,ct)|0,N=N+Math.imul(be,dt)|0,E=E+Math.imul(ge,vt)|0,d=d+Math.imul(ge,pt)|0,d=d+Math.imul(Q,vt)|0,N=N+Math.imul(Q,pt)|0,E=E+Math.imul(ke,gt)|0,d=d+Math.imul(ke,yt)|0,d=d+Math.imul(ue,gt)|0,N=N+Math.imul(ue,yt)|0,E=E+Math.imul(fe,ut)|0,d=d+Math.imul(fe,bt)|0,d=d+Math.imul(pe,ut)|0,N=N+Math.imul(pe,bt)|0,E=E+Math.imul(V,ht)|0,d=d+Math.imul(V,wt)|0,d=d+Math.imul(K,ht)|0,N=N+Math.imul(K,wt)|0,E=E+Math.imul(Z,at)|0,d=d+Math.imul(Z,lt)|0,d=d+Math.imul(X,at)|0,N=N+Math.imul(X,lt)|0;var ot=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ot>>>26)|0,ot&=67108863,E=Math.imul(oe,re),d=Math.imul(oe,Te),d=d+Math.imul(Me,re)|0,N=Math.imul(Me,Te),E=E+Math.imul(J,ze)|0,d=d+Math.imul(J,et)|0,d=d+Math.imul(H,ze)|0,N=N+Math.imul(H,et)|0,E=E+Math.imul(se,ct)|0,d=d+Math.imul(se,dt)|0,d=d+Math.imul(Se,ct)|0,N=N+Math.imul(Se,dt)|0,E=E+Math.imul(ve,vt)|0,d=d+Math.imul(ve,pt)|0,d=d+Math.imul(be,vt)|0,N=N+Math.imul(be,pt)|0,E=E+Math.imul(ge,gt)|0,d=d+Math.imul(ge,yt)|0,d=d+Math.imul(Q,gt)|0,N=N+Math.imul(Q,yt)|0,E=E+Math.imul(ke,ut)|0,d=d+Math.imul(ke,bt)|0,d=d+Math.imul(ue,ut)|0,N=N+Math.imul(ue,bt)|0,E=E+Math.imul(fe,ht)|0,d=d+Math.imul(fe,wt)|0,d=d+Math.imul(pe,ht)|0,N=N+Math.imul(pe,wt)|0,E=E+Math.imul(V,at)|0,d=d+Math.imul(V,lt)|0,d=d+Math.imul(K,at)|0,N=N+Math.imul(K,lt)|0;var mt=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(mt>>>26)|0,mt&=67108863,E=Math.imul(oe,ze),d=Math.imul(oe,et),d=d+Math.imul(Me,ze)|0,N=Math.imul(Me,et),E=E+Math.imul(J,ct)|0,d=d+Math.imul(J,dt)|0,d=d+Math.imul(H,ct)|0,N=N+Math.imul(H,dt)|0,E=E+Math.imul(se,vt)|0,d=d+Math.imul(se,pt)|0,d=d+Math.imul(Se,vt)|0,N=N+Math.imul(Se,pt)|0,E=E+Math.imul(ve,gt)|0,d=d+Math.imul(ve,yt)|0,d=d+Math.imul(be,gt)|0,N=N+Math.imul(be,yt)|0,E=E+Math.imul(ge,ut)|0,d=d+Math.imul(ge,bt)|0,d=d+Math.imul(Q,ut)|0,N=N+Math.imul(Q,bt)|0,E=E+Math.imul(ke,ht)|0,d=d+Math.imul(ke,wt)|0,d=d+Math.imul(ue,ht)|0,N=N+Math.imul(ue,wt)|0,E=E+Math.imul(fe,at)|0,d=d+Math.imul(fe,lt)|0,d=d+Math.imul(pe,at)|0,N=N+Math.imul(pe,lt)|0;var Mt=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,E=Math.imul(oe,ct),d=Math.imul(oe,dt),d=d+Math.imul(Me,ct)|0,N=Math.imul(Me,dt),E=E+Math.imul(J,vt)|0,d=d+Math.imul(J,pt)|0,d=d+Math.imul(H,vt)|0,N=N+Math.imul(H,pt)|0,E=E+Math.imul(se,gt)|0,d=d+Math.imul(se,yt)|0,d=d+Math.imul(Se,gt)|0,N=N+Math.imul(Se,yt)|0,E=E+Math.imul(ve,ut)|0,d=d+Math.imul(ve,bt)|0,d=d+Math.imul(be,ut)|0,N=N+Math.imul(be,bt)|0,E=E+Math.imul(ge,ht)|0,d=d+Math.imul(ge,wt)|0,d=d+Math.imul(Q,ht)|0,N=N+Math.imul(Q,wt)|0,E=E+Math.imul(ke,at)|0,d=d+Math.imul(ke,lt)|0,d=d+Math.imul(ue,at)|0,N=N+Math.imul(ue,lt)|0;var $t=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+($t>>>26)|0,$t&=67108863,E=Math.imul(oe,vt),d=Math.imul(oe,pt),d=d+Math.imul(Me,vt)|0,N=Math.imul(Me,pt),E=E+Math.imul(J,gt)|0,d=d+Math.imul(J,yt)|0,d=d+Math.imul(H,gt)|0,N=N+Math.imul(H,yt)|0,E=E+Math.imul(se,ut)|0,d=d+Math.imul(se,bt)|0,d=d+Math.imul(Se,ut)|0,N=N+Math.imul(Se,bt)|0,E=E+Math.imul(ve,ht)|0,d=d+Math.imul(ve,wt)|0,d=d+Math.imul(be,ht)|0,N=N+Math.imul(be,wt)|0,E=E+Math.imul(ge,at)|0,d=d+Math.imul(ge,lt)|0,d=d+Math.imul(Q,at)|0,N=N+Math.imul(Q,lt)|0;var cr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(cr>>>26)|0,cr&=67108863,E=Math.imul(oe,gt),d=Math.imul(oe,yt),d=d+Math.imul(Me,gt)|0,N=Math.imul(Me,yt),E=E+Math.imul(J,ut)|0,d=d+Math.imul(J,bt)|0,d=d+Math.imul(H,ut)|0,N=N+Math.imul(H,bt)|0,E=E+Math.imul(se,ht)|0,d=d+Math.imul(se,wt)|0,d=d+Math.imul(Se,ht)|0,N=N+Math.imul(Se,wt)|0,E=E+Math.imul(ve,at)|0,d=d+Math.imul(ve,lt)|0,d=d+Math.imul(be,at)|0,N=N+Math.imul(be,lt)|0;var rr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(rr>>>26)|0,rr&=67108863,E=Math.imul(oe,ut),d=Math.imul(oe,bt),d=d+Math.imul(Me,ut)|0,N=Math.imul(Me,bt),E=E+Math.imul(J,ht)|0,d=d+Math.imul(J,wt)|0,d=d+Math.imul(H,ht)|0,N=N+Math.imul(H,wt)|0,E=E+Math.imul(se,at)|0,d=d+Math.imul(se,lt)|0,d=d+Math.imul(Se,at)|0,N=N+Math.imul(Se,lt)|0;var Br=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,E=Math.imul(oe,ht),d=Math.imul(oe,wt),d=d+Math.imul(Me,ht)|0,N=Math.imul(Me,wt),E=E+Math.imul(J,at)|0,d=d+Math.imul(J,lt)|0,d=d+Math.imul(H,at)|0,N=N+Math.imul(H,lt)|0;var pr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(pr>>>26)|0,pr&=67108863,E=Math.imul(oe,at),d=Math.imul(oe,lt),d=d+Math.imul(Me,at)|0,N=Math.imul(Me,lt);var Vr=(k+E|0)+((d&8191)<<13)|0;return k=(N+(d>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,D[0]=ie,D[1]=ce,D[2]=de,D[3]=ye,D[4]=Ae,D[5]=Ne,D[6]=Pe,D[7]=je,D[8]=Qe,D[9]=Ve,D[10]=ot,D[11]=mt,D[12]=Mt,D[13]=$t,D[14]=cr,D[15]=rr,D[16]=Br,D[17]=pr,D[18]=Vr,k!==0&&(D[19]=k,S.length++),S};Math.imul||(b=g);function A(T,p,v){v.negative=p.negative^T.negative,v.length=T.length+p.length;for(var S=0,y=0,M=0;M<v.length-1;M++){var D=y;y=0;for(var k=S&67108863,E=Math.min(M,p.length-1),d=Math.max(0,M-T.length+1);d<=E;d++){var N=M-d,U=T.words[N]|0,q=p.words[d]|0,P=U*q,G=P&67108863;D=D+(P/67108864|0)|0,G=G+k|0,k=G&67108863,D=D+(G>>>26)|0,y+=D>>>26,D&=67108863}v.words[M]=k,S=D,D=y}return S!==0?v.words[M]=S:v.length--,v.strip()}function I(T,p,v){var S=new C;return S.mulp(T,p,v)}a.prototype.mulTo=function(p,v){var S,y=this.length+p.length;return this.length===10&&p.length===10?S=b(this,p,v):y<63?S=g(this,p,v):y<1024?S=A(this,p,v):S=I(this,p,v),S};function C(T,p){this.x=T,this.y=p}C.prototype.makeRBT=function(p){for(var v=new Array(p),S=a.prototype._countBits(p)-1,y=0;y<p;y++)v[y]=this.revBin(y,S,p);return v},C.prototype.revBin=function(p,v,S){if(p===0||p===S-1)return p;for(var y=0,M=0;M<v;M++)y|=(p&1)<<v-M-1,p>>=1;return y},C.prototype.permute=function(p,v,S,y,M,D){for(var k=0;k<D;k++)y[k]=v[p[k]],M[k]=S[p[k]]},C.prototype.transform=function(p,v,S,y,M,D){this.permute(D,p,v,S,y,M);for(var k=1;k<M;k<<=1)for(var E=k<<1,d=Math.cos(2*Math.PI/E),N=Math.sin(2*Math.PI/E),U=0;U<M;U+=E)for(var q=d,P=N,G=0;G<k;G++){var Z=S[U+G],X=y[U+G],he=S[U+G+k],V=y[U+G+k],K=q*he-P*V;V=q*V+P*he,he=K,S[U+G]=Z+he,y[U+G]=X+V,S[U+G+k]=Z-he,y[U+G+k]=X-V,G!==E&&(K=d*q-N*P,P=d*P+N*q,q=K)}},C.prototype.guessLen13b=function(p,v){var S=Math.max(v,p)|1,y=S&1,M=0;for(S=S/2|0;S;S=S>>>1)M++;return 1<<M+1+y},C.prototype.conjugate=function(p,v,S){if(!(S<=1))for(var y=0;y<S/2;y++){var M=p[y];p[y]=p[S-y-1],p[S-y-1]=M,M=v[y],v[y]=-v[S-y-1],v[S-y-1]=-M}},C.prototype.normalize13b=function(p,v){for(var S=0,y=0;y<v/2;y++){var M=Math.round(p[2*y+1]/v)*8192+Math.round(p[2*y]/v)+S;p[y]=M&67108863,M<67108864?S=0:S=M/67108864|0}return p},C.prototype.convert13b=function(p,v,S,y){for(var M=0,D=0;D<v;D++)M=M+(p[D]|0),S[2*D]=M&8191,M=M>>>13,S[2*D+1]=M&8191,M=M>>>13;for(D=2*v;D<y;++D)S[D]=0;r(M===0),r((M&-8192)===0)},C.prototype.stub=function(p){for(var v=new Array(p),S=0;S<p;S++)v[S]=0;return v},C.prototype.mulp=function(p,v,S){var y=2*this.guessLen13b(p.length,v.length),M=this.makeRBT(y),D=this.stub(y),k=new Array(y),E=new Array(y),d=new Array(y),N=new Array(y),U=new Array(y),q=new Array(y),P=S.words;P.length=y,this.convert13b(p.words,p.length,k,y),this.convert13b(v.words,v.length,N,y),this.transform(k,D,E,d,y,M),this.transform(N,D,U,q,y,M);for(var G=0;G<y;G++){var Z=E[G]*U[G]-d[G]*q[G];d[G]=E[G]*q[G]+d[G]*U[G],E[G]=Z}return this.conjugate(E,d,y),this.transform(E,d,P,D,y,M),this.conjugate(P,D,y),this.normalize13b(P,y),S.negative=p.negative^v.negative,S.length=p.length+v.length,S.strip()},a.prototype.mul=function(p){var v=new a(null);return v.words=new Array(this.length+p.length),this.mulTo(p,v)},a.prototype.mulf=function(p){var v=new a(null);return v.words=new Array(this.length+p.length),I(this,p,v)},a.prototype.imul=function(p){return this.clone().mulTo(p,this)},a.prototype.imuln=function(p){r(typeof p=="number"),r(p<67108864);for(var v=0,S=0;S<this.length;S++){var y=(this.words[S]|0)*p,M=(y&67108863)+(v&67108863);v>>=26,v+=y/67108864|0,v+=M>>>26,this.words[S]=M&67108863}return v!==0&&(this.words[S]=v,this.length++),this},a.prototype.muln=function(p){return this.clone().imuln(p)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(p){var v=m(p);if(v.length===0)return new a(1);for(var S=this,y=0;y<v.length&&v[y]===0;y++,S=S.sqr());if(++y<v.length)for(var M=S.sqr();y<v.length;y++,M=M.sqr())v[y]!==0&&(S=S.mul(M));return S},a.prototype.iushln=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26,y=67108863>>>26-v<<26-v,M;if(v!==0){var D=0;for(M=0;M<this.length;M++){var k=this.words[M]&y,E=(this.words[M]|0)-k<<v;this.words[M]=E|D,D=k>>>26-v}D&&(this.words[M]=D,this.length++)}if(S!==0){for(M=this.length-1;M>=0;M--)this.words[M+S]=this.words[M];for(M=0;M<S;M++)this.words[M]=0;this.length+=S}return this.strip()},a.prototype.ishln=function(p){return r(this.negative===0),this.iushln(p)},a.prototype.iushrn=function(p,v,S){r(typeof p=="number"&&p>=0);var y;v?y=(v-v%26)/26:y=0;var M=p%26,D=Math.min((p-M)/26,this.length),k=67108863^67108863>>>M<<M,E=S;if(y-=D,y=Math.max(0,y),E){for(var d=0;d<D;d++)E.words[d]=this.words[d];E.length=D}if(D!==0)if(this.length>D)for(this.length-=D,d=0;d<this.length;d++)this.words[d]=this.words[d+D];else this.words[0]=0,this.length=1;var N=0;for(d=this.length-1;d>=0&&(N!==0||d>=y);d--){var U=this.words[d]|0;this.words[d]=N<<26-M|U>>>M,N=U&k}return E&&N!==0&&(E.words[E.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(p,v,S){return r(this.negative===0),this.iushrn(p,v,S)},a.prototype.shln=function(p){return this.clone().ishln(p)},a.prototype.ushln=function(p){return this.clone().iushln(p)},a.prototype.shrn=function(p){return this.clone().ishrn(p)},a.prototype.ushrn=function(p){return this.clone().iushrn(p)},a.prototype.testn=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26,y=1<<v;if(this.length<=S)return!1;var M=this.words[S];return!!(M&y)},a.prototype.imaskn=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(v!==0&&S++,this.length=Math.min(S,this.length),v!==0){var y=67108863^67108863>>>v<<v;this.words[this.length-1]&=y}return this.strip()},a.prototype.maskn=function(p){return this.clone().imaskn(p)},a.prototype.iaddn=function(p){return r(typeof p=="number"),r(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},a.prototype._iaddn=function(p){this.words[0]+=p;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},a.prototype.isubn=function(p){if(r(typeof p=="number"),r(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this.strip()},a.prototype.addn=function(p){return this.clone().iaddn(p)},a.prototype.subn=function(p){return this.clone().isubn(p)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(p,v,S){var y=p.length+S,M;this._expand(y);var D,k=0;for(M=0;M<p.length;M++){D=(this.words[M+S]|0)+k;var E=(p.words[M]|0)*v;D-=E&67108863,k=(D>>26)-(E/67108864|0),this.words[M+S]=D&67108863}for(;M<this.length-S;M++)D=(this.words[M+S]|0)+k,k=D>>26,this.words[M+S]=D&67108863;if(k===0)return this.strip();for(r(k===-1),k=0,M=0;M<this.length;M++)D=-(this.words[M]|0)+k,k=D>>26,this.words[M]=D&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(p,v){var S=this.length-p.length,y=this.clone(),M=p,D=M.words[M.length-1]|0,k=this._countBits(D);S=26-k,S!==0&&(M=M.ushln(S),y.iushln(S),D=M.words[M.length-1]|0);var E=y.length-M.length,d;if(v!=="mod"){d=new a(null),d.length=E+1,d.words=new Array(d.length);for(var N=0;N<d.length;N++)d.words[N]=0}var U=y.clone()._ishlnsubmul(M,1,E);U.negative===0&&(y=U,d&&(d.words[E]=1));for(var q=E-1;q>=0;q--){var P=(y.words[M.length+q]|0)*67108864+(y.words[M.length+q-1]|0);for(P=Math.min(P/D|0,67108863),y._ishlnsubmul(M,P,q);y.negative!==0;)P--,y.negative=0,y._ishlnsubmul(M,1,q),y.isZero()||(y.negative^=1);d&&(d.words[q]=P)}return d&&d.strip(),y.strip(),v!=="div"&&S!==0&&y.iushrn(S),{div:d||null,mod:y}},a.prototype.divmod=function(p,v,S){if(r(!p.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var y,M,D;return this.negative!==0&&p.negative===0?(D=this.neg().divmod(p,v),v!=="mod"&&(y=D.div.neg()),v!=="div"&&(M=D.mod.neg(),S&&M.negative!==0&&M.iadd(p)),{div:y,mod:M}):this.negative===0&&p.negative!==0?(D=this.divmod(p.neg(),v),v!=="mod"&&(y=D.div.neg()),{div:y,mod:D.mod}):(this.negative&p.negative)!==0?(D=this.neg().divmod(p.neg(),v),v!=="div"&&(M=D.mod.neg(),S&&M.negative!==0&&M.isub(p)),{div:D.div,mod:M}):p.length>this.length||this.cmp(p)<0?{div:new a(0),mod:this}:p.length===1?v==="div"?{div:this.divn(p.words[0]),mod:null}:v==="mod"?{div:null,mod:new a(this.modn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new a(this.modn(p.words[0]))}:this._wordDiv(p,v)},a.prototype.div=function(p){return this.divmod(p,"div",!1).div},a.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},a.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},a.prototype.divRound=function(p){var v=this.divmod(p);if(v.mod.isZero())return v.div;var S=v.div.negative!==0?v.mod.isub(p):v.mod,y=p.ushrn(1),M=p.andln(1),D=S.cmp(y);return D<0||M===1&&D===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},a.prototype.modn=function(p){r(p<=67108863);for(var v=(1<<26)%p,S=0,y=this.length-1;y>=0;y--)S=(v*S+(this.words[y]|0))%p;return S},a.prototype.idivn=function(p){r(p<=67108863);for(var v=0,S=this.length-1;S>=0;S--){var y=(this.words[S]|0)+v*67108864;this.words[S]=y/p|0,v=y%p}return this.strip()},a.prototype.divn=function(p){return this.clone().idivn(p)},a.prototype.egcd=function(p){r(p.negative===0),r(!p.isZero());var v=this,S=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var y=new a(1),M=new a(0),D=new a(0),k=new a(1),E=0;v.isEven()&&S.isEven();)v.iushrn(1),S.iushrn(1),++E;for(var d=S.clone(),N=v.clone();!v.isZero();){for(var U=0,q=1;(v.words[0]&q)===0&&U<26;++U,q<<=1);if(U>0)for(v.iushrn(U);U-- >0;)(y.isOdd()||M.isOdd())&&(y.iadd(d),M.isub(N)),y.iushrn(1),M.iushrn(1);for(var P=0,G=1;(S.words[0]&G)===0&&P<26;++P,G<<=1);if(P>0)for(S.iushrn(P);P-- >0;)(D.isOdd()||k.isOdd())&&(D.iadd(d),k.isub(N)),D.iushrn(1),k.iushrn(1);v.cmp(S)>=0?(v.isub(S),y.isub(D),M.isub(k)):(S.isub(v),D.isub(y),k.isub(M))}return{a:D,b:k,gcd:S.iushln(E)}},a.prototype._invmp=function(p){r(p.negative===0),r(!p.isZero());var v=this,S=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var y=new a(1),M=new a(0),D=S.clone();v.cmpn(1)>0&&S.cmpn(1)>0;){for(var k=0,E=1;(v.words[0]&E)===0&&k<26;++k,E<<=1);if(k>0)for(v.iushrn(k);k-- >0;)y.isOdd()&&y.iadd(D),y.iushrn(1);for(var d=0,N=1;(S.words[0]&N)===0&&d<26;++d,N<<=1);if(d>0)for(S.iushrn(d);d-- >0;)M.isOdd()&&M.iadd(D),M.iushrn(1);v.cmp(S)>=0?(v.isub(S),y.isub(M)):(S.isub(v),M.isub(y))}var U;return v.cmpn(1)===0?U=y:U=M,U.cmpn(0)<0&&U.iadd(p),U},a.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var v=this.clone(),S=p.clone();v.negative=0,S.negative=0;for(var y=0;v.isEven()&&S.isEven();y++)v.iushrn(1),S.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;S.isEven();)S.iushrn(1);var M=v.cmp(S);if(M<0){var D=v;v=S,S=D}else if(M===0||S.cmpn(1)===0)break;v.isub(S)}while(!0);return S.iushln(y)},a.prototype.invm=function(p){return this.egcd(p).a.umod(p)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(p){return this.words[0]&p},a.prototype.bincn=function(p){r(typeof p=="number");var v=p%26,S=(p-v)/26,y=1<<v;if(this.length<=S)return this._expand(S+1),this.words[S]|=y,this;for(var M=y,D=S;M!==0&&D<this.length;D++){var k=this.words[D]|0;k+=M,M=k>>>26,k&=67108863,this.words[D]=k}return M!==0&&(this.words[D]=M,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(p){var v=p<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this.strip();var S;if(this.length>1)S=1;else{v&&(p=-p),r(p<=67108863,"Number is too big");var y=this.words[0]|0;S=y===p?0:y<p?-1:1}return this.negative!==0?-S|0:S},a.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var v=this.ucmp(p);return this.negative!==0?-v|0:v},a.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var v=0,S=this.length-1;S>=0;S--){var y=this.words[S]|0,M=p.words[S]|0;if(y!==M){y<M?v=-1:y>M&&(v=1);break}}return v},a.prototype.gtn=function(p){return this.cmpn(p)===1},a.prototype.gt=function(p){return this.cmp(p)===1},a.prototype.gten=function(p){return this.cmpn(p)>=0},a.prototype.gte=function(p){return this.cmp(p)>=0},a.prototype.ltn=function(p){return this.cmpn(p)===-1},a.prototype.lt=function(p){return this.cmp(p)===-1},a.prototype.lten=function(p){return this.cmpn(p)<=0},a.prototype.lte=function(p){return this.cmp(p)<=0},a.prototype.eqn=function(p){return this.cmpn(p)===0},a.prototype.eq=function(p){return this.cmp(p)===0},a.red=function(p){return new j(p)},a.prototype.toRed=function(p){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(p){return this.red=p,this},a.prototype.forceRed=function(p){return r(!this.red,"Already a number in reduction context"),this._forceRed(p)},a.prototype.redAdd=function(p){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},a.prototype.redIAdd=function(p){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},a.prototype.redSub=function(p){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},a.prototype.redISub=function(p){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},a.prototype.redShl=function(p){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},a.prototype.redMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},a.prototype.redIMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(p){return r(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var R={k256:null,p224:null,p192:null,p25519:null};function O(T,p){this.name=T,this.p=new a(p,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var p=new a(null);return p.words=new Array(Math.ceil(this.n/13)),p},O.prototype.ireduce=function(p){var v=p,S;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),S=v.bitLength();while(S>this.n);var y=S<this.n?-1:v.ucmp(this.p);return y===0?(v.words[0]=0,v.length=1):y>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},O.prototype.split=function(p,v){p.iushrn(this.n,0,v)},O.prototype.imulK=function(p){return p.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,O),F.prototype.split=function(p,v){for(var S=4194303,y=Math.min(p.length,9),M=0;M<y;M++)v.words[M]=p.words[M];if(v.length=y,p.length<=9){p.words[0]=0,p.length=1;return}var D=p.words[9];for(v.words[v.length++]=D&S,M=10;M<p.length;M++){var k=p.words[M]|0;p.words[M-10]=(k&S)<<4|D>>>22,D=k}D>>>=22,p.words[M-10]=D,D===0&&p.length>10?p.length-=10:p.length-=9},F.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var v=0,S=0;S<p.length;S++){var y=p.words[S]|0;v+=y*977,p.words[S]=v&67108863,v=y*64+(v/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function z(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(z,O);function B(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(B,O);function $(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n($,O),$.prototype.imulK=function(p){for(var v=0,S=0;S<p.length;S++){var y=(p.words[S]|0)*19+v,M=y&67108863;y>>>=26,p.words[S]=M,v=y}return v!==0&&(p.words[p.length++]=v),p},a._prime=function(p){if(R[p])return R[p];var v;if(p==="k256")v=new F;else if(p==="p224")v=new z;else if(p==="p192")v=new B;else if(p==="p25519")v=new $;else throw new Error("Unknown prime "+p);return R[p]=v,v};function j(T){if(typeof T=="string"){var p=a._prime(T);this.m=p.p,this.prime=p}else r(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}j.prototype._verify1=function(p){r(p.negative===0,"red works only with positives"),r(p.red,"red works only with red numbers")},j.prototype._verify2=function(p,v){r((p.negative|v.negative)===0,"red works only with positives"),r(p.red&&p.red===v.red,"red works only with red numbers")},j.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):p.umod(this.m)._forceRed(this)},j.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},j.prototype.add=function(p,v){this._verify2(p,v);var S=p.add(v);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},j.prototype.iadd=function(p,v){this._verify2(p,v);var S=p.iadd(v);return S.cmp(this.m)>=0&&S.isub(this.m),S},j.prototype.sub=function(p,v){this._verify2(p,v);var S=p.sub(v);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},j.prototype.isub=function(p,v){this._verify2(p,v);var S=p.isub(v);return S.cmpn(0)<0&&S.iadd(this.m),S},j.prototype.shl=function(p,v){return this._verify1(p),this.imod(p.ushln(v))},j.prototype.imul=function(p,v){return this._verify2(p,v),this.imod(p.imul(v))},j.prototype.mul=function(p,v){return this._verify2(p,v),this.imod(p.mul(v))},j.prototype.isqr=function(p){return this.imul(p,p.clone())},j.prototype.sqr=function(p){return this.mul(p,p)},j.prototype.sqrt=function(p){if(p.isZero())return p.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var S=this.m.add(new a(1)).iushrn(2);return this.pow(p,S)}for(var y=this.m.subn(1),M=0;!y.isZero()&&y.andln(1)===0;)M++,y.iushrn(1);r(!y.isZero());var D=new a(1).toRed(this),k=D.redNeg(),E=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);this.pow(d,E).cmp(k)!==0;)d.redIAdd(k);for(var N=this.pow(d,y),U=this.pow(p,y.addn(1).iushrn(1)),q=this.pow(p,y),P=M;q.cmp(D)!==0;){for(var G=q,Z=0;G.cmp(D)!==0;Z++)G=G.redSqr();r(Z<P);var X=this.pow(N,new a(1).iushln(P-Z-1));U=U.redMul(X),N=X.redSqr(),q=q.redMul(N),P=Z}return U},j.prototype.invm=function(p){var v=p._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},j.prototype.pow=function(p,v){if(v.isZero())return new a(1).toRed(this);if(v.cmpn(1)===0)return p.clone();var S=4,y=new Array(1<<S);y[0]=new a(1).toRed(this),y[1]=p;for(var M=2;M<y.length;M++)y[M]=this.mul(y[M-1],p);var D=y[0],k=0,E=0,d=v.bitLength()%26;for(d===0&&(d=26),M=v.length-1;M>=0;M--){for(var N=v.words[M],U=d-1;U>=0;U--){var q=N>>U&1;if(D!==y[0]&&(D=this.sqr(D)),q===0&&k===0){E=0;continue}k<<=1,k|=q,E++,!(E!==S&&(M!==0||U!==0))&&(D=this.mul(D,y[k]),E=0,k=0)}d=26}return D},j.prototype.convertTo=function(p){var v=p.umod(this.m);return v===p?v.clone():v},j.prototype.convertFrom=function(p){var v=p.clone();return v.red=null,v},a.mont=function(p){return new W(p)};function W(T){j.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(W,j),W.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},W.prototype.convertFrom=function(p){var v=this.imod(p.mul(this.rinv));return v.red=null,v},W.prototype.imul=function(p,v){if(p.isZero()||v.isZero())return p.words[0]=0,p.length=1,p;var S=p.imul(v),y=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=S.isub(y).iushrn(this.shift),D=M;return M.cmp(this.m)>=0?D=M.isub(this.m):M.cmpn(0)<0&&(D=M.iadd(this.m)),D._forceRed(this)},W.prototype.mul=function(p,v){if(p.isZero()||v.isZero())return new a(0)._forceRed(this);var S=p.mul(v),y=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=S.isub(y).iushrn(this.shift),D=M;return M.cmp(this.m)>=0?D=M.isub(this.m):M.cmpn(0)<0&&(D=M.iadd(this.m)),D._forceRed(this)},W.prototype.invm=function(p){var v=this.imod(p._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(typeof GF=="undefined"||GF,Jse)});var Qse=Ee((Mir,Xse)=>{w();_();var flt=hN(),llt=Yse();Xse.exports=function(e){return new u0(e)};var fu={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};fu.p224=fu.secp224r1;fu.p256=fu.secp256r1=fu.prime256v1;fu.p192=fu.secp192r1=fu.prime192v1;fu.p384=fu.secp384r1;fu.p521=fu.secp521r1;function u0(t){this.curveType=fu[t],this.curveType||(this.curveType={name:t}),this.curve=new flt.ec(this.curveType.name),this.keys=void 0}u0.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};u0.prototype.computeSecret=function(t,e,r){e=e||"utf8",$Buffer.isBuffer(t)||(t=new $Buffer(t,e));var n=this.curve.keyFromPublic(t).getPublic(),a=n.mul(this.keys.getPrivate()).getX();return HF(a,r,this.curveType.byteLength)};u0.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),HF(r,t)};u0.prototype.getPrivateKey=function(t){return HF(this.keys.getPrivate(),t)};u0.prototype.setPublicKey=function(t,e){return e=e||"utf8",$Buffer.isBuffer(t)||(t=new $Buffer(t,e)),this.keys._importPublic(t),this};u0.prototype.setPrivateKey=function(t,e){e=e||"utf8",$Buffer.isBuffer(t)||(t=new $Buffer(t,e));var r=new llt(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function HF(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new $Buffer(t);if(r&&n.length<r){var a=new $Buffer(r-n.length);a.fill(0),n=$Buffer.concat([a,n])}return e?n.toString(e):n}});var ZF=Ee((Air,eue)=>{w();_();var clt=Fg(),KF=En().Buffer;eue.exports=function(t,e){for(var r=KF.alloc(0),n=0,a;r.length<e;)a=hlt(n++),r=KF.concat([r,clt("sha1").update(t).update(a).digest()]);return r.slice(0,e)};function hlt(t){var e=KF.allocUnsafe(4);return e.writeUInt32BE(t,0),e}});var JF=Ee((Nir,tue)=>{w();_();tue.exports=function(e,r){for(var n=e.length,a=-1;++a<n;)e[a]^=r[a];return e}});var MN=Ee((rue,YF)=>{w();_();(function(t,e){"use strict";function r(T,p){if(!T)throw new Error(p||"Assertion failed")}function n(T,p){T.super_=p;var v=function(){};v.prototype=p.prototype,T.prototype=new v,T.prototype.constructor=T}function a(T,p,v){if(a.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((p==="le"||p==="be")&&(v=p,p=10),this._init(T||0,p||10,v||"be"))}typeof t=="object"?t.exports=a:e.BN=a,a.BN=a,a.wordSize=26;var o;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?o=window.Buffer:o=Oi().Buffer}catch(T){}a.isBN=function(p){return p instanceof a?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===a.wordSize&&Array.isArray(p.words)},a.max=function(p,v){return p.cmp(v)>0?p:v},a.min=function(p,v){return p.cmp(v)<0?p:v},a.prototype._init=function(p,v,S){if(typeof p=="number")return this._initNumber(p,v,S);if(typeof p=="object")return this._initArray(p,v,S);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),p=p.toString().replace(/\s+/g,"");var y=0;p[0]==="-"&&(y++,this.negative=1),y<p.length&&(v===16?this._parseHex(p,y,S):(this._parseBase(p,v,y),S==="le"&&this._initArray(this.toArray(),v,S)))},a.prototype._initNumber=function(p,v,S){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(r(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),v,S)},a.prototype._initArray=function(p,v,S){if(r(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var M,D,k=0;if(S==="be")for(y=p.length-1,M=0;y>=0;y-=3)D=p[y]|p[y-1]<<8|p[y-2]<<16,this.words[M]|=D<<k&67108863,this.words[M+1]=D>>>26-k&67108863,k+=24,k>=26&&(k-=26,M++);else if(S==="le")for(y=0,M=0;y<p.length;y+=3)D=p[y]|p[y+1]<<8|p[y+2]<<16,this.words[M]|=D<<k&67108863,this.words[M+1]=D>>>26-k&67108863,k+=24,k>=26&&(k-=26,M++);return this.strip()};function s(T,p){var v=T.charCodeAt(p);return v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:v-48&15}function u(T,p,v){var S=s(T,v);return v-1>=p&&(S|=s(T,v-1)<<4),S}a.prototype._parseHex=function(p,v,S){this.length=Math.ceil((p.length-v)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var M=0,D=0,k;if(S==="be")for(y=p.length-1;y>=v;y-=2)k=u(p,v,y)<<M,this.words[D]|=k&67108863,M>=18?(M-=18,D+=1,this.words[D]|=k>>>26):M+=8;else{var E=p.length-v;for(y=E%2===0?v+1:v;y<p.length;y+=2)k=u(p,v,y)<<M,this.words[D]|=k&67108863,M>=18?(M-=18,D+=1,this.words[D]|=k>>>26):M+=8}this.strip()};function f(T,p,v,S){for(var y=0,M=Math.min(T.length,v),D=p;D<M;D++){var k=T.charCodeAt(D)-48;y*=S,k>=49?y+=k-49+10:k>=17?y+=k-17+10:y+=k}return y}a.prototype._parseBase=function(p,v,S){this.words=[0],this.length=1;for(var y=0,M=1;M<=67108863;M*=v)y++;y--,M=M/v|0;for(var D=p.length-S,k=D%y,E=Math.min(D,D-k)+S,d=0,N=S;N<E;N+=y)d=f(p,N,N+y,v),this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(k!==0){var U=1;for(d=f(p,N,p.length,v),N=0;N<k;N++)U*=v;this.imuln(U),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},a.prototype.copy=function(p){p.words=new Array(this.length);for(var v=0;v<this.length;v++)p.words[v]=this.words[v];p.length=this.length,p.negative=this.negative,p.red=this.red},a.prototype.clone=function(){var p=new a(null);return this.copy(p),p},a.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(p,v){p=p||10,v=v|0||1;var S;if(p===16||p==="hex"){S="";for(var y=0,M=0,D=0;D<this.length;D++){var k=this.words[D],E=((k<<y|M)&16777215).toString(16);M=k>>>24-y&16777215,M!==0||D!==this.length-1?S=l[6-E.length]+E+S:S=E+S,y+=2,y>=26&&(y-=26,D--)}for(M!==0&&(S=M.toString(16)+S);S.length%v!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(p===(p|0)&&p>=2&&p<=36){var d=c[p],N=h[p];S="";var U=this.clone();for(U.negative=0;!U.isZero();){var q=U.modn(N).toString(p);U=U.idivn(N),U.isZero()?S=q+S:S=l[d-q.length]+q+S}for(this.isZero()&&(S="0"+S);S.length%v!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(p,v){return r(typeof o!="undefined"),this.toArrayLike(o,p,v)},a.prototype.toArray=function(p,v){return this.toArrayLike(Array,p,v)},a.prototype.toArrayLike=function(p,v,S){var y=this.byteLength(),M=S||Math.max(1,y);r(y<=M,"byte array longer than desired length"),r(M>0,"Requested array length <= 0"),this.strip();var D=v==="le",k=new p(M),E,d,N=this.clone();if(D){for(d=0;!N.isZero();d++)E=N.andln(255),N.iushrn(8),k[d]=E;for(;d<M;d++)k[d]=0}else{for(d=0;d<M-y;d++)k[d]=0;for(d=0;!N.isZero();d++)E=N.andln(255),N.iushrn(8),k[M-d-1]=E}return k},Math.clz32?a.prototype._countBits=function(p){return 32-Math.clz32(p)}:a.prototype._countBits=function(p){var v=p,S=0;return v>=4096&&(S+=13,v>>>=13),v>=64&&(S+=7,v>>>=7),v>=8&&(S+=4,v>>>=4),v>=2&&(S+=2,v>>>=2),S+v},a.prototype._zeroBits=function(p){if(p===0)return 26;var v=p,S=0;return(v&8191)===0&&(S+=13,v>>>=13),(v&127)===0&&(S+=7,v>>>=7),(v&15)===0&&(S+=4,v>>>=4),(v&3)===0&&(S+=2,v>>>=2),(v&1)===0&&S++,S},a.prototype.bitLength=function(){var p=this.words[this.length-1],v=this._countBits(p);return(this.length-1)*26+v};function m(T){for(var p=new Array(T.bitLength()),v=0;v<p.length;v++){var S=v/26|0,y=v%26;p[v]=(T.words[S]&1<<y)>>>y}return p}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,v=0;v<this.length;v++){var S=this._zeroBits(this.words[v]);if(p+=S,S!==26)break}return p},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},a.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]|p.words[v];return this.strip()},a.prototype.ior=function(p){return r((this.negative|p.negative)===0),this.iuor(p)},a.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},a.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},a.prototype.iuand=function(p){var v;this.length>p.length?v=p:v=this;for(var S=0;S<v.length;S++)this.words[S]=this.words[S]&p.words[S];return this.length=v.length,this.strip()},a.prototype.iand=function(p){return r((this.negative|p.negative)===0),this.iuand(p)},a.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},a.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},a.prototype.iuxor=function(p){var v,S;this.length>p.length?(v=this,S=p):(v=p,S=this);for(var y=0;y<S.length;y++)this.words[y]=v.words[y]^S.words[y];if(this!==v)for(;y<v.length;y++)this.words[y]=v.words[y];return this.length=v.length,this.strip()},a.prototype.ixor=function(p){return r((this.negative|p.negative)===0),this.iuxor(p)},a.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},a.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},a.prototype.inotn=function(p){r(typeof p=="number"&&p>=0);var v=Math.ceil(p/26)|0,S=p%26;this._expand(v),S>0&&v--;for(var y=0;y<v;y++)this.words[y]=~this.words[y]&67108863;return S>0&&(this.words[y]=~this.words[y]&67108863>>26-S),this.strip()},a.prototype.notn=function(p){return this.clone().inotn(p)},a.prototype.setn=function(p,v){r(typeof p=="number"&&p>=0);var S=p/26|0,y=p%26;return this._expand(S+1),v?this.words[S]=this.words[S]|1<<y:this.words[S]=this.words[S]&~(1<<y),this.strip()},a.prototype.iadd=function(p){var v;if(this.negative!==0&&p.negative===0)return this.negative=0,v=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,v=this.isub(p),p.negative=1,v._normSign();var S,y;this.length>p.length?(S=this,y=p):(S=p,y=this);for(var M=0,D=0;D<y.length;D++)v=(S.words[D]|0)+(y.words[D]|0)+M,this.words[D]=v&67108863,M=v>>>26;for(;M!==0&&D<S.length;D++)v=(S.words[D]|0)+M,this.words[D]=v&67108863,M=v>>>26;if(this.length=S.length,M!==0)this.words[this.length]=M,this.length++;else if(S!==this)for(;D<S.length;D++)this.words[D]=S.words[D];return this},a.prototype.add=function(p){var v;return p.negative!==0&&this.negative===0?(p.negative=0,v=this.sub(p),p.negative^=1,v):p.negative===0&&this.negative!==0?(this.negative=0,v=p.sub(this),this.negative=1,v):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},a.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var v=this.iadd(p);return p.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var S=this.cmp(p);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,M;S>0?(y=this,M=p):(y=p,M=this);for(var D=0,k=0;k<M.length;k++)v=(y.words[k]|0)-(M.words[k]|0)+D,D=v>>26,this.words[k]=v&67108863;for(;D!==0&&k<y.length;k++)v=(y.words[k]|0)+D,D=v>>26,this.words[k]=v&67108863;if(D===0&&k<y.length&&y!==this)for(;k<y.length;k++)this.words[k]=y.words[k];return this.length=Math.max(this.length,k),y!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(p){return this.clone().isub(p)};function g(T,p,v){v.negative=p.negative^T.negative;var S=T.length+p.length|0;v.length=S,S=S-1|0;var y=T.words[0]|0,M=p.words[0]|0,D=y*M,k=D&67108863,E=D/67108864|0;v.words[0]=k;for(var d=1;d<S;d++){for(var N=E>>>26,U=E&67108863,q=Math.min(d,p.length-1),P=Math.max(0,d-T.length+1);P<=q;P++){var G=d-P|0;y=T.words[G]|0,M=p.words[P]|0,D=y*M+U,N+=D/67108864|0,U=D&67108863}v.words[d]=U|0,E=N|0}return E!==0?v.words[d]=E|0:v.length--,v.strip()}var b=function(p,v,S){var y=p.words,M=v.words,D=S.words,k=0,E,d,N,U=y[0]|0,q=U&8191,P=U>>>13,G=y[1]|0,Z=G&8191,X=G>>>13,he=y[2]|0,V=he&8191,K=he>>>13,ne=y[3]|0,fe=ne&8191,pe=ne>>>13,Ie=y[4]|0,ke=Ie&8191,ue=Ie>>>13,xe=y[5]|0,ge=xe&8191,Q=xe>>>13,_e=y[6]|0,ve=_e&8191,be=_e>>>13,qe=y[7]|0,se=qe&8191,Se=qe>>>13,Ke=y[8]|0,J=Ke&8191,H=Ke>>>13,Y=y[9]|0,oe=Y&8191,Me=Y>>>13,Ge=M[0]|0,Ce=Ge&8191,Xe=Ge>>>13,Yt=M[1]|0,tt=Yt&8191,Ye=Yt>>>13,dr=M[2]|0,re=dr&8191,Te=dr>>>13,ft=M[3]|0,ze=ft&8191,et=ft>>>13,lr=M[4]|0,ct=lr&8191,dt=lr>>>13,ki=M[5]|0,vt=ki&8191,pt=ki>>>13,_i=M[6]|0,gt=_i&8191,yt=_i>>>13,_n=M[7]|0,ut=_n&8191,bt=_n>>>13,si=M[8]|0,ht=si&8191,wt=si>>>13,ri=M[9]|0,at=ri&8191,lt=ri>>>13;S.negative=p.negative^v.negative,S.length=19,E=Math.imul(q,Ce),d=Math.imul(q,Xe),d=d+Math.imul(P,Ce)|0,N=Math.imul(P,Xe);var ie=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ie>>>26)|0,ie&=67108863,E=Math.imul(Z,Ce),d=Math.imul(Z,Xe),d=d+Math.imul(X,Ce)|0,N=Math.imul(X,Xe),E=E+Math.imul(q,tt)|0,d=d+Math.imul(q,Ye)|0,d=d+Math.imul(P,tt)|0,N=N+Math.imul(P,Ye)|0;var ce=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ce>>>26)|0,ce&=67108863,E=Math.imul(V,Ce),d=Math.imul(V,Xe),d=d+Math.imul(K,Ce)|0,N=Math.imul(K,Xe),E=E+Math.imul(Z,tt)|0,d=d+Math.imul(Z,Ye)|0,d=d+Math.imul(X,tt)|0,N=N+Math.imul(X,Ye)|0,E=E+Math.imul(q,re)|0,d=d+Math.imul(q,Te)|0,d=d+Math.imul(P,re)|0,N=N+Math.imul(P,Te)|0;var de=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(de>>>26)|0,de&=67108863,E=Math.imul(fe,Ce),d=Math.imul(fe,Xe),d=d+Math.imul(pe,Ce)|0,N=Math.imul(pe,Xe),E=E+Math.imul(V,tt)|0,d=d+Math.imul(V,Ye)|0,d=d+Math.imul(K,tt)|0,N=N+Math.imul(K,Ye)|0,E=E+Math.imul(Z,re)|0,d=d+Math.imul(Z,Te)|0,d=d+Math.imul(X,re)|0,N=N+Math.imul(X,Te)|0,E=E+Math.imul(q,ze)|0,d=d+Math.imul(q,et)|0,d=d+Math.imul(P,ze)|0,N=N+Math.imul(P,et)|0;var ye=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ye>>>26)|0,ye&=67108863,E=Math.imul(ke,Ce),d=Math.imul(ke,Xe),d=d+Math.imul(ue,Ce)|0,N=Math.imul(ue,Xe),E=E+Math.imul(fe,tt)|0,d=d+Math.imul(fe,Ye)|0,d=d+Math.imul(pe,tt)|0,N=N+Math.imul(pe,Ye)|0,E=E+Math.imul(V,re)|0,d=d+Math.imul(V,Te)|0,d=d+Math.imul(K,re)|0,N=N+Math.imul(K,Te)|0,E=E+Math.imul(Z,ze)|0,d=d+Math.imul(Z,et)|0,d=d+Math.imul(X,ze)|0,N=N+Math.imul(X,et)|0,E=E+Math.imul(q,ct)|0,d=d+Math.imul(q,dt)|0,d=d+Math.imul(P,ct)|0,N=N+Math.imul(P,dt)|0;var Ae=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,E=Math.imul(ge,Ce),d=Math.imul(ge,Xe),d=d+Math.imul(Q,Ce)|0,N=Math.imul(Q,Xe),E=E+Math.imul(ke,tt)|0,d=d+Math.imul(ke,Ye)|0,d=d+Math.imul(ue,tt)|0,N=N+Math.imul(ue,Ye)|0,E=E+Math.imul(fe,re)|0,d=d+Math.imul(fe,Te)|0,d=d+Math.imul(pe,re)|0,N=N+Math.imul(pe,Te)|0,E=E+Math.imul(V,ze)|0,d=d+Math.imul(V,et)|0,d=d+Math.imul(K,ze)|0,N=N+Math.imul(K,et)|0,E=E+Math.imul(Z,ct)|0,d=d+Math.imul(Z,dt)|0,d=d+Math.imul(X,ct)|0,N=N+Math.imul(X,dt)|0,E=E+Math.imul(q,vt)|0,d=d+Math.imul(q,pt)|0,d=d+Math.imul(P,vt)|0,N=N+Math.imul(P,pt)|0;var Ne=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,E=Math.imul(ve,Ce),d=Math.imul(ve,Xe),d=d+Math.imul(be,Ce)|0,N=Math.imul(be,Xe),E=E+Math.imul(ge,tt)|0,d=d+Math.imul(ge,Ye)|0,d=d+Math.imul(Q,tt)|0,N=N+Math.imul(Q,Ye)|0,E=E+Math.imul(ke,re)|0,d=d+Math.imul(ke,Te)|0,d=d+Math.imul(ue,re)|0,N=N+Math.imul(ue,Te)|0,E=E+Math.imul(fe,ze)|0,d=d+Math.imul(fe,et)|0,d=d+Math.imul(pe,ze)|0,N=N+Math.imul(pe,et)|0,E=E+Math.imul(V,ct)|0,d=d+Math.imul(V,dt)|0,d=d+Math.imul(K,ct)|0,N=N+Math.imul(K,dt)|0,E=E+Math.imul(Z,vt)|0,d=d+Math.imul(Z,pt)|0,d=d+Math.imul(X,vt)|0,N=N+Math.imul(X,pt)|0,E=E+Math.imul(q,gt)|0,d=d+Math.imul(q,yt)|0,d=d+Math.imul(P,gt)|0,N=N+Math.imul(P,yt)|0;var Pe=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,E=Math.imul(se,Ce),d=Math.imul(se,Xe),d=d+Math.imul(Se,Ce)|0,N=Math.imul(Se,Xe),E=E+Math.imul(ve,tt)|0,d=d+Math.imul(ve,Ye)|0,d=d+Math.imul(be,tt)|0,N=N+Math.imul(be,Ye)|0,E=E+Math.imul(ge,re)|0,d=d+Math.imul(ge,Te)|0,d=d+Math.imul(Q,re)|0,N=N+Math.imul(Q,Te)|0,E=E+Math.imul(ke,ze)|0,d=d+Math.imul(ke,et)|0,d=d+Math.imul(ue,ze)|0,N=N+Math.imul(ue,et)|0,E=E+Math.imul(fe,ct)|0,d=d+Math.imul(fe,dt)|0,d=d+Math.imul(pe,ct)|0,N=N+Math.imul(pe,dt)|0,E=E+Math.imul(V,vt)|0,d=d+Math.imul(V,pt)|0,d=d+Math.imul(K,vt)|0,N=N+Math.imul(K,pt)|0,E=E+Math.imul(Z,gt)|0,d=d+Math.imul(Z,yt)|0,d=d+Math.imul(X,gt)|0,N=N+Math.imul(X,yt)|0,E=E+Math.imul(q,ut)|0,d=d+Math.imul(q,bt)|0,d=d+Math.imul(P,ut)|0,N=N+Math.imul(P,bt)|0;var je=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(je>>>26)|0,je&=67108863,E=Math.imul(J,Ce),d=Math.imul(J,Xe),d=d+Math.imul(H,Ce)|0,N=Math.imul(H,Xe),E=E+Math.imul(se,tt)|0,d=d+Math.imul(se,Ye)|0,d=d+Math.imul(Se,tt)|0,N=N+Math.imul(Se,Ye)|0,E=E+Math.imul(ve,re)|0,d=d+Math.imul(ve,Te)|0,d=d+Math.imul(be,re)|0,N=N+Math.imul(be,Te)|0,E=E+Math.imul(ge,ze)|0,d=d+Math.imul(ge,et)|0,d=d+Math.imul(Q,ze)|0,N=N+Math.imul(Q,et)|0,E=E+Math.imul(ke,ct)|0,d=d+Math.imul(ke,dt)|0,d=d+Math.imul(ue,ct)|0,N=N+Math.imul(ue,dt)|0,E=E+Math.imul(fe,vt)|0,d=d+Math.imul(fe,pt)|0,d=d+Math.imul(pe,vt)|0,N=N+Math.imul(pe,pt)|0,E=E+Math.imul(V,gt)|0,d=d+Math.imul(V,yt)|0,d=d+Math.imul(K,gt)|0,N=N+Math.imul(K,yt)|0,E=E+Math.imul(Z,ut)|0,d=d+Math.imul(Z,bt)|0,d=d+Math.imul(X,ut)|0,N=N+Math.imul(X,bt)|0,E=E+Math.imul(q,ht)|0,d=d+Math.imul(q,wt)|0,d=d+Math.imul(P,ht)|0,N=N+Math.imul(P,wt)|0;var Qe=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,E=Math.imul(oe,Ce),d=Math.imul(oe,Xe),d=d+Math.imul(Me,Ce)|0,N=Math.imul(Me,Xe),E=E+Math.imul(J,tt)|0,d=d+Math.imul(J,Ye)|0,d=d+Math.imul(H,tt)|0,N=N+Math.imul(H,Ye)|0,E=E+Math.imul(se,re)|0,d=d+Math.imul(se,Te)|0,d=d+Math.imul(Se,re)|0,N=N+Math.imul(Se,Te)|0,E=E+Math.imul(ve,ze)|0,d=d+Math.imul(ve,et)|0,d=d+Math.imul(be,ze)|0,N=N+Math.imul(be,et)|0,E=E+Math.imul(ge,ct)|0,d=d+Math.imul(ge,dt)|0,d=d+Math.imul(Q,ct)|0,N=N+Math.imul(Q,dt)|0,E=E+Math.imul(ke,vt)|0,d=d+Math.imul(ke,pt)|0,d=d+Math.imul(ue,vt)|0,N=N+Math.imul(ue,pt)|0,E=E+Math.imul(fe,gt)|0,d=d+Math.imul(fe,yt)|0,d=d+Math.imul(pe,gt)|0,N=N+Math.imul(pe,yt)|0,E=E+Math.imul(V,ut)|0,d=d+Math.imul(V,bt)|0,d=d+Math.imul(K,ut)|0,N=N+Math.imul(K,bt)|0,E=E+Math.imul(Z,ht)|0,d=d+Math.imul(Z,wt)|0,d=d+Math.imul(X,ht)|0,N=N+Math.imul(X,wt)|0,E=E+Math.imul(q,at)|0,d=d+Math.imul(q,lt)|0,d=d+Math.imul(P,at)|0,N=N+Math.imul(P,lt)|0;var Ve=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,E=Math.imul(oe,tt),d=Math.imul(oe,Ye),d=d+Math.imul(Me,tt)|0,N=Math.imul(Me,Ye),E=E+Math.imul(J,re)|0,d=d+Math.imul(J,Te)|0,d=d+Math.imul(H,re)|0,N=N+Math.imul(H,Te)|0,E=E+Math.imul(se,ze)|0,d=d+Math.imul(se,et)|0,d=d+Math.imul(Se,ze)|0,N=N+Math.imul(Se,et)|0,E=E+Math.imul(ve,ct)|0,d=d+Math.imul(ve,dt)|0,d=d+Math.imul(be,ct)|0,N=N+Math.imul(be,dt)|0,E=E+Math.imul(ge,vt)|0,d=d+Math.imul(ge,pt)|0,d=d+Math.imul(Q,vt)|0,N=N+Math.imul(Q,pt)|0,E=E+Math.imul(ke,gt)|0,d=d+Math.imul(ke,yt)|0,d=d+Math.imul(ue,gt)|0,N=N+Math.imul(ue,yt)|0,E=E+Math.imul(fe,ut)|0,d=d+Math.imul(fe,bt)|0,d=d+Math.imul(pe,ut)|0,N=N+Math.imul(pe,bt)|0,E=E+Math.imul(V,ht)|0,d=d+Math.imul(V,wt)|0,d=d+Math.imul(K,ht)|0,N=N+Math.imul(K,wt)|0,E=E+Math.imul(Z,at)|0,d=d+Math.imul(Z,lt)|0,d=d+Math.imul(X,at)|0,N=N+Math.imul(X,lt)|0;var ot=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(ot>>>26)|0,ot&=67108863,E=Math.imul(oe,re),d=Math.imul(oe,Te),d=d+Math.imul(Me,re)|0,N=Math.imul(Me,Te),E=E+Math.imul(J,ze)|0,d=d+Math.imul(J,et)|0,d=d+Math.imul(H,ze)|0,N=N+Math.imul(H,et)|0,E=E+Math.imul(se,ct)|0,d=d+Math.imul(se,dt)|0,d=d+Math.imul(Se,ct)|0,N=N+Math.imul(Se,dt)|0,E=E+Math.imul(ve,vt)|0,d=d+Math.imul(ve,pt)|0,d=d+Math.imul(be,vt)|0,N=N+Math.imul(be,pt)|0,E=E+Math.imul(ge,gt)|0,d=d+Math.imul(ge,yt)|0,d=d+Math.imul(Q,gt)|0,N=N+Math.imul(Q,yt)|0,E=E+Math.imul(ke,ut)|0,d=d+Math.imul(ke,bt)|0,d=d+Math.imul(ue,ut)|0,N=N+Math.imul(ue,bt)|0,E=E+Math.imul(fe,ht)|0,d=d+Math.imul(fe,wt)|0,d=d+Math.imul(pe,ht)|0,N=N+Math.imul(pe,wt)|0,E=E+Math.imul(V,at)|0,d=d+Math.imul(V,lt)|0,d=d+Math.imul(K,at)|0,N=N+Math.imul(K,lt)|0;var mt=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(mt>>>26)|0,mt&=67108863,E=Math.imul(oe,ze),d=Math.imul(oe,et),d=d+Math.imul(Me,ze)|0,N=Math.imul(Me,et),E=E+Math.imul(J,ct)|0,d=d+Math.imul(J,dt)|0,d=d+Math.imul(H,ct)|0,N=N+Math.imul(H,dt)|0,E=E+Math.imul(se,vt)|0,d=d+Math.imul(se,pt)|0,d=d+Math.imul(Se,vt)|0,N=N+Math.imul(Se,pt)|0,E=E+Math.imul(ve,gt)|0,d=d+Math.imul(ve,yt)|0,d=d+Math.imul(be,gt)|0,N=N+Math.imul(be,yt)|0,E=E+Math.imul(ge,ut)|0,d=d+Math.imul(ge,bt)|0,d=d+Math.imul(Q,ut)|0,N=N+Math.imul(Q,bt)|0,E=E+Math.imul(ke,ht)|0,d=d+Math.imul(ke,wt)|0,d=d+Math.imul(ue,ht)|0,N=N+Math.imul(ue,wt)|0,E=E+Math.imul(fe,at)|0,d=d+Math.imul(fe,lt)|0,d=d+Math.imul(pe,at)|0,N=N+Math.imul(pe,lt)|0;var Mt=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,E=Math.imul(oe,ct),d=Math.imul(oe,dt),d=d+Math.imul(Me,ct)|0,N=Math.imul(Me,dt),E=E+Math.imul(J,vt)|0,d=d+Math.imul(J,pt)|0,d=d+Math.imul(H,vt)|0,N=N+Math.imul(H,pt)|0,E=E+Math.imul(se,gt)|0,d=d+Math.imul(se,yt)|0,d=d+Math.imul(Se,gt)|0,N=N+Math.imul(Se,yt)|0,E=E+Math.imul(ve,ut)|0,d=d+Math.imul(ve,bt)|0,d=d+Math.imul(be,ut)|0,N=N+Math.imul(be,bt)|0,E=E+Math.imul(ge,ht)|0,d=d+Math.imul(ge,wt)|0,d=d+Math.imul(Q,ht)|0,N=N+Math.imul(Q,wt)|0,E=E+Math.imul(ke,at)|0,d=d+Math.imul(ke,lt)|0,d=d+Math.imul(ue,at)|0,N=N+Math.imul(ue,lt)|0;var $t=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+($t>>>26)|0,$t&=67108863,E=Math.imul(oe,vt),d=Math.imul(oe,pt),d=d+Math.imul(Me,vt)|0,N=Math.imul(Me,pt),E=E+Math.imul(J,gt)|0,d=d+Math.imul(J,yt)|0,d=d+Math.imul(H,gt)|0,N=N+Math.imul(H,yt)|0,E=E+Math.imul(se,ut)|0,d=d+Math.imul(se,bt)|0,d=d+Math.imul(Se,ut)|0,N=N+Math.imul(Se,bt)|0,E=E+Math.imul(ve,ht)|0,d=d+Math.imul(ve,wt)|0,d=d+Math.imul(be,ht)|0,N=N+Math.imul(be,wt)|0,E=E+Math.imul(ge,at)|0,d=d+Math.imul(ge,lt)|0,d=d+Math.imul(Q,at)|0,N=N+Math.imul(Q,lt)|0;var cr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(cr>>>26)|0,cr&=67108863,E=Math.imul(oe,gt),d=Math.imul(oe,yt),d=d+Math.imul(Me,gt)|0,N=Math.imul(Me,yt),E=E+Math.imul(J,ut)|0,d=d+Math.imul(J,bt)|0,d=d+Math.imul(H,ut)|0,N=N+Math.imul(H,bt)|0,E=E+Math.imul(se,ht)|0,d=d+Math.imul(se,wt)|0,d=d+Math.imul(Se,ht)|0,N=N+Math.imul(Se,wt)|0,E=E+Math.imul(ve,at)|0,d=d+Math.imul(ve,lt)|0,d=d+Math.imul(be,at)|0,N=N+Math.imul(be,lt)|0;var rr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(rr>>>26)|0,rr&=67108863,E=Math.imul(oe,ut),d=Math.imul(oe,bt),d=d+Math.imul(Me,ut)|0,N=Math.imul(Me,bt),E=E+Math.imul(J,ht)|0,d=d+Math.imul(J,wt)|0,d=d+Math.imul(H,ht)|0,N=N+Math.imul(H,wt)|0,E=E+Math.imul(se,at)|0,d=d+Math.imul(se,lt)|0,d=d+Math.imul(Se,at)|0,N=N+Math.imul(Se,lt)|0;var Br=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,E=Math.imul(oe,ht),d=Math.imul(oe,wt),d=d+Math.imul(Me,ht)|0,N=Math.imul(Me,wt),E=E+Math.imul(J,at)|0,d=d+Math.imul(J,lt)|0,d=d+Math.imul(H,at)|0,N=N+Math.imul(H,lt)|0;var pr=(k+E|0)+((d&8191)<<13)|0;k=(N+(d>>>13)|0)+(pr>>>26)|0,pr&=67108863,E=Math.imul(oe,at),d=Math.imul(oe,lt),d=d+Math.imul(Me,at)|0,N=Math.imul(Me,lt);var Vr=(k+E|0)+((d&8191)<<13)|0;return k=(N+(d>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,D[0]=ie,D[1]=ce,D[2]=de,D[3]=ye,D[4]=Ae,D[5]=Ne,D[6]=Pe,D[7]=je,D[8]=Qe,D[9]=Ve,D[10]=ot,D[11]=mt,D[12]=Mt,D[13]=$t,D[14]=cr,D[15]=rr,D[16]=Br,D[17]=pr,D[18]=Vr,k!==0&&(D[19]=k,S.length++),S};Math.imul||(b=g);function A(T,p,v){v.negative=p.negative^T.negative,v.length=T.length+p.length;for(var S=0,y=0,M=0;M<v.length-1;M++){var D=y;y=0;for(var k=S&67108863,E=Math.min(M,p.length-1),d=Math.max(0,M-T.length+1);d<=E;d++){var N=M-d,U=T.words[N]|0,q=p.words[d]|0,P=U*q,G=P&67108863;D=D+(P/67108864|0)|0,G=G+k|0,k=G&67108863,D=D+(G>>>26)|0,y+=D>>>26,D&=67108863}v.words[M]=k,S=D,D=y}return S!==0?v.words[M]=S:v.length--,v.strip()}function I(T,p,v){var S=new C;return S.mulp(T,p,v)}a.prototype.mulTo=function(p,v){var S,y=this.length+p.length;return this.length===10&&p.length===10?S=b(this,p,v):y<63?S=g(this,p,v):y<1024?S=A(this,p,v):S=I(this,p,v),S};function C(T,p){this.x=T,this.y=p}C.prototype.makeRBT=function(p){for(var v=new Array(p),S=a.prototype._countBits(p)-1,y=0;y<p;y++)v[y]=this.revBin(y,S,p);return v},C.prototype.revBin=function(p,v,S){if(p===0||p===S-1)return p;for(var y=0,M=0;M<v;M++)y|=(p&1)<<v-M-1,p>>=1;return y},C.prototype.permute=function(p,v,S,y,M,D){for(var k=0;k<D;k++)y[k]=v[p[k]],M[k]=S[p[k]]},C.prototype.transform=function(p,v,S,y,M,D){this.permute(D,p,v,S,y,M);for(var k=1;k<M;k<<=1)for(var E=k<<1,d=Math.cos(2*Math.PI/E),N=Math.sin(2*Math.PI/E),U=0;U<M;U+=E)for(var q=d,P=N,G=0;G<k;G++){var Z=S[U+G],X=y[U+G],he=S[U+G+k],V=y[U+G+k],K=q*he-P*V;V=q*V+P*he,he=K,S[U+G]=Z+he,y[U+G]=X+V,S[U+G+k]=Z-he,y[U+G+k]=X-V,G!==E&&(K=d*q-N*P,P=d*P+N*q,q=K)}},C.prototype.guessLen13b=function(p,v){var S=Math.max(v,p)|1,y=S&1,M=0;for(S=S/2|0;S;S=S>>>1)M++;return 1<<M+1+y},C.prototype.conjugate=function(p,v,S){if(!(S<=1))for(var y=0;y<S/2;y++){var M=p[y];p[y]=p[S-y-1],p[S-y-1]=M,M=v[y],v[y]=-v[S-y-1],v[S-y-1]=-M}},C.prototype.normalize13b=function(p,v){for(var S=0,y=0;y<v/2;y++){var M=Math.round(p[2*y+1]/v)*8192+Math.round(p[2*y]/v)+S;p[y]=M&67108863,M<67108864?S=0:S=M/67108864|0}return p},C.prototype.convert13b=function(p,v,S,y){for(var M=0,D=0;D<v;D++)M=M+(p[D]|0),S[2*D]=M&8191,M=M>>>13,S[2*D+1]=M&8191,M=M>>>13;for(D=2*v;D<y;++D)S[D]=0;r(M===0),r((M&-8192)===0)},C.prototype.stub=function(p){for(var v=new Array(p),S=0;S<p;S++)v[S]=0;return v},C.prototype.mulp=function(p,v,S){var y=2*this.guessLen13b(p.length,v.length),M=this.makeRBT(y),D=this.stub(y),k=new Array(y),E=new Array(y),d=new Array(y),N=new Array(y),U=new Array(y),q=new Array(y),P=S.words;P.length=y,this.convert13b(p.words,p.length,k,y),this.convert13b(v.words,v.length,N,y),this.transform(k,D,E,d,y,M),this.transform(N,D,U,q,y,M);for(var G=0;G<y;G++){var Z=E[G]*U[G]-d[G]*q[G];d[G]=E[G]*q[G]+d[G]*U[G],E[G]=Z}return this.conjugate(E,d,y),this.transform(E,d,P,D,y,M),this.conjugate(P,D,y),this.normalize13b(P,y),S.negative=p.negative^v.negative,S.length=p.length+v.length,S.strip()},a.prototype.mul=function(p){var v=new a(null);return v.words=new Array(this.length+p.length),this.mulTo(p,v)},a.prototype.mulf=function(p){var v=new a(null);return v.words=new Array(this.length+p.length),I(this,p,v)},a.prototype.imul=function(p){return this.clone().mulTo(p,this)},a.prototype.imuln=function(p){r(typeof p=="number"),r(p<67108864);for(var v=0,S=0;S<this.length;S++){var y=(this.words[S]|0)*p,M=(y&67108863)+(v&67108863);v>>=26,v+=y/67108864|0,v+=M>>>26,this.words[S]=M&67108863}return v!==0&&(this.words[S]=v,this.length++),this},a.prototype.muln=function(p){return this.clone().imuln(p)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(p){var v=m(p);if(v.length===0)return new a(1);for(var S=this,y=0;y<v.length&&v[y]===0;y++,S=S.sqr());if(++y<v.length)for(var M=S.sqr();y<v.length;y++,M=M.sqr())v[y]!==0&&(S=S.mul(M));return S},a.prototype.iushln=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26,y=67108863>>>26-v<<26-v,M;if(v!==0){var D=0;for(M=0;M<this.length;M++){var k=this.words[M]&y,E=(this.words[M]|0)-k<<v;this.words[M]=E|D,D=k>>>26-v}D&&(this.words[M]=D,this.length++)}if(S!==0){for(M=this.length-1;M>=0;M--)this.words[M+S]=this.words[M];for(M=0;M<S;M++)this.words[M]=0;this.length+=S}return this.strip()},a.prototype.ishln=function(p){return r(this.negative===0),this.iushln(p)},a.prototype.iushrn=function(p,v,S){r(typeof p=="number"&&p>=0);var y;v?y=(v-v%26)/26:y=0;var M=p%26,D=Math.min((p-M)/26,this.length),k=67108863^67108863>>>M<<M,E=S;if(y-=D,y=Math.max(0,y),E){for(var d=0;d<D;d++)E.words[d]=this.words[d];E.length=D}if(D!==0)if(this.length>D)for(this.length-=D,d=0;d<this.length;d++)this.words[d]=this.words[d+D];else this.words[0]=0,this.length=1;var N=0;for(d=this.length-1;d>=0&&(N!==0||d>=y);d--){var U=this.words[d]|0;this.words[d]=N<<26-M|U>>>M,N=U&k}return E&&N!==0&&(E.words[E.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(p,v,S){return r(this.negative===0),this.iushrn(p,v,S)},a.prototype.shln=function(p){return this.clone().ishln(p)},a.prototype.ushln=function(p){return this.clone().iushln(p)},a.prototype.shrn=function(p){return this.clone().ishrn(p)},a.prototype.ushrn=function(p){return this.clone().iushrn(p)},a.prototype.testn=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26,y=1<<v;if(this.length<=S)return!1;var M=this.words[S];return!!(M&y)},a.prototype.imaskn=function(p){r(typeof p=="number"&&p>=0);var v=p%26,S=(p-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(v!==0&&S++,this.length=Math.min(S,this.length),v!==0){var y=67108863^67108863>>>v<<v;this.words[this.length-1]&=y}return this.strip()},a.prototype.maskn=function(p){return this.clone().imaskn(p)},a.prototype.iaddn=function(p){return r(typeof p=="number"),r(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},a.prototype._iaddn=function(p){this.words[0]+=p;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},a.prototype.isubn=function(p){if(r(typeof p=="number"),r(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this.strip()},a.prototype.addn=function(p){return this.clone().iaddn(p)},a.prototype.subn=function(p){return this.clone().isubn(p)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(p,v,S){var y=p.length+S,M;this._expand(y);var D,k=0;for(M=0;M<p.length;M++){D=(this.words[M+S]|0)+k;var E=(p.words[M]|0)*v;D-=E&67108863,k=(D>>26)-(E/67108864|0),this.words[M+S]=D&67108863}for(;M<this.length-S;M++)D=(this.words[M+S]|0)+k,k=D>>26,this.words[M+S]=D&67108863;if(k===0)return this.strip();for(r(k===-1),k=0,M=0;M<this.length;M++)D=-(this.words[M]|0)+k,k=D>>26,this.words[M]=D&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(p,v){var S=this.length-p.length,y=this.clone(),M=p,D=M.words[M.length-1]|0,k=this._countBits(D);S=26-k,S!==0&&(M=M.ushln(S),y.iushln(S),D=M.words[M.length-1]|0);var E=y.length-M.length,d;if(v!=="mod"){d=new a(null),d.length=E+1,d.words=new Array(d.length);for(var N=0;N<d.length;N++)d.words[N]=0}var U=y.clone()._ishlnsubmul(M,1,E);U.negative===0&&(y=U,d&&(d.words[E]=1));for(var q=E-1;q>=0;q--){var P=(y.words[M.length+q]|0)*67108864+(y.words[M.length+q-1]|0);for(P=Math.min(P/D|0,67108863),y._ishlnsubmul(M,P,q);y.negative!==0;)P--,y.negative=0,y._ishlnsubmul(M,1,q),y.isZero()||(y.negative^=1);d&&(d.words[q]=P)}return d&&d.strip(),y.strip(),v!=="div"&&S!==0&&y.iushrn(S),{div:d||null,mod:y}},a.prototype.divmod=function(p,v,S){if(r(!p.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var y,M,D;return this.negative!==0&&p.negative===0?(D=this.neg().divmod(p,v),v!=="mod"&&(y=D.div.neg()),v!=="div"&&(M=D.mod.neg(),S&&M.negative!==0&&M.iadd(p)),{div:y,mod:M}):this.negative===0&&p.negative!==0?(D=this.divmod(p.neg(),v),v!=="mod"&&(y=D.div.neg()),{div:y,mod:D.mod}):(this.negative&p.negative)!==0?(D=this.neg().divmod(p.neg(),v),v!=="div"&&(M=D.mod.neg(),S&&M.negative!==0&&M.isub(p)),{div:D.div,mod:M}):p.length>this.length||this.cmp(p)<0?{div:new a(0),mod:this}:p.length===1?v==="div"?{div:this.divn(p.words[0]),mod:null}:v==="mod"?{div:null,mod:new a(this.modn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new a(this.modn(p.words[0]))}:this._wordDiv(p,v)},a.prototype.div=function(p){return this.divmod(p,"div",!1).div},a.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},a.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},a.prototype.divRound=function(p){var v=this.divmod(p);if(v.mod.isZero())return v.div;var S=v.div.negative!==0?v.mod.isub(p):v.mod,y=p.ushrn(1),M=p.andln(1),D=S.cmp(y);return D<0||M===1&&D===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},a.prototype.modn=function(p){r(p<=67108863);for(var v=(1<<26)%p,S=0,y=this.length-1;y>=0;y--)S=(v*S+(this.words[y]|0))%p;return S},a.prototype.idivn=function(p){r(p<=67108863);for(var v=0,S=this.length-1;S>=0;S--){var y=(this.words[S]|0)+v*67108864;this.words[S]=y/p|0,v=y%p}return this.strip()},a.prototype.divn=function(p){return this.clone().idivn(p)},a.prototype.egcd=function(p){r(p.negative===0),r(!p.isZero());var v=this,S=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var y=new a(1),M=new a(0),D=new a(0),k=new a(1),E=0;v.isEven()&&S.isEven();)v.iushrn(1),S.iushrn(1),++E;for(var d=S.clone(),N=v.clone();!v.isZero();){for(var U=0,q=1;(v.words[0]&q)===0&&U<26;++U,q<<=1);if(U>0)for(v.iushrn(U);U-- >0;)(y.isOdd()||M.isOdd())&&(y.iadd(d),M.isub(N)),y.iushrn(1),M.iushrn(1);for(var P=0,G=1;(S.words[0]&G)===0&&P<26;++P,G<<=1);if(P>0)for(S.iushrn(P);P-- >0;)(D.isOdd()||k.isOdd())&&(D.iadd(d),k.isub(N)),D.iushrn(1),k.iushrn(1);v.cmp(S)>=0?(v.isub(S),y.isub(D),M.isub(k)):(S.isub(v),D.isub(y),k.isub(M))}return{a:D,b:k,gcd:S.iushln(E)}},a.prototype._invmp=function(p){r(p.negative===0),r(!p.isZero());var v=this,S=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var y=new a(1),M=new a(0),D=S.clone();v.cmpn(1)>0&&S.cmpn(1)>0;){for(var k=0,E=1;(v.words[0]&E)===0&&k<26;++k,E<<=1);if(k>0)for(v.iushrn(k);k-- >0;)y.isOdd()&&y.iadd(D),y.iushrn(1);for(var d=0,N=1;(S.words[0]&N)===0&&d<26;++d,N<<=1);if(d>0)for(S.iushrn(d);d-- >0;)M.isOdd()&&M.iadd(D),M.iushrn(1);v.cmp(S)>=0?(v.isub(S),y.isub(M)):(S.isub(v),M.isub(y))}var U;return v.cmpn(1)===0?U=y:U=M,U.cmpn(0)<0&&U.iadd(p),U},a.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var v=this.clone(),S=p.clone();v.negative=0,S.negative=0;for(var y=0;v.isEven()&&S.isEven();y++)v.iushrn(1),S.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;S.isEven();)S.iushrn(1);var M=v.cmp(S);if(M<0){var D=v;v=S,S=D}else if(M===0||S.cmpn(1)===0)break;v.isub(S)}while(!0);return S.iushln(y)},a.prototype.invm=function(p){return this.egcd(p).a.umod(p)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(p){return this.words[0]&p},a.prototype.bincn=function(p){r(typeof p=="number");var v=p%26,S=(p-v)/26,y=1<<v;if(this.length<=S)return this._expand(S+1),this.words[S]|=y,this;for(var M=y,D=S;M!==0&&D<this.length;D++){var k=this.words[D]|0;k+=M,M=k>>>26,k&=67108863,this.words[D]=k}return M!==0&&(this.words[D]=M,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(p){var v=p<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this.strip();var S;if(this.length>1)S=1;else{v&&(p=-p),r(p<=67108863,"Number is too big");var y=this.words[0]|0;S=y===p?0:y<p?-1:1}return this.negative!==0?-S|0:S},a.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var v=this.ucmp(p);return this.negative!==0?-v|0:v},a.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var v=0,S=this.length-1;S>=0;S--){var y=this.words[S]|0,M=p.words[S]|0;if(y!==M){y<M?v=-1:y>M&&(v=1);break}}return v},a.prototype.gtn=function(p){return this.cmpn(p)===1},a.prototype.gt=function(p){return this.cmp(p)===1},a.prototype.gten=function(p){return this.cmpn(p)>=0},a.prototype.gte=function(p){return this.cmp(p)>=0},a.prototype.ltn=function(p){return this.cmpn(p)===-1},a.prototype.lt=function(p){return this.cmp(p)===-1},a.prototype.lten=function(p){return this.cmpn(p)<=0},a.prototype.lte=function(p){return this.cmp(p)<=0},a.prototype.eqn=function(p){return this.cmpn(p)===0},a.prototype.eq=function(p){return this.cmp(p)===0},a.red=function(p){return new j(p)},a.prototype.toRed=function(p){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(p){return this.red=p,this},a.prototype.forceRed=function(p){return r(!this.red,"Already a number in reduction context"),this._forceRed(p)},a.prototype.redAdd=function(p){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},a.prototype.redIAdd=function(p){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},a.prototype.redSub=function(p){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},a.prototype.redISub=function(p){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},a.prototype.redShl=function(p){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},a.prototype.redMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},a.prototype.redIMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(p){return r(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var R={k256:null,p224:null,p192:null,p25519:null};function O(T,p){this.name=T,this.p=new a(p,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var p=new a(null);return p.words=new Array(Math.ceil(this.n/13)),p},O.prototype.ireduce=function(p){var v=p,S;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),S=v.bitLength();while(S>this.n);var y=S<this.n?-1:v.ucmp(this.p);return y===0?(v.words[0]=0,v.length=1):y>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},O.prototype.split=function(p,v){p.iushrn(this.n,0,v)},O.prototype.imulK=function(p){return p.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,O),F.prototype.split=function(p,v){for(var S=4194303,y=Math.min(p.length,9),M=0;M<y;M++)v.words[M]=p.words[M];if(v.length=y,p.length<=9){p.words[0]=0,p.length=1;return}var D=p.words[9];for(v.words[v.length++]=D&S,M=10;M<p.length;M++){var k=p.words[M]|0;p.words[M-10]=(k&S)<<4|D>>>22,D=k}D>>>=22,p.words[M-10]=D,D===0&&p.length>10?p.length-=10:p.length-=9},F.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var v=0,S=0;S<p.length;S++){var y=p.words[S]|0;v+=y*977,p.words[S]=v&67108863,v=y*64+(v/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function z(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(z,O);function B(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(B,O);function $(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n($,O),$.prototype.imulK=function(p){for(var v=0,S=0;S<p.length;S++){var y=(p.words[S]|0)*19+v,M=y&67108863;y>>>=26,p.words[S]=M,v=y}return v!==0&&(p.words[p.length++]=v),p},a._prime=function(p){if(R[p])return R[p];var v;if(p==="k256")v=new F;else if(p==="p224")v=new z;else if(p==="p192")v=new B;else if(p==="p25519")v=new $;else throw new Error("Unknown prime "+p);return R[p]=v,v};function j(T){if(typeof T=="string"){var p=a._prime(T);this.m=p.p,this.prime=p}else r(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}j.prototype._verify1=function(p){r(p.negative===0,"red works only with positives"),r(p.red,"red works only with red numbers")},j.prototype._verify2=function(p,v){r((p.negative|v.negative)===0,"red works only with positives"),r(p.red&&p.red===v.red,"red works only with red numbers")},j.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):p.umod(this.m)._forceRed(this)},j.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},j.prototype.add=function(p,v){this._verify2(p,v);var S=p.add(v);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},j.prototype.iadd=function(p,v){this._verify2(p,v);var S=p.iadd(v);return S.cmp(this.m)>=0&&S.isub(this.m),S},j.prototype.sub=function(p,v){this._verify2(p,v);var S=p.sub(v);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},j.prototype.isub=function(p,v){this._verify2(p,v);var S=p.isub(v);return S.cmpn(0)<0&&S.iadd(this.m),S},j.prototype.shl=function(p,v){return this._verify1(p),this.imod(p.ushln(v))},j.prototype.imul=function(p,v){return this._verify2(p,v),this.imod(p.imul(v))},j.prototype.mul=function(p,v){return this._verify2(p,v),this.imod(p.mul(v))},j.prototype.isqr=function(p){return this.imul(p,p.clone())},j.prototype.sqr=function(p){return this.mul(p,p)},j.prototype.sqrt=function(p){if(p.isZero())return p.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var S=this.m.add(new a(1)).iushrn(2);return this.pow(p,S)}for(var y=this.m.subn(1),M=0;!y.isZero()&&y.andln(1)===0;)M++,y.iushrn(1);r(!y.isZero());var D=new a(1).toRed(this),k=D.redNeg(),E=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);this.pow(d,E).cmp(k)!==0;)d.redIAdd(k);for(var N=this.pow(d,y),U=this.pow(p,y.addn(1).iushrn(1)),q=this.pow(p,y),P=M;q.cmp(D)!==0;){for(var G=q,Z=0;G.cmp(D)!==0;Z++)G=G.redSqr();r(Z<P);var X=this.pow(N,new a(1).iushln(P-Z-1));U=U.redMul(X),N=X.redSqr(),q=q.redMul(N),P=Z}return U},j.prototype.invm=function(p){var v=p._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},j.prototype.pow=function(p,v){if(v.isZero())return new a(1).toRed(this);if(v.cmpn(1)===0)return p.clone();var S=4,y=new Array(1<<S);y[0]=new a(1).toRed(this),y[1]=p;for(var M=2;M<y.length;M++)y[M]=this.mul(y[M-1],p);var D=y[0],k=0,E=0,d=v.bitLength()%26;for(d===0&&(d=26),M=v.length-1;M>=0;M--){for(var N=v.words[M],U=d-1;U>=0;U--){var q=N>>U&1;if(D!==y[0]&&(D=this.sqr(D)),q===0&&k===0){E=0;continue}k<<=1,k|=q,E++,!(E!==S&&(M!==0||U!==0))&&(D=this.mul(D,y[k]),E=0,k=0)}d=26}return D},j.prototype.convertTo=function(p){var v=p.umod(this.m);return v===p?v.clone():v},j.prototype.convertFrom=function(p){var v=p.clone();return v.red=null,v},a.mont=function(p){return new W(p)};function W(T){j.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(W,j),W.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},W.prototype.convertFrom=function(p){var v=this.imod(p.mul(this.rinv));return v.red=null,v},W.prototype.imul=function(p,v){if(p.isZero()||v.isZero())return p.words[0]=0,p.length=1,p;var S=p.imul(v),y=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=S.isub(y).iushrn(this.shift),D=M;return M.cmp(this.m)>=0?D=M.isub(this.m):M.cmpn(0)<0&&(D=M.iadd(this.m)),D._forceRed(this)},W.prototype.mul=function(p,v){if(p.isZero()||v.isZero())return new a(0)._forceRed(this);var S=p.mul(v),y=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=S.isub(y).iushrn(this.shift),D=M;return M.cmp(this.m)>=0?D=M.isub(this.m):M.cmpn(0)<0&&(D=M.iadd(this.m)),D._forceRed(this)},W.prototype.invm=function(p){var v=this.imod(p._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(typeof YF=="undefined"||YF,rue)});var XF=Ee((Tir,iue)=>{w();_();var nue=MN(),plt=En().Buffer;function dlt(t,e){return plt.from(t.toRed(nue.mont(e.modulus)).redPow(new nue(e.publicExponent)).fromRed().toArray())}iue.exports=dlt});var uue=Ee((Dir,sue)=>{w();_();var mlt=m2(),QF=Em(),vlt=Fg(),aue=ZF(),oue=JF(),eB=MN(),glt=XF(),ylt=Z3(),vl=En().Buffer;sue.exports=function(e,r,n){var a;e.padding?a=e.padding:n?a=1:a=4;var o=mlt(e),s;if(a===4)s=blt(o,r);else if(a===1)s=wlt(o,r,n);else if(a===3){if(s=new eB(r),s.cmp(o.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?ylt(s,o):glt(s,o)};function blt(t,e){var r=t.modulus.byteLength(),n=e.length,a=vlt("sha1").update(vl.alloc(0)).digest(),o=a.length,s=2*o;if(n>r-s-2)throw new Error("message too long");var u=vl.alloc(r-n-s-2),f=r-o-1,l=QF(o),c=oue(vl.concat([a,u,vl.alloc(1,1),e],f),aue(l,f)),h=oue(l,aue(c,o));return new eB(vl.concat([vl.alloc(1),h,c],r))}function wlt(t,e,r){var n=e.length,a=t.modulus.byteLength();if(n>a-11)throw new Error("message too long");var o;return r?o=vl.alloc(a-n-3,255):o=xlt(a-n-3),new eB(vl.concat([vl.from([0,r?1:2]),o,vl.alloc(1),e],a))}function xlt(t){for(var e=vl.allocUnsafe(t),r=0,n=QF(t*2),a=0,o;r<t;)a===n.length&&(n=QF(t*2),a=0),o=n[a++],o&&(e[r++]=o);return e}});var pue=Ee((kir,hue)=>{w();_();var _lt=m2(),fue=ZF(),lue=JF(),cue=MN(),Slt=Z3(),Elt=Fg(),Mlt=XF(),b2=En().Buffer;hue.exports=function(e,r,n){var a;e.padding?a=e.padding:n?a=1:a=4;var o=_lt(e),s=o.modulus.byteLength();if(r.length>s||new cue(r).cmp(o.modulus)>=0)throw new Error("decryption error");var u;n?u=Mlt(new cue(r),o):u=Slt(r,o);var f=b2.alloc(s-u.length);if(u=b2.concat([f,u],s),a===4)return Alt(o,u);if(a===1)return Nlt(o,u,n);if(a===3)return u;throw new Error("unknown padding")};function Alt(t,e){var r=t.modulus.byteLength(),n=Elt("sha1").update(b2.alloc(0)).digest(),a=n.length;if(e[0]!==0)throw new Error("decryption error");var o=e.slice(1,a+1),s=e.slice(a+1),u=lue(o,fue(s,a)),f=lue(s,fue(u,r-a-1));if(Tlt(n,f.slice(0,a)))throw new Error("decryption error");for(var l=a;f[l]===0;)l++;if(f[l++]!==1)throw new Error("decryption error");return f.slice(l)}function Nlt(t,e,r){for(var n=e.slice(0,2),a=2,o=0;e[a++]!==0;)if(a>=e.length){o++;break}var s=e.slice(2,a-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return e.slice(a)}function Tlt(t,e){t=b2.from(t),e=b2.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var a=-1;++a<n;)r+=t[a]^e[a];return r}});var due=Ee(f0=>{w();_();f0.publicEncrypt=uue();f0.privateDecrypt=pue();f0.privateEncrypt=function(e,r){return f0.publicEncrypt(e,r,!0)};f0.publicDecrypt=function(e,r){return f0.privateDecrypt(e,r,!0)}});var Eue=Ee(w2=>{"use strict";w();_();function mue(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var gue=En(),vue=Em(),yue=gue.Buffer,bue=gue.kMaxLength,tB=globalThis.crypto||globalThis.msCrypto,wue=Math.pow(2,32)-1;function xue(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>wue||t<0)throw new TypeError("offset must be a uint32");if(t>bue||t>e)throw new RangeError("offset out of range")}function _ue(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>wue||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>bue)throw new RangeError("buffer too small")}tB&&tB.getRandomValues||!$process.browser?(w2.randomFill=Dlt,w2.randomFillSync=klt):(w2.randomFill=mue,w2.randomFillSync=mue);function Dlt(t,e,r,n){if(!yue.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return xue(e,t.length),_ue(r,e,t.length),Sue(t,e,r,n)}function Sue(t,e,r,n){if($process.browser){var a=t.buffer,o=new Uint8Array(a,e,r);if(tB.getRandomValues(o),n){$process.nextTick(function(){n(null,t)});return}return t}if(n){vue(r,function(u,f){if(u)return n(u);f.copy(t,e),n(null,t)});return}var s=vue(r);return s.copy(t,e),t}function klt(t,e,r){if(typeof e=="undefined"&&(e=0),!yue.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return xue(e,t.length),r===void 0&&(r=t.length-e),_ue(r,e,t.length),Sue(t,e,r)}});var n2=Ee(Yr=>{"use strict";w();_();Yr.randomBytes=Yr.rng=Yr.pseudoRandomBytes=Yr.prng=Em();Yr.createHash=Yr.Hash=Fg();Yr.createHmac=Yr.Hmac=GR();var Ilt=Ure(),Clt=Object.keys(Ilt),Olt=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Clt);Yr.getHashes=function(){return Olt};var Mue=r8();Yr.pbkdf2=Mue.pbkdf2;Yr.pbkdf2Sync=Mue.pbkdf2Sync;var _c=fie();Yr.Cipher=_c.Cipher;Yr.createCipher=_c.createCipher;Yr.Cipheriv=_c.Cipheriv;Yr.createCipheriv=_c.createCipheriv;Yr.Decipher=_c.Decipher;Yr.createDecipher=_c.createDecipher;Yr.Decipheriv=_c.Decipheriv;Yr.createDecipheriv=_c.createDecipheriv;Yr.getCiphers=_c.getCiphers;Yr.listCiphers=_c.listCiphers;var x2=Eie();Yr.DiffieHellmanGroup=x2.DiffieHellmanGroup;Yr.createDiffieHellmanGroup=x2.createDiffieHellmanGroup;Yr.getDiffieHellman=x2.getDiffieHellman;Yr.createDiffieHellman=x2.createDiffieHellman;Yr.DiffieHellman=x2.DiffieHellman;var AN=Zse();Yr.createSign=AN.createSign;Yr.Sign=AN.Sign;Yr.createVerify=AN.createVerify;Yr.Verify=AN.Verify;Yr.createECDH=Qse();var NN=due();Yr.publicEncrypt=NN.publicEncrypt;Yr.privateEncrypt=NN.privateEncrypt;Yr.publicDecrypt=NN.publicDecrypt;Yr.privateDecrypt=NN.privateDecrypt;var Aue=Eue();Yr.randomFill=Aue.randomFill;Yr.randomFillSync=Aue.randomFillSync;Yr.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};Yr.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var Nue=Ee((exports,module)=>{w();_();var crypto=n2(),exp=Math.exp,ln=Math.log,PI=Math.PI,pow=Math.pow;module.exports={prng:function(t){t===void 0&&(t=16);for(var e=crypto.randomBytes(t),r=0,n=0;n<t;n++)r=r+Number(e[n])/Math.pow(256,n+1);return r},rbeta:function(t,e,r,n){t=this._v(t,"n"),e=this._v(e,"nn",1),r=this._v(r,"nn",1),n=this._v(n,"r",0);for(var a=[],o=0;o<t;o++){var s=this.rgamma(1,e,1)[0],u=this.rgamma(1,r,1)[0];a[o]=n+s/(s+u)}return a},rbinom:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"nni",1),r=this._v(r,"p",.5);for(var n=[],a=0;a<t;a++){for(var o=0,s=0;s<e;s++)this.prng()<r&&o++;n[a]=o}return n},rcauchy:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"r",0),r=this._v(r,"nn",1);for(var n=[],a=0;a<t;a++){var o=r*Math.tan(PI*(this.prng()-.5))+e;n[a]=o}return n},rchisq:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"nn"),r=this._v(r,"r",0);for(var n=[],a=0;a<t;a++){for(var o=r,s=0;s<e;s++)o=o+Math.pow(this.rnorm(1)[0],2);n[a]=o}return n},dexp:function(t,e){return t=this._v(t,"r"),e=this._v(e,"pos",1),t<0?0:e*exp(-e*t)},rexp:function(t,e){t=this._v(t,"n"),e=this._v(e,"pos",1);for(var r=[],n=0;n<t;n++)r[n]=-ln(this.prng())/e;return r},rf:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"nn"),r=this._v(r,"nn");for(var n=[],a=0;a<t;a++){var o=this.rchisq(1,e)[0]/e,s=this.rchisq(1,r)[0]/r;n[a]=o/s}return n},rgamma:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"nn"),r=this._v(r,"pos",1);for(var n=ln(4),a=1+ln(4.5),o=1/r,s=[],u=0;u<t;u++){if(e>1)for(var f=Math.sqrt(2*e-1),l=e-n,c=e+f;;){var h=this.prng();if(!(h<1e-7||R>.9999999)){var m=1-this.prng(),g=ln(h/(1-h))/f,b=e*exp(g),A=h*h*m,I=l+c*g-b;if(I+a-4.5*A>=0||I>=ln(A)){var C=b*o;break}}}else if(e==1){for(var R=this.prng();R<=1e-7;)R=this.prng();var C=-ln(R)*o}else{for(;;){var R=this.prng(),O=(Math.E+e)/Math.E,F=O*R;if(F<=1)var b=Math.pow(F,1/e);else var b=-ln((O-F)/e);var h=this.prng();if(F>1){if(h<=Math.pow(b,e-1))break}else if(h<=exp(-b))break}var C=b*o}s[u]=C}return s},rint:function(t,e,r,n){if(t=this._v(t,"n"),e=this._v(e,"int"),r=this._v(r,"int"),n===!1){if(e++,e===r)throw new Error("Minimum value cannot be greater than maximum value. For non-inclusive, minimum and maximum must be separated by at least 2.")}else r++;if(e>r)throw new Error("Minimum value cannot be greater than maximum value. For non-inclusive, minimum and maximum must be separated by at least 2.");for(var a=[],o=this.runif(t,e,r),s=0;s<t;s++)a[s]=Math.floor(o[s]);return a},rlaplace:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"r",0),r=this._v(r,"nn",1);for(var n=[],a=0;a<t;a++){var o=this.sample([-1,1])[0]*ln(this.prng()),s=e-r*o;n[a]=s}return n},rlnorm:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"r",0),r=this._v(r,"nn",1);for(var n=[],a=0;a<t;a++){var o=this.rnorm(1,e,r)[0];n[a]=exp(o)}return n},rnbinom:function(t,e,r,n){if(t=this._v(t,"n"),e===void 0&&(e=1),Math.round(e)!=e)throw new Error("Size must be a whole number");if(e<1)throw new Error("Size must be one or greater");if(r!==void 0&&n!==void 0)throw new Error("You must specify probability or mean, not both");n!==void 0&&(r=e/(e+n)),r=this._v(r,"p");for(var a=[],o=0;o<t;o++){for(var s=0,u=e;u>0;)s++,this.prng()<r&&u--;a[o]=s-1}return a},dnorm:function(t,e,r){if(t=this._v(t,"r"),e=this._v(e,"r",0),r=this._v(r,"nn",1),r===0)return t===e?1/0:0;var n=r*Math.sqrt(2*PI),a=-(t-e)*(t-e),o=2*r*r;return 1/n*exp(a/o)},rnorm:function(t,e,r){t=this._v(t,"n"),e=this._v(e,"r",0),r=this._v(r,"nn",1);for(var n=[],a=0;a<t;a++){var o,s,u,f;do{var l=this.prng(),c=this.prng();o=2*l-1,s=2*c-1,u=o*o+s*s}while(u>1);f=Math.sqrt(-2*ln(u)/u)*o,f=e+r*f,n.push(f)}return n},dpois:function(t,e){if(t=this._v(t,"nni"),e=this._v(e,"nn"),e===0)return t===0?1:0;var r=pow(e,t),n=exp(-e),a=this._factorial(t);return r*n/a},rpois:function(t,e){t=this._v(t,"n"),e=this._v(e,"pos");for(var r=[],n=0;n<t;n++)if(e<30){var a=exp(-e),o=1,s=0;do s++,o*=this.prng();while(o>a);r.push(s-1)}else{for(var u=1e4,o=e/u,s=0,f=0;f<u;f++)this.prng()<o&&s++;r[n]=s}return r},dunif:function(t,e,r){if(t=this._v(t,"r"),e=this._v(e,"r",0),r=this._v(r,"r",1),e>r)throw new Error("Minimum value cannot be greater than maximum value");return t<e||t>r?0:e===r?1/0:1/(r-e)},runif:function(t,e,r){if(t=this._v(t,"n"),e=this._v(e,"r",0),r=this._v(r,"r",1),e>r)throw new Error("Minimum value cannot be greater than maximum value");for(var n=[],a=0;a<t;a++){var o=this.prng(),s=e+o*(r-e);n.push(s)}return n},rword:function(t,e){t=this._v(t,"n"),e=this._v(e,"str","abcdefghijklmnopqrstuvwxyz");var r=e.split(""),n=this.sample(r,t,!0);return n.join("")},sample:function(t,e,r,n){if(t=this._v(t,"a"),e=this._v(e,"n",t.length),r===void 0&&(r=!1),!r&&t.length<e)throw new Error("You cannot select "+e+" items from an array of length "+t.length+" without replacement");if(n===void 0){n=[];for(var a=0;a<t.length;a++)n[a]=1}for(var o=this._getCumulativeProbs(n,t.length),s=[],u=0;u<e;u++){var f=this._sampleOneIndex(o);r?s[u]=t[f]:(s[u]=t.splice(f,1)[0],n.splice(f,1),n.length&&(o=this._getCumulativeProbs(n,t.length)))}return s},visualize:function(data,domID,options){var defaultOptions={lag:1e3,blank:"",inf:"&infin;",loop:!0,conditions:"",arrivalTimes:!1,arrivalSymbol:'<span class="pd-arrival">&#8226;</span>',arrivalFlashTime:.25,significantDigits:0};typeof options=="undefined"&&(options={});for(var property in defaultOptions)defaultOptions.hasOwnProperty(property)&&typeof options[property]=="undefined"&&(options[property]=defaultOptions[property]);var elem=document.getElementById(domID);if(!elem)throw new Error("Unable to find DOM element "+domID);var len=data.length,i=0,format=function(x){var x=data[i];if(options.conditions){if(!/^[x\&\|=0-9\<\>\s\-\.]+$/.test(options.conditions))throw new Error("Bad input sent to options.conditions");if(eval(options.conditions)!==!0)return x=options.blank,x}return options.significantDigits&&(x=x.toPrecision(options.significantDigits)),x===1/0&&(x=options.inf),x};if(options.arrivalTimes){var blankOut=function(){setTimeout(function(){elem.innerHTML=options.blank},options.arrivalFlashTime*options.lag)},cycle=function(){elem.innerHTML=options.arrivalSymbol,blankOut(),++i===len&&(i=0),options.loop||i!==0?setTimeout(cycle,data[i]*options.lag):elem.innerHTML=options.blank};cycle()}else{var update=function(){elem.innerHTML=format(data[i]),++i===len&&(i=0),options.loop||i!==0?setTimeout(update,options.lag):setTimeout(function(){elem.innerHTML=options.blank},options.lag)};update()}},_getCumulativeProbs:function(t,e){if(e===void 0)throw new Error("An error occurred: len was not sent to _getCumulativeProbs");if(t.length!==e)throw new Error("Probabilities for sample must be same length as the array to sample from");var r=[];if(t!==void 0){if(t=this._v(t,"a"),t.length!==e)throw new Error("Probabilities array must be the same length as the array you are sampling from");var n=0;t.map(function(o){o=this._v(o,"nn"),n+=o,r.push(n)}.bind(this));for(var a=0;a<r.length;a++)r[a]=r[a]/n;return r}},_sampleOneIndex:function(t){for(var e=this.prng(),r=0;e>t[r];)r++;return r},_factorial:function(t){for(var e=1,r=2;r<=t;r++)e=e*r;return e},_v:function(t,e,r){if(t==null&&r!=null)return r;switch(e){case"a":if(!Array.isArray(t)||!t.length)throw new Error("Expected an array of length 1 or greater");return t.slice(0);case"int":if(t!==Number(t))throw new Error("A required parameter is missing or not a number");if(t!==Math.round(t))throw new Error("Parameter must be a whole number");if(t===1/0)throw new Error("Sent 'infinity' as a parameter");return t;case"n":if(t===void 0)throw new Error("You must specify how many values you want");if(t!==Number(t))throw new Error("The number of values must be numeric");if(t!==Math.round(t))throw new Error("The number of values must be a whole number");if(t<1)throw new Error("The number of values must be a whole number of 1 or greater");if(t===1/0)throw new Error("The number of values cannot be infinite ;-)");return t;case"p":if(Number(t)!==t)throw new Error("Probability value is missing or not a number");if(t>1)throw new Error("Probability values cannot be greater than 1");if(t<0)throw new Error("Probability values cannot be less than 0");return t;case"pos":if(Number(t)!==t)throw new Error("A required parameter is missing or not a number");if(t<=0)throw new Error("Parameter must be greater than 0");if(t===1/0)throw new Error("Sent 'infinity' as a parameter");return t;case"r":if(Number(t)!==t)throw new Error("A required parameter is missing or not a number");if(t===1/0)throw new Error("Sent 'infinity' as a parameter");return t;case"nn":if(t!==Number(t))throw new Error("A required parameter is missing or not a number");if(t<0)throw new Error("Parameter cannot be less than 0");if(t===1/0)throw new Error("Sent 'infinity' as a parameter");return t;case"nni":if(t!==Number(t))throw new Error("A required parameter is missing or not a number");if(t!==Math.round(t))throw new Error("Parameter must be a whole number");if(t<0)throw new Error("Parameter cannot be less than zero");if(t===1/0)throw new Error("Sent 'infinity' as a parameter");return t;case"str":if(t!==String(t))throw new Error("A required parameter is missing or not a string");if(t.length===0)throw new Error("Parameter must be at least one character long");return t}},rfml:function(t,e,r,n,a){t=this._v(t,"n"),e=this._v(e,"nni",1),r===void 0&&(r=this.prng),n=this._v(n,"n",1e4),a===void 0&&(a={});for(var o=[],s=0;s<t;s++){var u=0,f=e,l=r();if(e===0)o[s]=0;else{do{var c=this.prng();c<l?(f++,a[String(s)+"_"+String(u)]={problems:f,p:l,result:1}):(f--,a[String(s)+"_"+String(u)]={problems:f,p:l,result:-1}),u++}while(f>0&&u<n);u===n&&(u=-1),o[s]=u}}return o},ruf:function(t){t=this._v(t,"n");for(var e=[],r=0;r<t;r++)e[r]=this.rexp(1,this.prng())[0];return e}}});var rB=Ee(Rr=>{"use strict";w();_();function TN(t,e){return t-e}Rr.sum=function(e){for(var r=0,n=0;n<e.length;n++)r+=e[n];return r};Rr.max=function(e){for(var r=e[0],n=e.length,a=1;a<n;a++)e[a]>r&&(r=e[a]);return r};Rr.min=function(e){for(var r=e[0],n=e.length,a=1;a<n;a++)e[a]<r&&(r=e[a]);return r};Rr.minMax=function(e){for(var r=e[0],n=e[0],a=e.length,o=1;o<a;o++)e[o]<r&&(r=e[o]),e[o]>n&&(n=e[o]);return{min:r,max:n}};Rr.arithmeticMean=function(e){for(var r=0,n=e.length,a=0;a<n;a++)r+=e[a];return r/n};Rr.mean=Rr.arithmeticMean;Rr.geometricMean=function(e){for(var r=1,n=e.length,a=0;a<n;a++)r*=e[a];return Math.pow(r,1/n)};Rr.logMean=function(e){for(var r=0,n=e.length,a=0;a<n;a++)r+=Math.log(e[a]);return r/n};Rr.grandMean=function(e,r){for(var n=0,a=0,o=e.length,s=0;s<o;s++)n+=r[s]*e[s],a+=r[s];return n/a};Rr.truncatedMean=function(e,r,n){n===void 0&&(n=!1),n||(e=[].concat(e).sort(TN));for(var a=e.length,o=Math.floor(a*r),s=0,u=o;u<a-o;u++)s+=e[u];return s/(a-2*o)};Rr.harmonicMean=function(e){for(var r=0,n=e.length,a=0;a<n;a++){if(e[a]===0)throw new RangeError("value at index "+a+"is zero");r+=1/e[a]}return n/r};Rr.contraHarmonicMean=function(e){for(var r=0,n=0,a=e.length,o=0;o<a;o++)r+=e[o]*e[o],n+=e[o];if(n<0)throw new RangeError("sum of values is negative");return r/n};Rr.median=function(e,r){r===void 0&&(r=!1),r||(e=[].concat(e).sort(TN));var n=e.length,a=Math.floor(n/2);return n%2===0?(e[a-1]+e[a])*.5:e[a]};Rr.variance=function(e,r){r===void 0&&(r=!0);for(var n=Rr.mean(e),a=0,o=e.length,s=0;s<o;s++){var u=e[s]-n;a+=u*u}return r?a/(o-1):a/o};Rr.standardDeviation=function(e,r){return Math.sqrt(Rr.variance(e,r))};Rr.standardError=function(e){return Rr.standardDeviation(e)/Math.sqrt(e.length)};Rr.robustMeanAndStdev=function(e){var r=0,n=0,a=e.length,o=0;for(o=0;o<a;o++)r+=e[o];r/=a;var s=new Array(a);for(o=0;o<a;o++)s[o]=Math.abs(e[o]-r);return s.sort(TN),a%2===1?n=s[(a-1)/2]/.6745:n=.5*(s[a/2]+s[a/2-1])/.6745,{mean:r,stdev:n}};Rr.quartiles=function(e,r){typeof r=="undefined"&&(r=!1),r||(e=[].concat(e).sort(TN));var n=e.length/4,a=e[Math.ceil(n)-1],o=Rr.median(e,!0),s=e[Math.ceil(n*3)-1];return{q1:a,q2:o,q3:s}};Rr.pooledStandardDeviation=function(e,r){return Math.sqrt(Rr.pooledVariance(e,r))};Rr.pooledVariance=function(e,r){typeof r=="undefined"&&(r=!0);for(var n=0,a=0,o=e.length,s=0;s<o;s++){var u=e[s],f=Rr.variance(u);n+=(u.length-1)*f,r?a+=u.length-1:a+=u.length}return n/a};Rr.mode=function(e){var r=e.length,n=new Array(r),a;for(a=0;a<r;a++)n[a]=0;var o=new Array(r),s=0;for(a=0;a<r;a++){var u=o.indexOf(e[a]);u>=0?n[u]++:(o[s]=e[a],n[s]=1,s++)}var f=0,l=0;for(a=0;a<s;a++)n[a]>f&&(f=n[a],l=a);return o[l]};Rr.covariance=function(e,r,n){typeof n=="undefined"&&(n=!0);var a=Rr.mean(e),o=Rr.mean(r);if(e.length!==r.length)throw"Vectors do not have the same dimensions";for(var s=0,u=e.length,f=0;f<u;f++){var l=e[f]-a,c=r[f]-o;s+=l*c}return n?s/(u-1):s/u};Rr.skewness=function(e,r){typeof r=="undefined"&&(r=!0);for(var n=Rr.mean(e),a=0,o=0,s=e.length,u=0;u<s;u++){var f=e[u]-n;a+=f*f,o+=f*f*f}var l=a/s,c=o/s,h=c/Math.pow(l,3/2);if(r){var m=Math.sqrt(s*(s-1)),g=s-2;return m/g*h}else return h};Rr.kurtosis=function(e,r){typeof r=="undefined"&&(r=!0);for(var n=Rr.mean(e),a=e.length,o=0,s=0,u=0;u<a;u++){var f=e[u]-n;o+=f*f,s+=f*f*f*f}var l=o/a,c=s/a;if(r){var h=o/(a-1),m=a*(a+1)/((a-1)*(a-2)*(a-3)),g=s/(h*h),b=(a-1)*(a-1)/((a-2)*(a-3));return m*g-3*b}else return c/(l*l)-3};Rr.entropy=function(e,r){typeof r=="undefined"&&(r=0);for(var n=0,a=e.length,o=0;o<a;o++)n+=e[o]*Math.log(e[o]+r);return-n};Rr.weightedMean=function(e,r){for(var n=0,a=e.length,o=0;o<a;o++)n+=e[o]*r[o];return n};Rr.weightedStandardDeviation=function(e,r){return Math.sqrt(Rr.weightedVariance(e,r))};Rr.weightedVariance=function(e,r){for(var n=Rr.weightedMean(e,r),a=0,o=e.length,s=0,u=0,f=0;f<o;f++){var l=e[f]-n,c=r[f];a+=c*(l*l),u+=c,s+=c*c}return a*(u/(u*u-s))};Rr.center=function(e,r){typeof r=="undefined"&&(r=!1);var n=e;r||(n=[].concat(e));for(var a=Rr.mean(n),o=n.length,s=0;s<o;s++)n[s]-=a};Rr.standardize=function(e,r,n){typeof r=="undefined"&&(r=Rr.standardDeviation(e)),typeof n=="undefined"&&(n=!1);for(var a=e.length,o=n?e:new Array(a),s=0;s<a;s++)o[s]=e[s]/r;return o};Rr.cumulativeSum=function(e){var r=e.length,n=new Array(r);n[0]=e[0];for(var a=1;a<r;a++)n[a]=n[a-1]+e[a];return n}});var Tue=Ee(Lr=>{"use strict";w();_();var Rlt=rB();function Flt(t,e){return t-e}Lr.max=function(e){for(var r=-1/0,n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++)e[n][a]>r&&(r=e[n][a]);return r};Lr.min=function(e){for(var r=1/0,n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++)e[n][a]<r&&(r=e[n][a]);return r};Lr.minMax=function(e){for(var r=1/0,n=-1/0,a=0;a<e.length;a++)for(var o=0;o<e[a].length;o++)e[a][o]<r&&(r=e[a][o]),e[a][o]>n&&(n=e[a][o]);return{min:r,max:n}};Lr.entropy=function(e,r){typeof r=="undefined"&&(r=0);for(var n=0,a=e.length,o=e[0].length,s=0;s<a;s++)for(var u=0;u<o;u++)n+=e[s][u]*Math.log(e[s][u]+r);return-n};Lr.mean=function(e,r){typeof r=="undefined"&&(r=0);var n=e.length,a=e[0].length,o,s,u,f;if(r===-1){for(o=[0],s=n*a,u=0;u<n;u++)for(f=0;f<a;f++)o[0]+=e[u][f];o[0]/=s}else if(r===0)for(o=new Array(a),s=n,f=0;f<a;f++){for(o[f]=0,u=0;u<n;u++)o[f]+=e[u][f];o[f]/=s}else if(r===1)for(o=new Array(n),s=a,f=0;f<n;f++){for(o[f]=0,u=0;u<a;u++)o[f]+=e[f][u];o[f]/=s}else throw new Error("Invalid dimension");return o};Lr.sum=function(e,r){typeof r=="undefined"&&(r=0);var n=e.length,a=e[0].length,o,s,u;if(r===-1)for(o=[0],s=0;s<n;s++)for(u=0;u<a;u++)o[0]+=e[s][u];else if(r===0)for(o=new Array(a),u=0;u<a;u++)for(o[u]=0,s=0;s<n;s++)o[u]+=e[s][u];else if(r===1)for(o=new Array(n),u=0;u<n;u++)for(o[u]=0,s=0;s<a;s++)o[u]+=e[u][s];else throw new Error("Invalid dimension");return o};Lr.product=function(e,r){typeof r=="undefined"&&(r=0);var n=e.length,a=e[0].length,o,s,u;if(r===-1)for(o=[1],s=0;s<n;s++)for(u=0;u<a;u++)o[0]*=e[s][u];else if(r===0)for(o=new Array(a),u=0;u<a;u++)for(o[u]=1,s=0;s<n;s++)o[u]*=e[s][u];else if(r===1)for(o=new Array(n),u=0;u<n;u++)for(o[u]=1,s=0;s<a;s++)o[u]*=e[u][s];else throw new Error("Invalid dimension");return o};Lr.standardDeviation=function(e,r,n){for(var a=Lr.variance(e,r,n),o=a.length,s=0;s<o;s++)a[s]=Math.sqrt(a[s]);return a};Lr.variance=function(e,r,n){typeof n=="undefined"&&(n=!0),r=r||Lr.mean(e);var a=e.length;if(a===0)return[];for(var o=e[0].length,s=new Array(o),u=0;u<o;u++){for(var f=0,l=0,c=0,h=0;h<a;h++)c=e[h][u]-r[u],f+=c,l+=c*c;n?s[u]=(l-f*f/a)/(a-1):s[u]=(l-f*f/a)/a}return s};Lr.median=function(e){for(var r=e.length,n=e[0].length,a=new Array(n),o=0;o<n;o++){for(var s=new Array(r),u=0;u<r;u++)s[u]=e[u][o];s.sort(Flt);var f=s.length;f%2===0?a[o]=(s[f/2]+s[f/2-1])*.5:a[o]=s[Math.floor(f/2)]}return a};Lr.mode=function(e){var r=e.length,n=e[0].length,a=new Array(n),o,s;for(o=0;o<n;o++){for(var u=new Array(r),f=0;f<r;f++)u[f]=0;var l=new Array(r),c=0;for(s=0;s<r;s++){var h=l.indexOf(e[s][o]);h>=0?u[h]++:(l[c]=e[s][o],u[c]=1,c++)}var m=0,g=0;for(s=0;s<c;s++)u[s]>m&&(m=u[s],g=s);a[o]=l[g]}return a};Lr.skewness=function(e,r){typeof r=="undefined"&&(r=!0);for(var n=Lr.mean(e),a=e.length,o=n.length,s=new Array(o),u=0;u<o;u++){for(var f=0,l=0,c=0;c<a;c++){var h=e[c][u]-n[u];f+=h*h,l+=h*h*h}var m=f/a,g=l/a,b=g/Math.pow(m,3/2);if(r){var A=Math.sqrt(a*(a-1)),I=a-2;s[u]=A/I*b}else s[u]=b}return s};Lr.kurtosis=function(e,r){typeof r=="undefined"&&(r=!0);for(var n=Lr.mean(e),a=e.length,o=e[0].length,s=new Array(o),u=0;u<o;u++){for(var f=0,l=0,c=0;c<a;c++){var h=e[c][u]-n[u];f+=h*h,l+=h*h*h*h}var m=f/a,g=l/a;if(r){var b=f/(a-1),A=a*(a+1)/((a-1)*(a-2)*(a-3)),I=l/(b*b),C=(a-1)*(a-1)/((a-2)*(a-3));s[u]=A*I-3*C}else s[u]=g/(m*m)-3}return s};Lr.standardError=function(e){for(var r=e.length,n=Lr.standardDeviation(e),a=n.length,o=new Array(a),s=Math.sqrt(r),u=0;u<a;u++)o[u]=n[u]/s;return o};Lr.covariance=function(e,r){return Lr.scatter(e,void 0,r)};Lr.scatter=function(e,r,n){typeof n=="undefined"&&(n=0),typeof r=="undefined"&&(n===0?r=e.length-1:n===1&&(r=e[0].length-1));var a=Lr.mean(e,n),o=e.length;if(o===0)return[[]];var s=e[0].length,u,f,l,c,h;if(n===0){for(u=new Array(s),f=0;f<s;f++)u[f]=new Array(s);for(f=0;f<s;f++)for(l=f;l<s;l++){for(c=0,h=0;h<o;h++)c+=(e[h][l]-a[l])*(e[h][f]-a[f]);c/=r,u[f][l]=c,u[l][f]=c}}else if(n===1){for(u=new Array(o),f=0;f<o;f++)u[f]=new Array(o);for(f=0;f<o;f++)for(l=f;l<o;l++){for(c=0,h=0;h<s;h++)c+=(e[l][h]-a[l])*(e[f][h]-a[f]);c/=r,u[f][l]=c,u[l][f]=c}}else throw new Error("Invalid dimension");return u};Lr.correlation=function(e){var r=Lr.mean(e),n=Lr.standardDeviation(e,!0,r),a=Lr.zScores(e,r,n),o=e.length,s=e[0].length,u,f,l=new Array(s);for(u=0;u<s;u++)l[u]=new Array(s);for(u=0;u<s;u++)for(f=u;f<s;f++){for(var c=0,h=0,m=a.length;h<m;h++)c+=a[h][f]*a[h][u];c/=o-1,l[u][f]=c,l[f][u]=c}return l};Lr.zScores=function(e,r,n){return r=r||Lr.mean(e),typeof n=="undefined"&&(n=Lr.standardDeviation(e,!0,r)),Lr.standardize(Lr.center(e,r,!1),n,!0)};Lr.center=function(e,r,n){r=r||Lr.mean(e);var a=e,o=e.length,s,u,f;if(!n)for(a=new Array(o),s=0;s<o;s++)a[s]=new Array(e[s].length);for(s=0;s<o;s++){var l=a[s];for(u=0,f=l.length;u<f;u++)l[u]=e[s][u]-r[u]}return a};Lr.standardize=function(e,r,n){typeof r=="undefined"&&(r=Lr.standardDeviation(e));var a=e,o=e.length,s,u,f;if(!n)for(a=new Array(o),s=0;s<o;s++)a[s]=new Array(e[s].length);for(s=0;s<o;s++){var l=a[s],c=e[s];for(u=0,f=l.length;u<f;u++)r[u]!==0&&!isNaN(r[u])&&(l[u]=c[u]/r[u])}return a};Lr.weightedVariance=function(e,r){var n=Lr.mean(e),a=e.length;if(a===0)return[];for(var o=e[0].length,s=new Array(o),u=0;u<o;u++){for(var f=0,l=0,c=0,h=0;h<a;h++){var m=e[h][u]-n[u],g=r[h];f+=g*(m*m),c+=g,l+=g*g}s[u]=f*(c/(c*c-l))}return s};Lr.weightedMean=function(e,r,n){typeof n=="undefined"&&(n=0);var a=e.length;if(a===0)return[];var o=e[0].length,s,u,f,l,c,h;if(n===0){for(s=new Array(o),u=0;u<o;u++)s[u]=0;for(u=0;u<a;u++)for(h=e[u],c=r[u],l=0;l<o;l++)s[l]+=h[l]*c}else if(n===1){for(s=new Array(a),u=0;u<a;u++)s[u]=0;for(l=0;l<a;l++)for(h=e[l],c=r[l],u=0;u<o;u++)s[l]+=h[u]*c}else throw new Error("Invalid dimension");var m=Rlt.sum(r);if(m!==0)for(u=0,f=s.length;u<f;u++)s[u]/=m;return s};Lr.weightedCovariance=function(e,r,n,a){a=a||0,n=n||Lr.weightedMean(e,r,a);for(var o=0,s=0,u=0,f=r.length;u<f;u++)o+=r[u],s+=r[u]*r[u];var l=o/(o*o-s);return Lr.weightedScatter(e,r,n,l,a)};Lr.weightedScatter=function(e,r,n,a,o){o=o||0,n=n||Lr.weightedMean(e,r,o),typeof a=="undefined"&&(a=1);var s=e.length;if(s===0)return[[]];var u=e[0].length,f,l,c,h,m;if(o===0){for(f=new Array(u),l=0;l<u;l++)f[l]=new Array(u);for(l=0;l<u;l++)for(c=l;c<u;c++){for(m=0,h=0;h<s;h++)m+=r[h]*(e[h][c]-n[c])*(e[h][l]-n[l]);f[l][c]=m*a,f[c][l]=m*a}}else if(o===1){for(f=new Array(s),l=0;l<s;l++)f[l]=new Array(s);for(l=0;l<s;l++)for(c=l;c<s;c++){for(m=0,h=0;h<u;h++)m+=r[h]*(e[c][h]-n[c])*(e[l][h]-n[l]);f[l][c]=m*a,f[c][l]=m*a}}else throw new Error("Invalid dimension");return f}});var _2=Ee(nB=>{"use strict";w();_();nB.array=rB();nB.matrix=Tue()});var l0=Ee((Lir,Oue)=>{w();_();var Due=1/0,Iue=9007199254740991,Blt=17976931348623157e292,kue=0/0,Llt="[object Function]",Plt="[object GeneratorFunction]",qlt="[object Symbol]",zlt=/^\s+|\s+$/g,Ult=/^[-+]0x[0-9a-f]+$/i,jlt=/^0b[01]+$/i,$lt=/^0o[0-7]+$/i,Vlt=/^(?:0|[1-9]\d*)$/,Wlt=parseInt,Glt=Object.prototype,Cue=Glt.toString,Hlt=Math.ceil,Klt=Math.max;function Zlt(t,e,r,n){for(var a=-1,o=Klt(Hlt((e-t)/(r||1)),0),s=Array(o);o--;)s[n?o:++a]=t,t+=r;return s}function Jlt(t){return function(e,r,n){return n&&typeof n!="number"&&Xlt(e,r,n)&&(r=n=void 0),e=iB(e),r===void 0?(r=e,e=0):r=iB(r),n=n===void 0?e<r?1:-1:iB(n),Zlt(e,r,n,t)}}function Ylt(t,e){return e=e==null?Iue:e,!!e&&(typeof t=="number"||Vlt.test(t))&&t>-1&&t%1==0&&t<e}function Xlt(t,e,r){if(!DN(r))return!1;var n=typeof e;return(n=="number"?ect(r)&&Ylt(e,r.length):n=="string"&&e in r)?Qlt(r[e],t):!1}function Qlt(t,e){return t===e||t!==t&&e!==e}function ect(t){return t!=null&&rct(t.length)&&!tct(t)}function tct(t){var e=DN(t)?Cue.call(t):"";return e==Llt||e==Plt}function rct(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Iue}function DN(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function nct(t){return!!t&&typeof t=="object"}function ict(t){return typeof t=="symbol"||nct(t)&&Cue.call(t)==qlt}function iB(t){if(!t)return t===0?t:0;if(t=act(t),t===Due||t===-Due){var e=t<0?-1:1;return e*Blt}return t===t?t:0}function act(t){if(typeof t=="number")return t;if(ict(t))return kue;if(DN(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=DN(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(zlt,"");var r=jlt.test(t);return r||$lt.test(t)?Wlt(t.slice(2),r?2:8):Ult.test(t)?kue:+t}var oct=Jlt();Oue.exports=oct});var oB=Ee((Pir,Pue)=>{w();_();var Rue=1/0,Bue=9007199254740991,sct=17976931348623157e292,Fue=0/0,uct="[object Function]",fct="[object GeneratorFunction]",lct="[object Symbol]",cct=/^\s+|\s+$/g,hct=/^[-+]0x[0-9a-f]+$/i,pct=/^0b[01]+$/i,dct=/^0o[0-7]+$/i,mct=/^(?:0|[1-9]\d*)$/,vct=parseInt,gct=Object.prototype,Lue=gct.toString,yct=Math.ceil,bct=Math.max;function wct(t,e,r,n){for(var a=-1,o=bct(yct((e-t)/(r||1)),0),s=Array(o);o--;)s[n?o:++a]=t,t+=r;return s}function xct(t){return function(e,r,n){return n&&typeof n!="number"&&Sct(e,r,n)&&(r=n=void 0),e=aB(e),r===void 0?(r=e,e=0):r=aB(r),n=n===void 0?e<r?1:-1:aB(n),wct(e,r,n,t)}}function _ct(t,e){return e=e==null?Bue:e,!!e&&(typeof t=="number"||mct.test(t))&&t>-1&&t%1==0&&t<e}function Sct(t,e,r){if(!kN(r))return!1;var n=typeof e;return(n=="number"?Mct(r)&&_ct(e,r.length):n=="string"&&e in r)?Ect(r[e],t):!1}function Ect(t,e){return t===e||t!==t&&e!==e}function Mct(t){return t!=null&&Nct(t.length)&&!Act(t)}function Act(t){var e=kN(t)?Lue.call(t):"";return e==uct||e==fct}function Nct(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Bue}function kN(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Tct(t){return!!t&&typeof t=="object"}function Dct(t){return typeof t=="symbol"||Tct(t)&&Lue.call(t)==lct}function aB(t){if(!t)return t===0?t:0;if(t=kct(t),t===Rue||t===-Rue){var e=t<0?-1:1;return e*sct}return t===t?t:0}function kct(t){if(typeof t=="number")return t;if(Dct(t))return Fue;if(kN(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=kN(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(cct,"");var r=pct.test(t);return r||dct.test(t)?vct(t.slice(2),r?2:8):hct.test(t)?Fue:+t}var Ict=xct(!0);Pue.exports=Ict});var yfe=Ee(gfe=>{"use strict";w();_();Object.defineProperty(gfe,"__esModule",{value:!0})});var xfe=Ee(wfe=>{"use strict";w();_();var bfe=yfe(),dB=class{constructor(e){this._run_callback=e.run_callback,this._params=[],this._shades=[],this._combinations=[],this._results=[],this._prepare(e.params)}save(e){let r={results:this._results,params:this._params,combinations:this._combinations};bfe.writeFileSync(e,JSON.stringify(r),{encoding:"utf8"})}load(e){let r=bfe.readFileSync(e,"utf8"),n=JSON.parse(r);this._results=n.results,this._params=n.params,this._combinations=n.combinations}clone(e){return Object.assign({},e)}_prepare(e){let r=[];for(let n in e)e.hasOwnProperty(n)&&r.push({name:n,values:e[n]});this._combinations=[{}];for(let n=0;n<r.length;n++){let a=[];for(let o of this._combinations)for(let s=0;s<r[n].values.length;s++){let u=this.clone(o);u[r[n].name]=r[n].values[s],a.push(u)}this._combinations=a}this._params=r}run(){for(let e of this._combinations)this._results.push({params:e,results:this._run_callback(e)})}_createDefaultTable(e,r,n){let a=[];for(let o=0;o<e;o++){let s=[];for(let u=0;u<r;u++)s.push(n);a.push(s)}return a}_findMatchForParam(e,r){for(let n=0;n<e.length;n++){let a=!0;for(let o in e[n])e[n].hasOwnProperty(o)&&(a=a&&r[o]==e[n][o]);if(a)return n}return-1}getTableOfResults(e,r,n){let a=[{}],o=[{}],s=this._params.filter(l=>r.indexOf(l.name)>=0),u=this._params.filter(l=>e.indexOf(l.name)>=0);for(let l=0;l<s.length;l++){let c=[];for(let h of a)for(let m=0;m<s[l].values.length;m++){let g=this.clone(h);g[s[l].name]=s[l].values[m],c.push(g)}a=c}for(let l=0;l<u.length;l++){let c=[];for(let h of o)for(let m=0;m<u[l].values.length;m++){let g=this.clone(h);g[u[l].name]=u[l].values[m],c.push(g)}o=c}let f=this._createDefaultTable(a.length,o.length,-1);for(let l of this._results){let c=this._findMatchForParam(a,l.params),h=this._findMatchForParam(o,l.params);if(c<0||h<0)continue;let m=n(l);f[c][h]<m&&(f[c][h]=m)}return{rows:a,cols:o,results:f}}_createTitle(e){let r="";for(let n in e)e.hasOwnProperty(n)&&(r+=`${n}=${e[n]},`);return r.substr(0,r.length-1)}_padToWidth(e,r,n){for(n=n||" ";e.length<r;)e+=n;return e}_prepareColorShades(e,r){let n=(r-e)/5;this._shades=[];for(let a=0;a<5;a++)this._shades.push(r-a*n)}_outputValue(e,r){return this._padToWidth(""+e,r)}displayTableOfResults(e,r,n){let a=this.getTableOfResults(e,r,n),o=a.cols.map(g=>this._createTitle(g)),s=a.rows.map(g=>this._createTitle(g)),u=o.map(g=>Math.max(g.length+4,8)),f=0;s.forEach(g=>{f=Math.max(f,g.length+4)});let l=null,c=null;a.results.forEach(g=>{g.forEach(b=>{(l===null||l>b)&&(l=b),(c===null||c<b)&&(c=b)})}),this._prepareColorShades(l,c);let h="",m="";h+="| "+this._padToWidth("",f),m+="|-"+this._padToWidth("",f,"-");for(let g=0;g<o.length;g++)h+="| "+this._padToWidth(o[g],u[g]),m+="|-"+this._padToWidth("",u[g],"-");console.log(h),console.log(m);for(let g=0;g<s.length;g++){h="| ",h+=this._padToWidth(s[g],f);for(let b=0;b<o.length;b++)h+="| "+this._outputValue(a.results[g][b],u[b]);console.log(h)}}};wfe.GridSearch=dB});var _fe=Ee(mB=>{"use strict";w();_();Object.defineProperty(mB,"__esModule",{value:!0});var eht=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.item=e,this.parent=r,this.support=1,this.nextSameItemNode=null,this._children=[]}return Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),t.prototype.upsertChild=function(e,r,n){n===void 0&&(n=1);var a=this.getChild(e);return a?a.support+=n:(a=new t(e,this),a.support=n,this._children.push(a),r&&r(a)),a},t.prototype.getChild=function(e){return this._children.find(function(r){return r.item==e})},t}();mB.FPNode=eht});var Sfe=Ee(vB=>{"use strict";w();_();Object.defineProperty(vB,"__esModule",{value:!0});var tht=_fe(),rht=function(){function t(e,r){this.supports=e,this._support=r,this._isInit=!1,this.root=new tht.FPNode,this._firstInserted={},this._lastInserted={}}return Object.defineProperty(t.prototype,"headers",{get:function(){return this._headers},enumerable:!0,configurable:!0}),t.prototype.fromTransactions=function(e){var r=this;if(this._isInit)throw new Error("Error building the FPTree");return e.forEach(function(n){var a=n.filter(function(o){return r.supports[JSON.stringify(o)]>=r._support}).sort(function(o,s){var u=r.supports[JSON.stringify(s)]-r.supports[JSON.stringify(o)];return u==0?JSON.stringify(s).localeCompare(JSON.stringify(o)):u});r._addItems(a)}),this._headers=this._getHeaderList(),this._isInit=!0,this},t.prototype.fromPrefixPaths=function(e){var r=this;if(this._isInit)throw new Error("Error building the FPTree");return e.forEach(function(n){var a=n.path.filter(function(o){return r.supports[JSON.stringify(o)]>=r._support}).sort(function(o,s){var u=r.supports[JSON.stringify(s)]-r.supports[JSON.stringify(o)];return u==0?JSON.stringify(s).localeCompare(JSON.stringify(o)):u});r._addItems(a,n.support)}),this._headers=this._getHeaderList(),this._isInit=!0,this},t.prototype.getConditionalFPTree=function(e){var r=this._firstInserted[JSON.stringify(e)];if(!r)return null;var n=this.supports[JSON.stringify(e)],a={},o=this._getPrefixPaths(r,n,function(u,f){a[JSON.stringify(u)]=(a[JSON.stringify(u)]||0)+f}),s=new t(a,this._support).fromPrefixPaths(o);return s.root.children.length?s:null},t.prototype.getPrefixPaths=function(e){if(!this._isInit)throw new Error("Error building the FPTree");var r=this._firstInserted[JSON.stringify(e)];return r?this._getPrefixPaths(r,r.support):[]},t.prototype.getPrefixPath=function(e,r){if(!this._isInit)throw new Error("Error building the FPTree");var n=this._getPrefixPath(e,e.support,r);if(n.length!==0)return{support:e.support,path:n}},t.prototype.isSinglePath=function(){if(!this._isInit)throw new Error("Error building the FPTree");return!!this.getSinglePath()},t.prototype.getSinglePath=function(){if(!this._isInit)throw new Error("Error building the FPTree");return this._getSinglePath(this.root)},t.prototype._addItems=function(e,r){var n=this;r===void 0&&(r=1);var a=this.root;e.forEach(function(o){a=a.upsertChild(o,function(s){var u=JSON.stringify(o);n._updateLastInserted(u,s),n._updateFirstInserted(u,s)},r)})},t.prototype._getPrefixPaths=function(e,r,n,a){a===void 0&&(a=[]);var o=this.getPrefixPath(e,n);return o&&a.push(o),e.nextSameItemNode?this._getPrefixPaths(e.nextSameItemNode,r,n,a):a},t.prototype._getPrefixPath=function(e,r,n){return e.parent&&e.parent.parent?(n&&n(e.parent.item,r),[e.parent.item].concat(this._getPrefixPath(e.parent,r,n))):[]},t.prototype._getSinglePath=function(e,r){return r===void 0&&(r=[]),e.children.length==0?r:e.children.length>1?null:(r.push(e.children[0]),this._getSinglePath(e.children[0],r))},t.prototype._updateLastInserted=function(e,r){var n=this._lastInserted[e];n&&(n.nextSameItemNode=r),this._lastInserted[e]=r},t.prototype._updateFirstInserted=function(e,r){var n=this._firstInserted[e];n||(this._firstInserted[e]=r)},t.prototype._getHeaderList=function(){var e=this;return Object.keys(this._firstInserted).sort(function(r,n){return e.supports[r]-e.supports[n]}).map(function(r){return JSON.parse(r)})},t}();vB.FPTree=rht});var Efe=Ee(E2=>{"use strict";w();_();var nht=E2&&E2.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(E2,"__esModule",{value:!0});var iht=Fu(),aht=Sfe(),oht=function(t){nht(e,t);function e(r){var n=t.call(this)||this;return n._support=r,n._itemsets=[],n}return e.prototype.exec=function(r,n){var a=this;this._transactions=r,this._support=Math.ceil(this._support*r.length);var o=this._getDistinctItemsCount(this._transactions);return new Promise(function(s,u){var f=new aht.FPTree(o,a._support).fromTransactions(a._transactions),l=a._fpGrowth(f,a._transactions.length);n&&n(l),s(l)})},e.prototype._fpGrowth=function(r,n,a){var o=this;return a===void 0&&(a=[]),r.headers.reduce(function(s,u){var f=Math.min(r.supports[JSON.stringify(u)],n),l=a.slice(0);l.push(u),s.push(o._getFrequentItemset(l,f));var c=r.getConditionalFPTree(u);return c?s.concat(o._fpGrowth(c,f,l)):s},[])},e.prototype._handleSinglePath=function(r,n){return[]},e.prototype._getFrequentItemset=function(r,n){var a={items:r,support:n};return this.emit("data",a),a},e.prototype._getDistinctItemsCount=function(r){return r.reduce(function(n,a){return a.reduce(function(o,s){return o[JSON.stringify(s)]=(o[JSON.stringify(s)]||0)+1,o},n)},{})},e}(iht.EventEmitter);E2.FPGrowth=oht});var sle=Ee((gy,ole)=>{"use strict";w();_();var tpt=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof _h!="undefined")return _h;throw new Error("unable to locate global object")},_h=tpt();ole.exports=gy=_h.fetch;_h.fetch&&(gy.default=_h.fetch.bind(_h));gy.Headers=_h.Headers;gy.Request=_h.Request;gy.Response=_h.Response});var _r=Ee(me=>{"use strict";w();_();Object.defineProperty(me,"__esModule",{value:!0});var CB=function(t,e){return CB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},CB(t,e)};function Nh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");CB(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function gr(t,e,r,n){function a(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(c){try{l(n.next(c))}catch(h){s(h)}}function f(c){try{l(n.throw(c))}catch(h){s(h)}}function l(c){c.done?o(c.value):a(c.value).then(u,f)}l((n=n.apply(t,e||[])).next())})}function yr(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(l){return function(c){return f([l,c])}}function f(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=l[0]&2?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,a=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],a=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ps(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ur(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,o=[],s;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)o.push(a.value)}catch(u){s={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function Jn(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ur(arguments[e]));return t}var rpt=1e-7,npt=1e-4,ipt=function(){function t(e,r){this.backend=e,this.dataMover=r,this.data=new WeakMap,this.dataIdsCount=0}return t.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},t.prototype.set=function(e,r){this.dataIdsCount++,this.data.set(e,r)},t.prototype.has=function(e){return this.data.has(e)},t.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},t.prototype.numDataIds=function(){return this.dataIdsCount},t}(),Nle=function(){function t(){}return t.prototype.refCount=function(e){return lu("refCount")},t.prototype.incRef=function(e){return lu("incRef")},t.prototype.timerAvailable=function(){return!0},t.prototype.time=function(e){return lu("time")},t.prototype.read=function(e){return lu("read")},t.prototype.readSync=function(e){return lu("readSync")},t.prototype.readToGPU=function(e,r){return lu("readToGPU")},t.prototype.numDataIds=function(){return lu("numDataIds")},t.prototype.disposeData=function(e,r){return lu("disposeData")},t.prototype.write=function(e,r,n){return lu("write")},t.prototype.move=function(e,r,n,a,o){return lu("move")},t.prototype.memory=function(){return lu("memory")},t.prototype.floatPrecision=function(){return lu("floatPrecision")},t.prototype.epsilon=function(){return this.floatPrecision()===32?rpt:npt},t.prototype.dispose=function(){return lu("dispose")},t}();function lu(t){throw new Error("'"+t+"' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen")}function Tle(t){for(var e=t.length,r=0;e>0;)r=Math.random()*e|0,e--,KN(t,e,r)}function apt(t,e){if(t.length!==e.length)throw new Error("Array sizes must match to be shuffled together "+("First array length was "+t.length)+("Second array length was "+e.length));for(var r=t.length,n=0;r>0;)n=Math.random()*r|0,r--,KN(t,r,n),KN(e,r,n)}function O2(t,e,r){return Math.max(t,Math.min(e,r))}function opt(t){return t%2===0?t:t+1}function KN(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function spt(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];return e}function upt(t,e){var r=Math.random();return e*r+(1-r)*t}function fpt(t,e){for(var r=0,n=0;n<t.length;n++){var a=Number(t[n])-Number(e[n]);r+=a*a}return r}function Le(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function Qo(t,e,r){r===void 0&&(r=""),Le(cd(t,e),function(){return r+(" Shapes "+t+" and "+e+" must match")})}function I0(t){Le(t!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function A0(t,e,r){if(e===void 0&&(e=[]),r===void 0&&(r=!1),e==null&&(e=[]),Array.isArray(t)||Fo(t)&&!r)for(var n=0;n<t.length;++n)A0(t[n],e,r);else e.push(t);return e}function Li(t){if(t.length===0)return 1;for(var e=t[0],r=1;r<t.length;r++)e*=t[r];return e}function lpt(t){return t.length===0}function cd(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Ny(t){return t%1===0}function cpt(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var e=Math.exp(2*t);return(e-1)/(e+1)}function hpt(t){var e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function ppt(t){for(var e=new Uint32Array(t),r=0;r<t;++r)e[r]=r;return Tle(e),e}function k2(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function dpt(t,e,r){return e===void 0&&(e=function(n){return 0}),new Promise(function(n,a){var o=0,s=function(){if(t()){n();return}o++;var u=e(o);if(r!=null&&o>=r){a();return}setTimeout(s,u)};s()})}function mpt(t,e){for(var r=1,n=-1,a=0;a<t.length;++a)if(t[a]>=0)r*=t[a];else if(t[a]===-1){if(n!==-1)throw Error("Shapes can only have 1 implicit size. "+("Found -1 at dim "+n+" and dim "+a));n=a}else if(t[a]<0)throw Error("Shapes can not be < 0. Found "+t[a]+" at dim "+a);if(n===-1){if(e>0&&e!==r)throw Error("Size("+e+") must match the product of shape "+t);return t}if(r===0)throw Error("Cannot infer the missing size in ["+t+"] when there are 0 elements");if(e%r!==0)throw Error("The implicit shape can't be a fractional number. "+("Got "+e+" / "+r));var o=t.slice();return o[n]=e/r,o}function W2(t,e){var r=e.length;return t=t==null?e.map(function(n,a){return a}):[].concat(t),Le(t.every(function(n){return n>=-r&&n<r}),function(){return"All values in axis param must be in range [-"+r+", "+r+") but "+("got axis "+t)}),Le(t.every(function(n){return Ny(n)}),function(){return"All values in axis param must be integers but "+("got axis "+t)}),t.map(function(n){return n<0?r+n:n})}function Dle(t,e){for(var r=[],n=[],a=e!=null&&Array.isArray(e)&&e.length===0,o=e==null||a?null:W2(e,t).sort(),s=0,u=0;u<t.length;++u){if(o!=null){if(o[s]===u&&t[u]!==1)throw new Error("Can't squeeze axis "+u+" since its dim '"+t[u]+"' is not 1");(o[s]==null||o[s]>u)&&t[u]===1&&(r.push(t[u]),n.push(u)),o[s]<=u&&s++}t[u]!==1&&(r.push(t[u]),n.push(u))}return{newShape:r,keptDims:n}}function kle(t,e){var r=null;if(t==null||t==="float32")r=new Float32Array(e);else if(t==="int32")r=new Int32Array(e);else if(t==="bool")r=new Uint8Array(e);else throw new Error("Unknown data type "+t);return r}function Ile(t,e){var r=null;if(t==null||t==="float32")r=new Float32Array(e);else if(t==="int32")r=new Int32Array(e);else if(t==="bool")r=new Uint8Array(e);else if(t==="string")r=new Array(e);else throw new Error("Unknown data type "+t);return r}function Cle(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(isNaN(n)||!isFinite(n))throw Error("A tensor of type "+e+" being uploaded contains "+n+".")}}function Ole(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function vpt(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function Fo(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}function OB(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error("Unknown dtype "+t)}function Rle(t){if(t==null)return 0;var e=0;return t.forEach(function(r){return e+=r.length}),e}function ad(t){return typeof t=="string"||t instanceof String}function Fle(t){return typeof t=="boolean"}function Ble(t){return typeof t=="number"}function uT(t){return Array.isArray(t)?uT(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":Ble(t)?"float32":ad(t)?"string":Fle(t)?"bool":"float32"}function ud(t){return!!(t&&t.constructor&&t.call&&t.apply)}function ZN(t,e){for(var r=e;r<t;++r)if(t%r===0)return r;return t}function Cy(t){var e=t.length;if(e<2)return[];var r=new Array(e-1);r[e-2]=t[e-1];for(var n=e-3;n>=0;--n)r[n]=r[n+1]*t[n+1];return r}function Lle(t,e,r,n){n===void 0&&(n=!1);var a=new Array;if(e.length===1)for(var o=e[0]*(n?2:1),s=0;s<o;s++)a[s]=r[t+s];else for(var o=e[0],u=e.slice(1),f=u.reduce(function(c,h){return c*h})*(n?2:1),s=0;s<o;s++)a[s]=Lle(t+s*f,u,r,n);return a}function xy(t,e,r){if(r===void 0&&(r=!1),t.length===0)return e[0];var n=t.reduce(function(a,o){return a*o})*(r?2:1);if(n===0)return[];if(n!==e.length)throw new Error("["+t+"] does not match the input size "+e.length+(r?" for a complex tensor":"")+".");return Lle(0,t,e,r)}function i9(t,e){for(var r=fT(t,e),n=0;n<r.length;n++)r[n]=1;return r}function fT(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error("Unknown data type "+e)}function gpt(t,e){var r=t.reduce(function(n,a){return n*a},1);if(e==null||e==="float32")return xy(t,new Float32Array(r));if(e==="int32")return xy(t,new Int32Array(r));if(e==="bool")return xy(t,new Uint8Array(r));throw new Error("Unknown data type "+e)}function a9(t){t.forEach(function(e){Le(Number.isInteger(e)&&e>=0,function(){return"Tensor must have a shape comprised of positive integers but got "+("shape ["+t+"].")})})}function ypt(t,e,r){if(e===0)return 0;if(e===1)return t[0];for(var n=t[t.length-1],a=0;a<t.length-1;++a)n+=r[a]*t[a];return n}function bpt(t,e,r){if(e===0)return[];if(e===1)return[t];for(var n=new Array(e),a=0;a<n.length-1;++a)n[a]=Math.floor(t/r[a]),t-=n[a]*r[a];return n[n.length-1]=t,n}function o9(t){return t&&t.then&&typeof t.then=="function"}var ule="tfjsflags",Ple=function(){function t(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=wpt,this.populateURLFlags()}return t.prototype.setPlatform=function(e,r){this.platform!=null&&(Qr().getBool("IS_TEST")||Qr().getBool("PROD")||console.warn("Platform "+this.platformName+" has already been set. "+("Overwriting the platform with "+e+"."))),this.platformName=e,this.platform=r},t.prototype.registerFlag=function(e,r,n){if(this.flagRegistry[e]={evaluationFn:r,setHook:n},this.urlFlags[e]!=null){var a=this.urlFlags[e];Qr().getBool("IS_TEST")||Qr().getBool("PROD")||console.warn("Setting feature override from URL "+e+": "+a+"."),this.set(e,a)}},t.prototype.getAsync=function(e){return gr(this,void 0,void 0,function(){var r,n;return yr(this,function(a){switch(a.label){case 0:return e in this.flags?[2,this.flags[e]]:(r=this.flags,n=e,[4,this.evaluateFlag(e)]);case 1:return r[n]=a.sent(),[2,this.flags[e]]}})})},t.prototype.get=function(e){if(e in this.flags)return this.flags[e];var r=this.evaluateFlag(e);if(o9(r))throw new Error("Flag "+e+" cannot be synchronously evaluated. Please use getAsync() instead.");return this.flags[e]=r,this.flags[e]},t.prototype.getNumber=function(e){return this.get(e)},t.prototype.getBool=function(e){return this.get(e)},t.prototype.getFlags=function(){return this.flags},Object.defineProperty(t.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),t.prototype.set=function(e,r){if(this.flagRegistry[e]==null)throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=r,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(r)},t.prototype.evaluateFlag=function(e){if(this.flagRegistry[e]==null)throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},t.prototype.setFlags=function(e){this.flags=Object.assign({},e)},t.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},t.prototype.populateURLFlags=function(){var e=this;if(!(typeof this.global=="undefined"||typeof this.global.location=="undefined"||typeof this.global.location.search=="undefined")){var r=this.getQueryParams(this.global.location.search);if(ule in r){var n=r[ule].split(",");n.forEach(function(a){var o=ur(a.split(":"),2),s=o[0],u=o[1];e.urlFlags[s]=_pt(s,u)})}}},t}();function wpt(t){var e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(r){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return xpt(e,n[0],n[1]),n.join("=")}),e}function xpt(t,e,r){t[decodeURIComponent(e)]=decodeURIComponent(r||"")}function _pt(t,e){if(e=e.toLowerCase(),e==="true"||e==="false")return e==="true";if(""+ +e===e)return+e;throw new Error("Could not parse value flag value "+e+" for flag "+t+".")}function Qr(){return me.ENV}me.ENV=null;function Spt(t){me.ENV=t}var AB;function qle(){if(AB==null){var t=void 0;if(typeof window!="undefined")t=window;else if(typeof globalThis!="undefined")t=globalThis;else if(typeof $process!="undefined")t=$process;else if(typeof self!="undefined")t=self;else throw new Error("Could not find a global object");AB=t}return AB}function Ept(){var t=qle();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function s9(t,e){var r=Ept();if(r.has(t))return r.get(t);var n=e();return r.set(t,n),r.get(t)}var zle="Abs",Ule="Acos",jle="Acosh",u9="Add",$le="AddN",Vle="All",Wle="Any",Gle="ArgMax",Hle="ArgMin",Kle="Asin",Zle="Asinh",Jle="Atan",Yle="Atanh",Xle="Atan2",Qle="AvgPool",Mpt="AvgPoolGrad",ece="AvgPool3D",Apt="AvgPool3DGrad",tce="BatchMatMul",rce="BatchToSpaceND",nce="Bincount",Npt="BroadcastTo",ice="BroadcastArgs",f9="Cast",ace="Ceil",oce="ClipByValue",sce="Complex",uce="ComplexAbs",fce="Concat",lce="Conv2D",cce="Conv2DBackpropFilter",hce="Conv2DBackpropInput",pce="Conv3D",Tpt="Conv3DBackpropFilterV2",dce="Conv3DBackpropInputV2",mce="Cos",vce="Cosh",gce="Cumprod",yce="Cumsum",bce="CropAndResize",wce="DenseBincount",xce="DepthToSpace",_ce="DepthwiseConv2dNative",Sce="DepthwiseConv2dNativeBackpropFilter",Ece="DepthwiseConv2dNativeBackpropInput",Mce="Diag",Ace="Dilation2D",Dpt="Dilation2DBackpropInput",kpt="Dilation2DBackpropFilter",Nce="RealDiv",Tce="Einsum",Dce="Elu",Ipt="EluGrad",kce="Erf",Ice="Equal",Cce="Exp",Oce="ExpandDims",Rce="Expm1",Fce="FFT",Bce="Fill",Lce="FlipLeftRight",Pce="Floor",qce="FloorDiv",zce="FusedBatchNorm",Uce="GatherV2",jce="GatherNd",$ce="Greater",Vce="GreaterEqual",l9="Identity",Wce="IFFT",Gce="Imag",Hce="IsFinite",Kce="IsInf",Zce="IsNan",Jce="LeakyRelu",Yce="Less",Xce="LessEqual",Qce="LinSpace",ehe="Log",the="Log1p",rhe="LogicalAnd",nhe="LogicalNot",ihe="LogicalOr",Cpt="LogicalXor",Opt="LogSoftmax",Rpt="LowerBound",ahe="LRN",Fpt="LRNGrad",ohe="Max",she="Maximum",uhe="MaxPool",Bpt="MaxPoolGrad",fhe="MaxPool3D",Lpt="MaxPool3DGrad",lhe="MaxPoolWithArgmax",che="Mean",hhe="Min",phe="Minimum",dhe="MirrorPad",mhe="Mod",vhe="Multinomial",ghe="Multiply",yhe="Neg",bhe="NotEqual",whe="NonMaxSuppressionV3",xhe="NonMaxSuppressionV4",_he="NonMaxSuppressionV5",She="OnesLike",Ehe="OneHot",Mhe="Pack",Ahe="PadV2",Ppt="Pool",Nhe="Pow",The="Prelu",Dhe="Prod",khe="Range",Ihe="Real",Che="Reciprocal",Ohe="Relu",Rhe="Reshape",Fhe="ResizeNearestNeighbor",qpt="ResizeNearestNeighborGrad",Bhe="ResizeBilinear",zpt="ResizeBilinearGrad",Lhe="Relu6",Phe="Reverse",qhe="Round",zhe="Rsqrt",Uhe="ScatterNd",jhe="SearchSorted",$he="Select",Vhe="Selu",Whe="Slice",Ghe="Sin",Hhe="Sinh",Khe="Sign",Zhe="Sigmoid",Jhe="Softplus",Yhe="Sqrt",Xhe="Sum",Qhe="SpaceToBatchND",epe="SplitV",tpe="Softmax",rpe="SparseFillEmptyRows",npe="SparseReshape",ipe="SparseSegmentMean",ape="SparseSegmentSum",ope="SparseToDense",spe="SquaredDifference",Upt="Square",upe="StridedSlice",fpe="StringNGrams",lpe="StringSplit",cpe="StringToHashBucketFast",hpe="Sub",ppe="Tan",dpe="Tanh",c9="Tile",mpe="TopK",vpe="Transform",VN="Transpose",gpe="Unique",ype="Unpack",bpe="UnsortedSegmentSum",jpt="UpperBound",wpe="ZerosLike",xpe="Step",RB="FromPixels",_pe="RotateWithOffset",FB="_FusedMatMul",BB="FusedConv2D",LB="FusedDepthwiseConv2D";function id(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Qr().getBool("IS_TEST")||Qr().getBool("PROD")||console.warn.apply(console,Jn(t))}function $pt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Qr().getBool("IS_TEST")||Qr().getBool("PROD")||console.log.apply(console,Jn(t))}var Ty=s9("kernelRegistry",function(){return new Map}),R2=s9("gradRegistry",function(){return new Map});function JN(t,e){var r=h9(t,e);return Ty.get(r)}function PB(t){return R2.get(t)}function YN(t){for(var e=Ty.entries(),r=[];;){var n=e.next(),a=n.done,o=n.value;if(a)break;var s=ur(o,2),u=s[0],f=s[1],l=ur(u.split("_"),1),c=l[0];c===t&&r.push(f)}return r}function Spe(t){var e=t.kernelName,r=t.backendName,n=h9(e,r);Ty.has(n)&&id("The kernel '"+e+"' for backend "+("'"+r+"' is already registered")),Ty.set(n,t)}function Vpt(t){var e=t.kernelName;R2.has(e)&&Qr().getBool("DEBUG")&&id("Overriding the gradient for '"+e+"'"),R2.set(e,t)}function Wpt(t,e){var r=h9(t,e);if(!Ty.has(r))throw new Error("The kernel '"+t+"' for backend "+("'"+e+"' is not registered"));Ty.delete(r)}function Gpt(t){if(!R2.has(t))throw new Error("The gradient '"+t+"' for backend is not registered");R2.delete(t)}function Hpt(t,e){var r=YN(t);r.forEach(function(n){var a=Object.assign({},n,{backendName:e});Spe(a)})}function h9(t,e){return e+"_"+t}var qB=Pi,lf=null;try{lf=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Pi(t,e,r){this.low=t|0,this.high=e|0,this.unsigned=!!r}Pi.prototype.__isLong__;Object.defineProperty(Pi.prototype,"__isLong__",{value:!0});function zs(t){return(t&&t.__isLong__)===!0}Pi.isLong=zs;var fle={},lle={};function C0(t,e){var r,n,a;return e?(t>>>=0,(a=0<=t&&t<256)&&(n=lle[t],n)?n:(r=qi(t,(t|0)<0?-1:0,!0),a&&(lle[t]=r),r)):(t|=0,(a=-128<=t&&t<128)&&(n=fle[t],n)?n:(r=qi(t,t<0?-1:0,!1),a&&(fle[t]=r),r))}Pi.fromInt=C0;function cf(t,e){if(isNaN(t))return e?x0:hf;if(e){if(t<0)return x0;if(t>=Epe)return Npe}else{if(t<=-hle)return Ls;if(t+1>=hle)return Ape}return t<0?cf(-t,e).neg():qi(t%Dy|0,t/Dy|0,e)}Pi.fromNumber=cf;function qi(t,e,r){return new Pi(t,e,r)}Pi.fromBits=qi;var XN=Math.pow;function p9(t,e,r){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return hf;if(typeof e=="number"?(r=e,e=!1):e=!!e,r=r||10,r<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return p9(t.substring(1),e,r).neg();for(var a=cf(XN(r,8)),o=hf,s=0;s<t.length;s+=8){var u=Math.min(8,t.length-s),f=parseInt(t.substring(s,s+u),r);if(u<8){var l=cf(XN(r,u));o=o.mul(l).add(cf(f))}else o=o.mul(a),o=o.add(cf(f))}return o.unsigned=e,o}Pi.fromString=p9;function wl(t,e){return typeof t=="number"?cf(t,e):typeof t=="string"?p9(t,e):qi(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Pi.fromValue=wl;var cle=1<<16,Kpt=1<<24,Dy=cle*cle,Epe=Dy*Dy,hle=Epe/2,ple=C0(Kpt),hf=C0(0);Pi.ZERO=hf;var x0=C0(0,!0);Pi.UZERO=x0;var wy=C0(1);Pi.ONE=wy;var Mpe=C0(1,!0);Pi.UONE=Mpe;var zB=C0(-1);Pi.NEG_ONE=zB;var Ape=qi(-1,2147483647,!1);Pi.MAX_VALUE=Ape;var Npe=qi(-1,-1,!0);Pi.MAX_UNSIGNED_VALUE=Npe;var Ls=qi(0,-2147483648,!1);Pi.MIN_VALUE=Ls;var Gt=Pi.prototype;Gt.toInt=function(){return this.unsigned?this.low>>>0:this.low};Gt.toNumber=function(){return this.unsigned?(this.high>>>0)*Dy+(this.low>>>0):this.high*Dy+(this.low>>>0)};Gt.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ls)){var r=cf(e),n=this.div(r),a=n.mul(r).sub(this);return n.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=cf(XN(e,6),this.unsigned),s=this,u="";;){var f=s.div(o),l=s.sub(f.mul(o)).toInt()>>>0,c=l.toString(e);if(s=f,s.isZero())return c+u;for(;c.length<6;)c="0"+c;u=""+c+u}};Gt.getHighBits=function(){return this.high};Gt.getHighBitsUnsigned=function(){return this.high>>>0};Gt.getLowBits=function(){return this.low};Gt.getLowBitsUnsigned=function(){return this.low>>>0};Gt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ls)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,r=31;r>0&&(e&1<<r)==0;r--);return this.high!=0?r+33:r+1};Gt.isZero=function(){return this.high===0&&this.low===0};Gt.eqz=Gt.isZero;Gt.isNegative=function(){return!this.unsigned&&this.high<0};Gt.isPositive=function(){return this.unsigned||this.high>=0};Gt.isOdd=function(){return(this.low&1)===1};Gt.isEven=function(){return(this.low&1)===0};Gt.equals=function(e){return zs(e)||(e=wl(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};Gt.eq=Gt.equals;Gt.notEquals=function(e){return!this.eq(e)};Gt.neq=Gt.notEquals;Gt.ne=Gt.notEquals;Gt.lessThan=function(e){return this.comp(e)<0};Gt.lt=Gt.lessThan;Gt.lessThanOrEqual=function(e){return this.comp(e)<=0};Gt.lte=Gt.lessThanOrEqual;Gt.le=Gt.lessThanOrEqual;Gt.greaterThan=function(e){return this.comp(e)>0};Gt.gt=Gt.greaterThan;Gt.greaterThanOrEqual=function(e){return this.comp(e)>=0};Gt.gte=Gt.greaterThanOrEqual;Gt.ge=Gt.greaterThanOrEqual;Gt.compare=function(e){if(zs(e)||(e=wl(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};Gt.comp=Gt.compare;Gt.negate=function(){return!this.unsigned&&this.eq(Ls)?Ls:this.not().add(wy)};Gt.neg=Gt.negate;Gt.add=function(e){zs(e)||(e=wl(e));var r=this.high>>>16,n=this.high&65535,a=this.low>>>16,o=this.low&65535,s=e.high>>>16,u=e.high&65535,f=e.low>>>16,l=e.low&65535,c=0,h=0,m=0,g=0;return g+=o+l,m+=g>>>16,g&=65535,m+=a+f,h+=m>>>16,m&=65535,h+=n+u,c+=h>>>16,h&=65535,c+=r+s,c&=65535,qi(m<<16|g,c<<16|h,this.unsigned)};Gt.subtract=function(e){return zs(e)||(e=wl(e)),this.add(e.neg())};Gt.sub=Gt.subtract;Gt.multiply=function(e){if(this.isZero())return hf;if(zs(e)||(e=wl(e)),lf){var r=lf.mul(this.low,this.high,e.low,e.high);return qi(r,lf.get_high(),this.unsigned)}if(e.isZero())return hf;if(this.eq(Ls))return e.isOdd()?Ls:hf;if(e.eq(Ls))return this.isOdd()?Ls:hf;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(ple)&&e.lt(ple))return cf(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=this.high&65535,o=this.low>>>16,s=this.low&65535,u=e.high>>>16,f=e.high&65535,l=e.low>>>16,c=e.low&65535,h=0,m=0,g=0,b=0;return b+=s*c,g+=b>>>16,b&=65535,g+=o*c,m+=g>>>16,g&=65535,g+=s*l,m+=g>>>16,g&=65535,m+=a*c,h+=m>>>16,m&=65535,m+=o*l,h+=m>>>16,m&=65535,m+=s*f,h+=m>>>16,m&=65535,h+=n*c+a*l+o*f+s*u,h&=65535,qi(g<<16|b,h<<16|m,this.unsigned)};Gt.mul=Gt.multiply;Gt.divide=function(e){if(zs(e)||(e=wl(e)),e.isZero())throw Error("division by zero");if(lf){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?lf.div_u:lf.div_s)(this.low,this.high,e.low,e.high);return qi(r,lf.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?x0:hf;var n,a,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return x0;if(e.gt(this.shru(1)))return Mpe;o=x0}else{if(this.eq(Ls)){if(e.eq(wy)||e.eq(zB))return Ls;if(e.eq(Ls))return wy;var s=this.shr(1);return n=s.div(e).shl(1),n.eq(hf)?e.isNegative()?wy:zB:(a=this.sub(e.mul(n)),o=n.add(a.div(e)),o)}else if(e.eq(Ls))return this.unsigned?x0:hf;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=hf}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var u=Math.ceil(Math.log(n)/Math.LN2),f=u<=48?1:XN(2,u-48),l=cf(n),c=l.mul(e);c.isNegative()||c.gt(a);)n-=f,l=cf(n,this.unsigned),c=l.mul(e);l.isZero()&&(l=wy),o=o.add(l),a=a.sub(c)}return o};Gt.div=Gt.divide;Gt.modulo=function(e){if(zs(e)||(e=wl(e)),lf){var r=(this.unsigned?lf.rem_u:lf.rem_s)(this.low,this.high,e.low,e.high);return qi(r,lf.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};Gt.mod=Gt.modulo;Gt.rem=Gt.modulo;Gt.not=function(){return qi(~this.low,~this.high,this.unsigned)};Gt.and=function(e){return zs(e)||(e=wl(e)),qi(this.low&e.low,this.high&e.high,this.unsigned)};Gt.or=function(e){return zs(e)||(e=wl(e)),qi(this.low|e.low,this.high|e.high,this.unsigned)};Gt.xor=function(e){return zs(e)||(e=wl(e)),qi(this.low^e.low,this.high^e.high,this.unsigned)};Gt.shiftLeft=function(e){return zs(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?qi(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):qi(0,this.low<<e-32,this.unsigned)};Gt.shl=Gt.shiftLeft;Gt.shiftRight=function(e){return zs(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?qi(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):qi(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};Gt.shr=Gt.shiftRight;Gt.shiftRightUnsigned=function(e){if(zs(e)&&(e=e.toInt()),e&=63,e===0)return this;var r=this.high;if(e<32){var n=this.low;return qi(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?qi(r,0,this.unsigned):qi(r>>>e-32,0,this.unsigned)};Gt.shru=Gt.shiftRightUnsigned;Gt.shr_u=Gt.shiftRightUnsigned;Gt.toSigned=function(){return this.unsigned?qi(this.low,this.high,!1):this};Gt.toUnsigned=function(){return this.unsigned?this:qi(this.low,this.high,!0)};Gt.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};Gt.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};Gt.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};Pi.fromBytes=function(e,r,n){return n?Pi.fromBytesLE(e,r):Pi.fromBytesBE(e,r)};Pi.fromBytesLE=function(e,r){return new Pi(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)};Pi.fromBytesBE=function(e,r){return new Pi(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)};var Zpt=Object.assign(Object.create(null),qB,{default:qB}),w0=qB||Zpt;function G2(t){return w0.fromString(t,!0,16)}var Tpe=G2("c3a5c85c97cb3127"),y0=G2("b492b66fbe98f273"),Xo=G2("9ae16a3b2f90404f");function UB(t){return t.xor(t.shru(47))}function Dpe(t,e,r){var n=t.slice(e,e+r);return w0.fromBytes(Array.from(n),!0,!0)}function Ei(t,e){return Dpe(t,e,8)}function dle(t,e){return Dpe(t,e,4)}function eo(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function sd(t,e,r){r===void 0&&(r=G2("9ddfea08eb382d69"));var n=t.xor(e).mul(r);n=n.xor(n.shru(47));var a=e.xor(n).mul(r);return a=a.xor(a.shru(47)),a=a.mul(r),a}function Jpt(t,e,r,n,a,o){a=a.add(t),o=eo(o.add(a).add(n),21);var s=a;return a=a.add(e),a=a.add(r),o=o.add(eo(a,44)),[a.add(n),o.add(s)]}function jN(t,e,r,n){return Jpt(Ei(t,e),Ei(t,e+8),Ei(t,e+16),Ei(t,e+24),r,n)}function Ypt(t,e){if(e===void 0&&(e=t.length),e>=8){var r=Xo.add(e*2),n=Ei(t,0).add(Xo),a=Ei(t,e-8),o=eo(a,37).mul(r).add(n),s=eo(n,25).add(a).mul(r);return sd(o,s,r)}if(e>=4){var r=Xo.add(e*2),n=dle(t,0);return sd(n.shl(3).add(e),dle(t,e-4),r)}if(e>0){var n=t[0],a=t[e>>1],o=t[e-1],u=n+(a<<8),f=e+(o<<2);return UB(Xo.mul(u).xor(Tpe.mul(f))).mul(Xo)}return Xo}function Xpt(t,e){e===void 0&&(e=t.length);var r=Xo.add(e*2),n=Ei(t,0).mul(y0),a=Ei(t,8),o=Ei(t,e-8).mul(r),s=Ei(t,e-16).mul(Xo);return sd(eo(n.add(a),43).add(eo(o,30)).add(s),n.add(eo(a.add(Xo),18)).add(o),r)}function Qpt(t,e){e===void 0&&(e=t.length);var r=Xo.add(e*2),n=Ei(t,0).mul(Xo),a=Ei(t,8),o=Ei(t,e-8).mul(r),s=Ei(t,e-16).mul(Xo),u=eo(n.add(a),43).add(eo(o,30)).add(s),f=sd(u,n.add(eo(a.add(Xo),18)).add(o),r),l=Ei(t,16).mul(r),c=Ei(t,24),h=u.add(Ei(t,e-32)).mul(r),m=f.add(Ei(t,e-24)).mul(r);return sd(eo(l.add(c),43).add(eo(h,30)).add(m),l.add(eo(c.add(n),18)).add(h),r)}function edt(t,e){var r,n;e===void 0&&(e=t.length);var a=w0.fromNumber(81,!0);if(e<=32)return e<=16?Ypt(t,e):Xpt(t,e);if(e<=64)return Qpt(t,e);var o=a,s=a.mul(y0).add(113),u=UB(s.mul(Xo).add(113)).mul(Xo),f=[w0.UZERO,w0.UZERO],l=[w0.UZERO,w0.UZERO];o=o.mul(Xo).add(Ei(t,0));var c=0,h=(e-1>>6)*64,m=h+(e-1&63)-63;do o=eo(o.add(s).add(f[0]).add(Ei(t,c+8)),37).mul(y0),s=eo(s.add(f[1]).add(Ei(t,c+48)),42).mul(y0),o=o.xor(l[1]),s=s.add(f[0]).add(Ei(t,c+40)),u=eo(u.add(l[0]),33).mul(y0),f=jN(t,c,f[1].mul(y0),o.add(l[0])),l=jN(t,c+32,u.add(l[1]),s.add(Ei(t,c+16))),r=ur([o,u],2),u=r[0],o=r[1],c+=64;while(c!==h);var g=y0.add(u.and(255).shl(1));return c=m,l[0]=l[0].add(e-1&63),f[0]=f[0].add(l[0]),l[0]=l[0].add(f[0]),o=eo(o.add(s).add(f[0]).add(Ei(t,c+8)),37).mul(g),s=eo(s.add(f[1]).add(Ei(t,c+48)),42).mul(g),o=o.xor(l[1].mul(9)),s=s.add(f[0].mul(9).add(Ei(t,c+40))),u=eo(u.add(l[0]),33).mul(g),f=jN(t,c,f[1].mul(g),o.add(l[0])),l=jN(t,c+32,u.add(l[1]),s.add(Ei(t,c+16))),n=ur([o,u],2),u=n[0],o=n[1],sd(sd(f[0],l[0],g).add(UB(s).mul(Tpe)).add(u),sd(f[1],l[1],g).add(o),g)}function tdt(t,e){return e==="string"?H2(t):lT([t],e)}function rdt(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function lT(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=A0(t)),Qr().getBool("DEBUG")&&Cle(t,e),rdt(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){for(var r=new Uint8Array(t.length),n=0;n<r.length;++n)Math.round(t[n])!==0&&(r[n]=1);return r}else throw new Error("Unknown data type "+e)}function F2(){return Qr().platform.now()}function ndt(t,e){return Qr().platform.fetch(t,e)}function H2(t,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",Qr().platform.encode(t,e)}function QN(t,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",Qr().platform.decode(t,e)}var idt={__proto__:null,createScalarValue:tdt,toTypedArray:lT,now:F2,fetch:ndt,encodeString:H2,decodeString:QN,shuffle:Tle,shuffleCombo:apt,clamp:O2,nearestLargerEven:opt,swap:KN,sum:spt,randUniform:upt,distSquared:fpt,assert:Le,assertShapesMatch:Qo,assertNonNull:I0,flatten:A0,sizeFromShape:Li,isScalarShape:lpt,arraysEqual:cd,isInt:Ny,tanh:cpt,sizeToSquarishShape:hpt,createShuffledIndices:ppt,rightPad:k2,repeatedTry:dpt,inferFromImplicitShape:mpt,parseAxisParam:W2,squeezeShape:Dle,getTypedArrayFromDType:kle,getArrayFromDType:Ile,checkConversionForErrors:Cle,isValidDtype:Ole,hasEncodingLoss:vpt,isTypedArray:Fo,bytesPerElement:OB,bytesFromStringArray:Rle,isString:ad,isBoolean:Fle,isNumber:Ble,inferDtype:uT,isFunction:ud,nearestDivisor:ZN,computeStrides:Cy,toNestedArray:xy,makeOnesTypedArray:i9,makeZerosTypedArray:fT,makeZerosNestedTypedArray:gpt,assertNonNegativeIntegerDimensions:a9,locToIndex:ypt,indexToLoc:bpt,isPromise:o9,hexToLong:G2,fingerPrint64:edt},adt=function(){function t(e,r){this.backendTimer=e,this.logger=r,r==null&&(this.logger=new sdt)}return t.prototype.profileKernel=function(e,r,n){var a,o,s,u=function(){s=n()},f,l=F2();if(this.backendTimer.timerAvailable())f=this.backendTimer.time(u);else{u();try{for(var c=Ps(s),h=c.next();!h.done;h=c.next()){var m=h.value;m.dataSync()}}catch(I){a={error:I}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}f=Promise.resolve({kernelMs:F2()-l})}if(Qr().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var g=function(I){var C=s[I];C.data().then(function(R){odt(R,C.dtype,e)})},b=0;b<s.length;b++)g(b);var A={kernelName:e,outputs:s,inputs:r,timeMs:f.then(function(I){return I.kernelMs}),extraInfo:f.then(function(I){return I.getExtraProfileInfo!=null?I.getExtraProfileInfo():""})};return A},t.prototype.logKernelProfile=function(e){var r=this,n=e.kernelName,a=e.outputs,o=e.timeMs,s=e.inputs,u=e.extraInfo;a.forEach(function(f){Promise.all([f.data(),o,u]).then(function(l){r.logger.logKernelProfile(n,f,l[0],l[1],s,l[2])})})},t}();function odt(t,e,r){if(e!=="float32")return!1;for(var n=0;n<t.length;n++){var a=t[n];if(isNaN(a)||!isFinite(a))return console.warn("Found "+a+" in the result of '"+r+"'"),!0}return!1}var sdt=function(){function t(){}return t.prototype.logKernelProfile=function(e,r,n,a,o,s){var u=typeof a=="number"?k2(a+"ms",9):a.error,f=k2(e,25),l=r.rank,c=r.size,h=k2(r.shape.toString(),14),m="";for(var g in o){var b=o[g];if(b!=null){var A=b.shape||r.shape,I=A.length;m+=g+": "+I+"D "+(I>0?A:"")+" "}}console.log("%c"+f+"	%c"+u+"	%c"+l+"D "+h+"	%c"+c+"	%c"+m+"	%c"+s,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},t}();function udt(t,e,r){for(var n={},a={},o=0;o<e.length;o++)n[e[o].id]=!0;for(var o=0;o<t.length;o++){var s=t[o],u=s.inputs;for(var f in u){for(var l=u[f],c=!1,h=0;h<e.length;h++)if(n[l.id]){s.outputs.forEach(function(O){return n[O.id]=!0}),c=!0,a[s.id]=!0;break}if(c)break}}var m={};m[r.id]=!0;for(var g={},o=t.length-1;o>=0;o--)for(var s=t[o],u=s.inputs,h=0;h<s.outputs.length;h++)if(m[s.outputs[h].id]){for(var f in u)m[u[f].id]=!0,g[s.id]=!0;break}for(var b=[],o=0;o<t.length;o++){var s=t[o];if(a[s.id]&&g[s.id]){var A={};for(var f in s.inputs){var I=s.inputs[f];n[I.id]&&(A[f]=I)}var C=Object.assign({},s);C.inputs=A,C.outputs=s.outputs,b.push(C)}}return b}function fdt(t,e,r,n){for(var a=function(s){var u=e[s],f=[];if(u.outputs.forEach(function(m){var g=t[m.id];g!=null?f.push(g):f.push(null)}),u.gradient==null)throw new Error("Cannot compute gradient: gradient function not found "+("for "+u.kernelName+"."));var l=u.gradient(f),c=function(m){if(!(m in l))throw new Error("Cannot backprop through input "+m+". "+("Available gradients found: "+Object.keys(l)+"."));var g=r(function(){return l[m]()});if(g.dtype!=="float32")throw new Error("Error in gradient for op "+u.kernelName+". The gradient of input "+(m+" must have 'float32' dtype, but has '"+g.dtype+"'"));var b=u.inputs[m];if(!cd(g.shape,b.shape))throw new Error("Error in gradient for op "+u.kernelName+". The gradient of input "+("'"+m+"' has shape '"+g.shape+"', which does not match ")+("the shape of the input '"+b.shape+"'"));if(t[b.id]==null)t[b.id]=g;else{var A=t[b.id];t[b.id]=n(A,g),A.dispose()}};for(var h in u.inputs)c(h)},o=e.length-1;o>=0;o--)a(o)}var mle=20,N2=3,NB=7;function ldt(t,e,r,n){var a=Cy(e),o=cdt(t,e,r,a),s=e.length,u=WN(t,e,r,a,o),f=["Tensor"];return n&&(f.push("  dtype: "+r),f.push("  rank: "+s),f.push("  shape: ["+e+"]"),f.push("  values:")),f.push(u.map(function(l){return"    "+l}).join(`
`)),f.join(`
`)}function cdt(t,e,r,n){var a=Li(e),o=n[n.length-1],s=new Array(o).fill(0),u=e.length,f=r==="complex64"?D2(t):t;if(u>1)for(var l=0;l<a/o;l++)for(var c=l*o,h=0;h<o;h++)s[h]=Math.max(s[h],T2(f[c+h],0,r).length);return s}function T2(t,e,r){var n;return Array.isArray(t)?n=parseFloat(t[0].toFixed(NB))+" + "+(parseFloat(t[1].toFixed(NB))+"j"):ad(t)?n="'"+t+"'":r==="bool"?n=kpe(t):n=parseFloat(t.toFixed(NB)).toString(),k2(n,e)}function kpe(t){return t===0?"false":"true"}function WN(t,e,r,n,a,o){o===void 0&&(o=!0);var s=r==="complex64"?2:1,u=e[0],f=e.length;if(f===0){if(r==="complex64"){var l=D2(t);return[T2(l[0],0,r)]}return r==="bool"?[kpe(t[0])]:[t[0].toString()]}if(f===1){if(u>mle){var c=N2*s,h=Array.from(t.slice(0,c)),m=Array.from(t.slice((u-N2)*s,u*s));return r==="complex64"&&(h=D2(h),m=D2(m)),["["+h.map(function($,j){return T2($,a[j],r)}).join(", ")+", ..., "+m.map(function($,j){return T2($,a[u-N2+j],r)}).join(", ")+"]"]}var g=r==="complex64"?D2(t):Array.from(t);return["["+g.map(function($,j){return T2($,a[j],r)}).join(", ")+"]"]}var b=e.slice(1),A=n.slice(1),I=n[0]*s,C=[];if(u>mle){for(var R=0;R<N2;R++){var O=R*I,F=O+I;C.push.apply(C,Jn(WN(t.slice(O,F),b,r,A,a,!1)))}C.push("...");for(var R=u-N2;R<u;R++){var O=R*I,F=O+I;C.push.apply(C,Jn(WN(t.slice(O,F),b,r,A,a,R===u-1)))}}else for(var R=0;R<u;R++){var O=R*I,F=O+I;C.push.apply(C,Jn(WN(t.slice(O,F),b,r,A,a,R===u-1)))}var z=f===2?",":"";C[0]="["+C[0]+z;for(var R=1;R<C.length-1;R++)C[R]=" "+C[R]+z;for(var B=`,
`,R=2;R<f;R++)B+=`
`;return C[C.length-1]=" "+C[C.length-1]+"]"+(o?"":B),C}function D2(t){for(var e=[],r=0;r<t.length;r+=2)e.push([t[r],t[r+1]]);return e}var eT=function(){function t(e,r,n){var a=this;if(this.dtype=r,this.shape=e.slice(),this.size=Li(e),n!=null){var o=n.length;Le(o===this.size,function(){return"Length of values '"+o+"' does not match the size "+("inferred by the shape '"+a.size+"'.")})}if(r==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||Ile(r,this.size),this.strides=Cy(e)}return t.prototype.set=function(e){for(var r=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];n.length===0&&(n=[0]),Le(n.length===this.rank,function(){return"The number of provided coordinates ("+n.length+") must "+("match the rank ("+r.rank+")")});var o=this.locToIndex(n);this.values[o]=e},t.prototype.get=function(){for(var e,r,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];n.length===0&&(n=[0]);var o=0;try{for(var s=Ps(n),u=s.next();!u.done;u=s.next()){var f=u.value;if(f<0||f>=this.shape[o]){var l="Requested out of range element at "+n+". "+("  Buffer shape="+this.shape);throw new Error(l)}o++}}catch(m){e={error:m}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}for(var c=n[n.length-1],h=0;h<n.length-1;++h)c+=this.strides[h]*n[h];return this.values[c]},t.prototype.locToIndex=function(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];for(var r=e[e.length-1],n=0;n<e.length-1;++n)r+=this.strides[n]*e[n];return r},t.prototype.indexToLoc=function(e){if(this.rank===0)return[];if(this.rank===1)return[e];for(var r=new Array(this.shape.length),n=0;n<r.length-1;++n)r[n]=Math.floor(e/this.strides[n]),e-=r[n]*this.strides[n];return r[r.length-1]=e,r},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return gl().makeTensor(this.values,this.shape,this.dtype)},t}(),gl=null,yy=null;function hdt(t){gl=t}function pdt(t){yy=t}var Fa=function(){function t(e,r,n,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=r||"float32",this.size=Li(e),this.strides=Cy(e),this.dataId=n,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.buffer=function(){return gr(this,void 0,void 0,function(){var e;return yr(this,function(r){switch(r.label){case 0:return[4,this.data()];case 1:return e=r.sent(),[2,yy.buffer(this.shape,this.dtype,e)]}})})},t.prototype.bufferSync=function(){return yy.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.array=function(){return gr(this,void 0,void 0,function(){var e;return yr(this,function(r){switch(r.label){case 0:return[4,this.data()];case 1:return e=r.sent(),[2,xy(this.shape,e,this.dtype==="complex64")]}})})},t.prototype.arraySync=function(){return xy(this.shape,this.dataSync(),this.dtype==="complex64")},t.prototype.data=function(){return gr(this,void 0,void 0,function(){var e,r;return yr(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=gl().read(this.dataId),this.dtype!=="string"?[3,2]:[4,e];case 1:r=n.sent();try{return[2,r.map(function(a){return QN(a)})]}catch(a){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}})})},t.prototype.dataToGPU=function(e){return this.throwIfDisposed(),gl().readToGPU(this.dataId,e)},t.prototype.dataSync=function(){this.throwIfDisposed();var e=gl().readSync(this.dataId);if(this.dtype==="string")try{return e.map(function(r){return QN(r)})}catch(r){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},t.prototype.bytes=function(){return gr(this,void 0,void 0,function(){var e;return yr(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),[4,gl().read(this.dataId)];case 1:return e=r.sent(),this.dtype==="string"?[2,e]:[2,new Uint8Array(e.buffer)]}})})},t.prototype.dispose=function(){this.isDisposed||(gl().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.print=function(e){return e===void 0&&(e=!1),yy.print(this,e)},t.prototype.clone=function(){return this.throwIfDisposed(),yy.clone(this)},t.prototype.toString=function(e){e===void 0&&(e=!1);var r=this.dataSync();return ldt(r,this.shape,this.dtype,e)},t.prototype.cast=function(e){return this.throwIfDisposed(),yy.cast(this,e)},t.prototype.variable=function(e,r,n){return e===void 0&&(e=!0),this.throwIfDisposed(),gl().makeVariable(this,e,r,n)},t}();Object.defineProperty(Fa,Symbol.hasInstance,{value:function(t){return!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null}});function ddt(){return s9("Tensor",function(){return Fa})}ddt();var B2=function(t){Nh(e,t);function e(r,n,a,o){var s=t.call(this,r.shape,r.dtype,r.dataId,o)||this;return s.trainable=n,s.name=a,s}return e.prototype.assign=function(r){if(r.dtype!==this.dtype)throw new Error("dtype of the new value ("+r.dtype+") and "+("previous value ("+this.dtype+") must match"));if(!cd(r.shape,this.shape))throw new Error("shape of the new value ("+r.shape+") and "+("previous value ("+this.shape+") must match"));gl().disposeTensor(this),this.dataId=r.dataId,gl().incRef(this,null)},e.prototype.dispose=function(){gl().disposeVariable(this),this.isDisposedInternal=!0},e}(Fa);Object.defineProperty(B2,Symbol.hasInstance,{value:function(t){return t instanceof Fa&&t.assign!=null&&t.assign instanceof Function}});me.Rank=void 0;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(me.Rank||(me.Rank={}));var jB;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(jB||(jB={}));var $B;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})($B||($B={}));var VB;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(VB||(VB={}));var WB;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(WB||(WB={}));var mdt={float32:VB,int32:jB,bool:$B,complex64:WB};function cT(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error("Can not upcast "+t+" with "+e)}return mdt[t][e]}function vdt(t){return cT(t,"int32")}function ea(t,e){if(t.dtype===e.dtype)return[t,e];var r=cT(t.dtype,e.dtype);return[t.cast(r),e.cast(r)]}function Ipe(t,e){Le(t.dtype===e.dtype,function(){return"The dtypes of the first("+t.dtype+") and"+(" second("+e.dtype+") input must match")})}function gdt(t,e){return e.some(function(r){return r.id===t.id})}function d9(t){var e=[],r=new Set;return Cpe(t,e,r),e}function Cpe(t,e,r){if(t!=null){if(t instanceof Fa){e.push(t);return}if(!!ydt(t)){var n=t;for(var a in n){var o=n[a];r.has(o)||(r.add(o),Cpe(o,e,r))}}}}function ydt(t){return Array.isArray(t)||typeof t=="object"}var bdt={__proto__:null,makeTypesMatch:ea,assertTypesMatch:Ipe,isTensorInList:gdt,getTensorsInContainer:d9};function TB(t){return t.kernelName!=null}var vle=function(){function t(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(function(e){return e.name})))}}}return t.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},t}(),m9=function(){function t(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new vle}return t.prototype.ready=function(){return gr(this,void 0,void 0,function(){var e,r,n,a;return yr(this,function(o){switch(o.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];e=this.getSortedBackends(),r=0,o.label=1;case 1:return r<e.length?(n=e[r],[4,this.initializeBackend(n).success]):[3,5];case 2:return a=o.sent(),a?[4,this.setBackend(n)]:[3,4];case 3:return o.sent(),[2];case 4:return r++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(t.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var e=this.initializeBackendsAndReturnBest(),r=e.name,n=e.asyncInit;if(n)throw new Error("The highest priority backend '"+r+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(r)}return this.backendInstance},enumerable:!0,configurable:!0}),t.prototype.backendNames=function(){return Object.keys(this.registryFactory)},t.prototype.findBackend=function(e){if(!(e in this.registry))if(e in this.registryFactory){var r=this.initializeBackend(e).asyncInit;if(r)return null}else return null;return this.registry[e]},t.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},t.prototype.registerBackend=function(e,r,n){return n===void 0&&(n=1),e in this.registryFactory?(id(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:r,priority:n},!0)},t.prototype.setBackend=function(e){return gr(this,void 0,void 0,function(){var r,n,a,o,s;return yr(this,function(u){switch(u.label){case 0:if(this.registryFactory[e]==null)throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,this.registry[e]!=null?[3,4]:(this.backendInstance=null,r=this.initializeBackend(e),n=r.success,a=r.asyncInit,a?[4,n]:[3,2]);case 1:return s=u.sent(),[3,3];case 2:s=n,u.label=3;case 3:if(o=s,!o)return[2,!1];u.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new adt(this.backendInstance),[2,!0]}})})},t.prototype.setupRegisteredKernels=function(){var e=this,r=YN(this.backendName);r.forEach(function(n){n.setupFunc!=null&&n.setupFunc(e.backendInstance)})},t.prototype.disposeRegisteredKernels=function(e){var r=this,n=YN(e);n.forEach(function(a){a.disposeFunc!=null&&a.disposeFunc(r.registry[e])})},t.prototype.initializeBackend=function(e){var r=this,n=this.registryFactory[e];if(n==null)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var a=n.factory();if(a&&!(a instanceof Nle)&&typeof a.then=="function"){var o=++this.pendingBackendInitId,s=a.then(function(u){return o<r.pendingBackendInitId?!1:(r.registry[e]=u,r.pendingBackendInit=null,!0)}).catch(function(u){return o<r.pendingBackendInitId||(r.pendingBackendInit=null,id("Initialization of backend "+e+" failed"),id(u.stack||u.message)),!1});return this.pendingBackendInit=s,{success:s,asyncInit:!0}}else return this.registry[e]=a,{success:!0,asyncInit:!1}}catch(u){return id("Initialization of backend "+e+" failed"),id(u.stack||u.message),{success:!1,asyncInit:!1}}},t.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},t.prototype.getSortedBackends=function(){var e=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(r,n){return e.registryFactory[n].priority-e.registryFactory[r].priority})},t.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),r=0;r<e.length;r++){var n=e[r],a=this.initializeBackend(n),o=a.success,s=a.asyncInit;if(s||o)return{name:n,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")},t.prototype.moveData=function(e,r){var n=this.state.tensorInfo.get(r),a=n.backend,o=this.readSync(r),s=a.refCount(r);a.disposeData(r,!0),n.backend=e,e.move(r,o,n.shape,n.dtype,s),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},t.prototype.tidy=function(e,r){var n=this,a=null;if(r==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");r=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof r!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}var o;return this.scopedRun(function(){return n.startScope(a)},function(){return n.endScope(o)},function(){return o=r(),o instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),o})},t.prototype.scopedRun=function(e,r,n){e();try{var a=n();return r(),a}catch(o){throw r(),o}},t.prototype.nextTensorId=function(){return t.nextTensorId++},t.prototype.nextVariableId=function(){return t.nextVariableId++},t.prototype.clone=function(e){var r=He.runKernel(l9,{x:e}),n={x:e},a=function(s){return{x:function(){var u="float32",f={x:s},l={dtype:u};return He.runKernel(f9,f,l)}}},o=[];return this.addTapeNode(this.state.activeScope.name,n,[r],a,o,{}),r},t.prototype.runKernel=function(e,r,n){this.backendName==null&&this.backend;var a=JN(e,this.backendName)!=null;if(!a)throw new Error("Kernel '"+e+"' not registered for backend '"+this.backendName+"'");return this.runKernelFunc({kernelName:e,inputs:r,attrs:n})},t.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},t.prototype.checkKernelForMemLeak=function(e,r,n){var a=this.backend.numDataIds(),o=0;n.forEach(function(f){o+=f.dtype==="complex64"?3:1});var s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],u=a-r-o-s;if(u>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak "+("("+u+" data ids) after running '"+e+"'"))},t.prototype.runKernelFunc=function(e){var r=this,n,a=[],o=this.isTapeOn(),s=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var f;this.backendName==null&&this.backend;var l,c=TB(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(TB(e)){var h=e.kernelName,m=e.inputs,g=e.attrs;this.backendName==null&&this.backend;var b=JN(h,this.backendName);Le(b!=null,function(){return"Cannot find registered kernel '"+h+"' for backend '"+r.backendName+"'"}),f=function(){var z=r.backend.numDataIds();l=b.kernelFunc({inputs:m,attrs:g,backend:r.backend});var B=Array.isArray(l)?l:[l];r.shouldCheckForMemLeaks()&&r.checkKernelForMemLeak(h,z,B);var $=B.map(function(W){return W.rank!=null?W:r.makeTensorFromTensorInfo(W)});if(o){var j=r.getTensorsForGradient(h,m,$);a=r.saveTensorsForBackwardMode(j)}return $}}else{var A=e.forwardFunc,I=function(z){!o||(a=z.map(function(B){return r.keep(r.clone(B))}))};f=function(){var z=r.backend.numDataIds();l=r.tidy(function(){return A(r.backend,I)});var B=Array.isArray(l)?l:[l];return r.shouldCheckForMemLeaks()&&r.checkKernelForMemLeak(c,z,B),B}}var C=e.inputs,R=e.attrs,O=TB(e)?null:e.backwardsFunc,F;return this.scopedRun(function(){return r.state.kernelDepth++},function(){return r.state.kernelDepth--},function(){!r.ENV.getBool("DEBUG")&&!r.state.profiling?n=f():(F=r.profiler.profileKernel(c,C,function(){return f()}),r.ENV.getBool("DEBUG")&&r.profiler.logKernelProfile(F),n=F.outputs)}),o&&this.addTapeNode(c,C,n,O,a,R),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(C).map(function(z){return C[z]!=null?C[z].shape:null}),outputShapes:n.map(function(z){return z.shape}),kernelTimeMs:F.timeMs,extraInfo:F.extraInfo}),Array.isArray(l)?n:n[0]},t.prototype.saveTensorsForBackwardMode=function(e){var r=this,n=e.map(function(a){return r.keep(r.clone(a))});return n},t.prototype.getTensorsForGradient=function(e,r,n){var a=PB(e);if(a!=null){var o=a.inputsToSave||[],s=a.outputsToSave||[],u=void 0;a.saveAllInputs?(Le(Array.isArray(r),function(){return"saveAllInputs is true, expected inputs to be an array."}),u=Object.keys(r).map(function(l){return r[l]})):u=o.map(function(l){return r[l]});var f=n.filter(function(l,c){return s[c]});return u.concat(f)}return[]},t.prototype.makeTensor=function(e,r,n,a){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",a=a||this.backend;var o=e;n==="string"&&ad(e[0])&&(o=e.map(function(c){return H2(c)}));var s=a.write(o,r,n),u=new Fa(r,n,s,this.nextTensorId());if(this.trackTensor(u,a),n==="string"){var f=this.state.tensorInfo.get(s),l=Rle(o);this.state.numBytes+=l-f.bytes,f.bytes=l}return u},t.prototype.makeTensorFromDataId=function(e,r,n,a){n=n||"float32";var o={dataId:e,shape:r,dtype:n};return this.makeTensorFromTensorInfo(o,a)},t.prototype.makeTensorFromTensorInfo=function(e,r){var n=e.dataId,a=e.shape,o=e.dtype,s=new Fa(a,o,n,this.nextTensorId());return this.trackTensor(s,r),s},t.prototype.makeVariable=function(e,r,n,a){r===void 0&&(r=!0),n=n||this.nextVariableId().toString(),a!=null&&a!==e.dtype&&(e=e.cast(a));var o=new B2(e,r,n,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error("Variable with name "+o.name+" was already registered");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},t.prototype.trackTensor=function(e,r){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;var n=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(n=e.size*OB(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:r||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof B2||this.track(e)},t.prototype.incRef=function(e,r){this.trackTensor(e,r),this.backend.incRef(e.dataId)},t.prototype.removeDataId=function(e,r){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===r&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)},t.prototype.disposeTensor=function(e){if(!!this.state.tensorInfo.has(e.dataId)){var r=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=r.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){var n=e.size*OB(e.dtype);this.state.numBytes-=n}r.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,r.backend)}},t.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var r=this.state.registeredVariables[e];this.disposeVariable(r)}},t.prototype.disposeVariable=function(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]},t.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},t.prototype.profile=function(e){return gr(this,void 0,void 0,function(){var r,n,a,o,s,u,f,l,c,h,m;return yr(this,function(g){switch(g.label){case 0:return this.state.profiling=!0,r=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],a=this.state.activeProfile,[4,e()];case 1:a.result=g.sent(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,Jn(this.state.activeProfile.kernels.map(function(b){return b.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-r,this.state.activeProfile.newTensors=this.state.numTensors-n,g.label=2;case 2:g.trys.push([2,8,9,10]),o=Ps(this.state.activeProfile.kernels),s=o.next(),g.label=3;case 3:return s.done?[3,7]:(u=s.value,f=u,[4,u.kernelTimeMs]);case 4:return f.kernelTimeMs=g.sent(),l=u,[4,u.extraInfo];case 5:l.extraInfo=g.sent(),g.label=6;case 6:return s=o.next(),[3,3];case 7:return[3,10];case 8:return c=g.sent(),h={error:c},[3,10];case 9:try{s&&!s.done&&(m=o.return)&&m.call(o)}finally{if(h)throw h.error}return[7];case 10:return[2,this.state.activeProfile]}})})},t.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},t.prototype.addTapeNode=function(e,r,n,a,o,s){var u=this,f={id:this.state.nextTapeNodeId++,kernelName:e,inputs:r,outputs:n,saved:o},l=PB(e);l!=null&&(a=l.gradFunc),a!=null&&(f.gradient=function(c){return c=c.map(function(h,m){if(h==null){var g=n[m],b=fT(g.size,g.dtype);return u.makeTensor(b,g.shape,g.dtype)}return h}),a(c.length>1?c:c[0],o,s)}),this.state.activeTape.push(f)},t.prototype.keep=function(e){return e.kept=!0,e},t.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},t.prototype.endTape=function(){this.state.gradientDepth--},t.prototype.startScope=function(e){var r={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(r.name=e),this.state.scopeStack.push(r),this.state.activeScope=r},t.prototype.endScope=function(e){for(var r=this,n=d9(e),a=new Set(n.map(function(f){return f.id})),o=0;o<this.state.activeScope.track.length;o++){var s=this.state.activeScope.track[o];!s.kept&&!a.has(s.id)&&s.dispose()}var u=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(function(f){!f.kept&&f.scopeId===u.id&&r.track(f)})},t.prototype.gradients=function(e,r,n,a){var o=this;if(a===void 0&&(a=!1),Le(r.length>0,function(){return"gradients() received an empty list of xs."}),n!=null&&n.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var s=this.scopedRun(function(){return o.startTape()},function(){return o.endTape()},function(){return o.tidy("forward",e)});Le(s instanceof Fa,function(){return"The result y returned by f() must be a tensor."});var u=udt(this.state.activeTape,r,s);if(!a&&u.length===0&&r.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var f={};f[s.id]=n==null?wdt(s.shape):n,fdt(f,u,function(c){return o.tidy(c)},xdt);var l=r.map(function(c){return f[c.id]});return o.state.gradientDepth===0&&(o.state.activeTape.forEach(function(c){var h,m;try{for(var g=Ps(c.saved),b=g.next();!b.done;b=g.next()){var A=b.value;A.dispose()}}catch(I){h={error:I}}finally{try{b&&!b.done&&(m=g.return)&&m.call(g)}finally{if(h)throw h.error}}}),o.state.activeTape=null),{value:s,grads:l}})},t.prototype.customGrad=function(e){var r=this;return Le(ud(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];Le(n.every(function(l){return l instanceof Fa}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var o,s={};n.forEach(function(l,c){s[c]=l});var u=function(l,c){return o=e.apply(void 0,Jn(n,[c])),Le(o.value instanceof Fa,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),Le(ud(o.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),o.value},f=function(l,c){var h=o.gradFunc(l,c),m=Array.isArray(h)?h:[h];Le(m.length===n.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),Le(m.every(function(b){return b instanceof Fa}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var g={};return m.forEach(function(b,A){g[A]=function(){return b}}),g};return r.runKernelFunc({forwardFunc:u,backwardsFunc:f,inputs:s})}},t.prototype.readSync=function(e){var r=this.state.tensorInfo.get(e);return r.backend.readSync(e)},t.prototype.read=function(e){var r=this.state.tensorInfo.get(e);return r.backend.read(e)},t.prototype.readToGPU=function(e,r){var n=this.state.tensorInfo.get(e);return n.backend.readToGPU(e,r)},t.prototype.time=function(e){return gr(this,void 0,void 0,function(){var r,n;return yr(this,function(a){switch(a.label){case 0:return r=F2(),[4,this.backend.time(e)];case 1:return n=a.sent(),n.wallMs=F2()-r,[2,n]}})})},t.prototype.track=function(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(t.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new vle;for(var e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},t}();m9.nextTensorId=0;m9.nextVariableId=0;function wdt(t){var e=i9(Li(t),"float32");return He.makeTensor(e,t,"float32")}function Ope(){var t=qle();if(t._tfengine==null){var e=new Ple(t);t._tfengine=new m9(e)}return Spt(t._tfengine.ENV),hdt(function(){return t._tfengine}),t._tfengine}var He=Ope();function xdt(t,e){var r={a:t,b:e};return He.runKernel(u9,r)}function _dt(){return typeof navigator!="undefined"&&navigator!=null}var GB;function Sdt(t){GB=t}function Edt(t){if(GB!==void 0)return GB;if(t||_dt()){if(t||(t=navigator),t.product==="ReactNative")return!0;var e=t.userAgent||t.vendor||(typeof window!="undefined"?window.opera:"");if(!e){var r=t;return r.userAgentData&&r.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function Rpe(){return typeof window!="undefined"&&window.document!=null||typeof WorkerGlobalScope!="undefined"}var Mdt={__proto__:null,mockIsMobile:Sdt,isMobile:Edt,isBrowser:Rpe};var pf=Qr();pf.registerFlag("DEBUG",function(){return!1},function(t){t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});pf.registerFlag("IS_BROWSER",function(){return Rpe()});pf.registerFlag("IS_NODE",function(){return typeof $process!="undefined"&&typeof $process.versions!="undefined"&&typeof $process.versions.node!="undefined"});pf.registerFlag("IS_CHROME",function(){return typeof navigator!="undefined"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)});pf.registerFlag("PROD",function(){return!1});pf.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return pf.getBool("DEBUG")});pf.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0});pf.registerFlag("IS_TEST",function(){return!1});pf.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",function(){return!0});pf.registerFlag("WRAP_TO_IMAGEBITMAP",function(){return!1});pf.registerFlag("ENGINE_COMPILE_ONLY",function(){return!1});function Ec(t,e){var r=t;if(Fo(t))return e==="string"?[]:[t.length];if(!Array.isArray(t))return[];for(var n=[];Array.isArray(r)||Fo(r)&&e!=="string";)n.push(r.length),r=r[0];return Array.isArray(t)&&Qr().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Fpe(t,n,[]),n}function Fpe(t,e,r){if(r=r||[],!Array.isArray(t)&&!Fo(t)){Le(e.length===0,function(){return"Element arr["+r.join("][")+"] is a primitive, "+("but should be an array/TypedArray of "+e[0]+" elements")});return}Le(e.length>0,function(){return"Element arr["+r.join("][")+"] should be a primitive, "+("but is an array of "+t.length+" elements")}),Le(t.length===e[0],function(){return"Element arr["+r.join("][")+"] should have "+e[0]+" "+("elements, but has "+t.length+" elements")});for(var n=e.slice(1),a=0;a<t.length;++a)Fpe(t[a],n,r.concat(a))}function gle(t,e,r,n){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error("Argument '"+r+"' passed to '"+n+"' must "+("be "+t+" tensor, but got "+e+" tensor"))}}function Oe(t,e,r,n){if(n===void 0&&(n="numeric"),t instanceof Fa)return gle(n,t.dtype,e,r),t;var a=uT(t);if(a!=="string"&&["bool","int32","float32"].indexOf(n)>=0&&(a=n),gle(n,a,e,r),t==null||!Fo(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){var o=t==null?"null":t.constructor.name;throw new Error("Argument '"+e+"' passed to '"+r+"' must be a "+("Tensor or TensorLike, but got '"+o+"'"))}var s=Ec(t,a);!Fo(t)&&!Array.isArray(t)&&(t=[t]);var u=!0,f=a!=="string"?lT(t,a):A0(t,[],u);return He.makeTensor(f,s,a)}function L2(t,e,r,n){if(n===void 0&&(n="numeric"),!Array.isArray(t))throw new Error("Argument "+e+" passed to "+r+" must be a `Tensor[]` or `TensorLike[]`");var a=t;return a.map(function(o,s){return Oe(o,e+"["+s+"]",r,n)})}var Bpe="__op";function We(t){var e=Object.keys(t);if(e.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+(e.length+" keys."));var r=e[0],n=t[r];r.endsWith("_")&&(r=r.substring(0,r.length-1)),r=r+Bpe;var a=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];He.startScope(r);try{var u=n.apply(void 0,Jn(o));return o9(u)&&console.error("Cannot return a Promise inside of tidy."),He.endScope(u),u}catch(f){throw He.endScope(null),f}};return Object.defineProperty(a,"name",{value:r,configurable:!0}),a}function Adt(t,e){var r=Oe(t,"real","complex"),n=Oe(e,"imag","complex");Qo(r.shape,n.shape,"real and imag shapes, "+r.shape+" and "+n.shape+", must match in call to tf.complex().");var a={real:r,imag:n};return He.runKernel(sce,a)}var fd=We({complex_:Adt});function hd(t,e,r,n){if(n==null&&(n=uT(t)),n==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Fo(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){a9(e);var a=Li(e),o=Li(r);Le(a===o,function(){return"Based on the provided shape, ["+e+"], the tensor should have "+(a+" values but has "+o)});for(var s=0;s<r.length;++s){var u=r[s],f=s===r.length-1?u!==Li(e.slice(s)):!0;Le(r[s]===e[s]||!f,function(){return"Error creating a new Tensor. Inferred shape "+("("+r+") does not match the provided ")+("shape ("+e+"). ")})}}return!Fo(t)&&!Array.isArray(t)&&(t=[t]),e=e||r,t=n!=="string"?lT(t,n):A0(t,[],!0),He.makeTensor(t,e,n)}function _y(t,e,r){var n=Ec(t,r);return hd(t,e,n,r)}var HB={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8},tT=4;function Ndt(t,e){return gr(this,void 0,void 0,function(){var r,n,a,o,s,u,f=this;return yr(this,function(l){switch(l.label){case 0:for(r=[],n=[],a=Array.isArray(t)?t.map(function(c){return c.name}):Object.keys(t),o=function(c){var h=a[c],m=Array.isArray(t)?t[c].tensor:t[h];if(m.dtype!=="float32"&&m.dtype!=="int32"&&m.dtype!=="bool"&&m.dtype!=="string"&&m.dtype!=="complex64")throw new Error("Unsupported dtype in weight '"+h+"': "+m.dtype);var g={name:h,shape:m.shape,dtype:m.dtype};if(m.dtype==="string"){var b=new Promise(function(A){return gr(f,void 0,void 0,function(){var I,C,R,O,F,z,B;return yr(this,function($){switch($.label){case 0:return[4,m.bytes()];case 1:for(I=$.sent(),C=I.reduce(function(j,W){return j+W.length},0)+tT*I.length,R=new Uint8Array(C),O=0,F=0;F<I.length;F++)z=I[F],B=new Uint8Array(new Uint32Array([z.length]).buffer),R.set(B,O),O+=tT,R.set(z,O),O+=z.length;return A(R),[2]}})})});n.push(b)}else n.push(m.data());e!=null&&(g.group=e),r.push(g)},s=0;s<a.length;++s)o(s);return[4,Promise.all(n)];case 1:return u=l.sent(),[2,{data:Tdt(u),specs:r}]}})})}function Lpe(t,e){var r,n,a={},o,s=0;try{for(var u=Ps(e),f=u.next();!f.done;f=u.next()){var l=f.value,c=l.name,h=l.dtype,m=l.shape,g=Li(m),b=void 0;if("quantization"in l){var A=l.quantization;if(A.dtype==="uint8"||A.dtype==="uint16"){if(!("min"in A&&"scale"in A))throw new Error("Weight "+l.name+" with quantization "+A.dtype+" doesn't have corresponding metadata min and scale.")}else if(A.dtype==="float16"){if(h!=="float32")throw new Error("Weight "+l.name+" is quantized with "+A.dtype+" "+("which only supports weights of type float32 not "+h+"."))}else throw new Error("Weight "+l.name+" has unknown "+("quantization dtype "+A.dtype+". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");var I=HB[A.dtype],C=t.slice(s,s+g*I),R=A.dtype==="uint8"?new Uint8Array(C):new Uint16Array(C);if(h==="float32")if(A.dtype==="uint8"||A.dtype==="uint16"){b=new Float32Array(R.length);for(var O=0;O<R.length;O++){var F=R[O];b[O]=F*A.scale+A.min}}else if(A.dtype==="float16")o===void 0&&(o=Rdt()),b=o(R);else throw new Error("Unsupported quantization type "+A.dtype+" for weight type float32.");else if(h==="int32"){if(A.dtype!=="uint8"&&A.dtype!=="uint16")throw new Error("Unsupported quantization type "+A.dtype+" for weight type int32.");b=new Int32Array(R.length);for(var O=0;O<R.length;O++){var F=R[O];b[O]=Math.round(F*A.scale+A.min)}}else throw new Error("Unsupported dtype in weight '"+c+"': "+h);s+=g*I}else if(h==="string"){var z=Li(l.shape);b=[];for(var O=0;O<z;O++){var B=new Uint32Array(t.slice(s,s+tT))[0];s+=tT;var $=new Uint8Array(t.slice(s,s+B));b.push($),s+=B}}else{var j=HB[h],C=t.slice(s,s+g*j);if(h==="float32")b=new Float32Array(C);else if(h==="int32")b=new Int32Array(C);else if(h==="bool")b=new Uint8Array(C);else if(h==="complex64"){b=new Float32Array(C);for(var W=new Float32Array(b.length/2),T=new Float32Array(b.length/2),O=0;O<W.length;O++)W[O]=b[O*2],T[O]=b[O*2+1];var p=_y(W,m,"float32"),v=_y(T,m,"float32");a[c]=fd(p,v),p.dispose(),v.dispose()}else throw new Error("Unsupported dtype in weight '"+c+"': "+h);s+=g*j}h!=="complex64"&&(a[c]=_y(b,m,h))}}catch(S){r={error:S}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return a}function Tdt(t){if(t===null)throw new Error("Invalid input value: "+JSON.stringify(t));var e=0,r=[];t.forEach(function(o){if(e+=o.byteLength,r.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+o.constructor.name)});var n=new Uint8Array(e),a=0;return r.forEach(function(o){n.set(new Uint8Array(o.buffer),a),a+=o.byteLength}),n.buffer}var v9=typeof $Buffer!="undefined"&&(typeof Blob=="undefined"||typeof atob=="undefined"||typeof btoa=="undefined");function yle(t){return v9?$Buffer.byteLength(t):new Blob([t]).size}function Ddt(t){if(v9)return $Buffer.from(t).toString("base64");for(var e=new Uint8Array(t),r="",n=0,a=e.length;n<a;n++)r+=String.fromCharCode(e[n]);return btoa(r)}function kdt(t){if(v9){var e=$Buffer.from(t,"base64");return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}for(var r=atob(t),n=new Uint8Array(r.length),a=0;a<r.length;++a)n.set([r.charCodeAt(a)],a);return n.buffer}function g9(t){if(t.length===1)return t[0];var e=0;t.forEach(function(a){e+=a.byteLength});var r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(new Uint8Array(a),n),n+=a.byteLength}),r.buffer}function ble(t){var e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);var r=t.split(e);return r[r.length-1]}function Ppe(t,e){var r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),r}function y9(t,e){return gr(this,void 0,void 0,function(){var r,n,a,o;return yr(this,function(s){switch(s.label){case 0:return r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy},t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest==null?[3,2]:[4,e(t.weightsManifest)];case 1:n=ur.apply(void 0,[s.sent(),2]),a=n[0],o=n[1],r.weightSpecs=a,r.weightData=o,s.label=2;case 2:return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),[2,r]}})})}function K2(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:yle(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:yle(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:t.weightData.byteLength}}function Idt(){var t=function(n){for(var a=n<<13,o=0;(a&8388608)===0;)o-=8388608,a<<=1;return a&=-8388609,o+=947912704,a|o},e=new Uint32Array(2048);e[0]=0;for(var r=1;r<1024;r++)e[r]=t(r);for(var r=1024;r<2048;r++)e[r]=939524096+(r-1024<<13);return e}function Cdt(){var t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(var e=1;e<31;e++)t[e]=e<<23;for(var e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function Odt(){for(var t=new Uint32Array(64),e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function Rdt(){var t=Idt(),e=Cdt(),r=Odt();return function(n){for(var a=new ArrayBuffer(4*n.length),o=new Uint32Array(a),s=0;s<n.length;s++){var u=n[s],f=t[r[u>>10]+(u&1023)]+e[u>>10];o[s]=f}return new Float32Array(a)}}var pu=function(){function t(){this.saveRouters=[],this.loadRouters=[]}return t.getInstance=function(){return t.instance==null&&(t.instance=new t),t.instance},t.registerSaveRouter=function(e){t.getInstance().saveRouters.push(e)},t.registerLoadRouter=function(e){t.getInstance().loadRouters.push(e)},t.getSaveHandlers=function(e){return t.getHandlers(e,"save")},t.getLoadHandlers=function(e,r){return t.getHandlers(e,"load",r)},t.getHandlers=function(e,r,n){var a=[],o=r==="load"?t.getInstance().loadRouters:t.getInstance().saveRouters;return o.forEach(function(s){var u=s(e,n);u!==null&&a.push(u)}),a},t}(),Fdt=function(t){return pu.registerSaveRouter(t)},Bdt=function(t){return pu.registerLoadRouter(t)},Ldt=function(t){return pu.getSaveHandlers(t)},Pdt=function(t,e){return pu.getLoadHandlers(t,e)},KB="tensorflowjs",ZB=1,_0="models_store",od="model_info_store";function qpe(){if(!Qr().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var t=typeof window=="undefined"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function JB(t){var e=t.result;e.createObjectStore(_0,{keyPath:"modelPath"}),e.createObjectStore(od,{keyPath:"modelPath"})}var N0=function(){function t(e){if(this.indexedDB=qpe(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return t.prototype.save=function(e){return gr(this,void 0,void 0,function(){return yr(this,function(r){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},t.prototype.load=function(){return gr(this,void 0,void 0,function(){return yr(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},t.prototype.databaseAction=function(e,r){var n=this;return new Promise(function(a,o){var s=n.indexedDB.open(KB,ZB);s.onupgradeneeded=function(){return JB(s)},s.onsuccess=function(){var u=s.result;if(r==null){var f=u.transaction(_0,"readonly"),l=f.objectStore(_0),c=l.get(n.modelPath);c.onsuccess=function(){if(c.result==null)return u.close(),o(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));a(c.result.modelArtifacts)},c.onerror=function(I){return u.close(),o(c.error)},f.oncomplete=function(){return u.close()}}else{var h=K2(r),m=u.transaction(od,"readwrite"),g=m.objectStore(od),b=g.put({modelPath:n.modelPath,modelArtifactsInfo:h}),A;b.onsuccess=function(){A=u.transaction(_0,"readwrite");var I=A.objectStore(_0),C=I.put({modelPath:n.modelPath,modelArtifacts:r,modelArtifactsInfo:h});C.onsuccess=function(){return a({modelArtifactsInfo:h})},C.onerror=function(R){g=m.objectStore(od);var O=g.delete(n.modelPath);O.onsuccess=function(){return u.close(),o(C.error)},O.onerror=function(F){return u.close(),o(C.error)}}},b.onerror=function(I){return u.close(),o(b.error)},m.oncomplete=function(){A==null?u.close():A.oncomplete=function(){return u.close()}}}},s.onerror=function(u){return o(s.error)}})},t}();N0.URL_SCHEME="indexeddb://";var zpe=function(t){return Qr().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(N0.URL_SCHEME)?qdt(t.slice(N0.URL_SCHEME.length)):null};pu.registerSaveRouter(zpe);pu.registerLoadRouter(zpe);function qdt(t){return new N0(t)}function zdt(t){return t.startsWith(N0.URL_SCHEME)?t.slice(N0.URL_SCHEME.length):t}var Udt=function(){function t(){this.indexedDB=qpe()}return t.prototype.listModels=function(){return gr(this,void 0,void 0,function(){var e=this;return yr(this,function(r){return[2,new Promise(function(n,a){var o=e.indexedDB.open(KB,ZB);o.onupgradeneeded=function(){return JB(o)},o.onsuccess=function(){var s=o.result,u=s.transaction(od,"readonly"),f=u.objectStore(od),l=f.getAll();l.onsuccess=function(){var c,h,m={};try{for(var g=Ps(l.result),b=g.next();!b.done;b=g.next()){var A=b.value;m[A.modelPath]=A.modelArtifactsInfo}}catch(I){c={error:I}}finally{try{b&&!b.done&&(h=g.return)&&h.call(g)}finally{if(c)throw c.error}}n(m)},l.onerror=function(c){return s.close(),a(l.error)},u.oncomplete=function(){return s.close()}},o.onerror=function(s){return a(o.error)}})]})})},t.prototype.removeModel=function(e){return gr(this,void 0,void 0,function(){var r=this;return yr(this,function(n){return e=zdt(e),[2,new Promise(function(a,o){var s=r.indexedDB.open(KB,ZB);s.onupgradeneeded=function(){return JB(s)},s.onsuccess=function(){var u=s.result,f=u.transaction(od,"readwrite"),l=f.objectStore(od),c=l.get(e),h;c.onsuccess=function(){if(c.result==null)return u.close(),o(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var m=l.delete(e),g=function(){h=u.transaction(_0,"readwrite");var b=h.objectStore(_0),A=b.delete(e);A.onsuccess=function(){return a(c.result.modelArtifactsInfo)},A.onerror=function(I){return o(c.error)}};m.onsuccess=g,m.onerror=function(b){return g(),u.close(),o(c.error)}},c.onerror=function(m){return u.close(),o(c.error)},f.oncomplete=function(){h==null?u.close():h.oncomplete=function(){return u.close()}}},s.onerror=function(u){return o(s.error)}})]})})},t}(),Sh="/",by="tensorflowjs_models",Upe="info",jdt="model_topology",$dt="weight_specs",Vdt="weight_data",Wdt="model_metadata";function jpe(t){return{info:[by,t,Upe].join(Sh),topology:[by,t,jdt].join(Sh),weightSpecs:[by,t,$dt].join(Sh),weightData:[by,t,Vdt].join(Sh),modelMetadata:[by,t,Wdt].join(Sh)}}function $pe(t){var e,r;try{for(var n=Ps(Object.values(t)),a=n.next();!a.done;a=n.next()){var o=a.value;window.localStorage.removeItem(o)}}catch(s){e={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}}function Gdt(t){var e=t.split(Sh);if(e.length<3)throw new Error("Invalid key format: "+t);return e.slice(1,e.length-1).join(Sh)}function Hdt(t){return t.startsWith(T0.URL_SCHEME)?t.slice(T0.URL_SCHEME.length):t}var T0=function(){function t(e){if(!Qr().getBool("IS_BROWSER")||typeof window=="undefined"||typeof window.localStorage=="undefined")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=jpe(this.modelPath)}return t.prototype.save=function(e){return gr(this,void 0,void 0,function(){var r,n,a,o;return yr(this,function(s){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");r=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),a=K2(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,r),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,Ddt(e.weightData)),o={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0},this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),[2,{modelArtifactsInfo:a}]}catch(u){throw $pe(this.keys),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: "+("modelTopologyBytes="+a.modelTopologyBytes+", ")+("weightSpecsBytes="+a.weightSpecsBytes+", ")+("weightDataBytes="+a.weightDataBytes+"."))}return[2]})})},t.prototype.load=function(){return gr(this,void 0,void 0,function(){var e,r,n,a,o,s,u;return yr(this,function(f){if(e=JSON.parse(this.LS.getItem(this.keys.info)),e==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(r={},n=JSON.parse(this.LS.getItem(this.keys.topology)),n==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(r.modelTopology=n,a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)),a==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(r.weightSpecs=a,o=this.LS.getItem(this.keys.modelMetadata),o!=null&&(s=JSON.parse(o),r.format=s.format,r.generatedBy=s.generatedBy,r.convertedBy=s.convertedBy,s.signature!=null&&(r.signature=s.signature),s.userDefinedMetadata!=null&&(r.userDefinedMetadata=s.userDefinedMetadata),s.modelInitializer!=null&&(r.modelInitializer=s.modelInitializer),s.trainingConfig!=null&&(r.trainingConfig=s.trainingConfig)),u=this.LS.getItem(this.keys.weightData),u==null)throw new Error("In local storage, the binary weight values of model "+("'"+this.modelPath+"' are missing."));return r.weightData=kdt(u),[2,r]})})},t}();T0.URL_SCHEME="localstorage://";var Vpe=function(t){return Qr().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(T0.URL_SCHEME)?Kdt(t.slice(T0.URL_SCHEME.length)):null};pu.registerSaveRouter(Vpe);pu.registerLoadRouter(Vpe);function Kdt(t){return new T0(t)}var Zdt=function(){function t(){Le(Qr().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),Le(typeof window=="undefined"||typeof window.localStorage!="undefined",function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return t.prototype.listModels=function(){return gr(this,void 0,void 0,function(){var e,r,n,a,o,s;return yr(this,function(u){for(e={},r=by+Sh,n=Sh+Upe,a=0;a<this.LS.length;++a)o=this.LS.key(a),o.startsWith(r)&&o.endsWith(n)&&(s=Gdt(o),e[s]=JSON.parse(this.LS.getItem(o)));return[2,e]})})},t.prototype.removeModel=function(e){return gr(this,void 0,void 0,function(){var r,n;return yr(this,function(a){if(e=Hdt(e),r=jpe(e),this.LS.getItem(r.info)==null)throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(r.info)),$pe(r),[2,n]})})},t}(),Sy="://",ld=function(){function t(){this.managers={}}return t.getInstance=function(){return t.instance==null&&(t.instance=new t),t.instance},t.registerManager=function(e,r){Le(e!=null,function(){return"scheme must not be undefined or null."}),e.endsWith(Sy)&&(e=e.slice(0,e.indexOf(Sy))),Le(e.length>0,function(){return"scheme must not be an empty string."});var n=t.getInstance();Le(n.managers[e]==null,function(){return"A model store manager is already registered for scheme '"+e+"'."}),n.managers[e]=r},t.getManager=function(e){var r=t.getInstance().managers[e];if(r==null)throw new Error("Cannot find model manager for scheme '"+e+"'");return r},t.getSchemes=function(){return Object.keys(t.getInstance().managers)},t}();function GN(t){if(t.indexOf(Sy)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+(""+ld.getSchemes().join(",")));return{scheme:t.split(Sy)[0],path:t.split(Sy)[1]}}function Wpe(t,e,r){return r===void 0&&(r=!1),gr(this,void 0,void 0,function(){var n,a,o,s,u,f,l,c,h;return yr(this,function(m){switch(m.label){case 0:return Le(t!==e,function(){return"Old path and new path are the same: '"+t+"'"}),n=pu.getLoadHandlers(t),Le(n.length>0,function(){return"Copying failed because no load handler is found for source URL "+t+"."}),Le(n.length<2,function(){return"Copying failed because more than one ("+n.length+") "+("load handlers for source URL "+t+".")}),a=n[0],o=pu.getSaveHandlers(e),Le(o.length>0,function(){return"Copying failed because no save handler is found for destination "+("URL "+e+".")}),Le(o.length<2,function(){return"Copying failed because more than one ("+n.length+") "+("save handlers for destination URL "+e+".")}),s=o[0],u=GN(t).scheme,f=GN(t).path,l=u===GN(t).scheme,[4,a.load()];case 1:return c=m.sent(),r&&l?[4,ld.getManager(u).removeModel(f)]:[3,3];case 2:m.sent(),m.label=3;case 3:return[4,s.save(c)];case 4:return h=m.sent(),r&&!l?[4,ld.getManager(u).removeModel(f)]:[3,6];case 5:m.sent(),m.label=6;case 6:return[2,h.modelArtifactsInfo]}})})}function Jdt(){return gr(this,void 0,void 0,function(){var t,e,r,n,a,o,s,u,f,l,c;return yr(this,function(h){switch(h.label){case 0:t=ld.getSchemes(),e={},h.label=1;case 1:h.trys.push([1,6,7,8]),r=Ps(t),n=r.next(),h.label=2;case 2:return n.done?[3,5]:(a=n.value,[4,ld.getManager(a).listModels()]);case 3:o=h.sent();for(s in o)u=a+Sy+s,e[u]=o[s];h.label=4;case 4:return n=r.next(),[3,2];case 5:return[3,8];case 6:return f=h.sent(),l={error:f},[3,8];case 7:try{n&&!n.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}return[7];case 8:return[2,e]}})})}function Ydt(t){return gr(this,void 0,void 0,function(){var e,r;return yr(this,function(n){return e=GN(t),r=ld.getManager(e.scheme),[2,r.removeModel(e.path)]})})}function Xdt(t,e){return gr(this,void 0,void 0,function(){var r;return yr(this,function(n){return r=!1,[2,Wpe(t,e,r)]})})}function Qdt(t,e){return gr(this,void 0,void 0,function(){var r;return yr(this,function(n){return r=!0,[2,Wpe(t,e,r)]})})}var emt=function(){function t(){}return t.prototype.fetch=function(e,r){return fetch(e,r)},t.prototype.now=function(){return performance.now()},t.prototype.encode=function(e,r){if(r!=="utf-8"&&r!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+r);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},t.prototype.decode=function(e,r){return new TextDecoder(r).decode(e)},t}();if(Qr().get("IS_BROWSER")){Qr().setPlatform("browser",new emt);try{ld.registerManager(T0.URL_SCHEME,new Zdt)}catch(t){}try{ld.registerManager(N0.URL_SCHEME,new Udt)}catch(t){}}var tmt={importFetch:function(){return sle()}},DB,rmt=function(){function t(){this.util=rc(),this.textEncoder=new this.util.TextEncoder}return t.prototype.fetch=function(e,r){return Qr().global.fetch!=null?Qr().global.fetch(e,r):(DB==null&&(DB=tmt.importFetch()),DB(e,r))},t.prototype.now=function(){var e=$process.hrtime();return e[0]*1e3+e[1]/1e6},t.prototype.encode=function(e,r){if(r!=="utf-8"&&r!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+r);return this.textEncoder.encode(e)},t.prototype.decode=function(e,r){return e.length===0?"":new this.util.TextDecoder(r).decode(e)},t}();Qr().get("IS_NODE")&&!Qr().get("IS_BROWSER")&&Qr().setPlatform("node",new rmt);function Mh(t,e,r){return e===void 0&&(e="float32"),e=e||"float32",a9(t),new eT(t,e,r)}function nmt(t,e){var r=Oe(t,"x","cast");if(!Ole(e))throw new Error("Failed to cast to unknown dtype "+e);if(e==="string"&&r.dtype!=="string"||e!=="string"&&r.dtype==="string")throw new Error("Only strings can be casted to strings");var n={x:r},a={dtype:e};return He.runKernel(f9,n,a)}var ca=We({cast_:nmt});function imt(t){var e=Oe(t,"x","clone","string_or_numeric"),r={x:e};return He.runKernel(l9,r)}var E0=We({clone_:imt});function Gpe(t,e){e===void 0&&(e=!1),console.log(t.toString(e))}Ope();var amt={buffer:Mh,cast:ca,clone:E0,print:Gpe};pdt(amt);var omt="model",smt=".json",umt=".weights.bin";function wle(t){return new Promise(function(e){return setTimeout(e)}).then(t)}var rT=function(){function t(e){if(!Qr().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(t.URL_SCHEME)&&(e=e.slice(t.URL_SCHEME.length)),(e==null||e.length===0)&&(e=omt),this.modelJsonFileName=e+smt,this.weightDataFileName=e+umt}return t.prototype.save=function(e){return gr(this,void 0,void 0,function(){var r,n,a,o,s,u;return yr(this,function(f){switch(f.label){case 0:if(typeof document=="undefined")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(r=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],a=Ppe(e,n),o=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),s=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor,s.download=this.modelJsonFileName,s.href=o,[4,wle(function(){return s.dispatchEvent(new MouseEvent("click"))})];case 2:return f.sent(),e.weightData==null?[3,4]:(u=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor,u.download=this.weightDataFileName,u.href=r,[4,wle(function(){return u.dispatchEvent(new MouseEvent("click"))})]);case 3:f.sent(),f.label=4;case 4:return[2,{modelArtifactsInfo:K2(e)}]}})})},t}();rT.URL_SCHEME="downloads://";var fmt=function(){function t(e){if(e==null||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+("but received "+e));this.jsonFile=e[0],this.weightsFiles=e.slice(1)}return t.prototype.load=function(){return gr(this,void 0,void 0,function(){var e=this;return yr(this,function(r){return[2,new Promise(function(n,a){var o=new FileReader;o.onload=function(s){var u=JSON.parse(s.target.result),f=u.modelTopology;if(f==null){a(new Error("modelTopology field is missing from file "+e.jsonFile.name));return}var l=u.weightsManifest;if(l==null){a(new Error("weightManifest field is missing from file "+e.jsonFile.name));return}if(e.weightsFiles.length===0){n({modelTopology:f});return}var c=y9(u,function(h){return e.loadWeights(h)});n(c)},o.onerror=function(s){return a("Failed to read model topology and weights manifest JSON "+("from file '"+e.jsonFile.name+"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},o.readAsText(e.jsonFile)})]})})},t.prototype.loadWeights=function(e){var r,n,a=this,o=[],s=[];try{for(var u=Ps(e),f=u.next();!f.done;f=u.next()){var l=f.value;o.push.apply(o,Jn(l.weights)),s.push.apply(s,Jn(l.paths))}}catch(m){r={error:m}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}var c=this.checkManifestAndWeightFiles(e),h=s.map(function(m){return a.loadWeightsFile(m,c[m])});return Promise.all(h).then(function(m){return[o,g9(m)]})},t.prototype.loadWeightsFile=function(e,r){return new Promise(function(n,a){var o=new FileReader;o.onload=function(s){var u=s.target.result;n(u)},o.onerror=function(s){return a("Failed to weights data from file of path '"+e+"'.")},o.readAsArrayBuffer(r)})},t.prototype.checkManifestAndWeightFiles=function(e){var r,n,a=this,o=[],s=this.weightsFiles.map(function(h){return ble(h.name)}),u={};try{for(var f=Ps(e),l=f.next();!l.done;l=f.next()){var c=l.value;c.paths.forEach(function(h){var m=ble(h);if(o.indexOf(m)!==-1)throw new Error("Duplicate file basename found in weights manifest: "+("'"+m+"'"));if(o.push(m),s.indexOf(m)===-1)throw new Error("Weight file with basename '"+m+"' is not provided.");u[h]=a.weightsFiles[s.indexOf(m)]})}}catch(h){r={error:h}}finally{try{l&&!l.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(o.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+("("+o.length+") and the number of weight files provided ")+("("+this.weightsFiles.length+")."));return u},t}(),lmt=function(t){return Qr().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(rT.URL_SCHEME)?cmt(t.slice(rT.URL_SCHEME.length)):null};pu.registerSaveRouter(lmt);function cmt(t){return t===void 0&&(t="model"),new rT(t)}function hmt(t){return new fmt(t)}function xle(t,e,r,n){s(t),r=r==null?0:r,n=n==null?1:n,u(r,n);var a=0,o=function(f){return f.then(function(l){var c=r+ ++a/t.length*(n-r);return e(c),l}),f};function s(f){Le(f!=null&&Array.isArray(f)&&f.length>0,function(){return"promises must be a none empty array"})}function u(f,l){Le(f>=0&&f<=1,function(){return"Progress fraction must be in range [0, 1], but "+("got startFraction "+f)}),Le(l>=0&&l<=1,function(){return"Progress fraction must be in range [0, 1], but "+("got endFraction "+l)}),Le(l>=f,function(){return"startFraction must be no more than endFraction, but "+("got startFraction "+f+" and endFraction ")+(""+l)})}return Promise.all(t.map(o))}function Hpe(t,e){return gr(this,void 0,void 0,function(){var r,n,a,o,s,u,f,l,c,h,m;return yr(this,function(g){switch(g.label){case 0:return e==null&&(e={}),r=e.fetchFunc==null?Qr().platform.fetch:e.fetchFunc,n=t.map(function(b){return r(b,e.requestInit,{isBinary:!0})}),a=0,o=.5,e.onProgress!=null?[3,2]:[4,Promise.all(n)];case 1:return u=g.sent(),[3,4];case 2:return[4,xle(n,e.onProgress,a,o)];case 3:u=g.sent(),g.label=4;case 4:return s=u,f=s.map(function(b){return b.arrayBuffer()}),l=.5,c=1,e.onProgress!=null?[3,6]:[4,Promise.all(f)];case 5:return m=g.sent(),[3,8];case 6:return[4,xle(f,e.onProgress,l,c)];case 7:m=g.sent(),g.label=8;case 8:return h=m,[2,h]}})})}function pmt(t,e,r,n){return e===void 0&&(e=""),gr(this,void 0,void 0,function(){var a,o;return yr(this,function(s){return a=function(u){return Hpe(u,{requestInit:n})},o=Kpe(a),[2,o(t,e,r)]})})}function Kpe(t){var e=this;return function(r,n,a){return n===void 0&&(n=""),gr(e,void 0,void 0,function(){var o,s,u,f,l,c,h,m,g,b;return yr(this,function(A){switch(A.label){case 0:if(o=r.map(function(){return!1}),s={},u=a!=null?a.map(function(){return!1}):[],f=[],r.forEach(function(I,C){var R=0;I.weights.forEach(function(O){var F="quantization"in O?O.quantization.dtype:O.dtype,z=HB[F]*Li(O.shape),B=function(){o[C]=!0,s[C]==null&&(s[C]=[]),s[C].push({manifestEntry:O,groupOffset:R,sizeBytes:z})};a!=null?a.forEach(function($,j){$===O.name&&(B(),u[j]=!0)}):B(),f.push(O.name),R+=z})}),!u.every(function(I){return I}))throw l=a.filter(function(I,C){return!u[C]}),new Error("Could not find weights in manifest with names: "+(l.join(", ")+`. 
`)+"Manifest JSON has weights with names: "+(f.join(", ")+"."));return c=o.reduce(function(I,C,R){return C&&I.push(R),I},[]),h=[],c.forEach(function(I){r[I].paths.forEach(function(C){var R=n+(n.endsWith("/")?"":"/")+C;h.push(R)})}),[4,t(h)];case 1:return m=A.sent(),g={},b=0,c.forEach(function(I){for(var C=r[I].paths.length,R=0,O=0;O<C;O++)R+=m[b+O].byteLength;for(var F=new ArrayBuffer(R),z=new Uint8Array(F),B=0,$=0;$<C;$++){var j=new Uint8Array(m[b+$]);z.set(j,B),B+=j.byteLength}var W=s[I];W.forEach(function(T){var p=F.slice(T.groupOffset,T.groupOffset+T.sizeBytes),v=Lpe(p,[T.manifestEntry]);for(var S in v)g[S]=v[S]}),b+=C}),[2,g]}})})}}var dmt="application/octet-stream",mmt="application/json",b9=function(){function t(e,r){if(this.DEFAULT_METHOD="POST",r==null&&(r={}),this.weightPathPrefix=r.weightPathPrefix,this.onProgress=r.onProgress,this.weightUrlConverter=r.weightUrlConverter,r.fetchFunc!=null?(Le(typeof r.fetchFunc=="function",function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=r.fetchFunc):this.fetch=Qr().platform.fetch,Le(e!=null&&e.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(e)&&Le(e.length===2,function(){return"URL paths for http must have a length of 2, "+("(actual length is "+e.length+").")}),this.path=e,r.requestInit!=null&&r.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=r.requestInit||{}}return t.prototype.save=function(e){return gr(this,void 0,void 0,function(){var r,n,a,o;return yr(this,function(s){switch(s.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return r=Object.assign({method:this.DEFAULT_METHOD},this.requestInit),r.body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a=Ppe(e,n),r.body.append("model.json",new Blob([JSON.stringify(a)],{type:mmt}),"model.json"),e.weightData!=null&&r.body.append("model.weights.bin",new Blob([e.weightData],{type:dmt}),"model.weights.bin"),[4,this.fetch(this.path,r)];case 1:if(o=s.sent(),o.ok)return[2,{modelArtifactsInfo:K2(e),responses:[o]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+(o.status+"."))}})})},t.prototype.load=function(){return gr(this,void 0,void 0,function(){var e,r,n,a,o,s=this;return yr(this,function(u){switch(u.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(e=u.sent(),!e.ok)throw new Error("Request to "+this.path+" failed with status code "+(e.status+". Please verify this URL points to ")+"the model JSON of the model to load.");u.label=2;case 2:return u.trys.push([2,4,,5]),[4,e.json()];case 3:return r=u.sent(),[3,5];case 4:throw u.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(a=r.modelTopology,o=r.weightsManifest,a==null&&o==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return[2,y9(r,function(f){return s.loadWeights(f)})]}})})},t.prototype.loadWeights=function(e){return gr(this,void 0,void 0,function(){var r,n,a,o,s,u,f,l,c,h,m,g,b,A,I,C,R,O,F,z,B,$,j,W,T,p,v;return yr(this,function(S){switch(S.label){case 0:r=Array.isArray(this.path)?this.path[1]:this.path,n=ur(vmt(r),2),a=n[0],o=n[1],s=this.weightPathPrefix||a,u=[];try{for(f=Ps(e),l=f.next();!l.done;l=f.next())c=l.value,u.push.apply(u,Jn(c.weights))}catch(y){$={error:y}}finally{try{l&&!l.done&&(j=f.return)&&j.call(f)}finally{if($)throw $.error}}h=[],m=[];try{for(g=Ps(e),b=g.next();!b.done;b=g.next()){A=b.value;try{for(I=(p=void 0,Ps(A.paths)),C=I.next();!C.done;C=I.next())R=C.value,this.weightUrlConverter!=null?m.push(this.weightUrlConverter(R)):h.push(s+R+o)}catch(y){p={error:y}}finally{try{C&&!C.done&&(v=I.return)&&v.call(I)}finally{if(p)throw p.error}}}}catch(y){W={error:y}}finally{try{b&&!b.done&&(T=g.return)&&T.call(g)}finally{if(W)throw W.error}}return this.weightUrlConverter?(F=(O=h.push).apply,z=[h],[4,Promise.all(m)]):[3,2];case 1:F.apply(O,z.concat([Jn.apply(void 0,[S.sent()])])),S.label=2;case 2:return[4,Hpe(h,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 3:return B=S.sent(),[2,[u,g9(B)]]}})})},t}();b9.URL_SCHEME_REGEX=/^https?:\/\//;function vmt(t){var e=t.lastIndexOf("/"),r=t.lastIndexOf("?"),n=t.substring(0,e),a=r>e?t.substring(r):"";return[n+"/",a]}function YB(t){return t.match(b9.URL_SCHEME_REGEX)!=null}var Zpe=function(t,e){if(typeof fetch=="undefined"&&(e==null||e.fetchFunc==null))return null;var r=!0;return Array.isArray(t)?r=t.every(function(n){return YB(n)}):r=YB(t),r?w9(t,e):null};pu.registerSaveRouter(Zpe);pu.registerLoadRouter(Zpe);function w9(t,e){return new b9(t,e)}function gmt(t,e){return w9(t,e)}var kB=function(){function t(e){this.modelArtifacts=e}return t.prototype.load=function(){return this.modelArtifacts},t}(),Jpe=function(){function t(e){this.saveHandler=e}return t.prototype.save=function(e){return this.saveHandler(e)},t}(),ymt=function(){function t(e){e.load&&(this.load=function(){return Promise.resolve(e.load())}),e.save&&(this.save=function(r){return Promise.resolve(e.save(r))})}return t}();function bmt(t,e,r,n){var a=arguments;return new ymt(Ype.apply(void 0,Jn(a)))}function Ype(t,e,r,n){if(arguments.length===1){var a=t.modelTopology!=null||t.weightSpecs!=null;return a?new kB(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new kB({modelTopology:t}))}else return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new kB({modelTopology:t,weightSpecs:e,weightData:r,trainingConfig:n})}function wmt(t){return new Jpe(t)}function xmt(t){return new Jpe(t)}var _mt={__proto__:null,browserFiles:hmt,browserHTTPRequest:gmt,concatenateArrayBuffers:g9,decodeWeights:Lpe,encodeWeights:Ndt,fromMemory:bmt,fromMemorySync:Ype,getLoadHandlers:Pdt,getModelArtifactsForJSON:y9,getModelArtifactsInfoForJSON:K2,getSaveHandlers:Ldt,http:w9,isHTTPScheme:YB,loadWeights:pmt,registerLoadRouter:Bdt,registerSaveRouter:Fdt,weightsLoaderFactory:Kpe,withSaveHandler:wmt,withSaveHandlerSync:xmt,copyModel:Xdt,listModels:Jdt,moveModel:Qdt,removeModel:Ydt};function Smt(t,e,r,n){var a;r===void 0&&(r=!1),n===void 0&&(n=!1);var o=Oe(t,"a","matMul"),s=Oe(e,"b","matMul");a=ur(ea(o,s),2),o=a[0],s=a[1];var u={a:o,b:s},f={transposeA:r,transposeB:n};return He.runKernel(tce,u,f)}var ni=We({matMul_:Smt});function Emt(t,e,r,n){if(r===void 0&&(r=1),n===void 0&&(n=0),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);var a=Oe(t,"indices","oneHot","int32"),o={indices:a},s={depth:e,onValue:r,offValue:n};return He.runKernel(Ehe,o,s)}var XB=We({oneHot_:Emt});function Mmt(){Qr().set("PROD",!0)}function Amt(){Qr().set("DEBUG",!0)}function Nmt(){Qr().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function Tmt(t){Qr().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Dmt(){He.disposeVariables()}function kmt(){return He}function Imt(){return He.memory()}function Cmt(t){return He.profile(t)}function Ba(t,e){return He.tidy(t,e)}function ys(t){var e=d9(t);e.forEach(function(r){return r.dispose()})}function Xpe(t){return He.keep(t)}function Omt(t){return He.time(t)}function Rmt(t){return He.setBackend(t)}function Fmt(){return He.ready()}function Bmt(){return He.backendName}function Lmt(t){He.removeBackend(t)}function Pmt(t){return He.findBackend(t)}function qmt(t){return He.findBackendFactory(t)}function zmt(t,e,r){return r===void 0&&(r=1),He.registerBackend(t,e,r)}function Umt(){return He.backend}function jmt(t,e){Qr().setPlatform(t,e)}function $mt(t){var e=Oe(t,"input","imag"),r={input:e};return He.runKernel(Gce,r)}var hT=We({imag_:$mt});function Vmt(t){var e=Oe(t,"x","neg"),r={x:e};return He.runKernel(yhe,r)}var Eh=We({neg_:Vmt});function Wmt(t){var e=Oe(t,"input","real"),r={input:e};return He.runKernel(Ihe,r)}var P2=We({real_:Wmt});function Gmt(t,e,r){var n=Oe(t,"x","transpose");if(e==null&&(e=n.shape.map(function(s,u){return u}).reverse()),Le(n.rank===e.length,function(){return"Error in transpose: rank of input "+n.rank+" "+("must match length of perm "+e+".")}),e.forEach(function(s){Le(s>=0&&s<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+(" but got "+e)})}),n.rank<=1)return n.clone();var a={x:n},o={perm:e};return n.dtype==="complex64"?Ba(function(){var s=P2(n),u=hT(n);return s=He.runKernel(VN,{x:s},o),u=He.runKernel(VN,{x:u},o),r&&(u=Eh(u)),fd(s,u)}):He.runKernel(VN,a,o)}var nT=We({transpose_:Gmt});function Hmt(t,e,r){var n=Oe(t,"labels","confusionMatrix"),a=Oe(e,"predictions","confusionMatrix");Le(r==null||r>0&&Number.isInteger(r),function(){return"If provided, numClasses must be a positive integer, "+("but got "+r)}),Le(n.rank===1,function(){return"Expected the rank of labels to be 1, but got "+n.rank}),Le(a.rank===1,function(){return"Expected the rank of predictions to be 1, "+("but got "+a.rank)}),Le(n.shape[0]===a.shape[0],function(){return"Mismatch in the number of examples: "+(n.shape[0]+" vs. "+a.shape[0]+". ")+"Labels and predictions should have the same number of elements."}),Le(r>0&&Number.isInteger(r),function(){return"numClasses is required to be a positive integer, but got "+(""+r)});var o=XB(ca(n,"int32"),r),s=XB(ca(a,"int32"),r),u=nT(o),f=ni(u,s);return ca(f,"int32")}var Kmt=We({confusionMatrix_:Hmt});var Zmt={__proto__:null,confusionMatrix:Kmt};function Qpe(t,e){for(var r=t.length,n=[],a=0;a<r;a++){var o=r-1-a,s=t[o]||1,u=e[e.length-1-a]||1;u>1&&s===1&&n.unshift(o)}return n}function x9(t,e){for(var r=[],n=0;n<e.length;n++){var a=t[t.length-n-1],o=e.length-n-1,s=e[o];(a==null||a===1&&s>1)&&r.unshift(o)}return r}function La(t,e){for(var r=[],n=Math.max(t.length,e.length),a=0;a<n;a++){var o=t[t.length-a-1];o==null&&(o=1);var s=e[e.length-a-1];if(s==null&&(s=1),o===1)r.unshift(s);else if(s===1)r.unshift(o);else if(o!==s){var u="Operands could not be broadcast together with shapes "+(t+" and "+e+".");throw Error(u)}else r.unshift(o)}return r}var Jmt={__proto__:null,getBroadcastDims:Qpe,getReductionAxes:x9,assertAndGetBroadcastShape:La};function ede(t,e,r){if(I0(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var n=Ec(t,r);if(n.length!==3&&n.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return hd(t,e,n,r)}var g0;function tde(t,e){if(e===void 0&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var r=!1,n=!1,a=!1,o=!1,s=!1,u=!1;if(t.data instanceof Uint8Array)r=!0;else if(typeof ImageData!="undefined"&&t instanceof ImageData)n=!0;else if(typeof HTMLVideoElement!="undefined"&&t instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement)o=!0;else if(t.getContext!=null)s=!0;else if(typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap)u=!0;else throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+("but was "+t.constructor.name));if(a){var f=2;if(a&&t.readyState<f)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}var l=JN(RB,He.backendName);if(l!=null){var c={pixels:t},h={numChannels:e};return He.runKernel(RB,c,h)}var m=ur(a?[t.videoWidth,t.videoHeight]:[t.width,t.height],2),g=m[0],b=m[1],A;if(s)A=t.getContext("2d").getImageData(0,0,g,b).data;else if(n||r)A=t.data;else if(o||a||u){if(g0==null)if(typeof document=="undefined")if(typeof OffscreenCanvas!="undefined"&&typeof OffscreenCanvasRenderingContext2D!="undefined")g0=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else g0=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});g0.canvas.width=g,g0.canvas.height=b,g0.drawImage(t,0,0,g,b),A=g0.getImageData(0,0,g,b).data}var I;if(e===4)I=new Int32Array(A);else{var C=g*b;I=new Int32Array(C*e);for(var R=0;R<C;R++)for(var O=0;O<e;++O)I[R*e+O]=A[R*4+O]}var F=[b,g,e];return ede(I,F,"int32")}function Ymt(t){return t!=null&&t.data instanceof Uint8Array}function Xmt(){return typeof window!="undefined"&&typeof ImageBitmap!="undefined"&&window.hasOwnProperty("createImageBitmap")}function Qmt(t){return t!=null&&t.width!==0&&t.height!==0}function e0t(t){return Xmt()&&!(t instanceof ImageBitmap)&&Qmt(t)&&!Ymt(t)}function t0t(t,e){return e===void 0&&(e=3),gr(this,void 0,void 0,function(){var r,n;return yr(this,function(a){switch(a.label){case 0:if(r=null,!(Qr().getBool("WRAP_TO_IMAGEBITMAP")&&e0t(t)))return[3,5];n=void 0,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,createImageBitmap(t,{premultiplyAlpha:"none"})];case 2:return n=a.sent(),[3,4];case 3:return a.sent(),n=null,[3,4];case 4:return n!=null&&n.width===t.width&&n.height===t.height?r=n:r=t,[3,6];case 5:r=t,a.label=6;case 6:return[2,tde(r,e)]}})})}function r0t(t,e){return gr(this,void 0,void 0,function(){var r,n,a,o,s,u,f,l,c,h,m,g,b,A,I,C;return yr(this,function(R){switch(R.label){case 0:if(r=Oe(t,"img","toPixels"),t instanceof Fa||(n=r,r=ca(n,"int32"),n.dispose()),r.rank!==2&&r.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+r.rank+".");if(a=ur(r.shape.slice(0,2),2),o=a[0],s=a[1],u=r.rank===2?1:r.shape[2],u>4||u===2)throw new Error("toPixels only supports depth of size "+("1, 3 or 4 but got "+u));if(r.dtype!=="float32"&&r.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+r.dtype+". Please use float32 or int32 tensors.");return[4,r.data()];case 1:for(f=R.sent(),l=r.dtype==="float32"?255:1,c=new Uint8ClampedArray(s*o*4),h=0;h<o*s;++h){for(m=[0,0,0,255],g=0;g<u;g++){if(b=f[h*u+g],r.dtype==="float32"){if(b<0||b>1)throw new Error("Tensor values for a float32 Tensor must be in the "+("range [0 - 1] but encountered "+b+"."))}else if(r.dtype==="int32"&&(b<0||b>255))throw new Error("Tensor values for a int32 Tensor must be in the "+("range [0 - 255] but encountered "+b+"."));u===1?(m[0]=b*l,m[1]=b*l,m[2]=b*l):m[g]=b*l}A=h*4,c[A+0]=Math.round(m[0]),c[A+1]=Math.round(m[1]),c[A+2]=Math.round(m[2]),c[A+3]=Math.round(m[3])}return e!=null&&(e.width=s,e.height=o,I=e.getContext("2d"),C=new ImageData(c,s,o),I.putImageData(C,0,0)),r!==t&&r.dispose(),[2,c]}})})}var n0t=We({fromPixels_:tde}),i0t={__proto__:null,fromPixelsAsync:t0t,toPixels:r0t,fromPixels:n0t};function rde(t,e){var r=t.shape.length,n=e.shape.length;if(r<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+(" but the rank was "+r+"."));if(n<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+(" but the rank was "+n+"."));if(e.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type,"+(" but the dtype was "+e.dtype+"."));if(e.shape[n-1]>r)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+(e.shape[n-1]+" vs. "+r));if(Li(t.shape)===0)throw new Error("Requested more than 0 entries, but input is empty."+(" Input shape: "+t.shape+"."));for(var a=e.shape,o=a[a.length-1],s=1,u=0;u<a.length-1;++u)s*=a[u];var f=t.shape,l=a.slice();l.pop();for(var c=1,u=o;u<r;++u)c*=f[u],l.push(f[u]);var h=Jn(Cy(t.shape).map(function(m){return m/c}),[1]).slice(0,o);return[l,s,c,h]}var a0t={__proto__:null,prepareAndValidate:rde};function _9(t,e,r){var n=e.rank>1?e.shape[e.rank-1]:1,a=e.rank>1?e.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + "+("shape[sliceDim:], got updates.shape: "+r.shape)+(", indices.shape: "+e.shape+", shape: "+t)+(", sliceDim: "+n+", and batchDim: "+a+".");if(r.rank<a)throw new Error(o+(" update.rank < "+a+". "));if(t.length<n+(r.rank-a))throw new Error(o+(" Output shape length < "+(n+(r.rank-a))));if(r.rank!==a+t.length-n)throw new Error(o+(" update.rank != "+(a+t.length-n)));for(var s=0;s<a;++s)if(r.shape[s]!==e.shape[s])throw new Error(o+(" updates.shape["+s+"] ("+r.shape[s]+") != indices.shape["+s+"] ("+e.shape[s]+")."));for(var s=0;s<r.rank-a;++s)if(r.shape[s+a]!==t[s+n])throw new Error(o+(" updates.shape["+(s+a)+"] ("+r.shape[s+a]+") != shape["+(s+a)+"] ("+t[s+a]+")"))}function S9(t,e,r){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+(" but the rank was "+e.rank+"."));if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+(" but the rank was "+t.rank+"."));if(e.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+e.dtype);if(r.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+r);if(r.length===0){if(e.size===0)throw new Error("Indices specified for empty output. indices shape: "+e.shape);if(t.size===0)throw new Error("Updates specified for empty output. updates shape: "+t.shape)}_9(r,e,t)}function nde(t,e,r){for(var n=e.shape.length,a=n>1?e.shape[n-1]:1,o=r.length,s=1,u=a;u<o;++u)s*=r[u];var f=a<1?1:a,l=Li(e.shape)/f,c=Jn(Cy(r.slice(0,a)),[1]),h=Li(r);return{sliceRank:a,numUpdates:l,sliceSize:s,strides:c,outputSize:h}}var o0t={__proto__:null,validateUpdateShape:_9,validateInput:S9,calculateShapes:nde},QB=-2,s0t=-1;function u0t(t,e,r){var n=t.shape.length;Le(n===e.length,function(){return"Error in slice"+n+"D: Length of begin "+e+" must "+("match the rank of the array ("+n+").")}),Le(n===r.length,function(){return"Error in slice"+n+"D: Length of size "+r+" must "+("match the rank of the array ("+n+").")});for(var a=function(s){Le(e[s]+r[s]<=t.shape[s],function(){return"Error in slice"+n+"D: begin["+s+"] + size["+s+"] "+("("+(e[s]+r[s])+") would overflow input.shape["+s+"] ("+t.shape[s]+")")})},o=0;o<n;++o)a(o)}function f0t(t){for(var e=[],r=0;t>0;)t&1&&e.push(r),t/=2,r++;return e}function l0t(t,e,r){for(var n=[],a=0;a<t.length;a++)n[a]=Math.ceil((e[a]-t[a])/r[a]);return n}function ide(t,e,r,n){for(var a=Jn(t),o=a.length;o<n.length;o++)a.push(1);for(var o=0;o<r;o++)o===0?a[e]=1:(a.splice(e,0,1),a.pop());return a}function ade(t,e,r){return r<=t?r:r-(e-1)}function ode(t,e){for(var r=[],n=0;n<t;n++)r.push(e+n);return r}function c0t(t,e,r,n,a,o,s,u,f){var l=t.length,c=new Array(l),h=new Array(l),m=new Array(l);if(e.length&&r>0){var g=e[0],b=r+1;c=sde(s,g,b,n,t),h=ude(u,g,b,a,t),m=ide(o,g,b,t)}else for(var A=0;A<l;A++)c[A]=lde(s,n,o,t,A,f),h[A]=cde(u,a,o,t,A,f),m[A]=fde(o,A,f);return{begin:c,end:h,strides:m}}function sde(t,e,r,n,a){for(var o=Jn(a),s=ode(r,e),u=0;u<o.length;u++)if(s.indexOf(u)>-1)o[u]=0;else{var f=ade(e,r,u),l=n[f];t&1<<f&&(l=0),o[u]=l}return o}function ude(t,e,r,n,a){for(var o=Jn(a),s=ode(r,e),u=0;u<o.length;u++)if(s.indexOf(u)>-1)o[u]=Number.MAX_SAFE_INTEGER;else{var f=ade(e,r,u),l=n[f];t&1<<f&&(l=Number.MAX_SAFE_INTEGER),o[u]=l}for(var c=0;c<o.length;c++){var h=a[c];o[c]<0&&(o[c]+=h),o[c]=O2(0,o[c],a[c])}return o}function fde(t,e,r){var n=t[e];return(r&1<<e||n==null)&&(n=1),n}function lde(t,e,r,n,a,o){var s=e[a],u=r[a]||1;(t&1<<a||o&1<<a||s==null)&&(u>0?s=Number.MIN_SAFE_INTEGER:s=Number.MAX_SAFE_INTEGER);var f=n[a];return s<0&&(s+=f),s=O2(0,s,f-1),s}function cde(t,e,r,n,a,o){var s=e[a],u=r[a]||1;(t&1<<a||o&1<<a||s==null)&&(u>0?s=Number.MAX_SAFE_INTEGER:s=Number.MIN_SAFE_INTEGER);var f=n[a];return s<0&&(s+=f),u>0?s=O2(0,s,f):s=O2(-1,s,f-1),s}function h0t(t,e,r){for(var n=r.length,a=0;a<r.length;a++)if(r[a]>1){n=a;break}for(var a=n+1;a<r.length;a++)if(e[a]>0||r[a]!==t[a])return!1;return!0}function p0t(t,e){for(var r=t.length>0?t[t.length-1]:1,n=0;n<t.length-1;n++)r+=t[n]*e[n];return r}function d0t(t,e,r){var n,a=t.shape.length;typeof e=="number"?n=Jn([e],new Array(a-1).fill(0)):e.length<a?n=e.concat(new Array(a-e.length).fill(0)):n=e.slice(),n.forEach(function(s){Le(s!==-1,function(){return"slice() does not support negative begin indexing."})});var o;return r==null?o=new Array(a).fill(-1):typeof r=="number"?o=Jn([r],new Array(a-1).fill(-1)):r.length<a?o=r.concat(new Array(a-r.length).fill(-1)):o=r,o=o.map(function(s,u){return s>=0?s:(Le(s===-1,function(){return"Negative size values should be exactly -1 but got "+(s+" for the slice() size at index "+u+".")}),t.shape[u]-n[u])}),[n,o]}function m0t(t,e,r,n,a,o,s,u,f){var l;if(n==null?(l=new Array(e.length),l.fill(1)):l=n,s!=null&&(s&s-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");for(var c=!1,h={dims:l.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:r.slice(),strides:l.slice(),beginMask:a,endMask:o,ellipsisMask:s,newAxisMask:u,shrinkAxisMask:f},m=0;m<h.dims;m++)c&&(1<<m&u)!==0&&h.numAddAxisAfterEllipsis++,1<<m&s&&(c=!0);c||(h.ellipsisMask|=1<<h.dims,h.dims++);var g={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};v0t(h,g);for(var b=!0,A=!0,I=!0,C=[],R=[],m=0;m<t.length;++m){if(g.strides[m]===0)throw Error("strides["+m+"] must be non-zero");var O=!!(g.shrinkAxisMask&1<<m),F=t[m];if(F===-1){C.push(O?1:-1);continue}var z=[g.beginMask&1<<m,g.endMask&1<<m],B=[g.strides[m]>0?0:-1,g.strides[m]>0?F:F-1];if(O&&g.strides[m]<=0)throw Error("only stride 1 allowed on non-range indexing.");I=I&&g.strides[m]===1;var $=!!(g.beginMask&1<<m&&g.endMask&1<<m);if(g.beginValid&&g.endValid){if(O){var j=g.begin[m]<0?F+g.begin[m]:g.begin[m];if(g.begin[m]=j,g.end[m]=g.begin[m]+1,j<0||j>=F)throw Error("slice index "+g.begin[m]+" of dimension "+m+" out of bounds.")}else g.begin[m]=_le(g.begin[m],0,g.strides[m],F,z,B),g.end[m]=_le(g.end[m],1,g.strides[m],F,z,B);var W=g.strides[m]===1&&g.begin[m]===0&&g.end[m]===F;b=b&&W,A=A&&(m===0&&g.strides[m]===1||W)}else b=b&&g.strides[m]===1&&$,A=A&&(m===0&&g.strides[m]===1||$);var T=void 0,p=!1;if(g.beginValid&&g.endValid?(T=g.end[m]-g.begin[m],p=!0):O?(T=1,p=!0):$&&F>=0&&(g.strides[m]<0?T=-F:T=F,p=!0),p){var v=void 0;T===0||T<0!=g.strides[m]<0?v=0:v=Math.trunc(T/g.strides[m])+(T%g.strides[m]!==0?1:0),C.push(v)}else C.push(-1)}for(var S=0;S<g.finalShapeGatherIndices.length;++S){var y=g.finalShapeGatherIndices[S];y>=0?R.push(C[y]):y===QB&&R.push(1)}var M=R.filter(function(D,k){return g.finalShapeGatherIndices[k]!==QB});return{finalShapeSparse:M,finalShape:R,isIdentity:b,sliceDim0:A,isSimpleSlice:I,begin:g.begin,end:g.end,strides:g.strides}}function v0t(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;var r=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(var n=0;n<t.dims;n++)if(1<<n&t.ellipsisMask)for(var a=Math.min(e.dims-(t.dims-n)+1+t.numAddAxisAfterEllipsis,e.dims);r<a;r++)e.begin[r]=0,e.end[r]=0,e.strides[r]=1,e.beginMask|=1<<r,e.endMask|=1<<r,e.finalShapeGatherIndices.push(r),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[r]=n;else if(1<<n&t.newAxisMask)e.finalShapeGatherIndices.push(QB),e.finalShapeGatherIndicesSparse.push(-1);else{if(r===e.begin.length)throw Error("Index out of range using input dim "+r+"; input "+("has only "+e.dims+" dims, "+e.begin.length+"."));t.begin!=null&&(e.begin[r]=t.begin[n]),t.end!=null&&(e.end[r]=t.end[n]),e.strides[r]=t.strides[n],t.beginMask&1<<n&&(e.beginMask|=1<<r),t.endMask&1<<n&&(e.endMask|=1<<r),t.shrinkAxisMask&1<<n?(e.finalShapeGatherIndices.push(s0t),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<r):(e.finalShapeGatherIndices.push(r),e.finalShapeGatherIndicesSparse.push(n)),e.inputShapeGatherIndicesSparse[r]=n,r++}}function _le(t,e,r,n,a,o){if(a[e])return r>0?o[e]:o[e+1&1];var s=t<0?n+t:t;return s<o[0]?o[0]:s>o[1]?o[1]:s}var hde={__proto__:null,assertParamsValid:u0t,maskToAxes:f0t,computeOutShape:l0t,stridesWithElidedDims:ide,getNormalizedAxes:c0t,startIndicesWithElidedDims:sde,stopIndicesWithElidedDims:ude,stridesForAxis:fde,startForAxis:lde,stopForAxis:cde,isSliceContinous:h0t,computeFlatOffset:p0t,parseSliceParams:d0t,sliceInfo:m0t};var pde=function(){function t(){}return t.prototype.getClassName=function(){return this.constructor.className},t.fromConfig=function(e,r){return new e(r)},t}(),dde=function(){function t(){this.classNameMap={}}return t.getMap=function(){return t.instance==null&&(t.instance=new t),t.instance},t.register=function(e){t.getMap().classNameMap[e.className]=[e,e.fromConfig]},t}();function pd(t){Le(t.className!=null,function(){return"Class being registered does not have the static className property defined."}),Le(typeof t.className=="string",function(){return"className is required to be a string, but got type "+typeof t.className}),Le(t.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),dde.register(t)}var g0t={__proto__:null,Serializable:pde,SerializationMap:dde,registerClass:pd};var y0t=.001,mde=.1;function b0t(t,e,r){return r==null&&(r=E9()),e9(t,e,function(n,a){return M9(n,a,r)})}function E9(){return He.backend.floatPrecision()===32?y0t:mde}function e9(t,e,r){var n=!0;if((Fo(t)||Fo(e))&&(n=!1),Fo(t)&&Fo(e)&&(n=!0),n){var a=t.constructor.name,o=e.constructor.name;if(a!==o)throw new Error("Arrays are of different type. Actual: "+a+". "+("Expected: "+o))}if(Array.isArray(t)&&Array.isArray(e)){var s=Ec(t),u=Ec(e);if(!cd(s,u))throw new Error("Arrays have different shapes. "+("Actual: ["+s+"]. Expected: ["+u+"]"))}var f=Fo(t)?t:A0(t),l=Fo(e)?e:A0(e);if(f.length!==l.length)throw new Error("Arrays have different lengths actual: "+f.length+" vs "+("expected: "+l.length+`.
`)+("Actual:   "+f+`.
`)+("Expected: "+l+"."));for(var c=0;c<l.length;++c){var h=f[c],m=l[c];if(!r(h,m))throw new Error("Arrays differ: actual["+c+"] = "+h+", expected["+c+"] = "+m+`.
`+("Actual:   "+f+`.
`)+("Expected: "+l+"."))}}function w0t(t,e){t().then(function(){return e.fail()},function(){return e()})}function x0t(t,e){var r=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return ad(t)||ad(t[0])||ad(e)||ad(e[0])?e9(t,r,function(n,a){return n==a}):e9(t,e,function(n,a){return M9(n,a,0)})}function _0t(t,e,r){if(r==null&&(r=E9()),!M9(t,e,r))throw new Error("Numbers differ: actual === "+t+", expected === "+e)}function M9(t,e,r){return!isFinite(t)&&!isFinite(e)?!0:!(isNaN(t)||isNaN(e)||Math.abs(t-e)>r)}function S0t(t,e,r){for(var n=0;n<t.length;n++)if(t[n]<e||t[n]>r)throw new Error("Value out of range:"+t[n]+" low: "+e+", high: "+r)}function E0t(t,e){var r=new Float32Array(t),n=new Float32Array(e);if(r.length!==n.length)throw new Error("Expected ArrayBuffer to be of length "+(n.length+", but it was "+r.length));for(var a=0;a<n.length;a++)if(r[a]!==n[a])throw new Error("Expected ArrayBuffer value at "+a+" to be "+(n[a]+" but got "+r[a]+" instead"))}function vde(t){for(var e=0;e<t.length;e++){var r=t[e];Array.isArray(r)?vde(r):t[e]=H2(r)}return t}var M0t={__proto__:null,TEST_EPSILON_FLOAT16:mde,expectArraysClose:b0t,testEpsilon:E9,expectPromiseToFail:w0t,expectArraysEqual:x0t,expectNumbersClose:_0t,expectValuesInRange:S0t,expectArrayBuffersEqual:E0t,encodeStrings:vde};var A0t="3.19.0";function N0t(t,e){var r,n=Oe(t,"a","add"),a=Oe(e,"b","add");r=ur(ea(n,a),2),n=r[0],a=r[1];var o={a:n,b:a};return He.runKernel(u9,o)}var Cr=We({add_:N0t});function T0t(t,e){var r,n=Oe(t,"a","floorDiv"),a=Oe(e,"b","floorDiv");r=ur(ea(n,a),2),n=r[0],a=r[1];var o={a:n,b:a};return He.runKernel(qce,o)}var gde=We({floorDiv_:T0t});function D0t(t,e){var r,n=Oe(t,"a","div"),a=Oe(e,"b","div");if(r=ur(ea(n,a),2),n=r[0],a=r[1],n.dtype==="int32"&&a.dtype==="int32")return gde(n,a);var o={a:n,b:a},s={};return He.runKernel(Nce,o,s)}var Bi=We({div_:D0t});function k0t(t,e){var r,n=Oe(t,"a","mul"),a=Oe(e,"b","mul");r=ur(ea(n,a),2),n=r[0],a=r[1];var o={a:n,b:a};return He.runKernel(ghe,o)}var Qt=We({mul_:k0t});function I0t(t){var e=Oe(t,"x","abs");if(e.dtype==="complex64"){var r={x:e};return He.runKernel(uce,r)}else{var r={x:e};return He.runKernel(zle,r)}}var cu=We({abs_:I0t});function C0t(t){var e=Oe(t,"x","acos"),r={x:e};return He.runKernel(Ule,r)}var O0t=We({acos_:C0t});function R0t(t){var e=Oe(t,"x","acosh"),r={x:e};return He.runKernel(jle,r)}var F0t=We({acosh_:R0t});function B0t(t){Le(Array.isArray(t),function(){return"The argument passed to tf.addN() must be a list of tensors"}),Le(t.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+(""+t.length)});var e=t.map(function(a,o){return Oe(a,"tensors"+o,"addN")}),r=e[0];e.forEach(function(a){if(a.dtype!==r.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(function(a){if(!cd(a.shape,r.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var n=e;return He.runKernel($le,n)}var L0t=We({addN_:B0t});function P0t(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Oe(t,"x","all","bool"),a={x:n},o={axis:e,keepDims:r};return He.runKernel(Vle,a,o)}var q0t=We({all_:P0t});function z0t(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Oe(t,"x","any","bool"),a={x:n},o={axis:e,keepDims:r};return He.runKernel(Wle,a,o)}var U0t=We({any_:z0t});function j0t(t,e){e===void 0&&(e=0);var r=Oe(t,"x","argMax"),n={x:r},a={axis:e};return He.runKernel(Gle,n,a)}var $0t=We({argMax_:j0t});function V0t(t,e){e===void 0&&(e=0);var r=Oe(t,"x","argMin"),n={x:r},a={axis:e};return He.runKernel(Hle,n,a)}var W0t=We({argMin_:V0t});function G0t(t){var e=Oe(t,"x","asin"),r={x:e};return He.runKernel(Kle,r)}var H0t=We({asin_:G0t});function K0t(t){var e=Oe(t,"x","asinh"),r={x:e};return He.runKernel(Zle,r)}var Z0t=We({asinh_:K0t});function J0t(t){var e=Oe(t,"x","atan"),r={x:e};return He.runKernel(Jle,r)}var Y0t=We({atan_:J0t});function X0t(t,e){var r,n=Oe(t,"a","atan2"),a=Oe(e,"b","atan2");r=ur(ea(n,a),2),n=r[0],a=r[1];var o={a:n,b:a};return He.runKernel(Xle,o)}var Q0t=We({atan2_:X0t});function evt(t){var e=Oe(t,"x","atanh"),r={x:e};return He.runKernel(Yle,r)}var tvt=We({atanh_:evt});function rvt(t,e,r,n,a,o){a===void 0&&(a="NHWC");var s=t[3],u=Jn(e,[s]),f=wde(a);return Z2(t,u,r,o,n,null,null,f)}function yde(t,e,r,n,a,o,s){s===void 0&&(s="channelsLast");var u=ur(iT(e),2),f=u[0],l=u[1],c;if(s==="channelsLast")c=[f,l,t[3],t[3]];else if(s==="channelsFirst")c=[f,l,t[1],t[1]];else throw new Error("Unknown dataFormat "+s);return Z2(t,c,r,n,a,o,!1,s)}function nvt(t,e,r,n,a,o,s){s===void 0&&(s="NDHWC");var u=ur(t9(e),3),f=u[0],l=u[1],c=u[2],h,m;if(s==="NDHWC")m="channelsLast",h=[f,l,c,t[4],t[4]];else if(s==="NCDHW")m="channelsFirst",h=[f,l,c,t[1],t[1]];else throw new Error("Unknown dataFormat "+s);return bde(t,h,r,n,a,!1,m,o)}function Z2(t,e,r,n,a,o,s,u){var f,l;s===void 0&&(s=!1),u===void 0&&(u="channelsLast");var c=ur([-1,-1,-1,-1],4),h=c[0],m=c[1],g=c[2],b=c[3];if(u==="channelsLast")f=ur(t,4),h=f[0],m=f[1],g=f[2],b=f[3];else if(u==="channelsFirst")l=ur(t,4),h=l[0],b=l[1],m=l[2],g=l[3];else throw new Error("Unknown dataFormat "+u);var A=ur(e,4),I=A[0],C=A[1],R=A[3],O=ur(iT(r),2),F=O[0],z=O[1],B=ur(iT(n),2),$=B[0],j=B[1],W=Ey(I,$),T=Ey(C,j),p=ovt(a,m,g,F,z,W,T,o,u),v=p.padInfo,S=p.outHeight,y=p.outWidth,M=s?R*b:R,D;return u==="channelsFirst"?D=[h,M,S,y]:u==="channelsLast"&&(D=[h,S,y,M]),{batchSize:h,dataFormat:u,inHeight:m,inWidth:g,inChannels:b,outHeight:S,outWidth:y,outChannels:M,padInfo:v,strideHeight:F,strideWidth:z,filterHeight:I,filterWidth:C,effectiveFilterHeight:W,effectiveFilterWidth:T,dilationHeight:$,dilationWidth:j,inShape:t,outShape:D,filterShape:e}}function bde(t,e,r,n,a,o,s,u){var f,l;o===void 0&&(o=!1),s===void 0&&(s="channelsLast");var c=ur([-1,-1,-1,-1,-1],5),h=c[0],m=c[1],g=c[2],b=c[3],A=c[4];if(s==="channelsLast")f=ur(t,5),h=f[0],m=f[1],g=f[2],b=f[3],A=f[4];else if(s==="channelsFirst")l=ur(t,5),h=l[0],A=l[1],m=l[2],g=l[3],b=l[4];else throw new Error("Unknown dataFormat "+s);var I=ur(e,5),C=I[0],R=I[1],O=I[2],F=I[4],z=ur(t9(r),3),B=z[0],$=z[1],j=z[2],W=ur(t9(n),3),T=W[0],p=W[1],v=W[2],S=Ey(C,T),y=Ey(R,p),M=Ey(O,v),D=svt(a,m,g,b,B,$,j,S,y,M,u),k=D.padInfo,E=D.outDepth,d=D.outHeight,N=D.outWidth,U=o?F*A:F,q;return s==="channelsFirst"?q=[h,U,E,d,N]:s==="channelsLast"&&(q=[h,E,d,N,U]),{batchSize:h,dataFormat:s,inDepth:m,inHeight:g,inWidth:b,inChannels:A,outDepth:E,outHeight:d,outWidth:N,outChannels:U,padInfo:k,strideDepth:B,strideHeight:$,strideWidth:j,filterDepth:C,filterHeight:R,filterWidth:O,effectiveFilterDepth:S,effectiveFilterHeight:y,effectiveFilterWidth:M,dilationDepth:T,dilationHeight:p,dilationWidth:v,inShape:t,outShape:q,filterShape:e}}function ivt(t,e,r,n,a){n==null&&(n=A9(t,e,r));var o=t[0],s=t[1],u=M0((o-e+2*n)/r+1,a),f=M0((s-e+2*n)/r+1,a);return[u,f]}function avt(t,e,r,n,a,o){a==null&&(a=A9(t,e,n));var s=t[0],u=t[1],f=t[2],l=M0((s-e+2*a)/n+1,o),c=M0((u-e+2*a)/n+1,o),h=M0((f-e+2*a)/n+1,o);return[l,c,h,r]}function A9(t,e,r,n){n===void 0&&(n=1);var a=Ey(e,n);return Math.floor((t[0]*(r-1)-r+a)/2)}function iT(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function t9(t){return typeof t=="number"?[t,t,t]:t}function Ey(t,e){return e<=1?t:t+(t-1)*(e-1)}function ovt(t,e,r,n,a,o,s,u,f){var l,c,h;if(typeof t=="number"){var m=t===0?"VALID":"NUMBER";l={top:t,bottom:t,left:t,right:t,type:m};var g=ivt([e,r],o,n,t,u);c=g[0],h=g[1]}else if(t==="same"){c=Math.ceil(e/n),h=Math.ceil(r/a);var b=Math.max(0,(c-1)*n+o-e),A=Math.max(0,(h-1)*a+s-r),I=Math.floor(b/2),C=b-I,R=Math.floor(A/2),O=A-R;l={top:I,bottom:C,left:R,right:O,type:"SAME"}}else if(t==="valid")l={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-o+1)/n),h=Math.ceil((r-s+1)/a);else if(typeof t=="object"){var I=f==="channelsLast"?t[1][0]:t[2][0],C=f==="channelsLast"?t[1][1]:t[2][1],R=f==="channelsLast"?t[2][0]:t[3][0],O=f==="channelsLast"?t[2][1]:t[3][1],m=I===0&&C===0&&R===0&&O===0?"VALID":"EXPLICIT";l={top:I,bottom:C,left:R,right:O,type:m},c=M0((e-o+I+C)/n+1,u),h=M0((r-s+R+O)/a+1,u)}else throw Error("Unknown padding parameter: "+t);return{padInfo:l,outHeight:c,outWidth:h}}function svt(t,e,r,n,a,o,s,u,f,l,c){var h,m,g,b;if(typeof t=="number"){var A=t===0?"VALID":"NUMBER";h={top:t,bottom:t,left:t,right:t,front:t,back:t,type:A};var I=avt([e,r,n,1],u,1,a,t,c);m=I[0],g=I[1],b=I[2]}else if(t==="same"){m=Math.ceil(e/a),g=Math.ceil(r/o),b=Math.ceil(n/s);var C=(m-1)*a+u-e,R=(g-1)*o+f-r,O=(b-1)*s+l-n,F=Math.floor(C/2),z=C-F,B=Math.floor(R/2),$=R-B,j=Math.floor(O/2),W=O-j;h={top:B,bottom:$,left:j,right:W,front:F,back:z,type:"SAME"}}else if(t==="valid")h={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},m=Math.ceil((e-u+1)/a),g=Math.ceil((r-f+1)/o),b=Math.ceil((n-l+1)/s);else throw Error("Unknown padding parameter: "+t);return{padInfo:h,outDepth:m,outHeight:g,outWidth:b}}function M0(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+e)}}function q2(t){var e=ur(iT(t),3),r=e[0],n=e[1],a=e[2];return r===1&&n===1&&a===1}function Th(t,e){return q2(t)||q2(e)}function wde(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+t)}function df(t,e,r){if(r!=null){if(typeof e=="string")throw Error("Error in "+t+": pad must be an integer when using "+("dimRoundingMode "+r+" but got pad "+e+"."));if(typeof e=="number")Le(Ny(e),function(){return"Error in "+t+": pad must be an integer when using "+("dimRoundingMode "+r+" but got pad "+e+".")});else if(typeof e=="object")e.forEach(function(n){n.forEach(function(a){Le(Ny(a),function(){return"Error in "+t+": pad must be an integer when using "+("dimRoundingMode "+r+" but got pad "+a+".")})})});else throw Error("Error in "+t+": Unknown padding parameter: "+e)}}function uvt(t,e){var r=Oe(t,"x","reshape","string_or_numeric"),n={x:r},a={shape:e};return He.runKernel(Rhe,n,a)}var Ot=We({reshape_:uvt});function fvt(t,e,r,n,a){var o=Oe(t,"x","avgPool","float32"),s=1;Le(Th(r,s),function(){return"Error in avgPool: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+s+"'")});var u=o,f=!1;o.rank===3&&(f=!0,u=Ot(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Le(u.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+u.rank+"."}),df("avgPool",n,a);var l={x:u},c={filterSize:e,strides:r,pad:n,dimRoundingMode:a},h=He.runKernel(Qle,l,c);return h=ca(h,o.dtype),f?Ot(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var xde=We({avgPool_:fvt});function lvt(t,e,r,n,a,o){o===void 0&&(o="NDHWC");var s=Oe(t,"x","avgPool3d","float32"),u=s,f=!1;s.rank===4&&(f=!0,u=Ot(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Le(u.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."}),Le(o==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+("but got dataFormat of "+o)}),df("avgPool3d",n,a);var l={x:u},c={filterSize:e,strides:r,pad:n,dimRoundingMode:a,dataFormat:o},h=He.runKernel(ece,l,c);return h=ca(h,u.dtype),f?Ot(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}var cvt=We({avgPool3d_:lvt});function hvt(t,e){e===void 0&&(e=0),Le(t.length>=1,function(){return"Pass at least one tensor to concat"});var r=L2(t,"tensors","concat","string_or_numeric");if(r[0].dtype==="complex64"&&r.forEach(function(o){if(o.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+o.dtype+". ")}),r.length===1)return E0(r[0]);var n=r,a={axis:e};return He.runKernel(fce,n,a)}var qs=We({concat_:hvt});function pvt(t){var e=Oe(t,"x","sigmoid","float32"),r={x:e};return He.runKernel(Zhe,r)}var My=We({sigmoid_:pvt});function dvt(t,e,r){var n=Oe(t,"x","slice","string_or_numeric");if(n.rank===0)throw new Error("Slicing scalar is not possible");var a={x:n},o={begin:e,size:r};return He.runKernel(Whe,a,o)}var Wi=We({slice_:dvt});function mvt(t){var e=Oe(t,"x","tanh","float32"),r={x:e};return He.runKernel(dpe,r)}var r9=We({tanh_:mvt});function vvt(t,e,r,n,a,o){var s=Oe(t,"forgetBias","basicLSTMCell"),u=Oe(e,"lstmKernel","basicLSTMCell"),f=Oe(r,"lstmBias","basicLSTMCell"),l=Oe(n,"data","basicLSTMCell"),c=Oe(a,"c","basicLSTMCell"),h=Oe(o,"h","basicLSTMCell"),m=qs([l,h],1),g=ni(m,u),b=Cr(g,f),A=b.shape[0],I=b.shape[1]/4,C=[A,I],R=Wi(b,[0,0],C),O=Wi(b,[0,I],C),F=Wi(b,[0,I*2],C),z=Wi(b,[0,I*3],C),B=Cr(Qt(My(R),r9(O)),Qt(c,My(Cr(s,F)))),$=Qt(r9(B),My(z));return[B,$]}var gvt=We({basicLSTMCell_:vvt});function yvt(t,e,r){var n=Oe(t,"x","batchToSpaceND"),a=e.reduce(function(u,f){return u*f});Le(n.rank>=1+e.length,function(){return"input rank is "+n.rank+" but should be > than blockShape.length "+e.length}),Le(r.length===e.length,function(){return"crops.length is "+r.length+" but should be equal to blockShape.length  "+e.length}),Le(n.shape[0]%a===0,function(){return"input tensor batch is "+n.shape[0]+" but is not divisible by the product of "+("the elements of blockShape "+e.join(" * ")+" === "+a)});var o={x:n},s={blockShape:e,crops:r};return He.runKernel(rce,o,s)}var _de=We({batchToSpaceND_:yvt});function bvt(t){var e;return t.rank===0||t.rank===1?e=Ot(t,[1,1,1,t.size]):t.rank===2?e=Ot(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=Ot(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}function wvt(t,e,r,n,a,o){o==null&&(o=.001);var s=Oe(t,"x","batchNorm"),u=Oe(e,"mean","batchNorm"),f=Oe(r,"variance","batchNorm"),l;a!=null&&(l=Oe(a,"scale","batchNorm"));var c;n!=null&&(c=Oe(n,"offset","batchNorm")),Le(u.rank===f.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),Le(c==null||u.rank===c.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),Le(l==null||u.rank===l.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."});var h=bvt(s),m={x:h,scale:l,offset:c,mean:u,variance:f},g={varianceEpsilon:o},b=He.runKernel(zce,m,g);return Ot(b,s.shape)}var pT=We({batchNorm_:wvt});function xvt(t,e,r,n,a,o){var s=Oe(t,"x","batchNorm"),u=Oe(e,"mean","batchNorm"),f=Oe(r,"variance","batchNorm"),l;a!=null&&(l=Oe(a,"scale","batchNorm"));var c;return n!=null&&(c=Oe(n,"offset","batchNorm")),Le(s.rank===2,function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+(s.rank+".")}),Le(u.rank===2||u.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+("got rank "+u.rank+".")}),Le(f.rank===2||f.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+("but got rank "+f.rank+".")}),l!=null&&Le(l.rank===2||l.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+("but got rank "+l.rank+".")}),c!=null&&Le(c.rank===2||c.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+("but got rank "+c.rank+".")}),pT(s,u,f,c,l,o)}var _vt=We({batchNorm2d_:xvt});function Svt(t,e,r,n,a,o){var s=Oe(t,"x","batchNorm"),u=Oe(e,"mean","batchNorm"),f=Oe(r,"variance","batchNorm"),l;a!=null&&(l=Oe(a,"scale","batchNorm"));var c;return n!=null&&(c=Oe(n,"offset","batchNorm")),Le(s.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+(s.rank+".")}),Le(u.rank===3||u.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+("got rank "+u.rank+".")}),Le(f.rank===3||f.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+("but got rank "+f.rank+".")}),l!=null&&Le(l.rank===3||l.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+("but got rank "+l.rank+".")}),c!=null&&Le(c.rank===3||c.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+("but got rank "+c.rank+".")}),pT(s,u,f,c,l,o)}var Evt=We({batchNorm3d_:Svt});function Mvt(t,e,r,n,a,o){var s=Oe(t,"x","batchNorm"),u=Oe(e,"mean","batchNorm"),f=Oe(r,"variance","batchNorm"),l;a!=null&&(l=Oe(a,"scale","batchNorm"));var c;return n!=null&&(c=Oe(n,"offset","batchNorm")),Le(s.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+(s.rank+".")}),Le(u.rank===4||u.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+("got rank "+u.rank+".")}),Le(f.rank===4||f.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+("but got rank "+f.rank+".")}),l!=null&&Le(l.rank===4||l.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+("but got rank "+l.rank+".")}),c!=null&&Le(c.rank===4||c.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+("but got rank "+c.rank+".")}),pT(s,u,f,c,l,o)}var Avt=We({batchNorm4d_:Mvt});function Nvt(t,e,r){var n=Oe(t,"x","bincount"),a=Oe(e,"weights","bincount");Le(n.dtype==="int32",function(){return"Error in bincount: input "+("dtype must be int32, but got "+n.dtype)}),Le(r>=0,function(){return"size must be non-negative, but got "+r+"."}),Le(a.size===n.size||a.size===0,function(){return"Error in bincount: weights must have the same size as input or"+("0-length, but got input shape: "+n.shape+", weights shape: ")+(a.shape+".")});var o={x:n,weights:a},s={size:r};return He.runKernel(nce,o,s)}var Sde=We({bincount_:Nvt});function Tvt(t,e){var r=Oe(t,"s0","broadcastArgs","int32"),n=Oe(e,"s1","broadcastArgs","int32");if(r.rank!==1)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+("Has rank "+r.rank));if(n.rank!==1)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+("Has rank "+n.rank));var a={s0:r,s1:n};return He.runKernel(ice,a)}var Dvt=We({broadcastArgs_:Tvt});function kvt(t,e){var r=Oe(t,"broadcastTo","x"),n=r.shape;if(e.some(function(h){return!(h>0)||h%1!==0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+e+"].");if(e.length<r.rank)throw new Error("broadcastTo(): shape.length="+e.length+" < input.rank="+r.rank+".");if(e.length>r.rank){for(var a=r.shape.slice();a.length<e.length;)a.unshift(1);r=Ot(r,a)}for(var o=r.shape,s=Array.from(e),u=e.length-1;u>=0;u--)if(o[u]===e[u])s[u]=1;else if(r.shape[u]!==1)throw new Error("broadcastTo(): ["+n+"] cannot be broadcast to ["+e+"].");var f=s.map(function(h,m){return h>1?m:-1}).filter(function(h){return h>=0});if(f.length===0)return E0(r);var l={x:r},c={reps:s};return He.runKernel(c9,l,c)}var HN=We({broadcastTo_:kvt});function Ivt(t){var e=Oe(t,"x","ceil","float32"),r={x:e};return He.runKernel(ace,r)}var Cvt=We({ceil_:Ivt});function Ovt(t,e,r){var n=Oe(t,"x","clipByValue");Le(e<=r,function(){return"Error in clip: min ("+e+") must be "+("less than or equal to max ("+r+").")});var a={x:n},o={clipValueMin:e,clipValueMax:r};return He.runKernel(oce,a,o)}var Rvt=We({clipByValue_:Ovt});function Fvt(t){return qs(t,0)}var Bvt=We({concat1d_:Fvt});function Lvt(t,e){return qs(t,e)}var Pvt=We({concat2d_:Lvt});function qvt(t,e){return qs(t,e)}var zvt=We({concat3d_:qvt});function Uvt(t,e){return qs(t,e)}var jvt=We({concat4d_:Uvt});function $vt(t,e,r,n,a,o,s){a===void 0&&(a="NHWC"),o===void 0&&(o=[1,1]);var u=Oe(t,"x","conv2d","float32"),f=Oe(e,"filter","conv2d","float32"),l=u,c=!1;u.rank===3&&(c=!0,l=Ot(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Le(l.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+l.rank+"."}),Le(f.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+(f.rank+".")}),df("conv2d",n,s);var h=a==="NHWC"?l.shape[3]:l.shape[1];Le(h===f.shape[2],function(){return"Error in conv2d: depth of input ("+h+") must match "+("input depth for filter "+f.shape[2]+".")}),Le(Th(r,o),function(){return"Error in conv2D: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+o+"'")});var m={x:l,filter:f},g={strides:r,pad:n,dataFormat:a,dilations:o,dimRoundingMode:s},b=He.runKernel(lce,m,g);return c?Ot(b,[b.shape[1],b.shape[2],b.shape[3]]):b}var dT=We({conv2d_:$vt});function Vvt(t,e,r,n,a,o,s){a===void 0&&(a="NWC"),o===void 0&&(o=1);var u=Oe(t,"x","conv1d"),f=Oe(e,"filter","conv1d"),l=u,c=!1;u.rank===2&&(c=!0,l=Ot(u,[1,u.shape[0],u.shape[1]])),Le(l.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+l.rank+"."}),Le(f.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+(f.rank+".")}),df("conv1d",n,s),Le(l.shape[2]===f.shape[1],function(){return"Error in conv1d: depth of input ("+l.shape[2]+") must match "+("input depth for filter "+f.shape[1]+".")}),Le(Th(r,o),function(){return"Error in conv1D: Either stride or dilation must be 1. "+("Got stride "+r+" and dilation '"+o+"'")}),Le(a==="NWC",function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."});var h=Ot(f,[1,f.shape[0],f.shape[1],f.shape[2]]),m=Ot(l,[l.shape[0],1,l.shape[1],l.shape[2]]),g=[1,r],b=[1,o],A="NHWC",I=dT(m,h,g,n,A,b,s);return c?Ot(I,[I.shape[2],I.shape[3]]):Ot(I,[I.shape[0],I.shape[2],I.shape[3]])}var Wvt=We({conv1d_:Vvt});function Gvt(t,e,r,n,a,o,s){o===void 0&&(o="NHWC"),Le(t.length===e.rank,function(){return"Length of inShape "+("("+t.length+") and rank of dy ("+e.rank+") must match")});var u=t,f=e,l=!1;e.rank===3&&(l=!0,f=Ot(e,[1,e.shape[0],e.shape[1],e.shape[2]]),u=[1,t[0],t[1],t[2]]),Le(u.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+(u.length+".")}),Le(f.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+("rank "+f.rank)}),Le(r.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+("rank "+r.rank)});var c=o==="NHWC"?u[3]:u[1],h=o==="NHWC"?f.shape[3]:f.shape[1];Le(c===r.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+c+") must "+("match input depth for filter "+r.shape[2]+".")}),Le(h===r.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+h+") must "+("match output depth for filter "+r.shape[3]+".")}),df("conv2dDerInput",a,s);var m={dy:f,filter:r},g={strides:n,pad:a,dataFormat:o,dimRoundingMode:s,inputShape:u},b=He.runKernel(hce,m,g);return l?Ot(b,[b.shape[1],b.shape[2],b.shape[3]]):b}var Ede=We({conv2DBackpropInput_:Gvt});function Hvt(t,e,r,n,a,o){var s=Oe(t,"x","conv2dTranspose"),u=Oe(e,"filter","conv2dTranspose");return Ede(r,s,u,n,a,"NHWC",o)}var Kvt=We({conv2dTranspose_:Hvt});function Zvt(t,e,r,n,a,o){a===void 0&&(a="NDHWC"),o===void 0&&(o=[1,1,1]);var s=Oe(t,"x","conv3d"),u=Oe(e,"filter","conv3d"),f=s,l=!1;s.rank===4&&(l=!0,f=Ot(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Le(f.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+f.rank+"."}),Le(u.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+(u.rank+".")}),Le(f.shape[4]===u.shape[3],function(){return"Error in conv3d: depth of input ("+f.shape[4]+") must match "+("input depth for filter "+u.shape[3]+".")}),Le(Th(r,o),function(){return"Error in conv3D: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+o+"'")}),Le(a==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."});var c={x:f,filter:u},h={strides:r,pad:n,dataFormat:a,dilations:o},m=He.runKernel(pce,c,h);return l?Ot(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}var Jvt=We({conv3d_:Zvt});function Yvt(t,e,r,n,a){Le(t.length===e.rank,function(){return"Length of inShape "+("("+t.length+") and rank of dy ("+e.rank+") must match")});var o=t,s=e,u=!1;e.rank===4&&(u=!0,s=Ot(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),o=[1,t[0],t[1],t[2],t[3]]);var f=o[4],l=s.shape[4];Le(o.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+(o.length+".")}),Le(s.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+("rank "+s.rank)}),Le(r.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+("rank "+r.rank)}),Le(f===r.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+f+") must "+("match input depth for filter "+r.shape[3]+".")}),Le(l===r.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+l+") must "+("match output depth for filter "+r.shape[4]+".")});var c={dy:s,filter:r},h={pad:a,strides:n,inputShape:o},m=He.runKernel(dce,c,h);return u?Ot(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}var Xvt=We({conv3DBackpropInput_:Yvt});function Qvt(t,e,r,n,a){var o=Oe(t,"x","conv3dTranspose"),s=Oe(e,"filter","conv3dTranspose");return Xvt(r,o,s,n,a)}var egt=We({conv3dTranspose_:Qvt});function tgt(t){var e=Oe(t,"x","cos","float32"),r={x:e};return He.runKernel(mce,r)}var rgt=We({cos_:tgt});function ngt(t){var e=Oe(t,"x","cosh","float32"),r={x:e};return He.runKernel(vce,r)}var igt=We({cosh_:ngt});function agt(t,e,r,n){e===void 0&&(e=0),r===void 0&&(r=!1),n===void 0&&(n=!1);var a=Oe(t,"x","cumprod"),o={x:a},s={axis:e,exclusive:r,reverse:n};return He.runKernel(gce,o,s)}var ogt=We({cumprod_:agt});function sgt(t,e,r,n){e===void 0&&(e=0),r===void 0&&(r=!1),n===void 0&&(n=!1);var a=Oe(t,"x","cumsum"),o={x:a},s={axis:e,exclusive:r,reverse:n};return He.runKernel(yce,o,s)}var ugt=We({cumsum_:sgt});function fgt(t,e,r,n){n===void 0&&(n=!1);var a=Oe(t,"x","denseBincount"),o=Oe(e,"weights","denseBincount");Le(a.dtype==="int32",function(){return"Error in denseBincount: input "+("dtype must be int32, but got "+a.dtype)}),Le(a.rank<=2,function(){return"Error in denseBincount: input must be at most rank 2, but got "+("rank "+a.rank+".")}),Le(r>=0,function(){return"size must be non-negative, but got "+r+"."}),Le(o.size===a.size||o.size===0,function(){return"Error in denseBincount: weights must have the same shape as x or "+("0-length, but got x shape: "+a.shape+", weights shape: ")+(o.shape+".")});var s={x:a,weights:o},u={size:r,binaryOutput:n};return He.runKernel(wce,s,u)}var lgt=We({denseBincount_:fgt});function cgt(t,e,r){r===void 0&&(r="NHWC");var n=Oe(t,"x","depthToSpace","float32"),a=r==="NHWC"?n.shape[1]:n.shape[2],o=r==="NHWC"?n.shape[2]:n.shape[3],s=r==="NHWC"?n.shape[3]:n.shape[1];Le(e>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+e}),Le(a*e>=0,function(){return`Negative dimension size caused by overflow when multiplying
    `+a+" and "+e+`  for depthToSpace with input shape
    `+n.shape}),Le(o*e>=0,function(){return`Negative dimension size caused by overflow when multiplying
    `+o+" and "+e+` for depthToSpace with input shape
        `+n.shape}),Le(s%(e*e)===0,function(){return"Dimension size must be evenly divisible by "+e*e+" but is "+s+" for depthToSpace with input shape "+n.shape});var u={x:n},f={blockSize:e,dataFormat:r};return He.runKernel(xce,u,f)}var hgt=We({depthToSpace_:cgt});function pgt(t,e,r,n,a,o,s){a===void 0&&(a="NHWC"),o===void 0&&(o=[1,1]);var u=Oe(t,"x","depthwiseConv2d","float32"),f=Oe(e,"filter","depthwiseConv2d","float32"),l=u,c=!1;u.rank===3&&(c=!0,l=Ot(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Le(l.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+("rank "+l.rank+".")}),Le(f.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+(f.rank+".")});var h=a==="NHWC"?l.shape[3]:l.shape[1];Le(h===f.shape[2],function(){return"Error in depthwiseConv2d: number of input channels "+("("+h+") must match the inChannels dimension in ")+("filter "+f.shape[2]+".")}),df("depthwiseConv2d",n,s);var m={x:l,filter:f},g={strides:r,pad:n,dataFormat:a,dilations:o,dimRoundingMode:s},b=He.runKernel(_ce,m,g);return c?Ot(b,[b.shape[1],b.shape[2],b.shape[3]]):b}var N9=We({depthwiseConv2d_:pgt});function dgt(t){var e=Oe(t,"x","diag"),r={x:e};return He.runKernel(Mce,r)}var mgt=We({diag_:dgt});function vgt(t,e,r,n,a,o){a===void 0&&(a=[1,1]),o===void 0&&(o="NHWC");var s=Oe(t,"x","dilation2d"),u=Oe(e,"filter","dilation2d");Le(s.rank===3||s.rank===4,function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+(s.rank+".")}),Le(u.rank===3,function(){return"Error in dilation2d: filter must be rank 3, but got rank "+(u.rank+".")}),Le(o==="NHWC",function(){return"Error in dilation2d: Only NHWC is currently supported, "+("but got dataFormat of "+o)});var f=s,l=!1;s.rank===3&&(f=Ot(s,[1,s.shape[0],s.shape[1],s.shape[2]]),l=!0);var c={x:f,filter:u},h={strides:r,pad:n,dilations:a},m=He.runKernel(Ace,c,h);return l?Ot(m,[m.shape[1],m.shape[2],m.shape[3]]):m}var ggt=We({dilation2d_:vgt});function ygt(t,e){var r,n=Oe(t,"a","equal","string_or_numeric"),a=Oe(e,"b","equal","string_or_numeric");r=ur(ea(n,a),2),n=r[0],a=r[1],La(n.shape,a.shape);var o={a:n,b:a};return He.runKernel(Ice,o)}var Mde=We({equal_:ygt});function bgt(t,e,r){var n=Oe(e,"a","where"),a=Oe(r,"b","where"),o=Oe(t,"condition","where","bool"),s=La(La(o.shape,n.shape),a.shape),u=HN(o,s),f=HN(n,s),l=HN(a,s),c={condition:u,t:f,e:l};return He.runKernel($he,c)}var ky=We({where_:bgt});function wgt(t){var e=Oe(t,"x","zerosLike"),r={x:e};return He.runKernel(wpe,r)}var hu=We({zerosLike_:wgt});function xgt(t,e){var r,n=Oe(t,"a","div"),a=Oe(e,"b","div");r=ur(ea(n,a),2),n=r[0],a=r[1];var o=Bi(n,a),s=hu(o),u=Mde(a,s);return ky(u,s,o)}var _gt=We({divNoNan_:xgt});function Sgt(t,e){var r=Oe(t,"t1","dot"),n=Oe(e,"t2","dot");Le((r.rank===1||r.rank===2)&&(n.rank===1||n.rank===2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+(r.rank+" and "+n.rank+".")});var a=r.rank===1?r.size:r.shape[1],o=n.rank===1?n.size:n.shape[0];if(Le(a===o,function(){return"Error in dot: inner dimensions of inputs must match, but got "+(a+" and "+o+".")}),r.rank===1&&n.rank===1){var s=Ot(r,[1,-1]),u=Ot(n,[-1,1]),f=ni(s,u);return Ot(f,[])}else if(r.rank===1&&n.rank===2){var s=Ot(r,[1,-1]),u=Ot(n,[n.shape[0],n.shape[1]]),f=ni(s,u);return Ot(f,[f.size])}else if(r.rank===2&&n.rank===1){var u=Ot(n,[-1,1]),f=ni(r,u);return Ot(f,[f.size])}else{var u=Ot(n,[n.shape[0],n.shape[1]]),f=ni(r,u);return f}}var Egt=We({dot_:Sgt});function Mgt(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=e.map(function(o,s){return Oe(o,"tensors"+s,"einsum")}),a={equation:t};return He.runKernel(Tce,n,a)}var Agt=We({einsum_:Mgt});function Ngt(t){var e=Oe(t,"x","elu","float32"),r={x:e};return He.runKernel(Dce,r)}var Ade=We({elu_:Ngt});function Tgt(t){var e=Oe(t,"x","erf");Le(e.dtype==="int32"||e.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),e.dtype==="int32"&&(e=ca(e,"float32"));var r={x:e};return He.runKernel(kce,r)}var Dgt=We({erf_:Tgt});function T9(t,e){for(var r=0;r<t.length;++r)if(t[t.length-r-1]!==e-1-r)return!1;return!0}function Nde(t,e,r){for(var n=t.length+e.length,a=[],o=0,s=0,u=0;u<n;u++)r.indexOf(u)===-1?a.push(t[o++]):a.push(e[s++]);return a}function kgt(t,e){for(var r=[],n=t.length,a=0;a<n;a++)e.indexOf(a)===-1&&r.push(t[a]);var o=e.map(function(s){return t[s]});return[r,o]}function J2(t,e){var r=e.map(function(n){return 1});return Nde(t,r,e)}function Igt(t,e,r){Le(T9(e,r),function(){return t+" supports only inner-most axes for now. "+("Got axes "+e+" and rank-"+r+" input.")})}function Cgt(t,e){if(T9(t,e))return null;for(var r=[],n=0;n<e;++n)t.indexOf(n)===-1&&r.push(n);return t.forEach(function(a){return r.push(a)}),r}function Ogt(t){return t.map(function(e,r){return[r,e]}).sort(function(e,r){return e[1]-r[1]}).map(function(e){return e[0]})}function Rgt(t,e){for(var r=[],n=e-t;n<e;++n)r.push(n);return r}function Fgt(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Oe(t,"x","max"),a={x:n},o={reductionIndices:e,keepDims:r};return He.runKernel(ohe,a,o)}var Ay=We({max_:Fgt});function Bgt(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Oe(t,"x","min"),a={x:n},o={axis:e,keepDims:r};return He.runKernel(hhe,a,o)}var n9=We({min_:Bgt});function Lgt(t,e){var r,n=Oe(t,"base","pow"),a=Oe(e,"exp","pow");r=ur(ea(n,a),2),n=r[0],a=r[1];var o={a:n,b:a};return He.runKernel(Nhe,o)}var z2=We({pow_:Lgt});function ii(t,e){if((Fo(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Fo(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");var r=[],n=[];return hd(t,r,n,e)}function Pgt(t){var e=Oe(t,"x","sqrt","float32"),r={x:e};return He.runKernel(Yhe,r)}var Ah=We({sqrt_:Pgt});function qgt(t){var e=Oe(t,"x","square"),r={};return He.runKernel("Square",{x:e},r)}var bl=We({square_:qgt});function zgt(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Oe(t,"x","sum");n.dtype==="bool"&&(n=ca(n,"int32"));var a={x:n},o={axis:e,keepDims:r};return He.runKernel(Xhe,a,o)}var Fi=We({sum_:zgt});function Ugt(t,e,r,n){e===void 0&&(e="euclidean"),r===void 0&&(r=null),n===void 0&&(n=!1),t=Oe(t,"x","norm");var a=Tde(t,e,r),o=a.shape;if(n){var s=W2(r,t.shape);o=J2(a.shape,s)}return Ot(a,o)}function Tde(t,e,r){if(r===void 0&&(r=null),t.rank===0)return cu(t);if(t.rank!==1&&r===null)return Tde(Ot(t,[-1]),e,r);if(t.rank===1||typeof r=="number"||Array.isArray(r)&&r.length===1){if(e===1)return Fi(cu(t),r);if(e===1/0)return Ay(cu(t),r);if(e===-1/0)return n9(cu(t),r);if(e==="euclidean"||e===2)return Ah(Fi(z2(cu(t),ii(2,"int32")),r));throw new Error("Error in norm: invalid ord value: "+e)}if(Array.isArray(r)&&r.length===2){if(e===1)return Ay(Fi(cu(t),r[0]),r[1]-1);if(e===1/0)return Ay(Fi(cu(t),r[1]),r[0]);if(e===-1/0)return n9(Fi(cu(t),r[1]),r[0]);if(e==="fro"||e==="euclidean")return Ah(Fi(bl(t),r));throw new Error("Error in norm: invalid ord value: "+e)}throw new Error("Error in norm: invalid axis: "+r)}var mT=We({norm_:Ugt});function jgt(t,e,r){return e===void 0&&(e=null),r===void 0&&(r=!1),mT(t,"euclidean",e,r)}var $gt=We({euclideanNorm_:jgt});function Vgt(t){var e=Oe(t,"x","exp"),r={x:e};return He.runKernel(Cce,r)}var D0=We({exp_:Vgt});function Wgt(t,e){e===void 0&&(e=0);var r=Oe(t,"x","expandDims","string_or_numeric");Le(e<=r.rank,function(){return"Axis must be <= rank of the tensor"});var n={input:r},a={dim:e};return He.runKernel(Oce,n,a)}var b0=We({expandDims_:Wgt});function Ggt(t){var e=Oe(t,"x","expm1"),r={x:e};return He.runKernel(Rce,r)}var Hgt=We({expm1_:Ggt});function Kgt(t,e){var r=Oe(t,"x","tile","string_or_numeric");Le(r.rank===e.length,function(){return"Error in transpose: rank of input "+r.rank+" "+("must match length of reps "+e+".")});var n={x:r},a={reps:e};return He.runKernel(c9,n,a)}var I2=We({tile_:Kgt});function Zgt(t,e,r,n){n===void 0&&(n="float32"),e==null&&(e=t);for(var a=Mh([t,e],n),o=t<=e?t:e,s=0;s<o;++s)a.set(1,s,s);var u=Ot(a.toTensor(),[t,e]);if(r==null)return u;if(r.length===1)return I2(b0(u,0),[r[0],1,1]);if(r.length===2)return I2(b0(b0(u,0),0),[r[0],r[1],1,1]);if(r.length===3)return I2(b0(b0(b0(u,0),0),0),[r[0],r[1],r[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+("batchShapes, but received "+r.length+"D."))}var Dde=We({eye_:Zgt});function vT(t,e,r){var n={shape:t,value:e,dtype:r};return He.runKernel(Bce,{},n)}function Jgt(t){var e=Oe(t,"x","floor","float32"),r={x:e};return He.runKernel(Pce,r)}var kde=We({floor_:Jgt});function Ygt(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var a=Oe(t,"x","gather"),o=Oe(e,"indices","gather","int32"),s={x:a,indices:o},u={axis:r,batchDims:n};return He.runKernel(Uce,s,u)}var Ide=We({gather_:Ygt});function Xgt(t,e){var r,n=Oe(t,"a","greater","string_or_numeric"),a=Oe(e,"b","greater","string_or_numeric");r=ur(ea(n,a),2),n=r[0],a=r[1],La(n.shape,a.shape);var o={a:n,b:a};return He.runKernel($ce,o)}var gT=We({greater_:Xgt});function Qgt(t,e){var r,n=Oe(t,"a","greaterEqual","string_or_numeric"),a=Oe(e,"b","greaterEqual","string_or_numeric");r=ur(ea(n,a),2),n=r[0],a=r[1],La(n.shape,a.shape);var o={a:n,b:a};return He.runKernel(Vce,o)}var Cde=We({greaterEqual_:Qgt});function eyt(t){var e=Oe(t,"x","isFinite"),r={x:e};return He.runKernel(Hce,r)}var tyt=We({isFinite_:eyt});function ryt(t){var e=Oe(t,"x","isInf"),r={x:e};return He.runKernel(Kce,r)}var nyt=We({isInf_:ryt});function iyt(t){var e=Oe(t,"x","isNaN"),r={x:e};return He.runKernel(Zce,r)}var ayt=We({isNaN_:iyt});function oyt(t,e){e===void 0&&(e=.2);var r=Oe(t,"x","leakyRelu"),n={x:r},a={alpha:e};return He.runKernel(Jce,n,a)}var Ode=We({leakyRelu_:oyt});function syt(t,e){var r,n=Oe(t,"a","less","string_or_numeric"),a=Oe(e,"b","less","string_or_numeric");r=ur(ea(n,a),2),n=r[0],a=r[1],La(n.shape,a.shape);var o={a:n,b:a};return He.runKernel(Yce,o)}var uyt=We({less_:syt});function fyt(t,e){var r,n=Oe(t,"a","lessEqual","string_or_numeric"),a=Oe(e,"b","lessEqual","string_or_numeric");r=ur(ea(n,a),2),n=r[0],a=r[1],La(n.shape,a.shape);var o={a:n,b:a};return He.runKernel(Xce,o)}var D9=We({lessEqual_:fyt});function lyt(t,e,r){if(r<=0)throw new Error("The number of values should be positive.");var n={start:t,stop:e,num:r};return He.runKernel(Qce,{},n)}function cyt(t,e,r,n,a){e===void 0&&(e=5),r===void 0&&(r=1),n===void 0&&(n=1),a===void 0&&(a=.5);var o=Oe(t,"x","localResponseNormalization");Le(o.rank===4||o.rank===3,function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+o.rank+"."}),Le(Ny(e),function(){return"Error in localResponseNormalization: depthRadius must be an "+("integer but got depthRadius "+e+".")});var s=o,u=!1;o.rank===3&&(u=!0,s=Ot(o,[1,o.shape[0],o.shape[1],o.shape[2]]));var f={x:s},l={depthRadius:e,bias:r,alpha:n,beta:a},c=He.runKernel(ahe,f,l);return u?Ot(c,[c.shape[1],c.shape[2],c.shape[3]]):c}var hyt=We({localResponseNormalization_:cyt});function pyt(t){var e=Oe(t,"x","log","float32"),r={x:e};return He.runKernel(ehe,r)}var U2=We({log_:pyt});function dyt(t){var e=Oe(t,"x","log1p"),r={x:e};return He.runKernel(the,r)}var Rde=We({log1p_:dyt});function myt(t){return Le(ud(t),function(){return"The f passed in grad(f) must be a function"}),function(e,r){var n=Oe(e,"x","tf.grad","string_or_numeric"),a=r!=null?Oe(r,"dy","tf.grad"):null;return He.tidy(function(){var o=He.gradients(function(){return t(n)},[n],a),s=o.value,u=o.grads;return a!=null&&Qo(s.shape,a.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),yT(u),u[0]})}}function vyt(t){return Le(ud(t),function(){return"The f passed in grads(f) must be a function"}),function(e,r){Le(Array.isArray(e),function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"});var n=L2(e,"args","tf.grads","string_or_numeric"),a=r!=null?Oe(r,"dy","tf.grads"):null;return He.tidy(function(){var o=He.gradients(function(){return t.apply(void 0,Jn(n))},n,a),s=o.value,u=o.grads;return a!=null&&Qo(s.shape,a.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),yT(u),u})}}function gyt(t){return Le(ud(t),function(){return"The f passed in valueAndGrad(f) must be a function"}),function(e,r){Le(e instanceof Fa,function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"}),Le(r==null||r instanceof Fa,function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"});var n=He.gradients(function(){return t(e)},[e],r),a=n.grads,o=n.value;return yT(a),{grad:a[0],value:o}}}function yyt(t){return Le(ud(t),function(){return"The f passed in valueAndGrads(f) must be a function"}),function(e,r){Le(Array.isArray(e)&&e.every(function(a){return a instanceof Fa}),function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"}),Le(r==null||r instanceof Fa,function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"});var n=He.gradients(function(){return t.apply(void 0,Jn(e))},e,r);return r!=null&&Qo(n.value.shape,r.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),yT(n.grads),n}}function Fde(t,e){Le(ud(t),function(){return"The f passed in variableGrads(f) must be a function"}),Le(e==null||Array.isArray(e)&&e.every(function(h){return h instanceof B2}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var r=e!=null;if(!r){e=[];for(var n in He.registeredVariables)e.push(He.registeredVariables[n])}var a=r?e.filter(function(h){return!h.trainable}):null,o=e.length;e=e.filter(function(h){return h.trainable}),Le(e.length>0,function(){return"variableGrads() expects at least one of the input variables to "+("be trainable, but none of the "+o+" variables is ")+"trainable."});var s=!0,u=He.gradients(t,e,null,s),f=u.value,l=u.grads;Le(l.some(function(h){return h!=null}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),Le(f.rank===0,function(){return"The f passed in variableGrads(f) must return a scalar, but it "+("returned a rank-"+f.rank+" tensor")});var c={};return e.forEach(function(h,m){l[m]!=null&&(c[h.name]=l[m])}),a!=null&&a.forEach(function(h){return c[h.name]=null}),{value:f,grads:c}}function Mc(t){return He.customGrad(t)}function yT(t){var e=t.filter(function(r){return r==null}).length;if(e>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}function byt(t){var e=Oe(t,"x","softplus"),r={x:e};return He.runKernel(Jhe,r)}var Bde=We({softplus_:byt});function wyt(t){var e=Oe(t,"x","logSigmoid"),r=Mc(function(n){var a=Eh(Bde(Eh(n))),o=function(s){var u=Qt(s,My(Eh(n)));return u};return{value:a,gradFunc:o}});return r(e)}var xyt=We({logSigmoid_:wyt});function _yt(t,e){var r,n=Oe(t,"a","sub"),a=Oe(e,"b","sub");r=ur(ea(n,a),2),n=r[0],a=r[1];var o={a:n,b:a};return He.runKernel(hpe,o)}var nn=We({sub_:_yt});function Syt(t,e){e===void 0&&(e=-1);var r=Oe(t,"logits","logSoftmax");if(e===-1&&(e=r.rank-1),e!==r.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+("Logits was rank "+r.rank+" and axis was "+e));var n=Mc(function(a,o){var s=!0,u=Ay(a,e,!0),f=nn(a,u),l=nn(ca(f,"float32"),U2(Fi(D0(f),e,s)));o([l]);var c=function(h,m){var g=ur(m,1),b=g[0],A=!0,I=D0(b);return nn(h,Qt(Fi(h,e,A),I))};return{value:l,gradFunc:c}});return n(r)}var Eyt=We({logSoftmax_:Syt});function Myt(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Oe(t,"x","logSumExp"),a=W2(e,n.shape),o=Ay(n,a,!0),s=nn(n,o),u=D0(s),f=Fi(u,a),l=U2(f),c=Cr(Ot(o,l.shape),l);if(r){var h=J2(c.shape,a);return Ot(c,h)}return c}var Lde=We({logSumExp_:Myt});function Ayt(t,e){var r=Oe(t,"a","logicalAnd","bool"),n=Oe(e,"b","logicalAnd","bool");La(r.shape,n.shape);var a={a:r,b:n};return He.runKernel(rhe,a)}var aT=We({logicalAnd_:Ayt});function Nyt(t){var e=Oe(t,"x","logicalNot","bool"),r={x:e};return He.runKernel(nhe,r)}var Pde=We({logicalNot_:Nyt});function Tyt(t,e){var r=Oe(t,"a","logicalOr","bool"),n=Oe(e,"b","logicalOr","bool");La(r.shape,n.shape);var a={a:r,b:n};return He.runKernel(ihe,a)}var qde=We({logicalOr_:Tyt});function Dyt(t,e){var r=Oe(t,"a","logicalXor","bool"),n=Oe(e,"b","logicalXor","bool");return La(r.shape,n.shape),aT(qde(t,e),Pde(aT(t,e)))}var kyt=We({logicalXor_:Dyt});var $N=2147483648;function Iyt(t,e,r){r===void 0&&(r="left");var n=Oe(t,"sortedSequence","searchSorted"),a=Oe(e,"values","searchSorted"),o=n.shape[n.shape.length-1],s=a.shape[a.shape.length-1],u=Ot(n,[-1,o]),f=Ot(a,[-1,s]);if(u.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(u.shape[0]!==f.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Li(f.shape)>=$N)throw new Error("values tensor size must less than "+$N);if(u.shape[1]>=$N)throw new Error("trailing dim_size must less than "+$N+" for int32 output type, was "+u.shape[1]);var l={sortedSequence:u,values:f},c={side:r};return He.runKernel(jhe,l,c)}var k9=We({searchSorted_:Iyt});function Cyt(t,e){return k9(t,e,"left")}function Oyt(t,e,r,n,a){var o=Oe(t,"x","maxPool"),s=1,u=o,f=!1;o.rank===3&&(f=!0,u=Ot(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Le(u.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+u.rank+"."}),Le(Th(r,s),function(){return"Error in maxPool: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+s+"'")}),df("maxPool",n,a);var l={x:u},c={filterSize:e,strides:r,pad:n,dimRoundingMode:a},h=He.runKernel(uhe,l,c);return f?Ot(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var zde=We({maxPool_:Oyt});function Ryt(t,e,r,n,a,o){e===void 0&&(e=[1,1,1]),o===void 0&&(o="NDHWC");var s=Oe(t,"x","maxPool3d"),u=s,f=!1;s.rank===4&&(f=!0,u=Ot(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Le(u.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."}),Le(o==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+("but got dataFormat of "+o)}),df("maxPool3d",n,a);var l={x:u},c={filterSize:e,strides:r,pad:n,dimRoundingMode:a,dataFormat:o},h=He.runKernel(fhe,l,c);return f?Ot(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}var Fyt=We({maxPool3d_:Ryt});function Byt(t,e,r,n,a){a===void 0&&(a=!1);var o=Oe(t,"x","maxPoolWithArgmax"),s={x:o},u={filterSize:e,strides:r,pad:n,includeBatchInIndex:a},f=He.runKernel(lhe,s,u);return{result:f[0],indexes:f[1]}}var Lyt=We({maxPoolWithArgmax_:Byt});function Pyt(t,e){var r,n=Oe(t,"a","maximum"),a=Oe(e,"b","maximum");r=ur(ea(n,a),2),n=r[0],a=r[1],n.dtype==="bool"&&(n=ca(n,"int32"),a=ca(a,"int32")),La(n.shape,a.shape);var o={a:n,b:a};return He.runKernel(she,o)}var Ude=We({maximum_:Pyt});function qyt(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Oe(t,"x","mean"),a={x:n},o={axis:e,keepDims:r};return He.runKernel(che,a,o)}var oT=We({mean_:qyt});function Iy(t,e){if(e===void 0&&(e="float32"),e==="complex64"){var r=Iy(t,"float32"),n=Iy(t,"float32");return fd(r,n)}var a=fT(Li(t),e);return He.makeTensor(a,t,e)}function S0(t,e){if(e===void 0&&(e="float32"),e==="complex64"){var r=S0(t,"float32"),n=Iy(t,"float32");return fd(r,n)}var a=i9(Li(t),e);return He.makeTensor(a,t,e)}function zyt(t,e,r){var n=(r===void 0?{}:r).indexing,a=n===void 0?"xy":n;if(a!=="xy"&&a!=="ij")throw new TypeError(a+" is not a valid third argument to meshgrid");if(t===void 0)return[];var o=Oe(t,"x","meshgrid",t instanceof Fa?t.dtype:"float32");if(e===void 0)return[o];var s=Oe(e,"y","meshgrid",e instanceof Fa?e.dtype:"float32"),u=Li(o.shape),f=Li(s.shape);return a==="xy"?(o=Ot(o,[1,-1]),s=Ot(s,[-1,1]),[ni(S0([f,1],o.dtype),o),ni(s,S0([1,u],s.dtype))]):(o=Ot(o,[-1,1]),s=Ot(s,[1,-1]),[ni(o,S0([1,f],o.dtype)),ni(S0([u,1],s.dtype),s)])}function Uyt(t,e){var r,n=Oe(t,"a","minimum"),a=Oe(e,"b","minimum");r=ur(ea(n,a),2),n=r[0],a=r[1],n.dtype==="bool"&&(n=ca(n,"int32"),a=ca(a,"int32")),La(n.shape,a.shape);var o={a:n,b:a};return He.runKernel(phe,o)}var jde=We({minimum_:Uyt});function jyt(t,e,r){Le(r==="reflect"||r==="symmetric",function(){return"Invalid mode. Mode must be either reflect or symmetric. "+("Got "+r+".")});var n=Oe(t,"x","mirrorPad");if(n.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Le(e.length===n.rank,function(){return"Padding doesn't match input. Must be "+n.rank+". "+("Got "+e.length+".")});for(var a=r==="reflect"?1:0,o=function(l){Le(e[l].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Le(e[l][0]>=0&&e[l][0]<=n.shape[l]-a&&e[l][1]>=0&&e[l][1]<=n.shape[l]-a,function(){return"Padding in dimension "+l+" cannot be greater than or equal "+("to "+(n.shape[l]-a)+" or less than 0 for input of ")+("shape "+n.shape)})},s=0;s<n.rank;s++)o(s);var u={paddings:e,mode:r},f={x:n};return He.runKernel(dhe,f,u)}var $yt=We({mirrorPad_:jyt});function Vyt(t,e){var r,n=Oe(t,"a","mod"),a=Oe(e,"b","mod");r=ur(ea(n,a),2),n=r[0],a=r[1];var o={a:n,b:a};return He.runKernel(mhe,o)}var Wyt=We({mod_:Vyt});function Gyt(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1),t=Oe(t,"x","moments");var n=W2(e,t.shape),a=oT(t,n,r),o=a.shape;r||(o=J2(a.shape,n));var s=bl(nn(ca(t,"float32"),Ot(a,o))),u=oT(s,n,r);return{mean:a,variance:u}}var Hyt=We({moments_:Gyt});function Kyt(t,e,r,n){for(var a=Oe(e,"data","multiRNNCell"),o=L2(r,"c","multiRNNCell"),s=L2(n,"h","multiRNNCell"),u=a,f=[],l=0;l<t.length;l++){var c=t[l](u,o[l],s[l]);f.push(c[0]),f.push(c[1]),u=c[1]}for(var h=[],m=[],l=0;l<f.length;l+=2)h.push(f[l]),m.push(f[l+1]);return[h,m]}var Zyt=We({multiRNNCell_:Kyt});function Jyt(t,e,r,n){n===void 0&&(n=!1);var a=Oe(t,"logits","multinomial"),o=a.size,s=a.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+(o+"."));if(s>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+s);r=r||Math.random();var u=s===1?Ot(a,[1,-1]):a,f={logits:u},l={numSamples:e,seed:r,normalized:n},c=He.runKernel(vhe,f,l);return s===1?Ot(c,[c.size]):c}var Yyt=We({multinomial_:Jyt});function Xyt(t,e){var r,n=Oe(t,"a","notEqual","string_or_numeric"),a=Oe(e,"b","notEqual","string_or_numeric");r=ur(ea(n,a),2),n=r[0],a=r[1],La(n.shape,a.shape);var o={a:n,b:a};return He.runKernel(bhe,o)}var $de=We({notEqual_:Xyt});function Qyt(t){var e=Oe(t,"x","onesLike"),r={x:e};return He.runKernel(She,r)}var e1t=We({onesLike_:Qyt});function t1t(t,e){var r=Oe(t,"v1","outerProduct"),n=Oe(e,"v2","outerProduct");Le(r.rank===1&&n.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+(r.rank+" and "+n.rank+".")});var a=Ot(r,[-1,1]),o=Ot(n,[1,-1]);return ni(a,o)}var r1t=We({outerProduct_:t1t});function n1t(t,e,r){r===void 0&&(r=0);var n=Oe(t,"x","pad");if(n.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:e,constantValue:r},o={x:n};return He.runKernel(Ahe,o,a)}var Y2=We({pad_:n1t});function i1t(t,e,r){return r===void 0&&(r=0),Le(e.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),Y2(t,[e],r)}var a1t=We({pad1d_:i1t});function o1t(t,e,r){return r===void 0&&(r=0),Le(e.length===2&&e[0].length===2&&e[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Y2(t,e,r)}var s1t=We({pad2d_:o1t});function u1t(t,e,r){return r===void 0&&(r=0),Le(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Y2(t,e,r)}var f1t=We({pad3d_:u1t});function l1t(t,e,r){return r===void 0&&(r=0),Le(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Y2(t,e,r)}var c1t=We({pad4d_:l1t});function h1t(t,e,r){var n=Oe(t,"x","spaceToBatchND");Le(n.rank>=1+e.length,function(){return"input rank "+n.rank+" should be > than [blockShape] "+e.length}),Le(r.length===e.length,function(){return"paddings.shape[0] "+r.length+" must be equal to [blockShape] "+e.length}),Le(n.shape.reduce(function(s,u,f){return f>0&&f<=e.length?s&&(u+r[f-1][0]+r[f-1][1])%e[f-1]===0:s},!0),function(){return"input spatial dimensions "+n.shape.slice(1)+" with paddings "+r.toString()+" must be divisible by blockShapes "+e.toString()});var a={x:n},o={blockShape:e,paddings:r};return He.runKernel(Qhe,a,o)}var Vde=We({spaceToBatchND_:h1t});function p1t(t,e,r,n,a,o,s){a==null&&(a=[1,1]),o==null&&(o=1),n===0&&(n="valid");var u=Oe(t,"x","maxPool"),f=u,l=!1;u.rank===3&&(l=!0,f=Ot(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Le(Th(o,a),function(){return"Error in pool: Either strides or dilations must be 1. "+("Got strides "+o+" and dilations '"+a+"'")});var c=yde(f.shape,e,o,a,n),h=[c.dilationHeight,c.dilationWidth],m;n==="same"?m=m1t([c.filterHeight,c.filterWidth],h):m=[[0,0],[0,0]];var g=h[0]===1&&h[1]===1,b=ur(d1t([c.inHeight,c.inWidth],h,m),2),A=b[0],I=b[1],C=g?n:"valid",R=g?f:Vde(f,h,A),O=r==="avg"?function(){return xde(R,e,o,C,s)}:function(){return zde(R,e,o,C,s)},F=O(),z=g?F:_de(F,h,I);return l?Ot(z,[z.shape[1],z.shape[2],z.shape[3]]):z}function d1t(t,e,r){var n=r.map(function(c){return c[0]}),a=r.map(function(c){return c[1]}),o=t.concat(n,a),s=e.map(function(c,h){return(c-o[h]%c)%c}),u=a.map(function(c,h){return c+s[h]}),f=e.map(function(c,h){return[n[h],u[h]]}),l=e.map(function(c,h){return[0,s[h]]});return[f,l]}function m1t(t,e){var r=t.map(function(s,u){return s+(s-1)*(e[u]-1)}),n=r.map(function(s){return s-1}),a=n.map(function(s){return Math.floor(s/2)}),o=n.map(function(s,u){return s-a[u]});return n.map(function(s,u){return[a[u],o[u]]})}var v1t=We({pool_:p1t});function g1t(t,e){var r=Oe(t,"x","prelu"),n=Oe(e,"alpha","prelu"),a={x:r,alpha:n};return He.runKernel(The,a)}var Wde=We({prelu_:g1t});function y1t(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Oe(t,"x","prod");n.dtype==="bool"&&(n=ca(n,"int32"));var a={x:n},o={axis:e,keepDims:r};return He.runKernel(Dhe,a,o)}var b1t=We({prod_:y1t});function w1t(t,e,r){var n=Li(t),a=null;if(r==null||r==="float32")a=new Float32Array(n);else if(r==="int32")a=new Int32Array(n);else if(r==="bool")a=new Uint8Array(n);else throw new Error("Unknown data type "+r);for(var o=0;o<n;o++)a[o]=e();return He.makeTensor(a,t,r)}var x1t=We({rand_:w1t}),O0=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};function R0(t){var e={exports:{}};return t(e,e.exports),e.exports}var _1t=R0(function(t){(function(e,r,n){function a(f){var l=this,c=u();l.next=function(){var h=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=h-(l.c=h|0)},l.c=1,l.s0=c(" "),l.s1=c(" "),l.s2=c(" "),l.s0-=c(f),l.s0<0&&(l.s0+=1),l.s1-=c(f),l.s1<0&&(l.s1+=1),l.s2-=c(f),l.s2<0&&(l.s2+=1),c=null}function o(f,l){return l.c=f.c,l.s0=f.s0,l.s1=f.s1,l.s2=f.s2,l}function s(f,l){var c=new a(f),h=l&&l.state,m=c.next;return m.int32=function(){return c.next()*4294967296|0},m.double=function(){return m()+(m()*2097152|0)*11102230246251565e-32},m.quick=m,h&&(typeof h=="object"&&o(h,c),m.state=function(){return o(c,{})}),m}function u(){var f=4022871197,l=function(c){c=String(c);for(var h=0;h<c.length;h++){f+=c.charCodeAt(h);var m=.02519603282416938*f;f=m>>>0,m-=f,m*=f,f=m>>>0,m-=f,f+=m*4294967296}return(f>>>0)*23283064365386963e-26};return l}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.alea=s})(O0,t,!1)}),S1t=R0(function(t){(function(e,r,n){function a(u){var f=this,l="";f.x=0,f.y=0,f.z=0,f.w=0,f.next=function(){var h=f.x^f.x<<11;return f.x=f.y,f.y=f.z,f.z=f.w,f.w^=f.w>>>19^h^h>>>8},u===(u|0)?f.x=u:l+=u;for(var c=0;c<l.length+64;c++)f.x^=l.charCodeAt(c)|0,f.next()}function o(u,f){return f.x=u.x,f.y=u.y,f.z=u.z,f.w=u.w,f}function s(u,f){var l=new a(u),c=f&&f.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var m=l.next()>>>11,g=(l.next()>>>0)/4294967296,b=(m+g)/(1<<21);while(b===0);return b},h.int32=l.next,h.quick=h,c&&(typeof c=="object"&&o(c,l),h.state=function(){return o(l,{})}),h}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xor128=s})(O0,t,!1)}),E1t=R0(function(t){(function(e,r,n){function a(u){var f=this,l="";f.next=function(){var h=f.x^f.x>>>2;return f.x=f.y,f.y=f.z,f.z=f.w,f.w=f.v,(f.d=f.d+362437|0)+(f.v=f.v^f.v<<4^(h^h<<1))|0},f.x=0,f.y=0,f.z=0,f.w=0,f.v=0,u===(u|0)?f.x=u:l+=u;for(var c=0;c<l.length+64;c++)f.x^=l.charCodeAt(c)|0,c==l.length&&(f.d=f.x<<10^f.x>>>4),f.next()}function o(u,f){return f.x=u.x,f.y=u.y,f.z=u.z,f.w=u.w,f.v=u.v,f.d=u.d,f}function s(u,f){var l=new a(u),c=f&&f.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var m=l.next()>>>11,g=(l.next()>>>0)/4294967296,b=(m+g)/(1<<21);while(b===0);return b},h.int32=l.next,h.quick=h,c&&(typeof c=="object"&&o(c,l),h.state=function(){return o(l,{})}),h}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xorwow=s})(O0,t,!1)}),M1t=R0(function(t){(function(e,r,n){function a(u){var f=this;f.next=function(){var c=f.x,h=f.i,m,g;return m=c[h],m^=m>>>7,g=m^m<<24,m=c[h+1&7],g^=m^m>>>10,m=c[h+3&7],g^=m^m>>>3,m=c[h+4&7],g^=m^m<<7,m=c[h+7&7],m=m^m<<13,g^=m^m<<9,c[h]=g,f.i=h+1&7,g};function l(c,h){var m,g=[];if(h===(h|0))g[0]=h;else for(h=""+h,m=0;m<h.length;++m)g[m&7]=g[m&7]<<15^h.charCodeAt(m)+g[m+1&7]<<13;for(;g.length<8;)g.push(0);for(m=0;m<8&&g[m]===0;++m);for(m==8&&(g[7]=-1),c.x=g,c.i=0,m=256;m>0;--m)c.next()}l(f,u)}function o(u,f){return f.x=u.x.slice(),f.i=u.i,f}function s(u,f){u==null&&(u=+new Date);var l=new a(u),c=f&&f.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var m=l.next()>>>11,g=(l.next()>>>0)/4294967296,b=(m+g)/(1<<21);while(b===0);return b},h.int32=l.next,h.quick=h,c&&(c.x&&o(c,l),h.state=function(){return o(l,{})}),h}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xorshift7=s})(O0,t,!1)}),A1t=R0(function(t){(function(e,r,n){function a(u){var f=this;f.next=function(){var c=f.w,h=f.X,m=f.i,g,b;return f.w=c=c+1640531527|0,b=h[m+34&127],g=h[m=m+1&127],b^=b<<13,g^=g<<17,b^=b>>>15,g^=g>>>12,b=h[m]=b^g,f.i=m,b+(c^c>>>16)|0};function l(c,h){var m,g,b,A,I,C=[],R=128;for(h===(h|0)?(g=h,h=null):(h=h+"\0",g=0,R=Math.max(R,h.length)),b=0,A=-32;A<R;++A)h&&(g^=h.charCodeAt((A+32)%h.length)),A===0&&(I=g),g^=g<<10,g^=g>>>15,g^=g<<4,g^=g>>>13,A>=0&&(I=I+1640531527|0,m=C[A&127]^=g+I,b=m==0?b+1:0);for(b>=128&&(C[(h&&h.length||0)&127]=-1),b=127,A=4*128;A>0;--A)g=C[b+34&127],m=C[b=b+1&127],g^=g<<13,m^=m<<17,g^=g>>>15,m^=m>>>12,C[b]=g^m;c.w=I,c.X=C,c.i=b}l(f,u)}function o(u,f){return f.i=u.i,f.w=u.w,f.X=u.X.slice(),f}function s(u,f){u==null&&(u=+new Date);var l=new a(u),c=f&&f.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var m=l.next()>>>11,g=(l.next()>>>0)/4294967296,b=(m+g)/(1<<21);while(b===0);return b},h.int32=l.next,h.quick=h,c&&(c.X&&o(c,l),h.state=function(){return o(l,{})}),h}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xor4096=s})(O0,t,!1)}),N1t=R0(function(t){(function(e,r,n){function a(u){var f=this,l="";f.next=function(){var h=f.b,m=f.c,g=f.d,b=f.a;return h=h<<25^h>>>7^m,m=m-g|0,g=g<<24^g>>>8^b,b=b-h|0,f.b=h=h<<20^h>>>12^m,f.c=m=m-g|0,f.d=g<<16^m>>>16^b,f.a=b-h|0},f.a=0,f.b=0,f.c=-1640531527,f.d=1367130551,u===Math.floor(u)?(f.a=u/4294967296|0,f.b=u|0):l+=u;for(var c=0;c<l.length+20;c++)f.b^=l.charCodeAt(c)|0,f.next()}function o(u,f){return f.a=u.a,f.b=u.b,f.c=u.c,f.d=u.d,f}function s(u,f){var l=new a(u),c=f&&f.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var m=l.next()>>>11,g=(l.next()>>>0)/4294967296,b=(m+g)/(1<<21);while(b===0);return b},h.int32=l.next,h.quick=h,c&&(typeof c=="object"&&o(c,l),h.state=function(){return o(l,{})}),h}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.tychei=s})(O0,t,!1)}),F0=R0(function(t){(function(e,r,n){var a=256,o=6,s=52,u="random",f=n.pow(a,o),l=n.pow(2,s),c=l*2,h=a-1,m;function g(F,z,B){var $=[];z=z==!0?{entropy:!0}:z||{};var j=C(I(z.entropy?[F,O(r)]:F==null?R():F,3),$),W=new b($),T=function(){for(var p=W.g(o),v=f,S=0;p<l;)p=(p+S)*a,v*=a,S=W.g(1);for(;p>=c;)p/=2,v/=2,S>>>=1;return(p+S)/v};return T.int32=function(){return W.g(4)|0},T.quick=function(){return W.g(4)/4294967296},T.double=T,C(O(W.S),r),(z.pass||B||function(p,v,S,y){return y&&(y.S&&A(y,W),p.state=function(){return A(W,{})}),S?(n[u]=p,v):p})(T,j,"global"in z?z.global:this==n,z.state)}function b(F){var z,B=F.length,$=this,j=0,W=$.i=$.j=0,T=$.S=[];for(B||(F=[B++]);j<a;)T[j]=j++;for(j=0;j<a;j++)T[j]=T[W=h&W+F[j%B]+(z=T[j])],T[W]=z;($.g=function(p){for(var v,S=0,y=$.i,M=$.j,D=$.S;p--;)v=D[y=h&y+1],S=S*a+D[h&(D[y]=D[M=h&M+v])+(D[M]=v)];return $.i=y,$.j=M,S})(a)}function A(F,z){return z.i=F.i,z.j=F.j,z.S=F.S.slice(),z}function I(F,z){var B=[],$=typeof F,j;if(z&&$=="object")for(j in F)try{B.push(I(F[j],z-1))}catch(W){}return B.length?B:$=="string"?F:F+"\0"}function C(F,z){for(var B=F+"",$,j=0;j<B.length;)z[h&j]=h&($^=z[h&j]*19)+B.charCodeAt(j++);return O(z)}function R(){try{var F;return m&&(F=m.randomBytes)?F=F(a):(F=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(F)),O(F)}catch($){var z=e.navigator,B=z&&z.plugins;return[+new Date,e,B,e.screen,O(r)]}}function O(F){return String.fromCharCode.apply(0,F)}if(C(n.random(),r),t.exports){t.exports=g;try{m=n2()}catch(F){}}else n["seed"+u]=g})(typeof self!="undefined"?self:O0,[],Math)});F0.alea=_1t;F0.xor128=S1t;F0.xorwow=E1t;F0.xorshift7=M1t;F0.xor4096=A1t;F0.tychei=N1t;var I9=F0;var C9=function(){function t(e,r,n,a,o){this.mean=e,this.stdDev=r,this.dtype=n,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);var s=o||Math.random();this.random=I9.alea(s.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var r,n,a=!1;!a;){var o=void 0,s=void 0,u=void 0;do o=2*this.random()-1,s=2*this.random()-1,u=o*o+s*s;while(u>=1||u===0);var f=Math.sqrt(-2*Math.log(u)/u);r=this.mean+this.stdDev*o*f,n=this.mean+this.stdDev*s*f,(!this.truncated||this.isValidTruncated(r))&&(a=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(r)},t.prototype.convertValue=function(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)},t.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},t}(),T1t=function(){function t(e,r,n,a){this.alpha=e,this.beta=1/r,this.dtype=n;var o=a||Math.random();this.randu=I9.alea(o.toString()),this.randn=new C9(0,1,n,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}return t.prototype.nextValue=function(){for(var e,r,n,a,o,s;;){do a=this.randn.nextValue(),s=1+this.c*a;while(s<=0);if(s*=s*s,e=a*a,r=1-.331*e*e,n=.5*e+this.d*(1-s+Math.log(s)),o=this.randu(),o<r||Math.log(o)<n)break}return s=1/this.beta*this.d*s,this.alpha<1&&(s*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(s)},t.prototype.convertValue=function(e){return this.dtype==="float32"?e:Math.round(e)},t}(),D1t=function(){function t(e,r,n,a){var o=this;if(e===void 0&&(e=0),r===void 0&&(r=1),this.canReturnFloat=function(){return o.dtype==null||o.dtype==="float32"},this.min=e,this.range=r-e,this.dtype=n,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+r+" <= 1 and dtype is not float");this.random=I9.alea(a)}return t.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},t.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},t}();function k1t(t,e,r,n,a){if(r===void 0&&(r=1),n===void 0&&(n="float32"),r==null&&(r=1),n==null&&(n="float32"),n!=="float32"&&n!=="int32")throw new Error("Unsupported data type "+n);for(var o=new T1t(e,r,n,a),s=Mh(t,n),u=0;u<s.values.length;u++)s.values[u]=o.nextValue();return s.toTensor()}var I1t=We({randomGamma_:k1t});function C1t(t,e,r,n,a){if(e===void 0&&(e=0),r===void 0&&(r=1),n!=null&&n==="bool")throw new Error("Unsupported data type "+n);for(var o=new C9(e,r,n,!1,a),s=Mh(t,n),u=0;u<s.values.length;u++)s.values[u]=o.nextValue();return s.toTensor()}var Gde=We({randomNormal_:C1t});function O1t(t,e,r){if(e!=null&&e==="bool")throw new Error("Unsupported data type "+e);return Gde(t,0,1,e,r)}var R1t=We({randomStandardNormal_:O1t});function F1t(t,e,r,n,a){e===void 0&&(e=0),r===void 0&&(r=1),n===void 0&&(n="float32");for(var o=Mh(t,n),s=new D1t(e,r,null,a),u=0;u<o.values.length;u++)o.values[u]=s.nextValue();return o.toTensor()}var Hde=We({randomUniform_:F1t});function j2(t,e,r,n){if(r===void 0&&(r=1),n===void 0&&(n="float32"),r===0)throw new Error("Cannot have a step of zero");var a={start:t,stop:e,step:r,dtype:n};return He.runKernel(khe,{},a)}function B1t(t){var e=Oe(t,"x","reciprocal"),r={x:e};return He.runKernel(Che,r)}var L1t=We({reciprocal_:B1t});function P1t(t){var e=Oe(t,"x","relu"),r={x:e};return He.runKernel(Ohe,r)}var bT=We({relu_:P1t});function q1t(t){var e=Oe(t,"x","relu6"),r={x:e};return He.runKernel(Lhe,r)}var Kde=We({relu6_:q1t});function z1t(t,e){var r=Oe(t,"x","reverse"),n={x:r},a={dims:e};return He.runKernel(Phe,n,a)}var k0=We({reverse_:z1t});function U1t(t){var e=Oe(t,"x","reverse");return Le(e.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+e.rank+"."}),k0(e,0)}var j1t=We({reverse1d_:U1t});function $1t(t,e){var r=Oe(t,"x","reverse");return Le(r.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+r.rank+"."}),k0(r,e)}var V1t=We({reverse2d_:$1t});function W1t(t,e){var r=Oe(t,"x","reverse");return Le(r.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+r.rank+"."}),k0(r,e)}var G1t=We({reverse3d_:W1t});function H1t(t,e){var r=Oe(t,"x","reverse");return Le(r.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+r.rank+"."}),k0(r,e)}var K1t=We({reverse4d_:H1t});function Z1t(t){var e=Oe(t,"x","round"),r={x:e};return He.runKernel(qhe,r)}var Zde=We({round_:Z1t});function J1t(t){var e=Oe(t,"x","rsqrt","float32"),r={x:e};return He.runKernel(zhe,r)}var Y1t=We({rsqrt_:J1t});function X1t(t){var e=Oe(t,"x","selu"),r={x:e};return He.runKernel(Vhe,r)}var Q1t=We({selu_:X1t});function ebt(t,e,r,n,a,o,s){o===void 0&&(o=[1,1]),s===void 0&&(s="NHWC");var u=Oe(t,"x","separableConv2d"),f=Oe(e,"depthwiseFilter","separableConv2d"),l=Oe(r,"pointwiseFilter","separableConv2d"),c=u,h=!1;if(u.rank===3&&(h=!0,c=Ot(u,[1,u.shape[0],u.shape[1],u.shape[2]])),s==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Le(c.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got "+("rank "+c.rank+".")}),Le(f.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+("got rank "+f.rank+".")}),Le(l.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+("got rank "+f.rank+".")}),Le(l.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter "+(" must be 1, but got "+l.shape[0]+".")}),Le(l.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise "+("filter must be 1, but got "+l.shape[1]+".")});var m=f.shape[2],g=f.shape[3];Le(l.shape[2]===m*g,function(){return"Error in separableConv2d: the third dimension of pointwise filter "+("must be "+m*g+", ")+("but got "+l.shape[2]+".")});var b=N9(c,f,n,a,s,o),A=1,I=dT(b,l,A,"valid",s);return h?Ot(I,[I.shape[1],I.shape[2],I.shape[3]]):I}var tbt=We({separableConv2d_:ebt});function rbt(t,e){return gr(this,void 0,void 0,function(){var r,n,a,o,s,u,c,f,l,c,h;return yr(this,function(m){switch(m.label){case 0:return r=Oe(t,"x","setdiff1d"),n=Oe(e,"y","setdiff1d"),Le(r.dtype===n.dtype,function(){return"x and y should have the same dtype, but got x ("+r.dtype+") and y ("+n.dtype+")."}),Le(r.rank===1,function(){return"x should be 1D tensor, but got x ("+r.shape+")."}),Le(n.rank===1,function(){return"y should be 1D tensor, but got y ("+n.shape+")."}),[4,r.data()];case 1:return a=m.sent(),[4,n.data()];case 2:for(o=m.sent(),s=new Set(o),u=0,c=0;c<a.length;c++)s.has(a[c])||u++;for(f=new eT([u],r.dtype),l=new eT([u],"int32"),c=0,h=0;c<a.length;c++)s.has(a[c])||(f.values[h]=a[c],l.values[h]=c,h++);return[2,[f.toTensor(),l.toTensor()]]}})})}var nbt=rbt;function ibt(t){var e=Oe(t,"x","sign"),r={x:e};return He.runKernel(Khe,r)}var abt=We({sign_:ibt});function obt(t){var e=Oe(t,"x","sin","float32"),r={x:e};return He.runKernel(Ghe,r)}var sbt=We({sin_:obt});function ubt(t){var e=Oe(t,"x","sinh"),r={x:e};return He.runKernel(Hhe,r)}var fbt=We({sinh_:ubt});function lbt(t,e,r){var n=Oe(t,"x","slice1d");return Le(n.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+n.rank+" tensor"}),Wi(n,[e],[r])}var cbt=We({slice1d_:lbt});function hbt(t,e,r){var n=Oe(t,"x","slice2d");return Le(n.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+n.rank+" tensor"}),Wi(n,e,r)}var pbt=We({slice2d_:hbt});function dbt(t,e,r){var n=Oe(t,"x","slice3d");return Le(n.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+n.rank+" tensor"}),Wi(n,e,r)}var mbt=We({slice3d_:dbt});function vbt(t,e,r){var n=Oe(t,"x","slice4d");return Le(n.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+n.rank+" tensor"}),Wi(n,e,r)}var gbt=We({slice4d_:vbt});function ybt(t,e){e===void 0&&(e=-1);var r=Oe(t,"logits","softmax","float32");if(e===-1&&(e=r.rank-1),e!==r.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+("Logits was rank "+r.rank+" and dim was "+e));var n={logits:r},a={dim:e};return He.runKernel(tpe,n,a)}var bbt=We({softmax_:ybt});function wbt(t){Le(t.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 "+("but got "+t.dtype+".")});var e={input:t};return He.runKernel(Fce,e)}var O9=We({fft_:wbt});function xbt(t){Le(t.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 "+("but got "+t.dtype+".")});var e={input:t};return He.runKernel(Wce,e)}var sT=We({ifft_:xbt});function _bt(t){var e=t.shape[t.shape.length-1],r=t.size/e,n;if(e<=2){var a=Ot(t,[r,e]);n=sT(a)}else{var o=[r,2*(e-1)],s=Ot(P2(t),[r,e]),u=Ot(hT(t),[r,e]),f=k0(Wi(s,[0,1],[r,e-2]),1),l=Qt(k0(Wi(u,[0,1],[r,e-2]),1),ii(-1)),c=qs([s,f],1),h=qs([u,l],1),a=Ot(fd(c,h),[o[0],o[1]]);n=sT(a)}if(n=P2(n),t.rank===3&&t.shape[0]!==0){var m=n,g=t.shape[0];n=Ot(n,[g,n.shape[0]/g,n.shape[1]]),m.dispose()}return n}var Jde=We({irfft_:_bt});function Sbt(t,e,r){r===void 0&&(r=0);var n=Oe(t,"x","split"),a={x:n},o={numOrSizeSplits:e,axis:r};return He.runKernel(epe,a,o)}var $2=We({split_:Sbt});function Ebt(t,e){Le(t.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+t.dtype});var r=t.shape[t.shape.length-1],n=t.size/r,a;if(e!=null&&e<r){var o=t.shape.map(function(C){return 0}),s=t.shape.map(function(C){return C});s[t.shape.length-1]=e,a=Wi(t,o,s),r=e}else if(e!=null&&e>r){var u=t.shape.map(function(C){return C});u[t.shape.length-1]=e-r,a=qs([t,Iy(u)],t.shape.length-1),r=e}else a=t;var f=hu(a),l=Ot(fd(a,f),[n,r]),c=O9(l),h=Math.floor(r/2)+1,m=P2(c),g=hT(c),b=$2(m,[h,r-h],m.shape.length-1),A=$2(g,[h,r-h],g.shape.length-1),I=a.shape.slice();return I[a.shape.length-1]=h,Ot(fd(b[0],A[0]),I)}var R9=We({rfft_:Ebt});function Mbt(t,e){var r,n=Oe(t,"a","squaredDifference"),a=Oe(e,"b","squaredDifference");r=ur(ea(n,a),2),n=r[0],a=r[1],La(n.shape,a.shape);var o={a:n,b:a},s={};return He.runKernel(spe,o,s)}var Yde=We({squaredDifference_:Mbt});function Abt(t,e){var r=Oe(t,"x","squeeze","string_or_numeric");return Ot(r,Dle(r.shape,e).newShape)}var F9=We({squeeze_:Abt});function Nbt(t,e){e===void 0&&(e=0);var r=L2(t,"tensors","stack","string_or_numeric");Le(r.length>=1,function(){return"Pass at least one tensor to tf.stack"}),r.length>0&&Le(e<=r[0].rank,function(){return"Axis must be <= rank of the tensor"});var n=r,a={axis:e};return He.runKernel(Mhe,n,a)}var V2=We({stack_:Nbt});function Tbt(t,e){e===void 0&&(e=0);var r=Oe(t,"x","step"),n={x:r},a={alpha:e};return He.runKernel(xpe,n,a)}var Xde=We({step_:Tbt});function Dbt(t,e,r,n,a,o,s,u,f){a===void 0&&(a=0),o===void 0&&(o=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0);var l=Oe(t,"x","stridedSlice","string_or_numeric"),c={x:l},h={begin:e,end:r,strides:n,beginMask:a,endMask:o,ellipsisMask:s,newAxisMask:u,shrinkAxisMask:f};return He.runKernel(upe,c,h)}var kbt=We({stridedSlice_:Dbt});function Ibt(t){var e=Oe(t,"x","tan","float32"),r={x:e};return He.runKernel(ppe,r)}var Cbt=We({tan_:Ibt});function yl(t,e){I0(t);var r=Ec(t,e);if(r.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");var n=null;return hd(t,n,r,e)}function C2(t,e,r){if(I0(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var n=Ec(t,r);if(n.length!==2&&n.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return hd(t,e,n,r)}function Obt(t,e,r){if(I0(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var n=Ec(t,r);if(n.length!==4&&n.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return hd(t,e,n,r)}function Rbt(t,e,r){if(I0(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var n=Ec(t,r);if(n.length!==5&&n.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return hd(t,e,n,r)}function Fbt(t,e,r){if(I0(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var n=Ec(t,r);if(n.length!==6&&n.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||n,hd(t,e,n,r)}function Bbt(t,e,r){e===void 0&&(e=1),r===void 0&&(r=!0);var n=Oe(t,"x","topk");if(n.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var a=n.shape[n.shape.length-1];if(e<0)throw new Error("'k' passed to topk() must be >= 0 but got "+e);if(e>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") "+("but got "+e));var o={x:n},s={k:e,sorted:r},u=ur(He.runKernel(mpe,o,s),2),f=u[0],l=u[1];return{values:f,indices:l}}var Lbt=We({topk_:Bbt});function Pbt(t,e,r,n,a){if(e===void 0&&(e=0),r===void 0&&(r=1),n!=null&&n==="bool")throw new Error("Unsupported data type $ { dtype }");for(var o=new C9(e,r,n,!0,a),s=Mh(t,n),u=0;u<s.values.length;u++)s.values[u]=o.nextValue();return s.toTensor()}var qbt=We({truncatedNormal_:Pbt});function zbt(t,e){e===void 0&&(e=0);var r=Oe(t,"x","unique","string_or_numeric");Le(r.rank>0,function(){return"The input tensor must be at least 1D"});var n={x:r},a={axis:e},o=ur(He.runKernel(gpe,n,a),2),s=o[0],u=o[1];return{values:s,indices:u}}var Ubt=We({unique_:zbt});function jbt(t,e,r){var n=Oe(t,"x","unsortedSegmentSum"),a=Oe(e,"segmentIds","unsortedSegmentSum","int32");Le(Ny(r),function(){return"numSegments must be of dtype int"});var o={x:n,segmentIds:a},s={numSegments:r};return He.runKernel(bpe,o,s)}var $bt=We({unsortedSegmentSum_:jbt});function Vbt(t,e){e===void 0&&(e=0);var r=Oe(t,"x","unstack","string_or_numeric");Le(e>=-r.shape.length&&e<r.shape.length,function(){return"Axis = "+e+" is not in [-"+r.shape.length+", "+r.shape.length+")"});var n={value:r},a={axis:e};return He.runKernel(ype,n,a)}var B9=We({unstack_:Vbt});function Wbt(t,e){return k9(t,e,"right")}function Gbt(t,e,r,n){return e===void 0&&(e=!0),He.makeVariable(t,e,r,n)}function Qde(t,e){for(var r=[],n=0;n<e.length;n++)e[n]&&r.push(n);for(var a=Mh(t,"int32"),o=Mh([r.length,t.length],"int32"),n=0;n<r.length;n++){var s=a.indexToLoc(r[n]),u=n*t.length;o.values.set(s,u)}return o.toTensor()}function Hbt(t){return gr(this,void 0,void 0,function(){var e,r,n;return yr(this,function(a){switch(a.label){case 0:return e=Oe(t,"condition","whereAsync","bool"),[4,e.data()];case 1:return r=a.sent(),n=Qde(e.shape,r),t!==e&&e.dispose(),[2,n]}})})}var eme=Hbt;function Kbt(t,e,r){return gr(this,void 0,void 0,function(){var n,a,o,s,u,f,l,c,h,m,g,b,A;return yr(this,function(I){switch(I.label){case 0:for(n=Oe(t,"tensor","boolMask"),a=Oe(e,"mask","boolMask","bool"),o=r==null?0:r,s=a.rank,u=n.shape,Le(s>0,function(){return"mask cannot be scalar"}),Qo(u.slice(o,o+s),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),f=1,l=o;l<o+s;l++)f*=u[l];return c=u.slice(0,o).concat([f],u.slice(o+s)),h=Ot(n,c),m=Ot(a,[-1]),[4,eme(m)];case 1:return g=I.sent(),b=F9(g,[1]),A=Ide(h,b,o),t!==n&&n.dispose(),e!==a&&a.dispose(),b.dispose(),h.dispose(),m.dispose(),g.dispose(),[2,A]}})})}var Zbt=Kbt;function Jbt(t,e,r,n,a){a===void 0&&(a=!0);var o=Oe(t,"v","movingAverage"),s=Oe(e,"x","movingAverage"),u=Oe(r,"decay","movingAverage");Ipe(o,s),Le(cd(o.shape,s.shape),function(){return"Shape mismatch in v and x"});var f=ii(1),l=nn(f,u),c=Qt(nn(s,o),l);if(a){Le(n!=null,function(){return"When using zeroDebias: true, step is required."});var h=Oe(n,"step","movingAverage");c=Bi(c,nn(f,z2(u,h)))}return Cr(o,c)}var Ybt=We({movingAverage_:Jbt});function Xbt(t,e,r){var n=Oe(t,"indices","scatterND","int32"),a=Oe(e,"updates","scatterND");S9(a,n,r);var o={indices:n,updates:a},s={shape:r};return He.runKernel(Uhe,o,s)}var Qbt=We({scatterND_:Xbt});function ewt(t,e,r,n){if(t.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+(" but the dtype was "+t.dtype+"."));if(t.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+(" but got shape "+t.shape+"."));var a=t.rank>0?t.shape[0]:1,o=t.rank>1?t.shape[1]:1;if(r.length!==o)throw new Error("outputShape has incorrect number of elements:,"+(" "+r.length+", should be: "+o+"."));var s=e.size;if(!(e.rank===0||e.rank===1&&s===a))throw new Error("sparseValues has incorrect shape "+(e.shape+", should be [] or ["+a+"]"));if(e.dtype!==n.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}function twt(t,e,r,n){n===void 0&&(n=0);var a=Oe(t,"sparseIndices","sparseToDense","int32"),o=Oe(e,"sparseValues","sparseToDense","string_or_numeric"),s=Oe(n,"defaultValue","sparseToDense",o.dtype);ewt(a,o,r,s);var u={sparseIndices:a,sparseValues:o,defaultValue:s},f={outputShape:r};return He.runKernel(ope,u,f)}var rwt=We({sparseToDense_:twt});function nwt(t,e){var r=Oe(e,"indices","gatherND","int32"),n=Oe(t,"x","gatherND","string_or_numeric"),a={params:n,indices:r};return He.runKernel(jce,a)}var iwt=We({gatherND_:nwt});function awt(t,e){if(e==null)return t.shape.slice();if(cd(t.shape,e))return e;if(t.shape.length===e.length){for(var r=[],n=0;n<t.shape.length;n++)e[n]==null&&t.shape[n]!=null?r.push(t.shape[n]):r.push(e[n]);return r}return e}function owt(t,e,r,n){var a=Oe(t,"x","dropout");if(Le(a.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be "+("scaled, but got a "+a.dtype+" tensor instead.")}),Le(e>=0&&e<1,function(){return"rate must be a float in the range [0, 1), but got "+e+"."}),e===0)return t instanceof Fa?a.clone():a;var o=awt(a,r),s=1-e,u=Bi(kde(Cr(Hde(o,0,1,"float32",n),s)),s);return Qt(a,u)}var swt=We({dropout_:owt});function tme(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function L9(t,e,r){for(var n=1-t%2,a=new Float32Array(t),o=0;o<t;++o){var s=2*Math.PI*o/(t+n-1);a[o]=e-r*Math.cos(s)}return yl(a,"float32")}function uwt(t,e,r){return r===void 0&&(r=1),gr(this,void 0,void 0,function(){var n,a,o,s,u,f,l,c,h,m,g,b,A,I,I;return yr(this,function(C){switch(C.label){case 0:return n=Oe(t,"predictions","inTopK"),a=Oe(e,"targets","inTopK"),Le(n.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+("but got "+n.rank)}),Le(n.rank-1===a.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+(n.rank+" and targets rank "+a.rank)}),Qo(n.shape.slice(0,n.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=n.shape[n.shape.length-1],Le(r>0&&r<=o,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+("dimension ("+o+"), but got "+r)}),[4,n.data()];case 1:return s=C.sent(),[4,a.data()];case 2:for(u=C.sent(),f=ur([s.length/o,o],2),l=f[0],c=f[1],h=kle("bool",l),m=0;m<l;m++){for(g=m*c,b=s.subarray(g,g+c),A=[],I=0;I<b.length;I++)A.push({value:b[I],index:I});for(A.sort(function(R,O){return O.value-R.value}),h[m]=0,I=0;I<r;I++)if(A[I].index===u[m]){h[m]=1;break}}return t!==n&&n.dispose(),e!==a&&a.dispose(),[2,_y(h,a.shape,"bool")]}})})}var fwt=uwt;function lwt(t,e,r,n,a,o,s){o===void 0&&(o="NHWC");var u=t;t.rank===3&&(u=Ot(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f=e;f.rank===3&&(f=Ot(e,[1,e.shape[0],e.shape[1],e.shape[2]])),Le(u.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+(u.shape+".")}),Le(f.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+(f.shape+".")}),Le(r.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+(r+".")});var l=o==="NHWC"?u.shape[3]:u.shape[1],c=o==="NHWC"?f.shape[3]:f.shape[1];Le(l===r[2],function(){return"Error in conv2dDerFilter: depth of input "+l+") must "+("match input depth in filter ("+r[2]+".")}),Le(c===r[3],function(){return"Error in conv2dDerFilter: depth of dy ("+c+") must "+("match output depth for filter ("+r[3]+").")}),df("conv2dDerFilter",a,s);var h={x:u,dy:f},m={strides:n,pad:a,dataFormat:o,dimRoundingMode:s,filterShape:r};return He.runKernel(cce,h,m)}var cwt=We({conv2DBackpropFilter_:lwt});function wT(t,e,r){if(r==null||r==="linear")return t;if(r==="relu")return Qt(t,Xde(e));throw new Error("Cannot compute gradient for fused activation "+r+".")}function xT(t,e){var r=e,n=x9(t.shape,e.shape);return n.length>0&&(r=Fi(r,n)),Ot(r,t.shape)}function _T(t,e,r,n){if(e==="linear")return t;if(e==="relu")return bT(t);if(e==="elu")return Ade(t);if(e==="relu6")return Kde(t);if(e==="prelu")return Wde(t,r);if(e==="leakyrelu")return Ode(t,n);if(e==="sigmoid")return My(t);throw new Error("Unknown fused activation "+e+".")}var ST=function(t,e){var r=t>0;return!r||e==="linear"};function hwt(t){var e,r=t.x,n=t.filter,a=t.strides,o=t.pad,s=t.dataFormat,u=s===void 0?"NHWC":s,f=t.dilations,l=f===void 0?[1,1]:f,c=t.dimRoundingMode,h=t.bias,m=t.activation,g=m===void 0?"linear":m,b=t.preluActivationWeights,A=t.leakyreluAlpha;if(g=g||"linear",ST(He.state.gradientDepth,g)===!1){Le(u==="NHWC",function(){return"Error in fused conv2d: got dataFormat of "+u+" but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."});var I=dT(r,n,a,o,u,l,c);return h!=null&&(I=Cr(I,h)),_T(I,g,b,A)}var C=Oe(r,"x","conv2d","float32"),R=Oe(n,"filter","conv2d","float32"),O=C,F=!1;C.rank===3&&(F=!0,O=Ot(C,[1,C.shape[0],C.shape[1],C.shape[2]])),Le(O.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+(O.rank+".")}),Le(R.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+(R.rank+".")}),df("fused conv2d",o,c);var z=u==="NHWC"?O.shape[3]:O.shape[1];Le(R.shape[2]===z,function(){return"Error in conv2d: depth of input ("+z+") must match "+("input depth for filter "+R.shape[2]+".")}),Le(Th(a,l),function(){return"Error in conv2D: Either strides or dilations must be 1. "+("Got strides "+a+" and dilations '"+l+"'")});var B=Z2(O.shape,R.shape,a,l,o,c),$;h!=null&&($=Oe(h,"bias","fused conv2d"),e=ur(ea($,C),1),$=e[0],u==="NHWC"?La(B.outShape,$.shape):(Le($.shape.length<=1,function(){return"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+("rank-"+$.shape.length+".")}),Le($.shape.length===0||$.shape[0]===B.outChannels||$.shape[0]===1,function(){return"Error in fused conv2d: bias shape ("+$.shape+") is not compatible with the number of output channels "+("("+B.outChannels+")")})));var j;if(b!=null){var W=b.shape;if(Le(W.length<=1||W.length===3,function(){return"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+("rank-"+W.length+".")}),W.length===1)Le(W[0]===1||W[0]===B.outChannels,function(){return"Error in fused conv2d: PReLU activation weights "+("("+W+") is not compatible with the number of output ")+("channels ("+B.outChannels+").")});else if(W.length===3)try{La(W,B.outShape)}catch(D){var T="Error in fused conv2d: PReLU activation weights ("+W+") is not compatible with the output shape of the conv2d "+("("+B.outShape+").");throw Error(T)}j=Oe(b,"prelu weights","fused conv2d")}var p=function(D,k){Le(u==="NHWC",function(){return"Error in gradient of fused conv2D: got dataFormat of "+u+" but only NHWC is currently supported."});var E=ur(k,4),d=E[0],N=E[1],U=E[2],q=E[3],P=wT(D,U,g);Le(q2(l),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+("are not yet supported in gradients. Got dilations '"+l+"'")});var G=Ede(N.shape,P,d,a,o),Z=cwt(N,P,d.shape,a,o),X=[G,Z];if(q!=null){var he=xT(q,P);X.push(he)}return X},v={x:O,filter:R,bias:$,preluActivationWeights:j},S={strides:a,pad:o,dataFormat:u,dilations:l,dimRoundingMode:c,activation:g,leakyreluAlpha:A};if(h==null){var y=Mc(function(D,k,E){var d=He.runKernel(BB,v,S);return E([k,D,d]),F&&(d=Ot(d,[d.shape[1],d.shape[2],d.shape[3]])),{value:d,gradFunc:p}});return y(O,R)}else{var M=Mc(function(D,k,E,d){var N=He.runKernel(BB,v,S);return d([k,D,N,E]),F&&(N=Ot(N,[N.shape[1],N.shape[2],N.shape[3]])),{value:N,gradFunc:p}});return M(O,R,$)}}var pwt=We({fusedConv2d_:hwt});function dwt(t,e,r,n,a,o,s){o===void 0&&(o=[1,1]);var u=t;t.rank===3&&(u=Ot(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f=e;f.rank===3&&(f=Ot(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var l={x:u,dy:f},c={strides:n,pad:a,dimRoundingMode:s,dilations:o,filterShape:r};return He.runKernel(Sce,l,c)}var mwt=We({depthwiseConv2dNativeBackpropFilter_:dwt});function vwt(t,e,r,n,a,o,s){o===void 0&&(o=[1,1]);var u=e,f=!1;e.rank===3&&(f=!0,u=Ot(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var l={dy:u,filter:r},c={strides:n,pad:a,dimRoundingMode:s,dilations:o,inputShape:t},h=He.runKernel(Ece,l,c);return f?Ot(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var gwt=We({depthwiseConv2dNativeBackpropInput_:vwt});function ywt(t){var e,r=t.x,n=t.filter,a=t.strides,o=t.pad,s=t.dataFormat,u=s===void 0?"NHWC":s,f=t.dilations,l=f===void 0?[1,1]:f,c=t.dimRoundingMode,h=t.bias,m=t.activation,g=m===void 0?"linear":m,b=t.preluActivationWeights,A=t.leakyreluAlpha;if(ST(He.state.gradientDepth,g)===!1){var I=N9(r,n,a,o,u,l,c);return h!=null&&(I=Cr(I,h)),_T(I,g,b,A)}var C=Oe(r,"x","depthwiseConv2d","float32"),R=Oe(n,"filter","depthwiseConv2d","float32"),O=C,F=!1;C.rank===3&&(F=!0,O=Ot(C,[1,C.shape[0],C.shape[1],C.shape[2]])),Le(O.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+("rank "+O.rank+".")}),Le(R.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+("but got rank "+R.rank+".")}),Le(O.shape[3]===R.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels "+("("+O.shape[3]+") must match the inChannels dimension in ")+("filter "+R.shape[2]+".")}),l==null&&(l=[1,1]),Le(Th(a,l),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+("be 1. Got strides "+a+" and dilations '"+l+"'")}),df("fused depthwiseConv2d",o,c);var z=Z2(O.shape,R.shape,a,l,o,c,!0),B;h!=null&&(B=Oe(h,"bias","fused conv2d"),e=ur(ea(B,C),1),B=e[0],La(z.outShape,B.shape));var $;b!=null&&($=Oe(b,"prelu weights","fused depthwiseConv2d"));var j=function(S,y){Le(q2(l),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+("'"+l+"'")});var M=ur(y,4),D=M[0],k=M[1],E=M[2],d=M[3],N=wT(S,E,g),U=gwt(k.shape,N,D,a,o,l,c),q=mwt(k,N,D.shape,a,o,l,c);if(d!=null){var P=xT(B,N);return[U,q,P]}return[U,q]},W={x:O,filter:R,bias:B,preluActivationWeights:$},T={strides:a,pad:o,dataFormat:u,dilations:l,dimRoundingMode:c,activation:g,leakyreluAlpha:A};if(h==null){var p=Mc(function(S,y,M){var D=He.runKernel(LB,W,T);return M([y,S,D]),F&&(D=Ot(D,[D.shape[1],D.shape[2],D.shape[3]])),{value:D,gradFunc:j}});return p(O,R)}else{var v=Mc(function(S,y,M,D){var k=He.runKernel(LB,W,T);return D([y,S,k,M]),F&&(k=Ot(k,[k.shape[1],k.shape[2],k.shape[3]])),{value:k,gradFunc:j}});return v(O,R,B)}}var bwt=We({fusedDepthwiseConv2d_:ywt});function wwt(t){var e,r,n=t.a,a=t.b,o=t.transposeA,s=o===void 0?!1:o,u=t.transposeB,f=u===void 0?!1:u,l=t.bias,c=t.activation,h=c===void 0?"linear":c,m=t.preluActivationWeights,g=t.leakyreluAlpha,b=g===void 0?.2:g;if(ST(He.state.gradientDepth,h)===!1){var A=ni(n,a,s,f);return l!=null&&(A=Cr(A,l)),_T(A,h,m,b)}var I=Oe(n,"a","fused matMul"),C=Oe(a,"b","fused matMul");e=ur(ea(I,C),2),I=e[0],C=e[1];var R=s?I.shape[I.rank-2]:I.shape[I.rank-1],O=f?C.shape[C.rank-1]:C.shape[C.rank-2],F=s?I.shape[I.rank-1]:I.shape[I.rank-2],z=f?C.shape[C.rank-2]:C.shape[C.rank-1],B=I.shape.slice(0,-2),$=C.shape.slice(0,-2),j=Li(B),W=Li($);Le(R===O,function(){return"Error in fused matMul: inner shapes ("+R+") and ("+(O+") of Tensors with shapes "+I.shape+" and ")+(C.shape+" and transposeA="+s)+(" and transposeB="+f+" must match.")});var T=La(I.shape.slice(0,-2),C.shape.slice(0,-2)),p=T.concat([F,z]),v=s?Ot(I,[j,R,F]):Ot(I,[j,F,R]),S=f?Ot(C,[W,z,O]):Ot(C,[W,O,z]),y;l!=null&&(y=Oe(l,"bias","fused matMul"),r=ur(ea(y,I),1),y=r[0],La(p,y.shape));var M;m!=null&&(M=Oe(m,"prelu weights","fused matMul"));var D=function(U,q){var P=ur(q,4),G=P[0],Z=P[1],X=P[2],he=P[3],V=wT(Ot(U,X.shape),X,h),K,ne;if(!s&&!f?(K=ni(V,Z,!1,!0),ne=ni(G,V,!0,!1)):!s&&f?(K=ni(V,Z,!1,!1),ne=ni(V,G,!0,!1)):s&&!f?(K=ni(Z,V,!1,!0),ne=ni(G,V,!1,!1)):(K=ni(Z,V,!0,!0),ne=ni(V,G,!0,!0)),l!=null){var fe=xT(he,V);return[K,ne,fe]}else return[K,ne]},k={a:v,b:S,bias:y,preluActivationWeights:M},E={transposeA:s,transposeB:f,activation:h,leakyreluAlpha:b};if(l==null){var d=Mc(function(U,q,P){var G=He.runKernel(FB,k,E);return P([U,q,G]),{value:Ot(G,p),gradFunc:D}});return d(v,S)}else{var N=Mc(function(U,q,P,G){var Z=He.runKernel(FB,k,E);return G([U,q,Z,P]),{value:Ot(Z,p),gradFunc:D}});return N(v,S,y)}}var xwt=We({fusedMatMul_:wwt});var _wt={__proto__:null,conv2d:pwt,depthwiseConv2d:bwt,matMul:xwt};function Swt(t){return L9(t,.54,.46)}var Ewt=We({hammingWindow_:Swt});function Mwt(t){return L9(t,.5,.5)}var rme=We({hannWindow_:Mwt});function Awt(t,e,r,n,a){n===void 0&&(n=!1),a===void 0&&(a=0);for(var o=0,s=[];o+e<=t.size;)s.push(Wi(t,o,e)),o+=r;if(n)for(;o<t.size;){var u=o+e-t.size,f=qs([Wi(t,o,e-u),vT([u],a)]);s.push(f),o+=r}return s.length===0?C2([],[0,e]):Ot(qs(s),[s.length,e])}var nme=We({frame_:Awt});function Nwt(t,e,r,n,a){a===void 0&&(a=rme),n==null&&(n=tme(e));var o=nme(t,e,r),s=Qt(o,a(e));return R9(s,n)}var Twt=We({stft_:Nwt});function Dwt(t,e,r,n,a,o){a===void 0&&(a="bilinear"),o===void 0&&(o=0);var s=Oe(t,"image","cropAndResize"),u=Oe(e,"boxes","cropAndResize","float32"),f=Oe(r,"boxInd","cropAndResize","int32"),l=u.shape[0];Le(s.rank===4,function(){return"Error in cropAndResize: image must be rank 4,"+("but got rank "+s.rank+".")}),Le(u.rank===2&&u.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+l+",4] "+("but had shape "+u.shape+".")}),Le(f.rank===1&&f.shape[0]===l,function(){return"Error in cropAndResize: boxInd must be have size ["+l+"] "+("but had shape "+u.shape+".")}),Le(n.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+("length "+n.length+".")}),Le(n[0]>=1&&n[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+n}),Le(a==="bilinear"||a==="nearest",function(){return"method must be bilinear or nearest, but was "+a});var c={image:s,boxes:u,boxInd:f},h={method:a,extrapolationValue:o,cropSize:n},m=He.runKernel(bce,c,h);return m}var kwt=We({cropAndResize_:Dwt});function Iwt(t){var e=Oe(t,"image","flipLeftRight","float32");Le(e.rank===4,function(){return"Error in flipLeftRight: image must be rank 4,"+("but got rank "+e.rank+".")});var r={image:e},n=He.runKernel(Lce,r,{});return n}var Cwt=We({flipLeftRight_:Iwt});function Owt(t){var e=Oe(t,"image","grayscaleToRGB"),r=e.rank-1,n=e.shape[r];Le(e.rank>=2,function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+("but got rank "+e.rank+".")}),Le(n===1,function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+("should be size 1, but got size "+n+".")});var a=new Array(e.rank);return a.fill(1,0,r),a[r]=3,I2(e,a)}var Rwt=We({grayscaleToRGB_:Owt});function Fwt(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=.5);var a=Oe(t,"image","rotateWithOffset","float32");Le(a.rank===4,function(){return"Error in rotateWithOffset: image must be rank 4,"+("but got rank "+a.rank+".")});var o={image:a},s={radians:e,fillValue:r,center:n},u=He.runKernel(_pe,o,s);return u}var Bwt=We({rotateWithOffset_:Fwt});function Oy(t,e,r,n,a,o){n==null&&(n=.5),a==null&&(a=Number.NEGATIVE_INFINITY),o==null&&(o=0);var s=t.shape[0];return r=Math.min(r,s),Le(0<=n&&n<=1,function(){return"iouThreshold must be in [0, 1], but was '"+n+"'"}),Le(t.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+t.rank+"'"}),Le(t.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+t.shape[1]}),Le(e.rank===1,function(){return"scores must be a 1D tensor"}),Le(e.shape[0]===s,function(){return"scores has incompatible shape with boxes. Expected "+s+", "+("but was "+e.shape[0])}),Le(0<=o&&o<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+o+"'"}),{maxOutputSize:r,iouThreshold:n,scoreThreshold:a,softNmsSigma:o}}function Lwt(t,e,r,n,a){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY);var o=Oe(t,"boxes","nonMaxSuppression","float32"),s=Oe(e,"scores","nonMaxSuppression","float32"),u=Oy(o,s,r,n,a);r=u.maxOutputSize,n=u.iouThreshold,a=u.scoreThreshold;var f={maxOutputSize:r,iouThreshold:n,scoreThreshold:a};return He.runKernel(whe,{boxes:o,scores:s},f)}var Pwt=We({nonMaxSuppression_:Lwt});function qwt(t,e,r){var n=zwt(t,e,r),a=n<0?-(n+1):n;t.splice(a,0,e)}function zwt(t,e,r){return jwt(t,e,r||Uwt)}function Uwt(t,e){return t>e?1:t<e?-1:0}function jwt(t,e,r){for(var n=0,a=t.length,o=0,s=!1;n<a;){o=n+(a-n>>>1);var u=r(e,t[o]);u>0?n=o+1:(a=o,s=!u)}return s?n:-n-1}function ime(t,e,r,n,a){return P9(t,e,r,n,a,0)}function ame(t,e,r,n,a,o){return P9(t,e,r,n,a,0,!1,o,!0)}function ome(t,e,r,n,a,o){return P9(t,e,r,n,a,o,!0)}function P9(t,e,r,n,a,o,s,u,f){s===void 0&&(s=!1),u===void 0&&(u=!1),f===void 0&&(f=!1);for(var l=[],c=0;c<e.length;c++)e[c]>a&&l.push({score:e[c],boxIndex:c,suppressBeginIndex:0});l.sort(Sle);for(var h=o>0?-.5/o:0,m=[],g=[];m.length<r&&l.length>0;){var b=l.pop(),A=b.score,I=b.boxIndex,C=b.suppressBeginIndex;if(A<a)break;for(var R=!1,O=m.length-1;O>=C;--O){var F=$wt(t,I,m[O]);if(F>=n){R=!0;break}if(b.score=b.score*Vwt(n,h,F),b.score<=a)break}b.suppressBeginIndex=m.length,R||(b.score===A?(m.push(I),g.push(b.score)):b.score>a&&qwt(l,b,Sle))}var z=m.length,B=r-z;u&&B>0&&(m.push.apply(m,Jn(new Array(B).fill(0))),g.push.apply(g,Jn(new Array(B).fill(0))));var $={selectedIndices:m};return s&&($.selectedScores=g),f&&($.validOutputs=z),$}function $wt(t,e,r){var n=t.subarray(e*4,e*4+4),a=t.subarray(r*4,r*4+4),o=Math.min(n[0],n[2]),s=Math.min(n[1],n[3]),u=Math.max(n[0],n[2]),f=Math.max(n[1],n[3]),l=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),h=Math.max(a[0],a[2]),m=Math.max(a[1],a[3]),g=(u-o)*(f-s),b=(h-l)*(m-c);if(g<=0||b<=0)return 0;var A=Math.max(o,l),I=Math.max(s,c),C=Math.min(u,h),R=Math.min(f,m),O=Math.max(C-A,0)*Math.max(R-I,0);return O/(g+b-O)}function Vwt(t,e,r){var n=Math.exp(e*r*r);return r<=t?n:0}function Sle(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}function Wwt(t,e,r,n,a){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),gr(this,void 0,void 0,function(){var o,s,u,f,l,c,h;return yr(this,function(m){switch(m.label){case 0:return o=Oe(t,"boxes","nonMaxSuppressionAsync"),s=Oe(e,"scores","nonMaxSuppressionAsync"),u=Oy(o,s,r,n,a),r=u.maxOutputSize,n=u.iouThreshold,a=u.scoreThreshold,[4,Promise.all([o.data(),s.data()])];case 1:return f=m.sent(),l=f[0],c=f[1],h=ime(l,c,r,n,a).selectedIndices,o!==t&&o.dispose(),s!==e&&s.dispose(),[2,yl(h,"int32")]}})})}var Gwt=Wwt;function Hwt(t,e,r,n,a,o){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),o===void 0&&(o=0);var s=Oe(t,"boxes","nonMaxSuppression"),u=Oe(e,"scores","nonMaxSuppression"),f=Oy(s,u,r,n,a,o);r=f.maxOutputSize,n=f.iouThreshold,a=f.scoreThreshold,o=f.softNmsSigma;var l={boxes:s,scores:u},c={maxOutputSize:r,iouThreshold:n,scoreThreshold:a,softNmsSigma:o},h=He.runKernel(_he,l,c);return{selectedIndices:h[0],selectedScores:h[1]}}var Kwt=We({nonMaxSuppressionWithScore_:Hwt});function Zwt(t,e,r,n,a,o){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),o===void 0&&(o=0),gr(this,void 0,void 0,function(){var s,u,f,l,c,h,m,g,b;return yr(this,function(A){switch(A.label){case 0:return s=Oe(t,"boxes","nonMaxSuppressionAsync"),u=Oe(e,"scores","nonMaxSuppressionAsync"),f=Oy(s,u,r,n,a,o),r=f.maxOutputSize,n=f.iouThreshold,a=f.scoreThreshold,o=f.softNmsSigma,[4,Promise.all([s.data(),u.data()])];case 1:return l=A.sent(),c=l[0],h=l[1],m=ome(c,h,r,n,a,o),g=m.selectedIndices,b=m.selectedScores,s!==t&&s.dispose(),u!==e&&u.dispose(),[2,{selectedIndices:yl(g,"int32"),selectedScores:yl(b)}]}})})}var Jwt=Zwt;function Ywt(t,e,r,n,a,o){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),o===void 0&&(o=!1);var s=Oe(t,"boxes","nonMaxSuppression"),u=Oe(e,"scores","nonMaxSuppression"),f=Oy(s,u,r,n,a,null),l=f.maxOutputSize,c=f.iouThreshold,h=f.scoreThreshold,m={boxes:s,scores:u},g={maxOutputSize:l,iouThreshold:c,scoreThreshold:h,padToMaxOutputSize:o},b=He.runKernel(xhe,m,g);return{selectedIndices:b[0],validOutputs:b[1]}}var Xwt=We({nonMaxSuppressionPadded_:Ywt});function Qwt(t,e,r,n,a,o){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),o===void 0&&(o=!1),gr(this,void 0,void 0,function(){var s,u,f,l,c,h,m,g,b,A,I,C;return yr(this,function(R){switch(R.label){case 0:return s=Oe(t,"boxes","nonMaxSuppressionAsync"),u=Oe(e,"scores","nonMaxSuppressionAsync"),f=Oy(s,u,r,n,a,null),l=f.maxOutputSize,c=f.iouThreshold,h=f.scoreThreshold,[4,Promise.all([s.data(),u.data()])];case 1:return m=ur.apply(void 0,[R.sent(),2]),g=m[0],b=m[1],A=ame(g,b,l,c,h,o),I=A.selectedIndices,C=A.validOutputs,s!==t&&s.dispose(),u!==e&&u.dispose(),[2,{selectedIndices:yl(I,"int32"),validOutputs:ii(C,"int32")}]}})})}var ext=Qwt;function txt(t,e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=Oe(t,"images","resizeBilinear");Le(a.rank===3||a.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+("rank "+a.rank+".")}),Le(e.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+(e+".")}),Le(n===!1||r===!1,function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."});var o=a,s=!1;a.rank===3&&(s=!0,o=Ot(a,[1,a.shape[0],a.shape[1],a.shape[2]])),ur(e,0);var u={images:o},f={alignCorners:r,halfPixelCenters:n,size:e},l=He.runKernel(Bhe,u,f);return s?Ot(l,[l.shape[1],l.shape[2],l.shape[3]]):l}var rxt=We({resizeBilinear_:txt});function nxt(t,e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=Oe(t,"images","resizeNearestNeighbor");Le(a.rank===3||a.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+("rank "+a.rank+".")}),Le(e.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+(e+".")}),Le(a.dtype==="float32"||a.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"}),Le(n===!1||r===!1,function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."});var o=a,s=!1;a.rank===3&&(s=!0,o=Ot(a,[1,a.shape[0],a.shape[1],a.shape[2]])),ur(e,0);var u={images:o},f={alignCorners:r,halfPixelCenters:n,size:e},l=He.runKernel(Fhe,u,f);return s?Ot(l,[l.shape[1],l.shape[2],l.shape[3]]):l}var ixt=We({resizeNearestNeighbor_:nxt});function axt(t,e,r,n){var a;e===void 0&&(e="binary"),r===void 0&&(r=!1),n===void 0&&(n=.5);var o=Oe(t,"image","threshold"),s=.2989,u=.587,f=.114,l=o.shape[0]*o.shape[1],c=Qt(yl([n]),255),h,m,g,b;if(Le(o.rank===3,function(){return"Error in threshold: image must be rank 3,"+("but got rank "+o.rank+".")}),Le(o.shape[2]===3||o.shape[2]===1,function(){return"Error in threshold: image color channel must be equal to 3 or 1"+("but got "+o.shape[2]+".")}),Le(o.dtype==="int32"||o.dtype==="float32",function(){return"Error in dtype: image dtype must be int32 or float32,"+("but got dtype "+o.dtype+".")}),Le(e==="otsu"||e==="binary",function(){return"Method must be binary or otsu, but was "+e}),o.shape[2]===3){a=ur($2(o,[1,1,1],-1),3),h=a[0],m=a[1],g=a[2];var A=Qt(h,s),I=Qt(m,u),C=Qt(g,f);b=Cr(Cr(A,I),C)}else b=t;if(e==="otsu"){var R=Sde(ca(Zde(b),"int32"),_y([]),256);c=oxt(R,l)}var O=r?D9(b,c):gT(b,c),F=ca(Qt(O,255),"int32");return F}function oxt(t,e){for(var r=yl([-1]),n=yl([0]),a=yl([0]),o,s,u,f,l,c,h=0;h<t.size-1;h++){o=Wi(t,0,h+1),s=Wi(t,h+1),l=Bi(Fi(o),e),c=Bi(Fi(s),e);var m=Fi(Qt(o,j2(0,o.size)));u=Bi(m,Fi(o));var g=vT(s.shape,o.size),b=Cr(j2(0,s.size),g),A=Qt(s,b);f=Bi(Fi(A),Fi(s));var I=nn(u,f),C=nn(u,f),R=Qt(l,c);a=Qt(Qt(R,I),C);var O=gT(a,n);n=ky(O,a,n),r=ky(O,yl([h]),r)}return r}var sxt=We({threshold_:axt});function uxt(t,e,r,n,a,o){r===void 0&&(r="nearest"),n===void 0&&(n="constant"),a===void 0&&(a=0);var s=Oe(t,"image","transform","float32"),u=Oe(e,"transforms","transform","float32");Le(s.rank===4,function(){return"Error in transform: image must be rank 4,"+("but got rank "+s.rank+".")}),Le(u.rank===2&&(u.shape[0]===s.shape[0]||u.shape[0]===1)&&u.shape[1]===8,function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"}),Le(o==null||o.length===2,function(){return"Error in transform: outputShape must be [height, width] or null, "+("but got "+o+".")});var f={image:s,transforms:u},l={interpolation:r,fillMode:n,fillValue:a,outputShape:o};return He.runKernel(vpe,f,l)}var fxt=We({transform_:uxt});function lxt(t,e,r){Le(e%1===0,function(){return"bandPart(): numLower must be an integer, got "+e+"."}),Le(r%1===0,function(){return"bandPart(): numUpper must be an integer, got "+r+"."});var n=Oe(t,"a","bandPart");Le(n.rank>=2,function(){return"bandPart(): Rank must be at least 2, got "+n.rank+"."});var a=n.shape,o=ur(n.shape.slice(-2),2),s=o[0],u=o[1];if(!(e<=s))throw new Error("bandPart(): numLower ("+e+")"+(" must not be greater than the number of rows ("+s+")."));if(!(r<=u))throw new Error("bandPart(): numUpper ("+r+")"+(" must not be greater than the number of columns ("+u+")."));e<0&&(e=s),r<0&&(r=u);var f=Ot(j2(0,s,1,"int32"),[-1,1]),l=j2(0,u,1,"int32"),c=nn(f,l),h=aT(D9(c,ii(+e,"int32")),Cde(c,ii(-r,"int32"))),m=Iy([s,u],n.dtype);return Ot(V2(B9(Ot(n,[-1,s,u])).map(function(g){return ky(h,g,m)})),a)}var cxt=We({bandPart_:lxt});function hxt(t){var e;if(Array.isArray(t)){e=!1,Le(t!=null&&t.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var r=t[0].shape[0],n=function(f){Le(t[f].shape[0]===r,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+("("+t[f].shape[0]+" vs. "+r+")")})},a=1;a<t.length;++a)n(a)}else e=!0,t=$2(t,t.shape[0],0).map(function(f){return F9(f,[0])});Le(t.length<=t[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+t.length+") exceeds "+("number of dimensions ("+t[0].shape[0]+").")});for(var o=[],s=t,u=function(f){o.push(He.tidy(function(){var l=s[f];if(f>0)for(var c=0;c<f;++c){var h=Qt(Fi(Qt(o[c],l)),o[c]);l=nn(l,h)}return Bi(l,mT(l,"euclidean"))}))},a=0;a<t.length;++a)u(a);return e?V2(o,0):o}var pxt=We({gramSchmidt_:hxt});function dxt(t,e){if(e===void 0&&(e=!1),Le(t.rank>=2,function(){return"qr() requires input tensor to have a rank >= 2, but got rank "+t.rank}),t.rank===2)return Ele(t,e);var r=t.shape.slice(0,t.shape.length-2).reduce(function(f,l){return f*l}),n=B9(Ot(t,[r,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),a=[],o=[];n.forEach(function(f){var l=ur(Ele(f,e),2),c=l[0],h=l[1];a.push(c),o.push(h)});var s=Ot(V2(a,0),t.shape),u=Ot(V2(o,0),t.shape);return[s,u]}function Ele(t,e){return e===void 0&&(e=!1),He.tidy(function(){Le(t.shape.length===2,function(){return"qr2d() requires a 2D Tensor, but got a "+t.shape.length+"D Tensor."});for(var r=t.shape[0],n=t.shape[1],a=Dde(r),o=E0(t),s=C2([[1]],[1,1]),u=E0(s),f=r>=n?n:r,l=function(h){var m,g=o,b=u,A=a;m=ur(He.tidy(function(){var I=Wi(o,[h,h],[r-h,1]),C=mT(I),R=Wi(o,[h,h],[1,1]),O=ky(gT(R,0),C2([[-1]]),C2([[1]])),F=nn(R,Qt(O,C)),z=Bi(I,F);z.shape[0]===1?u=E0(s):u=qs([s,Wi(z,[1,0],[z.shape[0]-1,z.shape[1]])],0);var B=Eh(Bi(ni(O,F),C)),$=Wi(o,[h,0],[r-h,n]),j=Qt(B,u),W=nT(u);if(h===0)o=nn($,ni(j,ni(W,$)));else{var T=nn($,ni(j,ni(W,$)));o=qs([Wi(o,[0,0],[h,n]),T],0)}var p=nT(j),v=Wi(a,[0,h],[r,a.shape[1]-h]);if(h===0)a=nn(v,ni(ni(v,u),p));else{var S=nn(v,ni(ni(v,u),p));a=qs([Wi(a,[0,0],[r,h]),S],1)}return[u,o,a]}),3),u=m[0],o=m[1],a=m[2],ys([g,b,A])},c=0;c<f;++c)l(c);return!e&&r>n&&(a=Wi(a,[0,0],[r,n]),o=Wi(o,[0,0],[n,n])),[a,o]})}var mxt=We({qr_:dxt});me.Reduction=void 0;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(me.Reduction||(me.Reduction={}));function vxt(t,e,r){r===void 0&&(r=me.Reduction.SUM_BY_NONZERO_WEIGHTS);var n=Oe(t,"losses","computeWeightedLoss"),a=null;e!=null&&(a=Oe(e,"weights","computeWeightedLoss"));var o=a==null?n:Qt(n,a);if(r===me.Reduction.NONE)return o;if(r===me.Reduction.SUM)return Fi(o);if(r===me.Reduction.MEAN){if(a==null)return oT(o);var s=n.size/a.size,u=Bi(Fi(o),Fi(a));return s>1?Bi(u,ii(s)):u}if(r===me.Reduction.SUM_BY_NONZERO_WEIGHTS){if(a==null)return Bi(Fi(o),ii(n.size));var f=Qt(a,S0(n.shape)),l=ca(Fi($de(f,ii(0))),"float32");return Bi(Fi(o),l)}throw Error("Unknown reduction: "+r)}var Dh=We({computeWeightedLoss_:vxt});function gxt(t,e,r,n){n===void 0&&(n=me.Reduction.SUM_BY_NONZERO_WEIGHTS);var a=Oe(t,"labels","absoluteDifference"),o=Oe(e,"predictions","absoluteDifference"),s=null;r!=null&&(s=Oe(r,"weights","absoluteDifference")),Qo(a.shape,o.shape,"Error in absoluteDifference: ");var u=cu(nn(a,o));return Dh(u,s,n)}var yxt=We({absoluteDifference_:gxt});function bxt(t,e,r,n,a){a===void 0&&(a=me.Reduction.SUM_BY_NONZERO_WEIGHTS);var o=Oe(t,"labels","cosineDistance"),s=Oe(e,"predictions","cosineDistance"),u=null;n!=null&&(u=Oe(n,"weights","cosineDistance")),Qo(o.shape,s.shape,"Error in cosineDistance: ");var f=ii(1),l=nn(f,Fi(Qt(o,s),r,!0));return Dh(l,u,a)}var wxt=We({cosineDistance_:bxt});function xxt(t,e,r,n){n===void 0&&(n=me.Reduction.SUM_BY_NONZERO_WEIGHTS);var a=Oe(t,"labels","hingeLoss"),o=Oe(e,"predictions","hingeLoss"),s=null;r!=null&&(s=Oe(r,"weights","hingeLoss")),Qo(a.shape,o.shape,"Error in hingeLoss: ");var u=ii(1);a=nn(Qt(ii(2),a),u);var f=bT(nn(u,Qt(a,o)));return Dh(f,s,n)}var _xt=We({hingeLoss_:xxt});function Sxt(t,e,r,n,a){n===void 0&&(n=1),a===void 0&&(a=me.Reduction.SUM_BY_NONZERO_WEIGHTS);var o=Oe(t,"labels","huberLoss"),s=Oe(e,"predictions","huberLoss"),u=null;r!=null&&(u=Oe(r,"weights","huberLoss")),Qo(o.shape,s.shape,"Error in huberLoss: ");var f=ii(n),l=cu(nn(s,o)),c=jde(l,f),h=nn(l,c),m=Cr(Qt(ii(.5),bl(c)),Qt(f,h));return Dh(m,u,a)}var Ext=We({huberLoss_:Sxt});function Mxt(t,e,r,n,a){n===void 0&&(n=1e-7),a===void 0&&(a=me.Reduction.SUM_BY_NONZERO_WEIGHTS);var o=Oe(t,"labels","logLoss"),s=Oe(e,"predictions","logLoss"),u=null;r!=null&&(u=Oe(r,"weights","logLoss")),Qo(o.shape,s.shape,"Error in logLoss: ");var f=ii(1),l=ii(n),c=Eh(Qt(o,U2(Cr(s,l)))),h=Qt(nn(f,o),U2(Cr(nn(f,s),l))),m=nn(c,h);return Dh(m,u,a)}var Axt=We({logLoss_:Mxt});function Nxt(t,e,r,n){n===void 0&&(n=me.Reduction.SUM_BY_NONZERO_WEIGHTS);var a=Oe(t,"labels","meanSquaredError"),o=Oe(e,"predictions","meanSquaredError"),s=null;r!=null&&(s=Oe(r,"weights","meanSquaredError")),Qo(a.shape,o.shape,"Error in meanSquaredError: ");var u=Yde(a,o);return Dh(u,s,n)}var Txt=We({meanSquaredError_:Nxt});function Dxt(t,e){var r=Oe(t,"labels","sigmoidCrossEntropyWithLogits"),n=Oe(e,"logits","sigmoidCrossEntropyWithLogits");Qo(r.shape,n.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=bT(n),o=Qt(n,r),s=Rde(D0(Eh(cu(n))));return Cr(nn(a,o),s)}function kxt(t,e,r,n,a){n===void 0&&(n=0),a===void 0&&(a=me.Reduction.SUM_BY_NONZERO_WEIGHTS);var o=Oe(t,"multiClassLabels","sigmoidCrossEntropy"),s=Oe(e,"logits","sigmoidCrossEntropy"),u=null;if(r!=null&&(u=Oe(r,"weights","sigmoidCrossEntropy")),Qo(o.shape,s.shape,"Error in sigmoidCrossEntropy: "),n>0){var f=ii(n),l=ii(1),c=ii(.5);o=Cr(Qt(o,nn(l,f)),Qt(c,f))}var h=Dxt(o,s);return Dh(h,u,a)}var Ixt=We({sigmoidCrossEntropy_:kxt});function Cxt(t,e,r){if(r===void 0&&(r=-1),r===-1&&(r=e.rank-1),r!==e.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+("supported. Labels / logits was rank "+e.rank+" ")+("and dim was "+r));var n=Mc(function(a,o,s){var u=!0,f=Lde(o,[r],u),l=nn(ca(o,"float32"),f);s([a,l]);var c=Eh(Qt(l,a)),h=Fi(c,[r]),m=function(g,b){var A=ur(b,2),I=A[0],C=A[1],R=J2(g.shape,[r]);return[Qt(Ot(g,R),nn(ca(I,"float32"),D0(C))),Qt(Ot(g,R),nn(D0(C),ca(I,"float32")))]};return{value:h,gradFunc:m}});return n(t,e)}function Oxt(t,e,r,n,a){n===void 0&&(n=0),a===void 0&&(a=me.Reduction.SUM_BY_NONZERO_WEIGHTS);var o=Oe(t,"onehotLabels","softmaxCrossEntropy"),s=Oe(e,"logits","softmaxCrossEntropy"),u=null;if(r!=null&&(u=Oe(r,"weights","softmaxCrossEntropy")),Qo(o.shape,s.shape,"Error in softmaxCrossEntropy: "),n>0){var f=ii(n),l=ii(1),c=ii(o.shape[1]);o=Cr(Qt(o,nn(l,f)),Bi(f,c))}var h=Cxt(o,s);return Dh(h,u,a)}var Rxt=We({softmaxCrossEntropy_:Oxt});function Fxt(t,e,r,n){var a=Oe(t,"indices","sparseFillEmptyRows","int32"),o=Oe(e,"values","sparseFillEmptyRows"),s=Oe(r,"denseShape","sparseFillEmptyRows","int32"),u=Oe(n,"defaultValue","sparseFillEmptyRows",o.dtype);if(a.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        `+a.shape);if(o.rank!==1)throw new Error("Values should be Tensor1D but received shape "+o.shape);if(s.rank!==1)throw new Error("Dense shape should be Tensor1D but received shape "+s.shape);if(u.rank!==0)throw new Error("Default value should be a scalar but received shape "+u.shape);var f={indices:a,values:o,denseShape:s,defaultValue:u},l=He.runKernel(rpe,f);return{outputIndices:l[0],outputValues:l[1],emptyRowIndicator:l[2],reverseIndexMap:l[3]}}var Bxt=We({sparseFillEmptyRows_:Fxt});function Lxt(t,e,r){var n=Oe(t,"inputIndices","sparseReshape","int32"),a=Oe(e,"inputShape","sparseReshape","int32"),o=Oe(r,"newShape","sparseReshape","int32");if(n.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        `+n.shape);if(a.rank!==1)throw new Error("Input shape should be Tensor1D but received shape "+a.shape);if(o.rank!==1)throw new Error("New shape should be Tensor1D but received shape "+o.shape);var s={inputIndices:n,inputShape:a,newShape:o},u=He.runKernel(npe,s);return{outputIndices:u[0],outputShape:u[1]}}var Pxt=We({sparseReshape_:Lxt});function qxt(t,e,r){var n=Oe(t,"data","sparseSegmentMean"),a=Oe(e,"indices","sparseSegmentMean","int32"),o=Oe(r,"segmentIds","sparseSegmentMean","int32");if(n.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          `+a.shape);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          `+o.shape);var s={data:n,indices:a,segmentIds:o};return He.runKernel(ipe,s)}var zxt=We({sparseSegmentMean_:qxt});function Uxt(t,e,r){var n=Oe(t,"data","sparseSegmentSum"),a=Oe(e,"indices","sparseSegmentSum","int32"),o=Oe(r,"segmentIds","sparseSegmentSum","int32");if(n.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         `+a.shape);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         `+o.shape);var s={data:n,indices:a,segmentIds:o};return He.runKernel(ape,s)}var jxt=We({sparseSegmentSum_:Uxt});function $xt(t,e,r,n,a,o,s,u){var f=Oe(t,"data","stringNGrams","string");if(f.dtype!=="string")throw new Error("Data must be of datatype string");if(f.shape.length!==1)throw new Error("Data must be a vector, saw: "+f.shape);var l=Oe(e,"dataSplits","stringNGrams");if(l.dtype!=="int32")throw new Error("Data splits must be of datatype int32");var c={separator:r,nGramWidths:n,leftPad:a,rightPad:o,padWidth:s,preserveShortSequences:u},h={data:f,dataSplits:l},m=He.runKernel(fpe,h,c);return{nGrams:m[0],nGramsSplits:m[1]}}var Vxt=We({stringNGrams_:$xt});function Wxt(t,e,r){r===void 0&&(r=!0);var n=Oe(t,"input","stringSplit","string"),a=Oe(e,"delimiter","stringSplit","string");if(n.rank!==1)throw new Error("Input should be Tensor1D but received shape "+n.shape);if(a.rank!==0)throw new Error("Delimiter should be a scalar but received shape "+a.shape);var o={skipEmpty:r},s={input:n,delimiter:a},u=He.runKernel(lpe,s,o);return{indices:u[0],values:u[1],shape:u[2]}}var Gxt=We({stringSplit_:Wxt});function Hxt(t,e){var r=Oe(t,"input","stringToHashBucketFast","string"),n={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");var a={input:r};return He.runKernel(cpe,a,n)}var Kxt=We({stringToHashBucketFast_:Hxt});var Zxt={fft:O9,ifft:sT,rfft:R9,irfft:Jde},Jxt={hammingWindow:Ewt,hannWindow:rme,frame:nme,stft:Twt},Yxt={flipLeftRight:Cwt,grayscaleToRGB:Rwt,resizeNearestNeighbor:ixt,resizeBilinear:rxt,rotateWithOffset:Bwt,cropAndResize:kwt,nonMaxSuppression:Pwt,nonMaxSuppressionAsync:Gwt,nonMaxSuppressionWithScore:Kwt,nonMaxSuppressionWithScoreAsync:Jwt,nonMaxSuppressionPadded:Xwt,nonMaxSuppressionPaddedAsync:ext,threshold:sxt,transform:fxt},Xxt={bandPart:cxt,gramSchmidt:pxt,qr:mxt},Qxt={absoluteDifference:yxt,computeWeightedLoss:Dh,cosineDistance:wxt,hingeLoss:_xt,huberLoss:Ext,logLoss:Axt,meanSquaredError:Txt,sigmoidCrossEntropy:Ixt,softmaxCrossEntropy:Rxt},e2t={sparseFillEmptyRows:Bxt,sparseReshape:Pxt,sparseSegmentMean:zxt,sparseSegmentSum:jxt},t2t={stringNGrams:Vxt,stringSplit:Gxt,stringToHashBucketFast:Kxt},dd=function(t){Nh(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.minimize=function(r,n,a){n===void 0&&(n=!1);var o=this.computeGradients(r,a),s=o.value,u=o.grads;if(a!=null){var f=a.map(function(l){return{name:l.name,tensor:u[l.name]}});this.applyGradients(f)}else this.applyGradients(u);return ys(u),n?s:(s.dispose(),null)},Object.defineProperty(e.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),e.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},e.prototype.computeGradients=function(r,n){return Fde(r,n)},e.prototype.dispose=function(){this.iterations_!=null&&ys(this.iterations_)},e.prototype.saveIterations=function(){return gr(this,void 0,void 0,function(){return yr(this,function(r){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:ii(this.iterations_,"int32")}]})})},e.prototype.getWeights=function(){return gr(this,void 0,void 0,function(){return yr(this,function(r){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},e.prototype.setWeights=function(r){return gr(this,void 0,void 0,function(){return yr(this,function(n){throw new Error("setWeights() is not implemented for this optimizer class "+(""+this.getClassName()))})})},e.prototype.extractIterations=function(r){return gr(this,void 0,void 0,function(){var n;return yr(this,function(a){switch(a.label){case 0:return n=this,[4,r[0].tensor.data()];case 1:return n.iterations_=a.sent()[0],[2,r.slice(1)]}})})},e}(pde);Object.defineProperty(dd,Symbol.hasInstance,{value:function(t){return t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null}});var ET=function(t){Nh(e,t);function e(r,n,a){a===void 0&&(a=null);var o=t.call(this)||this;return o.learningRate=r,o.rho=n,o.epsilon=a,o.accumulatedGrads=[],o.accumulatedUpdates=[],a==null&&(o.epsilon=He.backend.epsilon()),o}return e.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map(function(o){return o.name}):Object.keys(r);a.forEach(function(o,s){var u=He.registeredVariables[o],f=!1;n.accumulatedGrads[s]==null&&(n.accumulatedGrads[s]={originalName:o+"/accum_grad",variable:Ba(function(){return hu(u).variable(f)})}),n.accumulatedUpdates[s]==null&&(n.accumulatedUpdates[s]={originalName:o+"/accum_var",variable:Ba(function(){return hu(u).variable(f)})});var l=Array.isArray(r)?r[s].tensor:r[o];if(l!=null){var c=n.accumulatedGrads[s].variable,h=n.accumulatedUpdates[s].variable;Ba(function(){var m=Cr(Qt(c,n.rho),Qt(bl(l),1-n.rho)),g=Qt(Bi(Ah(Cr(h,n.epsilon)),Ah(Cr(c,n.epsilon))),l),b=Cr(Qt(h,n.rho),Qt(bl(g),1-n.rho));c.assign(m),h.assign(b);var A=Cr(Qt(g,-n.learningRate),u);u.assign(A)})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedUpdates!=null&&(ys(this.accumulatedGrads.map(function(r){return r.variable})),ys(this.accumulatedUpdates.map(function(r){return r.variable})))},e.prototype.getWeights=function(){return gr(this,void 0,void 0,function(){var r;return yr(this,function(n){switch(n.label){case 0:return r=Jn(this.accumulatedGrads,this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(r.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},e.prototype.setWeights=function(r){return gr(this,void 0,void 0,function(){var n,a;return yr(this,function(o){switch(o.label){case 0:return[4,this.extractIterations(r)];case 1:return r=o.sent(),n=r.length/2,a=!1,this.accumulatedGrads=r.slice(0,n).map(function(s){return{originalName:s.name,variable:s.tensor.variable(a)}}),this.accumulatedUpdates=r.slice(n,n*2).map(function(s){return{originalName:s.name,variable:s.tensor.variable(a)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},e.fromConfig=function(r,n){return new r(n.learningRate,n.rho,n.epsilon)},e}(dd);ET.className="Adadelta";pd(ET);var MT=function(t){Nh(e,t);function e(r,n){n===void 0&&(n=.1);var a=t.call(this)||this;return a.learningRate=r,a.initialAccumulatorValue=n,a.accumulatedGrads=[],a}return e.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map(function(o){return o.name}):Object.keys(r);a.forEach(function(o,s){var u=He.registeredVariables[o];if(n.accumulatedGrads[s]==null){var f=!1;n.accumulatedGrads[s]={originalName:o+"/accumulator",variable:Ba(function(){return vT(u.shape,n.initialAccumulatorValue).variable(f)})}}var l=Array.isArray(r)?r[s].tensor:r[o];if(l!=null){var c=n.accumulatedGrads[s].variable;Ba(function(){var h=Cr(c,bl(l));c.assign(h);var m=Cr(Qt(Bi(l,Ah(Cr(h,He.backend.epsilon()))),-n.learningRate),u);u.assign(m)})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedGrads!=null&&ys(this.accumulatedGrads.map(function(r){return r.variable}))},e.prototype.getWeights=function(){return gr(this,void 0,void 0,function(){return yr(this,function(r){switch(r.label){case 0:return[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(this.accumulatedGrads.map(function(n){return{name:n.originalName,tensor:n.variable}}))]}})})},e.prototype.setWeights=function(r){return gr(this,void 0,void 0,function(){var n;return yr(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(r)];case 1:return r=a.sent(),n=!1,this.accumulatedGrads=r.map(function(o){return{originalName:o.name,variable:o.tensor.variable(n)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},e.fromConfig=function(r,n){return new r(n.learningRate,n.initialAccumulatorValue)},e}(dd);MT.className="Adagrad";pd(MT);var AT=function(t){Nh(e,t);function e(r,n,a,o){o===void 0&&(o=null);var s=t.call(this)||this;return s.learningRate=r,s.beta1=n,s.beta2=a,s.epsilon=o,s.accumulatedFirstMoment=[],s.accumulatedSecondMoment=[],Ba(function(){s.accBeta1=ii(n).variable(),s.accBeta2=ii(a).variable()}),o==null&&(s.epsilon=He.backend.epsilon()),s}return e.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map(function(o){return o.name}):Object.keys(r);Ba(function(){var o=nn(1,n.accBeta1),s=nn(1,n.accBeta2);a.forEach(function(u,f){var l=He.registeredVariables[u],c=!1;n.accumulatedFirstMoment[f]==null&&(n.accumulatedFirstMoment[f]={originalName:u+"/m",variable:Ba(function(){return hu(l).variable(c)})}),n.accumulatedSecondMoment[f]==null&&(n.accumulatedSecondMoment[f]={originalName:u+"/v",variable:Ba(function(){return hu(l).variable(c)})});var h=Array.isArray(r)?r[f].tensor:r[u];if(h!=null){var m=n.accumulatedFirstMoment[f].variable,g=n.accumulatedSecondMoment[f].variable,b=Cr(Qt(m,n.beta1),Qt(h,1-n.beta1)),A=Cr(Qt(g,n.beta2),Qt(bl(h),1-n.beta2)),I=Bi(b,o),C=Bi(A,s);m.assign(b),g.assign(A);var R=Cr(Qt(Bi(I,Cr(Ah(C),n.epsilon)),-n.learningRate),l);l.assign(R)}}),n.accBeta1.assign(Qt(n.accBeta1,n.beta1)),n.accBeta2.assign(Qt(n.accBeta2,n.beta2))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&ys(this.accumulatedFirstMoment.map(function(r){return r.variable})),this.accumulatedSecondMoment!=null&&ys(this.accumulatedSecondMoment.map(function(r){return r.variable}))},e.prototype.getWeights=function(){return gr(this,void 0,void 0,function(){var r;return yr(this,function(n){switch(n.label){case 0:return r=Jn(this.accumulatedFirstMoment,this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(r.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},e.prototype.setWeights=function(r){return gr(this,void 0,void 0,function(){var n,a,o=this;return yr(this,function(s){switch(s.label){case 0:return[4,this.extractIterations(r)];case 1:return r=s.sent(),Ba(function(){o.accBeta1.assign(z2(o.beta1,o.iterations_+1)),o.accBeta2.assign(z2(o.beta2,o.iterations_+1))}),n=r.length/2,a=!1,this.accumulatedFirstMoment=r.slice(0,n).map(function(u){return{originalName:u.name,variable:u.tensor.variable(a)}}),this.accumulatedSecondMoment=r.slice(n,n*2).map(function(u){return{originalName:u.name,variable:u.tensor.variable(a)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},e.fromConfig=function(r,n){return new r(n.learningRate,n.beta1,n.beta2,n.epsilon)},e}(dd);AT.className="Adam";pd(AT);var NT=function(t){Nh(e,t);function e(r,n,a,o,s){o===void 0&&(o=null),s===void 0&&(s=0);var u=t.call(this)||this;return u.learningRate=r,u.beta1=n,u.beta2=a,u.epsilon=o,u.decay=s,u.accumulatedFirstMoment=[],u.accumulatedWeightedInfNorm=[],Ba(function(){u.iteration=ii(0).variable(),u.accBeta1=ii(n).variable()}),o==null&&(u.epsilon=He.backend.epsilon()),u}return e.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map(function(o){return o.name}):Object.keys(r);Ba(function(){var o=nn(1,n.accBeta1),s=Bi(-n.learningRate,Cr(Qt(n.iteration,n.decay),1));a.forEach(function(u,f){var l=He.registeredVariables[u],c=!1;n.accumulatedFirstMoment[f]==null&&(n.accumulatedFirstMoment[f]={originalName:u+"/m",variable:hu(l).variable(c)}),n.accumulatedWeightedInfNorm[f]==null&&(n.accumulatedWeightedInfNorm[f]={originalName:u+"/v",variable:hu(l).variable(c)});var h=Array.isArray(r)?r[f].tensor:r[u];if(h!=null){var m=n.accumulatedFirstMoment[f].variable,g=n.accumulatedWeightedInfNorm[f].variable,b=Cr(Qt(m,n.beta1),Qt(h,1-n.beta1)),A=Qt(g,n.beta2),I=cu(h),C=Ude(A,I);m.assign(b),g.assign(C);var R=Cr(Qt(Bi(s,o),Bi(b,Cr(C,n.epsilon))),l);l.assign(R)}}),n.iteration.assign(Cr(n.iteration,1)),n.accBeta1.assign(Qt(n.accBeta1,n.beta1))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&ys(this.accumulatedFirstMoment.map(function(r){return r.variable})),this.accumulatedWeightedInfNorm!=null&&ys(this.accumulatedWeightedInfNorm.map(function(r){return r.variable}))},e.prototype.getWeights=function(){return gr(this,void 0,void 0,function(){return yr(this,function(r){throw new Error("getWeights() is not implemented for Adamax yet.")})})},e.prototype.setWeights=function(r){return gr(this,void 0,void 0,function(){return yr(this,function(n){throw new Error("setWeights() is not implemented for Adamax yet.")})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},e.fromConfig=function(r,n){return new r(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)},e}(dd);NT.className="Adamax";pd(NT);var X2=function(t){Nh(e,t);function e(r){var n=t.call(this)||this;return n.learningRate=r,n.setLearningRate(r),n}return e.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map(function(o){return o.name}):Object.keys(r);a.forEach(function(o,s){var u=Array.isArray(r)?r[s].tensor:r[o];if(u!=null){var f=He.registeredVariables[o];Ba(function(){var l=Cr(Qt(n.c,u),f);f.assign(l)})}}),this.incrementIterations()},e.prototype.setLearningRate=function(r){this.learningRate=r,this.c!=null&&this.c.dispose(),this.c=Xpe(ii(-r))},e.prototype.dispose=function(){this.c.dispose()},e.prototype.getWeights=function(){return gr(this,void 0,void 0,function(){return yr(this,function(r){switch(r.label){case 0:return[4,this.saveIterations()];case 1:return[2,[r.sent()]]}})})},e.prototype.setWeights=function(r){return gr(this,void 0,void 0,function(){return yr(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(r)];case 1:if(r=n.sent(),r.length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate}},e.fromConfig=function(r,n){return new r(n.learningRate)},e}(dd);X2.className="SGD";pd(X2);var TT=function(t){Nh(e,t);function e(r,n,a){a===void 0&&(a=!1);var o=t.call(this,r)||this;return o.learningRate=r,o.momentum=n,o.useNesterov=a,o.accumulations=[],o.m=ii(o.momentum),o}return e.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map(function(o){return o.name}):Object.keys(r);a.forEach(function(o,s){var u=He.registeredVariables[o];if(n.accumulations[s]==null){var f=!1;n.accumulations[s]={originalName:o+"/momentum",variable:Ba(function(){return hu(u).variable(f)})}}var l=n.accumulations[s].variable,c=Array.isArray(r)?r[s].tensor:r[o];c!=null&&Ba(function(){var h,m=Cr(Qt(n.m,l),c);n.useNesterov?h=Cr(Qt(n.c,Cr(c,Qt(m,n.m))),u):h=Cr(Qt(n.c,m),u),l.assign(m),u.assign(h)})}),this.incrementIterations()},e.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&ys(this.accumulations.map(function(r){return r.variable}))},e.prototype.setMomentum=function(r){this.momentum=r},e.prototype.getWeights=function(){return gr(this,void 0,void 0,function(){return yr(this,function(r){switch(r.label){case 0:return[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(this.accumulations.map(function(n){return{name:n.originalName,tensor:n.variable}}))]}})})},e.prototype.setWeights=function(r){return gr(this,void 0,void 0,function(){var n;return yr(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(r)];case 1:return r=a.sent(),n=!1,this.accumulations=r.map(function(o){return{originalName:o.name,variable:o.tensor.variable(n)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},e.fromConfig=function(r,n){return new r(n.learningRate,n.momentum,n.useNesterov)},e}(X2);TT.className="Momentum";pd(TT);var DT=function(t){Nh(e,t);function e(r,n,a,o,s){n===void 0&&(n=.9),a===void 0&&(a=0),o===void 0&&(o=null),s===void 0&&(s=!1);var u=t.call(this)||this;if(u.learningRate=r,u.decay=n,u.momentum=a,u.epsilon=o,u.accumulatedMeanSquares=[],u.accumulatedMoments=[],u.accumulatedMeanGrads=[],u.centered=s,o==null&&(u.epsilon=He.backend.epsilon()),r==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return u}return e.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map(function(o){return o.name}):Object.keys(r);a.forEach(function(o,s){var u=He.registeredVariables[o],f=!1;n.accumulatedMeanSquares[s]==null&&(n.accumulatedMeanSquares[s]={originalName:o+"/rms",variable:Ba(function(){return hu(u).variable(f)})}),n.accumulatedMoments[s]==null&&(n.accumulatedMoments[s]={originalName:o+"/momentum",variable:Ba(function(){return hu(u).variable(f)})}),n.accumulatedMeanGrads[s]==null&&n.centered&&(n.accumulatedMeanGrads[s]={originalName:o+"/mg",variable:Ba(function(){return hu(u).variable(f)})});var l=Array.isArray(r)?r[s].tensor:r[o];if(l!=null){var c=n.accumulatedMeanSquares[s].variable,h=n.accumulatedMoments[s].variable;Ba(function(){var m=Cr(Qt(c,n.decay),Qt(bl(l),1-n.decay));if(n.centered){var g=n.accumulatedMeanGrads[s].variable,b=Cr(Qt(g,n.decay),Qt(l,1-n.decay)),A=Bi(Qt(l,n.learningRate),Ah(nn(m,Cr(bl(b),n.epsilon)))),I=Cr(Qt(h,n.momentum),A);c.assign(m),g.assign(b),h.assign(I);var C=nn(u,I);u.assign(C)}else{var R=Cr(Qt(c,n.decay),Qt(bl(l),1-n.decay)),I=Cr(Qt(h,n.momentum),Bi(Qt(l,n.learningRate),Ah(Cr(R,n.epsilon))));c.assign(R),h.assign(I);var C=nn(u,I);u.assign(C)}})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&ys(this.accumulatedMeanSquares.map(function(r){return r.variable})),this.accumulatedMeanGrads!=null&&this.centered&&ys(this.accumulatedMeanGrads.map(function(r){return r.variable})),this.accumulatedMoments!=null&&ys(this.accumulatedMoments.map(function(r){return r.variable}))},e.prototype.getWeights=function(){return gr(this,void 0,void 0,function(){var r;return yr(this,function(n){switch(n.label){case 0:return r=Jn(this.accumulatedMeanSquares,this.accumulatedMoments),this.centered&&r.push.apply(r,Jn(this.accumulatedMeanGrads)),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(r.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},e.prototype.setWeights=function(r){return gr(this,void 0,void 0,function(){var n,a;return yr(this,function(o){switch(o.label){case 0:return[4,this.extractIterations(r)];case 1:return r=o.sent(),n=this.centered?r.length/3:r.length/2,a=!1,this.accumulatedMeanSquares=r.slice(0,n).map(function(s){return{originalName:s.name,variable:s.tensor.variable(a)}}),this.accumulatedMoments=r.slice(n,n*2).map(function(s){return{originalName:s.name,variable:s.tensor.variable(a)}}),this.centered&&(this.accumulatedMeanGrads=r.slice(n*2,n*3).map(function(s){return{originalName:s.name,variable:s.tensor.variable(a)}})),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},e.fromConfig=function(r,n){return new r(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)},e}(dd);DT.className="RMSProp";pd(DT);var nd=function(){function t(){}return t.sgd=function(e){return new X2(e)},t.momentum=function(e,r,n){return n===void 0&&(n=!1),new TT(e,r,n)},t.rmsprop=function(e,r,n,a,o){return r===void 0&&(r=.9),n===void 0&&(n=0),a===void 0&&(a=null),o===void 0&&(o=!1),new DT(e,r,n,a,o)},t.adam=function(e,r,n,a){return e===void 0&&(e=.001),r===void 0&&(r=.9),n===void 0&&(n=.999),a===void 0&&(a=null),new AT(e,r,n,a)},t.adadelta=function(e,r,n){return e===void 0&&(e=.001),r===void 0&&(r=.95),n===void 0&&(n=null),new ET(e,r,n)},t.adamax=function(e,r,n,a,o){return e===void 0&&(e=.002),r===void 0&&(r=.9),n===void 0&&(n=.999),a===void 0&&(a=null),o===void 0&&(o=0),new NT(e,r,n,a,o)},t.adagrad=function(e,r){return r===void 0&&(r=.1),new MT(e,r)},t}();var r2t={sgd:nd.sgd,momentum:nd.momentum,adadelta:nd.adadelta,adagrad:nd.adagrad,rmsprop:nd.rmsprop,adamax:nd.adamax,adam:nd.adam};var n2t=function(){return typeof requestAnimationFrame!="undefined"?requestAnimationFrame:typeof setImmediate!="undefined"?setImmediate:function(t){return t()}}();function i2t(){return new Promise(function(t){return n2t(function(){return t()})})}function a2t(t,e){var r=t[0].length;t.forEach(function(a,o){Le(a.length===r,function(){return"Error in concat"+r+"D: rank of tensors["+o+"] must be the same "+("as the rank of the rest ("+r+")")})}),Le(e>=0&&e<r,function(){return"Error in concat"+r+"D: axis must be between 0 and "+(r-1)+"."});var n=t[0];t.forEach(function(a,o){for(var s=0;s<r;s++)Le(s===e||a[s]===n[s],function(){return"Error in concat"+r+"D: Shape of tensors["+o+"] ("+a+") "+("does not match the shape of the rest ("+n+") ")+("along the non-concatenated axis "+o+".")})})}function o2t(t,e){for(var r=t[0].slice(),n=1;n<t.length;n++)r[e]+=t[n][e];return r}var q9=30;function s2t(t){return t<=q9?t:ZN(t,Math.floor(Math.sqrt(t)))}function u2t(t,e,r){var n=r*(typeof t=="number"?t:t[0]),a=e*(typeof t=="number"?t:t[1]);return[n,a]}function f2t(t,e,r,n){n===void 0&&(n=!0);var a=[];if(n)a=a.concat(e.slice(0)),a.push(t[0]/r),a=a.concat(t.slice(1));else{a=a.concat(t[0]);for(var o=e.length,s=0;s<o;++s)a=a.concat([t[s+1]/e[s],e[s]]);a=a.concat(t.slice(o+1))}return a}function l2t(t,e,r){r===void 0&&(r=!0);var n=[];if(r){n.push(e);for(var a=e+1;a<t;++a)a<=2*e?(n.push(a),n.push(a-(e+1))):n.push(a)}else{for(var o=[],s=[],a=1;a<t;++a)a>=e*2+1||a%2===1?s.push(a):o.push(a);n.push.apply(n,Jn(o)),n.push(0),n.push.apply(n,Jn(s))}return n}function c2t(t,e,r,n){n===void 0&&(n=!0);var a=[];n?a.push(t[0]/r):a.push(t[0]*r);for(var o=1;o<t.length;++o)o<=e.length?n?a.push(e[o-1]*t[o]):a.push(t[o]/e[o-1]):a.push(t[o]);return a}function h2t(t,e){for(var r=[0],n=0;n<e;++n)r.push(t[n][0]);return r}function p2t(t,e,r){for(var n=t.slice(0,1),a=0;a<r;++a)n.push(t[a+1]-e[a][0]-e[a][1]);return n}var d2t=1.7580993408473768,m2t=1.0507009873554805;var v2t=.3275911,g2t=.254829592,y2t=-.284496736,b2t=1.421413741,w2t=-1.453152027,x2t=1.061405429;function _2t(t,e){if(t.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+(t.length+", imag: "+e.length+"."));for(var r=new Float32Array(t.length*2),n=0;n<r.length;n+=2)r[n]=t[n/2],r[n+1]=e[n/2];return r}function S2t(t){for(var e=new Float32Array(t.length/2),r=new Float32Array(t.length/2),n=0;n<t.length;n+=2)e[n/2]=t[n],r[n/2]=t[n+1];return{real:e,imag:r}}function E2t(t){for(var e=Math.ceil(t.length/4),r=new Float32Array(e),n=new Float32Array(e),a=0;a<t.length;a+=4)r[Math.floor(a/4)]=t[a],n[Math.floor(a/4)]=t[a+1];return{real:r,imag:n}}function M2t(t){for(var e=Math.floor(t.length/4),r=new Float32Array(e),n=new Float32Array(e),a=2;a<t.length;a+=4)r[Math.floor(a/4)]=t[a],n[Math.floor(a/4)]=t[a+1];return{real:r,imag:n}}function A2t(t,e){var r=t[e*2],n=t[e*2+1];return{real:r,imag:n}}function N2t(t,e,r,n){t[n*2]=e,t[n*2+1]=r}function T2t(t,e){for(var r=new Float32Array(t/2),n=new Float32Array(t/2),a=0;a<Math.ceil(t/2);a++){var o=(e?2:-2)*Math.PI*(a/t);r[a]=Math.cos(o),n[a]=Math.sin(o)}return{real:r,imag:n}}function D2t(t,e,r){var n=(r?2:-2)*Math.PI*(t/e),a=Math.cos(n),o=Math.sin(n);return{real:a,imag:o}}var IB="->",k2t=/->/g,Mle=",",Ale="...";function I2t(t,e){t=t.replace(/\s/g,"");var r=(t.length-t.replace(k2t,"").length)/IB.length;if(r<1)throw new Error("Equations without an arrow are not supported.");if(r>1)throw new Error('Equation must contain exactly one arrow ("'+IB+'").');var n=ur(t.split(IB),2),a=n[0],o=n[1];Le(a.indexOf(Ale)===-1,function(){return'The ellipsis notation ("'+Ale+'") is not supported yet.'});var s=a.split(Mle),u=s.length;if(e!==u)throw new Error("Expected "+u+" input tensors, received "+e);if(u>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var f=[],l=function(C){var R=o[C];if(!s.some(function(O){return O.indexOf(R)!==-1}))throw new Error("Output subscripts contain the label "+R+" not present in the input subscripts.");f.indexOf(R)===-1&&f.push(R)},c=0;c<o.length;++c)l(c);for(var c=0;c<a.length;++c){var h=a[c];f.indexOf(h)===-1&&h!==Mle&&f.push(h)}for(var m=new Array(s.length),c=0;c<u;++c){if(new Set(s[c].split("")).size!==s[c].length)throw new Error("Found duplicate axes in input component "+s[c]+". Support for duplicate axes in input is not implemented yet.");m[c]=[];for(var g=0;g<s[c].length;++g)m[c].push(f.indexOf(s[c][g]))}for(var b=f.length,A=o.length,I=[],c=A;c<b;++c)I.push(c);return{allDims:f,summedDims:I,idDims:m}}function C2t(t,e){var r=new Array(t);r.fill(-1);for(var n=0;n<e.length;++n)r[e[n]]=n;for(var a=[],n=0;n<t;++n)r[n]===-1&&a.push(n);return r=r.filter(function(o){return o!==-1}),{permutationIndices:r,expandDims:a}}function O2t(t,e,r){for(var n=new Array(t),a=function(s){for(var u=r[s].shape,f=function(c){n[e[s][c]]===void 0?n[e[s][c]]=u[c]:Le(n[e[s][c]]===u[c],function(){return"Expected dimension "+n[e[s][c]]+" at axis "+c+" "+("of input shaped "+JSON.stringify(u)+", ")+("but got dimension "+u[c])})},l=0;l<e[s].length;++l)f(l)},o=0;o<r.length;++o)a(o)}function R2t(t,e){var r,n,a=t,o=[],s=0;t.length===0&&a.push(-1),s=t.length+1;for(var u=0;u<s;++u)o.push([]);for(var f=[],u=0;u<a.length;++u){var l=a[u],c=B2t(e,l);try{for(var h=(r=void 0,Ps(c)),m=h.next();!m.done;m=h.next()){var g=m.value;f.indexOf(g)===-1&&(o[u].push(g),f.push(g))}}catch(A){r={error:A}}finally{try{m&&!m.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}}return{path:a,steps:o}}function F2t(t){return t.every(function(e,r){return e===r})}function B2t(t,e){for(var r=[],n=0;n<t.length;++n)(t[n].length===0||t[n].indexOf(e)!==-1||e===-1)&&r.push(n);return r}function L2t(t,e,r){r===void 0&&(r=0);var n=[];if(typeof e=="number")Le(t.shape[r]%e===0,function(){return"Number of splits must evenly divide the axis."}),n=new Array(e).fill(t.shape[r]/e);else{var a=e.reduce(function(u,f){return f===-1&&(u+=1),u},0);Le(a<=1,function(){return"There should be only one negative value in split array."});var o=e.indexOf(-1);if(o!==-1){var s=e.reduce(function(u,f){return f>0?u+f:u});e[o]=t.shape[r]-s}Le(t.shape[r]===e.reduce(function(u,f){return u+f}),function(){return"The sum of sizes must match the size of the axis dimension."}),n=e}return n}function P2t(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = `+t}function q2t(t,e){return"indices("+t+", 0) is invalid: "+e+" < 0"}function z2t(t,e,r){return"indices("+t+", 0) is invalid: "+e+" >= "+r}function U2t(t,e){return"only one output dimension may be -1, not both "+t+" and "+e}function j2t(t,e){return"size "+t+" must be non-negative, not "+e}function $2t(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function V2t(t,e){var r=Li(t),n=Li(e);return"Input to reshape is a SparseTensor with "+r+`
  dense values, but the requested shape requires a multiple of `+n+". inputShape="+t+" outputShape= "+e}function W2t(t,e){var r=Li(t),n=Li(e);return"Input to reshape is a tensor with "+r+" dense values, but the requested shape has "+n+". inputShape="+t+" outputShape="+e}function G2t(){return"segment ids must be >= 0"}function H2t(){return"segment ids are not increasing"}function K2t(t,e){return"Segment id "+t+" out of range [0, "+e+"), possibly because segmentIds input is not sorted."}function Z2t(t,e,r){return"Bad: indices["+t+"] == "+e+" out of range [0, "+r+")"}function J2t(t,e){var r=!1,n;for(t<=q9?(n=t,r=!0):n=ZN(t,Math.floor(Math.sqrt(t)));!r;)n>e||n===t?r=!0:n=ZN(t,n+1);return n}function Y2t(t,e,r){for(var n=[],a=t.length,o=0;o<a;o++)o!==e?n.push(t[o]):n.push(r);return n}function X2t(t,e,r,n){var a=e.shape.length,o=t.shape.length;if(n!==0&&(n<-a||n>a))throw new Error("Expect batchDims in the range of [-"+a+", "+a+"], but got "+n);if(n<0&&(n+=a),n>o)throw new Error("batchDims ("+n+`) must be less than rank(x) (
    `+o+").");if(r<n)throw new Error("batchDims ("+n+") must be less than or equal to axis ("+r+").");for(var s=0;s<n;++s)if(t.shape[s]!==e.shape[s])throw new Error("x.shape["+s+"]: "+t.shape[s]+" should be equal to indices.shape["+s+"]: "+e.shape[s]+".");for(var u=t.shape[r],f=[],l=1,c=1,h=1,s=0;s<n;++s)f.push(t.shape[s]),l*=t.shape[s];for(var s=n;s<r;s++)f.push(t.shape[s]),c*=t.shape[s];for(var s=n;s<a;s++)f.push(e.shape[s]);for(var s=r+1;s<o;s++)f.push(t.shape[s]),h*=t.shape[s];return{batchSize:l,sliceSize:h,outerSize:c,dimSize:u,outputShape:f}}var Q2t={__proto__:null,segOpComputeOptimalWindowSize:J2t,computeOutShape:Y2t,collectGatherOpShapeInfo:X2t};function e_t(t){try{return t.map(function(e){return QN(e)})}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8, error: "+e)}}function t_t(t){return t.map(function(e){return H2(e)})}var r_t={__proto__:null,slice_util:hde,segment_util:Q2t,fromUint8ToStringArray:e_t,fromStringArrayToUint8:t_t,upcastType:cT,axesAreInnerMostDims:T9,combineLocations:Nde,computeOutAndReduceShapes:kgt,expandShapeToKeepDim:J2,assertAxesAreInnerMostDims:Igt,getAxesPermutation:Cgt,getUndoAxesPermutation:Ogt,getInnerMostAxes:Rgt,getBroadcastDims:Qpe,getReductionAxes:x9,assertAndGetBroadcastShape:La,assertParamsConsistent:a2t,computeOutShape:o2t,computeDilation2DInfo:rvt,computePool2DInfo:yde,computePool3DInfo:nvt,computeConv2DInfo:Z2,computeConv3DInfo:bde,computeDefaultPad:A9,tupleValuesAreOne:q2,eitherStridesOrDilationsAreOne:Th,convertConv2DDataFormat:wde,checkPadOnDimRoundingMode:df,getFusedDyActivation:wT,getFusedBiasGradient:xT,applyActivation:_T,shouldFuse:ST,PARALLELIZE_THRESHOLD:q9,computeOptimalWindowSize:s2t,getImageCenter:u2t,getReshaped:f2t,getPermuted:l2t,getReshapedPermuted:c2t,getSliceBeginCoords:h2t,getSliceSize:p2t,prepareAndValidate:rde,validateUpdateShape:_9,validateInput:S9,calculateShapes:nde,SELU_SCALEALPHA:d2t,SELU_SCALE:m2t,ERF_P:v2t,ERF_A1:g2t,ERF_A2:y2t,ERF_A3:b2t,ERF_A4:w2t,ERF_A5:x2t,warn:id,log:$pt,mergeRealAndImagArrays:_2t,splitRealAndImagArrays:S2t,complexWithEvenIndex:E2t,complexWithOddIndex:M2t,getComplexWithIndex:A2t,assignToTypedArray:N2t,exponents:T2t,exponent:D2t,decodeEinsumEquation:I2t,getEinsumPermutation:C2t,checkEinsumDimSizes:O2t,getEinsumComputePath:R2t,isIdentityPermutation:F2t,prepareSplitSize:L2t,getSparseFillEmptyRowsIndicesDenseShapeMismatch:P2t,getSparseFillEmptyRowsNegativeIndexErrorMessage:q2t,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:z2t,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:U2t,getSparseReshapeNegativeOutputDimErrorMessage:j2t,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:$2t,getSparseReshapeInputOutputMultipleErrorMessage:V2t,getSparseReshapeInputOutputMismatchErrorMessage:W2t,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:G2t,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:H2t,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:K2t,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:Z2t};var n_t={__proto__:null,nonMaxSuppressionV3Impl:ime,nonMaxSuppressionV4Impl:ame,nonMaxSuppressionV5Impl:ome,whereImpl:Qde};me.Abs=zle;me.Acos=Ule;me.Acosh=jle;me.AdadeltaOptimizer=ET;me.AdagradOptimizer=MT;me.AdamOptimizer=AT;me.AdamaxOptimizer=NT;me.Add=u9;me.AddN=$le;me.All=Vle;me.Any=Wle;me.ArgMax=Gle;me.ArgMin=Hle;me.Asin=Kle;me.Asinh=Zle;me.Atan=Jle;me.Atan2=Xle;me.Atanh=Yle;me.AvgPool=Qle;me.AvgPool3D=ece;me.AvgPool3DGrad=Apt;me.AvgPoolGrad=Mpt;me.BatchMatMul=tce;me.BatchToSpaceND=rce;me.Bincount=nce;me.BroadcastArgs=ice;me.BroadcastTo=Npt;me.Cast=f9;me.Ceil=ace;me.ClipByValue=oce;me.Complex=sce;me.ComplexAbs=uce;me.Concat=fce;me.Conv2D=lce;me.Conv2DBackpropFilter=cce;me.Conv2DBackpropInput=hce;me.Conv3D=pce;me.Conv3DBackpropFilterV2=Tpt;me.Conv3DBackpropInputV2=dce;me.Cos=mce;me.Cosh=vce;me.CropAndResize=bce;me.Cumprod=gce;me.Cumsum=yce;me.DataStorage=ipt;me.DenseBincount=wce;me.DepthToSpace=xce;me.DepthwiseConv2dNative=_ce;me.DepthwiseConv2dNativeBackpropFilter=Sce;me.DepthwiseConv2dNativeBackpropInput=Ece;me.Diag=Mce;me.Dilation2D=Ace;me.Dilation2DBackpropFilter=kpt;me.Dilation2DBackpropInput=Dpt;me.Einsum=Tce;me.Elu=Dce;me.EluGrad=Ipt;me.Environment=Ple;me.Equal=Ice;me.Erf=kce;me.Exp=Cce;me.ExpandDims=Oce;me.Expm1=Rce;me.FFT=Fce;me.Fill=Bce;me.FlipLeftRight=Lce;me.Floor=Pce;me.FloorDiv=qce;me.FromPixels=RB;me.FusedBatchNorm=zce;me.FusedConv2D=BB;me.FusedDepthwiseConv2D=LB;me.GatherNd=jce;me.GatherV2=Uce;me.Greater=$ce;me.GreaterEqual=Vce;me.IFFT=Wce;me.Identity=l9;me.Imag=Gce;me.IsFinite=Hce;me.IsInf=Kce;me.IsNan=Zce;me.KernelBackend=Nle;me.LRN=ahe;me.LRNGrad=Fpt;me.LeakyRelu=Jce;me.Less=Yce;me.LessEqual=Xce;me.LinSpace=Qce;me.Log=ehe;me.Log1p=the;me.LogSoftmax=Opt;me.LogicalAnd=rhe;me.LogicalNot=nhe;me.LogicalOr=ihe;me.LogicalXor=Cpt;me.LowerBound=Rpt;me.Max=ohe;me.MaxPool=uhe;me.MaxPool3D=fhe;me.MaxPool3DGrad=Lpt;me.MaxPoolGrad=Bpt;me.MaxPoolWithArgmax=lhe;me.Maximum=she;me.Mean=che;me.Min=hhe;me.Minimum=phe;me.MirrorPad=dhe;me.Mod=mhe;me.MomentumOptimizer=TT;me.Multinomial=vhe;me.Multiply=ghe;me.Neg=yhe;me.NonMaxSuppressionV3=whe;me.NonMaxSuppressionV4=xhe;me.NonMaxSuppressionV5=_he;me.NotEqual=bhe;me.OP_SCOPE_SUFFIX=Bpe;me.OneHot=Ehe;me.OnesLike=She;me.Optimizer=dd;me.OptimizerConstructors=nd;me.Pack=Mhe;me.PadV2=Ahe;me.Pool=Ppt;me.Pow=Nhe;me.Prelu=The;me.Prod=Dhe;me.RMSPropOptimizer=DT;me.Range=khe;me.Real=Ihe;me.RealDiv=Nce;me.Reciprocal=Che;me.Relu=Ohe;me.Relu6=Lhe;me.Reshape=Rhe;me.ResizeBilinear=Bhe;me.ResizeBilinearGrad=zpt;me.ResizeNearestNeighbor=Fhe;me.ResizeNearestNeighborGrad=qpt;me.Reverse=Phe;me.RotateWithOffset=_pe;me.Round=qhe;me.Rsqrt=zhe;me.SGDOptimizer=X2;me.ScatterNd=Uhe;me.SearchSorted=jhe;me.Select=$he;me.Selu=Vhe;me.Sigmoid=Zhe;me.Sign=Khe;me.Sin=Ghe;me.Sinh=Hhe;me.Slice=Whe;me.Softmax=tpe;me.Softplus=Jhe;me.SpaceToBatchND=Qhe;me.SparseFillEmptyRows=rpe;me.SparseReshape=npe;me.SparseSegmentMean=ipe;me.SparseSegmentSum=ape;me.SparseToDense=ope;me.SplitV=epe;me.Sqrt=Yhe;me.Square=Upt;me.SquaredDifference=spe;me.Step=xpe;me.StridedSlice=upe;me.StringNGrams=fpe;me.StringSplit=lpe;me.StringToHashBucketFast=cpe;me.Sub=hpe;me.Sum=Xhe;me.Tan=ppe;me.Tanh=dpe;me.Tensor=Fa;me.TensorBuffer=eT;me.Tile=c9;me.TopK=mpe;me.Transform=vpe;me.Transpose=VN;me.Unique=gpe;me.Unpack=ype;me.UnsortedSegmentSum=bpe;me.UpperBound=jpt;me.Variable=B2;me.ZerosLike=wpe;me._FusedMatMul=FB;me.abs=cu;me.acos=O0t;me.acosh=F0t;me.add=Cr;me.addN=L0t;me.all=q0t;me.any=U0t;me.argMax=$0t;me.argMin=W0t;me.asin=H0t;me.asinh=Z0t;me.atan=Y0t;me.atan2=Q0t;me.atanh=tvt;me.avgPool=xde;me.avgPool3d=cvt;me.backend=Umt;me.backend_util=r_t;me.basicLSTMCell=gvt;me.batchNorm=pT;me.batchNorm2d=_vt;me.batchNorm3d=Evt;me.batchNorm4d=Avt;me.batchToSpaceND=_de;me.bincount=Sde;me.booleanMaskAsync=Zbt;me.broadcastArgs=Dvt;me.broadcastTo=HN;me.broadcast_util=Jmt;me.browser=i0t;me.buffer=Mh;me.cast=ca;me.ceil=Cvt;me.clipByValue=Rvt;me.clone=E0;me.complex=fd;me.concat=qs;me.concat1d=Bvt;me.concat2d=Pvt;me.concat3d=zvt;me.concat4d=jvt;me.conv1d=Wvt;me.conv2d=dT;me.conv2dTranspose=Kvt;me.conv3d=Jvt;me.conv3dTranspose=egt;me.copyRegisteredKernels=Hpt;me.cos=rgt;me.cosh=igt;me.cosineWindow=L9;me.cumprod=ogt;me.cumsum=ugt;me.customGrad=Mc;me.denseBincount=lgt;me.deprecationWarn=Tmt;me.depthToSpace=hgt;me.depthwiseConv2d=N9;me.device_util=Mdt;me.diag=mgt;me.dilation2d=ggt;me.disableDeprecationWarnings=Nmt;me.dispose=ys;me.disposeVariables=Dmt;me.div=Bi;me.divNoNan=_gt;me.dot=Egt;me.dropout=swt;me.einsum=Agt;me.elu=Ade;me.enableDebugMode=Amt;me.enableProdMode=Mmt;me.enclosingPowerOfTwo=tme;me.engine=kmt;me.env=Qr;me.equal=Mde;me.erf=Dgt;me.euclideanNorm=$gt;me.exp=D0;me.expandDims=b0;me.expm1=Hgt;me.eye=Dde;me.fft=O9;me.fill=vT;me.findBackend=Pmt;me.findBackendFactory=qmt;me.floor=kde;me.floorDiv=gde;me.fused=_wt;me.gather=Ide;me.gatherND=iwt;me.gather_util=a0t;me.getBackend=Bmt;me.getGradient=PB;me.getKernel=JN;me.getKernelsForBackend=YN;me.grad=myt;me.grads=vyt;me.greater=gT;me.greaterEqual=Cde;me.ifft=sT;me.imag=hT;me.image=Yxt;me.inTopKAsync=fwt;me.io=_mt;me.irfft=Jde;me.isFinite=tyt;me.isInf=nyt;me.isNaN=ayt;me.keep=Xpe;me.kernel_impls=n_t;me.leakyRelu=Ode;me.less=uyt;me.lessEqual=D9;me.linalg=Xxt;me.linspace=lyt;me.localResponseNormalization=hyt;me.log=U2;me.log1p=Rde;me.logSigmoid=xyt;me.logSoftmax=Eyt;me.logSumExp=Lde;me.logicalAnd=aT;me.logicalNot=Pde;me.logicalOr=qde;me.logicalXor=kyt;me.losses=Qxt;me.lowerBound=Cyt;me.matMul=ni;me.math=Zmt;me.max=Ay;me.maxPool=zde;me.maxPool3d=Fyt;me.maxPoolWithArgmax=Lyt;me.maximum=Ude;me.mean=oT;me.memory=Imt;me.meshgrid=zyt;me.min=n9;me.minimum=jde;me.mirrorPad=$yt;me.mod=Wyt;me.moments=Hyt;me.movingAverage=Ybt;me.mul=Qt;me.multiRNNCell=Zyt;me.multinomial=Yyt;me.neg=Eh;me.nextFrame=i2t;me.norm=mT;me.notEqual=$de;me.oneHot=XB;me.ones=S0;me.onesLike=e1t;me.op=We;me.outerProduct=r1t;me.pad=Y2;me.pad1d=a1t;me.pad2d=s1t;me.pad3d=f1t;me.pad4d=c1t;me.pool=v1t;me.pow=z2;me.prelu=Wde;me.print=Gpe;me.prod=b1t;me.profile=Cmt;me.rand=x1t;me.randomGamma=I1t;me.randomNormal=Gde;me.randomStandardNormal=R1t;me.randomUniform=Hde;me.range=j2;me.ready=Fmt;me.real=P2;me.reciprocal=L1t;me.registerBackend=zmt;me.registerGradient=Vpt;me.registerKernel=Spe;me.relu=bT;me.relu6=Kde;me.removeBackend=Lmt;me.reshape=Ot;me.reverse=k0;me.reverse1d=j1t;me.reverse2d=V1t;me.reverse3d=G1t;me.reverse4d=K1t;me.rfft=R9;me.round=Zde;me.rsqrt=Y1t;me.scalar=ii;me.scatterND=Qbt;me.scatter_util=o0t;me.searchSorted=k9;me.selu=Q1t;me.separableConv2d=tbt;me.serialization=g0t;me.setBackend=Rmt;me.setPlatform=jmt;me.setdiff1dAsync=nbt;me.sigmoid=My;me.sign=abt;me.signal=Jxt;me.sin=sbt;me.sinh=fbt;me.slice=Wi;me.slice1d=cbt;me.slice2d=pbt;me.slice3d=mbt;me.slice4d=gbt;me.slice_util=hde;me.softmax=bbt;me.softplus=Bde;me.spaceToBatchND=Vde;me.sparse=e2t;me.sparseToDense=rwt;me.spectral=Zxt;me.split=$2;me.sqrt=Ah;me.square=bl;me.squaredDifference=Yde;me.squeeze=F9;me.stack=V2;me.step=Xde;me.stridedSlice=kbt;me.string=t2t;me.sub=nn;me.sum=Fi;me.sumOutType=vdt;me.tan=Cbt;me.tanh=r9;me.tensor=_y;me.tensor1d=yl;me.tensor2d=C2;me.tensor3d=ede;me.tensor4d=Obt;me.tensor5d=Rbt;me.tensor6d=Fbt;me.tensor_util=bdt;me.test_util=M0t;me.tidy=Ba;me.tile=I2;me.time=Omt;me.topk=Lbt;me.train=r2t;me.transpose=nT;me.truncatedNormal=qbt;me.unique=Ubt;me.unregisterGradient=Gpt;me.unregisterKernel=Wpt;me.unsortedSegmentSum=$bt;me.unstack=B9;me.upcastType=cT;me.upperBound=Wbt;me.util=idt;me.valueAndGrad=gyt;me.valueAndGrads=yyt;me.variable=Gbt;me.variableGrads=Fde;me.version_core=A0t;me.where=ky;me.whereAsync=eme;me.zeros=Iy;me.zerosLike=hu});var Yye=Ee((Jye,M7)=>{w();_();(function(t,e,r){function n(u){var f=this,l=s();f.next=function(){var c=2091639*f.s0+f.c*23283064365386963e-26;return f.s0=f.s1,f.s1=f.s2,f.s2=c-(f.c=c|0)},f.c=1,f.s0=l(" "),f.s1=l(" "),f.s2=l(" "),f.s0-=l(u),f.s0<0&&(f.s0+=1),f.s1-=l(u),f.s1<0&&(f.s1+=1),f.s2-=l(u),f.s2<0&&(f.s2+=1),l=null}function a(u,f){return f.c=u.c,f.s0=u.s0,f.s1=u.s1,f.s2=u.s2,f}function o(u,f){var l=new n(u),c=f&&f.state,h=l.next;return h.int32=function(){return l.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,c&&(typeof c=="object"&&a(c,l),h.state=function(){return a(l,{})}),h}function s(){var u=4022871197,f=function(l){l=String(l);for(var c=0;c<l.length;c++){u+=l.charCodeAt(c);var h=.02519603282416938*u;u=h>>>0,h-=u,h*=u,u=h>>>0,h-=u,u+=h*4294967296}return(u>>>0)*23283064365386963e-26};return f}e&&e.exports?e.exports=o:r&&r.amd?r(function(){return o}):this.alea=o})(Jye,typeof M7=="object"&&M7,typeof define=="function"&&define)});var Qye=Ee((Xye,A7)=>{w();_();(function(t,e,r){function n(s){var u=this,f="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var c=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^c^c>>>8},s===(s|0)?u.x=s:f+=s;for(var l=0;l<f.length+64;l++)u.x^=f.charCodeAt(l)|0,u.next()}function a(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u}function o(s,u){var f=new n(s),l=u&&u.state,c=function(){return(f.next()>>>0)/4294967296};return c.double=function(){do var h=f.next()>>>11,m=(f.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},c.int32=f.next,c.quick=c,l&&(typeof l=="object"&&a(l,f),c.state=function(){return a(f,{})}),c}e&&e.exports?e.exports=o:r&&r.amd?r(function(){return o}):this.xor128=o})(Xye,typeof A7=="object"&&A7,typeof define=="function"&&define)});var t1e=Ee((e1e,N7)=>{w();_();(function(t,e,r){function n(s){var u=this,f="";u.next=function(){var c=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^(c^c<<1))|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,s===(s|0)?u.x=s:f+=s;for(var l=0;l<f.length+64;l++)u.x^=f.charCodeAt(l)|0,l==f.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function a(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u.v=s.v,u.d=s.d,u}function o(s,u){var f=new n(s),l=u&&u.state,c=function(){return(f.next()>>>0)/4294967296};return c.double=function(){do var h=f.next()>>>11,m=(f.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},c.int32=f.next,c.quick=c,l&&(typeof l=="object"&&a(l,f),c.state=function(){return a(f,{})}),c}e&&e.exports?e.exports=o:r&&r.amd?r(function(){return o}):this.xorwow=o})(e1e,typeof N7=="object"&&N7,typeof define=="function"&&define)});var n1e=Ee((r1e,T7)=>{w();_();(function(t,e,r){function n(s){var u=this;u.next=function(){var l=u.x,c=u.i,h,m,g;return h=l[c],h^=h>>>7,m=h^h<<24,h=l[c+1&7],m^=h^h>>>10,h=l[c+3&7],m^=h^h>>>3,h=l[c+4&7],m^=h^h<<7,h=l[c+7&7],h=h^h<<13,m^=h^h<<9,l[c]=m,u.i=c+1&7,m};function f(l,c){var h,m,g=[];if(c===(c|0))m=g[0]=c;else for(c=""+c,h=0;h<c.length;++h)g[h&7]=g[h&7]<<15^c.charCodeAt(h)+g[h+1&7]<<13;for(;g.length<8;)g.push(0);for(h=0;h<8&&g[h]===0;++h);for(h==8?m=g[7]=-1:m=g[h],l.x=g,l.i=0,h=256;h>0;--h)l.next()}f(u,s)}function a(s,u){return u.x=s.x.slice(),u.i=s.i,u}function o(s,u){s==null&&(s=+new Date);var f=new n(s),l=u&&u.state,c=function(){return(f.next()>>>0)/4294967296};return c.double=function(){do var h=f.next()>>>11,m=(f.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},c.int32=f.next,c.quick=c,l&&(l.x&&a(l,f),c.state=function(){return a(f,{})}),c}e&&e.exports?e.exports=o:r&&r.amd?r(function(){return o}):this.xorshift7=o})(r1e,typeof T7=="object"&&T7,typeof define=="function"&&define)});var a1e=Ee((i1e,D7)=>{w();_();(function(t,e,r){function n(s){var u=this;u.next=function(){var l=u.w,c=u.X,h=u.i,m,g;return u.w=l=l+1640531527|0,g=c[h+34&127],m=c[h=h+1&127],g^=g<<13,m^=m<<17,g^=g>>>15,m^=m>>>12,g=c[h]=g^m,u.i=h,g+(l^l>>>16)|0};function f(l,c){var h,m,g,b,A,I=[],C=128;for(c===(c|0)?(m=c,c=null):(c=c+"\0",m=0,C=Math.max(C,c.length)),g=0,b=-32;b<C;++b)c&&(m^=c.charCodeAt((b+32)%c.length)),b===0&&(A=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,b>=0&&(A=A+1640531527|0,h=I[b&127]^=m+A,g=h==0?g+1:0);for(g>=128&&(I[(c&&c.length||0)&127]=-1),g=127,b=4*128;b>0;--b)m=I[g+34&127],h=I[g=g+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,I[g]=m^h;l.w=A,l.X=I,l.i=g}f(u,s)}function a(s,u){return u.i=s.i,u.w=s.w,u.X=s.X.slice(),u}function o(s,u){s==null&&(s=+new Date);var f=new n(s),l=u&&u.state,c=function(){return(f.next()>>>0)/4294967296};return c.double=function(){do var h=f.next()>>>11,m=(f.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},c.int32=f.next,c.quick=c,l&&(l.X&&a(l,f),c.state=function(){return a(f,{})}),c}e&&e.exports?e.exports=o:r&&r.amd?r(function(){return o}):this.xor4096=o})(i1e,typeof D7=="object"&&D7,typeof define=="function"&&define)});var s1e=Ee((o1e,k7)=>{w();_();(function(t,e,r){function n(s){var u=this,f="";u.next=function(){var c=u.b,h=u.c,m=u.d,g=u.a;return c=c<<25^c>>>7^h,h=h-m|0,m=m<<24^m>>>8^g,g=g-c|0,u.b=c=c<<20^c>>>12^h,u.c=h=h-m|0,u.d=m<<16^h>>>16^g,u.a=g-c|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,s===Math.floor(s)?(u.a=s/4294967296|0,u.b=s|0):f+=s;for(var l=0;l<f.length+20;l++)u.b^=f.charCodeAt(l)|0,u.next()}function a(s,u){return u.a=s.a,u.b=s.b,u.c=s.c,u.d=s.d,u}function o(s,u){var f=new n(s),l=u&&u.state,c=function(){return(f.next()>>>0)/4294967296};return c.double=function(){do var h=f.next()>>>11,m=(f.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},c.int32=f.next,c.quick=c,l&&(typeof l=="object"&&a(l,f),c.state=function(){return a(f,{})}),c}e&&e.exports?e.exports=o:r&&r.amd?r(function(){return o}):this.tychei=o})(o1e,typeof k7=="object"&&k7,typeof define=="function"&&define)});var f1e=Ee((u1e,o4)=>{w();_();(function(t,e,r){var n=256,a=6,o=52,s="random",u=r.pow(n,a),f=r.pow(2,o),l=f*2,c=n-1,h;function m(O,F,z){var B=[];F=F==!0?{entropy:!0}:F||{};var $=I(A(F.entropy?[O,R(e)]:O==null?C():O,3),B),j=new g(B),W=function(){for(var T=j.g(a),p=u,v=0;T<f;)T=(T+v)*n,p*=n,v=j.g(1);for(;T>=l;)T/=2,p/=2,v>>>=1;return(T+v)/p};return W.int32=function(){return j.g(4)|0},W.quick=function(){return j.g(4)/4294967296},W.double=W,I(R(j.S),e),(F.pass||z||function(T,p,v,S){return S&&(S.S&&b(S,j),T.state=function(){return b(j,{})}),v?(r[s]=T,p):T})(W,$,"global"in F?F.global:this==r,F.state)}function g(O){var F,z=O.length,B=this,$=0,j=B.i=B.j=0,W=B.S=[];for(z||(O=[z++]);$<n;)W[$]=$++;for($=0;$<n;$++)W[$]=W[j=c&j+O[$%z]+(F=W[$])],W[j]=F;(B.g=function(T){for(var p,v=0,S=B.i,y=B.j,M=B.S;T--;)p=M[S=c&S+1],v=v*n+M[c&(M[S]=M[y=c&y+p])+(M[y]=p)];return B.i=S,B.j=y,v})(n)}function b(O,F){return F.i=O.i,F.j=O.j,F.S=O.S.slice(),F}function A(O,F){var z=[],B=typeof O,$;if(F&&B=="object")for($ in O)try{z.push(A(O[$],F-1))}catch(j){}return z.length?z:B=="string"?O:O+"\0"}function I(O,F){for(var z=O+"",B,$=0;$<z.length;)F[c&$]=c&(B^=F[c&$]*19)+z.charCodeAt($++);return R(F)}function C(){try{var O;return h&&(O=h.randomBytes)?O=O(n):(O=new Uint8Array(n),(t.crypto||t.msCrypto).getRandomValues(O)),R(O)}catch(B){var F=t.navigator,z=F&&F.plugins;return[+new Date,t,z,t.screen,R(e)]}}function R(O){return String.fromCharCode.apply(0,O)}if(I(r.random(),e),typeof o4=="object"&&o4.exports){o4.exports=m;try{h=n2()}catch(O){}}else typeof define=="function"&&define.amd?define(function(){return m}):r["seed"+s]=m})(typeof self!="undefined"?self:u1e,[],Math)});var c1e=Ee((Lbr,l1e)=>{w();_();var JEt=Yye(),YEt=Qye(),XEt=t1e(),QEt=n1e(),eMt=a1e(),tMt=s1e(),W0=f1e();W0.alea=JEt;W0.xor128=YEt;W0.xorwow=XEt;W0.xorshift7=QEt;W0.xor4096=eMt;W0.tychei=tMt;l1e.exports=W0});var mxe=Ee(Cd=>{"use strict";w();_();Object.defineProperty(Cd,"__esModule",{value:!0});var ar=_r();function yNt(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,e}var Cbe=yNt(ar);var bNt=ar.env();bNt.registerFlag("KEEP_INTERMEDIATE_TENSORS",function(){return!1},function(t){t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});var uL=function(t,e){return uL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},uL(t,e)};function wNt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");uL(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function yi(t,e,r,n){function a(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(c){try{l(n.next(c))}catch(h){s(h)}}function f(c){try{l(n.throw(c))}catch(h){s(h)}}function l(c){c.done?o(c.value):a(c.value).then(u,f)}l((n=n.apply(t,e||[])).next())})}function ci(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(l){return function(c){return f([l,c])}}function f(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=l[0]&2?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,a=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],a=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function o6(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nr(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,o=[],s;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)o.push(a.value)}catch(u){s={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function xo(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nr(arguments[e]));return t}var Df;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(Df||(Df={}));var Obe;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(Obe||(Obe={}));var OL={};function xNt(t,e){var r={tfOpName:t,category:"custom",inputs:[],attrs:[],customExecutor:e};OL[t]=r}function lwe(t){return OL[t]}function _Nt(t){delete OL[t]}function le(t,e,r,n,a){var o=e.inputParams[t];if(o&&o.inputIndexStart!==void 0){var s=o.inputIndexStart,u=o.inputIndexEnd===0?void 0:o.inputIndexEnd===void 0?s+1:o.inputIndexEnd;if(o.type==="tensor")return us(e.inputNames[o.inputIndexStart],r,n,a);if(o.type==="tensors"){var f=e.inputNames.slice(s,u);return f.map(function(m){return us(m,r,n,a)})}var l=us(e.inputNames.slice(s)[0],r,n,a),c=l.dataSync();return o.type==="number"?c[0]:ar.util.toNestedArray(l.shape,c)}var h=e.attrParams[t];return h&&h.value}function us(t,e,r,n){var a=nr(Ws(t),2),o=a[0],s=a[1];if(n!=null){var u=n.getHashTableHandleByName(o);if(u!=null)return u}var f=r.currentContextIds.find(function(l){return!!e[s6(o,l)]});return f!==void 0?e[s6(o,f)][s]:void 0}function SNt(t,e,r){return e[s6(t,r.currentContextId)]}function Cc(t,e){var r=nr(Ws(t),3),n=r[0],a=r[1],o=r[2];return[s6(n,e&&e.currentContextId),a,o]}function s6(t,e){return e?t+"-"+e:t}function Ws(t){var e=t.split(":");if(e.length===1)return[t,0,void 0];var r=e[0],n=e.length===3?e[1]:void 0,a=Number(e[e.length-1]);return[r,a,n]}function r6(t,e,r){var n=le("pad",t,e,r);if(n==="explicit"){n=le("explicitPaddings",t,e,r);for(var a=[[0,0],[0,0],[0,0],[0,0]],o=0;o<4;o++)a[o][0]=n[o*2],a[o][1]=n[o*2+1];return a}return n}function Zh(t){return t.kept?t:ar.clone(t)}var ENt=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],MNt={__proto__:null,json:ENt};var ANt=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],NNt={__proto__:null,json:ANt};var TNt=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],DNt={__proto__:null,json:TNt};var kNt=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],INt={__proto__:null,json:kNt};var CNt=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],ONt={__proto__:null,json:CNt};var RNt=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],FNt={__proto__:null,json:RNt};var BNt=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],LNt={__proto__:null,json:BNt};var PNt=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],qNt={__proto__:null,json:PNt};var zNt=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],UNt={__proto__:null,json:zNt};var jNt=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],$Nt={__proto__:null,json:jNt};var VNt=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],WNt={__proto__:null,json:VNt};var GNt=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],HNt={__proto__:null,json:GNt};var KNt=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],ZNt={__proto__:null,json:KNt};var JNt=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],YNt={__proto__:null,json:JNt};var XNt=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],QNt={__proto__:null,json:XNt};var eTt=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],tTt={__proto__:null,json:eTt};var rTt=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],nTt={__proto__:null,json:rTt};var iTt=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],aTt={__proto__:null,json:iTt};var oTt=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],sTt={__proto__:null,json:oTt},Rbe=function(){function t(){var e=[MNt,NNt,DNt,INt,ONt,FNt,LNt,qNt,UNt,$Nt,WNt,HNt,ZNt,YNt,QNt,tTt,nTt,aTt,sTt],r=[].concat.apply([],xo(e.map(function(n){return n.json})));this.opMappers=r.reduce(function(n,a){return n[a.tfOpName]=a,n},{})}return Object.defineProperty(t,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),t.prototype.transformGraph=function(e,r){var n=this;r===void 0&&(r={});var a=e.node,o=[],s=[],u=[],f=a.reduce(function(I,C){return I[C.name]=n.mapNode(C),C.op.startsWith("Placeholder")?o.push(I[C.name]):C.op==="Const"?s.push(I[C.name]):(C.input==null||C.input.length===0)&&u.push(I[C.name]),I},{}),l=[],c=[],h={},m={};r!=null&&(h=this.mapSignatureEntries(r.inputs),m=this.mapSignatureEntries(r.outputs));var g=Object.keys(f);g.forEach(function(I){var C=f[I];C.inputNames.forEach(function(R,O){var F=nr(Cc(R),3),z=F[0],B=F[2],$=f[z];if($.outputs!=null){var j=$.outputs.indexOf(B);if(j!==-1){var W=z+":"+j;C.inputNames[O]=W}}C.inputs.push($),$.children.push(C)})}),Object.keys(m).length===0?g.forEach(function(I){var C=f[I];C.children.length===0&&c.push(C)}):Object.keys(m).forEach(function(I){var C=nr(Cc(I),1),R=C[0],O=f[R];O!=null&&(O.signatureKey=m[I],c.push(O))}),Object.keys(h).length>0?Object.keys(h).forEach(function(I){var C=nr(Cc(I),1),R=C[0],O=f[R];O&&(O.signatureKey=h[I],l.push(O))}):l=o;var b={};e.library!=null&&e.library.function!=null&&(b=e.library.function.reduce(function(I,C){return I[C.signature.name]=n.mapFunction(C),I},{}));var A={nodes:f,inputs:l,outputs:c,weights:s,placeholders:o,signature:r,functions:b};return u.length>0&&(A.initNodes=u),A},t.prototype.mapSignatureEntries=function(e){return Object.keys(e||{}).reduce(function(r,n){return r[e[n].name]=n,r},{})},t.prototype.mapNode=function(e){var r=lwe(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});var n={name:e.name,op:e.op,category:r.category,inputNames:(e.input||[]).map(function(a){return a.startsWith("^")?a.slice(1):a}),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:r.outputs};return r.inputs!=null&&(n.inputParams=r.inputs.reduce(function(a,o){return a[o.name]={type:o.type,inputIndexStart:o.start,inputIndexEnd:o.end},a},{})),r.attrs!=null&&(n.attrParams=r.attrs.reduce(function(a,o){var s=o.type,u=void 0;switch(o.type){case"string":u=fL(e.attr,o.tfName,o.defaultValue),u===void 0&&!!o.tfDeprecatedName&&(u=fL(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"string[]":u=vL(e.attr,o.tfName,o.defaultValue),u===void 0&&!!o.tfDeprecatedName&&(u=vL(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number":u=cL(e.attr,o.tfName,o.defaultValue||0),u===void 0&&!!o.tfDeprecatedName&&(u=cL(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number[]":u=mL(e.attr,o.tfName,o.defaultValue),u===void 0&&!!o.tfDeprecatedName&&(u=mL(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool":u=lL(e.attr,o.tfName,o.defaultValue),u===void 0&&!!o.tfDeprecatedName&&(u=lL(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool[]":u=yL(e.attr,o.tfName,o.defaultValue),u===void 0&&!!o.tfDeprecatedName&&(u=yL(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape":u=dL(e.attr,o.tfName,o.defaultValue),u===void 0&&!!o.tfDeprecatedName&&(u=dL(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape[]":u=gL(e.attr,o.tfName,o.defaultValue),u===void 0&&!!o.tfDeprecatedName&&(u=gL(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype":u=hL(e.attr,o.tfName,o.defaultValue),u===void 0&&!!o.tfDeprecatedName&&(u=hL(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype[]":u=pL(e.attr,o.tfName,o.defaultValue),u===void 0&&!!o.tfDeprecatedName&&(u=pL(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"func":u=Fbe(e.attr,o.tfName,o.defaultValue),u===void 0&&!!o.tfDeprecatedName&&(u=Fbe(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: "+o.type+" for op: "+e.op)}return a[o.name]={value:u,type:s},a},{})),n},t.prototype.mapFunction=function(e){var r=this,n=e.nodeDef,a=[],o=[],s={};n!=null&&(s=n.reduce(function(m,g){return m[g.name]=r.mapNode(g),g.op==="Const"&&o.push(m[g.name]),m},{}));var u=[],f=[];e.signature.inputArg.forEach(function(m){var g=nr(Cc(m.name),1),b=g[0],A={name:b,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:RL(m.type),type:"dtype"}},children:[]};A.signatureKey=m.name,u.push(A),s[b]=A});var l=Object.keys(s);l.forEach(function(m){var g=s[m];g.inputNames.forEach(function(b,A){var I=nr(Cc(b),3),C=I[0],R=I[2],O=s[C];if(O.outputs!=null){var F=O.outputs.indexOf(R);if(F!==-1){var z=C+":"+F;g.inputNames[A]=z}}g.inputs.push(O),O.children.push(g)})});var c=e.ret;e.signature.outputArg.forEach(function(m){var g=nr(Cc(c[m.name]),2),b=g[0],A=g[1],I=s[b];I!=null&&(I.defaultOutput=A,f.push(I))});var h=this.mapArgsToSignature(e);return{nodes:s,inputs:u,outputs:f,weights:o,placeholders:a,signature:h}},t.prototype.mapArgsToSignature=function(e){var r=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(function(n,a){return n[a.name]=r.mapArgToTensorInfo(a),n},{}),outputs:e.signature.outputArg.reduce(function(n,a){return n[a.name]=r.mapArgToTensorInfo(a,e.ret),n},{})}},t.prototype.mapArgToTensorInfo=function(e,r){var n=e.name;return r!=null&&(n=r[n]),{name:n,dtype:e.type}},t}();function uTt(t){var e=ar.env().global;if(typeof e.atob!="undefined")return e.atob(t);if(typeof $Buffer!="undefined")return new $Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function cwe(t,e){var r=Array.isArray(t)?String.fromCharCode.apply(null,t):uTt(t);return e?r:r.toLowerCase()}function fL(t,e,r,n){n===void 0&&(n=!1);var a=t[e];return a!=null?cwe(a.s,n):r}function lL(t,e,r){var n=t[e];return n?n.b:r}function cL(t,e,r){var n=t[e]||{},a=n.i!=null?n.i:n.f!=null?n.f:r;return typeof a=="number"?a:parseInt(a,10)}function RL(t){switch(typeof t=="string"&&(t=Df[t]),t){case Df.DT_FLOAT:case Df.DT_HALF:return"float32";case Df.DT_INT32:case Df.DT_INT64:case Df.DT_INT8:case Df.DT_UINT8:return"int32";case Df.DT_BOOL:return"bool";case Df.DT_DOUBLE:return"float32";case Df.DT_STRING:return"string";default:return null}}function Fbe(t,e,r){var n=t[e];return n&&n.func?n.func.name:r}function hL(t,e,r){var n=t[e];return n&&n.type?RL(n.type):r}function pL(t,e,r){var n=t[e];return n&&n.list&&n.list.type?n.list.type.map(function(a){return RL(a)}):r}function hwe(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(function(e){return typeof e.size=="number"?e.size:parseInt(e.size,10)}):[]}function dL(t,e,r){var n=t[e];return n&&n.shape?hwe(n.shape):r}function mL(t,e,r){var n=t[e];return n?((n.list.f&&n.list.f.length?n.list.f:n.list.i)||[]).map(function(a){return typeof a=="number"?a:parseInt(a,10)}):r}function vL(t,e,r,n){n===void 0&&(n=!1);var a=t[e];return a&&a.list&&a.list.s?a.list.s.map(function(o){return cwe(o,n)}):r}function gL(t,e,r){var n=t[e];return n&&n.list&&n.list.shape?n.list.shape.map(function(a){return hwe(a)}):r}function yL(t,e,r){var n=t[e];return n&&n.list&&n.list.b?n.list.b:r}var fTt=function(){function t(e,r,n){var a=this;this.node=e,this.tensorMap=r,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(function(o){return a.getInput(o)}),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce(function(o,s){return o[s]=a.getAttr(s),o},{}))}return t.prototype.getInput=function(e){return us(e,this.tensorMap,this.context)},t.prototype.getAttr=function(e,r){var n=this.node.rawAttrs[e];if(n.tensor!=null)return us(e,this.tensorMap,this.context);if(n.i!=null||n.f!=null)return cL(this.node.rawAttrs,e,r);if(n.s!=null)return fL(this.node.rawAttrs,e,r);if(n.b!=null)return lL(this.node.rawAttrs,e,r);if(n.shape!=null)return dL(this.node.rawAttrs,e,r);if(n.type!=null)return hL(this.node.rawAttrs,e,r);if(n.list!=null){if(n.list.i!=null||n.list.f!=null)return mL(this.node.rawAttrs,e,r);if(n.list.s!=null)return vL(this.node.rawAttrs,e,r);if(n.list.shape!=null)return gL(this.node.rawAttrs,e,r);if(n.list.b!=null)return yL(this.node.rawAttrs,e,r);if(n.list.type!=null)return pL(this.node.rawAttrs,e,r)}return r},t}();var lTt=1e-7,cTt=1e-4,hTt=function(){function t(){}return t.prototype.refCount=function(e){return yu("refCount")},t.prototype.incRef=function(e){return yu("incRef")},t.prototype.timerAvailable=function(){return!0},t.prototype.time=function(e){return yu("time")},t.prototype.read=function(e){return yu("read")},t.prototype.readSync=function(e){return yu("readSync")},t.prototype.readToGPU=function(e,r){return yu("readToGPU")},t.prototype.numDataIds=function(){return yu("numDataIds")},t.prototype.disposeData=function(e,r){return yu("disposeData")},t.prototype.write=function(e,r,n){return yu("write")},t.prototype.move=function(e,r,n,a,o){return yu("move")},t.prototype.memory=function(){return yu("memory")},t.prototype.floatPrecision=function(){return yu("floatPrecision")},t.prototype.epsilon=function(){return this.floatPrecision()===32?lTt:cTt},t.prototype.dispose=function(){return yu("dispose")},t}();function yu(t){throw new Error("'"+t+"' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen")}function Je(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function Bf(t,e,r){r===void 0&&(r=""),Je(Tb(t,e),function(){return r+(" Shapes "+t+" and "+e+" must match")})}function Nb(t){Je(t!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function g6(t,e,r){if(e===void 0&&(e=[]),r===void 0&&(r=!1),e==null&&(e=[]),Array.isArray(t)||Oc(t)&&!r)for(var n=0;n<t.length;++n)g6(t[n],e,r);else e.push(t);return e}function Ts(t){if(t.length===0)return 1;for(var e=t[0],r=1;r<t.length;r++)e*=t[r];return e}function Tb(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function oS(t){return t%1===0}function n6(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function y6(t,e){var r=e.length;return t=t==null?e.map(function(n,a){return a}):[].concat(t),Je(t.every(function(n){return n>=-r&&n<r}),function(){return"All values in axis param must be in range [-"+r+", "+r+") but "+("got axis "+t)}),Je(t.every(function(n){return oS(n)}),function(){return"All values in axis param must be integers but "+("got axis "+t)}),t.map(function(n){return n<0?r+n:n})}function pTt(t,e){for(var r=[],n=[],a=e!=null&&Array.isArray(e)&&e.length===0,o=e==null||a?null:y6(e,t).sort(),s=0,u=0;u<t.length;++u){if(o!=null){if(o[s]===u&&t[u]!==1)throw new Error("Can't squeeze axis "+u+" since its dim '"+t[u]+"' is not 1");(o[s]==null||o[s]>u)&&t[u]===1&&(r.push(t[u]),n.push(u)),o[s]<=u&&s++}t[u]!==1&&(r.push(t[u]),n.push(u))}return{newShape:r,keptDims:n}}function dTt(t,e){var r=null;if(t==null||t==="float32")r=new Float32Array(e);else if(t==="int32")r=new Int32Array(e);else if(t==="bool")r=new Uint8Array(e);else throw new Error("Unknown data type "+t);return r}function mTt(t,e){var r=null;if(t==null||t==="float32")r=new Float32Array(e);else if(t==="int32")r=new Int32Array(e);else if(t==="bool")r=new Uint8Array(e);else if(t==="string")r=new Array(e);else throw new Error("Unknown data type "+t);return r}function vTt(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(isNaN(n)||!isFinite(n))throw Error("A tensor of type "+e+" being uploaded contains "+n+".")}}function gTt(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function Oc(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}function Bbe(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error("Unknown dtype "+t)}function yTt(t){if(t==null)return 0;var e=0;return t.forEach(function(r){return e+=r.length}),e}function FL(t){return typeof t=="string"||t instanceof String}function bTt(t){return typeof t=="boolean"}function wTt(t){return typeof t=="number"}function BL(t){return Array.isArray(t)?BL(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":wTt(t)?"float32":FL(t)?"string":bTt(t)?"bool":"float32"}function Lbe(t){return!!(t&&t.constructor&&t.call&&t.apply)}function LL(t){var e=t.length;if(e<2)return[];var r=new Array(e-1);r[e-2]=t[e-1];for(var n=e-3;n>=0;--n)r[n]=r[n+1]*t[n+1];return r}function pwe(t,e,r,n){n===void 0&&(n=!1);var a=new Array;if(e.length===1)for(var o=e[0]*(n?2:1),s=0;s<o;s++)a[s]=r[t+s];else for(var o=e[0],u=e.slice(1),f=u.reduce(function(c,h){return c*h})*(n?2:1),s=0;s<o;s++)a[s]=pwe(t+s*f,u,r,n);return a}function Pbe(t,e,r){if(r===void 0&&(r=!1),t.length===0)return e[0];var n=t.reduce(function(a,o){return a*o})*(r?2:1);if(n===0)return[];if(n!==e.length)throw new Error("["+t+"] does not match the input size "+e.length+(r?" for a complex tensor":"")+".");return pwe(0,t,e,r)}function dwe(t,e){for(var r=PL(t,e),n=0;n<r.length;n++)r[n]=1;return r}function PL(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error("Unknown data type "+e)}function mwe(t){t.forEach(function(e){Je(Number.isInteger(e)&&e>=0,function(){return"Tensor must have a shape comprised of positive integers but got "+("shape ["+t+"].")})})}function vwe(t){return t&&t.then&&typeof t.then=="function"}var qbe="tfjsflags",xTt=function(){function t(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=_Tt,this.populateURLFlags()}return t.prototype.setPlatform=function(e,r){this.platform!=null&&(Cf().getBool("IS_TEST")||Cf().getBool("PROD")||console.warn("Platform "+this.platformName+" has already been set. "+("Overwriting the platform with "+e+"."))),this.platformName=e,this.platform=r},t.prototype.registerFlag=function(e,r,n){if(this.flagRegistry[e]={evaluationFn:r,setHook:n},this.urlFlags[e]!=null){var a=this.urlFlags[e];Cf().getBool("IS_TEST")||Cf().getBool("PROD")||console.warn("Setting feature override from URL "+e+": "+a+"."),this.set(e,a)}},t.prototype.getAsync=function(e){return yi(this,void 0,void 0,function(){var r,n;return ci(this,function(a){switch(a.label){case 0:return e in this.flags?[2,this.flags[e]]:(r=this.flags,n=e,[4,this.evaluateFlag(e)]);case 1:return r[n]=a.sent(),[2,this.flags[e]]}})})},t.prototype.get=function(e){if(e in this.flags)return this.flags[e];var r=this.evaluateFlag(e);if(vwe(r))throw new Error("Flag "+e+" cannot be synchronously evaluated. Please use getAsync() instead.");return this.flags[e]=r,this.flags[e]},t.prototype.getNumber=function(e){return this.get(e)},t.prototype.getBool=function(e){return this.get(e)},t.prototype.getFlags=function(){return this.flags},Object.defineProperty(t.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),t.prototype.set=function(e,r){if(this.flagRegistry[e]==null)throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=r,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(r)},t.prototype.evaluateFlag=function(e){if(this.flagRegistry[e]==null)throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},t.prototype.setFlags=function(e){this.flags=Object.assign({},e)},t.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},t.prototype.populateURLFlags=function(){var e=this;if(!(typeof this.global=="undefined"||typeof this.global.location=="undefined"||typeof this.global.location.search=="undefined")){var r=this.getQueryParams(this.global.location.search);if(qbe in r){var n=r[qbe].split(",");n.forEach(function(a){var o=nr(a.split(":"),2),s=o[0],u=o[1];e.urlFlags[s]=ETt(s,u)})}}},t}();function _Tt(t){var e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(r){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return STt(e,n[0],n[1]),n.join("=")}),e}function STt(t,e,r){t[decodeURIComponent(e)]=decodeURIComponent(r||"")}function ETt(t,e){if(e=e.toLowerCase(),e==="true"||e==="false")return e==="true";if(""+ +e===e)return+e;throw new Error("Could not parse value flag value "+e+" for flag "+t+".")}function Cf(){return gwe}var gwe=null;function MTt(t){gwe=t}var nL;function ywe(){if(nL==null){var t=void 0;if(typeof window!="undefined")t=window;else if(typeof globalThis!="undefined")t=globalThis;else if(typeof $process!="undefined")t=$process;else if(typeof self!="undefined")t=self;else throw new Error("Could not find a global object");nL=t}return nL}function ATt(){var t=ywe();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function qL(t,e){var r=ATt();if(r.has(t))return r.get(t);var n=e();return r.set(t,n),r.get(t)}var NTt="Abs",TTt="Acos",DTt="Acosh",bwe="Add",kTt="AddN",ITt="All",CTt="Any",OTt="ArgMax",RTt="ArgMin",FTt="Asin",BTt="Asinh",LTt="Atan",PTt="Atanh",qTt="Atan2",zTt="AvgPool",UTt="AvgPool3D",jTt="BatchMatMul",$Tt="BatchToSpaceND",VTt="Bincount",WTt="BroadcastArgs",wwe="Cast",GTt="Ceil",HTt="ClipByValue",KTt="Complex",ZTt="ComplexAbs",JTt="Concat",YTt="Conv2D",XTt="Conv2DBackpropFilter",QTt="Conv2DBackpropInput",eDt="Conv3D",tDt="Conv3DBackpropInputV2",rDt="Cos",nDt="Cosh",iDt="Cumprod",aDt="Cumsum",oDt="CropAndResize",sDt="DenseBincount",uDt="DepthToSpace",fDt="DepthwiseConv2dNative",lDt="DepthwiseConv2dNativeBackpropFilter",cDt="DepthwiseConv2dNativeBackpropInput",hDt="Diag",pDt="Dilation2D",dDt="RealDiv",mDt="Einsum",vDt="Elu",gDt="Erf",yDt="Equal",bDt="Exp",wDt="ExpandDims",xDt="Expm1",_Dt="FFT",SDt="Fill",EDt="FlipLeftRight",MDt="Floor",ADt="FloorDiv",NDt="FusedBatchNorm",TDt="GatherV2",DDt="GatherNd",kDt="Greater",IDt="GreaterEqual",xwe="Identity",CDt="IFFT",ODt="Imag",RDt="IsFinite",FDt="IsInf",BDt="IsNan",LDt="LeakyRelu",PDt="Less",qDt="LessEqual",zDt="LinSpace",UDt="Log",jDt="Log1p",$Dt="LogicalAnd",VDt="LogicalNot",WDt="LogicalOr",GDt="LRN",HDt="Max",KDt="Maximum",ZDt="MaxPool",JDt="MaxPool3D",YDt="MaxPoolWithArgmax",XDt="Mean",QDt="Min",e4t="Minimum",t4t="MirrorPad",r4t="Mod",n4t="Multinomial",i4t="Multiply",a4t="Neg",o4t="NotEqual",s4t="NonMaxSuppressionV3",u4t="NonMaxSuppressionV4",f4t="NonMaxSuppressionV5",l4t="OnesLike",c4t="OneHot",h4t="Pack",p4t="PadV2",d4t="Pow",m4t="Prelu",v4t="Prod",g4t="Range",y4t="Real",b4t="Reciprocal",w4t="Relu",x4t="Reshape",_4t="ResizeNearestNeighbor",S4t="ResizeBilinear",E4t="Relu6",M4t="Reverse",A4t="Round",N4t="Rsqrt",T4t="ScatterNd",D4t="SearchSorted",k4t="Select",I4t="Selu",C4t="Slice",O4t="Sin",R4t="Sinh",F4t="Sign",B4t="Sigmoid",L4t="Softplus",P4t="Sqrt",q4t="Sum",z4t="SpaceToBatchND",U4t="SplitV",j4t="Softmax",$4t="SparseFillEmptyRows",V4t="SparseReshape",W4t="SparseSegmentMean",G4t="SparseSegmentSum",H4t="SparseToDense",K4t="SquaredDifference",Z4t="StridedSlice",J4t="StringNGrams",Y4t="StringSplit",X4t="StringToHashBucketFast",Q4t="Sub",e6t="Tan",t6t="Tanh",_we="Tile",r6t="TopK",n6t="Transform",iL="Transpose",i6t="Unique",a6t="Unpack",o6t="UnsortedSegmentSum",s6t="ZerosLike",u6t="Step",f6t="RotateWithOffset",zbe="_FusedMatMul",Ube="FusedConv2D",jbe="FusedDepthwiseConv2D";function X_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Cf().getBool("IS_TEST")||Cf().getBool("PROD")||console.warn.apply(console,xo(t))}var Swe=qL("kernelRegistry",function(){return new Map}),l6t=qL("gradRegistry",function(){return new Map});function $be(t,e){var r=c6t(t,e);return Swe.get(r)}function Vbe(t){return l6t.get(t)}function Wbe(t){for(var e=Swe.entries(),r=[];;){var n=e.next(),a=n.done,o=n.value;if(a)break;var s=nr(o,2),u=s[0],f=s[1],l=nr(u.split("_"),1),c=l[0];c===t&&r.push(f)}return r}function c6t(t,e){return e+"_"+t}var bL=$i,Of=null;try{Of=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function $i(t,e,r){this.low=t|0,this.high=e|0,this.unsigned=!!r}$i.prototype.__isLong__;Object.defineProperty($i.prototype,"__isLong__",{value:!0});function Ks(t){return(t&&t.__isLong__)===!0}$i.isLong=Ks;var Gbe={},Hbe={};function fv(t,e){var r,n,a;return e?(t>>>=0,(a=0<=t&&t<256)&&(n=Hbe[t],n)?n:(r=Vi(t,(t|0)<0?-1:0,!0),a&&(Hbe[t]=r),r)):(t|=0,(a=-128<=t&&t<128)&&(n=Gbe[t],n)?n:(r=Vi(t,t<0?-1:0,!1),a&&(Gbe[t]=r),r))}$i.fromInt=fv;function Rf(t,e){if(isNaN(t))return e?iv:Ff;if(e){if(t<0)return iv;if(t>=Ewe)return Nwe}else{if(t<=-Zbe)return Gs;if(t+1>=Zbe)return Awe}return t<0?Rf(-t,e).neg():Vi(t%Eb|0,t/Eb|0,e)}$i.fromNumber=Rf;function Vi(t,e,r){return new $i(t,e,r)}$i.fromBits=Vi;var u6=Math.pow;function zL(t,e,r){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return Ff;if(typeof e=="number"?(r=e,e=!1):e=!!e,r=r||10,r<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return zL(t.substring(1),e,r).neg();for(var a=Rf(u6(r,8)),o=Ff,s=0;s<t.length;s+=8){var u=Math.min(8,t.length-s),f=parseInt(t.substring(s,s+u),r);if(u<8){var l=Rf(u6(r,u));o=o.mul(l).add(Rf(f))}else o=o.mul(a),o=o.add(Rf(f))}return o.unsigned=e,o}$i.fromString=zL;function kl(t,e){return typeof t=="number"?Rf(t,e):typeof t=="string"?zL(t,e):Vi(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}$i.fromValue=kl;var Kbe=1<<16,h6t=1<<24,Eb=Kbe*Kbe,Ewe=Eb*Eb,Zbe=Ewe/2,Jbe=fv(h6t),Ff=fv(0);$i.ZERO=Ff;var iv=fv(0,!0);$i.UZERO=iv;var wb=fv(1);$i.ONE=wb;var Mwe=fv(1,!0);$i.UONE=Mwe;var wL=fv(-1);$i.NEG_ONE=wL;var Awe=Vi(-1,2147483647,!1);$i.MAX_VALUE=Awe;var Nwe=Vi(-1,-1,!0);$i.MAX_UNSIGNED_VALUE=Nwe;var Gs=Vi(0,-2147483648,!1);$i.MIN_VALUE=Gs;var Ht=$i.prototype;Ht.toInt=function(){return this.unsigned?this.low>>>0:this.low};Ht.toNumber=function(){return this.unsigned?(this.high>>>0)*Eb+(this.low>>>0):this.high*Eb+(this.low>>>0)};Ht.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Gs)){var r=Rf(e),n=this.div(r),a=n.mul(r).sub(this);return n.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=Rf(u6(e,6),this.unsigned),s=this,u="";;){var f=s.div(o),l=s.sub(f.mul(o)).toInt()>>>0,c=l.toString(e);if(s=f,s.isZero())return c+u;for(;c.length<6;)c="0"+c;u=""+c+u}};Ht.getHighBits=function(){return this.high};Ht.getHighBitsUnsigned=function(){return this.high>>>0};Ht.getLowBits=function(){return this.low};Ht.getLowBitsUnsigned=function(){return this.low>>>0};Ht.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Gs)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,r=31;r>0&&(e&1<<r)==0;r--);return this.high!=0?r+33:r+1};Ht.isZero=function(){return this.high===0&&this.low===0};Ht.eqz=Ht.isZero;Ht.isNegative=function(){return!this.unsigned&&this.high<0};Ht.isPositive=function(){return this.unsigned||this.high>=0};Ht.isOdd=function(){return(this.low&1)===1};Ht.isEven=function(){return(this.low&1)===0};Ht.equals=function(e){return Ks(e)||(e=kl(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};Ht.eq=Ht.equals;Ht.notEquals=function(e){return!this.eq(e)};Ht.neq=Ht.notEquals;Ht.ne=Ht.notEquals;Ht.lessThan=function(e){return this.comp(e)<0};Ht.lt=Ht.lessThan;Ht.lessThanOrEqual=function(e){return this.comp(e)<=0};Ht.lte=Ht.lessThanOrEqual;Ht.le=Ht.lessThanOrEqual;Ht.greaterThan=function(e){return this.comp(e)>0};Ht.gt=Ht.greaterThan;Ht.greaterThanOrEqual=function(e){return this.comp(e)>=0};Ht.gte=Ht.greaterThanOrEqual;Ht.ge=Ht.greaterThanOrEqual;Ht.compare=function(e){if(Ks(e)||(e=kl(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};Ht.comp=Ht.compare;Ht.negate=function(){return!this.unsigned&&this.eq(Gs)?Gs:this.not().add(wb)};Ht.neg=Ht.negate;Ht.add=function(e){Ks(e)||(e=kl(e));var r=this.high>>>16,n=this.high&65535,a=this.low>>>16,o=this.low&65535,s=e.high>>>16,u=e.high&65535,f=e.low>>>16,l=e.low&65535,c=0,h=0,m=0,g=0;return g+=o+l,m+=g>>>16,g&=65535,m+=a+f,h+=m>>>16,m&=65535,h+=n+u,c+=h>>>16,h&=65535,c+=r+s,c&=65535,Vi(m<<16|g,c<<16|h,this.unsigned)};Ht.subtract=function(e){return Ks(e)||(e=kl(e)),this.add(e.neg())};Ht.sub=Ht.subtract;Ht.multiply=function(e){if(this.isZero())return Ff;if(Ks(e)||(e=kl(e)),Of){var r=Of.mul(this.low,this.high,e.low,e.high);return Vi(r,Of.get_high(),this.unsigned)}if(e.isZero())return Ff;if(this.eq(Gs))return e.isOdd()?Gs:Ff;if(e.eq(Gs))return this.isOdd()?Gs:Ff;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Jbe)&&e.lt(Jbe))return Rf(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=this.high&65535,o=this.low>>>16,s=this.low&65535,u=e.high>>>16,f=e.high&65535,l=e.low>>>16,c=e.low&65535,h=0,m=0,g=0,b=0;return b+=s*c,g+=b>>>16,b&=65535,g+=o*c,m+=g>>>16,g&=65535,g+=s*l,m+=g>>>16,g&=65535,m+=a*c,h+=m>>>16,m&=65535,m+=o*l,h+=m>>>16,m&=65535,m+=s*f,h+=m>>>16,m&=65535,h+=n*c+a*l+o*f+s*u,h&=65535,Vi(g<<16|b,h<<16|m,this.unsigned)};Ht.mul=Ht.multiply;Ht.divide=function(e){if(Ks(e)||(e=kl(e)),e.isZero())throw Error("division by zero");if(Of){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?Of.div_u:Of.div_s)(this.low,this.high,e.low,e.high);return Vi(r,Of.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?iv:Ff;var n,a,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return iv;if(e.gt(this.shru(1)))return Mwe;o=iv}else{if(this.eq(Gs)){if(e.eq(wb)||e.eq(wL))return Gs;if(e.eq(Gs))return wb;var s=this.shr(1);return n=s.div(e).shl(1),n.eq(Ff)?e.isNegative()?wb:wL:(a=this.sub(e.mul(n)),o=n.add(a.div(e)),o)}else if(e.eq(Gs))return this.unsigned?iv:Ff;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=Ff}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var u=Math.ceil(Math.log(n)/Math.LN2),f=u<=48?1:u6(2,u-48),l=Rf(n),c=l.mul(e);c.isNegative()||c.gt(a);)n-=f,l=Rf(n,this.unsigned),c=l.mul(e);l.isZero()&&(l=wb),o=o.add(l),a=a.sub(c)}return o};Ht.div=Ht.divide;Ht.modulo=function(e){if(Ks(e)||(e=kl(e)),Of){var r=(this.unsigned?Of.rem_u:Of.rem_s)(this.low,this.high,e.low,e.high);return Vi(r,Of.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};Ht.mod=Ht.modulo;Ht.rem=Ht.modulo;Ht.not=function(){return Vi(~this.low,~this.high,this.unsigned)};Ht.and=function(e){return Ks(e)||(e=kl(e)),Vi(this.low&e.low,this.high&e.high,this.unsigned)};Ht.or=function(e){return Ks(e)||(e=kl(e)),Vi(this.low|e.low,this.high|e.high,this.unsigned)};Ht.xor=function(e){return Ks(e)||(e=kl(e)),Vi(this.low^e.low,this.high^e.high,this.unsigned)};Ht.shiftLeft=function(e){return Ks(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Vi(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Vi(0,this.low<<e-32,this.unsigned)};Ht.shl=Ht.shiftLeft;Ht.shiftRight=function(e){return Ks(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Vi(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Vi(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};Ht.shr=Ht.shiftRight;Ht.shiftRightUnsigned=function(e){if(Ks(e)&&(e=e.toInt()),e&=63,e===0)return this;var r=this.high;if(e<32){var n=this.low;return Vi(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?Vi(r,0,this.unsigned):Vi(r>>>e-32,0,this.unsigned)};Ht.shru=Ht.shiftRightUnsigned;Ht.shr_u=Ht.shiftRightUnsigned;Ht.toSigned=function(){return this.unsigned?Vi(this.low,this.high,!1):this};Ht.toUnsigned=function(){return this.unsigned?this:Vi(this.low,this.high,!0)};Ht.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};Ht.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};Ht.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};$i.fromBytes=function(e,r,n){return n?$i.fromBytesLE(e,r):$i.fromBytesBE(e,r)};$i.fromBytesLE=function(e,r){return new $i(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)};$i.fromBytesBE=function(e,r){return new $i(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)};var p6t=Object.assign(Object.create(null),bL,{default:bL}),d6t=bL||p6t;function UL(t){return d6t.fromString(t,!0,16)}UL("c3a5c85c97cb3127");UL("b492b66fbe98f273");UL("9ae16a3b2f90404f");function m6t(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function Twe(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=g6(t)),Cf().getBool("DEBUG")&&vTt(t,e),m6t(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){for(var r=new Uint8Array(t.length),n=0;n<r.length;++n)Math.round(t[n])!==0&&(r[n]=1);return r}else throw new Error("Unknown data type "+e)}function f6(){return Cf().platform.now()}function v6t(t,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",Cf().platform.encode(t,e)}function Ybe(t,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",Cf().platform.decode(t,e)}var g6t=function(){function t(e,r){this.backendTimer=e,this.logger=r,r==null&&(this.logger=new b6t)}return t.prototype.profileKernel=function(e,r,n){var a,o,s,u=function(){s=n()},f,l=f6();if(this.backendTimer.timerAvailable())f=this.backendTimer.time(u);else{u();try{for(var c=o6(s),h=c.next();!h.done;h=c.next()){var m=h.value;m.dataSync()}}catch(I){a={error:I}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}f=Promise.resolve({kernelMs:f6()-l})}if(Cf().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var g=function(I){var C=s[I];C.data().then(function(R){y6t(R,C.dtype,e)})},b=0;b<s.length;b++)g(b);var A={kernelName:e,outputs:s,inputs:r,timeMs:f.then(function(I){return I.kernelMs}),extraInfo:f.then(function(I){return I.getExtraProfileInfo!=null?I.getExtraProfileInfo():""})};return A},t.prototype.logKernelProfile=function(e){var r=this,n=e.kernelName,a=e.outputs,o=e.timeMs,s=e.inputs,u=e.extraInfo;a.forEach(function(f){Promise.all([f.data(),o,u]).then(function(l){r.logger.logKernelProfile(n,f,l[0],l[1],s,l[2])})})},t}();function y6t(t,e,r){if(e!=="float32")return!1;for(var n=0;n<t.length;n++){var a=t[n];if(isNaN(a)||!isFinite(a))return console.warn("Found "+a+" in the result of '"+r+"'"),!0}return!1}var b6t=function(){function t(){}return t.prototype.logKernelProfile=function(e,r,n,a,o,s){var u=typeof a=="number"?n6(a+"ms",9):a.error,f=n6(e,25),l=r.rank,c=r.size,h=n6(r.shape.toString(),14),m="";for(var g in o){var b=o[g];if(b!=null){var A=b.shape||r.shape,I=A.length;m+=g+": "+I+"D "+(I>0?A:"")+" "}}console.log("%c"+f+"	%c"+u+"	%c"+l+"D "+h+"	%c"+c+"	%c"+m+"	%c"+s,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},t}();function w6t(t,e,r){for(var n={},a={},o=0;o<e.length;o++)n[e[o].id]=!0;for(var o=0;o<t.length;o++){var s=t[o],u=s.inputs;for(var f in u){for(var l=u[f],c=!1,h=0;h<e.length;h++)if(n[l.id]){s.outputs.forEach(function(O){return n[O.id]=!0}),c=!0,a[s.id]=!0;break}if(c)break}}var m={};m[r.id]=!0;for(var g={},o=t.length-1;o>=0;o--)for(var s=t[o],u=s.inputs,h=0;h<s.outputs.length;h++)if(m[s.outputs[h].id]){for(var f in u)m[u[f].id]=!0,g[s.id]=!0;break}for(var b=[],o=0;o<t.length;o++){var s=t[o];if(a[s.id]&&g[s.id]){var A={};for(var f in s.inputs){var I=s.inputs[f];n[I.id]&&(A[f]=I)}var C=Object.assign({},s);C.inputs=A,C.outputs=s.outputs,b.push(C)}}return b}function x6t(t,e,r,n){for(var a=function(s){var u=e[s],f=[];if(u.outputs.forEach(function(m){var g=t[m.id];g!=null?f.push(g):f.push(null)}),u.gradient==null)throw new Error("Cannot compute gradient: gradient function not found "+("for "+u.kernelName+"."));var l=u.gradient(f),c=function(m){if(!(m in l))throw new Error("Cannot backprop through input "+m+". "+("Available gradients found: "+Object.keys(l)+"."));var g=r(function(){return l[m]()});if(g.dtype!=="float32")throw new Error("Error in gradient for op "+u.kernelName+". The gradient of input "+(m+" must have 'float32' dtype, but has '"+g.dtype+"'"));var b=u.inputs[m];if(!Tb(g.shape,b.shape))throw new Error("Error in gradient for op "+u.kernelName+". The gradient of input "+("'"+m+"' has shape '"+g.shape+"', which does not match ")+("the shape of the input '"+b.shape+"'"));if(t[b.id]==null)t[b.id]=g;else{var A=t[b.id];t[b.id]=n(A,g),A.dispose()}};for(var h in u.inputs)c(h)},o=e.length-1;o>=0;o--)a(o)}var Xbe=20,Q_=3,aL=7;function _6t(t,e,r,n){var a=LL(e),o=S6t(t,e,r,a),s=e.length,u=i6(t,e,r,a,o),f=["Tensor"];return n&&(f.push("  dtype: "+r),f.push("  rank: "+s),f.push("  shape: ["+e+"]"),f.push("  values:")),f.push(u.map(function(l){return"    "+l}).join(`
`)),f.join(`
`)}function S6t(t,e,r,n){var a=Ts(e),o=n[n.length-1],s=new Array(o).fill(0),u=e.length,f=r==="complex64"?nS(t):t;if(u>1)for(var l=0;l<a/o;l++)for(var c=l*o,h=0;h<o;h++)s[h]=Math.max(s[h],rS(f[c+h],0,r).length);return s}function rS(t,e,r){var n;return Array.isArray(t)?n=parseFloat(t[0].toFixed(aL))+" + "+(parseFloat(t[1].toFixed(aL))+"j"):FL(t)?n="'"+t+"'":r==="bool"?n=Dwe(t):n=parseFloat(t.toFixed(aL)).toString(),n6(n,e)}function Dwe(t){return t===0?"false":"true"}function i6(t,e,r,n,a,o){o===void 0&&(o=!0);var s=r==="complex64"?2:1,u=e[0],f=e.length;if(f===0){if(r==="complex64"){var l=nS(t);return[rS(l[0],0,r)]}return r==="bool"?[Dwe(t[0])]:[t[0].toString()]}if(f===1){if(u>Xbe){var c=Q_*s,h=Array.from(t.slice(0,c)),m=Array.from(t.slice((u-Q_)*s,u*s));return r==="complex64"&&(h=nS(h),m=nS(m)),["["+h.map(function($,j){return rS($,a[j],r)}).join(", ")+", ..., "+m.map(function($,j){return rS($,a[u-Q_+j],r)}).join(", ")+"]"]}var g=r==="complex64"?nS(t):Array.from(t);return["["+g.map(function($,j){return rS($,a[j],r)}).join(", ")+"]"]}var b=e.slice(1),A=n.slice(1),I=n[0]*s,C=[];if(u>Xbe){for(var R=0;R<Q_;R++){var O=R*I,F=O+I;C.push.apply(C,xo(i6(t.slice(O,F),b,r,A,a,!1)))}C.push("...");for(var R=u-Q_;R<u;R++){var O=R*I,F=O+I;C.push.apply(C,xo(i6(t.slice(O,F),b,r,A,a,R===u-1)))}}else for(var R=0;R<u;R++){var O=R*I,F=O+I;C.push.apply(C,xo(i6(t.slice(O,F),b,r,A,a,R===u-1)))}var z=f===2?",":"";C[0]="["+C[0]+z;for(var R=1;R<C.length-1;R++)C[R]=" "+C[R]+z;for(var B=`,
`,R=2;R<f;R++)B+=`
`;return C[C.length-1]=" "+C[C.length-1]+"]"+(o?"":B),C}function nS(t){for(var e=[],r=0;r<t.length;r+=2)e.push([t[r],t[r+1]]);return e}var xL=function(){function t(e,r,n){var a=this;if(this.dtype=r,this.shape=e.slice(),this.size=Ts(e),n!=null){var o=n.length;Je(o===this.size,function(){return"Length of values '"+o+"' does not match the size "+("inferred by the shape '"+a.size+"'.")})}if(r==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||mTt(r,this.size),this.strides=LL(e)}return t.prototype.set=function(e){for(var r=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];n.length===0&&(n=[0]),Je(n.length===this.rank,function(){return"The number of provided coordinates ("+n.length+") must "+("match the rank ("+r.rank+")")});var o=this.locToIndex(n);this.values[o]=e},t.prototype.get=function(){for(var e,r,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];n.length===0&&(n=[0]);var o=0;try{for(var s=o6(n),u=s.next();!u.done;u=s.next()){var f=u.value;if(f<0||f>=this.shape[o]){var l="Requested out of range element at "+n+". "+("  Buffer shape="+this.shape);throw new Error(l)}o++}}catch(m){e={error:m}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}for(var c=n[n.length-1],h=0;h<n.length-1;++h)c+=this.strides[h]*n[h];return this.values[c]},t.prototype.locToIndex=function(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];for(var r=e[e.length-1],n=0;n<e.length-1;++n)r+=this.strides[n]*e[n];return r},t.prototype.indexToLoc=function(e){if(this.rank===0)return[];if(this.rank===1)return[e];for(var r=new Array(this.shape.length),n=0;n<r.length-1;++n)r[n]=Math.floor(e/this.strides[n]),e-=r[n]*this.strides[n];return r[r.length-1]=e,r},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return Tl().makeTensor(this.values,this.shape,this.dtype)},t}(),Tl=null,eS=null;function E6t(t){Tl=t}var As=function(){function t(e,r,n,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=r||"float32",this.size=Ts(e),this.strides=LL(e),this.dataId=n,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.buffer=function(){return yi(this,void 0,void 0,function(){var e;return ci(this,function(r){switch(r.label){case 0:return[4,this.data()];case 1:return e=r.sent(),[2,eS.buffer(this.shape,this.dtype,e)]}})})},t.prototype.bufferSync=function(){return eS.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.array=function(){return yi(this,void 0,void 0,function(){var e;return ci(this,function(r){switch(r.label){case 0:return[4,this.data()];case 1:return e=r.sent(),[2,Pbe(this.shape,e,this.dtype==="complex64")]}})})},t.prototype.arraySync=function(){return Pbe(this.shape,this.dataSync(),this.dtype==="complex64")},t.prototype.data=function(){return yi(this,void 0,void 0,function(){var e,r;return ci(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=Tl().read(this.dataId),this.dtype!=="string"?[3,2]:[4,e];case 1:r=n.sent();try{return[2,r.map(function(a){return Ybe(a)})]}catch(a){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}})})},t.prototype.dataToGPU=function(e){return this.throwIfDisposed(),Tl().readToGPU(this.dataId,e)},t.prototype.dataSync=function(){this.throwIfDisposed();var e=Tl().readSync(this.dataId);if(this.dtype==="string")try{return e.map(function(r){return Ybe(r)})}catch(r){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},t.prototype.bytes=function(){return yi(this,void 0,void 0,function(){var e;return ci(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),[4,Tl().read(this.dataId)];case 1:return e=r.sent(),this.dtype==="string"?[2,e]:[2,new Uint8Array(e.buffer)]}})})},t.prototype.dispose=function(){this.isDisposed||(Tl().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.print=function(e){return e===void 0&&(e=!1),eS.print(this,e)},t.prototype.clone=function(){return this.throwIfDisposed(),eS.clone(this)},t.prototype.toString=function(e){e===void 0&&(e=!1);var r=this.dataSync();return _6t(r,this.shape,this.dtype,e)},t.prototype.cast=function(e){return this.throwIfDisposed(),eS.cast(this,e)},t.prototype.variable=function(e,r,n){return e===void 0&&(e=!0),this.throwIfDisposed(),Tl().makeVariable(this,e,r,n)},t}();Object.defineProperty(As,Symbol.hasInstance,{value:function(t){return!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null}});function M6t(){return qL("Tensor",function(){return As})}M6t();var _L=function(t){wNt(e,t);function e(r,n,a,o){var s=t.call(this,r.shape,r.dtype,r.dataId,o)||this;return s.trainable=n,s.name=a,s}return e.prototype.assign=function(r){if(r.dtype!==this.dtype)throw new Error("dtype of the new value ("+r.dtype+") and "+("previous value ("+this.dtype+") must match"));if(!Tb(r.shape,this.shape))throw new Error("shape of the new value ("+r.shape+") and "+("previous value ("+this.shape+") must match"));Tl().disposeTensor(this),this.dataId=r.dataId,Tl().incRef(this,null)},e.prototype.dispose=function(){Tl().disposeVariable(this),this.isDisposedInternal=!0},e}(As);Object.defineProperty(_L,Symbol.hasInstance,{value:function(t){return t instanceof As&&t.assign!=null&&t.assign instanceof Function}});var Qbe;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(Qbe||(Qbe={}));var SL;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(SL||(SL={}));var EL;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(EL||(EL={}));var ML;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(ML||(ML={}));var AL;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(AL||(AL={}));var A6t={float32:ML,int32:SL,bool:EL,complex64:AL};function N6t(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error("Can not upcast "+t+" with "+e)}return A6t[t][e]}function ga(t,e){if(t.dtype===e.dtype)return[t,e];var r=N6t(t.dtype,e.dtype);return[t.cast(r),e.cast(r)]}function T6t(t,e){Je(t.dtype===e.dtype,function(){return"The dtypes of the first("+t.dtype+") and"+(" second("+e.dtype+") input must match")})}function kwe(t){var e=[],r=new Set;return Iwe(t,e,r),e}function Iwe(t,e,r){if(t!=null){if(t instanceof As){e.push(t);return}if(!!D6t(t)){var n=t;for(var a in n){var o=n[a];r.has(o)||(r.add(o),Iwe(o,e,r))}}}}function D6t(t){return Array.isArray(t)||typeof t=="object"}function oL(t){return t.kernelName!=null}var ewe=function(){function t(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(function(e){return e.name})))}}}return t.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},t}(),jL=function(){function t(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new ewe}return t.prototype.ready=function(){return yi(this,void 0,void 0,function(){var e,r,n,a;return ci(this,function(o){switch(o.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];e=this.getSortedBackends(),r=0,o.label=1;case 1:return r<e.length?(n=e[r],[4,this.initializeBackend(n).success]):[3,5];case 2:return a=o.sent(),a?[4,this.setBackend(n)]:[3,4];case 3:return o.sent(),[2];case 4:return r++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(t.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var e=this.initializeBackendsAndReturnBest(),r=e.name,n=e.asyncInit;if(n)throw new Error("The highest priority backend '"+r+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(r)}return this.backendInstance},enumerable:!0,configurable:!0}),t.prototype.backendNames=function(){return Object.keys(this.registryFactory)},t.prototype.findBackend=function(e){if(!(e in this.registry))if(e in this.registryFactory){var r=this.initializeBackend(e).asyncInit;if(r)return null}else return null;return this.registry[e]},t.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},t.prototype.registerBackend=function(e,r,n){return n===void 0&&(n=1),e in this.registryFactory?(X_(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:r,priority:n},!0)},t.prototype.setBackend=function(e){return yi(this,void 0,void 0,function(){var r,n,a,o,s;return ci(this,function(u){switch(u.label){case 0:if(this.registryFactory[e]==null)throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,this.registry[e]!=null?[3,4]:(this.backendInstance=null,r=this.initializeBackend(e),n=r.success,a=r.asyncInit,a?[4,n]:[3,2]);case 1:return s=u.sent(),[3,3];case 2:s=n,u.label=3;case 3:if(o=s,!o)return[2,!1];u.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new g6t(this.backendInstance),[2,!0]}})})},t.prototype.setupRegisteredKernels=function(){var e=this,r=Wbe(this.backendName);r.forEach(function(n){n.setupFunc!=null&&n.setupFunc(e.backendInstance)})},t.prototype.disposeRegisteredKernels=function(e){var r=this,n=Wbe(e);n.forEach(function(a){a.disposeFunc!=null&&a.disposeFunc(r.registry[e])})},t.prototype.initializeBackend=function(e){var r=this,n=this.registryFactory[e];if(n==null)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var a=n.factory();if(a&&!(a instanceof hTt)&&typeof a.then=="function"){var o=++this.pendingBackendInitId,s=a.then(function(u){return o<r.pendingBackendInitId?!1:(r.registry[e]=u,r.pendingBackendInit=null,!0)}).catch(function(u){return o<r.pendingBackendInitId||(r.pendingBackendInit=null,X_("Initialization of backend "+e+" failed"),X_(u.stack||u.message)),!1});return this.pendingBackendInit=s,{success:s,asyncInit:!0}}else return this.registry[e]=a,{success:!0,asyncInit:!1}}catch(u){return X_("Initialization of backend "+e+" failed"),X_(u.stack||u.message),{success:!1,asyncInit:!1}}},t.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},t.prototype.getSortedBackends=function(){var e=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(r,n){return e.registryFactory[n].priority-e.registryFactory[r].priority})},t.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),r=0;r<e.length;r++){var n=e[r],a=this.initializeBackend(n),o=a.success,s=a.asyncInit;if(s||o)return{name:n,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")},t.prototype.moveData=function(e,r){var n=this.state.tensorInfo.get(r),a=n.backend,o=this.readSync(r),s=a.refCount(r);a.disposeData(r,!0),n.backend=e,e.move(r,o,n.shape,n.dtype,s),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},t.prototype.tidy=function(e,r){var n=this,a=null;if(r==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");r=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof r!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}var o;return this.scopedRun(function(){return n.startScope(a)},function(){return n.endScope(o)},function(){return o=r(),o instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),o})},t.prototype.scopedRun=function(e,r,n){e();try{var a=n();return r(),a}catch(o){throw r(),o}},t.prototype.nextTensorId=function(){return t.nextTensorId++},t.prototype.nextVariableId=function(){return t.nextVariableId++},t.prototype.clone=function(e){var r=nt.runKernel(xwe,{x:e}),n={x:e},a=function(s){return{x:function(){var u="float32",f={x:s},l={dtype:u};return nt.runKernel(wwe,f,l)}}},o=[];return this.addTapeNode(this.state.activeScope.name,n,[r],a,o,{}),r},t.prototype.runKernel=function(e,r,n){this.backendName==null&&this.backend;var a=$be(e,this.backendName)!=null;if(!a)throw new Error("Kernel '"+e+"' not registered for backend '"+this.backendName+"'");return this.runKernelFunc({kernelName:e,inputs:r,attrs:n})},t.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},t.prototype.checkKernelForMemLeak=function(e,r,n){var a=this.backend.numDataIds(),o=0;n.forEach(function(f){o+=f.dtype==="complex64"?3:1});var s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],u=a-r-o-s;if(u>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak "+("("+u+" data ids) after running '"+e+"'"))},t.prototype.runKernelFunc=function(e){var r=this,n,a=[],o=this.isTapeOn(),s=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var f;this.backendName==null&&this.backend;var l,c=oL(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(oL(e)){var h=e.kernelName,m=e.inputs,g=e.attrs;this.backendName==null&&this.backend;var b=$be(h,this.backendName);Je(b!=null,function(){return"Cannot find registered kernel '"+h+"' for backend '"+r.backendName+"'"}),f=function(){var z=r.backend.numDataIds();l=b.kernelFunc({inputs:m,attrs:g,backend:r.backend});var B=Array.isArray(l)?l:[l];r.shouldCheckForMemLeaks()&&r.checkKernelForMemLeak(h,z,B);var $=B.map(function(W){return W.rank!=null?W:r.makeTensorFromTensorInfo(W)});if(o){var j=r.getTensorsForGradient(h,m,$);a=r.saveTensorsForBackwardMode(j)}return $}}else{var A=e.forwardFunc,I=function(z){!o||(a=z.map(function(B){return r.keep(r.clone(B))}))};f=function(){var z=r.backend.numDataIds();l=r.tidy(function(){return A(r.backend,I)});var B=Array.isArray(l)?l:[l];return r.shouldCheckForMemLeaks()&&r.checkKernelForMemLeak(c,z,B),B}}var C=e.inputs,R=e.attrs,O=oL(e)?null:e.backwardsFunc,F;return this.scopedRun(function(){return r.state.kernelDepth++},function(){return r.state.kernelDepth--},function(){!r.ENV.getBool("DEBUG")&&!r.state.profiling?n=f():(F=r.profiler.profileKernel(c,C,function(){return f()}),r.ENV.getBool("DEBUG")&&r.profiler.logKernelProfile(F),n=F.outputs)}),o&&this.addTapeNode(c,C,n,O,a,R),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(C).map(function(z){return C[z]!=null?C[z].shape:null}),outputShapes:n.map(function(z){return z.shape}),kernelTimeMs:F.timeMs,extraInfo:F.extraInfo}),Array.isArray(l)?n:n[0]},t.prototype.saveTensorsForBackwardMode=function(e){var r=this,n=e.map(function(a){return r.keep(r.clone(a))});return n},t.prototype.getTensorsForGradient=function(e,r,n){var a=Vbe(e);if(a!=null){var o=a.inputsToSave||[],s=a.outputsToSave||[],u=void 0;a.saveAllInputs?(Je(Array.isArray(r),function(){return"saveAllInputs is true, expected inputs to be an array."}),u=Object.keys(r).map(function(l){return r[l]})):u=o.map(function(l){return r[l]});var f=n.filter(function(l,c){return s[c]});return u.concat(f)}return[]},t.prototype.makeTensor=function(e,r,n,a){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",a=a||this.backend;var o=e;n==="string"&&FL(e[0])&&(o=e.map(function(c){return v6t(c)}));var s=a.write(o,r,n),u=new As(r,n,s,this.nextTensorId());if(this.trackTensor(u,a),n==="string"){var f=this.state.tensorInfo.get(s),l=yTt(o);this.state.numBytes+=l-f.bytes,f.bytes=l}return u},t.prototype.makeTensorFromDataId=function(e,r,n,a){n=n||"float32";var o={dataId:e,shape:r,dtype:n};return this.makeTensorFromTensorInfo(o,a)},t.prototype.makeTensorFromTensorInfo=function(e,r){var n=e.dataId,a=e.shape,o=e.dtype,s=new As(a,o,n,this.nextTensorId());return this.trackTensor(s,r),s},t.prototype.makeVariable=function(e,r,n,a){r===void 0&&(r=!0),n=n||this.nextVariableId().toString(),a!=null&&a!==e.dtype&&(e=e.cast(a));var o=new _L(e,r,n,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error("Variable with name "+o.name+" was already registered");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},t.prototype.trackTensor=function(e,r){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;var n=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(n=e.size*Bbe(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:r||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof _L||this.track(e)},t.prototype.incRef=function(e,r){this.trackTensor(e,r),this.backend.incRef(e.dataId)},t.prototype.removeDataId=function(e,r){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===r&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)},t.prototype.disposeTensor=function(e){if(!!this.state.tensorInfo.has(e.dataId)){var r=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=r.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){var n=e.size*Bbe(e.dtype);this.state.numBytes-=n}r.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,r.backend)}},t.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var r=this.state.registeredVariables[e];this.disposeVariable(r)}},t.prototype.disposeVariable=function(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]},t.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},t.prototype.profile=function(e){return yi(this,void 0,void 0,function(){var r,n,a,o,s,u,f,l,c,h,m;return ci(this,function(g){switch(g.label){case 0:return this.state.profiling=!0,r=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],a=this.state.activeProfile,[4,e()];case 1:a.result=g.sent(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,xo(this.state.activeProfile.kernels.map(function(b){return b.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-r,this.state.activeProfile.newTensors=this.state.numTensors-n,g.label=2;case 2:g.trys.push([2,8,9,10]),o=o6(this.state.activeProfile.kernels),s=o.next(),g.label=3;case 3:return s.done?[3,7]:(u=s.value,f=u,[4,u.kernelTimeMs]);case 4:return f.kernelTimeMs=g.sent(),l=u,[4,u.extraInfo];case 5:l.extraInfo=g.sent(),g.label=6;case 6:return s=o.next(),[3,3];case 7:return[3,10];case 8:return c=g.sent(),h={error:c},[3,10];case 9:try{s&&!s.done&&(m=o.return)&&m.call(o)}finally{if(h)throw h.error}return[7];case 10:return[2,this.state.activeProfile]}})})},t.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},t.prototype.addTapeNode=function(e,r,n,a,o,s){var u=this,f={id:this.state.nextTapeNodeId++,kernelName:e,inputs:r,outputs:n,saved:o},l=Vbe(e);l!=null&&(a=l.gradFunc),a!=null&&(f.gradient=function(c){return c=c.map(function(h,m){if(h==null){var g=n[m],b=PL(g.size,g.dtype);return u.makeTensor(b,g.shape,g.dtype)}return h}),a(c.length>1?c:c[0],o,s)}),this.state.activeTape.push(f)},t.prototype.keep=function(e){return e.kept=!0,e},t.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},t.prototype.endTape=function(){this.state.gradientDepth--},t.prototype.startScope=function(e){var r={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(r.name=e),this.state.scopeStack.push(r),this.state.activeScope=r},t.prototype.endScope=function(e){for(var r=this,n=kwe(e),a=new Set(n.map(function(f){return f.id})),o=0;o<this.state.activeScope.track.length;o++){var s=this.state.activeScope.track[o];!s.kept&&!a.has(s.id)&&s.dispose()}var u=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(function(f){!f.kept&&f.scopeId===u.id&&r.track(f)})},t.prototype.gradients=function(e,r,n,a){var o=this;if(a===void 0&&(a=!1),Je(r.length>0,function(){return"gradients() received an empty list of xs."}),n!=null&&n.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var s=this.scopedRun(function(){return o.startTape()},function(){return o.endTape()},function(){return o.tidy("forward",e)});Je(s instanceof As,function(){return"The result y returned by f() must be a tensor."});var u=w6t(this.state.activeTape,r,s);if(!a&&u.length===0&&r.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var f={};f[s.id]=n==null?k6t(s.shape):n,x6t(f,u,function(c){return o.tidy(c)},C6t);var l=r.map(function(c){return f[c.id]});return o.state.gradientDepth===0&&(o.state.activeTape.forEach(function(c){var h,m;try{for(var g=o6(c.saved),b=g.next();!b.done;b=g.next()){var A=b.value;A.dispose()}}catch(I){h={error:I}}finally{try{b&&!b.done&&(m=g.return)&&m.call(g)}finally{if(h)throw h.error}}}),o.state.activeTape=null),{value:s,grads:l}})},t.prototype.customGrad=function(e){var r=this;return Je(Lbe(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];Je(n.every(function(l){return l instanceof As}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var o,s={};n.forEach(function(l,c){s[c]=l});var u=function(l,c){return o=e.apply(void 0,xo(n,[c])),Je(o.value instanceof As,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),Je(Lbe(o.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),o.value},f=function(l,c){var h=o.gradFunc(l,c),m=Array.isArray(h)?h:[h];Je(m.length===n.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),Je(m.every(function(b){return b instanceof As}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var g={};return m.forEach(function(b,A){g[A]=function(){return b}}),g};return r.runKernelFunc({forwardFunc:u,backwardsFunc:f,inputs:s})}},t.prototype.readSync=function(e){var r=this.state.tensorInfo.get(e);return r.backend.readSync(e)},t.prototype.read=function(e){var r=this.state.tensorInfo.get(e);return r.backend.read(e)},t.prototype.readToGPU=function(e,r){var n=this.state.tensorInfo.get(e);return n.backend.readToGPU(e,r)},t.prototype.time=function(e){return yi(this,void 0,void 0,function(){var r,n;return ci(this,function(a){switch(a.label){case 0:return r=f6(),[4,this.backend.time(e)];case 1:return n=a.sent(),n.wallMs=f6()-r,[2,n]}})})},t.prototype.track=function(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(t.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new ewe;for(var e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},t}();jL.nextTensorId=0;jL.nextVariableId=0;function k6t(t){var e=dwe(Ts(t),"float32");return nt.makeTensor(e,t,"float32")}function I6t(){var t=ywe();if(t._tfengine==null){var e=new xTt(t);t._tfengine=new jL(e)}return MTt(t._tfengine.ENV),E6t(function(){return t._tfengine}),t._tfengine}var nt=I6t();function C6t(t,e){var r={a:t,b:e};return nt.runKernel(bwe,r)}function Dd(t,e){var r=t;if(Oc(t))return e==="string"?[]:[t.length];if(!Array.isArray(t))return[];for(var n=[];Array.isArray(r)||Oc(r)&&e!=="string";)n.push(r.length),r=r[0];return Array.isArray(t)&&Cf().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Cwe(t,n,[]),n}function Cwe(t,e,r){if(r=r||[],!Array.isArray(t)&&!Oc(t)){Je(e.length===0,function(){return"Element arr["+r.join("][")+"] is a primitive, "+("but should be an array/TypedArray of "+e[0]+" elements")});return}Je(e.length>0,function(){return"Element arr["+r.join("][")+"] should be a primitive, "+("but is an array of "+t.length+" elements")}),Je(t.length===e[0],function(){return"Element arr["+r.join("][")+"] should have "+e[0]+" "+("elements, but has "+t.length+" elements")});for(var n=e.slice(1),a=0;a<t.length;++a)Cwe(t[a],n,r.concat(a))}function twe(t,e,r,n){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error("Argument '"+r+"' passed to '"+n+"' must "+("be "+t+" tensor, but got "+e+" tensor"))}}function Re(t,e,r,n){if(n===void 0&&(n="numeric"),t instanceof As)return twe(n,t.dtype,e,r),t;var a=BL(t);if(a!=="string"&&["bool","int32","float32"].indexOf(n)>=0&&(a=n),twe(n,a,e,r),t==null||!Oc(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){var o=t==null?"null":t.constructor.name;throw new Error("Argument '"+e+"' passed to '"+r+"' must be a "+("Tensor or TensorLike, but got '"+o+"'"))}var s=Dd(t,a);!Oc(t)&&!Array.isArray(t)&&(t=[t]);var u=!0,f=a!=="string"?Twe(t,a):g6(t,[],u);return nt.makeTensor(f,s,a)}function l6(t,e,r,n){if(n===void 0&&(n="numeric"),!Array.isArray(t))throw new Error("Argument "+e+" passed to "+r+" must be a `Tensor[]` or `TensorLike[]`");var a=t;return a.map(function(o,s){return Re(o,e+"["+s+"]",r,n)})}var Owe="__op";function Ze(t){var e=Object.keys(t);if(e.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+(e.length+" keys."));var r=e[0],n=t[r];r.endsWith("_")&&(r=r.substring(0,r.length-1)),r=r+Owe;var a=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];nt.startScope(r);try{var u=n.apply(void 0,xo(o));return vwe(u)&&console.error("Cannot return a Promise inside of tidy."),nt.endScope(u),u}catch(f){throw nt.endScope(null),f}};return Object.defineProperty(a,"name",{value:r,configurable:!0}),a}function O6t(t){var e=Re(t,"x","abs");if(e.dtype==="complex64"){var r={x:e};return nt.runKernel(ZTt,r)}else{var r={x:e};return nt.runKernel(NTt,r)}}var kf=Ze({abs_:O6t});function R6t(t){var e=Re(t,"x","acos"),r={x:e};return nt.runKernel(TTt,r)}var F6t=Ze({acos_:R6t});function B6t(t){var e=Re(t,"x","acosh"),r={x:e};return nt.runKernel(DTt,r)}var L6t=Ze({acosh_:B6t});function P6t(t,e){var r,n=Re(t,"a","add"),a=Re(e,"b","add");r=nr(ga(n,a),2),n=r[0],a=r[1];var o={a:n,b:a};return nt.runKernel(bwe,o)}var no=Ze({add_:P6t});function q6t(t){Je(Array.isArray(t),function(){return"The argument passed to tf.addN() must be a list of tensors"}),Je(t.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+(""+t.length)});var e=t.map(function(a,o){return Re(a,"tensors"+o,"addN")}),r=e[0];e.forEach(function(a){if(a.dtype!==r.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(function(a){if(!Tb(a.shape,r.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var n=e;return nt.runKernel(kTt,n)}var z6t=Ze({addN_:q6t});function U6t(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Re(t,"x","all","bool"),a={x:n},o={axis:e,keepDims:r};return nt.runKernel(ITt,a,o)}var j6t=Ze({all_:U6t});function $6t(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Re(t,"x","any","bool"),a={x:n},o={axis:e,keepDims:r};return nt.runKernel(CTt,a,o)}var V6t=Ze({any_:$6t});function W6t(t,e){e===void 0&&(e=0);var r=Re(t,"x","argMax"),n={x:r},a={axis:e};return nt.runKernel(OTt,n,a)}var G6t=Ze({argMax_:W6t});function H6t(t,e){e===void 0&&(e=0);var r=Re(t,"x","argMin"),n={x:r},a={axis:e};return nt.runKernel(RTt,n,a)}var K6t=Ze({argMin_:H6t});function Z6t(t){var e=Re(t,"x","asin"),r={x:e};return nt.runKernel(FTt,r)}var J6t=Ze({asin_:Z6t});function Y6t(t){var e=Re(t,"x","asinh"),r={x:e};return nt.runKernel(BTt,r)}var X6t=Ze({asinh_:Y6t});function Q6t(t){var e=Re(t,"x","atan"),r={x:e};return nt.runKernel(LTt,r)}var ekt=Ze({atan_:Q6t});function tkt(t,e){var r,n=Re(t,"a","atan2"),a=Re(e,"b","atan2");r=nr(ga(n,a),2),n=r[0],a=r[1];var o={a:n,b:a};return nt.runKernel(qTt,o)}var rkt=Ze({atan2_:tkt});function nkt(t){var e=Re(t,"x","atanh"),r={x:e};return nt.runKernel(PTt,r)}var ikt=Ze({atanh_:nkt});function akt(t,e){var r=Re(t,"x","cast");if(!gTt(e))throw new Error("Failed to cast to unknown dtype "+e);if(e==="string"&&r.dtype!=="string"||e!=="string"&&r.dtype==="string")throw new Error("Only strings can be casted to strings");var n={x:r},a={dtype:e};return nt.runKernel(wwe,n,a)}var _o=Ze({cast_:akt});function okt(t,e,r,n,a,o,s){s===void 0&&(s="channelsLast");var u=nr(c6(e),2),f=u[0],l=u[1],c;if(s==="channelsLast")c=[f,l,t[3],t[3]];else if(s==="channelsFirst")c=[f,l,t[1],t[1]];else throw new Error("Unknown dataFormat "+s);return $L(t,c,r,n,a,o,!1,s)}function $L(t,e,r,n,a,o,s,u){var f,l;s===void 0&&(s=!1),u===void 0&&(u="channelsLast");var c=nr([-1,-1,-1,-1],4),h=c[0],m=c[1],g=c[2],b=c[3];if(u==="channelsLast")f=nr(t,4),h=f[0],m=f[1],g=f[2],b=f[3];else if(u==="channelsFirst")l=nr(t,4),h=l[0],b=l[1],m=l[2],g=l[3];else throw new Error("Unknown dataFormat "+u);var A=nr(e,4),I=A[0],C=A[1],R=A[3],O=nr(c6(r),2),F=O[0],z=O[1],B=nr(c6(n),2),$=B[0],j=B[1],W=NL(I,$),T=NL(C,j),p=fkt(a,m,g,F,z,W,T,o,u),v=p.padInfo,S=p.outHeight,y=p.outWidth,M=s?R*b:R,D;return u==="channelsFirst"?D=[h,M,S,y]:u==="channelsLast"&&(D=[h,S,y,M]),{batchSize:h,dataFormat:u,inHeight:m,inWidth:g,inChannels:b,outHeight:S,outWidth:y,outChannels:M,padInfo:v,strideHeight:F,strideWidth:z,filterHeight:I,filterWidth:C,effectiveFilterHeight:W,effectiveFilterWidth:T,dilationHeight:$,dilationWidth:j,inShape:t,outShape:D,filterShape:e}}function skt(t,e,r,n,a){n==null&&(n=ukt(t,e,r));var o=t[0],s=t[1],u=h6((o-e+2*n)/r+1,a),f=h6((s-e+2*n)/r+1,a);return[u,f]}function ukt(t,e,r,n){n===void 0&&(n=1);var a=NL(e,n);return Math.floor((t[0]*(r-1)-r+a)/2)}function c6(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function NL(t,e){return e<=1?t:t+(t-1)*(e-1)}function fkt(t,e,r,n,a,o,s,u,f){var l,c,h;if(typeof t=="number"){var m=t===0?"VALID":"NUMBER";l={top:t,bottom:t,left:t,right:t,type:m};var g=skt([e,r],o,n,t,u);c=g[0],h=g[1]}else if(t==="same"){c=Math.ceil(e/n),h=Math.ceil(r/a);var b=Math.max(0,(c-1)*n+o-e),A=Math.max(0,(h-1)*a+s-r),I=Math.floor(b/2),C=b-I,R=Math.floor(A/2),O=A-R;l={top:I,bottom:C,left:R,right:O,type:"SAME"}}else if(t==="valid")l={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-o+1)/n),h=Math.ceil((r-s+1)/a);else if(typeof t=="object"){var I=f==="channelsLast"?t[1][0]:t[2][0],C=f==="channelsLast"?t[1][1]:t[2][1],R=f==="channelsLast"?t[2][0]:t[3][0],O=f==="channelsLast"?t[2][1]:t[3][1],m=I===0&&C===0&&R===0&&O===0?"VALID":"EXPLICIT";l={top:I,bottom:C,left:R,right:O,type:m},c=h6((e-o+I+C)/n+1,u),h=h6((r-s+R+O)/a+1,u)}else throw Error("Unknown padding parameter: "+t);return{padInfo:l,outHeight:c,outWidth:h}}function h6(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+e)}}function p6(t){var e=nr(c6(t),3),r=e[0],n=e[1],a=e[2];return r===1&&n===1&&a===1}function kd(t,e){return p6(t)||p6(e)}function Il(t,e,r){if(r!=null){if(typeof e=="string")throw Error("Error in "+t+": pad must be an integer when using "+("dimRoundingMode "+r+" but got pad "+e+"."));if(typeof e=="number")Je(oS(e),function(){return"Error in "+t+": pad must be an integer when using "+("dimRoundingMode "+r+" but got pad "+e+".")});else if(typeof e=="object")e.forEach(function(n){n.forEach(function(a){Je(oS(a),function(){return"Error in "+t+": pad must be an integer when using "+("dimRoundingMode "+r+" but got pad "+a+".")})})});else throw Error("Error in "+t+": Unknown padding parameter: "+e)}}function lkt(t,e){var r=Re(t,"x","reshape","string_or_numeric"),n={x:r},a={shape:e};return nt.runKernel(x4t,n,a)}var Rt=Ze({reshape_:lkt});function ckt(t,e,r,n,a){var o=Re(t,"x","avgPool","float32"),s=1;Je(kd(r,s),function(){return"Error in avgPool: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+s+"'")});var u=o,f=!1;o.rank===3&&(f=!0,u=Rt(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Je(u.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+u.rank+"."}),Il("avgPool",n,a);var l={x:u},c={filterSize:e,strides:r,pad:n,dimRoundingMode:a},h=nt.runKernel(zTt,l,c);return h=_o(h,o.dtype),f?Rt(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var Rwe=Ze({avgPool_:ckt});function hkt(t,e,r,n,a,o){o===void 0&&(o="NDHWC");var s=Re(t,"x","avgPool3d","float32"),u=s,f=!1;s.rank===4&&(f=!0,u=Rt(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Je(u.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."}),Je(o==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+("but got dataFormat of "+o)}),Il("avgPool3d",n,a);var l={x:u},c={filterSize:e,strides:r,pad:n,dimRoundingMode:a,dataFormat:o},h=nt.runKernel(UTt,l,c);return h=_o(h,u.dtype),f?Rt(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}var pkt=Ze({avgPool3d_:hkt});function dkt(t){var e=Re(t,"x","clone","string_or_numeric"),r={x:e};return nt.runKernel(xwe,r)}var xb=Ze({clone_:dkt});function mkt(t,e){e===void 0&&(e=0),Je(t.length>=1,function(){return"Pass at least one tensor to concat"});var r=l6(t,"tensors","concat","string_or_numeric");if(r[0].dtype==="complex64"&&r.forEach(function(o){if(o.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+o.dtype+". ")}),r.length===1)return xb(r[0]);var n=r,a={axis:e};return nt.runKernel(JTt,n,a)}var Hs=Ze({concat_:mkt});function vkt(t,e,r,n){var a;r===void 0&&(r=!1),n===void 0&&(n=!1);var o=Re(t,"a","matMul"),s=Re(e,"b","matMul");a=nr(ga(o,s),2),o=a[0],s=a[1];var u={a:o,b:s},f={transposeA:r,transposeB:n};return nt.runKernel(jTt,u,f)}var li=Ze({matMul_:vkt});function gkt(t,e){var r,n=Re(t,"a","mul"),a=Re(e,"b","mul");r=nr(ga(n,a),2),n=r[0],a=r[1];var o={a:n,b:a};return nt.runKernel(i4t,o)}var Zr=Ze({mul_:gkt});function ykt(t){var e=Re(t,"x","sigmoid","float32"),r={x:e};return nt.runKernel(B4t,r)}var _b=Ze({sigmoid_:ykt});function bkt(t,e,r){var n=Re(t,"x","slice","string_or_numeric");if(n.rank===0)throw new Error("Slicing scalar is not possible");var a={x:n},o={begin:e,size:r};return nt.runKernel(C4t,a,o)}var Ki=Ze({slice_:bkt});function wkt(t){var e=Re(t,"x","tanh","float32"),r={x:e};return nt.runKernel(t6t,r)}var TL=Ze({tanh_:wkt});function xkt(t,e,r,n,a,o){var s=Re(t,"forgetBias","basicLSTMCell"),u=Re(e,"lstmKernel","basicLSTMCell"),f=Re(r,"lstmBias","basicLSTMCell"),l=Re(n,"data","basicLSTMCell"),c=Re(a,"c","basicLSTMCell"),h=Re(o,"h","basicLSTMCell"),m=Hs([l,h],1),g=li(m,u),b=no(g,f),A=b.shape[0],I=b.shape[1]/4,C=[A,I],R=Ki(b,[0,0],C),O=Ki(b,[0,I],C),F=Ki(b,[0,I*2],C),z=Ki(b,[0,I*3],C),B=no(Zr(_b(R),TL(O)),Zr(c,_b(no(s,F)))),$=Zr(TL(B),_b(z));return[B,$]}var _kt=Ze({basicLSTMCell_:xkt});function Skt(t,e,r){var n=Re(t,"x","batchToSpaceND"),a=e.reduce(function(u,f){return u*f});Je(n.rank>=1+e.length,function(){return"input rank is "+n.rank+" but should be > than blockShape.length "+e.length}),Je(r.length===e.length,function(){return"crops.length is "+r.length+" but should be equal to blockShape.length  "+e.length}),Je(n.shape[0]%a===0,function(){return"input tensor batch is "+n.shape[0]+" but is not divisible by the product of "+("the elements of blockShape "+e.join(" * ")+" === "+a)});var o={x:n},s={blockShape:e,crops:r};return nt.runKernel($Tt,o,s)}var Fwe=Ze({batchToSpaceND_:Skt});function Ekt(t){var e;return t.rank===0||t.rank===1?e=Rt(t,[1,1,1,t.size]):t.rank===2?e=Rt(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=Rt(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}function Mkt(t,e,r,n,a,o){o==null&&(o=.001);var s=Re(t,"x","batchNorm"),u=Re(e,"mean","batchNorm"),f=Re(r,"variance","batchNorm"),l;a!=null&&(l=Re(a,"scale","batchNorm"));var c;n!=null&&(c=Re(n,"offset","batchNorm")),Je(u.rank===f.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),Je(c==null||u.rank===c.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),Je(l==null||u.rank===l.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."});var h=Ekt(s),m={x:h,scale:l,offset:c,mean:u,variance:f},g={varianceEpsilon:o},b=nt.runKernel(NDt,m,g);return Rt(b,s.shape)}var b6=Ze({batchNorm_:Mkt});function Akt(t,e,r,n,a,o){var s=Re(t,"x","batchNorm"),u=Re(e,"mean","batchNorm"),f=Re(r,"variance","batchNorm"),l;a!=null&&(l=Re(a,"scale","batchNorm"));var c;return n!=null&&(c=Re(n,"offset","batchNorm")),Je(s.rank===2,function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+(s.rank+".")}),Je(u.rank===2||u.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+("got rank "+u.rank+".")}),Je(f.rank===2||f.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+("but got rank "+f.rank+".")}),l!=null&&Je(l.rank===2||l.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+("but got rank "+l.rank+".")}),c!=null&&Je(c.rank===2||c.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+("but got rank "+c.rank+".")}),b6(s,u,f,c,l,o)}var Nkt=Ze({batchNorm2d_:Akt});function Tkt(t,e,r,n,a,o){var s=Re(t,"x","batchNorm"),u=Re(e,"mean","batchNorm"),f=Re(r,"variance","batchNorm"),l;a!=null&&(l=Re(a,"scale","batchNorm"));var c;return n!=null&&(c=Re(n,"offset","batchNorm")),Je(s.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+(s.rank+".")}),Je(u.rank===3||u.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+("got rank "+u.rank+".")}),Je(f.rank===3||f.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+("but got rank "+f.rank+".")}),l!=null&&Je(l.rank===3||l.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+("but got rank "+l.rank+".")}),c!=null&&Je(c.rank===3||c.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+("but got rank "+c.rank+".")}),b6(s,u,f,c,l,o)}var Dkt=Ze({batchNorm3d_:Tkt});function kkt(t,e,r,n,a,o){var s=Re(t,"x","batchNorm"),u=Re(e,"mean","batchNorm"),f=Re(r,"variance","batchNorm"),l;a!=null&&(l=Re(a,"scale","batchNorm"));var c;return n!=null&&(c=Re(n,"offset","batchNorm")),Je(s.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+(s.rank+".")}),Je(u.rank===4||u.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+("got rank "+u.rank+".")}),Je(f.rank===4||f.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+("but got rank "+f.rank+".")}),l!=null&&Je(l.rank===4||l.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+("but got rank "+l.rank+".")}),c!=null&&Je(c.rank===4||c.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+("but got rank "+c.rank+".")}),b6(s,u,f,c,l,o)}var Ikt=Ze({batchNorm4d_:kkt});function Ckt(t,e,r){var n=Re(t,"x","bincount"),a=Re(e,"weights","bincount");Je(n.dtype==="int32",function(){return"Error in bincount: input "+("dtype must be int32, but got "+n.dtype)}),Je(r>=0,function(){return"size must be non-negative, but got "+r+"."}),Je(a.size===n.size||a.size===0,function(){return"Error in bincount: weights must have the same size as input or"+("0-length, but got input shape: "+n.shape+", weights shape: ")+(a.shape+".")});var o={x:n,weights:a},s={size:r};return nt.runKernel(VTt,o,s)}var Bwe=Ze({bincount_:Ckt});function Okt(t,e){var r=Re(t,"s0","broadcastArgs","int32"),n=Re(e,"s1","broadcastArgs","int32");if(r.rank!==1)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+("Has rank "+r.rank));if(n.rank!==1)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+("Has rank "+n.rank));var a={s0:r,s1:n};return nt.runKernel(WTt,a)}var Rkt=Ze({broadcastArgs_:Okt});function Fkt(t,e){var r=Re(t,"broadcastTo","x"),n=r.shape;if(e.some(function(h){return!(h>0)||h%1!==0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+e+"].");if(e.length<r.rank)throw new Error("broadcastTo(): shape.length="+e.length+" < input.rank="+r.rank+".");if(e.length>r.rank){for(var a=r.shape.slice();a.length<e.length;)a.unshift(1);r=Rt(r,a)}for(var o=r.shape,s=Array.from(e),u=e.length-1;u>=0;u--)if(o[u]===e[u])s[u]=1;else if(r.shape[u]!==1)throw new Error("broadcastTo(): ["+n+"] cannot be broadcast to ["+e+"].");var f=s.map(function(h,m){return h>1?m:-1}).filter(function(h){return h>=0});if(f.length===0)return xb(r);var l={x:r},c={reps:s};return nt.runKernel(_we,l,c)}var a6=Ze({broadcastTo_:Fkt});function Td(t,e,r){return e===void 0&&(e="float32"),e=e||"float32",mwe(t),new xL(t,e,r)}function Bkt(t){var e=Re(t,"x","ceil","float32"),r={x:e};return nt.runKernel(GTt,r)}var Lkt=Ze({ceil_:Bkt});function Pkt(t,e,r){var n=Re(t,"x","clipByValue");Je(e<=r,function(){return"Error in clip: min ("+e+") must be "+("less than or equal to max ("+r+").")});var a={x:n},o={clipValueMin:e,clipValueMax:r};return nt.runKernel(HTt,a,o)}var qkt=Ze({clipByValue_:Pkt});function zkt(t,e){var r=Re(t,"real","complex"),n=Re(e,"imag","complex");Bf(r.shape,n.shape,"real and imag shapes, "+r.shape+" and "+n.shape+", must match in call to tf.complex().");var a={real:r,imag:n};return nt.runKernel(KTt,a)}var ov=Ze({complex_:zkt});function Ukt(t){return Hs(t,0)}var jkt=Ze({concat1d_:Ukt});function $kt(t,e){return Hs(t,e)}var Vkt=Ze({concat2d_:$kt});function Wkt(t,e){return Hs(t,e)}var Gkt=Ze({concat3d_:Wkt});function Hkt(t,e){return Hs(t,e)}var Kkt=Ze({concat4d_:Hkt});function Zkt(t,e,r,n,a,o,s){a===void 0&&(a="NHWC"),o===void 0&&(o=[1,1]);var u=Re(t,"x","conv2d","float32"),f=Re(e,"filter","conv2d","float32"),l=u,c=!1;u.rank===3&&(c=!0,l=Rt(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Je(l.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+l.rank+"."}),Je(f.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+(f.rank+".")}),Il("conv2d",n,s);var h=a==="NHWC"?l.shape[3]:l.shape[1];Je(h===f.shape[2],function(){return"Error in conv2d: depth of input ("+h+") must match "+("input depth for filter "+f.shape[2]+".")}),Je(kd(r,o),function(){return"Error in conv2D: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+o+"'")});var m={x:l,filter:f},g={strides:r,pad:n,dataFormat:a,dilations:o,dimRoundingMode:s},b=nt.runKernel(YTt,m,g);return c?Rt(b,[b.shape[1],b.shape[2],b.shape[3]]):b}var w6=Ze({conv2d_:Zkt});function Jkt(t,e,r,n,a,o,s){a===void 0&&(a="NWC"),o===void 0&&(o=1);var u=Re(t,"x","conv1d"),f=Re(e,"filter","conv1d"),l=u,c=!1;u.rank===2&&(c=!0,l=Rt(u,[1,u.shape[0],u.shape[1]])),Je(l.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+l.rank+"."}),Je(f.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+(f.rank+".")}),Il("conv1d",n,s),Je(l.shape[2]===f.shape[1],function(){return"Error in conv1d: depth of input ("+l.shape[2]+") must match "+("input depth for filter "+f.shape[1]+".")}),Je(kd(r,o),function(){return"Error in conv1D: Either stride or dilation must be 1. "+("Got stride "+r+" and dilation '"+o+"'")}),Je(a==="NWC",function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."});var h=Rt(f,[1,f.shape[0],f.shape[1],f.shape[2]]),m=Rt(l,[l.shape[0],1,l.shape[1],l.shape[2]]),g=[1,r],b=[1,o],A="NHWC",I=w6(m,h,g,n,A,b,s);return c?Rt(I,[I.shape[2],I.shape[3]]):Rt(I,[I.shape[0],I.shape[2],I.shape[3]])}var Ykt=Ze({conv1d_:Jkt});function Xkt(t,e,r,n,a,o,s){o===void 0&&(o="NHWC"),Je(t.length===e.rank,function(){return"Length of inShape "+("("+t.length+") and rank of dy ("+e.rank+") must match")});var u=t,f=e,l=!1;e.rank===3&&(l=!0,f=Rt(e,[1,e.shape[0],e.shape[1],e.shape[2]]),u=[1,t[0],t[1],t[2]]),Je(u.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+(u.length+".")}),Je(f.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+("rank "+f.rank)}),Je(r.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+("rank "+r.rank)});var c=o==="NHWC"?u[3]:u[1],h=o==="NHWC"?f.shape[3]:f.shape[1];Je(c===r.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+c+") must "+("match input depth for filter "+r.shape[2]+".")}),Je(h===r.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+h+") must "+("match output depth for filter "+r.shape[3]+".")}),Il("conv2dDerInput",a,s);var m={dy:f,filter:r},g={strides:n,pad:a,dataFormat:o,dimRoundingMode:s,inputShape:u},b=nt.runKernel(QTt,m,g);return l?Rt(b,[b.shape[1],b.shape[2],b.shape[3]]):b}var Lwe=Ze({conv2DBackpropInput_:Xkt});function Qkt(t,e,r,n,a,o){var s=Re(t,"x","conv2dTranspose"),u=Re(e,"filter","conv2dTranspose");return Lwe(r,s,u,n,a,"NHWC",o)}var eIt=Ze({conv2dTranspose_:Qkt});function tIt(t,e,r,n,a,o){a===void 0&&(a="NDHWC"),o===void 0&&(o=[1,1,1]);var s=Re(t,"x","conv3d"),u=Re(e,"filter","conv3d"),f=s,l=!1;s.rank===4&&(l=!0,f=Rt(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Je(f.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+f.rank+"."}),Je(u.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+(u.rank+".")}),Je(f.shape[4]===u.shape[3],function(){return"Error in conv3d: depth of input ("+f.shape[4]+") must match "+("input depth for filter "+u.shape[3]+".")}),Je(kd(r,o),function(){return"Error in conv3D: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+o+"'")}),Je(a==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."});var c={x:f,filter:u},h={strides:r,pad:n,dataFormat:a,dilations:o},m=nt.runKernel(eDt,c,h);return l?Rt(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}var rIt=Ze({conv3d_:tIt});function nIt(t,e,r,n,a){Je(t.length===e.rank,function(){return"Length of inShape "+("("+t.length+") and rank of dy ("+e.rank+") must match")});var o=t,s=e,u=!1;e.rank===4&&(u=!0,s=Rt(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),o=[1,t[0],t[1],t[2],t[3]]);var f=o[4],l=s.shape[4];Je(o.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+(o.length+".")}),Je(s.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+("rank "+s.rank)}),Je(r.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+("rank "+r.rank)}),Je(f===r.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+f+") must "+("match input depth for filter "+r.shape[3]+".")}),Je(l===r.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+l+") must "+("match output depth for filter "+r.shape[4]+".")});var c={dy:s,filter:r},h={pad:a,strides:n,inputShape:o},m=nt.runKernel(tDt,c,h);return u?Rt(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}var iIt=Ze({conv3DBackpropInput_:nIt});function aIt(t,e,r,n,a){var o=Re(t,"x","conv3dTranspose"),s=Re(e,"filter","conv3dTranspose");return iIt(r,o,s,n,a)}var oIt=Ze({conv3dTranspose_:aIt});function sIt(t){var e=Re(t,"x","cos","float32"),r={x:e};return nt.runKernel(rDt,r)}var uIt=Ze({cos_:sIt});function fIt(t){var e=Re(t,"x","cosh","float32"),r={x:e};return nt.runKernel(nDt,r)}var lIt=Ze({cosh_:fIt});function cIt(t,e,r,n){e===void 0&&(e=0),r===void 0&&(r=!1),n===void 0&&(n=!1);var a=Re(t,"x","cumprod"),o={x:a},s={axis:e,exclusive:r,reverse:n};return nt.runKernel(iDt,o,s)}var hIt=Ze({cumprod_:cIt});function pIt(t,e,r,n){e===void 0&&(e=0),r===void 0&&(r=!1),n===void 0&&(n=!1);var a=Re(t,"x","cumsum"),o={x:a},s={axis:e,exclusive:r,reverse:n};return nt.runKernel(aDt,o,s)}var dIt=Ze({cumsum_:pIt});function mIt(t,e,r,n){n===void 0&&(n=!1);var a=Re(t,"x","denseBincount"),o=Re(e,"weights","denseBincount");Je(a.dtype==="int32",function(){return"Error in denseBincount: input "+("dtype must be int32, but got "+a.dtype)}),Je(a.rank<=2,function(){return"Error in denseBincount: input must be at most rank 2, but got "+("rank "+a.rank+".")}),Je(r>=0,function(){return"size must be non-negative, but got "+r+"."}),Je(o.size===a.size||o.size===0,function(){return"Error in denseBincount: weights must have the same shape as x or "+("0-length, but got x shape: "+a.shape+", weights shape: ")+(o.shape+".")});var s={x:a,weights:o},u={size:r,binaryOutput:n};return nt.runKernel(sDt,s,u)}var vIt=Ze({denseBincount_:mIt});function gIt(t,e,r){r===void 0&&(r="NHWC");var n=Re(t,"x","depthToSpace","float32"),a=r==="NHWC"?n.shape[1]:n.shape[2],o=r==="NHWC"?n.shape[2]:n.shape[3],s=r==="NHWC"?n.shape[3]:n.shape[1];Je(e>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+e}),Je(a*e>=0,function(){return`Negative dimension size caused by overflow when multiplying
    `+a+" and "+e+`  for depthToSpace with input shape
    `+n.shape}),Je(o*e>=0,function(){return`Negative dimension size caused by overflow when multiplying
    `+o+" and "+e+` for depthToSpace with input shape
        `+n.shape}),Je(s%(e*e)===0,function(){return"Dimension size must be evenly divisible by "+e*e+" but is "+s+" for depthToSpace with input shape "+n.shape});var u={x:n},f={blockSize:e,dataFormat:r};return nt.runKernel(uDt,u,f)}var yIt=Ze({depthToSpace_:gIt});function bIt(t,e,r,n,a,o,s){a===void 0&&(a="NHWC"),o===void 0&&(o=[1,1]);var u=Re(t,"x","depthwiseConv2d","float32"),f=Re(e,"filter","depthwiseConv2d","float32"),l=u,c=!1;u.rank===3&&(c=!0,l=Rt(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Je(l.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+("rank "+l.rank+".")}),Je(f.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+(f.rank+".")});var h=a==="NHWC"?l.shape[3]:l.shape[1];Je(h===f.shape[2],function(){return"Error in depthwiseConv2d: number of input channels "+("("+h+") must match the inChannels dimension in ")+("filter "+f.shape[2]+".")}),Il("depthwiseConv2d",n,s);var m={x:l,filter:f},g={strides:r,pad:n,dataFormat:a,dilations:o,dimRoundingMode:s},b=nt.runKernel(fDt,m,g);return c?Rt(b,[b.shape[1],b.shape[2],b.shape[3]]):b}var VL=Ze({depthwiseConv2d_:bIt});function wIt(t){var e=Re(t,"x","diag"),r={x:e};return nt.runKernel(hDt,r)}var xIt=Ze({diag_:wIt});function _It(t,e,r,n,a,o){a===void 0&&(a=[1,1]),o===void 0&&(o="NHWC");var s=Re(t,"x","dilation2d"),u=Re(e,"filter","dilation2d");Je(s.rank===3||s.rank===4,function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+(s.rank+".")}),Je(u.rank===3,function(){return"Error in dilation2d: filter must be rank 3, but got rank "+(u.rank+".")}),Je(o==="NHWC",function(){return"Error in dilation2d: Only NHWC is currently supported, "+("but got dataFormat of "+o)});var f=s,l=!1;s.rank===3&&(f=Rt(s,[1,s.shape[0],s.shape[1],s.shape[2]]),l=!0);var c={x:f,filter:u},h={strides:r,pad:n,dilations:a},m=nt.runKernel(pDt,c,h);return l?Rt(m,[m.shape[1],m.shape[2],m.shape[3]]):m}var SIt=Ze({dilation2d_:_It});function EIt(t,e){var r,n=Re(t,"a","floorDiv"),a=Re(e,"b","floorDiv");r=nr(ga(n,a),2),n=r[0],a=r[1];var o={a:n,b:a};return nt.runKernel(ADt,o)}var Pwe=Ze({floorDiv_:EIt});function MIt(t,e){var r,n=Re(t,"a","div"),a=Re(e,"b","div");if(r=nr(ga(n,a),2),n=r[0],a=r[1],n.dtype==="int32"&&a.dtype==="int32")return Pwe(n,a);var o={a:n,b:a},s={};return nt.runKernel(dDt,o,s)}var fs=Ze({div_:MIt});function AIt(t,e){for(var r=[],n=0;n<e.length;n++){var a=t[t.length-n-1],o=e.length-n-1,s=e[o];(a==null||a===1&&s>1)&&r.unshift(o)}return r}function io(t,e){for(var r=[],n=Math.max(t.length,e.length),a=0;a<n;a++){var o=t[t.length-a-1];o==null&&(o=1);var s=e[e.length-a-1];if(s==null&&(s=1),o===1)r.unshift(s);else if(s===1)r.unshift(o);else if(o!==s){var u="Operands could not be broadcast together with shapes "+(t+" and "+e+".");throw Error(u)}else r.unshift(o)}return r}function NIt(t,e){var r,n=Re(t,"a","equal","string_or_numeric"),a=Re(e,"b","equal","string_or_numeric");r=nr(ga(n,a),2),n=r[0],a=r[1],io(n.shape,a.shape);var o={a:n,b:a};return nt.runKernel(yDt,o)}var qwe=Ze({equal_:NIt});function TIt(t,e,r){var n=Re(e,"a","where"),a=Re(r,"b","where"),o=Re(t,"condition","where","bool"),s=io(io(o.shape,n.shape),a.shape),u=a6(o,s),f=a6(n,s),l=a6(a,s),c={condition:u,t:f,e:l};return nt.runKernel(k4t,c)}var Mb=Ze({where_:TIt});function DIt(t){var e=Re(t,"x","zerosLike"),r={x:e};return nt.runKernel(s6t,r)}var WL=Ze({zerosLike_:DIt});function kIt(t,e){var r,n=Re(t,"a","div"),a=Re(e,"b","div");r=nr(ga(n,a),2),n=r[0],a=r[1];var o=fs(n,a),s=WL(o),u=qwe(a,s);return Mb(u,s,o)}var IIt=Ze({divNoNan_:kIt});function CIt(t,e){var r=Re(t,"t1","dot"),n=Re(e,"t2","dot");Je((r.rank===1||r.rank===2)&&(n.rank===1||n.rank===2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+(r.rank+" and "+n.rank+".")});var a=r.rank===1?r.size:r.shape[1],o=n.rank===1?n.size:n.shape[0];if(Je(a===o,function(){return"Error in dot: inner dimensions of inputs must match, but got "+(a+" and "+o+".")}),r.rank===1&&n.rank===1){var s=Rt(r,[1,-1]),u=Rt(n,[-1,1]),f=li(s,u);return Rt(f,[])}else if(r.rank===1&&n.rank===2){var s=Rt(r,[1,-1]),u=Rt(n,[n.shape[0],n.shape[1]]),f=li(s,u);return Rt(f,[f.size])}else if(r.rank===2&&n.rank===1){var u=Rt(n,[-1,1]),f=li(r,u);return Rt(f,[f.size])}else{var u=Rt(n,[n.shape[0],n.shape[1]]),f=li(r,u);return f}}var OIt=Ze({dot_:CIt});function RIt(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=e.map(function(o,s){return Re(o,"tensors"+s,"einsum")}),a={equation:t};return nt.runKernel(mDt,n,a)}var FIt=Ze({einsum_:RIt});function BIt(t){var e=Re(t,"x","elu","float32"),r={x:e};return nt.runKernel(vDt,r)}var zwe=Ze({elu_:BIt});function LIt(t){var e=Re(t,"x","erf");Je(e.dtype==="int32"||e.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),e.dtype==="int32"&&(e=_o(e,"float32"));var r={x:e};return nt.runKernel(gDt,r)}var PIt=Ze({erf_:LIt});function qIt(t,e,r){for(var n=t.length+e.length,a=[],o=0,s=0,u=0;u<n;u++)r.indexOf(u)===-1?a.push(t[o++]):a.push(e[s++]);return a}function x6(t,e){var r=e.map(function(n){return 1});return qIt(t,r,e)}function zIt(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Re(t,"x","max"),a={x:n},o={reductionIndices:e,keepDims:r};return nt.runKernel(HDt,a,o)}var Sb=Ze({max_:zIt});function UIt(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Re(t,"x","min"),a={x:n},o={axis:e,keepDims:r};return nt.runKernel(QDt,a,o)}var DL=Ze({min_:UIt});function jIt(t,e){var r,n=Re(t,"base","pow"),a=Re(e,"exp","pow");r=nr(ga(n,a),2),n=r[0],a=r[1];var o={a:n,b:a};return nt.runKernel(d4t,o)}var GL=Ze({pow_:jIt});function Id(t,e,r,n){if(n==null&&(n=BL(t)),n==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Oc(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){mwe(e);var a=Ts(e),o=Ts(r);Je(a===o,function(){return"Based on the provided shape, ["+e+"], the tensor should have "+(a+" values but has "+o)});for(var s=0;s<r.length;++s){var u=r[s],f=s===r.length-1?u!==Ts(e.slice(s)):!0;Je(r[s]===e[s]||!f,function(){return"Error creating a new Tensor. Inferred shape "+("("+r+") does not match the provided ")+("shape ("+e+"). ")})}}return!Oc(t)&&!Array.isArray(t)&&(t=[t]),e=e||r,t=n!=="string"?Twe(t,n):g6(t,[],!0),nt.makeTensor(t,e,n)}function aa(t,e){if((Oc(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Oc(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");var r=[],n=[];return Id(t,r,n,e)}function $It(t){var e=Re(t,"x","sqrt","float32"),r={x:e};return nt.runKernel(P4t,r)}var kL=Ze({sqrt_:$It});function VIt(t){var e=Re(t,"x","square"),r={};return nt.runKernel("Square",{x:e},r)}var _6=Ze({square_:VIt});function WIt(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Re(t,"x","sum");n.dtype==="bool"&&(n=_o(n,"int32"));var a={x:n},o={axis:e,keepDims:r};return nt.runKernel(q4t,a,o)}var ji=Ze({sum_:WIt});function GIt(t,e,r,n){e===void 0&&(e="euclidean"),r===void 0&&(r=null),n===void 0&&(n=!1),t=Re(t,"x","norm");var a=Uwe(t,e,r),o=a.shape;if(n){var s=y6(r,t.shape);o=x6(a.shape,s)}return Rt(a,o)}function Uwe(t,e,r){if(r===void 0&&(r=null),t.rank===0)return kf(t);if(t.rank!==1&&r===null)return Uwe(Rt(t,[-1]),e,r);if(t.rank===1||typeof r=="number"||Array.isArray(r)&&r.length===1){if(e===1)return ji(kf(t),r);if(e===1/0)return Sb(kf(t),r);if(e===-1/0)return DL(kf(t),r);if(e==="euclidean"||e===2)return kL(ji(GL(kf(t),aa(2,"int32")),r));throw new Error("Error in norm: invalid ord value: "+e)}if(Array.isArray(r)&&r.length===2){if(e===1)return Sb(ji(kf(t),r[0]),r[1]-1);if(e===1/0)return Sb(ji(kf(t),r[1]),r[0]);if(e===-1/0)return DL(ji(kf(t),r[1]),r[0]);if(e==="fro"||e==="euclidean")return kL(ji(_6(t),r));throw new Error("Error in norm: invalid ord value: "+e)}throw new Error("Error in norm: invalid axis: "+r)}var S6=Ze({norm_:GIt});function HIt(t,e,r){return e===void 0&&(e=null),r===void 0&&(r=!1),S6(t,"euclidean",e,r)}var KIt=Ze({euclideanNorm_:HIt});function ZIt(t){var e=Re(t,"x","exp"),r={x:e};return nt.runKernel(bDt,r)}var sv=Ze({exp_:ZIt});function JIt(t,e){e===void 0&&(e=0);var r=Re(t,"x","expandDims","string_or_numeric");Je(e<=r.rank,function(){return"Axis must be <= rank of the tensor"});var n={input:r},a={dim:e};return nt.runKernel(wDt,n,a)}var nv=Ze({expandDims_:JIt});function YIt(t){var e=Re(t,"x","expm1"),r={x:e};return nt.runKernel(xDt,r)}var XIt=Ze({expm1_:YIt});function QIt(t,e){var r=Re(t,"x","tile","string_or_numeric");Je(r.rank===e.length,function(){return"Error in transpose: rank of input "+r.rank+" "+("must match length of reps "+e+".")});var n={x:r},a={reps:e};return nt.runKernel(_we,n,a)}var iS=Ze({tile_:QIt});function eCt(t,e,r,n){n===void 0&&(n="float32"),e==null&&(e=t);for(var a=Td([t,e],n),o=t<=e?t:e,s=0;s<o;++s)a.set(1,s,s);var u=Rt(a.toTensor(),[t,e]);if(r==null)return u;if(r.length===1)return iS(nv(u,0),[r[0],1,1]);if(r.length===2)return iS(nv(nv(u,0),0),[r[0],r[1],1,1]);if(r.length===3)return iS(nv(nv(nv(u,0),0),0),[r[0],r[1],r[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+("batchShapes, but received "+r.length+"D."))}var jwe=Ze({eye_:eCt});function HL(t,e,r){var n={shape:t,value:e,dtype:r};return nt.runKernel(SDt,{},n)}function tCt(t){var e=Re(t,"x","floor","float32"),r={x:e};return nt.runKernel(MDt,r)}var $we=Ze({floor_:tCt});function rCt(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var a=Re(t,"x","gather"),o=Re(e,"indices","gather","int32"),s={x:a,indices:o},u={axis:r,batchDims:n};return nt.runKernel(TDt,s,u)}var Vwe=Ze({gather_:rCt});function nCt(t,e){var r,n=Re(t,"a","greater","string_or_numeric"),a=Re(e,"b","greater","string_or_numeric");r=nr(ga(n,a),2),n=r[0],a=r[1],io(n.shape,a.shape);var o={a:n,b:a};return nt.runKernel(kDt,o)}var E6=Ze({greater_:nCt});function iCt(t,e){var r,n=Re(t,"a","greaterEqual","string_or_numeric"),a=Re(e,"b","greaterEqual","string_or_numeric");r=nr(ga(n,a),2),n=r[0],a=r[1],io(n.shape,a.shape);var o={a:n,b:a};return nt.runKernel(IDt,o)}var Wwe=Ze({greaterEqual_:iCt});function aCt(t){var e=Re(t,"input","imag"),r={input:e};return nt.runKernel(ODt,r)}var M6=Ze({imag_:aCt});function oCt(t){var e=Re(t,"x","isFinite"),r={x:e};return nt.runKernel(RDt,r)}var sCt=Ze({isFinite_:oCt});function uCt(t){var e=Re(t,"x","isInf"),r={x:e};return nt.runKernel(FDt,r)}var fCt=Ze({isInf_:uCt});function lCt(t){var e=Re(t,"x","isNaN"),r={x:e};return nt.runKernel(BDt,r)}var cCt=Ze({isNaN_:lCt});function hCt(t,e){e===void 0&&(e=.2);var r=Re(t,"x","leakyRelu"),n={x:r},a={alpha:e};return nt.runKernel(LDt,n,a)}var Gwe=Ze({leakyRelu_:hCt});function pCt(t,e){var r,n=Re(t,"a","less","string_or_numeric"),a=Re(e,"b","less","string_or_numeric");r=nr(ga(n,a),2),n=r[0],a=r[1],io(n.shape,a.shape);var o={a:n,b:a};return nt.runKernel(PDt,o)}var dCt=Ze({less_:pCt});function mCt(t,e){var r,n=Re(t,"a","lessEqual","string_or_numeric"),a=Re(e,"b","lessEqual","string_or_numeric");r=nr(ga(n,a),2),n=r[0],a=r[1],io(n.shape,a.shape);var o={a:n,b:a};return nt.runKernel(qDt,o)}var KL=Ze({lessEqual_:mCt});function vCt(t,e,r){if(r<=0)throw new Error("The number of values should be positive.");var n={start:t,stop:e,num:r};return nt.runKernel(zDt,{},n)}function gCt(t,e,r,n,a){e===void 0&&(e=5),r===void 0&&(r=1),n===void 0&&(n=1),a===void 0&&(a=.5);var o=Re(t,"x","localResponseNormalization");Je(o.rank===4||o.rank===3,function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+o.rank+"."}),Je(oS(e),function(){return"Error in localResponseNormalization: depthRadius must be an "+("integer but got depthRadius "+e+".")});var s=o,u=!1;o.rank===3&&(u=!0,s=Rt(o,[1,o.shape[0],o.shape[1],o.shape[2]]));var f={x:s},l={depthRadius:e,bias:r,alpha:n,beta:a},c=nt.runKernel(GDt,f,l);return u?Rt(c,[c.shape[1],c.shape[2],c.shape[3]]):c}var yCt=Ze({localResponseNormalization_:gCt});function bCt(t){var e=Re(t,"x","log","float32"),r={x:e};return nt.runKernel(UDt,r)}var sS=Ze({log_:bCt});function wCt(t){var e=Re(t,"x","log1p"),r={x:e};return nt.runKernel(jDt,r)}var Hwe=Ze({log1p_:wCt});function Yh(t){return nt.customGrad(t)}function xCt(t){var e=Re(t,"x","neg"),r={x:e};return nt.runKernel(a4t,r)}var Jh=Ze({neg_:xCt});function _Ct(t){var e=Re(t,"x","softplus"),r={x:e};return nt.runKernel(L4t,r)}var Kwe=Ze({softplus_:_Ct});function SCt(t){var e=Re(t,"x","logSigmoid"),r=Yh(function(n){var a=Jh(Kwe(Jh(n))),o=function(s){var u=Zr(s,_b(Jh(n)));return u};return{value:a,gradFunc:o}});return r(e)}var ECt=Ze({logSigmoid_:SCt});function MCt(t,e){var r,n=Re(t,"a","sub"),a=Re(e,"b","sub");r=nr(ga(n,a),2),n=r[0],a=r[1];var o={a:n,b:a};return nt.runKernel(Q4t,o)}var $n=Ze({sub_:MCt});function ACt(t,e){e===void 0&&(e=-1);var r=Re(t,"logits","logSoftmax");if(e===-1&&(e=r.rank-1),e!==r.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+("Logits was rank "+r.rank+" and axis was "+e));var n=Yh(function(a,o){var s=!0,u=Sb(a,e,!0),f=$n(a,u),l=$n(_o(f,"float32"),sS(ji(sv(f),e,s)));o([l]);var c=function(h,m){var g=nr(m,1),b=g[0],A=!0,I=sv(b);return $n(h,Zr(ji(h,e,A),I))};return{value:l,gradFunc:c}});return n(r)}var NCt=Ze({logSoftmax_:ACt});function TCt(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Re(t,"x","logSumExp"),a=y6(e,n.shape),o=Sb(n,a,!0),s=$n(n,o),u=sv(s),f=ji(u,a),l=sS(f),c=no(Rt(o,l.shape),l);if(r){var h=x6(c.shape,a);return Rt(c,h)}return c}var Zwe=Ze({logSumExp_:TCt});function DCt(t,e){var r=Re(t,"a","logicalAnd","bool"),n=Re(e,"b","logicalAnd","bool");io(r.shape,n.shape);var a={a:r,b:n};return nt.runKernel($Dt,a)}var d6=Ze({logicalAnd_:DCt});function kCt(t){var e=Re(t,"x","logicalNot","bool"),r={x:e};return nt.runKernel(VDt,r)}var Jwe=Ze({logicalNot_:kCt});function ICt(t,e){var r=Re(t,"a","logicalOr","bool"),n=Re(e,"b","logicalOr","bool");io(r.shape,n.shape);var a={a:r,b:n};return nt.runKernel(WDt,a)}var Ywe=Ze({logicalOr_:ICt});function CCt(t,e){var r=Re(t,"a","logicalXor","bool"),n=Re(e,"b","logicalXor","bool");return io(r.shape,n.shape),d6(Ywe(t,e),Jwe(d6(t,e)))}var OCt=Ze({logicalXor_:CCt});var t6=2147483648;function RCt(t,e,r){r===void 0&&(r="left");var n=Re(t,"sortedSequence","searchSorted"),a=Re(e,"values","searchSorted"),o=n.shape[n.shape.length-1],s=a.shape[a.shape.length-1],u=Rt(n,[-1,o]),f=Rt(a,[-1,s]);if(u.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(u.shape[0]!==f.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Ts(f.shape)>=t6)throw new Error("values tensor size must less than "+t6);if(u.shape[1]>=t6)throw new Error("trailing dim_size must less than "+t6+" for int32 output type, was "+u.shape[1]);var l={sortedSequence:u,values:f},c={side:r};return nt.runKernel(D4t,l,c)}var ZL=Ze({searchSorted_:RCt});function FCt(t,e){return ZL(t,e,"left")}function BCt(t,e,r,n,a){var o=Re(t,"x","maxPool"),s=1,u=o,f=!1;o.rank===3&&(f=!0,u=Rt(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Je(u.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+u.rank+"."}),Je(kd(r,s),function(){return"Error in maxPool: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+s+"'")}),Il("maxPool",n,a);var l={x:u},c={filterSize:e,strides:r,pad:n,dimRoundingMode:a},h=nt.runKernel(ZDt,l,c);return f?Rt(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var Xwe=Ze({maxPool_:BCt});function LCt(t,e,r,n,a,o){e===void 0&&(e=[1,1,1]),o===void 0&&(o="NDHWC");var s=Re(t,"x","maxPool3d"),u=s,f=!1;s.rank===4&&(f=!0,u=Rt(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Je(u.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."}),Je(o==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+("but got dataFormat of "+o)}),Il("maxPool3d",n,a);var l={x:u},c={filterSize:e,strides:r,pad:n,dimRoundingMode:a,dataFormat:o},h=nt.runKernel(JDt,l,c);return f?Rt(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}var PCt=Ze({maxPool3d_:LCt});function qCt(t,e,r,n,a){a===void 0&&(a=!1);var o=Re(t,"x","maxPoolWithArgmax"),s={x:o},u={filterSize:e,strides:r,pad:n,includeBatchInIndex:a},f=nt.runKernel(YDt,s,u);return{result:f[0],indexes:f[1]}}var zCt=Ze({maxPoolWithArgmax_:qCt});function UCt(t,e){var r,n=Re(t,"a","maximum"),a=Re(e,"b","maximum");r=nr(ga(n,a),2),n=r[0],a=r[1],n.dtype==="bool"&&(n=_o(n,"int32"),a=_o(a,"int32")),io(n.shape,a.shape);var o={a:n,b:a};return nt.runKernel(KDt,o)}var jCt=Ze({maximum_:UCt});function $Ct(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Re(t,"x","mean"),a={x:n},o={axis:e,keepDims:r};return nt.runKernel(XDt,a,o)}var m6=Ze({mean_:$Ct});function Ab(t,e){if(e===void 0&&(e="float32"),e==="complex64"){var r=Ab(t,"float32"),n=Ab(t,"float32");return ov(r,n)}var a=PL(Ts(t),e);return nt.makeTensor(a,t,e)}function av(t,e){if(e===void 0&&(e="float32"),e==="complex64"){var r=av(t,"float32"),n=Ab(t,"float32");return ov(r,n)}var a=dwe(Ts(t),e);return nt.makeTensor(a,t,e)}function VCt(t,e,r){var n=(r===void 0?{}:r).indexing,a=n===void 0?"xy":n;if(a!=="xy"&&a!=="ij")throw new TypeError(a+" is not a valid third argument to meshgrid");if(t===void 0)return[];var o=Re(t,"x","meshgrid",t instanceof As?t.dtype:"float32");if(e===void 0)return[o];var s=Re(e,"y","meshgrid",e instanceof As?e.dtype:"float32"),u=Ts(o.shape),f=Ts(s.shape);return a==="xy"?(o=Rt(o,[1,-1]),s=Rt(s,[-1,1]),[li(av([f,1],o.dtype),o),li(s,av([1,u],s.dtype))]):(o=Rt(o,[-1,1]),s=Rt(s,[1,-1]),[li(o,av([1,f],o.dtype)),li(av([u,1],s.dtype),s)])}function WCt(t,e){var r,n=Re(t,"a","minimum"),a=Re(e,"b","minimum");r=nr(ga(n,a),2),n=r[0],a=r[1],n.dtype==="bool"&&(n=_o(n,"int32"),a=_o(a,"int32")),io(n.shape,a.shape);var o={a:n,b:a};return nt.runKernel(e4t,o)}var Qwe=Ze({minimum_:WCt});function GCt(t,e,r){Je(r==="reflect"||r==="symmetric",function(){return"Invalid mode. Mode must be either reflect or symmetric. "+("Got "+r+".")});var n=Re(t,"x","mirrorPad");if(n.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Je(e.length===n.rank,function(){return"Padding doesn't match input. Must be "+n.rank+". "+("Got "+e.length+".")});for(var a=r==="reflect"?1:0,o=function(l){Je(e[l].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Je(e[l][0]>=0&&e[l][0]<=n.shape[l]-a&&e[l][1]>=0&&e[l][1]<=n.shape[l]-a,function(){return"Padding in dimension "+l+" cannot be greater than or equal "+("to "+(n.shape[l]-a)+" or less than 0 for input of ")+("shape "+n.shape)})},s=0;s<n.rank;s++)o(s);var u={paddings:e,mode:r},f={x:n};return nt.runKernel(t4t,f,u)}var HCt=Ze({mirrorPad_:GCt});function KCt(t,e){var r,n=Re(t,"a","mod"),a=Re(e,"b","mod");r=nr(ga(n,a),2),n=r[0],a=r[1];var o={a:n,b:a};return nt.runKernel(r4t,o)}var ZCt=Ze({mod_:KCt});function JCt(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1),t=Re(t,"x","moments");var n=y6(e,t.shape),a=m6(t,n,r),o=a.shape;r||(o=x6(a.shape,n));var s=_6($n(_o(t,"float32"),Rt(a,o))),u=m6(s,n,r);return{mean:a,variance:u}}var YCt=Ze({moments_:JCt});function XCt(t,e,r,n){for(var a=Re(e,"data","multiRNNCell"),o=l6(r,"c","multiRNNCell"),s=l6(n,"h","multiRNNCell"),u=a,f=[],l=0;l<t.length;l++){var c=t[l](u,o[l],s[l]);f.push(c[0]),f.push(c[1]),u=c[1]}for(var h=[],m=[],l=0;l<f.length;l+=2)h.push(f[l]),m.push(f[l+1]);return[h,m]}var QCt=Ze({multiRNNCell_:XCt});function eOt(t,e,r,n){n===void 0&&(n=!1);var a=Re(t,"logits","multinomial"),o=a.size,s=a.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+(o+"."));if(s>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+s);r=r||Math.random();var u=s===1?Rt(a,[1,-1]):a,f={logits:u},l={numSamples:e,seed:r,normalized:n},c=nt.runKernel(n4t,f,l);return s===1?Rt(c,[c.size]):c}var tOt=Ze({multinomial_:eOt});function rOt(t,e){var r,n=Re(t,"a","notEqual","string_or_numeric"),a=Re(e,"b","notEqual","string_or_numeric");r=nr(ga(n,a),2),n=r[0],a=r[1],io(n.shape,a.shape);var o={a:n,b:a};return nt.runKernel(o4t,o)}var exe=Ze({notEqual_:rOt});function nOt(t,e,r,n){if(r===void 0&&(r=1),n===void 0&&(n=0),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);var a=Re(t,"indices","oneHot","int32"),o={indices:a},s={depth:e,onValue:r,offValue:n};return nt.runKernel(c4t,o,s)}var iOt=Ze({oneHot_:nOt});function aOt(t){var e=Re(t,"x","onesLike"),r={x:e};return nt.runKernel(l4t,r)}var oOt=Ze({onesLike_:aOt});function sOt(t,e){var r=Re(t,"v1","outerProduct"),n=Re(e,"v2","outerProduct");Je(r.rank===1&&n.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+(r.rank+" and "+n.rank+".")});var a=Rt(r,[-1,1]),o=Rt(n,[1,-1]);return li(a,o)}var uOt=Ze({outerProduct_:sOt});function fOt(t,e,r){r===void 0&&(r=0);var n=Re(t,"x","pad");if(n.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:e,constantValue:r},o={x:n};return nt.runKernel(p4t,o,a)}var hS=Ze({pad_:fOt});function lOt(t,e,r){return r===void 0&&(r=0),Je(e.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),hS(t,[e],r)}var cOt=Ze({pad1d_:lOt});function hOt(t,e,r){return r===void 0&&(r=0),Je(e.length===2&&e[0].length===2&&e[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),hS(t,e,r)}var pOt=Ze({pad2d_:hOt});function dOt(t,e,r){return r===void 0&&(r=0),Je(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),hS(t,e,r)}var mOt=Ze({pad3d_:dOt});function vOt(t,e,r){return r===void 0&&(r=0),Je(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),hS(t,e,r)}var gOt=Ze({pad4d_:vOt});function yOt(t,e,r){var n=Re(t,"x","spaceToBatchND");Je(n.rank>=1+e.length,function(){return"input rank "+n.rank+" should be > than [blockShape] "+e.length}),Je(r.length===e.length,function(){return"paddings.shape[0] "+r.length+" must be equal to [blockShape] "+e.length}),Je(n.shape.reduce(function(s,u,f){return f>0&&f<=e.length?s&&(u+r[f-1][0]+r[f-1][1])%e[f-1]===0:s},!0),function(){return"input spatial dimensions "+n.shape.slice(1)+" with paddings "+r.toString()+" must be divisible by blockShapes "+e.toString()});var a={x:n},o={blockShape:e,paddings:r};return nt.runKernel(z4t,a,o)}var txe=Ze({spaceToBatchND_:yOt});function bOt(t,e,r,n,a,o,s){a==null&&(a=[1,1]),o==null&&(o=1),n===0&&(n="valid");var u=Re(t,"x","maxPool"),f=u,l=!1;u.rank===3&&(l=!0,f=Rt(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Je(kd(o,a),function(){return"Error in pool: Either strides or dilations must be 1. "+("Got strides "+o+" and dilations '"+a+"'")});var c=okt(f.shape,e,o,a,n),h=[c.dilationHeight,c.dilationWidth],m;n==="same"?m=xOt([c.filterHeight,c.filterWidth],h):m=[[0,0],[0,0]];var g=h[0]===1&&h[1]===1,b=nr(wOt([c.inHeight,c.inWidth],h,m),2),A=b[0],I=b[1],C=g?n:"valid",R=g?f:txe(f,h,A),O=r==="avg"?function(){return Rwe(R,e,o,C,s)}:function(){return Xwe(R,e,o,C,s)},F=O(),z=g?F:Fwe(F,h,I);return l?Rt(z,[z.shape[1],z.shape[2],z.shape[3]]):z}function wOt(t,e,r){var n=r.map(function(c){return c[0]}),a=r.map(function(c){return c[1]}),o=t.concat(n,a),s=e.map(function(c,h){return(c-o[h]%c)%c}),u=a.map(function(c,h){return c+s[h]}),f=e.map(function(c,h){return[n[h],u[h]]}),l=e.map(function(c,h){return[0,s[h]]});return[f,l]}function xOt(t,e){var r=t.map(function(s,u){return s+(s-1)*(e[u]-1)}),n=r.map(function(s){return s-1}),a=n.map(function(s){return Math.floor(s/2)}),o=n.map(function(s,u){return s-a[u]});return n.map(function(s,u){return[a[u],o[u]]})}var _Ot=Ze({pool_:bOt});function SOt(t,e){var r=Re(t,"x","prelu"),n=Re(e,"alpha","prelu"),a={x:r,alpha:n};return nt.runKernel(m4t,a)}var rxe=Ze({prelu_:SOt});function EOt(t,e){e===void 0&&(e=!1),console.log(t.toString(e))}function MOt(t,e,r){e===void 0&&(e=null),r===void 0&&(r=!1);var n=Re(t,"x","prod");n.dtype==="bool"&&(n=_o(n,"int32"));var a={x:n},o={axis:e,keepDims:r};return nt.runKernel(v4t,a,o)}var AOt=Ze({prod_:MOt});function NOt(t,e,r){var n=Ts(t),a=null;if(r==null||r==="float32")a=new Float32Array(n);else if(r==="int32")a=new Int32Array(n);else if(r==="bool")a=new Uint8Array(n);else throw new Error("Unknown data type "+r);for(var o=0;o<n;o++)a[o]=e();return nt.makeTensor(a,t,r)}var TOt=Ze({rand_:NOt}),lv=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};function DOt(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e}function cv(t){var e={exports:{}};return t(e,e.exports),e.exports}var kOt=cv(function(t){(function(e,r,n){function a(f){var l=this,c=u();l.next=function(){var h=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=h-(l.c=h|0)},l.c=1,l.s0=c(" "),l.s1=c(" "),l.s2=c(" "),l.s0-=c(f),l.s0<0&&(l.s0+=1),l.s1-=c(f),l.s1<0&&(l.s1+=1),l.s2-=c(f),l.s2<0&&(l.s2+=1),c=null}function o(f,l){return l.c=f.c,l.s0=f.s0,l.s1=f.s1,l.s2=f.s2,l}function s(f,l){var c=new a(f),h=l&&l.state,m=c.next;return m.int32=function(){return c.next()*4294967296|0},m.double=function(){return m()+(m()*2097152|0)*11102230246251565e-32},m.quick=m,h&&(typeof h=="object"&&o(h,c),m.state=function(){return o(c,{})}),m}function u(){var f=4022871197,l=function(c){c=String(c);for(var h=0;h<c.length;h++){f+=c.charCodeAt(h);var m=.02519603282416938*f;f=m>>>0,m-=f,m*=f,f=m>>>0,m-=f,f+=m*4294967296}return(f>>>0)*23283064365386963e-26};return l}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.alea=s})(lv,t,!1)}),IOt=cv(function(t){(function(e,r,n){function a(u){var f=this,l="";f.x=0,f.y=0,f.z=0,f.w=0,f.next=function(){var h=f.x^f.x<<11;return f.x=f.y,f.y=f.z,f.z=f.w,f.w^=f.w>>>19^h^h>>>8},u===(u|0)?f.x=u:l+=u;for(var c=0;c<l.length+64;c++)f.x^=l.charCodeAt(c)|0,f.next()}function o(u,f){return f.x=u.x,f.y=u.y,f.z=u.z,f.w=u.w,f}function s(u,f){var l=new a(u),c=f&&f.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var m=l.next()>>>11,g=(l.next()>>>0)/4294967296,b=(m+g)/(1<<21);while(b===0);return b},h.int32=l.next,h.quick=h,c&&(typeof c=="object"&&o(c,l),h.state=function(){return o(l,{})}),h}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xor128=s})(lv,t,!1)}),COt=cv(function(t){(function(e,r,n){function a(u){var f=this,l="";f.next=function(){var h=f.x^f.x>>>2;return f.x=f.y,f.y=f.z,f.z=f.w,f.w=f.v,(f.d=f.d+362437|0)+(f.v=f.v^f.v<<4^(h^h<<1))|0},f.x=0,f.y=0,f.z=0,f.w=0,f.v=0,u===(u|0)?f.x=u:l+=u;for(var c=0;c<l.length+64;c++)f.x^=l.charCodeAt(c)|0,c==l.length&&(f.d=f.x<<10^f.x>>>4),f.next()}function o(u,f){return f.x=u.x,f.y=u.y,f.z=u.z,f.w=u.w,f.v=u.v,f.d=u.d,f}function s(u,f){var l=new a(u),c=f&&f.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var m=l.next()>>>11,g=(l.next()>>>0)/4294967296,b=(m+g)/(1<<21);while(b===0);return b},h.int32=l.next,h.quick=h,c&&(typeof c=="object"&&o(c,l),h.state=function(){return o(l,{})}),h}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xorwow=s})(lv,t,!1)}),OOt=cv(function(t){(function(e,r,n){function a(u){var f=this;f.next=function(){var c=f.x,h=f.i,m,g;return m=c[h],m^=m>>>7,g=m^m<<24,m=c[h+1&7],g^=m^m>>>10,m=c[h+3&7],g^=m^m>>>3,m=c[h+4&7],g^=m^m<<7,m=c[h+7&7],m=m^m<<13,g^=m^m<<9,c[h]=g,f.i=h+1&7,g};function l(c,h){var m,g=[];if(h===(h|0))g[0]=h;else for(h=""+h,m=0;m<h.length;++m)g[m&7]=g[m&7]<<15^h.charCodeAt(m)+g[m+1&7]<<13;for(;g.length<8;)g.push(0);for(m=0;m<8&&g[m]===0;++m);for(m==8&&(g[7]=-1),c.x=g,c.i=0,m=256;m>0;--m)c.next()}l(f,u)}function o(u,f){return f.x=u.x.slice(),f.i=u.i,f}function s(u,f){u==null&&(u=+new Date);var l=new a(u),c=f&&f.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var m=l.next()>>>11,g=(l.next()>>>0)/4294967296,b=(m+g)/(1<<21);while(b===0);return b},h.int32=l.next,h.quick=h,c&&(c.x&&o(c,l),h.state=function(){return o(l,{})}),h}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xorshift7=s})(lv,t,!1)}),ROt=cv(function(t){(function(e,r,n){function a(u){var f=this;f.next=function(){var c=f.w,h=f.X,m=f.i,g,b;return f.w=c=c+1640531527|0,b=h[m+34&127],g=h[m=m+1&127],b^=b<<13,g^=g<<17,b^=b>>>15,g^=g>>>12,b=h[m]=b^g,f.i=m,b+(c^c>>>16)|0};function l(c,h){var m,g,b,A,I,C=[],R=128;for(h===(h|0)?(g=h,h=null):(h=h+"\0",g=0,R=Math.max(R,h.length)),b=0,A=-32;A<R;++A)h&&(g^=h.charCodeAt((A+32)%h.length)),A===0&&(I=g),g^=g<<10,g^=g>>>15,g^=g<<4,g^=g>>>13,A>=0&&(I=I+1640531527|0,m=C[A&127]^=g+I,b=m==0?b+1:0);for(b>=128&&(C[(h&&h.length||0)&127]=-1),b=127,A=4*128;A>0;--A)g=C[b+34&127],m=C[b=b+1&127],g^=g<<13,m^=m<<17,g^=g>>>15,m^=m>>>12,C[b]=g^m;c.w=I,c.X=C,c.i=b}l(f,u)}function o(u,f){return f.i=u.i,f.w=u.w,f.X=u.X.slice(),f}function s(u,f){u==null&&(u=+new Date);var l=new a(u),c=f&&f.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var m=l.next()>>>11,g=(l.next()>>>0)/4294967296,b=(m+g)/(1<<21);while(b===0);return b},h.int32=l.next,h.quick=h,c&&(c.X&&o(c,l),h.state=function(){return o(l,{})}),h}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xor4096=s})(lv,t,!1)}),FOt=cv(function(t){(function(e,r,n){function a(u){var f=this,l="";f.next=function(){var h=f.b,m=f.c,g=f.d,b=f.a;return h=h<<25^h>>>7^m,m=m-g|0,g=g<<24^g>>>8^b,b=b-h|0,f.b=h=h<<20^h>>>12^m,f.c=m=m-g|0,f.d=g<<16^m>>>16^b,f.a=b-h|0},f.a=0,f.b=0,f.c=-1640531527,f.d=1367130551,u===Math.floor(u)?(f.a=u/4294967296|0,f.b=u|0):l+=u;for(var c=0;c<l.length+20;c++)f.b^=l.charCodeAt(c)|0,f.next()}function o(u,f){return f.a=u.a,f.b=u.b,f.c=u.c,f.d=u.d,f}function s(u,f){var l=new a(u),c=f&&f.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var m=l.next()>>>11,g=(l.next()>>>0)/4294967296,b=(m+g)/(1<<21);while(b===0);return b},h.int32=l.next,h.quick=h,c&&(typeof c=="object"&&o(c,l),h.state=function(){return o(l,{})}),h}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.tychei=s})(lv,t,!1)}),BOt={},LOt={__proto__:null,default:BOt},POt=DOt(LOt),hv=cv(function(t){(function(e,r,n){var a=256,o=6,s=52,u="random",f=n.pow(a,o),l=n.pow(2,s),c=l*2,h=a-1,m;function g(F,z,B){var $=[];z=z==!0?{entropy:!0}:z||{};var j=C(I(z.entropy?[F,O(r)]:F==null?R():F,3),$),W=new b($),T=function(){for(var p=W.g(o),v=f,S=0;p<l;)p=(p+S)*a,v*=a,S=W.g(1);for(;p>=c;)p/=2,v/=2,S>>>=1;return(p+S)/v};return T.int32=function(){return W.g(4)|0},T.quick=function(){return W.g(4)/4294967296},T.double=T,C(O(W.S),r),(z.pass||B||function(p,v,S,y){return y&&(y.S&&A(y,W),p.state=function(){return A(W,{})}),S?(n[u]=p,v):p})(T,j,"global"in z?z.global:this==n,z.state)}function b(F){var z,B=F.length,$=this,j=0,W=$.i=$.j=0,T=$.S=[];for(B||(F=[B++]);j<a;)T[j]=j++;for(j=0;j<a;j++)T[j]=T[W=h&W+F[j%B]+(z=T[j])],T[W]=z;($.g=function(p){for(var v,S=0,y=$.i,M=$.j,D=$.S;p--;)v=D[y=h&y+1],S=S*a+D[h&(D[y]=D[M=h&M+v])+(D[M]=v)];return $.i=y,$.j=M,S})(a)}function A(F,z){return z.i=F.i,z.j=F.j,z.S=F.S.slice(),z}function I(F,z){var B=[],$=typeof F,j;if(z&&$=="object")for(j in F)try{B.push(I(F[j],z-1))}catch(W){}return B.length?B:$=="string"?F:F+"\0"}function C(F,z){for(var B=F+"",$,j=0;j<B.length;)z[h&j]=h&($^=z[h&j]*19)+B.charCodeAt(j++);return O(z)}function R(){try{var F;return m&&(F=m.randomBytes)?F=F(a):(F=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(F)),O(F)}catch($){var z=e.navigator,B=z&&z.plugins;return[+new Date,e,B,e.screen,O(r)]}}function O(F){return String.fromCharCode.apply(0,F)}if(C(n.random(),r),t.exports){t.exports=g;try{m=POt}catch(F){}}else n["seed"+u]=g})(typeof self!="undefined"?self:lv,[],Math)});hv.alea=kOt;hv.xor128=IOt;hv.xorwow=COt;hv.xorshift7=OOt;hv.xor4096=ROt;hv.tychei=FOt;var JL=hv;var YL=function(){function t(e,r,n,a,o){this.mean=e,this.stdDev=r,this.dtype=n,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);var s=o||Math.random();this.random=JL.alea(s.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var r,n,a=!1;!a;){var o=void 0,s=void 0,u=void 0;do o=2*this.random()-1,s=2*this.random()-1,u=o*o+s*s;while(u>=1||u===0);var f=Math.sqrt(-2*Math.log(u)/u);r=this.mean+this.stdDev*o*f,n=this.mean+this.stdDev*s*f,(!this.truncated||this.isValidTruncated(r))&&(a=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(r)},t.prototype.convertValue=function(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)},t.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},t}(),qOt=function(){function t(e,r,n,a){this.alpha=e,this.beta=1/r,this.dtype=n;var o=a||Math.random();this.randu=JL.alea(o.toString()),this.randn=new YL(0,1,n,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}return t.prototype.nextValue=function(){for(var e,r,n,a,o,s;;){do a=this.randn.nextValue(),s=1+this.c*a;while(s<=0);if(s*=s*s,e=a*a,r=1-.331*e*e,n=.5*e+this.d*(1-s+Math.log(s)),o=this.randu(),o<r||Math.log(o)<n)break}return s=1/this.beta*this.d*s,this.alpha<1&&(s*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(s)},t.prototype.convertValue=function(e){return this.dtype==="float32"?e:Math.round(e)},t}(),zOt=function(){function t(e,r,n,a){var o=this;if(e===void 0&&(e=0),r===void 0&&(r=1),this.canReturnFloat=function(){return o.dtype==null||o.dtype==="float32"},this.min=e,this.range=r-e,this.dtype=n,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+r+" <= 1 and dtype is not float");this.random=JL.alea(a)}return t.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},t.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},t}();function UOt(t,e,r,n,a){if(r===void 0&&(r=1),n===void 0&&(n="float32"),r==null&&(r=1),n==null&&(n="float32"),n!=="float32"&&n!=="int32")throw new Error("Unsupported data type "+n);for(var o=new qOt(e,r,n,a),s=Td(t,n),u=0;u<s.values.length;u++)s.values[u]=o.nextValue();return s.toTensor()}var jOt=Ze({randomGamma_:UOt});function $Ot(t,e,r,n,a){if(e===void 0&&(e=0),r===void 0&&(r=1),n!=null&&n==="bool")throw new Error("Unsupported data type "+n);for(var o=new YL(e,r,n,!1,a),s=Td(t,n),u=0;u<s.values.length;u++)s.values[u]=o.nextValue();return s.toTensor()}var nxe=Ze({randomNormal_:$Ot});function VOt(t,e,r){if(e!=null&&e==="bool")throw new Error("Unsupported data type "+e);return nxe(t,0,1,e,r)}var WOt=Ze({randomStandardNormal_:VOt});function GOt(t,e,r,n,a){e===void 0&&(e=0),r===void 0&&(r=1),n===void 0&&(n="float32");for(var o=Td(t,n),s=new zOt(e,r,null,a),u=0;u<o.values.length;u++)o.values[u]=s.nextValue();return o.toTensor()}var ixe=Ze({randomUniform_:GOt});function uS(t,e,r,n){if(r===void 0&&(r=1),n===void 0&&(n="float32"),r===0)throw new Error("Cannot have a step of zero");var a={start:t,stop:e,step:r,dtype:n};return nt.runKernel(g4t,{},a)}function HOt(t){var e=Re(t,"input","real"),r={input:e};return nt.runKernel(y4t,r)}var fS=Ze({real_:HOt});function KOt(t){var e=Re(t,"x","reciprocal"),r={x:e};return nt.runKernel(b4t,r)}var ZOt=Ze({reciprocal_:KOt});function JOt(t){var e=Re(t,"x","relu"),r={x:e};return nt.runKernel(w4t,r)}var A6=Ze({relu_:JOt});function YOt(t){var e=Re(t,"x","relu6"),r={x:e};return nt.runKernel(E4t,r)}var axe=Ze({relu6_:YOt});function XOt(t,e){var r=Re(t,"x","reverse"),n={x:r},a={dims:e};return nt.runKernel(M4t,n,a)}var uv=Ze({reverse_:XOt});function QOt(t){var e=Re(t,"x","reverse");return Je(e.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+e.rank+"."}),uv(e,0)}var e5t=Ze({reverse1d_:QOt});function t5t(t,e){var r=Re(t,"x","reverse");return Je(r.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+r.rank+"."}),uv(r,e)}var r5t=Ze({reverse2d_:t5t});function n5t(t,e){var r=Re(t,"x","reverse");return Je(r.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+r.rank+"."}),uv(r,e)}var i5t=Ze({reverse3d_:n5t});function a5t(t,e){var r=Re(t,"x","reverse");return Je(r.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+r.rank+"."}),uv(r,e)}var o5t=Ze({reverse4d_:a5t});function s5t(t){var e=Re(t,"x","round"),r={x:e};return nt.runKernel(A4t,r)}var oxe=Ze({round_:s5t});function u5t(t){var e=Re(t,"x","rsqrt","float32"),r={x:e};return nt.runKernel(N4t,r)}var f5t=Ze({rsqrt_:u5t});function l5t(t){var e=Re(t,"x","selu"),r={x:e};return nt.runKernel(I4t,r)}var c5t=Ze({selu_:l5t});function h5t(t,e,r,n,a,o,s){o===void 0&&(o=[1,1]),s===void 0&&(s="NHWC");var u=Re(t,"x","separableConv2d"),f=Re(e,"depthwiseFilter","separableConv2d"),l=Re(r,"pointwiseFilter","separableConv2d"),c=u,h=!1;if(u.rank===3&&(h=!0,c=Rt(u,[1,u.shape[0],u.shape[1],u.shape[2]])),s==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Je(c.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got "+("rank "+c.rank+".")}),Je(f.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+("got rank "+f.rank+".")}),Je(l.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+("got rank "+f.rank+".")}),Je(l.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter "+(" must be 1, but got "+l.shape[0]+".")}),Je(l.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise "+("filter must be 1, but got "+l.shape[1]+".")});var m=f.shape[2],g=f.shape[3];Je(l.shape[2]===m*g,function(){return"Error in separableConv2d: the third dimension of pointwise filter "+("must be "+m*g+", ")+("but got "+l.shape[2]+".")});var b=VL(c,f,n,a,s,o),A=1,I=w6(b,l,A,"valid",s);return h?Rt(I,[I.shape[1],I.shape[2],I.shape[3]]):I}var p5t=Ze({separableConv2d_:h5t});function d5t(t,e){return yi(this,void 0,void 0,function(){var r,n,a,o,s,u,c,f,l,c,h;return ci(this,function(m){switch(m.label){case 0:return r=Re(t,"x","setdiff1d"),n=Re(e,"y","setdiff1d"),Je(r.dtype===n.dtype,function(){return"x and y should have the same dtype, but got x ("+r.dtype+") and y ("+n.dtype+")."}),Je(r.rank===1,function(){return"x should be 1D tensor, but got x ("+r.shape+")."}),Je(n.rank===1,function(){return"y should be 1D tensor, but got y ("+n.shape+")."}),[4,r.data()];case 1:return a=m.sent(),[4,n.data()];case 2:for(o=m.sent(),s=new Set(o),u=0,c=0;c<a.length;c++)s.has(a[c])||u++;for(f=new xL([u],r.dtype),l=new xL([u],"int32"),c=0,h=0;c<a.length;c++)s.has(a[c])||(f.values[h]=a[c],l.values[h]=c,h++);return[2,[f.toTensor(),l.toTensor()]]}})})}var m5t=d5t;function v5t(t){var e=Re(t,"x","sign"),r={x:e};return nt.runKernel(F4t,r)}var g5t=Ze({sign_:v5t});function y5t(t){var e=Re(t,"x","sin","float32"),r={x:e};return nt.runKernel(O4t,r)}var b5t=Ze({sin_:y5t});function w5t(t){var e=Re(t,"x","sinh"),r={x:e};return nt.runKernel(R4t,r)}var x5t=Ze({sinh_:w5t});function _5t(t,e,r){var n=Re(t,"x","slice1d");return Je(n.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+n.rank+" tensor"}),Ki(n,[e],[r])}var S5t=Ze({slice1d_:_5t});function E5t(t,e,r){var n=Re(t,"x","slice2d");return Je(n.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+n.rank+" tensor"}),Ki(n,e,r)}var M5t=Ze({slice2d_:E5t});function A5t(t,e,r){var n=Re(t,"x","slice3d");return Je(n.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+n.rank+" tensor"}),Ki(n,e,r)}var N5t=Ze({slice3d_:A5t});function T5t(t,e,r){var n=Re(t,"x","slice4d");return Je(n.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+n.rank+" tensor"}),Ki(n,e,r)}var D5t=Ze({slice4d_:T5t});function k5t(t,e){e===void 0&&(e=-1);var r=Re(t,"logits","softmax","float32");if(e===-1&&(e=r.rank-1),e!==r.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+("Logits was rank "+r.rank+" and dim was "+e));var n={logits:r},a={dim:e};return nt.runKernel(j4t,n,a)}var I5t=Ze({softmax_:k5t});function C5t(t){Je(t.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 "+("but got "+t.dtype+".")});var e={input:t};return nt.runKernel(_Dt,e)}var XL=Ze({fft_:C5t});function O5t(t){Je(t.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 "+("but got "+t.dtype+".")});var e={input:t};return nt.runKernel(CDt,e)}var v6=Ze({ifft_:O5t});function R5t(t){var e=t.shape[t.shape.length-1],r=t.size/e,n;if(e<=2){var a=Rt(t,[r,e]);n=v6(a)}else{var o=[r,2*(e-1)],s=Rt(fS(t),[r,e]),u=Rt(M6(t),[r,e]),f=uv(Ki(s,[0,1],[r,e-2]),1),l=Zr(uv(Ki(u,[0,1],[r,e-2]),1),aa(-1)),c=Hs([s,f],1),h=Hs([u,l],1),a=Rt(ov(c,h),[o[0],o[1]]);n=v6(a)}if(n=fS(n),t.rank===3&&t.shape[0]!==0){var m=n,g=t.shape[0];n=Rt(n,[g,n.shape[0]/g,n.shape[1]]),m.dispose()}return n}var sxe=Ze({irfft_:R5t});function F5t(t,e,r){r===void 0&&(r=0);var n=Re(t,"x","split"),a={x:n},o={numOrSizeSplits:e,axis:r};return nt.runKernel(U4t,a,o)}var lS=Ze({split_:F5t});function B5t(t,e){Je(t.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+t.dtype});var r=t.shape[t.shape.length-1],n=t.size/r,a;if(e!=null&&e<r){var o=t.shape.map(function(C){return 0}),s=t.shape.map(function(C){return C});s[t.shape.length-1]=e,a=Ki(t,o,s),r=e}else if(e!=null&&e>r){var u=t.shape.map(function(C){return C});u[t.shape.length-1]=e-r,a=Hs([t,Ab(u)],t.shape.length-1),r=e}else a=t;var f=WL(a),l=Rt(ov(a,f),[n,r]),c=XL(l),h=Math.floor(r/2)+1,m=fS(c),g=M6(c),b=lS(m,[h,r-h],m.shape.length-1),A=lS(g,[h,r-h],g.shape.length-1),I=a.shape.slice();return I[a.shape.length-1]=h,Rt(ov(b[0],A[0]),I)}var QL=Ze({rfft_:B5t});function L5t(t,e){var r,n=Re(t,"a","squaredDifference"),a=Re(e,"b","squaredDifference");r=nr(ga(n,a),2),n=r[0],a=r[1],io(n.shape,a.shape);var o={a:n,b:a},s={};return nt.runKernel(K4t,o,s)}var uxe=Ze({squaredDifference_:L5t});function P5t(t,e){var r=Re(t,"x","squeeze","string_or_numeric");return Rt(r,pTt(r.shape,e).newShape)}var eP=Ze({squeeze_:P5t});function q5t(t,e){e===void 0&&(e=0);var r=l6(t,"tensors","stack","string_or_numeric");Je(r.length>=1,function(){return"Pass at least one tensor to tf.stack"}),r.length>0&&Je(e<=r[0].rank,function(){return"Axis must be <= rank of the tensor"});var n=r,a={axis:e};return nt.runKernel(h4t,n,a)}var cS=Ze({stack_:q5t});function z5t(t,e){e===void 0&&(e=0);var r=Re(t,"x","step"),n={x:r},a={alpha:e};return nt.runKernel(u6t,n,a)}var fxe=Ze({step_:z5t});function U5t(t,e,r,n,a,o,s,u,f){a===void 0&&(a=0),o===void 0&&(o=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0);var l=Re(t,"x","stridedSlice","string_or_numeric"),c={x:l},h={begin:e,end:r,strides:n,beginMask:a,endMask:o,ellipsisMask:s,newAxisMask:u,shrinkAxisMask:f};return nt.runKernel(Z4t,c,h)}var j5t=Ze({stridedSlice_:U5t});function $5t(t){var e=Re(t,"x","tan","float32"),r={x:e};return nt.runKernel(e6t,r)}var V5t=Ze({tan_:$5t});function tP(t,e,r){var n=Dd(t,r);return Id(t,e,n,r)}function Dl(t,e){Nb(t);var r=Dd(t,e);if(r.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");var n=null;return Id(t,n,r,e)}function aS(t,e,r){if(Nb(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var n=Dd(t,r);if(n.length!==2&&n.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Id(t,e,n,r)}function W5t(t,e,r){if(Nb(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var n=Dd(t,r);if(n.length!==3&&n.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Id(t,e,n,r)}function G5t(t,e,r){if(Nb(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var n=Dd(t,r);if(n.length!==4&&n.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Id(t,e,n,r)}function H5t(t,e,r){if(Nb(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var n=Dd(t,r);if(n.length!==5&&n.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Id(t,e,n,r)}function K5t(t,e,r){if(Nb(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var n=Dd(t,r);if(n.length!==6&&n.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||n,Id(t,e,n,r)}function Z5t(t,e,r){e===void 0&&(e=1),r===void 0&&(r=!0);var n=Re(t,"x","topk");if(n.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var a=n.shape[n.shape.length-1];if(e<0)throw new Error("'k' passed to topk() must be >= 0 but got "+e);if(e>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") "+("but got "+e));var o={x:n},s={k:e,sorted:r},u=nr(nt.runKernel(r6t,o,s),2),f=u[0],l=u[1];return{values:f,indices:l}}var J5t=Ze({topk_:Z5t});function Y5t(t,e,r,n,a){if(e===void 0&&(e=0),r===void 0&&(r=1),n!=null&&n==="bool")throw new Error("Unsupported data type $ { dtype }");for(var o=new YL(e,r,n,!0,a),s=Td(t,n),u=0;u<s.values.length;u++)s.values[u]=o.nextValue();return s.toTensor()}var X5t=Ze({truncatedNormal_:Y5t});function Q5t(t,e){e===void 0&&(e=0);var r=Re(t,"x","unique","string_or_numeric");Je(r.rank>0,function(){return"The input tensor must be at least 1D"});var n={x:r},a={axis:e},o=nr(nt.runKernel(i6t,n,a),2),s=o[0],u=o[1];return{values:s,indices:u}}var eRt=Ze({unique_:Q5t});function tRt(t,e,r){var n=Re(t,"x","unsortedSegmentSum"),a=Re(e,"segmentIds","unsortedSegmentSum","int32");Je(oS(r),function(){return"numSegments must be of dtype int"});var o={x:n,segmentIds:a},s={numSegments:r};return nt.runKernel(o6t,o,s)}var rRt=Ze({unsortedSegmentSum_:tRt});function nRt(t,e){e===void 0&&(e=0);var r=Re(t,"x","unstack","string_or_numeric");Je(e>=-r.shape.length&&e<r.shape.length,function(){return"Axis = "+e+" is not in [-"+r.shape.length+", "+r.shape.length+")"});var n={value:r},a={axis:e};return nt.runKernel(a6t,n,a)}var rP=Ze({unstack_:nRt});function iRt(t,e){return ZL(t,e,"right")}function aRt(t,e,r,n){return e===void 0&&(e=!0),nt.makeVariable(t,e,r,n)}function oRt(t,e){for(var r=[],n=0;n<e.length;n++)e[n]&&r.push(n);for(var a=Td(t,"int32"),o=Td([r.length,t.length],"int32"),n=0;n<r.length;n++){var s=a.indexToLoc(r[n]),u=n*t.length;o.values.set(s,u)}return o.toTensor()}function sRt(t){return yi(this,void 0,void 0,function(){var e,r,n;return ci(this,function(a){switch(a.label){case 0:return e=Re(t,"condition","whereAsync","bool"),[4,e.data()];case 1:return r=a.sent(),n=oRt(e.shape,r),t!==e&&e.dispose(),[2,n]}})})}var lxe=sRt;function uRt(t,e,r){return yi(this,void 0,void 0,function(){var n,a,o,s,u,f,l,c,h,m,g,b,A;return ci(this,function(I){switch(I.label){case 0:for(n=Re(t,"tensor","boolMask"),a=Re(e,"mask","boolMask","bool"),o=r==null?0:r,s=a.rank,u=n.shape,Je(s>0,function(){return"mask cannot be scalar"}),Bf(u.slice(o,o+s),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),f=1,l=o;l<o+s;l++)f*=u[l];return c=u.slice(0,o).concat([f],u.slice(o+s)),h=Rt(n,c),m=Rt(a,[-1]),[4,lxe(m)];case 1:return g=I.sent(),b=eP(g,[1]),A=Vwe(h,b,o),t!==n&&n.dispose(),e!==a&&a.dispose(),b.dispose(),h.dispose(),m.dispose(),g.dispose(),[2,A]}})})}var fRt=uRt;function lRt(t,e){return nt.tidy(t,e)}function cRt(t){var e=kwe(t);e.forEach(function(r){return r.dispose()})}function hRt(t,e,r){var n=Re(t,"x","transpose");if(e==null&&(e=n.shape.map(function(s,u){return u}).reverse()),Je(n.rank===e.length,function(){return"Error in transpose: rank of input "+n.rank+" "+("must match length of perm "+e+".")}),e.forEach(function(s){Je(s>=0&&s<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+(" but got "+e)})}),n.rank<=1)return n.clone();var a={x:n},o={perm:e};return n.dtype==="complex64"?lRt(function(){var s=fS(n),u=M6(n);return s=nt.runKernel(iL,{x:s},o),u=nt.runKernel(iL,{x:u},o),r&&(u=Jh(u)),ov(s,u)}):nt.runKernel(iL,a,o)}var IL=Ze({transpose_:hRt});function pRt(t,e,r,n,a){a===void 0&&(a=!0);var o=Re(t,"v","movingAverage"),s=Re(e,"x","movingAverage"),u=Re(r,"decay","movingAverage");T6t(o,s),Je(Tb(o.shape,s.shape),function(){return"Shape mismatch in v and x"});var f=aa(1),l=$n(f,u),c=Zr($n(s,o),l);if(a){Je(n!=null,function(){return"When using zeroDebias: true, step is required."});var h=Re(n,"step","movingAverage");c=fs(c,$n(f,GL(u,h)))}return no(o,c)}var dRt=Ze({movingAverage_:pRt});function mRt(t,e,r){var n=e.rank>1?e.shape[e.rank-1]:1,a=e.rank>1?e.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + "+("shape[sliceDim:], got updates.shape: "+r.shape)+(", indices.shape: "+e.shape+", shape: "+t)+(", sliceDim: "+n+", and batchDim: "+a+".");if(r.rank<a)throw new Error(o+(" update.rank < "+a+". "));if(t.length<n+(r.rank-a))throw new Error(o+(" Output shape length < "+(n+(r.rank-a))));if(r.rank!==a+t.length-n)throw new Error(o+(" update.rank != "+(a+t.length-n)));for(var s=0;s<a;++s)if(r.shape[s]!==e.shape[s])throw new Error(o+(" updates.shape["+s+"] ("+r.shape[s]+") != indices.shape["+s+"] ("+e.shape[s]+")."));for(var s=0;s<r.rank-a;++s)if(r.shape[s+a]!==t[s+n])throw new Error(o+(" updates.shape["+(s+a)+"] ("+r.shape[s+a]+") != shape["+(s+a)+"] ("+t[s+a]+")"))}function vRt(t,e,r){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+(" but the rank was "+e.rank+"."));if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+(" but the rank was "+t.rank+"."));if(e.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+e.dtype);if(r.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+r);if(r.length===0){if(e.size===0)throw new Error("Indices specified for empty output. indices shape: "+e.shape);if(t.size===0)throw new Error("Updates specified for empty output. updates shape: "+t.shape)}mRt(r,e,t)}function gRt(t,e,r){var n=Re(t,"indices","scatterND","int32"),a=Re(e,"updates","scatterND");vRt(a,n,r);var o={indices:n,updates:a},s={shape:r};return nt.runKernel(T4t,o,s)}var yRt=Ze({scatterND_:gRt});function bRt(t,e,r,n){if(t.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+(" but the dtype was "+t.dtype+"."));if(t.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+(" but got shape "+t.shape+"."));var a=t.rank>0?t.shape[0]:1,o=t.rank>1?t.shape[1]:1;if(r.length!==o)throw new Error("outputShape has incorrect number of elements:,"+(" "+r.length+", should be: "+o+"."));var s=e.size;if(!(e.rank===0||e.rank===1&&s===a))throw new Error("sparseValues has incorrect shape "+(e.shape+", should be [] or ["+a+"]"));if(e.dtype!==n.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}function wRt(t,e,r,n){n===void 0&&(n=0);var a=Re(t,"sparseIndices","sparseToDense","int32"),o=Re(e,"sparseValues","sparseToDense","string_or_numeric"),s=Re(n,"defaultValue","sparseToDense",o.dtype);bRt(a,o,r,s);var u={sparseIndices:a,sparseValues:o,defaultValue:s},f={outputShape:r};return nt.runKernel(H4t,u,f)}var xRt=Ze({sparseToDense_:wRt});function _Rt(t,e){var r=Re(e,"indices","gatherND","int32"),n=Re(t,"x","gatherND","string_or_numeric"),a={params:n,indices:r};return nt.runKernel(DDt,a)}var SRt=Ze({gatherND_:_Rt});function ERt(t,e){if(e==null)return t.shape.slice();if(Tb(t.shape,e))return e;if(t.shape.length===e.length){for(var r=[],n=0;n<t.shape.length;n++)e[n]==null&&t.shape[n]!=null?r.push(t.shape[n]):r.push(e[n]);return r}return e}function MRt(t,e,r,n){var a=Re(t,"x","dropout");if(Je(a.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be "+("scaled, but got a "+a.dtype+" tensor instead.")}),Je(e>=0&&e<1,function(){return"rate must be a float in the range [0, 1), but got "+e+"."}),e===0)return t instanceof As?a.clone():a;var o=ERt(a,r),s=1-e,u=fs($we(no(ixe(o,0,1,"float32",n),s)),s);return Zr(a,u)}var ARt=Ze({dropout_:MRt});function cxe(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function nP(t,e,r){for(var n=1-t%2,a=new Float32Array(t),o=0;o<t;++o){var s=2*Math.PI*o/(t+n-1);a[o]=e-r*Math.cos(s)}return Dl(a,"float32")}function NRt(t,e,r){return r===void 0&&(r=1),yi(this,void 0,void 0,function(){var n,a,o,s,u,f,l,c,h,m,g,b,A,I,I;return ci(this,function(C){switch(C.label){case 0:return n=Re(t,"predictions","inTopK"),a=Re(e,"targets","inTopK"),Je(n.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+("but got "+n.rank)}),Je(n.rank-1===a.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+(n.rank+" and targets rank "+a.rank)}),Bf(n.shape.slice(0,n.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=n.shape[n.shape.length-1],Je(r>0&&r<=o,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+("dimension ("+o+"), but got "+r)}),[4,n.data()];case 1:return s=C.sent(),[4,a.data()];case 2:for(u=C.sent(),f=nr([s.length/o,o],2),l=f[0],c=f[1],h=dTt("bool",l),m=0;m<l;m++){for(g=m*c,b=s.subarray(g,g+c),A=[],I=0;I<b.length;I++)A.push({value:b[I],index:I});for(A.sort(function(R,O){return O.value-R.value}),h[m]=0,I=0;I<r;I++)if(A[I].index===u[m]){h[m]=1;break}}return t!==n&&n.dispose(),e!==a&&a.dispose(),[2,tP(h,a.shape,"bool")]}})})}var TRt=NRt;function DRt(t,e,r,n,a,o,s){o===void 0&&(o="NHWC");var u=t;t.rank===3&&(u=Rt(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f=e;f.rank===3&&(f=Rt(e,[1,e.shape[0],e.shape[1],e.shape[2]])),Je(u.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+(u.shape+".")}),Je(f.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+(f.shape+".")}),Je(r.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+(r+".")});var l=o==="NHWC"?u.shape[3]:u.shape[1],c=o==="NHWC"?f.shape[3]:f.shape[1];Je(l===r[2],function(){return"Error in conv2dDerFilter: depth of input "+l+") must "+("match input depth in filter ("+r[2]+".")}),Je(c===r[3],function(){return"Error in conv2dDerFilter: depth of dy ("+c+") must "+("match output depth for filter ("+r[3]+").")}),Il("conv2dDerFilter",a,s);var h={x:u,dy:f},m={strides:n,pad:a,dataFormat:o,dimRoundingMode:s,filterShape:r};return nt.runKernel(XTt,h,m)}var kRt=Ze({conv2DBackpropFilter_:DRt});function iP(t,e,r){if(r==null||r==="linear")return t;if(r==="relu")return Zr(t,fxe(e));throw new Error("Cannot compute gradient for fused activation "+r+".")}function aP(t,e){var r=e,n=AIt(t.shape,e.shape);return n.length>0&&(r=ji(r,n)),Rt(r,t.shape)}function oP(t,e,r,n){if(e==="linear")return t;if(e==="relu")return A6(t);if(e==="elu")return zwe(t);if(e==="relu6")return axe(t);if(e==="prelu")return rxe(t,r);if(e==="leakyrelu")return Gwe(t,n);if(e==="sigmoid")return _b(t);throw new Error("Unknown fused activation "+e+".")}var sP=function(t,e){var r=t>0;return!r||e==="linear"};function IRt(t){var e,r=t.x,n=t.filter,a=t.strides,o=t.pad,s=t.dataFormat,u=s===void 0?"NHWC":s,f=t.dilations,l=f===void 0?[1,1]:f,c=t.dimRoundingMode,h=t.bias,m=t.activation,g=m===void 0?"linear":m,b=t.preluActivationWeights,A=t.leakyreluAlpha;if(g=g||"linear",sP(nt.state.gradientDepth,g)===!1){Je(u==="NHWC",function(){return"Error in fused conv2d: got dataFormat of "+u+" but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."});var I=w6(r,n,a,o,u,l,c);return h!=null&&(I=no(I,h)),oP(I,g,b,A)}var C=Re(r,"x","conv2d","float32"),R=Re(n,"filter","conv2d","float32"),O=C,F=!1;C.rank===3&&(F=!0,O=Rt(C,[1,C.shape[0],C.shape[1],C.shape[2]])),Je(O.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+(O.rank+".")}),Je(R.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+(R.rank+".")}),Il("fused conv2d",o,c);var z=u==="NHWC"?O.shape[3]:O.shape[1];Je(R.shape[2]===z,function(){return"Error in conv2d: depth of input ("+z+") must match "+("input depth for filter "+R.shape[2]+".")}),Je(kd(a,l),function(){return"Error in conv2D: Either strides or dilations must be 1. "+("Got strides "+a+" and dilations '"+l+"'")});var B=$L(O.shape,R.shape,a,l,o,c),$;h!=null&&($=Re(h,"bias","fused conv2d"),e=nr(ga($,C),1),$=e[0],u==="NHWC"?io(B.outShape,$.shape):(Je($.shape.length<=1,function(){return"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+("rank-"+$.shape.length+".")}),Je($.shape.length===0||$.shape[0]===B.outChannels||$.shape[0]===1,function(){return"Error in fused conv2d: bias shape ("+$.shape+") is not compatible with the number of output channels "+("("+B.outChannels+")")})));var j;if(b!=null){var W=b.shape;if(Je(W.length<=1||W.length===3,function(){return"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+("rank-"+W.length+".")}),W.length===1)Je(W[0]===1||W[0]===B.outChannels,function(){return"Error in fused conv2d: PReLU activation weights "+("("+W+") is not compatible with the number of output ")+("channels ("+B.outChannels+").")});else if(W.length===3)try{io(W,B.outShape)}catch(D){var T="Error in fused conv2d: PReLU activation weights ("+W+") is not compatible with the output shape of the conv2d "+("("+B.outShape+").");throw Error(T)}j=Re(b,"prelu weights","fused conv2d")}var p=function(D,k){Je(u==="NHWC",function(){return"Error in gradient of fused conv2D: got dataFormat of "+u+" but only NHWC is currently supported."});var E=nr(k,4),d=E[0],N=E[1],U=E[2],q=E[3],P=iP(D,U,g);Je(p6(l),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+("are not yet supported in gradients. Got dilations '"+l+"'")});var G=Lwe(N.shape,P,d,a,o),Z=kRt(N,P,d.shape,a,o),X=[G,Z];if(q!=null){var he=aP(q,P);X.push(he)}return X},v={x:O,filter:R,bias:$,preluActivationWeights:j},S={strides:a,pad:o,dataFormat:u,dilations:l,dimRoundingMode:c,activation:g,leakyreluAlpha:A};if(h==null){var y=Yh(function(D,k,E){var d=nt.runKernel(Ube,v,S);return E([k,D,d]),F&&(d=Rt(d,[d.shape[1],d.shape[2],d.shape[3]])),{value:d,gradFunc:p}});return y(O,R)}else{var M=Yh(function(D,k,E,d){var N=nt.runKernel(Ube,v,S);return d([k,D,N,E]),F&&(N=Rt(N,[N.shape[1],N.shape[2],N.shape[3]])),{value:N,gradFunc:p}});return M(O,R,$)}}var CRt=Ze({fusedConv2d_:IRt});function ORt(t,e,r,n,a,o,s){o===void 0&&(o=[1,1]);var u=t;t.rank===3&&(u=Rt(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f=e;f.rank===3&&(f=Rt(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var l={x:u,dy:f},c={strides:n,pad:a,dimRoundingMode:s,dilations:o,filterShape:r};return nt.runKernel(lDt,l,c)}var RRt=Ze({depthwiseConv2dNativeBackpropFilter_:ORt});function FRt(t,e,r,n,a,o,s){o===void 0&&(o=[1,1]);var u=e,f=!1;e.rank===3&&(f=!0,u=Rt(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var l={dy:u,filter:r},c={strides:n,pad:a,dimRoundingMode:s,dilations:o,inputShape:t},h=nt.runKernel(cDt,l,c);return f?Rt(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var BRt=Ze({depthwiseConv2dNativeBackpropInput_:FRt});function LRt(t){var e,r=t.x,n=t.filter,a=t.strides,o=t.pad,s=t.dataFormat,u=s===void 0?"NHWC":s,f=t.dilations,l=f===void 0?[1,1]:f,c=t.dimRoundingMode,h=t.bias,m=t.activation,g=m===void 0?"linear":m,b=t.preluActivationWeights,A=t.leakyreluAlpha;if(sP(nt.state.gradientDepth,g)===!1){var I=VL(r,n,a,o,u,l,c);return h!=null&&(I=no(I,h)),oP(I,g,b,A)}var C=Re(r,"x","depthwiseConv2d","float32"),R=Re(n,"filter","depthwiseConv2d","float32"),O=C,F=!1;C.rank===3&&(F=!0,O=Rt(C,[1,C.shape[0],C.shape[1],C.shape[2]])),Je(O.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+("rank "+O.rank+".")}),Je(R.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+("but got rank "+R.rank+".")}),Je(O.shape[3]===R.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels "+("("+O.shape[3]+") must match the inChannels dimension in ")+("filter "+R.shape[2]+".")}),l==null&&(l=[1,1]),Je(kd(a,l),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+("be 1. Got strides "+a+" and dilations '"+l+"'")}),Il("fused depthwiseConv2d",o,c);var z=$L(O.shape,R.shape,a,l,o,c,!0),B;h!=null&&(B=Re(h,"bias","fused conv2d"),e=nr(ga(B,C),1),B=e[0],io(z.outShape,B.shape));var $;b!=null&&($=Re(b,"prelu weights","fused depthwiseConv2d"));var j=function(S,y){Je(p6(l),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+("'"+l+"'")});var M=nr(y,4),D=M[0],k=M[1],E=M[2],d=M[3],N=iP(S,E,g),U=BRt(k.shape,N,D,a,o,l,c),q=RRt(k,N,D.shape,a,o,l,c);if(d!=null){var P=aP(B,N);return[U,q,P]}return[U,q]},W={x:O,filter:R,bias:B,preluActivationWeights:$},T={strides:a,pad:o,dataFormat:u,dilations:l,dimRoundingMode:c,activation:g,leakyreluAlpha:A};if(h==null){var p=Yh(function(S,y,M){var D=nt.runKernel(jbe,W,T);return M([y,S,D]),F&&(D=Rt(D,[D.shape[1],D.shape[2],D.shape[3]])),{value:D,gradFunc:j}});return p(O,R)}else{var v=Yh(function(S,y,M,D){var k=nt.runKernel(jbe,W,T);return D([y,S,k,M]),F&&(k=Rt(k,[k.shape[1],k.shape[2],k.shape[3]])),{value:k,gradFunc:j}});return v(O,R,B)}}var PRt=Ze({fusedDepthwiseConv2d_:LRt});function qRt(t){var e,r,n=t.a,a=t.b,o=t.transposeA,s=o===void 0?!1:o,u=t.transposeB,f=u===void 0?!1:u,l=t.bias,c=t.activation,h=c===void 0?"linear":c,m=t.preluActivationWeights,g=t.leakyreluAlpha,b=g===void 0?.2:g;if(sP(nt.state.gradientDepth,h)===!1){var A=li(n,a,s,f);return l!=null&&(A=no(A,l)),oP(A,h,m,b)}var I=Re(n,"a","fused matMul"),C=Re(a,"b","fused matMul");e=nr(ga(I,C),2),I=e[0],C=e[1];var R=s?I.shape[I.rank-2]:I.shape[I.rank-1],O=f?C.shape[C.rank-1]:C.shape[C.rank-2],F=s?I.shape[I.rank-1]:I.shape[I.rank-2],z=f?C.shape[C.rank-2]:C.shape[C.rank-1],B=I.shape.slice(0,-2),$=C.shape.slice(0,-2),j=Ts(B),W=Ts($);Je(R===O,function(){return"Error in fused matMul: inner shapes ("+R+") and ("+(O+") of Tensors with shapes "+I.shape+" and ")+(C.shape+" and transposeA="+s)+(" and transposeB="+f+" must match.")});var T=io(I.shape.slice(0,-2),C.shape.slice(0,-2)),p=T.concat([F,z]),v=s?Rt(I,[j,R,F]):Rt(I,[j,F,R]),S=f?Rt(C,[W,z,O]):Rt(C,[W,O,z]),y;l!=null&&(y=Re(l,"bias","fused matMul"),r=nr(ga(y,I),1),y=r[0],io(p,y.shape));var M;m!=null&&(M=Re(m,"prelu weights","fused matMul"));var D=function(U,q){var P=nr(q,4),G=P[0],Z=P[1],X=P[2],he=P[3],V=iP(Rt(U,X.shape),X,h),K,ne;if(!s&&!f?(K=li(V,Z,!1,!0),ne=li(G,V,!0,!1)):!s&&f?(K=li(V,Z,!1,!1),ne=li(V,G,!0,!1)):s&&!f?(K=li(Z,V,!1,!0),ne=li(G,V,!1,!1)):(K=li(Z,V,!0,!0),ne=li(V,G,!0,!0)),l!=null){var fe=aP(he,V);return[K,ne,fe]}else return[K,ne]},k={a:v,b:S,bias:y,preluActivationWeights:M},E={transposeA:s,transposeB:f,activation:h,leakyreluAlpha:b};if(l==null){var d=Yh(function(U,q,P){var G=nt.runKernel(zbe,k,E);return P([U,q,G]),{value:Rt(G,p),gradFunc:D}});return d(v,S)}else{var N=Yh(function(U,q,P,G){var Z=nt.runKernel(zbe,k,E);return G([U,q,Z,P]),{value:Rt(Z,p),gradFunc:D}});return N(v,S,y)}}var zRt=Ze({fusedMatMul_:qRt});var URt={__proto__:null,conv2d:CRt,depthwiseConv2d:PRt,matMul:zRt};function jRt(t){return nP(t,.54,.46)}var $Rt=Ze({hammingWindow_:jRt});function VRt(t){return nP(t,.5,.5)}var hxe=Ze({hannWindow_:VRt});function WRt(t,e,r,n,a){n===void 0&&(n=!1),a===void 0&&(a=0);for(var o=0,s=[];o+e<=t.size;)s.push(Ki(t,o,e)),o+=r;if(n)for(;o<t.size;){var u=o+e-t.size,f=Hs([Ki(t,o,e-u),HL([u],a)]);s.push(f),o+=r}return s.length===0?aS([],[0,e]):Rt(Hs(s),[s.length,e])}var pxe=Ze({frame_:WRt});function GRt(t,e,r,n,a){a===void 0&&(a=hxe),n==null&&(n=cxe(e));var o=pxe(t,e,r),s=Zr(o,a(e));return QL(s,n)}var HRt=Ze({stft_:GRt});function KRt(t,e,r,n,a,o){a===void 0&&(a="bilinear"),o===void 0&&(o=0);var s=Re(t,"image","cropAndResize"),u=Re(e,"boxes","cropAndResize","float32"),f=Re(r,"boxInd","cropAndResize","int32"),l=u.shape[0];Je(s.rank===4,function(){return"Error in cropAndResize: image must be rank 4,"+("but got rank "+s.rank+".")}),Je(u.rank===2&&u.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+l+",4] "+("but had shape "+u.shape+".")}),Je(f.rank===1&&f.shape[0]===l,function(){return"Error in cropAndResize: boxInd must be have size ["+l+"] "+("but had shape "+u.shape+".")}),Je(n.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+("length "+n.length+".")}),Je(n[0]>=1&&n[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+n}),Je(a==="bilinear"||a==="nearest",function(){return"method must be bilinear or nearest, but was "+a});var c={image:s,boxes:u,boxInd:f},h={method:a,extrapolationValue:o,cropSize:n},m=nt.runKernel(oDt,c,h);return m}var ZRt=Ze({cropAndResize_:KRt});function JRt(t){var e=Re(t,"image","flipLeftRight","float32");Je(e.rank===4,function(){return"Error in flipLeftRight: image must be rank 4,"+("but got rank "+e.rank+".")});var r={image:e},n=nt.runKernel(EDt,r,{});return n}var YRt=Ze({flipLeftRight_:JRt});function XRt(t){var e=Re(t,"image","grayscaleToRGB"),r=e.rank-1,n=e.shape[r];Je(e.rank>=2,function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+("but got rank "+e.rank+".")}),Je(n===1,function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+("should be size 1, but got size "+n+".")});var a=new Array(e.rank);return a.fill(1,0,r),a[r]=3,iS(e,a)}var QRt=Ze({grayscaleToRGB_:XRt});function e8t(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=.5);var a=Re(t,"image","rotateWithOffset","float32");Je(a.rank===4,function(){return"Error in rotateWithOffset: image must be rank 4,"+("but got rank "+a.rank+".")});var o={image:a},s={radians:e,fillValue:r,center:n},u=nt.runKernel(f6t,o,s);return u}var t8t=Ze({rotateWithOffset_:e8t});function Db(t,e,r,n,a,o){n==null&&(n=.5),a==null&&(a=Number.NEGATIVE_INFINITY),o==null&&(o=0);var s=t.shape[0];return r=Math.min(r,s),Je(0<=n&&n<=1,function(){return"iouThreshold must be in [0, 1], but was '"+n+"'"}),Je(t.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+t.rank+"'"}),Je(t.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+t.shape[1]}),Je(e.rank===1,function(){return"scores must be a 1D tensor"}),Je(e.shape[0]===s,function(){return"scores has incompatible shape with boxes. Expected "+s+", "+("but was "+e.shape[0])}),Je(0<=o&&o<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+o+"'"}),{maxOutputSize:r,iouThreshold:n,scoreThreshold:a,softNmsSigma:o}}function r8t(t,e,r,n,a){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY);var o=Re(t,"boxes","nonMaxSuppression","float32"),s=Re(e,"scores","nonMaxSuppression","float32"),u=Db(o,s,r,n,a);r=u.maxOutputSize,n=u.iouThreshold,a=u.scoreThreshold;var f={maxOutputSize:r,iouThreshold:n,scoreThreshold:a};return nt.runKernel(s4t,{boxes:o,scores:s},f)}var n8t=Ze({nonMaxSuppression_:r8t});function i8t(t,e,r){var n=a8t(t,e,r),a=n<0?-(n+1):n;t.splice(a,0,e)}function a8t(t,e,r){return s8t(t,e,r||o8t)}function o8t(t,e){return t>e?1:t<e?-1:0}function s8t(t,e,r){for(var n=0,a=t.length,o=0,s=!1;n<a;){o=n+(a-n>>>1);var u=r(e,t[o]);u>0?n=o+1:(a=o,s=!u)}return s?n:-n-1}function u8t(t,e,r,n,a){return uP(t,e,r,n,a,0)}function f8t(t,e,r,n,a,o){return uP(t,e,r,n,a,0,!1,o,!0)}function l8t(t,e,r,n,a,o){return uP(t,e,r,n,a,o,!0)}function uP(t,e,r,n,a,o,s,u,f){s===void 0&&(s=!1),u===void 0&&(u=!1),f===void 0&&(f=!1);for(var l=[],c=0;c<e.length;c++)e[c]>a&&l.push({score:e[c],boxIndex:c,suppressBeginIndex:0});l.sort(rwe);for(var h=o>0?-.5/o:0,m=[],g=[];m.length<r&&l.length>0;){var b=l.pop(),A=b.score,I=b.boxIndex,C=b.suppressBeginIndex;if(A<a)break;for(var R=!1,O=m.length-1;O>=C;--O){var F=c8t(t,I,m[O]);if(F>=n){R=!0;break}if(b.score=b.score*h8t(n,h,F),b.score<=a)break}b.suppressBeginIndex=m.length,R||(b.score===A?(m.push(I),g.push(b.score)):b.score>a&&i8t(l,b,rwe))}var z=m.length,B=r-z;u&&B>0&&(m.push.apply(m,xo(new Array(B).fill(0))),g.push.apply(g,xo(new Array(B).fill(0))));var $={selectedIndices:m};return s&&($.selectedScores=g),f&&($.validOutputs=z),$}function c8t(t,e,r){var n=t.subarray(e*4,e*4+4),a=t.subarray(r*4,r*4+4),o=Math.min(n[0],n[2]),s=Math.min(n[1],n[3]),u=Math.max(n[0],n[2]),f=Math.max(n[1],n[3]),l=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),h=Math.max(a[0],a[2]),m=Math.max(a[1],a[3]),g=(u-o)*(f-s),b=(h-l)*(m-c);if(g<=0||b<=0)return 0;var A=Math.max(o,l),I=Math.max(s,c),C=Math.min(u,h),R=Math.min(f,m),O=Math.max(C-A,0)*Math.max(R-I,0);return O/(g+b-O)}function h8t(t,e,r){var n=Math.exp(e*r*r);return r<=t?n:0}function rwe(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}function p8t(t,e,r,n,a){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),yi(this,void 0,void 0,function(){var o,s,u,f,l,c,h;return ci(this,function(m){switch(m.label){case 0:return o=Re(t,"boxes","nonMaxSuppressionAsync"),s=Re(e,"scores","nonMaxSuppressionAsync"),u=Db(o,s,r,n,a),r=u.maxOutputSize,n=u.iouThreshold,a=u.scoreThreshold,[4,Promise.all([o.data(),s.data()])];case 1:return f=m.sent(),l=f[0],c=f[1],h=u8t(l,c,r,n,a).selectedIndices,o!==t&&o.dispose(),s!==e&&s.dispose(),[2,Dl(h,"int32")]}})})}var d8t=p8t;function m8t(t,e,r,n,a,o){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),o===void 0&&(o=0);var s=Re(t,"boxes","nonMaxSuppression"),u=Re(e,"scores","nonMaxSuppression"),f=Db(s,u,r,n,a,o);r=f.maxOutputSize,n=f.iouThreshold,a=f.scoreThreshold,o=f.softNmsSigma;var l={boxes:s,scores:u},c={maxOutputSize:r,iouThreshold:n,scoreThreshold:a,softNmsSigma:o},h=nt.runKernel(f4t,l,c);return{selectedIndices:h[0],selectedScores:h[1]}}var v8t=Ze({nonMaxSuppressionWithScore_:m8t});function g8t(t,e,r,n,a,o){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),o===void 0&&(o=0),yi(this,void 0,void 0,function(){var s,u,f,l,c,h,m,g,b;return ci(this,function(A){switch(A.label){case 0:return s=Re(t,"boxes","nonMaxSuppressionAsync"),u=Re(e,"scores","nonMaxSuppressionAsync"),f=Db(s,u,r,n,a,o),r=f.maxOutputSize,n=f.iouThreshold,a=f.scoreThreshold,o=f.softNmsSigma,[4,Promise.all([s.data(),u.data()])];case 1:return l=A.sent(),c=l[0],h=l[1],m=l8t(c,h,r,n,a,o),g=m.selectedIndices,b=m.selectedScores,s!==t&&s.dispose(),u!==e&&u.dispose(),[2,{selectedIndices:Dl(g,"int32"),selectedScores:Dl(b)}]}})})}var y8t=g8t;function b8t(t,e,r,n,a,o){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),o===void 0&&(o=!1);var s=Re(t,"boxes","nonMaxSuppression"),u=Re(e,"scores","nonMaxSuppression"),f=Db(s,u,r,n,a,null),l=f.maxOutputSize,c=f.iouThreshold,h=f.scoreThreshold,m={boxes:s,scores:u},g={maxOutputSize:l,iouThreshold:c,scoreThreshold:h,padToMaxOutputSize:o},b=nt.runKernel(u4t,m,g);return{selectedIndices:b[0],validOutputs:b[1]}}var w8t=Ze({nonMaxSuppressionPadded_:b8t});function x8t(t,e,r,n,a,o){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),o===void 0&&(o=!1),yi(this,void 0,void 0,function(){var s,u,f,l,c,h,m,g,b,A,I,C;return ci(this,function(R){switch(R.label){case 0:return s=Re(t,"boxes","nonMaxSuppressionAsync"),u=Re(e,"scores","nonMaxSuppressionAsync"),f=Db(s,u,r,n,a,null),l=f.maxOutputSize,c=f.iouThreshold,h=f.scoreThreshold,[4,Promise.all([s.data(),u.data()])];case 1:return m=nr.apply(void 0,[R.sent(),2]),g=m[0],b=m[1],A=f8t(g,b,l,c,h,o),I=A.selectedIndices,C=A.validOutputs,s!==t&&s.dispose(),u!==e&&u.dispose(),[2,{selectedIndices:Dl(I,"int32"),validOutputs:aa(C,"int32")}]}})})}var _8t=x8t;function S8t(t,e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=Re(t,"images","resizeBilinear");Je(a.rank===3||a.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+("rank "+a.rank+".")}),Je(e.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+(e+".")}),Je(n===!1||r===!1,function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."});var o=a,s=!1;a.rank===3&&(s=!0,o=Rt(a,[1,a.shape[0],a.shape[1],a.shape[2]])),nr(e,0);var u={images:o},f={alignCorners:r,halfPixelCenters:n,size:e},l=nt.runKernel(S4t,u,f);return s?Rt(l,[l.shape[1],l.shape[2],l.shape[3]]):l}var E8t=Ze({resizeBilinear_:S8t});function M8t(t,e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=Re(t,"images","resizeNearestNeighbor");Je(a.rank===3||a.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+("rank "+a.rank+".")}),Je(e.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+(e+".")}),Je(a.dtype==="float32"||a.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"}),Je(n===!1||r===!1,function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."});var o=a,s=!1;a.rank===3&&(s=!0,o=Rt(a,[1,a.shape[0],a.shape[1],a.shape[2]])),nr(e,0);var u={images:o},f={alignCorners:r,halfPixelCenters:n,size:e},l=nt.runKernel(_4t,u,f);return s?Rt(l,[l.shape[1],l.shape[2],l.shape[3]]):l}var A8t=Ze({resizeNearestNeighbor_:M8t});function N8t(t,e,r,n){var a;e===void 0&&(e="binary"),r===void 0&&(r=!1),n===void 0&&(n=.5);var o=Re(t,"image","threshold"),s=.2989,u=.587,f=.114,l=o.shape[0]*o.shape[1],c=Zr(Dl([n]),255),h,m,g,b;if(Je(o.rank===3,function(){return"Error in threshold: image must be rank 3,"+("but got rank "+o.rank+".")}),Je(o.shape[2]===3||o.shape[2]===1,function(){return"Error in threshold: image color channel must be equal to 3 or 1"+("but got "+o.shape[2]+".")}),Je(o.dtype==="int32"||o.dtype==="float32",function(){return"Error in dtype: image dtype must be int32 or float32,"+("but got dtype "+o.dtype+".")}),Je(e==="otsu"||e==="binary",function(){return"Method must be binary or otsu, but was "+e}),o.shape[2]===3){a=nr(lS(o,[1,1,1],-1),3),h=a[0],m=a[1],g=a[2];var A=Zr(h,s),I=Zr(m,u),C=Zr(g,f);b=no(no(A,I),C)}else b=t;if(e==="otsu"){var R=Bwe(_o(oxe(b),"int32"),tP([]),256);c=T8t(R,l)}var O=r?KL(b,c):E6(b,c),F=_o(Zr(O,255),"int32");return F}function T8t(t,e){for(var r=Dl([-1]),n=Dl([0]),a=Dl([0]),o,s,u,f,l,c,h=0;h<t.size-1;h++){o=Ki(t,0,h+1),s=Ki(t,h+1),l=fs(ji(o),e),c=fs(ji(s),e);var m=ji(Zr(o,uS(0,o.size)));u=fs(m,ji(o));var g=HL(s.shape,o.size),b=no(uS(0,s.size),g),A=Zr(s,b);f=fs(ji(A),ji(s));var I=$n(u,f),C=$n(u,f),R=Zr(l,c);a=Zr(Zr(R,I),C);var O=E6(a,n);n=Mb(O,a,n),r=Mb(O,Dl([h]),r)}return r}var D8t=Ze({threshold_:N8t});function k8t(t,e,r,n,a,o){r===void 0&&(r="nearest"),n===void 0&&(n="constant"),a===void 0&&(a=0);var s=Re(t,"image","transform","float32"),u=Re(e,"transforms","transform","float32");Je(s.rank===4,function(){return"Error in transform: image must be rank 4,"+("but got rank "+s.rank+".")}),Je(u.rank===2&&(u.shape[0]===s.shape[0]||u.shape[0]===1)&&u.shape[1]===8,function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"}),Je(o==null||o.length===2,function(){return"Error in transform: outputShape must be [height, width] or null, "+("but got "+o+".")});var f={image:s,transforms:u},l={interpolation:r,fillMode:n,fillValue:a,outputShape:o};return nt.runKernel(n6t,f,l)}var I8t=Ze({transform_:k8t});function C8t(t,e,r){Je(e%1===0,function(){return"bandPart(): numLower must be an integer, got "+e+"."}),Je(r%1===0,function(){return"bandPart(): numUpper must be an integer, got "+r+"."});var n=Re(t,"a","bandPart");Je(n.rank>=2,function(){return"bandPart(): Rank must be at least 2, got "+n.rank+"."});var a=n.shape,o=nr(n.shape.slice(-2),2),s=o[0],u=o[1];if(!(e<=s))throw new Error("bandPart(): numLower ("+e+")"+(" must not be greater than the number of rows ("+s+")."));if(!(r<=u))throw new Error("bandPart(): numUpper ("+r+")"+(" must not be greater than the number of columns ("+u+")."));e<0&&(e=s),r<0&&(r=u);var f=Rt(uS(0,s,1,"int32"),[-1,1]),l=uS(0,u,1,"int32"),c=$n(f,l),h=d6(KL(c,aa(+e,"int32")),Wwe(c,aa(-r,"int32"))),m=Ab([s,u],n.dtype);return Rt(cS(rP(Rt(n,[-1,s,u])).map(function(g){return Mb(h,g,m)})),a)}var O8t=Ze({bandPart_:C8t});function R8t(t){var e;if(Array.isArray(t)){e=!1,Je(t!=null&&t.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var r=t[0].shape[0],n=function(f){Je(t[f].shape[0]===r,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+("("+t[f].shape[0]+" vs. "+r+")")})},a=1;a<t.length;++a)n(a)}else e=!0,t=lS(t,t.shape[0],0).map(function(f){return eP(f,[0])});Je(t.length<=t[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+t.length+") exceeds "+("number of dimensions ("+t[0].shape[0]+").")});for(var o=[],s=t,u=function(f){o.push(nt.tidy(function(){var l=s[f];if(f>0)for(var c=0;c<f;++c){var h=Zr(ji(Zr(o[c],l)),o[c]);l=$n(l,h)}return fs(l,S6(l,"euclidean"))}))},a=0;a<t.length;++a)u(a);return e?cS(o,0):o}var F8t=Ze({gramSchmidt_:R8t});function B8t(t,e){if(e===void 0&&(e=!1),Je(t.rank>=2,function(){return"qr() requires input tensor to have a rank >= 2, but got rank "+t.rank}),t.rank===2)return nwe(t,e);var r=t.shape.slice(0,t.shape.length-2).reduce(function(f,l){return f*l}),n=rP(Rt(t,[r,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),a=[],o=[];n.forEach(function(f){var l=nr(nwe(f,e),2),c=l[0],h=l[1];a.push(c),o.push(h)});var s=Rt(cS(a,0),t.shape),u=Rt(cS(o,0),t.shape);return[s,u]}function nwe(t,e){return e===void 0&&(e=!1),nt.tidy(function(){Je(t.shape.length===2,function(){return"qr2d() requires a 2D Tensor, but got a "+t.shape.length+"D Tensor."});for(var r=t.shape[0],n=t.shape[1],a=jwe(r),o=xb(t),s=aS([[1]],[1,1]),u=xb(s),f=r>=n?n:r,l=function(h){var m,g=o,b=u,A=a;m=nr(nt.tidy(function(){var I=Ki(o,[h,h],[r-h,1]),C=S6(I),R=Ki(o,[h,h],[1,1]),O=Mb(E6(R,0),aS([[-1]]),aS([[1]])),F=$n(R,Zr(O,C)),z=fs(I,F);z.shape[0]===1?u=xb(s):u=Hs([s,Ki(z,[1,0],[z.shape[0]-1,z.shape[1]])],0);var B=Jh(fs(li(O,F),C)),$=Ki(o,[h,0],[r-h,n]),j=Zr(B,u),W=IL(u);if(h===0)o=$n($,li(j,li(W,$)));else{var T=$n($,li(j,li(W,$)));o=Hs([Ki(o,[0,0],[h,n]),T],0)}var p=IL(j),v=Ki(a,[0,h],[r,a.shape[1]-h]);if(h===0)a=$n(v,li(li(v,u),p));else{var S=$n(v,li(li(v,u),p));a=Hs([Ki(a,[0,0],[r,h]),S],1)}return[u,o,a]}),3),u=m[0],o=m[1],a=m[2],cRt([g,b,A])},c=0;c<f;++c)l(c);return!e&&r>n&&(a=Ki(a,[0,0],[r,n]),o=Ki(o,[0,0],[n,n])),[a,o]})}var L8t=Ze({qr_:B8t});var Ns;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Ns||(Ns={}));function P8t(t,e,r){r===void 0&&(r=Ns.SUM_BY_NONZERO_WEIGHTS);var n=Re(t,"losses","computeWeightedLoss"),a=null;e!=null&&(a=Re(e,"weights","computeWeightedLoss"));var o=a==null?n:Zr(n,a);if(r===Ns.NONE)return o;if(r===Ns.SUM)return ji(o);if(r===Ns.MEAN){if(a==null)return m6(o);var s=n.size/a.size,u=fs(ji(o),ji(a));return s>1?fs(u,aa(s)):u}if(r===Ns.SUM_BY_NONZERO_WEIGHTS){if(a==null)return fs(ji(o),aa(n.size));var f=Zr(a,av(n.shape)),l=_o(ji(exe(f,aa(0))),"float32");return fs(ji(o),l)}throw Error("Unknown reduction: "+r)}var Xh=Ze({computeWeightedLoss_:P8t});function q8t(t,e,r,n){n===void 0&&(n=Ns.SUM_BY_NONZERO_WEIGHTS);var a=Re(t,"labels","absoluteDifference"),o=Re(e,"predictions","absoluteDifference"),s=null;r!=null&&(s=Re(r,"weights","absoluteDifference")),Bf(a.shape,o.shape,"Error in absoluteDifference: ");var u=kf($n(a,o));return Xh(u,s,n)}var z8t=Ze({absoluteDifference_:q8t});function U8t(t,e,r,n,a){a===void 0&&(a=Ns.SUM_BY_NONZERO_WEIGHTS);var o=Re(t,"labels","cosineDistance"),s=Re(e,"predictions","cosineDistance"),u=null;n!=null&&(u=Re(n,"weights","cosineDistance")),Bf(o.shape,s.shape,"Error in cosineDistance: ");var f=aa(1),l=$n(f,ji(Zr(o,s),r,!0));return Xh(l,u,a)}var j8t=Ze({cosineDistance_:U8t});function $8t(t,e,r,n){n===void 0&&(n=Ns.SUM_BY_NONZERO_WEIGHTS);var a=Re(t,"labels","hingeLoss"),o=Re(e,"predictions","hingeLoss"),s=null;r!=null&&(s=Re(r,"weights","hingeLoss")),Bf(a.shape,o.shape,"Error in hingeLoss: ");var u=aa(1);a=$n(Zr(aa(2),a),u);var f=A6($n(u,Zr(a,o)));return Xh(f,s,n)}var V8t=Ze({hingeLoss_:$8t});function W8t(t,e,r,n,a){n===void 0&&(n=1),a===void 0&&(a=Ns.SUM_BY_NONZERO_WEIGHTS);var o=Re(t,"labels","huberLoss"),s=Re(e,"predictions","huberLoss"),u=null;r!=null&&(u=Re(r,"weights","huberLoss")),Bf(o.shape,s.shape,"Error in huberLoss: ");var f=aa(n),l=kf($n(s,o)),c=Qwe(l,f),h=$n(l,c),m=no(Zr(aa(.5),_6(c)),Zr(f,h));return Xh(m,u,a)}var G8t=Ze({huberLoss_:W8t});function H8t(t,e,r,n,a){n===void 0&&(n=1e-7),a===void 0&&(a=Ns.SUM_BY_NONZERO_WEIGHTS);var o=Re(t,"labels","logLoss"),s=Re(e,"predictions","logLoss"),u=null;r!=null&&(u=Re(r,"weights","logLoss")),Bf(o.shape,s.shape,"Error in logLoss: ");var f=aa(1),l=aa(n),c=Jh(Zr(o,sS(no(s,l)))),h=Zr($n(f,o),sS(no($n(f,s),l))),m=$n(c,h);return Xh(m,u,a)}var K8t=Ze({logLoss_:H8t});function Z8t(t,e,r,n){n===void 0&&(n=Ns.SUM_BY_NONZERO_WEIGHTS);var a=Re(t,"labels","meanSquaredError"),o=Re(e,"predictions","meanSquaredError"),s=null;r!=null&&(s=Re(r,"weights","meanSquaredError")),Bf(a.shape,o.shape,"Error in meanSquaredError: ");var u=uxe(a,o);return Xh(u,s,n)}var J8t=Ze({meanSquaredError_:Z8t});function Y8t(t,e){var r=Re(t,"labels","sigmoidCrossEntropyWithLogits"),n=Re(e,"logits","sigmoidCrossEntropyWithLogits");Bf(r.shape,n.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=A6(n),o=Zr(n,r),s=Hwe(sv(Jh(kf(n))));return no($n(a,o),s)}function X8t(t,e,r,n,a){n===void 0&&(n=0),a===void 0&&(a=Ns.SUM_BY_NONZERO_WEIGHTS);var o=Re(t,"multiClassLabels","sigmoidCrossEntropy"),s=Re(e,"logits","sigmoidCrossEntropy"),u=null;if(r!=null&&(u=Re(r,"weights","sigmoidCrossEntropy")),Bf(o.shape,s.shape,"Error in sigmoidCrossEntropy: "),n>0){var f=aa(n),l=aa(1),c=aa(.5);o=no(Zr(o,$n(l,f)),Zr(c,f))}var h=Y8t(o,s);return Xh(h,u,a)}var Q8t=Ze({sigmoidCrossEntropy_:X8t});function eFt(t,e,r){if(r===void 0&&(r=-1),r===-1&&(r=e.rank-1),r!==e.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+("supported. Labels / logits was rank "+e.rank+" ")+("and dim was "+r));var n=Yh(function(a,o,s){var u=!0,f=Zwe(o,[r],u),l=$n(_o(o,"float32"),f);s([a,l]);var c=Jh(Zr(l,a)),h=ji(c,[r]),m=function(g,b){var A=nr(b,2),I=A[0],C=A[1],R=x6(g.shape,[r]);return[Zr(Rt(g,R),$n(_o(I,"float32"),sv(C))),Zr(Rt(g,R),$n(sv(C),_o(I,"float32")))]};return{value:h,gradFunc:m}});return n(t,e)}function tFt(t,e,r,n,a){n===void 0&&(n=0),a===void 0&&(a=Ns.SUM_BY_NONZERO_WEIGHTS);var o=Re(t,"onehotLabels","softmaxCrossEntropy"),s=Re(e,"logits","softmaxCrossEntropy"),u=null;if(r!=null&&(u=Re(r,"weights","softmaxCrossEntropy")),Bf(o.shape,s.shape,"Error in softmaxCrossEntropy: "),n>0){var f=aa(n),l=aa(1),c=aa(o.shape[1]);o=no(Zr(o,$n(l,f)),fs(f,c))}var h=eFt(o,s);return Xh(h,u,a)}var rFt=Ze({softmaxCrossEntropy_:tFt});function nFt(t,e,r,n){var a=Re(t,"indices","sparseFillEmptyRows","int32"),o=Re(e,"values","sparseFillEmptyRows"),s=Re(r,"denseShape","sparseFillEmptyRows","int32"),u=Re(n,"defaultValue","sparseFillEmptyRows",o.dtype);if(a.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        `+a.shape);if(o.rank!==1)throw new Error("Values should be Tensor1D but received shape "+o.shape);if(s.rank!==1)throw new Error("Dense shape should be Tensor1D but received shape "+s.shape);if(u.rank!==0)throw new Error("Default value should be a scalar but received shape "+u.shape);var f={indices:a,values:o,denseShape:s,defaultValue:u},l=nt.runKernel($4t,f);return{outputIndices:l[0],outputValues:l[1],emptyRowIndicator:l[2],reverseIndexMap:l[3]}}var iFt=Ze({sparseFillEmptyRows_:nFt});function aFt(t,e,r){var n=Re(t,"inputIndices","sparseReshape","int32"),a=Re(e,"inputShape","sparseReshape","int32"),o=Re(r,"newShape","sparseReshape","int32");if(n.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        `+n.shape);if(a.rank!==1)throw new Error("Input shape should be Tensor1D but received shape "+a.shape);if(o.rank!==1)throw new Error("New shape should be Tensor1D but received shape "+o.shape);var s={inputIndices:n,inputShape:a,newShape:o},u=nt.runKernel(V4t,s);return{outputIndices:u[0],outputShape:u[1]}}var oFt=Ze({sparseReshape_:aFt});function sFt(t,e,r){var n=Re(t,"data","sparseSegmentMean"),a=Re(e,"indices","sparseSegmentMean","int32"),o=Re(r,"segmentIds","sparseSegmentMean","int32");if(n.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          `+a.shape);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          `+o.shape);var s={data:n,indices:a,segmentIds:o};return nt.runKernel(W4t,s)}var uFt=Ze({sparseSegmentMean_:sFt});function fFt(t,e,r){var n=Re(t,"data","sparseSegmentSum"),a=Re(e,"indices","sparseSegmentSum","int32"),o=Re(r,"segmentIds","sparseSegmentSum","int32");if(n.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         `+a.shape);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         `+o.shape);var s={data:n,indices:a,segmentIds:o};return nt.runKernel(G4t,s)}var lFt=Ze({sparseSegmentSum_:fFt});function cFt(t,e,r,n,a,o,s,u){var f=Re(t,"data","stringNGrams","string");if(f.dtype!=="string")throw new Error("Data must be of datatype string");if(f.shape.length!==1)throw new Error("Data must be a vector, saw: "+f.shape);var l=Re(e,"dataSplits","stringNGrams");if(l.dtype!=="int32")throw new Error("Data splits must be of datatype int32");var c={separator:r,nGramWidths:n,leftPad:a,rightPad:o,padWidth:s,preserveShortSequences:u},h={data:f,dataSplits:l},m=nt.runKernel(J4t,h,c);return{nGrams:m[0],nGramsSplits:m[1]}}var hFt=Ze({stringNGrams_:cFt});function pFt(t,e,r){r===void 0&&(r=!0);var n=Re(t,"input","stringSplit","string"),a=Re(e,"delimiter","stringSplit","string");if(n.rank!==1)throw new Error("Input should be Tensor1D but received shape "+n.shape);if(a.rank!==0)throw new Error("Delimiter should be a scalar but received shape "+a.shape);var o={skipEmpty:r},s={input:n,delimiter:a},u=nt.runKernel(Y4t,s,o);return{indices:u[0],values:u[1],shape:u[2]}}var dFt=Ze({stringSplit_:pFt});function mFt(t,e){var r=Re(t,"input","stringToHashBucketFast","string"),n={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");var a={input:r};return nt.runKernel(X4t,a,n)}var vFt=Ze({stringToHashBucketFast_:mFt});var gFt={fft:XL,ifft:v6,rfft:QL,irfft:sxe},yFt={hammingWindow:$Rt,hannWindow:hxe,frame:pxe,stft:HRt},bFt={flipLeftRight:YRt,grayscaleToRGB:QRt,resizeNearestNeighbor:A8t,resizeBilinear:E8t,rotateWithOffset:t8t,cropAndResize:ZRt,nonMaxSuppression:n8t,nonMaxSuppressionAsync:d8t,nonMaxSuppressionWithScore:v8t,nonMaxSuppressionWithScoreAsync:y8t,nonMaxSuppressionPadded:w8t,nonMaxSuppressionPaddedAsync:_8t,threshold:D8t,transform:I8t},wFt={bandPart:O8t,gramSchmidt:F8t,qr:L8t},xFt={absoluteDifference:z8t,computeWeightedLoss:Xh,cosineDistance:j8t,hingeLoss:V8t,huberLoss:G8t,logLoss:K8t,meanSquaredError:J8t,sigmoidCrossEntropy:Q8t,softmaxCrossEntropy:rFt},_Ft={sparseFillEmptyRows:iFt,sparseReshape:oFt,sparseSegmentMean:uFt,sparseSegmentSum:lFt},SFt={stringNGrams:hFt,stringSplit:dFt,stringToHashBucketFast:vFt};var zo={__proto__:null,abs:kf,acos:F6t,acosh:L6t,add:no,addN:z6t,all:j6t,any:V6t,argMax:G6t,argMin:K6t,asin:J6t,asinh:X6t,atan:ekt,atan2:rkt,atanh:ikt,avgPool:Rwe,avgPool3d:pkt,basicLSTMCell:_kt,batchToSpaceND:Fwe,batchNorm:b6,batchNorm2d:Nkt,batchNorm3d:Dkt,batchNorm4d:Ikt,bincount:Bwe,broadcastArgs:Rkt,broadcastTo:a6,buffer:Td,cast:_o,ceil:Lkt,clipByValue:qkt,clone:xb,complex:ov,concat:Hs,concat1d:jkt,concat2d:Vkt,concat3d:Gkt,concat4d:Kkt,conv1d:Ykt,conv2d:w6,conv2dTranspose:eIt,conv3d:rIt,conv3dTranspose:oIt,cos:uIt,cosh:lIt,cumprod:hIt,cumsum:dIt,denseBincount:vIt,depthToSpace:yIt,depthwiseConv2d:VL,diag:xIt,dilation2d:SIt,div:fs,divNoNan:IIt,dot:OIt,einsum:FIt,elu:zwe,equal:qwe,erf:PIt,euclideanNorm:KIt,exp:sv,expandDims:nv,expm1:XIt,eye:jwe,fill:HL,floor:$we,floorDiv:Pwe,gather:Vwe,greater:E6,greaterEqual:Wwe,imag:M6,isFinite:sCt,isInf:fCt,isNaN:cCt,leakyRelu:Gwe,less:dCt,lessEqual:KL,linspace:vCt,localResponseNormalization:yCt,log:sS,log1p:Hwe,logSigmoid:ECt,logSoftmax:NCt,logSumExp:Zwe,logicalAnd:d6,logicalNot:Jwe,logicalOr:Ywe,logicalXor:OCt,lowerBound:FCt,matMul:li,max:Sb,maxPool:Xwe,maxPool3d:PCt,maxPoolWithArgmax:zCt,maximum:jCt,mean:m6,meshgrid:VCt,min:DL,minimum:Qwe,mirrorPad:HCt,mod:ZCt,moments:YCt,mul:Zr,multiRNNCell:QCt,multinomial:tOt,neg:Jh,notEqual:exe,oneHot:iOt,ones:av,onesLike:oOt,outerProduct:uOt,pad:hS,pad1d:cOt,pad2d:pOt,pad3d:mOt,pad4d:gOt,pool:_Ot,pow:GL,prelu:rxe,print:EOt,prod:AOt,rand:TOt,randomGamma:jOt,randomNormal:nxe,randomStandardNormal:WOt,randomUniform:ixe,range:uS,real:fS,reciprocal:ZOt,relu:A6,relu6:axe,reshape:Rt,reverse:uv,reverse1d:e5t,reverse2d:r5t,reverse3d:i5t,reverse4d:o5t,round:oxe,rsqrt:f5t,scalar:aa,selu:c5t,separableConv2d:p5t,setdiff1dAsync:m5t,sigmoid:_b,sign:g5t,sin:b5t,sinh:x5t,slice:Ki,slice1d:S5t,slice2d:M5t,slice3d:N5t,slice4d:D5t,softmax:I5t,softplus:Kwe,spaceToBatchND:txe,fft:XL,ifft:v6,irfft:sxe,rfft:QL,split:lS,sqrt:kL,square:_6,squaredDifference:uxe,squeeze:eP,stack:cS,step:fxe,stridedSlice:j5t,sub:$n,sum:ji,tan:V5t,tanh:TL,tensor:tP,tensor1d:Dl,tensor2d:aS,tensor3d:W5t,tensor4d:G5t,tensor5d:H5t,tensor6d:K5t,tile:iS,topk:J5t,truncatedNormal:X5t,unique:eRt,unsortedSegmentSum:rRt,unstack:rP,upperBound:iRt,variable:aRt,where:Mb,whereAsync:lxe,zeros:Ab,zerosLike:WL,op:Ze,OP_SCOPE_SUFFIX:Owe,booleanMaskAsync:fRt,transpose:IL,norm:S6,movingAverage:dRt,scatterND:yRt,searchSorted:ZL,sparseToDense:xRt,gatherND:SRt,dropout:ARt,enclosingPowerOfTwo:cxe,cosineWindow:nP,inTopKAsync:TRt,image:bFt,linalg:wFt,losses:xFt,spectral:gFt,fused:URt,signal:yFt,sparse:_Ft,string:SFt};var EFt=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"BiasAdd":case"AddV2":case"Add":return[n.add(le("a",t,e,r),le("b",t,e,r))];case"AddN":return[n.addN(le("tensors",t,e,r))];case"FloorMod":case"Mod":return[n.mod(le("a",t,e,r),le("b",t,e,r))];case"Mul":return[n.mul(le("a",t,e,r),le("b",t,e,r))];case"RealDiv":case"Div":return[n.div(le("a",t,e,r),le("b",t,e,r))];case"DivNoNan":return[n.divNoNan(le("a",t,e,r),le("b",t,e,r))];case"FloorDiv":return[n.floorDiv(le("a",t,e,r),le("b",t,e,r))];case"Sub":return[n.sub(le("a",t,e,r),le("b",t,e,r))];case"Minimum":return[n.minimum(le("a",t,e,r),le("b",t,e,r))];case"Maximum":return[n.maximum(le("a",t,e,r),le("b",t,e,r))];case"Pow":return[n.pow(le("a",t,e,r),le("b",t,e,r))];case"SquaredDifference":return[n.squaredDifference(le("a",t,e,r),le("b",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}};var MFt=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"Abs":case"ComplexAbs":return[n.abs(le("x",t,e,r))];case"Acos":return[n.acos(le("x",t,e,r))];case"Acosh":return[n.acosh(le("x",t,e,r))];case"Asin":return[n.asin(le("x",t,e,r))];case"Asinh":return[n.asinh(le("x",t,e,r))];case"Atan":return[n.atan(le("x",t,e,r))];case"Atan2":return[n.atan2(le("x",t,e,r),le("y",t,e,r))];case"Atanh":return[n.atanh(le("x",t,e,r))];case"Ceil":return[n.ceil(le("x",t,e,r))];case"Complex":return[n.complex(le("real",t,e,r),le("imag",t,e,r))];case"Cos":return[n.cos(le("x",t,e,r))];case"Cosh":return[n.cosh(le("x",t,e,r))];case"Elu":return[n.elu(le("x",t,e,r))];case"Erf":return[n.erf(le("x",t,e,r))];case"Exp":return[n.exp(le("x",t,e,r))];case"Expm1":return[n.expm1(le("x",t,e,r))];case"Floor":return[n.floor(le("x",t,e,r))];case"Log":return[n.log(le("x",t,e,r))];case"Log1p":return[n.log1p(le("x",t,e,r))];case"Imag":return[n.imag(le("x",t,e,r))];case"Neg":return[n.neg(le("x",t,e,r))];case"Reciprocal":return[n.reciprocal(le("x",t,e,r))];case"Real":return[n.real(le("x",t,e,r))];case"Relu":return[n.relu(le("x",t,e,r))];case"Round":return[n.round(le("x",t,e,r))];case"Selu":return[n.selu(le("x",t,e,r))];case"Sigmoid":return[n.sigmoid(le("x",t,e,r))];case"Sin":return[n.sin(le("x",t,e,r))];case"Sign":return[n.sign(le("x",t,e,r))];case"Sinh":return[n.sinh(le("x",t,e,r))];case"Softplus":return[n.softplus(le("x",t,e,r))];case"Sqrt":return[n.sqrt(le("x",t,e,r))];case"Square":return[n.square(le("x",t,e,r))];case"Tanh":return[n.tanh(le("x",t,e,r))];case"Tan":return[n.tan(le("x",t,e,r))];case"ClipByValue":return[n.clipByValue(le("x",t,e,r),le("clipValueMin",t,e,r),le("clipValueMax",t,e,r))];case"Relu6":return[n.relu6(le("x",t,e,r))];case"Rsqrt":return[n.rsqrt(us(t.inputNames[0],e,r))];case"Prod":return[n.prod(le("x",t,e,r),le("axes",t,e,r))];case"LeakyRelu":return[n.leakyRelu(le("x",t,e,r),le("alpha",t,e,r))];case"Prelu":return[n.prelu(le("x",t,e,r),le("alpha",t,e,r))];case"IsNan":return[n.isNaN(us(t.inputNames[0],e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}};function If(t,e,r){if(r===void 0&&(r=""),!(typeof t=="number"||typeof e=="number")){ar.util.assert(t.length===e.length,function(){return r+(" Shapes "+t+" and "+e+" must match")});for(var n=0;n<t.length;n++){var a=t[n],o=e[n];ar.util.assert(a<0||o<0||a===o,function(){return r+(" Shapes "+t+" and "+e+" must match")})}}}function iwe(t){return!(typeof t=="number"||t.some(function(e){return e<0}))}function tS(t,e,r){var n=CL(t,r),a=!iwe(n);if(a&&e.length===0)throw new Error("Tried to calculate elements of an empty list"+(" with non-fully-defined elementShape: "+n));if(a&&e.forEach(function(o){n=CL(o.shape,n)}),!iwe(n))throw new Error("Non-fully-defined elementShape: "+n);return n}function CL(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error("Incompatible ranks during merge: "+t+" vs. "+e);for(var r=[],n=0;n<t.length;++n){var a=t[n],o=e[n];if(a>=0&&o>=0&&a!==o)throw new Error("Incompatible shape during merge: "+t+" vs. "+e);r[n]=a>=0?a:o}return r}var AFt=function(){function t(e,r,n,a,o,s,u){this.name=e,this.dtype=r,this.maxSize=n,this.elementShape=a,this.identicalElementShapes=o,this.dynamicSize=s,this.clearAfterRead=u,this.tensors=[],this.closed_=!1,this.idTensor=ar.scalar(0),ar.keep(this.idTensor)}return Object.defineProperty(t.prototype,"id",{get:function(){return this.idTensor.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closed",{get:function(){return this.closed_},enumerable:!0,configurable:!0}),t.prototype.clearAndClose=function(e){this.tensors.forEach(function(r){(e==null||!e.has(r.tensor.id))&&r.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()},t.prototype.size=function(){return this.tensors.length},t.prototype.read=function(e){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||e>=this.size())throw new Error("Tried to read from index "+e+", but array size is: "+this.size());var r=this.tensors[e];if(r.cleared)throw new Error("TensorArray "+this.name+": Could not read index "+e+" twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(r.cleared=!0),r.read=!0,r.tensor},t.prototype.readMany=function(e){var r=this;return e.map(function(n){return r.read(n)})},t.prototype.write=function(e,r){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index "+e+", but array is not resizeable and size is: "+this.maxSize);var n=this.tensors[e]||{};if(r.dtype!==this.dtype)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+`,
          because the value dtype is `+r.dtype+", but TensorArray dtype is "+this.dtype+".");if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=r.shape),If(this.elementShape,r.shape,"TensorArray "+this.name+": Could not write to TensorArray index "+e+"."),n.read)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been read.");if(n.written)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been written.");n.tensor=r,ar.keep(r),n.written=!0,this.tensors[e]=n},t.prototype.writeMany=function(e,r){var n=this;if(e.length!==r.length)throw new Error("TensorArray "+this.name+": could not write multiple tensors,"+("because the index size: "+e.length+" is not the same as tensors size: "+r.length+"."));e.forEach(function(a,o){return n.write(a,r[o])})},t.prototype.gather=function(e,r){if(!!r&&r!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but gather requested dtype "+r);if(e)e=e.slice(0,this.size());else{e=[];for(var n=0;n<this.size();n++)e.push(n)}if(e.length===0)return ar.tensor([],[0].concat(this.elementShape));var a=this.readMany(e);return If(this.elementShape,a[0].shape,"TensorArray shape mismatch: "),ar.stack(a,0)},t.prototype.concat=function(e){if(!!e&&e!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but concat requested dtype "+e);if(this.size()===0)return ar.tensor([],[0].concat(this.elementShape));for(var r=[],n=0;n<this.size();n++)r.push(n);var a=this.readMany(r);return If(this.elementShape,a[0].shape,"TensorArray shape mismatch: tensor array shape ("+this.elementShape+") vs first tensor shape ("+a[0].shape+")"),ar.concat(a,0)},t.prototype.scatter=function(e,r){if(r.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+r.dtype);if(e.length!==r.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+e.length+" vs. "+r.shape[0]);var n=Math.max.apply(Math,xo(e));if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size ("+n+"  vs. "+this.maxSize+")");this.writeMany(e,ar.unstack(r,0))},t.prototype.split=function(e,r){var n=this;if(r.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+r.dtype);var a=0,o=e.map(function(c){return a+=c,a});if(a!==r.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        `+a+", and tensor's shape is: "+r.shape);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths ("+this.maxSize+" vs. "+e.length+"), and the TensorArray is not marked as dynamically resizeable");var s=a===0?0:r.size/a,u=[];ar.tidy(function(){r=ar.reshape(r,[1,a,s]);for(var c=0;c<e.length;++c){var h=c===0?0:o[c-1],m=[0,h,0],g=[1,e[c],s];u[c]=ar.reshape(ar.slice(r,m,g),n.elementShape)}return u});for(var f=[],l=0;l<e.length;l++)f[l]=l;this.writeMany(f,u)},t}(),N6=function(){function t(e,r,n,a){a===void 0&&(a=-1),this.tensors=e,this.elementShape=r,this.elementDtype=n,e!=null&&e.forEach(function(o){if(n!==o.dtype)throw new Error("Invalid data types; op elements "+n+", but list elements "+o.dtype);If(r,o.shape,"TensorList shape mismatch: "),ar.keep(o)}),this.idTensor=ar.scalar(0),this.maxNumElements=a,ar.keep(this.idTensor)}return Object.defineProperty(t.prototype,"id",{get:function(){return this.idTensor.id},enumerable:!0,configurable:!0}),t.prototype.copy=function(){return new t(xo(this.tensors),this.elementShape,this.elementDtype)},t.prototype.clearAndClose=function(e){this.tensors.forEach(function(r){(e==null||!e.has(r.id))&&r.dispose()}),this.tensors.length=0,this.idTensor.dispose()},t.prototype.size=function(){return this.tensors.length},t.prototype.stack=function(e,r,n){var a=this;if(n===void 0&&(n=-1),r!==this.elementDtype)throw new Error("Invalid data types; op elements "+r+", but list elements "+this.elementDtype);if(n!==-1&&this.tensors.length!==n)throw new Error("Operation expected a list with "+n+" elements but got a list with "+this.tensors.length+" elements.");If(e,this.elementShape,"TensorList shape mismatch: ");var o=tS(this.elementShape,this.tensors,e);return ar.tidy(function(){var s=a.tensors.map(function(u){return ar.reshape(u,o)});return ar.stack(s,0)})},t.prototype.popBack=function(e,r){if(r!==this.elementDtype)throw new Error("Invalid data types; op elements "+r+", but list elements "+this.elementDtype);if(this.size()===0)throw new Error("Trying to pop from an empty list.");var n=tS(this.elementShape,this.tensors,e),a=this.tensors.pop();return If(a.shape,e,"TensorList shape mismatch: "),ar.reshape(a,n)},t.prototype.pushBack=function(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements "+e.dtype+", but list elements "+this.elementDtype);if(If(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");ar.keep(e),this.tensors.push(e)},t.prototype.resize=function(e){if(e<0)throw new Error("TensorListResize expects size to be non-negative. Got: "+e);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error("TensorListResize input size "+e+" is greater maxNumElement "+this.maxNumElements+".");var r=new t([],this.elementShape,this.elementDtype,this.maxNumElements);r.tensors.length=e;for(var n=0;n<Math.min(this.tensors.length,e);++n)r.tensors[n]=this.tensors[n];return r},t.prototype.getItem=function(e,r,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements "+n+", but list elements "+this.elementDtype);if(e<0||e>this.tensors.length)throw new Error("Trying to access element "+e+" in a list with "+this.tensors.length+" elements.");if(this.tensors[e]==null)throw new Error("element at index "+e+" is null.");If(this.tensors[e].shape,r,"TensorList shape mismatch: ");var a=tS(this.elementShape,this.tensors,r);return ar.reshape(this.tensors[e],a)},t.prototype.setItem=function(e,r){if(r.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements "+r.dtype+", but list elements "+this.elementDtype);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error("Trying to set element "+e+" in a list with max "+this.maxNumElements+" elements.");If(this.elementShape,r.shape,"TensorList shape mismatch: "),ar.keep(r),this.tensors[e]=r},t.prototype.gather=function(e,r,n){var a=this;if(r!==this.elementDtype)throw new Error("Invalid data types; op elements "+r+", but list elements "+this.elementDtype);If(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());var o=tS(this.elementShape,this.tensors,n);return e.length===0?ar.tensor([],[0].concat(o)):ar.tidy(function(){var s=e.map(function(u){return ar.reshape(a.tensors[u],o)});return ar.stack(s,0)})},t.prototype.concat=function(e,r){var n=this;if(!!e&&e!==this.elementDtype)throw new Error("TensorList dtype is "+this.elementDtype+" but concat requested dtype "+e);If(this.elementShape,r,"TensorList shape mismatch: ");var a=tS(this.elementShape,this.tensors,r);return this.size()===0?ar.tensor([],[0].concat(a)):ar.tidy(function(){var o=n.tensors.map(function(s){return ar.reshape(s,a)});return ar.concat(o,0)})},t}();function NFt(t,e,r){var n=t.dtype;if(t.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: "+t.shape);if(t.dtype!==r)throw new Error("Invalid data types; op elements "+t.dtype+", but list elements "+r);var a=t.shape.slice(1);If(a,e,"TensorList shape mismatch: ");var o=ar.unstack(t);return new N6(o,e,n)}function TFt(t,e,r,n){return new N6([],t,e,n)}function DFt(t,e,r,n){if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+e.length+" vs. "+t.shape[0]);var a=Math.max.apply(Math,xo(e));if(n!=null&&n!==-1&&a>=n)throw new Error("Max index must be < array size ("+a+"  vs. "+n+")");var o=new N6([],r,t.dtype,n),s=ar.unstack(t,0);return e.forEach(function(u,f){o.setItem(u,s[f])}),o}function kFt(t,e,r){var n=0,a=e.map(function(h){return n+=h,n});if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        `+n+", and tensor's shape is: "+t.shape);for(var o=t.shape.slice(1),s=CL(o,r),u=n===0?0:t.size/n,f=ar.tidy(function(){var h=[];t=ar.reshape(t,[1,n,u]);for(var m=0;m<e.length;++m){var g=m===0?0:a[m-1],b=[0,g,0],A=[1,e[m],u];h[m]=ar.reshape(ar.slice(t,b,A),s)}return t.dispose(),h}),l=new N6([],r,t.dtype,e.length),c=0;c<f.length;c++)l.setItem(c,f[c]);return l}var IFt=void 0,CFt=function(t,e,r){return yi(IFt,void 0,void 0,function(){var n,a,o,s,l,m,u,f,l,c,h,m,g,b,A,A,R,I,R,C,R,R,R,Se,O,ve,F,z,B,$,j,W,G,ge,T,p,Z,v,ne,fe,S,y,M,X,he,D,ue,k,xe,E,_e,be,d,N,U,q,P,se,G,ge,qe,se,Z,ve,Q,qe,X,he,ve,pe,qe,ve,ke,V,pe,K,qe,ne,fe,ve,ke,qe,se,ve,ke,pe,qe,Ie,ve,ke,qe,ue,qe,xe,ve,se,ge,qe,se,ve,Q,qe,_e,ve,be,qe,se,qe,se,Se,Ke,J;return ci(this,function(H){switch(H.label){case 0:switch(n=t.op,n){case"If":return[3,1];case"StatelessIf":return[3,1];case"While":return[3,3];case"StatelessWhile":return[3,3];case"LoopCond":return[3,9];case"Switch":return[3,10];case"Merge":return[3,12];case"Enter":return[3,13];case"Exit":return[3,14];case"NextIteration":return[3,15];case"TensorArrayV3":return[3,16];case"TensorArrayWriteV3":return[3,17];case"TensorArrayReadV3":return[3,18];case"TensorArrayGatherV3":return[3,19];case"TensorArrayScatterV3":return[3,20];case"TensorArrayConcatV3":return[3,21];case"TensorArraySplitV3":return[3,22];case"TensorArraySizeV3":return[3,23];case"TensorArrayCloseV3":return[3,24];case"TensorListSetItem":return[3,25];case"TensorListGetItem":return[3,26];case"TensorListScatterV2":return[3,27];case"TensorListScatter":return[3,27];case"TensorListReserve":return[3,28];case"EmptyTensorList":return[3,28];case"TensorListGather":return[3,29];case"TensorListStack":return[3,30];case"TensorListFromTensor":return[3,31];case"TensorListConcat":return[3,32];case"TensorListConcatV2":return[3,32];case"TensorListPushBack":return[3,33];case"TensorListPopBack":return[3,34];case"TensorListSplit":return[3,35];case"TensorListLength":return[3,36];case"TensorListResize":return[3,37]}return[3,38];case 1:return a=le("thenBranch",t,e,r),o=le("elseBranch",t,e,r),s=le("cond",t,e,r),l=le("args",t,e,r),[4,s.data()];case 2:return m=H.sent(),m[0]?[2,r.functionMap[a].executeFunctionAsync(l,r.tensorArrayMap,r.tensorListMap)]:[2,r.functionMap[o].executeFunctionAsync(l,r.tensorArrayMap,r.tensorListMap)];case 3:return u=le("body",t,e,r),f=le("cond",t,e,r),l=le("args",t,e,r),[4,r.functionMap[f].executeFunctionAsync(l,r.tensorArrayMap,r.tensorListMap)];case 4:return c=H.sent(),h=l.map(function(Y){return Y.id}),[4,c[0].data()];case 5:m=H.sent(),c.forEach(function(Y){!Y.kept&&h.indexOf(Y.id)===-1&&Y.dispose()}),g=l,b=function(){var Y,oe,Me;return ci(this,function(Ge){switch(Ge.label){case 0:return Y=g,[4,r.functionMap[u].executeFunctionAsync(g,r.tensorArrayMap,r.tensorListMap)];case 1:return g=Ge.sent(),oe=g.map(function(Ce){return Ce.id}),Y.forEach(function(Ce){!Ce.kept&&h.indexOf(Ce.id)===-1&&oe.indexOf(Ce.id)===-1&&Ce.dispose()}),[4,r.functionMap[f].executeFunctionAsync(g,r.tensorArrayMap,r.tensorListMap)];case 2:return Me=Ge.sent(),[4,Me[0].data()];case 3:return m=Ge.sent(),Me.forEach(function(Ce){!Ce.kept&&h.indexOf(Ce.id)===-1&&oe.indexOf(Ce.id)===-1&&Ce.dispose()}),[2]}})},H.label=6;case 6:return m[0]?[5,b()]:[3,8];case 7:return H.sent(),[3,6];case 8:return[2,g];case 9:return A=le("pred",t,e,r),[2,[Zh(A)]];case 10:return A=le("pred",t,e,r),R=le("data",t,e,r),R.kept||(R=Zh(R)),[4,A.data()];case 11:return[2,H.sent()[0]?[void 0,R]:[R,void 0]];case 12:return I=t.inputNames.find(function(Y){return us(Y,e,r)!==void 0}),I?(R=us(I,e,r),[2,[Zh(R)]]):[2,void 0];case 13:return C=le("frameName",t,e,r),R=le("tensor",t,e,r),r.enterFrame(C),[2,[Zh(R)]];case 14:return R=le("tensor",t,e,r),r.exitFrame(),[2,[Zh(R)]];case 15:return R=le("tensor",t,e,r),r.nextIteration(),[2,[Zh(R)]];case 16:return Se=le("size",t,e,r),O=le("dtype",t,e,r),ve=le("elementShape",t,e,r),F=le("dynamicSize",t,e,r),z=le("clearAfterRead",t,e,r),B=le("identicalElementShapes",t,e,r),$=le("name",t,e,r),j=new AFt($,O,Se,ve,B,F,z),r.addTensorArray(j),[2,[j.idTensor,ar.scalar(1)]];case 17:return W=le("tensorArrayId",t,e,r),G=le("index",t,e,r),ge=le("tensor",t,e,r),T=r.getTensorArray(W.id),T.write(G,ge),[2,[T.idTensor]];case 18:return p=le("tensorArrayId",t,e,r),Z=le("index",t,e,r),v=r.getTensorArray(p.id),[2,[v.read(Z)]];case 19:return ne=le("tensorArrayId",t,e,r),fe=le("indices",t,e,r),S=le("dtype",t,e,r),y=r.getTensorArray(ne.id),[2,[y.gather(fe,S)]];case 20:return M=le("tensorArrayId",t,e,r),X=le("indices",t,e,r),he=le("tensor",t,e,r),D=r.getTensorArray(M.id),D.scatter(X,he),[2,[D.idTensor]];case 21:return ue=le("tensorArrayId",t,e,r),k=r.getTensorArray(ue.id),xe=le("dtype",t,e,r),[2,[k.concat(xe)]];case 22:return E=le("tensorArrayId",t,e,r),_e=le("tensor",t,e,r),be=le("lengths",t,e,r),d=r.getTensorArray(E.id),d.split(be,_e),[2,[d.idTensor]];case 23:return N=le("tensorArrayId",t,e,r),U=r.getTensorArray(N.id),[2,[ar.scalar(U.size(),"int32")]];case 24:return q=le("tensorArrayId",t,e,r),P=r.getTensorArray(q.id),P.clearAndClose(),[2,[P.idTensor]];case 25:return se=le("tensorListId",t,e,r),G=le("index",t,e,r),ge=le("tensor",t,e,r),qe=r.getTensorList(se.id),qe.setItem(G,ge),[2,[qe.idTensor]];case 26:return se=le("tensorListId",t,e,r),Z=le("index",t,e,r),ve=le("elementShape",t,e,r),Q=le("elementDType",t,e,r),qe=r.getTensorList(se.id),[2,[qe.getItem(Z,ve,Q)]];case 27:return X=le("indices",t,e,r),he=le("tensor",t,e,r),ve=le("elementShape",t,e,r),pe=le("numElements",t,e,r),qe=DFt(he,X,ve,pe),r.addTensorList(qe),[2,[qe.idTensor]];case 28:return ve=le("elementShape",t,e,r),ke=le("elementDType",t,e,r),V=void 0,t.op==="TensorListReserve"?V="numElements":V="maxNumElements",pe=le(V,t,e,r),K=t.op==="TensorListReserve"?-1:pe,qe=TFt(ve,ke,pe,K),r.addTensorList(qe),[2,[qe.idTensor]];case 29:return ne=le("tensorListId",t,e,r),fe=le("indices",t,e,r),ve=le("elementShape",t,e,r),ke=le("elementDType",t,e,r),qe=r.getTensorList(ne.id),[2,[qe.gather(fe,ke,ve)]];case 30:return se=le("tensorListId",t,e,r),ve=le("elementShape",t,e,r),ke=le("elementDType",t,e,r),pe=le("numElements",t,e,r),qe=r.getTensorList(se.id),[2,[qe.stack(ve,ke,pe)]];case 31:return Ie=le("tensor",t,e,r),ve=le("elementShape",t,e,r),ke=le("elementDType",t,e,r),qe=NFt(Ie,ve,ke),r.addTensorList(qe),[2,[qe.idTensor]];case 32:return ue=le("tensorListId",t,e,r),qe=r.getTensorList(ue.id),xe=le("dtype",t,e,r),ve=le("elementShape",t,e,r),[2,[qe.concat(xe,ve)]];case 33:return se=le("tensorListId",t,e,r),ge=le("tensor",t,e,r),qe=r.getTensorList(se.id),qe.pushBack(ge),[2,[qe.idTensor]];case 34:return se=le("tensorListId",t,e,r),ve=le("elementShape",t,e,r),Q=le("elementDType",t,e,r),qe=r.getTensorList(se.id),[2,[qe.popBack(ve,Q)]];case 35:return _e=le("tensor",t,e,r),ve=le("elementShape",t,e,r),be=le("lengths",t,e,r),qe=kFt(_e,be,ve),r.addTensorList(qe),[2,[qe.idTensor]];case 36:return se=le("tensorListId",t,e,r),qe=r.getTensorList(se.id),[2,[ar.scalar(qe.size(),"int32")]];case 37:return se=le("tensorListId",t,e,r),Se=le("size",t,e,r),Ke=r.getTensorList(se.id),J=Ke.resize(Se),r.addTensorList(J),[2,[J.idTensor]];case 38:throw TypeError("Node type "+t.op+" is not implemented")}})})};function awe(t,e,r){var n=nr(le("fusedOps",t,e,r),2),a=n[0],o=n[1],s=a==="biasadd",u=!s,f=o==="prelu",l=a==="fusedbatchnorm",c=le("numArgs",t,e,r);if(s){if(f&&c!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!f&&s&&c!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var h=le("strides",t,e,r),m=r6(t,e,r),g=le("dataFormat",t,e,r).toUpperCase(),b=le("dilations",t,e,r),A=nr(le("args",t,e,r),2),I=A[0],C=A[1];u&&(C=I,I=void 0);var R=le("leakyreluAlpha",t,e,r);return{stride:h,pad:m,dataFormat:g,dilations:b,biasArg:I,preluArg:C,activationFunc:o,leakyreluAlpha:R}}var OFt=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"Conv1D":{var a=le("stride",t,e,r),o=le("pad",t,e,r),s=le("dataFormat",t,e,r).toUpperCase(),u=le("dilation",t,e,r);return[n.conv1d(le("x",t,e,r),le("filter",t,e,r),a,o,s,u)]}case"Conv2D":{var a=le("strides",t,e,r),o=r6(t,e,r),s=le("dataFormat",t,e,r).toUpperCase(),f=le("dilations",t,e,r);return[n.conv2d(le("x",t,e,r),le("filter",t,e,r),[a[1],a[2]],o,s,[f[1],f[2]])]}case"_FusedConv2D":{var l=awe(t,e,r),a=l.stride,o=l.pad,s=l.dataFormat,f=l.dilations,c=l.biasArg,h=l.preluArg,m=l.activationFunc,g=l.leakyreluAlpha;return[n.fused.conv2d({x:le("x",t,e,r),filter:le("filter",t,e,r),strides:[a[1],a[2]],pad:o,dataFormat:s,dilations:[f[1],f[2]],bias:c,activation:m,preluActivationWeights:h,leakyreluAlpha:g})]}case"FusedDepthwiseConv2dNative":{var b=awe(t,e,r),a=b.stride,o=b.pad,s=b.dataFormat,f=b.dilations,c=b.biasArg,h=b.preluArg,m=b.activationFunc,g=b.leakyreluAlpha;return[n.fused.depthwiseConv2d({x:le("x",t,e,r),filter:le("filter",t,e,r),strides:[a[1],a[2]],pad:o,dataFormat:s,dilations:[f[1],f[2]],bias:c,activation:m,preluActivationWeights:h,leakyreluAlpha:g})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{var A=le("outputShape",t,e,r),a=le("strides",t,e,r),o=r6(t,e,r);return[n.conv2dTranspose(le("x",t,e,r),le("filter",t,e,r),A,[a[1],a[2]],o)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{var a=le("strides",t,e,r),o=r6(t,e,r),f=le("dilations",t,e,r),s=le("dataFormat",t,e,r).toUpperCase();return[n.depthwiseConv2d(le("input",t,e,r),le("filter",t,e,r),[a[1],a[2]],o,s,[f[1],f[2]])]}case"Conv3D":{var a=le("strides",t,e,r),o=le("pad",t,e,r),s=le("dataFormat",t,e,r).toUpperCase(),f=le("dilations",t,e,r);return[n.conv3d(le("x",t,e,r),le("filter",t,e,r),[a[1],a[2],a[3]],o,s,[f[1],f[2],f[3]])]}case"AvgPool":{var a=le("strides",t,e,r),o=le("pad",t,e,r),I=le("kernelSize",t,e,r);return[n.avgPool(le("x",t,e,r),[I[1],I[2]],[a[1],a[2]],o)]}case"MaxPool":{var a=le("strides",t,e,r),o=le("pad",t,e,r),I=le("kernelSize",t,e,r);return[n.maxPool(le("x",t,e,r),[I[1],I[2]],[a[1],a[2]],o)]}case"MaxPoolWithArgmax":{var a=le("strides",t,e,r),o=le("pad",t,e,r),I=le("kernelSize",t,e,r),C=le("includeBatchInIndex",t,e,r),R=n.maxPoolWithArgmax(le("x",t,e,r),[I[1],I[2]],[a[1],a[2]],o,C),O=R.result,F=R.indexes;return[O,F]}case"AvgPool3D":{var a=le("strides",t,e,r),o=le("pad",t,e,r),I=le("kernelSize",t,e,r);return[n.avgPool3d(le("x",t,e,r),[I[1],I[2],I[3]],[a[1],a[2],a[3]],o)]}case"MaxPool3D":{var a=le("strides",t,e,r),o=le("pad",t,e,r),I=le("kernelSize",t,e,r);return[n.maxPool3d(le("x",t,e,r),[I[1],I[2],I[3]],[a[1],a[2],a[3]],o)]}case"Dilation2D":{var z=le("strides",t,e,r),o=le("pad",t,e,r),f=le("dilations",t,e,r),B=z[1],$=z[2],j=f[1],W=f[2];return[n.dilation2d(le("x",t,e,r),le("filter",t,e,r),[B,$],o,[j,W],"NHWC")]}default:throw TypeError("Node type "+t.op+" is not implemented")}};var RFt=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"Fill":{var a=le("shape",t,e,r),o=le("dtype",t,e,r),s=le("value",t,e,r);return[n.fill(a,s,o)]}case"LinSpace":{var u=le("start",t,e,r),f=le("stop",t,e,r),l=le("num",t,e,r);return[n.linspace(u,f,l)]}case"Multinomial":{var c=le("logits",t,e,r),h=le("numSamples",t,e,r),m=le("seed",t,e,r);return[n.multinomial(c,h,m)]}case"OneHot":{var g=le("indices",t,e,r),b=le("depth",t,e,r),A=le("onValue",t,e,r),I=le("offValue",t,e,r);return[n.oneHot(g,b,A,I)]}case"Ones":return[n.ones(le("shape",t,e,r),le("dtype",t,e,r))];case"OnesLike":return[n.onesLike(le("x",t,e,r))];case"RandomStandardNormal":return[n.randomStandardNormal(le("shape",t,e,r),le("dtype",t,e,r),le("seed",t,e,r))];case"RandomUniform":return[n.randomUniform(le("shape",t,e,r),le("minval",t,e,r),le("maxval",t,e,r),le("dtype",t,e,r))];case"Range":{var u=le("start",t,e,r),f=le("stop",t,e,r),C=le("step",t,e,r);return[n.range(u,f,C,le("dtype",t,e,r))]}case"TruncatedNormal":{var a=le("shape",t,e,r),R=le("mean",t,e,r),O=le("stdDev",t,e,r),m=le("seed",t,e,r);return[n.truncatedNormal(a,R,O,le("dtype",t,e,r),m)]}case"Zeros":return[n.zeros(le("shape",t,e,r),le("dtype",t,e,r))];case"ZerosLike":return[n.zerosLike(le("x",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}},FFt=void 0;function sL(t,e,r){var n=le("boxes",t,e,r),a=le("scores",t,e,r),o=le("maxOutputSize",t,e,r),s=le("iouThreshold",t,e,r),u=le("scoreThreshold",t,e,r),f=le("softNmsSigma",t,e,r);return{boxes:n,scores:a,maxOutputSize:o,iouThreshold:s,scoreThreshold:u,softNmsSigma:f}}var BFt=function(t,e,r,n,a){return a===void 0&&(a=zo),yi(FFt,void 0,void 0,function(){var o,s,h,m,g,b,A,u,C,f,h,m,g,b,A,l,C,c,h,m,g,b,A,I,C;return ci(this,function(R){switch(R.label){case 0:switch(o=t.op,o){case"NonMaxSuppressionV5":return[3,1];case"NonMaxSuppressionV4":return[3,3];case"NonMaxSuppressionV3":return[3,5];case"NonMaxSuppressionV2":return[3,5];case"Where":return[3,7];case"ListDiff":return[3,9]}return[3,10];case 1:return s=sL(t,e,r),h=s.boxes,m=s.scores,g=s.maxOutputSize,b=s.iouThreshold,A=s.scoreThreshold,u=s.softNmsSigma,[4,a.image.nonMaxSuppressionWithScoreAsync(h,m,g,b,A,u)];case 2:return C=R.sent(),[2,[C.selectedIndices,C.selectedScores]];case 3:return f=sL(t,e,r),h=f.boxes,m=f.scores,g=f.maxOutputSize,b=f.iouThreshold,A=f.scoreThreshold,l=le("padToMaxOutputSize",t,e,r),[4,a.image.nonMaxSuppressionPaddedAsync(h,m,g,b,A,l)];case 4:return C=R.sent(),[2,[C.selectedIndices,C.validOutputs]];case 5:return c=sL(t,e,r),h=c.boxes,m=c.scores,g=c.maxOutputSize,b=c.iouThreshold,A=c.scoreThreshold,[4,a.image.nonMaxSuppressionAsync(h,m,g,b,A)];case 6:return[2,[R.sent()]];case 7:return I=a.cast(le("condition",t,e,r),"bool"),[4,a.whereAsync(I)];case 8:return C=[R.sent()],I.dispose(),[2,C];case 9:return[2,a.setdiff1dAsync(le("x",t,e,r),le("y",t,e,r))];case 10:throw TypeError("Node type "+t.op+" is not implemented")}})})};var LFt=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"LowerBound":{var a=le("sortedSequence",t,e,r),o=le("values",t,e,r);return[n.lowerBound(a,o)]}case"TopKV2":{var s=le("x",t,e,r),u=le("k",t,e,r),f=le("sorted",t,e,r),l=n.topk(s,u,f);return[l.values,l.indices]}case"UpperBound":{var a=le("sortedSequence",t,e,r),o=le("values",t,e,r);return[n.upperBound(a,o)]}case"Unique":{var s=le("x",t,e,r),l=n.unique(s);return[l.values,l.indices]}case"UniqueV2":{var s=le("x",t,e,r),c=le("axis",t,e,r),l=n.unique(s,c);return[l.values,l.indices]}default:throw TypeError("Node type "+t.op+" is not implemented")}};var PFt=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":var a=le("default",t,e,r);return[us(t.name,e,r)||a];case"Placeholder":return[us(t.name,e,r)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{var o=le("x",t,e,r);return[Zh(o)]}case"IdentityN":return le("x",t,e,r).map(function(m){return Zh(m)});case"Snapshot":var s=le("x",t,e,r);return[Zh(s)];case"Shape":return[n.tensor1d(le("x",t,e,r).shape,"int32")];case"ShapeN":return le("x",t,e,r).map(function(m){return n.tensor1d(m.shape)});case"Size":return[n.scalar(le("x",t,e,r).size,"int32")];case"Rank":return[n.scalar(le("x",t,e,r).rank,"int32")];case"NoOp":return[n.scalar(1)];case"Print":var u=le("x",t,e,r),f=le("data",t,e,r),l=le("message",t,e,r),c=le("summarize",t,e,r);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(var h=0;h<f.length;h++)console.log(Array.prototype.slice.call(f[h].dataSync()).slice(0,c));return[u];default:throw TypeError("Node type "+t.op+" is not implemented")}},qFt=function(){function t(e,r){this.keyDType=e,this.valueDType=r,this.handle=ar.scalar(0),this.tensorMap=new Map,ar.keep(this.handle)}return Object.defineProperty(t.prototype,"id",{get:function(){return this.handle.id},enumerable:!0,configurable:!0}),t.prototype.clearAndClose=function(){this.tensorMap.forEach(function(e){return e.dispose()}),this.tensorMap.clear(),this.handle.dispose()},t.prototype.size=function(){return this.tensorMap.size},t.prototype.tensorSize=function(){return aa(this.size(),"int32")},t.prototype.import=function(e,r){return yi(this,void 0,void 0,function(){var n,a=this;return ci(this,function(o){switch(o.label){case 0:return this.checkKeyAndValueTensor(e,r),[4,e.data()];case 1:return n=o.sent(),this.tensorMap.forEach(function(s){return s.dispose()}),this.tensorMap.clear(),[2,ar.tidy(function(){var s=ar.unstack(r),u=n.length,f=s.length;ar.util.assert(u===f,function(){return"The number of elements doesn't match, keys has "+(u+" elements, the values has "+f+" ")+"elements."});for(var l=0;l<u;l++){var c=n[l],h=s[l];ar.keep(h),a.tensorMap.set(c,h)}return a.handle})]}})})},t.prototype.find=function(e,r){return yi(this,void 0,void 0,function(){var n,a=this;return ci(this,function(o){switch(o.label){case 0:return this.checkKeyAndValueTensor(e,r),[4,e.data()];case 1:return n=o.sent(),[2,ar.tidy(function(){for(var s=[],u=0;u<n.length;u++){var f=n[u],l=a.findWithDefault(f,r);s.push(l)}return ar.stack(s)})]}})})},t.prototype.findWithDefault=function(e,r){var n=this.tensorMap.get(e);return n!=null?n:r},t.prototype.checkKeyAndValueTensor=function(e,r){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype "+this.keyDType+", but got "+(""+e.dtype));if(r.dtype!==this.valueDType)throw new Error("Expect value dtype "+this.valueDType+", but got "+(""+r.dtype))},t}(),zFt=void 0,UFt=function(t,e,r,n){return yi(zFt,void 0,void 0,function(){var a,o,s,h,c,f,u,h,c,f,l,h,c,h;return ci(this,function(m){switch(m.label){case 0:switch(a=t.op,a){case"HashTable":return[3,1];case"HashTableV2":return[3,1];case"LookupTableImport":return[3,2];case"LookupTableImportV2":return[3,2];case"LookupTableFind":return[3,4];case"LookupTableFindV2":return[3,4];case"LookupTableSize":return[3,6];case"LookupTableSizeV2":return[3,6]}return[3,7];case 1:return o=le("keyDType",t,e,r),s=le("valueDType",t,e,r),h=new qFt(o,s),n.addHashTable(t.name,h),[2,[h.handle]];case 2:return c=le("tableHandle",t,e,r,n),f=le("keys",t,e,r),u=le("values",t,e,r),h=n.getHashTableById(c.id),[4,h.import(f,u)];case 3:return[2,[m.sent()]];case 4:return c=le("tableHandle",t,e,r,n),f=le("keys",t,e,r),l=le("defaultValue",t,e,r),h=n.getHashTableById(c.id),[4,h.find(f,l)];case 5:return[2,[m.sent()]];case 6:return c=le("tableHandle",t,e,r,n),h=n.getHashTableById(c.id),[2,[h.tensorSize()]];case 7:throw TypeError("Node type "+t.op+" is not implemented")}})})};var jFt=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"ResizeBilinear":{var a=le("images",t,e,r),o=le("size",t,e,r),s=le("alignCorners",t,e,r),u=le("halfPixelCenters",t,e,r);return[n.image.resizeBilinear(a,[o[0],o[1]],s,u)]}case"ResizeNearestNeighbor":{var a=le("images",t,e,r),o=le("size",t,e,r),s=le("alignCorners",t,e,r),u=le("halfPixelCenters",t,e,r);return[n.image.resizeNearestNeighbor(a,[o[0],o[1]],s,u)]}case"CropAndResize":{var f=le("image",t,e,r),l=le("boxes",t,e,r),c=le("boxInd",t,e,r),h=le("cropSize",t,e,r),m=le("method",t,e,r),g=le("extrapolationValue",t,e,r);return[n.image.cropAndResize(f,l,c,h,m,g)]}case"ImageProjectiveTransformV3":{var a=le("images",t,e,r),b=le("transforms",t,e,r),A=le("outputShape",t,e,r),I=le("fillValue",t,e,r),C=le("interpolation",t,e,r),R=le("fillMode",t,e,r);return[n.image.transform(a,b,C.toLowerCase(),R.toLowerCase(),I,A)]}default:throw TypeError("Node type "+t.op+" is not implemented")}};var $Ft=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"Equal":return[n.equal(le("a",t,e,r),le("b",t,e,r))];case"NotEqual":return[n.notEqual(le("a",t,e,r),le("b",t,e,r))];case"Greater":return[n.greater(le("a",t,e,r),le("b",t,e,r))];case"GreaterEqual":return[n.greaterEqual(le("a",t,e,r),le("b",t,e,r))];case"Less":return[n.less(le("a",t,e,r),le("b",t,e,r))];case"LessEqual":return[n.lessEqual(le("a",t,e,r),le("b",t,e,r))];case"LogicalAnd":return[n.logicalAnd(le("a",t,e,r),le("b",t,e,r))];case"LogicalNot":return[n.logicalNot(le("a",t,e,r))];case"LogicalOr":return[n.logicalOr(le("a",t,e,r),le("b",t,e,r))];case"Select":case"SelectV2":return[n.where(le("condition",t,e,r),le("a",t,e,r),le("b",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}},VFt=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[n.matMul(le("a",t,e,r),le("b",t,e,r),le("transposeA",t,e,r),le("transposeB",t,e,r))];case"Einsum":return[n.einsum.apply(n,xo([le("equation",t,e,r)],le("tensors",t,e,r)))];case"Transpose":return[n.transpose(le("x",t,e,r),le("perm",t,e,r))];case"_FusedMatMul":var a=nr(le("fusedOps",t,e,r),2),o=a[0],s=a[1],u=o==="biasadd",f=s==="prelu",l=le("numArgs",t,e,r),c=le("leakyreluAlpha",t,e,r);if(u){if(f&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!f&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var h=nr(le("args",t,e,r),2),m=h[0],g=h[1];return[n.fused.matMul({a:le("a",t,e,r),b:le("b",t,e,r),transposeA:le("transposeA",t,e,r),transposeB:le("transposeB",t,e,r),bias:m,activation:s,preluActivationWeights:g,leakyreluAlpha:c})];default:throw TypeError("Node type "+t.op+" is not implemented")}};var WFt=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"EuclideanNorm":return[n.euclideanNorm(le("x",t,e,r),le("axis",t,e,r),le("keepDims",t,e,r))];case"FusedBatchNorm":case"FusedBatchNormV2":return[n.batchNorm(le("x",t,e,r),le("mean",t,e,r),le("variance",t,e,r),le("offset",t,e,r),le("scale",t,e,r),le("epsilon",t,e,r))];case"FusedBatchNormV3":return[n.batchNorm(le("x",t,e,r),le("mean",t,e,r),le("variance",t,e,r),le("offset",t,e,r),le("scale",t,e,r),le("epsilon",t,e,r))];case"LRN":return[n.localResponseNormalization(le("x",t,e,r),le("radius",t,e,r),le("bias",t,e,r),le("alpha",t,e,r),le("beta",t,e,r))];case"Softmax":return[n.softmax(le("x",t,e,r))];case"LogSoftmax":return[n.logSoftmax(le("x",t,e,r))];case"SparseToDense":return[n.sparseToDense(le("sparseIndices",t,e,r),le("outputShape",t,e,r),le("sparseValues",t,e,r),le("defaultValue",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}};var GFt=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"Max":{var a=le("axis",t,e,r),o=le("keepDims",t,e,r);return[n.max(le("x",t,e,r),a,o)]}case"Mean":{var a=le("axis",t,e,r),o=le("keepDims",t,e,r);return[n.mean(le("x",t,e,r),a,o)]}case"Min":{var a=le("axis",t,e,r),o=le("keepDims",t,e,r);return[n.min(le("x",t,e,r),a,o)]}case"Sum":{var a=le("axis",t,e,r),o=le("keepDims",t,e,r);return[n.sum(le("x",t,e,r),a,o)]}case"All":{var a=le("axis",t,e,r),o=le("keepDims",t,e,r);return[n.all(le("x",t,e,r),a,o)]}case"Any":{var a=le("axis",t,e,r),o=le("keepDims",t,e,r);return[n.any(le("x",t,e,r),a,o)]}case"ArgMax":{var a=le("axis",t,e,r);return[n.argMax(le("x",t,e,r),a)]}case"ArgMin":{var a=le("axis",t,e,r);return[n.argMin(le("x",t,e,r),a)]}case"Prod":{var a=le("axis",t,e,r),o=le("keepDims",t,e,r);return[n.prod(le("x",t,e,r),a,o)]}case"Cumprod":{var a=le("axis",t,e,r),s=le("exclusive",t,e,r),u=le("reverse",t,e,r);return[n.cumprod(le("x",t,e,r),a,s,u)]}case"Cumsum":{var a=le("axis",t,e,r),s=le("exclusive",t,e,r),u=le("reverse",t,e,r);return[n.cumsum(le("x",t,e,r),a,s,u)]}case"Bincount":var f=le("x",t,e,r),l=le("weights",t,e,r),c=le("size",t,e,r);return[n.bincount(f,l,c)];case"DenseBincount":{var h=le("x",t,e,r),m=le("weights",t,e,r),g=le("size",t,e,r),b=le("binaryOutput",t,e,r);return[n.denseBincount(h,m,g,b)]}default:throw TypeError("Node type "+t.op+" is not implemented")}};var HFt=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"ConcatV2":case"Concat":{var a=le("n",t,e,r),o=le("axis",t,e,r),s=le("tensors",t,e,r);return s=s.slice(0,a),[n.concat(s,o)]}case"Gather":{var u=le("x",t,e,r),f=le("indices",t,e,r);return[n.gather(u,n.cast(f,"int32"),0)]}case"GatherV2":{var o=le("axis",t,e,r),l=le("batchDims",t,e,r),u=le("x",t,e,r),f=le("indices",t,e,r);return[n.gather(u,n.cast(f,"int32"),o,l)]}case"Reverse":{for(var c=le("dims",t,e,r),o=[],h=0;h<c.length;h++)c[h]&&o.push(h);var u=le("x",t,e,r);return[n.reverse(u,o)]}case"ReverseV2":{var o=le("axis",t,e,r),u=le("x",t,e,r);return[n.reverse(u,o)]}case"Slice":{var m=le("begin",t,e,r),g=le("size",t,e,r);return[n.slice(le("x",t,e,r),m,g)]}case"StridedSlice":{var m=le("begin",t,e,r),b=le("end",t,e,r),A=le("strides",t,e,r),I=le("beginMask",t,e,r),C=le("endMask",t,e,r),R=le("ellipsisMask",t,e,r),O=le("newAxisMask",t,e,r),F=le("shrinkAxisMask",t,e,r),z=le("x",t,e,r);return[n.stridedSlice(z,m,b,A,I,C,R,O,F)]}case"Pack":return ar.tidy(function(){var S=le("axis",t,e,r),y=le("tensors",t,e,r),M=y[0].shape,D=n.squeeze(y[0]).shape,k=y.map(function(E){var d=ar.util.arraysEqual(E.shape,M);if(!d&&!ar.util.arraysEqual(n.squeeze(E).shape,D))throw new Error("the input tensors shape does not match");return d?E:n.reshape(E,M)});return[n.stack(k,S)]});case"Unpack":{var o=le("axis",t,e,r),z=le("tensor",t,e,r);return n.unstack(z,o)}case"Tile":{var B=le("reps",t,e,r);return[n.tile(le("x",t,e,r),B)]}case"Split":case"SplitV":{var o=le("axis",t,e,r),$=le("numOrSizeSplits",t,e,r),z=le("x",t,e,r);return n.split(z,$,o)}case"ScatterNd":{var f=le("indices",t,e,r),j=le("values",t,e,r),W=le("shape",t,e,r);return[n.scatterND(f,j,W)]}case"GatherNd":{var T=le("x",t,e,r),f=le("indices",t,e,r);return[n.gatherND(T,f)]}case"SparseToDense":{var f=le("sparseIndices",t,e,r),W=le("outputShape",t,e,r),p=le("sparseValues",t,e,r),v=le("defaultValue",t,e,r);return[n.sparseToDense(f,p,W,p.dtype===v.dtype?v:n.cast(v,p.dtype))]}default:throw TypeError("Node type "+t.op+" is not implemented")}};var KFt=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"SparseFillEmptyRows":{var a=n.sparse.sparseFillEmptyRows(le("indices",t,e,r),le("values",t,e,r),le("denseShape",t,e,r),le("defaultValue",t,e,r)),o=a.outputIndices,s=a.outputValues,u=a.emptyRowIndicator,f=a.reverseIndexMap;return[o,s,u,f]}case"SparseReshape":{var l=n.sparse.sparseReshape(le("inputIndices",t,e,r),le("inputShape",t,e,r),le("newShape",t,e,r)),o=l.outputIndices,c=l.outputShape;return[o,c]}case"SparseSegmentMean":{var h=n.sparse.sparseSegmentMean(le("data",t,e,r),le("indices",t,e,r),le("segmentIds",t,e,r));return[h]}case"SparseSegmentSum":{var h=n.sparse.sparseSegmentSum(le("data",t,e,r),le("indices",t,e,r),le("segmentIds",t,e,r));return[h]}default:throw TypeError("Node type "+t.op+" is not implemented")}};var ZFt=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"FFT":return[n.fft(le("x",t,e,r))];case"IFFT":return[n.ifft(le("x",t,e,r))];case"RFFT":return[n.rfft(le("x",t,e,r))];case"IRFFT":return[n.irfft(le("x",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}};var JFt=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"StringNGrams":{var a=n.string.stringNGrams(le("data",t,e,r),le("dataSplits",t,e,r),le("separator",t,e,r),le("nGramWidths",t,e,r),le("leftPad",t,e,r),le("rightPad",t,e,r),le("padWidth",t,e,r),le("preserveShortSequences",t,e,r)),o=a.nGrams,s=a.nGramsSplits;return[o,s]}case"StringSplit":{var u=n.string.stringSplit(le("input",t,e,r),le("delimiter",t,e,r),le("skipEmpty",t,e,r)),f=u.indices,l=u.values,c=u.shape;return[f,l,c]}case"StringToHashBucketFast":{var h=n.string.stringToHashBucketFast(le("input",t,e,r),le("numBuckets",t,e,r));return[h]}default:throw TypeError("Node type "+t.op+" is not implemented")}};var YFt=function(t,e,r,n){switch(n===void 0&&(n=zo),t.op){case"Cast":return[n.cast(le("x",t,e,r),le("dtype",t,e,r))];case"ExpandDims":{var a=le("axis",t,e,r);return[n.expandDims(le("x",t,e,r),a)]}case"Squeeze":{var a=le("axis",t,e,r);return[n.squeeze(le("x",t,e,r),a)]}case"Reshape":return[n.reshape(le("x",t,e,r),le("shape",t,e,r))];case"MirrorPad":return[n.mirrorPad(le("x",t,e,r),le("padding",t,e,r),le("mode",t,e,r))];case"PadV2":case"Pad":return[n.pad(le("x",t,e,r),le("padding",t,e,r),le("constantValue",t,e,r))];case"SpaceToBatchND":{var o=le("blockShape",t,e,r),s=le("paddings",t,e,r);return[n.spaceToBatchND(le("x",t,e,r),o,s)]}case"BatchToSpaceND":{var o=le("blockShape",t,e,r),u=le("crops",t,e,r);return[n.batchToSpaceND(le("x",t,e,r),o,u)]}case"DepthToSpace":{var f=le("blockSize",t,e,r),l=le("dataFormat",t,e,r).toUpperCase();return[n.depthToSpace(le("x",t,e,r),f,l)]}case"BroadcastTo":return[n.broadcastTo(le("x",t,e,r),le("shape",t,e,r))];case"BroadcastArgs":return[n.broadcastArgs(le("s0",t,e,r),le("s1",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}};function owe(t,e,r,n,a){a===void 0&&(a=Cbe.tidy);var o=function(s,u,f){switch(s.category){case"arithmetic":return a(function(){return EFt(s,u,f)});case"basic_math":return a(function(){return MFt(s,u,f)});case"control":return CFt(s,u,f);case"convolution":return a(function(){return OFt(s,u,f)});case"creation":return a(function(){return RFt(s,u,f)});case"dynamic":return BFt(s,u,f);case"evaluation":return a(function(){return LFt(s,u,f)});case"image":return a(function(){return jFt(s,u,f)});case"graph":return a(function(){return PFt(s,u,f)});case"logical":return a(function(){return $Ft(s,u,f)});case"matrices":return a(function(){return VFt(s,u,f)});case"normalization":return a(function(){return WFt(s,u,f)});case"reduction":return a(function(){return GFt(s,u,f)});case"slice_join":return a(function(){return HFt(s,u,f)});case"sparse":return a(function(){return KFt(s,u,f)});case"spectral":return a(function(){return ZFt(s,u,f)});case"string":return a(function(){return JFt(s,u,f)});case"transformation":return a(function(){return YFt(s,u,f)});case"hash_table":return UFt(s,u,f,n);case"custom":var l=lwe(s.op);if(l&&l.customExecutor)return l.customExecutor(new fTt(s,u,f));throw TypeError("Custom op "+s.op+" is not registered.");default:throw TypeError("Unknown op '"+s.op+"'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(t,e,r);return Cbe.util.isPromise(o)?o.then(function(s){return[].concat(s)}):[].concat(o)}var swe=function(){function t(e,r,n,a){e===void 0&&(e={}),r===void 0&&(r={}),n===void 0&&(n={}),a===void 0&&(a={}),this.weightMap=e,this.tensorArrayMap=r,this.tensorListMap=n,this.functionMap=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return t.prototype.newFrame=function(e,r){return{id:e,frameName:r,iterationId:0}},Object.defineProperty(t.prototype,"currentContext",{get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentContextId",{get:function(){return this._currentContextIds[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentContextIds",{get:function(){return this._currentContextIds},enumerable:!0,configurable:!0}),t.prototype.generateCurrentContextIds=function(){for(var e=[],r=0;r<this.contexts.length-1;r++){var n=this.contexts.slice(0,this.contexts.length-r);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e},t.prototype.contextIdforContexts=function(e){return e?e.map(function(r){return r.id===0&&r.iterationId===0?"":r.frameName+"-"+r.iterationId}).join("/"):""},t.prototype.enterFrame=function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))},t.prototype.exitFrame=function(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")},t.prototype.nextIteration=function(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")},t.prototype.getWeight=function(e){return this.weightMap[e]},t.prototype.addTensorArray=function(e){this.tensorArrayMap[e.id]=e},t.prototype.getTensorArray=function(e){return this.tensorArrayMap[e]},t.prototype.addTensorList=function(e){this.tensorListMap[e.id]=e},t.prototype.getTensorList=function(e){return this.tensorListMap[e]},t.prototype.dispose=function(e){for(var r in this.tensorArrayMap)this.tensorArrayMap[r].clearAndClose(e);for(var r in this.tensorListMap)this.tensorListMap[r].clearAndClose(e)},t}();function uwe(t,e,r,n){var a=new Set,o=[],s=null,u=null,f=new Set,l=Object.keys(t).map(function(g){return Ws(g)[0]}),c=[];n!=null&&(c=n.map(function(g){return Ws(g.name)[0]}));for(var h=xo(e);h.length>0;){var m=h.pop();if((dxe(m)||rBt(m)||nBt(m))&&s==null&&(s=m,u=s.children.map(function(g){return g.name}).filter(function(g){return a.has(g)})),a.add(m.name),r[m.name]==null&&l.indexOf(m.name)===-1&&c.indexOf(m.name)===-1){if(m.inputs.length===0){o.push(m.name);continue}m.inputs.forEach(function(g){f.has(g.name)||(f.add(g.name),h.push(g))})}}return{inputs:t,outputs:e,usedNodes:a,missingInputs:o,dynamicNode:s,syncInputs:u}}function XFt(t,e,r){var n=r.usedNodes,a=r.inputs,o=[],s=Object.keys(a).map(function(h){return Ws(h)[0]}).map(function(h){return t.nodes[h]}),u=t.initNodes;s.forEach(function(h){n.has(h.name)&&o.push(h)}),t.weights.forEach(function(h){n.has(h.name)&&o.push(h)}),u!=null&&u.forEach(function(h){n.has(h.name)&&o.push(h)});for(var f=new Set,l=[];o.length>0;){var c=o.pop();f.add(c.name),e[c.name]||l.push(c),c.children.forEach(function(h){!f.has(h.name)&&n.has(h.name)&&h.inputs.every(function(m){return f.has(m.name)})&&o.push(h)})}return l}var QFt=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],eBt=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],tBt=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function dxe(t){return QFt.indexOf(t.op)>=0}function rBt(t){return eBt.indexOf(t.op)>=0}function nBt(t){return tBt.indexOf(t.op)>=0}var fwe=function(){function t(e,r){var n=this;this.graph=e,this.parent=r,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(function(a){n._functionExecutorMap[a]=new t(e.functions[a],n)})}return Object.defineProperty(t.prototype,"weightIds",{get:function(){return this.parent?this.parent.weightIds:this._weightIds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"functionExecutorMap",{get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weightMap",{get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var r=Object.keys(e).map(function(n){return e[n].map(function(a){return a.id})});this._weightIds=[].concat.apply([],xo(r)),this._weightMap=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resourceManager",{set:function(e){this._resourceManager=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return this._inputs.map(function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return this._outputs.map(function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNodes",{get:function(){return this._inputs.map(function(e){return e.signatureKey||e.name})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputNodes",{get:function(){return this._outputs.map(function(e){var r=e.signatureKey||e.name;return e.defaultOutput?r+":"+e.defaultOutput:r})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"functions",{get:function(){var e=this;return Object.keys(this._functions).reduce(function(r,n){return r[n]=e._functions[n].signature,r},{})},enumerable:!0,configurable:!0}),t.prototype.getCompilationKey=function(e,r){var n=e.map(function(o){return o.name}).sort(),a=r.map(function(o){return o.name}).sort();return n.join(this.SEPERATOR)+"--"+a.join(this.SEPERATOR)},t.prototype.compile=function(e,r){var n=uwe(e,r,this.weightMap,this._initNodes),a=n.missingInputs,o=n.dynamicNode,s=n.syncInputs;if(o!=null)throw new Error("This execution contains the node '"+o.name+"', which has "+("the dynamic op '"+o.op+"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+("dynamic ops, specify the inputs ["+s+"]"));if(a.length>0){var u=r.map(function(l){return l.name}),f=Object.keys(e);throw new Error("Cannot compute the outputs ["+u+"] from the provided inputs "+("["+f+"]. Missing the following inputs: ["+a+"]"))}return XFt(this.graph,this.weightMap,n)},t.prototype.execute=function(e,r){var n=this;e=this.mapInputs(e);var a=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),r=this.mapOutputs(r),this.checkOutputs(r);var o=a.map(function(m){return n.graph.nodes[Ws(m)[0]]}),s=r.map(function(m){return Ws(m)[0]}),u=s.map(function(m){return n.graph.nodes[m]});this.resetIntermediateTensors(),u.length===0&&(u=this._outputs);var f=this.getCompilationKey(o,u),l=this.compiledMap.get(f);l==null&&(l=this.compile(e,u),this.compiledMap.set(f,l));var c={},h={};return ar.tidy(function(){var m=new swe(n.weightMap,c,h,n.functionExecutorMap),g=Object.assign({},n.weightMap);Object.keys(e).forEach(function(O){var F=nr(Ws(O),2),z=F[0],B=F[1],$=[];$[B]=e[O],g[z]=$});for(var b=n.getFrozenTensorIds(g),A={},I=0;I<l.length;I++){var C=l[I];if(!g[C.name]){var R=owe(C,g,m,n._resourceManager);if(ar.util.isPromise(R))throw new Error("The execution of the op '"+C.op+"' returned a promise. Please use model.executeAsync() instead.");g[C.name]=R,n.checkTensorForDisposal(C.name,C,g,m,b,s,A)}}return n.parent==null&&m.dispose(b),r.map(function(O){return us(O,g,m)})})},t.prototype.getFrozenTensorIds=function(e){var r=[].concat.apply([],Object.keys(e).map(function(n){return e[n]}).map(function(n){return n.map(function(a){return a.id})}));return new Set(r)},t.prototype.checkTensorForDisposal=function(e,r,n,a,o,s,u){var f=this;r.category==="control"||s.indexOf(e)!==-1||(n[e].forEach(function(l){l!=null&&(u[l.id]=(u[l.id]||0)+r.children.length)}),r.inputs.forEach(function(l){if(l.category!=="control"){var c=SNt(l.name,n,a);c!=null&&c.forEach(function(h){if(h&&!h.kept&&!o.has(h.id)){var m=u[h.id];if(m===1){if(!f.keepTensorForDebug)h.dispose();else{var g=nr(Cc(r.name,a),2),b=g[0],A=g[1];f.intermediateTensors[b]||(f.intermediateTensors[b]=[]),f.intermediateTensors[b][A]=h}delete u[h.id]}else m!=null&&u[h.id]--}})}}))},t.prototype.executeAsync=function(e,r){return yi(this,void 0,void 0,function(){return ci(this,function(n){return[2,this._executeAsync(e,r)]})})},t.prototype.disposeIntermediateTensors=function(){var e=this;!this.intermediateTensors||(Object.keys(this.intermediateTensors).forEach(function(r){return e.intermediateTensors[r].forEach(function(n){return n.dispose()})}),this.disposeTensorsMap())},t.prototype.disposeTensorsMap=function(){var e=this;!this.tensorsMap||Object.keys(this.tensorsMap).forEach(function(r){var n=e.tensorsMap[r];n.forEach(function(a){a&&!a.kept&&!a.isDisposed&&!e.keepIds.has(a.id)&&a.dispose()})})},t.prototype.getIntermediateTensors=function(){return this.tensorsMap},t.prototype.resetIntermediateTensors=function(){for(var e in this.intermediateTensors)this.intermediateTensors[e].forEach(function(r){return r.dispose()}),delete this.intermediateTensors[e]},t.prototype._executeAsync=function(e,r,n,a,o){return n===void 0&&(n=!1),a===void 0&&(a={}),o===void 0&&(o={}),yi(this,void 0,void 0,function(){var s,u,f,l,c,h=this;return ci(this,function(m){switch(m.label){case 0:n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),r=this.mapOutputs(r),this.checkOutputs(r));try{this.keepTensorForDebug=ar.env().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(g){console.warn(g.message)}return this.resetIntermediateTensors(),s=new swe(this.weightMap,a,o,this.functionExecutorMap),u=this,[4,this.executeWithControlFlow(e,s,r,n)];case 1:return u.tensorsMap=m.sent(),f=r.map(function(g){return us(g,h.tensorsMap,s)}),l=f.map(function(g){return g.id}),c=Object.keys(e).map(function(g){return e[g].id}),this.keepIds=new Set(xo(l,c,this.weightIds)),this.keepTensorForDebug||this.disposeTensorsMap(),this.parent==null&&s.dispose(this.keepIds),[2,f]}})})},t.prototype.executeFunctionAsync=function(e,r,n){return yi(this,void 0,void 0,function(){var a,o=this;return ci(this,function(s){return a=e.reduce(function(u,f,l){return u[o.inputs[l].name]=f,u},{}),[2,this._executeAsync(a,this.outputNodes,!0,r,n)]})})},t.prototype.executeWithControlFlow=function(e,r,n,a){return yi(this,void 0,void 0,function(){var o,s,u,f,l,c,h,m,g,b,A,I,C,R,O,F,z,B=this;return ci(this,function($){switch($.label){case 0:o=Object.keys(e),s=o.map(function(j){return B.graph.nodes[Ws(j)[0]]}),u=n.map(function(j){return Ws(j)[0]}),f=u.map(function(j){return B.graph.nodes[j]}),f.length===0&&(f=this._outputs),l=uwe(e,f,this.weightMap,this._initNodes),c=l.usedNodes,h=l.missingInputs,m=l.dynamicNode,g=l.syncInputs,b=xo(s,this.graph.weights,this._initNodes||[]).map(function(j){return{node:j,contexts:r.currentContext}}),A=Object.assign({},this.weightMap),Object.keys(e).forEach(function(j){var W=nr(Ws(j),2),T=W[0],p=W[1],v=[];v[p]=e[j],A[T]=v}),I={},C=this.getFrozenTensorIds(A),R={},$.label=1;case 1:return b.length>0?(O=this.processStack(s,b,r,A,R,C,u,I,c),[4,Promise.all(O)]):[3,3];case 2:return $.sent(),[3,1];case 3:if(m==null&&!a&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),F=f.filter(function(j){return!dxe(j)&&!us(j.name,A,r)}).map(function(j){return j.name}),F.length>0)throw z="",m!=null&&(z="Alternatively, to avoid the dynamic ops, use model.execute() "+("and specify the inputs ["+g+"]")),new Error("Cannot compute the outputs ["+F+"] from the provided "+("inputs ["+o+"]. Consider providing the following inputs: ")+("["+h+"]. "+z));return[2,A]}})})},t.prototype.processStack=function(e,r,n,a,o,s,u,f,l){for(var c=this,h=[],m=function(){var b,A,I=r.pop();n.currentContext=I.contexts;var C="";if(I.node.op==="Enter"&&le("isConstant",I.node,a,n)&&(b=nr(Cc(I.node.name,n),1),C=b[0]),a[I.node.name]==null){var R=owe(I.node,a,n,g._resourceManager);C||(A=nr(Cc(I.node.name,n),1),C=A[0]);var O=n.currentContext;ar.util.isPromise(R)?h.push(R.then(function(F){return a[C]=F,n.currentContext=O,c.checkTensorForDisposal(C,I.node,a,n,s,u,f),c.processChildNodes(I.node,r,n,a,o,l),F})):(a[C]=R,g.checkTensorForDisposal(C,I.node,a,n,s,u,f),g.processChildNodes(I.node,r,n,a,o,l))}else g.processChildNodes(I.node,r,n,a,o,l)},g=this;r.length>0;)m();return h},t.prototype.processChildNodes=function(e,r,n,a,o,s){e.children.forEach(function(u){var f=nr(Cc(u.name,n),1),l=f[0];o[l]||!s.has(u.name)||(u.op==="Merge"?u.inputNames.some(function(c){return!!us(c,a,n)})&&(o[l]=!0,r.push({contexts:n.currentContext,node:u})):u.inputNames.every(function(c){return!!us(c,a,n)})&&(o[l]=!0,r.push({contexts:n.currentContext,node:u})))})},t.prototype.dispose=function(){var e=this;Object.keys(this.weightMap).forEach(function(r){return e.weightMap[r].forEach(function(n){return n.dispose()})})},t.prototype.checkInputShapeAndType=function(e){var r=this;Object.keys(e).forEach(function(n){var a=e[n],o=nr(Ws(n),1),s=o[0],u=r.graph.nodes[s];if(u.attrParams.shape&&u.attrParams.shape.value){var f=u.attrParams.shape.value,l=f.length===a.shape.length&&a.shape.every(function(c,h){return f[h]===-1||f[h]===c});ar.util.assert(l,function(){return"The shape of dict['"+u.name+"'] provided in "+("model.execute(dict) must be ["+f+"], but was ")+("["+a.shape+"]")})}u.attrParams.dtype&&u.attrParams.dtype.value&&ar.util.assert(a.dtype===u.attrParams.dtype.value,function(){return"The dtype of dict['"+u.name+"'] provided in model.execute(dict) must be "+(u.attrParams.dtype.value+", but was "+a.dtype)})})},t.prototype.mapInputs=function(e){var r={};for(var n in e)if(this._signature!=null&&this._signature.inputs!=null&&this._signature.inputs[n]!=null){var a=this._signature.inputs[n];r[a.name]=e[n]}else r[n]=e[n];return r},t.prototype.checkInputs=function(e){var r=this,n=Object.keys(e).filter(function(a){var o=nr(Ws(a),1),s=o[0];return r.graph.nodes[s]==null});if(n.length>0)throw new Error("The dict provided in model.execute(dict) has "+("keys: ["+n+"] that are not part of graph"))},t.prototype.mapOutputs=function(e){var r=this;return e.map(function(n){if(r._signature!=null&&r._signature.outputs!=null&&r._signature.outputs[n]!=null){var a=r._signature.outputs[n];return a.name}return n},{})},t.prototype.checkOutputs=function(e){var r=this;e.forEach(function(n){var a=nr(Ws(n),1),o=a[0];if(!r.graph.nodes[o])throw new Error("The output '"+n+"' is not found in the graph")})},t}(),iBt=function(){function t(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.hashTableNameToHandle=e,this.hashTableMap=r}return t.prototype.addHashTable=function(e,r){this.hashTableNameToHandle[e]=r.handle,this.hashTableMap[r.id]=r},t.prototype.getHashTableHandleByName=function(e){return this.hashTableNameToHandle[e]},t.prototype.getHashTableById=function(e){return this.hashTableMap[e]},t.prototype.dispose=function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var r in this.hashTableNameToHandle)this.hashTableNameToHandle[r].dispose(),delete this.hashTableNameToHandle[r]},t}(),aBt="?tfjs-format=file",oBt="model.json",fP=function(){function t(e,r,n){r===void 0&&(r={}),n===void 0&&(n=ar.io),this.modelUrl=e,this.loadOptions=r,this.version="n/a",this.io=n,r==null&&(this.loadOptions={}),this.resourceManager=new iBt}return Object.defineProperty(t.prototype,"modelVersion",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNodes",{get:function(){return this.executor.inputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputNodes",{get:function(){return this.executor.outputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return this.executor.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return this.executor.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.executor.weightMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.artifacts.userDefinedMetadata},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modelSignature",{get:function(){return this.signature},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modelStructuredOutputKeys",{get:function(){return this.structuredOutputKeys},enumerable:!0,configurable:!0}),t.prototype.findIOHandler=function(){var e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{var r=this.io.getLoadHandlers(e,this.loadOptions);if(r.length===0)r.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(r.length>1)throw new Error("Found more than one ("+r.length+") load handlers for "+("URL '"+[e]+"'"));this.handler=r[0]}},t.prototype.load=function(){var e=this;if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");var r=this.handler.load();return ar.util.isPromise(r)?r.then(function(n){return e.loadSync(n)}):this.loadSync(r)},t.prototype.loadSync=function(e){this.artifacts=e;var r=this.artifacts.modelTopology,n=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){var a=this.artifacts.userDefinedMetadata;a.signature!=null&&(n=a.signature),a.structuredOutputKeys!=null&&(this.structuredOutputKeys=a.structuredOutputKeys)}this.signature=n,this.version=r.versions.producer+"."+r.versions.minConsumer;var o=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new fwe(Rbe.Instance.transformGraph(r,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(o),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){var s=Rbe.Instance.transformGraph(e.modelInitializer);this.initializer=new fwe(s),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0},t.prototype.save=function(e,r){return yi(this,void 0,void 0,function(){var n;return ci(this,function(a){if(typeof e=="string"){if(n=this.io.getSaveHandlers(e),n.length===0)throw new Error("Cannot find any save handlers for URL '"+e+"'");if(n.length>1)throw new Error("Found more than one ("+n.length+") save handlers for "+("URL '"+e+"'"));e=n[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[2,e.save(this.artifacts)]})})},t.prototype.predict=function(e,r){var n=this,a=this.execute(e,this.outputNodes);if(this.structuredOutputKeys){var o=a instanceof ar.Tensor?[a]:a,s={};return o.forEach(function(u,f){return s[n.structuredOutputKeys[f]]=u}),s}return a},t.prototype.normalizeInputs=function(e){if(!(e instanceof ar.Tensor)&&!Array.isArray(e))return e;if(e=Array.isArray(e)?e:[e],e.length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+("the graph model has "+this.inputNodes.length+" placeholders, ")+("while there are "+e.length+" input tensors."));return this.inputNodes.reduce(function(r,n,a){return r[n]=e[a],r},{})},t.prototype.normalizeOutputs=function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]},t.prototype.execute=function(e,r){e=this.normalizeInputs(e),r=this.normalizeOutputs(r);var n=this.executor.execute(e,r);return n.length>1?n:n[0]},t.prototype.executeAsync=function(e,r){return yi(this,void 0,void 0,function(){var n;return ci(this,function(a){switch(a.label){case 0:return e=this.normalizeInputs(e),r=this.normalizeOutputs(r),[4,this.executor.executeAsync(e,r)];case 1:return n=a.sent(),[2,n.length>1?n:n[0]]}})})},t.prototype.getIntermediateTensors=function(){return this.executor.getIntermediateTensors()},t.prototype.disposeIntermediateTensors=function(){this.executor.disposeIntermediateTensors()},t.prototype.convertTensorMapToTensorsMap=function(e){return Object.keys(e).reduce(function(r,n){return r[n]=[e[n]],r},{})},t.prototype.dispose=function(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()},t}();function sBt(t,e,r){return e===void 0&&(e={}),r===void 0&&(r=ar.io),yi(this,void 0,void 0,function(){var n;return ci(this,function(a){switch(a.label){case 0:if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");return e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=fBt(t)),n=new fP(t,e,r),[4,n.load()];case 1:return a.sent(),[2,n]}})})}function uBt(t){if(t==null)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide a url or an IOHandler that loads the model");if(!t.load)throw new Error("modelUrl IO Handler "+t+" has no load function");var e=new fP(t);return e.load(),e}function fBt(t){return t.endsWith("/")||(t=t+"/"),""+t+oBt+aBt}var lBt="3.19.0";Cd.GraphModel=fP;Cd.deregisterOp=_Nt;Cd.loadGraphModel=sBt;Cd.loadGraphModelSync=uBt;Cd.registerOp=xNt;Cd.version_converter=lBt});var gxe=Ee((T6,vxe)=>{w();_();(function(t,e){typeof T6=="object"&&typeof vxe!="undefined"?e(T6,_r(),mxe()):typeof define=="function"&&define.amd?define(["exports","@tensorflow/tfjs-core","@tensorflow/tfjs-converter"],e):e(t.use={},t.tf,t.tf)})(T6,function(t,e,r){"use strict";function n(D,k,E,d){function N(U){return U instanceof E?U:new E(function(q){q(U)})}return new(E||(E=Promise))(function(U,q){function P(X){try{Z(d.next(X))}catch(he){q(he)}}function G(X){try{Z(d.throw(X))}catch(he){q(he)}}function Z(X){X.done?U(X.value):N(X.value).then(P,G)}Z((d=d.apply(D,k||[])).next())})}function a(D,k){var E={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},d,N,U,q;return q={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function P(Z){return function(X){return G([Z,X])}}function G(Z){if(d)throw new TypeError("Generator is already executing.");for(;E;)try{if(d=1,N&&(U=Z[0]&2?N.return:Z[0]?N.throw||((U=N.return)&&U.call(N),0):N.next)&&!(U=U.call(N,Z[1])).done)return U;switch(N=0,U&&(Z=[Z[0]&2,U.value]),Z[0]){case 0:case 1:U=Z;break;case 4:return E.label++,{value:Z[1],done:!1};case 5:E.label++,N=Z[1],Z=[0];continue;case 7:Z=E.ops.pop(),E.trys.pop();continue;default:if(U=E.trys,!(U=U.length>0&&U[U.length-1])&&(Z[0]===6||Z[0]===2)){E=0;continue}if(Z[0]===3&&(!U||Z[1]>U[0]&&Z[1]<U[3])){E.label=Z[1];break}if(Z[0]===6&&E.label<U[1]){E.label=U[1],U=Z;break}if(U&&E.label<U[2]){E.label=U[2],E.ops.push(Z);break}U[2]&&E.ops.pop(),E.trys.pop();continue}Z=k.call(D,E)}catch(X){Z=[6,X],N=0}finally{d=U=0}if(Z[0]&5)throw Z[1];return{value:Z[0]?Z[1]:void 0,done:!0}}}var o=function(D){for(var k=[],E=0,d=D;E<d.length;E++){var N=d[E];k.push(N)}return k};var s=function(){function D(){this.parent=null,this.children={},this.end=!1,this.word=[[],0,0]}return D}(),u=function(){function D(){this.root=new s}return D.prototype.insert=function(k,E,d){for(var N=this.root,U=o(k),q=0;q<U.length;q++)N.children[U[q]]||(N.children[U[q]]=new s,N.children[U[q]].parent=N,N.children[U[q]].word[0]=N.word[0].concat(U[q])),N=N.children[U[q]],q===U.length-1&&(N.end=!0,N.word[1]=E,N.word[2]=d)},D.prototype.commonPrefixSearch=function(k){for(var E=[],d=this.root.children[k[0]],N=0;N<k.length&&d;N++)d.end&&E.push(d.word),d=d.children[k[N+1]];return E.length||E.push([[k[0]],0,0]),E},D}();var f="\u2581";function l(D){var k=D.normalize("NFKC");return k.length>0?f+k.replace(/ /g,f):k}var c=6,h=function(){function D(k,E){E===void 0&&(E=c),this.vocabulary=k,this.reservedSymbolsCount=E,this.trie=new u;for(var d=this.reservedSymbolsCount;d<this.vocabulary.length;d++)this.trie.insert(this.vocabulary[d][0],this.vocabulary[d][1],d)}return D.prototype.encode=function(k){var E=[],d=[],N=[];k=l(k);for(var U=o(k),q=0;q<=U.length;q++)E.push({}),d.push(0),N.push(0);for(var q=0;q<U.length;q++)for(var P=this.trie.commonPrefixSearch(U.slice(q)),G=0;G<P.length;G++){var Z=P[G],X={key:Z[0],score:Z[1],index:Z[2]},he=Z[0].length;E[q+he][q]==null&&(E[q+he][q]=[]),E[q+he][q].push(X)}for(var he=0;he<=U.length;he++)for(var V in E[he])for(var K=E[he][V],G=0;G<K.length;G++){var ne=K[G],fe=ne.score+N[he-ne.key.length];(N[he]===0||fe>=N[he])&&(N[he]=fe,d[he]=K[G].index)}for(var pe=[],Ie=d.length-1;Ie>0;)pe.push(d[Ie]),Ie-=this.vocabulary[d[Ie]][0].length;for(var ke=[],ue=!1,q=0;q<pe.length;q++){var xe=pe[q];ue&&xe===0||ke.push(xe),ue=xe===0}return ke.reverse()},D}();function m(D){return n(this,void 0,void 0,function(){var k,E;return a(this,function(d){switch(d.label){case 0:return[4,g(D)];case 1:return k=d.sent(),E=new h(k),[2,E]}})})}function g(D){return n(this,void 0,void 0,function(){var k;return a(this,function(E){switch(E.label){case 0:return[4,e.util.fetch(D)];case 1:return k=E.sent(),[2,k.json()]}})})}var b="1.3.3";var A="https://tfhub.dev/google/tfjs-model/universal-sentence-encoder-qa-ondevice/1",I=[0,1,2],C=3,R=192,O="input_inp_text",F="input_res_context",z="input_res_text",B="Final/EncodeResult/mul",$="Final/EncodeQuery/mul",j=3,W=2,T=1;function p(){return n(this,void 0,void 0,function(){var D;return a(this,function(k){switch(k.label){case 0:return D=new v,[4,D.load()];case 1:return k.sent(),[2,D]}})})}var v=function(){function D(){}return D.prototype.loadModel=function(){return n(this,void 0,void 0,function(){return a(this,function(k){return[2,r.loadGraphModel(A,{fromTFHub:!0})]})})},D.prototype.load=function(){return n(this,void 0,void 0,function(){var k,E,d;return a(this,function(N){switch(N.label){case 0:return[4,Promise.all([this.loadModel(),g(A+"/vocab.json?tfjs-format=file")])];case 1:return k=N.sent(),E=k[0],d=k[1],this.model=E,this.tokenizer=new h(d,j),[2]}})})},D.prototype.embed=function(k){var E=this,d=e.tidy(function(){var q=E.tokenizeStrings(k.queries,R),P=E.tokenizeStrings(k.responses,R);if(k.contexts!=null&&k.contexts.length!==k.responses.length)throw new Error("The length of response strings and context strings need to match.");var G=k.contexts||[];k.contexts==null&&(G.length=k.responses.length,G.fill(""));var Z=E.tokenizeStrings(G,R),X={};return X[O]=q,X[z]=P,X[F]=Z,E.model.execute(X,[$,B])}),N=d[0],U=d[1];return{queryEmbedding:N,responseEmbedding:U}},D.prototype.tokenizeStrings=function(k,E){var d=this,N=k.map(function(U){return d.shiftTokens(d.tokenizer.encode(U),R)});return e.tensor2d(N,[k.length,R],"int32")},D.prototype.shiftTokens=function(k,E){k.unshift(T);for(var d=0;d<E;d++)d>=k.length?k[d]=W:I.includes(k[d])||(k[d]+=C);return k.slice(0,E)},D}();var S="https://storage.googleapis.com/tfjs-models/savedmodel/universal_sentence_encoder";function y(D){return n(this,void 0,void 0,function(){var k;return a(this,function(E){switch(E.label){case 0:return k=new M,[4,k.load(D)];case 1:return E.sent(),[2,k]}})})}var M=function(){function D(){}return D.prototype.loadModel=function(k){return n(this,void 0,void 0,function(){return a(this,function(E){return[2,k?r.loadGraphModel(k):r.loadGraphModel("https://tfhub.dev/tensorflow/tfjs-model/universal-sentence-encoder-lite/1/default/1",{fromTFHub:!0})]})})},D.prototype.load=function(k){return k===void 0&&(k={}),n(this,void 0,void 0,function(){var E,d,N;return a(this,function(U){switch(U.label){case 0:return[4,Promise.all([this.loadModel(k.modelUrl),g(k.vocabUrl||S+"/vocab.json")])];case 1:return E=U.sent(),d=E[0],N=E[1],this.model=d,this.tokenizer=new h(N),[2]}})})},D.prototype.embed=function(k){return n(this,void 0,void 0,function(){var E,d,N,U,q,P,G,Z,X=this;return a(this,function(he){switch(he.label){case 0:for(typeof k=="string"&&(k=[k]),E=k.map(function(V){return X.tokenizer.encode(V)}),d=E.map(function(V,K){return V.map(function(ne,fe){return[K,fe]})}),N=[],U=0;U<d.length;U++)N=N.concat(d[U]);return q=e.tensor2d(N,[N.length,2],"int32"),P=e.tensor1d(e.util.flatten(E),"int32"),G={indices:q,values:P},[4,this.model.executeAsync(G)];case 1:return Z=he.sent(),q.dispose(),P.dispose(),[2,Z]}})})},D}();t.load=y,t.UniversalSentenceEncoder=M,t.Tokenizer=h,t.loadTokenizer=m,t.loadQnA=p,t.version=b,Object.defineProperty(t,"__esModule",{value:!0})})});var lP=Ee((QTr,yxe)=>{"use strict";w();_();yxe.exports=function(e,r){return function(){for(var a=new Array(arguments.length),o=0;o<a.length;o++)a[o]=arguments[o];return e.apply(r,a)}}});var So=Ee((eDr,xxe)=>{"use strict";w();_();var cBt=lP(),hP=Object.prototype.toString,pP=function(t){return function(e){var r=hP.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function pv(t){return t=t.toLowerCase(),function(r){return pP(r)===t}}function dP(t){return Array.isArray(t)}function k6(t){return typeof t=="undefined"}function hBt(t){return t!==null&&!k6(t)&&t.constructor!==null&&!k6(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var bxe=pv("ArrayBuffer");function pBt(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&bxe(t.buffer),e}function dBt(t){return typeof t=="string"}function mBt(t){return typeof t=="number"}function wxe(t){return t!==null&&typeof t=="object"}function D6(t){if(pP(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var vBt=pv("Date"),gBt=pv("File"),yBt=pv("Blob"),bBt=pv("FileList");function mP(t){return hP.call(t)==="[object Function]"}function wBt(t){return wxe(t)&&mP(t.pipe)}function xBt(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||hP.call(t)===e||mP(t.toString)&&t.toString()===e)}var _Bt=pv("URLSearchParams");function SBt(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function EBt(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function vP(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),dP(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}function cP(){var t={};function e(a,o){D6(t[o])&&D6(a)?t[o]=cP(t[o],a):D6(a)?t[o]=cP({},a):dP(a)?t[o]=a.slice():t[o]=a}for(var r=0,n=arguments.length;r<n;r++)vP(arguments[r],e);return t}function MBt(t,e,r){return vP(e,function(a,o){r&&typeof a=="function"?t[o]=cBt(a,r):t[o]=a}),t}function ABt(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function NBt(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)}function TBt(t,e,r){var n,a,o,s={};e=e||{};do{for(n=Object.getOwnPropertyNames(t),a=n.length;a-- >0;)o=n[a],s[o]||(e[o]=t[o],s[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e}function DBt(t,e,r){t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return n!==-1&&n===r}function kBt(t){if(!t)return null;var e=t.length;if(k6(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r}var IBt=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array));xxe.exports={isArray:dP,isArrayBuffer:bxe,isBuffer:hBt,isFormData:xBt,isArrayBufferView:pBt,isString:dBt,isNumber:mBt,isObject:wxe,isPlainObject:D6,isUndefined:k6,isDate:vBt,isFile:gBt,isBlob:yBt,isFunction:mP,isStream:wBt,isURLSearchParams:_Bt,isStandardBrowserEnv:EBt,forEach:vP,merge:cP,extend:MBt,trim:SBt,stripBOM:ABt,inherits:NBt,toFlatObject:TBt,kindOf:pP,kindOfTest:pv,endsWith:DBt,toArray:kBt,isTypedArray:IBt,isFileList:bBt}});var gP=Ee((tDr,Sxe)=>{"use strict";w();_();var kb=So();function _xe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}Sxe.exports=function(e,r,n){if(!r)return e;var a;if(n)a=n(r);else if(kb.isURLSearchParams(r))a=r.toString();else{var o=[];kb.forEach(r,function(f,l){f===null||typeof f=="undefined"||(kb.isArray(f)?l=l+"[]":f=[f],kb.forEach(f,function(h){kb.isDate(h)?h=h.toISOString():kb.isObject(h)&&(h=JSON.stringify(h)),o.push(_xe(l)+"="+_xe(h))}))}),a=o.join("&")}if(a){var s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}});var Mxe=Ee((rDr,Exe)=>{"use strict";w();_();var CBt=So();function I6(){this.handlers=[]}I6.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};I6.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};I6.prototype.forEach=function(e){CBt.forEach(this.handlers,function(n){n!==null&&e(n)})};Exe.exports=I6});var Nxe=Ee((nDr,Axe)=>{"use strict";w();_();var OBt=So();Axe.exports=function(e,r){OBt.forEach(e,function(a,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(e[r]=a,delete e[o])})}});var dv=Ee((iDr,Ixe)=>{"use strict";w();_();var Txe=So();function Ib(t,e,r,n,a){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a)}Txe.inherits(Ib,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Dxe=Ib.prototype,kxe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){kxe[t]={value:t}});Object.defineProperties(Ib,kxe);Object.defineProperty(Dxe,"isAxiosError",{value:!0});Ib.from=function(t,e,r,n,a,o){var s=Object.create(Dxe);return Txe.toFlatObject(t,s,function(f){return f!==Error.prototype}),Ib.call(s,t.message,e,r,n,a),s.name=t.name,o&&Object.assign(s,o),s};Ixe.exports=Ib});var yP=Ee((aDr,Cxe)=>{"use strict";w();_();Cxe.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var bP=Ee((oDr,Oxe)=>{"use strict";w();_();var Cl=So();function RBt(t,e){e=e||new FormData;var r=[];function n(o){return o===null?"":Cl.isDate(o)?o.toISOString():Cl.isArrayBuffer(o)||Cl.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):$Buffer.from(o):o}function a(o,s){if(Cl.isPlainObject(o)||Cl.isArray(o)){if(r.indexOf(o)!==-1)throw Error("Circular reference detected in "+s);r.push(o),Cl.forEach(o,function(f,l){if(!Cl.isUndefined(f)){var c=s?s+"."+l:l,h;if(f&&!s&&typeof f=="object"){if(Cl.endsWith(l,"{}"))f=JSON.stringify(f);else if(Cl.endsWith(l,"[]")&&(h=Cl.toArray(f))){h.forEach(function(m){!Cl.isUndefined(m)&&e.append(c,n(m))});return}}a(f,c)}}),r.pop()}else e.append(s,n(o))}return a(t),e}Oxe.exports=RBt});var Fxe=Ee((sDr,Rxe)=>{"use strict";w();_();var wP=dv();Rxe.exports=function(e,r,n){var a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):r(new wP("Request failed with status code "+n.status,[wP.ERR_BAD_REQUEST,wP.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}});var Lxe=Ee((uDr,Bxe)=>{"use strict";w();_();var C6=So();Bxe.exports=C6.isStandardBrowserEnv()?function(){return{write:function(r,n,a,o,s,u){var f=[];f.push(r+"="+encodeURIComponent(n)),C6.isNumber(a)&&f.push("expires="+new Date(a).toGMTString()),C6.isString(o)&&f.push("path="+o),C6.isString(s)&&f.push("domain="+s),u===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var qxe=Ee((fDr,Pxe)=>{"use strict";w();_();Pxe.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}});var Uxe=Ee((lDr,zxe)=>{"use strict";w();_();zxe.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}});var xP=Ee((cDr,jxe)=>{"use strict";w();_();var FBt=qxe(),BBt=Uxe();jxe.exports=function(e,r){return e&&!FBt(r)?BBt(e,r):r}});var Vxe=Ee((hDr,$xe)=>{"use strict";w();_();var _P=So(),LBt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];$xe.exports=function(e){var r={},n,a,o;return e&&_P.forEach(e.split(`
`),function(u){if(o=u.indexOf(":"),n=_P.trim(u.substr(0,o)).toLowerCase(),a=_P.trim(u.substr(o+1)),n){if(r[n]&&LBt.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([a]):r[n]=r[n]?r[n]+", "+a:a}}),r}});var Hxe=Ee((pDr,Gxe)=>{"use strict";w();_();var Wxe=So();Gxe.exports=Wxe.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function a(o){var s=o;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=a(window.location.href),function(s){var u=Wxe.isString(s)?a(s):s;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}()});var pS=Ee((dDr,Zxe)=>{"use strict";w();_();var SP=dv(),PBt=So();function Kxe(t){SP.call(this,t==null?"canceled":t,SP.ERR_CANCELED),this.name="CanceledError"}PBt.inherits(Kxe,SP,{__CANCEL__:!0});Zxe.exports=Kxe});var Yxe=Ee((mDr,Jxe)=>{"use strict";w();_();Jxe.exports=function(e){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}});var EP=Ee((vDr,Xxe)=>{"use strict";w();_();var dS=So(),qBt=Fxe(),zBt=Lxe(),UBt=gP(),jBt=xP(),$Bt=Vxe(),VBt=Hxe(),WBt=yP(),Qh=dv(),GBt=pS(),HBt=Yxe();Xxe.exports=function(e){return new Promise(function(n,a){var o=e.data,s=e.headers,u=e.responseType,f;function l(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}dS.isFormData(o)&&dS.isStandardBrowserEnv()&&delete s["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.Authorization="Basic "+btoa(h+":"+m)}var g=jBt(e.baseURL,e.url);c.open(e.method.toUpperCase(),UBt(g,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function b(){if(!!c){var C="getAllResponseHeaders"in c?$Bt(c.getAllResponseHeaders()):null,R=!u||u==="text"||u==="json"?c.responseText:c.response,O={data:R,status:c.status,statusText:c.statusText,headers:C,config:e,request:c};qBt(function(z){n(z),l()},function(z){a(z),l()},O),c=null}}if("onloadend"in c?c.onloadend=b:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(b)},c.onabort=function(){!c||(a(new Qh("Request aborted",Qh.ECONNABORTED,e,c)),c=null)},c.onerror=function(){a(new Qh("Network Error",Qh.ERR_NETWORK,e,c,c)),c=null},c.ontimeout=function(){var R=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",O=e.transitional||WBt;e.timeoutErrorMessage&&(R=e.timeoutErrorMessage),a(new Qh(R,O.clarifyTimeoutError?Qh.ETIMEDOUT:Qh.ECONNABORTED,e,c)),c=null},dS.isStandardBrowserEnv()){var A=(e.withCredentials||VBt(g))&&e.xsrfCookieName?zBt.read(e.xsrfCookieName):void 0;A&&(s[e.xsrfHeaderName]=A)}"setRequestHeader"in c&&dS.forEach(s,function(R,O){typeof o=="undefined"&&O.toLowerCase()==="content-type"?delete s[O]:c.setRequestHeader(O,R)}),dS.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),u&&u!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(C){!c||(a(!C||C&&C.type?new GBt:C),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),o||(o=null);var I=HBt(g);if(I&&["http","https","file"].indexOf(I)===-1){a(new Qh("Unsupported protocol "+I+":",Qh.ERR_BAD_REQUEST,e));return}c.send(o)})}});var e2e=Ee((gDr,Qxe)=>{w();_();Qxe.exports=null});var R6=Ee((yDr,i2e)=>{"use strict";w();_();var Eo=So(),t2e=Nxe(),r2e=dv(),KBt=yP(),ZBt=bP(),JBt={"Content-Type":"application/x-www-form-urlencoded"};function n2e(t,e){!Eo.isUndefined(t)&&Eo.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function YBt(){var t;return typeof XMLHttpRequest!="undefined"?t=EP():typeof $process!="undefined"&&Object.prototype.toString.call($process)==="[object process]"&&(t=EP()),t}function XBt(t,e,r){if(Eo.isString(t))try{return(e||JSON.parse)(t),Eo.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var O6={transitional:KBt,adapter:YBt(),transformRequest:[function(e,r){if(t2e(r,"Accept"),t2e(r,"Content-Type"),Eo.isFormData(e)||Eo.isArrayBuffer(e)||Eo.isBuffer(e)||Eo.isStream(e)||Eo.isFile(e)||Eo.isBlob(e))return e;if(Eo.isArrayBufferView(e))return e.buffer;if(Eo.isURLSearchParams(e))return n2e(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n=Eo.isObject(e),a=r&&r["Content-Type"],o;if((o=Eo.isFileList(e))||n&&a==="multipart/form-data"){var s=this.env&&this.env.FormData;return ZBt(o?{"files[]":e}:e,s&&new s)}else if(n||a==="application/json")return n2e(r,"application/json"),XBt(e);return e}],transformResponse:[function(e){var r=this.transitional||O6.transitional,n=r&&r.silentJSONParsing,a=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||a&&Eo.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?r2e.from(s,r2e.ERR_BAD_RESPONSE,this,null,this.response):s}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:e2e()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Eo.forEach(["delete","get","head"],function(e){O6.headers[e]={}});Eo.forEach(["post","put","patch"],function(e){O6.headers[e]=Eo.merge(JBt)});i2e.exports=O6});var o2e=Ee((bDr,a2e)=>{"use strict";w();_();var QBt=So(),e9t=R6();a2e.exports=function(e,r,n){var a=this||e9t;return QBt.forEach(n,function(s){e=s.call(a,e,r)}),e}});var MP=Ee((wDr,s2e)=>{"use strict";w();_();s2e.exports=function(e){return!!(e&&e.__CANCEL__)}});var l2e=Ee((xDr,f2e)=>{"use strict";w();_();var u2e=So(),AP=o2e(),t9t=MP(),r9t=R6(),n9t=pS();function NP(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new n9t}f2e.exports=function(e){NP(e),e.headers=e.headers||{},e.data=AP.call(e,e.data,e.headers,e.transformRequest),e.headers=u2e.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),u2e.forEach(["delete","get","head","post","put","patch","common"],function(a){delete e.headers[a]});var r=e.adapter||r9t.adapter;return r(e).then(function(a){return NP(e),a.data=AP.call(e,a.data,a.headers,e.transformResponse),a},function(a){return t9t(a)||(NP(e),a&&a.response&&(a.response.data=AP.call(e,a.response.data,a.response.headers,e.transformResponse))),Promise.reject(a)})}});var TP=Ee((_Dr,c2e)=>{"use strict";w();_();var bu=So();c2e.exports=function(e,r){r=r||{};var n={};function a(c,h){return bu.isPlainObject(c)&&bu.isPlainObject(h)?bu.merge(c,h):bu.isPlainObject(h)?bu.merge({},h):bu.isArray(h)?h.slice():h}function o(c){if(bu.isUndefined(r[c])){if(!bu.isUndefined(e[c]))return a(void 0,e[c])}else return a(e[c],r[c])}function s(c){if(!bu.isUndefined(r[c]))return a(void 0,r[c])}function u(c){if(bu.isUndefined(r[c])){if(!bu.isUndefined(e[c]))return a(void 0,e[c])}else return a(void 0,r[c])}function f(c){if(c in r)return a(e[c],r[c]);if(c in e)return a(void 0,e[c])}var l={url:s,method:s,data:s,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f};return bu.forEach(Object.keys(e).concat(Object.keys(r)),function(h){var m=l[h]||o,g=m(h);bu.isUndefined(g)&&m!==f||(n[h]=g)}),n}});var DP=Ee((SDr,h2e)=>{w();_();h2e.exports={version:"0.27.2"}});var m2e=Ee((EDr,d2e)=>{"use strict";w();_();var i9t=DP().version,Od=dv(),kP={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){kP[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var p2e={};kP.transitional=function(e,r,n){function a(o,s){return"[Axios v"+i9t+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return function(o,s,u){if(e===!1)throw new Od(a(s," has been removed"+(r?" in "+r:"")),Od.ERR_DEPRECATED);return r&&!p2e[s]&&(p2e[s]=!0,console.warn(a(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,u):!0}};function a9t(t,e,r){if(typeof t!="object")throw new Od("options must be an object",Od.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),a=n.length;a-- >0;){var o=n[a],s=e[o];if(s){var u=t[o],f=u===void 0||s(u,o,t);if(f!==!0)throw new Od("option "+o+" must be "+f,Od.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Od("Unknown option "+o,Od.ERR_BAD_OPTION)}}d2e.exports={assertOptions:a9t,validators:kP}});var x2e=Ee((MDr,w2e)=>{"use strict";w();_();var y2e=So(),o9t=gP(),v2e=Mxe(),g2e=l2e(),F6=TP(),s9t=xP(),b2e=m2e(),Cb=b2e.validators;function Ob(t){this.defaults=t,this.interceptors={request:new v2e,response:new v2e}}Ob.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=F6(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&b2e.assertOptions(n,{silentJSONParsing:Cb.transitional(Cb.boolean),forcedJSONParsing:Cb.transitional(Cb.boolean),clarifyTimeoutError:Cb.transitional(Cb.boolean)},!1);var a=[],o=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(o=o&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});var s=[];this.interceptors.response.forEach(function(g){s.push(g.fulfilled,g.rejected)});var u;if(!o){var f=[g2e,void 0];for(Array.prototype.unshift.apply(f,a),f=f.concat(s),u=Promise.resolve(r);f.length;)u=u.then(f.shift(),f.shift());return u}for(var l=r;a.length;){var c=a.shift(),h=a.shift();try{l=c(l)}catch(m){h(m);break}}try{u=g2e(l)}catch(m){return Promise.reject(m)}for(;s.length;)u=u.then(s.shift(),s.shift());return u};Ob.prototype.getUri=function(e){e=F6(this.defaults,e);var r=s9t(e.baseURL,e.url);return o9t(r,e.params,e.paramsSerializer)};y2e.forEach(["delete","get","head","options"],function(e){Ob.prototype[e]=function(r,n){return this.request(F6(n||{},{method:e,url:r,data:(n||{}).data}))}});y2e.forEach(["post","put","patch"],function(e){function r(n){return function(o,s,u){return this.request(F6(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Ob.prototype[e]=r(),Ob.prototype[e+"Form"]=r(!0)});w2e.exports=Ob});var S2e=Ee((ADr,_2e)=>{"use strict";w();_();var u9t=pS();function Rb(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(a){e=a});var r=this;this.promise.then(function(n){if(!!r._listeners){var a,o=r._listeners.length;for(a=0;a<o;a++)r._listeners[a](n);r._listeners=null}}),this.promise.then=function(n){var a,o=new Promise(function(s){r.subscribe(s),a=s}).then(n);return o.cancel=function(){r.unsubscribe(a)},o},t(function(a){r.reason||(r.reason=new u9t(a),e(r.reason))})}Rb.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Rb.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};Rb.prototype.unsubscribe=function(e){if(!!this._listeners){var r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}};Rb.source=function(){var e,r=new Rb(function(a){e=a});return{token:r,cancel:e}};_2e.exports=Rb});var M2e=Ee((NDr,E2e)=>{"use strict";w();_();E2e.exports=function(e){return function(n){return e.apply(null,n)}}});var N2e=Ee((TDr,A2e)=>{"use strict";w();_();var f9t=So();A2e.exports=function(e){return f9t.isObject(e)&&e.isAxiosError===!0}});var k2e=Ee((DDr,IP)=>{"use strict";w();_();var T2e=So(),l9t=lP(),B6=x2e(),c9t=TP(),h9t=R6();function D2e(t){var e=new B6(t),r=l9t(B6.prototype.request,e);return T2e.extend(r,B6.prototype,e),T2e.extend(r,e),r.create=function(a){return D2e(c9t(t,a))},r}var Zs=D2e(h9t);Zs.Axios=B6;Zs.CanceledError=pS();Zs.CancelToken=S2e();Zs.isCancel=MP();Zs.VERSION=DP().version;Zs.toFormData=bP();Zs.AxiosError=dv();Zs.Cancel=Zs.CanceledError;Zs.all=function(e){return Promise.all(e)};Zs.spread=M2e();Zs.isAxiosError=N2e();IP.exports=Zs;IP.exports.default=Zs});var CP=Ee((kDr,I2e)=>{w();_();I2e.exports=k2e()});var R2e=Ee((ODr,O2e)=>{"use strict";w();_();function v9t(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=r;return e}O2e.exports=v9t});var L2e=Ee((RDr,B2e)=>{w();_();B2e.exports=function(t){return t!=null&&(F2e(t)||g9t(t)||!!t._isBuffer)};function F2e(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function g9t(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&F2e(t.slice(0,0))}});var mv=Ee((FDr,P2e)=>{w();_();var y9t=R2e(),b9t=L2e(),w9t=typeof Float64Array!="undefined";function x9t(t,e){return t[0]-e[0]}function _9t(){var t=this.stride,e=new Array(t.length),r;for(r=0;r<e.length;++r)e[r]=[Math.abs(t[r]),r];e.sort(x9t);var n=new Array(e.length);for(r=0;r<n.length;++r)n[r]=e[r][1];return n}function S9t(t,e){var r=["View",e,"d",t].join("");e<0&&(r="View_Nil"+t);var n=t==="generic";if(e===-1){var a="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",A=new Function(a);return A()}else if(e===0){var a="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",A=new Function("TrivialArray",a);return A(q6[t][0])}var a=["'use strict'"],o=y9t(e),s=o.map(function(I){return"i"+I}),u="this.offset+"+o.map(function(I){return"this.stride["+I+"]*i"+I}).join("+"),f=o.map(function(I){return"b"+I}).join(","),l=o.map(function(I){return"c"+I}).join(",");a.push("function "+r+"(a,"+f+","+l+",d){this.data=a","this.shape=["+f+"]","this.stride=["+l+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),a.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+o.map(function(I){return"this.shape["+I+"]"}).join("*"),"}})"),e===1?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),e<4?(a.push("function "+r+"_order(){"),e===2?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):e===3&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+r+"_set("+s.join(",")+",v){"),n?a.push("return this.data.set("+u+",v)}"):a.push("return this.data["+u+"]=v}"),a.push("proto.get=function "+r+"_get("+s.join(",")+"){"),n?a.push("return this.data.get("+u+")}"):a.push("return this.data["+u+"]}"),a.push("proto.index=function "+r+"_index(",s.join(),"){return "+u+"}"),a.push("proto.hi=function "+r+"_hi("+s.join(",")+"){return new "+r+"(this.data,"+o.map(function(I){return["(typeof i",I,"!=='number'||i",I,"<0)?this.shape[",I,"]:i",I,"|0"].join("")}).join(",")+","+o.map(function(I){return"this.stride["+I+"]"}).join(",")+",this.offset)}");var c=o.map(function(I){return"a"+I+"=this.shape["+I+"]"}),h=o.map(function(I){return"c"+I+"=this.stride["+I+"]"});a.push("proto.lo=function "+r+"_lo("+s.join(",")+"){var b=this.offset,d=0,"+c.join(",")+","+h.join(","));for(var m=0;m<e;++m)a.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");a.push("return new "+r+"(this.data,"+o.map(function(I){return"a"+I}).join(",")+","+o.map(function(I){return"c"+I}).join(",")+",b)}"),a.push("proto.step=function "+r+"_step("+s.join(",")+"){var "+o.map(function(I){return"a"+I+"=this.shape["+I+"]"}).join(",")+","+o.map(function(I){return"b"+I+"=this.stride["+I+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var m=0;m<e;++m)a.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");a.push("return new "+r+"(this.data,"+o.map(function(I){return"a"+I}).join(",")+","+o.map(function(I){return"b"+I}).join(",")+",c)}");for(var g=new Array(e),b=new Array(e),m=0;m<e;++m)g[m]="a[i"+m+"]",b[m]="b[i"+m+"]";a.push("proto.transpose=function "+r+"_transpose("+s+"){"+s.map(function(I,C){return I+"=("+I+"===undefined?"+C+":"+I+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+g.join(",")+","+b.join(",")+",this.offset)}"),a.push("proto.pick=function "+r+"_pick("+s+"){var a=[],b=[],c=this.offset");for(var m=0;m<e;++m)a.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+o.map(function(I){return"shape["+I+"]"}).join(",")+","+o.map(function(I){return"stride["+I+"]"}).join(",")+",offset)}");var A=new Function("CTOR_LIST","ORDER",a.join(`
`));return A(q6[t],_9t)}function E9t(t){if(b9t(t))return"buffer";if(w9t)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}var q6={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function M9t(t,e,r,n){if(t===void 0){var l=q6.array[0];return l([])}else typeof t=="number"&&(t=[t]);e===void 0&&(e=[t.length]);var a=e.length;if(r===void 0){r=new Array(a);for(var o=a-1,s=1;o>=0;--o)r[o]=s,s*=e[o]}if(n===void 0){n=0;for(var o=0;o<a;++o)r[o]<0&&(n-=(e[o]-1)*r[o])}for(var u=E9t(t),f=q6[u];f.length<=a+1;)f.push(S9t(u,f.length-1));var l=f[a+1];return l(t,e,r,n)}P2e.exports=M9t});var OP=Ee((BDr,q2e)=>{"use strict";w();_();function A9t(t,e){for(var r=1,n=t.length,a=t[0],o=t[0],s=1;s<n;++s)if(o=a,a=t[s],e(a,o)){if(s===r){r++;continue}t[r++]=a}return t.length=r,t}function N9t(t){for(var e=1,r=t.length,n=t[0],a=t[0],o=1;o<r;++o,a=n)if(a=n,n=t[o],n!==a){if(o===e){e++;continue}t[e++]=n}return t.length=e,t}function T9t(t,e,r){return t.length===0?t:e?(r||t.sort(e),A9t(t,e)):(r||t.sort(),N9t(t))}q2e.exports=T9t});var j2e=Ee((LDr,U2e)=>{"use strict";w();_();var D9t=OP();function z2e(t,e,r){var n=t.length,a=e.arrayArgs.length,o=e.indexArgs.length>0,s=[],u=[],f=0,l=0,c,h;for(c=0;c<n;++c)u.push(["i",c,"=0"].join(""));for(h=0;h<a;++h)for(c=0;c<n;++c)l=f,f=t[c],c===0?u.push(["d",h,"s",c,"=t",h,"p",f].join("")):u.push(["d",h,"s",c,"=(t",h,"p",f,"-s",l,"*t",h,"p",l,")"].join(""));for(u.length>0&&s.push("var "+u.join(",")),c=n-1;c>=0;--c)f=t[c],s.push(["for(i",c,"=0;i",c,"<s",f,";++i",c,"){"].join(""));for(s.push(r),c=0;c<n;++c){for(l=f,f=t[c],h=0;h<a;++h)s.push(["p",h,"+=d",h,"s",c].join(""));o&&(c>0&&s.push(["index[",l,"]-=s",l].join("")),s.push(["++index[",f,"]"].join(""))),s.push("}")}return s.join(`
`)}function k9t(t,e,r,n){for(var a=e.length,o=r.arrayArgs.length,s=r.blockSize,u=r.indexArgs.length>0,f=[],l=0;l<o;++l)f.push(["var offset",l,"=p",l].join(""));for(var l=t;l<a;++l)f.push(["for(var j"+l+"=SS[",e[l],"]|0;j",l,">0;){"].join("")),f.push(["if(j",l,"<",s,"){"].join("")),f.push(["s",e[l],"=j",l].join("")),f.push(["j",l,"=0"].join("")),f.push(["}else{s",e[l],"=",s].join("")),f.push(["j",l,"-=",s,"}"].join("")),u&&f.push(["index[",e[l],"]=j",l].join(""));for(var l=0;l<o;++l){for(var c=["offset"+l],h=t;h<a;++h)c.push(["j",h,"*t",l,"p",e[h]].join(""));f.push(["p",l,"=(",c.join("+"),")"].join(""))}f.push(z2e(e,r,n));for(var l=t;l<a;++l)f.push("}");return f.join(`
`)}function I9t(t){for(var e=0,r=t[0].length;e<r;){for(var n=1;n<t.length;++n)if(t[n][e]!==t[0][e])return e;++e}return e}function RP(t,e,r){for(var n=t.body,a=[],o=[],s=0;s<t.args.length;++s){var u=t.args[s];if(!(u.count<=0)){var f=new RegExp(u.name,"g"),l="",c=e.arrayArgs.indexOf(s);switch(e.argTypes[s]){case"offset":var h=e.offsetArgIndex.indexOf(s),m=e.offsetArgs[h];c=m.array,l="+q"+h;case"array":l="p"+c+l;var g="l"+s,b="a"+c;if(e.arrayBlockIndices[c]===0)u.count===1?r[c]==="generic"?u.lvalue?(a.push(["var ",g,"=",b,".get(",l,")"].join("")),n=n.replace(f,g),o.push([b,".set(",l,",",g,")"].join(""))):n=n.replace(f,[b,".get(",l,")"].join("")):n=n.replace(f,[b,"[",l,"]"].join("")):r[c]==="generic"?(a.push(["var ",g,"=",b,".get(",l,")"].join("")),n=n.replace(f,g),u.lvalue&&o.push([b,".set(",l,",",g,")"].join(""))):(a.push(["var ",g,"=",b,"[",l,"]"].join("")),n=n.replace(f,g),u.lvalue&&o.push([b,"[",l,"]=",g].join("")));else{for(var A=[u.name],I=[l],C=0;C<Math.abs(e.arrayBlockIndices[c]);C++)A.push("\\s*\\[([^\\]]+)\\]"),I.push("$"+(C+1)+"*t"+c+"b"+C);if(f=new RegExp(A.join(""),"g"),l=I.join("+"),r[c]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(f,[b,"[",l,"]"].join(""))}break;case"scalar":n=n.replace(f,"Y"+e.scalarArgs.indexOf(s));break;case"index":n=n.replace(f,"index");break;case"shape":n=n.replace(f,"shape");break}}}return[a.join(`
`),n,o.join(`
`)].join(`
`).trim()}function C9t(t){for(var e=new Array(t.length),r=!0,n=0;n<t.length;++n){var a=t[n],o=a.match(/\d+/);o?o=o[0]:o="",a.charAt(0)===0?e[n]="u"+a.charAt(1)+o:e[n]=a.charAt(0)+o,n>0&&(r=r&&e[n]===e[n-1])}return r?e[0]:e.join("")}function O9t(t,e){for(var r=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,n=new Array(t.arrayArgs.length),a=new Array(t.arrayArgs.length),o=0;o<t.arrayArgs.length;++o)a[o]=e[2*o],n[o]=e[2*o+1];for(var s=[],u=[],f=[],l=[],c=[],o=0;o<t.arrayArgs.length;++o){t.arrayBlockIndices[o]<0?(f.push(0),l.push(r),s.push(r),u.push(r+t.arrayBlockIndices[o])):(f.push(t.arrayBlockIndices[o]),l.push(t.arrayBlockIndices[o]+r),s.push(0),u.push(t.arrayBlockIndices[o]));for(var h=[],m=0;m<n[o].length;m++)f[o]<=n[o][m]&&n[o][m]<l[o]&&h.push(n[o][m]-f[o]);c.push(h)}for(var g=["SS"],b=["'use strict'"],A=[],m=0;m<r;++m)A.push(["s",m,"=SS[",m,"]"].join(""));for(var o=0;o<t.arrayArgs.length;++o){g.push("a"+o),g.push("t"+o),g.push("p"+o);for(var m=0;m<r;++m)A.push(["t",o,"p",m,"=t",o,"[",f[o]+m,"]"].join(""));for(var m=0;m<Math.abs(t.arrayBlockIndices[o]);++m)A.push(["t",o,"b",m,"=t",o,"[",s[o]+m,"]"].join(""))}for(var o=0;o<t.scalarArgs.length;++o)g.push("Y"+o);if(t.shapeArgs.length>0&&A.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var I=new Array(r),o=0;o<r;++o)I[o]="0";A.push(["index=[",I.join(","),"]"].join(""))}for(var o=0;o<t.offsetArgs.length;++o){for(var C=t.offsetArgs[o],R=[],m=0;m<C.offset.length;++m)C.offset[m]!==0&&(C.offset[m]===1?R.push(["t",C.array,"p",m].join("")):R.push([C.offset[m],"*t",C.array,"p",m].join("")));R.length===0?A.push("q"+o+"=0"):A.push(["q",o,"=",R.join("+")].join(""))}var O=D9t([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));A=A.concat(O),A.length>0&&b.push("var "+A.join(","));for(var o=0;o<t.arrayArgs.length;++o)b.push("p"+o+"|=0");t.pre.body.length>3&&b.push(RP(t.pre,t,a));var F=RP(t.body,t,a),z=I9t(c);z<r?b.push(k9t(z,c[0],t,F)):b.push(z2e(c[0],t,F)),t.post.body.length>3&&b.push(RP(t.post,t,a)),t.debug&&console.log("-----Generated cwise routine for ",e,`:
`+b.join(`
`)+`
----------`);var B=[t.funcName||"unnamed","_cwise_loop_",n[0].join("s"),"m",z,C9t(a)].join(""),$=new Function(["function ",B,"(",g.join(","),"){",b.join(`
`),"} return ",B].join(""));return $()}U2e.exports=O9t});var V2e=Ee((PDr,$2e)=>{"use strict";w();_();var R9t=j2e();function F9t(t){var e=["'use strict'","var CACHED={}"],r=[],n=t.funcName+"_cwise_thunk";e.push(["return function ",n,"(",t.shimArgs.join(","),"){"].join(""));for(var a=[],o=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],f=[],l=0;l<t.arrayArgs.length;++l){var c=t.arrayArgs[l];r.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),a.push("t"+c),a.push("r"+c),o.push("t"+c),o.push("r"+c+".join()"),s.push("array"+c+".data"),s.push("array"+c+".stride"),s.push("array"+c+".offset|0"),l>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[l]))),f.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[l])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),e.push("if (!("+f.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var l=0;l<t.scalarArgs.length;++l)s.push("scalar"+t.scalarArgs[l]);r.push(["type=[",o.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),e.push("var "+r.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log(`-----Generated thunk:
`+e.join(`
`)+`
----------`);var h=new Function("compile",e.join(`
`));return h(R9t.bind(void 0,t))}$2e.exports=F9t});var z6=Ee((qDr,W2e)=>{"use strict";w();_();var B9t=V2e();function L9t(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function P9t(t){var e=new L9t;e.pre=t.pre,e.body=t.body,e.post=t.post;var r=t.args.slice(0);e.argTypes=r;for(var n=0;n<r.length;++n){var a=r[n];if(a==="array"||typeof a=="object"&&a.blockIndices){if(e.argTypes[n]="array",e.arrayArgs.push(n),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+n),n<e.pre.args.length&&e.pre.args[n].count>0)throw new Error("cwise: pre() block may not reference array args");if(n<e.post.args.length&&e.post.args[n].count>0)throw new Error("cwise: post() block may not reference array args")}else if(a==="scalar")e.scalarArgs.push(n),e.shimArgs.push("scalar"+n);else if(a==="index"){if(e.indexArgs.push(n),n<e.pre.args.length&&e.pre.args[n].count>0)throw new Error("cwise: pre() block may not reference array index");if(n<e.body.args.length&&e.body.args[n].lvalue)throw new Error("cwise: body() block may not write to array index");if(n<e.post.args.length&&e.post.args[n].count>0)throw new Error("cwise: post() block may not reference array index")}else if(a==="shape"){if(e.shapeArgs.push(n),n<e.pre.args.length&&e.pre.args[n].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(n<e.body.args.length&&e.body.args[n].lvalue)throw new Error("cwise: body() block may not write to array shape");if(n<e.post.args.length&&e.post.args[n].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof a=="object"&&a.offset)e.argTypes[n]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(n);else throw new Error("cwise: Unknown argument type "+r[n])}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,B9t(e)}W2e.exports=P9t});var j6=Ee(bn=>{"use strict";w();_();var Js=z6(),U6={body:"",args:[],thisVars:[],localVars:[]};function FP(t){if(!t)return U6;for(var e=0;e<t.args.length;++e){var r=t.args[e];e===0?t.args[e]={name:r,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:t.args[e]={name:r,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function q9t(t){return Js({args:t.args,pre:FP(t.pre),body:FP(t.body),post:FP(t.proc),funcName:t.funcName})}function ya(t){for(var e=[],r=0;r<t.args.length;++r)e.push("a"+r);var n=new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""));return n(q9t(t))}var G2e={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var t in G2e){var e=G2e[t];bn[t]=ya({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),bn[t+"eq"]=ya({args:["array","array"],body:{args:["a","b"],body:"a"+e+"=b"},rvalue:!0,funcName:t+"eq"}),bn[t+"s"]=ya({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),bn[t+"seq"]=ya({args:["array","scalar"],body:{args:["a","s"],body:"a"+e+"=s"},rvalue:!0,funcName:t+"seq"})}})();var H2e={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var t in H2e){var e=H2e[t];bn[t]=ya({args:["array","array"],body:{args:["a","b"],body:"a="+e+"b"},funcName:t}),bn[t+"eq"]=ya({args:["array"],body:{args:["a"],body:"a="+e+"a"},rvalue:!0,count:2,funcName:t+"eq"})}})();var K2e={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var t in K2e){var e=K2e[t];bn[t]=ya({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),bn[t+"s"]=ya({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),bn[t+"eq"]=ya({args:["array","array"],body:{args:["a","b"],body:"a=a"+e+"b"},rvalue:!0,count:2,funcName:t+"eq"}),bn[t+"seq"]=ya({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+e+"s"},rvalue:!0,count:2,funcName:t+"seq"})}})();var Z2e=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var t=0;t<Z2e.length;++t){var e=Z2e[t];bn[e]=ya({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:e}),bn[e+"eq"]=ya({args:["array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"})}})();var J2e=["max","min","atan2","pow"];(function(){for(var t=0;t<J2e.length;++t){var e=J2e[t];bn[e]=ya({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e}),bn[e+"s"]=ya({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e+"s"}),bn[e+"eq"]=ya({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"}),bn[e+"seq"]=ya({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"seq"})}})();var Y2e=["atan2","pow"];(function(){for(var t=0;t<Y2e.length;++t){var e=Y2e[t];bn[e+"op"]=ya({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"op"}),bn[e+"ops"]=ya({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"ops"}),bn[e+"opeq"]=ya({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opeq"}),bn[e+"opseq"]=ya({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opseq"})}})();bn.any=Js({args:["array"],pre:U6,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"});bn.all=Js({args:["array"],pre:U6,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"});bn.sum=Js({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"});bn.prod=Js({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"});bn.norm2squared=Js({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"});bn.norm2=Js({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"});bn.norminf=Js({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"});bn.norm1=Js({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"});bn.sup=Js({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}});bn.inf=Js({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}});bn.argmin=Js({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}});bn.argmax=Js({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}});bn.random=ya({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"});bn.assign=ya({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"});bn.assigns=ya({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"});bn.equals=Js({args:["array","array"],pre:U6,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})});var Q2e=Ee((UDr,X2e)=>{w();_();X2e.exports=z6()({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:`{
var _inline_1_v=_inline_1_arg1_,_inline_1_i
for(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {
_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]
}
_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]
}`,args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})});var r_e=Ee((jDr,t_e)=>{"use strict";w();_();var e_e=mv(),z9t=Q2e();t_e.exports=function(e,r){for(var n=[],a=e,o=1;Array.isArray(a);)n.push(a.length),o*=a.length,a=a[0];return n.length===0?e_e():(r||(r=e_e(new Float64Array(o),n)),z9t(r,e),r)}});var a_e=Ee(($Dr,i_e)=>{"use strict";w();_();function n_e(t,e,r){var n=t[r]|0;if(n<=0)return[];var a=new Array(n),o;if(r===t.length-1)for(o=0;o<n;++o)a[o]=e;else for(o=0;o<n;++o)a[o]=n_e(t,e,r+1);return a}function U9t(t,e){var r,n;for(r=new Array(t),n=0;n<t;++n)r[n]=e;return r}function j9t(t,e){switch(typeof e=="undefined"&&(e=0),typeof t){case"number":if(t>0)return U9t(t|0,e);break;case"object":if(typeof t.length=="number")return n_e(t,e,0);break}return[]}i_e.exports=j9t});var o_e=Ee($6=>{w();_();(function(t,e){"use strict";typeof define=="function"&&define.amd?define(["exports"],e):e(typeof $6!="undefined"?$6:t.esprima={})})($6,function(t){"use strict";var e,r,n,a,o,s,u,f,l,c,h,m,g,b,A,I,C,R;e={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},r={},r[e.BooleanLiteral]="Boolean",r[e.EOF]="<end>",r[e.Identifier]="Identifier",r[e.Keyword]="Keyword",r[e.NullLiteral]="Null",r[e.NumericLiteral]="Numeric",r[e.Punctuator]="Punctuator",r[e.StringLiteral]="String",r[e.RegularExpression]="RegularExpression",n=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],a={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},o={Data:1,Get:2,Set:4},s={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},u={NonAsciiIdentifierStart:new RegExp("[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]"),NonAsciiIdentifierPart:new RegExp("[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0\u08A2-\u08AC\u08E4-\u08FE\u0900-\u0963\u0966-\u096F\u0971-\u0977\u0979-\u097F\u0981-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191C\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1D00-\u1DE6\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA697\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7B\uAA80-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]")};function O(ee,we){if(!ee)throw new Error("ASSERT: "+we)}function F(ee){return ee>=48&&ee<=57}function z(ee){return"0123456789abcdefABCDEF".indexOf(ee)>=0}function B(ee){return"01234567".indexOf(ee)>=0}function $(ee){return ee===32||ee===9||ee===11||ee===12||ee===160||ee>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(ee)>=0}function j(ee){return ee===10||ee===13||ee===8232||ee===8233}function W(ee){return ee===36||ee===95||ee>=65&&ee<=90||ee>=97&&ee<=122||ee===92||ee>=128&&u.NonAsciiIdentifierStart.test(String.fromCharCode(ee))}function T(ee){return ee===36||ee===95||ee>=65&&ee<=90||ee>=97&&ee<=122||ee>=48&&ee<=57||ee===92||ee>=128&&u.NonAsciiIdentifierPart.test(String.fromCharCode(ee))}function p(ee){switch(ee){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function v(ee){switch(ee){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function S(ee){return ee==="eval"||ee==="arguments"}function y(ee){if(c&&v(ee))return!0;switch(ee.length){case 2:return ee==="if"||ee==="in"||ee==="do";case 3:return ee==="var"||ee==="for"||ee==="new"||ee==="try"||ee==="let";case 4:return ee==="this"||ee==="else"||ee==="case"||ee==="void"||ee==="with"||ee==="enum";case 5:return ee==="while"||ee==="break"||ee==="catch"||ee==="throw"||ee==="const"||ee==="yield"||ee==="class"||ee==="super";case 6:return ee==="return"||ee==="typeof"||ee==="delete"||ee==="switch"||ee==="export"||ee==="import";case 7:return ee==="default"||ee==="finally"||ee==="extends";case 8:return ee==="function"||ee==="continue"||ee==="debugger";case 10:return ee==="instanceof";default:return!1}}function M(ee,we,Be,rt,_t){var Xt,rn;O(typeof Be=="number","Comment must have valid position"),!(C.lastCommentStart>=Be)&&(C.lastCommentStart=Be,Xt={type:ee,value:we},R.range&&(Xt.range=[Be,rt]),R.loc&&(Xt.loc=_t),R.comments.push(Xt),R.attachComment&&(R.leadingComments.push(Xt),R.trailingComments.push(Xt)))}function D(ee){var we,Be,rt,_t;for(we=h-ee,Be={start:{line:m,column:h-g-ee}};h<b;)if(rt=l.charCodeAt(h),++h,j(rt)){R.comments&&(_t=l.slice(we+ee,h-1),Be.end={line:m,column:h-g-1},M("Line",_t,we,h-1,Be)),rt===13&&l.charCodeAt(h)===10&&++h,++m,g=h;return}R.comments&&(_t=l.slice(we+ee,h),Be.end={line:m,column:h-g},M("Line",_t,we,h,Be))}function k(){var ee,we,Be,rt;for(R.comments&&(ee=h-2,we={start:{line:m,column:h-g-2}});h<b;)if(Be=l.charCodeAt(h),j(Be))Be===13&&l.charCodeAt(h+1)===10&&++h,++m,++h,g=h,h>=b&&se({},s.UnexpectedToken,"ILLEGAL");else if(Be===42){if(l.charCodeAt(h+1)===47){++h,++h,R.comments&&(rt=l.slice(ee+2,h-2),we.end={line:m,column:h-g},M("Block",rt,ee,h,we));return}++h}else++h;se({},s.UnexpectedToken,"ILLEGAL")}function E(){var ee,we;for(we=h===0;h<b;)if(ee=l.charCodeAt(h),$(ee))++h;else if(j(ee))++h,ee===13&&l.charCodeAt(h)===10&&++h,++m,g=h,we=!0;else if(ee===47)if(ee=l.charCodeAt(h+1),ee===47)++h,++h,D(2),we=!0;else if(ee===42)++h,++h,k();else break;else if(we&&ee===45)if(l.charCodeAt(h+1)===45&&l.charCodeAt(h+2)===62)h+=3,D(3);else break;else if(ee===60)if(l.slice(h+1,h+4)==="!--")++h,++h,++h,++h,D(4);else break;else break}function d(ee){var we,Be,rt,_t=0;for(Be=ee==="u"?4:2,we=0;we<Be;++we)if(h<b&&z(l[h]))rt=l[h++],_t=_t*16+"0123456789abcdef".indexOf(rt.toLowerCase());else return"";return String.fromCharCode(_t)}function N(){var ee,we;for(ee=l.charCodeAt(h++),we=String.fromCharCode(ee),ee===92&&(l.charCodeAt(h)!==117&&se({},s.UnexpectedToken,"ILLEGAL"),++h,ee=d("u"),(!ee||ee==="\\"||!W(ee.charCodeAt(0)))&&se({},s.UnexpectedToken,"ILLEGAL"),we=ee);h<b&&(ee=l.charCodeAt(h),!!T(ee));)++h,we+=String.fromCharCode(ee),ee===92&&(we=we.substr(0,we.length-1),l.charCodeAt(h)!==117&&se({},s.UnexpectedToken,"ILLEGAL"),++h,ee=d("u"),(!ee||ee==="\\"||!T(ee.charCodeAt(0)))&&se({},s.UnexpectedToken,"ILLEGAL"),we+=ee);return we}function U(){var ee,we;for(ee=h++;h<b;){if(we=l.charCodeAt(h),we===92)return h=ee,N();if(T(we))++h;else break}return l.slice(ee,h)}function q(){var ee,we,Be;return ee=h,we=l.charCodeAt(h)===92?N():U(),we.length===1?Be=e.Identifier:y(we)?Be=e.Keyword:we==="null"?Be=e.NullLiteral:we==="true"||we==="false"?Be=e.BooleanLiteral:Be=e.Identifier,{type:Be,value:we,lineNumber:m,lineStart:g,start:ee,end:h}}function P(){var ee=h,we=l.charCodeAt(h),Be,rt=l[h],_t,Xt,rn;switch(we){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++h,R.tokenize&&(we===40?R.openParenToken=R.tokens.length:we===123&&(R.openCurlyToken=R.tokens.length)),{type:e.Punctuator,value:String.fromCharCode(we),lineNumber:m,lineStart:g,start:ee,end:h};default:if(Be=l.charCodeAt(h+1),Be===61)switch(we){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return h+=2,{type:e.Punctuator,value:String.fromCharCode(we)+String.fromCharCode(Be),lineNumber:m,lineStart:g,start:ee,end:h};case 33:case 61:return h+=2,l.charCodeAt(h)===61&&++h,{type:e.Punctuator,value:l.slice(ee,h),lineNumber:m,lineStart:g,start:ee,end:h}}}if(rn=l.substr(h,4),rn===">>>=")return h+=4,{type:e.Punctuator,value:rn,lineNumber:m,lineStart:g,start:ee,end:h};if(Xt=rn.substr(0,3),Xt===">>>"||Xt==="<<="||Xt===">>=")return h+=3,{type:e.Punctuator,value:Xt,lineNumber:m,lineStart:g,start:ee,end:h};if(_t=Xt.substr(0,2),rt===_t[1]&&"+-<>&|".indexOf(rt)>=0||_t==="=>")return h+=2,{type:e.Punctuator,value:_t,lineNumber:m,lineStart:g,start:ee,end:h};if("<>=!+-*%&|^/".indexOf(rt)>=0)return++h,{type:e.Punctuator,value:rt,lineNumber:m,lineStart:g,start:ee,end:h};se({},s.UnexpectedToken,"ILLEGAL")}function G(ee){for(var we="";h<b&&z(l[h]);)we+=l[h++];return we.length===0&&se({},s.UnexpectedToken,"ILLEGAL"),W(l.charCodeAt(h))&&se({},s.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseInt("0x"+we,16),lineNumber:m,lineStart:g,start:ee,end:h}}function Z(ee){for(var we="0"+l[h++];h<b&&B(l[h]);)we+=l[h++];return(W(l.charCodeAt(h))||F(l.charCodeAt(h)))&&se({},s.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseInt(we,8),octal:!0,lineNumber:m,lineStart:g,start:ee,end:h}}function X(){var ee,we;for(ee=h+1;ee<b;++ee){if(we=l[ee],we==="8"||we==="9")return!1;if(!B(we))return!0}return!0}function he(){var ee,we,Be;if(Be=l[h],O(F(Be.charCodeAt(0))||Be===".","Numeric literal must start with a decimal digit or a decimal point"),we=h,ee="",Be!=="."){if(ee=l[h++],Be=l[h],ee==="0"){if(Be==="x"||Be==="X")return++h,G(we);if(B(Be)&&X())return Z(we)}for(;F(l.charCodeAt(h));)ee+=l[h++];Be=l[h]}if(Be==="."){for(ee+=l[h++];F(l.charCodeAt(h));)ee+=l[h++];Be=l[h]}if(Be==="e"||Be==="E")if(ee+=l[h++],Be=l[h],(Be==="+"||Be==="-")&&(ee+=l[h++]),F(l.charCodeAt(h)))for(;F(l.charCodeAt(h));)ee+=l[h++];else se({},s.UnexpectedToken,"ILLEGAL");return W(l.charCodeAt(h))&&se({},s.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseFloat(ee),lineNumber:m,lineStart:g,start:we,end:h}}function V(){var ee="",we,Be,rt,_t,Xt,rn,Zn=!1,Io,uo;for(Io=m,uo=g,we=l[h],O(we==="'"||we==='"',"String literal must starts with a quote"),Be=h,++h;h<b;)if(rt=l[h++],rt===we){we="";break}else if(rt==="\\")if(rt=l[h++],!rt||!j(rt.charCodeAt(0)))switch(rt){case"u":case"x":rn=h,Xt=d(rt),Xt?ee+=Xt:(h=rn,ee+=rt);break;case"n":ee+=`
`;break;case"r":ee+="\r";break;case"t":ee+="	";break;case"b":ee+="\b";break;case"f":ee+="\f";break;case"v":ee+="\v";break;default:B(rt)?(_t="01234567".indexOf(rt),_t!==0&&(Zn=!0),h<b&&B(l[h])&&(Zn=!0,_t=_t*8+"01234567".indexOf(l[h++]),"0123".indexOf(rt)>=0&&h<b&&B(l[h])&&(_t=_t*8+"01234567".indexOf(l[h++]))),ee+=String.fromCharCode(_t)):ee+=rt;break}else++m,rt==="\r"&&l[h]===`
`&&++h,g=h;else{if(j(rt.charCodeAt(0)))break;ee+=rt}return we!==""&&se({},s.UnexpectedToken,"ILLEGAL"),{type:e.StringLiteral,value:ee,octal:Zn,startLineNumber:Io,startLineStart:uo,lineNumber:m,lineStart:g,start:Be,end:h}}function K(ee,we){var Be;try{Be=new RegExp(ee,we)}catch(rt){se({},s.InvalidRegExp)}return Be}function ne(){var ee,we,Be,rt,_t;for(ee=l[h],O(ee==="/","Regular expression literal must start with a slash"),we=l[h++],Be=!1,rt=!1;h<b;)if(ee=l[h++],we+=ee,ee==="\\")ee=l[h++],j(ee.charCodeAt(0))&&se({},s.UnterminatedRegExp),we+=ee;else if(j(ee.charCodeAt(0)))se({},s.UnterminatedRegExp);else if(Be)ee==="]"&&(Be=!1);else if(ee==="/"){rt=!0;break}else ee==="["&&(Be=!0);return rt||se({},s.UnterminatedRegExp),_t=we.substr(1,we.length-2),{value:_t,literal:we}}function fe(){var ee,we,Be,rt;for(we="",Be="";h<b&&(ee=l[h],!!T(ee.charCodeAt(0)));)if(++h,ee==="\\"&&h<b)if(ee=l[h],ee==="u"){if(++h,rt=h,ee=d("u"),ee)for(Be+=ee,we+="\\u";rt<h;++rt)we+=l[rt];else h=rt,Be+="u",we+="\\u";Se({},s.UnexpectedToken,"ILLEGAL")}else we+="\\",Se({},s.UnexpectedToken,"ILLEGAL");else Be+=ee,we+=ee;return{value:Be,literal:we}}function pe(){var ee,we,Be,rt,_t;return I=null,E(),ee=h,we=ne(),Be=fe(),_t=K(we.value,Be.value),R.tokenize?{type:e.RegularExpression,value:_t,lineNumber:m,lineStart:g,start:ee,end:h}:{literal:we.literal+Be.literal,value:_t,start:ee,end:h}}function Ie(){var ee,we,Be,rt;return E(),ee=h,we={start:{line:m,column:h-g}},Be=pe(),we.end={line:m,column:h-g},R.tokenize||(R.tokens.length>0&&(rt=R.tokens[R.tokens.length-1],rt.range[0]===ee&&rt.type==="Punctuator"&&(rt.value==="/"||rt.value==="/=")&&R.tokens.pop()),R.tokens.push({type:"RegularExpression",value:Be.literal,range:[ee,h],loc:we})),Be}function ke(ee){return ee.type===e.Identifier||ee.type===e.Keyword||ee.type===e.BooleanLiteral||ee.type===e.NullLiteral}function ue(){var ee,we;if(ee=R.tokens[R.tokens.length-1],!ee)return Ie();if(ee.type==="Punctuator"){if(ee.value==="]")return P();if(ee.value===")")return we=R.tokens[R.openParenToken-1],we&&we.type==="Keyword"&&(we.value==="if"||we.value==="while"||we.value==="for"||we.value==="with")?Ie():P();if(ee.value==="}"){if(R.tokens[R.openCurlyToken-3]&&R.tokens[R.openCurlyToken-3].type==="Keyword"){if(we=R.tokens[R.openCurlyToken-4],!we)return P()}else if(R.tokens[R.openCurlyToken-4]&&R.tokens[R.openCurlyToken-4].type==="Keyword"){if(we=R.tokens[R.openCurlyToken-5],!we)return Ie()}else return P();return n.indexOf(we.value)>=0?P():Ie()}return Ie()}return ee.type==="Keyword"&&ee.value!=="this"?Ie():P()}function xe(){var ee;return E(),h>=b?{type:e.EOF,lineNumber:m,lineStart:g,start:h,end:h}:(ee=l.charCodeAt(h),W(ee)?q():ee===40||ee===41||ee===59?P():ee===39||ee===34?V():ee===46?F(l.charCodeAt(h+1))?he():P():F(ee)?he():R.tokenize&&ee===47?ue():P())}function ge(){var ee,we,Be,rt;return E(),ee={start:{line:m,column:h-g}},we=xe(),ee.end={line:m,column:h-g},we.type!==e.EOF&&(rt=l.slice(we.start,we.end),R.tokens.push({type:r[we.type],value:rt,range:[we.start,we.end],loc:ee})),we}function Q(){var ee;return ee=I,h=ee.end,m=ee.lineNumber,g=ee.lineStart,I=typeof R.tokens!="undefined"?ge():xe(),h=ee.end,m=ee.lineNumber,g=ee.lineStart,ee}function _e(){var ee,we,Be;ee=h,we=m,Be=g,I=typeof R.tokens!="undefined"?ge():xe(),h=ee,m=we,g=Be}function ve(ee,we){this.line=ee,this.column=we}function be(ee,we,Be,rt){this.start=new ve(ee,we),this.end=new ve(Be,rt)}f={name:"SyntaxTree",processComment:function(ee){var we,Be;if(!(ee.type===a.Program&&ee.body.length>0)){for(R.trailingComments.length>0?R.trailingComments[0].range[0]>=ee.range[1]?(Be=R.trailingComments,R.trailingComments=[]):R.trailingComments.length=0:R.bottomRightStack.length>0&&R.bottomRightStack[R.bottomRightStack.length-1].trailingComments&&R.bottomRightStack[R.bottomRightStack.length-1].trailingComments[0].range[0]>=ee.range[1]&&(Be=R.bottomRightStack[R.bottomRightStack.length-1].trailingComments,delete R.bottomRightStack[R.bottomRightStack.length-1].trailingComments);R.bottomRightStack.length>0&&R.bottomRightStack[R.bottomRightStack.length-1].range[0]>=ee.range[0];)we=R.bottomRightStack.pop();we?we.leadingComments&&we.leadingComments[we.leadingComments.length-1].range[1]<=ee.range[0]&&(ee.leadingComments=we.leadingComments,delete we.leadingComments):R.leadingComments.length>0&&R.leadingComments[R.leadingComments.length-1].range[1]<=ee.range[0]&&(ee.leadingComments=R.leadingComments,R.leadingComments=[]),Be&&(ee.trailingComments=Be),R.bottomRightStack.push(ee)}},markEnd:function(ee,we){return R.range&&(ee.range=[we.start,h]),R.loc&&(ee.loc=new be(we.startLineNumber===void 0?we.lineNumber:we.startLineNumber,we.start-(we.startLineStart===void 0?we.lineStart:we.startLineStart),m,h-g),this.postProcess(ee)),R.attachComment&&this.processComment(ee),ee},postProcess:function(ee){return R.source&&(ee.loc.source=R.source),ee},createArrayExpression:function(ee){return{type:a.ArrayExpression,elements:ee}},createAssignmentExpression:function(ee,we,Be){return{type:a.AssignmentExpression,operator:ee,left:we,right:Be}},createBinaryExpression:function(ee,we,Be){var rt=ee==="||"||ee==="&&"?a.LogicalExpression:a.BinaryExpression;return{type:rt,operator:ee,left:we,right:Be}},createBlockStatement:function(ee){return{type:a.BlockStatement,body:ee}},createBreakStatement:function(ee){return{type:a.BreakStatement,label:ee}},createCallExpression:function(ee,we){return{type:a.CallExpression,callee:ee,arguments:we}},createCatchClause:function(ee,we){return{type:a.CatchClause,param:ee,body:we}},createConditionalExpression:function(ee,we,Be){return{type:a.ConditionalExpression,test:ee,consequent:we,alternate:Be}},createContinueStatement:function(ee){return{type:a.ContinueStatement,label:ee}},createDebuggerStatement:function(){return{type:a.DebuggerStatement}},createDoWhileStatement:function(ee,we){return{type:a.DoWhileStatement,body:ee,test:we}},createEmptyStatement:function(){return{type:a.EmptyStatement}},createExpressionStatement:function(ee){return{type:a.ExpressionStatement,expression:ee}},createForStatement:function(ee,we,Be,rt){return{type:a.ForStatement,init:ee,test:we,update:Be,body:rt}},createForInStatement:function(ee,we,Be){return{type:a.ForInStatement,left:ee,right:we,body:Be,each:!1}},createFunctionDeclaration:function(ee,we,Be,rt){return{type:a.FunctionDeclaration,id:ee,params:we,defaults:Be,body:rt,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(ee,we,Be,rt){return{type:a.FunctionExpression,id:ee,params:we,defaults:Be,body:rt,rest:null,generator:!1,expression:!1}},createIdentifier:function(ee){return{type:a.Identifier,name:ee}},createIfStatement:function(ee,we,Be){return{type:a.IfStatement,test:ee,consequent:we,alternate:Be}},createLabeledStatement:function(ee,we){return{type:a.LabeledStatement,label:ee,body:we}},createLiteral:function(ee){return{type:a.Literal,value:ee.value,raw:l.slice(ee.start,ee.end)}},createMemberExpression:function(ee,we,Be){return{type:a.MemberExpression,computed:ee==="[",object:we,property:Be}},createNewExpression:function(ee,we){return{type:a.NewExpression,callee:ee,arguments:we}},createObjectExpression:function(ee){return{type:a.ObjectExpression,properties:ee}},createPostfixExpression:function(ee,we){return{type:a.UpdateExpression,operator:ee,argument:we,prefix:!1}},createProgram:function(ee){return{type:a.Program,body:ee}},createProperty:function(ee,we,Be){return{type:a.Property,key:we,value:Be,kind:ee}},createReturnStatement:function(ee){return{type:a.ReturnStatement,argument:ee}},createSequenceExpression:function(ee){return{type:a.SequenceExpression,expressions:ee}},createSwitchCase:function(ee,we){return{type:a.SwitchCase,test:ee,consequent:we}},createSwitchStatement:function(ee,we){return{type:a.SwitchStatement,discriminant:ee,cases:we}},createThisExpression:function(){return{type:a.ThisExpression}},createThrowStatement:function(ee){return{type:a.ThrowStatement,argument:ee}},createTryStatement:function(ee,we,Be,rt){return{type:a.TryStatement,block:ee,guardedHandlers:we,handlers:Be,finalizer:rt}},createUnaryExpression:function(ee,we){return ee==="++"||ee==="--"?{type:a.UpdateExpression,operator:ee,argument:we,prefix:!0}:{type:a.UnaryExpression,operator:ee,argument:we,prefix:!0}},createVariableDeclaration:function(ee,we){return{type:a.VariableDeclaration,declarations:ee,kind:we}},createVariableDeclarator:function(ee,we){return{type:a.VariableDeclarator,id:ee,init:we}},createWhileStatement:function(ee,we){return{type:a.WhileStatement,test:ee,body:we}},createWithStatement:function(ee,we){return{type:a.WithStatement,object:ee,body:we}}};function qe(){var ee,we,Be,rt;return ee=h,we=m,Be=g,E(),rt=m!==we,h=ee,m=we,g=Be,rt}function se(ee,we){var Be,rt=Array.prototype.slice.call(arguments,2),_t=we.replace(/%(\d)/g,function(Xt,rn){return O(rn<rt.length,"Message reference must be in range"),rt[rn]});throw typeof ee.lineNumber=="number"?(Be=new Error("Line "+ee.lineNumber+": "+_t),Be.index=ee.start,Be.lineNumber=ee.lineNumber,Be.column=ee.start-g+1):(Be=new Error("Line "+m+": "+_t),Be.index=h,Be.lineNumber=m,Be.column=h-g+1),Be.description=_t,Be}function Se(){try{se.apply(null,arguments)}catch(ee){if(R.errors)R.errors.push(ee);else throw ee}}function Ke(ee){if(ee.type===e.EOF&&se(ee,s.UnexpectedEOS),ee.type===e.NumericLiteral&&se(ee,s.UnexpectedNumber),ee.type===e.StringLiteral&&se(ee,s.UnexpectedString),ee.type===e.Identifier&&se(ee,s.UnexpectedIdentifier),ee.type===e.Keyword){if(p(ee.value))se(ee,s.UnexpectedReserved);else if(c&&v(ee.value)){Se(ee,s.StrictReservedWord);return}se(ee,s.UnexpectedToken,ee.value)}se(ee,s.UnexpectedToken,ee.value)}function J(ee){var we=Q();(we.type!==e.Punctuator||we.value!==ee)&&Ke(we)}function H(ee){var we=Q();(we.type!==e.Keyword||we.value!==ee)&&Ke(we)}function Y(ee){return I.type===e.Punctuator&&I.value===ee}function oe(ee){return I.type===e.Keyword&&I.value===ee}function Me(){var ee;return I.type!==e.Punctuator?!1:(ee=I.value,ee==="="||ee==="*="||ee==="/="||ee==="%="||ee==="+="||ee==="-="||ee==="<<="||ee===">>="||ee===">>>="||ee==="&="||ee==="^="||ee==="|=")}function Ge(){var ee,we=h,Be=m,rt=g,_t=I;if(l.charCodeAt(h)===59||Y(";")){Q();return}if(ee=m,E(),m!==ee){h=we,m=Be,g=rt,I=_t;return}I.type!==e.EOF&&!Y("}")&&Ke(I)}function Ce(ee){return ee.type===a.Identifier||ee.type===a.MemberExpression}function Xe(){var ee=[],we;for(we=I,J("[");!Y("]");)Y(",")?(Q(),ee.push(null)):(ee.push(_n()),Y("]")||J(","));return Q(),A.markEnd(A.createArrayExpression(ee),we)}function Yt(ee,we){var Be,rt,_t;return Be=c,_t=I,rt=Vr(),we&&c&&S(ee[0].name)&&Se(we,s.StrictParamName),c=Be,A.markEnd(A.createFunctionExpression(null,ee,[],rt),_t)}function tt(){var ee,we;return we=I,ee=Q(),ee.type===e.StringLiteral||ee.type===e.NumericLiteral?(c&&ee.octal&&Se(ee,s.StrictOctalLiteral),A.markEnd(A.createLiteral(ee),we)):A.markEnd(A.createIdentifier(ee.value),we)}function Ye(){var ee,we,Be,rt,_t,Xt;if(ee=I,Xt=I,ee.type===e.Identifier)return Be=tt(),ee.value==="get"&&!Y(":")?(we=tt(),J("("),J(")"),rt=Yt([]),A.markEnd(A.createProperty("get",we,rt),Xt)):ee.value==="set"&&!Y(":")?(we=tt(),J("("),ee=I,ee.type!==e.Identifier?(J(")"),Se(ee,s.UnexpectedToken,ee.value),rt=Yt([])):(_t=[ht()],J(")"),rt=Yt(_t,ee)),A.markEnd(A.createProperty("set",we,rt),Xt)):(J(":"),rt=_n(),A.markEnd(A.createProperty("init",Be,rt),Xt));if(ee.type===e.EOF||ee.type===e.Punctuator)Ke(ee);else return we=tt(),J(":"),rt=_n(),A.markEnd(A.createProperty("init",we,rt),Xt)}function dr(){var ee=[],we,Be,rt,_t,Xt={},rn=String,Zn;for(Zn=I,J("{");!Y("}");)we=Ye(),we.key.type===a.Identifier?Be=we.key.name:Be=rn(we.key.value),_t=we.kind==="init"?o.Data:we.kind==="get"?o.Get:o.Set,rt="$"+Be,Object.prototype.hasOwnProperty.call(Xt,rt)?(Xt[rt]===o.Data?c&&_t===o.Data?Se({},s.StrictDuplicateProperty):_t!==o.Data&&Se({},s.AccessorDataProperty):_t===o.Data?Se({},s.AccessorDataProperty):Xt[rt]&_t&&Se({},s.AccessorGetSet),Xt[rt]|=_t):Xt[rt]=_t,ee.push(we),Y("}")||J(",");return J("}"),A.markEnd(A.createObjectExpression(ee),Zn)}function re(){var ee;return J("("),ee=ut(),J(")"),ee}function Te(){var ee,we,Be,rt;if(Y("("))return re();if(Y("["))return Xe();if(Y("{"))return dr();if(ee=I.type,rt=I,ee===e.Identifier)Be=A.createIdentifier(Q().value);else if(ee===e.StringLiteral||ee===e.NumericLiteral)c&&I.octal&&Se(I,s.StrictOctalLiteral),Be=A.createLiteral(Q());else if(ee===e.Keyword){if(oe("function"))return Zl();oe("this")?(Q(),Be=A.createThisExpression()):Ke(Q())}else ee===e.BooleanLiteral?(we=Q(),we.value=we.value==="true",Be=A.createLiteral(we)):ee===e.NullLiteral?(we=Q(),we.value=null,Be=A.createLiteral(we)):Y("/")||Y("/=")?(typeof R.tokens!="undefined"?Be=A.createLiteral(Ie()):Be=A.createLiteral(pe()),_e()):Ke(Q());return A.markEnd(Be,rt)}function ft(){var ee=[];if(J("("),!Y(")"))for(;h<b&&(ee.push(_n()),!Y(")"));)J(",");return J(")"),ee}function ze(){var ee,we;return we=I,ee=Q(),ke(ee)||Ke(ee),A.markEnd(A.createIdentifier(ee.value),we)}function et(){return J("."),ze()}function lr(){var ee;return J("["),ee=ut(),J("]"),ee}function ct(){var ee,we,Be;return Be=I,H("new"),ee=ki(),we=Y("(")?ft():[],A.markEnd(A.createNewExpression(ee,we),Be)}function dt(){var ee,we,Be,rt,_t=C.allowIn;for(rt=I,C.allowIn=!0,ee=oe("new")?ct():Te();;){if(Y("."))Be=et(),ee=A.createMemberExpression(".",ee,Be);else if(Y("("))we=ft(),ee=A.createCallExpression(ee,we);else if(Y("["))Be=lr(),ee=A.createMemberExpression("[",ee,Be);else break;A.markEnd(ee,rt)}return C.allowIn=_t,ee}function ki(){var ee,we,Be;for(O(C.allowIn,"callee of new expression always allow in keyword."),Be=I,ee=oe("new")?ct():Te();Y(".")||Y("[");)Y("[")?(we=lr(),ee=A.createMemberExpression("[",ee,we)):(we=et(),ee=A.createMemberExpression(".",ee,we)),A.markEnd(ee,Be);return ee}function vt(){var ee,we,Be=I;return ee=dt(),I.type===e.Punctuator&&(Y("++")||Y("--"))&&!qe()&&(c&&ee.type===a.Identifier&&S(ee.name)&&Se({},s.StrictLHSPostfix),Ce(ee)||Se({},s.InvalidLHSInAssignment),we=Q(),ee=A.markEnd(A.createPostfixExpression(we.value,ee),Be)),ee}function pt(){var ee,we,Be;return I.type!==e.Punctuator&&I.type!==e.Keyword?we=vt():Y("++")||Y("--")?(Be=I,ee=Q(),we=pt(),c&&we.type===a.Identifier&&S(we.name)&&Se({},s.StrictLHSPrefix),Ce(we)||Se({},s.InvalidLHSInAssignment),we=A.createUnaryExpression(ee.value,we),we=A.markEnd(we,Be)):Y("+")||Y("-")||Y("~")||Y("!")?(Be=I,ee=Q(),we=pt(),we=A.createUnaryExpression(ee.value,we),we=A.markEnd(we,Be)):oe("delete")||oe("void")||oe("typeof")?(Be=I,ee=Q(),we=pt(),we=A.createUnaryExpression(ee.value,we),we=A.markEnd(we,Be),c&&we.operator==="delete"&&we.argument.type===a.Identifier&&Se({},s.StrictDelete)):we=vt(),we}function _i(ee,we){var Be=0;if(ee.type!==e.Punctuator&&ee.type!==e.Keyword)return 0;switch(ee.value){case"||":Be=1;break;case"&&":Be=2;break;case"|":Be=3;break;case"^":Be=4;break;case"&":Be=5;break;case"==":case"!=":case"===":case"!==":Be=6;break;case"<":case">":case"<=":case">=":case"instanceof":Be=7;break;case"in":Be=we?7:0;break;case"<<":case">>":case">>>":Be=8;break;case"+":case"-":Be=9;break;case"*":case"/":case"%":Be=11;break;default:break}return Be}function gt(){var ee,we,Be,rt,_t,Xt,rn,Zn,Io,uo;if(ee=I,Io=pt(),rt=I,_t=_i(rt,C.allowIn),_t===0)return Io;for(rt.prec=_t,Q(),we=[ee,I],rn=pt(),Xt=[Io,rt,rn];(_t=_i(I,C.allowIn))>0;){for(;Xt.length>2&&_t<=Xt[Xt.length-2].prec;)rn=Xt.pop(),Zn=Xt.pop().value,Io=Xt.pop(),Be=A.createBinaryExpression(Zn,Io,rn),we.pop(),ee=we[we.length-1],A.markEnd(Be,ee),Xt.push(Be);rt=Q(),rt.prec=_t,Xt.push(rt),we.push(I),Be=pt(),Xt.push(Be)}for(uo=Xt.length-1,Be=Xt[uo],we.pop();uo>1;)Be=A.createBinaryExpression(Xt[uo-1].value,Xt[uo-2],Be),uo-=2,ee=we.pop(),A.markEnd(Be,ee);return Be}function yt(){var ee,we,Be,rt,_t;return _t=I,ee=gt(),Y("?")&&(Q(),we=C.allowIn,C.allowIn=!0,Be=_n(),C.allowIn=we,J(":"),rt=_n(),ee=A.createConditionalExpression(ee,Be,rt),A.markEnd(ee,_t)),ee}function _n(){var ee,we,Be,rt,_t;return ee=I,_t=I,rt=we=yt(),Me()&&(Ce(we)||Se({},s.InvalidLHSInAssignment),c&&we.type===a.Identifier&&S(we.name)&&Se(ee,s.StrictLHSAssignment),ee=Q(),Be=_n(),rt=A.markEnd(A.createAssignmentExpression(ee.value,we,Be),_t)),rt}function ut(){var ee,we=I;if(ee=_n(),Y(",")){for(ee=A.createSequenceExpression([ee]);h<b&&Y(",");)Q(),ee.expressions.push(_n());A.markEnd(ee,we)}return ee}function bt(){for(var ee=[],we;h<b&&!(Y("}")||(we=ms(),typeof we=="undefined"));)ee.push(we);return ee}function si(){var ee,we;return we=I,J("{"),ee=bt(),J("}"),A.markEnd(A.createBlockStatement(ee),we)}function ht(){var ee,we;return we=I,ee=Q(),ee.type!==e.Identifier&&Ke(ee),A.markEnd(A.createIdentifier(ee.value),we)}function wt(ee){var we=null,Be,rt;return rt=I,Be=ht(),c&&S(Be.name)&&Se({},s.StrictVarName),ee==="const"?(J("="),we=_n()):Y("=")&&(Q(),we=_n()),A.markEnd(A.createVariableDeclarator(Be,we),rt)}function ri(ee){var we=[];do{if(we.push(wt(ee)),!Y(","))break;Q()}while(h<b);return we}function at(){var ee;return H("var"),ee=ri(),Ge(),A.createVariableDeclaration(ee,"var")}function lt(ee){var we,Be;return Be=I,H(ee),we=ri(ee),Ge(),A.markEnd(A.createVariableDeclaration(we,ee),Be)}function ie(){return J(";"),A.createEmptyStatement()}function ce(){var ee=ut();return Ge(),A.createExpressionStatement(ee)}function de(){var ee,we,Be;return H("if"),J("("),ee=ut(),J(")"),we=pr(),oe("else")?(Q(),Be=pr()):Be=null,A.createIfStatement(ee,we,Be)}function ye(){var ee,we,Be;return H("do"),Be=C.inIteration,C.inIteration=!0,ee=pr(),C.inIteration=Be,H("while"),J("("),we=ut(),J(")"),Y(";")&&Q(),A.createDoWhileStatement(ee,we)}function Ae(){var ee,we,Be;return H("while"),J("("),ee=ut(),J(")"),Be=C.inIteration,C.inIteration=!0,we=pr(),C.inIteration=Be,A.createWhileStatement(ee,we)}function Ne(){var ee,we,Be;return Be=I,ee=Q(),we=ri(),A.markEnd(A.createVariableDeclaration(we,ee.value),Be)}function Pe(){var ee,we,Be,rt,_t,Xt,rn,Zn=C.allowIn;return ee=we=Be=null,H("for"),J("("),Y(";")?Q():(oe("var")||oe("let")?(C.allowIn=!1,ee=Ne(),C.allowIn=Zn,ee.declarations.length===1&&oe("in")&&(Q(),rt=ee,_t=ut(),ee=null)):(C.allowIn=!1,ee=ut(),C.allowIn=Zn,oe("in")&&(Ce(ee)||Se({},s.InvalidLHSInForIn),Q(),rt=ee,_t=ut(),ee=null)),typeof rt=="undefined"&&J(";")),typeof rt=="undefined"&&(Y(";")||(we=ut()),J(";"),Y(")")||(Be=ut())),J(")"),rn=C.inIteration,C.inIteration=!0,Xt=pr(),C.inIteration=rn,typeof rt=="undefined"?A.createForStatement(ee,we,Be,Xt):A.createForInStatement(rt,_t,Xt)}function je(){var ee=null,we;return H("continue"),l.charCodeAt(h)===59?(Q(),C.inIteration||se({},s.IllegalContinue),A.createContinueStatement(null)):qe()?(C.inIteration||se({},s.IllegalContinue),A.createContinueStatement(null)):(I.type===e.Identifier&&(ee=ht(),we="$"+ee.name,Object.prototype.hasOwnProperty.call(C.labelSet,we)||se({},s.UnknownLabel,ee.name)),Ge(),ee===null&&!C.inIteration&&se({},s.IllegalContinue),A.createContinueStatement(ee))}function Qe(){var ee=null,we;return H("break"),l.charCodeAt(h)===59?(Q(),C.inIteration||C.inSwitch||se({},s.IllegalBreak),A.createBreakStatement(null)):qe()?(C.inIteration||C.inSwitch||se({},s.IllegalBreak),A.createBreakStatement(null)):(I.type===e.Identifier&&(ee=ht(),we="$"+ee.name,Object.prototype.hasOwnProperty.call(C.labelSet,we)||se({},s.UnknownLabel,ee.name)),Ge(),ee===null&&!(C.inIteration||C.inSwitch)&&se({},s.IllegalBreak),A.createBreakStatement(ee))}function Ve(){var ee=null;return H("return"),C.inFunctionBody||Se({},s.IllegalReturn),l.charCodeAt(h)===32&&W(l.charCodeAt(h+1))?(ee=ut(),Ge(),A.createReturnStatement(ee)):qe()?A.createReturnStatement(null):(Y(";")||!Y("}")&&I.type!==e.EOF&&(ee=ut()),Ge(),A.createReturnStatement(ee))}function ot(){var ee,we;return c&&(E(),Se({},s.StrictModeWith)),H("with"),J("("),ee=ut(),J(")"),we=pr(),A.createWithStatement(ee,we)}function mt(){var ee,we=[],Be,rt;for(rt=I,oe("default")?(Q(),ee=null):(H("case"),ee=ut()),J(":");h<b&&!(Y("}")||oe("default")||oe("case"));)Be=pr(),we.push(Be);return A.markEnd(A.createSwitchCase(ee,we),rt)}function Mt(){var ee,we,Be,rt,_t;if(H("switch"),J("("),ee=ut(),J(")"),J("{"),we=[],Y("}"))return Q(),A.createSwitchStatement(ee,we);for(rt=C.inSwitch,C.inSwitch=!0,_t=!1;h<b&&!Y("}");)Be=mt(),Be.test===null&&(_t&&se({},s.MultipleDefaultsInSwitch),_t=!0),we.push(Be);return C.inSwitch=rt,J("}"),A.createSwitchStatement(ee,we)}function $t(){var ee;return H("throw"),qe()&&se({},s.NewlineAfterThrow),ee=ut(),Ge(),A.createThrowStatement(ee)}function cr(){var ee,we,Be;return Be=I,H("catch"),J("("),Y(")")&&Ke(I),ee=ht(),c&&S(ee.name)&&Se({},s.StrictCatchVariable),J(")"),we=si(),A.markEnd(A.createCatchClause(ee,we),Be)}function rr(){var ee,we=[],Be=null;return H("try"),ee=si(),oe("catch")&&we.push(cr()),oe("finally")&&(Q(),Be=si()),we.length===0&&!Be&&se({},s.NoCatchOrFinally),A.createTryStatement(ee,[],we,Be)}function Br(){return H("debugger"),Ge(),A.createDebuggerStatement()}function pr(){var ee=I.type,we,Be,rt,_t;if(ee===e.EOF&&Ke(I),ee===e.Punctuator&&I.value==="{")return si();if(_t=I,ee===e.Punctuator)switch(I.value){case";":return A.markEnd(ie(),_t);case"(":return A.markEnd(ce(),_t);default:break}if(ee===e.Keyword)switch(I.value){case"break":return A.markEnd(Qe(),_t);case"continue":return A.markEnd(je(),_t);case"debugger":return A.markEnd(Br(),_t);case"do":return A.markEnd(ye(),_t);case"for":return A.markEnd(Pe(),_t);case"function":return A.markEnd(fa(),_t);case"if":return A.markEnd(de(),_t);case"return":return A.markEnd(Ve(),_t);case"switch":return A.markEnd(Mt(),_t);case"throw":return A.markEnd($t(),_t);case"try":return A.markEnd(rr(),_t);case"var":return A.markEnd(at(),_t);case"while":return A.markEnd(Ae(),_t);case"with":return A.markEnd(ot(),_t);default:break}return we=ut(),we.type===a.Identifier&&Y(":")?(Q(),rt="$"+we.name,Object.prototype.hasOwnProperty.call(C.labelSet,rt)&&se({},s.Redeclaration,"Label",we.name),C.labelSet[rt]=!0,Be=pr(),delete C.labelSet[rt],A.markEnd(A.createLabeledStatement(we,Be),_t)):(Ge(),A.markEnd(A.createExpressionStatement(we),_t))}function Vr(){var ee,we=[],Be,rt,_t,Xt,rn,Zn,Io,uo;for(uo=I,J("{");h<b&&!(I.type!==e.StringLiteral||(Be=I,ee=ms(),we.push(ee),ee.expression.type!==a.Literal));)rt=l.slice(Be.start+1,Be.end-1),rt==="use strict"?(c=!0,_t&&Se(_t,s.StrictOctalLiteral)):!_t&&Be.octal&&(_t=Be);for(Xt=C.labelSet,rn=C.inIteration,Zn=C.inSwitch,Io=C.inFunctionBody,C.labelSet={},C.inIteration=!1,C.inSwitch=!1,C.inFunctionBody=!0;h<b&&!(Y("}")||(ee=ms(),typeof ee=="undefined"));)we.push(ee);return J("}"),C.labelSet=Xt,C.inIteration=rn,C.inSwitch=Zn,C.inFunctionBody=Io,A.markEnd(A.createBlockStatement(we),uo)}function kn(ee){var we,Be=[],rt,_t,Xt,rn,Zn;if(J("("),!Y(")"))for(Xt={};h<b&&(rt=I,we=ht(),rn="$"+rt.value,c?(S(rt.value)&&(_t=rt,Zn=s.StrictParamName),Object.prototype.hasOwnProperty.call(Xt,rn)&&(_t=rt,Zn=s.StrictParamDupe)):ee||(S(rt.value)?(ee=rt,Zn=s.StrictParamName):v(rt.value)?(ee=rt,Zn=s.StrictReservedWord):Object.prototype.hasOwnProperty.call(Xt,rn)&&(ee=rt,Zn=s.StrictParamDupe)),Be.push(we),Xt[rn]=!0,!Y(")"));)J(",");return J(")"),{params:Be,stricted:_t,firstRestricted:ee,message:Zn}}function fa(){var ee,we=[],Be,rt,_t,Xt,rn,Zn,Io,uo;return uo=I,H("function"),rt=I,ee=ht(),c?S(rt.value)&&Se(rt,s.StrictFunctionName):S(rt.value)?(rn=rt,Zn=s.StrictFunctionName):v(rt.value)&&(rn=rt,Zn=s.StrictReservedWord),Xt=kn(rn),we=Xt.params,_t=Xt.stricted,rn=Xt.firstRestricted,Xt.message&&(Zn=Xt.message),Io=c,Be=Vr(),c&&rn&&se(rn,Zn),c&&_t&&Se(_t,Zn),c=Io,A.markEnd(A.createFunctionDeclaration(ee,we,[],Be),uo)}function Zl(){var ee,we=null,Be,rt,_t,Xt,rn=[],Zn,Io,uo;return uo=I,H("function"),Y("(")||(ee=I,we=ht(),c?S(ee.value)&&Se(ee,s.StrictFunctionName):S(ee.value)?(rt=ee,_t=s.StrictFunctionName):v(ee.value)&&(rt=ee,_t=s.StrictReservedWord)),Xt=kn(rt),rn=Xt.params,Be=Xt.stricted,rt=Xt.firstRestricted,Xt.message&&(_t=Xt.message),Io=c,Zn=Vr(),c&&rt&&se(rt,_t),c&&Be&&Se(Be,_t),c=Io,A.markEnd(A.createFunctionExpression(we,rn,[],Zn),uo)}function ms(){if(I.type===e.Keyword)switch(I.value){case"const":case"let":return lt(I.value);case"function":return fa();default:return pr()}if(I.type!==e.EOF)return pr()}function $w(){for(var ee,we=[],Be,rt,_t;h<b&&(Be=I,!(Be.type!==e.StringLiteral||(ee=ms(),we.push(ee),ee.expression.type!==a.Literal)));)rt=l.slice(Be.start+1,Be.end-1),rt==="use strict"?(c=!0,_t&&Se(_t,s.StrictOctalLiteral)):!_t&&Be.octal&&(_t=Be);for(;h<b&&(ee=ms(),typeof ee!="undefined");)we.push(ee);return we}function Kv(){var ee,we;return E(),_e(),we=I,c=!1,ee=$w(),A.markEnd(A.createProgram(ee),we)}function gp(){var ee,we,Be,rt=[];for(ee=0;ee<R.tokens.length;++ee)we=R.tokens[ee],Be={type:we.type,value:we.value},R.range&&(Be.range=we.range),R.loc&&(Be.loc=we.loc),rt.push(Be);R.tokens=rt}function Vw(ee,we){var Be,rt,_t;Be=String,typeof ee!="string"&&!(ee instanceof String)&&(ee=Be(ee)),A=f,l=ee,h=0,m=l.length>0?1:0,g=0,b=l.length,I=null,C={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},R={},we=we||{},we.tokens=!0,R.tokens=[],R.tokenize=!0,R.openParenToken=-1,R.openCurlyToken=-1,R.range=typeof we.range=="boolean"&&we.range,R.loc=typeof we.loc=="boolean"&&we.loc,typeof we.comment=="boolean"&&we.comment&&(R.comments=[]),typeof we.tolerant=="boolean"&&we.tolerant&&(R.errors=[]);try{if(_e(),I.type===e.EOF)return R.tokens;for(rt=Q();I.type!==e.EOF;)try{rt=Q()}catch(Xt){if(rt=I,R.errors){R.errors.push(Xt);break}else throw Xt}gp(),_t=R.tokens,typeof R.comments!="undefined"&&(_t.comments=R.comments),typeof R.errors!="undefined"&&(_t.errors=R.errors)}catch(Xt){throw Xt}finally{R={}}return _t}function iu(ee,we){var Be,rt;rt=String,typeof ee!="string"&&!(ee instanceof String)&&(ee=rt(ee)),A=f,l=ee,h=0,m=l.length>0?1:0,g=0,b=l.length,I=null,C={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},R={},typeof we!="undefined"&&(R.range=typeof we.range=="boolean"&&we.range,R.loc=typeof we.loc=="boolean"&&we.loc,R.attachComment=typeof we.attachComment=="boolean"&&we.attachComment,R.loc&&we.source!==null&&we.source!==void 0&&(R.source=rt(we.source)),typeof we.tokens=="boolean"&&we.tokens&&(R.tokens=[]),typeof we.comment=="boolean"&&we.comment&&(R.comments=[]),typeof we.tolerant=="boolean"&&we.tolerant&&(R.errors=[]),R.attachComment&&(R.range=!0,R.comments=[],R.bottomRightStack=[],R.trailingComments=[],R.leadingComments=[]));try{Be=Kv(),typeof R.comments!="undefined"&&(Be.comments=R.comments),typeof R.tokens!="undefined"&&(gp(),Be.tokens=R.tokens),typeof R.errors!="undefined"&&(Be.errors=R.errors)}catch(_t){throw _t}finally{R={}}return Be}t.version="1.2.5",t.tokenize=Vw,t.parse=iu,t.Syntax=function(){var ee,we={};typeof Object.create=="function"&&(we=Object.create(null));for(ee in a)a.hasOwnProperty(ee)&&(we[ee]=a[ee]);return typeof Object.freeze=="function"&&Object.freeze(we),we}()})});var f_e=Ee((WDr,u_e)=>{"use strict";w();_();var $9t=o_e(),s_e=OP(),V9t=0;function W9t(t,e,r){this.name=t,this.lvalue=e,this.rvalue=r,this.count=0}function G9t(t,e,r,n){this.body=t,this.args=e,this.thisVars=r,this.localVars=n}function H9t(t){if(t==="eval")throw new Error("cwise-parser: eval() not allowed");return typeof window!="undefined"?t in window:typeof globalThis!="undefined"?t in globalThis:typeof self!="undefined"?t in self:!1}function K9t(t){for(var e=t.body[0].expression.callee.params,r=new Array(e.length),n=0;n<e.length;++n)r[n]=e[n].name;return r}function Z9t(t){for(var e=["(",t,")()"].join(""),r=$9t.parse(e,{range:!0}),n="_inline_"+V9t+++"_",a=K9t(r),o=new Array(a.length),s=0;s<a.length;++s)o[s]=new W9t([n,"arg",s,"_"].join(""),!1,!1);for(var u=new Array(e.length),s=0,f=e.length;s<f;++s)u[s]=e.charAt(s);var l=[],c=[],h=!1;function m(z){var B=n+z.replace(/\_/g,"__");return l.push(B),B}function g(z){var B="this_"+z.replace(/\_/g,"__");return c.push(B),B}function b(z,B){for(var $=z.range[0],j=z.range[1],W=$+1;W<j;++W)u[W]="";u[$]=B}function A(z){return"'"+z.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function I(z){return u.slice(z.range[0],z.range[1]).join("")}var C=1,R=2;function O(z){return z.parent.type==="AssignmentExpression"&&z.parent.left===z?z.parent.operator==="="?C:C|R:z.parent.type==="UpdateExpression"?C|R:R}(function z(B,$){if(B.parent=$,B.type==="MemberExpression")B.computed?(z(B.object,B),z(B.property,B)):B.object.type==="ThisExpression"?b(B,g(B.property.name)):z(B.object,B);else{if(B.type==="ThisExpression")throw new Error("cwise-parser: Computed this is not allowed");if(B.type==="Identifier"){var j=B.name,W=a.indexOf(j);if(W>=0){var T=o[W],p=O(B);p&C&&(T.lvalue=!0),p&R&&(T.rvalue=!0),++T.count,b(B,T.name)}else H9t(j)||b(B,m(j))}else if(B.type==="Literal")typeof B.value=="string"&&b(B,A(B.value));else{if(B.type==="WithStatement")throw new Error("cwise-parser: with() statements not allowed");for(var v=Object.keys(B),S=0,y=v.length;S<y;++S)if(v[S]!=="parent"){var M=B[v[S]];if(M)if(M instanceof Array)for(var D=0;D<M.length;++D)M[D]&&typeof M[D].type=="string"&&z(M[D],B);else typeof M.type=="string"&&z(M,B)}}}})(r.body[0].expression.callee.body,void 0),s_e(l),s_e(c);var F=new G9t(I(r.body[0].expression.callee.body),o,c,l);return F}u_e.exports=Z9t});var gS=Ee((GDr,l_e)=>{"use strict";w();_();var BP=f_e(),J9t=z6(),V6=["args","body"],Y9t=["pre","post","printCode","funcName","blockSize"];function X9t(t){for(var e in t)V6.indexOf(e)<0&&Y9t.indexOf(e)<0&&console.warn("cwise: Unknown argument '"+e+"' passed to expression compiler");for(var r=0;r<V6.length;++r)if(!t[V6[r]])throw new Error("cwise: Missing argument: "+V6[r]);return J9t({args:t.args,pre:BP(t.pre||function(){}),body:BP(t.body),post:BP(t.post||function(){}),debug:!!t.printCode,funcName:t.funcName||t.body.name||"cwise",blockSize:t.blockSize||64})}l_e.exports=X9t});var h_e=Ee((HDr,c_e)=>{"use strict";w();_();var Q9t=a_e(),e7t=gS(),t7t=e7t({args:["array","scalar","index"],body:function(e,r,n){var a=r,o;for(o=0;o<n.length-1;++o)a=a[n[o]];a[n[n.length-1]]=e}});c_e.exports=function(e){var r=Q9t(e.shape);return t7t(e,r),r}});var m_e=Ee((W6,d_e)=>{"use strict";w();_();Object.defineProperty(W6,"__esModule",{value:!0});W6.default=function(t,e){for(var r=new Float64Array(t*e),n=0;n<r.length;n++)r[n]=p_e()*1e-4;return(0,n7t.default)(r,[t,e])};var r7t=mv(),n7t=i7t(r7t);function i7t(t){return t&&t.__esModule?t:{default:t}}function p_e(){var t=2*Math.random()-1,e=2*Math.random()-1,r=t*t+e*e;return r==0||r>1?p_e():t*Math.sqrt(-2*Math.log(r)/r)}d_e.exports=W6.default});var LP=Ee((H6,g_e)=>{"use strict";w();_();Object.defineProperty(H6,"__esModule",{value:!0});H6.default=function(t,e){var r=t.shape[0],n=(0,o7t.default)(new Float64Array(r*r),[r,r]);switch(e){case"euclidean":for(var a=0;a<r;a++)for(var o=a+1;o<r;o++){var s=u7t(t.pick(a,null),t.pick(o,null));n.set(a,o,s),n.set(o,a,s)}break;case"manhattan":for(var a=0;a<r;a++)for(var o=a+1;o<r;o++){var s=f7t(t.pick(a,null),t.pick(o,null));n.set(a,o,s),n.set(o,a,s)}break;case"jaccard":for(var a=0;a<r;a++)for(var o=a+1;o<r;o++){var s=l7t(t.pick(a,null),t.pick(o,null));n.set(a,o,s),n.set(o,a,s)}break;case"dice":for(var a=0;a<r;a++)for(var o=a+1;o<r;o++){var s=c7t(t.pick(a,null),t.pick(o,null));n.set(a,o,s),n.set(o,a,s)}break;default:}return n};var a7t=mv(),o7t=v_e(a7t),s7t=gS(),G6=v_e(s7t);function v_e(t){return t&&t.__esModule?t:{default:t}}var u7t=(0,G6.default)({args:["array","array"],pre:function(e,r){this.sum=0},body:function(e,r){var n=e-r;this.sum+=n*n},post:function(e,r){return Math.sqrt(this.sum)}}),f7t=(0,G6.default)({args:["array","array"],pre:function(e,r){this.sum=0},body:function(e,r){this.sum+=Math.abs(e-r)},post:function(e,r){return this.sum}}),l7t=(0,G6.default)({args:["array","array"],pre:function(e,r){this.tf=0,this.tt=0},body:function(e,r){var n=Math.round(e),a=Math.round(r);this.tf+=+(n!=a),this.tt+=+(n==1&&a==1)},post:function(e,r){return this.tf+this.tt===0?1:this.tf/(this.tf+this.tt)}}),c7t=(0,G6.default)({args:["array","array"],pre:function(e,r){this.tf=0,this.tt=0},body:function(e,r){var n=Math.round(e),a=Math.round(r);this.tf+=+(n!=a),this.tt+=+(n==1&&a==1)},post:function(e,r){return this.tf+this.tt===0?1:this.tf/(this.tf+2*this.tt)}});g_e.exports=H6.default});var __e=Ee((Z6,x_e)=>{"use strict";w();_();Object.defineProperty(Z6,"__esModule",{value:!0});Z6.default=function(t,e){for(var r=100,n=t.shape[0],a=(0,y_e.default)(new Float64Array(n*n),[n,n]),o=(0,y_e.default)(new Float64Array(n*n),[n,n]),s=void 0,u=void 0,f=1/0,l=0,c=Math.log(e),h=void 0,m=void 0,g=void 0,b=void 0,A=0;A<n;A++){s=1,u=-1/0,f=1/0;for(var I=0;I<r;I++){for(var C=0;C<n;C++)a.set(A,C,Math.exp(-t.get(A,C)*s));a.set(A,A,0),g=0;for(var C=0;C<n;C++)g+=a.get(A,C);g==0&&(g=d7t),b=0;for(var C=0;C<n;C++)a.set(A,C,a.get(A,C)/g),b+=t.get(A,C)*a.get(A,C);if(m=Math.log(g)+s*b,h=m-c,Math.abs(h)<=m7t)break;h>0?(u=s,f==1/0?s=s*2:s=(s+f)/2):(f=s,u==-1/0?s=s/2:s=(s+u)/2)}l+=s}K6.default.add(o,a,a.transpose(1,0));var R=Math.max(K6.default.sum(o),b_e);return K6.default.divseq(o,R),K6.default.maxseq(o,b_e),o};var h7t=mv(),y_e=w_e(h7t),p7t=j6(),K6=w_e(p7t);function w_e(t){return t&&t.__esModule?t:{default:t}}var d7t=1e-7,b_e=Number.EPSILON||2220446049250313e-31,m7t=1e-5;x_e.exports=Z6.default});var M_e=Ee((Y6,E_e)=>{"use strict";w();_();Object.defineProperty(Y6,"__esModule",{value:!0});Y6.default=function(t,e,r){var n=t.shape[0],a=t.shape[1],o=(0,Fb.default)(new Float64Array(n*n),[n,n]),s=(0,x7t.default)(t,"euclidean");_7t(s);var u=(r+1)/-2;ao.default.powseq(ao.default.divseq(ao.default.addseq(s,1),r),u);for(var f=0;f<n;f++)s.set(f,f,0);var l=Math.max(ao.default.sum(s),S_e);ao.default.divs(o,s,l),ao.default.maxseq(o,S_e);var c=(0,Fb.default)(new Float64Array(n*n),[n,n]),h=(0,Fb.default)(new Float64Array(n*n),[n,n]);ao.default.div(c,e,o),ao.default.logeq(c),ao.default.assign(h,e);var m=ao.default.sum(ao.default.muleq(c,h)),g=(0,Fb.default)(new Float64Array(t.size),t.shape),b=(0,Fb.default)(new Float64Array(n*n),[n,n]);ao.default.sub(b,e,o),ao.default.muleq(b,s);for(var f=0;f<n;f++)for(var A=0;A<a;A++){var I=(0,Fb.default)(new Float64Array(t.shape[0]),[t.shape[0]]);ao.default.assign(I,t.pick(null,A)),ao.default.addseq(ao.default.negeq(I),t.get(f,A)),ao.default.muleq(I,b.pick(f,null)),g.set(f,A,ao.default.sum(I))}var C=2*(r+1)/r;return ao.default.mulseq(g,C),[m,g]};var v7t=mv(),Fb=J6(v7t),g7t=j6(),ao=J6(g7t),y7t=gS(),b7t=J6(y7t),w7t=LP(),x7t=J6(w7t);function J6(t){return t&&t.__esModule?t:{default:t}}var S_e=Number.EPSILON||2220446049250313e-31,_7t=(0,b7t.default)({args:["array"],body:function(e){e=e*e}});E_e.exports=Y6.default});var k_e=Ee((X6,D_e)=>{"use strict";w();_();Object.defineProperty(X6,"__esModule",{value:!0});var yS=function(){function t(e,r){var n=[],a=!0,o=!1,s=void 0;try{for(var u=e[Symbol.iterator](),f;!(a=(f=u.next()).done)&&(n.push(f.value),!(r&&n.length===r));a=!0);}catch(l){o=!0,s=l}finally{try{!a&&u.return&&u.return()}finally{if(o)throw s}}return n}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S7t=function(){function t(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),E7t=Fu(),M7t=mv(),Bb=ep(M7t),A7t=j6(),Rc=ep(A7t),N7t=r_e(),T7t=ep(N7t),D7t=h_e(),A_e=ep(D7t),k7t=gS(),N_e=ep(k7t),I7t=m_e(),T_e=ep(I7t),C7t=LP(),O7t=ep(C7t),R7t=__e(),F7t=ep(R7t),B7t=M_e(),L7t=ep(B7t);function ep(t){return t&&t.__esModule?t:{default:t}}function P7t(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}function q7t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z7t(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function U7t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var j7t=function(t){U7t(e,t);function e(r){q7t(this,e);var n=z7t(this,Object.getPrototypeOf(e).call(this));return r=r||{},n.dim=r.dim||2,n.perplexity=r.perplexity||30,n.earlyExaggeration=r.earlyExaggeration||4,n.learningRate=r.learningRate||1e3,n.nIter=r.nIter||1e3,n.metric=r.metric||"euclidean",n.barneshut=r.barneshut||!1,n.inputData=null,n.outputEmbedding=null,n}return S7t(e,[{key:"init",value:function(n){n=n||{};var a=n.data||[],o=n.type||"dense";if(o==="dense")this.inputData=(0,T7t.default)(a);else if(o==="sparse"){for(var s=[],u=1,f=function(R){var O=Math.max.apply(null,a.map(function(F){return F[R]}))+1;s.push(O),u*=O},l=0;l<a[0].length;l++)f(l);this.inputData=(0,Bb.default)(new Float64Array(u),s);var c=!0,h=!1,m=void 0;try{for(var g=a[Symbol.iterator](),b;!(c=(b=g.next()).done);c=!0){var A,I=b.value;(A=this.inputData).set.apply(A,P7t(I).concat([1]))}}catch(C){h=!0,m=C}finally{try{!c&&g.return&&g.return()}finally{if(h)throw m}}}else throw new Error("input data type must be dense or sparse");this.outputEmbedding=(0,T_e.default)(this.inputData.shape[0],this.dim)}},{key:"run",value:function(){this.emit("progressStatus","Calculating pairwise distances"),this.distances=(0,O7t.default)(this.inputData,this.metric),this.emit("progressStatus","Calculating joint probabilities"),this.alpha=Math.max(this.dim-1,1),this.P=(0,F7t.default)(this.distances,this.perplexity);var n=Number.MAX_VALUE,a=0;this.emit("progressStatus","Early exaggeration with momentum 0.5"),Rc.default.mulseq(this.P,this.earlyExaggeration);var o=this._gradDesc(a,50,.5,0,0),s=yS(o,2);n=s[0],a=s[1],this.emit("progressStatus","Early exaggeration with momentum 0.8");var u=this._gradDesc(a+1,100,.8,0,0),f=yS(u,2);n=f[0],a=f[1],this.emit("progressStatus","Final optimization with momentum 0.8"),Rc.default.divseq(this.P,this.earlyExaggeration);var l=this._gradDesc(a+1,this.nIter,.8,1e-6,1e-6),c=yS(l,2);return n=c[0],a=c[1],this.emit("progressStatus","Optimization end"),[n,a]}},{key:"rerun",value:function(){this.outputEmbedding=(0,T_e.default)(this.inputData.shape[0],this.dim);var n=this.run(),a=yS(n,2),o=a[0],s=a[1];return[o,s]}},{key:"getOutput",value:function(){return(0,A_e.default)(this.outputEmbedding)}},{key:"getOutputScaled",value:function(){for(var n=(0,Bb.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),a=(0,Bb.default)(new Float64Array(this.outputEmbedding.shape[0]),[this.outputEmbedding.shape[0]]),o=0;o<this.outputEmbedding.shape[1];o++){var s=Rc.default.sup(Rc.default.abs(a,this.outputEmbedding.pick(null,o)));Rc.default.divs(n.pick(null,o),this.outputEmbedding.pick(null,o),s)}return(0,A_e.default)(n)}},{key:"_gradDesc",value:function(n,a,o){for(var s=arguments.length<=3||arguments[3]===void 0?1e-6:arguments[3],u=arguments.length<=4||arguments[4]===void 0?1e-6:arguments[4],f=30,l=(0,Bb.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),c=new Float64Array(this.outputEmbedding.size),h=0;h<c.length;h++)c[h]=1;var m=(0,Bb.default)(c,this.outputEmbedding.shape),g=Number.MAX_VALUE,b=Number.MAX_VALUE,A=0,I=(0,N_e.default)({args:["array"],pre:function(p){this.sum=0},body:function(p){this.sum+=p*p},post:function(p){return Math.sqrt(this.sum)}}),C=(0,N_e.default)({args:["array","array","array"],body:function(p,v,S){v*S>=0?p+=.05:p*=.95,p=Math.max(p,.01)}}),R=void 0;for(R=n;R<a;R++){var O=(0,L7t.default)(this.outputEmbedding,this.P,this.alpha),F=yS(O,2),z=F[0],B=F[1],$=Math.abs(z-g);g=z;var j=I(B);if(this.emit("progressIter",[R,g,j]),g<b)b=g,A=R;else if(R-A>f)break;if(s>=j||u>=$)break;C(m,l,B),Rc.default.muleq(B,m);var W=(0,Bb.default)(new Float64Array(B.size),B.shape);Rc.default.muls(W,B,this.learningRate),Rc.default.mulseq(l,o),Rc.default.subeq(l,W),Rc.default.addeq(this.outputEmbedding,l),this.emit("progressData",this.getOutputScaled())}return[g,R]}}]),e}(E7t.EventEmitter);X6.default=j7t;D_e.exports=X6.default});var jSe=Ee(($kr,USe)=>{"use strict";w();_();var zf=function(t){(!t||!(t instanceof Array))&&(t=[]),t=t.slice(0),t.sort(function(e,r){return e-r}),this.array=t};zf.prototype.clone=function(){return new zf(this.array.slice(0))};zf.prototype.q1=function(){var t=this.clone();return t.slice(0,Math.floor(t.size()/2)).median()};zf.prototype.q3=function(){var t=this.clone();return t.slice(Math.ceil(t.size()/2)).median()};zf.prototype.iqr=function(){return this.q3()-this.q1()};zf.prototype.median=function(){var t=Math.floor(this.size()/2);return this.size()%2?this.array[t]:(this.array[t-1]+this.array[t])/2};zf.prototype.slice=function(){return this.array=Array.prototype.slice.apply(this.array,arguments),this};zf.prototype.each=function(t){for(var e=0,r=this.size();e<r;e++)t.call(this.array[e],this.array[e],e,this.array);return this};zf.prototype.findOutliers=function(){var t=this.median(),e=this.iqr()*1.5,r=[];return this.each(function(n){Math.abs(n-t)>e&&r.push(n)}),r};zf.prototype.size=function(){return this.array.length};zf.prototype.testOutlier=function(t){return Math.abs(t-this.median())>this.iqr()*1.5};USe.exports=function(t){return new zf(t)}});var oEe=Ee((Xkr,aEe)=>{w();_();aEe.exports=JS;JS.flatten=JS;JS.unflatten=iEe;function rEe(t){return t&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function nEe(t){return t}function JS(t,e){e=e||{};let r=e.delimiter||".",n=e.maxDepth,a=e.transformKey||nEe,o={};function s(u,f,l){l=l||1,Object.keys(u).forEach(function(c){let h=u[c],m=e.safe&&Array.isArray(h),g=Object.prototype.toString.call(h),b=rEe(h),A=g==="[object Object]"||g==="[object Array]",I=f?f+r+a(c):a(c);if(!m&&!b&&A&&Object.keys(h).length&&(!e.maxDepth||l<n))return s(h,I,l+1);o[I]=h})}return s(t),o}function iEe(t,e){e=e||{};let r=e.delimiter||".",n=e.overwrite||!1,a=e.transformKey||nEe,o={};if(rEe(t)||Object.prototype.toString.call(t)!=="[object Object]")return t;function u(c){let h=Number(c);return isNaN(h)||c.indexOf(".")!==-1||e.object?c:h}function f(c,h,m){return Object.keys(m).reduce(function(g,b){return g[c+r+b]=m[b],g},h)}function l(c){let h=Object.prototype.toString.call(c),m=h==="[object Array]",g=h==="[object Object]";if(c){if(m)return!c.length;if(g)return!Object.keys(c).length}else return!0}return t=Object.keys(t).reduce(function(c,h){let m=Object.prototype.toString.call(t[h]);return!(m==="[object Object]"||m==="[object Array]")||l(t[h])?(c[h]=t[h],c):f(h,c,JS(t[h],e))},{}),Object.keys(t).forEach(function(c){let h=c.split(r).map(a),m=u(h.shift()),g=u(h[0]),b=o;for(;g!==void 0;){if(m==="__proto__")return;let A=Object.prototype.toString.call(b[m]),I=A==="[object Object]"||A==="[object Array]";if(!n&&!I&&typeof b[m]!="undefined")return;(n&&!I||!n&&b[m]==null)&&(b[m]=typeof g=="number"&&!e.object?[]:{}),b=b[m],h.length>0&&(m=u(h.shift()),g=u(h[0]))}b[m]=iEe(t[c],e)}),o}});function fEe(t){Pq=t}function kt(){if(Pq===null)throw Error(`
============================
Howdy \u{1F44B}\u{1F44B}. Looks like you are running scikit but you haven't set a Tensorflow backend. 
To do so, simply import (or require) your tensorflow library, and call setBackend like so,

import * as tf from '@tensorflow/tfjs'
import * as sk from 'scikitjs'
sk.setBackend(tf)

That will let scikit know you wish to use a tensorflow library to perform your calculations.
============================
    `);return Pq}var Pq,jr=te(()=>{w();_();Pq=null});function BPt(t){return typeof t=="string"||t instanceof String}function LPt(t){return typeof t=="boolean"}function PPt(t){return typeof t=="number"}function Ft(t,e){if(!t)throw new Error(e)}function Sk(t,e){let r=t;if(XS(t))return e==="string"?[]:[t.length];if(!Array.isArray(t))return[];let n=[];for(;Array.isArray(r)||XS(r)&&e!=="string";)n.push(r.length),r=r[0];return Array.isArray(t)&&lEe(t,n,[]),n}function lEe(t,e,r){if(r=r||[],!Array.isArray(t)&&!XS(t)){Ft(e.length===0,`Element arr[${r.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}Ft(e.length>0,`Element arr[${r.join("][")}] should be a primitive, but is an array of ${t.length} elements`),Ft(t.length===e[0],`Element arr[${r.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);let n=e.slice(1);for(let a=0;a<t.length;++a)lEe(t[a],n,r.concat(a))}function qq(t){return Array.isArray(t)?qq(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array?"int32":PPt(t)?"float32":BPt(t)?"string":LPt(t)?"bool":null}function XS(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function qPt(t){let e=Sk(t),r=qq(t);return e.length===1&&r!==null}function zPt(t){let e=Sk(t),r=qq(t);return e.length===2&&r!==null}function jf(t){let e=kt();return t instanceof e.Tensor}function ap(t){return typeof t!="object"?!1:!!(t&&t.iloc&&!t.applyMap)}function wa(t){return typeof t!="object"?!1:!!(t&&t.iloc&&t.applyMap)}function xu(t){return ap(t)?!0:jf(t)?t.rank===1:qPt(t)}function ti(t){return wa(t)?!0:jf(t)?t.rank===2:zPt(t)}function cEe(t){return xu(t)||ti(t)}var pi=te(()=>{w();_();jr();});function Pl(t,e){let r=kt();if(ap(t))return e?t.tensor.asType(e):t.tensor;if(jf(t)){if(t.shape.length===1)return!e||t.dtype==e?t:t.asType(e);throw new Error("ParamError: if data is a Tensor it must be a Tensor1D. If you really meant to reshape this tensor than use tf.reshape")}return e?r.tensor1d(t,e):r.tensor1d(t)}function op(t,e){let r=Pl(t,e);if(r.dtype==="string")throw new Error("ParamError: data has string dtype, can't convert to numeric Tensor");return r}function Qb(t,e){let r=kt();if(wa(t))return e?t.tensor.asType(e):t.tensor;if(jf(t)){if(t.shape.length===2)return!e||t.dtype==e?t:t.asType(e);throw new Error("ParamError: if data is a Tensor it must be a Tensor2D. If you really meant to reshape this tensor than use tf.reshape")}if(Array.isArray(t)&&XS(t[0])){let n=Sk(t),a=t.map(o=>Array.from(o));return e?r.tensor2d(a,n,e):r.tensor2d(a,n)}return e?r.tensor2d(t,void 0,e):r.tensor2d(t,void 0)}function UPt(t,e){try{return Pl(t,e)}catch(r){try{return Qb(t,e)}catch(n){throw new Error('ParamError: Can"t convert data into 1D or 2D tensor')}}}function Or(t,e){let r=Qb(t,e);if(r.dtype==="string")throw new Error("ParamError: data has string dtype, can't convert to numeric Tensor");return r}function ew(t,e){let r=UPt(t,e);if(r.dtype==="string")throw new Error("ParamError: data has string dtype, can't convert to numeric Tensor");return r}function zc(t){return wa(t)?t.values:jf(t)?t.arraySync():t}function Ek(t){return ap(t)?t.values:jf(t)?t.arraySync():t}function _v(t){return Ft(cEe(t),"X isn't a Scikit2D or Scikit1D object"),jf(t)?t.shape[0]:wa(t)||ap(t)?t.size:t.length}function Mk(t,e,r){let n=kt(),a=new Map,o=[],s=n.randomUniform([e],0,t,"float32",r).dataSync();for(let u=0;u<s.length;u++){s[u]=s[u]*(t-u)/t;let f=Math.floor(s[u]),l=t-u-1;a.get(f)===void 0&&a.set(f,f),a.get(l)===void 0&&a.set(l,l);let c=a.get(l);a.set(l,a.get(f)),a.set(f,c),o.push(a.get(l))}return o}var Zi=te(()=>{w();_();pi();jr();});var zq=Ee((oIr,hEe)=>{w();_();var jPt=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;hEe.exports=jPt});var tw=Ee((sIr,pEe)=>{w();_();var $Pt=zq(),VPt=typeof self=="object"&&self&&self.Object===Object&&self,WPt=$Pt||VPt||Function("return this")();pEe.exports=WPt});var Uq=Ee((uIr,dEe)=>{w();_();var GPt=tw(),HPt=GPt.Symbol;dEe.exports=HPt});var yEe=Ee((fIr,gEe)=>{w();_();var mEe=Uq(),vEe=Object.prototype,KPt=vEe.hasOwnProperty,ZPt=vEe.toString,QS=mEe?mEe.toStringTag:void 0;function JPt(t){var e=KPt.call(t,QS),r=t[QS];try{t[QS]=void 0;var n=!0}catch(o){}var a=ZPt.call(t);return n&&(e?t[QS]=r:delete t[QS]),a}gEe.exports=JPt});var wEe=Ee((lIr,bEe)=>{w();_();var YPt=Object.prototype,XPt=YPt.toString;function QPt(t){return XPt.call(t)}bEe.exports=QPt});var Ak=Ee((cIr,SEe)=>{w();_();var xEe=Uq(),eqt=yEe(),tqt=wEe(),rqt="[object Null]",nqt="[object Undefined]",_Ee=xEe?xEe.toStringTag:void 0;function iqt(t){return t==null?t===void 0?nqt:rqt:_Ee&&_Ee in Object(t)?eqt(t):tqt(t)}SEe.exports=iqt});var jq=Ee((hIr,EEe)=>{w();_();function aqt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}EEe.exports=aqt});var $q=Ee((pIr,MEe)=>{w();_();var oqt=Ak(),sqt=jq(),uqt="[object AsyncFunction]",fqt="[object Function]",lqt="[object GeneratorFunction]",cqt="[object Proxy]";function hqt(t){if(!sqt(t))return!1;var e=oqt(t);return e==fqt||e==lqt||e==uqt||e==cqt}MEe.exports=hqt});var NEe=Ee((dIr,AEe)=>{w();_();var pqt=tw(),dqt=pqt["__core-js_shared__"];AEe.exports=dqt});var kEe=Ee((mIr,DEe)=>{w();_();var Vq=NEe(),TEe=function(){var t=/[^.]+$/.exec(Vq&&Vq.keys&&Vq.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function mqt(t){return!!TEe&&TEe in t}DEe.exports=mqt});var CEe=Ee((vIr,IEe)=>{w();_();var vqt=Function.prototype,gqt=vqt.toString;function yqt(t){if(t!=null){try{return gqt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}IEe.exports=yqt});var REe=Ee((gIr,OEe)=>{w();_();var bqt=$q(),wqt=kEe(),xqt=jq(),_qt=CEe(),Sqt=/[\\^$.*+?()[\]{}|]/g,Eqt=/^\[object .+?Constructor\]$/,Mqt=Function.prototype,Aqt=Object.prototype,Nqt=Mqt.toString,Tqt=Aqt.hasOwnProperty,Dqt=RegExp("^"+Nqt.call(Tqt).replace(Sqt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kqt(t){if(!xqt(t)||wqt(t))return!1;var e=bqt(t)?Dqt:Eqt;return e.test(_qt(t))}OEe.exports=kqt});var BEe=Ee((yIr,FEe)=>{w();_();function Iqt(t,e){return t==null?void 0:t[e]}FEe.exports=Iqt});var Nk=Ee((bIr,LEe)=>{w();_();var Cqt=REe(),Oqt=BEe();function Rqt(t,e){var r=Oqt(t,e);return Cqt(r)?r:void 0}LEe.exports=Rqt});var eE=Ee((wIr,PEe)=>{w();_();var Fqt=Nk(),Bqt=Fqt(Object,"create");PEe.exports=Bqt});var UEe=Ee((xIr,zEe)=>{w();_();var qEe=eE();function Lqt(){this.__data__=qEe?qEe(null):{},this.size=0}zEe.exports=Lqt});var $Ee=Ee((_Ir,jEe)=>{w();_();function Pqt(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}jEe.exports=Pqt});var WEe=Ee((SIr,VEe)=>{w();_();var qqt=eE(),zqt="__lodash_hash_undefined__",Uqt=Object.prototype,jqt=Uqt.hasOwnProperty;function $qt(t){var e=this.__data__;if(qqt){var r=e[t];return r===zqt?void 0:r}return jqt.call(e,t)?e[t]:void 0}VEe.exports=$qt});var HEe=Ee((EIr,GEe)=>{w();_();var Vqt=eE(),Wqt=Object.prototype,Gqt=Wqt.hasOwnProperty;function Hqt(t){var e=this.__data__;return Vqt?e[t]!==void 0:Gqt.call(e,t)}GEe.exports=Hqt});var ZEe=Ee((MIr,KEe)=>{w();_();var Kqt=eE(),Zqt="__lodash_hash_undefined__";function Jqt(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Kqt&&e===void 0?Zqt:e,this}KEe.exports=Jqt});var YEe=Ee((AIr,JEe)=>{w();_();var Yqt=UEe(),Xqt=$Ee(),Qqt=WEe(),ezt=HEe(),tzt=ZEe();function rw(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rw.prototype.clear=Yqt;rw.prototype.delete=Xqt;rw.prototype.get=Qqt;rw.prototype.has=ezt;rw.prototype.set=tzt;JEe.exports=rw});var QEe=Ee((NIr,XEe)=>{w();_();function rzt(){this.__data__=[],this.size=0}XEe.exports=rzt});var tMe=Ee((TIr,eMe)=>{w();_();function nzt(t,e){return t===e||t!==t&&e!==e}eMe.exports=nzt});var tE=Ee((DIr,rMe)=>{w();_();var izt=tMe();function azt(t,e){for(var r=t.length;r--;)if(izt(t[r][0],e))return r;return-1}rMe.exports=azt});var iMe=Ee((kIr,nMe)=>{w();_();var ozt=tE(),szt=Array.prototype,uzt=szt.splice;function fzt(t){var e=this.__data__,r=ozt(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():uzt.call(e,r,1),--this.size,!0}nMe.exports=fzt});var oMe=Ee((IIr,aMe)=>{w();_();var lzt=tE();function czt(t){var e=this.__data__,r=lzt(e,t);return r<0?void 0:e[r][1]}aMe.exports=czt});var uMe=Ee((CIr,sMe)=>{w();_();var hzt=tE();function pzt(t){return hzt(this.__data__,t)>-1}sMe.exports=pzt});var lMe=Ee((OIr,fMe)=>{w();_();var dzt=tE();function mzt(t,e){var r=this.__data__,n=dzt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}fMe.exports=mzt});var hMe=Ee((RIr,cMe)=>{w();_();var vzt=QEe(),gzt=iMe(),yzt=oMe(),bzt=uMe(),wzt=lMe();function nw(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nw.prototype.clear=vzt;nw.prototype.delete=gzt;nw.prototype.get=yzt;nw.prototype.has=bzt;nw.prototype.set=wzt;cMe.exports=nw});var dMe=Ee((FIr,pMe)=>{w();_();var xzt=Nk(),_zt=tw(),Szt=xzt(_zt,"Map");pMe.exports=Szt});var gMe=Ee((BIr,vMe)=>{w();_();var mMe=YEe(),Ezt=hMe(),Mzt=dMe();function Azt(){this.size=0,this.__data__={hash:new mMe,map:new(Mzt||Ezt),string:new mMe}}vMe.exports=Azt});var bMe=Ee((LIr,yMe)=>{w();_();function Nzt(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}yMe.exports=Nzt});var rE=Ee((PIr,wMe)=>{w();_();var Tzt=bMe();function Dzt(t,e){var r=t.__data__;return Tzt(e)?r[typeof e=="string"?"string":"hash"]:r.map}wMe.exports=Dzt});var _Me=Ee((qIr,xMe)=>{w();_();var kzt=rE();function Izt(t){var e=kzt(this,t).delete(t);return this.size-=e?1:0,e}xMe.exports=Izt});var EMe=Ee((zIr,SMe)=>{w();_();var Czt=rE();function Ozt(t){return Czt(this,t).get(t)}SMe.exports=Ozt});var AMe=Ee((UIr,MMe)=>{w();_();var Rzt=rE();function Fzt(t){return Rzt(this,t).has(t)}MMe.exports=Fzt});var TMe=Ee((jIr,NMe)=>{w();_();var Bzt=rE();function Lzt(t,e){var r=Bzt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}NMe.exports=Lzt});var kMe=Ee(($Ir,DMe)=>{w();_();var Pzt=gMe(),qzt=_Me(),zzt=EMe(),Uzt=AMe(),jzt=TMe();function iw(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}iw.prototype.clear=Pzt;iw.prototype.delete=qzt;iw.prototype.get=zzt;iw.prototype.has=Uzt;iw.prototype.set=jzt;DMe.exports=iw});var CMe=Ee((VIr,IMe)=>{w();_();var $zt="__lodash_hash_undefined__";function Vzt(t){return this.__data__.set(t,$zt),this}IMe.exports=Vzt});var RMe=Ee((WIr,OMe)=>{w();_();function Wzt(t){return this.__data__.has(t)}OMe.exports=Wzt});var BMe=Ee((GIr,FMe)=>{w();_();var Gzt=kMe(),Hzt=CMe(),Kzt=RMe();function Tk(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Gzt;++e<r;)this.add(t[e])}Tk.prototype.add=Tk.prototype.push=Hzt;Tk.prototype.has=Kzt;FMe.exports=Tk});var PMe=Ee((HIr,LMe)=>{w();_();function Zzt(t,e,r,n){for(var a=t.length,o=r+(n?1:-1);n?o--:++o<a;)if(e(t[o],o,t))return o;return-1}LMe.exports=Zzt});var zMe=Ee((KIr,qMe)=>{w();_();function Jzt(t){return t!==t}qMe.exports=Jzt});var jMe=Ee((ZIr,UMe)=>{w();_();function Yzt(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}UMe.exports=Yzt});var VMe=Ee((JIr,$Me)=>{w();_();var Xzt=PMe(),Qzt=zMe(),eUt=jMe();function tUt(t,e,r){return e===e?eUt(t,e,r):Xzt(t,Qzt,r)}$Me.exports=tUt});var GMe=Ee((YIr,WMe)=>{w();_();var rUt=VMe();function nUt(t,e){var r=t==null?0:t.length;return!!r&&rUt(t,e,0)>-1}WMe.exports=nUt});var KMe=Ee((XIr,HMe)=>{w();_();function iUt(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}HMe.exports=iUt});var JMe=Ee((QIr,ZMe)=>{w();_();function aUt(t,e){return t.has(e)}ZMe.exports=aUt});var XMe=Ee((eCr,YMe)=>{w();_();var oUt=Nk(),sUt=tw(),uUt=oUt(sUt,"Set");YMe.exports=uUt});var eAe=Ee((tCr,QMe)=>{w();_();function fUt(){}QMe.exports=fUt});var Wq=Ee((rCr,tAe)=>{w();_();function lUt(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}tAe.exports=lUt});var nAe=Ee((nCr,rAe)=>{w();_();var Gq=XMe(),cUt=eAe(),hUt=Wq(),pUt=1/0,dUt=Gq&&1/hUt(new Gq([,-0]))[1]==pUt?function(t){return new Gq(t)}:cUt;rAe.exports=dUt});var aAe=Ee((iCr,iAe)=>{w();_();var mUt=BMe(),vUt=GMe(),gUt=KMe(),yUt=JMe(),bUt=nAe(),wUt=Wq(),xUt=200;function _Ut(t,e,r){var n=-1,a=vUt,o=t.length,s=!0,u=[],f=u;if(r)s=!1,a=gUt;else if(o>=xUt){var l=e?null:bUt(t);if(l)return wUt(l);s=!1,a=yUt,f=new mUt}else f=e?[]:u;e:for(;++n<o;){var c=t[n],h=e?e(c):c;if(c=r||c!==0?c:0,s&&h===h){for(var m=f.length;m--;)if(f[m]===h)continue e;e&&f.push(h),u.push(c)}else a(f,h,r)||(f!==u&&f.push(h),u.push(c))}return u}iAe.exports=_Ut});var Hq=Ee((aCr,oAe)=>{w();_();var SUt=aAe();function EUt(t){return t&&t.length?SUt(t):[]}oAe.exports=EUt});var Dk={};tl(Dk,{accuracyScore:()=>Sv,confusionMatrix:()=>RUt,hingeLoss:()=>kUt,huberLoss:()=>IUt,logLoss:()=>CUt,meanAbsoluteError:()=>NUt,meanSquaredError:()=>TUt,meanSquaredLogError:()=>DUt,precisionScore:()=>MUt,r2Score:()=>nE,recallScore:()=>AUt,rocAucScore:()=>FUt,zeroOneLoss:()=>OUt});function _u(t,e){Ft(xu(t),"Labels can't be converted to a 1D Tensor"),Ft(xu(e),"Predictions can't be converted to a 1D Tensor");let r=op(t),n=op(e);return Ft(r.size>0,"Must have 1 label or more"),Ft(n.size>0,"Must have 1 prediction or more"),Ft(r.size===n.size,"Not the same size arrays"),{labelsT:r,predictionsT:n}}function Sv(t,e){let{labelsT:r,predictionsT:n}=_u(t,e);return r.equal(n).sum().div(r.size).dataSync()[0]}function MUt(t,e){let r=kt(),{labelsT:n,predictionsT:a}=_u(t,e);return r.metrics.precision(n,a).dataSync()[0]}function AUt(t,e){let r=kt(),{labelsT:n,predictionsT:a}=_u(t,e);return r.metrics.recall(n,a).dataSync()[0]}function nE(t,e){let r=kt(),{labelsT:n,predictionsT:a}=_u(t,e),o=r.metrics.meanSquaredError(n,a),s=r.metrics.meanSquaredError(n,n.mean());return r.sub(1,o.div(s)).dataSync()[0]}function NUt(t,e){let r=kt(),{labelsT:n,predictionsT:a}=_u(t,e);return r.metrics.meanAbsoluteError(n,a).dataSync()[0]}function TUt(t,e){let r=kt(),{labelsT:n,predictionsT:a}=_u(t,e);return r.metrics.meanSquaredError(n,a).dataSync()[0]}function DUt(t,e){let r=kt(),{labelsT:n,predictionsT:a}=_u(t,e);return r.square(n.log1p().sub(a.log1p())).sum().div(n.size).dataSync()[0]}function kUt(t,e){let r=kt(),{labelsT:n,predictionsT:a}=_u(t,e);return r.losses.hingeLoss(n,a).dataSync()[0]}function IUt(t,e){let r=kt(),{labelsT:n,predictionsT:a}=_u(t,e);return r.losses.huberLoss(n,a).dataSync()[0]}function CUt(t,e){let r=kt(),{labelsT:n,predictionsT:a}=_u(t,e);return r.losses.logLoss(n,a).dataSync()[0]}function OUt(t,e){let r=kt(),{labelsT:n,predictionsT:a}=_u(t,e);return r.sub(1,Sv(n,a)).dataSync()[0]}function RUt(t,e){let r=kt(),{labelsT:n,predictionsT:a}=_u(t,e),o=(0,sAe.default)(n.dataSync());return r.math.confusionMatrix(n,a,o.length).arraySync()}function FUt(t,e){let{labelsT:r,predictionsT:n}=_u(t,e),a=r.arraySync(),o=n.arraySync();a.push(1),o.push(1);let s=0;for(let u=0;u<a.length-1;u++)s+=a[u]*o[u+1]-a[u+1]*o[u];return s-=1,Math.abs(s)/2}var sAe,kk=te(()=>{w();_();Zi();pi();sAe=Bt(Hq());jr();});var aw,aE,iE,uAe,fAe,lAe=te(()=>{w();_();aw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",aE=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(iE=0;iE<aw.length;iE++)aE[aw.charCodeAt(iE)]=iE;uAe=function(t){var e=new Uint8Array(t),r,n=e.length,a="";for(r=0;r<n;r+=3)a+=aw[e[r]>>2],a+=aw[(e[r]&3)<<4|e[r+1]>>4],a+=aw[(e[r+1]&15)<<2|e[r+2]>>6],a+=aw[e[r+2]&63];return n%3===2?a=a.substring(0,a.length-1)+"=":n%3===1&&(a=a.substring(0,a.length-2)+"=="),a},fAe=function(t){var e=t.length*.75,r=t.length,n,a=0,o,s,u,f;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=new ArrayBuffer(e),c=new Uint8Array(l);for(n=0;n<r;n+=4)o=aE[t.charCodeAt(n)],s=aE[t.charCodeAt(n+1)],u=aE[t.charCodeAt(n+2)],f=aE[t.charCodeAt(n+3)],c[a++]=o<<2|s>>4,c[a++]=(s&15)<<4|u>>2,c[a++]=(u&3)<<6|f&63;return l}});function LUt(t){let e="";for(let r=0;r<t;r++){let n=Math.floor(Math.random()*cAe.length);e+=cAe[n]}return e}function Kq(r){return it(this,arguments,function*(t,e=[]){let n=kt();if(["number","string","undefined","boolean"].includes(typeof t))return t;if(typeof t=="function"&&(console.warn(`warning: Serializing function ${t}. Not going to be able to deserialize this later.`),t.name))return t.name;if(typeof t=="object"){if(t===null)return null;if(Array.isArray(t))return yield Promise.all(t.map(o=>it(this,null,function*(){return yield Kq(o,e)})));if(t instanceof n.Tensor)return{name:"Tensor",value:t.arraySync()};if(t instanceof Int32Array)return{name:"Int32Array",value:Array.from(t)};if(t instanceof Float32Array)return{name:"Float32Array",value:Array.from(t)};if(t instanceof n.Sequential){let o=new Ik;return yield t.save(o),{name:"Sequential",artifacts:o.savedArtifacts}}if(t.ENV&&t.AdadeltaOptimizer&&t.version)return{name:"TF",version:t.version.tfjs};let a={};for(let o of Object.keys(t))e.includes(o)||(a[o]=yield Kq(t[o],e));return a}})}function Zq(t){return it(this,null,function*(){let e=kt();if(typeof t!="object")return t;if(t===null)return null;if(t.name==="Tensor")return e.tensor(t.value);if(t.name==="Sequential"){let r=new Ik(t.artifacts);return yield e.loadLayersModel(r)}if(t.name==="Int32Array")return new Int32Array(t.value);if(t.name==="Float32Array")return new Float32Array(t.value);if(t.name==="TF")return e;if(Array.isArray(t))return yield Promise.all(t.map(r=>it(this,null,function*(){return yield Zq(r)})));for(let r of Object.keys(t))t[r]=yield Zq(t[r]);if(BUt.includes(t.name)){let n=(yield Promise.resolve().then(()=>(Yq(),Ck)))[t.name],a=new n(t);for(let o of Object.keys(t))a[o]=t[o];return a}return t})}function Jq(t){return it(this,null,function*(){try{return yield Zq(t)}catch(e){console.error(e)}})}function hAe(t){return it(this,null,function*(){return yield Jq(JSON.parse(t))})}var BUt,cAe,Ik,PUt,Ti,$f=te(()=>{w();_();lAe();jr();BUt=["KNeighborsRegressor","LinearRegression","LassoRegression","RidgeRegression","ElasticNet","LogisticRegression","DummyRegressor","DummyClassifier","MinMaxScaler","StandardScaler","MaxAbsScaler","SimpleImputer","OneHotEncoder","LabelEncoder","OrdinalEncoder","Normalizer","Pipeline","ColumnTransformer","RobustScaler","KMeans","VotingRegressor","VotingClassifier","LinearSVC","LinearSVR","GaussianNB","DecisionTreeClassifier","DecisionTreeRegressor","ClassificationCriterion","RegressionCriterion","Splitter","DecisionTreeBase","DecisionTree"],cAe="abcdefghijklmnopqrstuvwxy";Ik=class{constructor(e){De(this,"savedArtifacts");this.savedArtifacts=e||null}save(e){return it(this,null,function*(){e.weightData=uAe(e.weightData);let r={};for(let n=0;n<e.modelTopology.config.layers.length;n++){let a=e.modelTopology.config.layers[n],o=LUt(6);r[a.config.name]=o,a.config.name=o}for(let n=0;n<e.weightSpecs.length;n++){let a=e.weightSpecs[n];Object.keys(r).forEach(s=>{a.name.includes(s)&&(a.name=a.name.replace(s,r[s]))})}return this.savedArtifacts=e,{modelArtifactsInfo:{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:JSON.stringify(e.modelTopology).length,weightSpecsBytes:JSON.stringify(e.weightSpecs).length,weightDataBytes:e.weightData.byteLength}}})}load(){return it(this,null,function*(){return this.savedArtifacts.weightData=fAe(this.savedArtifacts.weightData),this.savedArtifacts})}};PUt=["modelCompileArgs","modelFitArgs","denseLayerArgs"],Ti=class{toObject(){return it(this,null,function*(){return yield Kq(this,PUt)})}toJSON(){return it(this,null,function*(){return JSON.stringify(yield this.toObject())})}}});var No,Pd,qd,ks=te(()=>{w();_();kk();$f();pi();Zi();No=class extends Ti{fitTransform(e){return this.fit(e).transform(e)}},Pd=class extends Ti{constructor(){super(...arguments);De(this,"EstimatorType","regressor")}score(r,n){let a=this.predict(r);return nE(n,a)}},qd=class extends Ti{constructor(){super(...arguments);De(this,"EstimatorType","classifier")}score(r,n){let a=this.predict(r),o=ew(n);return Ft(a.shape.length===o.shape.length,"The shape of the model output doesn't match the shape of the actual y values"),ti(n)?Sv(o.argMax(1),a.argMax(1)):Sv(n,a)}}});var Vf,ow=te(()=>{w();_();Zi();ks();jr();Vf=class extends Pd{constructor({modelFitArgs:r,modelCompileArgs:n,denseLayerArgs:a,optimizerType:o,lossType:s}){super();De(this,"model");De(this,"modelFitArgs");De(this,"modelCompileArgs");De(this,"denseLayerArgs");De(this,"isMultiOutput");De(this,"optimizerType");De(this,"lossType");this.tf=kt(),this.model=this.tf.sequential(),this.modelFitArgs=r,this.modelCompileArgs=n,this.denseLayerArgs=a,this.isMultiOutput=!1,this.optimizerType=o,this.lossType=s}initializeModel(r,n,a=[]){this.denseLayerArgs.units=n.shape.length===1?1:n.shape[1];let o=this.tf.sequential();o.add(this.tf.layers.dense(It({inputShape:[r.shape[1]]},this.denseLayerArgs))),o.compile(this.modelCompileArgs),a!=null&&a.length&&o.setWeights(a),this.model=o}fit(r,n){return it(this,null,function*(){let a=Or(r),o=ew(n);return o.shape.length>1&&(this.isMultiOutput=!0),this.model.layers.length===0&&this.initializeModel(a,o),yield this.model.fit(a,o,It({},this.modelFitArgs)),this})}importModel(r){let n=this.tf.tensor2d(r.coef,[r.coef.length,1],"float32"),a=this.tf.tensor1d([r.intercept],"float32");return this.initializeModel(n,a,[n,a]),this}getParams(){return{modelFitArgs:this.modelFitArgs,modelCompileArgs:this.modelCompileArgs,denseLayerArgs:this.denseLayerArgs,optimizerType:this.optimizerType,lossType:this.lossType}}setParams(r){return this.modelCompileArgs=r.modelCompileArgs,this.modelFitArgs=r.modelFitArgs,this.denseLayerArgs=r.denseLayerArgs,this}predict(r){let n=Or(r);if(this.model.layers.length===0)throw new RangeError('Need to call "fit" before "predict"');let a=this.model.predict(n);return this.isMultiOutput?a:a.reshape([-1])}get coef(){let r=this.model.getWeights();if(r.length===0)return this.tf.tensor2d([]);let n=r[0];return n.shape[1]===1?n.reshape([n.shape[0]]):n}get intercept(){let r=this.model.getWeights();if(r.length<2)return 0;let n=r[1];return n.size===1?n.arraySync()[0]:n}}});var Ok,pAe=te(()=>{w();_();ow();jr();Ok=class extends Vf{constructor({fitIntercept:e=!0,modelFitOptions:r}={}){let n=kt();super({modelCompileArgs:{optimizer:n.train.adam(.1),loss:n.losses.meanSquaredError,metrics:["mse"]},modelFitArgs:It({batchSize:32,epochs:1e3,verbose:0,callbacks:[n.callbacks.earlyStopping({monitor:"mse",patience:30})]},r),denseLayerArgs:{units:1,useBias:Boolean(e)},optimizerType:"adam",lossType:"meanSquaredError"}),this.name="LinearRegression"}}});var Rk,dAe=te(()=>{w();_();ow();jr();Rk=class extends Vf{constructor({fitIntercept:e=!0,alpha:r=1}={}){let n=kt();super({modelCompileArgs:{optimizer:n.train.adam(.1),loss:n.losses.meanSquaredError,metrics:["mse"]},modelFitArgs:{batchSize:32,epochs:1e3,verbose:0,callbacks:[n.callbacks.earlyStopping({monitor:"mse",patience:50})]},denseLayerArgs:{units:1,kernelRegularizer:n.regularizers.l1({l1:r}),useBias:Boolean(e)},optimizerType:"adam",lossType:"meanSquaredError"}),this.name="LassoRegression"}}});var Fk,mAe=te(()=>{w();_();ow();jr();Fk=class extends Vf{constructor({fitIntercept:e=!0,alpha:r=.01}={}){let n=kt();super({modelCompileArgs:{optimizer:n.train.adam(.1),loss:n.losses.meanSquaredError,metrics:["mse"]},modelFitArgs:{batchSize:32,epochs:1e3,verbose:0,callbacks:[n.callbacks.earlyStopping({monitor:"mse",patience:50})]},denseLayerArgs:{units:1,kernelRegularizer:n.regularizers.l2({l2:r}),useBias:Boolean(e)},optimizerType:"adam",lossType:"meanSquaredError"}),this.name="RidgeRegression"}}});var Bk,vAe=te(()=>{w();_();ow();jr();Bk=class extends Vf{constructor({alpha:e=1,l1Ratio:r=.5,fitIntercept:n=!0}={}){let a=kt();super({modelCompileArgs:{optimizer:a.train.adam(.1),loss:a.losses.meanSquaredError,metrics:["mse"]},modelFitArgs:{batchSize:32,epochs:1e3,verbose:0,callbacks:[a.callbacks.earlyStopping({monitor:"mse",patience:50})]},denseLayerArgs:{units:1,kernelRegularizer:a.regularizers.l1l2({l1:e*r,l2:.5*e*(1-r)}),useBias:Boolean(n)},optimizerType:"adam",lossType:"meanSquaredError"}),this.name="ElasticNet"}}});var sw,Xq=te(()=>{w();_();Zi();ks();jr();pi();sw=class extends No{constructor({categories:r="auto",handleUnknown:n="error",drop:a}={}){super();De(this,"categories");De(this,"handleUnknown");De(this,"categoriesParam");De(this,"drop");De(this,"nFeaturesIn");De(this,"featureNamesIn");De(this,"name","OneHotEncoder");this.tf=kt(),this.categoriesParam=r,this.categories=[],this.handleUnknown=n,this.nFeaturesIn=0,this.featureNamesIn=[],this.drop=a}classesToMapping(r){let n=new Map;return r.forEach((a,o)=>{n.set(a,o)}),n}loopOver2DArrayToSetLabels(r){for(let n=0;n<r[0].length;n++){let a=new Set;for(let s=0;s<r.length;s++)a.add(r[s][n]);let o=Array.from(a);this.categories.push(o)}}fit(r,n){let a=zc(r);return this.categoriesParam==="auto"?(this.loopOver2DArrayToSetLabels(a),this):(this.categories=this.categoriesParam,this.nFeaturesIn=a.length===0?0:a[0].length||0,wa(r)&&(this.featureNamesIn=[...r.columns]),this)}loopOver2DArrayToUseLabels(r){let n=this.categories.map(o=>this.classesToMapping(o)),a=[];for(let o=0;o<r.length;o++){let s=[];for(let u=0;u<r[0].length;u++){let f=r[o][u],l=n[u].get(f);if(l===void 0){if(this.handleUnknown==="error")throw new Error(`Unknown value ${f} encountered while transforming. Not encountered in training data`);l=-1}this.drop==="first"&&(l-=1),s.push(l)}a.push(s)}return a}convertToOneHot(r,n){return n>=2?this.tf.oneHot(r,n):n===1?(r=this.tf.where(r.equal(0),this.tf.ones(r.shape,"int32"),this.tf.zeros(r.shape,"int32")),r.reshape([-1,1])):this.tf.tensor2d([])}transform(r,n){let a=zc(r),o=this.loopOver2DArrayToUseLabels(a),s=this.tf.tensor2d(o,void 0,"int32");return this.tf.concat(s.unstack(1).map((u,f)=>{let l=this.categories[f].length,c=this.drop==="first"?l-1:l;return this.convertToOneHot(u,c)}),1)}inverseTransform(r){let n=this.classesToMapping(this.categories[0]),a=r.argMax(1),o=new Map(Array.from(n,u=>u.reverse()));return a.arraySync().map(u=>o.get(u)===void 0?null:o.get(u))}}});var uw,Qq=te(()=>{w();_();Zi();Xq();pi();ks();jr();uw=class extends qd{constructor({modelFitArgs:r,modelCompileArgs:n,denseLayerArgs:a,optimizerType:o,lossType:s}){super();De(this,"model");De(this,"modelFitArgs");De(this,"modelCompileArgs");De(this,"denseLayerArgs");De(this,"optimizerType");De(this,"lossType");De(this,"oneHot");De(this,"tf");De(this,"isMultiOutput");this.tf=kt(),this.model=this.tf.sequential(),this.modelFitArgs=r,this.modelCompileArgs=n,this.denseLayerArgs=a,this.optimizerType=o,this.lossType=s,this.isMultiOutput=!1,this.oneHot=new sw}initializeModelForClassification(r){let n=r.toInt();if(n.shape.length===2)return this.modelCompileArgs.loss=this.tf.losses.softmaxCrossEntropy,n;{let a=r.reshape([-1,1]),o=this.oneHot.fitTransform(a);return this.oneHot.categories[0].length>2?this.modelCompileArgs.loss=this.tf.losses.softmaxCrossEntropy:this.modelCompileArgs.loss=this.tf.losses.sigmoidCrossEntropy,o}}initializeModel(r,n,a=[]){this.denseLayerArgs.units=n.shape.length===1?1:n.shape[1];let o=this.tf.sequential();o.add(this.tf.layers.dense(It({inputShape:[r.shape[1]]},this.denseLayerArgs))),o.compile(this.modelCompileArgs),a!=null&&a.length&&o.setWeights(a),this.model=o}fit(r,n){return it(this,null,function*(){let a=Or(r),o=ew(n),s=this.initializeModelForClassification(o);return o.shape.length>1&&(this.isMultiOutput=!0),this.model.layers.length===0&&this.initializeModel(a,s),yield this.model.fit(a,s,It({},this.modelFitArgs)),this})}importModel(r){let n=this.tf.tensor2d(r.coef,[r.coef.length,1],"float32"),a=this.tf.tensor1d([r.intercept],"float32");return this.initializeModel(n,a,[n,a]),this}getParams(){return{modelFitArgs:this.modelFitArgs,modelCompileArgs:this.modelCompileArgs,denseLayerArgs:this.denseLayerArgs,optimizerType:this.optimizerType,lossType:this.lossType}}setParams(r){return this.modelCompileArgs=r.modelCompileArgs,this.modelFitArgs=r.modelFitArgs,this.denseLayerArgs=r.denseLayerArgs,this}predictProba(r){Ft(this.model.layers.length>0,'Need to call "fit" before "predict"');let n=Or(r);return this.model.predict(n)}predict(r){Ft(this.model.layers.length>0,'Need to call "fit" before "predict"');let n=this.predictProba(r);return this.isMultiOutput?this.tf.oneHot(n.argMax(1),n.shape[1]):this.tf.tensor1d(this.oneHot.inverseTransform(n))}get coef(){let r=this.model.getWeights();if(r.length===0)return this.tf.tensor2d([]);let n=r[0];return n.shape[1]===1?n.reshape([n.shape[0]]):n}get intercept(){let r=this.model.getWeights();if(r.length<2)return 0;let n=r[1];return n.size===1?n.arraySync()[0]:n}}});var Lk,gAe=te(()=>{w();_();Qq();jr();Lk=class extends uw{constructor({penalty:e="l2",C:r=1,fitIntercept:n=!0,modelFitOptions:a}={}){let o=kt();super({modelCompileArgs:{optimizer:o.train.adam(.1),loss:o.losses.softmaxCrossEntropy,metrics:["accuracy"]},modelFitArgs:It({batchSize:32,epochs:1e3,verbose:0,callbacks:[o.callbacks.earlyStopping({monitor:"loss",patience:50})]},a),denseLayerArgs:{units:1,useBias:Boolean(n),activation:"softmax",kernelInitializer:o.initializers.zeros(),biasInitializer:o.initializers.zeros(),kernelRegularizer:e==="l2"?o.regularizers.l2({l2:r}):e==="l1"?o.regularizers.l1({l1:r}):void 0},isClassification:!0,optimizerType:"adam",lossType:"softmaxCrossEntropy"}),this.name="LogisticRegression"}}});function Ca(){return Ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ca.apply(this,arguments)}var fw=te(()=>{w();_()});var ez,yAe=te(()=>{w();_();ez={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null}});function Ar(t){return typeof t=="number"}function hr(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function Ys(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function Uc(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function sp(t){return t&&t.constructor.prototype.isUnit===!0||!1}function ja(t){return typeof t=="string"}function Kt(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function Wf(t){return Array.isArray(t)||Kt(t)}function Ev(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function ql(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Mv(t){return t&&t.constructor.prototype.isRange===!0||!1}function up(t){return t&&t.constructor.prototype.isIndex===!0||!1}function bAe(t){return typeof t=="boolean"}function tz(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function oE(t){return t&&t.constructor.prototype.isHelp===!0||!1}function wAe(t){return typeof t=="function"}function xAe(t){return t instanceof Date}function _Ae(t){return t instanceof RegExp}function sE(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!Ys(t)&&!Uc(t))}function SAe(t){return t===null}function EAe(t){return t===void 0}function Su(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Uo(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function MAe(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function AAe(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function NAe(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function pn(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function jc(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Eu(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function Gf(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ir(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function zd(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ja(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function $c(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function TAe(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function wi(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function uE(t){return t&&t.constructor.prototype.isChain===!0||!1}function $r(t){var e=typeof t;return e==="object"?t===null?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":hr(t)?"BigNumber":Ys(t)?"Complex":Uc(t)?"Fraction":Kt(t)?"Matrix":sp(t)?"Unit":up(t)?"Index":Mv(t)?"Range":tz(t)?"ResultSet":Ir(t)?t.type:uE(t)?"Chain":oE(t)?"Help":"Object":e==="function"?"Function":e}var hn,zt=te(()=>{w();_();hn=Array.isArray});function tr(t){var e=typeof t;if(e==="number"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return tr(r)});if(t instanceof Date)return new Date(t.valueOf());if(hr(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return qUt(t,tr)}function qUt(t,e){var r={};for(var n in t)Jt(t,n)&&(r[n]=e(t[n]));return r}function lw(t,e){for(var r in e)Jt(e,r)&&(t[r]=e[r]);return t}function Ud(t,e){var r,n,a;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(n=0,a=t.length;n<a;n++)if(!Ud(t[n],e[n]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!Ud(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function DAe(t,e,r){var n=!0,a;Object.defineProperty(t,e,{get:function(){return n&&(a=r(),n=!1),a},set:function(s){a=s,n=!1},configurable:!0,enumerable:!0})}function Jt(t,e){return t&&Object.hasOwnProperty.call(t,e)}function kAe(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],o=t[a];o!==void 0&&(r[a]=o)}return r}var dn=te(()=>{w();_();zt()});var IAe,CAe,OAe=te(()=>{w();_();IAe=["Matrix","Array"],CAe=["number","BigNumber","Fraction"]});var Tt,rz=te(()=>{w();_();fw();yAe();OAe();Tt=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(ez)};Ca(Tt,ez,{MATRIX_OPTIONS:IAe,NUMBER_OPTIONS:CAe})});var FAe=Ee((nz,RAe)=>{"use strict";w();_();(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof nz=="object"?RAe.exports=e():t.typed=e()})(nz,function(){function t(){return!0}function e(){return!1}function r(){}function n(){var a=[{name:"number",test:function(Q){return typeof Q=="number"}},{name:"string",test:function(Q){return typeof Q=="string"}},{name:"boolean",test:function(Q){return typeof Q=="boolean"}},{name:"Function",test:function(Q){return typeof Q=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(Q){return Q instanceof Date}},{name:"RegExp",test:function(Q){return Q instanceof RegExp}},{name:"Object",test:function(Q){return typeof Q=="object"&&Q!==null&&Q.constructor===Object}},{name:"null",test:function(Q){return Q===null}},{name:"undefined",test:function(Q){return Q===void 0}}],o={name:"any",test:t},s=[],u=[],f={types:a,conversions:u,ignore:s};function l(Q){var _e=Ie(f.types,function(be){return be.name===Q});if(_e)return _e;if(Q==="any")return o;var ve=Ie(f.types,function(be){return be.name.toLowerCase()===Q.toLowerCase()});throw new TypeError('Unknown type "'+Q+'"'+(ve?'. Did you mean "'+ve.name+'"?':""))}function c(Q){return Q===o?999:f.types.indexOf(Q)}function h(Q){var _e=Ie(f.types,function(ve){return ve.test(Q)});if(_e)return _e.name;throw new TypeError("Value has unknown type. Value: "+Q)}function m(Q,_e){if(!Q.signatures)throw new TypeError("Function is no typed-function");var ve;if(typeof _e=="string"){ve=_e.split(",");for(var be=0;be<ve.length;be++)ve[be]=ve[be].trim()}else if(Array.isArray(_e))ve=_e;else throw new TypeError("String array or a comma separated string expected");var qe=ve.join(","),se=Q.signatures[qe];if(se)return se;throw new TypeError("Signature not found (signature: "+(Q.name||"unnamed")+"("+ve.join(", ")+"))")}function g(Q,_e){var ve=h(Q);if(_e===ve)return Q;for(var be=0;be<f.conversions.length;be++){var qe=f.conversions[be];if(qe.from===ve&&qe.to===_e)return qe.convert(Q)}throw new Error("Cannot convert from "+ve+" to "+_e)}function b(Q){return Q.map(function(_e){var ve=_e.types.map($);return(_e.restParam?"...":"")+ve.join("|")}).join(",")}function A(Q,_e){var ve=Q.indexOf("...")===0,be=ve?Q.length>3?Q.slice(3):"any":Q,qe=be.split("|").map(G).filter(Z).filter(P),se=M(_e,qe),Se=qe.map(function(J){var H=l(J);return{name:J,typeIndex:c(H),test:H.test,conversion:null,conversionIndex:-1}}),Ke=se.map(function(J){var H=l(J.from);return{name:J.from,typeIndex:c(H),test:H.test,conversion:J,conversionIndex:_e.indexOf(J)}});return{types:Se.concat(Ke),restParam:ve}}function I(Q,_e,ve){var be=[];return Q.trim()!==""&&(be=Q.split(",").map(G).map(function(qe,se,Se){var Ke=A(qe,ve);if(Ke.restParam&&se!==Se.length-1)throw new SyntaxError('Unexpected rest parameter "'+qe+'": only allowed for the last parameter');return Ke})),be.some(he)?null:{params:be,fn:_e}}function C(Q){var _e=K(Q);return _e?_e.restParam:!1}function R(Q){return Q.types.some(function(_e){return _e.conversion!=null})}function O(Q){if(!Q||Q.types.length===0)return t;if(Q.types.length===1)return l(Q.types[0].name).test;if(Q.types.length===2){var _e=l(Q.types[0].name).test,ve=l(Q.types[1].name).test;return function(se){return _e(se)||ve(se)}}else{var be=Q.types.map(function(qe){return l(qe.name).test});return function(se){for(var Se=0;Se<be.length;Se++)if(be[Se](se))return!0;return!1}}}function F(Q){var _e,ve,be;if(C(Q)){_e=V(Q).map(O);var qe=_e.length,se=O(K(Q)),Se=function(Ke){for(var J=qe;J<Ke.length;J++)if(!se(Ke[J]))return!1;return!0};return function(J){for(var H=0;H<_e.length;H++)if(!_e[H](J[H]))return!1;return Se(J)&&J.length>=qe+1}}else return Q.length===0?function(J){return J.length===0}:Q.length===1?(ve=O(Q[0]),function(J){return ve(J[0])&&J.length===1}):Q.length===2?(ve=O(Q[0]),be=O(Q[1]),function(J){return ve(J[0])&&be(J[1])&&J.length===2}):(_e=Q.map(O),function(J){for(var H=0;H<_e.length;H++)if(!_e[H](J[H]))return!1;return J.length===_e.length})}function z(Q,_e){return _e<Q.params.length?Q.params[_e]:C(Q.params)?K(Q.params):null}function B(Q,_e,ve){var be=z(Q,_e),qe=be?ve?be.types.filter(j):be.types:[];return qe.map($)}function $(Q){return Q.name}function j(Q){return Q.conversion===null||Q.conversion===void 0}function W(Q,_e){var ve=ke(ue(Q,function(be){return B(be,_e,!1)}));return ve.indexOf("any")!==-1?["any"]:ve}function T(Q,_e,ve){var be,qe,se=Q||"unnamed",Se=ve,Ke;for(Ke=0;Ke<_e.length;Ke++){var J=Se.filter(function(Me){var Ge=O(z(Me,Ke));return(Ke<Me.params.length||C(Me.params))&&Ge(_e[Ke])});if(J.length===0){if(qe=W(Se,Ke),qe.length>0){var H=h(_e[Ke]);return be=new TypeError("Unexpected type of argument in function "+se+" (expected: "+qe.join(" or ")+", actual: "+H+", index: "+Ke+")"),be.data={category:"wrongType",fn:se,index:Ke,actual:H,expected:qe},be}}else Se=J}var Y=Se.map(function(Me){return C(Me.params)?1/0:Me.params.length});if(_e.length<Math.min.apply(null,Y))return qe=W(Se,Ke),be=new TypeError("Too few arguments in function "+se+" (expected: "+qe.join(" or ")+", index: "+_e.length+")"),be.data={category:"tooFewArgs",fn:se,index:_e.length,expected:qe},be;var oe=Math.max.apply(null,Y);return _e.length>oe?(be=new TypeError("Too many arguments in function "+se+" (expected: "+oe+", actual: "+_e.length+")"),be.data={category:"tooManyArgs",fn:se,index:_e.length,expectedLength:oe},be):(be=new TypeError('Arguments of type "'+_e.join(", ")+'" do not match any of the defined signatures of function '+se+"."),be.data={category:"mismatch",actual:_e.map(h)},be)}function p(Q){for(var _e=999,ve=0;ve<Q.types.length;ve++)j(Q.types[ve])&&(_e=Math.min(_e,Q.types[ve].typeIndex));return _e}function v(Q){for(var _e=999,ve=0;ve<Q.types.length;ve++)j(Q.types[ve])||(_e=Math.min(_e,Q.types[ve].conversionIndex));return _e}function S(Q,_e){var ve;return ve=Q.restParam-_e.restParam,ve!==0||(ve=R(Q)-R(_e),ve!==0)||(ve=p(Q)-p(_e),ve!==0)?ve:v(Q)-v(_e)}function y(Q,_e){var ve=Math.min(Q.params.length,_e.params.length),be,qe;if(qe=Q.params.some(R)-_e.params.some(R),qe!==0)return qe;for(be=0;be<ve;be++)if(qe=R(Q.params[be])-R(_e.params[be]),qe!==0)return qe;for(be=0;be<ve;be++)if(qe=S(Q.params[be],_e.params[be]),qe!==0)return qe;return Q.params.length-_e.params.length}function M(Q,_e){var ve={};return Q.forEach(function(be){_e.indexOf(be.from)===-1&&_e.indexOf(be.to)!==-1&&!ve[be.from]&&(ve[be.from]=be)}),Object.keys(ve).map(function(be){return ve[be]})}function D(Q,_e){var ve=_e;if(Q.some(R)){var be=C(Q),qe=Q.map(k);ve=function(){for(var J=[],H=be?arguments.length-1:arguments.length,Y=0;Y<H;Y++)J[Y]=qe[Y](arguments[Y]);return be&&(J[H]=arguments[H].map(qe[H])),_e.apply(this,J)}}var se=ve;if(C(Q)){var Se=Q.length-1;se=function(){return ve.apply(this,ne(arguments,0,Se).concat([ne(arguments,Se)]))}}return se}function k(Q){var _e,ve,be,qe,se=[],Se=[];switch(Q.types.forEach(function(Ke){Ke.conversion&&(se.push(l(Ke.conversion.from).test),Se.push(Ke.conversion.convert))}),Se.length){case 0:return function(J){return J};case 1:return _e=se[0],be=Se[0],function(J){return _e(J)?be(J):J};case 2:return _e=se[0],ve=se[1],be=Se[0],qe=Se[1],function(J){return _e(J)?be(J):ve(J)?qe(J):J};default:return function(J){for(var H=0;H<Se.length;H++)if(se[H](J))return Se[H](J);return J}}}function E(Q){var _e={};return Q.forEach(function(ve){ve.params.some(R)||d(ve.params,!0).forEach(function(be){_e[b(be)]=ve.fn})}),_e}function d(Q,_e){function ve(be,qe,se){if(qe<be.length){var Se=be[qe],Ke=_e?Se.types.filter(j):Se.types,J;if(Se.restParam){var H=Ke.filter(j);J=H.length<Ke.length?[H,Ke]:[Ke]}else J=Ke.map(function(oe){return[oe]});return ue(J,function(oe){return ve(be,qe+1,se.concat([oe]))})}else{var Y=se.map(function(oe,Me){return{types:oe,restParam:Me===be.length-1&&C(be)}});return[Y]}}return ve(Q,0,[])}function N(Q,_e){for(var ve=Math.max(Q.params.length,_e.params.length),be=0;be<ve;be++){var qe=B(Q,be,!0),se=B(_e,be,!0);if(!pe(qe,se))return!1}var Se=Q.params.length,Ke=_e.params.length,J=C(Q.params),H=C(_e.params);return J?H?Se===Ke:Ke>=Se:H?Se>=Ke:Se===Ke}function U(Q,_e){if(Object.keys(_e).length===0)throw new SyntaxError("No signatures provided");var ve=[];Object.keys(_e).map(function(at){return I(at,_e[at],f.conversions)}).filter(X).forEach(function(at){var lt=Ie(ve,function(ie){return N(ie,at)});if(lt)throw new TypeError('Conflicting signatures "'+b(lt.params)+'" and "'+b(at.params)+'".');ve.push(at)});var be=ue(ve,function(at){var lt=at?d(at.params,!1):[];return lt.map(function(ie){return{params:ie,fn:at.fn}})}).filter(X);be.sort(y);var qe=be[0]&&be[0].params.length<=2&&!C(be[0].params),se=be[1]&&be[1].params.length<=2&&!C(be[1].params),Se=be[2]&&be[2].params.length<=2&&!C(be[2].params),Ke=be[3]&&be[3].params.length<=2&&!C(be[3].params),J=be[4]&&be[4].params.length<=2&&!C(be[4].params),H=be[5]&&be[5].params.length<=2&&!C(be[5].params),Y=qe&&se&&Se&&Ke&&J&&H,oe=be.map(function(at){return F(at.params)}),Me=qe?O(be[0].params[0]):e,Ge=se?O(be[1].params[0]):e,Ce=Se?O(be[2].params[0]):e,Xe=Ke?O(be[3].params[0]):e,Yt=J?O(be[4].params[0]):e,tt=H?O(be[5].params[0]):e,Ye=qe?O(be[0].params[1]):e,dr=se?O(be[1].params[1]):e,re=Se?O(be[2].params[1]):e,Te=Ke?O(be[3].params[1]):e,ft=J?O(be[4].params[1]):e,ze=H?O(be[5].params[1]):e,et=be.map(function(at){return D(at.params,at.fn)}),lr=qe?et[0]:r,ct=se?et[1]:r,dt=Se?et[2]:r,ki=Ke?et[3]:r,vt=J?et[4]:r,pt=H?et[5]:r,_i=qe?be[0].params.length:-1,gt=se?be[1].params.length:-1,yt=Se?be[2].params.length:-1,_n=Ke?be[3].params.length:-1,ut=J?be[4].params.length:-1,bt=H?be[5].params.length:-1,si=Y?6:0,ht=be.length,wt=function(){"use strict";for(var lt=si;lt<ht;lt++)if(oe[lt](arguments))return et[lt].apply(this,arguments);return f.onMismatch(Q,arguments,be)},ri=function at(lt,ie){"use strict";return arguments.length===_i&&Me(lt)&&Ye(ie)?lr.apply(at,arguments):arguments.length===gt&&Ge(lt)&&dr(ie)?ct.apply(at,arguments):arguments.length===yt&&Ce(lt)&&re(ie)?dt.apply(at,arguments):arguments.length===_n&&Xe(lt)&&Te(ie)?ki.apply(at,arguments):arguments.length===ut&&Yt(lt)&&ft(ie)?vt.apply(at,arguments):arguments.length===bt&&tt(lt)&&ze(ie)?pt.apply(at,arguments):wt.apply(at,arguments)};try{Object.defineProperty(ri,"name",{value:Q})}catch(at){}return ri.signatures=E(be),ri}function q(Q,_e,ve){throw T(Q,_e,ve)}function P(Q){return f.ignore.indexOf(Q)===-1}function G(Q){return Q.trim()}function Z(Q){return!!Q}function X(Q){return Q!==null}function he(Q){return Q.types.length===0}function V(Q){return Q.slice(0,Q.length-1)}function K(Q){return Q[Q.length-1]}function ne(Q,_e,ve){return Array.prototype.slice.call(Q,_e,ve)}function fe(Q,_e){return Q.indexOf(_e)!==-1}function pe(Q,_e){for(var ve=0;ve<Q.length;ve++)if(fe(_e,Q[ve]))return!0;return!1}function Ie(Q,_e){for(var ve=0;ve<Q.length;ve++)if(_e(Q[ve]))return Q[ve]}function ke(Q){for(var _e={},ve=0;ve<Q.length;ve++)_e[Q[ve]]=!0;return Object.keys(_e)}function ue(Q,_e){return Array.prototype.concat.apply([],Q.map(_e))}function xe(Q){for(var _e="",ve=0;ve<Q.length;ve++){var be=Q[ve];if((typeof be.signatures=="object"||typeof be.signature=="string")&&be.name!==""){if(_e==="")_e=be.name;else if(_e!==be.name){var qe=new Error("Function names do not match (expected: "+_e+", actual: "+be.name+")");throw qe.data={actual:be.name,expected:_e},qe}}}return _e}function ge(Q){var _e,ve={};function be(Ke,J){if(ve.hasOwnProperty(Ke)&&J!==ve[Ke])throw _e=new Error('Signature "'+Ke+'" is defined twice'),_e.data={signature:Ke},_e}for(var qe=0;qe<Q.length;qe++){var se=Q[qe];if(typeof se.signatures=="object")for(var Se in se.signatures)se.signatures.hasOwnProperty(Se)&&(be(Se,se.signatures[Se]),ve[Se]=se.signatures[Se]);else if(typeof se.signature=="string")be(se.signature,se),ve[se.signature]=se;else throw _e=new TypeError("Function is no typed-function (index: "+qe+")"),_e.data={index:qe},_e}return ve}return f=U("typed",{"string, Object":U,Object:function(Q){var _e=[];for(var ve in Q)Q.hasOwnProperty(ve)&&_e.push(Q[ve]);var be=xe(_e);return U(be,Q)},"...Function":function(Q){return U(xe(Q),ge(Q))},"string, ...Function":function(Q,_e){return U(Q,ge(_e))}}),f.create=n,f.types=a,f.conversions=u,f.ignore=s,f.onMismatch=q,f.throwMismatchError=q,f.createError=T,f.convert=g,f.find=m,f.addType=function(Q,_e){if(!Q||typeof Q.name!="string"||typeof Q.test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");if(_e!==!1){for(var ve=0;ve<f.types.length;ve++)if(f.types[ve].name==="Object"){f.types.splice(ve,0,Q);return}}f.types.push(Q)},f.addConversion=function(Q){if(!Q||typeof Q.from!="string"||typeof Q.to!="string"||typeof Q.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");f.conversions.push(Q)},f}return n()})});function Ut(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}function iz(t,e,r){var n={2:"0b",8:"0o",16:"0x"},a=n[e],o="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ut(r))throw new Error("size must be an integer");if(t>ir(2,r-1)-1||t<-ir(2,r-1))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Ut(t))throw new Error("Value must be an integer");t<0&&(t=t+ir(2,r)),o="i".concat(r)}var s="";return t<0&&(t=-t,s="-"),"".concat(s).concat(a).concat(t.toString(e)).concat(o)}function zl(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var r="auto",n,a;if(e&&(e.notation&&(r=e.notation),Ar(e)?n=e:Ar(e.precision)&&(n=e.precision),e.wordSize&&(a=e.wordSize,typeof a!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return az(t,n);case"exponential":return zAe(t,n);case"engineering":return zUt(t,n);case"bin":return iz(t,2,a);case"oct":return iz(t,8,a);case"hex":return iz(t,16,a);case"auto":return UUt(t,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],s=arguments[4];return o!=="."?o+s:s});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function qk(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],a=parseFloat(e[4]||"0"),o=n.indexOf(".");a+=o!==-1?o-1:n.length-1;var s=n.replace(".","").replace(/^0*/,function(u){return a-=u.length,""}).replace(/0*$/,"").split("").map(function(u){return parseInt(u)});return s.length===0&&(s.push(0),a++),{sign:r,coefficients:s,exponent:a}}function zUt(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=qk(t),n=zk(r,e),a=n.exponent,o=n.coefficients,s=a%3===0?a:a<0?a-3-a%3:a-a%3;if(Ar(e))for(;e>o.length||a-s+1>o.length;)o.push(0);else for(var u=Math.abs(a-s)-(o.length-1),f=0;f<u;f++)o.push(0);for(var l=Math.abs(a-s),c=1;l>0;)c++,l--;var h=o.slice(c).join(""),m=Ar(e)&&h.length||h.match(/[1-9]/)?"."+h:"",g=o.slice(0,c).join("")+m+"e"+(a>=0?"+":"")+s.toString();return n.sign+g}function az(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=qk(t),n=typeof e=="number"?zk(r,r.exponent+1+e):r,a=n.coefficients,o=n.exponent+1,s=o+(e||0);return a.length<s&&(a=a.concat(cw(s-a.length))),o<0&&(a=cw(-o+1).concat(a),o=1),o<a.length&&a.splice(o,0,o===0?"0.":"."),n.sign+a.join("")}function zAe(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=qk(t),n=e?zk(r,e):r,a=n.coefficients,o=n.exponent;a.length<e&&(a=a.concat(cw(e-a.length)));var s=a.shift();return n.sign+s+(a.length>0?"."+a.join(""):"")+"e"+(o>=0?"+":"")+o}function UUt(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=r&&r.lowerExp!==void 0?r.lowerExp:-3,a=r&&r.upperExp!==void 0?r.upperExp:5,o=qk(t),s=e?zk(o,e):o;if(s.exponent<n||s.exponent>=a)return zAe(t,e);var u=s.coefficients,f=s.exponent;u.length<e&&(u=u.concat(cw(e-u.length))),u=u.concat(cw(f-u.length+1+(u.length<e?e-u.length:0))),u=cw(-f).concat(u);var l=f>0?f:0;return l<u.length-1&&u.splice(l+1,0,"."),s.sign+u.join("")}function zk(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var a=n.splice(e,n.length-e);if(a[0]>=5){var o=e-1;for(n[o]++;n[o]===10;)n.pop(),o===0&&(n.unshift(0),r.exponent++,o++),o--,n[o]++}}return r}function cw(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function UAe(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Oa(t,e,r){if(r==null)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<jUt?!0:n<=Math.max(Math.abs(t),Math.abs(e))*r}return!1}function GAe(t,e){var r=t>0?!0:t<0?!1:1/t===1/0,n=e>0?!0:e<0?!1:1/e===1/0;return r^n?-t:t}var Hf,BAe,LAe,Pk,PAe,qAe,jUt,jAe,$Ae,VAe,Uk,WAe,jk,zr=te(()=>{w();_();zt();Hf=Math.sign||function(t){return t>0?1:t<0?-1:0},BAe=Math.log2||function(e){return Math.log(e)/Math.LN2},LAe=Math.log10||function(e){return Math.log(e)/Math.LN10},Pk=Math.log1p||function(t){return Math.log(t+1)},PAe=Math.cbrt||function(e){if(e===0)return e;var r=e<0,n;return r&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,r?-n:n},qAe=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};jUt=Number.EPSILON||2220446049250313e-31;jAe=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},$Ae=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},VAe=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},Uk=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},WAe=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},jk=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)}});function oz(t,e,r){var n=t.constructor,a=new n(2),o="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ut(r))throw new Error("size must be an integer");if(t.greaterThan(a.pow(r-1).sub(1))||t.lessThan(a.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(a.pow(r))),o="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(o);case 8:return"".concat(t.toOctal()).concat(o);case 16:return"".concat(t.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(e," not supported "))}}function KAe(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r="auto",n,a;if(e!==void 0&&(e.notation&&(r=e.notation),typeof e=="number"?n=e:e.precision&&(n=e.precision),e.wordSize&&(a=e.wordSize,typeof a!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return VUt(t,n);case"exponential":return HAe(t,n);case"engineering":return $Ut(t,n);case"bin":return oz(t,2,a);case"oct":return oz(t,8,a);case"hex":return oz(t,16,a);case"auto":{var o=e&&e.lowerExp!==void 0?e.lowerExp:-3,s=e&&e.upperExp!==void 0?e.upperExp:5;if(t.isZero())return"0";var u,f=t.toSignificantDigits(n),l=f.e;return l>=o&&l<s?u=f.toFixed():u=HAe(t,n),u.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],h=arguments[4];return c!=="."?c+h:h})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function $Ut(t,e){var r=t.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,a=t.mul(Math.pow(10,-n)),o=a.toPrecision(e);return o.indexOf("e")!==-1&&(o=a.toString()),o+"e"+(r>=0?"+":"")+n.toString()}function HAe(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function VUt(t,e){return t.toFixed(e)}var ZAe=te(()=>{w();_();zr()});function JAe(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function mr(t,e){var r=WUt(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function WUt(t,e){if(typeof t=="number")return zl(t,e);if(hr(t))return KAe(t,e);if(GUt(t))return!e||e.fraction!=="decimal"?t.s*t.n+"/"+t.d:t.toString();if(Array.isArray(t))return YAe(t,e);if(ja(t))return'"'+t+'"';if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(n=>'"'+n+'": '+mr(t[n],e));return"{"+r.join(", ")+"}"}return String(t)}function fE(t){for(var e=String(t),r="",n=0;n<e.length;){var a=e.charAt(n);a==="\\"?(r+=a,n++,a=e.charAt(n),(a===""||'"\\/bfnrtu'.indexOf(a)===-1)&&(r+="\\"),r+=a):a==='"'?r+='\\"':r+=a,n++}return'"'+r+'"'}function oo(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function YAe(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,a=0;a<n;a++)a!==0&&(r+=", "),r+=YAe(t[a],e);return r+="]",r}else return mr(t,e)}function GUt(t){return t&&typeof t=="object"&&typeof t.s=="number"&&typeof t.n=="number"&&typeof t.d=="number"||!1}function Av(t,e){if(!ja(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+$r(t)+", index: 0)");if(!ja(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+$r(e)+", index: 1)");return t===e?0:t>e?1:-1}var xi=te(()=>{w();_();zt();zr();ZAe()});function br(t,e,r){if(!(this instanceof br))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}var To=te(()=>{w();_();br.prototype=new RangeError;br.prototype.constructor=RangeError;br.prototype.name="DimensionError";br.prototype.isDimensionError=!0});function jo(t,e,r){if(!(this instanceof jo))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}var Nv=te(()=>{w();_();jo.prototype=new RangeError;jo.prototype.constructor=RangeError;jo.prototype.name="IndexError";jo.prototype.isIndexError=!0});function vr(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function XAe(t,e,r){var n,a=t.length;if(a!==e[r])throw new br(a,e[r]);if(r<e.length-1){var o=r+1;for(n=0;n<a;n++){var s=t[n];if(!Array.isArray(s))throw new br(e.length-1,e.length,"<");XAe(t[n],e,o)}}else for(n=0;n<a;n++)if(Array.isArray(t[n]))throw new br(e.length+1,e.length,">")}function uz(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new br(t.length,0)}else XAe(t,e,0)}function Fn(t,e){if(!Ar(t)||!Ut(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new jo(t,e)}function Ul(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(a){if(!Ar(a)||!Ut(a)||a<0)throw new TypeError("Invalid size, must contain positive integers (size: "+mr(e)+")")});var n=r!==void 0?r:0;return sz(t,e,0,n),t}function sz(t,e,r,n){var a,o,s=t.length,u=e[r],f=Math.min(s,u);if(t.length=u,r<e.length-1){var l=r+1;for(a=0;a<f;a++)o=t[a],Array.isArray(o)||(o=[o],t[a]=o),sz(o,e,l,n);for(a=f;a<u;a++)o=[],t[a]=o,sz(o,e,l,n)}else{for(a=0;a<f;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];for(a=f;a<u;a++)t[a]=n}}function $k(t,e){var r=Tr(t),n=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new br(0,n,"!=");e=lE(e,n);var a=QAe(e);if(n!==a)throw new br(a,n,"!=");try{return HUt(r,e)}catch(o){throw o instanceof br?new br(a,n,"!="):o}}function lE(t,e){var r=QAe(t),n=t.slice(),a=-1,o=t.indexOf(a),s=t.indexOf(a,o+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var u=o>=0,f=e%r===0;if(u)if(f)n[o]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return n}function QAe(t){return t.reduce((e,r)=>e*r,1)}function HUt(t,e){for(var r=t,n,a=e.length-1;a>0;a--){var o=e[a];n=[];for(var s=r.length/o,u=0;u<s;u++)n.push(r.slice(u*o,(u+1)*o));r=n}return r}function hw(t,e){for(var r=e||vr(t);Array.isArray(t)&&t.length===1;)t=t[0],r.shift();for(var n=r.length;r[n-1]===1;)n--;return n<r.length&&(t=e3e(t,n,0),r.length=n),t}function e3e(t,e,r){var n,a;if(r<e){var o=r+1;for(n=0,a=t.length;n<a;n++)t[n]=e3e(t[n],e,o)}else for(;Array.isArray(t);)t=t[0];return t}function Vk(t,e,r,n){var a=n||vr(t);if(r)for(var o=0;o<r;o++)t=[t],a.unshift(1);for(t=t3e(t,e,0);a.length<e;)a.push(1);return t}function t3e(t,e,r){var n,a;if(Array.isArray(t)){var o=r+1;for(n=0,a=t.length;n<a;n++)t[n]=t3e(t[n],e,o)}else for(var s=r;s<e;s++)t=[t];return t}function Tr(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function r(n){Array.isArray(n)?n.forEach(r):e.push(n)}),e}function Xs(t,e){return Array.prototype.map.call(t,e)}function jd(t,e){Array.prototype.forEach.call(t,e)}function Wk(t,e){if(vr(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)}function pw(t,e){if(vr(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r=>e.test(r))}function fz(t,e){return Array.prototype.join.call(t,e)}function fp(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?r++:r=0,e.push({value:t[n],identifier:r});return e}function dw(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e}function $d(t,e){for(var r,n=0,a=0;a<t.length;a++){var o=t[a],s=Array.isArray(o);if(a===0&&s&&(n=o.length),s&&o.length!==n)return;var u=s?$d(o,e):e(o);if(r===void 0)r=u;else if(r!==u)return"mixed"}return r}var wr=te(()=>{w();_();zr();zt();xi();To();Nv()});function ae(t,e,r,n){function a(o){var s=kAe(o,e.map(JUt));return KUt(t,e,o),r(s)}return a.isFactory=!0,a.fn=t,a.dependencies=e.slice().sort(),n&&(a.meta=n),a}function KUt(t,e,r){var n=e.filter(o=>!ZUt(o)).every(o=>r[o]!==void 0);if(!n){var a=e.filter(o=>r[o]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(a.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function ZUt(t){return t&&t[0]==="?"}function JUt(t){return t&&t[0]==="?"?t.slice(1):t}var Fe=te(()=>{w();_();dn()});function xa(t,e){if(i3e(t)&&Gk(t,e))return t[e];throw typeof t[e]=="function"&&Hk(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Vc(t,e,r){if(i3e(t)&&Gk(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function r3e(t,e){return e in t}function Gk(t,e){return!t||typeof t!="object"?!1:Jt(YUt,e)?!0:!(e in Object.prototype||e in Function.prototype)}function n3e(t,e){if(!Hk(t,e))throw new Error('No access to method "'+e+'"')}function Hk(t,e){return t==null||typeof t[e]!="function"||Jt(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:Jt(XUt,e)?!0:!(e in Object.prototype||e in Function.prototype)}function i3e(t){return typeof t=="object"&&t&&t.constructor===Object}var YUt,XUt,Qs=te(()=>{w();_();dn();YUt={length:!0,name:!0},XUt={toString:!0,valueOf:!0,toLocaleString:!0}});function Mu(){return new Map}function mw(t){if(!t)return Mu();if(vw(t))return t;if(sE(t))return new cE(t);throw new Error("createMap can create maps from objects or Maps")}function a3e(t){if(t instanceof cE)return t.wrappedObject;var e={};for(var r of t.keys()){var n=t.get(r);Vc(e,r,n)}return e}function vw(t){return t?t instanceof Map||t instanceof cE||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function lz(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var a of r)if(!!a){if(vw(a))for(var o of a.keys())t.set(o,a.get(o));else if(sE(a))for(var s of Object.keys(a))t.set(s,a[s])}return t}var cE,Vd=te(()=>{w();_();Qs();zt();cE=class{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return xa(this.wrappedObject,e)}set(e,r){return Vc(this.wrappedObject,e,r),this}has(e){return r3e(this.wrappedObject,e)}}});function cz(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function Kk(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function ejt(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function hz(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var pz,o3e,QUt,dz,s3e=te(()=>{w();_();zt();pz=Bt(FAe(),1);zr();Fe();Vd();o3e=function(){return o3e=pz.default.create,pz.default},QUt=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],dz=ae("typed",QUt,function(e){var{BigNumber:r,Complex:n,DenseMatrix:a,Fraction:o}=e,s=o3e();return s.types=[{name:"number",test:Ar},{name:"Complex",test:Ys},{name:"BigNumber",test:hr},{name:"Fraction",test:Uc},{name:"Unit",test:sp},{name:"string",test:ja},{name:"Chain",test:uE},{name:"Array",test:hn},{name:"Matrix",test:Kt},{name:"DenseMatrix",test:Ev},{name:"SparseMatrix",test:ql},{name:"Range",test:Mv},{name:"Index",test:up},{name:"boolean",test:bAe},{name:"ResultSet",test:tz},{name:"Help",test:oE},{name:"function",test:wAe},{name:"Date",test:xAe},{name:"RegExp",test:_Ae},{name:"null",test:SAe},{name:"undefined",test:EAe},{name:"AccessorNode",test:Su},{name:"ArrayNode",test:Uo},{name:"AssignmentNode",test:MAe},{name:"BlockNode",test:AAe},{name:"ConditionalNode",test:NAe},{name:"ConstantNode",test:pn},{name:"FunctionNode",test:Eu},{name:"FunctionAssignmentNode",test:jc},{name:"IndexNode",test:Gf},{name:"Node",test:Ir},{name:"ObjectNode",test:zd},{name:"OperatorNode",test:Ja},{name:"ParenthesisNode",test:$c},{name:"RangeNode",test:TAe},{name:"SymbolNode",test:wi},{name:"Map",test:vw},{name:"Object",test:sE}],s.conversions=[{from:"number",to:"BigNumber",convert:function(f){if(r||cz(f),UAe(f)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+f+"). Use function bignumber(x) to convert to BigNumber.");return new r(f)}},{from:"number",to:"Complex",convert:function(f){return n||Kk(f),new n(f,0)}},{from:"number",to:"string",convert:function(f){return f+""}},{from:"BigNumber",to:"Complex",convert:function(f){return n||Kk(f),new n(f.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(f){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(f){return n||Kk(f),new n(f.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(f){o||hz(f);var l=new o(f);if(l.valueOf()!==f)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+f+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(f){var l=Number(f);if(isNaN(l))throw new Error('Cannot convert "'+f+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(f){r||cz(f);try{return new r(f)}catch(l){throw new Error('Cannot convert "'+f+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(f){o||hz(f);try{return new o(f)}catch(l){throw new Error('Cannot convert "'+f+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(f){n||Kk(f);try{return new n(f)}catch(l){throw new Error('Cannot convert "'+f+'" to Complex')}}},{from:"boolean",to:"number",convert:function(f){return+f}},{from:"boolean",to:"BigNumber",convert:function(f){return r||cz(f),new r(+f)}},{from:"boolean",to:"Fraction",convert:function(f){return o||hz(f),new o(+f)}},{from:"boolean",to:"string",convert:function(f){return String(f)}},{from:"Array",to:"Matrix",convert:function(f){return a||ejt(),new a(f)}},{from:"Matrix",to:"Array",convert:function(f){return f.valueOf()}}],s})});var tjt,rjt,mz,u3e=te(()=>{w();_();Fe();tjt="ResultSet",rjt=[],mz=ae(tjt,rjt,()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t},{isClass:!0})});var Jk=Ee((f3e,Zk)=>{w();_();(function(t){"use strict";var e=9e15,r=1e9,n="0123456789abcdef",a="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",o="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",s={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-e,maxE:e,crypto:!1},u,f,l,c,h=!0,m="[DecimalError] ",g=m+"Invalid argument: ",b=m+"Precision limit exceeded",A=m+"crypto unavailable",I="[object Decimal]",C=Math.floor,R=Math.pow,O=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,F=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,z=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,B=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$=1e7,j=7,W=9007199254740991,T=a.length-1,p=o.length-1,v={toStringTag:I};v.absoluteValue=v.abs=function(){var ie=new this.constructor(this);return ie.s<0&&(ie.s=1),d(ie)},v.ceil=function(){return d(new this.constructor(this),this.e+1,2)},v.clampedTo=v.clamp=function(ie,ce){var de,ye=this,Ae=ye.constructor;if(ie=new Ae(ie),ce=new Ae(ce),!ie.s||!ce.s)return new Ae(NaN);if(ie.gt(ce))throw Error(g+ce);return de=ye.cmp(ie),de<0?ie:ye.cmp(ce)>0?ce:new Ae(ye)},v.comparedTo=v.cmp=function(ie){var ce,de,ye,Ae,Ne=this,Pe=Ne.d,je=(ie=new Ne.constructor(ie)).d,Qe=Ne.s,Ve=ie.s;if(!Pe||!je)return!Qe||!Ve?NaN:Qe!==Ve?Qe:Pe===je?0:!Pe^Qe<0?1:-1;if(!Pe[0]||!je[0])return Pe[0]?Qe:je[0]?-Ve:0;if(Qe!==Ve)return Qe;if(Ne.e!==ie.e)return Ne.e>ie.e^Qe<0?1:-1;for(ye=Pe.length,Ae=je.length,ce=0,de=ye<Ae?ye:Ae;ce<de;++ce)if(Pe[ce]!==je[ce])return Pe[ce]>je[ce]^Qe<0?1:-1;return ye===Ae?0:ye>Ae^Qe<0?1:-1},v.cosine=v.cos=function(){var ie,ce,de=this,ye=de.constructor;return de.d?de.d[0]?(ie=ye.precision,ce=ye.rounding,ye.precision=ie+Math.max(de.e,de.sd())+j,ye.rounding=1,de=k(ye,ge(ye,de)),ye.precision=ie,ye.rounding=ce,d(c==2||c==3?de.neg():de,ie,ce,!0)):new ye(1):new ye(NaN)},v.cubeRoot=v.cbrt=function(){var ie,ce,de,ye,Ae,Ne,Pe,je,Qe,Ve,ot=this,mt=ot.constructor;if(!ot.isFinite()||ot.isZero())return new mt(ot);for(h=!1,Ne=ot.s*R(ot.s*ot,1/3),!Ne||Math.abs(Ne)==1/0?(de=S(ot.d),ie=ot.e,(Ne=(ie-de.length+1)%3)&&(de+=Ne==1||Ne==-2?"0":"00"),Ne=R(de,1/3),ie=C((ie+1)/3)-(ie%3==(ie<0?-1:2)),Ne==1/0?de="5e"+ie:(de=Ne.toExponential(),de=de.slice(0,de.indexOf("e")+1)+ie),ye=new mt(de),ye.s=ot.s):ye=new mt(Ne.toString()),Pe=(ie=mt.precision)+3;;)if(je=ye,Qe=je.times(je).times(je),Ve=Qe.plus(ot),ye=E(Ve.plus(ot).times(je),Ve.plus(Qe),Pe+2,1),S(je.d).slice(0,Pe)===(de=S(ye.d)).slice(0,Pe))if(de=de.slice(Pe-3,Pe+1),de=="9999"||!Ae&&de=="4999"){if(!Ae&&(d(je,ie+1,0),je.times(je).times(je).eq(ot))){ye=je;break}Pe+=4,Ae=1}else{(!+de||!+de.slice(1)&&de.charAt(0)=="5")&&(d(ye,ie+1,1),ce=!ye.times(ye).times(ye).eq(ot));break}return h=!0,d(ye,ie,mt.rounding,ce)},v.decimalPlaces=v.dp=function(){var ie,ce=this.d,de=NaN;if(ce){if(ie=ce.length-1,de=(ie-C(this.e/j))*j,ie=ce[ie],ie)for(;ie%10==0;ie/=10)de--;de<0&&(de=0)}return de},v.dividedBy=v.div=function(ie){return E(this,new this.constructor(ie))},v.dividedToIntegerBy=v.divToInt=function(ie){var ce=this,de=ce.constructor;return d(E(ce,new de(ie),0,1,1),de.precision,de.rounding)},v.equals=v.eq=function(ie){return this.cmp(ie)===0},v.floor=function(){return d(new this.constructor(this),this.e+1,3)},v.greaterThan=v.gt=function(ie){return this.cmp(ie)>0},v.greaterThanOrEqualTo=v.gte=function(ie){var ce=this.cmp(ie);return ce==1||ce===0},v.hyperbolicCosine=v.cosh=function(){var ie,ce,de,ye,Ae,Ne=this,Pe=Ne.constructor,je=new Pe(1);if(!Ne.isFinite())return new Pe(Ne.s?1/0:NaN);if(Ne.isZero())return je;de=Pe.precision,ye=Pe.rounding,Pe.precision=de+Math.max(Ne.e,Ne.sd())+4,Pe.rounding=1,Ae=Ne.d.length,Ae<32?(ie=Math.ceil(Ae/3),ce=(1/xe(4,ie)).toString()):(ie=16,ce="2.3283064365386962890625e-10"),Ne=ue(Pe,1,Ne.times(ce),new Pe(1),!0);for(var Qe,Ve=ie,ot=new Pe(8);Ve--;)Qe=Ne.times(Ne),Ne=je.minus(Qe.times(ot.minus(Qe.times(ot))));return d(Ne,Pe.precision=de,Pe.rounding=ye,!0)},v.hyperbolicSine=v.sinh=function(){var ie,ce,de,ye,Ae=this,Ne=Ae.constructor;if(!Ae.isFinite()||Ae.isZero())return new Ne(Ae);if(ce=Ne.precision,de=Ne.rounding,Ne.precision=ce+Math.max(Ae.e,Ae.sd())+4,Ne.rounding=1,ye=Ae.d.length,ye<3)Ae=ue(Ne,2,Ae,Ae,!0);else{ie=1.4*Math.sqrt(ye),ie=ie>16?16:ie|0,Ae=Ae.times(1/xe(5,ie)),Ae=ue(Ne,2,Ae,Ae,!0);for(var Pe,je=new Ne(5),Qe=new Ne(16),Ve=new Ne(20);ie--;)Pe=Ae.times(Ae),Ae=Ae.times(je.plus(Pe.times(Qe.times(Pe).plus(Ve))))}return Ne.precision=ce,Ne.rounding=de,d(Ae,ce,de,!0)},v.hyperbolicTangent=v.tanh=function(){var ie,ce,de=this,ye=de.constructor;return de.isFinite()?de.isZero()?new ye(de):(ie=ye.precision,ce=ye.rounding,ye.precision=ie+7,ye.rounding=1,E(de.sinh(),de.cosh(),ye.precision=ie,ye.rounding=ce)):new ye(de.s)},v.inverseCosine=v.acos=function(){var ie,ce=this,de=ce.constructor,ye=ce.abs().cmp(1),Ae=de.precision,Ne=de.rounding;return ye!==-1?ye===0?ce.isNeg()?P(de,Ae,Ne):new de(0):new de(NaN):ce.isZero()?P(de,Ae+4,Ne).times(.5):(de.precision=Ae+6,de.rounding=1,ce=ce.asin(),ie=P(de,Ae+4,Ne).times(.5),de.precision=Ae,de.rounding=Ne,ie.minus(ce))},v.inverseHyperbolicCosine=v.acosh=function(){var ie,ce,de=this,ye=de.constructor;return de.lte(1)?new ye(de.eq(1)?0:NaN):de.isFinite()?(ie=ye.precision,ce=ye.rounding,ye.precision=ie+Math.max(Math.abs(de.e),de.sd())+4,ye.rounding=1,h=!1,de=de.times(de).minus(1).sqrt().plus(de),h=!0,ye.precision=ie,ye.rounding=ce,de.ln()):new ye(de)},v.inverseHyperbolicSine=v.asinh=function(){var ie,ce,de=this,ye=de.constructor;return!de.isFinite()||de.isZero()?new ye(de):(ie=ye.precision,ce=ye.rounding,ye.precision=ie+2*Math.max(Math.abs(de.e),de.sd())+6,ye.rounding=1,h=!1,de=de.times(de).plus(1).sqrt().plus(de),h=!0,ye.precision=ie,ye.rounding=ce,de.ln())},v.inverseHyperbolicTangent=v.atanh=function(){var ie,ce,de,ye,Ae=this,Ne=Ae.constructor;return Ae.isFinite()?Ae.e>=0?new Ne(Ae.abs().eq(1)?Ae.s/0:Ae.isZero()?Ae:NaN):(ie=Ne.precision,ce=Ne.rounding,ye=Ae.sd(),Math.max(ye,ie)<2*-Ae.e-1?d(new Ne(Ae),ie,ce,!0):(Ne.precision=de=ye-Ae.e,Ae=E(Ae.plus(1),new Ne(1).minus(Ae),de+ie,1),Ne.precision=ie+4,Ne.rounding=1,Ae=Ae.ln(),Ne.precision=ie,Ne.rounding=ce,Ae.times(.5))):new Ne(NaN)},v.inverseSine=v.asin=function(){var ie,ce,de,ye,Ae=this,Ne=Ae.constructor;return Ae.isZero()?new Ne(Ae):(ce=Ae.abs().cmp(1),de=Ne.precision,ye=Ne.rounding,ce!==-1?ce===0?(ie=P(Ne,de+4,ye).times(.5),ie.s=Ae.s,ie):new Ne(NaN):(Ne.precision=de+6,Ne.rounding=1,Ae=Ae.div(new Ne(1).minus(Ae.times(Ae)).sqrt().plus(1)).atan(),Ne.precision=de,Ne.rounding=ye,Ae.times(2)))},v.inverseTangent=v.atan=function(){var ie,ce,de,ye,Ae,Ne,Pe,je,Qe,Ve=this,ot=Ve.constructor,mt=ot.precision,Mt=ot.rounding;if(Ve.isFinite()){if(Ve.isZero())return new ot(Ve);if(Ve.abs().eq(1)&&mt+4<=p)return Pe=P(ot,mt+4,Mt).times(.25),Pe.s=Ve.s,Pe}else{if(!Ve.s)return new ot(NaN);if(mt+4<=p)return Pe=P(ot,mt+4,Mt).times(.5),Pe.s=Ve.s,Pe}for(ot.precision=je=mt+10,ot.rounding=1,de=Math.min(28,je/j+2|0),ie=de;ie;--ie)Ve=Ve.div(Ve.times(Ve).plus(1).sqrt().plus(1));for(h=!1,ce=Math.ceil(je/j),ye=1,Qe=Ve.times(Ve),Pe=new ot(Ve),Ae=Ve;ie!==-1;)if(Ae=Ae.times(Qe),Ne=Pe.minus(Ae.div(ye+=2)),Ae=Ae.times(Qe),Pe=Ne.plus(Ae.div(ye+=2)),Pe.d[ce]!==void 0)for(ie=ce;Pe.d[ie]===Ne.d[ie]&&ie--;);return de&&(Pe=Pe.times(2<<de-1)),h=!0,d(Pe,ot.precision=mt,ot.rounding=Mt,!0)},v.isFinite=function(){return!!this.d},v.isInteger=v.isInt=function(){return!!this.d&&C(this.e/j)>this.d.length-2},v.isNaN=function(){return!this.s},v.isNegative=v.isNeg=function(){return this.s<0},v.isPositive=v.isPos=function(){return this.s>0},v.isZero=function(){return!!this.d&&this.d[0]===0},v.lessThan=v.lt=function(ie){return this.cmp(ie)<0},v.lessThanOrEqualTo=v.lte=function(ie){return this.cmp(ie)<1},v.logarithm=v.log=function(ie){var ce,de,ye,Ae,Ne,Pe,je,Qe,Ve=this,ot=Ve.constructor,mt=ot.precision,Mt=ot.rounding,$t=5;if(ie==null)ie=new ot(10),ce=!0;else{if(ie=new ot(ie),de=ie.d,ie.s<0||!de||!de[0]||ie.eq(1))return new ot(NaN);ce=ie.eq(10)}if(de=Ve.d,Ve.s<0||!de||!de[0]||Ve.eq(1))return new ot(de&&!de[0]?-1/0:Ve.s!=1?NaN:de?0:1/0);if(ce)if(de.length>1)Ne=!0;else{for(Ae=de[0];Ae%10===0;)Ae/=10;Ne=Ae!==1}if(h=!1,je=mt+$t,Pe=ne(Ve,je),ye=ce?q(ot,je+10):ne(ie,je),Qe=E(Pe,ye,je,1),M(Qe.d,Ae=mt,Mt))do if(je+=10,Pe=ne(Ve,je),ye=ce?q(ot,je+10):ne(ie,je),Qe=E(Pe,ye,je,1),!Ne){+S(Qe.d).slice(Ae+1,Ae+15)+1==1e14&&(Qe=d(Qe,mt+1,0));break}while(M(Qe.d,Ae+=10,Mt));return h=!0,d(Qe,mt,Mt)},v.minus=v.sub=function(ie){var ce,de,ye,Ae,Ne,Pe,je,Qe,Ve,ot,mt,Mt,$t=this,cr=$t.constructor;if(ie=new cr(ie),!$t.d||!ie.d)return!$t.s||!ie.s?ie=new cr(NaN):$t.d?ie.s=-ie.s:ie=new cr(ie.d||$t.s!==ie.s?$t:NaN),ie;if($t.s!=ie.s)return ie.s=-ie.s,$t.plus(ie);if(Ve=$t.d,Mt=ie.d,je=cr.precision,Qe=cr.rounding,!Ve[0]||!Mt[0]){if(Mt[0])ie.s=-ie.s;else if(Ve[0])ie=new cr($t);else return new cr(Qe===3?-0:0);return h?d(ie,je,Qe):ie}if(de=C(ie.e/j),ot=C($t.e/j),Ve=Ve.slice(),Ne=ot-de,Ne){for(mt=Ne<0,mt?(ce=Ve,Ne=-Ne,Pe=Mt.length):(ce=Mt,de=ot,Pe=Ve.length),ye=Math.max(Math.ceil(je/j),Pe)+2,Ne>ye&&(Ne=ye,ce.length=1),ce.reverse(),ye=Ne;ye--;)ce.push(0);ce.reverse()}else{for(ye=Ve.length,Pe=Mt.length,mt=ye<Pe,mt&&(Pe=ye),ye=0;ye<Pe;ye++)if(Ve[ye]!=Mt[ye]){mt=Ve[ye]<Mt[ye];break}Ne=0}for(mt&&(ce=Ve,Ve=Mt,Mt=ce,ie.s=-ie.s),Pe=Ve.length,ye=Mt.length-Pe;ye>0;--ye)Ve[Pe++]=0;for(ye=Mt.length;ye>Ne;){if(Ve[--ye]<Mt[ye]){for(Ae=ye;Ae&&Ve[--Ae]===0;)Ve[Ae]=$-1;--Ve[Ae],Ve[ye]+=$}Ve[ye]-=Mt[ye]}for(;Ve[--Pe]===0;)Ve.pop();for(;Ve[0]===0;Ve.shift())--de;return Ve[0]?(ie.d=Ve,ie.e=U(Ve,de),h?d(ie,je,Qe):ie):new cr(Qe===3?-0:0)},v.modulo=v.mod=function(ie){var ce,de=this,ye=de.constructor;return ie=new ye(ie),!de.d||!ie.s||ie.d&&!ie.d[0]?new ye(NaN):!ie.d||de.d&&!de.d[0]?d(new ye(de),ye.precision,ye.rounding):(h=!1,ye.modulo==9?(ce=E(de,ie.abs(),0,3,1),ce.s*=ie.s):ce=E(de,ie,0,ye.modulo,1),ce=ce.times(ie),h=!0,de.minus(ce))},v.naturalExponential=v.exp=function(){return K(this)},v.naturalLogarithm=v.ln=function(){return ne(this)},v.negated=v.neg=function(){var ie=new this.constructor(this);return ie.s=-ie.s,d(ie)},v.plus=v.add=function(ie){var ce,de,ye,Ae,Ne,Pe,je,Qe,Ve,ot,mt=this,Mt=mt.constructor;if(ie=new Mt(ie),!mt.d||!ie.d)return!mt.s||!ie.s?ie=new Mt(NaN):mt.d||(ie=new Mt(ie.d||mt.s===ie.s?mt:NaN)),ie;if(mt.s!=ie.s)return ie.s=-ie.s,mt.minus(ie);if(Ve=mt.d,ot=ie.d,je=Mt.precision,Qe=Mt.rounding,!Ve[0]||!ot[0])return ot[0]||(ie=new Mt(mt)),h?d(ie,je,Qe):ie;if(Ne=C(mt.e/j),ye=C(ie.e/j),Ve=Ve.slice(),Ae=Ne-ye,Ae){for(Ae<0?(de=Ve,Ae=-Ae,Pe=ot.length):(de=ot,ye=Ne,Pe=Ve.length),Ne=Math.ceil(je/j),Pe=Ne>Pe?Ne+1:Pe+1,Ae>Pe&&(Ae=Pe,de.length=1),de.reverse();Ae--;)de.push(0);de.reverse()}for(Pe=Ve.length,Ae=ot.length,Pe-Ae<0&&(Ae=Pe,de=ot,ot=Ve,Ve=de),ce=0;Ae;)ce=(Ve[--Ae]=Ve[Ae]+ot[Ae]+ce)/$|0,Ve[Ae]%=$;for(ce&&(Ve.unshift(ce),++ye),Pe=Ve.length;Ve[--Pe]==0;)Ve.pop();return ie.d=Ve,ie.e=U(Ve,ye),h?d(ie,je,Qe):ie},v.precision=v.sd=function(ie){var ce,de=this;if(ie!==void 0&&ie!==!!ie&&ie!==1&&ie!==0)throw Error(g+ie);return de.d?(ce=G(de.d),ie&&de.e+1>ce&&(ce=de.e+1)):ce=NaN,ce},v.round=function(){var ie=this,ce=ie.constructor;return d(new ce(ie),ie.e+1,ce.rounding)},v.sine=v.sin=function(){var ie,ce,de=this,ye=de.constructor;return de.isFinite()?de.isZero()?new ye(de):(ie=ye.precision,ce=ye.rounding,ye.precision=ie+Math.max(de.e,de.sd())+j,ye.rounding=1,de=ke(ye,ge(ye,de)),ye.precision=ie,ye.rounding=ce,d(c>2?de.neg():de,ie,ce,!0)):new ye(NaN)},v.squareRoot=v.sqrt=function(){var ie,ce,de,ye,Ae,Ne,Pe=this,je=Pe.d,Qe=Pe.e,Ve=Pe.s,ot=Pe.constructor;if(Ve!==1||!je||!je[0])return new ot(!Ve||Ve<0&&(!je||je[0])?NaN:je?Pe:1/0);for(h=!1,Ve=Math.sqrt(+Pe),Ve==0||Ve==1/0?(ce=S(je),(ce.length+Qe)%2==0&&(ce+="0"),Ve=Math.sqrt(ce),Qe=C((Qe+1)/2)-(Qe<0||Qe%2),Ve==1/0?ce="5e"+Qe:(ce=Ve.toExponential(),ce=ce.slice(0,ce.indexOf("e")+1)+Qe),ye=new ot(ce)):ye=new ot(Ve.toString()),de=(Qe=ot.precision)+3;;)if(Ne=ye,ye=Ne.plus(E(Pe,Ne,de+2,1)).times(.5),S(Ne.d).slice(0,de)===(ce=S(ye.d)).slice(0,de))if(ce=ce.slice(de-3,de+1),ce=="9999"||!Ae&&ce=="4999"){if(!Ae&&(d(Ne,Qe+1,0),Ne.times(Ne).eq(Pe))){ye=Ne;break}de+=4,Ae=1}else{(!+ce||!+ce.slice(1)&&ce.charAt(0)=="5")&&(d(ye,Qe+1,1),ie=!ye.times(ye).eq(Pe));break}return h=!0,d(ye,Qe,ot.rounding,ie)},v.tangent=v.tan=function(){var ie,ce,de=this,ye=de.constructor;return de.isFinite()?de.isZero()?new ye(de):(ie=ye.precision,ce=ye.rounding,ye.precision=ie+10,ye.rounding=1,de=de.sin(),de.s=1,de=E(de,new ye(1).minus(de.times(de)).sqrt(),ie+10,0),ye.precision=ie,ye.rounding=ce,d(c==2||c==4?de.neg():de,ie,ce,!0)):new ye(NaN)},v.times=v.mul=function(ie){var ce,de,ye,Ae,Ne,Pe,je,Qe,Ve,ot=this,mt=ot.constructor,Mt=ot.d,$t=(ie=new mt(ie)).d;if(ie.s*=ot.s,!Mt||!Mt[0]||!$t||!$t[0])return new mt(!ie.s||Mt&&!Mt[0]&&!$t||$t&&!$t[0]&&!Mt?NaN:!Mt||!$t?ie.s/0:ie.s*0);for(de=C(ot.e/j)+C(ie.e/j),Qe=Mt.length,Ve=$t.length,Qe<Ve&&(Ne=Mt,Mt=$t,$t=Ne,Pe=Qe,Qe=Ve,Ve=Pe),Ne=[],Pe=Qe+Ve,ye=Pe;ye--;)Ne.push(0);for(ye=Ve;--ye>=0;){for(ce=0,Ae=Qe+ye;Ae>ye;)je=Ne[Ae]+$t[ye]*Mt[Ae-ye-1]+ce,Ne[Ae--]=je%$|0,ce=je/$|0;Ne[Ae]=(Ne[Ae]+ce)%$|0}for(;!Ne[--Pe];)Ne.pop();return ce?++de:Ne.shift(),ie.d=Ne,ie.e=U(Ne,de),h?d(ie,mt.precision,mt.rounding):ie},v.toBinary=function(ie,ce){return Q(this,2,ie,ce)},v.toDecimalPlaces=v.toDP=function(ie,ce){var de=this,ye=de.constructor;return de=new ye(de),ie===void 0?de:(y(ie,0,r),ce===void 0?ce=ye.rounding:y(ce,0,8),d(de,ie+de.e+1,ce))},v.toExponential=function(ie,ce){var de,ye=this,Ae=ye.constructor;return ie===void 0?de=N(ye,!0):(y(ie,0,r),ce===void 0?ce=Ae.rounding:y(ce,0,8),ye=d(new Ae(ye),ie+1,ce),de=N(ye,!0,ie+1)),ye.isNeg()&&!ye.isZero()?"-"+de:de},v.toFixed=function(ie,ce){var de,ye,Ae=this,Ne=Ae.constructor;return ie===void 0?de=N(Ae):(y(ie,0,r),ce===void 0?ce=Ne.rounding:y(ce,0,8),ye=d(new Ne(Ae),ie+Ae.e+1,ce),de=N(ye,!1,ie+ye.e+1)),Ae.isNeg()&&!Ae.isZero()?"-"+de:de},v.toFraction=function(ie){var ce,de,ye,Ae,Ne,Pe,je,Qe,Ve,ot,mt,Mt,$t=this,cr=$t.d,rr=$t.constructor;if(!cr)return new rr($t);if(Ve=de=new rr(1),ye=Qe=new rr(0),ce=new rr(ye),Ne=ce.e=G(cr)-$t.e-1,Pe=Ne%j,ce.d[0]=R(10,Pe<0?j+Pe:Pe),ie==null)ie=Ne>0?ce:Ve;else{if(je=new rr(ie),!je.isInt()||je.lt(Ve))throw Error(g+je);ie=je.gt(ce)?Ne>0?ce:Ve:je}for(h=!1,je=new rr(S(cr)),ot=rr.precision,rr.precision=Ne=cr.length*j*2;mt=E(je,ce,0,1,1),Ae=de.plus(mt.times(ye)),Ae.cmp(ie)!=1;)de=ye,ye=Ae,Ae=Ve,Ve=Qe.plus(mt.times(Ae)),Qe=Ae,Ae=ce,ce=je.minus(mt.times(Ae)),je=Ae;return Ae=E(ie.minus(de),ye,0,1,1),Qe=Qe.plus(Ae.times(Ve)),de=de.plus(Ae.times(ye)),Qe.s=Ve.s=$t.s,Mt=E(Ve,ye,Ne,1).minus($t).abs().cmp(E(Qe,de,Ne,1).minus($t).abs())<1?[Ve,ye]:[Qe,de],rr.precision=ot,h=!0,Mt},v.toHexadecimal=v.toHex=function(ie,ce){return Q(this,16,ie,ce)},v.toNearest=function(ie,ce){var de=this,ye=de.constructor;if(de=new ye(de),ie==null){if(!de.d)return de;ie=new ye(1),ce=ye.rounding}else{if(ie=new ye(ie),ce===void 0?ce=ye.rounding:y(ce,0,8),!de.d)return ie.s?de:ie;if(!ie.d)return ie.s&&(ie.s=de.s),ie}return ie.d[0]?(h=!1,de=E(de,ie,0,ce,1).times(ie),h=!0,d(de)):(ie.s=de.s,de=ie),de},v.toNumber=function(){return+this},v.toOctal=function(ie,ce){return Q(this,8,ie,ce)},v.toPower=v.pow=function(ie){var ce,de,ye,Ae,Ne,Pe,je=this,Qe=je.constructor,Ve=+(ie=new Qe(ie));if(!je.d||!ie.d||!je.d[0]||!ie.d[0])return new Qe(R(+je,Ve));if(je=new Qe(je),je.eq(1))return je;if(ye=Qe.precision,Ne=Qe.rounding,ie.eq(1))return d(je,ye,Ne);if(ce=C(ie.e/j),ce>=ie.d.length-1&&(de=Ve<0?-Ve:Ve)<=W)return Ae=X(Qe,je,de,ye),ie.s<0?new Qe(1).div(Ae):d(Ae,ye,Ne);if(Pe=je.s,Pe<0){if(ce<ie.d.length-1)return new Qe(NaN);if((ie.d[ce]&1)==0&&(Pe=1),je.e==0&&je.d[0]==1&&je.d.length==1)return je.s=Pe,je}return de=R(+je,Ve),ce=de==0||!isFinite(de)?C(Ve*(Math.log("0."+S(je.d))/Math.LN10+je.e+1)):new Qe(de+"").e,ce>Qe.maxE+1||ce<Qe.minE-1?new Qe(ce>0?Pe/0:0):(h=!1,Qe.rounding=je.s=1,de=Math.min(12,(ce+"").length),Ae=K(ie.times(ne(je,ye+de)),ye),Ae.d&&(Ae=d(Ae,ye+5,1),M(Ae.d,ye,Ne)&&(ce=ye+10,Ae=d(K(ie.times(ne(je,ce+de)),ce),ce+5,1),+S(Ae.d).slice(ye+1,ye+15)+1==1e14&&(Ae=d(Ae,ye+1,0)))),Ae.s=Pe,h=!0,Qe.rounding=Ne,d(Ae,ye,Ne))},v.toPrecision=function(ie,ce){var de,ye=this,Ae=ye.constructor;return ie===void 0?de=N(ye,ye.e<=Ae.toExpNeg||ye.e>=Ae.toExpPos):(y(ie,1,r),ce===void 0?ce=Ae.rounding:y(ce,0,8),ye=d(new Ae(ye),ie,ce),de=N(ye,ie<=ye.e||ye.e<=Ae.toExpNeg,ie)),ye.isNeg()&&!ye.isZero()?"-"+de:de},v.toSignificantDigits=v.toSD=function(ie,ce){var de=this,ye=de.constructor;return ie===void 0?(ie=ye.precision,ce=ye.rounding):(y(ie,1,r),ce===void 0?ce=ye.rounding:y(ce,0,8)),d(new ye(de),ie,ce)},v.toString=function(){var ie=this,ce=ie.constructor,de=N(ie,ie.e<=ce.toExpNeg||ie.e>=ce.toExpPos);return ie.isNeg()&&!ie.isZero()?"-"+de:de},v.truncated=v.trunc=function(){return d(new this.constructor(this),this.e+1,1)},v.valueOf=v.toJSON=function(){var ie=this,ce=ie.constructor,de=N(ie,ie.e<=ce.toExpNeg||ie.e>=ce.toExpPos);return ie.isNeg()?"-"+de:de};function S(ie){var ce,de,ye,Ae=ie.length-1,Ne="",Pe=ie[0];if(Ae>0){for(Ne+=Pe,ce=1;ce<Ae;ce++)ye=ie[ce]+"",de=j-ye.length,de&&(Ne+=Z(de)),Ne+=ye;Pe=ie[ce],ye=Pe+"",de=j-ye.length,de&&(Ne+=Z(de))}else if(Pe===0)return"0";for(;Pe%10===0;)Pe/=10;return Ne+Pe}function y(ie,ce,de){if(ie!==~~ie||ie<ce||ie>de)throw Error(g+ie)}function M(ie,ce,de,ye){var Ae,Ne,Pe,je;for(Ne=ie[0];Ne>=10;Ne/=10)--ce;return--ce<0?(ce+=j,Ae=0):(Ae=Math.ceil((ce+1)/j),ce%=j),Ne=R(10,j-ce),je=ie[Ae]%Ne|0,ye==null?ce<3?(ce==0?je=je/100|0:ce==1&&(je=je/10|0),Pe=de<4&&je==99999||de>3&&je==49999||je==5e4||je==0):Pe=(de<4&&je+1==Ne||de>3&&je+1==Ne/2)&&(ie[Ae+1]/Ne/100|0)==R(10,ce-2)-1||(je==Ne/2||je==0)&&(ie[Ae+1]/Ne/100|0)==0:ce<4?(ce==0?je=je/1e3|0:ce==1?je=je/100|0:ce==2&&(je=je/10|0),Pe=(ye||de<4)&&je==9999||!ye&&de>3&&je==4999):Pe=((ye||de<4)&&je+1==Ne||!ye&&de>3&&je+1==Ne/2)&&(ie[Ae+1]/Ne/1e3|0)==R(10,ce-3)-1,Pe}function D(ie,ce,de){for(var ye,Ae=[0],Ne,Pe=0,je=ie.length;Pe<je;){for(Ne=Ae.length;Ne--;)Ae[Ne]*=ce;for(Ae[0]+=n.indexOf(ie.charAt(Pe++)),ye=0;ye<Ae.length;ye++)Ae[ye]>de-1&&(Ae[ye+1]===void 0&&(Ae[ye+1]=0),Ae[ye+1]+=Ae[ye]/de|0,Ae[ye]%=de)}return Ae.reverse()}function k(ie,ce){var de,ye,Ae;if(ce.isZero())return ce;ye=ce.d.length,ye<32?(de=Math.ceil(ye/3),Ae=(1/xe(4,de)).toString()):(de=16,Ae="2.3283064365386962890625e-10"),ie.precision+=de,ce=ue(ie,1,ce.times(Ae),new ie(1));for(var Ne=de;Ne--;){var Pe=ce.times(ce);ce=Pe.times(Pe).minus(Pe).times(8).plus(1)}return ie.precision-=de,ce}var E=function(){function ie(ye,Ae,Ne){var Pe,je=0,Qe=ye.length;for(ye=ye.slice();Qe--;)Pe=ye[Qe]*Ae+je,ye[Qe]=Pe%Ne|0,je=Pe/Ne|0;return je&&ye.unshift(je),ye}function ce(ye,Ae,Ne,Pe){var je,Qe;if(Ne!=Pe)Qe=Ne>Pe?1:-1;else for(je=Qe=0;je<Ne;je++)if(ye[je]!=Ae[je]){Qe=ye[je]>Ae[je]?1:-1;break}return Qe}function de(ye,Ae,Ne,Pe){for(var je=0;Ne--;)ye[Ne]-=je,je=ye[Ne]<Ae[Ne]?1:0,ye[Ne]=je*Pe+ye[Ne]-Ae[Ne];for(;!ye[0]&&ye.length>1;)ye.shift()}return function(ye,Ae,Ne,Pe,je,Qe){var Ve,ot,mt,Mt,$t,cr,rr,Br,pr,Vr,kn,fa,Zl,ms,$w,Kv,gp,Vw,iu,ee,we=ye.constructor,Be=ye.s==Ae.s?1:-1,rt=ye.d,_t=Ae.d;if(!rt||!rt[0]||!_t||!_t[0])return new we(!ye.s||!Ae.s||(rt?_t&&rt[0]==_t[0]:!_t)?NaN:rt&&rt[0]==0||!_t?Be*0:Be/0);for(Qe?($t=1,ot=ye.e-Ae.e):(Qe=$,$t=j,ot=C(ye.e/$t)-C(Ae.e/$t)),iu=_t.length,gp=rt.length,pr=new we(Be),Vr=pr.d=[],mt=0;_t[mt]==(rt[mt]||0);mt++);if(_t[mt]>(rt[mt]||0)&&ot--,Ne==null?(ms=Ne=we.precision,Pe=we.rounding):je?ms=Ne+(ye.e-Ae.e)+1:ms=Ne,ms<0)Vr.push(1),cr=!0;else{if(ms=ms/$t+2|0,mt=0,iu==1){for(Mt=0,_t=_t[0],ms++;(mt<gp||Mt)&&ms--;mt++)$w=Mt*Qe+(rt[mt]||0),Vr[mt]=$w/_t|0,Mt=$w%_t|0;cr=Mt||mt<gp}else{for(Mt=Qe/(_t[0]+1)|0,Mt>1&&(_t=ie(_t,Mt,Qe),rt=ie(rt,Mt,Qe),iu=_t.length,gp=rt.length),Kv=iu,kn=rt.slice(0,iu),fa=kn.length;fa<iu;)kn[fa++]=0;ee=_t.slice(),ee.unshift(0),Vw=_t[0],_t[1]>=Qe/2&&++Vw;do Mt=0,Ve=ce(_t,kn,iu,fa),Ve<0?(Zl=kn[0],iu!=fa&&(Zl=Zl*Qe+(kn[1]||0)),Mt=Zl/Vw|0,Mt>1?(Mt>=Qe&&(Mt=Qe-1),rr=ie(_t,Mt,Qe),Br=rr.length,fa=kn.length,Ve=ce(rr,kn,Br,fa),Ve==1&&(Mt--,de(rr,iu<Br?ee:_t,Br,Qe))):(Mt==0&&(Ve=Mt=1),rr=_t.slice()),Br=rr.length,Br<fa&&rr.unshift(0),de(kn,rr,fa,Qe),Ve==-1&&(fa=kn.length,Ve=ce(_t,kn,iu,fa),Ve<1&&(Mt++,de(kn,iu<fa?ee:_t,fa,Qe))),fa=kn.length):Ve===0&&(Mt++,kn=[0]),Vr[mt++]=Mt,Ve&&kn[0]?kn[fa++]=rt[Kv]||0:(kn=[rt[Kv]],fa=1);while((Kv++<gp||kn[0]!==void 0)&&ms--);cr=kn[0]!==void 0}Vr[0]||Vr.shift()}if($t==1)pr.e=ot,f=cr;else{for(mt=1,Mt=Vr[0];Mt>=10;Mt/=10)mt++;pr.e=mt+ot*$t-1,d(pr,je?Ne+pr.e+1:Ne,Pe,cr)}return pr}}();function d(ie,ce,de,ye){var Ae,Ne,Pe,je,Qe,Ve,ot,mt,Mt,$t=ie.constructor;e:if(ce!=null){if(mt=ie.d,!mt)return ie;for(Ae=1,je=mt[0];je>=10;je/=10)Ae++;if(Ne=ce-Ae,Ne<0)Ne+=j,Pe=ce,ot=mt[Mt=0],Qe=ot/R(10,Ae-Pe-1)%10|0;else if(Mt=Math.ceil((Ne+1)/j),je=mt.length,Mt>=je)if(ye){for(;je++<=Mt;)mt.push(0);ot=Qe=0,Ae=1,Ne%=j,Pe=Ne-j+1}else break e;else{for(ot=je=mt[Mt],Ae=1;je>=10;je/=10)Ae++;Ne%=j,Pe=Ne-j+Ae,Qe=Pe<0?0:ot/R(10,Ae-Pe-1)%10|0}if(ye=ye||ce<0||mt[Mt+1]!==void 0||(Pe<0?ot:ot%R(10,Ae-Pe-1)),Ve=de<4?(Qe||ye)&&(de==0||de==(ie.s<0?3:2)):Qe>5||Qe==5&&(de==4||ye||de==6&&(Ne>0?Pe>0?ot/R(10,Ae-Pe):0:mt[Mt-1])%10&1||de==(ie.s<0?8:7)),ce<1||!mt[0])return mt.length=0,Ve?(ce-=ie.e+1,mt[0]=R(10,(j-ce%j)%j),ie.e=-ce||0):mt[0]=ie.e=0,ie;if(Ne==0?(mt.length=Mt,je=1,Mt--):(mt.length=Mt+1,je=R(10,j-Ne),mt[Mt]=Pe>0?(ot/R(10,Ae-Pe)%R(10,Pe)|0)*je:0),Ve)for(;;)if(Mt==0){for(Ne=1,Pe=mt[0];Pe>=10;Pe/=10)Ne++;for(Pe=mt[0]+=je,je=1;Pe>=10;Pe/=10)je++;Ne!=je&&(ie.e++,mt[0]==$&&(mt[0]=1));break}else{if(mt[Mt]+=je,mt[Mt]!=$)break;mt[Mt--]=0,je=1}for(Ne=mt.length;mt[--Ne]===0;)mt.pop()}return h&&(ie.e>$t.maxE?(ie.d=null,ie.e=NaN):ie.e<$t.minE&&(ie.e=0,ie.d=[0])),ie}function N(ie,ce,de){if(!ie.isFinite())return fe(ie);var ye,Ae=ie.e,Ne=S(ie.d),Pe=Ne.length;return ce?(de&&(ye=de-Pe)>0?Ne=Ne.charAt(0)+"."+Ne.slice(1)+Z(ye):Pe>1&&(Ne=Ne.charAt(0)+"."+Ne.slice(1)),Ne=Ne+(ie.e<0?"e":"e+")+ie.e):Ae<0?(Ne="0."+Z(-Ae-1)+Ne,de&&(ye=de-Pe)>0&&(Ne+=Z(ye))):Ae>=Pe?(Ne+=Z(Ae+1-Pe),de&&(ye=de-Ae-1)>0&&(Ne=Ne+"."+Z(ye))):((ye=Ae+1)<Pe&&(Ne=Ne.slice(0,ye)+"."+Ne.slice(ye)),de&&(ye=de-Pe)>0&&(Ae+1===Pe&&(Ne+="."),Ne+=Z(ye))),Ne}function U(ie,ce){var de=ie[0];for(ce*=j;de>=10;de/=10)ce++;return ce}function q(ie,ce,de){if(ce>T)throw h=!0,de&&(ie.precision=de),Error(b);return d(new ie(a),ce,1,!0)}function P(ie,ce,de){if(ce>p)throw Error(b);return d(new ie(o),ce,de,!0)}function G(ie){var ce=ie.length-1,de=ce*j+1;if(ce=ie[ce],ce){for(;ce%10==0;ce/=10)de--;for(ce=ie[0];ce>=10;ce/=10)de++}return de}function Z(ie){for(var ce="";ie--;)ce+="0";return ce}function X(ie,ce,de,ye){var Ae,Ne=new ie(1),Pe=Math.ceil(ye/j+4);for(h=!1;;){if(de%2&&(Ne=Ne.times(ce),_e(Ne.d,Pe)&&(Ae=!0)),de=C(de/2),de===0){de=Ne.d.length-1,Ae&&Ne.d[de]===0&&++Ne.d[de];break}ce=ce.times(ce),_e(ce.d,Pe)}return h=!0,Ne}function he(ie){return ie.d[ie.d.length-1]&1}function V(ie,ce,de){for(var ye,Ae=new ie(ce[0]),Ne=0;++Ne<ce.length;)if(ye=new ie(ce[Ne]),ye.s)Ae[de](ye)&&(Ae=ye);else{Ae=ye;break}return Ae}function K(ie,ce){var de,ye,Ae,Ne,Pe,je,Qe,Ve=0,ot=0,mt=0,Mt=ie.constructor,$t=Mt.rounding,cr=Mt.precision;if(!ie.d||!ie.d[0]||ie.e>17)return new Mt(ie.d?ie.d[0]?ie.s<0?0:1/0:1:ie.s?ie.s<0?0:ie:0/0);for(ce==null?(h=!1,Qe=cr):Qe=ce,je=new Mt(.03125);ie.e>-2;)ie=ie.times(je),mt+=5;for(ye=Math.log(R(2,mt))/Math.LN10*2+5|0,Qe+=ye,de=Ne=Pe=new Mt(1),Mt.precision=Qe;;){if(Ne=d(Ne.times(ie),Qe,1),de=de.times(++ot),je=Pe.plus(E(Ne,de,Qe,1)),S(je.d).slice(0,Qe)===S(Pe.d).slice(0,Qe)){for(Ae=mt;Ae--;)Pe=d(Pe.times(Pe),Qe,1);if(ce==null)if(Ve<3&&M(Pe.d,Qe-ye,$t,Ve))Mt.precision=Qe+=10,de=Ne=je=new Mt(1),ot=0,Ve++;else return d(Pe,Mt.precision=cr,$t,h=!0);else return Mt.precision=cr,Pe}Pe=je}}function ne(ie,ce){var de,ye,Ae,Ne,Pe,je,Qe,Ve,ot,mt,Mt,$t=1,cr=10,rr=ie,Br=rr.d,pr=rr.constructor,Vr=pr.rounding,kn=pr.precision;if(rr.s<0||!Br||!Br[0]||!rr.e&&Br[0]==1&&Br.length==1)return new pr(Br&&!Br[0]?-1/0:rr.s!=1?NaN:Br?0:rr);if(ce==null?(h=!1,ot=kn):ot=ce,pr.precision=ot+=cr,de=S(Br),ye=de.charAt(0),Math.abs(Ne=rr.e)<15e14){for(;ye<7&&ye!=1||ye==1&&de.charAt(1)>3;)rr=rr.times(ie),de=S(rr.d),ye=de.charAt(0),$t++;Ne=rr.e,ye>1?(rr=new pr("0."+de),Ne++):rr=new pr(ye+"."+de.slice(1))}else return Ve=q(pr,ot+2,kn).times(Ne+""),rr=ne(new pr(ye+"."+de.slice(1)),ot-cr).plus(Ve),pr.precision=kn,ce==null?d(rr,kn,Vr,h=!0):rr;for(mt=rr,Qe=Pe=rr=E(rr.minus(1),rr.plus(1),ot,1),Mt=d(rr.times(rr),ot,1),Ae=3;;){if(Pe=d(Pe.times(Mt),ot,1),Ve=Qe.plus(E(Pe,new pr(Ae),ot,1)),S(Ve.d).slice(0,ot)===S(Qe.d).slice(0,ot))if(Qe=Qe.times(2),Ne!==0&&(Qe=Qe.plus(q(pr,ot+2,kn).times(Ne+""))),Qe=E(Qe,new pr($t),ot,1),ce==null)if(M(Qe.d,ot-cr,Vr,je))pr.precision=ot+=cr,Ve=Pe=rr=E(mt.minus(1),mt.plus(1),ot,1),Mt=d(rr.times(rr),ot,1),Ae=je=1;else return d(Qe,pr.precision=kn,Vr,h=!0);else return pr.precision=kn,Qe;Qe=Ve,Ae+=2}}function fe(ie){return String(ie.s*ie.s/0)}function pe(ie,ce){var de,ye,Ae;for((de=ce.indexOf("."))>-1&&(ce=ce.replace(".","")),(ye=ce.search(/e/i))>0?(de<0&&(de=ye),de+=+ce.slice(ye+1),ce=ce.substring(0,ye)):de<0&&(de=ce.length),ye=0;ce.charCodeAt(ye)===48;ye++);for(Ae=ce.length;ce.charCodeAt(Ae-1)===48;--Ae);if(ce=ce.slice(ye,Ae),ce){if(Ae-=ye,ie.e=de=de-ye-1,ie.d=[],ye=(de+1)%j,de<0&&(ye+=j),ye<Ae){for(ye&&ie.d.push(+ce.slice(0,ye)),Ae-=j;ye<Ae;)ie.d.push(+ce.slice(ye,ye+=j));ce=ce.slice(ye),ye=j-ce.length}else ye-=Ae;for(;ye--;)ce+="0";ie.d.push(+ce),h&&(ie.e>ie.constructor.maxE?(ie.d=null,ie.e=NaN):ie.e<ie.constructor.minE&&(ie.e=0,ie.d=[0]))}else ie.e=0,ie.d=[0];return ie}function Ie(ie,ce){var de,ye,Ae,Ne,Pe,je,Qe,Ve,ot;if(ce.indexOf("_")>-1){if(ce=ce.replace(/(\d)_(?=\d)/g,"$1"),B.test(ce))return pe(ie,ce)}else if(ce==="Infinity"||ce==="NaN")return+ce||(ie.s=NaN),ie.e=NaN,ie.d=null,ie;if(F.test(ce))de=16,ce=ce.toLowerCase();else if(O.test(ce))de=2;else if(z.test(ce))de=8;else throw Error(g+ce);for(Ne=ce.search(/p/i),Ne>0?(Qe=+ce.slice(Ne+1),ce=ce.substring(2,Ne)):ce=ce.slice(2),Ne=ce.indexOf("."),Pe=Ne>=0,ye=ie.constructor,Pe&&(ce=ce.replace(".",""),je=ce.length,Ne=je-Ne,Ae=X(ye,new ye(de),Ne,Ne*2)),Ve=D(ce,de,$),ot=Ve.length-1,Ne=ot;Ve[Ne]===0;--Ne)Ve.pop();return Ne<0?new ye(ie.s*0):(ie.e=U(Ve,ot),ie.d=Ve,h=!1,Pe&&(ie=E(ie,Ae,je*4)),Qe&&(ie=ie.times(Math.abs(Qe)<54?R(2,Qe):u.pow(2,Qe))),h=!0,ie)}function ke(ie,ce){var de,ye=ce.d.length;if(ye<3)return ce.isZero()?ce:ue(ie,2,ce,ce);de=1.4*Math.sqrt(ye),de=de>16?16:de|0,ce=ce.times(1/xe(5,de)),ce=ue(ie,2,ce,ce);for(var Ae,Ne=new ie(5),Pe=new ie(16),je=new ie(20);de--;)Ae=ce.times(ce),ce=ce.times(Ne.plus(Ae.times(Pe.times(Ae).minus(je))));return ce}function ue(ie,ce,de,ye,Ae){var Ne,Pe,je,Qe,Ve=1,ot=ie.precision,mt=Math.ceil(ot/j);for(h=!1,Qe=de.times(de),je=new ie(ye);;){if(Pe=E(je.times(Qe),new ie(ce++*ce++),ot,1),je=Ae?ye.plus(Pe):ye.minus(Pe),ye=E(Pe.times(Qe),new ie(ce++*ce++),ot,1),Pe=je.plus(ye),Pe.d[mt]!==void 0){for(Ne=mt;Pe.d[Ne]===je.d[Ne]&&Ne--;);if(Ne==-1)break}Ne=je,je=ye,ye=Pe,Pe=Ne,Ve++}return h=!0,Pe.d.length=mt+1,Pe}function xe(ie,ce){for(var de=ie;--ce;)de*=ie;return de}function ge(ie,ce){var de,ye=ce.s<0,Ae=P(ie,ie.precision,1),Ne=Ae.times(.5);if(ce=ce.abs(),ce.lte(Ne))return c=ye?4:1,ce;if(de=ce.divToInt(Ae),de.isZero())c=ye?3:2;else{if(ce=ce.minus(de.times(Ae)),ce.lte(Ne))return c=he(de)?ye?2:3:ye?4:1,ce;c=he(de)?ye?1:4:ye?3:2}return ce.minus(Ae).abs()}function Q(ie,ce,de,ye){var Ae,Ne,Pe,je,Qe,Ve,ot,mt,Mt,$t=ie.constructor,cr=de!==void 0;if(cr?(y(de,1,r),ye===void 0?ye=$t.rounding:y(ye,0,8)):(de=$t.precision,ye=$t.rounding),!ie.isFinite())ot=fe(ie);else{for(ot=N(ie),Pe=ot.indexOf("."),cr?(Ae=2,ce==16?de=de*4-3:ce==8&&(de=de*3-2)):Ae=ce,Pe>=0&&(ot=ot.replace(".",""),Mt=new $t(1),Mt.e=ot.length-Pe,Mt.d=D(N(Mt),10,Ae),Mt.e=Mt.d.length),mt=D(ot,10,Ae),Ne=Qe=mt.length;mt[--Qe]==0;)mt.pop();if(!mt[0])ot=cr?"0p+0":"0";else{if(Pe<0?Ne--:(ie=new $t(ie),ie.d=mt,ie.e=Ne,ie=E(ie,Mt,de,ye,0,Ae),mt=ie.d,Ne=ie.e,Ve=f),Pe=mt[de],je=Ae/2,Ve=Ve||mt[de+1]!==void 0,Ve=ye<4?(Pe!==void 0||Ve)&&(ye===0||ye===(ie.s<0?3:2)):Pe>je||Pe===je&&(ye===4||Ve||ye===6&&mt[de-1]&1||ye===(ie.s<0?8:7)),mt.length=de,Ve)for(;++mt[--de]>Ae-1;)mt[de]=0,de||(++Ne,mt.unshift(1));for(Qe=mt.length;!mt[Qe-1];--Qe);for(Pe=0,ot="";Pe<Qe;Pe++)ot+=n.charAt(mt[Pe]);if(cr){if(Qe>1)if(ce==16||ce==8){for(Pe=ce==16?4:3,--Qe;Qe%Pe;Qe++)ot+="0";for(mt=D(ot,Ae,ce),Qe=mt.length;!mt[Qe-1];--Qe);for(Pe=1,ot="1.";Pe<Qe;Pe++)ot+=n.charAt(mt[Pe])}else ot=ot.charAt(0)+"."+ot.slice(1);ot=ot+(Ne<0?"p":"p+")+Ne}else if(Ne<0){for(;++Ne;)ot="0"+ot;ot="0."+ot}else if(++Ne>Qe)for(Ne-=Qe;Ne--;)ot+="0";else Ne<Qe&&(ot=ot.slice(0,Ne)+"."+ot.slice(Ne))}ot=(ce==16?"0x":ce==2?"0b":ce==8?"0o":"")+ot}return ie.s<0?"-"+ot:ot}function _e(ie,ce){if(ie.length>ce)return ie.length=ce,!0}function ve(ie){return new this(ie).abs()}function be(ie){return new this(ie).acos()}function qe(ie){return new this(ie).acosh()}function se(ie,ce){return new this(ie).plus(ce)}function Se(ie){return new this(ie).asin()}function Ke(ie){return new this(ie).asinh()}function J(ie){return new this(ie).atan()}function H(ie){return new this(ie).atanh()}function Y(ie,ce){ie=new this(ie),ce=new this(ce);var de,ye=this.precision,Ae=this.rounding,Ne=ye+4;return!ie.s||!ce.s?de=new this(NaN):!ie.d&&!ce.d?(de=P(this,Ne,1).times(ce.s>0?.25:.75),de.s=ie.s):!ce.d||ie.isZero()?(de=ce.s<0?P(this,ye,Ae):new this(0),de.s=ie.s):!ie.d||ce.isZero()?(de=P(this,Ne,1).times(.5),de.s=ie.s):ce.s<0?(this.precision=Ne,this.rounding=1,de=this.atan(E(ie,ce,Ne,1)),ce=P(this,Ne,1),this.precision=ye,this.rounding=Ae,de=ie.s<0?de.minus(ce):de.plus(ce)):de=this.atan(E(ie,ce,Ne,1)),de}function oe(ie){return new this(ie).cbrt()}function Me(ie){return d(ie=new this(ie),ie.e+1,2)}function Ge(ie,ce,de){return new this(ie).clamp(ce,de)}function Ce(ie){if(!ie||typeof ie!="object")throw Error(m+"Object expected");var ce,de,ye,Ae=ie.defaults===!0,Ne=["precision",1,r,"rounding",0,8,"toExpNeg",-e,0,"toExpPos",0,e,"maxE",0,e,"minE",-e,0,"modulo",0,9];for(ce=0;ce<Ne.length;ce+=3)if(de=Ne[ce],Ae&&(this[de]=s[de]),(ye=ie[de])!==void 0)if(C(ye)===ye&&ye>=Ne[ce+1]&&ye<=Ne[ce+2])this[de]=ye;else throw Error(g+de+": "+ye);if(de="crypto",Ae&&(this[de]=s[de]),(ye=ie[de])!==void 0)if(ye===!0||ye===!1||ye===0||ye===1)if(ye)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[de]=!0;else throw Error(A);else this[de]=!1;else throw Error(g+de+": "+ye);return this}function Xe(ie){return new this(ie).cos()}function Yt(ie){return new this(ie).cosh()}function tt(ie){var ce,de,ye;function Ae(Ne){var Pe,je,Qe,Ve=this;if(!(Ve instanceof Ae))return new Ae(Ne);if(Ve.constructor=Ae,ft(Ne)){Ve.s=Ne.s,h?!Ne.d||Ne.e>Ae.maxE?(Ve.e=NaN,Ve.d=null):Ne.e<Ae.minE?(Ve.e=0,Ve.d=[0]):(Ve.e=Ne.e,Ve.d=Ne.d.slice()):(Ve.e=Ne.e,Ve.d=Ne.d?Ne.d.slice():Ne.d);return}if(Qe=typeof Ne,Qe==="number"){if(Ne===0){Ve.s=1/Ne<0?-1:1,Ve.e=0,Ve.d=[0];return}if(Ne<0?(Ne=-Ne,Ve.s=-1):Ve.s=1,Ne===~~Ne&&Ne<1e7){for(Pe=0,je=Ne;je>=10;je/=10)Pe++;h?Pe>Ae.maxE?(Ve.e=NaN,Ve.d=null):Pe<Ae.minE?(Ve.e=0,Ve.d=[0]):(Ve.e=Pe,Ve.d=[Ne]):(Ve.e=Pe,Ve.d=[Ne]);return}else if(Ne*0!==0){Ne||(Ve.s=NaN),Ve.e=NaN,Ve.d=null;return}return pe(Ve,Ne.toString())}else if(Qe!=="string")throw Error(g+Ne);return(je=Ne.charCodeAt(0))===45?(Ne=Ne.slice(1),Ve.s=-1):(je===43&&(Ne=Ne.slice(1)),Ve.s=1),B.test(Ne)?pe(Ve,Ne):Ie(Ve,Ne)}if(Ae.prototype=v,Ae.ROUND_UP=0,Ae.ROUND_DOWN=1,Ae.ROUND_CEIL=2,Ae.ROUND_FLOOR=3,Ae.ROUND_HALF_UP=4,Ae.ROUND_HALF_DOWN=5,Ae.ROUND_HALF_EVEN=6,Ae.ROUND_HALF_CEIL=7,Ae.ROUND_HALF_FLOOR=8,Ae.EUCLID=9,Ae.config=Ae.set=Ce,Ae.clone=tt,Ae.isDecimal=ft,Ae.abs=ve,Ae.acos=be,Ae.acosh=qe,Ae.add=se,Ae.asin=Se,Ae.asinh=Ke,Ae.atan=J,Ae.atanh=H,Ae.atan2=Y,Ae.cbrt=oe,Ae.ceil=Me,Ae.clamp=Ge,Ae.cos=Xe,Ae.cosh=Yt,Ae.div=Ye,Ae.exp=dr,Ae.floor=re,Ae.hypot=Te,Ae.ln=ze,Ae.log=et,Ae.log10=ct,Ae.log2=lr,Ae.max=dt,Ae.min=ki,Ae.mod=vt,Ae.mul=pt,Ae.pow=_i,Ae.random=gt,Ae.round=yt,Ae.sign=_n,Ae.sin=ut,Ae.sinh=bt,Ae.sqrt=si,Ae.sub=ht,Ae.sum=wt,Ae.tan=ri,Ae.tanh=at,Ae.trunc=lt,ie===void 0&&(ie={}),ie&&ie.defaults!==!0)for(ye=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],ce=0;ce<ye.length;)ie.hasOwnProperty(de=ye[ce++])||(ie[de]=this[de]);return Ae.config(ie),Ae}function Ye(ie,ce){return new this(ie).div(ce)}function dr(ie){return new this(ie).exp()}function re(ie){return d(ie=new this(ie),ie.e+1,3)}function Te(){var ie,ce,de=new this(0);for(h=!1,ie=0;ie<arguments.length;)if(ce=new this(arguments[ie++]),ce.d)de.d&&(de=de.plus(ce.times(ce)));else{if(ce.s)return h=!0,new this(1/0);de=ce}return h=!0,de.sqrt()}function ft(ie){return ie instanceof u||ie&&ie.toStringTag===I||!1}function ze(ie){return new this(ie).ln()}function et(ie,ce){return new this(ie).log(ce)}function lr(ie){return new this(ie).log(2)}function ct(ie){return new this(ie).log(10)}function dt(){return V(this,arguments,"lt")}function ki(){return V(this,arguments,"gt")}function vt(ie,ce){return new this(ie).mod(ce)}function pt(ie,ce){return new this(ie).mul(ce)}function _i(ie,ce){return new this(ie).pow(ce)}function gt(ie){var ce,de,ye,Ae,Ne=0,Pe=new this(1),je=[];if(ie===void 0?ie=this.precision:y(ie,1,r),ye=Math.ceil(ie/j),this.crypto)if(crypto.getRandomValues)for(ce=crypto.getRandomValues(new Uint32Array(ye));Ne<ye;)Ae=ce[Ne],Ae>=429e7?ce[Ne]=crypto.getRandomValues(new Uint32Array(1))[0]:je[Ne++]=Ae%1e7;else if(crypto.randomBytes){for(ce=crypto.randomBytes(ye*=4);Ne<ye;)Ae=ce[Ne]+(ce[Ne+1]<<8)+(ce[Ne+2]<<16)+((ce[Ne+3]&127)<<24),Ae>=214e7?crypto.randomBytes(4).copy(ce,Ne):(je.push(Ae%1e7),Ne+=4);Ne=ye/4}else throw Error(A);else for(;Ne<ye;)je[Ne++]=Math.random()*1e7|0;for(ye=je[--Ne],ie%=j,ye&&ie&&(Ae=R(10,j-ie),je[Ne]=(ye/Ae|0)*Ae);je[Ne]===0;Ne--)je.pop();if(Ne<0)de=0,je=[0];else{for(de=-1;je[0]===0;de-=j)je.shift();for(ye=1,Ae=je[0];Ae>=10;Ae/=10)ye++;ye<j&&(de-=j-ye)}return Pe.e=de,Pe.d=je,Pe}function yt(ie){return d(ie=new this(ie),ie.e+1,this.rounding)}function _n(ie){return ie=new this(ie),ie.d?ie.d[0]?ie.s:0*ie.s:ie.s||NaN}function ut(ie){return new this(ie).sin()}function bt(ie){return new this(ie).sinh()}function si(ie){return new this(ie).sqrt()}function ht(ie,ce){return new this(ie).sub(ce)}function wt(){var ie=0,ce=arguments,de=new this(ce[ie]);for(h=!1;de.s&&++ie<ce.length;)de=de.plus(ce[ie]);return h=!0,d(de,this.precision,this.rounding)}function ri(ie){return new this(ie).tan()}function at(ie){return new this(ie).tanh()}function lt(ie){return d(ie=new this(ie),ie.e+1,1)}u=tt(s),u.prototype.constructor=u,u.default=u.Decimal=u,a=new u(a),o=new u(o),typeof define=="function"&&define.amd?define(function(){return u}):typeof Zk!="undefined"&&Zk.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(v[Symbol.for("nodejs.util.inspect.custom")]=v.toString,v[Symbol.toStringTag]="Decimal"),Zk.exports=u):(t||(t=typeof self!="undefined"&&self&&self.self==self?self:window),l=t.Decimal,u.noConflict=function(){return t.Decimal=l,u},t.Decimal=u)})(f3e)});var vz,njt,ijt,gz,l3e=te(()=>{w();_();vz=Bt(Jk(),1);Fe();njt="BigNumber",ijt=["?on","config"],gz=ae(njt,ijt,t=>{var{on:e,config:r}=t,n=vz.default.clone({precision:r.precision,modulo:vz.default.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(a){return new n(a.value)},e&&e("config",function(a,o){a.precision!==o.precision&&n.config({precision:a.precision})}),n},{isClass:!0})});var h3e=Ee((yz,c3e)=>{w();_();(function(t){"use strict";var e=Math.cosh||function(l){return Math.abs(l)<1e-9?1-l:(Math.exp(l)+Math.exp(-l))*.5},r=Math.sinh||function(l){return Math.abs(l)<1e-9?l:(Math.exp(l)-Math.exp(-l))*.5},n=function(l){var c=Math.PI/4;if(-c>l||l>c)return Math.cos(l)-1;var h=l*l;return h*(h*(h*(h*(h*(h*(h*(h/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},a=function(l,c){var h=Math.abs(l),m=Math.abs(c);return h<3e3&&m<3e3?Math.sqrt(h*h+m*m):(h<m?(h=m,m=l/c):m=c/l,h*Math.sqrt(1+m*m))},o=function(){throw SyntaxError("Invalid Param")};function s(l,c){var h=Math.abs(l),m=Math.abs(c);return l===0?Math.log(m):c===0?Math.log(h):h<3e3&&m<3e3?Math.log(l*l+c*c)*.5:(l=l/2,c=c/2,.5*Math.log(l*l+c*c)+Math.LN2)}var u=function(l,c){var h={re:0,im:0};if(l==null)h.re=h.im=0;else if(c!==void 0)h.re=l,h.im=c;else switch(typeof l){case"object":if("im"in l&&"re"in l)h.re=l.re,h.im=l.im;else if("abs"in l&&"arg"in l){if(!Number.isFinite(l.abs)&&Number.isFinite(l.arg))return f.INFINITY;h.re=l.abs*Math.cos(l.arg),h.im=l.abs*Math.sin(l.arg)}else if("r"in l&&"phi"in l){if(!Number.isFinite(l.r)&&Number.isFinite(l.phi))return f.INFINITY;h.re=l.r*Math.cos(l.phi),h.im=l.r*Math.sin(l.phi)}else l.length===2?(h.re=l[0],h.im=l[1]):o();break;case"string":h.im=h.re=0;var m=l.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),g=1,b=0;m===null&&o();for(var A=0;A<m.length;A++){var I=m[A];I===" "||I==="	"||I===`
`||(I==="+"?g++:I==="-"?b++:I==="i"||I==="I"?(g+b===0&&o(),m[A+1]!==" "&&!isNaN(m[A+1])?(h.im+=parseFloat((b%2?"-":"")+m[A+1]),A++):h.im+=parseFloat((b%2?"-":"")+"1"),g=b=0):((g+b===0||isNaN(I))&&o(),m[A+1]==="i"||m[A+1]==="I"?(h.im+=parseFloat((b%2?"-":"")+I),A++):h.re+=parseFloat((b%2?"-":"")+I),g=b=0))}g+b>0&&o();break;case"number":h.im=0,h.re=l;break;default:o()}return isNaN(h.re)||isNaN(h.im),h};function f(l,c){if(!(this instanceof f))return new f(l,c);var h=u(l,c);this.re=h.re,this.im=h.im}f.prototype={re:0,im:0,sign:function(){var l=this.abs();return new f(this.re/l,this.im/l)},add:function(l,c){var h=new f(l,c);return this.isInfinite()&&h.isInfinite()?f.NAN:this.isInfinite()||h.isInfinite()?f.INFINITY:new f(this.re+h.re,this.im+h.im)},sub:function(l,c){var h=new f(l,c);return this.isInfinite()&&h.isInfinite()?f.NAN:this.isInfinite()||h.isInfinite()?f.INFINITY:new f(this.re-h.re,this.im-h.im)},mul:function(l,c){var h=new f(l,c);return this.isInfinite()&&h.isZero()||this.isZero()&&h.isInfinite()?f.NAN:this.isInfinite()||h.isInfinite()?f.INFINITY:h.im===0&&this.im===0?new f(this.re*h.re,0):new f(this.re*h.re-this.im*h.im,this.re*h.im+this.im*h.re)},div:function(l,c){var h=new f(l,c);if(this.isZero()&&h.isZero()||this.isInfinite()&&h.isInfinite())return f.NAN;if(this.isInfinite()||h.isZero())return f.INFINITY;if(this.isZero()||h.isInfinite())return f.ZERO;l=this.re,c=this.im;var m=h.re,g=h.im,b,A;return g===0?new f(l/m,c/m):Math.abs(m)<Math.abs(g)?(A=m/g,b=m*A+g,new f((l*A+c)/b,(c*A-l)/b)):(A=g/m,b=g*A+m,new f((l+c*A)/b,(c-l*A)/b))},pow:function(l,c){var h=new f(l,c);if(l=this.re,c=this.im,h.isZero())return f.ONE;if(h.im===0){if(c===0&&l>0)return new f(Math.pow(l,h.re),0);if(l===0)switch((h.re%4+4)%4){case 0:return new f(Math.pow(c,h.re),0);case 1:return new f(0,Math.pow(c,h.re));case 2:return new f(-Math.pow(c,h.re),0);case 3:return new f(0,-Math.pow(c,h.re))}}if(l===0&&c===0&&h.re>0&&h.im>=0)return f.ZERO;var m=Math.atan2(c,l),g=s(l,c);return l=Math.exp(h.re*g-h.im*m),c=h.im*g+h.re*m,new f(l*Math.cos(c),l*Math.sin(c))},sqrt:function(){var l=this.re,c=this.im,h=this.abs(),m,g;if(l>=0){if(c===0)return new f(Math.sqrt(l),0);m=.5*Math.sqrt(2*(h+l))}else m=Math.abs(c)/Math.sqrt(2*(h-l));return l<=0?g=.5*Math.sqrt(2*(h-l)):g=Math.abs(c)/Math.sqrt(2*(h+l)),new f(m,c<0?-g:g)},exp:function(){var l=Math.exp(this.re);return this.im,new f(l*Math.cos(this.im),l*Math.sin(this.im))},expm1:function(){var l=this.re,c=this.im;return new f(Math.expm1(l)*Math.cos(c)+n(c),Math.exp(l)*Math.sin(c))},log:function(){var l=this.re,c=this.im;return c===0&&l>0,new f(s(l,c),Math.atan2(c,l))},abs:function(){return a(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var l=this.re,c=this.im;return new f(Math.sin(l)*e(c),Math.cos(l)*r(c))},cos:function(){var l=this.re,c=this.im;return new f(Math.cos(l)*e(c),-Math.sin(l)*r(c))},tan:function(){var l=2*this.re,c=2*this.im,h=Math.cos(l)+e(c);return new f(Math.sin(l)/h,r(c)/h)},cot:function(){var l=2*this.re,c=2*this.im,h=Math.cos(l)-e(c);return new f(-Math.sin(l)/h,r(c)/h)},sec:function(){var l=this.re,c=this.im,h=.5*e(2*c)+.5*Math.cos(2*l);return new f(Math.cos(l)*e(c)/h,Math.sin(l)*r(c)/h)},csc:function(){var l=this.re,c=this.im,h=.5*e(2*c)-.5*Math.cos(2*l);return new f(Math.sin(l)*e(c)/h,-Math.cos(l)*r(c)/h)},asin:function(){var l=this.re,c=this.im,h=new f(c*c-l*l+1,-2*l*c).sqrt(),m=new f(h.re-c,h.im+l).log();return new f(m.im,-m.re)},acos:function(){var l=this.re,c=this.im,h=new f(c*c-l*l+1,-2*l*c).sqrt(),m=new f(h.re-c,h.im+l).log();return new f(Math.PI/2-m.im,m.re)},atan:function(){var l=this.re,c=this.im;if(l===0){if(c===1)return new f(0,1/0);if(c===-1)return new f(0,-1/0)}var h=l*l+(1-c)*(1-c),m=new f((1-c*c-l*l)/h,-2*l/h).log();return new f(-.5*m.im,.5*m.re)},acot:function(){var l=this.re,c=this.im;if(c===0)return new f(Math.atan2(1,l),0);var h=l*l+c*c;return h!==0?new f(l/h,-c/h).atan():new f(l!==0?l/0:0,c!==0?-c/0:0).atan()},asec:function(){var l=this.re,c=this.im;if(l===0&&c===0)return new f(0,1/0);var h=l*l+c*c;return h!==0?new f(l/h,-c/h).acos():new f(l!==0?l/0:0,c!==0?-c/0:0).acos()},acsc:function(){var l=this.re,c=this.im;if(l===0&&c===0)return new f(Math.PI/2,1/0);var h=l*l+c*c;return h!==0?new f(l/h,-c/h).asin():new f(l!==0?l/0:0,c!==0?-c/0:0).asin()},sinh:function(){var l=this.re,c=this.im;return new f(r(l)*Math.cos(c),e(l)*Math.sin(c))},cosh:function(){var l=this.re,c=this.im;return new f(e(l)*Math.cos(c),r(l)*Math.sin(c))},tanh:function(){var l=2*this.re,c=2*this.im,h=e(l)+Math.cos(c);return new f(r(l)/h,Math.sin(c)/h)},coth:function(){var l=2*this.re,c=2*this.im,h=e(l)-Math.cos(c);return new f(r(l)/h,-Math.sin(c)/h)},csch:function(){var l=this.re,c=this.im,h=Math.cos(2*c)-e(2*l);return new f(-2*r(l)*Math.cos(c)/h,2*e(l)*Math.sin(c)/h)},sech:function(){var l=this.re,c=this.im,h=Math.cos(2*c)+e(2*l);return new f(2*e(l)*Math.cos(c)/h,-2*r(l)*Math.sin(c)/h)},asinh:function(){var l=this.im;this.im=-this.re,this.re=l;var c=this.asin();return this.re=-this.im,this.im=l,l=c.re,c.re=-c.im,c.im=l,c},acosh:function(){var l=this.acos();if(l.im<=0){var c=l.re;l.re=-l.im,l.im=c}else{var c=l.im;l.im=-l.re,l.re=c}return l},atanh:function(){var l=this.re,c=this.im,h=l>1&&c===0,m=1-l,g=1+l,b=m*m+c*c,A=b!==0?new f((g*m-c*c)/b,(c*m+g*c)/b):new f(l!==-1?l/0:0,c!==0?c/0:0),I=A.re;return A.re=s(A.re,A.im)/2,A.im=Math.atan2(A.im,I)/2,h&&(A.im=-A.im),A},acoth:function(){var l=this.re,c=this.im;if(l===0&&c===0)return new f(0,Math.PI/2);var h=l*l+c*c;return h!==0?new f(l/h,-c/h).atanh():new f(l!==0?l/0:0,c!==0?-c/0:0).atanh()},acsch:function(){var l=this.re,c=this.im;if(c===0)return new f(l!==0?Math.log(l+Math.sqrt(l*l+1)):1/0,0);var h=l*l+c*c;return h!==0?new f(l/h,-c/h).asinh():new f(l!==0?l/0:0,c!==0?-c/0:0).asinh()},asech:function(){var l=this.re,c=this.im;if(this.isZero())return f.INFINITY;var h=l*l+c*c;return h!==0?new f(l/h,-c/h).acosh():new f(l!==0?l/0:0,c!==0?-c/0:0).acosh()},inverse:function(){if(this.isZero())return f.INFINITY;if(this.isInfinite())return f.ZERO;var l=this.re,c=this.im,h=l*l+c*c;return new f(l/h,-c/h)},conjugate:function(){return new f(this.re,-this.im)},neg:function(){return new f(-this.re,-this.im)},ceil:function(l){return l=Math.pow(10,l||0),new f(Math.ceil(this.re*l)/l,Math.ceil(this.im*l)/l)},floor:function(l){return l=Math.pow(10,l||0),new f(Math.floor(this.re*l)/l,Math.floor(this.im*l)/l)},round:function(l){return l=Math.pow(10,l||0),new f(Math.round(this.re*l)/l,Math.round(this.im*l)/l)},equals:function(l,c){var h=new f(l,c);return Math.abs(h.re-this.re)<=f.EPSILON&&Math.abs(h.im-this.im)<=f.EPSILON},clone:function(){return new f(this.re,this.im)},toString:function(){var l=this.re,c=this.im,h="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(l)<f.EPSILON&&(l=0),Math.abs(c)<f.EPSILON&&(c=0),c===0?h+l:(l!==0?(h+=l,h+=" ",c<0?(c=-c,h+="-"):h+="+",h+=" "):c<0&&(c=-c,h+="-"),c!==1&&(h+=c),h+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},f.ZERO=new f(0,0),f.ONE=new f(1,0),f.I=new f(0,1),f.PI=new f(Math.PI,0),f.E=new f(Math.E,0),f.INFINITY=new f(1/0,1/0),f.NAN=new f(NaN,NaN),f.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return f}):typeof yz=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Complex=f,c3e.exports=f):t.Complex=f})(yz)});var Is,ajt,ojt,bz,p3e=te(()=>{w();_();Is=Bt(h3e(),1);zr();zt();Fe();ajt="Complex",ojt=[],bz=ae(ajt,ojt,()=>(Is.default.prototype.type="Complex",Is.default.prototype.isComplex=!0,Is.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Is.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Is.default.prototype.format=function(t){var e="",r=this.im,n=this.re,a=zl(this.re,t),o=zl(this.im,t),s=Ar(t)?t:t?t.precision:null;if(s!==null){var u=Math.pow(10,-s);Math.abs(n/r)<u&&(n=0),Math.abs(r/n)<u&&(r=0)}return r===0?e=a:n===0?r===1?e="i":r===-1?e="-i":e=o+"i":r<0?r===-1?e=a+" - i":e=a+" - "+o.substring(1)+"i":r===1?e=a+" + i":e=a+" + "+o+"i",e},Is.default.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,Is.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(Ar(r)){if(sp(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Ar(n))return new Is.default({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Is.default.prototype.valueOf=Is.default.prototype.toString,Is.default.fromJSON=function(t){return new Is.default(t)},Is.default.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Is.default),{isClass:!0})});var m3e=Ee((wz,d3e)=>{w();_();(function(t){"use strict";var e=2e3,r={s:1,n:0,d:1};function n(m,g){if(isNaN(m=parseInt(m,10)))throw h.InvalidParameter;return m*g}function a(m,g){if(g===0)throw h.DivisionByZero;var b=Object.create(h.prototype);b.s=m<0?-1:1,m=m<0?-m:m;var A=c(m,g);return b.n=m/A,b.d=g/A,b}function o(m){for(var g={},b=m,A=2,I=4;I<=b;){for(;b%A===0;)b/=A,g[A]=(g[A]||0)+1;I+=1+2*A++}return b!==m?b>1&&(g[b]=(g[b]||0)+1):g[m]=(g[m]||0)+1,g}var s=function(m,g){var b=0,A=1,I=1,C=0,R=0,O=0,F=1,z=1,B=0,$=1,j=1,W=1,T=1e7,p;if(m!=null)if(g!==void 0){if(b=m,A=g,I=b*A,b%1!==0||A%1!==0)throw h.NonIntegerParameter}else switch(typeof m){case"object":{if("d"in m&&"n"in m)b=m.n,A=m.d,"s"in m&&(b*=m.s);else if(0 in m)b=m[0],1 in m&&(A=m[1]);else throw h.InvalidParameter;I=b*A;break}case"number":{if(m<0&&(I=m,m=-m),m%1===0)b=m;else if(m>0){for(m>=1&&(z=Math.pow(10,Math.floor(1+Math.log(m)/Math.LN10)),m/=z);$<=T&&W<=T;)if(p=(B+j)/($+W),m===p){$+W<=T?(b=B+j,A=$+W):W>$?(b=j,A=W):(b=B,A=$);break}else m>p?(B+=j,$+=W):(j+=B,W+=$),$>T?(b=j,A=W):(b=B,A=$);b*=z}else(isNaN(m)||isNaN(g))&&(A=b=NaN);break}case"string":{if($=m.match(/\d+|./g),$===null)throw h.InvalidParameter;if($[B]==="-"?(I=-1,B++):$[B]==="+"&&B++,$.length===B+1?R=n($[B++],I):$[B+1]==="."||$[B]==="."?($[B]!=="."&&(C=n($[B++],I)),B++,(B+1===$.length||$[B+1]==="("&&$[B+3]===")"||$[B+1]==="'"&&$[B+3]==="'")&&(R=n($[B],I),F=Math.pow(10,$[B].length),B++),($[B]==="("&&$[B+2]===")"||$[B]==="'"&&$[B+2]==="'")&&(O=n($[B+1],I),z=Math.pow(10,$[B+1].length)-1,B+=3)):$[B+1]==="/"||$[B+1]===":"?(R=n($[B],I),F=n($[B+2],1),B+=3):$[B+3]==="/"&&$[B+1]===" "&&(C=n($[B],I),R=n($[B+2],I),F=n($[B+4],1),B+=5),$.length<=B){A=F*z,I=b=O+A*C+z*R;break}}default:throw h.InvalidParameter}if(A===0)throw h.DivisionByZero;r.s=I<0?-1:1,r.n=Math.abs(b),r.d=Math.abs(A)};function u(m,g,b){for(var A=1;g>0;m=m*m%b,g>>=1)g&1&&(A=A*m%b);return A}function f(m,g){for(;g%2===0;g/=2);for(;g%5===0;g/=5);if(g===1)return 0;for(var b=10%g,A=1;b!==1;A++)if(b=b*10%g,A>e)return 0;return A}function l(m,g,b){for(var A=1,I=u(10,b,g),C=0;C<300;C++){if(A===I)return C;A=A*10%g,I=I*10%g}return 0}function c(m,g){if(!m)return g;if(!g)return m;for(;;){if(m%=g,!m)return g;if(g%=m,!g)return m}}function h(m,g){if(s(m,g),this instanceof h)m=c(r.d,r.n),this.s=r.s,this.n=r.n/m,this.d=r.d/m;else return a(r.s*r.n,r.d)}h.DivisionByZero=new Error("Division by Zero"),h.InvalidParameter=new Error("Invalid argument"),h.NonIntegerParameter=new Error("Parameters must be integer"),h.prototype={s:1,n:0,d:1,abs:function(){return a(this.n,this.d)},neg:function(){return a(-this.s*this.n,this.d)},add:function(m,g){return s(m,g),a(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(m,g){return s(m,g),a(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(m,g){return s(m,g),a(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(m,g){return s(m,g),a(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return a(this.s*this.n,this.d)},mod:function(m,g){if(isNaN(this.n)||isNaN(this.d))return new h(NaN);if(m===void 0)return a(this.s*this.n%this.d,1);if(s(m,g),r.n===0&&this.d===0)throw h.DivisionByZero;return a(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d)},gcd:function(m,g){return s(m,g),a(c(r.n,this.n)*c(r.d,this.d),r.d*this.d)},lcm:function(m,g){return s(m,g),r.n===0&&this.n===0?a(0,1):a(r.n*this.n,c(r.n,this.n)*c(r.d,this.d))},ceil:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):a(Math.ceil(m*this.s*this.n/this.d),m)},floor:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):a(Math.floor(m*this.s*this.n/this.d),m)},round:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):a(Math.round(m*this.s*this.n/this.d),m)},inverse:function(){return a(this.s*this.d,this.n)},pow:function(m,g){if(s(m,g),r.d===1)return r.s<0?a(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):a(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var b=o(this.n),A=o(this.d),I=1,C=1;for(var R in b)if(R!=="1"){if(R==="0"){I=0;break}if(b[R]*=r.n,b[R]%r.d===0)b[R]/=r.d;else return null;I*=Math.pow(R,b[R])}for(var R in A)if(R!=="1"){if(A[R]*=r.n,A[R]%r.d===0)A[R]/=r.d;else return null;C*=Math.pow(R,A[R])}return r.s<0?a(C,I):a(I,C)},equals:function(m,g){return s(m,g),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(m,g){s(m,g);var b=this.s*this.n*r.d-r.s*r.n*this.d;return(0<b)-(b<0)},simplify:function(m){if(isNaN(this.n)||isNaN(this.d))return this;m=m||.001;for(var g=this.abs(),b=g.toContinued(),A=1;A<b.length;A++){for(var I=a(b[A-1],1),C=A-2;C>=0;C--)I=I.inverse().add(b[C]);if(I.sub(g).abs().valueOf()<m)return I.mul(this.s)}return this},divisible:function(m,g){return s(m,g),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(m){var g,b="",A=this.n,I=this.d;return this.s<0&&(b+="-"),I===1?b+=A:(m&&(g=Math.floor(A/I))>0&&(b+=g,b+=" ",A%=I),b+=A,b+="/",b+=I),b},toLatex:function(m){var g,b="",A=this.n,I=this.d;return this.s<0&&(b+="-"),I===1?b+=A:(m&&(g=Math.floor(A/I))>0&&(b+=g,A%=I),b+="\\frac{",b+=A,b+="}{",b+=I,b+="}"),b},toContinued:function(){var m,g=this.n,b=this.d,A=[];if(isNaN(g)||isNaN(b))return A;do A.push(Math.floor(g/b)),m=g%b,g=b,b=m;while(g!==1);return A},toString:function(m){var g=this.n,b=this.d;if(isNaN(g)||isNaN(b))return"NaN";m=m||15;var A=f(g,b),I=l(g,b,A),C=this.s<0?"-":"";if(C+=g/b|0,g%=b,g*=10,g&&(C+="."),A){for(var R=I;R--;)C+=g/b|0,g%=b,g*=10;C+="(";for(var R=A;R--;)C+=g/b|0,g%=b,g*=10;C+=")"}else for(var R=m;g&&R--;)C+=g/b|0,g%=b,g*=10;return C}},typeof define=="function"&&define.amd?define([],function(){return h}):typeof wz=="object"?(Object.defineProperty(h,"__esModule",{value:!0}),h.default=h,h.Fraction=h,d3e.exports=h):t.Fraction=h})(wz)});var Tv,sjt,ujt,xz,v3e=te(()=>{w();_();Tv=Bt(m3e(),1);Fe();sjt="Fraction",ujt=[],xz=ae(sjt,ujt,()=>(Tv.default.prototype.type="Fraction",Tv.default.prototype.isFraction=!0,Tv.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Tv.default.fromJSON=function(t){return new Tv.default(t)},Tv.default),{isClass:!0})});var fjt,ljt,_z,g3e=te(()=>{w();_();zt();zr();Fe();fjt="Range",ljt=[],_z=ae(fjt,ljt,()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var a=e!=null,o=r!=null,s=n!=null;if(a){if(hr(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(o){if(hr(r))r=r.toNumber();else if(typeof r!="number")throw new TypeError("Parameter end must be a number")}if(s){if(hr(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter step must be a number")}this.start=a?parseFloat(e):0,this.end=o?parseFloat(r):0,this.step=s?parseFloat(n):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if(typeof e!="string")return null;var r=e.split(":"),n=r.map(function(o){return parseFloat(o)}),a=n.some(function(o){return isNaN(o)});if(a)return null;switch(n.length){case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[2],n[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var e=0,r=this.start,n=this.step,a=this.end,o=a-r;return Hf(n)===Hf(o)?e=Math.ceil(o/n):o===0&&(e=0),isNaN(e)&&(e=0),[e]},t.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},t.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},t.prototype.forEach=function(e){var r=this.start,n=this.step,a=this.end,o=0;if(n>0)for(;r<a;)e(r,[o],this),r+=n,o++;else if(n<0)for(;r>a;)e(r,[o],this),r+=n,o++},t.prototype.map=function(e){var r=[];return this.forEach(function(n,a,o){r[a[0]]=e(n,a,o)}),r},t.prototype.toArray=function(){var e=[];return this.forEach(function(r,n){e[n[0]]=r}),e},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(e){var r=zl(this.start,e);return this.step!==1&&(r+=":"+zl(this.step,e)),r+=":"+zl(this.end,e),r},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t},{isClass:!0})});var cjt,hjt,Sz,y3e=te(()=>{w();_();Fe();cjt="Matrix",hjt=[],Sz=ae(cjt,hjt,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0})});var pjt,djt,Ez,b3e=te(()=>{w();_();zt();wr();xi();zr();dn();To();Fe();pjt="DenseMatrix",djt=["Matrix"],Ez=ae(pjt,djt,t=>{var{Matrix:e}=t;function r(c,h){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!ja(h))throw new Error("Invalid datatype: "+h);if(Kt(c))c.type==="DenseMatrix"?(this._data=tr(c._data),this._size=tr(c._size),this._datatype=h||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=h||c._datatype);else if(c&&hn(c.data)&&hn(c.size))this._data=c.data,this._size=c.size,uz(this._data,this._size),this._datatype=h||c.datatype;else if(hn(c))this._data=l(c),this._size=vr(this._data),uz(this._data,this._size),this._datatype=h;else{if(c)throw new TypeError("Unsupported type of data ("+$r(c)+")");this._data=[],this._size=[0],this._datatype=h}}r.prototype=new e,r.prototype.createDenseMatrix=function(c,h){return new r(c,h)},r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return $d(this._data,$r)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(c,h){return new r(c,h)},r.prototype.subset=function(c,h,m){switch(arguments.length){case 1:return n(this,c);case 2:case 3:return o(this,c,h,m);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(c){if(!hn(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new br(c.length,this._size.length);for(var h=0;h<c.length;h++)Fn(c[h],this._size[h]);for(var m=this._data,g=0,b=c.length;g<b;g++){var A=c[g];Fn(A,m.length),m=m[A]}return m},r.prototype.set=function(c,h,m){if(!hn(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new br(c.length,this._size.length,"<");var g,b,A,I=c.map(function(R){return R+1});f(this,I,m);var C=this._data;for(g=0,b=c.length-1;g<b;g++)A=c[g],Fn(A,C.length),C=C[A];return A=c[c.length-1],Fn(A,C.length),C[A]=h,this};function n(c,h){if(!up(h))throw new TypeError("Invalid index");var m=h.isScalar();if(m)return c.get(h.min());var g=h.size();if(g.length!==c._size.length)throw new br(g.length,c._size.length);for(var b=h.min(),A=h.max(),I=0,C=c._size.length;I<C;I++)Fn(b[I],c._size[I]),Fn(A[I],c._size[I]);return new r(a(c._data,h,g.length,0),c._datatype)}function a(c,h,m,g){var b=g===m-1,A=h.dimension(g);return b?A.map(function(I){return Fn(I,c.length),c[I]}).valueOf():A.map(function(I){Fn(I,c.length);var C=c[I];return a(C,h,m,g+1)}).valueOf()}function o(c,h,m,g){if(!h||h.isIndex!==!0)throw new TypeError("Invalid index");var b=h.size(),A=h.isScalar(),I;if(Kt(m)?(I=m.size(),m=m.valueOf()):I=vr(m),A){if(I.length!==0)throw new TypeError("Scalar expected");c.set(h.min(),m,g)}else{if(b.length<c._size.length)throw new br(b.length,c._size.length,"<");if(I.length<b.length){for(var C=0,R=0;b[C]===1&&I[C]===1;)C++;for(;b[C]===1;)R++,C++;m=Vk(m,b.length,R,I)}if(!Ud(b,I))throw new br(b,I,">");var O=h.max().map(function(B){return B+1});f(c,O,g);var F=b.length,z=0;s(c._data,h,m,F,z)}return c}function s(c,h,m,g,b){var A=b===g-1,I=h.dimension(b);A?I.forEach(function(C,R){Fn(C),c[C]=m[R[0]]}):I.forEach(function(C,R){Fn(C),s(c[C],h,m[R[0]],g,b+1)})}r.prototype.resize=function(c,h,m){if(!Wf(c))throw new TypeError("Array or Matrix expected");var g=c.valueOf().map(A=>Array.isArray(A)&&A.length===1?A[0]:A),b=m?this.clone():this;return u(b,g,h)};function u(c,h,m){if(h.length===0){for(var g=c._data;hn(g);)g=g[0];return g}return c._size=h.slice(0),c._data=Ul(c._data,c._size,m),c}r.prototype.reshape=function(c,h){var m=h?this.clone():this;m._data=$k(m._data,c);var g=m._size.reduce((b,A)=>b*A);return m._size=lE(c,g),m};function f(c,h,m){for(var g=c._size.slice(0),b=!1;g.length<h.length;)g.push(0),b=!0;for(var A=0,I=h.length;A<I;A++)h[A]>g[A]&&(g[A]=h[A],b=!0);b&&u(c,g,m)}r.prototype.clone=function(){var c=new r({data:tr(this._data),size:tr(this._size),datatype:this._datatype});return c},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(c){var h=this,m=function A(I,C){return hn(I)?I.map(function(R,O){return A(R,C.concat(O))}):c(I,C,h)},g=m(this._data,[]),b=this._datatype!==void 0?$d(g,$r):void 0;return new r(g,b)},r.prototype.forEach=function(c){var h=this,m=function g(b,A){hn(b)?b.forEach(function(I,C){g(I,A.concat(C))}):c(b,A,h)};m(this._data,[])},r.prototype[Symbol.iterator]=function*(){var c=function*h(m,g){if(hn(m))for(var b=0;b<m.length;b++)yield*h(m[b],g.concat(b));else yield{value:m,index:g}};yield*c(this._data,[])},r.prototype.rows=function(){var c=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var m=this._data;for(var g of m)c.push(new r([g],this._datatype));return c},r.prototype.columns=function(){var c=this,h=[],m=this.size();if(m.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var g=this._data,b=function(C){var R=g.map(O=>[O[C]]);h.push(new r(R,c._datatype))},A=0;A<m[1];A++)b(A);return h},r.prototype.toArray=function(){return tr(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(c){return mr(this._data,c)},r.prototype.toString=function(){return mr(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(c){if(c){if(hr(c)&&(c=c.toNumber()),!Ar(c)||!Ut(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var h=c>0?c:0,m=c<0?-c:0,g=this._size[0],b=this._size[1],A=Math.min(g-m,b-h),I=[],C=0;C<A;C++)I[C]=this._data[C+m][C+h];return new r({data:I,size:[A],datatype:this._datatype})},r.diagonal=function(c,h,m,g){if(!hn(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function($){if(hr($)&&($=$.toNumber()),!Ar($)||!Ut($)||$<1)throw new Error("Size values must be positive integers");return $}),m){if(hr(m)&&(m=m.toNumber()),!Ar(m)||!Ut(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var b=m>0?m:0,A=m<0?-m:0,I=c[0],C=c[1],R=Math.min(I-A,C-b),O;if(hn(h)){if(h.length!==R)throw new Error("Invalid value array length");O=function(j){return h[j]}}else if(Kt(h)){var F=h.size();if(F.length!==1||F[0]!==R)throw new Error("Invalid matrix length");O=function(j){return h.get([j])}}else O=function(){return h};g||(g=hr(O(0))?O(0).mul(0):0);var z=[];if(c.length>0){z=Ul(z,c,g);for(var B=0;B<R;B++)z[B+A][B+b]=O(B)}return new r({data:z,size:[I,C]})},r.fromJSON=function(c){return new r(c)},r.prototype.swapRows=function(c,h){if(!Ar(c)||!Ut(c)||!Ar(h)||!Ut(h))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Fn(c,this._size[0]),Fn(h,this._size[0]),r._swapRows(c,h,this._data),this},r._swapRows=function(c,h,m){var g=m[c];m[c]=m[h],m[h]=g};function l(c){for(var h=0,m=c.length;h<m;h++){var g=c[h];hn(g)?c[h]=l(g):g&&g.isMatrix===!0&&(c[h]=l(g.valueOf()))}return c}return r},{isClass:!0})});var w3e,mjt,Mz,x3e=te(()=>{w();_();dn();Fe();w3e="clone",mjt=["typed"],Mz=ae(w3e,mjt,t=>{var{typed:e}=t;return e(w3e,{any:tr})})});function Yk(t){var e=t.length,r=t[0].length,n,a,o=[];for(a=0;a<r;a++){var s=[];for(n=0;n<e;n++)s.push(t[n][a]);o.push(s)}return o}var Az=te(()=>{w();_()});function Kf(t){for(var e=0;e<t.length;e++)if(Wf(t[e]))return!0;return!1}function ls(t,e){Kt(t)&&(t=t.valueOf());for(var r=0,n=t.length;r<n;r++){var a=t[r];Array.isArray(a)?ls(a,e):e(a)}}function Et(t,e,r){return t&&typeof t.map=="function"?t.map(function(n){return Et(n,e,r)}):e(t)}function Wd(t,e,r){var n=Array.isArray(t)?vr(t):t.size();if(e<0||e>=n.length)throw new jo(e,n.length);return Kt(t)?t.create(Xk(t.valueOf(),e,r)):Xk(t,e,r)}function Xk(t,e,r){var n,a,o,s;if(e<=0)if(Array.isArray(t[0])){for(s=Yk(t),a=[],n=0;n<s.length;n++)a[n]=Xk(s[n],e-1,r);return a}else{for(o=t[0],n=1;n<t.length;n++)o=r(o,t[n]);return o}else{for(a=[],n=0;n<t.length;n++)a[n]=Xk(t[n],e-1,r);return a}}function Nz(t,e,r,n,a,o,s,u,f,l,c){var h=t._values,m=t._index,g=t._ptr,b,A,I,C;if(n)for(A=g[e],I=g[e+1],b=A;b<I;b++)C=m[b],r[C]!==o?(r[C]=o,s.push(C),l?(n[C]=f?u(h[b],c):u(c,h[b]),a[C]=o):n[C]=h[b]):(n[C]=f?u(h[b],n[C]):u(n[C],h[b]),a[C]=o);else for(A=g[e],I=g[e+1],b=A;b<I;b++)C=m[b],r[C]!==o?(r[C]=o,s.push(C)):a[C]=o}var Zt=te(()=>{w();_();zt();Nv();wr();Az()});var _3e,vjt,Tz,S3e=te(()=>{w();_();Zt();zr();Fe();_3e="isInteger",vjt=["typed"],Tz=ae(_3e,vjt,t=>{var{typed:e}=t;return e(_3e,{number:Ut,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":function(n){return Et(n,this)}})})});function Dz(t){return Math.abs(t)}function kz(t,e){return t+e}function gjt(t,e){return t-e}function Iz(t,e){return t*e}function yjt(t,e){return t/e}function Cz(t){return-t}function Oz(t){return t}function gw(t){return PAe(t)}function Rz(t){return t*t*t}function Fz(t){return Math.exp(t)}function Bz(t){return qAe(t)}function Lz(t,e){if(!Ut(t)||!Ut(e))throw new Error("Parameters in function gcd must be integer numbers");for(var r;e!==0;)r=t%e,t=e,e=r;return t<0?-t:t}function Pz(t,e){if(!Ut(t)||!Ut(e))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||e===0)return 0;for(var r,n=t*e;e!==0;)r=e,e=t%r,t=r;return Math.abs(n/t)}function E3e(t,e){return e?Math.log(t)/Math.log(e):Math.log(t)}function qz(t){return LAe(t)}function zz(t){return BAe(t)}function bjt(t){return Pk(t)}function Uz(t,e){if(e>0)return t-e*Math.floor(t/e);if(e===0)return t;throw new Error("Cannot calculate mod for a negative divisor")}function jz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=e<0;if(r&&(e=-e),e===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return r?1/0:0;if(!isFinite(t))return r?0:t;var n=Math.pow(Math.abs(t),1/e);return n=t<0?-n:n,r?1/n:n}function Qk(t){return Hf(t)}function wjt(t){return Math.sqrt(t)}function $z(t){return t*t}function Vz(t,e){var r,n,a,o=0,s=1,u=1,f=0;if(!Ut(t)||!Ut(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(t/e),a=t-n*e,r=o,o=s-n*o,s=r,r=u,u=f-n*u,f=r,t=e,e=a;var l;return t<0?l=[-t,-s,-f]:l=[t,t?s:0,f],l}function Wz(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function Gz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Ut(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(az(t,e))}function xjt(t){return Math.abs(t)}var eu,lp,M3e=te(()=>{w();_();zr();eu="number",lp="number, number";Dz.signature=eu;kz.signature=lp;gjt.signature=lp;Iz.signature=lp;yjt.signature=lp;Cz.signature=eu;Oz.signature=eu;gw.signature=eu;Rz.signature=eu;Fz.signature=eu;Bz.signature=eu;Lz.signature=lp;Pz.signature=lp;qz.signature=eu;zz.signature=eu;bjt.signature=eu;Uz.signature=lp;Qk.signature=eu;wjt.signature=eu;$z.signature=eu;Vz.signature=lp;Wz.signature=lp;xjt.signature=eu});function Hz(t,e){if(!Ut(t)||!Ut(e))throw new Error("Integers expected in function bitAnd");return t&e}function Kz(t){if(!Ut(t))throw new Error("Integer expected in function bitNot");return~t}function Zz(t,e){if(!Ut(t)||!Ut(e))throw new Error("Integers expected in function bitOr");return t|e}function Jz(t,e){if(!Ut(t)||!Ut(e))throw new Error("Integers expected in function bitXor");return t^e}function Yz(t,e){if(!Ut(t)||!Ut(e))throw new Error("Integers expected in function leftShift");return t<<e}function Xz(t,e){if(!Ut(t)||!Ut(e))throw new Error("Integers expected in function rightArithShift");return t>>e}function Qz(t,e){if(!Ut(t)||!Ut(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}var _jt,yw,A3e=te(()=>{w();_();zr();_jt="number",yw="number, number";Hz.signature=yw;Kz.signature=_jt;Zz.signature=yw;Jz.signature=yw;Yz.signature=yw;Xz.signature=yw;Qz.signature=yw});function Au(t,e){if(e<t)return 1;if(e===t)return e;var r=e+t>>1;return Au(t,r)*Au(r+1,e)}var hE=te(()=>{w();_()});function eU(t,e){if(!Ut(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!Ut(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var r=t-e,n=1,a=e<r?r+1:e+1,o=2,s=e<r?e:r,u=a;u<=t;++u)for(n*=u;o<=s&&n%o===0;)n/=o,++o;return o<=s&&(n/=Au(o,s)),n}var tU=te(()=>{w();_();zr();hE();eU.signature="number, number"});var N3e,T3e,D3e,k3e,I3e=te(()=>{w();_();N3e=Math.PI,T3e=2*Math.PI,D3e=Math.E,k3e=1.618033988749895});function nU(t){return!t}function iU(t,e){return!!(t||e)}function aU(t,e){return!!t!=!!e}function oU(t,e){return!!(t&&e)}var Sjt,rU,C3e=te(()=>{w();_();Sjt="number",rU="number, number";nU.signature=Sjt;iU.signature=rU;aU.signature=rU;oU.signature=rU});var O3e=te(()=>{w();_()});function eI(t){var e;if(Ut(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:Au(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*eI(1-t));if(t>=171.35)return 1/0;if(t>85){var r=t*t,n=r*t,a=n*t,o=a*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*r)-139/(51840*n)-571/(2488320*a)+163879/(209018880*o)+5246819/(75246796800*o*t))}--t,e=Dv[0];for(var s=1;s<Dv.length;++s)e+=Dv[s]/(t+s);var u=t+sU+.5;return Math.sqrt(2*Math.PI)*Math.pow(u,t+.5)*Math.exp(-u)*e}function pE(t){if(t<0)return NaN;if(t===0)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-pE(1-t);t=t-1;for(var e=t+Ejt+.5,r=R3e[0],n=Mjt-1;n>=1;n--)r+=R3e[n]/(t+n);return uU+(t+.5)*Math.log(e)-e+Math.log(r)}var sU,Dv,uU,Ejt,Mjt,R3e,F3e=te(()=>{w();_();zr();hE();eI.signature="number";sU=4.7421875,Dv=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],uU=.9189385332046728,Ejt=5,Mjt=7,R3e=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];pE.signature="number"});function Njt(t){return Math.acos(t)}function fU(t){return jAe(t)}function lU(t){return Math.atan(1/t)}function cU(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}function hU(t){return Math.asin(1/t)}function pU(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}function dU(t){return Math.acos(1/t)}function mU(t){var e=1/t,r=Math.sqrt(e*e-1);return Math.log(r+e)}function Tjt(t){return Math.asin(t)}function vU(t){return $Ae(t)}function Djt(t){return Math.atan(t)}function kjt(t,e){return Math.atan2(t,e)}function gU(t){return VAe(t)}function Ijt(t){return Math.cos(t)}function Cjt(t){return Uk(t)}function yU(t){return 1/Math.tan(t)}function bU(t){var e=Math.exp(2*t);return(e+1)/(e-1)}function wU(t){return 1/Math.sin(t)}function xU(t){return t===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*Hf(t)}function _U(t){return 1/Math.cos(t)}function SU(t){return 2/(Math.exp(t)+Math.exp(-t))}function Ojt(t){return Math.sin(t)}function EU(t){return WAe(t)}function Rjt(t){return Math.tan(t)}function Fjt(t){return jk(t)}var sa,Ajt,B3e=te(()=>{w();_();zr();sa="number",Ajt="number, number";Njt.signature=sa;fU.signature=sa;lU.signature=sa;cU.signature=sa;hU.signature=sa;pU.signature=sa;dU.signature=sa;mU.signature=sa;Tjt.signature=sa;vU.signature=sa;Djt.signature=sa;kjt.signature=Ajt;gU.signature=sa;Ijt.signature=sa;Cjt.signature=sa;yU.signature=sa;bU.signature=sa;wU.signature=sa;xU.signature=sa;_U.signature=sa;SU.signature=sa;Ojt.signature=sa;EU.signature=sa;Rjt.signature=sa;Fjt.signature=sa});function Bjt(t){return Ut(t)}function MU(t){return t<0}function AU(t){return t>0}function NU(t){return t===0}function TU(t){return Number.isNaN(t)}var dE,L3e=te(()=>{w();_();zr();dE="number";Bjt.signature=dE;MU.signature=dE;AU.signature=dE;NU.signature=dE;TU.signature=dE});var Sr=te(()=>{w();_();M3e();A3e();tU();I3e();C3e();O3e();F3e();B3e();L3e()});var P3e,Ljt,DU,q3e=te(()=>{w();_();Zt();Fe();Sr();P3e="isNegative",Ljt=["typed"],DU=ae(P3e,Ljt,t=>{var{typed:e}=t;return e(P3e,{number:MU,BigNumber:function(n){return n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s<0},Unit:function(n){return this(n.value)},"Array | Matrix":function(n){return Et(n,this)}})})});var z3e,Pjt,kU,U3e=te(()=>{w();_();Zt();Fe();z3e="isNumeric",Pjt=["typed"],kU=ae(z3e,Pjt,t=>{var{typed:e}=t;return e(z3e,{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(n){return Et(n,this)}})})});var j3e,qjt,IU,$3e=te(()=>{w();_();Fe();j3e="hasNumericValue",qjt=["typed","isNumeric"],IU=ae(j3e,qjt,t=>{var{typed:e,isNumeric:r}=t;return e(j3e,{string:function(a){return a.trim().length>0&&!isNaN(Number(a))},any:function(a){return r(a)}})})});var V3e,zjt,CU,W3e=te(()=>{w();_();Zt();Fe();Sr();V3e="isPositive",zjt=["typed"],CU=ae(V3e,zjt,t=>{var{typed:e}=t;return e(V3e,{number:AU,BigNumber:function(n){return!n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s>0&&n.n>0},Unit:function(n){return this(n.value)},"Array | Matrix":function(n){return Et(n,this)}})})});var G3e,Ujt,OU,H3e=te(()=>{w();_();Zt();Fe();Sr();G3e="isZero",Ujt=["typed"],OU=ae(G3e,Ujt,t=>{var{typed:e}=t;return e(G3e,{number:NU,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:function(n){return this(n.value)},"Array | Matrix":function(n){return Et(n,this)}})})});var K3e,jjt,RU,Z3e=te(()=>{w();_();Zt();Fe();Sr();K3e="isNaN",jjt=["typed"],RU=ae(K3e,jjt,t=>{var{typed:e}=t;return e(K3e,{number:TU,BigNumber:function(n){return n.isNaN()},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":function(n){return Et(n,Number.isNaN)}})})});var J3e,$jt,FU,Y3e=te(()=>{w();_();Fe();zt();J3e="typeOf",$jt=["typed"],FU=ae(J3e,$jt,t=>{var{typed:e}=t;return e(J3e,{any:$r})})});function Do(t,e,r){if(r==null)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return!0;var a=t.constructor.max(t.abs(),e.abs());return n.lte(a.times(r))}return!1}var cp=te(()=>{w();_()});function X3e(t,e,r){return Oa(t.re,e.re,r)&&Oa(t.im,e.im,r)}var Q3e=te(()=>{w();_();zr()});var tI,Vjt,BU,bRr,eNe=te(()=>{w();_();cp();zr();Fe();Q3e();tI="equalScalar",Vjt=["typed","config"],BU=ae(tI,Vjt,t=>{var{typed:e,config:r}=t;return e(tI,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Oa(a,o,r.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||Do(a,o,r.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return X3e(a,o,r.epsilon)},"Unit, Unit":function(a,o){if(!a.equalBase(o))throw new Error("Cannot compare units with different base");return this(a.value,o.value)}})}),bRr=ae(tI,["typed","config"],t=>{var{typed:e,config:r}=t;return e(tI,{"number, number":function(a,o){return Oa(a,o,r.epsilon)}})})});var Wjt,Gjt,LU,tNe=te(()=>{w();_();zt();zr();xi();dn();wr();Fe();To();Wjt="SparseMatrix",Gjt=["typed","equalScalar","Matrix"],LU=ae(Wjt,Gjt,t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function a(A,I){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(I&&!ja(I))throw new Error("Invalid datatype: "+I);if(Kt(A))o(this,A,I);else if(A&&hn(A.index)&&hn(A.ptr)&&hn(A.size))this._values=A.values,this._index=A.index,this._ptr=A.ptr,this._size=A.size,this._datatype=I||A.datatype;else if(hn(A))s(this,A,I);else{if(A)throw new TypeError("Unsupported type of data ("+$r(A)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=I}}function o(A,I,C){I.type==="SparseMatrix"?(A._values=I._values?tr(I._values):void 0,A._index=tr(I._index),A._ptr=tr(I._ptr),A._size=tr(I._size),A._datatype=C||I._datatype):s(A,I.valueOf(),C||I._datatype)}function s(A,I,C){A._values=[],A._index=[],A._ptr=[],A._datatype=C;var R=I.length,O=0,F=r,z=0;if(ja(C)&&(F=e.find(r,[C,C])||r,z=e.convert(0,C)),R>0){var B=0;do{A._ptr.push(A._index.length);for(var $=0;$<R;$++){var j=I[$];if(hn(j)){if(B===0&&O<j.length&&(O=j.length),B<j.length){var W=j[B];F(W,z)||(A._values.push(W),A._index.push($))}}else B===0&&O<1&&(O=1),F(j,z)||(A._values.push(j),A._index.push($))}B++}while(B<O)}A._ptr.push(A._index.length),A._size=[R,O]}a.prototype=new n,a.prototype.createSparseMatrix=function(A,I){return new a(A,I)},a.prototype.type="SparseMatrix",a.prototype.isSparseMatrix=!0,a.prototype.getDataType=function(){return $d(this._values,$r)},a.prototype.storage=function(){return"sparse"},a.prototype.datatype=function(){return this._datatype},a.prototype.create=function(A,I){return new a(A,I)},a.prototype.density=function(){var A=this._size[0],I=this._size[1];return A!==0&&I!==0?this._index.length/(A*I):0},a.prototype.subset=function(A,I,C){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return u(this,A);case 2:case 3:return f(this,A,I,C);default:throw new SyntaxError("Wrong number of arguments")}};function u(A,I){if(!up(I))throw new TypeError("Invalid index");var C=I.isScalar();if(C)return A.get(I.min());var R=I.size();if(R.length!==A._size.length)throw new br(R.length,A._size.length);var O,F,z,B,$=I.min(),j=I.max();for(O=0,F=A._size.length;O<F;O++)Fn($[O],A._size[O]),Fn(j[O],A._size[O]);var W=A._values,T=A._index,p=A._ptr,v=I.dimension(0),S=I.dimension(1),y=[],M=[];v.forEach(function(d,N){M[d]=N[0],y[d]=!0});var D=W?[]:void 0,k=[],E=[];return S.forEach(function(d){for(E.push(k.length),z=p[d],B=p[d+1];z<B;z++)O=T[z],y[O]===!0&&(k.push(M[O]),D&&D.push(W[z]))}),E.push(k.length),new a({values:D,index:k,ptr:E,size:R,datatype:A._datatype})}function f(A,I,C,R){if(!I||I.isIndex!==!0)throw new TypeError("Invalid index");var O=I.size(),F=I.isScalar(),z;if(Kt(C)?(z=C.size(),C=C.toArray()):z=vr(C),F){if(z.length!==0)throw new TypeError("Scalar expected");A.set(I.min(),C,R)}else{if(O.length!==1&&O.length!==2)throw new br(O.length,A._size.length,"<");if(z.length<O.length){for(var B=0,$=0;O[B]===1&&z[B]===1;)B++;for(;O[B]===1;)$++,B++;C=Vk(C,O.length,$,z)}if(!Ud(O,z))throw new br(O,z,">");if(O.length===1){var j=I.dimension(0);j.forEach(function(p,v){Fn(p),A.set([p,0],C[v[0]],R)})}else{var W=I.dimension(0),T=I.dimension(1);W.forEach(function(p,v){Fn(p),T.forEach(function(S,y){Fn(S),A.set([p,S],C[v[0]][y[0]],R)})})}}return A}a.prototype.get=function(A){if(!hn(A))throw new TypeError("Array expected");if(A.length!==this._size.length)throw new br(A.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var I=A[0],C=A[1];Fn(I,this._size[0]),Fn(C,this._size[1]);var R=l(I,this._ptr[C],this._ptr[C+1],this._index);return R<this._ptr[C+1]&&this._index[R]===I?this._values[R]:0},a.prototype.set=function(A,I,C){if(!hn(A))throw new TypeError("Array expected");if(A.length!==this._size.length)throw new br(A.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var R=A[0],O=A[1],F=this._size[0],z=this._size[1],B=r,$=0;ja(this._datatype)&&(B=e.find(r,[this._datatype,this._datatype])||r,$=e.convert(0,this._datatype)),(R>F-1||O>z-1)&&(m(this,Math.max(R+1,F),Math.max(O+1,z),C),F=this._size[0],z=this._size[1]),Fn(R,F),Fn(O,z);var j=l(R,this._ptr[O],this._ptr[O+1],this._index);return j<this._ptr[O+1]&&this._index[j]===R?B(I,$)?c(j,O,this._values,this._index,this._ptr):this._values[j]=I:h(j,R,O,I,this._values,this._index,this._ptr),this};function l(A,I,C,R){if(C-I===0)return C;for(var O=I;O<C;O++)if(R[O]===A)return O;return I}function c(A,I,C,R,O){C.splice(A,1),R.splice(A,1);for(var F=I+1;F<O.length;F++)O[F]--}function h(A,I,C,R,O,F,z){O.splice(A,0,R),F.splice(A,0,I);for(var B=C+1;B<z.length;B++)z[B]++}a.prototype.resize=function(A,I,C){if(!Wf(A))throw new TypeError("Array or Matrix expected");var R=A.valueOf().map(F=>Array.isArray(F)&&F.length===1?F[0]:F);if(R.length!==2)throw new Error("Only two dimensions matrix are supported");R.forEach(function(F){if(!Ar(F)||!Ut(F)||F<0)throw new TypeError("Invalid size, must contain positive integers (size: "+mr(R)+")")});var O=C?this.clone():this;return m(O,R[0],R[1],I)};function m(A,I,C,R){var O=R||0,F=r,z=0;ja(A._datatype)&&(F=e.find(r,[A._datatype,A._datatype])||r,z=e.convert(0,A._datatype),O=e.convert(O,A._datatype));var B=!F(O,z),$=A._size[0],j=A._size[1],W,T,p;if(C>j){for(T=j;T<C;T++)if(A._ptr[T]=A._values.length,B)for(W=0;W<$;W++)A._values.push(O),A._index.push(W);A._ptr[C]=A._values.length}else C<j&&(A._ptr.splice(C+1,j-C),A._values.splice(A._ptr[C],A._values.length),A._index.splice(A._ptr[C],A._index.length));if(j=C,I>$){if(B){var v=0;for(T=0;T<j;T++){A._ptr[T]=A._ptr[T]+v,p=A._ptr[T+1]+v;var S=0;for(W=$;W<I;W++,S++)A._values.splice(p+S,0,O),A._index.splice(p+S,0,W),v++}A._ptr[j]=A._values.length}}else if(I<$){var y=0;for(T=0;T<j;T++){A._ptr[T]=A._ptr[T]-y;var M=A._ptr[T],D=A._ptr[T+1]-y;for(p=M;p<D;p++)W=A._index[p],W>I-1&&(A._values.splice(p,1),A._index.splice(p,1),y++)}A._ptr[T]=A._values.length}return A._size[0]=I,A._size[1]=C,A}a.prototype.reshape=function(A,I){if(!hn(A))throw new TypeError("Array expected");if(A.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");A.forEach(function(d){if(!Ar(d)||!Ut(d)||d<=-2||d===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+mr(A)+")")});var C=this._size[0]*this._size[1];A=lE(A,C);var R=A[0]*A[1];if(C!==R)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var O=I?this.clone():this;if(this._size[0]===A[0]&&this._size[1]===A[1])return O;for(var F=[],z=0;z<O._ptr.length;z++)for(var B=0;B<O._ptr[z+1]-O._ptr[z];B++)F.push(z);for(var $=O._values.slice(),j=O._index.slice(),W=0;W<O._index.length;W++){var T=j[W],p=F[W],v=T*O._size[1]+p;F[W]=v%A[1],j[W]=Math.floor(v/A[1])}O._values.length=0,O._index.length=0,O._ptr.length=A[1]+1,O._size=A.slice();for(var S=0;S<O._ptr.length;S++)O._ptr[S]=0;for(var y=0;y<$.length;y++){var M=j[y],D=F[y],k=$[y],E=l(M,O._ptr[D],O._ptr[D+1],O._index);h(E,M,D,k,O._values,O._index,O._ptr)}return O},a.prototype.clone=function(){var A=new a({values:this._values?tr(this._values):void 0,index:tr(this._index),ptr:tr(this._ptr),size:tr(this._size),datatype:this._datatype});return A},a.prototype.size=function(){return this._size.slice(0)},a.prototype.map=function(A,I){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var C=this,R=this._size[0],O=this._size[1],F=function(B,$,j){return A(B,[$,j],C)};return g(this,0,R-1,0,O-1,F,I)};function g(A,I,C,R,O,F,z){var B=[],$=[],j=[],W=r,T=0;ja(A._datatype)&&(W=e.find(r,[A._datatype,A._datatype])||r,T=e.convert(0,A._datatype));for(var p=function(P,G,Z){P=F(P,G,Z),W(P,T)||(B.push(P),$.push(G))},v=R;v<=O;v++){j.push(B.length);var S=A._ptr[v],y=A._ptr[v+1];if(z)for(var M=S;M<y;M++){var D=A._index[M];D>=I&&D<=C&&p(A._values[M],D-I,v-R)}else{for(var k={},E=S;E<y;E++){var d=A._index[E];k[d]=A._values[E]}for(var N=I;N<=C;N++){var U=N in k?k[N]:0;p(U,N-I,v-R)}}}return j.push(B.length),new a({values:B,index:$,ptr:j,size:[C-I+1,O-R+1]})}a.prototype.forEach=function(A,I){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var C=this,R=this._size[0],O=this._size[1],F=0;F<O;F++){var z=this._ptr[F],B=this._ptr[F+1];if(I)for(var $=z;$<B;$++){var j=this._index[$];A(this._values[$],[j,F],C)}else{for(var W={},T=z;T<B;T++){var p=this._index[T];W[p]=this._values[T]}for(var v=0;v<R;v++){var S=v in W?W[v]:0;A(S,[v,F],C)}}}},a.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var A=this._size[1],I=0;I<A;I++)for(var C=this._ptr[I],R=this._ptr[I+1],O=C;O<R;O++){var F=this._index[O];yield{value:this._values[O],index:[F,I]}}},a.prototype.toArray=function(){return b(this._values,this._index,this._ptr,this._size,!0)},a.prototype.valueOf=function(){return b(this._values,this._index,this._ptr,this._size,!1)};function b(A,I,C,R,O){var F=R[0],z=R[1],B=[],$,j;for($=0;$<F;$++)for(B[$]=[],j=0;j<z;j++)B[$][j]=0;for(j=0;j<z;j++)for(var W=C[j],T=C[j+1],p=W;p<T;p++)$=I[p],B[$][j]=A?O?tr(A[p]):A[p]:1;return B}return a.prototype.format=function(A){for(var I=this._size[0],C=this._size[1],R=this.density(),O="Sparse Matrix ["+mr(I,A)+" x "+mr(C,A)+"] density: "+mr(R,A)+`
`,F=0;F<C;F++)for(var z=this._ptr[F],B=this._ptr[F+1],$=z;$<B;$++){var j=this._index[$];O+=`
    (`+mr(j,A)+", "+mr(F,A)+") ==> "+(this._values?mr(this._values[$],A):"X")}return O},a.prototype.toString=function(){return mr(this.toArray())},a.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},a.prototype.diagonal=function(A){if(A){if(hr(A)&&(A=A.toNumber()),!Ar(A)||!Ut(A))throw new TypeError("The parameter k must be an integer number")}else A=0;var I=A>0?A:0,C=A<0?-A:0,R=this._size[0],O=this._size[1],F=Math.min(R-C,O-I),z=[],B=[],$=[];$[0]=0;for(var j=I;j<O&&z.length<F;j++)for(var W=this._ptr[j],T=this._ptr[j+1],p=W;p<T;p++){var v=this._index[p];if(v===j-I+C){z.push(this._values[p]),B[z.length-1]=v-C;break}}return $.push(z.length),new a({values:z,index:B,ptr:$,size:[F,1]})},a.fromJSON=function(A){return new a(A)},a.diagonal=function(A,I,C,R,O){if(!hn(A))throw new TypeError("Array expected, size parameter");if(A.length!==2)throw new Error("Only two dimensions matrix are supported");if(A=A.map(function(d){if(hr(d)&&(d=d.toNumber()),!Ar(d)||!Ut(d)||d<1)throw new Error("Size values must be positive integers");return d}),C){if(hr(C)&&(C=C.toNumber()),!Ar(C)||!Ut(C))throw new TypeError("The parameter k must be an integer number")}else C=0;var F=r,z=0;ja(O)&&(F=e.find(r,[O,O])||r,z=e.convert(0,O));var B=C>0?C:0,$=C<0?-C:0,j=A[0],W=A[1],T=Math.min(j-$,W-B),p;if(hn(I)){if(I.length!==T)throw new Error("Invalid value array length");p=function(N){return I[N]}}else if(Kt(I)){var v=I.size();if(v.length!==1||v[0]!==T)throw new Error("Invalid matrix length");p=function(N){return I.get([N])}}else p=function(){return I};for(var S=[],y=[],M=[],D=0;D<W;D++){M.push(S.length);var k=D-B;if(k>=0&&k<T){var E=p(k);F(E,z)||(y.push(k+$),S.push(E))}}return M.push(S.length),new a({values:S,index:y,ptr:M,size:[j,W]})},a.prototype.swapRows=function(A,I){if(!Ar(A)||!Ut(A)||!Ar(I)||!Ut(I))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Fn(A,this._size[0]),Fn(I,this._size[0]),a._swapRows(A,I,this._size[1],this._values,this._index,this._ptr),this},a._forEachRow=function(A,I,C,R,O){for(var F=R[A],z=R[A+1],B=F;B<z;B++)O(C[B],I[B])},a._swapRows=function(A,I,C,R,O,F){for(var z=0;z<C;z++){var B=F[z],$=F[z+1],j=l(A,B,$,O),W=l(I,B,$,O);if(j<$&&W<$&&O[j]===A&&O[W]===I){if(R){var T=R[j];R[j]=R[W],R[W]=T}continue}if(j<$&&O[j]===A&&(W>=$||O[W]!==I)){var p=R?R[j]:void 0;O.splice(W,0,I),R&&R.splice(W,0,p),O.splice(W<=j?j+1:j,1),R&&R.splice(W<=j?j+1:j,1);continue}if(W<$&&O[W]===I&&(j>=$||O[j]!==A)){var v=R?R[W]:void 0;O.splice(j,0,A),R&&R.splice(j,0,v),O.splice(j<=W?W+1:W,1),R&&R.splice(j<=W?W+1:W,1)}}},a},{isClass:!0})});function Zjt(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var r={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],a=e[3];return{input:t,radix:r,integerPart:n,fractionalPart:a}}else return null}function Jjt(t){for(var e=parseInt(t.integerPart,t.radix),r=0,n=0;n<t.fractionalPart.length;n++){var a=parseInt(t.fractionalPart[n],t.radix);r+=a/Math.pow(t.radix,n+1)}var o=e+r;if(isNaN(o))throw new SyntaxError('String "'+t.input+'" is no valid number');return o}var Hjt,Kjt,PU,rNe=te(()=>{w();_();Fe();Zt();Hjt="number",Kjt=["typed"];PU=ae(Hjt,Kjt,t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(a){return a},string:function(a){if(a==="NaN")return NaN;var o=Zjt(a);if(o)return Jjt(o);var s=0,u=a.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);u&&(s=Number(u[2]),a=u[1]);var f=Number(a);if(isNaN(f))throw new SyntaxError('String "'+a+'" is no valid number');if(u){if(f>ir(2,s)-1)throw new SyntaxError('String "'.concat(a,'" is out of range'));f>=ir(2,s-1)&&(f=f-ir(2,s))}return f},BigNumber:function(a){return a.toNumber()},Fraction:function(a){return a.valueOf()},Unit:function(a){throw new Error("Second argument with valueless unit expected")},null:function(a){return 0},"Unit, string | Unit":function(a,o){return a.toNumber(o)},"Array | Matrix":function(a){return Et(a,this)}});return r.fromJSON=function(n){return parseFloat(n.value)},r})});var nNe,Yjt,qU,iNe=te(()=>{w();_();Fe();Zt();zr();nNe="string",Yjt=["typed"],qU=ae(nNe,Yjt,t=>{var{typed:e}=t;return e(nNe,{"":function(){return""},number:zl,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":function(n){return Et(n,this)},any:function(n){return String(n)}})})});var aNe,Xjt,zU,oNe=te(()=>{w();_();Fe();Zt();aNe="boolean",Xjt=["typed"],zU=ae(aNe,Xjt,t=>{var{typed:e}=t;return e(aNe,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var a=n.toLowerCase();if(a==="true")return!0;if(a==="false")return!1;var o=Number(n);if(n!==""&&!isNaN(o))return!!o;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":function(n){return Et(n,this)}})})});var Qjt,e$t,UU,sNe=te(()=>{w();_();Fe();Zt();Qjt="bignumber",e$t=["typed","BigNumber"],UU=ae(Qjt,e$t,t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(a){return new r(a+"")},string:function(a){var o=a.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var s=o[2],u=r(o[1]),f=new r(2).pow(Number(s));if(u.gt(f.sub(1)))throw new SyntaxError('String "'.concat(a,'" is out of range'));var l=new r(2).pow(Number(s)-1);return u.gte(l)?u.sub(f):u}return new r(a)},BigNumber:function(a){return a},Fraction:function(a){return new r(a.n).div(a.d).times(a.s)},null:function(a){return new r(0)},"Array | Matrix":function(a){return Et(a,this)}})})});var t$t,r$t,jU,uNe=te(()=>{w();_();Fe();Zt();t$t="complex",r$t=["typed","Complex"],jU=ae(t$t,r$t,t=>{var{typed:e,Complex:r}=t;return e("complex",{"":function(){return r.ZERO},number:function(a){return new r(a,0)},"number, number":function(a,o){return new r(a,o)},"BigNumber, BigNumber":function(a,o){return new r(a.toNumber(),o.toNumber())},Fraction:function(a){return new r(a.valueOf(),0)},Complex:function(a){return a.clone()},string:function(a){return r(a)},null:function(a){return r(0)},Object:function(a){if("re"in a&&"im"in a)return new r(a.re,a.im);if("r"in a&&"phi"in a||"abs"in a&&"arg"in a)return new r(a);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(a){return Et(a,this)}})})});var n$t,i$t,$U,fNe=te(()=>{w();_();Fe();Zt();n$t="fraction",i$t=["typed","Fraction"],$U=ae(n$t,i$t,t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(a){if(!isFinite(a)||isNaN(a))throw new Error(a+" cannot be represented as a fraction");return new r(a)},string:function(a){return new r(a)},"number, number":function(a,o){return new r(a,o)},null:function(a){return new r(0)},BigNumber:function(a){return new r(a.toString())},Fraction:function(a){return a},Object:function(a){return new r(a)},"Array | Matrix":function(a){return Et(a,this)}})})});var lNe,a$t,VU,cNe=te(()=>{w();_();Fe();lNe="matrix",a$t=["typed","Matrix","DenseMatrix","SparseMatrix"],VU=ae(lNe,a$t,t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:a}=t;return e(lNe,{"":function(){return o([])},string:function(u){return o([],u)},"string, string":function(u,f){return o([],u,f)},Array:function(u){return o(u)},Matrix:function(u){return o(u,u.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(s,u,f){if(u==="dense"||u==="default"||u===void 0)return new n(s,f);if(u==="sparse")return new a(s,f);throw new TypeError("Unknown matrix type "+JSON.stringify(u)+".")}})});var hNe,o$t,WU,pNe=te(()=>{w();_();Fe();hNe="matrixFromFunction",o$t=["typed","matrix","isZero"],WU=ae(hNe,o$t,t=>{var{typed:e,matrix:r,isZero:n}=t;return e(hNe,{"Array | Matrix, function, string, string":function(s,u,f,l){return a(s,u,f,l)},"Array | Matrix, function, string":function(s,u,f){return a(s,u,f)},"Matrix, function":function(s,u){return a(s,u,"dense")},"Array, function":function(s,u){return a(s,u,"dense").toArray()},"Array | Matrix, string, function":function(s,u,f){return a(s,f,u)},"Array | Matrix, string, string, function":function(s,u,f,l){return a(s,l,u,f)}});function a(o,s,u,f){var l;return f!==void 0?l=r(u,f):l=r(u),l.resize(o),l.forEach(function(c,h){var m=s(h);n(m)||l.set(h,m)}),l}})});var dNe,s$t,GU,mNe=te(()=>{w();_();Fe();dNe="matrixFromRows",s$t=["typed","matrix","flatten","size"],GU=ae(dNe,s$t,t=>{var{typed:e,matrix:r,flatten:n,size:a}=t;return e(dNe,{"...Array":function(f){return o(f)},"...Matrix":function(f){return r(o(f.map(l=>l.toArray())))}});function o(u){if(u.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var f=s(u[0]),l=[];for(var c of u){var h=s(c);if(h!==f)throw new TypeError("The vectors had different length: "+(f|0)+" \u2260 "+(h|0));l.push(n(c))}return l}function s(u){var f=a(u);if(f.length===1)return f[0];if(f.length===2){if(f[0]===1)return f[1];if(f[1]===1)return f[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}})});var vNe,u$t,HU,gNe=te(()=>{w();_();Fe();vNe="matrixFromColumns",u$t=["typed","matrix","flatten","size"],HU=ae(vNe,u$t,t=>{var{typed:e,matrix:r,flatten:n,size:a}=t;return e(vNe,{"...Array":function(f){return o(f)},"...Matrix":function(f){return r(o(f.map(l=>l.toArray())))}});function o(u){if(u.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var f=s(u[0]),l=[],c=0;c<f;c++)l[c]=[];for(var h of u){var m=s(h);if(m!==f)throw new TypeError("The vectors had different length: "+(f|0)+" \u2260 "+(m|0));for(var g=n(h),b=0;b<f;b++)l[b].push(g[b])}return l}function s(u){var f=a(u);if(f.length===1)return f[0];if(f.length===2){if(f[0]===1)return f[1];if(f[1]===1)return f[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}})});var yNe,f$t,KU,bNe=te(()=>{w();_();Fe();yNe="splitUnit",f$t=["typed"],KU=ae(yNe,f$t,t=>{var{typed:e}=t;return e(yNe,{"Unit, Array":function(n,a){return n.splitUnit(a)}})})});var wNe,l$t,ZU,xNe=te(()=>{w();_();Fe();Zt();Sr();wNe="unaryMinus",l$t=["typed"],ZU=ae(wNe,l$t,t=>{var{typed:e}=t;return e(wNe,{number:Cz,Complex:function(n){return n.neg()},BigNumber:function(n){return n.neg()},Fraction:function(n){return n.neg()},Unit:function(n){var a=n.clone();return a.value=this(n.value),a},"Array | Matrix":function(n){return Et(n,this,!0)}})})});var _Ne,c$t,JU,SNe=te(()=>{w();_();Fe();Zt();Sr();_Ne="unaryPlus",c$t=["typed","config","BigNumber"],JU=ae(_Ne,c$t,t=>{var{typed:e,config:r,BigNumber:n}=t;return e(_Ne,{number:Oz,Complex:function(o){return o},BigNumber:function(o){return o},Fraction:function(o){return o},Unit:function(o){return o.clone()},"Array | Matrix":function(o){return Et(o,this,!0)},"boolean | string":function(o){return r.number==="BigNumber"?new n(+o):+o}})})});var ENe,h$t,YU,MNe=te(()=>{w();_();Fe();Zt();Sr();ENe="abs",h$t=["typed"],YU=ae(ENe,h$t,t=>{var{typed:e}=t;return e(ENe,{number:Dz,Complex:function(n){return n.abs()},BigNumber:function(n){return n.abs()},Fraction:function(n){return n.abs()},"Array | Matrix":function(n){return Et(n,this,!0)},Unit:function(n){return n.abs()}})})});function rI(t,e,r){var n,a,o;if(e<=0)if(Array.isArray(t[0])){for(o=d$t(t),a=[],n=0;n<o.length;n++)a[n]=rI(o[n],e-1,r);return a}else return r(t);else{for(a=[],n=0;n<t.length;n++)a[n]=rI(t[n],e-1,r);return a}}function d$t(t){var e=t.length,r=t[0].length,n,a,o=[];for(a=0;a<r;a++){var s=[];for(n=0;n<e;n++)s.push(t[n][a]);o.push(s)}return o}var ANe,p$t,mE,XU=te(()=>{w();_();Fe();wr();zt();Nv();ANe="apply",p$t=["typed","isInteger"],mE=ae(ANe,p$t,t=>{var{typed:e,isInteger:r}=t;return e(ANe,{"Array | Matrix, number | BigNumber, function":function(a,o,s){if(!r(o))throw new TypeError("Integer number expected for dimension");var u=Array.isArray(a)?vr(a):a.size();if(o<0||o>=u.length)throw new jo(o,u.length);return Kt(a)?a.create(rI(a.valueOf(),o,s)):rI(a,o,s)}})})});var NNe,m$t,QU,TNe=te(()=>{w();_();Fe();Sr();NNe="addScalar",m$t=["typed"],QU=ae(NNe,m$t,t=>{var{typed:e}=t;return e(NNe,{"number, number":kz,"Complex, Complex":function(n,a){return n.add(a)},"BigNumber, BigNumber":function(n,a){return n.plus(a)},"Fraction, Fraction":function(n,a){return n.add(a)},"Unit, Unit":function(n,a){if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(a.value===null||a.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(a))throw new Error("Units do not match");var o=n.clone();return o.value=this(o.value,a.value),o.fixPrefix=!1,o}})})});var DNe,v$t,ej,kNe=te(()=>{w();_();Fe();zt();Zt();Sr();DNe="cbrt",v$t=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],ej=ae(DNe,v$t,t=>{var{config:e,typed:r,isNegative:n,unaryMinus:a,matrix:o,Complex:s,BigNumber:u,Fraction:f}=t;return r(DNe,{number:gw,Complex:l,"Complex, boolean":l,BigNumber:function(m){return m.cbrt()},Unit:c,"Array | Matrix":function(m){return Et(m,this,!0)}});function l(h,m){var g=h.arg()/3,b=h.abs(),A=new s(gw(b),0).mul(new s(0,g).exp());if(m){var I=[A,new s(gw(b),0).mul(new s(0,g+Math.PI*2/3).exp()),new s(gw(b),0).mul(new s(0,g-Math.PI*2/3).exp())];return e.matrix==="Array"?I:o(I)}else return A}function c(h){if(h.value&&Ys(h.value)){var m=h.clone();return m.value=1,m=m.pow(1/3),m.value=l(h.value),m}else{var g=n(h.value);g&&(h.value=a(h.value));var b;hr(h.value)?b=new u(1).div(3):Uc(h.value)?b=new f(1,3):b=1/3;var A=h.pow(b);return g&&(A.value=a(A.value)),A}}})});var g$t,y$t,Bn,ko=te(()=>{w();_();Fe();g$t="algorithm11",y$t=["typed","equalScalar"],Bn=ae(g$t,y$t,t=>{var{typed:e,equalScalar:r}=t;return function(a,o,s,u){var f=a._values,l=a._index,c=a._ptr,h=a._size,m=a._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var g=h[0],b=h[1],A,I=r,C=0,R=s;typeof m=="string"&&(A=m,I=e.find(r,[A,A]),C=e.convert(0,A),o=e.convert(o,A),R=e.find(s,[A,A]));for(var O=[],F=[],z=[],B=0;B<b;B++){z[B]=F.length;for(var $=c[B],j=c[B+1],W=$;W<j;W++){var T=l[W],p=u?R(o,f[W]):R(f[W],o);I(p,C)||(F.push(T),O.push(p))}}return z[b]=F.length,a.createSparseMatrix({values:O,index:F,ptr:z,size:[g,b],datatype:A})}})});var b$t,w$t,Sn,so=te(()=>{w();_();Fe();b$t="algorithm12",w$t=["typed","DenseMatrix"],Sn=ae(b$t,w$t,t=>{var{typed:e,DenseMatrix:r}=t;return function(a,o,s,u){var f=a._values,l=a._index,c=a._ptr,h=a._size,m=a._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var g=h[0],b=h[1],A,I=s;typeof m=="string"&&(A=m,o=e.convert(o,A),I=e.find(s,[A,A]));for(var C=[],R=[],O=[],F=0;F<b;F++){for(var z=F+1,B=c[F],$=c[F+1],j=B;j<$;j++){var W=l[j];R[W]=f[j],O[W]=z}for(var T=0;T<g;T++)F===0&&(C[T]=[]),O[T]===z?C[T][F]=u?I(o,R[T]):I(R[T],o):C[T][F]=u?I(o,0):I(0,o)}return new r({data:C,size:[g,b],datatype:A})}})});var x$t,_$t,or,Tn=te(()=>{w();_();Fe();dn();x$t="algorithm14",_$t=["typed"],or=ae(x$t,_$t,t=>{var{typed:e}=t;return function(a,o,s,u){var f=a._data,l=a._size,c=a._datatype,h,m=s;typeof c=="string"&&(h=c,o=e.convert(o,h),m=e.find(s,[h,h]));var g=l.length>0?r(m,0,l,l[0],f,o,u):[];return a.createDenseMatrix({data:g,size:tr(l),datatype:h})};function r(n,a,o,s,u,f,l){var c=[];if(a===o.length-1)for(var h=0;h<s;h++)c[h]=l?n(f,u[h]):n(u[h],f);else for(var m=0;m<s;m++)c[m]=r(n,a+1,o,o[a+1],u[m],f,l);return c}})});var INe,tj,S$t,E$t,rj,CNe=te(()=>{w();_();INe=Bt(Jk(),1);Fe();Zt();zr();cp();ko();so();Tn();tj="ceil",S$t=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],E$t=ae(tj,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;return e(tj,{number:function(o){return Oa(o,n(o),r.epsilon)?n(o):Math.ceil(o)},"number, number":function(o,s){if(Oa(o,n(o,s),r.epsilon))return n(o,s);var[u,f]="".concat(o,"e").split("e"),l=Math.ceil(Number("".concat(u,"e").concat(Number(f)+s)));return[u,f]="".concat(l,"e").split("e"),Number("".concat(u,"e").concat(Number(f)-s))}})}),rj=ae(tj,S$t,t=>{var{typed:e,config:r,round:n,matrix:a,equalScalar:o,zeros:s,DenseMatrix:u}=t,f=Bn({typed:e,equalScalar:o}),l=Sn({typed:e,DenseMatrix:u}),c=or({typed:e}),h=E$t({typed:e,config:r,round:n});return e("ceil",{number:h.signatures.number,"number,number":h.signatures["number,number"],Complex:function(g){return g.ceil()},"Complex, number":function(g,b){return g.ceil(b)},"Complex, BigNumber":function(g,b){return g.ceil(b.toNumber())},BigNumber:function(g){return Do(g,n(g),r.epsilon)?n(g):g.ceil()},"BigNumber, BigNumber":function(g,b){return Do(g,n(g,b),r.epsilon)?n(g,b):g.toDecimalPlaces(b.toNumber(),INe.default.ROUND_CEIL)},Fraction:function(g){return g.ceil()},"Fraction, number":function(g,b){return g.ceil(b)},"Fraction, BigNumber":function(g,b){return g.ceil(b.toNumber())},"Array | Matrix":function(g){return Et(g,this,!0)},"Array, number | BigNumber":function(g,b){return Et(g,A=>this(A,b),!0)},"SparseMatrix, number | BigNumber":function(g,b){return f(g,b,this,!1)},"DenseMatrix, number | BigNumber":function(g,b){return c(g,b,this,!1)},"number | Complex | Fraction | BigNumber, Array":function(g,b){return c(a(b),g,this,!0).valueOf()},"number | Complex | Fraction | BigNumber, Matrix":function(g,b){return o(g,0)?s(b.size(),b.storage()):b.storage()==="dense"?c(b,g,this,!0):l(b,g,this,!0)}})})});var ONe,M$t,nj,RNe=te(()=>{w();_();Fe();Zt();Sr();ONe="cube",M$t=["typed"],nj=ae(ONe,M$t,t=>{var{typed:e}=t;return e(ONe,{number:Rz,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},Fraction:function(n){return n.pow(3)},"Array | Matrix":function(n){return Et(n,this,!0)},Unit:function(n){return n.pow(3)}})})});var FNe,A$t,ij,BNe=te(()=>{w();_();Fe();Zt();Sr();FNe="exp",A$t=["typed"],ij=ae(FNe,A$t,t=>{var{typed:e}=t;return e(FNe,{number:Fz,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()},"Array | Matrix":function(n){return Et(n,this)}})})});var LNe,N$t,aj,PNe=te(()=>{w();_();Fe();Zt();Sr();LNe="expm1",N$t=["typed","Complex"],aj=ae(LNe,N$t,t=>{var{typed:e,Complex:r}=t;return e(LNe,{number:Bz,Complex:function(a){var o=Math.exp(a.re);return new r(o*Math.cos(a.im)-1,o*Math.sin(a.im))},BigNumber:function(a){return a.exp().minus(1)},"Array | Matrix":function(a){return Et(a,this)}})})});var oj,T$t,D$t,sj,qNe=te(()=>{w();_();Fe();Zt();so();Tn();oj="fix",T$t=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],D$t=ae(oj,["typed","ceil","floor"],t=>{var{typed:e,ceil:r,floor:n}=t;return e(oj,{number:function(o){return o>0?n(o):r(o)},"number, number":function(o,s){return o>0?n(o,s):r(o,s)}})}),sj=ae(oj,T$t,t=>{var{typed:e,Complex:r,matrix:n,ceil:a,floor:o,equalScalar:s,zeros:u,DenseMatrix:f}=t,l=Sn({typed:e,DenseMatrix:f}),c=or({typed:e}),h=D$t({typed:e,ceil:a,floor:o});return e("fix",{number:h.signatures.number,"number, number | BigNumber":h.signatures["number,number"],Complex:function(g){return new r(g.re>0?Math.floor(g.re):Math.ceil(g.re),g.im>0?Math.floor(g.im):Math.ceil(g.im))},"Complex, number":function(g,b){return new r(g.re>0?o(g.re,b):a(g.re,b),g.im>0?o(g.im,b):a(g.im,b))},"Complex, BigNumber":function(g,b){var A=b.toNumber();return new r(g.re>0?o(g.re,A):a(g.re,A),g.im>0?o(g.im,A):a(g.im,A))},BigNumber:function(g){return g.isNegative()?a(g):o(g)},"BigNumber, number | BigNumber":function(g,b){return g.isNegative()?a(g,b):o(g,b)},Fraction:function(g){return g.s<0?g.ceil():g.floor()},"Fraction, number | BigNumber":function(g,b){return g.s<0?a(g,b):o(g,b)},"Array | Matrix":function(g){return Et(g,this,!0)},"Array | Matrix, number | BigNumber":function(g,b){return Et(g,A=>this(A,b),!0)},"number | Complex | Fraction | BigNumber, Array":function(g,b){return c(n(b),g,this,!0).valueOf()},"number | Complex | Fraction | BigNumber, Matrix":function(g,b){return s(g,0)?u(b.size(),b.storage()):b.storage()==="dense"?c(b,g,this,!0):l(b,g,this,!0)}})})});var zNe,uj,k$t,I$t,fj,UNe=te(()=>{w();_();zNe=Bt(Jk(),1);Fe();Zt();zr();cp();ko();so();Tn();uj="floor",k$t=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],I$t=ae(uj,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;return e(uj,{number:function(o){return Oa(o,n(o),r.epsilon)?n(o):Math.floor(o)},"number, number":function(o,s){if(Oa(o,n(o,s),r.epsilon))return n(o,s);var[u,f]="".concat(o,"e").split("e"),l=Math.floor(Number("".concat(u,"e").concat(Number(f)+s)));return[u,f]="".concat(l,"e").split("e"),Number("".concat(u,"e").concat(Number(f)-s))}})}),fj=ae(uj,k$t,t=>{var{typed:e,config:r,round:n,matrix:a,equalScalar:o,zeros:s,DenseMatrix:u}=t,f=Bn({typed:e,equalScalar:o}),l=Sn({typed:e,DenseMatrix:u}),c=or({typed:e}),h=I$t({typed:e,config:r,round:n});return e("floor",{number:h.signatures.number,"number,number":h.signatures["number,number"],Complex:function(g){return g.floor()},"Complex, number":function(g,b){return g.floor(b)},"Complex, BigNumber":function(g,b){return g.floor(b.toNumber())},BigNumber:function(g){return Do(g,n(g),r.epsilon)?n(g):g.floor()},"BigNumber, BigNumber":function(g,b){return Do(g,n(g,b),r.epsilon)?n(g,b):g.toDecimalPlaces(b.toNumber(),zNe.default.ROUND_FLOOR)},Fraction:function(g){return g.floor()},"Fraction, number":function(g,b){return g.floor(b)},"Fraction, BigNumber":function(g,b){return g.floor(b.toNumber())},"Array | Matrix":function(g){return Et(g,this,!0)},"Array, number | BigNumber":function(g,b){return Et(g,A=>this(A,b),!0)},"SparseMatrix, number | BigNumber":function(g,b){return f(g,b,this,!1)},"DenseMatrix, number | BigNumber":function(g,b){return c(g,b,this,!1)},"number | Complex | Fraction | BigNumber, Array":function(g,b){return c(a(b),g,this,!0).valueOf()},"number | Complex | Fraction | BigNumber, Matrix":function(g,b){return o(g,0)?s(b.size(),b.storage()):b.storage()==="dense"?c(b,g,this,!0):l(b,g,this,!0)}})})});var C$t,O$t,cs,hp=te(()=>{w();_();Fe();To();C$t="algorithm01",O$t=["typed"],cs=ae(C$t,O$t,t=>{var{typed:e}=t;return function(n,a,o,s){var u=n._data,f=n._size,l=n._datatype,c=a._values,h=a._index,m=a._ptr,g=a._size,b=a._datatype;if(f.length!==g.length)throw new br(f.length,g.length);if(f[0]!==g[0]||f[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+g+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var A=f[0],I=f[1],C=typeof l=="string"&&l===b?l:void 0,R=C?e.find(o,[C,C]):o,O,F,z=[];for(O=0;O<A;O++)z[O]=[];var B=[],$=[];for(F=0;F<I;F++){for(var j=F+1,W=m[F],T=m[F+1],p=W;p<T;p++)O=h[p],B[O]=s?R(c[p],u[O][F]):R(u[O][F],c[p]),$[O]=j;for(O=0;O<A;O++)$[O]===j?z[O][F]=B[O]:z[O][F]=u[O][F]}return n.createDenseMatrix({data:z,size:[A,I],datatype:C})}})});var R$t,F$t,bw,nI=te(()=>{w();_();Fe();To();R$t="algorithm04",F$t=["typed","equalScalar"],bw=ae(R$t,F$t,t=>{var{typed:e,equalScalar:r}=t;return function(a,o,s){var u=a._values,f=a._index,l=a._ptr,c=a._size,h=a._datatype,m=o._values,g=o._index,b=o._ptr,A=o._size,I=o._datatype;if(c.length!==A.length)throw new br(c.length,A.length);if(c[0]!==A[0]||c[1]!==A[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+A+")");var C=c[0],R=c[1],O,F=r,z=0,B=s;typeof h=="string"&&h===I&&(O=h,F=e.find(r,[O,O]),z=e.convert(0,O),B=e.find(s,[O,O]));var $=u&&m?[]:void 0,j=[],W=[],T=u&&m?[]:void 0,p=u&&m?[]:void 0,v=[],S=[],y,M,D,k,E;for(M=0;M<R;M++){W[M]=j.length;var d=M+1;for(k=l[M],E=l[M+1],D=k;D<E;D++)y=f[D],j.push(y),v[y]=d,T&&(T[y]=u[D]);for(k=b[M],E=b[M+1],D=k;D<E;D++)if(y=g[D],v[y]===d){if(T){var N=B(T[y],m[D]);F(N,z)?v[y]=null:T[y]=N}}else j.push(y),S[y]=d,p&&(p[y]=m[D]);if(T&&p)for(D=W[M];D<j.length;)y=j[D],v[y]===d?($[D]=T[y],D++):S[y]===d?($[D]=p[y],D++):j.splice(D,1)}return W[R]=j.length,a.createSparseMatrix({values:$,index:j,ptr:W,size:[C,R],datatype:O})}})});var B$t,L$t,tu,Gd=te(()=>{w();_();Fe();B$t="algorithm10",L$t=["typed","DenseMatrix"],tu=ae(B$t,L$t,t=>{var{typed:e,DenseMatrix:r}=t;return function(a,o,s,u){var f=a._values,l=a._index,c=a._ptr,h=a._size,m=a._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var g=h[0],b=h[1],A,I=s;typeof m=="string"&&(A=m,o=e.convert(o,A),I=e.find(s,[A,A]));for(var C=[],R=[],O=[],F=0;F<b;F++){for(var z=F+1,B=c[F],$=c[F+1],j=B;j<$;j++){var W=l[j];R[W]=f[j],O[W]=z}for(var T=0;T<g;T++)F===0&&(C[T]=[]),O[T]===z?C[T][F]=u?I(o,R[T]):I(R[T],o):C[T][F]=o}return new r({data:C,size:[g,b],datatype:A})}})});var P$t,q$t,Er,di=te(()=>{w();_();Fe();To();P$t="algorithm13",q$t=["typed"],Er=ae(P$t,q$t,t=>{var{typed:e}=t;return function(a,o,s){var u=a._data,f=a._size,l=a._datatype,c=o._data,h=o._size,m=o._datatype,g=[];if(f.length!==h.length)throw new br(f.length,h.length);for(var b=0;b<f.length;b++){if(f[b]!==h[b])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+h+")");g[b]=f[b]}var A,I=s;typeof l=="string"&&l===m&&(A=l,I=e.find(s,[A,A]));var C=g.length>0?r(I,0,g,g[0],u,c):[];return a.createDenseMatrix({data:C,size:g,datatype:A})};function r(n,a,o,s,u,f){var l=[];if(a===o.length-1)for(var c=0;c<s;c++)l[c]=n(u[c],f[c]);else for(var h=0;h<s;h++)l[h]=r(n,a+1,o,o[a+1],u[h],f[h]);return l}})});var jNe,z$t,lj,$Ne=te(()=>{w();_();Fe();hp();nI();Gd();di();Tn();Sr();jNe="gcd",z$t=["typed","matrix","equalScalar","BigNumber","DenseMatrix"],lj=ae(jNe,z$t,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:a,DenseMatrix:o}=t,s=cs({typed:e}),u=bw({typed:e,equalScalar:n}),f=tu({typed:e,DenseMatrix:o}),l=Er({typed:e}),c=or({typed:e});return e(jNe,{"number, number":Lz,"BigNumber, BigNumber":h,"Fraction, Fraction":function(g,b){return g.gcd(b)},"SparseMatrix, SparseMatrix":function(g,b){return u(g,b,this)},"SparseMatrix, DenseMatrix":function(g,b){return s(b,g,this,!0)},"DenseMatrix, SparseMatrix":function(g,b){return s(g,b,this,!1)},"DenseMatrix, DenseMatrix":function(g,b){return l(g,b,this)},"Array, Array":function(g,b){return this(r(g),r(b)).valueOf()},"Array, Matrix":function(g,b){return this(r(g),b)},"Matrix, Array":function(g,b){return this(g,r(b))},"SparseMatrix, number | BigNumber":function(g,b){return f(g,b,this,!1)},"DenseMatrix, number | BigNumber":function(g,b){return c(g,b,this,!1)},"number | BigNumber, SparseMatrix":function(g,b){return f(b,g,this,!0)},"number | BigNumber, DenseMatrix":function(g,b){return c(b,g,this,!0)},"Array, number | BigNumber":function(g,b){return c(r(g),b,this,!1).valueOf()},"number | BigNumber, Array":function(g,b){return c(r(b),g,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(g,b,A){for(var I=this(g,b),C=0;C<A.length;C++)I=this(I,A[C]);return I}});function h(m,g){if(!m.isInt()||!g.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var b=new a(0);!g.isZero();){var A=m.mod(g);m=g,g=A}return m.lt(b)?m.neg():m}})});var U$t,j$t,Ra,Zf=te(()=>{w();_();Fe();To();U$t="algorithm02",j$t=["typed","equalScalar"],Ra=ae(U$t,j$t,t=>{var{typed:e,equalScalar:r}=t;return function(a,o,s,u){var f=a._data,l=a._size,c=a._datatype,h=o._values,m=o._index,g=o._ptr,b=o._size,A=o._datatype;if(l.length!==b.length)throw new br(l.length,b.length);if(l[0]!==b[0]||l[1]!==b[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+b+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var I=l[0],C=l[1],R,O=r,F=0,z=s;typeof c=="string"&&c===A&&(R=c,O=e.find(r,[R,R]),F=e.convert(0,R),z=e.find(s,[R,R]));for(var B=[],$=[],j=[],W=0;W<C;W++){j[W]=$.length;for(var T=g[W],p=g[W+1],v=T;v<p;v++){var S=m[v],y=u?z(h[v],f[S][W]):z(f[S][W],h[v]);O(y,F)||($.push(S),B.push(y))}}return j[C]=$.length,o.createSparseMatrix({values:B,index:$,ptr:j,size:[I,C],datatype:R})}})});var $$t,V$t,Hd,vE=te(()=>{w();_();Fe();To();Zt();$$t="algorithm06",V$t=["typed","equalScalar"],Hd=ae($$t,V$t,t=>{var{typed:e,equalScalar:r}=t;return function(a,o,s){var u=a._values,f=a._size,l=a._datatype,c=o._values,h=o._size,m=o._datatype;if(f.length!==h.length)throw new br(f.length,h.length);if(f[0]!==h[0]||f[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+h+")");var g=f[0],b=f[1],A,I=r,C=0,R=s;typeof l=="string"&&l===m&&(A=l,I=e.find(r,[A,A]),C=e.convert(0,A),R=e.find(s,[A,A]));for(var O=u&&c?[]:void 0,F=[],z=[],B=O?[]:void 0,$=[],j=[],W=0;W<b;W++){z[W]=F.length;var T=W+1;if(Nz(a,W,$,B,j,T,F,R),Nz(o,W,$,B,j,T,F,R),B)for(var p=z[W];p<F.length;){var v=F[p];if(j[v]===T){var S=B[v];I(S,C)?F.splice(p,1):(O.push(S),p++)}else F.splice(p,1)}else for(var y=z[W];y<F.length;){var M=F[y];j[M]!==T?F.splice(y,1):y++}}return z[b]=F.length,a.createSparseMatrix({values:O,index:F,ptr:z,size:[g,b],datatype:A})}})});var VNe,W$t,cj,WNe=te(()=>{w();_();Fe();Zf();vE();ko();di();Tn();Sr();VNe="lcm",W$t=["typed","matrix","equalScalar"],cj=ae(VNe,W$t,t=>{var{typed:e,matrix:r,equalScalar:n}=t,a=Ra({typed:e,equalScalar:n}),o=Hd({typed:e,equalScalar:n}),s=Bn({typed:e,equalScalar:n}),u=Er({typed:e}),f=or({typed:e});return e(VNe,{"number, number":Pz,"BigNumber, BigNumber":l,"Fraction, Fraction":function(h,m){return h.lcm(m)},"SparseMatrix, SparseMatrix":function(h,m){return o(h,m,this)},"SparseMatrix, DenseMatrix":function(h,m){return a(m,h,this,!0)},"DenseMatrix, SparseMatrix":function(h,m){return a(h,m,this,!1)},"DenseMatrix, DenseMatrix":function(h,m){return u(h,m,this)},"Array, Array":function(h,m){return this(r(h),r(m)).valueOf()},"Array, Matrix":function(h,m){return this(r(h),m)},"Matrix, Array":function(h,m){return this(h,r(m))},"SparseMatrix, number | BigNumber":function(h,m){return s(h,m,this,!1)},"DenseMatrix, number | BigNumber":function(h,m){return f(h,m,this,!1)},"number | BigNumber, SparseMatrix":function(h,m){return s(m,h,this,!0)},"number | BigNumber, DenseMatrix":function(h,m){return f(m,h,this,!0)},"Array, number | BigNumber":function(h,m){return f(r(h),m,this,!1).valueOf()},"number | BigNumber, Array":function(h,m){return f(r(m),h,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(h,m,g){for(var b=this(h,m),A=0;A<g.length;A++)b=this(b,g[A]);return b}});function l(c,h){if(!c.isInt()||!h.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(c.isZero())return c;if(h.isZero())return h;for(var m=c.times(h);!h.isZero();){var g=h;h=c.mod(g),c=g}return m.div(c).abs()}})});var GNe,G$t,hj,HNe=te(()=>{w();_();Fe();Zt();Sr();GNe="log10",G$t=["typed","config","Complex"],hj=ae(GNe,G$t,t=>{var{typed:e,config:r,Complex:n}=t;return e(GNe,{number:function(o){return o>=0||r.predictable?qz(o):new n(o,0).log().div(Math.LN10)},Complex:function(o){return new n(o).log().div(Math.LN10)},BigNumber:function(o){return!o.isNegative()||r.predictable?o.log():new n(o.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(o){return Et(o,this)}})})});var KNe,H$t,pj,ZNe=te(()=>{w();_();Fe();Zt();Sr();KNe="log2",H$t=["typed","config","Complex"],pj=ae(KNe,H$t,t=>{var{typed:e,config:r,Complex:n}=t;return e(KNe,{number:function(s){return s>=0||r.predictable?zz(s):a(new n(s,0))},Complex:a,BigNumber:function(s){return!s.isNegative()||r.predictable?s.log(2):a(new n(s.toNumber(),0))},"Array | Matrix":function(s){return Et(s,this)}});function a(o){var s=Math.sqrt(o.re*o.re+o.im*o.im);return new n(Math.log2?Math.log2(s):Math.log(s)/Math.LN2,Math.atan2(o.im,o.re)/Math.LN2)}})});var K$t,Z$t,ai,hs=te(()=>{w();_();Fe();To();K$t="algorithm03",Z$t=["typed"],ai=ae(K$t,Z$t,t=>{var{typed:e}=t;return function(n,a,o,s){var u=n._data,f=n._size,l=n._datatype,c=a._values,h=a._index,m=a._ptr,g=a._size,b=a._datatype;if(f.length!==g.length)throw new br(f.length,g.length);if(f[0]!==g[0]||f[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+g+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var A=f[0],I=f[1],C,R=0,O=o;typeof l=="string"&&l===b&&(C=l,R=e.convert(0,C),O=e.find(o,[C,C]));for(var F=[],z=0;z<A;z++)F[z]=[];for(var B=[],$=[],j=0;j<I;j++){for(var W=j+1,T=m[j],p=m[j+1],v=T;v<p;v++){var S=h[v];B[S]=s?O(c[v],u[S][j]):O(u[S][j],c[v]),$[S]=W}for(var y=0;y<A;y++)$[y]===W?F[y][j]=B[y]:F[y][j]=s?O(R,u[y][j]):O(u[y][j],R)}return n.createDenseMatrix({data:F,size:[A,I],datatype:C})}})});var J$t,Y$t,Kd,gE=te(()=>{w();_();Fe();To();J$t="algorithm05",Y$t=["typed","equalScalar"],Kd=ae(J$t,Y$t,t=>{var{typed:e,equalScalar:r}=t;return function(a,o,s){var u=a._values,f=a._index,l=a._ptr,c=a._size,h=a._datatype,m=o._values,g=o._index,b=o._ptr,A=o._size,I=o._datatype;if(c.length!==A.length)throw new br(c.length,A.length);if(c[0]!==A[0]||c[1]!==A[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+A+")");var C=c[0],R=c[1],O,F=r,z=0,B=s;typeof h=="string"&&h===I&&(O=h,F=e.find(r,[O,O]),z=e.convert(0,O),B=e.find(s,[O,O]));var $=u&&m?[]:void 0,j=[],W=[],T=$?[]:void 0,p=$?[]:void 0,v=[],S=[],y,M,D,k;for(M=0;M<R;M++){W[M]=j.length;var E=M+1;for(D=l[M],k=l[M+1];D<k;D++)y=f[D],j.push(y),v[y]=E,T&&(T[y]=u[D]);for(D=b[M],k=b[M+1];D<k;D++)y=g[D],v[y]!==E&&j.push(y),S[y]=E,p&&(p[y]=m[D]);if($)for(D=W[M];D<j.length;){y=j[D];var d=v[y],N=S[y];if(d===E||N===E){var U=d===E?T[y]:z,q=N===E?p[y]:z,P=B(U,q);F(P,z)?j.splice(D,1):($.push(P),D++)}}}return W[R]=j.length,a.createSparseMatrix({values:$,index:j,ptr:W,size:[C,R],datatype:O})}})});var JNe,X$t,dj,YNe=te(()=>{w();_();Fe();Zf();hs();gE();ko();so();di();Tn();Sr();JNe="mod",X$t=["typed","matrix","equalScalar","DenseMatrix"],dj=ae(JNe,X$t,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:a}=t,o=Ra({typed:e,equalScalar:n}),s=ai({typed:e}),u=Kd({typed:e,equalScalar:n}),f=Bn({typed:e,equalScalar:n}),l=Sn({typed:e,DenseMatrix:a}),c=Er({typed:e}),h=or({typed:e});return e(JNe,{"number, number":Uz,"BigNumber, BigNumber":function(g,b){if(b.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return b.isZero()?g:g.mod(b)},"Fraction, Fraction":function(g,b){if(b.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return g.compare(0)>=0?g.mod(b):g.mod(b).add(b).mod(b)},"SparseMatrix, SparseMatrix":function(g,b){return u(g,b,this,!1)},"SparseMatrix, DenseMatrix":function(g,b){return o(b,g,this,!0)},"DenseMatrix, SparseMatrix":function(g,b){return s(g,b,this,!1)},"DenseMatrix, DenseMatrix":function(g,b){return c(g,b,this)},"Array, Array":function(g,b){return this(r(g),r(b)).valueOf()},"Array, Matrix":function(g,b){return this(r(g),b)},"Matrix, Array":function(g,b){return this(g,r(b))},"SparseMatrix, any":function(g,b){return f(g,b,this,!1)},"DenseMatrix, any":function(g,b){return h(g,b,this,!1)},"any, SparseMatrix":function(g,b){return l(b,g,this,!0)},"any, DenseMatrix":function(g,b){return h(b,g,this,!0)},"Array, any":function(g,b){return h(r(g),b,this,!1).valueOf()},"any, Array":function(g,b){return h(r(b),g,this,!0).valueOf()}})})});var Q$t,eVt,mj,XNe=te(()=>{w();_();Fe();Sr();Q$t="multiplyScalar",eVt=["typed"],mj=ae(Q$t,eVt,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":Iz,"Complex, Complex":function(n,a){return n.mul(a)},"BigNumber, BigNumber":function(n,a){return n.times(a)},"Fraction, Fraction":function(n,a){return n.mul(a)},"number | Fraction | BigNumber | Complex, Unit":function(n,a){var o=a.clone();return o.value=o.value===null?o._normalize(n):this(o.value,n),o},"Unit, number | Fraction | BigNumber | Complex":function(n,a){var o=n.clone();return o.value=o.value===null?o._normalize(a):this(o.value,a),o},"Unit, Unit":function(n,a){return n.multiply(a)}})})});var QNe,tVt,vj,eTe=te(()=>{w();_();Fe();zt();dn();wr();ko();Tn();QNe="multiply",tVt=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],vj=ae(QNe,tVt,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:a,equalScalar:o,dot:s}=t,u=Bn({typed:e,equalScalar:o}),f=or({typed:e});function l(z,B){switch(z.length){case 1:switch(B.length){case 1:if(z[0]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(z[0]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+z[0]+") must match Matrix rows ("+B[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+B.length+" dimensions)")}break;case 2:switch(B.length){case 1:if(z[1]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+z[1]+") must match Vector length ("+B[0]+")");break;case 2:if(z[1]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+z[1]+") must match Matrix B rows ("+B[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+B.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+z.length+" dimensions)")}}function c(z,B,$){if($===0)throw new Error("Cannot multiply two empty vectors");return s(z,B)}function h(z,B){if(B.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return m(z,B)}function m(z,B){var $=z._data,j=z._size,W=z._datatype,T=B._data,p=B._size,v=B._datatype,S=j[0],y=p[1],M,D=n,k=a;W&&v&&W===v&&typeof W=="string"&&(M=W,D=e.find(n,[M,M]),k=e.find(a,[M,M]));for(var E=[],d=0;d<y;d++){for(var N=k($[0],T[0][d]),U=1;U<S;U++)N=D(N,k($[U],T[U][d]));E[d]=N}return z.createDenseMatrix({data:E,size:[y],datatype:M})}var g=e("_multiplyMatrixVector",{"DenseMatrix, any":A,"SparseMatrix, any":R}),b=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":I,"DenseMatrix, SparseMatrix":C,"SparseMatrix, DenseMatrix":O,"SparseMatrix, SparseMatrix":F});function A(z,B){var $=z._data,j=z._size,W=z._datatype,T=B._data,p=B._datatype,v=j[0],S=j[1],y,M=n,D=a;W&&p&&W===p&&typeof W=="string"&&(y=W,M=e.find(n,[y,y]),D=e.find(a,[y,y]));for(var k=[],E=0;E<v;E++){for(var d=$[E],N=D(d[0],T[0]),U=1;U<S;U++)N=M(N,D(d[U],T[U]));k[E]=N}return z.createDenseMatrix({data:k,size:[v],datatype:y})}function I(z,B){var $=z._data,j=z._size,W=z._datatype,T=B._data,p=B._size,v=B._datatype,S=j[0],y=j[1],M=p[1],D,k=n,E=a;W&&v&&W===v&&typeof W=="string"&&(D=W,k=e.find(n,[D,D]),E=e.find(a,[D,D]));for(var d=[],N=0;N<S;N++){var U=$[N];d[N]=[];for(var q=0;q<M;q++){for(var P=E(U[0],T[0][q]),G=1;G<y;G++)P=k(P,E(U[G],T[G][q]));d[N][q]=P}}return z.createDenseMatrix({data:d,size:[S,M],datatype:D})}function C(z,B){var $=z._data,j=z._size,W=z._datatype,T=B._values,p=B._index,v=B._ptr,S=B._size,y=B._datatype;if(!T)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var M=j[0],D=S[1],k,E=n,d=a,N=o,U=0;W&&y&&W===y&&typeof W=="string"&&(k=W,E=e.find(n,[k,k]),d=e.find(a,[k,k]),N=e.find(o,[k,k]),U=e.convert(0,k));for(var q=[],P=[],G=[],Z=B.createSparseMatrix({values:q,index:P,ptr:G,size:[M,D],datatype:k}),X=0;X<D;X++){G[X]=P.length;var he=v[X],V=v[X+1];if(V>he)for(var K=0,ne=0;ne<M;ne++){for(var fe=ne+1,pe=void 0,Ie=he;Ie<V;Ie++){var ke=p[Ie];K!==fe?(pe=d($[ne][ke],T[Ie]),K=fe):pe=E(pe,d($[ne][ke],T[Ie]))}K===fe&&!N(pe,U)&&(P.push(ne),q.push(pe))}}return G[D]=P.length,Z}function R(z,B){var $=z._values,j=z._index,W=z._ptr,T=z._datatype;if(!$)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var p=B._data,v=B._datatype,S=z._size[0],y=B._size[0],M=[],D=[],k=[],E,d=n,N=a,U=o,q=0;T&&v&&T===v&&typeof T=="string"&&(E=T,d=e.find(n,[E,E]),N=e.find(a,[E,E]),U=e.find(o,[E,E]),q=e.convert(0,E));var P=[],G=[];k[0]=0;for(var Z=0;Z<y;Z++){var X=p[Z];if(!U(X,q))for(var he=W[Z],V=W[Z+1],K=he;K<V;K++){var ne=j[K];G[ne]?P[ne]=d(P[ne],N(X,$[K])):(G[ne]=!0,D.push(ne),P[ne]=N(X,$[K]))}}for(var fe=D.length,pe=0;pe<fe;pe++){var Ie=D[pe];M[pe]=P[Ie]}return k[1]=D.length,z.createSparseMatrix({values:M,index:D,ptr:k,size:[S,1],datatype:E})}function O(z,B){var $=z._values,j=z._index,W=z._ptr,T=z._datatype;if(!$)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var p=B._data,v=B._datatype,S=z._size[0],y=B._size[0],M=B._size[1],D,k=n,E=a,d=o,N=0;T&&v&&T===v&&typeof T=="string"&&(D=T,k=e.find(n,[D,D]),E=e.find(a,[D,D]),d=e.find(o,[D,D]),N=e.convert(0,D));for(var U=[],q=[],P=[],G=z.createSparseMatrix({values:U,index:q,ptr:P,size:[S,M],datatype:D}),Z=[],X=[],he=0;he<M;he++){P[he]=q.length;for(var V=he+1,K=0;K<y;K++){var ne=p[K][he];if(!d(ne,N))for(var fe=W[K],pe=W[K+1],Ie=fe;Ie<pe;Ie++){var ke=j[Ie];X[ke]!==V?(X[ke]=V,q.push(ke),Z[ke]=E(ne,$[Ie])):Z[ke]=k(Z[ke],E(ne,$[Ie]))}}for(var ue=P[he],xe=q.length,ge=ue;ge<xe;ge++){var Q=q[ge];U[ge]=Z[Q]}}return P[M]=q.length,G}function F(z,B){var $=z._values,j=z._index,W=z._ptr,T=z._datatype,p=B._values,v=B._index,S=B._ptr,y=B._datatype,M=z._size[0],D=B._size[1],k=$&&p,E,d=n,N=a;T&&y&&T===y&&typeof T=="string"&&(E=T,d=e.find(n,[E,E]),N=e.find(a,[E,E]));for(var U=k?[]:void 0,q=[],P=[],G=z.createSparseMatrix({values:U,index:q,ptr:P,size:[M,D],datatype:E}),Z=k?[]:void 0,X=[],he,V,K,ne,fe,pe,Ie,ke,ue=0;ue<D;ue++){P[ue]=q.length;var xe=ue+1;for(fe=S[ue],pe=S[ue+1],ne=fe;ne<pe;ne++)if(ke=v[ne],k)for(V=W[ke],K=W[ke+1],he=V;he<K;he++)Ie=j[he],X[Ie]!==xe?(X[Ie]=xe,q.push(Ie),Z[Ie]=N(p[ne],$[he])):Z[Ie]=d(Z[Ie],N(p[ne],$[he]));else for(V=W[ke],K=W[ke+1],he=V;he<K;he++)Ie=j[he],X[Ie]!==xe&&(X[Ie]=xe,q.push(Ie));if(k)for(var ge=P[ue],Q=q.length,_e=ge;_e<Q;_e++){var ve=q[_e];U[_e]=Z[ve]}}return P[D]=q.length,G}return e(QNe,lw({"Array, Array":function(B,$){l(vr(B),vr($));var j=this(r(B),r($));return Kt(j)?j.valueOf():j},"Matrix, Matrix":function(B,$){var j=B.size(),W=$.size();return l(j,W),j.length===1?W.length===1?c(B,$,j[0]):h(B,$):W.length===1?g(B,$):b(B,$)},"Matrix, Array":function(B,$){return this(B,r($))},"Array, Matrix":function(B,$){return this(r(B,$.storage()),$)},"SparseMatrix, any":function(B,$){return u(B,$,a,!1)},"DenseMatrix, any":function(B,$){return f(B,$,a,!1)},"any, SparseMatrix":function(B,$){return u($,B,a,!0)},"any, DenseMatrix":function(B,$){return f($,B,a,!0)},"Array, any":function(B,$){return f(r(B),$,a,!1).valueOf()},"any, Array":function(B,$){return f(r($),B,a,!0).valueOf()},"any, any":a,"any, any, ...any":function(B,$,j){for(var W=this(B,$),T=0;T<j.length;T++)W=this(W,j[T]);return W}},a.signatures))})});var tTe,rVt,gj,rTe=te(()=>{w();_();Fe();hp();Zf();vE();ko();di();Tn();Sr();tTe="nthRoot",rVt=["typed","matrix","equalScalar","BigNumber"],gj=ae(tTe,rVt,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:a}=t,o=cs({typed:e}),s=Ra({typed:e,equalScalar:n}),u=Hd({typed:e,equalScalar:n}),f=Bn({typed:e,equalScalar:n}),l=Er({typed:e}),c=or({typed:e}),h="Complex number not supported in function nthRoot. Use nthRoots instead.";return e(tTe,{number:jz,"number, number":jz,BigNumber:function(b){return m(b,new a(2))},Complex:function(b){throw new Error(h)},"Complex, number":function(b,A){throw new Error(h)},"BigNumber, BigNumber":m,"Array | Matrix":function(b){return this(b,2)},"SparseMatrix, SparseMatrix":function(b,A){if(A.density()===1)return u(b,A,this);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(b,A){return s(A,b,this,!0)},"DenseMatrix, SparseMatrix":function(b,A){if(A.density()===1)return o(b,A,this,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(b,A){return l(b,A,this)},"Array, Array":function(b,A){return this(r(b),r(A)).valueOf()},"Array, Matrix":function(b,A){return this(r(b),A)},"Matrix, Array":function(b,A){return this(b,r(A))},"SparseMatrix, number | BigNumber":function(b,A){return f(b,A,this,!1)},"DenseMatrix, number | BigNumber":function(b,A){return c(b,A,this,!1)},"number | BigNumber, SparseMatrix":function(b,A){if(A.density()===1)return f(A,b,this,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(b,A){return c(A,b,this,!0)},"Array, number | BigNumber":function(b,A){return this(r(b),A).valueOf()},"number | BigNumber, Array":function(b,A){return this(b,r(A)).valueOf()}});function m(g,b){var A=a.precision,I=a.clone({precision:A+2}),C=new a(0),R=new I(1),O=b.isNegative();if(O&&(b=b.neg()),b.isZero())throw new Error("Root must be non-zero");if(g.isNegative()&&!b.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(g.isZero())return O?new I(1/0):0;if(!g.isFinite())return O?C:g;var F=g.abs().pow(R.div(b));return F=g.isNeg()?F.neg():F,new a((O?R.div(F):F).toPrecision(A))}})});var nTe,nVt,yj,iTe=te(()=>{w();_();Fe();Zt();Sr();nTe="sign",nVt=["typed","BigNumber","Fraction","complex"],yj=ae(nTe,nVt,t=>{var{typed:e,BigNumber:r,complex:n,Fraction:a}=t;return e(nTe,{number:Qk,Complex:function(s){return s.im===0?n(Qk(s.re)):s.sign()},BigNumber:function(s){return new r(s.cmp(0))},Fraction:function(s){return new a(s.s,1)},"Array | Matrix":function(s){return Et(s,this,!0)},Unit:function(s){if(!s._isDerived()&&s.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return this(s.value)}})})});var iVt,aVt,bj,aTe=te(()=>{w();_();Fe();Zt();iVt="sqrt",aVt=["config","typed","Complex"],bj=ae(iVt,aVt,t=>{var{config:e,typed:r,Complex:n}=t;return r("sqrt",{number:a,Complex:function(s){return s.sqrt()},BigNumber:function(s){return!s.isNegative()||e.predictable?s.sqrt():a(s.toNumber())},"Array | Matrix":function(s){return Et(s,this,!0)},Unit:function(s){return s.pow(.5)}});function a(o){return isNaN(o)?NaN:o>=0||e.predictable?Math.sqrt(o):new n(o,0).sqrt()}})});var oTe,oVt,wj,sTe=te(()=>{w();_();Fe();Zt();Sr();oTe="square",oVt=["typed"],wj=ae(oTe,oVt,t=>{var{typed:e}=t;return e(oTe,{number:$z,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},Fraction:function(n){return n.mul(n)},"Array | Matrix":function(n){return Et(n,this,!0)},Unit:function(n){return n.pow(2)}})})});function iI(t,e){var r=t.size(),n=e.size();if(r.length!==n.length)throw new br(r.length,n.length)}var uTe,sVt,xj,fTe=te(()=>{w();_();Fe();To();hp();hs();gE();Gd();di();Tn();uTe="subtract",sVt=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],xj=ae(uTe,sVt,t=>{var{typed:e,matrix:r,equalScalar:n,addScalar:a,unaryMinus:o,DenseMatrix:s}=t,u=cs({typed:e}),f=ai({typed:e}),l=Kd({typed:e,equalScalar:n}),c=tu({typed:e,DenseMatrix:s}),h=Er({typed:e}),m=or({typed:e});return e(uTe,{"number, number":function(b,A){return b-A},"Complex, Complex":function(b,A){return b.sub(A)},"BigNumber, BigNumber":function(b,A){return b.minus(A)},"Fraction, Fraction":function(b,A){return b.sub(A)},"Unit, Unit":function(b,A){if(b.value===null)throw new Error("Parameter x contains a unit with undefined value");if(A.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!b.equalBase(A))throw new Error("Units do not match");var I=b.clone();return I.value=this(I.value,A.value),I.fixPrefix=!1,I},"SparseMatrix, SparseMatrix":function(b,A){return iI(b,A),l(b,A,this)},"SparseMatrix, DenseMatrix":function(b,A){return iI(b,A),f(A,b,this,!0)},"DenseMatrix, SparseMatrix":function(b,A){return iI(b,A),u(b,A,this,!1)},"DenseMatrix, DenseMatrix":function(b,A){return iI(b,A),h(b,A,this)},"Array, Array":function(b,A){return this(r(b),r(A)).valueOf()},"Array, Matrix":function(b,A){return this(r(b),A)},"Matrix, Array":function(b,A){return this(b,r(A))},"SparseMatrix, any":function(b,A){return c(b,o(A),a)},"DenseMatrix, any":function(b,A){return m(b,A,this)},"any, SparseMatrix":function(b,A){return c(A,b,this,!0)},"any, DenseMatrix":function(b,A){return m(A,b,this,!0)},"Array, any":function(b,A){return m(r(b),A,this,!1).valueOf()},"any, Array":function(b,A){return m(r(A),b,this,!0).valueOf()}})})});var lTe,uVt,_j,cTe=te(()=>{w();_();Fe();Sr();lTe="xgcd",uVt=["typed","config","matrix","BigNumber"],_j=ae(lTe,uVt,t=>{var{typed:e,config:r,matrix:n,BigNumber:a}=t;return e(lTe,{"number, number":function(u,f){var l=Vz(u,f);return r.matrix==="Array"?l:n(l)},"BigNumber, BigNumber":o});function o(s,u){var f,l,c,h=new a(0),m=new a(1),g=h,b=m,A=m,I=h;if(!s.isInt()||!u.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!u.isZero();)l=s.div(u).floor(),c=s.mod(u),f=g,g=b.minus(l.times(g)),b=f,f=A,A=I.minus(l.times(A)),I=f,s=u,u=c;var C;return s.lt(h)?C=[s.neg(),b.neg(),I.neg()]:C=[s,s.isZero()?0:b,I],r.matrix==="Array"?C:n(C)}})});var hTe,fVt,Sj,pTe=te(()=>{w();_();Fe();hTe="invmod",fVt=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],Sj=ae(hTe,fVt,t=>{var{typed:e,config:r,BigNumber:n,xgcd:a,equal:o,smaller:s,mod:u,add:f,isInteger:l}=t;return e(hTe,{"number, number":c,"BigNumber, BigNumber":c});function c(h,m){if(!l(h)||!l(m))throw new Error("Parameters in function invmod must be integer numbers");if(h=u(h,m),o(m,0))throw new Error("Divisor must be non zero");var g=a(h,m);g=g.valueOf();var[b,A]=g;return o(b,n(1))?(A=u(A,m),s(A,n(0))&&(A=f(A,m)),A):NaN}})});var lVt,cVt,aI,Ej=te(()=>{w();_();Fe();To();lVt="algorithm09",cVt=["typed","equalScalar"],aI=ae(lVt,cVt,t=>{var{typed:e,equalScalar:r}=t;return function(a,o,s){var u=a._values,f=a._index,l=a._ptr,c=a._size,h=a._datatype,m=o._values,g=o._index,b=o._ptr,A=o._size,I=o._datatype;if(c.length!==A.length)throw new br(c.length,A.length);if(c[0]!==A[0]||c[1]!==A[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+A+")");var C=c[0],R=c[1],O,F=r,z=0,B=s;typeof h=="string"&&h===I&&(O=h,F=e.find(r,[O,O]),z=e.convert(0,O),B=e.find(s,[O,O]));var $=u&&m?[]:void 0,j=[],W=[],T=$?[]:void 0,p=[],v,S,y,M,D;for(S=0;S<R;S++){W[S]=j.length;var k=S+1;if(T)for(M=b[S],D=b[S+1],y=M;y<D;y++)v=g[y],p[v]=k,T[v]=m[y];for(M=l[S],D=l[S+1],y=M;y<D;y++)if(v=f[y],T){var E=p[v]===k?T[v]:z,d=B(u[y],E);F(d,z)||(j.push(v),$.push(d))}else j.push(v)}return W[R]=j.length,a.createSparseMatrix({values:$,index:j,ptr:W,size:[C,R],datatype:O})}})});var dTe,hVt,Mj,mTe=te(()=>{w();_();Fe();Zf();Ej();ko();di();Tn();dTe="dotMultiply",hVt=["typed","matrix","equalScalar","multiplyScalar"],Mj=ae(dTe,hVt,t=>{var{typed:e,matrix:r,equalScalar:n,multiplyScalar:a}=t,o=Ra({typed:e,equalScalar:n}),s=aI({typed:e,equalScalar:n}),u=Bn({typed:e,equalScalar:n}),f=Er({typed:e}),l=or({typed:e});return e(dTe,{"any, any":a,"SparseMatrix, SparseMatrix":function(h,m){return s(h,m,a,!1)},"SparseMatrix, DenseMatrix":function(h,m){return o(m,h,a,!0)},"DenseMatrix, SparseMatrix":function(h,m){return o(h,m,a,!1)},"DenseMatrix, DenseMatrix":function(h,m){return f(h,m,a)},"Array, Array":function(h,m){return this(r(h),r(m)).valueOf()},"Array, Matrix":function(h,m){return this(r(h),m)},"Matrix, Array":function(h,m){return this(h,r(m))},"SparseMatrix, any":function(h,m){return u(h,m,a,!1)},"DenseMatrix, any":function(h,m){return l(h,m,a,!1)},"any, SparseMatrix":function(h,m){return u(m,h,a,!0)},"any, DenseMatrix":function(h,m){return l(m,h,a,!0)},"Array, any":function(h,m){return l(r(h),m,a,!1).valueOf()},"any, Array":function(h,m){return l(r(m),h,a,!0).valueOf()}})})});function vTe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()===e.isNegative()?t:new r(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t}return Aj(t,e,function(n,a){return n&a})}function ww(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,r=e.precision;e.config({precision:1e9});var n=t.plus(new e(1));return n.s=-n.s||null,e.config({precision:r}),n}function gTe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);var n=new r(-1);return t.isZero()||e.eq(n)||t.eq(e)?e:e.isZero()||t.eq(n)?t:!t.isFinite()||!e.isFinite()?!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?n:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t:Aj(t,e,function(a,o){return a|o})}function Aj(t,e,r){var n=t.constructor,a,o,s=+(t.s<0),u=+(e.s<0);if(s){a=oI(ww(t));for(var f=0;f<a.length;++f)a[f]^=1}else a=oI(t);if(u){o=oI(ww(e));for(var l=0;l<o.length;++l)o[l]^=1}else o=oI(e);var c,h,m;a.length<=o.length?(c=a,h=o,m=s):(c=o,h=a,m=u);var g=c.length,b=h.length,A=r(s,u)^1,I=new n(A^1),C=new n(1),R=new n(2),O=n.precision;for(n.config({precision:1e9});g>0;)r(c[--g],h[--b])===A&&(I=I.plus(C)),C=C.times(R);for(;b>0;)r(m,h[--b])===A&&(I=I.plus(C)),C=C.times(R);return n.config({precision:O}),A===0&&(I.s=-I.s),I}function oI(t){for(var e=t.d,r=e[0]+"",n=1;n<e.length;++n){for(var a=e[n]+"",o=7-a.length;o--;)a="0"+a;r+=a}for(var s=r.length;r.charAt(s)==="0";)s--;var u=t.e,f=r.slice(0,s+1||1),l=f.length;if(u>0)if(++u>l)for(u-=l;u--;)f+="0";else u<l&&(f=f.slice(0,u)+"."+f.slice(u));for(var c=[0],h=0;h<f.length;){for(var m=c.length;m--;)c[m]*=10;c[0]+=parseInt(f.charAt(h++));for(var g=0;g<c.length;++g)c[g]>1&&((c[g+1]===null||c[g+1]===void 0)&&(c[g+1]=0),c[g+1]+=c[g]>>1,c[g]&=1)}return c.reverse()}function yTe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new r(0);var n=new r(-1);return t.eq(n)?ww(e):e.eq(n)?ww(t):!t.isFinite()||!e.isFinite()?!t.isFinite()&&!e.isFinite()?n:new r(t.isNegative()===e.isNegative()?1/0:-1/0):Aj(t,e,function(a,o){return a^o})}function bTe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:!t.isFinite()&&!e.isFinite()?new r(NaN):e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new r(2).pow(e))}function wTe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new r(2).pow(e)).floor():t.isNegative()?new r(-1):t.isFinite()?new r(0):new r(NaN)}var kv=te(()=>{w();_()});var xTe,pVt,Nj,_Te=te(()=>{w();_();kv();Zf();ko();di();Tn();vE();Fe();Sr();xTe="bitAnd",pVt=["typed","matrix","equalScalar"],Nj=ae(xTe,pVt,t=>{var{typed:e,matrix:r,equalScalar:n}=t,a=Ra({typed:e,equalScalar:n}),o=Hd({typed:e,equalScalar:n}),s=Bn({typed:e,equalScalar:n}),u=Er({typed:e}),f=or({typed:e});return e(xTe,{"number, number":Hz,"BigNumber, BigNumber":vTe,"SparseMatrix, SparseMatrix":function(c,h){return o(c,h,this,!1)},"SparseMatrix, DenseMatrix":function(c,h){return a(h,c,this,!0)},"DenseMatrix, SparseMatrix":function(c,h){return a(c,h,this,!1)},"DenseMatrix, DenseMatrix":function(c,h){return u(c,h,this)},"Array, Array":function(c,h){return this(r(c),r(h)).valueOf()},"Array, Matrix":function(c,h){return this(r(c),h)},"Matrix, Array":function(c,h){return this(c,r(h))},"SparseMatrix, any":function(c,h){return s(c,h,this,!1)},"DenseMatrix, any":function(c,h){return f(c,h,this,!1)},"any, SparseMatrix":function(c,h){return s(h,c,this,!0)},"any, DenseMatrix":function(c,h){return f(h,c,this,!0)},"Array, any":function(c,h){return f(r(c),h,this,!1).valueOf()},"any, Array":function(c,h){return f(r(h),c,this,!0).valueOf()}})})});var STe,dVt,Tj,ETe=te(()=>{w();_();kv();Zt();Fe();Sr();STe="bitNot",dVt=["typed"],Tj=ae(STe,dVt,t=>{var{typed:e}=t;return e(STe,{number:Kz,BigNumber:ww,"Array | Matrix":function(n){return Et(n,this)}})})});var MTe,mVt,Dj,ATe=te(()=>{w();_();kv();Fe();Tn();di();Gd();nI();hp();Sr();MTe="bitOr",mVt=["typed","matrix","equalScalar","DenseMatrix"],Dj=ae(MTe,mVt,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:a}=t,o=cs({typed:e}),s=bw({typed:e,equalScalar:n}),u=tu({typed:e,DenseMatrix:a}),f=Er({typed:e}),l=or({typed:e});return e(MTe,{"number, number":Zz,"BigNumber, BigNumber":gTe,"SparseMatrix, SparseMatrix":function(h,m){return s(h,m,this)},"SparseMatrix, DenseMatrix":function(h,m){return o(m,h,this,!0)},"DenseMatrix, SparseMatrix":function(h,m){return o(h,m,this,!1)},"DenseMatrix, DenseMatrix":function(h,m){return f(h,m,this)},"Array, Array":function(h,m){return this(r(h),r(m)).valueOf()},"Array, Matrix":function(h,m){return this(r(h),m)},"Matrix, Array":function(h,m){return this(h,r(m))},"SparseMatrix, any":function(h,m){return u(h,m,this,!1)},"DenseMatrix, any":function(h,m){return l(h,m,this,!1)},"any, SparseMatrix":function(h,m){return u(m,h,this,!0)},"any, DenseMatrix":function(h,m){return l(m,h,this,!0)},"Array, any":function(h,m){return l(r(h),m,this,!1).valueOf()},"any, Array":function(h,m){return l(r(m),h,this,!0).valueOf()}})})});var vVt,gVt,Ya,jl=te(()=>{w();_();Fe();To();vVt="algorithm07",gVt=["typed","DenseMatrix"],Ya=ae(vVt,gVt,t=>{var{typed:e,DenseMatrix:r}=t;return function(o,s,u){var f=o._size,l=o._datatype,c=s._size,h=s._datatype;if(f.length!==c.length)throw new br(f.length,c.length);if(f[0]!==c[0]||f[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+c+")");var m=f[0],g=f[1],b,A=0,I=u;typeof l=="string"&&l===h&&(b=l,A=e.convert(0,b),I=e.find(u,[b,b]));var C,R,O=[];for(C=0;C<m;C++)O[C]=[];var F=[],z=[],B=[],$=[];for(R=0;R<g;R++){var j=R+1;for(n(o,R,B,F,j),n(s,R,$,z,j),C=0;C<m;C++){var W=B[C]===j?F[C]:A,T=$[C]===j?z[C]:A;O[C][R]=I(W,T)}}return new r({data:O,size:[m,g],datatype:b})};function n(a,o,s,u,f){for(var l=a._values,c=a._index,h=a._ptr,m=h[o],g=h[o+1];m<g;m++){var b=c[m];s[b]=f,u[b]=l[m]}}})});var NTe,yVt,kj,TTe=te(()=>{w();_();kv();hs();jl();so();di();Tn();Fe();Sr();NTe="bitXor",yVt=["typed","matrix","DenseMatrix"],kj=ae(NTe,yVt,t=>{var{typed:e,matrix:r,DenseMatrix:n}=t,a=ai({typed:e}),o=Ya({typed:e,DenseMatrix:n}),s=Sn({typed:e,DenseMatrix:n}),u=Er({typed:e}),f=or({typed:e});return e(NTe,{"number, number":Jz,"BigNumber, BigNumber":yTe,"SparseMatrix, SparseMatrix":function(c,h){return o(c,h,this)},"SparseMatrix, DenseMatrix":function(c,h){return a(h,c,this,!0)},"DenseMatrix, SparseMatrix":function(c,h){return a(c,h,this,!1)},"DenseMatrix, DenseMatrix":function(c,h){return u(c,h,this)},"Array, Array":function(c,h){return this(r(c),r(h)).valueOf()},"Array, Matrix":function(c,h){return this(r(c),h)},"Matrix, Array":function(c,h){return this(c,r(h))},"SparseMatrix, any":function(c,h){return s(c,h,this,!1)},"DenseMatrix, any":function(c,h){return f(c,h,this,!1)},"any, SparseMatrix":function(c,h){return s(h,c,this,!0)},"any, DenseMatrix":function(c,h){return f(h,c,this,!0)},"Array, any":function(c,h){return f(r(c),h,this,!1).valueOf()},"any, Array":function(c,h){return f(r(h),c,this,!0).valueOf()}})})});var DTe,bVt,Ij,kTe=te(()=>{w();_();Fe();Zt();DTe="arg",bVt=["typed"],Ij=ae(DTe,bVt,t=>{var{typed:e}=t;return e(DTe,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":function(n){return Et(n,this)}})})});var ITe,wVt,Cj,CTe=te(()=>{w();_();Fe();Zt();ITe="conj",wVt=["typed"],Cj=ae(ITe,wVt,t=>{var{typed:e}=t;return e(ITe,{number:function(n){return n},BigNumber:function(n){return n},Complex:function(n){return n.conjugate()},"Array | Matrix":function(n){return Et(n,this)}})})});var OTe,xVt,Oj,RTe=te(()=>{w();_();Fe();Zt();OTe="im",xVt=["typed"],Oj=ae(OTe,xVt,t=>{var{typed:e}=t;return e(OTe,{number:function(n){return 0},BigNumber:function(n){return n.mul(0)},Fraction:function(n){return n.mul(0)},Complex:function(n){return n.im},"Array | Matrix":function(n){return Et(n,this)}})})});var FTe,_Vt,Rj,BTe=te(()=>{w();_();Fe();Zt();FTe="re",_Vt=["typed"],Rj=ae(FTe,_Vt,t=>{var{typed:e}=t;return e(FTe,{number:function(n){return n},BigNumber:function(n){return n},Fraction:function(n){return n},Complex:function(n){return n.re},"Array | Matrix":function(n){return Et(n,this)}})})});var LTe,SVt,Fj,PTe=te(()=>{w();_();Zt();Fe();Sr();LTe="not",SVt=["typed"],Fj=ae(LTe,SVt,t=>{var{typed:e}=t;return e(LTe,{number:nU,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},Unit:function(n){return n.value!==null?this(n.value):!0},"Array | Matrix":function(n){return Et(n,this)}})})});var qTe,EVt,Bj,zTe=te(()=>{w();_();hs();so();di();Tn();gE();Fe();Sr();qTe="or",EVt=["typed","matrix","equalScalar","DenseMatrix"],Bj=ae(qTe,EVt,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:a}=t,o=ai({typed:e}),s=Kd({typed:e,equalScalar:n}),u=Sn({typed:e,DenseMatrix:a}),f=Er({typed:e}),l=or({typed:e});return e(qTe,{"number, number":iU,"Complex, Complex":function(h,m){return h.re!==0||h.im!==0||m.re!==0||m.im!==0},"BigNumber, BigNumber":function(h,m){return!h.isZero()&&!h.isNaN()||!m.isZero()&&!m.isNaN()},"Unit, Unit":function(h,m){return this(h.value||0,m.value||0)},"SparseMatrix, SparseMatrix":function(h,m){return s(h,m,this)},"SparseMatrix, DenseMatrix":function(h,m){return o(m,h,this,!0)},"DenseMatrix, SparseMatrix":function(h,m){return o(h,m,this,!1)},"DenseMatrix, DenseMatrix":function(h,m){return f(h,m,this)},"Array, Array":function(h,m){return this(r(h),r(m)).valueOf()},"Array, Matrix":function(h,m){return this(r(h),m)},"Matrix, Array":function(h,m){return this(h,r(m))},"SparseMatrix, any":function(h,m){return u(h,m,this,!1)},"DenseMatrix, any":function(h,m){return l(h,m,this,!1)},"any, SparseMatrix":function(h,m){return u(m,h,this,!0)},"any, DenseMatrix":function(h,m){return l(m,h,this,!0)},"Array, any":function(h,m){return l(r(h),m,this,!1).valueOf()},"any, Array":function(h,m){return l(r(m),h,this,!0).valueOf()}})})});var UTe,MVt,Lj,jTe=te(()=>{w();_();hs();jl();so();di();Tn();Fe();Sr();UTe="xor",MVt=["typed","matrix","DenseMatrix"],Lj=ae(UTe,MVt,t=>{var{typed:e,matrix:r,DenseMatrix:n}=t,a=ai({typed:e}),o=Ya({typed:e,DenseMatrix:n}),s=Sn({typed:e,DenseMatrix:n}),u=Er({typed:e}),f=or({typed:e});return e(UTe,{"number, number":aU,"Complex, Complex":function(c,h){return(c.re!==0||c.im!==0)!=(h.re!==0||h.im!==0)},"BigNumber, BigNumber":function(c,h){return(!c.isZero()&&!c.isNaN())!=(!h.isZero()&&!h.isNaN())},"Unit, Unit":function(c,h){return this(c.value||0,h.value||0)},"SparseMatrix, SparseMatrix":function(c,h){return o(c,h,this)},"SparseMatrix, DenseMatrix":function(c,h){return a(h,c,this,!0)},"DenseMatrix, SparseMatrix":function(c,h){return a(c,h,this,!1)},"DenseMatrix, DenseMatrix":function(c,h){return u(c,h,this)},"Array, Array":function(c,h){return this(r(c),r(h)).valueOf()},"Array, Matrix":function(c,h){return this(r(c),h)},"Matrix, Array":function(c,h){return this(c,r(h))},"SparseMatrix, any":function(c,h){return s(c,h,this,!1)},"DenseMatrix, any":function(c,h){return f(c,h,this,!1)},"any, SparseMatrix":function(c,h){return s(h,c,this,!0)},"any, DenseMatrix":function(c,h){return f(h,c,this,!0)},"Array, any":function(c,h){return f(r(c),h,this,!1).valueOf()},"any, Array":function(c,h){return f(r(h),c,this,!0).valueOf()}})})});function VTe(t,e,r,n){if(n<r){if(t.length!==e.length)throw new br(t.length,e.length);for(var a=[],o=0;o<t.length;o++)a[o]=VTe(t[o],e[o],r,n+1);return a}else return t.concat(e)}var $Te,AVt,yE,Pj=te(()=>{w();_();zt();dn();wr();Nv();To();Fe();$Te="concat",AVt=["typed","matrix","isInteger"],yE=ae($Te,AVt,t=>{var{typed:e,matrix:r,isInteger:n}=t;return e($Te,{"...Array | Matrix | number | BigNumber":function(o){var s,u=o.length,f=-1,l,c=!1,h=[];for(s=0;s<u;s++){var m=o[s];if(Kt(m)&&(c=!0),Ar(m)||hr(m)){if(s!==u-1)throw new Error("Dimension must be specified as last argument");if(l=f,f=m.valueOf(),!n(f))throw new TypeError("Integer number expected for dimension");if(f<0||s>0&&f>l)throw new jo(f,l+1)}else{var g=tr(m).valueOf(),b=vr(g);if(h[s]=g,l=f,f=b.length-1,s>0&&f!==l)throw new br(l+1,f+1)}}if(h.length===0)throw new SyntaxError("At least one matrix expected");for(var A=h.shift();h.length;)A=VTe(A,h.shift(),f,0);return c?r(A):A},"...string":function(o){return o.join("")}})})});var WTe,NVt,bE,qj=te(()=>{w();_();Fe();dn();wr();WTe="column",NVt=["typed","Index","matrix","range"],bE=ae(WTe,NVt,t=>{var{typed:e,Index:r,matrix:n,range:a}=t;return e(WTe,{"Matrix, number":o,"Array, number":function(u,f){return o(n(tr(u)),f).valueOf()}});function o(s,u){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");Fn(u,s.size()[1]);var f=a(0,s.size()[0]),l=new r(f,u);return s.subset(l)}})});var GTe,TVt,zj,HTe=te(()=>{w();_();Fe();GTe="count",TVt=["typed","size","prod"],zj=ae(GTe,TVt,t=>{var{typed:e,size:r,prod:n}=t;return e(GTe,{string:function(o){return o.length},"Matrix | Array":function(o){return n(r(o))}})})});var KTe,DVt,Uj,ZTe=te(()=>{w();_();wr();Fe();KTe="cross",DVt=["typed","matrix","subtract","multiply"],Uj=ae(KTe,DVt,t=>{var{typed:e,matrix:r,subtract:n,multiply:a}=t;return e(KTe,{"Matrix, Matrix":function(u,f){return r(o(u.toArray(),f.toArray()))},"Matrix, Array":function(u,f){return r(o(u.toArray(),f))},"Array, Matrix":function(u,f){return r(o(u,f.toArray()))},"Array, Array":o});function o(s,u){var f=Math.max(vr(s).length,vr(u).length);s=hw(s),u=hw(u);var l=vr(s),c=vr(u);if(l.length!==1||c.length!==1||l[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+l.join(", ")+"], B = ["+c.join(", ")+"])");var h=[n(a(s[1],u[2]),a(s[2],u[1])),n(a(s[2],u[0]),a(s[0],u[2])),n(a(s[0],u[1]),a(s[1],u[0]))];return f>1?[h]:h}})});var JTe,kVt,jj,YTe=te(()=>{w();_();zt();wr();zr();Fe();JTe="diag",kVt=["typed","matrix","DenseMatrix","SparseMatrix"],jj=ae(JTe,kVt,t=>{var{typed:e,matrix:r,DenseMatrix:n,SparseMatrix:a}=t;return e(JTe,{Array:function(l){return o(l,0,vr(l),null)},"Array, number":function(l,c){return o(l,c,vr(l),null)},"Array, BigNumber":function(l,c){return o(l,c.toNumber(),vr(l),null)},"Array, string":function(l,c){return o(l,0,vr(l),c)},"Array, number, string":function(l,c,h){return o(l,c,vr(l),h)},"Array, BigNumber, string":function(l,c,h){return o(l,c.toNumber(),vr(l),h)},Matrix:function(l){return o(l,0,l.size(),l.storage())},"Matrix, number":function(l,c){return o(l,c,l.size(),l.storage())},"Matrix, BigNumber":function(l,c){return o(l,c.toNumber(),l.size(),l.storage())},"Matrix, string":function(l,c){return o(l,0,l.size(),c)},"Matrix, number, string":function(l,c,h){return o(l,c,l.size(),h)},"Matrix, BigNumber, string":function(l,c,h){return o(l,c.toNumber(),l.size(),h)}});function o(f,l,c,h){if(!Ut(l))throw new TypeError("Second parameter in function diag must be an integer");var m=l>0?l:0,g=l<0?-l:0;switch(c.length){case 1:return s(f,l,h,c[0],g,m);case 2:return u(f,l,h,c,g,m)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function s(f,l,c,h,m,g){var b=[h+m,h+g];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var A=c==="sparse"?a.diagonal(b,f,l):n.diagonal(b,f,l);return c!==null?A:A.valueOf()}function u(f,l,c,h,m,g){if(Kt(f)){var b=f.diagonal(l);return c!==null?c!==b.storage()?r(b,c):b:b.valueOf()}for(var A=Math.min(h[0]-m,h[1]-g),I=[],C=0;C<A;C++)I[C]=f[C+m][C+g];return c!==null?r(I):I}})});function XTe(t){var e=0,r=1,n=Object.create(null),a=Object.create(null),o=0,s=function(f){var l=a[f];if(!!l&&(delete n[l],delete a[f],--e,r===l)){if(!e){o=0,r=1;return}for(;!hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(f){var l=a[f],c=++o;if(n[c]=f,a[f]=c,!l)return++e,e<=t?void 0:(f=n[r],s(f),f);if(delete n[l],r===l)for(;!hasOwnProperty.call(n,++r););},delete:s,clear:function(){e=o=0,r=1,n=Object.create(null),a=Object.create(null)}}}var QTe=te(()=>{w();_()});function Iv(t){var{hasher:e,limit:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=r==null?Number.POSITIVE_INFINITY:r,e=e==null?JSON.stringify:e,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:XTe(r||Number.POSITIVE_INFINITY)});for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=e(a);if(n.cache.values.has(s))return n.cache.lru.hit(s),n.cache.values.get(s);var u=t.apply(t,a);return n.cache.values.set(s,u),n.cache.values.delete(n.cache.lru.hit(s)),u}}function Jf(t){return Object.keys(t.signatures||{}).reduce(function(e,r){var n=(r.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var pp=te(()=>{w();_();QTe()});function eDe(t,e){var r=Jf(e);return Wk(t,function(n,a,o){return r===1?e(n):r===2?e(n,[a]):e(n,[a],o)})}var IVt,CVt,$j,tDe=te(()=>{w();_();wr();pp();Fe();IVt="filter",CVt=["typed"],$j=ae(IVt,CVt,t=>{var{typed:e}=t;return e("filter",{"Array, function":eDe,"Matrix, function":function(n,a){return n.create(eDe(n.toArray(),a))},"Array, RegExp":pw,"Matrix, RegExp":function(n,a){return n.create(pw(n.toArray(),a))}})})});var rDe,OVt,Vj,nDe=te(()=>{w();_();dn();wr();Fe();rDe="flatten",OVt=["typed","matrix"],Vj=ae(rDe,OVt,t=>{var{typed:e,matrix:r}=t;return e(rDe,{Array:function(a){return Tr(tr(a))},Matrix:function(a){var o=Tr(tr(a.toArray()));return r(o)}})})});function FVt(t,e){var r=Jf(e),n=function a(o,s){Array.isArray(o)?jd(o,function(u,f){a(u,s.concat(f))}):r===1?e(o):r===2?e(o,s):e(o,s,t)};n(t,[])}var iDe,RVt,Wj,aDe=te(()=>{w();_();pp();wr();Fe();iDe="forEach",RVt=["typed"],Wj=ae(iDe,RVt,t=>{var{typed:e}=t;return e(iDe,{"Array, function":FVt,"Matrix, function":function(n,a){return n.forEach(a)}})})});var oDe,BVt,Gj,sDe=te(()=>{w();_();Fe();wr();zt();oDe="getMatrixDataType",BVt=["typed"],Gj=ae(oDe,BVt,t=>{var{typed:e}=t;return e(oDe,{Array:function(n){return $d(n,$r)},Matrix:function(n){return n.getDataType()}})})});var uDe,LVt,Hj,fDe=te(()=>{w();_();zt();wr();zr();Fe();uDe="identity",LVt=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Hj=ae(uDe,LVt,t=>{var{typed:e,config:r,matrix:n,BigNumber:a,DenseMatrix:o,SparseMatrix:s}=t;return e(uDe,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(c){return n(c)},"number | BigNumber":function(c){return f(c,c,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,h){return f(c,c,h)},"number | BigNumber, number | BigNumber":function(c,h){return f(c,h,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,h,m){return f(c,h,m)},Array:function(c){return u(c)},"Array, string":function(c,h){return u(c,h)},Matrix:function(c){return u(c.valueOf(),c.storage())},"Matrix, string":function(c,h){return u(c.valueOf(),h)}});function u(l,c){switch(l.length){case 0:return c?n(c):[];case 1:return f(l[0],l[0],c);case 2:return f(l[0],l[1],c);default:throw new Error("Vector containing two values expected")}}function f(l,c,h){var m=hr(l)||hr(c)?a:null;if(hr(l)&&(l=l.toNumber()),hr(c)&&(c=c.toNumber()),!Ut(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!Ut(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var g=m?new a(1):1,b=m?new m(0):0,A=[l,c];if(h){if(h==="sparse")return s.diagonal(A,g,0,b);if(h==="dense")return o.diagonal(A,g,0,b);throw new TypeError('Unknown matrix type "'.concat(h,'"'))}for(var I=Ul([],A,b),C=l<c?l:c,R=0;R<C;R++)I[R][R]=g;return I}})});var lDe,PVt,Kj,cDe=te(()=>{w();_();wr();Fe();lDe="kron",PVt=["typed","matrix","multiplyScalar"],Kj=ae(lDe,PVt,t=>{var{typed:e,matrix:r,multiplyScalar:n}=t;return e(lDe,{"Matrix, Matrix":function(s,u){return r(a(s.toArray(),u.toArray()))},"Matrix, Array":function(s,u){return r(a(s.toArray(),u))},"Array, Matrix":function(s,u){return r(a(s,u.toArray()))},"Array, Array":a});function a(o,s){if(vr(o).length===1&&(o=[o]),vr(s).length===1&&(s=[s]),vr(o).length>2||vr(s).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(o.length)+", y = "+JSON.stringify(s.length)+")");var u=[],f=[];return o.map(function(l){return s.map(function(c){return f=[],u.push(f),l.map(function(h){return c.map(function(m){return f.push(n(h,m))})})})})&&u}})});function zVt(t,e){var r=Jf(e),n=function a(o,s){if(Array.isArray(o))return o.map(function(l,c){return a(l,s.concat(c))});try{return r===1?e(o):r===2?e(o,s):e(o,s,t)}catch(l){if(l instanceof TypeError&&"data"in l&&l.data.category==="wrongType"){var u="map attempted to call '".concat(l.data.fn,"(").concat(o),f=JSON.stringify(s);throw r===2?u+=","+f:r!==1&&(u+=",".concat(f,",").concat(t)),u+=")' but argument ".concat(l.data.index+1," of type "),u+="".concat(l.data.actual," does not match expected type "),u+=l.data.expected.join(" or "),new TypeError(u)}throw l}};return n(t,[])}var hDe,qVt,Zj,pDe=te(()=>{w();_();pp();Fe();hDe="map",qVt=["typed"],Zj=ae(hDe,qVt,t=>{var{typed:e}=t;return e(hDe,{"Array, function":zVt,"Matrix, function":function(n,a){return n.map(a)}})})});var dDe,UVt,wE,Jj=te(()=>{w();_();Fe();zr();zt();dDe="diff",UVt=["typed","matrix","subtract","number"],wE=ae(dDe,UVt,t=>{var{typed:e,matrix:r,subtract:n,number:a}=t;return e(dDe,{"Array | Matrix":function(c){return Kt(c)?r(s(c.toArray())):s(c)},"Array | Matrix, number":function(c,h){if(!Ut(h))throw new RangeError("Dimension must be a whole number");return Kt(c)?r(o(c.toArray(),h)):o(c,h)},"Array | Matrix, BigNumber":function(c,h){return this(c,a(h))}});function o(l,c){if(Kt(l)&&(l=l.toArray()),!Array.isArray(l))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var h=[];return l.forEach(m=>{h.push(o(m,c-1))}),h}else{if(c===0)return s(l);throw RangeError("Cannot have negative dimension")}}function s(l){var c=[],h=l.length;if(h<2)return l;for(var m=1;m<h;m++)c.push(u(l[m-1],l[m]));return c}function u(l,c){Kt(l)&&(l=l.toArray()),Kt(c)&&(c=c.toArray());var h=Array.isArray(l),m=Array.isArray(c);if(h&&m)return f(l,c);if(!h&&!m)return n(c,l);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function f(l,c){if(l.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var h=[],m=l.length,g=0;g<m;g++)h.push(u(l[g],c[g]));return h}})});var jVt,$Vt,Yj,mDe=te(()=>{w();_();zt();zr();wr();Fe();jVt="ones",$Vt=["typed","config","matrix","BigNumber"],Yj=ae(jVt,$Vt,t=>{var{typed:e,config:r,matrix:n,BigNumber:a}=t;return e("ones",{"":function(){return r.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(l){var c=l[l.length-1];if(typeof c=="string"){var h=l.pop();return o(l,h)}else return r.matrix==="Array"?o(l):o(l,"default")},Array:o,Matrix:function(l){var c=l.storage();return o(l.valueOf(),c)},"Array | Matrix, string":function(l,c){return o(l.valueOf(),c)}});function o(f,l){var c=s(f),h=c?new a(1):1;if(u(f),l){var m=n(l);return f.length>0?m.resize(f,h):m}else{var g=[];return f.length>0?Ul(g,f,h):g}}function s(f){var l=!1;return f.forEach(function(c,h,m){hr(c)&&(l=!0,m[h]=c.toNumber())}),l}function u(f){f.forEach(function(l){if(typeof l!="number"||!Ut(l)||l<0)throw new Error("Parameters in function ones must be positive integers")})}})});function xw(){throw new Error('No "bignumber" implementation available')}function sI(){throw new Error('No "fraction" implementation available')}function uI(){throw new Error('No "matrix" implementation available')}var xE=te(()=>{w();_()});var vDe,VVt,_E,Xj=te(()=>{w();_();Fe();xE();vDe="range",VVt=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],_E=ae(vDe,VVt,t=>{var{typed:e,config:r,matrix:n,bignumber:a,smaller:o,smallerEq:s,larger:u,largerEq:f}=t;return e(vDe,{string:c,"string, boolean":c,"number, number":function(C,R){return l(h(C,R,1))},"number, number, number":function(C,R,O){return l(h(C,R,O))},"number, number, boolean":function(C,R,O){return l(O?m(C,R,1):h(C,R,1))},"number, number, number, boolean":function(C,R,O,F){return l(F?m(C,R,O):h(C,R,O))},"BigNumber, BigNumber":function(C,R){var O=C.constructor;return l(g(C,R,new O(1)))},"BigNumber, BigNumber, BigNumber":function(C,R,O){return l(g(C,R,O))},"BigNumber, BigNumber, boolean":function(C,R,O){var F=C.constructor;return l(O?b(C,R,new F(1)):g(C,R,new F(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(C,R,O,F){return l(F?b(C,R,O):g(C,R,O))}});function l(I){return r.matrix==="Matrix"?n?n(I):uI():I}function c(I,C){var R=A(I);if(!R)throw new SyntaxError('String "'+I+'" is no valid range');var O;return r.number==="BigNumber"?(a===void 0&&xw(),O=C?b:g,l(O(a(R.start),a(R.end),a(R.step)))):(O=C?m:h,l(O(R.start,R.end,R.step)))}function h(I,C,R){var O=[],F=I;if(R>0)for(;o(F,C);)O.push(F),F+=R;else if(R<0)for(;u(F,C);)O.push(F),F+=R;return O}function m(I,C,R){var O=[],F=I;if(R>0)for(;s(F,C);)O.push(F),F+=R;else if(R<0)for(;f(F,C);)O.push(F),F+=R;return O}function g(I,C,R){var O=a(0),F=[],z=I;if(R.gt(O))for(;o(z,C);)F.push(z),z=z.plus(R);else if(R.lt(O))for(;u(z,C);)F.push(z),z=z.plus(R);return F}function b(I,C,R){var O=a(0),F=[],z=I;if(R.gt(O))for(;s(z,C);)F.push(z),z=z.plus(R);else if(R.lt(O))for(;f(z,C);)F.push(z),z=z.plus(R);return F}function A(I){var C=I.split(":"),R=C.map(function(F){return Number(F)}),O=R.some(function(F){return isNaN(F)});if(O)return null;switch(R.length){case 2:return{start:R[0],end:R[1],step:1};case 3:return{start:R[0],end:R[2],step:R[1]};default:return null}}})});var gDe,WVt,Qj,yDe=te(()=>{w();_();wr();Fe();gDe="reshape",WVt=["typed","isInteger","matrix"],Qj=ae(gDe,WVt,t=>{var{typed:e,isInteger:r}=t;return e(gDe,{"Matrix, Array":function(a,o){return a.reshape(o)},"Array, Array":function(a,o){return o.forEach(function(s){if(!r(s))throw new TypeError("Invalid size for dimension: "+s)}),$k(a,o)}})})});function Cv(t,e,r,n){if(!(this instanceof Cv))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}var bDe=te(()=>{w();_();Cv.prototype=new Error;Cv.prototype.constructor=Error;Cv.prototype.name="ArgumentsError";Cv.prototype.isArgumentsError=!0});var GVt,HVt,e$,wDe=te(()=>{w();_();zt();To();bDe();zr();xi();dn();wr();Fe();GVt="resize",HVt=["config","matrix"],e$=ae(GVt,HVt,t=>{var{config:e,matrix:r}=t;return function(o,s,u){if(arguments.length!==2&&arguments.length!==3)throw new Cv("resize",arguments.length,2,3);if(Kt(s)&&(s=s.valueOf()),hr(s[0])&&(s=s.map(function(c){return hr(c)?c.toNumber():c})),Kt(o))return o.resize(s,u,!0);if(typeof o=="string")return n(o,s,u);var f=Array.isArray(o)?!1:e.matrix!=="Array";if(s.length===0){for(;Array.isArray(o);)o=o[0];return tr(o)}else{Array.isArray(o)||(o=[o]),o=tr(o);var l=Ul(o,s,u);return f?r(l):l}};function n(a,o,s){if(s!==void 0){if(typeof s!="string"||s.length!==1)throw new TypeError("Single character expected as defaultValue")}else s=" ";if(o.length!==1)throw new br(o.length,1);var u=o[0];if(typeof u!="number"||!Ut(u))throw new TypeError("Invalid size, must contain positive integers (size: "+mr(o)+")");if(a.length>u)return a.substring(0,u);if(a.length<u){for(var f=a,l=0,c=u-a.length;l<c;l++)f+=s;return f}else return a}})});var xDe,KVt,t$,_De=te(()=>{w();_();Fe();wr();xDe="rotate",KVt=["typed","multiply","rotationMatrix"],t$=ae(xDe,KVt,t=>{var{typed:e,multiply:r,rotationMatrix:n}=t;return e(xDe,{"Array , number | BigNumber | Complex | Unit":function(s,u){a(s,2);var f=r(n(u),s);return f.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(s,u){return a(s,2),r(n(u),s)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(s,u,f){a(s,3);var l=r(n(u,f),s);return l},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(s,u,f){return a(s,3),r(n(u,f),s)}});function a(o,s){var u=Array.isArray(o)?vr(o):o.size();if(u.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(s));if(u.length===2&&u[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(s));if(u[0]!==s)throw new RangeError("Vector must be of dimensions 1x".concat(s))}})});var SDe,ZVt,r$,EDe=te(()=>{w();_();zt();Fe();SDe="rotationMatrix",ZVt=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],r$=ae(SDe,ZVt,t=>{var{typed:e,config:r,multiplyScalar:n,addScalar:a,unaryMinus:o,norm:s,BigNumber:u,matrix:f,DenseMatrix:l,SparseMatrix:c,cos:h,sin:m}=t;return e(SDe,{"":function(){return r.matrix==="Matrix"?f([]):[]},string:function(O){return f(O)},"number | BigNumber | Complex | Unit":function(O){return g(O,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(O,F){return g(O,F)},"number | BigNumber | Complex | Unit, Array":function(O,F){var z=f(F);return b(z),C(O,z,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(O,F){b(F);var z=F.storage()||(r.matrix==="Matrix"?"dense":void 0);return C(O,F,z)},"number | BigNumber | Complex | Unit, Array, string":function(O,F,z){var B=f(F);return b(B),C(O,B,z)},"number | BigNumber | Complex | Unit, Matrix, string":function(O,F,z){return b(F),C(O,F,z)}});function g(R,O){var F=hr(R),z=F?new u(-1):-1,B=h(R),$=m(R),j=[[B,n(z,$)],[$,B]];return I(j,O)}function b(R){var O=R.size();if(O.length<1||O[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function A(R){return R.reduce((O,F)=>n(O,F))}function I(R,O){if(O){if(O==="sparse")return new c(R);if(O==="dense")return new l(R);throw new TypeError('Unknown matrix type "'.concat(O,'"'))}return R}function C(R,O,F){var z=s(O);if(z===0)throw new RangeError("Rotation around zero vector");var B=hr(R)?u:null,$=B?new B(1):1,j=B?new B(-1):-1,W=B?new B(O.get([0])/z):O.get([0])/z,T=B?new B(O.get([1])/z):O.get([1])/z,p=B?new B(O.get([2])/z):O.get([2])/z,v=h(R),S=a($,o(v)),y=m(R),M=a(v,A([W,W,S])),D=a(A([W,T,S]),A([j,p,y])),k=a(A([W,p,S]),A([T,y])),E=a(A([W,T,S]),A([p,y])),d=a(v,A([T,T,S])),N=a(A([T,p,S]),A([j,W,y])),U=a(A([W,p,S]),A([j,T,y])),q=a(A([T,p,S]),A([W,y])),P=a(v,A([p,p,S])),G=[[M,D,k],[E,d,N],[U,q,P]];return I(G,F)}})});var MDe,JVt,SE,n$=te(()=>{w();_();Fe();dn();wr();MDe="row",JVt=["typed","Index","matrix","range"],SE=ae(MDe,JVt,t=>{var{typed:e,Index:r,matrix:n,range:a}=t;return e(MDe,{"Matrix, number":o,"Array, number":function(u,f){return o(n(tr(u)),f).valueOf()}});function o(s,u){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");Fn(u,s.size()[0]);var f=a(0,s.size()[1]),l=new r(u,f);return s.subset(l)}})});var ADe,YVt,i$,NDe=te(()=>{w();_();wr();Fe();xE();ADe="size",YVt=["typed","config","?matrix"],i$=ae(ADe,YVt,t=>{var{typed:e,config:r,matrix:n}=t;return e(ADe,{Matrix:function(o){return o.create(o.size())},Array:vr,string:function(o){return r.matrix==="Array"?[o.length]:n([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return r.matrix==="Array"?[]:n?n([]):uI()}})})});var TDe,XVt,a$,DDe=te(()=>{w();_();dn();wr();Fe();TDe="squeeze",XVt=["typed","matrix"],a$=ae(TDe,XVt,t=>{var{typed:e,matrix:r}=t;return e(TDe,{Array:function(a){return hw(tr(a))},Matrix:function(a){var o=hw(a.toArray());return Array.isArray(o)?r(o):o},any:function(a){return tr(a)}})})});function eWt(t,e){if(!up(e))throw new TypeError("Index expected");if(e.size().length!==1)throw new br(e.size().length,1);var r=t.length;Fn(e.min()[0],r),Fn(e.max()[0],r);var n=e.dimension(0),a="";return n.forEach(function(o){a+=t.charAt(o)}),a}function IDe(t,e,r,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(e.size().length!==1)throw new br(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var a=e.dimension(0),o=a.size()[0];if(o!==r.length)throw new br(a.size()[0],r.length);var s=t.length;Fn(e.min()[0]),Fn(e.max()[0]);for(var u=[],f=0;f<s;f++)u[f]=t.charAt(f);if(a.forEach(function(h,m){u[h]=r.charAt(m[0])}),u.length>s)for(var l=s-1,c=u.length;l<c;l++)u[l]||(u[l]=n);return u.join("")}function tWt(t,e){if(e.size().length!==1)throw new br(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");return xa(t,r)}function rWt(t,e,r){if(e.size().length!==1)throw new br(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var a=tr(t);return Vc(a,n,r),a}var kDe,QVt,EE,o$=te(()=>{w();_();zt();dn();wr();Qs();To();Fe();kDe="subset",QVt=["typed","matrix"],EE=ae(kDe,QVt,t=>{var{typed:e,matrix:r}=t;return e(kDe,{"Array, Index":function(a,o){var s=r(a),u=s.subset(o);return o.isScalar()?u:u.valueOf()},"Matrix, Index":function(a,o){return a.subset(o)},"Object, Index":tWt,"string, Index":eWt,"Array, Index, any":function(a,o,s){return r(tr(a)).subset(o,s,void 0).valueOf()},"Array, Index, any, any":function(a,o,s,u){return r(tr(a)).subset(o,s,u).valueOf()},"Matrix, Index, any":function(a,o,s){return a.clone().subset(o,s)},"Matrix, Index, any, any":function(a,o,s,u){return a.clone().subset(o,s,u)},"string, Index, string":IDe,"string, Index, string, string":IDe,"Object, Index, any":rWt})})});var nWt,iWt,s$,CDe=te(()=>{w();_();dn();xi();Fe();nWt="transpose",iWt=["typed","matrix"],s$=ae(nWt,iWt,t=>{var{typed:e,matrix:r}=t;return e("transpose",{Array:function(s){return this(r(s)).valueOf()},Matrix:function(s){var u=s.size(),f;switch(u.length){case 1:f=s.clone();break;case 2:{var l=u[0],c=u[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+mr(u)+")");switch(s.storage()){case"dense":f=n(s,l,c);break;case"sparse":f=a(s,l,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+mr(this._size)+")")}return f},any:function(s){return tr(s)}});function n(o,s,u){for(var f=o._data,l=[],c,h=0;h<u;h++){c=l[h]=[];for(var m=0;m<s;m++)c[m]=tr(f[m][h])}return o.createDenseMatrix({data:l,size:[u,s],datatype:o._datatype})}function a(o,s,u){for(var f=o._values,l=o._index,c=o._ptr,h=f?[]:void 0,m=[],g=[],b=[],A=0;A<s;A++)b[A]=0;var I,C,R;for(I=0,C=l.length;I<C;I++)b[l[I]]++;for(var O=0,F=0;F<s;F++)g.push(O),O+=b[F],b[F]=g[F];for(g.push(O),R=0;R<u;R++)for(var z=c[R],B=c[R+1],$=z;$<B;$++){var j=b[l[$]]++;m[j]=R,f&&(h[j]=tr(f[$]))}return o.createSparseMatrix({values:h,index:m,ptr:g,size:[u,s],datatype:o._datatype})}})});var ODe,aWt,u$,RDe=te(()=>{w();_();Fe();ODe="ctranspose",aWt=["typed","transpose","conj"],u$=ae(ODe,aWt,t=>{var{typed:e,transpose:r,conj:n}=t;return e(ODe,{any:function(o){return n(r(o))}})})});var FDe,oWt,f$,BDe=te(()=>{w();_();zt();zr();wr();Fe();FDe="zeros",oWt=["typed","config","matrix","BigNumber"],f$=ae(FDe,oWt,t=>{var{typed:e,config:r,matrix:n,BigNumber:a}=t;return e(FDe,{"":function(){return r.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(l){var c=l[l.length-1];if(typeof c=="string"){var h=l.pop();return o(l,h)}else return r.matrix==="Array"?o(l):o(l,"default")},Array:o,Matrix:function(l){var c=l.storage();return o(l.valueOf(),c)},"Array | Matrix, string":function(l,c){return o(l.valueOf(),c)}});function o(f,l){var c=s(f),h=c?new a(0):0;if(u(f),l){var m=n(l);return f.length>0?m.resize(f,h):m}else{var g=[];return f.length>0?Ul(g,f,h):g}}function s(f){var l=!1;return f.forEach(function(c,h,m){hr(c)&&(l=!0,m[h]=c.toNumber())}),l}function u(f){f.forEach(function(l){if(typeof l!="number"||!Ut(l)||l<0)throw new Error("Parameters in function zeros must be positive integers")})}})});var LDe,sWt,l$,PDe=te(()=>{w();_();wr();Fe();LDe="fft",sWt=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i"],l$=ae(LDe,sWt,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:a,divideScalar:o,exp:s,tau:u,i:f}=t;return e(LDe,{Array:l,Matrix:function(g){return g.create(l(g.toArray()))}});function l(m){var g=vr(m);return g.length===1?h(m,g[0]):c(m.map(b=>l(b,g.slice(1))),0)}function c(m,g){var b=vr(m);if(g!==0)return new Array(b[0]).fill(0).map((I,C)=>c(m[C],g-1));if(b.length===1)return h(m);function A(I){var C=vr(I);return new Array(C[1]).fill(0).map((R,O)=>new Array(C[0]).fill(0).map((F,z)=>I[z][O]))}return A(c(A(m),1))}function h(m){var g=m.length;if(g===1)return[m[0]];if(g%2===0){for(var b=[...h(m.filter((R,O)=>O%2===0),g/2),...h(m.filter((R,O)=>O%2===1),g/2)],A=0;A<g/2;A++){var I=b[A],C=a(b[A+g/2],s(a(a(u,f),o(-A,g))));b[A]=n(I,C),b[A+g/2]=n(I,a(-1,C))}return b}throw new Error("Can only calculate FFT of power-of-two size")}})});var qDe,uWt,c$,zDe=te(()=>{w();_();wr();Fe();zt();qDe="ifft",uWt=["typed","fft","dotDivide","conj"],c$=ae(qDe,uWt,t=>{var{typed:e,fft:r,dotDivide:n,conj:a}=t;return e(qDe,{"Array | Matrix":function(s){var u=Kt(s)?s.size():vr(s);return n(a(r(a(s))),u.reduce((f,l)=>f*l,1))}})})});var fWt,lWt,h$,cWt,hWt,dp,_w,pWt,UDe=te(()=>{w();_();Zt();zr();Fe();fWt="erf",lWt=["typed"],h$=ae(fWt,lWt,t=>{var{typed:e}=t;return e("name",{number:function(s){var u=Math.abs(s);return u>=pWt?Hf(s):u<=cWt?Hf(s)*r(u):u<=4?Hf(s)*(1-n(u)):Hf(s)*(1-a(u))},"Array | Matrix":function(s){return Et(s,this)}});function r(o){var s=o*o,u=dp[0][4]*s,f=s,l;for(l=0;l<3;l+=1)u=(u+dp[0][l])*s,f=(f+_w[0][l])*s;return o*(u+dp[0][3])/(f+_w[0][3])}function n(o){var s=dp[1][8]*o,u=o,f;for(f=0;f<7;f+=1)s=(s+dp[1][f])*o,u=(u+_w[1][f])*o;var l=(s+dp[1][7])/(u+_w[1][7]),c=parseInt(o*16)/16,h=(o-c)*(o+c);return Math.exp(-c*c)*Math.exp(-h)*l}function a(o){var s=1/(o*o),u=dp[2][5]*s,f=s,l;for(l=0;l<4;l+=1)u=(u+dp[2][l])*s,f=(f+_w[2][l])*s;var c=s*(u+dp[2][4])/(f+_w[2][4]);c=(hWt-c)/o,s=parseInt(o*16)/16;var h=(o-s)*(o+s);return Math.exp(-s*s)*Math.exp(-h)*c}}),cWt=.46875,hWt=.5641895835477563,dp=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],_w=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],pWt=Math.pow(2,53)});var jDe,dWt,p$,$De=te(()=>{w();_();wr();Fe();jDe="mode",dWt=["typed","isNaN","isNumeric"],p$=ae(jDe,dWt,t=>{var{typed:e,isNaN:r,isNumeric:n}=t;return e(jDe,{"Array | Matrix":a,"...":function(s){return a(s)}});function a(o){o=Tr(o.valueOf());var s=o.length;if(s===0)throw new Error("Cannot calculate mode of an empty array");for(var u={},f=[],l=0,c=0;c<o.length;c++){var h=o[c];if(n(h)&&r(h))throw new Error("Cannot calculate mode of an array containing NaN values");h in u||(u[h]=0),u[h]++,u[h]===l?f.push(h):u[h]>l&&(l=u[h],f=[h])}return f}})});function ua(t,e,r){var n;return String(t).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+$r(r)+", value: "+JSON.stringify(r)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(t).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+$r(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):t}var Wc=te(()=>{w();_();zt()});var VDe,mWt,d$,WDe=te(()=>{w();_();Zt();Fe();Wc();VDe="prod",mWt=["typed","config","multiplyScalar","numeric"],d$=ae(VDe,mWt,t=>{var{typed:e,config:r,multiplyScalar:n,numeric:a}=t;return e(VDe,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,f){throw new Error("prod(A, dim) is not yet supported")},"...":function(u){return o(u)}});function o(s){var u;if(ls(s,function(f){try{u=u===void 0?f:n(u,f)}catch(l){throw ua(l,"prod",f)}}),typeof u=="string"&&(u=a(u,r.number)),u===void 0)throw new Error("Cannot calculate prod of an empty array");return u}})});var GDe,vWt,m$,HDe=te(()=>{w();_();xi();Fe();GDe="format",vWt=["typed"],m$=ae(GDe,vWt,t=>{var{typed:e}=t;return e(GDe,{any:mr,"any, Object | function | number":mr})})});var KDe,gWt,v$,ZDe=te(()=>{w();_();Fe();KDe="bin",gWt=["typed","format"],v$=ae(KDe,gWt,t=>{var{typed:e,format:r}=t;return e(KDe,{"number | BigNumber":function(a){return r(a,{notation:"bin"})},"number | BigNumber, number":function(a,o){return r(a,{notation:"bin",wordSize:o})}})})});var JDe,yWt,g$,YDe=te(()=>{w();_();Fe();JDe="oct",yWt=["typed","format"],g$=ae(JDe,yWt,t=>{var{typed:e,format:r}=t;return e(JDe,{"number | BigNumber":function(a){return r(a,{notation:"oct"})},"number | BigNumber, number":function(a,o){return r(a,{notation:"oct",wordSize:o})}})})});var XDe,bWt,y$,QDe=te(()=>{w();_();Fe();XDe="hex",bWt=["typed","format"],y$=ae(XDe,bWt,t=>{var{typed:e,format:r}=t;return e(XDe,{"number | BigNumber":function(a){return r(a,{notation:"hex"})},"number | BigNumber, number":function(a,o){return r(a,{notation:"hex",wordSize:o})}})})});function t4e(t,e,r){return t.replace(/\$([\w.]+)/g,function(n,a){for(var o=a.split("."),s=e[o.shift()];o.length&&s!==void 0;){var u=o.shift();s=u?s[u]:s+"."}return s!==void 0?ja(s)?s:mr(s,r):n})}var e4e,wWt,b$,r4e=te(()=>{w();_();xi();zt();Fe();e4e="print",wWt=["typed"],b$=ae(e4e,wWt,t=>{var{typed:e}=t;return e(e4e,{"string, Object | Array":t4e,"string, Object | Array, number | Object":t4e})})});var n4e,xWt,w$,i4e=te(()=>{w();_();Fe();di();Tn();n4e="to",xWt=["typed","matrix"],w$=ae(n4e,xWt,t=>{var{typed:e,matrix:r}=t,n=Er({typed:e}),a=or({typed:e});return e(n4e,{"Unit, Unit | string":function(s,u){return s.to(u)},"Matrix, Matrix":function(s,u){return n(s,u,this)},"Array, Array":function(s,u){return this(r(s),r(u)).valueOf()},"Array, Matrix":function(s,u){return this(r(s),u)},"Matrix, Array":function(s,u){return this(s,r(u))},"Matrix, any":function(s,u){return a(s,u,this,!1)},"any, Matrix":function(s,u){return a(u,s,this,!0)},"Array, any":function(s,u){return a(r(s),u,this,!1).valueOf()},"any, Array":function(s,u){return a(r(u),s,this,!0).valueOf()}})})});var a4e,_Wt,x$,o4e=te(()=>{w();_();Zt();Fe();a4e="isPrime",_Wt=["typed"],x$=ae(a4e,_Wt,t=>{var{typed:e}=t;return e(a4e,{number:function(n){if(n*0!==0)return!1;if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var a=5;a*a<=n;a+=6)if(n%a===0||n%(a+2)===0)return!1;return!0},BigNumber:function(n){if(n.toNumber()*0!==0)return!1;if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var a=n.toNumber(),o=5;o*o<=a;o+=6)if(a%o===0||a%(o+2)===0)return!1;return!0}function s(R,O,F){for(var z=1;!O.eq(0);)O.mod(2).eq(0)?(O=O.div(2),R=R.mul(R).mod(F)):(O=O.sub(1),z=R.mul(z).mod(F));return z}var u=n.constructor.clone({precision:n.toFixed(0).length*2});n=new u(n);for(var f=0,l=n.sub(1);l.mod(2).eq(0);)l=l.div(2),f+=1;var c=null;if(n.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(R=>R<n);else{var h=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));c=[];for(var m=2;m<=h;m+=1)c.push(h)}for(var g=0;g<c.length;g+=1){var b=c[g],A=s(n.sub(n).add(b),l,n);if(!A.eq(1)){for(var I=0,C=A;!C.eq(n.sub(1));I+=1,C=C.mul(C).mod(n))if(I===f-1)return!1}}return!0},"Array | Matrix":function(n){return Et(n,this)}})})});var SWt,EWt,_$,s4e=te(()=>{w();_();zt();Fe();xE();SWt="numeric",EWt=["number","?bignumber","?fraction"],_$=ae(SWt,EWt,t=>{var{number:e,bignumber:r,fraction:n}=t,a={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:s=>e(s),BigNumber:r?s=>r(s):xw,Fraction:n?s=>n(s):sI};return function(u,f){var l=$r(u);if(!(l in a))throw new TypeError("Cannot convert "+u+' of type "'+l+'"; valid input types are '+Object.keys(a).join(", "));if(!(f in o))throw new TypeError("Cannot convert "+u+' to type "'+f+'"; valid output types are '+Object.keys(o).join(", "));return f===l?u:o[f](u)}})});var u4e,MWt,S$,f4e=te(()=>{w();_();Fe();zt();u4e="divideScalar",MWt=["typed","numeric"],S$=ae(u4e,MWt,t=>{var{typed:e,numeric:r}=t;return e(u4e,{"number, number":function(a,o){return a/o},"Complex, Complex":function(a,o){return a.div(o)},"BigNumber, BigNumber":function(a,o){return a.div(o)},"Fraction, Fraction":function(a,o){return a.div(o)},"Unit, number | Fraction | BigNumber":function(a,o){var s=a.clone(),u=r(1,$r(o));return s.value=this(s.value===null?s._normalize(u):s.value,o),s},"number | Fraction | BigNumber, Unit":function(a,o){var s=o.clone();s=s.pow(-1);var u=r(1,$r(a));return s.value=this(a,o.value===null?o._normalize(u):o.value),s},"Unit, Unit":function(a,o){return a.divide(o)}})})});var l4e,AWt,E$,c4e=te(()=>{w();_();Fe();zr();wr();Sr();l4e="pow",AWt=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],E$=ae(l4e,AWt,t=>{var{typed:e,config:r,identity:n,multiply:a,matrix:o,inv:s,number:u,fraction:f,Complex:l}=t;return e(l4e,{"number, number":c,"Complex, Complex":function(b,A){return b.pow(A)},"BigNumber, BigNumber":function(b,A){return A.isInteger()||b>=0||r.predictable?b.pow(A):new l(b.toNumber(),0).pow(A.toNumber(),0)},"Fraction, Fraction":function(b,A){var I=b.pow(A);if(I!=null)return I;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(b.valueOf(),A.valueOf())},"Array, number":h,"Array, BigNumber":function(b,A){return h(b,A.toNumber())},"Matrix, number":m,"Matrix, BigNumber":function(b,A){return m(b,A.toNumber())},"Unit, number | BigNumber":function(b,A){return b.pow(A)}});function c(g,b){if(r.predictable&&!Ut(b)&&g<0)try{var A=f(b),I=u(A);if((b===I||Math.abs((b-I)/b)<1e-14)&&A.d%2===1)return(A.n%2===0?1:-1)*Math.pow(-g,b)}catch(C){}return r.predictable&&(g<-1&&b===1/0||g>-1&&g<0&&b===-1/0)?NaN:Ut(b)||g>=0||r.predictable?Wz(g,b):g*g<1&&b===1/0||g*g>1&&b===-1/0?0:new l(g,0).pow(b,0)}function h(g,b){if(!Ut(b))throw new TypeError("For A^b, b must be an integer (value is "+b+")");var A=vr(g);if(A.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+A.length+" dimensions)");if(A[0]!==A[1])throw new Error("For A^b, A must be square (size is "+A[0]+"x"+A[1]+")");if(b<0)try{return h(s(g),-b)}catch(R){throw R.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+b+")"):R}for(var I=n(A[0]).valueOf(),C=g;b>=1;)(b&1)===1&&(I=a(C,I)),b>>=1,C=a(C,C);return I}function m(g,b){return o(h(g.valueOf(),b))}})});var Sw,h4e,NWt,M$,p4e=te(()=>{w();_();Fe();Zt();ko();so();Tn();Sr();Sw="Number of decimals in function round must be an integer",h4e="round",NWt=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],M$=ae(h4e,NWt,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:a,BigNumber:o,DenseMatrix:s}=t,u=Bn({typed:e,equalScalar:n}),f=Sn({typed:e,DenseMatrix:s}),l=or({typed:e});return e(h4e,{number:Gz,"number, number":Gz,"number, BigNumber":function(h,m){if(!m.isInteger())throw new TypeError(Sw);return new o(h).toDecimalPlaces(m.toNumber())},Complex:function(h){return h.round()},"Complex, number":function(h,m){if(m%1)throw new TypeError(Sw);return h.round(m)},"Complex, BigNumber":function(h,m){if(!m.isInteger())throw new TypeError(Sw);var g=m.toNumber();return h.round(g)},BigNumber:function(h){return h.toDecimalPlaces(0)},"BigNumber, BigNumber":function(h,m){if(!m.isInteger())throw new TypeError(Sw);return h.toDecimalPlaces(m.toNumber())},Fraction:function(h){return h.round()},"Fraction, number":function(h,m){if(m%1)throw new TypeError(Sw);return h.round(m)},"Fraction, BigNumber":function(h,m){if(!m.isInteger())throw new TypeError(Sw);return h.round(m.toNumber())},"Array | Matrix":function(h){return Et(h,this,!0)},"SparseMatrix, number | BigNumber":function(h,m){return u(h,m,this,!1)},"DenseMatrix, number | BigNumber":function(h,m){return l(h,m,this,!1)},"Array, number | BigNumber":function(h,m){return l(r(h),m,this,!1).valueOf()},"number | Complex | BigNumber | Fraction, SparseMatrix":function(h,m){return n(h,0)?a(m.size(),m.storage()):f(m,h,this,!0)},"number | Complex | BigNumber | Fraction, DenseMatrix":function(h,m){return n(h,0)?a(m.size(),m.storage()):l(m,h,this,!0)},"number | Complex | BigNumber | Fraction, Array":function(h,m){return l(r(m),h,this,!0).valueOf()}})})});var d4e,TWt,A$,m4e=te(()=>{w();_();Fe();Zt();Sr();d4e="log",TWt=["config","typed","divideScalar","Complex"],A$=ae(d4e,TWt,t=>{var{typed:e,config:r,divideScalar:n,Complex:a}=t;return e(d4e,{number:function(s){return s>=0||r.predictable?E3e(s):new a(s,0).log()},Complex:function(s){return s.log()},BigNumber:function(s){return!s.isNegative()||r.predictable?s.ln():new a(s.toNumber(),0).log()},"Array | Matrix":function(s){return Et(s,this)},"any, any":function(s,u){return n(this(s),this(u))}})})});var v4e,DWt,N$,g4e=te(()=>{w();_();Fe();Zt();zr();v4e="log1p",DWt=["typed","config","divideScalar","log","Complex"],N$=ae(v4e,DWt,t=>{var{typed:e,config:r,divideScalar:n,log:a,Complex:o}=t;return e(v4e,{number:function(f){return f>=-1||r.predictable?Pk(f):s(new o(f,0))},Complex:s,BigNumber:function(f){var l=f.plus(1);return!l.isNegative()||r.predictable?l.ln():s(new o(f.toNumber(),0))},"Array | Matrix":function(f){return Et(f,this)},"any, any":function(f,l){return n(this(f),a(l))}});function s(u){var f=u.re+1;return new o(Math.log(Math.sqrt(f*f+u.im*u.im)),Math.atan2(u.im,f))}})});var y4e,kWt,T$,b4e=te(()=>{w();_();Fe();y4e="nthRoots",kWt=["config","typed","divideScalar","Complex"],T$=ae(y4e,kWt,t=>{var{typed:e,config:r,divideScalar:n,Complex:a}=t,o=[function(f){return new a(f,0)},function(f){return new a(0,f)},function(f){return new a(-f,0)},function(f){return new a(0,-f)}];function s(u,f){if(f<0)throw new Error("Root must be greater than zero");if(f===0)throw new Error("Root must be non-zero");if(f%1!==0)throw new Error("Root must be an integer");if(u===0||u.abs()===0)return[new a(0,0)];var l=typeof u=="number",c;(l||u.re===0||u.im===0)&&(l?c=2*+(u<0):u.im===0?c=2*+(u.re<0):c=2*+(u.im<0)+1);for(var h=u.arg(),m=u.abs(),g=[],b=Math.pow(m,1/f),A=0;A<f;A++){var I=(c+4*A)/f;if(I===Math.round(I)){g.push(o[I%4](b));continue}g.push(new a({r:b,phi:(h+2*Math.PI*A)/f}))}return g}return e(y4e,{Complex:function(f){return s(f,2)},"Complex, number":s})})});var w4e,IWt,D$,x4e=te(()=>{w();_();Fe();hs();jl();ko();so();di();Tn();w4e="dotPow",IWt=["typed","equalScalar","matrix","pow","DenseMatrix"],D$=ae(w4e,IWt,t=>{var{typed:e,equalScalar:r,matrix:n,pow:a,DenseMatrix:o}=t,s=ai({typed:e}),u=Ya({typed:e,DenseMatrix:o}),f=Bn({typed:e,equalScalar:r}),l=Sn({typed:e,DenseMatrix:o}),c=Er({typed:e}),h=or({typed:e});return e(w4e,{"any, any":a,"SparseMatrix, SparseMatrix":function(g,b){return u(g,b,a,!1)},"SparseMatrix, DenseMatrix":function(g,b){return s(b,g,a,!0)},"DenseMatrix, SparseMatrix":function(g,b){return s(g,b,a,!1)},"DenseMatrix, DenseMatrix":function(g,b){return c(g,b,a)},"Array, Array":function(g,b){return this(n(g),n(b)).valueOf()},"Array, Matrix":function(g,b){return this(n(g),b)},"Matrix, Array":function(g,b){return this(g,n(b))},"SparseMatrix, any":function(g,b){return f(g,b,this,!1)},"DenseMatrix, any":function(g,b){return h(g,b,this,!1)},"any, SparseMatrix":function(g,b){return l(b,g,this,!0)},"any, DenseMatrix":function(g,b){return h(b,g,this,!0)},"Array, any":function(g,b){return h(n(g),b,this,!1).valueOf()},"any, Array":function(g,b){return h(n(b),g,this,!0).valueOf()}})})});var _4e,CWt,k$,S4e=te(()=>{w();_();Fe();Zf();hs();jl();ko();so();di();Tn();_4e="dotDivide",CWt=["typed","matrix","equalScalar","divideScalar","DenseMatrix"],k$=ae(_4e,CWt,t=>{var{typed:e,matrix:r,equalScalar:n,divideScalar:a,DenseMatrix:o}=t,s=Ra({typed:e,equalScalar:n}),u=ai({typed:e}),f=Ya({typed:e,DenseMatrix:o}),l=Bn({typed:e,equalScalar:n}),c=Sn({typed:e,DenseMatrix:o}),h=Er({typed:e}),m=or({typed:e});return e(_4e,{"any, any":a,"SparseMatrix, SparseMatrix":function(b,A){return f(b,A,a,!1)},"SparseMatrix, DenseMatrix":function(b,A){return s(A,b,a,!0)},"DenseMatrix, SparseMatrix":function(b,A){return u(b,A,a,!1)},"DenseMatrix, DenseMatrix":function(b,A){return h(b,A,a)},"Array, Array":function(b,A){return this(r(b),r(A)).valueOf()},"Array, Matrix":function(b,A){return this(r(b),A)},"Matrix, Array":function(b,A){return this(b,r(A))},"SparseMatrix, any":function(b,A){return l(b,A,a,!1)},"DenseMatrix, any":function(b,A){return m(b,A,a,!1)},"any, SparseMatrix":function(b,A){return c(A,b,a,!0)},"any, DenseMatrix":function(b,A){return m(A,b,a,!0)},"Array, any":function(b,A){return m(r(b),A,a,!1).valueOf()},"any, Array":function(b,A){return m(r(A),b,a,!0).valueOf()}})})});function Gc(t){var{DenseMatrix:e}=t;return function(n,a,o){var s=n.size();if(s.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+mr(s)+")");var u=s[0],f=s[1];if(u!==f)throw new RangeError("Matrix must be square (size: "+mr(s)+")");var l=[];if(Kt(a)){var c=a.size(),h=a._data;if(c.length===1){if(c[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var m=0;m<u;m++)l[m]=[h[m]];return new e({data:l,size:[u,1],datatype:a._datatype})}if(c.length===2){if(c[0]!==u||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Ev(a)){if(o){l=[];for(var g=0;g<u;g++)l[g]=[h[g][0]];return new e({data:l,size:[u,1],datatype:a._datatype})}return a}if(ql(a)){for(var b=0;b<u;b++)l[b]=[0];for(var A=a._values,I=a._index,C=a._ptr,R=C[1],O=C[0];O<R;O++){var F=I[O];l[F][0]=A[O]}return new e({data:l,size:[u,1],datatype:a._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(hn(a)){var z=vr(a);if(z.length===1){if(z[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var B=0;B<u;B++)l[B]=[a[B]];return new e({data:l,size:[u,1]})}if(z.length===2){if(z[0]!==u||z[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var $=0;$<u;$++)l[$]=[a[$][0]];return new e({data:l,size:[u,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Ew=te(()=>{w();_();zt();wr();xi()});var E4e,OWt,I$,M4e=te(()=>{w();_();Fe();Ew();E4e="lsolve",OWt=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],I$=ae(E4e,OWt,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:a,subtract:o,equalScalar:s,DenseMatrix:u}=t,f=Gc({DenseMatrix:u});return e(E4e,{"SparseMatrix, Array | Matrix":function(m,g){return c(m,g)},"DenseMatrix, Array | Matrix":function(m,g){return l(m,g)},"Array, Array | Matrix":function(m,g){var b=r(m),A=l(b,g);return A.valueOf()}});function l(h,m){m=f(h,m,!0);for(var g=m._data,b=h._size[0],A=h._size[1],I=[],C=h._data,R=0;R<A;R++){var O=g[R][0]||0,F=void 0;if(s(O,0))F=0;else{var z=C[R][R];if(s(z,0))throw new Error("Linear system cannot be solved since matrix is singular");F=n(O,z);for(var B=R+1;B<b;B++)g[B]=[o(g[B][0]||0,a(F,C[B][R]))]}I[R]=[F]}return new u({data:I,size:[b,1]})}function c(h,m){m=f(h,m,!0);for(var g=m._data,b=h._size[0],A=h._size[1],I=h._values,C=h._index,R=h._ptr,O=[],F=0;F<A;F++){var z=g[F][0]||0;if(s(z,0))O[F]=[0];else{for(var B=0,$=[],j=[],W=R[F],T=R[F+1],p=W;p<T;p++){var v=C[p];v===F?B=I[p]:v>F&&($.push(I[p]),j.push(v))}if(s(B,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var S=n(z,B),y=0,M=j.length;y<M;y++){var D=j[y];g[D]=[o(g[D][0]||0,a(S,$[y]))]}O[F]=[S]}}return new u({data:O,size:[b,1]})}})});var A4e,RWt,C$,N4e=te(()=>{w();_();Fe();Ew();A4e="usolve",RWt=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],C$=ae(A4e,RWt,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:a,subtract:o,equalScalar:s,DenseMatrix:u}=t,f=Gc({DenseMatrix:u});return e(A4e,{"SparseMatrix, Array | Matrix":function(m,g){return c(m,g)},"DenseMatrix, Array | Matrix":function(m,g){return l(m,g)},"Array, Array | Matrix":function(m,g){var b=r(m),A=l(b,g);return A.valueOf()}});function l(h,m){m=f(h,m,!0);for(var g=m._data,b=h._size[0],A=h._size[1],I=[],C=h._data,R=A-1;R>=0;R--){var O=g[R][0]||0,F=void 0;if(s(O,0))F=0;else{var z=C[R][R];if(s(z,0))throw new Error("Linear system cannot be solved since matrix is singular");F=n(O,z);for(var B=R-1;B>=0;B--)g[B]=[o(g[B][0]||0,a(F,C[B][R]))]}I[R]=[F]}return new u({data:I,size:[b,1]})}function c(h,m){m=f(h,m,!0);for(var g=m._data,b=h._size[0],A=h._size[1],I=h._values,C=h._index,R=h._ptr,O=[],F=A-1;F>=0;F--){var z=g[F][0]||0;if(s(z,0))O[F]=[0];else{for(var B=0,$=[],j=[],W=R[F],T=R[F+1],p=T-1;p>=W;p--){var v=C[p];v===F?B=I[p]:v<F&&($.push(I[p]),j.push(v))}if(s(B,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var S=n(z,B),y=0,M=j.length;y<M;y++){var D=j[y];g[D]=[o(g[D][0],a(S,$[y]))]}O[F]=[S]}}return new u({data:O,size:[b,1]})}})});var T4e,FWt,O$,D4e=te(()=>{w();_();Fe();Ew();T4e="lsolveAll",FWt=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],O$=ae(T4e,FWt,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:a,subtract:o,equalScalar:s,DenseMatrix:u}=t,f=Gc({DenseMatrix:u});return e(T4e,{"SparseMatrix, Array | Matrix":function(m,g){return c(m,g)},"DenseMatrix, Array | Matrix":function(m,g){return l(m,g)},"Array, Array | Matrix":function(m,g){var b=r(m),A=l(b,g);return A.map(I=>I.valueOf())}});function l(h,m){for(var g=[f(h,m,!0)._data.map(j=>j[0])],b=h._data,A=h._size[0],I=h._size[1],C=0;C<I;C++)for(var R=g.length,O=0;O<R;O++){var F=g[O];if(s(b[C][C],0))if(s(F[C],0)){if(O===0){var B=[...F];B[C]=1;for(var $=C+1;$<I;$++)B[$]=o(B[$],b[$][C]);g.push(B)}}else{if(O===0)return[];g.splice(O,1),O-=1,R-=1}else{F[C]=n(F[C],b[C][C]);for(var z=C+1;z<I;z++)F[z]=o(F[z],a(F[C],b[z][C]))}}return g.map(j=>new u({data:j.map(W=>[W]),size:[A,1]}))}function c(h,m){for(var g=[f(h,m,!0)._data.map(U=>U[0])],b=h._size[0],A=h._size[1],I=h._values,C=h._index,R=h._ptr,O=0;O<A;O++)for(var F=g.length,z=0;z<F;z++){for(var B=g[z],$=[],j=[],W=R[O],T=R[O+1],p=0,v=W;v<T;v++){var S=C[v];S===O?p=I[v]:S>O&&($.push(I[v]),j.push(S))}if(s(p,0))if(s(B[O],0)){if(z===0){var k=[...B];k[O]=1;for(var E=0,d=j.length;E<d;E++){var N=j[E];k[N]=o(k[N],$[E])}g.push(k)}}else{if(z===0)return[];g.splice(z,1),z-=1,F-=1}else{B[O]=n(B[O],p);for(var y=0,M=j.length;y<M;y++){var D=j[y];B[D]=o(B[D],a(B[O],$[y]))}}}return g.map(U=>new u({data:U.map(q=>[q]),size:[b,1]}))}})});var k4e,BWt,R$,I4e=te(()=>{w();_();Fe();Ew();k4e="usolveAll",BWt=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],R$=ae(k4e,BWt,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:a,subtract:o,equalScalar:s,DenseMatrix:u}=t,f=Gc({DenseMatrix:u});return e(k4e,{"SparseMatrix, Array | Matrix":function(m,g){return c(m,g)},"DenseMatrix, Array | Matrix":function(m,g){return l(m,g)},"Array, Array | Matrix":function(m,g){var b=r(m),A=l(b,g);return A.map(I=>I.valueOf())}});function l(h,m){for(var g=[f(h,m,!0)._data.map(j=>j[0])],b=h._data,A=h._size[0],I=h._size[1],C=I-1;C>=0;C--)for(var R=g.length,O=0;O<R;O++){var F=g[O];if(s(b[C][C],0))if(s(F[C],0)){if(O===0){var B=[...F];B[C]=1;for(var $=C-1;$>=0;$--)B[$]=o(B[$],b[$][C]);g.push(B)}}else{if(O===0)return[];g.splice(O,1),O-=1,R-=1}else{F[C]=n(F[C],b[C][C]);for(var z=C-1;z>=0;z--)F[z]=o(F[z],a(F[C],b[z][C]))}}return g.map(j=>new u({data:j.map(W=>[W]),size:[A,1]}))}function c(h,m){for(var g=[f(h,m,!0)._data.map(U=>U[0])],b=h._size[0],A=h._size[1],I=h._values,C=h._index,R=h._ptr,O=A-1;O>=0;O--)for(var F=g.length,z=0;z<F;z++){for(var B=g[z],$=[],j=[],W=R[O],T=R[O+1],p=0,v=T-1;v>=W;v--){var S=C[v];S===O?p=I[v]:S<O&&($.push(I[v]),j.push(S))}if(s(p,0))if(s(B[O],0)){if(z===0){var k=[...B];k[O]=1;for(var E=0,d=j.length;E<d;E++){var N=j[E];k[N]=o(k[N],$[E])}g.push(k)}}else{if(z===0)return[];g.splice(z,1),z-=1,F-=1}else{B[O]=n(B[O],p);for(var y=0,M=j.length;y<M;y++){var D=j[y];B[D]=o(B[D],a(B[O],$[y]))}}}return g.map(U=>new u({data:U.map(q=>[q]),size:[b,1]}))}})});var LWt,PWt,Mw,fI=te(()=>{w();_();Fe();To();LWt="algorithm08",PWt=["typed","equalScalar"],Mw=ae(LWt,PWt,t=>{var{typed:e,equalScalar:r}=t;return function(a,o,s){var u=a._values,f=a._index,l=a._ptr,c=a._size,h=a._datatype,m=o._values,g=o._index,b=o._ptr,A=o._size,I=o._datatype;if(c.length!==A.length)throw new br(c.length,A.length);if(c[0]!==A[0]||c[1]!==A[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+A+")");if(!u||!m)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var C=c[0],R=c[1],O,F=r,z=0,B=s;typeof h=="string"&&h===I&&(O=h,F=e.find(r,[O,O]),z=e.convert(0,O),B=e.find(s,[O,O]));for(var $=[],j=[],W=[],T=[],p=[],v,S,y,M,D=0;D<R;D++){W[D]=j.length;var k=D+1;for(S=l[D],y=l[D+1],v=S;v<y;v++)M=f[v],p[M]=k,T[M]=u[v],j.push(M);for(S=b[D],y=b[D+1],v=S;v<y;v++)M=g[v],p[M]===k&&(T[M]=B(T[M],m[v]));for(v=W[D];v<j.length;){M=j[v];var E=T[M];F(E,z)?j.splice(v,1):($.push(E),v++)}}return W[R]=j.length,a.createSparseMatrix({values:$,index:j,ptr:W,size:[C,R],datatype:O})}})});var C4e,qWt,F$,O4e=te(()=>{w();_();Zf();ko();di();Tn();hp();Gd();fI();Fe();Sr();kv();C4e="leftShift",qWt=["typed","matrix","equalScalar","zeros","DenseMatrix"],F$=ae(C4e,qWt,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:a,DenseMatrix:o}=t,s=cs({typed:e}),u=Ra({typed:e,equalScalar:n}),f=Mw({typed:e,equalScalar:n}),l=tu({typed:e,DenseMatrix:o}),c=Bn({typed:e,equalScalar:n}),h=Er({typed:e}),m=or({typed:e});return e(C4e,{"number, number":Yz,"BigNumber, BigNumber":bTe,"SparseMatrix, SparseMatrix":function(b,A){return f(b,A,this,!1)},"SparseMatrix, DenseMatrix":function(b,A){return u(A,b,this,!0)},"DenseMatrix, SparseMatrix":function(b,A){return s(b,A,this,!1)},"DenseMatrix, DenseMatrix":function(b,A){return h(b,A,this)},"Array, Array":function(b,A){return this(r(b),r(A)).valueOf()},"Array, Matrix":function(b,A){return this(r(b),A)},"Matrix, Array":function(b,A){return this(b,r(A))},"SparseMatrix, number | BigNumber":function(b,A){return n(A,0)?b.clone():c(b,A,this,!1)},"DenseMatrix, number | BigNumber":function(b,A){return n(A,0)?b.clone():m(b,A,this,!1)},"number | BigNumber, SparseMatrix":function(b,A){return n(b,0)?a(A.size(),A.storage()):l(A,b,this,!0)},"number | BigNumber, DenseMatrix":function(b,A){return n(b,0)?a(A.size(),A.storage()):m(A,b,this,!0)},"Array, number | BigNumber":function(b,A){return this(r(b),A).valueOf()},"number | BigNumber, Array":function(b,A){return this(b,r(A)).valueOf()}})})});var R4e,zWt,B$,F4e=te(()=>{w();_();kv();Zf();ko();di();Tn();hp();Gd();fI();Fe();Sr();R4e="rightArithShift",zWt=["typed","matrix","equalScalar","zeros","DenseMatrix"],B$=ae(R4e,zWt,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:a,DenseMatrix:o}=t,s=cs({typed:e}),u=Ra({typed:e,equalScalar:n}),f=Mw({typed:e,equalScalar:n}),l=tu({typed:e,DenseMatrix:o}),c=Bn({typed:e,equalScalar:n}),h=Er({typed:e}),m=or({typed:e});return e(R4e,{"number, number":Xz,"BigNumber, BigNumber":wTe,"SparseMatrix, SparseMatrix":function(b,A){return f(b,A,this,!1)},"SparseMatrix, DenseMatrix":function(b,A){return u(A,b,this,!0)},"DenseMatrix, SparseMatrix":function(b,A){return s(b,A,this,!1)},"DenseMatrix, DenseMatrix":function(b,A){return h(b,A,this)},"Array, Array":function(b,A){return this(r(b),r(A)).valueOf()},"Array, Matrix":function(b,A){return this(r(b),A)},"Matrix, Array":function(b,A){return this(b,r(A))},"SparseMatrix, number | BigNumber":function(b,A){return n(A,0)?b.clone():c(b,A,this,!1)},"DenseMatrix, number | BigNumber":function(b,A){return n(A,0)?b.clone():m(b,A,this,!1)},"number | BigNumber, SparseMatrix":function(b,A){return n(b,0)?a(A.size(),A.storage()):l(A,b,this,!0)},"number | BigNumber, DenseMatrix":function(b,A){return n(b,0)?a(A.size(),A.storage()):m(A,b,this,!0)},"Array, number | BigNumber":function(b,A){return this(r(b),A).valueOf()},"number | BigNumber, Array":function(b,A){return this(b,r(A)).valueOf()}})})});var B4e,UWt,L$,L4e=te(()=>{w();_();Zf();ko();di();Tn();hp();Gd();fI();Fe();Sr();B4e="rightLogShift",UWt=["typed","matrix","equalScalar","zeros","DenseMatrix"],L$=ae(B4e,UWt,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:a,DenseMatrix:o}=t,s=cs({typed:e}),u=Ra({typed:e,equalScalar:n}),f=Mw({typed:e,equalScalar:n}),l=tu({typed:e,DenseMatrix:o}),c=Bn({typed:e,equalScalar:n}),h=Er({typed:e}),m=or({typed:e});return e(B4e,{"number, number":Qz,"SparseMatrix, SparseMatrix":function(b,A){return f(b,A,this,!1)},"SparseMatrix, DenseMatrix":function(b,A){return u(A,b,this,!0)},"DenseMatrix, SparseMatrix":function(b,A){return s(b,A,this,!1)},"DenseMatrix, DenseMatrix":function(b,A){return h(b,A,this)},"Array, Array":function(b,A){return this(r(b),r(A)).valueOf()},"Array, Matrix":function(b,A){return this(r(b),A)},"Matrix, Array":function(b,A){return this(b,r(A))},"SparseMatrix, number | BigNumber":function(b,A){return n(A,0)?b.clone():c(b,A,this,!1)},"DenseMatrix, number | BigNumber":function(b,A){return n(A,0)?b.clone():m(b,A,this,!1)},"number | BigNumber, SparseMatrix":function(b,A){return n(b,0)?a(A.size(),A.storage()):l(A,b,this,!0)},"number | BigNumber, DenseMatrix":function(b,A){return n(b,0)?a(A.size(),A.storage()):m(A,b,this,!0)},"Array, number | BigNumber":function(b,A){return this(r(b),A).valueOf()},"number | BigNumber, Array":function(b,A){return this(b,r(A)).valueOf()}})})});var P4e,jWt,P$,q4e=te(()=>{w();_();Zf();ko();di();Tn();vE();Fe();Sr();P4e="and",jWt=["typed","matrix","equalScalar","zeros","not"],P$=ae(P4e,jWt,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:a,not:o}=t,s=Ra({typed:e,equalScalar:n}),u=Hd({typed:e,equalScalar:n}),f=Bn({typed:e,equalScalar:n}),l=Er({typed:e}),c=or({typed:e});return e(P4e,{"number, number":oU,"Complex, Complex":function(m,g){return(m.re!==0||m.im!==0)&&(g.re!==0||g.im!==0)},"BigNumber, BigNumber":function(m,g){return!m.isZero()&&!g.isZero()&&!m.isNaN()&&!g.isNaN()},"Unit, Unit":function(m,g){return this(m.value||0,g.value||0)},"SparseMatrix, SparseMatrix":function(m,g){return u(m,g,this,!1)},"SparseMatrix, DenseMatrix":function(m,g){return s(g,m,this,!0)},"DenseMatrix, SparseMatrix":function(m,g){return s(m,g,this,!1)},"DenseMatrix, DenseMatrix":function(m,g){return l(m,g,this)},"Array, Array":function(m,g){return this(r(m),r(g)).valueOf()},"Array, Matrix":function(m,g){return this(r(m),g)},"Matrix, Array":function(m,g){return this(m,r(g))},"SparseMatrix, any":function(m,g){return o(g)?a(m.size(),m.storage()):f(m,g,this,!1)},"DenseMatrix, any":function(m,g){return o(g)?a(m.size(),m.storage()):c(m,g,this,!1)},"any, SparseMatrix":function(m,g){return o(m)?a(m.size(),m.storage()):f(g,m,this,!0)},"any, DenseMatrix":function(m,g){return o(m)?a(m.size(),m.storage()):c(g,m,this,!0)},"Array, any":function(m,g){return this(r(m),g).valueOf()},"any, Array":function(m,g){return this(m,r(g)).valueOf()}})})});var z4e,$Wt,q$,U4e=te(()=>{w();_();cp();zr();Fe();hs();so();Tn();di();gE();z4e="compare",$Wt=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],q$=ae(z4e,$Wt,t=>{var{typed:e,config:r,equalScalar:n,matrix:a,BigNumber:o,Fraction:s,DenseMatrix:u}=t,f=ai({typed:e}),l=Kd({typed:e,equalScalar:n}),c=Sn({typed:e,DenseMatrix:u}),h=Er({typed:e}),m=or({typed:e});return e(z4e,{"boolean, boolean":function(b,A){return b===A?0:b>A?1:-1},"number, number":function(b,A){return Oa(b,A,r.epsilon)?0:b>A?1:-1},"BigNumber, BigNumber":function(b,A){return Do(b,A,r.epsilon)?new o(0):new o(b.cmp(A))},"Fraction, Fraction":function(b,A){return new s(b.compare(A))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(b,A){if(!b.equalBase(A))throw new Error("Cannot compare units with different base");return this(b.value,A.value)},"SparseMatrix, SparseMatrix":function(b,A){return l(b,A,this)},"SparseMatrix, DenseMatrix":function(b,A){return f(A,b,this,!0)},"DenseMatrix, SparseMatrix":function(b,A){return f(b,A,this,!1)},"DenseMatrix, DenseMatrix":function(b,A){return h(b,A,this)},"Array, Array":function(b,A){return this(a(b),a(A)).valueOf()},"Array, Matrix":function(b,A){return this(a(b),A)},"Matrix, Array":function(b,A){return this(b,a(A))},"SparseMatrix, any":function(b,A){return c(b,A,this,!1)},"DenseMatrix, any":function(b,A){return m(b,A,this,!1)},"any, SparseMatrix":function(b,A){return c(A,b,this,!0)},"any, DenseMatrix":function(b,A){return m(A,b,this,!0)},"Array, any":function(b,A){return m(a(b),A,this,!1).valueOf()},"any, Array":function(b,A){return m(a(A),b,this,!0).valueOf()}})})});var $4e=Ee((kUr,j4e)=>{w();_();j4e.exports=function t(e,r){"use strict";var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,u=/^0/,f=function(O){return t.insensitive&&(""+O).toLowerCase()||""+O},l=f(e).replace(a,"")||"",c=f(r).replace(a,"")||"",h=l.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=parseInt(l.match(s),16)||h.length!==1&&l.match(o)&&Date.parse(l),b=parseInt(c.match(s),16)||g&&c.match(o)&&Date.parse(c)||null,A,I;if(b){if(g<b)return-1;if(g>b)return 1}for(var C=0,R=Math.max(h.length,m.length);C<R;C++){if(A=!(h[C]||"").match(u)&&parseFloat(h[C])||h[C]||0,I=!(m[C]||"").match(u)&&parseFloat(m[C])||m[C]||0,isNaN(A)!==isNaN(I))return isNaN(A)?1:-1;if(typeof A!=typeof I&&(A+="",I+=""),A<I)return-1;if(A>I)return 1}return 0}});function WWt(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}var Ov,V4e,VWt,z$,W4e=te(()=>{w();_();Ov=Bt($4e(),1);zt();Fe();V4e="compareNatural",VWt=["typed","compare"],z$=ae(V4e,VWt,t=>{var{typed:e,compare:r}=t,n=r.signatures["boolean,boolean"];return e(V4e,{"any, any":function(f,l){var c=$r(f),h=$r(l),m;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(h==="number"||h==="BigNumber"||h==="Fraction"))return m=r(f,l),m.toString()!=="0"?m>0?1:-1:(0,Ov.default)(c,h);if(c==="Array"||c==="Matrix"||h==="Array"||h==="Matrix")return m=a(this,f,l),m!==0?m:(0,Ov.default)(c,h);if(c!==h)return(0,Ov.default)(c,h);if(c==="Complex")return WWt(f,l);if(c==="Unit")return f.equalBase(l)?this(f.value,l.value):o(this,f.formatUnits(),l.formatUnits());if(c==="boolean")return n(f,l);if(c==="string")return(0,Ov.default)(f,l);if(c==="Object")return s(this,f,l);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}});function a(u,f,l){return ql(f)&&ql(l)?o(u,f.toJSON().values,l.toJSON().values):ql(f)?a(u,f.toArray(),l):ql(l)?a(u,f,l.toArray()):Ev(f)?a(u,f.toJSON().data,l):Ev(l)?a(u,f,l.toJSON().data):Array.isArray(f)?Array.isArray(l)?o(u,f,l):a(u,f,[l]):a(u,[f],l)}function o(u,f,l){for(var c=0,h=Math.min(f.length,l.length);c<h;c++){var m=u(f[c],l[c]);if(m!==0)return m}return f.length>l.length?1:f.length<l.length?-1:0}function s(u,f,l){var c=Object.keys(f),h=Object.keys(l);c.sort(Ov.default),h.sort(Ov.default);var m=o(u,c,h);if(m!==0)return m;for(var g=0;g<c.length;g++){var b=u(f[c[g]],l[h[g]]);if(b!==0)return b}return 0}})});var G4e,GWt,U$,H4e=te(()=>{w();_();xi();Fe();Tn();di();G4e="compareText",GWt=["typed","matrix"],U$=ae(G4e,GWt,t=>{var{typed:e,matrix:r}=t,n=Er({typed:e}),a=or({typed:e});return e(G4e,{"any, any":Av,"DenseMatrix, DenseMatrix":function(s,u){return n(s,u,Av)},"Array, Array":function(s,u){return this(r(s),r(u)).valueOf()},"Array, Matrix":function(s,u){return this(r(s),u)},"Matrix, Array":function(s,u){return this(s,r(u))},"DenseMatrix, any":function(s,u){return a(s,u,Av,!1)},"any, DenseMatrix":function(s,u){return a(u,s,Av,!0)},"Array, any":function(s,u){return a(r(s),u,Av,!1).valueOf()},"any, Array":function(s,u){return a(r(u),s,Av,!0).valueOf()}})})});var lI,HWt,j$,WUr,K4e=te(()=>{w();_();Fe();hs();jl();so();di();Tn();lI="equal",HWt=["typed","matrix","equalScalar","DenseMatrix"],j$=ae(lI,HWt,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:a}=t,o=ai({typed:e}),s=Ya({typed:e,DenseMatrix:a}),u=Sn({typed:e,DenseMatrix:a}),f=Er({typed:e}),l=or({typed:e});return e(lI,{"any, any":function(h,m){return h===null?m===null:m===null?h===null:h===void 0?m===void 0:m===void 0?h===void 0:n(h,m)},"SparseMatrix, SparseMatrix":function(h,m){return s(h,m,n)},"SparseMatrix, DenseMatrix":function(h,m){return o(m,h,n,!0)},"DenseMatrix, SparseMatrix":function(h,m){return o(h,m,n,!1)},"DenseMatrix, DenseMatrix":function(h,m){return f(h,m,n)},"Array, Array":function(h,m){return this(r(h),r(m)).valueOf()},"Array, Matrix":function(h,m){return this(r(h),m)},"Matrix, Array":function(h,m){return this(h,r(m))},"SparseMatrix, any":function(h,m){return u(h,m,n,!1)},"DenseMatrix, any":function(h,m){return l(h,m,n,!1)},"any, SparseMatrix":function(h,m){return u(m,h,n,!0)},"any, DenseMatrix":function(h,m){return l(m,h,n,!0)},"Array, any":function(h,m){return l(r(h),m,n,!1).valueOf()},"any, Array":function(h,m){return l(r(m),h,n,!0).valueOf()}})}),WUr=ae(lI,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(lI,{"any, any":function(a,o){return a===null?o===null:o===null?a===null:a===void 0?o===void 0:o===void 0?a===void 0:r(a,o)}})})});var Z4e,KWt,$$,J4e=te(()=>{w();_();Fe();Z4e="equalText",KWt=["typed","compareText","isZero"],$$=ae(Z4e,KWt,t=>{var{typed:e,compareText:r,isZero:n}=t;return e(Z4e,{"any, any":function(o,s){return n(r(o,s))}})})});var Y4e,ZWt,V$,X4e=te(()=>{w();_();cp();zr();Fe();hs();jl();so();Tn();di();Y4e="smaller",ZWt=["typed","config","matrix","DenseMatrix"],V$=ae(Y4e,ZWt,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:a}=t,o=ai({typed:e}),s=Ya({typed:e,DenseMatrix:a}),u=Sn({typed:e,DenseMatrix:a}),f=Er({typed:e}),l=or({typed:e});return e(Y4e,{"boolean, boolean":function(h,m){return h<m},"number, number":function(h,m){return h<m&&!Oa(h,m,r.epsilon)},"BigNumber, BigNumber":function(h,m){return h.lt(m)&&!Do(h,m,r.epsilon)},"Fraction, Fraction":function(h,m){return h.compare(m)===-1},"Complex, Complex":function(h,m){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(h,m){if(!h.equalBase(m))throw new Error("Cannot compare units with different base");return this(h.value,m.value)},"SparseMatrix, SparseMatrix":function(h,m){return s(h,m,this)},"SparseMatrix, DenseMatrix":function(h,m){return o(m,h,this,!0)},"DenseMatrix, SparseMatrix":function(h,m){return o(h,m,this,!1)},"DenseMatrix, DenseMatrix":function(h,m){return f(h,m,this)},"Array, Array":function(h,m){return this(n(h),n(m)).valueOf()},"Array, Matrix":function(h,m){return this(n(h),m)},"Matrix, Array":function(h,m){return this(h,n(m))},"SparseMatrix, any":function(h,m){return u(h,m,this,!1)},"DenseMatrix, any":function(h,m){return l(h,m,this,!1)},"any, SparseMatrix":function(h,m){return u(m,h,this,!0)},"any, DenseMatrix":function(h,m){return l(m,h,this,!0)},"Array, any":function(h,m){return l(n(h),m,this,!1).valueOf()},"any, Array":function(h,m){return l(n(m),h,this,!0).valueOf()}})})});var Q4e,JWt,W$,e6e=te(()=>{w();_();cp();zr();Fe();hs();jl();so();Tn();di();Q4e="smallerEq",JWt=["typed","config","matrix","DenseMatrix"],W$=ae(Q4e,JWt,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:a}=t,o=ai({typed:e}),s=Ya({typed:e,DenseMatrix:a}),u=Sn({typed:e,DenseMatrix:a}),f=Er({typed:e}),l=or({typed:e});return e(Q4e,{"boolean, boolean":function(h,m){return h<=m},"number, number":function(h,m){return h<=m||Oa(h,m,r.epsilon)},"BigNumber, BigNumber":function(h,m){return h.lte(m)||Do(h,m,r.epsilon)},"Fraction, Fraction":function(h,m){return h.compare(m)!==1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(h,m){if(!h.equalBase(m))throw new Error("Cannot compare units with different base");return this(h.value,m.value)},"SparseMatrix, SparseMatrix":function(h,m){return s(h,m,this)},"SparseMatrix, DenseMatrix":function(h,m){return o(m,h,this,!0)},"DenseMatrix, SparseMatrix":function(h,m){return o(h,m,this,!1)},"DenseMatrix, DenseMatrix":function(h,m){return f(h,m,this)},"Array, Array":function(h,m){return this(n(h),n(m)).valueOf()},"Array, Matrix":function(h,m){return this(n(h),m)},"Matrix, Array":function(h,m){return this(h,n(m))},"SparseMatrix, any":function(h,m){return u(h,m,this,!1)},"DenseMatrix, any":function(h,m){return l(h,m,this,!1)},"any, SparseMatrix":function(h,m){return u(m,h,this,!0)},"any, DenseMatrix":function(h,m){return l(m,h,this,!0)},"Array, any":function(h,m){return l(n(h),m,this,!1).valueOf()},"any, Array":function(h,m){return l(n(m),h,this,!0).valueOf()}})})});var t6e,YWt,G$,r6e=te(()=>{w();_();cp();zr();Fe();hs();jl();so();Tn();di();t6e="larger",YWt=["typed","config","matrix","DenseMatrix"],G$=ae(t6e,YWt,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:a}=t,o=ai({typed:e}),s=Ya({typed:e,DenseMatrix:a}),u=Sn({typed:e,DenseMatrix:a}),f=Er({typed:e}),l=or({typed:e});return e(t6e,{"boolean, boolean":function(h,m){return h>m},"number, number":function(h,m){return h>m&&!Oa(h,m,r.epsilon)},"BigNumber, BigNumber":function(h,m){return h.gt(m)&&!Do(h,m,r.epsilon)},"Fraction, Fraction":function(h,m){return h.compare(m)===1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(h,m){if(!h.equalBase(m))throw new Error("Cannot compare units with different base");return this(h.value,m.value)},"SparseMatrix, SparseMatrix":function(h,m){return s(h,m,this)},"SparseMatrix, DenseMatrix":function(h,m){return o(m,h,this,!0)},"DenseMatrix, SparseMatrix":function(h,m){return o(h,m,this,!1)},"DenseMatrix, DenseMatrix":function(h,m){return f(h,m,this)},"Array, Array":function(h,m){return this(n(h),n(m)).valueOf()},"Array, Matrix":function(h,m){return this(n(h),m)},"Matrix, Array":function(h,m){return this(h,n(m))},"SparseMatrix, any":function(h,m){return u(h,m,this,!1)},"DenseMatrix, any":function(h,m){return l(h,m,this,!1)},"any, SparseMatrix":function(h,m){return u(m,h,this,!0)},"any, DenseMatrix":function(h,m){return l(m,h,this,!0)},"Array, any":function(h,m){return l(n(h),m,this,!1).valueOf()},"any, Array":function(h,m){return l(n(m),h,this,!0).valueOf()}})})});var n6e,XWt,H$,i6e=te(()=>{w();_();cp();zr();Fe();hs();jl();so();Tn();di();n6e="largerEq",XWt=["typed","config","matrix","DenseMatrix"],H$=ae(n6e,XWt,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:a}=t,o=ai({typed:e}),s=Ya({typed:e,DenseMatrix:a}),u=Sn({typed:e,DenseMatrix:a}),f=Er({typed:e}),l=or({typed:e});return e(n6e,{"boolean, boolean":function(h,m){return h>=m},"number, number":function(h,m){return h>=m||Oa(h,m,r.epsilon)},"BigNumber, BigNumber":function(h,m){return h.gte(m)||Do(h,m,r.epsilon)},"Fraction, Fraction":function(h,m){return h.compare(m)!==-1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(h,m){if(!h.equalBase(m))throw new Error("Cannot compare units with different base");return this(h.value,m.value)},"SparseMatrix, SparseMatrix":function(h,m){return s(h,m,this)},"SparseMatrix, DenseMatrix":function(h,m){return o(m,h,this,!0)},"DenseMatrix, SparseMatrix":function(h,m){return o(h,m,this,!1)},"DenseMatrix, DenseMatrix":function(h,m){return f(h,m,this)},"Array, Array":function(h,m){return this(n(h),n(m)).valueOf()},"Array, Matrix":function(h,m){return this(n(h),m)},"Matrix, Array":function(h,m){return this(h,n(m))},"SparseMatrix, any":function(h,m){return u(h,m,this,!1)},"DenseMatrix, any":function(h,m){return l(h,m,this,!1)},"any, SparseMatrix":function(h,m){return u(m,h,this,!0)},"any, DenseMatrix":function(h,m){return l(m,h,this,!0)},"Array, any":function(h,m){return l(n(h),m,this,!1).valueOf()},"any, Array":function(h,m){return l(n(m),h,this,!0).valueOf()}})})});var a6e,QWt,K$,o6e=te(()=>{w();_();Fe();a6e="deepEqual",QWt=["typed","equal"],K$=ae(a6e,QWt,t=>{var{typed:e,equal:r}=t;return e(a6e,{"any, any":function(o,s){return n(o.valueOf(),s.valueOf())}});function n(a,o){if(Array.isArray(a))if(Array.isArray(o)){var s=a.length;if(s!==o.length)return!1;for(var u=0;u<s;u++)if(!n(a[u],o[u]))return!1;return!0}else return!1;else return Array.isArray(o)?!1:r(a,o)}})});var Z$,eGt,J$,qjr,s6e=te(()=>{w();_();Fe();hs();jl();so();Tn();di();Z$="unequal",eGt=["typed","config","equalScalar","matrix","DenseMatrix"],J$=ae(Z$,eGt,t=>{var{typed:e,config:r,equalScalar:n,matrix:a,DenseMatrix:o}=t,s=ai({typed:e}),u=Ya({typed:e,DenseMatrix:o}),f=Sn({typed:e,DenseMatrix:o}),l=Er({typed:e}),c=or({typed:e});return e("unequal",{"any, any":function(g,b){return g===null?b!==null:b===null?g!==null:g===void 0?b!==void 0:b===void 0?g!==void 0:h(g,b)},"SparseMatrix, SparseMatrix":function(g,b){return u(g,b,h)},"SparseMatrix, DenseMatrix":function(g,b){return s(b,g,h,!0)},"DenseMatrix, SparseMatrix":function(g,b){return s(g,b,h,!1)},"DenseMatrix, DenseMatrix":function(g,b){return l(g,b,h)},"Array, Array":function(g,b){return this(a(g),a(b)).valueOf()},"Array, Matrix":function(g,b){return this(a(g),b)},"Matrix, Array":function(g,b){return this(g,a(b))},"SparseMatrix, any":function(g,b){return f(g,b,h,!1)},"DenseMatrix, any":function(g,b){return c(g,b,h,!1)},"any, SparseMatrix":function(g,b){return f(b,g,h,!0)},"any, DenseMatrix":function(g,b){return c(b,g,h,!0)},"Array, any":function(g,b){return c(a(g),b,h,!1).valueOf()},"any, Array":function(g,b){return c(a(b),g,h,!0).valueOf()}});function h(m,g){return!n(m,g)}}),qjr=ae(Z$,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(Z$,{"any, any":function(a,o){return a===null?o!==null:o===null?a!==null:a===void 0?o!==void 0:o===void 0?a!==void 0:!r(a,o)}})})});var u6e,tGt,Y$,f6e=te(()=>{w();_();zt();zr();Fe();u6e="partitionSelect",tGt=["typed","isNumeric","isNaN","compare"],Y$=ae(u6e,tGt,t=>{var{typed:e,isNumeric:r,isNaN:n,compare:a}=t,o=a,s=(l,c)=>-a(l,c);return e(u6e,{"Array | Matrix, number":function(c,h){return u(c,h,o)},"Array | Matrix, number, string":function(c,h,m){if(m==="asc")return u(c,h,o);if(m==="desc")return u(c,h,s);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":u});function u(l,c,h){if(!Ut(c)||c<0)throw new Error("k must be a non-negative integer");if(Kt(l)){var m=l.size();if(m.length>1)throw new Error("Only one dimensional matrices supported");return f(l.valueOf(),c,h)}if(Array.isArray(l))return f(l,c,h)}function f(l,c,h){if(c>=l.length)throw new Error("k out of bounds");for(var m=0;m<l.length;m++)if(r(l[m])&&n(l[m]))return l[m];for(var g=0,b=l.length-1;g<b;){for(var A=g,I=b,C=l[Math.floor(Math.random()*(b-g+1))+g];A<I;)if(h(l[A],C)>=0){var R=l[I];l[I]=l[A],l[A]=R,--I}else++A;h(l[A],C)>0&&--A,c<=A?b=A:g=A+1}return l[c]}})});var l6e,rGt,X$,c6e=te(()=>{w();_();wr();Fe();l6e="sort",rGt=["typed","matrix","compare","compareNatural"],X$=ae(l6e,rGt,t=>{var{typed:e,matrix:r,compare:n,compareNatural:a}=t,o=n,s=(c,h)=>-n(c,h);return e(l6e,{Array:function(h){return f(h),h.sort(o)},Matrix:function(h){return l(h),r(h.toArray().sort(o),h.storage())},"Array, function":function(h,m){return f(h),h.sort(m)},"Matrix, function":function(h,m){return l(h),r(h.toArray().sort(m),h.storage())},"Array, string":function(h,m){return f(h),h.sort(u(m))},"Matrix, string":function(h,m){return l(h),r(h.toArray().sort(u(m)),h.storage())}});function u(c){if(c==="asc")return o;if(c==="desc")return s;if(c==="natural")return a;throw new Error('String "asc", "desc", or "natural" expected')}function f(c){if(vr(c).length!==1)throw new Error("One dimensional array expected")}function l(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}})});var h6e,nGt,ME,Q$=te(()=>{w();_();Zt();Fe();Wc();h6e="max",nGt=["typed","config","numeric","larger"],ME=ae(h6e,nGt,t=>{var{typed:e,config:r,numeric:n,larger:a}=t;return e(h6e,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(f,l){return Wd(f,l.valueOf(),o)},"...":function(f){if(Kf(f))throw new TypeError("Scalar values expected in function max");return s(f)}});function o(u,f){try{return a(u,f)?u:f}catch(l){throw ua(l,"max",f)}}function s(u){var f;if(ls(u,function(l){try{isNaN(l)&&typeof l=="number"?f=NaN:(f===void 0||a(l,f))&&(f=l)}catch(c){throw ua(c,"max",l)}}),f===void 0)throw new Error("Cannot calculate max of an empty array");return typeof f=="string"&&(f=n(f,r.number)),f}})});var p6e,iGt,AE,eV=te(()=>{w();_();Zt();Fe();Wc();p6e="min",iGt=["typed","config","numeric","smaller"],AE=ae(p6e,iGt,t=>{var{typed:e,config:r,numeric:n,smaller:a}=t;return e(p6e,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(f,l){return Wd(f,l.valueOf(),o)},"...":function(f){if(Kf(f))throw new TypeError("Scalar values expected in function min");return s(f)}});function o(u,f){try{return a(u,f)?u:f}catch(l){throw ua(l,"min",f)}}function s(u){var f;if(ls(u,function(l){try{isNaN(l)&&typeof l=="number"?f=NaN:(f===void 0||a(l,f))&&(f=l)}catch(c){throw ua(c,"min",l)}}),f===void 0)throw new Error("Cannot calculate min of an empty array");return typeof f=="string"&&(f=n(f,r.number)),f}})});var aGt,oGt,tV,d6e=te(()=>{w();_();zt();dn();Fe();aGt="ImmutableDenseMatrix",oGt=["smaller","DenseMatrix"],tV=ae(aGt,oGt,t=>{var{smaller:e,DenseMatrix:r}=t;function n(a,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!ja(o))throw new Error("Invalid datatype: "+o);if(Kt(a)||hn(a)){var s=new r(a,o);this._data=s._data,this._size=s._size,this._datatype=s._datatype,this._min=null,this._max=null}else if(a&&hn(a.data)&&hn(a.size))this._data=a.data,this._size=a.size,this._datatype=a.datatype,this._min=typeof a.min!="undefined"?a.min:null,this._max=typeof a.max!="undefined"?a.max:null;else{if(a)throw new TypeError("Unsupported type of data ("+$r(a)+")");this._data=[],this._size=[0],this._datatype=o,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(a){switch(arguments.length){case 1:{var o=r.prototype.subset.call(this,a);return Kt(o)?new n({data:o._data,size:o._size,datatype:o._datatype}):o}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:tr(this._data),size:tr(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(a){return new n(a)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var a=null;this.forEach(function(o){(a===null||e(o,a))&&(a=o)}),this._min=a!==null?a:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var a=null;this.forEach(function(o){(a===null||e(a,o))&&(a=o)}),this._max=a!==null?a:void 0}return this._max},n},{isClass:!0})});var sGt,uGt,rV,m6e=te(()=>{w();_();zt();dn();zr();Fe();sGt="Index",uGt=["ImmutableDenseMatrix"],rV=ae(sGt,uGt,t=>{var{ImmutableDenseMatrix:e}=t;function r(a){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var o=0,s=arguments.length;o<s;o++){var u=arguments[o];if(Mv(u))this._dimensions.push(u),this._isScalar=!1;else if(Array.isArray(u)||Kt(u)){var f=n(u.valueOf());this._dimensions.push(f);var l=f.size();(l.length!==1||l[0]!==1)&&(this._isScalar=!1)}else if(typeof u=="number")this._dimensions.push(n([u]));else if(typeof u=="string")this._dimensions.push(u);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range")}}r.prototype.type="Index",r.prototype.isIndex=!0;function n(a){for(var o=0,s=a.length;o<s;o++)if(typeof a[o]!="number"||!Ut(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return r.prototype.clone=function(){var a=new r;return a._dimensions=tr(this._dimensions),a._isScalar=this._isScalar,a},r.create=function(a){var o=new r;return r.apply(o,a),o},r.prototype.size=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?1:u.size()[0]}return a},r.prototype.max=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.max()}return a},r.prototype.min=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.min()}return a},r.prototype.forEach=function(a){for(var o=0,s=this._dimensions.length;o<s;o++)a(this._dimensions[o],o,this)},r.prototype.dimension=function(a){return this._dimensions[a]||null},r.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var u=this._dimensions[o];a.push(typeof u=="string"?u:u.toArray())}return a},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var u=this._dimensions[o];typeof u=="string"?a.push(JSON.stringify(u)):a.push(u.toString())}return"["+a.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(a){return r.create(a.dimensions)},r},{isClass:!0})});var fGt,lGt,nV,v6e=te(()=>{w();_();Fe();fGt="FibonacciHeap",lGt=["smaller","larger"],nV=ae(fGt,lGt,t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}a.prototype.type="FibonacciHeap",a.prototype.isFibonacciHeap=!0,a.prototype.insert=function(c,h){var m={key:c,value:h,degree:0};if(this._minimum){var g=this._minimum;m.left=g,m.right=g.right,g.right=m,m.right.left=m,e(c,g.key)&&(this._minimum=m)}else m.left=m,m.right=m,this._minimum=m;return this._size++,m},a.prototype.size=function(){return this._size},a.prototype.clear=function(){this._minimum=null,this._size=0},a.prototype.isEmpty=function(){return this._size===0},a.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var h=this._minimum,m=c.degree,g=c.child;m>0;){var b=g.right;g.left.right=g.right,g.right.left=g.left,g.left=h,g.right=h.right,h.right=g,g.right.left=g,g.parent=null,g=b,m--}return c.left.right=c.right,c.right.left=c.left,c===c.right?h=null:(h=c.right,h=l(h,this._size)),this._size--,this._minimum=h,c},a.prototype.remove=function(c){this._minimum=o(this._minimum,c,-1),this.extractMinimum()};function o(c,h,m){h.key=m;var g=h.parent;return g&&e(h.key,g.key)&&(s(c,h,g),u(c,g)),e(h.key,c.key)&&(c=h),c}function s(c,h,m){h.left.right=h.right,h.right.left=h.left,m.degree--,m.child===h&&(m.child=h.right),m.degree===0&&(m.child=null),h.left=c,h.right=c.right,c.right=h,h.right.left=h,h.parent=null,h.mark=!1}function u(c,h){var m=h.parent;!m||(h.mark?(s(c,h,m),u(m)):h.mark=!0)}var f=function(h,m){h.left.right=h.right,h.right.left=h.left,h.parent=m,m.child?(h.left=m.child,h.right=m.child.right,m.child.right=h,h.right.left=h):(m.child=h,h.right=h,h.left=h),m.degree++,h.mark=!1};function l(c,h){var m=Math.floor(Math.log(h)*n)+1,g=new Array(m),b=0,A=c;if(A)for(b++,A=A.right;A!==c;)b++,A=A.right;for(var I;b>0;){for(var C=A.degree,R=A.right;I=g[C],!!I;){if(r(A.key,I.key)){var O=I;I=A,A=O}f(I,A),g[C]=null,C++}g[C]=A,A=R,b--}c=null;for(var F=0;F<m;F++)I=g[F],I&&(c?(I.left.right=I.right,I.right.left=I.left,I.left=c,I.right=c.right,c.right=I,I.right.left=I,e(I.key,c.key)&&(c=I)):c=I);return c}return a},{isClass:!0})});var cGt,hGt,iV,g6e=te(()=>{w();_();Fe();cGt="Spa",hGt=["addScalar","equalScalar","FibonacciHeap"],iV=ae(cGt,hGt,t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return a.prototype.type="Spa",a.prototype.isSpa=!0,a.prototype.set=function(o,s){if(this._values[o])this._values[o].value=s;else{var u=this._heap.insert(o,s);this._values[o]=u}},a.prototype.get=function(o){var s=this._values[o];return s?s.value:0},a.prototype.accumulate=function(o,s){var u=this._values[o];u?u.value=e(u.value,s):(u=this._heap.insert(o,s),this._values[o]=u)},a.prototype.forEach=function(o,s,u){var f=this._heap,l=this._values,c=[],h=f.extractMinimum();for(h&&c.push(h);h&&h.key<=s;)h.key>=o&&(r(h.value,0)||u(h.key,h.value,this)),h=f.extractMinimum(),h&&c.push(h);for(var m=0;m<c.length;m++){var g=c[m];h=f.insert(g.key,g.value),l[h.key]=h}},a.prototype.swap=function(o,s){var u=this._values[o],f=this._values[s];if(!u&&f)u=this._heap.insert(o,f.value),this._heap.remove(f),this._values[o]=u,this._values[s]=void 0;else if(u&&!f)f=this._heap.insert(s,u.value),this._heap.remove(u),this._values[s]=f,this._values[o]=void 0;else if(u&&f){var l=u.value;u.value=f.value,f.value=l}},a},{isClass:!0})});function NE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var aV=te(()=>{w();_()});function cI(t){return t[0].precision}var y6e,b6e,TE,w6e,oV=te(()=>{w();_();pp();y6e=Iv(function(t){return new t(1).exp()},{hasher:cI}),b6e=Iv(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},{hasher:cI}),TE=Iv(function(t){return t.acos(-1)},{hasher:cI}),w6e=Iv(function(t){return TE(t).times(2)},{hasher:cI})});function x6e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x6e(Object(r),!0).forEach(function(n){NE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x6e(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var pGt,dGt,uV,_6e=te(()=>{w();_();fw();aV();zt();Fe();pp();xi();dn();oV();pGt="Unit",dGt=["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],uV=ae(pGt,dGt,t=>{var{on:e,config:r,addScalar:n,subtract:a,multiplyScalar:o,divideScalar:s,pow:u,abs:f,fix:l,round:c,equal:h,isNumeric:m,format:g,number:b,Complex:A,BigNumber:I,Fraction:C}=t,R=b;function O(ue,xe){if(!(this instanceof O))throw new Error("Constructor must be called with the new operator");if(!(ue==null||m(ue)||Ys(ue)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(xe!==void 0&&(typeof xe!="string"||xe===""))throw new TypeError("Second parameter in Unit constructor must be a string");if(xe!==void 0){var ge=O.parse(xe);this.units=ge.units,this.dimensions=ge.dimensions}else{this.units=[{unit:q,prefix:k.NONE,power:0}],this.dimensions=[];for(var Q=0;Q<E.length;Q++)this.dimensions[Q]=0}this.value=ue!=null?this._normalize(ue):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}O.prototype.type="Unit",O.prototype.isUnit=!0;var F,z,B;function $(){for(;B===" "||B==="	";)T()}function j(ue){return ue>="0"&&ue<="9"||ue==="."}function W(ue){return ue>="0"&&ue<="9"}function T(){z++,B=F.charAt(z)}function p(ue){z=ue,B=F.charAt(z)}function v(){var ue="",xe=z;if(B==="+"?T():B==="-"&&(ue+=B,T()),!j(B))return p(xe),null;if(B==="."){if(ue+=B,T(),!W(B))return p(xe),null}else{for(;W(B);)ue+=B,T();B==="."&&(ue+=B,T())}for(;W(B);)ue+=B,T();if(B==="E"||B==="e"){var ge="",Q=z;if(ge+=B,T(),(B==="+"||B==="-")&&(ge+=B,T()),!W(B))return p(Q),ue;for(ue=ue+ge;W(B);)ue+=B,T()}return ue}function S(){for(var ue="";W(B)||O.isValidAlpha(B);)ue+=B,T();var xe=ue.charAt(0);return O.isValidAlpha(xe)?ue:null}function y(ue){return B===ue?(T(),ue):null}O.parse=function(ue,xe){if(xe=xe||{},F=ue,z=-1,B="",typeof F!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var ge=new O;ge.units=[];var Q=1,_e=!1;T(),$();var ve=v(),be=null;if(ve){if(r.number==="BigNumber")be=new I(ve);else if(r.number==="Fraction")try{be=new C(ve)}catch(Ge){be=parseFloat(ve)}else be=parseFloat(ve);$(),y("*")?(Q=1,_e=!0):y("/")&&(Q=-1,_e=!0)}for(var qe=[],se=1;;){for($();B==="(";)qe.push(Q),se*=Q,Q=1,T(),$();var Se=void 0;if(B){var Ke=B;if(Se=S(),Se===null)throw new SyntaxError('Unexpected "'+Ke+'" in "'+F+'" at index '+z.toString())}else break;var J=M(Se);if(J===null)throw new SyntaxError('Unit "'+Se+'" not found.');var H=Q*se;if($(),y("^")){$();var Y=v();if(Y===null)throw new SyntaxError('In "'+ue+'", "^" must be followed by a floating-point number');H*=Y}ge.units.push({unit:J.unit,prefix:J.prefix,power:H});for(var oe=0;oe<E.length;oe++)ge.dimensions[oe]+=(J.unit.dimensions[oe]||0)*H;for($();B===")";){if(qe.length===0)throw new SyntaxError('Unmatched ")" in "'+F+'" at index '+z.toString());se/=qe.pop(),T(),$()}if(_e=!1,y("*")?(Q=1,_e=!0):y("/")?(Q=-1,_e=!0):Q=1,J.unit.base){var Me=J.unit.base.key;X.auto[Me]={unit:J.unit,prefix:J.prefix}}}if($(),B)throw new SyntaxError('Could not parse: "'+ue+'"');if(_e)throw new SyntaxError('Trailing characters: "'+ue+'"');if(qe.length!==0)throw new SyntaxError('Unmatched "(" in "'+F+'"');if(ge.units.length===0&&!xe.allowNoUnits)throw new SyntaxError('"'+ue+'" contains no units');return ge.value=be!==void 0?ge._normalize(be):null,ge},O.prototype.clone=function(){var ue=new O;ue.fixPrefix=this.fixPrefix,ue.skipAutomaticSimplification=this.skipAutomaticSimplification,ue.value=tr(this.value),ue.dimensions=this.dimensions.slice(0),ue.units=[];for(var xe=0;xe<this.units.length;xe++){ue.units[xe]={};for(var ge in this.units[xe])Jt(this.units[xe],ge)&&(ue.units[xe][ge]=this.units[xe][ge])}return ue},O.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},O.prototype._normalize=function(ue){if(ue==null||this.units.length===0)return ue;for(var xe=ue,ge=O._getNumberConverter($r(ue)),Q=0;Q<this.units.length;Q++){var _e=ge(this.units[Q].unit.value),ve=ge(this.units[Q].prefix.value),be=ge(this.units[Q].power);xe=o(xe,u(o(_e,ve),be))}return xe},O.prototype._denormalize=function(ue,xe){if(ue==null||this.units.length===0)return ue;for(var ge=ue,Q=O._getNumberConverter($r(ue)),_e=0;_e<this.units.length;_e++){var ve=Q(this.units[_e].unit.value),be=Q(this.units[_e].prefix.value),qe=Q(this.units[_e].power);ge=s(ge,u(o(ve,be),qe))}return ge};var M=Iv(ue=>{if(Jt(P,ue)){var xe=P[ue],ge=xe.prefixes[""];return{unit:xe,prefix:ge}}for(var Q in P)if(Jt(P,Q)&&JAe(ue,Q)){var _e=P[Q],ve=ue.length-Q.length,be=ue.substring(0,ve),qe=Jt(_e.prefixes,be)?_e.prefixes[be]:void 0;if(qe!==void 0)return{unit:_e,prefix:qe}}return null},{hasher:ue=>ue[0],limit:100});O.isValuelessUnit=function(ue){return M(ue)!==null},O.prototype.hasBase=function(ue){if(typeof ue=="string"&&(ue=d[ue]),!ue)return!1;for(var xe=0;xe<E.length;xe++)if(Math.abs((this.dimensions[xe]||0)-(ue.dimensions[xe]||0))>1e-12)return!1;return!0},O.prototype.equalBase=function(ue){for(var xe=0;xe<E.length;xe++)if(Math.abs((this.dimensions[xe]||0)-(ue.dimensions[xe]||0))>1e-12)return!1;return!0},O.prototype.equals=function(ue){return this.equalBase(ue)&&h(this.value,ue.value)},O.prototype.multiply=function(ue){for(var xe=this.clone(),ge=0;ge<E.length;ge++)xe.dimensions[ge]=(this.dimensions[ge]||0)+(ue.dimensions[ge]||0);for(var Q=0;Q<ue.units.length;Q++){var _e=sV({},ue.units[Q]);xe.units.push(_e)}if(this.value!==null||ue.value!==null){var ve=this.value===null?this._normalize(1):this.value,be=ue.value===null?ue._normalize(1):ue.value;xe.value=o(ve,be)}else xe.value=null;return xe.skipAutomaticSimplification=!1,D(xe)},O.prototype.divide=function(ue){for(var xe=this.clone(),ge=0;ge<E.length;ge++)xe.dimensions[ge]=(this.dimensions[ge]||0)-(ue.dimensions[ge]||0);for(var Q=0;Q<ue.units.length;Q++){var _e=sV(sV({},ue.units[Q]),{},{power:-ue.units[Q].power});xe.units.push(_e)}if(this.value!==null||ue.value!==null){var ve=this.value===null?this._normalize(1):this.value,be=ue.value===null?ue._normalize(1):ue.value;xe.value=s(ve,be)}else xe.value=null;return xe.skipAutomaticSimplification=!1,D(xe)},O.prototype.pow=function(ue){for(var xe=this.clone(),ge=0;ge<E.length;ge++)xe.dimensions[ge]=(this.dimensions[ge]||0)*ue;for(var Q=0;Q<xe.units.length;Q++)xe.units[Q].power*=ue;return xe.value!==null?xe.value=u(xe.value,ue):xe.value=null,xe.skipAutomaticSimplification=!1,D(xe)};function D(ue){return ue.equalBase(d.NONE)&&ue.value!==null&&!r.predictable?ue.value:ue}O.prototype.abs=function(){var ue=this.clone();if(ue.value!==null)if(ue._isDerived()||ue.units[0].unit.offset===0)ue.value=f(ue.value);else{var xe=O._getNumberConverter($r(ue.value)),ge=xe(ue.units[0].unit.value),Q=xe(ue.units[0].unit.offset),_e=o(ge,Q);ue.value=a(f(n(ue.value,_e)),_e)}for(var ve in ue.units)(ue.units[ve].unit.name==="VA"||ue.units[ve].unit.name==="VAR")&&(ue.units[ve].unit=P.W);return ue},O.prototype.to=function(ue){var xe=this.value===null?this._normalize(1):this.value,ge;if(typeof ue=="string")ge=O.parse(ue);else if(sp(ue))ge=ue.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(ge))throw new Error("Units do not match ('".concat(ge.toString(),"' != '").concat(this.toString(),"')"));if(ge.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units[0].unit.offset===ge.units[0].unit.offset)ge.value=tr(xe);else{var Q=O._getNumberConverter($r(xe)),_e=Q(this.units[0].unit.value),ve=Q(this.units[0].unit.offset),be=o(_e,ve),qe=Q(ge.units[0].unit.value),se=Q(ge.units[0].unit.offset),Se=o(qe,se);ge.value=a(n(xe,be),Se)}return ge.fixPrefix=!0,ge.skipAutomaticSimplification=!0,ge},O.prototype.toNumber=function(ue){return R(this.toNumeric(ue))},O.prototype.toNumeric=function(ue){var xe;return ue?xe=this.to(ue):xe=this.clone(),xe._isDerived()||xe.units.length===0?xe._denormalize(xe.value):xe._denormalize(xe.value,xe.units[0].prefix.value)},O.prototype.toString=function(){return this.format()},O.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},O.fromJSON=function(ue){var xe=new O(ue.value,ue.unit);return xe.fixPrefix=ue.fixPrefix||!1,xe},O.prototype.valueOf=O.prototype.toString,O.prototype.simplify=function(){var ue=this.clone(),xe=[],ge;for(var Q in he)if(Jt(he,Q)&&ue.hasBase(d[Q])){ge=Q;break}if(ge==="NONE")ue.units=[];else{var _e;if(ge&&Jt(he,ge)&&(_e=he[ge]),_e)ue.units=[{unit:_e.unit,prefix:_e.prefix,power:1}];else{for(var ve=!1,be=0;be<E.length;be++){var qe=E[be];Math.abs(ue.dimensions[be]||0)>1e-12&&(Jt(he,qe)?xe.push({unit:he[qe].unit,prefix:he[qe].prefix,power:ue.dimensions[be]||0}):ve=!0)}xe.length<ue.units.length&&!ve&&(ue.units=xe)}}return ue},O.prototype.toSI=function(){for(var ue=this.clone(),xe=[],ge=0;ge<E.length;ge++){var Q=E[ge];if(Math.abs(ue.dimensions[ge]||0)>1e-12)if(Jt(X.si,Q))xe.push({unit:X.si[Q].unit,prefix:X.si[Q].prefix,power:ue.dimensions[ge]||0});else throw new Error("Cannot express custom unit "+Q+" in SI units")}return ue.units=xe,ue.fixPrefix=!0,ue.skipAutomaticSimplification=!0,ue},O.prototype.formatUnits=function(){for(var ue="",xe="",ge=0,Q=0,_e=0;_e<this.units.length;_e++)this.units[_e].power>0?(ge++,ue+=" "+this.units[_e].prefix.name+this.units[_e].unit.name,Math.abs(this.units[_e].power-1)>1e-15&&(ue+="^"+this.units[_e].power)):this.units[_e].power<0&&Q++;if(Q>0)for(var ve=0;ve<this.units.length;ve++)this.units[ve].power<0&&(ge>0?(xe+=" "+this.units[ve].prefix.name+this.units[ve].unit.name,Math.abs(this.units[ve].power+1)>1e-15&&(xe+="^"+-this.units[ve].power)):(xe+=" "+this.units[ve].prefix.name+this.units[ve].unit.name,xe+="^"+this.units[ve].power));ue=ue.substr(1),xe=xe.substr(1),ge>1&&Q>0&&(ue="("+ue+")"),Q>1&&ge>0&&(xe="("+xe+")");var be=ue;return ge>0&&Q>0&&(be+=" / "),be+=xe,be},O.prototype.format=function(ue){var xe=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),ge=!1;typeof xe.value!="undefined"&&xe.value!==null&&Ys(xe.value)&&(ge=Math.abs(xe.value.re)<1e-14);for(var Q in xe.units)Jt(xe.units,Q)&&xe.units[Q].unit&&(xe.units[Q].unit.name==="VA"&&ge?xe.units[Q].unit=P.VAR:xe.units[Q].unit.name==="VAR"&&!ge&&(xe.units[Q].unit=P.VA));xe.units.length===1&&!xe.fixPrefix&&Math.abs(xe.units[0].power-Math.round(xe.units[0].power))<1e-14&&(xe.units[0].prefix=xe._bestPrefix());var _e=xe._denormalize(xe.value),ve=xe.value!==null?g(_e,ue||{}):"",be=xe.formatUnits();return xe.value&&Ys(xe.value)&&(ve="("+ve+")"),be.length>0&&ve.length>0&&(ve+=" "),ve+=be,ve},O.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var ue=this.value!==null?f(this.value):0,xe=f(this.units[0].unit.value),ge=this.units[0].prefix;if(ue===0)return ge;var Q=this.units[0].power,_e=Math.log(ue/Math.pow(ge.value*xe,Q))/Math.LN10-1.2;if(_e>-2.200001&&_e<1.800001)return ge;_e=Math.abs(_e);var ve=this.units[0].unit.prefixes;for(var be in ve)if(Jt(ve,be)){var qe=ve[be];if(qe.scientific){var se=Math.abs(Math.log(ue/Math.pow(qe.value*xe,Q))/Math.LN10-1.2);(se<_e||se===_e&&qe.name.length<ge.name.length)&&(ge=qe,_e=se)}}return ge},O.prototype.splitUnit=function(ue){for(var xe=this.clone(),ge=[],Q=0;Q<ue.length&&(xe=xe.to(ue[Q]),Q!==ue.length-1);Q++){var _e=xe.toNumeric(),ve=c(_e),be=void 0,qe=h(ve,_e);qe?be=ve:be=l(xe.toNumeric());var se=new O(be,ue[Q].toString());ge.push(se),xe=a(xe,se)}for(var Se=0,Ke=0;Ke<ge.length;Ke++)Se=n(Se,ge[Ke].value);return h(Se,this.value)&&(xe.value=0),ge.push(xe),ge};var k={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};k.SHORTLONG=Ca({},k.SHORT,k.LONG),k.BINARY_SHORT=Ca({},k.BINARY_SHORT_SI,k.BINARY_SHORT_IEC),k.BINARY_LONG=Ca({},k.BINARY_LONG_SI,k.BINARY_LONG_IEC);var E=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],d={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var N in d)Jt(d,N)&&(d[N].key=N);var U={},q={name:"",base:U,value:1,offset:0,dimensions:E.map(ue=>0)},P={meter:{name:"meter",base:d.LENGTH,prefixes:k.LONG,value:1,offset:0},inch:{name:"inch",base:d.LENGTH,prefixes:k.NONE,value:.0254,offset:0},foot:{name:"foot",base:d.LENGTH,prefixes:k.NONE,value:.3048,offset:0},yard:{name:"yard",base:d.LENGTH,prefixes:k.NONE,value:.9144,offset:0},mile:{name:"mile",base:d.LENGTH,prefixes:k.NONE,value:1609.344,offset:0},link:{name:"link",base:d.LENGTH,prefixes:k.NONE,value:.201168,offset:0},rod:{name:"rod",base:d.LENGTH,prefixes:k.NONE,value:5.0292,offset:0},chain:{name:"chain",base:d.LENGTH,prefixes:k.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:d.LENGTH,prefixes:k.NONE,value:1e-10,offset:0},m:{name:"m",base:d.LENGTH,prefixes:k.SHORT,value:1,offset:0},in:{name:"in",base:d.LENGTH,prefixes:k.NONE,value:.0254,offset:0},ft:{name:"ft",base:d.LENGTH,prefixes:k.NONE,value:.3048,offset:0},yd:{name:"yd",base:d.LENGTH,prefixes:k.NONE,value:.9144,offset:0},mi:{name:"mi",base:d.LENGTH,prefixes:k.NONE,value:1609.344,offset:0},li:{name:"li",base:d.LENGTH,prefixes:k.NONE,value:.201168,offset:0},rd:{name:"rd",base:d.LENGTH,prefixes:k.NONE,value:5.02921,offset:0},ch:{name:"ch",base:d.LENGTH,prefixes:k.NONE,value:20.1168,offset:0},mil:{name:"mil",base:d.LENGTH,prefixes:k.NONE,value:254e-7,offset:0},m2:{name:"m2",base:d.SURFACE,prefixes:k.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:d.SURFACE,prefixes:k.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:d.SURFACE,prefixes:k.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:d.SURFACE,prefixes:k.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:d.SURFACE,prefixes:k.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:d.SURFACE,prefixes:k.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:d.SURFACE,prefixes:k.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:d.SURFACE,prefixes:k.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:d.SURFACE,prefixes:k.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:d.SURFACE,prefixes:k.NONE,value:1e4,offset:0},m3:{name:"m3",base:d.VOLUME,prefixes:k.CUBIC,value:1,offset:0},L:{name:"L",base:d.VOLUME,prefixes:k.SHORT,value:.001,offset:0},l:{name:"l",base:d.VOLUME,prefixes:k.SHORT,value:.001,offset:0},litre:{name:"litre",base:d.VOLUME,prefixes:k.LONG,value:.001,offset:0},cuin:{name:"cuin",base:d.VOLUME,prefixes:k.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:d.VOLUME,prefixes:k.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:d.VOLUME,prefixes:k.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:d.VOLUME,prefixes:k.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:d.VOLUME,prefixes:k.NONE,value:15e-6,offset:0},drop:{name:"drop",base:d.VOLUME,prefixes:k.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:d.VOLUME,prefixes:k.NONE,value:5e-8,offset:0},minim:{name:"minim",base:d.VOLUME,prefixes:k.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:d.VOLUME,prefixes:k.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:d.VOLUME,prefixes:k.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:d.VOLUME,prefixes:k.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:d.VOLUME,prefixes:k.NONE,value:1e-6,offset:0},cup:{name:"cup",base:d.VOLUME,prefixes:k.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:d.VOLUME,prefixes:k.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:d.VOLUME,prefixes:k.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:d.VOLUME,prefixes:k.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:d.VOLUME,prefixes:k.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:d.VOLUME,prefixes:k.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:d.VOLUME,prefixes:k.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:d.VOLUME,prefixes:k.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:d.VOLUME,prefixes:k.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:d.VOLUME,prefixes:k.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:d.VOLUME,prefixes:k.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:d.VOLUME,prefixes:k.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:d.VOLUME,prefixes:k.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:d.VOLUME,prefixes:k.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:d.VOLUME,prefixes:k.NONE,value:.1173478,offset:0},obl:{name:"obl",base:d.VOLUME,prefixes:k.NONE,value:.1589873,offset:0},g:{name:"g",base:d.MASS,prefixes:k.SHORT,value:.001,offset:0},gram:{name:"gram",base:d.MASS,prefixes:k.LONG,value:.001,offset:0},ton:{name:"ton",base:d.MASS,prefixes:k.SHORT,value:907.18474,offset:0},t:{name:"t",base:d.MASS,prefixes:k.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:d.MASS,prefixes:k.LONG,value:1e3,offset:0},grain:{name:"grain",base:d.MASS,prefixes:k.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:d.MASS,prefixes:k.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:d.MASS,prefixes:k.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:d.MASS,prefixes:k.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:d.MASS,prefixes:k.NONE,value:45.359237,offset:0},stick:{name:"stick",base:d.MASS,prefixes:k.NONE,value:.115,offset:0},stone:{name:"stone",base:d.MASS,prefixes:k.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:d.MASS,prefixes:k.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:d.MASS,prefixes:k.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:d.MASS,prefixes:k.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:d.MASS,prefixes:k.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:d.MASS,prefixes:k.NONE,value:45.359237,offset:0},s:{name:"s",base:d.TIME,prefixes:k.SHORT,value:1,offset:0},min:{name:"min",base:d.TIME,prefixes:k.NONE,value:60,offset:0},h:{name:"h",base:d.TIME,prefixes:k.NONE,value:3600,offset:0},second:{name:"second",base:d.TIME,prefixes:k.LONG,value:1,offset:0},sec:{name:"sec",base:d.TIME,prefixes:k.LONG,value:1,offset:0},minute:{name:"minute",base:d.TIME,prefixes:k.NONE,value:60,offset:0},hour:{name:"hour",base:d.TIME,prefixes:k.NONE,value:3600,offset:0},day:{name:"day",base:d.TIME,prefixes:k.NONE,value:86400,offset:0},week:{name:"week",base:d.TIME,prefixes:k.NONE,value:7*86400,offset:0},month:{name:"month",base:d.TIME,prefixes:k.NONE,value:2629800,offset:0},year:{name:"year",base:d.TIME,prefixes:k.NONE,value:31557600,offset:0},decade:{name:"decade",base:d.TIME,prefixes:k.NONE,value:315576e3,offset:0},century:{name:"century",base:d.TIME,prefixes:k.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:d.TIME,prefixes:k.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:d.FREQUENCY,prefixes:k.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:d.FREQUENCY,prefixes:k.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:d.ANGLE,prefixes:k.SHORT,value:1,offset:0},radian:{name:"radian",base:d.ANGLE,prefixes:k.LONG,value:1,offset:0},deg:{name:"deg",base:d.ANGLE,prefixes:k.SHORT,value:null,offset:0},degree:{name:"degree",base:d.ANGLE,prefixes:k.LONG,value:null,offset:0},grad:{name:"grad",base:d.ANGLE,prefixes:k.SHORT,value:null,offset:0},gradian:{name:"gradian",base:d.ANGLE,prefixes:k.LONG,value:null,offset:0},cycle:{name:"cycle",base:d.ANGLE,prefixes:k.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:d.ANGLE,prefixes:k.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:d.ANGLE,prefixes:k.NONE,value:null,offset:0},A:{name:"A",base:d.CURRENT,prefixes:k.SHORT,value:1,offset:0},ampere:{name:"ampere",base:d.CURRENT,prefixes:k.LONG,value:1,offset:0},K:{name:"K",base:d.TEMPERATURE,prefixes:k.NONE,value:1,offset:0},degC:{name:"degC",base:d.TEMPERATURE,prefixes:k.NONE,value:1,offset:273.15},degF:{name:"degF",base:d.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:d.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:d.TEMPERATURE,prefixes:k.NONE,value:1,offset:0},celsius:{name:"celsius",base:d.TEMPERATURE,prefixes:k.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:d.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:d.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:d.AMOUNT_OF_SUBSTANCE,prefixes:k.SHORT,value:1,offset:0},mole:{name:"mole",base:d.AMOUNT_OF_SUBSTANCE,prefixes:k.LONG,value:1,offset:0},cd:{name:"cd",base:d.LUMINOUS_INTENSITY,prefixes:k.SHORT,value:1,offset:0},candela:{name:"candela",base:d.LUMINOUS_INTENSITY,prefixes:k.LONG,value:1,offset:0},N:{name:"N",base:d.FORCE,prefixes:k.SHORT,value:1,offset:0},newton:{name:"newton",base:d.FORCE,prefixes:k.LONG,value:1,offset:0},dyn:{name:"dyn",base:d.FORCE,prefixes:k.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:d.FORCE,prefixes:k.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:d.FORCE,prefixes:k.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:d.FORCE,prefixes:k.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:d.FORCE,prefixes:k.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:d.FORCE,prefixes:k.NONE,value:9.80665,offset:0},J:{name:"J",base:d.ENERGY,prefixes:k.SHORT,value:1,offset:0},joule:{name:"joule",base:d.ENERGY,prefixes:k.SHORT,value:1,offset:0},erg:{name:"erg",base:d.ENERGY,prefixes:k.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:d.ENERGY,prefixes:k.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:d.ENERGY,prefixes:k.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:d.ENERGY,prefixes:k.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:d.ENERGY,prefixes:k.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:d.POWER,prefixes:k.SHORT,value:1,offset:0},watt:{name:"watt",base:d.POWER,prefixes:k.LONG,value:1,offset:0},hp:{name:"hp",base:d.POWER,prefixes:k.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:d.POWER,prefixes:k.SHORT,value:A.I,offset:0},VA:{name:"VA",base:d.POWER,prefixes:k.SHORT,value:1,offset:0},Pa:{name:"Pa",base:d.PRESSURE,prefixes:k.SHORT,value:1,offset:0},psi:{name:"psi",base:d.PRESSURE,prefixes:k.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:d.PRESSURE,prefixes:k.NONE,value:101325,offset:0},bar:{name:"bar",base:d.PRESSURE,prefixes:k.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:d.PRESSURE,prefixes:k.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:d.PRESSURE,prefixes:k.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:d.PRESSURE,prefixes:k.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:d.PRESSURE,prefixes:k.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:d.ELECTRIC_CHARGE,prefixes:k.LONG,value:1,offset:0},C:{name:"C",base:d.ELECTRIC_CHARGE,prefixes:k.SHORT,value:1,offset:0},farad:{name:"farad",base:d.ELECTRIC_CAPACITANCE,prefixes:k.LONG,value:1,offset:0},F:{name:"F",base:d.ELECTRIC_CAPACITANCE,prefixes:k.SHORT,value:1,offset:0},volt:{name:"volt",base:d.ELECTRIC_POTENTIAL,prefixes:k.LONG,value:1,offset:0},V:{name:"V",base:d.ELECTRIC_POTENTIAL,prefixes:k.SHORT,value:1,offset:0},ohm:{name:"ohm",base:d.ELECTRIC_RESISTANCE,prefixes:k.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:d.ELECTRIC_INDUCTANCE,prefixes:k.LONG,value:1,offset:0},H:{name:"H",base:d.ELECTRIC_INDUCTANCE,prefixes:k.SHORT,value:1,offset:0},siemens:{name:"siemens",base:d.ELECTRIC_CONDUCTANCE,prefixes:k.LONG,value:1,offset:0},S:{name:"S",base:d.ELECTRIC_CONDUCTANCE,prefixes:k.SHORT,value:1,offset:0},weber:{name:"weber",base:d.MAGNETIC_FLUX,prefixes:k.LONG,value:1,offset:0},Wb:{name:"Wb",base:d.MAGNETIC_FLUX,prefixes:k.SHORT,value:1,offset:0},tesla:{name:"tesla",base:d.MAGNETIC_FLUX_DENSITY,prefixes:k.LONG,value:1,offset:0},T:{name:"T",base:d.MAGNETIC_FLUX_DENSITY,prefixes:k.SHORT,value:1,offset:0},b:{name:"b",base:d.BIT,prefixes:k.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:d.BIT,prefixes:k.BINARY_LONG,value:1,offset:0},B:{name:"B",base:d.BIT,prefixes:k.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:d.BIT,prefixes:k.BINARY_LONG,value:8,offset:0}},G={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function Z(ue){if(ue.number==="BigNumber"){var xe=TE(I);P.rad.value=new I(1),P.deg.value=xe.div(180),P.grad.value=xe.div(200),P.cycle.value=xe.times(2),P.arcsec.value=xe.div(648e3),P.arcmin.value=xe.div(10800)}else P.rad.value=1,P.deg.value=Math.PI/180,P.grad.value=Math.PI/200,P.cycle.value=Math.PI*2,P.arcsec.value=Math.PI/648e3,P.arcmin.value=Math.PI/10800;P.radian.value=P.rad.value,P.degree.value=P.deg.value,P.gradian.value=P.grad.value}Z(r),e&&e("config",function(ue,xe){ue.number!==xe.number&&Z(ue)});var X={si:{NONE:{unit:q,prefix:k.NONE[""]},LENGTH:{unit:P.m,prefix:k.SHORT[""]},MASS:{unit:P.g,prefix:k.SHORT.k},TIME:{unit:P.s,prefix:k.SHORT[""]},CURRENT:{unit:P.A,prefix:k.SHORT[""]},TEMPERATURE:{unit:P.K,prefix:k.SHORT[""]},LUMINOUS_INTENSITY:{unit:P.cd,prefix:k.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:P.mol,prefix:k.SHORT[""]},ANGLE:{unit:P.rad,prefix:k.SHORT[""]},BIT:{unit:P.bits,prefix:k.SHORT[""]},FORCE:{unit:P.N,prefix:k.SHORT[""]},ENERGY:{unit:P.J,prefix:k.SHORT[""]},POWER:{unit:P.W,prefix:k.SHORT[""]},PRESSURE:{unit:P.Pa,prefix:k.SHORT[""]},ELECTRIC_CHARGE:{unit:P.C,prefix:k.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:P.F,prefix:k.SHORT[""]},ELECTRIC_POTENTIAL:{unit:P.V,prefix:k.SHORT[""]},ELECTRIC_RESISTANCE:{unit:P.ohm,prefix:k.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:P.H,prefix:k.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:P.S,prefix:k.SHORT[""]},MAGNETIC_FLUX:{unit:P.Wb,prefix:k.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:P.T,prefix:k.SHORT[""]},FREQUENCY:{unit:P.Hz,prefix:k.SHORT[""]}}};X.cgs=JSON.parse(JSON.stringify(X.si)),X.cgs.LENGTH={unit:P.m,prefix:k.SHORT.c},X.cgs.MASS={unit:P.g,prefix:k.SHORT[""]},X.cgs.FORCE={unit:P.dyn,prefix:k.SHORT[""]},X.cgs.ENERGY={unit:P.erg,prefix:k.NONE[""]},X.us=JSON.parse(JSON.stringify(X.si)),X.us.LENGTH={unit:P.ft,prefix:k.NONE[""]},X.us.MASS={unit:P.lbm,prefix:k.NONE[""]},X.us.TEMPERATURE={unit:P.degF,prefix:k.NONE[""]},X.us.FORCE={unit:P.lbf,prefix:k.NONE[""]},X.us.ENERGY={unit:P.BTU,prefix:k.BTU[""]},X.us.POWER={unit:P.hp,prefix:k.NONE[""]},X.us.PRESSURE={unit:P.psi,prefix:k.NONE[""]},X.auto=JSON.parse(JSON.stringify(X.si));var he=X.auto;O.setUnitSystem=function(ue){if(Jt(X,ue))he=X[ue];else throw new Error("Unit system "+ue+" does not exist. Choices are: "+Object.keys(X).join(", "))},O.getUnitSystem=function(){for(var ue in X)if(Jt(X,ue)&&X[ue]===he)return ue},O.typeConverters={BigNumber:function(xe){return new I(xe+"")},Fraction:function(xe){return new C(xe)},Complex:function(xe){return xe},number:function(xe){return xe}},O._getNumberConverter=function(ue){if(!O.typeConverters[ue])throw new TypeError('Unsupported type "'+ue+'"');return O.typeConverters[ue]};for(var V in P)if(Jt(P,V)){var K=P[V];K.dimensions=K.base.dimensions}for(var ne in G)if(Jt(G,ne)){var fe=P[G[ne]],pe={};for(var Ie in fe)Jt(fe,Ie)&&(pe[Ie]=fe[Ie]);pe.name=ne,P[ne]=pe}O.isValidAlpha=function(xe){return/^[a-zA-Z]$/.test(xe)};function ke(ue){for(var xe=0;xe<ue.length;xe++){if(B=ue.charAt(xe),xe===0&&!O.isValidAlpha(B))throw new Error('Invalid unit name (must begin with alpha character): "'+ue+'"');if(xe>0&&!(O.isValidAlpha(B)||W(B)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+ue+'"')}}return O.createUnit=function(ue,xe){if(typeof ue!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(xe&&xe.override){for(var ge in ue)if(Jt(ue,ge)&&O.deleteUnit(ge),ue[ge].aliases)for(var Q=0;Q<ue[ge].aliases.length;Q++)O.deleteUnit(ue[ge].aliases[Q])}var _e;for(var ve in ue)Jt(ue,ve)&&(_e=O.createUnitSingle(ve,ue[ve]));return _e},O.createUnitSingle=function(ue,xe,ge){if((typeof xe=="undefined"||xe===null)&&(xe={}),typeof ue!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Jt(P,ue))throw new Error('Cannot create unit "'+ue+'": a unit with that name already exists');ke(ue);var Q=null,_e=[],ve=0,be,qe,se;if(xe&&xe.type==="Unit")Q=xe.clone();else if(typeof xe=="string")xe!==""&&(be=xe);else if(typeof xe=="object")be=xe.definition,qe=xe.prefixes,ve=xe.offset,se=xe.baseName,xe.aliases&&(_e=xe.aliases.valueOf());else throw new TypeError('Cannot create unit "'+ue+'" from "'+xe.toString()+'": expecting "string" or "Unit" or "Object"');if(_e){for(var Se=0;Se<_e.length;Se++)if(Jt(P,_e[Se]))throw new Error('Cannot create alias "'+_e[Se]+'": a unit with that name already exists')}if(be&&typeof be=="string"&&!Q)try{Q=O.parse(be,{allowNoUnits:!0})}catch(re){throw re.message='Could not create unit "'+ue+'" from "'+be+'": '+re.message,re}else be&&be.type==="Unit"&&(Q=be.clone());_e=_e||[],ve=ve||0,qe&&qe.toUpperCase?qe=k[qe.toUpperCase()]||k.NONE:qe=k.NONE;var Ke={};if(Q){Ke={name:ue,value:Q.value,dimensions:Q.dimensions.slice(0),prefixes:qe,offset:ve};var oe=!1;for(var Me in d)if(Jt(d,Me)){for(var Ge=!0,Ce=0;Ce<E.length;Ce++)if(Math.abs((Ke.dimensions[Ce]||0)-(d[Me].dimensions[Ce]||0))>1e-12){Ge=!1;break}if(Ge){oe=!0,Ke.base=d[Me];break}}if(!oe){se=se||ue+"_STUFF";var Xe={dimensions:Q.dimensions.slice(0)};Xe.key=se,d[se]=Xe,he[se]={unit:Ke,prefix:k.NONE[""]},Ke.base=d[se]}}else{if(se=se||ue+"_STUFF",E.indexOf(se)>=0)throw new Error('Cannot create new base unit "'+ue+'": a base unit with that name already exists (and cannot be overridden)');E.push(se);for(var J in d)Jt(d,J)&&(d[J].dimensions[E.length-1]=0);for(var H={dimensions:[]},Y=0;Y<E.length;Y++)H.dimensions[Y]=0;H.dimensions[E.length-1]=1,H.key=se,d[se]=H,Ke={name:ue,value:1,dimensions:d[se].dimensions.slice(0),prefixes:qe,offset:ve,base:d[se]},he[se]={unit:Ke,prefix:k.NONE[""]}}O.UNITS[ue]=Ke;for(var Yt=0;Yt<_e.length;Yt++){var tt=_e[Yt],Ye={};for(var dr in Ke)Jt(Ke,dr)&&(Ye[dr]=Ke[dr]);Ye.name=tt,O.UNITS[tt]=Ye}return delete M.cache,new O(null,ue)},O.deleteUnit=function(ue){delete O.UNITS[ue]},O.PREFIXES=k,O.BASE_DIMENSIONS=E,O.BASE_UNITS=d,O.UNIT_SYSTEMS=X,O.UNITS=P,O},{isClass:!0})});var S6e,mGt,fV,E6e=te(()=>{w();_();Fe();Zt();S6e="unit",mGt=["typed","Unit"],fV=ae(S6e,mGt,t=>{var{typed:e,Unit:r}=t;return e(S6e,{Unit:function(a){return a.clone()},string:function(a){return r.isValuelessUnit(a)?new r(null,a):r.parse(a,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(a,o){return new r(a,o)},"Array | Matrix":function(a){return Et(a,this)}})})});var M6e,vGt,lV,A6e=te(()=>{w();_();Fe();M6e="sparse",vGt=["typed","SparseMatrix"],lV=ae(M6e,vGt,t=>{var{typed:e,SparseMatrix:r}=t;return e(M6e,{"":function(){return new r([])},string:function(a){return new r([],a)},"Array | Matrix":function(a){return new r(a)},"Array | Matrix, string":function(a,o){return new r(a,o)}})})});var N6e,gGt,cV,T6e=te(()=>{w();_();Fe();N6e="createUnit",gGt=["typed","Unit"],cV=ae(N6e,gGt,t=>{var{typed:e,Unit:r}=t;return e(N6e,{"Object, Object":function(a,o){return r.createUnit(a,o)},Object:function(a){return r.createUnit(a,{})},"string, Unit | string | Object, Object":function(a,o,s){var u={};return u[a]=o,r.createUnit(u,s)},"string, Unit | string | Object":function(a,o){var s={};return s[a]=o,r.createUnit(s,{})},string:function(a){var o={};return o[a]={},r.createUnit(o,{})}})})});var D6e,yGt,hV,k6e=te(()=>{w();_();Fe();Zt();D6e="acos",yGt=["typed","config","Complex"],hV=ae(D6e,yGt,t=>{var{typed:e,config:r,Complex:n}=t;return e(D6e,{number:function(o){return o>=-1&&o<=1||r.predictable?Math.acos(o):new n(o,0).acos()},Complex:function(o){return o.acos()},BigNumber:function(o){return o.acos()},"Array | Matrix":function(o){return Et(o,this)}})})});var I6e,bGt,pV,C6e=te(()=>{w();_();Fe();Zt();Sr();I6e="acosh",bGt=["typed","config","Complex"],pV=ae(I6e,bGt,t=>{var{typed:e,config:r,Complex:n}=t;return e(I6e,{number:function(o){return o>=1||r.predictable?fU(o):o<=-1?new n(Math.log(Math.sqrt(o*o-1)-o),Math.PI):new n(o,0).acosh()},Complex:function(o){return o.acosh()},BigNumber:function(o){return o.acosh()},"Array | Matrix":function(o){return Et(o,this)}})})});var O6e,wGt,dV,R6e=te(()=>{w();_();Fe();Zt();Sr();O6e="acot",wGt=["typed","BigNumber"],dV=ae(O6e,wGt,t=>{var{typed:e,BigNumber:r}=t;return e(O6e,{number:lU,Complex:function(a){return a.acot()},BigNumber:function(a){return new r(1).div(a).atan()},"Array | Matrix":function(a){return Et(a,this)}})})});var F6e,xGt,mV,B6e=te(()=>{w();_();Fe();Zt();Sr();F6e="acoth",xGt=["typed","config","Complex","BigNumber"],mV=ae(F6e,xGt,t=>{var{typed:e,config:r,Complex:n,BigNumber:a}=t;return e(F6e,{number:function(s){return s>=1||s<=-1||r.predictable?cU(s):new n(s,0).acoth()},Complex:function(s){return s.acoth()},BigNumber:function(s){return new a(1).div(s).atanh()},"Array | Matrix":function(s){return Et(s,this)}})})});var L6e,_Gt,vV,P6e=te(()=>{w();_();Fe();Zt();Sr();L6e="acsc",_Gt=["typed","config","Complex","BigNumber"],vV=ae(L6e,_Gt,t=>{var{typed:e,config:r,Complex:n,BigNumber:a}=t;return e(L6e,{number:function(s){return s<=-1||s>=1||r.predictable?hU(s):new n(s,0).acsc()},Complex:function(s){return s.acsc()},BigNumber:function(s){return new a(1).div(s).asin()},"Array | Matrix":function(s){return Et(s,this)}})})});var q6e,SGt,gV,z6e=te(()=>{w();_();Fe();Zt();Sr();q6e="acsch",SGt=["typed","BigNumber"],gV=ae(q6e,SGt,t=>{var{typed:e,BigNumber:r}=t;return e(q6e,{number:pU,Complex:function(a){return a.acsch()},BigNumber:function(a){return new r(1).div(a).asinh()},"Array | Matrix":function(a){return Et(a,this)}})})});var U6e,EGt,yV,j6e=te(()=>{w();_();Fe();Zt();Sr();U6e="asec",EGt=["typed","config","Complex","BigNumber"],yV=ae(U6e,EGt,t=>{var{typed:e,config:r,Complex:n,BigNumber:a}=t;return e(U6e,{number:function(s){return s<=-1||s>=1||r.predictable?dU(s):new n(s,0).asec()},Complex:function(s){return s.asec()},BigNumber:function(s){return new a(1).div(s).acos()},"Array | Matrix":function(s){return Et(s,this)}})})});var $6e,MGt,bV,V6e=te(()=>{w();_();Fe();Zt();Sr();$6e="asech",MGt=["typed","config","Complex","BigNumber"],bV=ae($6e,MGt,t=>{var{typed:e,config:r,Complex:n,BigNumber:a}=t;return e($6e,{number:function(s){if(s<=1&&s>=-1||r.predictable){var u=1/s;if(u>0||r.predictable)return mU(s);var f=Math.sqrt(u*u-1);return new n(Math.log(f-u),Math.PI)}return new n(s,0).asech()},Complex:function(s){return s.asech()},BigNumber:function(s){return new a(1).div(s).acosh()},"Array | Matrix":function(s){return Et(s,this)}})})});var W6e,AGt,wV,G6e=te(()=>{w();_();Fe();Zt();W6e="asin",AGt=["typed","config","Complex"],wV=ae(W6e,AGt,t=>{var{typed:e,config:r,Complex:n}=t;return e(W6e,{number:function(o){return o>=-1&&o<=1||r.predictable?Math.asin(o):new n(o,0).asin()},Complex:function(o){return o.asin()},BigNumber:function(o){return o.asin()},"Array | Matrix":function(o){return Et(o,this,!0)}})})});var NGt,TGt,xV,H6e=te(()=>{w();_();Fe();Zt();Sr();NGt="asinh",TGt=["typed"],xV=ae(NGt,TGt,t=>{var{typed:e}=t;return e("asinh",{number:vU,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()},"Array | Matrix":function(n){return Et(n,this,!0)}})})});var DGt,kGt,_V,K6e=te(()=>{w();_();Fe();Zt();DGt="atan",kGt=["typed"],_V=ae(DGt,kGt,t=>{var{typed:e}=t;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()},"Array | Matrix":function(n){return Et(n,this,!0)}})})});var Z6e,IGt,SV,J6e=te(()=>{w();_();Fe();Zf();hs();Ej();ko();so();di();Tn();Z6e="atan2",IGt=["typed","matrix","equalScalar","BigNumber","DenseMatrix"],SV=ae(Z6e,IGt,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:a,DenseMatrix:o}=t,s=Ra({typed:e,equalScalar:n}),u=ai({typed:e}),f=aI({typed:e,equalScalar:n}),l=Bn({typed:e,equalScalar:n}),c=Sn({typed:e,DenseMatrix:o}),h=Er({typed:e}),m=or({typed:e});return e(Z6e,{"number, number":Math.atan2,"BigNumber, BigNumber":function(b,A){return a.atan2(b,A)},"SparseMatrix, SparseMatrix":function(b,A){return f(b,A,this,!1)},"SparseMatrix, DenseMatrix":function(b,A){return s(A,b,this,!0)},"DenseMatrix, SparseMatrix":function(b,A){return u(b,A,this,!1)},"DenseMatrix, DenseMatrix":function(b,A){return h(b,A,this)},"Array, Array":function(b,A){return this(r(b),r(A)).valueOf()},"Array, Matrix":function(b,A){return this(r(b),A)},"Matrix, Array":function(b,A){return this(b,r(A))},"SparseMatrix, number | BigNumber":function(b,A){return l(b,A,this,!1)},"DenseMatrix, number | BigNumber":function(b,A){return m(b,A,this,!1)},"number | BigNumber, SparseMatrix":function(b,A){return c(A,b,this,!0)},"number | BigNumber, DenseMatrix":function(b,A){return m(A,b,this,!0)},"Array, number | BigNumber":function(b,A){return m(r(b),A,this,!1).valueOf()},"number | BigNumber, Array":function(b,A){return m(r(A),b,this,!0).valueOf()}})})});var Y6e,CGt,EV,X6e=te(()=>{w();_();Fe();Zt();Sr();Y6e="atanh",CGt=["typed","config","Complex"],EV=ae(Y6e,CGt,t=>{var{typed:e,config:r,Complex:n}=t;return e(Y6e,{number:function(o){return o<=1&&o>=-1||r.predictable?gU(o):new n(o,0).atanh()},Complex:function(o){return o.atanh()},BigNumber:function(o){return o.atanh()},"Array | Matrix":function(o){return Et(o,this,!0)}})})});var Q6e,OGt,MV,eke=te(()=>{w();_();Fe();Zt();Q6e="cos",OGt=["typed"],MV=ae(Q6e,OGt,t=>{var{typed:e}=t;return e(Q6e,{number:Math.cos,Complex:function(n){return n.cos()},BigNumber:function(n){return n.cos()},Unit:function(n){if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return this(n.value)},"Array | Matrix":function(n){return Et(n,this)}})})});var tke,RGt,AV,rke=te(()=>{w();_();Fe();Zt();zr();tke="cosh",RGt=["typed"],AV=ae(tke,RGt,t=>{var{typed:e}=t;return e(tke,{number:Uk,Complex:function(n){return n.cosh()},BigNumber:function(n){return n.cosh()},Unit:function(n){if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return this(n.value)},"Array | Matrix":function(n){return Et(n,this)}})})});var nke,FGt,NV,ike=te(()=>{w();_();Fe();Zt();Sr();nke="cot",FGt=["typed","BigNumber"],NV=ae(nke,FGt,t=>{var{typed:e,BigNumber:r}=t;return e(nke,{number:yU,Complex:function(a){return a.cot()},BigNumber:function(a){return new r(1).div(a.tan())},Unit:function(a){if(!a.hasBase(a.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return this(a.value)},"Array | Matrix":function(a){return Et(a,this)}})})});var ake,BGt,TV,oke=te(()=>{w();_();Fe();Zt();Sr();ake="coth",BGt=["typed","BigNumber"],TV=ae(ake,BGt,t=>{var{typed:e,BigNumber:r}=t;return e(ake,{number:bU,Complex:function(a){return a.coth()},BigNumber:function(a){return new r(1).div(a.tanh())},Unit:function(a){if(!a.hasBase(a.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return this(a.value)},"Array | Matrix":function(a){return Et(a,this)}})})});var ske,LGt,DV,uke=te(()=>{w();_();Fe();Zt();Sr();ske="csc",LGt=["typed","BigNumber"],DV=ae(ske,LGt,t=>{var{typed:e,BigNumber:r}=t;return e(ske,{number:wU,Complex:function(a){return a.csc()},BigNumber:function(a){return new r(1).div(a.sin())},Unit:function(a){if(!a.hasBase(a.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return this(a.value)},"Array | Matrix":function(a){return Et(a,this)}})})});var fke,PGt,kV,lke=te(()=>{w();_();Fe();Zt();Sr();fke="csch",PGt=["typed","BigNumber"],kV=ae(fke,PGt,t=>{var{typed:e,BigNumber:r}=t;return e(fke,{number:xU,Complex:function(a){return a.csch()},BigNumber:function(a){return new r(1).div(a.sinh())},Unit:function(a){if(!a.hasBase(a.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return this(a.value)},"Array | Matrix":function(a){return Et(a,this)}})})});var cke,qGt,IV,hke=te(()=>{w();_();Fe();Zt();Sr();cke="sec",qGt=["typed","BigNumber"],IV=ae(cke,qGt,t=>{var{typed:e,BigNumber:r}=t;return e(cke,{number:_U,Complex:function(a){return a.sec()},BigNumber:function(a){return new r(1).div(a.cos())},Unit:function(a){if(!a.hasBase(a.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return this(a.value)},"Array | Matrix":function(a){return Et(a,this)}})})});var pke,zGt,CV,dke=te(()=>{w();_();Fe();Zt();Sr();pke="sech",zGt=["typed","BigNumber"],CV=ae(pke,zGt,t=>{var{typed:e,BigNumber:r}=t;return e(pke,{number:SU,Complex:function(a){return a.sech()},BigNumber:function(a){return new r(1).div(a.cosh())},Unit:function(a){if(!a.hasBase(a.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return this(a.value)},"Array | Matrix":function(a){return Et(a,this)}})})});var mke,UGt,OV,vke=te(()=>{w();_();Fe();Zt();mke="sin",UGt=["typed"],OV=ae(mke,UGt,t=>{var{typed:e}=t;return e(mke,{number:Math.sin,Complex:function(n){return n.sin()},BigNumber:function(n){return n.sin()},Unit:function(n){if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return this(n.value)},"Array | Matrix":function(n){return Et(n,this,!0)}})})});var gke,jGt,RV,yke=te(()=>{w();_();Fe();Zt();Sr();gke="sinh",jGt=["typed"],RV=ae(gke,jGt,t=>{var{typed:e}=t;return e(gke,{number:EU,Complex:function(n){return n.sinh()},BigNumber:function(n){return n.sinh()},Unit:function(n){if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return this(n.value)},"Array | Matrix":function(n){return Et(n,this,!0)}})})});var bke,$Gt,FV,wke=te(()=>{w();_();Fe();Zt();bke="tan",$Gt=["typed"],FV=ae(bke,$Gt,t=>{var{typed:e}=t;return e(bke,{number:Math.tan,Complex:function(n){return n.tan()},BigNumber:function(n){return n.tan()},Unit:function(n){if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return this(n.value)},"Array | Matrix":function(n){return Et(n,this,!0)}})})});var VGt,WGt,BV,xke=te(()=>{w();_();Fe();Zt();zr();VGt="tanh",WGt=["typed"],BV=ae(VGt,WGt,t=>{var{typed:e}=t;return e("tanh",{number:jk,Complex:function(n){return n.tanh()},BigNumber:function(n){return n.tanh()},Unit:function(n){if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return this(n.value)},"Array | Matrix":function(n){return Et(n,this,!0)}})})});var _ke,GGt,LV,Ske=te(()=>{w();_();wr();Fe();_ke="setCartesian",GGt=["typed","size","subset","compareNatural","Index","DenseMatrix"],LV=ae(_ke,GGt,t=>{var{typed:e,size:r,subset:n,compareNatural:a,Index:o,DenseMatrix:s}=t;return e(_ke,{"Array | Matrix, Array | Matrix":function(f,l){var c=[];if(n(r(f),new o(0))!==0&&n(r(l),new o(0))!==0){var h=Tr(Array.isArray(f)?f:f.toArray()).sort(a),m=Tr(Array.isArray(l)?l:l.toArray()).sort(a);c=[];for(var g=0;g<h.length;g++)for(var b=0;b<m.length;b++)c.push([h[g],m[b]])}return Array.isArray(f)&&Array.isArray(l)?c:new s(c)}})})});var Eke,HGt,PV,Mke=te(()=>{w();_();wr();Fe();Eke="setDifference",HGt=["typed","size","subset","compareNatural","Index","DenseMatrix"],PV=ae(Eke,HGt,t=>{var{typed:e,size:r,subset:n,compareNatural:a,Index:o,DenseMatrix:s}=t;return e(Eke,{"Array | Matrix, Array | Matrix":function(f,l){var c;if(n(r(f),new o(0))===0)c=[];else{if(n(r(l),new o(0))===0)return Tr(f.toArray());var h=fp(Tr(Array.isArray(f)?f:f.toArray()).sort(a)),m=fp(Tr(Array.isArray(l)?l:l.toArray()).sort(a));c=[];for(var g,b=0;b<h.length;b++){g=!1;for(var A=0;A<m.length;A++)if(a(h[b].value,m[A].value)===0&&h[b].identifier===m[A].identifier){g=!0;break}g||c.push(h[b])}}return Array.isArray(f)&&Array.isArray(l)?dw(c):new s(dw(c))}})})});var Ake,KGt,qV,Nke=te(()=>{w();_();wr();Fe();Ake="setDistinct",KGt=["typed","size","subset","compareNatural","Index","DenseMatrix"],qV=ae(Ake,KGt,t=>{var{typed:e,size:r,subset:n,compareNatural:a,Index:o,DenseMatrix:s}=t;return e(Ake,{"Array | Matrix":function(f){var l;if(n(r(f),new o(0))===0)l=[];else{var c=Tr(Array.isArray(f)?f:f.toArray()).sort(a);l=[],l.push(c[0]);for(var h=1;h<c.length;h++)a(c[h],c[h-1])!==0&&l.push(c[h])}return Array.isArray(f)?l:new s(l)}})})});var Tke,ZGt,zV,Dke=te(()=>{w();_();wr();Fe();Tke="setIntersect",ZGt=["typed","size","subset","compareNatural","Index","DenseMatrix"],zV=ae(Tke,ZGt,t=>{var{typed:e,size:r,subset:n,compareNatural:a,Index:o,DenseMatrix:s}=t;return e(Tke,{"Array | Matrix, Array | Matrix":function(f,l){var c;if(n(r(f),new o(0))===0||n(r(l),new o(0))===0)c=[];else{var h=fp(Tr(Array.isArray(f)?f:f.toArray()).sort(a)),m=fp(Tr(Array.isArray(l)?l:l.toArray()).sort(a));c=[];for(var g=0;g<h.length;g++)for(var b=0;b<m.length;b++)if(a(h[g].value,m[b].value)===0&&h[g].identifier===m[b].identifier){c.push(h[g]);break}}return Array.isArray(f)&&Array.isArray(l)?dw(c):new s(dw(c))}})})});var kke,JGt,UV,Ike=te(()=>{w();_();wr();Fe();kke="setIsSubset",JGt=["typed","size","subset","compareNatural","Index"],UV=ae(kke,JGt,t=>{var{typed:e,size:r,subset:n,compareNatural:a,Index:o}=t;return e(kke,{"Array | Matrix, Array | Matrix":function(u,f){if(n(r(u),new o(0))===0)return!0;if(n(r(f),new o(0))===0)return!1;for(var l=fp(Tr(Array.isArray(u)?u:u.toArray()).sort(a)),c=fp(Tr(Array.isArray(f)?f:f.toArray()).sort(a)),h,m=0;m<l.length;m++){h=!1;for(var g=0;g<c.length;g++)if(a(l[m].value,c[g].value)===0&&l[m].identifier===c[g].identifier){h=!0;break}if(h===!1)return!1}return!0}})})});var Cke,YGt,jV,Oke=te(()=>{w();_();wr();Fe();Cke="setMultiplicity",YGt=["typed","size","subset","compareNatural","Index"],jV=ae(Cke,YGt,t=>{var{typed:e,size:r,subset:n,compareNatural:a,Index:o}=t;return e(Cke,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(u,f){if(n(r(f),new o(0))===0)return 0;for(var l=Tr(Array.isArray(f)?f:f.toArray()),c=0,h=0;h<l.length;h++)a(l[h],u)===0&&c++;return c}})})});var Rke,XGt,$V,Fke=te(()=>{w();_();wr();Fe();Rke="setPowerset",XGt=["typed","size","subset","compareNatural","Index"],$V=ae(Rke,XGt,t=>{var{typed:e,size:r,subset:n,compareNatural:a,Index:o}=t;return e(Rke,{"Array | Matrix":function(l){if(n(r(l),new o(0))===0)return[];for(var c=Tr(Array.isArray(l)?l:l.toArray()).sort(a),h=[],m=0;m.toString(2).length<=c.length;)h.push(s(c,m.toString(2).split("").reverse())),m++;return u(h)}});function s(f,l){for(var c=[],h=0;h<l.length;h++)l[h]==="1"&&c.push(f[h]);return c}function u(f){for(var l=[],c=f.length-1;c>0;c--)for(var h=0;h<c;h++)f[h].length>f[h+1].length&&(l=f[h],f[h]=f[h+1],f[h+1]=l);return f}})});var Bke,QGt,VV,Lke=te(()=>{w();_();wr();Fe();Bke="setSize",QGt=["typed","compareNatural"],VV=ae(Bke,QGt,t=>{var{typed:e,compareNatural:r}=t;return e(Bke,{"Array | Matrix":function(a){return Array.isArray(a)?Tr(a).length:Tr(a.toArray()).length},"Array | Matrix, boolean":function(a,o){if(o===!1||a.length===0)return Array.isArray(a)?Tr(a).length:Tr(a.toArray()).length;for(var s=Tr(Array.isArray(a)?a:a.toArray()).sort(r),u=1,f=1;f<s.length;f++)r(s[f],s[f-1])!==0&&u++;return u}})})});var Pke,eHt,WV,qke=te(()=>{w();_();wr();Fe();Pke="setSymDifference",eHt=["typed","size","concat","subset","setDifference","Index"],WV=ae(Pke,eHt,t=>{var{typed:e,size:r,concat:n,subset:a,setDifference:o,Index:s}=t;return e(Pke,{"Array | Matrix, Array | Matrix":function(f,l){if(a(r(f),new s(0))===0)return Tr(l);if(a(r(l),new s(0))===0)return Tr(f);var c=Tr(f),h=Tr(l);return n(o(c,h),o(h,c))}})})});var zke,tHt,GV,Uke=te(()=>{w();_();wr();Fe();zke="setUnion",tHt=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],GV=ae(zke,tHt,t=>{var{typed:e,size:r,concat:n,subset:a,setIntersect:o,setSymDifference:s,Index:u}=t;return e(zke,{"Array | Matrix, Array | Matrix":function(l,c){if(a(r(l),new u(0))===0)return Tr(c);if(a(r(c),new u(0))===0)return Tr(l);var h=Tr(l),m=Tr(c);return n(s(h,m),o(h,m))}})})});var jke,rHt,HV,$ke=te(()=>{w();_();Fe();dn();hp();nI();Gd();di();Tn();jke="add",rHt=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],HV=ae(jke,rHt,t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:a,DenseMatrix:o,SparseMatrix:s}=t,u=cs({typed:e}),f=bw({typed:e,equalScalar:a}),l=tu({typed:e,DenseMatrix:o}),c=Er({typed:e}),h=or({typed:e});return e(jke,lw({"DenseMatrix, DenseMatrix":function(g,b){return c(g,b,n)},"DenseMatrix, SparseMatrix":function(g,b){return u(g,b,n,!1)},"SparseMatrix, DenseMatrix":function(g,b){return u(b,g,n,!0)},"SparseMatrix, SparseMatrix":function(g,b){return f(g,b,n)},"Array, Array":function(g,b){return this(r(g),r(b)).valueOf()},"Array, Matrix":function(g,b){return this(r(g),b)},"Matrix, Array":function(g,b){return this(g,r(b))},"DenseMatrix, any":function(g,b){return h(g,b,n,!1)},"SparseMatrix, any":function(g,b){return l(g,b,n,!1)},"any, DenseMatrix":function(g,b){return h(b,g,n,!0)},"any, SparseMatrix":function(g,b){return l(b,g,n,!0)},"Array, any":function(g,b){return h(r(g),b,n,!1).valueOf()},"any, Array":function(g,b){return h(r(b),g,n,!0).valueOf()},"any, any":n,"any, any, ...any":function(g,b,A){for(var I=this(g,b),C=0;C<A.length;C++)I=this(I,A[C]);return I}},n.signatures))})});var Vke,nHt,KV,Wke=te(()=>{w();_();Fe();wr();Vke="hypot",nHt=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],KV=ae(Vke,nHt,t=>{var{typed:e,abs:r,addScalar:n,divideScalar:a,multiplyScalar:o,sqrt:s,smaller:u,isPositive:f}=t;return e(Vke,{"... number | BigNumber":l,Array:function(h){return this.apply(this,Tr(h))},Matrix:function(h){return this.apply(this,Tr(h.toArray()))}});function l(c){for(var h=0,m=0,g=0;g<c.length;g++){var b=r(c[g]);u(m,b)?(h=o(h,o(a(m,b),a(m,b))),h=n(h,1),m=b):h=n(h,f(b)?o(a(b,m),a(b,m)):b)}return o(m,s(h))}})});var Gke,iHt,ZV,Hke=te(()=>{w();_();Fe();Gke="norm",iHt=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],ZV=ae(Gke,iHt,t=>{var{typed:e,abs:r,add:n,pow:a,conj:o,sqrt:s,multiply:u,equalScalar:f,larger:l,smaller:c,matrix:h,ctranspose:m,eigs:g}=t;return e(Gke,{number:Math.abs,Complex:function(j){return j.abs()},BigNumber:function(j){return j.abs()},boolean:function(j){return Math.abs(j)},Array:function(j){return B(h(j),2)},Matrix:function(j){return B(j,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(j){return this(j)},"Array, number | BigNumber | string":function(j,W){return B(h(j),W)},"Matrix, number | BigNumber | string":function(j,W){return B(j,W)}});function b($){var j=0;return $.forEach(function(W){var T=r(W);l(T,j)&&(j=T)},!0),j}function A($){var j;return $.forEach(function(W){var T=r(W);(!j||c(T,j))&&(j=T)},!0),j||0}function I($,j){if(j===Number.POSITIVE_INFINITY||j==="inf")return b($);if(j===Number.NEGATIVE_INFINITY||j==="-inf")return A($);if(j==="fro")return B($,2);if(typeof j=="number"&&!isNaN(j)){if(!f(j,0)){var W=0;return $.forEach(function(T){W=n(a(r(T),j),W)},!0),a(W,1/j)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function C($){var j=0;return $.forEach(function(W,T){j=n(j,u(W,o(W)))}),r(s(j))}function R($){var j=[],W=0;return $.forEach(function(T,p){var v=p[1],S=n(j[v]||0,r(T));l(S,W)&&(W=S),j[v]=S},!0),W}function O($){var j=$.size();if(j[0]!==j[1])throw new RangeError("Invalid matrix dimensions");var W=m($),T=u(W,$),p=g(T).values.toArray(),v=p[p.length-1];return r(s(v))}function F($){var j=[],W=0;return $.forEach(function(T,p){var v=p[0],S=n(j[v]||0,r(T));l(S,W)&&(W=S),j[v]=S},!0),W}function z($,j){if(j===1)return R($);if(j===Number.POSITIVE_INFINITY||j==="inf")return F($);if(j==="fro")return C($);if(j===2)return O($);throw new Error("Unsupported parameter value "+j)}function B($,j){var W=$.size();if(W.length===1)return I($,j);if(W.length===2){if(W[0]&&W[1])return z($,j);throw new RangeError("Invalid matrix dimensions")}}})});var Kke,aHt,JV,Zke=te(()=>{w();_();Fe();zt();Kke="dot",aHt=["typed","addScalar","multiplyScalar","conj","size"],JV=ae(Kke,aHt,t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:a,size:o}=t;return e(Kke,{"Array | DenseMatrix, Array | DenseMatrix":u,"SparseMatrix, SparseMatrix":f});function s(c,h){var m=l(c),g=l(h),b,A;if(m.length===1)b=m[0];else if(m.length===2&&m[1]===1)b=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(g.length===1)A=g[0];else if(g.length===2&&g[1]===1)A=g[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+g.join(", ")+")");if(b!==A)throw new RangeError("Vectors must have equal length ("+b+" != "+A+")");if(b===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return b}function u(c,h){var m=s(c,h),g=Kt(c)?c._data:c,b=Kt(c)?c._datatype:void 0,A=Kt(h)?h._data:h,I=Kt(h)?h._datatype:void 0,C=l(c).length===2,R=l(h).length===2,O=r,F=n;if(b&&I&&b===I&&typeof b=="string"){var z=b;O=e.find(r,[z,z]),F=e.find(n,[z,z])}if(!C&&!R){for(var B=F(a(g[0]),A[0]),$=1;$<m;$++)B=O(B,F(a(g[$]),A[$]));return B}if(!C&&R){for(var j=F(a(g[0]),A[0][0]),W=1;W<m;W++)j=O(j,F(a(g[W]),A[W][0]));return j}if(C&&!R){for(var T=F(a(g[0][0]),A[0]),p=1;p<m;p++)T=O(T,F(a(g[p][0]),A[p]));return T}if(C&&R){for(var v=F(a(g[0][0]),A[0][0]),S=1;S<m;S++)v=O(v,F(a(g[S][0]),A[S][0]));return v}}function f(c,h){s(c,h);for(var m=c._index,g=c._values,b=h._index,A=h._values,I=0,C=r,R=n,O=0,F=0;O<m.length&&F<b.length;){var z=m[O],B=b[F];if(z<B){O++;continue}if(z>B){F++;continue}z===B&&(I=C(I,R(g[O],A[F])),O++,F++)}return I}function l(c){return Kt(c)?c.size():o(c)}})});var oHt,sHt,YV,Jke=te(()=>{w();_();dn();xi();Fe();oHt="trace",sHt=["typed","matrix","add"],YV=ae(oHt,sHt,t=>{var{typed:e,matrix:r,add:n}=t;return e("trace",{Array:function(u){return a(r(u))},SparseMatrix:o,DenseMatrix:a,any:tr});function a(s){var u=s._size,f=s._data;switch(u.length){case 1:if(u[0]===1)return tr(f[0]);throw new RangeError("Matrix must be square (size: "+mr(u)+")");case 2:{var l=u[0],c=u[1];if(l===c){for(var h=0,m=0;m<l;m++)h=n(h,f[m][m]);return h}else throw new RangeError("Matrix must be square (size: "+mr(u)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+mr(u)+")")}}function o(s){var u=s._values,f=s._index,l=s._ptr,c=s._size,h=c[0],m=c[1];if(h===m){var g=0;if(u.length>0)for(var b=0;b<m;b++)for(var A=l[b],I=l[b+1],C=A;C<I;C++){var R=f[C];if(R===b){g=n(g,u[C]);break}if(R>b)break}return g}throw new RangeError("Matrix must be square (size: "+mr(c)+")")}})});var Yke,uHt,XV,Xke=te(()=>{w();_();Fe();zt();Yke="index",uHt=["typed","Index"],XV=ae(Yke,uHt,t=>{var{typed:e,Index:r}=t;return e(Yke,{"...number | string | BigNumber | Range | Array | Matrix":function(a){var o=a.map(function(u){return hr(u)?u.toNumber():Array.isArray(u)||Kt(u)?u.map(function(f){return hr(f)?f.toNumber():f}):u}),s=new r;return r.apply(s,o),s}})})});var hI,QV=te(()=>{w();_();hI=new Set(["end"])});var fHt,lHt,eW,Qke=te(()=>{w();_();zt();QV();dn();Fe();Vd();fHt="Node",lHt=["mathWithTransform"],eW=ae(fHt,lHt,t=>{var{mathWithTransform:e}=t;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}r.prototype.evaluate=function(a){return this.compile().evaluate(a)},r.prototype.type="Node",r.prototype.isNode=!0,r.prototype.comment="",r.prototype.compile=function(){var a=this._compile(e,{}),o={},s=null;function u(f){var l=mw(f);return n(l),a(l,o,s)}return{evaluate:u}},r.prototype._compile=function(a,o){throw new Error("Method _compile should be implemented by type "+this.type)},r.prototype.forEach=function(a){throw new Error("Cannot run forEach on a Node interface")},r.prototype.map=function(a){throw new Error("Cannot run map on a Node interface")},r.prototype._ifNode=function(a){if(!Ir(a))throw new TypeError("Callback function must return a Node");return a},r.prototype.traverse=function(a){a(this,null,null);function o(s,u){s.forEach(function(f,l,c){u(f,l,c),o(f,u)})}o(this,a)},r.prototype.transform=function(a){function o(s,u,f){var l=a(s,u,f);return l!==s?l:s.map(o)}return o(this,null,null)},r.prototype.filter=function(a){var o=[];return this.traverse(function(s,u,f){a(s,u,f)&&o.push(s)}),o},r.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},r.prototype.cloneDeep=function(){return this.map(function(a){return a.cloneDeep()})},r.prototype.equals=function(a){return a?Ud(this,a):!1},r.prototype.toString=function(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toString(a)},r.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},r.prototype.toHTML=function(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this.toHTML(a)},r.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},r.prototype.toTex=function(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toTex(a)},r.prototype._toTex=function(a){throw new Error("_toTex not implemented for "+this.type)},r.prototype._getCustomString=function(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}},r.prototype.getIdentifier=function(){return this.type},r.prototype.getContent=function(){return this};function n(a){for(var o of[...hI])if(a.has(o))throw new Error('Scope contains an illegal symbol, "'+o+'" is a reserved keyword')}return r},{isClass:!0,isNode:!0})});function oi(t){return t&&t.isIndexError?new jo(t.index+1,t.min+1,t.max!==void 0?t.max+1:void 0):t}var ps=te(()=>{w();_();Nv()});function pI(t){var{subset:e}=t;return function(n,a){try{if(Array.isArray(n))return e(n,a);if(n&&typeof n.subset=="function")return n.subset(a);if(typeof n=="string")return e(n,a);if(typeof n=="object"){if(!a.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return xa(n,a.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(o){throw oi(o)}}}var tW=te(()=>{w();_();ps();Qs()});var cHt,hHt,rW,eIe=te(()=>{w();_();zt();Qs();Fe();tW();cHt="AccessorNode",hHt=["subset","Node"],rW=ae(cHt,hHt,t=>{var{subset:e,Node:r}=t,n=pI({subset:e});function a(s,u){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!Ir(s))throw new TypeError('Node expected for parameter "object"');if(!Gf(u))throw new TypeError('IndexNode expected for parameter "index"');this.object=s||null,this.index=u,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}a.prototype=new r,a.prototype.type="AccessorNode",a.prototype.isAccessorNode=!0,a.prototype._compile=function(s,u){var f=this.object._compile(s,u),l=this.index._compile(s,u);if(this.index.isObjectProperty()){var c=this.index.getObjectProperty();return function(m,g,b){return xa(f(m,g,b),c)}}else return function(m,g,b){var A=f(m,g,b),I=l(m,g,A);return n(A,I)}},a.prototype.forEach=function(s){s(this.object,"object",this),s(this.index,"index",this)},a.prototype.map=function(s){return new a(this._ifNode(s(this.object,"object",this)),this._ifNode(s(this.index,"index",this)))},a.prototype.clone=function(){return new a(this.object,this.index)},a.prototype._toString=function(s){var u=this.object.toString(s);return o(this.object)&&(u="("+u+")"),u+this.index.toString(s)},a.prototype.toHTML=function(s){var u=this.object.toHTML(s);return o(this.object)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+this.index.toHTML(s)},a.prototype._toTex=function(s){var u=this.object.toTex(s);return o(this.object)&&(u="\\left(' + object + '\\right)"),u+this.index.toTex(s)},a.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},a.fromJSON=function(s){return new a(s.object,s.index)};function o(s){return!(Su(s)||Uo(s)||pn(s)||Eu(s)||zd(s)||$c(s)||wi(s))}return a},{isClass:!0,isNode:!0})});var pHt,dHt,nW,tIe=te(()=>{w();_();zt();wr();Fe();pHt="ArrayNode",dHt=["Node"],nW=ae(pHt,dHt,t=>{var{Node:e}=t;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=n||[],!Array.isArray(this.items)||!this.items.every(Ir))throw new TypeError("Array containing Nodes expected")}return r.prototype=new e,r.prototype.type="ArrayNode",r.prototype.isArrayNode=!0,r.prototype._compile=function(n,a){var o=Xs(this.items,function(f){return f._compile(n,a)}),s=n.config.matrix!=="Array";if(s){var u=n.matrix;return function(l,c,h){return u(Xs(o,function(m){return m(l,c,h)}))}}else return function(l,c,h){return Xs(o,function(m){return m(l,c,h)})}},r.prototype.forEach=function(n){for(var a=0;a<this.items.length;a++){var o=this.items[a];n(o,"items["+a+"]",this)}},r.prototype.map=function(n){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(n(this.items[o],"items["+o+"]",this));return new r(a)},r.prototype.clone=function(){return new r(this.items.slice(0))},r.prototype._toString=function(n){var a=this.items.map(function(o){return o.toString(n)});return"["+a.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},r.fromJSON=function(n){return new r(n.items)},r.prototype.toHTML=function(n){var a=this.items.map(function(o){return o.toHTML(n)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},r.prototype._toTex=function(n){function a(o,s){var u=o.some(Uo)&&!o.every(Uo),f=s||u,l=f?"&":"\\\\",c=o.map(function(h){return h.items?a(h.items,!s):h.toTex(n)}).join(l);return u||!f||f&&!s?"\\begin{bmatrix}"+c+"\\end{bmatrix}":c}return a(this.items,!1)},r},{isClass:!0,isNode:!0})});function rIe(t){var{subset:e,matrix:r}=t;return function(a,o,s){try{if(Array.isArray(a))return r(a).subset(o,s).valueOf();if(a&&typeof a.subset=="function")return a.subset(o,s);if(typeof a=="string")return e(a,o,s);if(typeof a=="object"){if(!o.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Vc(a,o.getObjectProperty(),s),a}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(u){throw oi(u)}}}var nIe=te(()=>{w();_();ps();Qs()});function Dn(t,e){var r=t;e!=="keep"&&(r=t.getContent());for(var n=r.getIdentifier(),a=0;a<$l.length;a++)if(n in $l[a])return a;return null}function Aw(t,e){var r=t;e!=="keep"&&(r=t.getContent());var n=r.getIdentifier(),a=Dn(r,e);if(a===null)return null;var o=$l[a][n];if(Jt(o,"associativity")){if(o.associativity==="left")return"left";if(o.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+o.associativity+"'.")}return null}function dI(t,e,r){var n=r!=="keep"?t.getContent():t,a=r!=="keep"?t.getContent():e,o=n.getIdentifier(),s=a.getIdentifier(),u=Dn(n,r);if(u===null)return null;var f=$l[u][o];if(Jt(f,"associativeWith")&&f.associativeWith instanceof Array){for(var l=0;l<f.associativeWith.length;l++)if(f.associativeWith[l]===s)return!0;return!1}return null}var $l,Rv=te(()=>{w();_();dn();$l=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}]});var mHt,vHt,iW,iIe=te(()=>{w();_();zt();Qs();Fe();tW();nIe();Rv();mHt="AssignmentNode",vHt=["subset","?matrix","Node"],iW=ae(mHt,vHt,t=>{var{subset:e,matrix:r,Node:n}=t,a=pI({subset:e}),o=rIe({subset:e,matrix:r});function s(f,l,c){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=f,this.index=c?l:null,this.value=c||l,!wi(f)&&!Su(f))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(wi(f)&&f.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!Gf(this.index))throw new TypeError('IndexNode expected as "index"');if(!Ir(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}s.prototype=new n,s.prototype.type="AssignmentNode",s.prototype.isAssignmentNode=!0,s.prototype._compile=function(f,l){var c=this.object._compile(f,l),h=this.index?this.index._compile(f,l):null,m=this.value._compile(f,l),g=this.object.name;if(this.index)if(this.index.isObjectProperty()){var b=this.index.getObjectProperty();return function(O,F,z){var B=c(O,F,z),$=m(O,F,z);return Vc(B,b,$),$}}else{if(wi(this.object))return function(O,F,z){var B=c(O,F,z),$=m(O,F,z),j=h(O,F,B);return O.set(g,o(B,j,$)),$};var A=this.object.object._compile(f,l);if(this.object.index.isObjectProperty()){var I=this.object.index.getObjectProperty();return function(O,F,z){var B=A(O,F,z),$=xa(B,I),j=h(O,F,$),W=m(O,F,z);return Vc(B,I,o($,j,W)),W}}else{var C=this.object.index._compile(f,l);return function(O,F,z){var B=A(O,F,z),$=C(O,F,B),j=a(B,$),W=h(O,F,j),T=m(O,F,z);return o(B,$,o(j,W,T)),T}}}else{if(!wi(this.object))throw new TypeError("SymbolNode expected as object");return function(O,F,z){var B=m(O,F,z);return O.set(g,B),B}}},s.prototype.forEach=function(f){f(this.object,"object",this),this.index&&f(this.index,"index",this),f(this.value,"value",this)},s.prototype.map=function(f){var l=this._ifNode(f(this.object,"object",this)),c=this.index?this._ifNode(f(this.index,"index",this)):null,h=this._ifNode(f(this.value,"value",this));return new s(l,c,h)},s.prototype.clone=function(){return new s(this.object,this.index,this.value)};function u(f,l){l||(l="keep");var c=Dn(f,l),h=Dn(f.value,l);return l==="all"||h!==null&&h<=c}return s.prototype._toString=function(f){var l=this.object.toString(f),c=this.index?this.index.toString(f):"",h=this.value.toString(f);return u(this,f&&f.parenthesis)&&(h="("+h+")"),l+c+" = "+h},s.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},s.fromJSON=function(f){return new s(f.object,f.index,f.value)},s.prototype.toHTML=function(f){var l=this.object.toHTML(f),c=this.index?this.index.toHTML(f):"",h=this.value.toHTML(f);return u(this,f&&f.parenthesis)&&(h='<span class="math-paranthesis math-round-parenthesis">(</span>'+h+'<span class="math-paranthesis math-round-parenthesis">)</span>'),l+c+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+h},s.prototype._toTex=function(f){var l=this.object.toTex(f),c=this.index?this.index.toTex(f):"",h=this.value.toTex(f);return u(this,f&&f.parenthesis)&&(h="\\left(".concat(h,"\\right)")),l+c+":="+h},s},{isClass:!0,isNode:!0})});var gHt,yHt,aW,aIe=te(()=>{w();_();zt();wr();Fe();gHt="BlockNode",yHt=["ResultSet","Node"],aW=ae(gHt,yHt,t=>{var{ResultSet:e,Node:r}=t;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var s=o&&o.node,u=o&&o.visible!==void 0?o.visible:!0;if(!Ir(s))throw new TypeError('Property "node" must be a Node');if(typeof u!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:s,visible:u}})}return n.prototype=new r,n.prototype.type="BlockNode",n.prototype.isBlockNode=!0,n.prototype._compile=function(a,o){var s=Xs(this.blocks,function(u){return{evaluate:u.node._compile(a,o),visible:u.visible}});return function(f,l,c){var h=[];return jd(s,function(g){var b=g.evaluate(f,l,c);g.visible&&h.push(b)}),new e(h)}},n.prototype.forEach=function(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)},n.prototype.map=function(a){for(var o=[],s=0;s<this.blocks.length;s++){var u=this.blocks[s],f=this._ifNode(a(u.node,"blocks["+s+"].node",this));o[s]={node:f,visible:u.visible}}return new n(o)},n.prototype.clone=function(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)},n.prototype._toString=function(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)},n.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},n.fromJSON=function(a){return new n(a.blocks)},n.prototype.toHTML=function(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')},n.prototype._toTex=function(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)},n},{isClass:!0,isNode:!0})});var bHt,wHt,oW,oIe=te(()=>{w();_();zt();Fe();Rv();bHt="ConditionalNode",wHt=["Node"],oW=ae(bHt,wHt,t=>{var{Node:e}=t;function r(a,o,s){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Ir(a))throw new TypeError("Parameter condition must be a Node");if(!Ir(o))throw new TypeError("Parameter trueExpr must be a Node");if(!Ir(s))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=s}r.prototype=new e,r.prototype.type="ConditionalNode",r.prototype.isConditionalNode=!0,r.prototype._compile=function(a,o){var s=this.condition._compile(a,o),u=this.trueExpr._compile(a,o),f=this.falseExpr._compile(a,o);return function(c,h,m){return n(s(c,h,m))?u(c,h,m):f(c,h,m)}},r.prototype.forEach=function(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)},r.prototype.map=function(a){return new r(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))},r.prototype.clone=function(){return new r(this.condition,this.trueExpr,this.falseExpr)},r.prototype._toString=function(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=Dn(this,o),u=this.condition.toString(a),f=Dn(this.condition,o);(o==="all"||this.condition.type==="OperatorNode"||f!==null&&f<=s)&&(u="("+u+")");var l=this.trueExpr.toString(a),c=Dn(this.trueExpr,o);(o==="all"||this.trueExpr.type==="OperatorNode"||c!==null&&c<=s)&&(l="("+l+")");var h=this.falseExpr.toString(a),m=Dn(this.falseExpr,o);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=s)&&(h="("+h+")"),u+" ? "+l+" : "+h},r.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},r.fromJSON=function(a){return new r(a.condition,a.trueExpr,a.falseExpr)},r.prototype.toHTML=function(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=Dn(this,o),u=this.condition.toHTML(a),f=Dn(this.condition,o);(o==="all"||this.condition.type==="OperatorNode"||f!==null&&f<=s)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var l=this.trueExpr.toHTML(a),c=Dn(this.trueExpr,o);(o==="all"||this.trueExpr.type==="OperatorNode"||c!==null&&c<=s)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var h=this.falseExpr.toHTML(a),m=Dn(this.falseExpr,o);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=s)&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+'<span class="math-operator math-conditional-operator">?</span>'+l+'<span class="math-operator math-conditional-operator">:</span>'+h},r.prototype._toTex=function(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"};function n(a){if(typeof a=="number"||typeof a=="boolean"||typeof a=="string")return!!a;if(a){if(hr(a))return!a.isZero();if(Ys(a))return!!(a.re||a.im);if(sp(a))return!!a.value}if(a==null)return!1;throw new TypeError('Unsupported type of condition "'+$r(a)+'"')}return r},{isClass:!0,isNode:!0})});var uIe=Ee((cHr,sIe)=>{"use strict";w();_();var sW=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xHt={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},_Ht={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},SHt=function(e,r){return sW({},e,r)};sIe.exports=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.preserveFormatting,n=r===void 0?!1:r,a=e.escapeMapFn,o=a===void 0?SHt:a,s=String(t),u="",f=o(sW({},xHt),n?sW({},_Ht):{}),l=Object.keys(f),c=function(){var m=!1;l.forEach(function(g,b){m||s.length>=g.length&&s.slice(0,g.length)===g&&(u+=f[l[b]],s=s.slice(g.length,s.length),m=!0)}),m||(u+=s.slice(0,1),s=s.slice(1,s.length))};s;)c();return u}});function mI(t){return(0,lIe.default)(t,{preserveFormatting:!0})}function vI(t,e){return e=typeof e=="undefined"?!1:e,e?Jt(fIe,t)?fIe[t]:"\\mathrm{"+mI(t)+"}":Jt(uW,t)?uW[t]:mI(t)}var lIe,uW,wn,fW,cIe,fIe,Fv=te(()=>{w();_();lIe=Bt(uIe(),1);dn();uW={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},wn={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},fW={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(wn.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(wn.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(wn.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(wn.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(wn.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(wn.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(wn.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(wn.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(wn.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(wn.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(wn.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(wn.bitAnd,"${args[1]}\\right)")},bitNot:{1:wn.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(wn.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(wn.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(wn.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(wn.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(wn.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(wn.and,"${args[1]}\\right)")},not:{1:wn.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(wn.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(wn.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(wn.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(wn.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(wn.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(wn.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(wn.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(wn.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(wn.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(wn.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(wn.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(wn.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(wn.to,"${args[1]}\\right)")},numeric:function(e,r){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(uW.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},cIe="\\mathrm{${name}}\\left(${args}\\right)",fIe={deg:"^\\circ"}});var EHt,MHt,lW,hIe=te(()=>{w();_();xi();zt();Fv();Fe();EHt="ConstantNode",MHt=["Node"],lW=ae(EHt,MHt,t=>{var{Node:e}=t;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=n}return r.prototype=new e,r.prototype.type="ConstantNode",r.prototype.isConstantNode=!0,r.prototype._compile=function(n,a){var o=this.value;return function(){return o}},r.prototype.forEach=function(n){},r.prototype.map=function(n){return this.clone()},r.prototype.clone=function(){return new r(this.value)},r.prototype._toString=function(n){return mr(this.value,n)},r.prototype.toHTML=function(n){var a=this._toString(n);switch($r(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}},r.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},r.fromJSON=function(n){return new r(n.value)},r.prototype._toTex=function(n){var a=this._toString(n);switch($r(this.value)){case"string":return"\\mathtt{"+mI(a)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var o=a.toLowerCase().indexOf("e");if(o!==-1)return a.substring(0,o)+"\\cdot10^{"+a.substring(o+1)+"}"}return a;case"Fraction":return this.value.toLatex();default:return a}},r},{isClass:!0,isNode:!0})});var AHt,NHt,cW,pIe=te(()=>{w();_();zt();QV();xi();wr();Fv();Rv();Fe();AHt="FunctionAssignmentNode",NHt=["typed","Node"],cW=ae(AHt,NHt,t=>{var{typed:e,Node:r}=t;function n(o,s,u){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(s))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Ir(u))throw new TypeError('Node expected for parameter "expr"');if(hI.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');this.name=o,this.params=s.map(function(f){return f&&f.name||f}),this.types=s.map(function(f){return f&&f.type||"any"}),this.expr=u}n.prototype=new r,n.prototype.type="FunctionAssignmentNode",n.prototype.isFunctionAssignmentNode=!0,n.prototype._compile=function(o,s){var u=Object.create(s);jd(this.params,function(g){u[g]=!0});var f=this.expr._compile(o,u),l=this.name,c=this.params,h=fz(this.types,","),m=l+"("+fz(this.params,", ")+")";return function(b,A,I){var C={};C[h]=function(){for(var O=Object.create(A),F=0;F<c.length;F++)O[c[F]]=arguments[F];return f(b,O,I)};var R=e(l,C);return R.syntax=m,b.set(l,R),R}},n.prototype.forEach=function(o){o(this.expr,"expr",this)},n.prototype.map=function(o){var s=this._ifNode(o(this.expr,"expr",this));return new n(this.name,this.params.slice(0),s)},n.prototype.clone=function(){return new n(this.name,this.params.slice(0),this.expr)};function a(o,s){var u=Dn(o,s),f=Dn(o.expr,s);return s==="all"||f!==null&&f<=u}return n.prototype._toString=function(o){var s=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toString(o);return a(this,s)&&(u="("+u+")"),this.name+"("+this.params.join(", ")+") = "+u},n.prototype.toJSON=function(){var o=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map(function(s,u){return{name:s,type:o[u]}}),expr:this.expr}},n.fromJSON=function(o){return new n(o.name,o.params,o.expr)},n.prototype.toHTML=function(o){for(var s=o&&o.parenthesis?o.parenthesis:"keep",u=[],f=0;f<this.params.length;f++)u.push('<span class="math-symbol math-parameter">'+oo(this.params[f])+"</span>");var l=this.expr.toHTML(o);return a(this,s)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+oo(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+l},n.prototype._toTex=function(o){var s=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toTex(o);return a(this,s)&&(u="\\left(".concat(u,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(vI).join(",")+"\\right):="+u},n},{isClass:!0,isNode:!0})});var THt,DHt,hW,dIe=te(()=>{w();_();wr();Qs();Fe();zt();xi();THt="IndexNode",DHt=["Node","size"],hW=ae(THt,DHt,t=>{var{Node:e,size:r}=t;function n(a,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(Ir))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}return n.prototype=new e,n.prototype.type="IndexNode",n.prototype.isIndexNode=!0,n.prototype._compile=function(a,o){var s=Xs(this.dimensions,function(f,l){var c=f.filter(g=>g.isSymbolNode&&g.name==="end").length>0;if(c){var h=Object.create(o);h.end=!0;var m=f._compile(a,h);return function(b,A,I){if(!Kt(I)&&!hn(I)&&!ja(I))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+$r(I));var C=r(I).valueOf(),R=Object.create(A);return R.end=C[l],m(b,R,I)}}else return f._compile(a,o)}),u=xa(a,"index");return function(l,c,h){var m=Xs(s,function(g){return g(l,c,h)});return u(...m)}},n.prototype.forEach=function(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)},n.prototype.map=function(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this._ifNode(a(this.dimensions[s],"dimensions["+s+"]",this));return new n(o,this.dotNotation)},n.prototype.clone=function(){return new n(this.dimensions.slice(0),this.dotNotation)},n.prototype.isObjectProperty=function(){return this.dimensions.length===1&&pn(this.dimensions[0])&&typeof this.dimensions[0].value=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},n.prototype._toString=function(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},n.fromJSON=function(a){return new n(a.dimensions,a.dotNotation)},n.prototype.toHTML=function(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this.dimensions[s].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+oo(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},n.prototype._toTex=function(a){var o=this.dimensions.map(function(s){return s.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"},n},{isClass:!0,isNode:!0})});var kHt,IHt,pW,mIe=te(()=>{w();_();zt();xi();Qs();dn();Fe();kHt="ObjectNode",IHt=["Node"],pW=ae(kHt,IHt,t=>{var{Node:e}=t;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=n||{},n&&(typeof n!="object"||!Object.keys(n).every(function(a){return Ir(n[a])})))throw new TypeError("Object containing Nodes expected")}return r.prototype=new e,r.prototype.type="ObjectNode",r.prototype.isObjectNode=!0,r.prototype._compile=function(n,a){var o={};for(var s in this.properties)if(Jt(this.properties,s)){var u=fE(s),f=JSON.parse(u);if(!Gk(this.properties,f))throw new Error('No access to property "'+f+'"');o[f]=this.properties[s]._compile(n,a)}return function(c,h,m){var g={};for(var b in o)Jt(o,b)&&(g[b]=o[b](c,h,m));return g}},r.prototype.forEach=function(n){for(var a in this.properties)Jt(this.properties,a)&&n(this.properties[a],"properties["+fE(a)+"]",this)},r.prototype.map=function(n){var a={};for(var o in this.properties)Jt(this.properties,o)&&(a[o]=this._ifNode(n(this.properties[o],"properties["+fE(o)+"]",this)));return new r(a)},r.prototype.clone=function(){var n={};for(var a in this.properties)Jt(this.properties,a)&&(n[a]=this.properties[a]);return new r(n)},r.prototype._toString=function(n){var a=[];for(var o in this.properties)Jt(this.properties,o)&&a.push(fE(o)+": "+this.properties[o].toString(n));return"{"+a.join(", ")+"}"},r.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},r.fromJSON=function(n){return new r(n.properties)},r.prototype.toHTML=function(n){var a=[];for(var o in this.properties)Jt(this.properties,o)&&a.push('<span class="math-symbol math-property">'+oo(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(n));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},r.prototype._toTex=function(n){var a=[];for(var o in this.properties)Jt(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(n)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(a.join(`
`),"\\end{array}\\right\\}")},r},{isClass:!0,isNode:!0})});var CHt,OHt,dW,vIe=te(()=>{w();_();zt();wr();xi();Qs();Rv();Fv();Fe();CHt="OperatorNode",OHt=["Node"],dW=ae(CHt,OHt,t=>{var{Node:e}=t;function r(a,o,s,u,f){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(typeof a!="string")throw new TypeError('string expected for parameter "op"');if(typeof o!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(s)||!s.every(Ir))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=u===!0,this.isPercentage=f===!0,this.op=a,this.fn=o,this.args=s||[]}r.prototype=new e,r.prototype.type="OperatorNode",r.prototype.isOperatorNode=!0,r.prototype._compile=function(a,o){if(typeof this.fn!="string"||!Hk(a,this.fn))throw a[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var s=xa(a,this.fn),u=Xs(this.args,function(h){return h._compile(a,o)});if(u.length===1){var f=u[0];return function(m,g,b){return s(f(m,g,b))}}else if(u.length===2){var l=u[0],c=u[1];return function(m,g,b){return s(l(m,g,b),c(m,g,b))}}else return function(m,g,b){return s.apply(null,Xs(u,function(A){return A(m,g,b)}))}},r.prototype.forEach=function(a){for(var o=0;o<this.args.length;o++)a(this.args[o],"args["+o+"]",this)},r.prototype.map=function(a){for(var o=[],s=0;s<this.args.length;s++)o[s]=this._ifNode(a(this.args[s],"args["+s+"]",this));return new r(this.op,this.fn,o,this.implicit,this.isPercentage)},r.prototype.clone=function(){return new r(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)},r.prototype.isUnary=function(){return this.args.length===1},r.prototype.isBinary=function(){return this.args.length===2};function n(a,o,s,u,f){var l=Dn(a,o),c=Aw(a,o);if(o==="all"||u.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return u.map(function(j){switch(j.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var h;switch(u.length){case 0:h=[];break;case 1:{var m=Dn(u[0],o);if(f&&m!==null){var g,b;if(o==="keep"?(g=u[0].getIdentifier(),b=a.getIdentifier()):(g=u[0].getContent().getIdentifier(),b=a.getContent().getIdentifier()),$l[l][b].latexLeftParens===!1){h=[!1];break}if($l[m][g].latexParens===!1){h=[!1];break}}if(m===null){h=[!1];break}if(m<=l){h=[!0];break}h=[!1]}break;case 2:{var A,I=Dn(u[0],o),C=dI(a,u[0],o);I===null?A=!1:I===l&&c==="right"&&!C||I<l?A=!0:A=!1;var R,O=Dn(u[1],o),F=dI(a,u[1],o);if(O===null?R=!1:O===l&&c==="left"&&!F||O<l?R=!0:R=!1,f){var z,B,$;o==="keep"?(z=a.getIdentifier(),B=a.args[0].getIdentifier(),$=a.args[1].getIdentifier()):(z=a.getContent().getIdentifier(),B=a.args[0].getContent().getIdentifier(),$=a.args[1].getContent().getIdentifier()),I!==null&&($l[l][z].latexLeftParens===!1&&(A=!1),$l[I][B].latexParens===!1&&(A=!1)),O!==null&&($l[l][z].latexRightParens===!1&&(R=!1),$l[O][$].latexParens===!1&&(R=!1))}h=[A,R]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(h=u.map(function(j){var W=Dn(j,o),T=dI(a,j,o),p=Aw(j,o);return W===null?!1:l===W&&c===p&&!T?!0:W<l}));break}return u.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o==="auto"&&s==="hide"&&(h=u.map(function(j,W){var T=j.getIdentifier()==="ParenthesisNode";return!!(h[W]||T)})),h}return r.prototype._toString=function(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=a&&a.implicit?a.implicit:"hide",u=this.args,f=n(this,o,s,u,!1);if(u.length===1){var l=Aw(this,o),c=u[0].toString(a);f[0]&&(c="("+c+")");var h=/[a-zA-Z]+/.test(this.op);return l==="right"?this.op+(h?" ":"")+c:l==="left"?c+(h?" ":"")+this.op:c+this.op}else if(u.length===2){var m=u[0].toString(a),g=u[1].toString(a);return f[0]&&(m="("+m+")"),f[1]&&(g="("+g+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?m+" "+g:m+" "+this.op+" "+g}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var b=u.map(function(A,I){return A=A.toString(a),f[I]&&(A="("+A+")"),A});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?b.join(" "):b.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"},r.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}},r.fromJSON=function(a){return new r(a.op,a.fn,a.args,a.implicit,a.isPercentage)},r.prototype.toHTML=function(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=a&&a.implicit?a.implicit:"hide",u=this.args,f=n(this,o,s,u,!1);if(u.length===1){var l=Aw(this,o),c=u[0].toHTML(a);return f[0]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+oo(this.op)+"</span>"+c:c+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+oo(this.op)+"</span>"}else if(u.length===2){var h=u[0].toHTML(a),m=u[1].toHTML(a);return f[0]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f[1]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?h+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+m:h+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+oo(this.op)+"</span>"+m}else{var g=u.map(function(b,A){return b=b.toHTML(a),f[A]&&(b='<span class="math-parenthesis math-round-parenthesis">(</span>'+b+'<span class="math-parenthesis math-round-parenthesis">)</span>'),b});return u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?g.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):g.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+oo(this.op)+"</span>"):'<span class="math-function">'+oo(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+g.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}},r.prototype._toTex=function(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=a&&a.implicit?a.implicit:"hide",u=this.args,f=n(this,o,s,u,!0),l=wn[this.fn];if(l=typeof l=="undefined"?this.op:l,u.length===1){var c=Aw(this,o),h=u[0].toTex(a);return f[0]&&(h="\\left(".concat(h,"\\right)")),c==="right"?l+h:h+l}else if(u.length===2){var m=u[0],g=m.toTex(a);f[0]&&(g="\\left(".concat(g,"\\right)"));var b=u[1],A=b.toTex(a);f[1]&&(A="\\left(".concat(A,"\\right)"));var I;switch(o==="keep"?I=m.getIdentifier():I=m.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return l+"{"+g+"}{"+A+"}";case"OperatorNode:pow":switch(g="{"+g+"}",A="{"+A+"}",I){case"ConditionalNode":case"OperatorNode:divide":g="\\left(".concat(g,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&s==="hide")return g+"~"+A}return g+l+A}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var C=u.map(function(R,O){return R=R.toTex(a),f[O]&&(R="\\left(".concat(R,"\\right)")),R});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit?C.join("~"):C.join(l)}else return"\\mathrm{"+this.fn+"}\\left("+u.map(function(R){return R.toTex(a)}).join(",")+"\\right)"},r.prototype.getIdentifier=function(){return this.type+":"+this.fn},r},{isClass:!0,isNode:!0})});var RHt,FHt,mW,gIe=te(()=>{w();_();zt();Fe();RHt="ParenthesisNode",FHt=["Node"],mW=ae(RHt,FHt,t=>{var{Node:e}=t;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Ir(n))throw new TypeError('Node expected for parameter "content"');this.content=n}return r.prototype=new e,r.prototype.type="ParenthesisNode",r.prototype.isParenthesisNode=!0,r.prototype._compile=function(n,a){return this.content._compile(n,a)},r.prototype.getContent=function(){return this.content.getContent()},r.prototype.forEach=function(n){n(this.content,"content",this)},r.prototype.map=function(n){var a=n(this.content,"content",this);return new r(a)},r.prototype.clone=function(){return new r(this.content)},r.prototype._toString=function(n){return!n||n&&!n.parenthesis||n&&n.parenthesis==="keep"?"("+this.content.toString(n)+")":this.content.toString(n)},r.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},r.fromJSON=function(n){return new r(n.content)},r.prototype.toHTML=function(n){return!n||n&&!n.parenthesis||n&&n.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(n)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(n)},r.prototype._toTex=function(n){return!n||n&&!n.parenthesis||n&&n.parenthesis==="keep"?"\\left(".concat(this.content.toTex(n),"\\right)"):this.content.toTex(n)},r},{isClass:!0,isNode:!0})});var BHt,LHt,vW,yIe=te(()=>{w();_();zt();Fe();Rv();BHt="RangeNode",LHt=["Node"],vW=ae(BHt,LHt,t=>{var{Node:e}=t;function r(a,o,s){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Ir(a))throw new TypeError("Node expected");if(!Ir(o))throw new TypeError("Node expected");if(s&&!Ir(s))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=s||null}r.prototype=new e,r.prototype.type="RangeNode",r.prototype.isRangeNode=!0,r.prototype.needsEnd=function(){var a=this.filter(function(o){return wi(o)&&o.name==="end"});return a.length>0},r.prototype._compile=function(a,o){var s=a.range,u=this.start._compile(a,o),f=this.end._compile(a,o);if(this.step){var l=this.step._compile(a,o);return function(h,m,g){return s(u(h,m,g),f(h,m,g),l(h,m,g))}}else return function(h,m,g){return s(u(h,m,g),f(h,m,g))}},r.prototype.forEach=function(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)},r.prototype.map=function(a){return new r(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))},r.prototype.clone=function(){return new r(this.start,this.end,this.step&&this.step)};function n(a,o){var s=Dn(a,o),u={},f=Dn(a.start,o);if(u.start=f!==null&&f<=s||o==="all",a.step){var l=Dn(a.step,o);u.step=l!==null&&l<=s||o==="all"}var c=Dn(a.end,o);return u.end=c!==null&&c<=s||o==="all",u}return r.prototype._toString=function(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=n(this,o),u,f=this.start.toString(a);if(s.start&&(f="("+f+")"),u=f,this.step){var l=this.step.toString(a);s.step&&(l="("+l+")"),u+=":"+l}var c=this.end.toString(a);return s.end&&(c="("+c+")"),u+=":"+c,u},r.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(a){return new r(a.start,a.end,a.step)},r.prototype.toHTML=function(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=n(this,o),u,f=this.start.toHTML(a);if(s.start&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u=f,this.step){var l=this.step.toHTML(a);s.step&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+l}var c=this.end.toHTML(a);return s.end&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+c,u},r.prototype._toTex=function(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=n(this,o),u=this.start.toTex(a);if(s.start&&(u="\\left(".concat(u,"\\right)")),this.step){var f=this.step.toTex(a);s.step&&(f="\\left(".concat(f,"\\right)")),u+=":"+f}var l=this.end.toTex(a);return s.end&&(l="\\left(".concat(l,"\\right)")),u+=":"+l,u},r},{isClass:!0,isNode:!0})});var PHt,qHt,gW,bIe=te(()=>{w();_();Rv();xi();Qs();Fv();Fe();PHt="RelationalNode",qHt=["Node"],gW=ae(PHt,qHt,t=>{var{Node:e}=t;function r(n,a){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(n))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(a))throw new TypeError("Parameter params must be an array");if(n.length!==a.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=n,this.params=a}return r.prototype=new e,r.prototype.type="RelationalNode",r.prototype.isRelationalNode=!0,r.prototype._compile=function(n,a){var o=this,s=this.params.map(u=>u._compile(n,a));return function(f,l,c){for(var h,m=s[0](f,l,c),g=0;g<o.conditionals.length;g++){h=m,m=s[g+1](f,l,c);var b=xa(n,o.conditionals[g]);if(!b(h,m))return!1}return!0}},r.prototype.forEach=function(n){this.params.forEach((a,o)=>n(a,"params["+o+"]",this),this)},r.prototype.map=function(n){return new r(this.conditionals.slice(),this.params.map((a,o)=>this._ifNode(n(a,"params["+o+"]",this)),this))},r.prototype.clone=function(){return new r(this.conditionals,this.params)},r.prototype._toString=function(n){for(var a=n&&n.parenthesis?n.parenthesis:"keep",o=Dn(this,a),s=this.params.map(function(c,h){var m=Dn(c,a);return a==="all"||m!==null&&m<=o?"("+c.toString(n)+")":c.toString(n)}),u={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},f=s[0],l=0;l<this.conditionals.length;l++)f+=" "+u[this.conditionals[l]]+" "+s[l+1];return f},r.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},r.fromJSON=function(n){return new r(n.conditionals,n.params)},r.prototype.toHTML=function(n){for(var a=n&&n.parenthesis?n.parenthesis:"keep",o=Dn(this,a),s=this.params.map(function(c,h){var m=Dn(c,a);return a==="all"||m!==null&&m<=o?'<span class="math-parenthesis math-round-parenthesis">(</span>'+c.toHTML(n)+'<span class="math-parenthesis math-round-parenthesis">)</span>':c.toHTML(n)}),u={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},f=s[0],l=0;l<this.conditionals.length;l++)f+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+oo(u[this.conditionals[l]])+"</span>"+s[l+1];return f},r.prototype._toTex=function(n){for(var a=n&&n.parenthesis?n.parenthesis:"keep",o=Dn(this,a),s=this.params.map(function(l,c){var h=Dn(l,a);return a==="all"||h!==null&&h<=o?"\\left("+l.toTex(n)+"\right)":l.toTex(n)}),u=s[0],f=0;f<this.conditionals.length;f++)u+=wn[this.conditionals[f]]+s[f+1];return u},r},{isClass:!0,isNode:!0})});var zHt,UHt,yW,wIe=te(()=>{w();_();xi();Qs();Fe();Fv();zHt="SymbolNode",UHt=["math","?Unit","Node"],yW=ae(zHt,UHt,t=>{var{math:e,Unit:r,Node:n}=t;function a(s){return r?r.isValuelessUnit(s):!1}function o(s){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(typeof s!="string")throw new TypeError('String expected for parameter "name"');this.name=s}return o.prototype=new n,o.prototype.type="SymbolNode",o.prototype.isSymbolNode=!0,o.prototype._compile=function(s,u){var f=this.name;if(u[f]===!0)return function(c,h,m){return h[f]};if(f in s)return function(c,h,m){return c.has(f)?c.get(f):xa(s,f)};var l=a(f);return function(c,h,m){return c.has(f)?c.get(f):l?new r(null,f):o.onUndefinedSymbol(f)}},o.prototype.forEach=function(s){},o.prototype.map=function(s){return this.clone()},o.onUndefinedSymbol=function(s){throw new Error("Undefined symbol "+s)},o.prototype.clone=function(){return new o(this.name)},o.prototype._toString=function(s){return this.name},o.prototype.toHTML=function(s){var u=oo(this.name);return u==="true"||u==="false"?'<span class="math-symbol math-boolean">'+u+"</span>":u==="i"?'<span class="math-symbol math-imaginary-symbol">'+u+"</span>":u==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+u+"</span>":u==="NaN"?'<span class="math-symbol math-nan-symbol">'+u+"</span>":u==="null"?'<span class="math-symbol math-null-symbol">'+u+"</span>":u==="undefined"?'<span class="math-symbol math-undefined-symbol">'+u+"</span>":'<span class="math-symbol">'+u+"</span>"},o.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},o.fromJSON=function(s){return new o(s.name)},o.prototype._toTex=function(s){var u=!1;typeof e[this.name]=="undefined"&&a(this.name)&&(u=!0);var f=vI(this.name,u);return f[0]==="\\"?f:" "+f},o},{isClass:!0,isNode:!0})});function Bv(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return typeof t.createSubScope=="function"?lz(t.createSubScope(),...r):lz(Mu(),t,...r)}var bW=te(()=>{w();_();Vd()});var jHt,$Ht,wW,xIe=te(()=>{w();_();zt();xi();dn();Qs();bW();Fe();Fv();jHt="FunctionNode",$Ht=["math","Node","SymbolNode"],wW=ae(jHt,$Ht,t=>{var{math:e,Node:r,SymbolNode:n}=t;function a(l,c){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(typeof l=="string"&&(l=new n(l)),!Ir(l))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(Ir))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=l,this.args=c||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}a.prototype=new r,a.prototype.type="FunctionNode",a.prototype.isFunctionNode=!0;var o=l=>mr(l,{truncate:78});a.prototype._compile=function(l,c){if(!(this instanceof a))throw new TypeError("No valid FunctionNode");var h=this.args.map(j=>j._compile(l,c));if(wi(this.fn)){var m=this.fn.name;if(c[m]){var C=this.args;return function(W,T,p){var v=T[m];if(typeof v!="function")throw new TypeError("Argument '".concat(m,"' was not a function; received: ").concat(o(v)));if(v.rawArgs)return v(C,l,Bv(W,T),W);var S=h.map(y=>y(W,T,p));return v.apply(v,S)}}else{var g=m in l?xa(l,m):void 0,b=typeof g=="function"&&g.rawArgs===!0,A=j=>{var W;if(j.has(m))W=j.get(m);else if(m in l)W=xa(l,m);else return a.onUndefinedFunction(m);if(typeof W=="function")return W;throw new TypeError("'".concat(m,`' is not a function; its value is:
  `).concat(o(W)))};if(b){var I=this.args;return function(W,T,p){var v=A(W);return v(I,l,Bv(W,T),W)}}else switch(h.length){case 0:return function(W,T,p){var v=A(W);return v()};case 1:return function(W,T,p){var v=A(W),S=h[0];return v(S(W,T,p))};case 2:return function(W,T,p){var v=A(W),S=h[0],y=h[1];return v(S(W,T,p),y(W,T,p))};default:return function(W,T,p){var v=A(W),S=h.map(y=>y(W,T,p));return v(...S)}}}}else if(Su(this.fn)&&Gf(this.fn.index)&&this.fn.index.isObjectProperty()){var R=this.fn.object._compile(l,c),O=this.fn.index.getObjectProperty(),F=this.args;return function(W,T,p){var v=R(W,T,p);n3e(v,O);var S=v[O]&&v[O].rawArgs;if(S)return v[O](F,l,Bv(W,T),W);var y=h.map(M=>M(W,T,p));return v[O].apply(v,y)}}else{var z=this.fn.toString(),B=this.fn._compile(l,c),$=this.args;return function(W,T,p){var v=B(W,T,p);if(typeof v!="function")throw new TypeError("Expression '".concat(z,"' did not evaluate to a function; value is:")+`
  `.concat(o(v)));if(v.rawArgs)return v($,l,Bv(W,T),W);var S=h.map(y=>y(W,T,p));return v.apply(v,S)}}},a.prototype.forEach=function(l){l(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)l(this.args[c],"args["+c+"]",this)},a.prototype.map=function(l){for(var c=this._ifNode(l(this.fn,"fn",this)),h=[],m=0;m<this.args.length;m++)h[m]=this._ifNode(l(this.args[m],"args["+m+"]",this));return new a(c,h)},a.prototype.clone=function(){return new a(this.fn,this.args.slice(0))},a.onUndefinedFunction=function(l){throw new Error("Undefined function "+l)};var s=a.prototype.toString;a.prototype.toString=function(l){var c,h=this.fn.toString(l);return l&&typeof l.handler=="object"&&Jt(l.handler,h)&&(c=l.handler[h](this,l)),typeof c!="undefined"?c:s.call(this,l)},a.prototype._toString=function(l){var c=this.args.map(function(m){return m.toString(l)}),h=jc(this.fn)?"("+this.fn.toString(l)+")":this.fn.toString(l);return h+"("+c.join(", ")+")"},a.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},a.fromJSON=function(l){return new a(l.fn,l.args)},a.prototype.toHTML=function(l){var c=this.args.map(function(h){return h.toHTML(l)});return'<span class="math-function">'+oo(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};function u(l,c,h){for(var m="",g=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,b=0,A;(A=g.exec(l))!==null;)if(m+=l.substring(b,A.index),b=A.index,A[0]==="$$")m+="$",b++;else{b+=A[0].length;var I=c[A[1]];if(!I)throw new ReferenceError("Template: Property "+A[1]+" does not exist.");if(A[2]===void 0)switch(typeof I){case"string":m+=I;break;case"object":if(Ir(I))m+=I.toTex(h);else if(Array.isArray(I))m+=I.map(function(C,R){if(Ir(C))return C.toTex(h);throw new TypeError("Template: "+A[1]+"["+R+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+A[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+A[1]+" has to be a Node, String or array of Nodes")}else if(Ir(I[A[2]]&&I[A[2]]))m+=I[A[2]].toTex(h);else throw new TypeError("Template: "+A[1]+"["+A[2]+"] is not a Node.")}return m+=l.slice(b),m}var f=a.prototype.toTex;return a.prototype.toTex=function(l){var c;return l&&typeof l.handler=="object"&&Jt(l.handler,this.name)&&(c=l.handler[this.name](this,l)),typeof c!="undefined"?c:f.call(this,l)},a.prototype._toTex=function(l){var c=this.args.map(function(g){return g.toTex(l)}),h;fW[this.name]&&(h=fW[this.name]),e[this.name]&&(typeof e[this.name].toTex=="function"||typeof e[this.name].toTex=="object"||typeof e[this.name].toTex=="string")&&(h=e[this.name].toTex);var m;switch(typeof h){case"function":m=h(this,l);break;case"string":m=u(h,this,l);break;case"object":switch(typeof h[c.length]){case"function":m=h[c.length](this,l);break;case"string":m=u(h[c.length],this,l);break}}return typeof m!="undefined"?m:u(cIe,this,l)},a.prototype.getIdentifier=function(){return this.type+":"+this.name},a},{isClass:!0,isNode:!0})});var _Ie,VHt,xW,SIe=te(()=>{w();_();fw();Fe();zt();Zt();dn();_Ie="parse",VHt=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],xW=ae(_Ie,VHt,t=>{var{typed:e,numeric:r,config:n,AccessorNode:a,ArrayNode:o,AssignmentNode:s,BlockNode:u,ConditionalNode:f,ConstantNode:l,FunctionAssignmentNode:c,FunctionNode:h,IndexNode:m,ObjectNode:g,OperatorNode:b,ParenthesisNode:A,RangeNode:I,RelationalNode:C,SymbolNode:R}=t,O=e(_Ie,{string:function(Te){return N(Te,{})},"Array | Matrix":function(Te){return F(Te,{})},"string, Object":function(Te,ft){var ze=ft.nodes!==void 0?ft.nodes:{};return N(Te,ze)},"Array | Matrix, Object":F});function F(re){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ft=Te.nodes!==void 0?Te.nodes:{};return Et(re,function(ze){if(typeof ze!="string")throw new TypeError("String expected");return N(ze,ft)})}var z={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},B={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},$={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},j={true:!0,false:!1,null:null,undefined:void 0},W=["NaN","Infinity"];function T(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:z.NULL,nestingLevel:0,conditionalLevel:null}}function p(re,Te){return re.expression.substr(re.index,Te)}function v(re){return p(re,1)}function S(re){re.index++}function y(re){return re.expression.charAt(re.index-1)}function M(re){return re.expression.charAt(re.index+1)}function D(re){for(re.tokenType=z.NULL,re.token="",re.comment="";;){if(v(re)==="#")for(;v(re)!==`
`&&v(re)!=="";)re.comment+=v(re),S(re);if(O.isWhitespace(v(re),re.nestingLevel))S(re);else break}if(v(re)===""){re.tokenType=z.DELIMITER;return}if(v(re)===`
`&&!re.nestingLevel){re.tokenType=z.DELIMITER,re.token=v(re),S(re);return}var Te=v(re),ft=p(re,2),ze=p(re,3);if(ze.length===3&&B[ze]){re.tokenType=z.DELIMITER,re.token=ze,S(re),S(re),S(re);return}if(ft.length===2&&B[ft]){re.tokenType=z.DELIMITER,re.token=ft,S(re),S(re);return}if(B[Te]){re.tokenType=z.DELIMITER,re.token=Te,S(re);return}if(O.isDigitDot(Te)){re.tokenType=z.NUMBER;var et=p(re,2);if(et==="0b"||et==="0o"||et==="0x"){for(re.token+=v(re),S(re),re.token+=v(re),S(re);O.isHexDigit(v(re));)re.token+=v(re),S(re);if(v(re)===".")for(re.token+=".",S(re);O.isHexDigit(v(re));)re.token+=v(re),S(re);else if(v(re)==="i")for(re.token+="i",S(re);O.isDigit(v(re));)re.token+=v(re),S(re);return}if(v(re)==="."){if(re.token+=v(re),S(re),!O.isDigit(v(re))){re.tokenType=z.DELIMITER;return}}else{for(;O.isDigit(v(re));)re.token+=v(re),S(re);O.isDecimalMark(v(re),M(re))&&(re.token+=v(re),S(re))}for(;O.isDigit(v(re));)re.token+=v(re),S(re);if(v(re)==="E"||v(re)==="e"){if(O.isDigit(M(re))||M(re)==="-"||M(re)==="+"){if(re.token+=v(re),S(re),(v(re)==="+"||v(re)==="-")&&(re.token+=v(re),S(re)),!O.isDigit(v(re)))throw Ye(re,'Digit expected, got "'+v(re)+'"');for(;O.isDigit(v(re));)re.token+=v(re),S(re);if(O.isDecimalMark(v(re),M(re)))throw Ye(re,'Digit expected, got "'+v(re)+'"')}else if(M(re)===".")throw S(re),Ye(re,'Digit expected, got "'+v(re)+'"')}return}if(O.isAlpha(v(re),y(re),M(re))){for(;O.isAlpha(v(re),y(re),M(re))||O.isDigit(v(re));)re.token+=v(re),S(re);Jt($,re.token)?re.tokenType=z.DELIMITER:re.tokenType=z.SYMBOL;return}for(re.tokenType=z.UNKNOWN;v(re)!=="";)re.token+=v(re),S(re);throw Ye(re,'Syntax error in part "'+re.token+'"')}function k(re){do D(re);while(re.token===`
`)}function E(re){re.nestingLevel++}function d(re){re.nestingLevel--}O.isAlpha=function(Te,ft,ze){return O.isValidLatinOrGreek(Te)||O.isValidMathSymbol(Te,ze)||O.isValidMathSymbol(ft,Te)},O.isValidLatinOrGreek=function(Te){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(Te)},O.isValidMathSymbol=function(Te,ft){return/^[\uD835]$/.test(Te)&&/^[\uDC00-\uDFFF]$/.test(ft)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(ft)},O.isWhitespace=function(Te,ft){return Te===" "||Te==="	"||Te===`
`&&ft>0},O.isDecimalMark=function(Te,ft){return Te==="."&&ft!=="/"&&ft!=="*"&&ft!=="^"},O.isDigitDot=function(Te){return Te>="0"&&Te<="9"||Te==="."},O.isDigit=function(Te){return Te>="0"&&Te<="9"},O.isHexDigit=function(Te){return Te>="0"&&Te<="9"||Te>="a"&&Te<="f"||Te>="A"&&Te<="F"};function N(re,Te){var ft=T();Ca(ft,{expression:re,extraNodes:Te}),D(ft);var ze=U(ft);if(ft.token!=="")throw ft.tokenType===z.DELIMITER?dr(ft,"Unexpected operator "+ft.token):Ye(ft,'Unexpected part "'+ft.token+'"');return ze}function U(re){var Te,ft=[],ze;for(re.token!==""&&re.token!==`
`&&re.token!==";"&&(Te=q(re),Te.comment=re.comment);re.token===`
`||re.token===";";)ft.length===0&&Te&&(ze=re.token!==";",ft.push({node:Te,visible:ze})),D(re),re.token!==`
`&&re.token!==";"&&re.token!==""&&(Te=q(re),Te.comment=re.comment,ze=re.token!==";",ft.push({node:Te,visible:ze}));return ft.length>0?new u(ft):(Te||(Te=new l(void 0),Te.comment=re.comment),Te)}function q(re){var Te,ft,ze,et,lr=P(re);if(re.token==="="){if(wi(lr))return Te=lr.name,k(re),ze=q(re),new s(new R(Te),ze);if(Su(lr))return k(re),ze=q(re),new s(lr.object,lr.index,ze);if(Eu(lr)&&wi(lr.fn)&&(et=!0,ft=[],Te=lr.name,lr.args.forEach(function(ct,dt){wi(ct)?ft[dt]=ct.name:et=!1}),et))return k(re),ze=q(re),new c(Te,ft,ze);throw Ye(re,"Invalid left hand side of assignment operator =")}return lr}function P(re){for(var Te=G(re);re.token==="?";){var ft=re.conditionalLevel;re.conditionalLevel=re.nestingLevel,k(re);var ze=Te,et=q(re);if(re.token!==":")throw Ye(re,"False part of conditional expression expected");re.conditionalLevel=null,k(re);var lr=q(re);Te=new f(ze,et,lr),re.conditionalLevel=ft}return Te}function G(re){for(var Te=Z(re);re.token==="or";)k(re),Te=new b("or","or",[Te,Z(re)]);return Te}function Z(re){for(var Te=X(re);re.token==="xor";)k(re),Te=new b("xor","xor",[Te,X(re)]);return Te}function X(re){for(var Te=he(re);re.token==="and";)k(re),Te=new b("and","and",[Te,he(re)]);return Te}function he(re){for(var Te=V(re);re.token==="|";)k(re),Te=new b("|","bitOr",[Te,V(re)]);return Te}function V(re){for(var Te=K(re);re.token==="^|";)k(re),Te=new b("^|","bitXor",[Te,K(re)]);return Te}function K(re){for(var Te=ne(re);re.token==="&";)k(re),Te=new b("&","bitAnd",[Te,ne(re)]);return Te}function ne(re){for(var Te=[fe(re)],ft=[],ze={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Jt(ze,re.token);){var et={name:re.token,fn:ze[re.token]};ft.push(et),k(re),Te.push(fe(re))}return Te.length===1?Te[0]:Te.length===2?new b(ft[0].name,ft[0].fn,Te):new C(ft.map(lr=>lr.fn),Te)}function fe(re){var Te,ft,ze,et;Te=pe(re);for(var lr={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Jt(lr,re.token);)ft=re.token,ze=lr[ft],k(re),et=[Te,pe(re)],Te=new b(ft,ze,et);return Te}function pe(re){var Te,ft,ze,et;Te=Ie(re);for(var lr={to:"to",in:"to"};Jt(lr,re.token);)ft=re.token,ze=lr[ft],k(re),ft==="in"&&re.token===""?Te=new b("*","multiply",[Te,new R("in")],!0):(et=[Te,Ie(re)],Te=new b(ft,ze,et));return Te}function Ie(re){var Te,ft=[];if(re.token===":"?Te=new l(1):Te=ke(re),re.token===":"&&re.conditionalLevel!==re.nestingLevel){for(ft.push(Te);re.token===":"&&ft.length<3;)k(re),re.token===")"||re.token==="]"||re.token===","||re.token===""?ft.push(new R("end")):ft.push(ke(re));ft.length===3?Te=new I(ft[0],ft[2],ft[1]):Te=new I(ft[0],ft[1])}return Te}function ke(re){var Te,ft,ze,et;Te=ue(re);for(var lr={"+":"add","-":"subtract"};Jt(lr,re.token);){ft=re.token,ze=lr[ft],k(re);var ct=ue(re);ct.isPercentage?et=[Te,new b("*","multiply",[Te,ct])]:et=[Te,ct],Te=new b(ft,ze,et)}return Te}function ue(re){var Te,ft,ze,et;Te=xe(re),ft=Te;for(var lr={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};Jt(lr,re.token);)ze=re.token,et=lr[ze],k(re),ft=xe(re),Te=new b(ze,et,[Te,ft]);return Te}function xe(re){var Te,ft;for(Te=ge(re),ft=Te;re.tokenType===z.SYMBOL||re.token==="in"&&pn(Te)||re.tokenType===z.NUMBER&&!pn(ft)&&(!Ja(ft)||ft.op==="!")||re.token==="(";)ft=ge(re),Te=new b("*","multiply",[Te,ft],!0);return Te}function ge(re){for(var Te=Q(re),ft=Te,ze=[];re.token==="/"&&pn(ft);)if(ze.push(Ca({},re)),k(re),re.tokenType===z.NUMBER)if(ze.push(Ca({},re)),k(re),re.tokenType===z.SYMBOL||re.token==="(")Ca(re,ze.pop()),ze.pop(),ft=Q(re),Te=new b("/","divide",[Te,ft]);else{ze.pop(),Ca(re,ze.pop());break}else{Ca(re,ze.pop());break}return Te}function Q(re){var Te,ft,ze,et;Te=_e(re);for(var lr={"%":"mod",mod:"mod"};Jt(lr,re.token);)ft=re.token,ze=lr[ft],k(re),ft==="%"&&re.tokenType===z.DELIMITER&&re.token!=="("?Te=new b("/","divide",[Te,new l(100)],!1,!0):(et=[Te,_e(re)],Te=new b(ft,ze,et));return Te}function _e(re){var Te,ft,ze,et={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Jt(et,re.token)?(ze=et[re.token],Te=re.token,k(re),ft=[_e(re)],new b(Te,ze,ft)):ve(re)}function ve(re){var Te,ft,ze,et;return Te=be(re),(re.token==="^"||re.token===".^")&&(ft=re.token,ze=ft==="^"?"pow":"dotPow",k(re),et=[Te,_e(re)],Te=new b(ft,ze,et)),Te}function be(re){var Te,ft,ze,et;Te=qe(re);for(var lr={"!":"factorial","'":"ctranspose"};Jt(lr,re.token);)ft=re.token,ze=lr[ft],D(re),et=[Te],Te=new b(ft,ze,et),Te=Se(re,Te);return Te}function qe(re){var Te=[];if(re.tokenType===z.SYMBOL&&Jt(re.extraNodes,re.token)){var ft=re.extraNodes[re.token];if(D(re),re.token==="("){if(Te=[],E(re),D(re),re.token!==")")for(Te.push(q(re));re.token===",";)D(re),Te.push(q(re));if(re.token!==")")throw Ye(re,"Parenthesis ) expected");d(re),D(re)}return new ft(Te)}return se(re)}function se(re){var Te,ft;return re.tokenType===z.SYMBOL||re.tokenType===z.DELIMITER&&re.token in $?(ft=re.token,D(re),Jt(j,ft)?Te=new l(j[ft]):W.indexOf(ft)!==-1?Te=new l(r(ft,"number")):Te=new R(ft),Te=Se(re,Te),Te):Ke(re)}function Se(re,Te,ft){for(var ze;(re.token==="("||re.token==="["||re.token===".")&&(!ft||ft.indexOf(re.token)!==-1);)if(ze=[],re.token==="(")if(wi(Te)||Su(Te)){if(E(re),D(re),re.token!==")")for(ze.push(q(re));re.token===",";)D(re),ze.push(q(re));if(re.token!==")")throw Ye(re,"Parenthesis ) expected");d(re),D(re),Te=new h(Te,ze)}else return Te;else if(re.token==="["){if(E(re),D(re),re.token!=="]")for(ze.push(q(re));re.token===",";)D(re),ze.push(q(re));if(re.token!=="]")throw Ye(re,"Parenthesis ] expected");d(re),D(re),Te=new a(Te,new m(ze))}else{if(D(re),re.tokenType!==z.SYMBOL)throw Ye(re,"Property name expected after dot");ze.push(new l(re.token)),D(re);var et=!0;Te=new a(Te,new m(ze,et))}return Te}function Ke(re){var Te,ft;return re.token==='"'?(ft=J(re),Te=new l(ft),Te=Se(re,Te),Te):H(re)}function J(re){for(var Te="";v(re)!==""&&v(re)!=='"';)v(re)==="\\"&&(Te+=v(re),S(re)),Te+=v(re),S(re);if(D(re),re.token!=='"')throw Ye(re,'End of string " expected');return D(re),JSON.parse('"'+Te+'"')}function H(re){var Te,ft;return re.token==="'"?(ft=Y(re),Te=new l(ft),Te=Se(re,Te),Te):oe(re)}function Y(re){for(var Te="";v(re)!==""&&v(re)!=="'";)v(re)==="\\"&&(Te+=v(re),S(re)),Te+=v(re),S(re);if(D(re),re.token!=="'")throw Ye(re,"End of string ' expected");return D(re),JSON.parse('"'+Te+'"')}function oe(re){var Te,ft,ze,et;if(re.token==="["){if(E(re),D(re),re.token!=="]"){var lr=Me(re);if(re.token===";"){for(ze=1,ft=[lr];re.token===";";)D(re),ft[ze]=Me(re),ze++;if(re.token!=="]")throw Ye(re,"End of matrix ] expected");d(re),D(re),et=ft[0].items.length;for(var ct=1;ct<ze;ct++)if(ft[ct].items.length!==et)throw dr(re,"Column dimensions mismatch ("+ft[ct].items.length+" !== "+et+")");Te=new o(ft)}else{if(re.token!=="]")throw Ye(re,"End of matrix ] expected");d(re),D(re),Te=lr}}else d(re),D(re),Te=new o([]);return Se(re,Te)}return Ge(re)}function Me(re){for(var Te=[q(re)],ft=1;re.token===",";)D(re),Te[ft]=q(re),ft++;return new o(Te)}function Ge(re){if(re.token==="{"){E(re);var Te,ft={};do if(D(re),re.token!=="}"){if(re.token==='"')Te=J(re);else if(re.token==="'")Te=Y(re);else if(re.tokenType===z.SYMBOL||re.tokenType===z.DELIMITER&&re.token in $)Te=re.token,D(re);else throw Ye(re,"Symbol or string expected as object key");if(re.token!==":")throw Ye(re,"Colon : expected after object key");D(re),ft[Te]=q(re)}while(re.token===",");if(re.token!=="}")throw Ye(re,"Comma , or bracket } expected after object value");d(re),D(re);var ze=new g(ft);return ze=Se(re,ze),ze}return Ce(re)}function Ce(re){var Te;return re.tokenType===z.NUMBER?(Te=re.token,D(re),new l(r(Te,n.number))):Xe(re)}function Xe(re){var Te;if(re.token==="("){if(E(re),D(re),Te=q(re),re.token!==")")throw Ye(re,"Parenthesis ) expected");return d(re),D(re),Te=new A(Te),Te=Se(re,Te),Te}return Yt(re)}function Yt(re){throw re.token===""?Ye(re,"Unexpected end of expression"):Ye(re,"Value expected")}function tt(re){return re.index-re.token.length+1}function Ye(re,Te){var ft=tt(re),ze=new SyntaxError(Te+" (char "+ft+")");return ze.char=ft,ze}function dr(re,Te){var ft=tt(re),ze=new SyntaxError(Te+" (char "+ft+")");return ze.char=ft,ze}return O})});var EIe,WHt,_W,MIe=te(()=>{w();_();Zt();Fe();EIe="compile",WHt=["typed","parse"],_W=ae(EIe,WHt,t=>{var{typed:e,parse:r}=t;return e(EIe,{string:function(a){return r(a).compile()},"Array | Matrix":function(a){return Et(a,function(o){return r(o).compile()})}})})});var AIe,GHt,SW,NIe=te(()=>{w();_();Zt();Fe();Vd();AIe="evaluate",GHt=["typed","parse"],SW=ae(AIe,GHt,t=>{var{typed:e,parse:r}=t;return e(AIe,{string:function(a){var o=Mu();return r(a).compile().evaluate(o)},"string, Map | Object":function(a,o){return r(a).compile().evaluate(o)},"Array | Matrix":function(a){var o=Mu();return Et(a,function(s){return r(s).compile().evaluate(o)})},"Array | Matrix, Map | Object":function(a,o){return Et(a,function(s){return r(s).compile().evaluate(o)})}})})});var HHt,KHt,EW,TIe=te(()=>{w();_();Fe();Vd();HHt="Parser",KHt=["evaluate"],EW=ae(HHt,KHt,t=>{var{evaluate:e}=t;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Mu(),writable:!1})}return r.prototype.type="Parser",r.prototype.isParser=!0,r.prototype.evaluate=function(n){return e(n,this.scope)},r.prototype.get=function(n){if(this.scope.has(n))return this.scope.get(n)},r.prototype.getAll=function(){return a3e(this.scope)},r.prototype.getAllAsMap=function(){return this.scope},r.prototype.set=function(n,a){return this.scope.set(n,a),a},r.prototype.remove=function(n){this.scope.delete(n)},r.prototype.clear=function(){this.scope.clear()},r},{isClass:!0})});var DIe,ZHt,MW,kIe=te(()=>{w();_();Fe();DIe="parser",ZHt=["typed","Parser"],MW=ae(DIe,ZHt,t=>{var{typed:e,Parser:r}=t;return e(DIe,{"":function(){return new r}})})});var IIe,JHt,AW,CIe=te(()=>{w();_();dn();Fe();IIe="lup",JHt=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],AW=ae(IIe,JHt,t=>{var{typed:e,matrix:r,abs:n,addScalar:a,divideScalar:o,multiplyScalar:s,subtract:u,larger:f,equalScalar:l,unaryMinus:c,DenseMatrix:h,SparseMatrix:m,Spa:g}=t;return e(IIe,{DenseMatrix:function(C){return b(C)},SparseMatrix:function(C){return A(C)},Array:function(C){var R=r(C),O=b(R);return{L:O.L.valueOf(),U:O.U.valueOf(),p:O.p}}});function b(I){var C=I._size[0],R=I._size[1],O=Math.min(C,R),F=tr(I._data),z=[],B=[C,O],$=[],j=[O,R],W,T,p,v=[];for(W=0;W<C;W++)v[W]=W;for(T=0;T<R;T++){if(T>0)for(W=0;W<C;W++){var S=Math.min(W,T),y=0;for(p=0;p<S;p++)y=a(y,s(F[W][p],F[p][T]));F[W][T]=u(F[W][T],y)}var M=T,D=0,k=0;for(W=T;W<C;W++){var E=F[W][T],d=n(E);f(d,D)&&(M=W,D=d,k=E)}if(T!==M&&(v[T]=[v[M],v[M]=v[T]][0],h._swapRows(T,M,F)),T<C)for(W=T+1;W<C;W++){var N=F[W][T];l(N,0)||(F[W][T]=o(F[W][T],k))}}for(T=0;T<R;T++)for(W=0;W<C;W++){if(T===0&&(W<R&&($[W]=[]),z[W]=[]),W<T){W<R&&($[W][T]=F[W][T]),T<C&&(z[W][T]=0);continue}if(W===T){W<R&&($[W][T]=F[W][T]),T<C&&(z[W][T]=1);continue}W<R&&($[W][T]=0),T<C&&(z[W][T]=F[W][T])}var U=new h({data:z,size:B}),q=new h({data:$,size:j}),P=[];for(W=0,O=v.length;W<O;W++)P[v[W]]=W;return{L:U,U:q,p:P,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function A(I){var C=I._size[0],R=I._size[1],O=Math.min(C,R),F=I._values,z=I._index,B=I._ptr,$=[],j=[],W=[],T=[C,O],p=[],v=[],S=[],y=[O,R],M,D,k,E=[],d=[];for(M=0;M<C;M++)E[M]=M,d[M]=M;var N=function(P,G){var Z=d[P],X=d[G];E[Z]=G,E[X]=P,d[P]=X,d[G]=Z},U=function(){var P=new g;D<C&&(W.push($.length),$.push(1),j.push(D)),S.push(p.length);var G=B[D],Z=B[D+1];for(k=G;k<Z;k++)M=z[k],P.set(E[M],F[k]);D>0&&P.forEach(0,D-1,function(K,ne){m._forEachRow(K,$,j,W,function(fe,pe){fe>K&&P.accumulate(fe,c(s(pe,ne)))})});var X=D,he=P.get(D),V=n(he);P.forEach(D+1,C-1,function(K,ne){var fe=n(ne);f(fe,V)&&(X=K,V=fe,he=ne)}),D!==X&&(m._swapRows(D,X,T[1],$,j,W),m._swapRows(D,X,y[1],p,v,S),P.swap(D,X),N(D,X)),P.forEach(0,C-1,function(K,ne){K<=D?(p.push(ne),v.push(K)):(ne=o(ne,he),l(ne,0)||($.push(ne),j.push(K)))})};for(D=0;D<R;D++)U();return S.push(p.length),W.push($.length),{L:new m({values:$,index:j,ptr:W,size:T}),U:new m({values:p,index:v,ptr:S,size:y}),p:E,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}})});var OIe,YHt,NW,RIe=te(()=>{w();_();fw();Fe();OIe="qr",YHt=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],NW=ae(OIe,YHt,t=>{var{typed:e,matrix:r,zeros:n,identity:a,isZero:o,equal:s,sign:u,sqrt:f,conj:l,unaryMinus:c,addScalar:h,divideScalar:m,multiplyScalar:g,subtract:b,complex:A}=t;return Ca(e(OIe,{DenseMatrix:function(F){return C(F)},SparseMatrix:function(F){return R(F)},Array:function(F){var z=r(F),B=C(z);return{Q:B.Q.valueOf(),R:B.R.valueOf()}}}),{_denseQRimpl:I});function I(O){var F=O._size[0],z=O._size[1],B=a([F],"dense"),$=B._data,j=O.clone(),W=j._data,T,p,v,S=n([F],"");for(v=0;v<Math.min(z,F);++v){var y=W[v][v],M=c(s(y,0)?1:u(y)),D=l(M),k=0;for(T=v;T<F;T++)k=h(k,g(W[T][v],l(W[T][v])));var E=g(M,f(k));if(!o(E)){var d=b(y,E);for(S[v]=1,T=v+1;T<F;T++)S[T]=m(W[T][v],d);var N=c(l(m(d,E))),U=void 0;for(p=v;p<z;p++){for(U=0,T=v;T<F;T++)U=h(U,g(l(S[T]),W[T][p]));for(U=g(U,N),T=v;T<F;T++)W[T][p]=g(b(W[T][p],g(S[T],U)),D)}for(T=0;T<F;T++){for(U=0,p=v;p<F;p++)U=h(U,g($[T][p],S[p]));for(U=g(U,N),p=v;p<F;++p)$[T][p]=m(b($[T][p],g(U,l(S[p]))),D)}}}return{Q:B,R:j,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function C(O){var F=I(O),z=F.R._data;if(O._data.length>0)for(var B=z[0][0].type==="Complex"?A(0):0,$=0;$<z.length;++$)for(var j=0;j<$&&j<(z[0]||[]).length;++j)z[$][j]=B;return F}function R(O){throw new Error("qr not implemented for sparse matrices yet")}})});function FIe(t,e,r,n){for(var a=t._values,o=t._index,s=t._ptr,u=t._size,f=t._datatype,l=u[0],c=u[1],h=n&&t._values?[]:null,m=[],g=[],b=0,A=0;A<c;A++){g[A]=b;for(var I=r?r[A]:A,C=s[I],R=s[I+1],O=C;O<R;O++){var F=e?e[o[O]]:o[O];m[b]=F,h&&(h[b]=a[O]),b++}}return g[c]=b,t.createSparseMatrix({values:h,index:m,ptr:g,size:[l,c],datatype:f})}var BIe=te(()=>{w();_()});function gI(t,e,r,n,a,o,s){var u=0;for(r[s]=t;u>=0;){var f=r[s+u],l=r[n+f];l===-1?(u--,o[e++]=f):(r[n+f]=r[a+l],++u,r[s+u]=l)}return e}var TW=te(()=>{w();_()});function LIe(t,e){if(!t)return null;var r=0,n,a=[],o=[],s=0,u=e,f=2*e;for(n=0;n<e;n++)o[s+n]=-1;for(n=e-1;n>=0;n--)t[n]!==-1&&(o[u+n]=o[s+t[n]],o[s+t[n]]=n);for(n=0;n<e;n++)t[n]===-1&&(r=gI(n,r,o,s,u,a,f));return a}var PIe=te(()=>{w();_();TW()});function qIe(t,e){if(!t)return null;var r=t._index,n=t._ptr,a=t._size,o=a[0],s=a[1],u=[],f=[],l=0,c=s,h,m;if(e)for(h=0;h<o;h++)f[c+h]=-1;for(var g=0;g<s;g++){u[g]=-1,f[l+g]=-1;for(var b=n[g],A=n[g+1],I=b;I<A;I++){var C=r[I];for(h=e?f[c+C]:C;h!==-1&&h<g;h=m)m=f[l+h],f[l+h]=g,m===-1&&(u[h]=g);e&&(f[c+C]=g)}}return u}var zIe=te(()=>{w();_()});function UIe(t,e,r){for(var n=t._values,a=t._index,o=t._ptr,s=t._size,u=s[1],f=0,l=0;l<u;l++){var c=o[l];for(o[l]=f;c<o[l+1];c++)e(a[c],l,n?n[c]:1,r)&&(a[f]=a[c],n&&(n[f]=n[c]),f++)}return o[u]=f,a.splice(f,a.length-f),n&&n.splice(f,n.length-f),f}var jIe=te(()=>{w();_()});function Vl(t){return-t-2}var yI=te(()=>{w();_()});var XHt,QHt,$Ie,VIe=te(()=>{w();_();Fe();jIe();yI();TW();XHt="csAmd",QHt=["add","multiply","transpose"],$Ie=ae(XHt,QHt,t=>{var{add:e,multiply:r,transpose:n}=t;return function(c,h){if(!h||c<=0||c>3)return null;var m=h._size,g=m[0],b=m[1],A=0,I=Math.max(16,10*Math.sqrt(b));I=Math.min(b-2,I);var C=a(c,h,g,b,I);UIe(C,f,null);for(var R=C._index,O=C._ptr,F=O[b],z=[],B=[],$=0,j=b+1,W=2*(b+1),T=3*(b+1),p=4*(b+1),v=5*(b+1),S=6*(b+1),y=7*(b+1),M=z,D=o(b,O,B,$,T,M,W,y,j,S,p,v),k=s(b,O,B,v,p,S,I,j,T,M,W),E=0,d,N,U,q,P,G,Z,X,he,V,K,ne,fe,pe,Ie,ke;k<b;){for(U=-1;E<b&&(U=B[T+E])===-1;E++);B[W+U]!==-1&&(M[B[W+U]]=-1),B[T+E]=B[W+U];var ue=B[p+U],xe=B[j+U];k+=xe;var ge=0;B[j+U]=-xe;var Q=O[U],_e=ue===0?Q:F,ve=_e;for(q=1;q<=ue+1;q++){for(q>ue?(G=U,Z=Q,X=B[$+U]-ue):(G=R[Q++],Z=O[G],X=B[$+G]),P=1;P<=X;P++)d=R[Z++],!((he=B[j+d])<=0)&&(ge+=he,B[j+d]=-he,R[ve++]=d,B[W+d]!==-1&&(M[B[W+d]]=M[d]),M[d]!==-1?B[W+M[d]]=B[W+d]:B[T+B[v+d]]=B[W+d]);G!==U&&(O[G]=Vl(U),B[S+G]=0)}for(ue!==0&&(F=ve),B[v+U]=ge,O[U]=_e,B[$+U]=ve-_e,B[p+U]=-2,D=u(D,A,B,S,b),V=_e;V<ve;V++)if(d=R[V],!((K=B[p+d])<=0)){he=-B[j+d];var be=D-he;for(Q=O[d],ne=O[d]+K-1;Q<=ne;Q++)G=R[Q],B[S+G]>=D?B[S+G]-=he:B[S+G]!==0&&(B[S+G]=B[v+G]+be)}for(V=_e;V<ve;V++){for(d=R[V],ne=O[d],fe=ne+B[p+d]-1,pe=ne,Ie=0,ke=0,Q=ne;Q<=fe;Q++)if(G=R[Q],B[S+G]!==0){var qe=B[S+G]-D;qe>0?(ke+=qe,R[pe++]=G,Ie+=G):(O[G]=Vl(U),B[S+G]=0)}B[p+d]=pe-ne+1;var se=pe,Se=ne+B[$+d];for(Q=fe+1;Q<Se;Q++){N=R[Q];var Ke=B[j+N];Ke<=0||(ke+=Ke,R[pe++]=N,Ie+=N)}ke===0?(O[d]=Vl(U),he=-B[j+d],ge-=he,xe+=he,k+=he,B[j+d]=0,B[p+d]=-1):(B[v+d]=Math.min(B[v+d],ke),R[pe]=R[se],R[se]=R[ne],R[ne]=U,B[$+d]=pe-ne+1,Ie=(Ie<0?-Ie:Ie)%b,B[W+d]=B[y+Ie],B[y+Ie]=d,M[d]=Ie)}for(B[v+U]=ge,A=Math.max(A,ge),D=u(D+A,A,B,S,b),V=_e;V<ve;V++)if(d=R[V],!(B[j+d]>=0))for(Ie=M[d],d=B[y+Ie],B[y+Ie]=-1;d!==-1&&B[W+d]!==-1;d=B[W+d],D++){for(X=B[$+d],K=B[p+d],Q=O[d]+1;Q<=O[d]+X-1;Q++)B[S+R[Q]]=D;var J=d;for(N=B[W+d];N!==-1;){var H=B[$+N]===X&&B[p+N]===K;for(Q=O[N]+1;H&&Q<=O[N]+X-1;Q++)B[S+R[Q]]!==D&&(H=0);H?(O[N]=Vl(d),B[j+d]+=B[j+N],B[j+N]=0,B[p+N]=-1,N=B[W+N],B[W+J]=N):(J=N,N=B[W+N])}}for(Q=_e,V=_e;V<ve;V++)d=R[V],!((he=-B[j+d])<=0)&&(B[j+d]=he,ke=B[v+d]+ge-he,ke=Math.min(ke,b-k-he),B[T+ke]!==-1&&(M[B[T+ke]]=d),B[W+d]=B[T+ke],M[d]=-1,B[T+ke]=d,E=Math.min(E,ke),B[v+d]=ke,R[Q++]=d);B[j+U]=xe,(B[$+U]=Q-_e)===0&&(O[U]=-1,B[S+U]=0),ue!==0&&(F=Q)}for(d=0;d<b;d++)O[d]=Vl(O[d]);for(N=0;N<=b;N++)B[T+N]=-1;for(N=b;N>=0;N--)B[j+N]>0||(B[W+N]=B[T+O[N]],B[T+O[N]]=N);for(G=b;G>=0;G--)B[j+G]<=0||O[G]!==-1&&(B[W+G]=B[T+O[G]],B[T+O[G]]=G);for(U=0,d=0;d<=b;d++)O[d]===-1&&(U=gI(d,U,B,T,W,z,S));return z.splice(z.length-1,1),z};function a(l,c,h,m,g){var b=n(c);if(l===1&&m===h)return e(c,b);if(l===2){for(var A=b._index,I=b._ptr,C=0,R=0;R<h;R++){var O=I[R];if(I[R]=C,!(I[R+1]-O>g))for(var F=I[R+1];O<F;O++)A[C++]=A[O]}return I[h]=C,c=n(b),r(b,c)}return r(b,c)}function o(l,c,h,m,g,b,A,I,C,R,O,F){for(var z=0;z<l;z++)h[m+z]=c[z+1]-c[z];h[m+l]=0;for(var B=0;B<=l;B++)h[g+B]=-1,b[B]=-1,h[A+B]=-1,h[I+B]=-1,h[C+B]=1,h[R+B]=1,h[O+B]=0,h[F+B]=h[m+B];var $=u(0,0,h,R,l);return h[O+l]=-2,c[l]=-1,h[R+l]=0,$}function s(l,c,h,m,g,b,A,I,C,R,O){for(var F=0,z=0;z<l;z++){var B=h[m+z];if(B===0)h[g+z]=-2,F++,c[z]=-1,h[b+z]=0;else if(B>A)h[I+z]=0,h[g+z]=-1,F++,c[z]=Vl(l),h[I+l]++;else{var $=h[C+B];$!==-1&&(R[$]=z),h[O+z]=h[C+B],h[C+B]=z}}return F}function u(l,c,h,m,g){if(l<2||l+c<0){for(var b=0;b<g;b++)h[m+b]!==0&&(h[m+b]=1);l=2}return l}function f(l,c){return l!==c}})});function WIe(t,e,r,n,a,o,s){var u,f,l=0,c;if(t<=e||r[n+e]<=r[a+t])return-1;r[a+t]=r[n+e];var h=r[o+t];if(r[o+t]=e,h===-1)l=1,c=t;else{for(l=2,c=h;c!==r[s+c];c=r[s+c]);for(u=h;u!==c;u=f)f=r[s+u],r[s+u]=c}return{jleaf:l,q:c}}var GIe=te(()=>{w();_()});var eKt,tKt,HIe,KIe=te(()=>{w();_();Fe();GIe();eKt="csCounts",tKt=["transpose"],HIe=ae(eKt,tKt,t=>{var{transpose:e}=t;return function(r,n,a,o){if(!r||!n||!a)return null;var s=r._size,u=s[0],f=s[1],l,c,h,m,g,b,A,I=4*f+(o?f+u+1:0),C=[],R=0,O=f,F=2*f,z=3*f,B=4*f,$=5*f+1;for(h=0;h<I;h++)C[h]=-1;var j=[],W=e(r),T=W._index,p=W._ptr;for(h=0;h<f;h++)for(c=a[h],j[c]=C[z+c]===-1?1:0;c!==-1&&C[z+c]===-1;c=n[c])C[z+c]=h;if(o){for(h=0;h<f;h++)C[a[h]]=h;for(l=0;l<u;l++){for(h=f,b=p[l],A=p[l+1],g=b;g<A;g++)h=Math.min(h,C[T[g]]);C[$+l]=C[B+h],C[B+h]=l}}for(l=0;l<f;l++)C[R+l]=l;for(h=0;h<f;h++){for(c=a[h],n[c]!==-1&&j[n[c]]--,m=o?C[B+h]:c;m!==-1;m=o?C[$+m]:-1)for(g=p[m];g<p[m+1];g++){l=T[g];var v=WIe(l,c,C,z,O,F,R);v.jleaf>=1&&j[c]++,v.jleaf===2&&j[v.q]--}n[c]!==-1&&(C[R+c]=n[c])}for(c=0;c<f;c++)n[c]!==-1&&(j[n[c]]+=j[c]);return j}})});var rKt,nKt,ZIe,JIe=te(()=>{w();_();BIe();PIe();zIe();VIe();KIe();Fe();rKt="csSqr",nKt=["add","multiply","transpose"],ZIe=ae(rKt,nKt,t=>{var{add:e,multiply:r,transpose:n}=t,a=$Ie({add:e,multiply:r,transpose:n}),o=HIe({transpose:n});return function(f,l,c){var h=l._ptr,m=l._size,g=m[1],b,A={};if(A.q=a(f,l),f&&!A.q)return null;if(c){var I=f?FIe(l,null,A.q,0):l;A.parent=qIe(I,1);var C=LIe(A.parent,g);if(A.cp=o(I,A.parent,C,1),I&&A.parent&&A.cp&&s(I,A))for(A.unz=0,b=0;b<g;b++)A.unz+=A.cp[b]}else A.unz=4*h[g]+g,A.lnz=A.unz;return A};function s(u,f){var l=u._ptr,c=u._index,h=u._size,m=h[0],g=h[1];f.pinv=[],f.leftmost=[];var b=f.parent,A=f.pinv,I=f.leftmost,C=[],R=0,O=m,F=m+g,z=m+2*g,B,$,j,W,T;for($=0;$<g;$++)C[O+$]=-1,C[F+$]=-1,C[z+$]=0;for(B=0;B<m;B++)I[B]=-1;for($=g-1;$>=0;$--)for(W=l[$],T=l[$+1],j=W;j<T;j++)I[c[j]]=$;for(B=m-1;B>=0;B--)A[B]=-1,$=I[B],$!==-1&&(C[z+$]++===0&&(C[F+$]=B),C[R+B]=C[O+$],C[O+$]=B);for(f.lnz=0,f.m2=m,$=0;$<g;$++)if(B=C[O+$],f.lnz++,B<0&&(B=f.m2++),A[B]=$,!(--z[$]<=0)){f.lnz+=C[z+$];var p=b[$];p!==-1&&(C[z+p]===0&&(C[F+p]=C[F+$]),C[R+C[F+$]]=C[O+p],C[O+p]=C[R+B],C[z+p]+=C[z+$])}for(B=0;B<m;B++)A[B]<0&&(A[B]=$++);return!0}})});function DE(t,e){return t[e]<0}var DW=te(()=>{w();_()});function bI(t,e){t[e]=Vl(t[e])}var kW=te(()=>{w();_();yI()});function IW(t){return t<0?Vl(t):t}var YIe=te(()=>{w();_();yI()});function XIe(t,e,r,n,a){var o=e._index,s=e._ptr,u=e._size,f=u[1],l,c,h,m=0;for(n[0]=t;m>=0;){t=n[m];var g=a?a[t]:t;DE(s,t)||(bI(s,t),n[f+m]=g<0?0:IW(s[g]));var b=1;for(c=n[f+m],h=g<0?0:IW(s[g+1]);c<h;c++)if(l=o[c],!DE(s,l)){n[f+m]=c,n[++m]=l,b=0;break}b&&(m--,n[--r]=t)}return r}var QIe=te(()=>{w();_();DW();kW();YIe()});function eCe(t,e,r,n,a){var o=t._ptr,s=t._size,u=e._index,f=e._ptr,l=s[1],c,h,m,g=l;for(h=f[r],m=f[r+1],c=h;c<m;c++){var b=u[c];DE(o,b)||(g=XIe(b,t,g,n,a))}for(c=g;c<l;c++)bI(o,n[c]);return g}var tCe=te(()=>{w();_();DW();kW();QIe()});var iKt,aKt,rCe,nCe=te(()=>{w();_();tCe();Fe();iKt="csSpsolve",aKt=["divideScalar","multiply","subtract"],rCe=ae(iKt,aKt,t=>{var{divideScalar:e,multiply:r,subtract:n}=t;return function(o,s,u,f,l,c,h){var m=o._values,g=o._index,b=o._ptr,A=o._size,I=A[1],C=s._values,R=s._index,O=s._ptr,F,z,B,$,j=eCe(o,s,u,f,c);for(F=j;F<I;F++)l[f[F]]=0;for(z=O[u],B=O[u+1],F=z;F<B;F++)l[R[F]]=C[F];for(var W=j;W<I;W++){var T=f[W],p=c?c[T]:T;if(!(p<0))for(z=b[p],B=b[p+1],l[T]=e(l[T],m[h?z:B-1]),F=h?z+1:z,$=h?B:B-1;F<$;F++){var v=g[F];l[v]=n(l[v],r(m[F],l[T]))}}return j}})});var oKt,sKt,iCe,aCe=te(()=>{w();_();Fe();nCe();oKt="csLu",sKt=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],iCe=ae(oKt,sKt,t=>{var{abs:e,divideScalar:r,multiply:n,subtract:a,larger:o,largerEq:s,SparseMatrix:u}=t,f=rCe({divideScalar:r,multiply:n,subtract:a});return function(c,h,m){if(!c)return null;var g=c._size,b=g[1],A,I=100,C=100;h&&(A=h.q,I=h.lnz||I,C=h.unz||C);var R=[],O=[],F=[],z=new u({values:R,index:O,ptr:F,size:[b,b]}),B=[],$=[],j=[],W=new u({values:B,index:$,ptr:j,size:[b,b]}),T=[],p,v,S=[],y=[];for(p=0;p<b;p++)S[p]=0,T[p]=-1,F[p+1]=0;I=0,C=0;for(var M=0;M<b;M++){F[M]=I,j[M]=C;var D=A?A[M]:M,k=f(z,c,D,y,S,T,1),E=-1,d=-1;for(v=k;v<b;v++)if(p=y[v],T[p]<0){var N=e(S[p]);o(N,d)&&(d=N,E=p)}else $[C]=T[p],B[C++]=S[p];if(E===-1||d<=0)return null;T[D]<0&&s(e(S[D]),n(d,m))&&(E=D);var U=S[E];for($[C]=M,B[C++]=U,T[E]=M,O[I]=E,R[I++]=1,v=k;v<b;v++)p=y[v],T[p]<0&&(O[I]=p,R[I++]=r(S[p],U)),S[p]=0}for(F[b]=I,j[b]=C,v=0;v<I;v++)O[v]=T[O[v]];return R.splice(I,R.length-I),O.splice(I,O.length-I),B.splice(C,B.length-C),$.splice(C,$.length-C),{L:z,U:W,pinv:T}}})});var oCe,uKt,CW,sCe=te(()=>{w();_();zr();Fe();JIe();aCe();oCe="slu",uKt=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],CW=ae(oCe,uKt,t=>{var{typed:e,abs:r,add:n,multiply:a,transpose:o,divideScalar:s,subtract:u,larger:f,largerEq:l,SparseMatrix:c}=t,h=ZIe({add:n,multiply:a,transpose:o}),m=iCe({abs:r,divideScalar:s,multiply:a,subtract:u,larger:f,largerEq:l,SparseMatrix:c});return e(oCe,{"SparseMatrix, number, number":function(b,A,I){if(!Ut(A)||A<0||A>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(I<0||I>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var C=h(A,b,!1),R=m(b,C,I);return{L:R.L,U:R.U,p:R.pinv,q:C.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})})});function OW(t,e){var r,n=e.length,a=[];if(t)for(r=0;r<n;r++)a[t[r]]=e[r];else for(r=0;r<n;r++)a[r]=e[r];return a}var uCe=te(()=>{w();_()});var fCe,fKt,RW,lCe=te(()=>{w();_();zt();Fe();Ew();uCe();fCe="lusolve",fKt=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],RW=ae(fCe,fKt,t=>{var{typed:e,matrix:r,lup:n,slu:a,usolve:o,lsolve:s,DenseMatrix:u}=t,f=Gc({DenseMatrix:u});return e(fCe,{"Array, Array | Matrix":function(m,g){m=r(m);var b=n(m),A=c(b.L,b.U,b.p,null,g);return A.valueOf()},"DenseMatrix, Array | Matrix":function(m,g){var b=n(m);return c(b.L,b.U,b.p,null,g)},"SparseMatrix, Array | Matrix":function(m,g){var b=n(m);return c(b.L,b.U,b.p,null,g)},"SparseMatrix, Array | Matrix, number, number":function(m,g,b,A){var I=a(m,b,A);return c(I.L,I.U,I.p,I.q,g)},"Object, Array | Matrix":function(m,g){return c(m.L,m.U,m.p,m.q,g)}});function l(h){if(Kt(h))return h;if(hn(h))return r(h);throw new TypeError("Invalid Matrix LU decomposition")}function c(h,m,g,b,A){h=l(h),m=l(m),g&&(A=f(h,A,!0),A._data=OW(g,A._data));var I=s(h,A),C=o(m,I);return b&&(C._data=OW(b,C._data)),C}})});var lKt,cKt,FW,cCe=te(()=>{w();_();zt();dn();xi();Fe();lKt="Help",cKt=["parse"],FW=ae(lKt,cKt,t=>{var{parse:e}=t;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var n=this.doc||{},a=`
`;if(n.name&&(a+="Name: "+n.name+`

`),n.category&&(a+="Category: "+n.category+`

`),n.description&&(a+=`Description:
    `+n.description+`

`),n.syntax&&(a+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){a+=`Examples:
`;for(var o={},s=0;s<n.examples.length;s++){var u=n.examples[s];a+="    "+u+`
`;var f=void 0;try{f=e(u).compile().evaluate(o)}catch(l){f=l}f!==void 0&&!oE(f)&&(a+="        "+mr(f,{precision:14})+`
`)}a+=`
`}return n.mayThrow&&n.mayThrow.length&&(a+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(a+="See also: "+n.seealso.join(", ")+`
`),a},r.prototype.toJSON=function(){var n=tr(this.doc);return n.mathjs="Help",n},r.fromJSON=function(n){var a={};return Object.keys(n).filter(o=>o!=="mathjs").forEach(o=>{a[o]=n[o]}),new r(a)},r.prototype.valueOf=r.prototype.toString,r},{isClass:!0})});var hKt,pKt,BW,hCe=te(()=>{w();_();zt();xi();dn();Fe();hKt="Chain",pKt=["?on","math"],BW=ae(hKt,pKt,t=>{var{on:e,math:r}=t;function n(f){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");uE(f)?this.value=f.value:this.value=f}n.prototype.type="Chain",n.prototype.isChain=!0,n.prototype.done=function(){return this.value},n.prototype.valueOf=function(){return this.value},n.prototype.toString=function(){return mr(this.value)},n.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},n.fromJSON=function(f){return new n(f.value)};function a(f,l){typeof l=="function"&&(n.prototype[f]=s(l))}function o(f,l){DAe(n.prototype,f,function(){var h=l();if(typeof h=="function")return s(h)})}function s(f){return function(){for(var l=[this.value],c=0;c<arguments.length;c++)l[c+1]=arguments[c];return new n(f.apply(f,l))}}n.createProxy=function(f,l){if(typeof f=="string")a(f,l);else{var c=function(g){Jt(f,g)&&u[g]===void 0&&o(g,()=>f[g])};for(var h in f)c(h)}};var u={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return n.createProxy(r),e&&e("import",function(f,l,c){c||o(f,l)}),n},{isClass:!0})});var LW,pCe=te(()=>{w();_();LW={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}});var dCe,mCe=te(()=>{w();_();dCe={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}});var vCe,gCe=te(()=>{w();_();vCe={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}});var yCe,bCe=te(()=>{w();_();yCe={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}});var wCe,xCe=te(()=>{w();_();wCe={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}});var _Ce,SCe=te(()=>{w();_();_Ce={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}});var ECe,MCe=te(()=>{w();_();ECe={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}});var ACe,NCe=te(()=>{w();_();ACe={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}});var TCe,DCe=te(()=>{w();_();TCe={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}});var kCe,ICe=te(()=>{w();_();kCe={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}});var CCe,OCe=te(()=>{w();_();CCe={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]}});var PW,RCe=te(()=>{w();_();PW={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}});var FCe,BCe=te(()=>{w();_();FCe={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}});var LCe,PCe=te(()=>{w();_();LCe={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}});var qCe,zCe=te(()=>{w();_();qCe={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}});var UCe,jCe=te(()=>{w();_();UCe={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}});var $Ce,VCe=te(()=>{w();_();$Ce={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}});var WCe,GCe=te(()=>{w();_();WCe={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]}});var HCe,KCe=te(()=>{w();_();HCe={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}});var ZCe,JCe=te(()=>{w();_();ZCe={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}});var YCe,XCe=te(()=>{w();_();YCe={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]}});var QCe,eOe=te(()=>{w();_();QCe={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}});var tOe,rOe=te(()=>{w();_();tOe={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}});var nOe,iOe=te(()=>{w();_();nOe={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]}});var aOe,oOe=te(()=>{w();_();aOe={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]}});var sOe,uOe=te(()=>{w();_();sOe={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]}});var fOe,lOe=te(()=>{w();_();fOe={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]}});var cOe,hOe=te(()=>{w();_();cOe={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}});var pOe,dOe=te(()=>{w();_();pOe={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}});var mOe,vOe=te(()=>{w();_();mOe={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]}});var gOe,yOe=te(()=>{w();_();gOe={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]}});var bOe,wOe=te(()=>{w();_();bOe={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]}});var xOe,_Oe=te(()=>{w();_();xOe={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]}});var SOe,EOe=te(()=>{w();_();SOe={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]}});var MOe,AOe=te(()=>{w();_();MOe={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]}});var NOe,TOe=te(()=>{w();_();NOe={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]}});var DOe,kOe=te(()=>{w();_();DOe={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]}});var IOe,COe=te(()=>{w();_();IOe={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]}});var OOe,ROe=te(()=>{w();_();OOe={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]}});var FOe,BOe=te(()=>{w();_();FOe={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]}});var LOe,POe=te(()=>{w();_();LOe={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]}});var qOe,zOe=te(()=>{w();_();qOe={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]}});var UOe,jOe=te(()=>{w();_();UOe={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","evaluate"]}});var $Oe,VOe=te(()=>{w();_();$Oe={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]}});var WOe,GOe=te(()=>{w();_();WOe={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]}});var HOe,KOe=te(()=>{w();_();HOe={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]}});var ZOe,JOe=te(()=>{w();_();ZOe={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]}});var YOe,XOe=te(()=>{w();_();YOe={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}});var QOe,e5e=te(()=>{w();_();QOe={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]}});var t5e,r5e=te(()=>{w();_();t5e={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]}});var n5e,i5e=te(()=>{w();_();n5e={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}});var a5e,o5e=te(()=>{w();_();a5e={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}});var s5e,u5e=te(()=>{w();_();s5e={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}});var f5e,l5e=te(()=>{w();_();f5e={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}});var c5e,h5e=te(()=>{w();_();c5e={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}});var p5e,d5e=te(()=>{w();_();p5e={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}});var m5e,v5e=te(()=>{w();_();m5e={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]}});var g5e,y5e=te(()=>{w();_();g5e={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]}});var b5e,w5e=te(()=>{w();_();b5e={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]}});var x5e,_5e=te(()=>{w();_();x5e={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}});var S5e,E5e=te(()=>{w();_();S5e={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}});var M5e,A5e=te(()=>{w();_();M5e={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}});var N5e,T5e=te(()=>{w();_();N5e={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]}});var D5e,k5e=te(()=>{w();_();D5e={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)=NaN","invmod(7, 13)=2","math.invmod(15151, 15122)=10429"],seealso:["gcd","xgcd"]}});var I5e,C5e=te(()=>{w();_();I5e={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}});var O5e,R5e=te(()=>{w();_();O5e={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]}});var F5e,B5e=te(()=>{w();_();F5e={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}});var L5e,P5e=te(()=>{w();_();L5e={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]}});var q5e,z5e=te(()=>{w();_();q5e={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]}});var U5e,j5e=te(()=>{w();_();U5e={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}});var $5e,V5e=te(()=>{w();_();$5e={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}});var W5e,G5e=te(()=>{w();_();W5e={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']}});var H5e,K5e=te(()=>{w();_();H5e={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]}});var Z5e,J5e=te(()=>{w();_();Z5e={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]}});var Y5e,X5e=te(()=>{w();_();Y5e={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","math.pow([[1, 2], [4, 3]], 2)","math.pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]}});var Q5e,eRe=te(()=>{w();_();Q5e={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}});var tRe,rRe=te(()=>{w();_();tRe={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}});var nRe,iRe=te(()=>{w();_();nRe={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]}});var aRe,oRe=te(()=>{w();_();aRe={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]}});var sRe,uRe=te(()=>{w();_();sRe={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}});var fRe,lRe=te(()=>{w();_();fRe={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}});var cRe,hRe=te(()=>{w();_();cRe={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}});var pRe,dRe=te(()=>{w();_();pRe={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}});var mRe,vRe=te(()=>{w();_();mRe={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}});var gRe,yRe=te(()=>{w();_();gRe={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}});var bRe,wRe=te(()=>{w();_();bRe={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}});var xRe,_Re=te(()=>{w();_();xRe={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}});var SRe,ERe=te(()=>{w();_();SRe={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}});var MRe,ARe=te(()=>{w();_();MRe={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}});var NRe,TRe=te(()=>{w();_();NRe={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}});var DRe,kRe=te(()=>{w();_();DRe={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}});var IRe,CRe=te(()=>{w();_();IRe={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}});var ORe,RRe=te(()=>{w();_();ORe={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]}});var FRe,BRe=te(()=>{w();_();FRe={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}});var LRe,PRe=te(()=>{w();_();LRe={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}});var qRe,zRe=te(()=>{w();_();qRe={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}});var URe,jRe=te(()=>{w();_();URe={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}});var $Re,VRe=te(()=>{w();_();$Re={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}});var WRe,GRe=te(()=>{w();_();WRe={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}});var HRe,KRe=te(()=>{w();_();HRe={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]}});var ZRe,JRe=te(()=>{w();_();ZRe={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}});var YRe,XRe=te(()=>{w();_();YRe={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]}});var QRe,e8e=te(()=>{w();_();QRe={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]}});var t8e,r8e=te(()=>{w();_();t8e={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}});var n8e,i8e=te(()=>{w();_();n8e={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]}});var a8e,o8e=te(()=>{w();_();a8e={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}});var s8e,u8e=te(()=>{w();_();s8e={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]}});var f8e,l8e=te(()=>{w();_();f8e={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]}});var c8e,h8e=te(()=>{w();_();c8e={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}});var p8e,d8e=te(()=>{w();_();p8e={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]}});var m8e,v8e=te(()=>{w();_();m8e={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}});var g8e,y8e=te(()=>{w();_();g8e={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]}});var b8e,w8e=te(()=>{w();_();b8e={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}});var x8e,_8e=te(()=>{w();_();x8e={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}});var S8e,E8e=te(()=>{w();_();S8e={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["diff([1, 2, 4, 7, 0])","diff([1, 2, 4, 7, 0], 0)","diff(matrix([1, 2, 4, 7, 0]))","diff([[1, 2], [3, 4]])","diff([[1, 2], [3, 4]], 0)","diff([[1, 2], [3, 4]], 1)","diff([[1, 2], [3, 4]], bignumber(1))","diff(matrix([[1, 2], [3, 4]]), 1)","diff([[1, 2], matrix([3, 4])], 1)"],seealso:["subtract","partitionSelect"]}});var M8e,A8e=te(()=>{w();_();M8e={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}});var N8e,T8e=te(()=>{w();_();N8e={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]}});var D8e,k8e=te(()=>{w();_();D8e={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}});var I8e,C8e=te(()=>{w();_();I8e={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}});var O8e,R8e=te(()=>{w();_();O8e={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]}});var F8e,B8e=te(()=>{w();_();F8e={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]}});var L8e,P8e=te(()=>{w();_();L8e={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}});var q8e,z8e=te(()=>{w();_();q8e={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]}});var U8e,j8e=te(()=>{w();_();U8e={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]}});var $8e,V8e=te(()=>{w();_();$8e={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]}});var W8e,G8e=te(()=>{w();_();W8e={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]}});var H8e,K8e=te(()=>{w();_();H8e={name:"matrixFromColumns",category:"Matrix",syntax:["math.matrixFromColumns(...arr)","math.matrixFromColumns(row1, row2)","math.matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]}});var Z8e,J8e=te(()=>{w();_();Z8e={name:"matrixFromFunction",category:"Matrix",syntax:["math.matrixFromFunction(size, fn)","math.matrixFromFunction(size, fn, format)","math.matrixFromFunction(size, fn, format, datatype)","math.matrixFromFunction(size, format, fn)","math.matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]}});var Y8e,X8e=te(()=>{w();_();Y8e={name:"matrixFromRows",category:"Matrix",syntax:["math.matrixFromRows(...arr)","math.matrixFromRows(row1, row2)","math.matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]}});var Q8e,eFe=te(()=>{w();_();Q8e={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]}});var tFe,rFe=te(()=>{w();_();tFe={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}});var nFe,iFe=te(()=>{w();_();nFe={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}});var aFe,oFe=te(()=>{w();_();aFe={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]}});var sFe,uFe=te(()=>{w();_();sFe={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]}});var fFe,lFe=te(()=>{w();_();fFe={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], math.pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]}});var cFe,hFe=te(()=>{w();_();cFe={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]}});var pFe,dFe=te(()=>{w();_();pFe={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]}});var mFe,vFe=te(()=>{w();_();mFe={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}});var gFe,yFe=te(()=>{w();_();gFe={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]}});var bFe,wFe=te(()=>{w();_();bFe={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]}});var xFe,_Fe=te(()=>{w();_();xFe={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]}});var SFe,EFe=te(()=>{w();_();SFe={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]}});var MFe,AFe=te(()=>{w();_();MFe={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]}});var NFe,TFe=te(()=>{w();_();NFe={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]}});var DFe,kFe=te(()=>{w();_();DFe={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]}});var IFe,CFe=te(()=>{w();_();IFe={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]}});var OFe,RFe=te(()=>{w();_();OFe={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]}});var FFe,BFe=te(()=>{w();_();FFe={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]}});var LFe,PFe=te(()=>{w();_();LFe={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]}});var qFe,zFe=te(()=>{w();_();qFe={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}});var UFe,jFe=te(()=>{w();_();UFe={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(math.i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]}});var $Fe,VFe=te(()=>{w();_();$Fe={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]}});var WFe,GFe=te(()=>{w();_();WFe={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}});var HFe,KFe=te(()=>{w();_();HFe={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]}});var ZFe,JFe=te(()=>{w();_();ZFe={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]}});var YFe,XFe=te(()=>{w();_();YFe={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}});var QFe,eBe=te(()=>{w();_();QFe={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]}});var tBe,rBe=te(()=>{w();_();tBe={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]}});var nBe,iBe=te(()=>{w();_();nBe={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]}});var aBe,oBe=te(()=>{w();_();aBe={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]}});var sBe,uBe=te(()=>{w();_();sBe={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}});var fBe,lBe=te(()=>{w();_();fBe={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]}});var cBe,hBe=te(()=>{w();_();cBe={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]}});var pBe,dBe=te(()=>{w();_();pBe={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}});var mBe,vBe=te(()=>{w();_();mBe={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]}});var gBe,yBe=te(()=>{w();_();gBe={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}});var bBe,wBe=te(()=>{w();_();bBe={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}});var xBe,_Be=te(()=>{w();_();xBe={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}});var SBe,EBe=te(()=>{w();_();SBe={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]}});var MBe,ABe=te(()=>{w();_();MBe={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]}});var NBe,TBe=te(()=>{w();_();NBe={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]}});var DBe,kBe=te(()=>{w();_();DBe={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]}});var IBe,CBe=te(()=>{w();_();IBe={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]}});var OBe,RBe=te(()=>{w();_();OBe={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]}});var FBe,BBe=te(()=>{w();_();FBe={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]}});var LBe,PBe=te(()=>{w();_();LBe={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]}});var qBe,zBe=te(()=>{w();_();qBe={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]}});var UBe,jBe=te(()=>{w();_();UBe={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]}});var $Be,VBe=te(()=>{w();_();$Be={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]}});var WBe,GBe=te(()=>{w();_();WBe={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]}});var HBe,KBe=te(()=>{w();_();HBe={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]}});var ZBe,JBe=te(()=>{w();_();ZBe={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]}});var YBe,XBe=te(()=>{w();_();YBe={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]}});var QBe,e9e=te(()=>{w();_();QBe={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]}});var t9e,r9e=te(()=>{w();_();t9e={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]}});var n9e,i9e=te(()=>{w();_();n9e={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]}});var a9e,o9e=te(()=>{w();_();a9e={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]}});var s9e,u9e=te(()=>{w();_();s9e={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]}});var f9e,l9e=te(()=>{w();_();f9e={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]}});var c9e,h9e=te(()=>{w();_();c9e={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]}});var p9e,d9e=te(()=>{w();_();p9e={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}});var m9e,v9e=te(()=>{w();_();m9e={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}});var g9e,y9e=te(()=>{w();_();g9e={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}});var b9e,w9e=te(()=>{w();_();b9e={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}});var x9e,_9e=te(()=>{w();_();x9e={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]}});var S9e,E9e=te(()=>{w();_();S9e={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]}});var M9e,A9e=te(()=>{w();_();M9e={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}});var N9e,T9e=te(()=>{w();_();N9e={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}});var D9e,k9e=te(()=>{w();_();D9e={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}});var I9e,C9e=te(()=>{w();_();I9e={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]}});var O9e,R9e=te(()=>{w();_();O9e={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}});var F9e,B9e=te(()=>{w();_();F9e={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]}});var L9e,P9e=te(()=>{w();_();L9e={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}});var q9e,z9e=te(()=>{w();_();q9e={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}});var U9e,j9e=te(()=>{w();_();U9e={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}});var $9e,V9e=te(()=>{w();_();$9e={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}});var W9e,G9e=te(()=>{w();_();W9e={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}});var H9e,K9e=te(()=>{w();_();H9e={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}});var Z9e,J9e=te(()=>{w();_();Z9e={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}});var Y9e,X9e=te(()=>{w();_();Y9e={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}});var Q9e,e7e=te(()=>{w();_();Q9e={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}});var t7e,r7e=te(()=>{w();_();t7e={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}});var n7e,i7e=te(()=>{w();_();n7e={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}});var a7e,o7e=te(()=>{w();_();a7e={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}});var s7e,u7e=te(()=>{w();_();s7e={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}});var f7e,l7e=te(()=>{w();_();f7e={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}});var c7e,h7e=te(()=>{w();_();c7e={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}});var p7e,d7e=te(()=>{w();_();p7e={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]}});var m7e,v7e=te(()=>{w();_();m7e={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}});var g7e,y7e=te(()=>{w();_();g7e={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}});var b7e,w7e=te(()=>{w();_();b7e={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]}});var x7e,_7e=te(()=>{w();_();x7e={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]}});var S7e,E7e=te(()=>{w();_();S7e={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]}});var M7e,A7e=te(()=>{w();_();M7e={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]}});var N7e,T7e=te(()=>{w();_();N7e={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]}});var D7e,k7e=te(()=>{w();_();D7e={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]}});var I7e,C7e=te(()=>{w();_();I7e={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}});var O7e,R7e=te(()=>{w();_();O7e={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}});var F7e,B7e=te(()=>{w();_();F7e={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]}});var L7e,P7e=te(()=>{w();_();L7e={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]}});var q7e,z7e=te(()=>{w();_();q7e={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]}});var U7e,j7e=te(()=>{w();_();U7e={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $0, $1, $2", [6, 9, 4])'],seealso:["format"]}});var $7e,V7e=te(()=>{w();_();$7e={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]}});var W7e,G7e=te(()=>{w();_();pCe();mCe();gCe();bCe();xCe();SCe();MCe();NCe();DCe();ICe();OCe();RCe();BCe();PCe();zCe();jCe();VCe();GCe();KCe();JCe();XCe();eOe();rOe();iOe();oOe();uOe();lOe();hOe();dOe();vOe();yOe();wOe();_Oe();EOe();AOe();TOe();kOe();COe();ROe();BOe();POe();zOe();jOe();VOe();GOe();KOe();JOe();XOe();e5e();r5e();i5e();o5e();u5e();l5e();h5e();d5e();v5e();y5e();w5e();_5e();E5e();A5e();T5e();k5e();C5e();R5e();B5e();P5e();z5e();j5e();V5e();G5e();K5e();J5e();X5e();eRe();rRe();iRe();oRe();uRe();lRe();hRe();dRe();vRe();yRe();wRe();_Re();ERe();ARe();TRe();kRe();CRe();RRe();BRe();PRe();zRe();jRe();VRe();GRe();KRe();JRe();XRe();e8e();r8e();i8e();o8e();u8e();l8e();h8e();d8e();v8e();y8e();w8e();_8e();E8e();A8e();T8e();k8e();C8e();R8e();B8e();P8e();z8e();j8e();V8e();G8e();K8e();J8e();X8e();eFe();rFe();iFe();oFe();uFe();lFe();hFe();dFe();vFe();yFe();wFe();_Fe();EFe();AFe();TFe();kFe();CFe();RFe();BFe();PFe();zFe();jFe();VFe();GFe();KFe();JFe();XFe();eBe();rBe();iBe();oBe();uBe();lBe();hBe();dBe();vBe();yBe();wBe();_Be();EBe();ABe();TBe();kBe();CBe();RBe();BBe();PBe();zBe();jBe();VBe();GBe();KBe();JBe();XBe();e9e();r9e();i9e();o9e();u9e();l9e();h9e();d9e();v9e();y9e();w9e();_9e();E9e();A9e();T9e();k9e();C9e();R9e();B9e();P9e();z9e();j9e();V9e();G9e();K9e();J9e();X9e();e7e();r7e();i7e();o7e();u7e();l7e();h7e();d7e();v7e();y7e();w7e();_7e();E7e();A7e();T7e();k7e();C7e();R7e();B7e();P7e();z7e();j7e();V7e();W7e={bignumber:WCe,boolean:HCe,complex:ZCe,createUnit:YCe,fraction:QCe,index:tOe,matrix:nOe,number:aOe,sparse:sOe,splitUnit:fOe,string:cOe,unit:pOe,e:LW,E:LW,false:dCe,i:vCe,Infinity:yCe,LN2:_Ce,LN10:wCe,LOG2E:ACe,LOG10E:ECe,NaN:TCe,null:kCe,pi:PW,PI:PW,phi:CCe,SQRT1_2:FCe,SQRT2:LCe,tau:qCe,true:UCe,version:$Ce,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:xOe,lsolve:MOe,lsolveAll:NOe,lup:DOe,lusolve:IOe,leafCount:SOe,resolve:LOe,simplify:qOe,simplifyCore:UOe,symbolicEqual:WOe,rationalize:FOe,slu:$Oe,usolve:HOe,usolveAll:ZOe,qr:OOe,abs:YOe,add:QOe,cbrt:t5e,ceil:n5e,cube:a5e,divide:s5e,dotDivide:f5e,dotMultiply:c5e,dotPow:p5e,exp:m5e,expm:g5e,expm1:b5e,fix:x5e,floor:S5e,gcd:M5e,hypot:N5e,lcm:I5e,log:O5e,log2:q5e,log1p:L5e,log10:F5e,mod:U5e,multiply:$5e,norm:W5e,nthRoot:H5e,nthRoots:Z5e,pow:Y5e,round:Q5e,sign:tRe,sqrt:nRe,sqrtm:aRe,square:sRe,subtract:fRe,unaryMinus:cRe,unaryPlus:pRe,xgcd:mRe,invmod:D5e,bitAnd:gRe,bitNot:bRe,bitOr:xRe,bitXor:SRe,leftShift:MRe,rightArithShift:NRe,rightLogShift:DRe,bellNumbers:IRe,catalan:ORe,composition:FRe,stirlingS2:LRe,config:mOe,import:gOe,typed:bOe,arg:qRe,conj:URe,re:WRe,im:$Re,evaluate:HRe,help:ZRe,distance:YRe,intersect:QRe,and:t8e,not:n8e,or:a8e,xor:s8e,concat:c8e,count:p8e,cross:m8e,column:f8e,ctranspose:g8e,det:b8e,diag:x8e,diff:S8e,dot:M8e,getMatrixDataType:F8e,identity:L8e,filter:D8e,flatten:I8e,forEach:O8e,inv:q8e,pinv:U8e,eigs:N8e,kron:$8e,matrixFromFunction:Z8e,matrixFromRows:Y8e,matrixFromColumns:H8e,map:W8e,ones:Q8e,partitionSelect:tFe,range:nFe,resize:sFe,reshape:aFe,rotate:fFe,rotationMatrix:cFe,row:pFe,size:mFe,sort:gFe,squeeze:bFe,subset:xFe,trace:SFe,transpose:MFe,zeros:NFe,fft:DFe,ifft:IFe,combinations:OFe,combinationsWithRep:FFe,factorial:LFe,gamma:qFe,kldivergence:$Fe,lgamma:UFe,multinomial:WFe,permutations:HFe,pickRandom:ZFe,random:YFe,randomInt:QFe,compare:tBe,compareNatural:nBe,compareText:aBe,deepEqual:sBe,equal:fBe,equalText:cBe,larger:pBe,largerEq:mBe,smaller:gBe,smallerEq:bBe,unequal:xBe,setCartesian:SBe,setDifference:MBe,setDistinct:NBe,setIntersect:DBe,setIsSubset:IBe,setMultiplicity:OBe,setPowerset:FBe,setSize:LBe,setSymDifference:qBe,setUnion:UBe,erf:$Be,cumsum:f9e,mad:WBe,max:HBe,mean:ZBe,median:YBe,min:QBe,mode:t9e,prod:n9e,quantileSeq:a9e,std:s9e,sum:c9e,variance:p9e,acos:m9e,acosh:g9e,acot:b9e,acoth:x9e,acsc:S9e,acsch:M9e,asec:N9e,asech:D9e,asin:I9e,asinh:O9e,atan:F9e,atanh:q9e,atan2:L9e,cos:U9e,cosh:$9e,cot:W9e,coth:H9e,csc:Z9e,csch:Y9e,sec:Q9e,sech:t7e,sin:n7e,sinh:a7e,tan:s7e,tanh:f7e,to:c7e,clone:m7e,format:g7e,bin:p7e,oct:q7e,hex:x7e,isNaN:M7e,isInteger:S7e,isNegative:N7e,isNumeric:D7e,hasNumericValue:b7e,isPositive:I7e,isPrime:O7e,isZero:F7e,print:U7e,typeOf:$7e,numeric:L7e}});var H7e,dKt,qW,K7e=te(()=>{w();_();Fe();Qs();G7e();dn();H7e="help",dKt=["typed","mathWithTransform","Help"],qW=ae(H7e,dKt,t=>{var{typed:e,mathWithTransform:r,Help:n}=t;return e(H7e,{any:function(o){var s,u=o;if(typeof o!="string"){for(s in r)if(Jt(r,s)&&o===r[s]){u=s;break}}var f=xa(W7e,u);if(!f){var l=typeof u=="function"?u.name:u;throw new Error('No documentation found on "'+l+'"')}return new n(f)}})})});var Z7e,mKt,zW,J7e=te(()=>{w();_();Fe();Z7e="chain",mKt=["typed","Chain"],zW=ae(Z7e,mKt,t=>{var{typed:e,Chain:r}=t;return e(Z7e,{"":function(){return new r},any:function(a){return new r(a)}})})});var Y7e,vKt,UW,X7e=te(()=>{w();_();zt();dn();xi();Fe();Y7e="det",vKt=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],UW=ae(Y7e,vKt,t=>{var{typed:e,matrix:r,subtract:n,multiply:a,divideScalar:o,isZero:s,unaryMinus:u}=t;return e(Y7e,{any:function(c){return tr(c)},"Array | Matrix":function(c){var h;switch(Kt(c)?h=c.size():Array.isArray(c)?(c=r(c),h=c.size()):h=[],h.length){case 0:return tr(c);case 1:if(h[0]===1)return tr(c.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+mr(h)+")");case 2:{var m=h[0],g=h[1];if(m===g)return f(c.clone().valueOf(),m,g);throw new RangeError("Matrix must be square (size: "+mr(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+mr(h)+")")}}});function f(l,c,h){if(c===1)return tr(l[0][0]);if(c===2)return n(a(l[0][0],l[1][1]),a(l[1][0],l[0][1]));for(var m=!1,g=new Array(c).fill(0).map(($,j)=>j),b=0;b<c;b++){var A=g[b];if(s(l[A][b])){var I=void 0;for(I=b+1;I<c;I++)if(!s(l[g[I]][b])){A=g[I],g[I]=g[b],g[b]=A,m=!m;break}if(I===c)return l[A][b]}for(var C=l[A][b],R=b===0?1:l[g[b-1]][b-1],O=b+1;O<c;O++)for(var F=g[O],z=b+1;z<c;z++)l[F][z]=o(n(a(l[F][z],C),a(l[F][b],l[A][z])),R)}var B=l[g[c-1]][c-1];return m?u(B):B}})});var Q7e,gKt,jW,eLe=te(()=>{w();_();zt();wr();Fe();xi();Q7e="inv",gKt=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],jW=ae(Q7e,gKt,t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:a,multiply:o,unaryMinus:s,det:u,identity:f,abs:l}=t;return e(Q7e,{"Array | Matrix":function(m){var g=Kt(m)?m.size():vr(m);switch(g.length){case 1:if(g[0]===1)return Kt(m)?r([n(1,m.valueOf()[0])]):[n(1,m[0])];throw new RangeError("Matrix must be square (size: "+mr(g)+")");case 2:{var b=g[0],A=g[1];if(b===A)return Kt(m)?r(c(m.valueOf(),b,A),m.storage()):c(m,b,A);throw new RangeError("Matrix must be square (size: "+mr(g)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+mr(g)+")")}},any:function(m){return n(1,m)}});function c(h,m,g){var b,A,I,C,R;if(m===1){if(C=h[0][0],C===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,C)]]}else if(m===2){var O=u(h);if(O===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(h[1][1],O),n(s(h[0][1]),O)],[n(s(h[1][0]),O),n(h[0][0],O)]]}else{var F=h.concat();for(b=0;b<m;b++)F[b]=F[b].concat();for(var z=f(m).valueOf(),B=0;B<g;B++){var $=l(F[B][B]),j=B;for(b=B+1;b<m;)l(F[b][B])>$&&($=l(F[b][B]),j=b),b++;if($===0)throw Error("Cannot calculate inverse, determinant is zero");b=j,b!==B&&(R=F[B],F[B]=F[b],F[b]=R,R=z[B],z[B]=z[b],z[b]=R);var W=F[B],T=z[B];for(b=0;b<m;b++){var p=F[b],v=z[b];if(b!==B){if(p[B]!==0){for(I=n(s(p[B]),W[B]),A=B;A<g;A++)p[A]=a(p[A],o(I,W[A]));for(A=0;A<g;A++)v[A]=a(v[A],o(I,T[A]))}}else{for(I=W[B],A=B;A<g;A++)p[A]=n(p[A],I);for(A=0;A<g;A++)v[A]=n(v[A],I)}}}return z}}})});var tLe,yKt,$W,rLe=te(()=>{w();_();zt();wr();Fe();xi();dn();tLe="pinv",yKt=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],$W=ae(tLe,yKt,t=>{var{typed:e,matrix:r,inv:n,deepEqual:a,equal:o,dotDivide:s,dot:u,ctranspose:f,divideScalar:l,multiply:c,add:h,Complex:m}=t;return e(tLe,{"Array | Matrix":function(O){var F=Kt(O)?O.size():vr(O);switch(F.length){case 1:return C(O)?f(O):F[0]===1?n(O):s(f(O),u(O,O));case 2:{if(C(O))return f(O);var z=F[0],B=F[1];if(z===B)try{return n(O)}catch($){if(!($ instanceof Error&&$.message.match(/Cannot calculate inverse, determinant is zero/)))throw $}return Kt(O)?r(g(O.valueOf(),z,B),O.storage()):g(O,z,B)}default:throw new RangeError("Matrix must be two dimensional (size: "+mr(F)+")")}},any:function(O){return o(O,0)?tr(O):l(1,O)}});function g(R,O,F){var{C:z,F:B}=A(R,O,F),$=c(n(c(f(z),z)),f(z)),j=c(f(B),n(c(B,f(B))));return c(j,$)}function b(R,O,F){for(var z=tr(R),B=0,$=0;$<O;$++){if(F<=B)return z;for(var j=$;I(z[j][B]);)if(j++,O===j&&(j=$,B++,F===B))return z;[z[j],z[$]]=[z[$],z[j]];for(var W=z[$][B],T=0;T<F;T++)z[$][T]=s(z[$][T],W);for(var p=0;p<O;p++)if(p!==$){W=z[p][B];for(var v=0;v<F;v++)z[p][v]=h(z[p][v],c(-1,c(W,z[$][v])))}B++}return z}function A(R,O,F){var z=b(R,O,F),B=R.map((j,W)=>j.filter((T,p)=>p<O&&!I(u(z[p],z[p])))),$=z.filter((j,W)=>!I(u(z[W],z[W])));return{C:B,F:$}}function I(R){return o(h(R,m(1,1)),h(0,m(1,1)))}function C(R){return a(h(R,m(1,1)),h(c(R,0),m(1,1)))}})});function nLe(t){var{addScalar:e,subtract:r,flatten:n,multiply:a,multiplyScalar:o,divideScalar:s,sqrt:u,abs:f,bignumber:l,diag:c,inv:h,qr:m,usolve:g,usolveAll:b,equal:A,complex:I,larger:C,smaller:R,matrixFromColumns:O,dot:F}=t;function z(N,U,q,P,G){G===void 0&&(G=!0);var Z=B(N,U,q,P,G);$(N,U,q,P,G,Z);var{values:X,C:he}=j(N,U,q,P,G),V;return G&&(V=W(N,U,he,Z,X,q,P),V=O(...V)),{values:X,vectors:V}}function B(N,U,q,P,G){var Z=P==="BigNumber",X=P==="Complex",he=Z?l(0):0,V=Z?l(1):X?I(1):1,K=Z?l(1):1,ne=Z?l(10):2,fe=o(ne,ne),pe;G&&(pe=Array(U).fill(V));for(var Ie=!1;!Ie;){Ie=!0;for(var ke=0;ke<U;ke++){for(var ue=he,xe=he,ge=0;ge<U;ge++)if(ke!==ge){var Q=f(N[ke][ge]);ue=e(ue,Q),xe=e(xe,Q)}if(!A(ue,0)&&!A(xe,0)){for(var _e=K,ve=ue,be=s(xe,ne),qe=o(xe,ne);R(ve,be);)ve=o(ve,fe),_e=o(_e,ne);for(;C(ve,qe);)ve=s(ve,fe),_e=s(_e,ne);var se=R(s(e(ve,xe),_e),o(e(ue,xe),.95));if(se){Ie=!1;for(var Se=s(1,_e),Ke=0;Ke<U;Ke++)ke!==Ke&&(N[ke][Ke]=o(N[ke][Ke],_e),N[Ke][ke]=o(N[Ke][ke],Se));G&&(pe[ke]=o(pe[ke],_e))}}}}return c(pe)}function $(N,U,q,P,G,Z){var X=P==="BigNumber",he=P==="Complex",V=X?l(0):he?I(0):0;X&&(q=l(q));for(var K=0;K<U-2;K++){for(var ne=0,fe=V,pe=K+1;pe<U;pe++){var Ie=N[pe][K];R(f(fe),f(Ie))&&(fe=Ie,ne=pe)}if(!R(f(fe),q)){if(ne!==K+1){var ke=N[ne];N[ne]=N[K+1],N[K+1]=ke;for(var ue=0;ue<U;ue++){var xe=N[ue][ne];N[ue][ne]=N[ue][K+1],N[ue][K+1]=xe}if(G){var ge=Z[ne];Z[ne]=Z[K+1],Z[K+1]=ge}}for(var Q=K+2;Q<U;Q++){var _e=s(N[Q][K],fe);if(_e!==0){for(var ve=0;ve<U;ve++)N[Q][ve]=r(N[Q][ve],o(_e,N[K+1][ve]));for(var be=0;be<U;be++)N[be][K+1]=e(N[be][K+1],o(_e,N[be][Q]));if(G)for(var qe=0;qe<U;qe++)Z[Q][qe]=r(Z[Q][qe],o(_e,Z[K+1][qe]))}}}}return Z}function j(N,U,q,P,G){var Z=P==="BigNumber",X=P==="Complex",he=Z?l(1):X?I(1):1;Z&&(q=l(q));for(var V=tr(N),K=[],ne=U,fe=[],pe=G?c(Array(U).fill(he)):void 0,Ie=G?c(Array(ne).fill(he)):void 0,ke=0;ke<=100;){ke+=1;for(var ue=0,xe=0;xe<ne;xe++)V[xe][xe]=r(V[xe][xe],ue);var{Q:ge,R:Q}=m(V);V=a(Q,ge);for(var _e=0;_e<ne;_e++)V[_e][_e]=e(V[_e][_e],ue);if(G&&(Ie=a(Ie,ge)),ne===1||R(f(V[ne-1][ne-2]),q)){ke=0,K.push(V[ne-1][ne-1]),G&&(fe.unshift([[1]]),v(Ie,U),pe=a(pe,Ie),ne>1&&(Ie=c(Array(ne-1).fill(he)))),ne-=1,V.pop();for(var ve=0;ve<ne;ve++)V[ve].pop()}else if(ne===2||R(f(V[ne-2][ne-3]),q)){ke=0;var be=T(V[ne-2][ne-2],V[ne-2][ne-1],V[ne-1][ne-2],V[ne-1][ne-1]);K.push(...be),G&&(fe.unshift(p(V[ne-2][ne-2],V[ne-2][ne-1],V[ne-1][ne-2],V[ne-1][ne-1],be[0],be[1],q,P)),v(Ie,U),pe=a(pe,Ie),ne>2&&(Ie=c(Array(ne-2).fill(he)))),ne-=2,V.pop(),V.pop();for(var qe=0;qe<ne;qe++)V[qe].pop(),V[qe].pop()}if(ne===0)break}if(K.sort((Ke,J)=>+r(f(Ke),f(J))),ke>100){var se=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+K.join(", "));throw se.values=K,se.vectors=[],se}var Se=G?a(pe,S(fe,U)):void 0;return{values:K,C:Se}}function W(N,U,q,P,G,Z,X){var he=h(q),V=a(he,N,q),K=X==="BigNumber",ne=X==="Complex",fe=K?l(0):ne?I(0):0,pe=K?l(1):ne?I(1):1,Ie=[],ke=[];for(var ue of G){var xe=y(Ie,ue,A);xe===-1?(Ie.push(ue),ke.push(1)):ke[xe]+=1}for(var ge=[],Q=Ie.length,_e=Array(U).fill(fe),ve=c(Array(U).fill(pe)),be=[],qe=function(J){var H=Ie[J],Y=r(V,a(H,ve)),oe=b(Y,_e);for(oe.shift();oe.length<ke[J];){var Me=M(Y,U,oe,Z,X);if(Me==null){be.push(H);break}oe.push(Me)}var Ge=a(h(P),q);oe=oe.map(Ce=>a(Ge,Ce)),ge.push(...oe.map(Ce=>n(Ce)))},se=0;se<Q;se++)qe(se);if(be.length!==0){var Se=new Error("Failed to find eigenvectors for the following eigenvalues: "+be.join(", "));throw Se.values=G,Se.vectors=ge,Se}return ge}function T(N,U,q,P){var G=e(N,P),Z=r(o(N,P),o(U,q)),X=o(G,.5),he=o(u(r(o(G,G),o(4,Z))),.5);return[e(X,he),r(X,he)]}function p(N,U,q,P,G,Z,X,he){var V=he==="BigNumber",K=he==="Complex",ne=V?l(0):K?I(0):0,fe=V?l(1):K?I(1):1;if(R(f(q),X))return[[fe,ne],[ne,fe]];if(C(f(r(G,Z)),X))return[[r(G,P),r(Z,P)],[q,q]];var pe=r(N,G),Ie=r(U,G),ke=r(q,G),ue=r(P,G);return R(f(Ie),X)?[[pe,fe],[ke,ne]]:[[Ie,ne],[ue,fe]]}function v(N,U){for(var q=0;q<N.length;q++)N[q].push(...Array(U-N[q].length).fill(0));for(var P=N.length;P<U;P++)N.push(Array(U).fill(0)),N[P][P]=1;return N}function S(N,U){for(var q=[],P=0;P<U;P++)q[P]=Array(U).fill(0);var G=0;for(var Z of N){for(var X=Z.length,he=0;he<X;he++)for(var V=0;V<X;V++)q[G+he][G+V]=Z[he][V];G+=X}return q}function y(N,U,q){for(var P=0;P<N.length;P++)if(q(N[P],U))return P;return-1}function M(N,U,q,P,G){for(var Z=G==="BigNumber"?l(1e3):1e3,X,he=0;X=D(U,q,G),X=g(N,X),!C(E(X),Z);)if(++he>=5)return null;for(he=0;;){var V=g(N,X);if(R(E(k(X,[V])),P))break;if(++he>=10)return null;X=d(V)}return X}function D(N,U,q){var P=q==="BigNumber",G=q==="Complex",Z=Array(N).fill(0).map(X=>2*Math.random()-1);return P&&(Z=Z.map(X=>l(X))),G&&(Z=Z.map(X=>I(X))),Z=k(Z,U),d(Z,q)}function k(N,U){for(var q of U)N=r(N,a(s(F(q,N),F(q,q)),q));return N}function E(N){return f(u(F(N,N)))}function d(N,U){var q=U==="BigNumber",P=U==="Complex",G=q?l(1):P?I(1):1;return a(s(G,E(N)),N)}return z}var iLe=te(()=>{w();_();dn()});function aLe(t){var{config:e,addScalar:r,subtract:n,abs:a,atan:o,cos:s,sin:u,multiplyScalar:f,inv:l,bignumber:c,multiply:h,add:m}=t;function g(T,p){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,S=arguments.length>3?arguments[3]:void 0;if(S==="number")return b(T,v);if(S==="BigNumber")return A(T,v);throw TypeError("Unsupported data type: "+S)}function b(T,p){for(var v=T.length,S=Math.abs(p/v),y,M=new Array(v),D=0;D<v;D++)M[D]=W(v,0),M[D][D]=1;for(var k=B(T);Math.abs(k[1])>=Math.abs(S);){var E=k[0][0],d=k[0][1];y=I(T[E][E],T[d][d],T[E][d]),T=z(T,y,E,d),M=R(M,y,E,d),k=B(T)}for(var N=W(v,0),U=0;U<v;U++)N[U]=T[U][U];return j(tr(N),tr(M))}function A(T,p){for(var v=T.length,S=a(p/v),y,M=new Array(v),D=0;D<v;D++)M[D]=W(v,0),M[D][D]=1;for(var k=$(T);a(k[1])>=a(S);){var E=k[0][0],d=k[0][1];y=C(T[E][E],T[d][d],T[E][d]),T=F(T,y,E,d),M=O(M,y,E,d),k=$(T)}for(var N=W(v,0),U=0;U<v;U++)N[U]=T[U][U];return j(tr(N),tr(M))}function I(T,p,v){var S=p-T;return Math.abs(S)<=e.epsilon?Math.PI/4:.5*Math.atan(2*v/(p-T))}function C(T,p,v){var S=n(p,T);return a(S)<=e.epsilon?c(-1).acos().div(4):f(.5,o(h(2,v,l(S))))}function R(T,p,v,S){for(var y=T.length,M=Math.cos(p),D=Math.sin(p),k=W(y,0),E=W(y,0),d=0;d<y;d++)k[d]=M*T[d][v]-D*T[d][S],E[d]=D*T[d][v]+M*T[d][S];for(var N=0;N<y;N++)T[N][v]=k[N],T[N][S]=E[N];return T}function O(T,p,v,S){for(var y=T.length,M=s(p),D=u(p),k=W(y,c(0)),E=W(y,c(0)),d=0;d<y;d++)k[d]=n(f(M,T[d][v]),f(D,T[d][S])),E[d]=r(f(D,T[d][v]),f(M,T[d][S]));for(var N=0;N<y;N++)T[N][v]=k[N],T[N][S]=E[N];return T}function F(T,p,v,S){for(var y=T.length,M=c(s(p)),D=c(u(p)),k=f(M,M),E=f(D,D),d=W(y,c(0)),N=W(y,c(0)),U=h(c(2),M,D,T[v][S]),q=r(n(f(k,T[v][v]),U),f(E,T[S][S])),P=m(f(E,T[v][v]),U,f(k,T[S][S])),G=0;G<y;G++)d[G]=n(f(M,T[v][G]),f(D,T[S][G])),N[G]=r(f(D,T[v][G]),f(M,T[S][G]));T[v][v]=q,T[S][S]=P,T[v][S]=c(0),T[S][v]=c(0);for(var Z=0;Z<y;Z++)Z!==v&&Z!==S&&(T[v][Z]=d[Z],T[Z][v]=d[Z],T[S][Z]=N[Z],T[Z][S]=N[Z]);return T}function z(T,p,v,S){for(var y=T.length,M=Math.cos(p),D=Math.sin(p),k=M*M,E=D*D,d=W(y,0),N=W(y,0),U=k*T[v][v]-2*M*D*T[v][S]+E*T[S][S],q=E*T[v][v]+2*M*D*T[v][S]+k*T[S][S],P=0;P<y;P++)d[P]=M*T[v][P]-D*T[S][P],N[P]=D*T[v][P]+M*T[S][P];T[v][v]=U,T[S][S]=q,T[v][S]=0,T[S][v]=0;for(var G=0;G<y;G++)G!==v&&G!==S&&(T[v][G]=d[G],T[G][v]=d[G],T[S][G]=N[G],T[G][S]=N[G]);return T}function B(T){for(var p=T.length,v=0,S=[0,1],y=0;y<p;y++)for(var M=y+1;M<p;M++)Math.abs(v)<Math.abs(T[y][M])&&(v=Math.abs(T[y][M]),S=[y,M]);return[S,v]}function $(T){for(var p=T.length,v=0,S=[0,1],y=0;y<p;y++)for(var M=y+1;M<p;M++)a(v)<a(T[y][M])&&(v=a(T[y][M]),S=[y,M]);return[S,v]}function j(T,p){for(var v=T.length,S=Array(v),y=Array(v),M=0;M<v;M++)y[M]=Array(v);for(var D=0;D<v;D++){for(var k=0,E=T[0],d=0;d<T.length;d++)a(T[d])<a(E)&&(k=d,E=T[k]);S[D]=T.splice(k,1)[0];for(var N=0;N<v;N++)y[N][D]=p[N][k],p[N].splice(k,1)}return{values:S,vectors:y}}function W(T,p){for(var v=new Array(T),S=0;S<T;S++)v[S]=p;return v}return g}var oLe=te(()=>{w();_();dn()});var bKt,wKt,VW,sLe=te(()=>{w();_();Fe();xi();iLe();oLe();zt();bKt="eigs",wKt=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],VW=ae(bKt,wKt,t=>{var{config:e,typed:r,matrix:n,addScalar:a,subtract:o,equal:s,abs:u,atan:f,cos:l,sin:c,multiplyScalar:h,divideScalar:m,inv:g,bignumber:b,multiply:A,add:I,larger:C,column:R,flatten:O,number:F,complex:z,sqrt:B,diag:$,qr:j,usolve:W,usolveAll:T,im:p,re:v,smaller:S,matrixFromColumns:y,dot:M}=t,D=aLe({config:e,addScalar:a,subtract:o,column:R,flatten:O,equal:s,abs:u,atan:f,cos:l,sin:c,multiplyScalar:h,inv:g,bignumber:b,complex:z,multiply:A,add:I}),k=nLe({config:e,addScalar:a,subtract:o,multiply:A,multiplyScalar:h,flatten:O,divideScalar:m,sqrt:B,abs:u,bignumber:b,diag:$,qr:j,inv:g,usolve:W,usolveAll:T,equal:s,complex:z,larger:C,smaller:S,matrixFromColumns:y,dot:M});return r("eigs",{Array:function(G){var Z=n(G);return E(Z)},"Array, number|BigNumber":function(G,Z){var X=n(G);return E(X,Z)},Matrix:function(G){var{values:Z,vectors:X}=E(G);return{values:n(Z),vectors:n(X)}},"Matrix, number|BigNumber":function(G,Z){var{values:X,vectors:he}=E(G,Z);return{values:n(X),vectors:n(he)}}});function E(P,G){G===void 0&&(G=e.epsilon);var Z=P.size();if(Z.length!==2||Z[0]!==Z[1])throw new RangeError("Matrix must be square (size: "+mr(Z)+")");var X=P.toArray(),he=Z[0];if(N(X,he,G)&&(U(X,he),d(X,he,G))){var V=q(P,X,he);return D(X,he,G,V)}var K=q(P,X,he);return k(X,he,G,K)}function d(P,G,Z){for(var X=0;X<G;X++)for(var he=X;he<G;he++)if(C(b(u(o(P[X][he],P[he][X]))),Z))return!1;return!0}function N(P,G,Z){for(var X=0;X<G;X++)for(var he=0;he<G;he++)if(C(b(u(p(P[X][he]))),Z))return!1;return!0}function U(P,G){for(var Z=0;Z<G;Z++)for(var X=0;X<G;X++)P[Z][X]=v(P[Z][X])}function q(P,G,Z){var X=P.datatype();if(X==="number"||X==="BigNumber"||X==="Complex")return X;for(var he=!1,V=!1,K=!1,ne=0;ne<Z;ne++)for(var fe=0;fe<Z;fe++){var pe=G[ne][fe];if(Ar(pe)||Uc(pe))he=!0;else if(hr(pe))V=!0;else if(Ys(pe))K=!0;else throw TypeError("Unsupported type in Matrix: "+$r(pe))}if(V&&K&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),K){for(var Ie=0;Ie<Z;Ie++)for(var ke=0;ke<Z;ke++)G[Ie][ke]=z(G[Ie][ke]);return"Complex"}if(V){for(var ue=0;ue<Z;ue++)for(var xe=0;xe<Z;xe++)G[ue][xe]=b(G[ue][xe]);return"BigNumber"}if(he){for(var ge=0;ge<Z;ge++)for(var Q=0;Q<Z;Q++)G[ge][Q]=F(G[ge][Q]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}})});var uLe,xKt,WW,fLe=te(()=>{w();_();zt();xi();Fe();uLe="expm",xKt=["typed","abs","add","identity","inv","multiply"],WW=ae(uLe,xKt,t=>{var{typed:e,abs:r,add:n,identity:a,inv:o,multiply:s}=t;return e(uLe,{Matrix:function(h){var m=h.size();if(m.length!==2||m[0]!==m[1])throw new RangeError("Matrix must be square (size: "+mr(m)+")");for(var g=m[0],b=1e-15,A=u(h),I=f(A,b),C=I.q,R=I.j,O=s(h,Math.pow(2,-R)),F=a(g),z=a(g),B=1,$=O,j=-1,W=1;W<=C;W++)W>1&&($=s($,O),j=-j),B=B*(C-W+1)/((2*C-W+1)*W),F=n(F,s(B,$)),z=n(z,s(B*j,$));for(var T=s(o(z),F),p=0;p<R;p++)T=s(T,T);return ql(h)?h.createSparseMatrix(T):T}});function u(c){for(var h=c.size()[0],m=0,g=0;g<h;g++){for(var b=0,A=0;A<h;A++)b+=r(c.get([g,A]));m=Math.max(b,m)}return m}function f(c,h){for(var m=30,g=0;g<m;g++)for(var b=0;b<=g;b++){var A=g-b;if(l(c,b,A)<h)return{q:b,j:A}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function l(c,h,m){for(var g=1,b=2;b<=h;b++)g*=b;for(var A=g,I=h+1;I<=2*h;I++)A*=I;var C=A*(2*h+1);return 8*Math.pow(c/Math.pow(2,m),2*h)*g*g/(A*C)}})});var lLe,_Kt,GW,cLe=te(()=>{w();_();zt();xi();wr();Fe();lLe="sqrtm",_Kt=["typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity"],GW=ae(lLe,_Kt,t=>{var{typed:e,abs:r,add:n,multiply:a,sqrt:o,subtract:s,inv:u,size:f,max:l,identity:c}=t,h=1e3,m=1e-6;function g(b){var A,I=0,C=b,R=c(f(b));do{var O=C;if(C=a(.5,n(O,u(R))),R=a(.5,n(R,u(O))),A=l(r(s(C,O))),A>m&&++I>h)throw new Error("computing square root of matrix: iterative method could not converge")}while(A>m);return C}return e(lLe,{"Array | Matrix":function(A){var I=Kt(A)?A.size():vr(A);switch(I.length){case 1:if(I[0]===1)return o(A);throw new RangeError("Matrix must be square (size: "+mr(I)+")");case 2:{var C=I[0],R=I[1];if(C===R)return g(A);throw new RangeError("Matrix must be square (size: "+mr(I)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+mr(I)+")")}}})})});var SKt,EKt,HW,hLe=te(()=>{w();_();Fe();dn();ko();Tn();SKt="divide",EKt=["typed","matrix","multiply","equalScalar","divideScalar","inv"],HW=ae(SKt,EKt,t=>{var{typed:e,matrix:r,multiply:n,equalScalar:a,divideScalar:o,inv:s}=t,u=Bn({typed:e,equalScalar:a}),f=or({typed:e});return e("divide",lw({"Array | Matrix, Array | Matrix":function(c,h){return n(c,s(h))},"DenseMatrix, any":function(c,h){return f(c,h,o,!1)},"SparseMatrix, any":function(c,h){return u(c,h,o,!1)},"Array, any":function(c,h){return f(r(c),h,o,!1).valueOf()},"any, Array | Matrix":function(c,h){return n(c,s(h))}},o.signatures))})});var pLe,MKt,KW,dLe=te(()=>{w();_();zt();Fe();pLe="distance",MKt=["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],KW=ae(pLe,MKt,t=>{var{typed:e,addScalar:r,subtract:n,multiplyScalar:a,divideScalar:o,unaryMinus:s,sqrt:u,abs:f}=t;return e(pLe,{"Array, Array, Array":function(z,B,$){if(z.length===2&&B.length===2&&$.length===2){if(!c(z))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(B))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c($))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var j=o(n($[1],$[0]),n(B[1],B[0])),W=a(a(j,j),B[0]),T=s(a(j,B[0])),p=z[1];return I(z[0],z[1],W,T,p)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(z,B,$){if(Object.keys(z).length===2&&Object.keys(B).length===2&&Object.keys($).length===2){if(!c(z))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(B))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c($))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in z&&"pointY"in z&&"lineOnePtX"in B&&"lineOnePtY"in B&&"lineTwoPtX"in $&&"lineTwoPtY"in $){var j=o(n($.lineTwoPtY,$.lineTwoPtX),n(B.lineOnePtY,B.lineOnePtX)),W=a(a(j,j),B.lineOnePtX),T=s(a(j,B.lineOnePtX)),p=z.pointX;return I(z.pointX,z.pointY,W,T,p)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(z,B){if(z.length===2&&B.length===3){if(!c(z))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!h(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return I(z[0],z[1],B[0],B[1],B[2])}else if(z.length===3&&B.length===6){if(!h(z))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!g(B))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return C(z[0],z[1],z[2],B[0],B[1],B[2],B[3],B[4],B[5])}else if(z.length===B.length&&z.length>0){if(!m(z))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!m(B))throw new TypeError("All values of an array should be numbers or BigNumbers");return R(z,B)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(z,B){if(Object.keys(z).length===2&&Object.keys(B).length===3){if(!c(z))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!h(B))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in z&&"pointY"in z&&"xCoeffLine"in B&&"yCoeffLine"in B&&"constant"in B)return I(z.pointX,z.pointY,B.xCoeffLine,B.yCoeffLine,B.constant);throw new TypeError("Key names do not match")}else if(Object.keys(z).length===3&&Object.keys(B).length===6){if(!h(z))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!g(B))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in z&&"pointY"in z&&"x0"in B&&"y0"in B&&"z0"in B&&"a"in B&&"b"in B&&"c"in B)return C(z.pointX,z.pointY,z.pointZ,B.x0,B.y0,B.z0,B.a,B.b,B.c);throw new TypeError("Key names do not match")}else if(Object.keys(z).length===2&&Object.keys(B).length===2){if(!c(z))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(B))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in z&&"pointOneY"in z&&"pointTwoX"in B&&"pointTwoY"in B)return R([z.pointOneX,z.pointOneY],[B.pointTwoX,B.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(z).length===3&&Object.keys(B).length===3){if(!h(z))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!h(B))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in z&&"pointOneY"in z&&"pointOneZ"in z&&"pointTwoX"in B&&"pointTwoY"in B&&"pointTwoZ"in B)return R([z.pointOneX,z.pointOneY,z.pointOneZ],[B.pointTwoX,B.pointTwoY,B.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(z){if(!A(z))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return O(z)}});function l(F){return typeof F=="number"||hr(F)}function c(F){return F.constructor!==Array&&(F=b(F)),l(F[0])&&l(F[1])}function h(F){return F.constructor!==Array&&(F=b(F)),l(F[0])&&l(F[1])&&l(F[2])}function m(F){return Array.isArray(F)||(F=b(F)),F.every(l)}function g(F){return F.constructor!==Array&&(F=b(F)),l(F[0])&&l(F[1])&&l(F[2])&&l(F[3])&&l(F[4])&&l(F[5])}function b(F){for(var z=Object.keys(F),B=[],$=0;$<z.length;$++)B.push(F[z[$]]);return B}function A(F){if(F[0].length===2&&l(F[0][0])&&l(F[0][1])){if(F.some(z=>z.length!==2||!l(z[0])||!l(z[1])))return!1}else if(F[0].length===3&&l(F[0][0])&&l(F[0][1])&&l(F[0][2])){if(F.some(z=>z.length!==3||!l(z[0])||!l(z[1])||!l(z[2])))return!1}else return!1;return!0}function I(F,z,B,$,j){var W=f(r(r(a(B,F),a($,z)),j)),T=u(r(a(B,B),a($,$)));return o(W,T)}function C(F,z,B,$,j,W,T,p,v){var S=[n(a(n(j,z),v),a(n(W,B),p)),n(a(n(W,B),T),a(n($,F),v)),n(a(n($,F),p),a(n(j,z),T))];S=u(r(r(a(S[0],S[0]),a(S[1],S[1])),a(S[2],S[2])));var y=u(r(r(a(T,T),a(p,p)),a(v,v)));return o(S,y)}function R(F,z){for(var B=F.length,$=0,j=0,W=0;W<B;W++)j=n(F[W],z[W]),$=r(a(j,j),$);return u($)}function O(F){for(var z=[],B=[],$=[],j=0;j<F.length-1;j++)for(var W=j+1;W<F.length;W++)F[0].length===2?(B=[F[j][0],F[j][1]],$=[F[W][0],F[W][1]]):F[0].length===3&&(B=[F[j][0],F[j][1],F[j][2]],$=[F[W][0],F[W][1],F[W][2]]),z.push(R(B,$));return z}})});var AKt,NKt,ZW,mLe=te(()=>{w();_();Fe();AKt="intersect",NKt=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],ZW=ae(AKt,NKt,t=>{var{typed:e,config:r,abs:n,add:a,addScalar:o,matrix:s,multiply:u,multiplyScalar:f,divideScalar:l,subtract:c,smaller:h,equalScalar:m,flatten:g,isZero:b,isNumeric:A}=t;return e("intersect",{"Array, Array, Array":I,"Array, Array, Array, Array":C,"Matrix, Matrix, Matrix":function(p,v,S){var y=I(p.valueOf(),v.valueOf(),S.valueOf());return y===null?null:s(y)},"Matrix, Matrix, Matrix, Matrix":function(p,v,S,y){var M=C(p.valueOf(),v.valueOf(),S.valueOf(),y.valueOf());return M===null?null:s(M)}});function I(T,p,v){if(T=R(T),p=R(p),v=R(v),!F(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!F(p))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!z(v))throw new TypeError("Array with 4 numbers expected as third argument");return W(T[0],T[1],T[2],p[0],p[1],p[2],v[0],v[1],v[2],v[3])}function C(T,p,v,S){if(T=R(T),p=R(p),v=R(v),S=R(S),T.length===2){if(!O(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!O(p))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!O(v))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!O(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return B(T,p,v,S)}else if(T.length===3){if(!F(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!F(p))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!F(v))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!F(S))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return j(T[0],T[1],T[2],p[0],p[1],p[2],v[0],v[1],v[2],S[0],S[1],S[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function R(T){return T.length===1?T[0]:T.length>1&&Array.isArray(T[0])&&T.every(p=>Array.isArray(p)&&p.length===1)?g(T):T}function O(T){return T.length===2&&A(T[0])&&A(T[1])}function F(T){return T.length===3&&A(T[0])&&A(T[1])&&A(T[2])}function z(T){return T.length===4&&A(T[0])&&A(T[1])&&A(T[2])&&A(T[3])}function B(T,p,v,S){var y=T,M=v,D=c(y,p),k=c(M,S),E=c(f(D[0],k[1]),f(k[0],D[1]));if(b(E)||h(n(E),r.epsilon))return null;var d=f(k[0],y[1]),N=f(k[1],y[0]),U=f(k[0],M[1]),q=f(k[1],M[0]),P=l(o(c(c(d,N),U),q),E);return a(u(D,P),y)}function $(T,p,v,S,y,M,D,k,E,d,N,U){var q=f(c(T,p),c(v,S)),P=f(c(y,M),c(D,k)),G=f(c(E,d),c(N,U));return o(o(q,P),G)}function j(T,p,v,S,y,M,D,k,E,d,N,U){var q=$(T,D,d,D,p,k,N,k,v,E,U,E),P=$(d,D,S,T,N,k,y,p,U,E,M,v),G=$(T,D,S,T,p,k,y,p,v,E,M,v),Z=$(d,D,d,D,N,k,N,k,U,E,U,E),X=$(S,T,S,T,y,p,y,p,M,v,M,v),he=c(f(q,P),f(G,Z)),V=c(f(X,Z),f(P,P));if(b(V))return null;var K=l(he,V),ne=l(o(q,f(K,P)),Z),fe=o(T,f(K,c(S,T))),pe=o(p,f(K,c(y,p))),Ie=o(v,f(K,c(M,v))),ke=o(D,f(ne,c(d,D))),ue=o(k,f(ne,c(N,k))),xe=o(E,f(ne,c(U,E)));return m(fe,ke)&&m(pe,ue)&&m(Ie,xe)?[fe,pe,Ie]:null}function W(T,p,v,S,y,M,D,k,E,d){var N=f(T,D),U=f(S,D),q=f(p,k),P=f(y,k),G=f(v,E),Z=f(M,E),X=c(c(c(d,N),q),G),he=c(c(c(o(o(U,P),Z),N),q),G),V=l(X,he),K=o(T,f(V,c(S,T))),ne=o(p,f(V,c(y,p))),fe=o(v,f(V,c(M,v)));return[K,ne,fe]}})});var vLe,TKt,kE,JW=te(()=>{w();_();Zt();Fe();Wc();vLe="sum",TKt=["typed","config","add","numeric"],kE=ae(vLe,TKt,t=>{var{typed:e,config:r,add:n,numeric:a}=t;return e(vLe,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":s,"...":function(f){if(Kf(f))throw new TypeError("Scalar values expected in function sum");return o(f)}});function o(u){var f;return ls(u,function(l){try{f=f===void 0?l:n(f,l)}catch(c){throw ua(c,"sum",l)}}),f===void 0&&(f=a(0,r.number)),typeof f=="string"&&(f=a(f,r.number)),f}function s(u,f){try{var l=Wd(u,f,n);return l}catch(c){throw ua(c,"sum")}}})});var wI,DKt,IE,YW=te(()=>{w();_();Zt();Fe();Az();Wc();wr();Nv();wI="cumsum",DKt=["typed","add","unaryPlus"],IE=ae(wI,DKt,t=>{var{typed:e,add:r,unaryPlus:n}=t;return e(wI,{Array:a,Matrix:function(l){return l.create(a(l.valueOf()))},"Array, number | BigNumber":s,"Matrix, number | BigNumber":function(l,c){return l.create(s(l.valueOf(),c))},"...":function(l){if(Kf(l))throw new TypeError("All values expected to be scalar in function cumsum");return a(l)}});function a(f){try{return o(f)}catch(l){throw ua(l,wI)}}function o(f){if(f.length===0)return[];for(var l=[n(f[0])],c=1;c<f.length;++c)l.push(r(l[c-1],f[c]));return l}function s(f,l){var c=vr(f);if(l<0||l>=c.length)throw new jo(l,c.length);try{return u(f,l)}catch(h){throw ua(h,wI)}}function u(f,l){var c,h,m;if(l<=0){var g=f[0][0];if(Array.isArray(g)){for(m=Yk(f),h=[],c=0;c<m.length;c++)h[c]=u(m[c],l-1);return h}else return o(f)}else{for(h=[],c=0;c<f.length;c++)h[c]=u(f[c],l-1);return h}}})});var gLe,kKt,CE,XW=te(()=>{w();_();Zt();wr();Fe();Wc();gLe="mean",kKt=["typed","add","divide"],CE=ae(gLe,kKt,t=>{var{typed:e,add:r,divide:n}=t;return e(gLe,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":a,"...":function(u){if(Kf(u))throw new TypeError("Scalar values expected in function mean");return o(u)}});function a(s,u){try{var f=Wd(s,u,r),l=Array.isArray(s)?vr(s):s.size();return n(f,l[u])}catch(c){throw ua(c,"mean")}}function o(s){var u,f=0;if(ls(s,function(l){try{u=u===void 0?l:r(u,l),f++}catch(c){throw ua(c,"mean",l)}}),f===0)throw new Error("Cannot calculate the mean of an empty array");return n(u,f)}})});var yLe,IKt,QW,bLe=te(()=>{w();_();Zt();wr();Fe();Wc();yLe="median",IKt=["typed","add","divide","compare","partitionSelect"],QW=ae(yLe,IKt,t=>{var{typed:e,add:r,divide:n,compare:a,partitionSelect:o}=t;function s(l){try{l=Tr(l.valueOf());var c=l.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var h=c/2-1,m=o(l,h+1),g=l[h],b=0;b<h;++b)a(l[b],g)>0&&(g=l[b]);return f(g,m)}else{var A=o(l,(c-1)/2);return u(A)}}catch(I){throw ua(I,"median")}}var u=e({"number | BigNumber | Complex | Unit":function(c){return c}}),f=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,h){return n(r(c,h),2)}});return e(yLe,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(c,h){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(Kf(c))throw new TypeError("Scalar values expected in function median");return s(c)}})})});var wLe,CKt,eG,xLe=te(()=>{w();_();wr();Fe();Wc();wLe="mad",CKt=["typed","abs","map","median","subtract"],eG=ae(wLe,CKt,t=>{var{typed:e,abs:r,map:n,median:a,subtract:o}=t;return e(wLe,{"Array | Matrix":s,"...":function(f){return s(f)}});function s(u){if(u=Tr(u.valueOf()),u.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var f=a(u);return a(n(u,function(l){return r(o(l,f))}))}catch(l){throw l instanceof TypeError&&l.message.indexOf("median")!==-1?new TypeError(l.message.replace("median","mad")):ua(l,"mad")}}})});var tG,_Le,OKt,OE,rG=te(()=>{w();_();Zt();zt();Fe();Wc();tG="unbiased",_Le="variance",OKt=["typed","add","subtract","multiply","divide","apply","isNaN"],OE=ae(_Le,OKt,t=>{var{typed:e,add:r,subtract:n,multiply:a,divide:o,apply:s,isNaN:u}=t;return e(_Le,{"Array | Matrix":function(h){return f(h,tG)},"Array | Matrix, string":f,"Array | Matrix, number | BigNumber":function(h,m){return l(h,m,tG)},"Array | Matrix, number | BigNumber, string":l,"...":function(h){return f(h,tG)}});function f(c,h){var m,g=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(ls(c,function(I){try{m=m===void 0?I:r(m,I),g++}catch(C){throw ua(C,"variance",I)}}),g===0)throw new Error("Cannot calculate variance of an empty array");var b=o(m,g);if(m=void 0,ls(c,function(I){var C=n(I,b);m=m===void 0?a(C,C):r(m,a(C,C))}),u(m))return m;switch(h){case"uncorrected":return o(m,g);case"biased":return o(m,g+1);case"unbiased":{var A=hr(m)?m.mul(0):0;return g===1?A:o(m,g-1)}default:throw new Error('Unknown normalization "'+h+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function l(c,h,m){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return s(c,h,g=>f(g,m))}catch(g){throw ua(g,"variance")}}})});var RKt,FKt,nG,SLe=te(()=>{w();_();zt();zr();wr();Fe();RKt="quantileSeq",FKt=["typed","add","multiply","partitionSelect","compare"],nG=ae(RKt,FKt,t=>{var{typed:e,add:r,multiply:n,partitionSelect:a,compare:o}=t;function s(l,c,h){var m,g,b;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(Wf(l)){if(h=h||!1,typeof h=="boolean"){if(g=l.valueOf(),Ar(c)){if(c<0)throw new Error("N/prob must be non-negative");if(c<=1)return u(g,c,h);if(c>1){if(!Ut(c))throw new Error("N must be a positive integer");var A=c+1;m=new Array(c);for(var I=0;I<c;)m[I]=u(g,++I/A,h);return m}}if(hr(c)){var C=c.constructor;if(c.isNegative())throw new Error("N/prob must be non-negative");if(b=new C(1),c.lte(b))return new C(u(g,c,h));if(c.gt(b)){if(!c.isInteger())throw new Error("N must be a positive integer");var R=c.toNumber();if(R>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var O=new C(R+1);m=new Array(R);for(var F=0;F<R;)m[F]=new C(u(g,new C(++F).div(O),h));return m}}if(Array.isArray(c)){m=new Array(c.length);for(var z=0;z<m.length;++z){var B=c[z];if(Ar(B)){if(B<0||B>1)throw new Error("Probability must be between 0 and 1, inclusive")}else if(hr(B)){if(b=new B.constructor(1),B.isNegative()||B.gt(b))throw new Error("Probability must be between 0 and 1, inclusive")}else throw new TypeError("Unexpected type of argument in function quantileSeq");m[z]=u(g,B,h)}return m}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}function u(l,c,h){var m=Tr(l),g=m.length;if(g===0)throw new Error("Cannot calculate quantile of an empty sequence");if(Ar(c)){var b=c*(g-1),A=b%1;if(A===0){var I=h?m[b]:a(m,b);return f(I),I}var C=Math.floor(b),R,O;if(h)R=m[C],O=m[C+1];else{O=a(m,C+1),R=m[C];for(var F=0;F<C;++F)o(m[F],R)>0&&(R=m[F])}return f(R),f(O),r(n(R,1-A),n(O,A))}var z=c.times(g-1);if(z.isInteger()){z=z.toNumber();var B=h?m[z]:a(m,z);return f(B),B}var $=z.floor(),j=z.minus($),W=$.toNumber(),T,p;if(h)T=m[W],p=m[W+1];else{p=a(m,W+1),T=m[W];for(var v=0;v<W;++v)o(m[v],T)>0&&(T=m[v])}f(T),f(p);var S=new j.constructor(1);return r(n(T,S.minus(j)),n(p,j))}var f=e({"number | BigNumber | Unit":function(c){return c}});return s})});var ELe,BKt,RE,iG=te(()=>{w();_();Fe();ELe="std",BKt=["typed","sqrt","variance"],RE=ae(ELe,BKt,t=>{var{typed:e,sqrt:r,variance:n}=t;return e(ELe,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(s){return a(s)}});function a(o,s){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return r(n.apply(null,arguments))}catch(u){throw u instanceof TypeError&&u.message.indexOf(" variance")!==-1?new TypeError(u.message.replace(" variance"," std")):u}}})});function ALe(t){return t.isInteger()&&t.gte(0)}var MLe,LKt,aG,NLe=te(()=>{w();_();Fe();tU();MLe="combinations",LKt=["typed"],aG=ae(MLe,LKt,t=>{var{typed:e}=t;return e(MLe,{"number, number":eU,"BigNumber, BigNumber":function(n,a){var o=n.constructor,s,u,f=n.minus(a),l=new o(1);if(!ALe(n)||!ALe(a))throw new TypeError("Positive integer value expected in function combinations");if(a.gt(n))throw new TypeError("k must be less than n in function combinations");if(s=l,a.lt(f))for(u=l;u.lte(f);u=u.plus(l))s=s.times(a.plus(u)).dividedBy(u);else for(u=l;u.lte(a);u=u.plus(l))s=s.times(f.plus(u)).dividedBy(u);return s}})})});function DLe(t){return t.isInteger()&&t.gte(0)}var TLe,PKt,oG,kLe=te(()=>{w();_();Fe();zr();hE();TLe="combinationsWithRep",PKt=["typed"],oG=ae(TLe,PKt,t=>{var{typed:e}=t;return e(TLe,{"number, number":function(n,a){if(!Ut(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Ut(a)||a<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(a<n-1){var o=Au(n,n+a-1);return o/Au(1,a)}var s=Au(a+1,n+a-1);return s/Au(1,n-1)},"BigNumber, BigNumber":function(n,a){var o=n.constructor,s,u,f=new o(1),l=n.minus(f);if(!DLe(n)||!DLe(a))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(f))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(s=f,a.lt(l))for(u=f;u.lte(l);u=u.plus(f))s=s.times(a.plus(u)).dividedBy(u);else for(u=f;u.lte(a);u=u.plus(f))s=s.times(l.plus(u)).dividedBy(u);return s}})})});var ILe,qKt,sG,CLe=te(()=>{w();_();Zt();Fe();Sr();ILe="gamma",qKt=["typed","config","multiplyScalar","pow","BigNumber","Complex"],sG=ae(ILe,qKt,t=>{var{typed:e,config:r,multiplyScalar:n,pow:a,BigNumber:o,Complex:s}=t;return e(ILe,{number:eI,Complex:function(l){if(l.im===0)return this(l.re);if(l.re<.5){var c=new s(1-l.re,-l.im),h=new s(Math.PI*l.re,Math.PI*l.im);return new s(Math.PI).div(h.sin()).div(this(c))}l=new s(l.re-1,l.im);for(var m=new s(Dv[0],0),g=1;g<Dv.length;++g){var b=new s(Dv[g],0);m=m.add(b.div(l.add(g)))}var A=new s(l.re+sU+.5,l.im),I=Math.sqrt(2*Math.PI),C=A.pow(l.add(.5)),R=A.neg().exp();return m.mul(I).mul(C).mul(R)},BigNumber:function(l){if(l.isInteger())return l.isNegative()||l.isZero()?new o(1/0):u(l.minus(1));if(!l.isFinite())return new o(l.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(l){return Et(l,this)}});function u(f){if(f<8)return new o([1,1,2,6,24,120,720,5040][f]);var l=r.precision+(Math.log(f.toNumber())|0),c=o.clone({precision:l});if(f%2===1)return f.times(u(new o(f-1)));for(var h=f,m=new c(f),g=f.toNumber();h>2;)h-=2,g+=h,m=m.times(g);return new o(m.toPrecision(o.precision))}})});var OLe,zKt,uG,RLe=te(()=>{w();_();Sr();Fe();zr();OLe="lgamma",zKt=["Complex","typed"],uG=ae(OLe,zKt,t=>{var{Complex:e,typed:r}=t,n=7,a=7,o=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return r(OLe,{number:pE,Complex:function(l){var c=6.283185307179586,h=1.1447298858494002,m=.1;if(l.isNaN())return new e(NaN,NaN);if(l.im===0)return new e(pE(l.re),0);if(l.re>=n||Math.abs(l.im)>=a)return s(l);if(l.re<=m){var g=GAe(c,l.im)*Math.floor(.5*l.re+.25),b=l.mul(Math.PI).sin().log(),A=this(new e(1-l.re,-l.im));return new e(h,g).sub(b).sub(A)}else return l.im>=0?u(l):u(l.conjugate()).conjugate()},BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function s(f){for(var l=f.sub(.5).mul(f.log()).sub(f).add(uU),c=new e(1,0).div(f),h=c.div(f),m=o[0],g=o[1],b=2*h.re,A=h.re*h.re+h.im*h.im,I=2;I<8;I++){var C=g;g=-A*m+o[I],m=b*m+C}var R=c.mul(h.mul(m).add(g));return l.add(R)}function u(f){var l=0,c=0,h=f;for(f=f.add(1);f.re<=n;){h=h.mul(f);var m=h.im<0?1:0;m!==0&&c===0&&l++,c=m,f=f.add(1)}return s(f).sub(h.log()).sub(new e(0,l*2*Math.PI*1))}})});var FLe,UKt,fG,BLe=te(()=>{w();_();Zt();Fe();FLe="factorial",UKt=["typed","gamma"],fG=ae(FLe,UKt,t=>{var{typed:e,gamma:r}=t;return e(FLe,{number:function(a){if(a<0)throw new Error("Value must be non-negative");return r(a+1)},BigNumber:function(a){if(a.isNegative())throw new Error("Value must be non-negative");return r(a.plus(1))},"Array | Matrix":function(a){return Et(a,this)}})})});var LLe,jKt,lG,PLe=te(()=>{w();_();Fe();LLe="kldivergence",jKt=["typed","matrix","divide","sum","multiply","dotDivide","log","isNumeric"],lG=ae(LLe,jKt,t=>{var{typed:e,matrix:r,divide:n,sum:a,multiply:o,dotDivide:s,log:u,isNumeric:f}=t;return e(LLe,{"Array, Array":function(h,m){return l(r(h),r(m))},"Matrix, Array":function(h,m){return l(h,r(m))},"Array, Matrix":function(h,m){return l(r(h),m)},"Matrix, Matrix":function(h,m){return l(h,m)}});function l(c,h){var m=h.size().length,g=c.size().length;if(m>1)throw new Error("first object must be one dimensional");if(g>1)throw new Error("second object must be one dimensional");if(m!==g)throw new Error("Length of two vectors must be equal");var b=a(c);if(b===0)throw new Error("Sum of elements in first object must be non zero");var A=a(h);if(A===0)throw new Error("Sum of elements in second object must be non zero");var I=n(c,a(c)),C=n(h,a(h)),R=a(o(I,u(s(I,C))));return f(R)?R:Number.NaN}})});var qLe,$Kt,cG,zLe=te(()=>{w();_();Zt();Fe();qLe="multinomial",$Kt=["typed","add","divide","multiply","factorial","isInteger","isPositive"],cG=ae(qLe,$Kt,t=>{var{typed:e,add:r,divide:n,multiply:a,factorial:o,isInteger:s,isPositive:u}=t;return e(qLe,{"Array | Matrix":function(l){var c=0,h=1;return ls(l,function(m){if(!s(m)||!u(m))throw new TypeError("Positive integer value expected in function multinomial");c=r(c,m),h=a(h,o(m))}),n(o(c),h)}})})});function jLe(t){return t.isInteger()&&t.gte(0)}var ULe,VKt,hG,$Le=te(()=>{w();_();zr();hE();Fe();ULe="permutations",VKt=["typed","factorial"],hG=ae(ULe,VKt,t=>{var{typed:e,factorial:r}=t;return e(ULe,{"number | BigNumber":r,"number, number":function(a,o){if(!Ut(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(!Ut(o)||o<0)throw new TypeError("Positive integer value expected in function permutations");if(o>a)throw new TypeError("second argument k must be less than or equal to first argument n");return Au(a-o+1,a)},"BigNumber, BigNumber":function(a,o){var s,u;if(!jLe(a)||!jLe(o))throw new TypeError("Positive integer value expected in function permutations");if(o.gt(a))throw new TypeError("second argument k must be less than or equal to first argument n");var f=a.mul(0).add(1);for(s=f,u=a.minus(o).plus(1);u.lte(a);u=u.plus(1))s=s.times(u);return s}})})});function mp(t){var e;function r(a){e=a===null?WKt:(0,pG.default)(String(a))}r(t);function n(){return e()}return n}var pG,WKt,xI=te(()=>{w();_();pG=Bt(c1e(),1),WKt=(0,pG.default)(Date.now())});var VLe,GKt,dG,WLe=te(()=>{w();_();wr();Fe();zt();xI();VLe="pickRandom",GKt=["typed","config","?on"],dG=ae(VLe,GKt,t=>{var{typed:e,config:r,on:n}=t,a=mp(r.randomSeed);return n&&n("config",function(s,u){s.randomSeed!==u.randomSeed&&(a=mp(s.randomSeed))}),e(VLe,{"Array | Matrix":function(u){return o(u,{})},"Array | Matrix, Object":function(u,f){return o(u,f)},"Array | Matrix, number":function(u,f){return o(u,{number:f})},"Array | Matrix, Array | Matrix":function(u,f){return o(u,{weights:f})},"Array | Matrix, Array | Matrix, number":function(u,f,l){return o(u,{number:l,weights:f})},"Array | Matrix, number, Array | Matrix":function(u,f,l){return o(u,{number:f,weights:l})}});function o(s,u){var{number:f,weights:l,elementWise:c=!0}=u,h=typeof f=="undefined";h&&(f=1);var m=Kt(s)?s.create:Kt(l)?l.create:null;s=s.valueOf(),l&&(l=l.valueOf()),c===!0&&(s=Tr(s),l=Tr(l));var g=0;if(typeof l!="undefined"){if(l.length!==s.length)throw new Error("Weights must have the same length as possibles");for(var b=0,A=l.length;b<A;b++){if(!Ar(l[b])||l[b]<0)throw new Error("Weights must be an array of positive numbers");g+=l[b]}}for(var I=s.length,C=[],R;C.length<f;){if(typeof l=="undefined")R=s[Math.floor(a()*I)];else for(var O=a()*g,F=0,z=s.length;F<z;F++)if(O-=l[F],O<0){R=s[F];break}C.push(R)}return h?C[0]:m?m(C):C}})});function FE(t,e){var r=[];if(t=t.slice(0),t.length>1)for(var n=0,a=t.shift();n<a;n++)r.push(FE(t,e));else for(var o=0,s=t.shift();o<s;o++)r.push(e());return r}var mG=te(()=>{w();_()});var GLe,HKt,vG,HLe=te(()=>{w();_();Fe();zt();xI();mG();GLe="random",HKt=["typed","config","?on"],vG=ae(GLe,HKt,t=>{var{typed:e,config:r,on:n}=t,a=mp(r.randomSeed);return n&&n("config",function(u,f){u.randomSeed!==f.randomSeed&&(a=mp(u.randomSeed))}),e(GLe,{"":()=>s(0,1),number:u=>s(0,u),"number, number":(u,f)=>s(u,f),"Array | Matrix":u=>o(u,0,1),"Array | Matrix, number":(u,f)=>o(u,0,f),"Array | Matrix, number, number":(u,f,l)=>o(u,f,l)});function o(u,f,l){var c=FE(u.valueOf(),()=>s(f,l));return Kt(u)?u.create(c):c}function s(u,f){return u+a()*(f-u)}})});var KLe,KKt,gG,ZLe=te(()=>{w();_();Fe();mG();xI();zt();KLe="randomInt",KKt=["typed","config","?on"],gG=ae(KLe,KKt,t=>{var{typed:e,config:r,on:n}=t,a=mp(r.randomSeed);return n&&n("config",function(u,f){u.randomSeed!==f.randomSeed&&(a=mp(u.randomSeed))}),e(KLe,{"":()=>s(0,1),number:u=>s(0,u),"number, number":(u,f)=>s(u,f),"Array | Matrix":u=>o(u,0,1),"Array | Matrix, number":(u,f)=>o(u,0,f),"Array | Matrix, number, number":(u,f,l)=>o(u,f,l)});function o(u,f,l){var c=FE(u.valueOf(),()=>s(f,l));return Kt(u)?u.create(c):c}function s(u,f){return Math.floor(u+a()*(f-u))}})});var JLe,ZKt,yG,YLe=te(()=>{w();_();Fe();zt();JLe="stirlingS2",ZKt=["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],yG=ae(JLe,ZKt,t=>{var{typed:e,addScalar:r,subtract:n,multiplyScalar:a,divideScalar:o,pow:s,factorial:u,combinations:f,isNegative:l,isInteger:c,number:h,bignumber:m,larger:g}=t,b=[],A=[];return e(JLe,{"number | BigNumber, number | BigNumber":function(C,R){if(!c(C)||l(C)||!c(R)||l(R))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(g(R,C))throw new TypeError("k must be less than or equal to n in function stirlingS2");var O=!(Ar(C)&&Ar(R)),F=O?A:b,z=O?m:h,B=h(C),$=h(R);if(F[B]&&F[B].length>$)return F[B][$];for(var j=0;j<=B;++j)if(F[j]||(F[j]=[z(j===0?1:0)]),j!==0)for(var W=F[j],T=F[j-1],p=W.length;p<=j&&p<=$;++p)p===j?W[p]=1:W[p]=r(a(z(p),T[p]),T[p-1]);return F[B][$]}})})});var XLe,JKt,bG,QLe=te(()=>{w();_();Fe();XLe="bellNumbers",JKt=["typed","addScalar","isNegative","isInteger","stirlingS2"],bG=ae(XLe,JKt,t=>{var{typed:e,addScalar:r,isNegative:n,isInteger:a,stirlingS2:o}=t;return e(XLe,{"number | BigNumber":function(u){if(!a(u)||n(u))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var f=0,l=0;l<=u;l++)f=r(f,o(u,l));return f}})})});var ePe,YKt,wG,tPe=te(()=>{w();_();Fe();ePe="catalan",YKt=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],wG=ae(ePe,YKt,t=>{var{typed:e,addScalar:r,divideScalar:n,multiplyScalar:a,combinations:o,isNegative:s,isInteger:u}=t;return e(ePe,{"number | BigNumber":function(l){if(!u(l)||s(l))throw new TypeError("Non-negative integer value expected in function catalan");return n(o(a(l,2),l),r(l,1))}})})});var rPe,XKt,xG,nPe=te(()=>{w();_();Fe();rPe="composition",XKt=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],xG=ae(rPe,XKt,t=>{var{typed:e,addScalar:r,combinations:n,isPositive:a,isNegative:o,isInteger:s,larger:u}=t;return e(rPe,{"number | BigNumber, number | BigNumber":function(l,c){if(!s(l)||!a(l)||!s(c)||!a(c))throw new TypeError("Positive integer value expected in function composition");if(u(c,l))throw new TypeError("k must be less than or equal to n in function composition");return n(r(l,-1),r(c,-1))}})})});var iPe,QKt,_G,aPe=te(()=>{w();_();Fe();iPe="leafCount",QKt=["parse","typed"],_G=ae(iPe,QKt,t=>{var{parse:e,typed:r}=t;function n(a){var o=0;return a.forEach(s=>{o+=n(s)}),o||1}return r(iPe,{string:function(o){return this(e(o))},Node:function(o){return n(o)}})})});function oPe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oPe(Object(r),!0).forEach(function(n){NE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oPe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var eZt,tZt,Nw,_I=te(()=>{w();_();aV();zt();Fe();dn();eZt="simplifyUtil",tZt=["FunctionNode","OperatorNode","SymbolNode"],Nw=ae(eZt,tZt,t=>{var{FunctionNode:e,OperatorNode:r,SymbolNode:n}=t,a=!0,o=!1,s="defaultF",u={add:{trivial:a,total:a,commutative:a,associative:a},unaryPlus:{trivial:a,total:a,commutative:a,associative:a},subtract:{trivial:o,total:a,commutative:o,associative:o},multiply:{trivial:a,total:a,commutative:a,associative:a},divide:{trivial:o,total:a,commutative:o,associative:o},paren:{trivial:a,total:a,commutative:a,associative:o},defaultF:{trivial:o,total:a,commutative:o,associative:o}},f={divide:{total:o},log:{total:o}},l={subtract:{total:o},abs:{trivial:a},log:{total:a}};function c(O,F){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u,B=s;if(typeof O=="string"?B=O:Ja(O)?B=O.fn.toString():Eu(O)?B=O.name:$c(O)&&(B="paren"),Jt(z,B)){var $=z[B];if(Jt($,F))return $[F];if(Jt(u,B))return u[B][F]}if(Jt(z,s)){var j=z[s];return Jt(j,F)?j[F]:u[s][F]}if(Jt(u,B)){var W=u[B];if(Jt(W,F))return W[F]}return u[s][F]}function h(O){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;return c(O,"commutative",F)}function m(O){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;return c(O,"associative",F)}function g(O,F){var z=SG({},O);for(var B in F)Jt(O,B)?z[B]=SG(SG({},F[B]),O[B]):z[B]=F[B];return z}function b(O,F){if(!O.args||O.args.length===0)return O;O.args=A(O,F);for(var z=0;z<O.args.length;z++)b(O.args[z],F)}function A(O,F){var z,B=[],$=function j(W){for(var T=0;T<W.args.length;T++){var p=W.args[T];Ja(p)&&z===p.op?j(p):B.push(p)}};return m(O,F)?(z=O.op,$(O),B):O.args}function I(O,F){if(!(!O.args||O.args.length===0)){for(var z=R(O),B=O.args.length,$=0;$<B;$++)I(O.args[$],F);if(B>2&&m(O,F)){for(var j=O.args.pop();O.args.length>0;)j=z([O.args.pop(),j]);O.args=j.args}}}function C(O,F){if(!(!O.args||O.args.length===0)){for(var z=R(O),B=O.args.length,$=0;$<B;$++)C(O.args[$],F);if(B>2&&m(O,F)){for(var j=O.args.shift();O.args.length>0;)j=z([j,O.args.shift()]);O.args=j.args}}}function R(O){return Ja(O)?function(F){try{return new r(O.op,O.fn,F,O.implicit)}catch(z){return console.error(z),[]}}:function(F){return new e(new n(O.name),F)}}return{createMakeNodeFunction:R,hasProperty:c,isCommutative:h,isAssociative:m,mergeContext:g,flatten:b,allChildren:A,unflattenr:I,unflattenl:C,defaultContext:u,realContext:f,positiveContext:l}})});var rZt,nZt,SI,EG=te(()=>{w();_();zt();Fe();_I();xE();rZt="simplifyConstant",nZt=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],SI=ae(rZt,nZt,t=>{var{typed:e,config:r,mathWithTransform:n,matrix:a,fraction:o,bignumber:s,AccessorNode:u,ArrayNode:f,ConstantNode:l,FunctionNode:c,IndexNode:h,ObjectNode:m,OperatorNode:g,SymbolNode:b}=t,{isCommutative:A,isAssociative:I,allChildren:C,createMakeNodeFunction:R}=Nw({FunctionNode:c,OperatorNode:g,SymbolNode:b});function O(M,D){return $(y(M,D))}function F(M){return Uc(M)?M.valueOf():M instanceof Array?M.map(F):Kt(M)?a(F(M.valueOf())):M}function z(M,D,k){try{return n[M].apply(null,D)}catch(E){return D=D.map(F),W(n[M].apply(null,D),k)}}var B=e({Fraction:p,number:function(D){return D<0?T(new l(-D)):new l(D)},BigNumber:function(D){return D<0?T(new l(-D)):new l(D)},Complex:function(D){throw new Error("Cannot convert Complex number to Node")},string:function(D){return new l(D)},Matrix:function(D){return new f(D.valueOf().map(k=>B(k)))}});function $(M){return Ir(M)?M:B(M)}function j(M,D){var k=D&&D.exactFractions!==!1;if(k&&isFinite(M)&&o){var E=o(M),d=D&&typeof D.fractionsLimit=="number"?D.fractionsLimit:1/0;if(E.valueOf()===M&&E.n<d&&E.d<d)return E}return M}var W=e({"string, Object":function(D,k){if(r.number==="BigNumber")return s===void 0&&xw(),s(D);if(r.number==="Fraction")return o===void 0&&sI(),o(D);var E=parseFloat(D);return j(E,k)},"Fraction, Object":function(D,k){return D},"BigNumber, Object":function(D,k){return D},"number, Object":function(D,k){return j(D,k)},"Complex, Object":function(D,k){return D.im!==0?D:j(D.re,k)},"Matrix, Object":function(D,k){return a(j(D.valueOf()))},"Array, Object":function(D,k){return D.map(j)}});function T(M){return new g("-","unaryMinus",[M])}function p(M){var D,k=M.s*M.n;return k<0?D=new g("-","unaryMinus",[new l(-k)]):D=new l(k),M.d===1?D:new g("/","divide",[D,new l(M.d)])}function v(M,D,k){if(!Gf(D))return new u($(M),$(D));if(Uo(M)||Kt(M)){for(var E=Array.from(D.dimensions);E.length>0;)if(pn(E[0])&&typeof E[0].value!="string"){var d=W(E.shift().value,k);Uo(M)?M=M.items[d-1]:(M=M.valueOf()[d-1],M instanceof Array&&(M=a(M)))}else if(E.length>1&&pn(E[1])&&typeof E[1].value!="string"){var N=W(E[1].value,k),U=[],q=Uo(M)?M.items:M.valueOf();for(var P of q)if(Uo(P))U.push(P.items[N-1]);else if(Kt(M))U.push(P[N-1]);else break;if(U.length===q.length)Uo(M)?M=new f(U):M=a(U),E.splice(1,1);else break}else break;return E.length===D.dimensions.length?new u($(M),D):E.length>0?(D=new h(E),new u($(M),D)):M}if(zd(M)&&D.dimensions.length===1&&pn(D.dimensions[0])){var G=D.dimensions[0].value;return G in M.properties?M.properties[G]:new l}return new u($(M),D)}function S(M,D,k,E){return D.reduce(function(d,N){if(!Ir(d)&&!Ir(N)){try{return z(M,[d,N],E)}catch(U){}d=B(d),N=B(N)}else Ir(d)?Ir(N)||(N=B(N)):d=B(d);return k([d,N])})}function y(M,D){switch(M.type){case"SymbolNode":return M;case"ConstantNode":switch(typeof M.value){case"number":return W(M.value,D);case"string":return M.value;default:if(!isNaN(M.value))return W(M.value,D)}return M;case"FunctionNode":if(n[M.name]&&n[M.name].rawArgs)return M;{var k=["add","multiply"];if(k.indexOf(M.name)===-1){var E=M.args.map(fe=>y(fe,D));if(!E.some(Ir))try{return z(M.name,E,D)}catch(fe){}if(M.name==="size"&&E.length===1&&Uo(E[0])){for(var d=[],N=E[0];Uo(N);)d.push(N.items.length),N=N.items[0];return a(d)}return new c(M.name,E.map($))}}case"OperatorNode":{var U=M.fn.toString(),q,P,G=R(M);if(Ja(M)&&M.isUnary())q=[y(M.args[0],D)],Ir(q[0])?P=G(q):P=z(U,q,D);else if(I(M,D.context))if(q=C(M,D.context),q=q.map(fe=>y(fe,D)),A(U,D.context)){for(var Z=[],X=[],he=0;he<q.length;he++)Ir(q[he])?X.push(q[he]):Z.push(q[he]);Z.length>1?(P=S(U,Z,G,D),X.unshift(P),P=S(U,X,G,D)):P=S(U,q,G,D)}else P=S(U,q,G,D);else q=M.args.map(fe=>y(fe,D)),P=S(U,q,G,D);return P}case"ParenthesisNode":return y(M.content,D);case"AccessorNode":return v(y(M.object,D),y(M.index,D),D);case"ArrayNode":{var V=M.items.map(fe=>y(fe,D));return V.some(Ir)?new f(V.map($)):a(V)}case"IndexNode":return new h(M.dimensions.map(fe=>O(fe,D)));case"ObjectNode":{var K={};for(var ne in M.properties)K[ne]=O(M.properties[ne],D);return new m(K)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(M.type))}}return O})});var iZt,aZt,MG,sPe=te(()=>{w();_();zt();Fe();_I();EG();dn();Vd();iZt="simplify",aZt=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],MG=ae(iZt,aZt,t=>{var{config:e,typed:r,parse:n,add:a,subtract:o,multiply:s,divide:u,pow:f,isZero:l,equal:c,resolve:h,simplifyCore:m,fraction:g,bignumber:b,mathWithTransform:A,matrix:I,AccessorNode:C,ArrayNode:R,ConstantNode:O,FunctionNode:F,IndexNode:z,ObjectNode:B,OperatorNode:$,ParenthesisNode:j,SymbolNode:W}=t,T=SI({typed:r,config:e,mathWithTransform:A,matrix:I,fraction:g,bignumber:b,AccessorNode:C,ArrayNode:R,ConstantNode:O,FunctionNode:F,IndexNode:z,ObjectNode:B,OperatorNode:$,SymbolNode:W}),{hasProperty:p,isCommutative:v,isAssociative:S,mergeContext:y,flatten:M,unflattenr:D,unflattenl:k,createMakeNodeFunction:E,defaultContext:d,realContext:N,positiveContext:U}=Nw({FunctionNode:F,OperatorNode:$,SymbolNode:W}),q=r("simplify",{string:function(Q){return this(n(Q),this.rules,Mu(),{})},"string, Map | Object":function(Q,_e){return this(n(Q),this.rules,_e,{})},"string, Map | Object, Object":function(Q,_e,ve){return this(n(Q),this.rules,_e,ve)},"string, Array":function(Q,_e){return this(n(Q),_e,Mu(),{})},"string, Array, Map | Object":function(Q,_e,ve){return this(n(Q),_e,ve,{})},"string, Array, Map | Object, Object":function(Q,_e,ve,be){return this(n(Q),_e,ve,be)},"Node, Map | Object":function(Q,_e){return this(Q,this.rules,_e,{})},"Node, Map | Object, Object":function(Q,_e,ve){return this(Q,this.rules,_e,ve)},Node:function(Q){return this(Q,this.rules,Mu(),{})},"Node, Array":function(Q,_e){return this(Q,_e,Mu(),{})},"Node, Array, Map | Object":function(Q,_e,ve){return this(Q,_e,ve,{})},"Node, Array, Object, Object":function(Q,_e,ve,be){return this(Q,_e,mw(ve),be)},"Node, Array, Map, Object":function(Q,_e,ve,be){var qe=be.consoleDebug;_e=X(_e,be.context);var se=h(Q,ve);se=P(se);for(var Se={},Ke=se.toString({parenthesis:"all"});!Se[Ke];){Se[Ke]=!0,he=0;var J=Ke;qe&&console.log("Working on: ",Ke);for(var H=0;H<_e.length;H++){var Y="";if(typeof _e[H]=="function"?(se=_e[H](se,be),qe&&(Y=_e[H].name)):(M(se,be.context),se=ne(se,_e[H],be.context),qe&&(Y="".concat(_e[H].l.toString()," -> ").concat(_e[H].r.toString()))),qe){var oe=se.toString({parenthesis:"all"});oe!==J&&(console.log("Applying",Y,"produced",oe),J=oe)}k(se,be.context)}Ke=se.toString({parenthesis:"all"})}return se}});q.defaultContext=d,q.realContext=N,q.positiveContext=U;function P(ge){return ge.transform(function(Q,_e,ve){return $c(Q)?P(Q.content):Q})}var G={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};q.rules=[m,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(c*v) -> v * (-c)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(c*v) -> (-c) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*c) -> v * (-c)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" v   * ( v   * n1 + n2)",r:"v^2       * n1 +  v   * n2"},{s:" v   * (v^n4 * n1 + n2)   ->  v^(1+n4)  * n1 +  v   * n2",assuming:{divide:{total:!0}}},{s:"v^n3 * ( v   * n1 + n2)   ->  v^(n3+1)  * n1 + v^n3 * n2",assuming:{divide:{total:!0}}},{s:"v^n3 * (v^n4 * n1 + n2)   ->  v^(n3+n4) * n1 + v^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},T,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"v*n + v",r:"v*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*v + v -> (n+1)*v",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*c + c",r:"(n+1)*c"},{s:"c*n + c -> c*(n+1)",assuming:{multiply:{commutative:!1}}},T,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"c+v -> v+c",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"v*c -> c*v",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function Z(ge,Q){var _e={};if(ge.s){var ve=ge.s.split("->");if(ve.length===2)_e.l=ve[0],_e.r=ve[1];else throw SyntaxError("Could not parse rule: "+ge.s)}else _e.l=ge.l,_e.r=ge.r;_e.l=P(n(_e.l)),_e.r=P(n(_e.r));for(var be of["imposeContext","repeat","assuming"])be in ge&&(_e[be]=ge[be]);if(ge.evaluate&&(_e.evaluate=n(ge.evaluate)),S(_e.l,Q)){var qe=E(_e.l),se=V();_e.expanded={},_e.expanded.l=qe([_e.l.clone(),se]),M(_e.expanded.l,Q),D(_e.expanded.l,Q),_e.expanded.r=qe([_e.r,se])}return _e}function X(ge,Q){for(var _e=[],ve=0;ve<ge.length;ve++){var be=ge[ve],qe=void 0,se=typeof be;switch(se){case"string":be={s:be};case"object":qe=Z(be,Q);break;case"function":qe=be;break;default:throw TypeError("Unsupported type of rule: "+se)}_e.push(qe)}return _e}var he=0;function V(){return new W("_p"+he++)}function K(ge,Q,_e){var ve=ge;if(ge)for(var be=0;be<ge.length;++be){var qe=ne(ge[be],Q,_e);qe!==ge[be]&&(ve===ge&&(ve=ge.slice()),ve[be]=qe)}return ve}function ne(ge,Q,_e){if(Q.assuming){for(var ve in Q.assuming)for(var be in Q.assuming[ve])if(p(ve,be,_e)!==Q.assuming[ve][be])return ge}var qe=y(Q.imposeContext,_e),se=ge;if(se instanceof $||se instanceof F){var Se=K(se.args,Q,_e);Se!==se.args&&(se=se.clone(),se.args=Se)}else if(se instanceof j){if(se.content){var Ke=ne(se.content,Q,_e);Ke!==se.content&&(se=new j(Ke))}}else if(se instanceof R){var J=K(se.items,Q,_e);J!==se.items&&(se=new R(J))}else if(se instanceof C){var H=se.object;se.object&&(H=ne(se.object,Q,_e));var Y=se.index;se.index&&(Y=ne(se.index,Q,_e)),(H!==se.object||Y!==se.index)&&(se=new C(H,Y))}else if(se instanceof z){var oe=K(se.dimensions,Q,_e);oe!==se.dimensions&&(se=new z(oe))}else if(se instanceof B){var Me=!1,Ge={};for(var Ce in se.properties)Ge[Ce]=ne(se.properties[Ce],Q,_e),Ge[Ce]!==se.properties[Ce]&&(Me=!0);Me&&(se=new B(Ge))}var Xe=Q.r,Yt=ue(Q.l,se,qe)[0];if(!Yt&&Q.expanded&&(Xe=Q.expanded.r,Yt=ue(Q.expanded.l,se,qe)[0]),Yt){var tt=se.implicit;se=Xe.clone(),tt&&"implicit"in Xe&&(se.implicit=!0),se=se.transform(function(Ye){return Ye.isSymbolNode&&Jt(Yt.placeholders,Ye.name)?Yt.placeholders[Ye.name].clone():Ye})}return Q.repeat&&se!==ge&&(se=ne(se,Q,_e)),se}function fe(ge,Q){var _e=[],ve,be,qe=E(ge);if(v(ge,Q))for(var se=0;se<ge.args.length;se++)be=ge.args.slice(0),be.splice(se,1),ve=be.length===1?be[0]:qe(be),_e.push(qe([ge.args[se],ve]));else for(var Se=1;Se<ge.args.length;Se++){var Ke=ge.args[0];Se>1&&(Ke=qe(ge.args.slice(0,Se))),be=ge.args.slice(Se),ve=be.length===1?be[0]:qe(be),_e.push(qe([Ke,ve]))}return _e}function pe(ge,Q){var _e={placeholders:{}};if(!ge.placeholders&&!Q.placeholders)return _e;if(ge.placeholders){if(!Q.placeholders)return ge}else return Q;for(var ve in ge.placeholders)if(Jt(ge.placeholders,ve)&&(_e.placeholders[ve]=ge.placeholders[ve],Jt(Q.placeholders,ve)&&!xe(ge.placeholders[ve],Q.placeholders[ve])))return null;for(var be in Q.placeholders)Jt(Q.placeholders,be)&&(_e.placeholders[be]=Q.placeholders[be]);return _e}function Ie(ge,Q){var _e=[];if(ge.length===0||Q.length===0)return _e;for(var ve,be=0;be<ge.length;be++)for(var qe=0;qe<Q.length;qe++)ve=pe(ge[be],Q[qe]),ve&&_e.push(ve);return _e}function ke(ge){if(ge.length===0)return ge;for(var Q=ge.reduce(Ie),_e=[],ve={},be=0;be<Q.length;be++){var qe=JSON.stringify(Q[be]);ve[qe]||(ve[qe]=!0,_e.push(Q[be]))}return _e}function ue(ge,Q,_e,ve){var be=[{placeholders:{}}];if(ge instanceof $&&Q instanceof $||ge instanceof F&&Q instanceof F){if(ge instanceof $){if(ge.op!==Q.op||ge.fn!==Q.fn)return[]}else if(ge instanceof F&&ge.name!==Q.name)return[];if(Q.args.length===1&&ge.args.length===1||!S(Q,_e)&&Q.args.length===ge.args.length||ve){for(var qe=[],se=0;se<ge.args.length;se++){var Se=ue(ge.args[se],Q.args[se],_e);if(Se.length===0)break;qe.push(Se)}if(qe.length!==ge.args.length){if(!v(Q,_e)||ge.args.length===1)return[];if(ge.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var Ke=ue(ge.args[0],Q.args[1],_e);if(Ke.length===0)return[];var J=ue(ge.args[1],Q.args[0],_e);if(J.length===0)return[];qe=[Ke,J]}be=ke(qe)}else if(Q.args.length>=2&&ge.args.length===2){for(var H=fe(Q,_e),Y=[],oe=0;oe<H.length;oe++){var Me=ue(ge,H[oe],_e,!0);Y=Y.concat(Me)}return Y}else{if(ge.args.length>2)throw Error("Unexpected non-binary associative function: "+ge.toString());return[]}}else if(ge instanceof W){if(ge.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(G[ge.name]){if(ge.name!==Q.name)return[]}else if(ge.name[0]==="n"||ge.name.substring(0,2)==="_p")be[0].placeholders[ge.name]=Q;else if(ge.name[0]==="v")if(!pn(Q))be[0].placeholders[ge.name]=Q;else return[];else if(ge.name[0]==="c")if(Q instanceof O)be[0].placeholders[ge.name]=Q;else return[];else throw new Error("Invalid symbol in rule: "+ge.name)}else if(ge instanceof O){if(!c(ge.value,Q.value))return[]}else return[];return be}function xe(ge,Q){if(ge instanceof O&&Q instanceof O){if(!c(ge.value,Q.value))return!1}else if(ge instanceof W&&Q instanceof W){if(ge.name!==Q.name)return!1}else if(ge instanceof $&&Q instanceof $||ge instanceof F&&Q instanceof F){if(ge instanceof $){if(ge.op!==Q.op||ge.fn!==Q.fn)return!1}else if(ge instanceof F&&ge.name!==Q.name)return!1;if(ge.args.length!==Q.args.length)return!1;for(var _e=0;_e<ge.args.length;_e++)if(!xe(ge.args[_e],Q.args[_e]))return!1}else return!1;return!0}return q})});var oZt,sZt,AG,uPe=te(()=>{w();_();zt();_I();Fe();oZt="simplifyCore",sZt=["equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],AG=ae(oZt,sZt,t=>{var{equal:e,isZero:r,add:n,subtract:a,multiply:o,divide:s,pow:u,AccessorNode:f,ArrayNode:l,ConstantNode:c,FunctionNode:h,IndexNode:m,ObjectNode:g,OperatorNode:b,ParenthesisNode:A,SymbolNode:I}=t,C=new c(0),R=new c(1),{hasProperty:O,isCommutative:F}=Nw({FunctionNode:h,OperatorNode:b,SymbolNode:I});function z(B,$){var j=$?$.context:void 0;if(O(B,"trivial",j)){if(Eu(B)&&B.args.length===1)return z(B.args[0],$);var W=!1,T=0;if(B.forEach(d=>{++T,T===1&&(W=z(d,$))}),T===1)return W}if(Ja(B)&&B.isUnary()){var p=z(B.args[0],$);if(B.op==="-"){if(Ja(p)){if(p.isUnary()&&p.op==="-")return p.args[0];if(p.isBinary()&&p.fn==="subtract")return new b("-","subtract",[p.args[1],p.args[0]])}return new b(B.op,B.fn,[p])}}else if(Ja(B)&&B.isBinary()){var v=z(B.args[0],$),S=z(B.args[1],$);if(B.op==="+"){if(pn(v)){if(r(v.value))return S;if(pn(S))return new c(n(v.value,S.value))}return pn(S)&&r(S.value)?v:Ja(S)&&S.isUnary()&&S.op==="-"?new b("-","subtract",[v,S.args[0]]):new b(B.op,B.fn,S?[v,S]:[v])}else if(B.op==="-"){if(pn(v)&&S){if(pn(S))return new c(a(v.value,S.value));if(r(v.value))return new b("-","unaryMinus",[S])}if(B.fn==="subtract")return pn(S)&&r(S.value)?v:Ja(S)&&S.isUnary()&&S.op==="-"?z(new b("+","add",[v,S.args[0]]),$):new b(B.op,B.fn,[v,S])}else if(B.op==="*"){if(pn(v)){if(r(v.value))return C;if(e(v.value,1))return S;if(pn(S))return new c(o(v.value,S.value))}if(pn(S)){if(r(S.value))return C;if(e(S.value,1))return v;if(Ja(v)&&v.isBinary()&&v.op===B.op&&F(B,j)){var y=v.args[0];if(pn(y)){var M=new c(o(y.value,S.value));return new b(B.op,B.fn,[M,v.args[1]],B.implicit)}}return F(B,j)?new b(B.op,B.fn,[S,v],B.implicit):new b(B.op,B.fn,[v,S],B.implicit)}return new b(B.op,B.fn,[v,S],B.implicit)}else if(B.op==="/"){if(pn(v)){if(r(v.value))return C;if(pn(S)&&(e(S.value,1)||e(S.value,2)||e(S.value,4)))return new c(s(v.value,S.value))}return new b(B.op,B.fn,[v,S])}else if(B.op==="^"&&pn(S)){if(r(S.value))return R;if(e(S.value,1))return v;if(pn(v))return new c(u(v.value,S.value));if(Ja(v)&&v.isBinary()&&v.op==="^"){var D=v.args[1];if(pn(D))return new b(B.op,B.fn,[v.args[0],new c(o(D.value,S.value))])}}return new b(B.op,B.fn,[v,S])}else{if(Eu(B))return new h(z(B.fn),B.args.map(d=>z(d,$)));if(Uo(B))return new l(B.items.map(d=>z(d,$)));if(Su(B))return new f(z(B.object,$),z(B.index,$));if(Gf(B))return new m(B.dimensions.map(d=>z(d,$)));if(zd(B)){var k={};for(var E in B.properties)k[E]=z(B.properties[E],$);return new g(k)}}return B}return z})});var uZt,fZt,NG,fPe=te(()=>{w();_();Vd();zt();Fe();uZt="resolve",fZt=["parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],NG=ae(uZt,fZt,t=>{var{parse:e,ConstantNode:r,FunctionNode:n,OperatorNode:a,ParenthesisNode:o}=t;function s(u,f){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!f)return u;if(vw(f)||(f=mw(f)),wi(u)){if(l.has(u.name)){var c=Array.from(l).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(c,"}"))}var h=f.get(u.name);if(Ir(h)){var m=new Set(l);return m.add(u.name),s(h,f,m)}else return typeof h=="number"?e(String(h)):h!==void 0?new r(h):u}else if(Ja(u)){var g=u.args.map(function(A){return s(A,f,l)});return new a(u.op,u.fn,g,u.implicit)}else{if($c(u))return new o(s(u.content,f,l));if(Eu(u)){var b=u.args.map(function(A){return s(A,f,l)});return new n(u.name,b)}}return u.map(A=>s(A,f,l))}return s})});var lPe,lZt,TG,cPe=te(()=>{w();_();zt();Fe();lPe="symbolicEqual",lZt=["parse","simplify","typed","OperatorNode"],TG=ae(lPe,lZt,t=>{var{parse:e,simplify:r,typed:n,OperatorNode:a}=t;return n(lPe,{"string, string":function(s,u){return this(e(s),e(u),{})},"string, string, Object":function(s,u,f){return this(e(s),e(u),f)},"Node, string":function(s,u){return this(s,e(u),{})},"Node, string, Object":function(s,u,f){return this(s,e(u),f)},"string, Node":function(s,u){return this(e(s),u,{})},"string, Node, Object":function(s,u,f){return this(e(s),u,f)},"Node, Node":function(s,u){return this(s,u,{})},"Node, Node, Object":function(s,u,f){var l=new a("-","subtract",[s,u]),c=r(l,{},f);return pn(c)&&!c.value}})})});var cZt,hZt,DG,hPe=te(()=>{w();_();zt();Fe();cZt="derivative",hZt=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],DG=ae(cZt,hZt,t=>{var{typed:e,config:r,parse:n,simplify:a,equal:o,isZero:s,numeric:u,ConstantNode:f,FunctionNode:l,OperatorNode:c,ParenthesisNode:h,SymbolNode:m}=t,g=e("derivative",{"Node, SymbolNode, Object":function(F,z,B){var $={};A($,F,z.name);var j=I(F,$);return B.simplify?a(j):j},"Node, SymbolNode":function(F,z){return this(F,z,{simplify:!0})},"string, SymbolNode":function(F,z){return this(n(F),z)},"string, SymbolNode, Object":function(F,z,B){return this(n(F),z,B)},"string, string":function(F,z){return this(n(F),n(z))},"string, string, Object":function(F,z,B){return this(n(F),n(z),B)},"Node, string":function(F,z){return this(F,n(z))},"Node, string, Object":function(F,z,B){return this(F,n(z),B)}});g._simplify=!0,g.toTex=function(O){return b.apply(null,O.args)};var b=e("_derivTex",{"Node, SymbolNode":function(F,z){return pn(F)&&$r(F.value)==="string"?b(n(F.value).toString(),z.toString(),1):b(F.toTex(),z.toString(),1)},"Node, ConstantNode":function(F,z){if($r(z.value)==="string")return b(F,n(z.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(F,z,B){return b(F.toString(),z.name,B.value)},"string, string, number":function(F,z,B){var $;return B===1?$="{d\\over d"+z+"}":$="{d^{"+B+"}\\over d"+z+"^{"+B+"}}",$+"\\left[".concat(F,"\\right]")}}),A=e("constTag",{"Object, ConstantNode, string":function(F,z){return F[z]=!0,!0},"Object, SymbolNode, string":function(F,z,B){return z.name!==B?(F[z]=!0,!0):!1},"Object, ParenthesisNode, string":function(F,z,B){return A(F,z.content,B)},"Object, FunctionAssignmentNode, string":function(F,z,B){return z.params.indexOf(B)===-1?(F[z]=!0,!0):A(F,z.expr,B)},"Object, FunctionNode | OperatorNode, string":function(F,z,B){if(z.args.length>0){for(var $=A(F,z.args[0],B),j=1;j<z.args.length;++j)$=A(F,z.args[j],B)&&$;if($)return F[z]=!0,!0}return!1}}),I=e("_derivative",{"ConstantNode, Object":function(F){return R(0)},"SymbolNode, Object":function(F,z){return z[F]!==void 0?R(0):R(1)},"ParenthesisNode, Object":function(F,z){return new h(I(F.content,z))},"FunctionAssignmentNode, Object":function(F,z){return z[F]!==void 0?R(0):I(F.expr,z)},"FunctionNode, Object":function(F,z){if(F.args.length!==1&&C(F),z[F]!==void 0)return R(0);var B=F.args[0],$,j=!1,W=!1,T;switch(F.name){case"cbrt":j=!0,T=new c("*","multiply",[R(3),new c("^","pow",[B,new c("/","divide",[R(2),R(3)])])]);break;case"sqrt":case"nthRoot":if(F.args.length===1)j=!0,T=new c("*","multiply",[R(2),new l("sqrt",[B])]);else if(F.args.length===2)return $=new c("/","divide",[R(1),F.args[1]]),z[$]=z[F.args[1]],I(new c("^","pow",[B,$]),z);break;case"log10":$=R(10);case"log":if(!$&&F.args.length===1)T=B.clone(),j=!0;else if(F.args.length===1&&$||F.args.length===2&&z[F.args[1]]!==void 0)T=new c("*","multiply",[B.clone(),new l("log",[$||F.args[1]])]),j=!0;else if(F.args.length===2)return I(new c("/","divide",[new l("log",[B]),new l("log",[F.args[1]])]),z);break;case"pow":return z[$]=z[F.args[1]],I(new c("^","pow",[B,F.args[1]]),z);case"exp":T=new l("exp",[B.clone()]);break;case"sin":T=new l("cos",[B.clone()]);break;case"cos":T=new c("-","unaryMinus",[new l("sin",[B.clone()])]);break;case"tan":T=new c("^","pow",[new l("sec",[B.clone()]),R(2)]);break;case"sec":T=new c("*","multiply",[F,new l("tan",[B.clone()])]);break;case"csc":W=!0,T=new c("*","multiply",[F,new l("cot",[B.clone()])]);break;case"cot":W=!0,T=new c("^","pow",[new l("csc",[B.clone()]),R(2)]);break;case"asin":j=!0,T=new l("sqrt",[new c("-","subtract",[R(1),new c("^","pow",[B.clone(),R(2)])])]);break;case"acos":j=!0,W=!0,T=new l("sqrt",[new c("-","subtract",[R(1),new c("^","pow",[B.clone(),R(2)])])]);break;case"atan":j=!0,T=new c("+","add",[new c("^","pow",[B.clone(),R(2)]),R(1)]);break;case"asec":j=!0,T=new c("*","multiply",[new l("abs",[B.clone()]),new l("sqrt",[new c("-","subtract",[new c("^","pow",[B.clone(),R(2)]),R(1)])])]);break;case"acsc":j=!0,W=!0,T=new c("*","multiply",[new l("abs",[B.clone()]),new l("sqrt",[new c("-","subtract",[new c("^","pow",[B.clone(),R(2)]),R(1)])])]);break;case"acot":j=!0,W=!0,T=new c("+","add",[new c("^","pow",[B.clone(),R(2)]),R(1)]);break;case"sinh":T=new l("cosh",[B.clone()]);break;case"cosh":T=new l("sinh",[B.clone()]);break;case"tanh":T=new c("^","pow",[new l("sech",[B.clone()]),R(2)]);break;case"sech":W=!0,T=new c("*","multiply",[F,new l("tanh",[B.clone()])]);break;case"csch":W=!0,T=new c("*","multiply",[F,new l("coth",[B.clone()])]);break;case"coth":W=!0,T=new c("^","pow",[new l("csch",[B.clone()]),R(2)]);break;case"asinh":j=!0,T=new l("sqrt",[new c("+","add",[new c("^","pow",[B.clone(),R(2)]),R(1)])]);break;case"acosh":j=!0,T=new l("sqrt",[new c("-","subtract",[new c("^","pow",[B.clone(),R(2)]),R(1)])]);break;case"atanh":j=!0,T=new c("-","subtract",[R(1),new c("^","pow",[B.clone(),R(2)])]);break;case"asech":j=!0,W=!0,T=new c("*","multiply",[B.clone(),new l("sqrt",[new c("-","subtract",[R(1),new c("^","pow",[B.clone(),R(2)])])])]);break;case"acsch":j=!0,W=!0,T=new c("*","multiply",[new l("abs",[B.clone()]),new l("sqrt",[new c("+","add",[new c("^","pow",[B.clone(),R(2)]),R(1)])])]);break;case"acoth":j=!0,W=!0,T=new c("-","subtract",[R(1),new c("^","pow",[B.clone(),R(2)])]);break;case"abs":T=new c("/","divide",[new l(new m("abs"),[B.clone()]),B.clone()]);break;case"gamma":default:throw new Error('Function "'+F.name+'" is not supported by derivative, or a wrong number of arguments is passed')}var p,v;j?(p="/",v="divide"):(p="*",v="multiply");var S=I(B,z);return W&&(S=new c("-","unaryMinus",[S])),new c(p,v,[S,T])},"OperatorNode, Object":function(F,z){if(z[F]!==void 0)return R(0);if(F.op==="+")return new c(F.op,F.fn,F.args.map(function(M){return I(M,z)}));if(F.op==="-"){if(F.isUnary())return new c(F.op,F.fn,[I(F.args[0],z)]);if(F.isBinary())return new c(F.op,F.fn,[I(F.args[0],z),I(F.args[1],z)])}if(F.op==="*"){var B=F.args.filter(function(M){return z[M]!==void 0});if(B.length>0){var $=F.args.filter(function(M){return z[M]===void 0}),j=$.length===1?$[0]:new c("*","multiply",$),W=B.concat(I(j,z));return new c("*","multiply",W)}return new c("+","add",F.args.map(function(M){return new c("*","multiply",F.args.map(function(D){return D===M?I(D,z):D.clone()}))}))}if(F.op==="/"&&F.isBinary()){var T=F.args[0],p=F.args[1];return z[p]!==void 0?new c("/","divide",[I(T,z),p]):z[T]!==void 0?new c("*","multiply",[new c("-","unaryMinus",[T]),new c("/","divide",[I(p,z),new c("^","pow",[p.clone(),R(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[I(T,z),p.clone()]),new c("*","multiply",[T.clone(),I(p,z)])]),new c("^","pow",[p.clone(),R(2)])])}if(F.op==="^"&&F.isBinary()){var v=F.args[0],S=F.args[1];if(z[v]!==void 0)return pn(v)&&(s(v.value)||o(v.value,1))?R(0):new c("*","multiply",[F,new c("*","multiply",[new l("log",[v.clone()]),I(S.clone(),z)])]);if(z[S]!==void 0){if(pn(S)){if(s(S.value))return R(0);if(o(S.value,1))return I(v,z)}var y=new c("^","pow",[v.clone(),new c("-","subtract",[S,R(1)])]);return new c("*","multiply",[S.clone(),new c("*","multiply",[I(v,z),y])])}return new c("*","multiply",[new c("^","pow",[v.clone(),S.clone()]),new c("+","add",[new c("*","multiply",[I(v,z),new c("/","divide",[S.clone(),v.clone()])]),new c("*","multiply",[I(S,z),new l("log",[v.clone()])])])])}throw new Error('Operator "'+F.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function C(O){if(!((O.name==="log"||O.name==="nthRoot"||O.name==="pow")&&O.args.length===2)){for(var F=0;F<O.args.length;++F)O.args[F]=R(0);throw O.compile().evaluate(),new Error("Expected TypeError, but none found")}}function R(O,F){return new f(u(O,F||r.number))}return g})});var pPe,pZt,kG,dPe=te(()=>{w();_();zr();Fe();EG();pPe="rationalize",pZt=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],kG=ae(pPe,pZt,t=>{var{config:e,typed:r,equal:n,isZero:a,add:o,subtract:s,multiply:u,divide:f,pow:l,parse:c,simplifyCore:h,simplify:m,fraction:g,bignumber:b,mathWithTransform:A,matrix:I,AccessorNode:C,ArrayNode:R,ConstantNode:O,FunctionNode:F,IndexNode:z,ObjectNode:B,OperatorNode:$,SymbolNode:j,ParenthesisNode:W}=t,T=SI({typed:r,config:e,mathWithTransform:A,matrix:I,fraction:g,bignumber:b,AccessorNode:C,ArrayNode:R,ConstantNode:O,FunctionNode:F,IndexNode:z,ObjectNode:B,OperatorNode:$,SymbolNode:j});return r(pPe,{string:function(D){return this(c(D),{},!1)},"string, boolean":function(D,k){return this(c(D),{},k)},"string, Object":function(D,k){return this(c(D),k,!1)},"string, Object, boolean":function(D,k,E){return this(c(D),k,E)},Node:function(D){return this(D,{},!1)},"Node, boolean":function(D,k){return this(D,{},k)},"Node, Object":function(D,k){return this(D,k,!1)},"Node, Object, boolean":function(D,k,E){var d=v(),N=p(D,k,!0,d.firstRules),U=N.variables.length,q={exactFractions:!1},P={exactFractions:!0};if(D=N.expression,U>=1){D=S(D);var G,Z,X=!0,he=!1;D=m(D,d.firstRules,{},q);for(var V;Z=X?d.distrDivRules:d.sucDivRules,D=m(D,Z,{},P),X=!X,V=D.toString(),V!==G;)he=!0,G=V;he&&(D=m(D,d.firstRulesAgain,{},q)),D=m(D,d.finalRules,{},q)}var K=[],ne={};return D.type==="OperatorNode"&&D.isBinary()&&D.op==="/"?(U===1&&(D.args[0]=y(D.args[0],K),D.args[1]=y(D.args[1])),E&&(ne.numerator=D.args[0],ne.denominator=D.args[1])):(U===1&&(D=y(D,K)),E&&(ne.numerator=D,ne.denominator=null)),E?(ne.coefficients=K,ne.variables=N.variables,ne.expression=D,ne):D}});function p(M,D,k,E){var d=[],N=m(M,E,D,{exactFractions:!1});k=!!k;var U="+-*"+(k?"/":"");P(N);var q={};return q.expression=N,q.variables=d,q;function P(G){var Z=G.type;if(Z==="FunctionNode")throw new Error("There is an unsolved function call");if(Z==="OperatorNode")if(G.op==="^"){if(G.args[1].type!=="ConstantNode"||!Ut(parseFloat(G.args[1].value)))throw new Error("There is a non-integer exponent");P(G.args[0])}else{if(U.indexOf(G.op)===-1)throw new Error("Operator "+G.op+" invalid in polynomial expression");for(var X=0;X<G.args.length;X++)P(G.args[X])}else if(Z==="SymbolNode"){var he=G.name,V=d.indexOf(he);V===-1&&d.push(he)}else if(Z==="ParenthesisNode")P(G.content);else if(Z!=="ConstantNode")throw new Error("type "+Z+" is not allowed in polynomial expression")}}function v(){var M=[h,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},T,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],D=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],k=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],E=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],d={};return d.firstRules=M.concat(D,E),d.distrDivRules=k,d.sucDivRules=E,d.firstRulesAgain=M.concat(D),d.finalRules=[h,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},T,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],d}function S(M,D,k){var E=M.type,d=arguments.length>1;if(E==="OperatorNode"&&M.isBinary()){var N=!1,U;if(M.op==="^"&&(M.args[0].type==="ParenthesisNode"||M.args[0].type==="OperatorNode")&&M.args[1].type==="ConstantNode"&&(U=parseFloat(M.args[1].value),N=U>=2&&Ut(U)),N){if(U>2){var q=M.args[0],P=new $("^","pow",[M.args[0].cloneDeep(),new O(U-1)]);M=new $("*","multiply",[q,P])}else M=new $("*","multiply",[M.args[0],M.args[0].cloneDeep()]);d&&(k==="content"?D.content=M:D.args[k]=M)}}if(E==="ParenthesisNode")S(M.content,M,"content");else if(E!=="ConstantNode"&&E!=="SymbolNode")for(var G=0;G<M.args.length;G++)S(M.args[G],M,G);if(!d)return M}function y(M,D){D===void 0&&(D=[]),D[0]=0;var k={};k.cte=1,k.oper="+",k.fire="";var E=0,d="";he(M,null,k),E=D.length-1;for(var N=!0,U,q=E;q>=0;q--)if(D[q]!==0){var P=new O(N?D[q]:Math.abs(D[q])),G=D[q]<0?"-":"+";if(q>0){var Z=new j(d);if(q>1){var X=new O(q);Z=new $("^","pow",[Z,X])}D[q]===-1&&N?P=new $("-","unaryMinus",[Z]):Math.abs(D[q])===1?P=Z:P=new $("*","multiply",[P,Z])}N?U=P:G==="+"?U=new $("+","add",[U,P]):U=new $("-","subtract",[U,P]),N=!1}if(N)return new O(0);return U;function he(V,K,ne){var fe=V.type;if(fe==="FunctionNode")throw new Error("There is an unsolved function call");if(fe==="OperatorNode"){if("+-*^".indexOf(V.op)===-1)throw new Error("Operator "+V.op+" invalid");if(K!==null){if((V.fn==="unaryMinus"||V.fn==="pow")&&K.fn!=="add"&&K.fn!=="subtract"&&K.fn!=="multiply")throw new Error("Invalid "+V.op+" placing");if((V.fn==="subtract"||V.fn==="add"||V.fn==="multiply")&&K.fn!=="add"&&K.fn!=="subtract")throw new Error("Invalid "+V.op+" placing");if((V.fn==="subtract"||V.fn==="add"||V.fn==="unaryMinus")&&ne.noFil!==0)throw new Error("Invalid "+V.op+" placing")}(V.op==="^"||V.op==="*")&&(ne.fire=V.op);for(var pe=0;pe<V.args.length;pe++)V.fn==="unaryMinus"&&(ne.oper="-"),(V.op==="+"||V.fn==="subtract")&&(ne.fire="",ne.cte=1,ne.oper=pe===0?"+":V.op),ne.noFil=pe,he(V.args[pe],V,ne)}else if(fe==="SymbolNode"){if(V.name!==d&&d!=="")throw new Error("There is more than one variable");if(d=V.name,K===null){D[1]=1;return}if(K.op==="^"&&ne.noFil!==0)throw new Error("In power the variable should be the first parameter");if(K.op==="*"&&ne.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(ne.fire===""||ne.fire==="*")&&(E<1&&(D[1]=0),D[1]+=ne.cte*(ne.oper==="+"?1:-1),E=Math.max(1,E))}else if(fe==="ConstantNode"){var Ie=parseFloat(V.value);if(K===null){D[0]=Ie;return}if(K.op==="^"){if(ne.noFil!==1)throw new Error("Constant cannot be powered");if(!Ut(Ie)||Ie<=0)throw new Error("Non-integer exponent is not allowed");for(var ke=E+1;ke<Ie;ke++)D[ke]=0;Ie>E&&(D[Ie]=0),D[Ie]+=ne.cte*(ne.oper==="+"?1:-1),E=Math.max(Ie,E);return}ne.cte=Ie,ne.fire===""&&(D[0]+=ne.cte*(ne.oper==="+"?1:-1))}else throw new Error("Type "+fe+" is not allowed")}}})});var dZt,mZt,IG,mPe=te(()=>{w();_();Fe();dZt="reviver",mZt=["classes"],IG=ae(dZt,mZt,t=>{var{classes:e}=t;return function(n,a){var o=e[a&&a.mathjs];return o&&typeof o.fromJSON=="function"?o.fromJSON(a):a}})});var vZt,gZt,CG,vPe=te(()=>{w();_();Fe();vZt="replacer",gZt=[],CG=ae(vZt,gZt,()=>function(e,r){return typeof r=="number"&&(!isFinite(r)||isNaN(r))?{mathjs:"number",value:String(r)}:r})});var gPe,yPe=te(()=>{w();_();gPe="10.6.4"});function Nu(t,e,r){return ae(t,e,r,{recreateOnConfigChange:!0})}var OG,RG,FG,BG,LG,PG,qG,zG,UG,jG,$G,VG,WG,GG,HG,KG,ZG,bPe=te(()=>{w();_();Fe();yPe();oV();Sr();OG=ae("true",[],()=>!0),RG=ae("false",[],()=>!1),FG=ae("null",[],()=>null),BG=Nu("Infinity",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1/0):1/0}),LG=Nu("NaN",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(NaN):NaN}),PG=Nu("pi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?TE(r):N3e}),qG=Nu("tau",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?w6e(r):T3e}),zG=Nu("e",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?y6e(r):D3e}),UG=Nu("phi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?b6e(r):k3e}),jG=Nu("LN2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).ln():Math.LN2}),$G=Nu("LN10",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(10).ln():Math.LN10}),VG=Nu("LOG2E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(2).ln()):Math.LOG2E}),WG=Nu("LOG10E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(10).ln()):Math.LOG10E}),GG=Nu("SQRT1_2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r("0.5").sqrt():Math.SQRT1_2}),HG=Nu("SQRT2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).sqrt():Math.SQRT2}),KG=Nu("i",["Complex"],t=>{var{Complex:e}=t;return e.I}),ZG=ae("version",[],()=>gPe)});function Fr(t,e,r){var n=["config","Unit","BigNumber"];return ae(t,n,a=>{var{config:o,Unit:s,BigNumber:u}=a,f=o.number==="BigNumber"?new u(e):parseFloat(e),l=new s(f,r);return l.fixPrefix=!0,l})}function EI(t,e){var r=["config","BigNumber"];return ae(t,r,n=>{var{config:a,BigNumber:o}=n;return a.number==="BigNumber"?new o(e):e})}var JG,YG,XG,QG,eH,tH,rH,nH,iH,aH,oH,sH,uH,fH,lH,cH,hH,pH,dH,mH,vH,gH,yH,bH,wH,xH,_H,SH,EH,MH,AH,NH,TH,DH,kH,IH,CH,OH,RH,FH,BH,LH,PH,qH,zH,UH,jH,$H,VH,WH,wPe=te(()=>{w();_();Fe();JG=Fr("speedOfLight","299792458","m s^-1"),YG=Fr("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),XG=Fr("planckConstant","6.62607015e-34","J s"),QG=Fr("reducedPlanckConstant","1.0545718176461565e-34","J s"),eH=Fr("magneticConstant","1.25663706212e-6","N A^-2"),tH=Fr("electricConstant","8.8541878128e-12","F m^-1"),rH=Fr("vacuumImpedance","376.730313667","ohm"),nH=Fr("coulomb","8.987551792261171e9","N m^2 C^-2"),iH=Fr("elementaryCharge","1.602176634e-19","C"),aH=Fr("bohrMagneton","9.2740100783e-24","J T^-1"),oH=Fr("conductanceQuantum","7.748091729863649e-5","S"),sH=Fr("inverseConductanceQuantum","12906.403729652257","ohm"),uH=Fr("magneticFluxQuantum","2.0678338484619295e-15","Wb"),fH=Fr("nuclearMagneton","5.0507837461e-27","J T^-1"),lH=Fr("klitzing","25812.807459304513","ohm"),cH=Fr("bohrRadius","5.29177210903e-11","m"),hH=Fr("classicalElectronRadius","2.8179403262e-15","m"),pH=Fr("electronMass","9.1093837015e-31","kg"),dH=Fr("fermiCoupling","1.1663787e-5","GeV^-2"),mH=EI("fineStructure",.0072973525693),vH=Fr("hartreeEnergy","4.3597447222071e-18","J"),gH=Fr("protonMass","1.67262192369e-27","kg"),yH=Fr("deuteronMass","3.3435830926e-27","kg"),bH=Fr("neutronMass","1.6749271613e-27","kg"),wH=Fr("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),xH=Fr("rydberg","10973731.568160","m^-1"),_H=Fr("thomsonCrossSection","6.6524587321e-29","m^2"),SH=EI("weakMixingAngle",.2229),EH=EI("efimovFactor",22.7),MH=Fr("atomicMass","1.66053906660e-27","kg"),AH=Fr("avogadro","6.02214076e23","mol^-1"),NH=Fr("boltzmann","1.380649e-23","J K^-1"),TH=Fr("faraday","96485.33212331001","C mol^-1"),DH=Fr("firstRadiation","3.7417718521927573e-16","W m^2"),kH=Fr("loschmidt","2.686780111798444e25","m^-3"),IH=Fr("gasConstant","8.31446261815324","J K^-1 mol^-1"),CH=Fr("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),OH=Fr("molarVolume","0.022413969545014137","m^3 mol^-1"),RH=EI("sackurTetrode",-1.16487052358),FH=Fr("secondRadiation","0.014387768775039337","m K"),BH=Fr("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),LH=Fr("wienDisplacement","2.897771955e-3","m K"),PH=Fr("molarMass","0.99999999965e-3","kg mol^-1"),qH=Fr("molarMassC12","11.9999999958e-3","kg mol^-1"),zH=Fr("gravity","9.80665","m s^-2"),UH=Fr("planckLength","1.616255e-35","m"),jH=Fr("planckMass","2.176435e-8","kg"),$H=Fr("planckTime","5.391245e-44","s"),VH=Fr("planckCharge","1.87554603778e-18","C"),WH=Fr("planckTemperature","1.416785e+32","K")});var yZt,bZt,GH,xPe=te(()=>{w();_();ps();Fe();XU();zt();yZt="apply",bZt=["typed","isInteger"],GH=ae(yZt,bZt,t=>{var{typed:e,isInteger:r}=t,n=mE({typed:e,isInteger:r});return e("apply",{"...any":function(o){var s=o[1];Ar(s)?o[1]=s-1:hr(s)&&(o[1]=s.minus(1));try{return n.apply(null,o)}catch(u){throw oi(u)}}})},{isTransformFunction:!0})});var wZt,xZt,HH,_Pe=te(()=>{w();_();ps();Fe();qj();zt();wZt="column",xZt=["typed","Index","matrix","range"],HH=ae(wZt,xZt,t=>{var{typed:e,Index:r,matrix:n,range:a}=t,o=bE({typed:e,Index:r,matrix:n,range:a});return e("column",{"...any":function(u){var f=u.length-1,l=u[f];Ar(l)&&(u[f]=l-1);try{return o.apply(null,u)}catch(c){throw oi(c)}}})},{isTransformFunction:!0})});function Tw(t,e,r){var n=t.filter(function(u){return wi(u)&&!(u.name in e)&&!r.has(u.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+t+'"');var a=n.name,o=Bv(r),s=t.compile();return function(f){return o.set(a,f),s.evaluate(o)}}var MI=te(()=>{w();_();zt();bW()});function SPe(t,e){var r=Jf(e);return Wk(t,function(n,a,o){return r===1?e(n):r===2?e(n,[a+1]):e(n,[a+1],o)})}var _Zt,SZt,KH,EPe=te(()=>{w();_();zt();wr();pp();MI();Fe();_Zt="filter",SZt=["typed"],KH=ae(_Zt,SZt,t=>{var{typed:e}=t;function r(a,o,s){var u,f;return a[0]&&(u=a[0].compile().evaluate(s)),a[1]&&(wi(a[1])||jc(a[1])?f=a[1].compile().evaluate(s):f=Tw(a[1],o,s)),n(u,f)}r.rawArgs=!0;var n=e("filter",{"Array, function":SPe,"Matrix, function":function(o,s){return o.create(SPe(o.toArray(),s))},"Array, RegExp":pw,"Matrix, RegExp":function(o,s){return o.create(pw(o.toArray(),s))}});return r},{isTransformFunction:!0})});var EZt,MZt,ZH,MPe=te(()=>{w();_();zt();pp();wr();Fe();MI();EZt="forEach",MZt=["typed"],ZH=ae(EZt,MZt,t=>{var{typed:e}=t;function r(a,o,s){var u,f;return a[0]&&(u=a[0].compile().evaluate(s)),a[1]&&(wi(a[1])||jc(a[1])?f=a[1].compile().evaluate(s):f=Tw(a[1],o,s)),n(u,f)}r.rawArgs=!0;var n=e("forEach",{"Array | Matrix, function":function(o,s){var u=Jf(s),f=function l(c,h){Array.isArray(c)?jd(c,function(m,g){l(m,h.concat(g+1))}):u===1?s(c):u===2?s(c,h):s(c,h,o)};f(o.valueOf(),[])}});return r},{isTransformFunction:!0})});var AZt,NZt,JH,APe=te(()=>{w();_();zt();Fe();AZt="index",NZt=["Index"],JH=ae(AZt,NZt,t=>{var{Index:e}=t;return function(){for(var n=[],a=0,o=arguments.length;a<o;a++){var s=arguments[a];if(Mv(s))s.start--,s.end-=s.step>0?0:2;else if(s&&s.isSet===!0)s=s.map(function(f){return f-1});else if(hn(s)||Kt(s))s=s.map(function(f){return f-1});else if(Ar(s))s--;else if(hr(s))s=s.toNumber()-1;else if(typeof s!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");n[a]=s}var u=new e;return e.apply(u,n),u}},{isTransformFunction:!0})});function NPe(t,e,r){var n=Jf(e);function a(o,s){return Array.isArray(o)?Xs(o,function(u,f){return a(u,s.concat(f+1))}):n===1?e(o):n===2?e(o,s):e(o,s,r)}return a(t,[])}var TZt,DZt,YH,TPe=te(()=>{w();_();zt();pp();wr();Fe();MI();TZt="map",DZt=["typed"],YH=ae(TZt,DZt,t=>{var{typed:e}=t;function r(a,o,s){var u,f;return a[0]&&(u=a[0].compile().evaluate(s)),a[1]&&(wi(a[1])||jc(a[1])?f=a[1].compile().evaluate(s):f=Tw(a[1],o,s)),n(u,f)}r.rawArgs=!0;var n=e("map",{"Array, function":function(o,s){return NPe(o,s,o)},"Matrix, function":function(o,s){return o.create(NPe(o.valueOf(),s,o))}});return r},{isTransformFunction:!0})});function ru(t){if(t.length===2&&Wf(t[0])){t=t.slice();var e=t[1];Ar(e)?t[1]=e-1:hr(e)&&(t[1]=e.minus(1))}return t}var Zd=te(()=>{w();_();zt()});var kZt,IZt,XH,DPe=te(()=>{w();_();Fe();ps();Q$();Zd();kZt="max",IZt=["typed","config","numeric","larger"],XH=ae(kZt,IZt,t=>{var{typed:e,config:r,numeric:n,larger:a}=t,o=ME({typed:e,config:r,numeric:n,larger:a});return e("max",{"...any":function(u){u=ru(u);try{return o.apply(null,u)}catch(f){throw oi(f)}}})},{isTransformFunction:!0})});var CZt,OZt,QH,kPe=te(()=>{w();_();Fe();ps();XW();Zd();CZt="mean",OZt=["typed","add","divide"],QH=ae(CZt,OZt,t=>{var{typed:e,add:r,divide:n}=t,a=CE({typed:e,add:r,divide:n});return e("mean",{"...any":function(s){s=ru(s);try{return a.apply(null,s)}catch(u){throw oi(u)}}})},{isTransformFunction:!0})});var RZt,FZt,eK,IPe=te(()=>{w();_();Fe();ps();eV();Zd();RZt="min",FZt=["typed","config","numeric","smaller"],eK=ae(RZt,FZt,t=>{var{typed:e,config:r,numeric:n,smaller:a}=t,o=AE({typed:e,config:r,numeric:n,smaller:a});return e("min",{"...any":function(u){u=ru(u);try{return o.apply(null,u)}catch(f){throw oi(f)}}})},{isTransformFunction:!0})});var BZt,LZt,tK,CPe=te(()=>{w();_();Fe();Xj();BZt="range",LZt=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],tK=ae(BZt,LZt,t=>{var{typed:e,config:r,matrix:n,bignumber:a,smaller:o,smallerEq:s,larger:u,largerEq:f}=t,l=_E({typed:e,config:r,matrix:n,bignumber:a,smaller:o,smallerEq:s,larger:u,largerEq:f});return e("range",{"...any":function(h){var m=h.length-1,g=h[m];return typeof g!="boolean"&&h.push(!0),l.apply(null,h)}})},{isTransformFunction:!0})});var PZt,qZt,rK,OPe=te(()=>{w();_();Fe();n$();ps();zt();PZt="row",qZt=["typed","Index","matrix","range"],rK=ae(PZt,qZt,t=>{var{typed:e,Index:r,matrix:n,range:a}=t,o=SE({typed:e,Index:r,matrix:n,range:a});return e("row",{"...any":function(u){var f=u.length-1,l=u[f];Ar(l)&&(u[f]=l-1);try{return o.apply(null,u)}catch(c){throw oi(c)}}})},{isTransformFunction:!0})});var zZt,UZt,nK,RPe=te(()=>{w();_();Fe();ps();o$();zZt="subset",UZt=["typed","matrix"],nK=ae(zZt,UZt,t=>{var{typed:e,matrix:r}=t,n=EE({typed:e,matrix:r});return e("subset",{"...any":function(o){try{return n.apply(null,o)}catch(s){throw oi(s)}}})},{isTransformFunction:!0})});var jZt,$Zt,iK,FPe=te(()=>{w();_();zt();ps();Fe();Pj();jZt="concat",$Zt=["typed","matrix","isInteger"],iK=ae(jZt,$Zt,t=>{var{typed:e,matrix:r,isInteger:n}=t,a=yE({typed:e,matrix:r,isInteger:n});return e("concat",{"...any":function(s){var u=s.length-1,f=s[u];Ar(f)?s[u]=f-1:hr(f)&&(s[u]=f.minus(1));try{return a.apply(null,s)}catch(l){throw oi(l)}}})},{isTransformFunction:!0})});var BPe,VZt,aK,LPe=te(()=>{w();_();Fe();ps();Jj();Zd();BPe="diff",VZt=["typed","matrix","subtract","number","bignumber"],aK=ae(BPe,VZt,t=>{var{typed:e,matrix:r,subtract:n,number:a,bignumber:o}=t,s=wE({typed:e,matrix:r,subtract:n,number:a,bignumber:o});return e(BPe,{"...any":function(f){f=ru(f);try{return s.apply(null,f)}catch(l){throw oi(l)}}})},{isTransformFunction:!0})});var WZt,GZt,oK,PPe=te(()=>{w();_();Fe();iG();ps();Zd();WZt="std",GZt=["typed","sqrt","variance"],oK=ae(WZt,GZt,t=>{var{typed:e,sqrt:r,variance:n}=t,a=RE({typed:e,sqrt:r,variance:n});return e("std",{"...any":function(s){s=ru(s);try{return a.apply(null,s)}catch(u){throw oi(u)}}})},{isTransformFunction:!0})});var qPe,HZt,sK,zPe=te(()=>{w();_();Fe();ps();JW();Zd();qPe="sum",HZt=["typed","config","add","numeric"],sK=ae(qPe,HZt,t=>{var{typed:e,config:r,add:n,numeric:a}=t,o=kE({typed:e,config:r,add:n,numeric:a});return e(qPe,{"...any":function(u){u=ru(u);try{return o.apply(null,u)}catch(f){throw oi(f)}}})},{isTransformFunction:!0})});var UPe,KZt,uK,jPe=te(()=>{w();_();zt();Fe();ps();YW();UPe="cumsum",KZt=["typed","add","unaryPlus"],uK=ae(UPe,KZt,t=>{var{typed:e,add:r,unaryPlus:n}=t,a=IE({typed:e,add:r,unaryPlus:n});return e(UPe,{"...any":function(s){if(s.length===2&&Wf(s[0])){var u=s[1];Ar(u)?s[1]=u-1:hr(u)&&(s[1]=u.minus(1))}try{return a.apply(null,s)}catch(f){throw oi(f)}}})},{isTransformFunction:!0})});var $Pe,ZZt,fK,VPe=te(()=>{w();_();Fe();ps();rG();Zd();$Pe="variance",ZZt=["typed","add","subtract","multiply","divide","apply","isNaN"],fK=ae($Pe,ZZt,t=>{var{typed:e,add:r,subtract:n,multiply:a,divide:o,apply:s,isNaN:u}=t,f=OE({typed:e,add:r,subtract:n,multiply:a,divide:o,apply:s,isNaN:u});return e($Pe,{"...any":function(c){c=ru(c);try{return f.apply(null,c)}catch(h){throw oi(h)}}})},{isTransformFunction:!0})});var AI=te(()=>{w();_();s3e();u3e();l3e();p3e();v3e();g3e();y3e();b3e();x3e();S3e();q3e();U3e();$3e();W3e();H3e();Z3e();Y3e();eNe();tNe();rNe();iNe();oNe();sNe();uNe();fNe();cNe();pNe();mNe();gNe();bNe();xNe();SNe();MNe();XU();TNe();kNe();CNe();RNe();BNe();PNe();qNe();UNe();$Ne();WNe();HNe();ZNe();YNe();XNe();eTe();rTe();iTe();aTe();sTe();fTe();cTe();pTe();mTe();_Te();ETe();ATe();TTe();kTe();CTe();RTe();BTe();PTe();zTe();jTe();Pj();qj();HTe();ZTe();YTe();tDe();nDe();aDe();sDe();fDe();cDe();pDe();Jj();mDe();Xj();yDe();wDe();_De();EDe();n$();NDe();DDe();o$();CDe();RDe();BDe();PDe();zDe();UDe();$De();WDe();HDe();ZDe();YDe();QDe();r4e();i4e();o4e();s4e();f4e();c4e();p4e();m4e();g4e();b4e();x4e();S4e();M4e();N4e();D4e();I4e();O4e();F4e();L4e();q4e();U4e();W4e();H4e();K4e();J4e();X4e();e6e();r6e();i6e();o6e();s6e();f6e();c6e();Q$();eV();d6e();m6e();v6e();g6e();_6e();E6e();A6e();T6e();k6e();C6e();R6e();B6e();P6e();z6e();j6e();V6e();G6e();H6e();K6e();J6e();X6e();eke();rke();ike();oke();uke();lke();hke();dke();vke();yke();wke();xke();Ske();Mke();Nke();Dke();Ike();Oke();Fke();Lke();qke();Uke();$ke();Wke();Hke();Zke();Jke();Xke();Qke();eIe();tIe();iIe();aIe();oIe();hIe();pIe();dIe();mIe();vIe();gIe();yIe();bIe();wIe();xIe();SIe();MIe();NIe();TIe();kIe();CIe();RIe();sCe();lCe();cCe();hCe();K7e();J7e();X7e();eLe();rLe();sLe();fLe();cLe();hLe();dLe();mLe();JW();YW();XW();bLe();xLe();rG();SLe();iG();NLe();kLe();CLe();RLe();BLe();PLe();zLe();$Le();WLe();HLe();ZLe();YLe();QLe();tPe();nPe();aPe();sPe();uPe();fPe();cPe();hPe();dPe();mPe();vPe();bPe();wPe();xPe();_Pe();EPe();MPe();APe();TPe();DPe();kPe();IPe();CPe();OPe();RPe();FPe();LPe();PPe();zPe();jPe();VPe()});var Lt,Di,lK,WPe,GPe,Jd,cK,HPe,KPe,ZPe,BE,JPe,YPe,XPe,QPe,hK,eqe,tqe,pK,rqe,nqe,Gr,iqe,aqe,dK,oqe,sqe,Ue,NI,uqe,nu,fqe,lqe,cqe,$a,hqe,pqe,dqe,mK,mqe,Hc,vqe,gqe,yqe,LE,PE,Lv,bqe,wqe,xqe,_qe,xn,Sqe,vK,Eqe,Mqe,Aqe,Dw,Nqe,Tqe,gK,Tu,Pv,qE,Wl,Dqe,kqe,Iqe,Cqe,yK,_a,bK,vp,Oqe,Rqe,Fqe,Bqe,wK,Lqe,xK,TI,Kc,Pqe,qqe,zqe,Uqe,jqe,$qe,Vqe,DI,Wqe,Gqe,Hqe,kI,Kqe,kw,Zqe,Jqe,Yqe,Xqe,Qqe,Zc,eze,Jc,tze,rze,Iw,Yd,jt,nze,_K,ize,Yf,aze,SK,oze,$o,Du,sze,ku,Ji,uze,II,EK,Gl,fze,lze,cze,hze,qv,MK,CI,pze,OI,AK,Yi,zE,Xf,NK,Cw,dze,mze,vze,gze,yze,UE,bze,TK,DK,wze,xze,_ze,Sze,RI,Eze,Mze,jE,FI,Aze,BI,Nze,Xi,Tze,Dze,kze,Hl,Ize,kK,Cze,$E,Oze,IK,zv,Rze,Iu,LI,Fze,Bze,Sa,CK,Ow,Lze,Pze,OK,RK,qze,FK,zze,BK,Uze,jze,LK,$ze,Vze,PK,qK,zK,Vo,Wze,Gze,Hze,UK,Uv,Kze,Zze,Jze,Yze,Xze,Qze,jK,eUe,Xd,tUe,Yc,$K,rUe,VK,nUe,kr,iUe,aUe,oUe,sUe,uUe,fUe,lUe,cUe,hUe,pUe,dUe,mUe,vUe,gUe,WK,yUe,bUe,wUe,xUe,_Ue,SUe,EUe,MUe,AUe,NUe,TUe,DUe,kUe,IUe,CUe,GK,OUe,RUe,FUe,BUe,LUe,PUe,Qf,qUe,VE,zUe,UUe,HK,jUe,$Ue,VUe,WUe,GUe,HUe,KUe,KK,ZUe,JUe,ZK,YUe,XUe,QUe,eje,JK,tje,rje,jv,nje,qI,ije,YK,aje,XK,oje,sje,uje,fje,QK=te(()=>{w();_();rz();AI();Lt=gz({config:Tt}),Di=bz({}),lK=zG({BigNumber:Lt,config:Tt}),WPe=RG({}),GPe=mH({BigNumber:Lt,config:Tt}),Jd=xz({}),cK=KG({Complex:Di}),HPe=BG({BigNumber:Lt,config:Tt}),KPe=$G({BigNumber:Lt,config:Tt}),ZPe=WG({BigNumber:Lt,config:Tt}),BE=Sz({}),JPe=LG({BigNumber:Lt,config:Tt}),YPe=FG({}),XPe=UG({BigNumber:Lt,config:Tt}),QPe=_z({}),hK=mz({}),eqe=GG({BigNumber:Lt,config:Tt}),tqe=RH({BigNumber:Lt,config:Tt}),pK=qG({BigNumber:Lt,config:Tt}),rqe=OG({}),nqe=ZG({}),Gr=Ez({Matrix:BE}),iqe=EH({BigNumber:Lt,config:Tt}),aqe=jG({BigNumber:Lt,config:Tt}),dK=PG({BigNumber:Lt,config:Tt}),oqe=CG({}),sqe=HG({BigNumber:Lt,config:Tt}),Ue=dz({BigNumber:Lt,Complex:Di,DenseMatrix:Gr,Fraction:Jd}),NI=JU({BigNumber:Lt,config:Tt,typed:Ue}),uqe=SH({BigNumber:Lt,config:Tt}),nu=YU({typed:Ue}),fqe=hV({Complex:Di,config:Tt,typed:Ue}),lqe=dV({BigNumber:Lt,typed:Ue}),cqe=vV({BigNumber:Lt,Complex:Di,config:Tt,typed:Ue}),$a=QU({typed:Ue}),hqe=Ij({typed:Ue}),pqe=bV({BigNumber:Lt,Complex:Di,config:Tt,typed:Ue}),dqe=xV({typed:Ue}),mK=_V({typed:Ue}),mqe=EV({Complex:Di,config:Tt,typed:Ue}),Hc=UU({BigNumber:Lt,typed:Ue}),vqe=Tj({typed:Ue}),gqe=zU({typed:Ue}),yqe=Mz({typed:Ue}),LE=aG({typed:Ue}),PE=jU({Complex:Di,typed:Ue}),Lv=Cj({typed:Ue}),bqe=AV({typed:Ue}),wqe=TV({BigNumber:Lt,typed:Ue}),xqe=DV({BigNumber:Lt,typed:Ue}),_qe=nj({typed:Ue}),xn=BU({config:Tt,typed:Ue}),Sqe=h$({typed:Ue}),vK=ij({typed:Ue}),Eqe=aj({Complex:Di,typed:Ue}),Mqe=$j({typed:Ue}),Aqe=Wj({typed:Ue}),Dw=m$({typed:Ue}),Nqe=Gj({typed:Ue}),Tqe=y$({format:Dw,typed:Ue}),gK=Oj({typed:Ue}),Tu=Tz({typed:Ue}),Pv=DU({typed:Ue}),qE=CU({typed:Ue}),Wl=OU({typed:Ue}),Dqe=VG({BigNumber:Lt,config:Tt}),kqe=uG({Complex:Di,typed:Ue}),Iqe=hj({Complex:Di,config:Tt,typed:Ue}),Cqe=pj({Complex:Di,config:Tt,typed:Ue}),yK=Zj({typed:Ue}),_a=mj({typed:Ue}),bK=Fj({typed:Ue}),vp=PU({typed:Ue}),Oqe=g$({format:Dw,typed:Ue}),Rqe=dG({config:Tt,typed:Ue}),Fqe=b$({typed:Ue}),Bqe=vG({config:Tt,typed:Ue}),wK=Rj({typed:Ue}),Lqe=IV({BigNumber:Lt,typed:Ue}),xK=yj({BigNumber:Lt,Fraction:Jd,complex:PE,typed:Ue}),TI=OV({typed:Ue}),Kc=LU({Matrix:BE,equalScalar:xn,typed:Ue}),Pqe=KU({typed:Ue}),qqe=wj({typed:Ue}),zqe=qU({typed:Ue}),Uqe=FV({typed:Ue}),jqe=FU({typed:Ue}),$qe=pV({Complex:Di,config:Tt,typed:Ue}),Vqe=gV({BigNumber:Lt,typed:Ue}),DI=mE({isInteger:Tu,typed:Ue}),Wqe=yV({BigNumber:Lt,Complex:Di,config:Tt,typed:Ue}),Gqe=v$({format:Dw,typed:Ue}),Hqe=oG({typed:Ue}),kI=MV({typed:Ue}),Kqe=kV({BigNumber:Lt,typed:Ue}),kw=RU({typed:Ue}),Zqe=x$({typed:Ue}),Jqe=gG({config:Tt,typed:Ue}),Yqe=CV({BigNumber:Lt,typed:Ue}),Xqe=RV({typed:Ue}),Qqe=lV({SparseMatrix:Kc,typed:Ue}),Zc=bj({Complex:Di,config:Tt,typed:Ue}),eze=BV({typed:Ue}),Jc=ZU({typed:Ue}),tze=mV({BigNumber:Lt,Complex:Di,config:Tt,typed:Ue}),rze=NV({BigNumber:Lt,typed:Ue}),Iw=$U({Fraction:Jd,typed:Ue}),Yd=kU({typed:Ue}),jt=VU({DenseMatrix:Gr,Matrix:BE,SparseMatrix:Kc,typed:Ue}),nze=WU({isZero:Wl,matrix:jt,typed:Ue}),_K=dj({DenseMatrix:Gr,equalScalar:xn,matrix:jt,typed:Ue}),ize=gj({BigNumber:Lt,equalScalar:xn,matrix:jt,typed:Ue}),Yf=_$({bignumber:Hc,fraction:Iw,number:vp}),aze=Bj({DenseMatrix:Gr,equalScalar:xn,matrix:jt,typed:Ue}),SK=d$({config:Tt,multiplyScalar:_a,numeric:Yf,typed:Ue}),oze=Qj({isInteger:Tu,matrix:jt,typed:Ue}),$o=i$({matrix:jt,config:Tt,typed:Ue}),Du=V$({DenseMatrix:Gr,config:Tt,matrix:jt,typed:Ue}),sze=a$({matrix:jt,typed:Ue}),ku=EE({matrix:jt,typed:Ue}),Ji=xj({DenseMatrix:Gr,addScalar:$a,equalScalar:xn,matrix:jt,typed:Ue,unaryMinus:Jc}),uze=w$({matrix:jt,typed:Ue}),II=s$({matrix:jt,typed:Ue}),EK=_j({BigNumber:Lt,config:Tt,matrix:jt,typed:Ue}),Gl=f$({BigNumber:Lt,config:Tt,matrix:jt,typed:Ue}),fze=P$({equalScalar:xn,matrix:jt,not:bK,typed:Ue,zeros:Gl}),lze=Nj({equalScalar:xn,matrix:jt,typed:Ue}),cze=kj({DenseMatrix:Gr,matrix:jt,typed:Ue}),hze=ej({BigNumber:Lt,Complex:Di,Fraction:Jd,config:Tt,isNegative:Pv,matrix:jt,typed:Ue,unaryMinus:Jc}),qv=q$({BigNumber:Lt,DenseMatrix:Gr,Fraction:Jd,config:Tt,equalScalar:xn,matrix:jt,typed:Ue}),MK=U$({matrix:jt,typed:Ue}),CI=yE({isInteger:Tu,matrix:jt,typed:Ue}),pze=zj({prod:SK,size:$o,typed:Ue}),OI=u$({conj:Lv,transpose:II,typed:Ue}),AK=jj({DenseMatrix:Gr,SparseMatrix:Kc,matrix:jt,typed:Ue}),Yi=S$({numeric:Yf,typed:Ue}),zE=k$({DenseMatrix:Gr,divideScalar:Yi,equalScalar:xn,matrix:jt,typed:Ue}),Xf=j$({DenseMatrix:Gr,equalScalar:xn,matrix:jt,typed:Ue}),NK=l$({addScalar:$a,divideScalar:Yi,exp:vK,i:cK,matrix:jt,multiplyScalar:_a,tau:pK,typed:Ue}),Cw=Vj({matrix:jt,typed:Ue}),dze=lj({BigNumber:Lt,DenseMatrix:Gr,equalScalar:xn,matrix:jt,typed:Ue}),mze=IU({isNumeric:Yd,typed:Ue}),vze=KV({abs:nu,addScalar:$a,divideScalar:Yi,isPositive:qE,multiplyScalar:_a,smaller:Du,sqrt:Zc,typed:Ue}),gze=c$({conj:Lv,dotDivide:zE,fft:NK,typed:Ue}),yze=Kj({matrix:jt,multiplyScalar:_a,typed:Ue}),UE=H$({DenseMatrix:Gr,config:Tt,matrix:jt,typed:Ue}),bze=F$({DenseMatrix:Gr,equalScalar:xn,matrix:jt,typed:Ue,zeros:Gl}),TK=I$({DenseMatrix:Gr,divideScalar:Yi,equalScalar:xn,matrix:jt,multiplyScalar:_a,subtract:Ji,typed:Ue}),DK=HU({flatten:Cw,matrix:jt,size:$o,typed:Ue}),wze=AE({config:Tt,numeric:Yf,smaller:Du,typed:Ue}),xze=p$({isNaN:kw,isNumeric:Yd,typed:Ue}),_ze=T$({Complex:Di,config:Tt,divideScalar:Yi,typed:Ue}),Sze=Yj({BigNumber:Lt,config:Tt,matrix:jt,typed:Ue}),RI=Y$({compare:qv,isNaN:kw,isNumeric:Yd,typed:Ue}),Eze=e$({config:Tt,matrix:jt}),Mze=B$({DenseMatrix:Gr,equalScalar:xn,matrix:jt,typed:Ue,zeros:Gl}),jE=M$({BigNumber:Lt,DenseMatrix:Gr,equalScalar:xn,matrix:jt,typed:Ue,zeros:Gl}),FI=W$({DenseMatrix:Gr,config:Tt,matrix:jt,typed:Ue}),Aze=J$({DenseMatrix:Gr,config:Tt,equalScalar:xn,matrix:jt,typed:Ue}),BI=C$({DenseMatrix:Gr,divideScalar:Yi,equalScalar:xn,matrix:jt,multiplyScalar:_a,subtract:Ji,typed:Ue}),Nze=Lj({DenseMatrix:Gr,matrix:jt,typed:Ue}),Xi=HV({DenseMatrix:Gr,SparseMatrix:Kc,addScalar:$a,equalScalar:xn,matrix:jt,typed:Ue}),Tze=SV({BigNumber:Lt,DenseMatrix:Gr,equalScalar:xn,matrix:jt,typed:Ue}),Dze=Dj({DenseMatrix:Gr,equalScalar:xn,matrix:jt,typed:Ue}),kze=wG({addScalar:$a,combinations:LE,divideScalar:Yi,isInteger:Tu,isNegative:Pv,multiplyScalar:_a,typed:Ue}),Hl=z$({compare:qv,typed:Ue}),Ize=IE({add:Xi,typed:Ue,unaryPlus:NI}),kK=K$({equal:Xf,typed:Ue}),Cze=wE({matrix:jt,number:vp,subtract:Ji,typed:Ue}),$E=JV({addScalar:$a,conj:Lv,multiplyScalar:_a,size:$o,typed:Ue}),Oze=$$({compareText:MK,isZero:Wl,typed:Ue}),IK=fj({DenseMatrix:Gr,config:Tt,equalScalar:xn,matrix:jt,round:jE,typed:Ue,zeros:Gl}),zv=Hj({BigNumber:Lt,DenseMatrix:Gr,SparseMatrix:Kc,config:Tt,matrix:jt,typed:Ue}),Rze=Sj({BigNumber:Lt,add:Xi,config:Tt,equal:Xf,isInteger:Tu,mod:_K,smaller:Du,typed:Ue,xgcd:EK}),Iu=G$({DenseMatrix:Gr,config:Tt,matrix:jt,typed:Ue}),LI=A$({Complex:Di,config:Tt,divideScalar:Yi,typed:Ue}),Fze=O$({DenseMatrix:Gr,divideScalar:Yi,equalScalar:xn,matrix:jt,multiplyScalar:_a,subtract:Ji,typed:Ue}),Bze=GU({flatten:Cw,matrix:jt,size:$o,typed:Ue}),Sa=vj({addScalar:$a,dot:$E,equalScalar:xn,matrix:jt,multiplyScalar:_a,typed:Ue}),CK=NW({addScalar:$a,complex:PE,conj:Lv,divideScalar:Yi,equal:Xf,identity:zv,isZero:Wl,matrix:jt,multiplyScalar:_a,sign:xK,sqrt:Zc,subtract:Ji,typed:Ue,unaryMinus:Jc,zeros:Gl}),Ow=_E({bignumber:Hc,matrix:jt,config:Tt,larger:Iu,largerEq:UE,smaller:Du,smallerEq:FI,typed:Ue}),Lze=L$({DenseMatrix:Gr,equalScalar:xn,matrix:jt,typed:Ue,zeros:Gl}),Pze=VV({compareNatural:Hl,typed:Ue}),OK=CW({SparseMatrix:Kc,abs:nu,add:Xi,divideScalar:Yi,larger:Iu,largerEq:UE,multiply:Sa,subtract:Ji,transpose:II,typed:Ue}),RK=kE({add:Xi,config:Tt,numeric:Yf,typed:Ue}),qze=YV({add:Xi,matrix:jt,typed:Ue}),FK=R$({DenseMatrix:Gr,divideScalar:Yi,equalScalar:xn,matrix:jt,multiplyScalar:_a,subtract:Ji,typed:Ue}),zze=wV({Complex:Di,config:Tt,typed:Ue}),BK=rj({DenseMatrix:Gr,config:Tt,equalScalar:xn,matrix:jt,round:jE,typed:Ue,zeros:Gl}),Uze=xG({addScalar:$a,combinations:LE,isInteger:Tu,isNegative:Pv,isPositive:qE,larger:Iu,typed:Ue}),jze=Uj({matrix:jt,multiply:Sa,subtract:Ji,typed:Ue}),LK=UW({divideScalar:Yi,isZero:Wl,matrix:jt,multiply:Sa,subtract:Ji,typed:Ue,unaryMinus:Jc}),$ze=KW({abs:nu,addScalar:$a,divideScalar:Yi,multiplyScalar:_a,sqrt:Zc,subtract:Ji,typed:Ue,unaryMinus:Jc}),Vze=Mj({equalScalar:xn,matrix:jt,multiplyScalar:_a,typed:Ue}),PK=nV({larger:Iu,smaller:Du}),qK=sj({Complex:Di,DenseMatrix:Gr,ceil:BK,equalScalar:xn,floor:IK,matrix:jt,typed:Ue,zeros:Gl}),zK=tV({DenseMatrix:Gr,smaller:Du}),Vo=rV({ImmutableDenseMatrix:zK}),Wze=ZW({abs:nu,add:Xi,addScalar:$a,config:Tt,divideScalar:Yi,equalScalar:xn,flatten:Cw,isNumeric:Yd,isZero:Wl,matrix:jt,multiply:Sa,multiplyScalar:_a,smaller:Du,subtract:Ji,typed:Ue}),Gze=cj({equalScalar:xn,matrix:jt,typed:Ue}),Hze=N$({Complex:Di,config:Tt,divideScalar:Yi,log:LI,typed:Ue}),UK=ME({config:Tt,larger:Iu,numeric:Yf,typed:Ue}),Uv=nG({add:Xi,compare:qv,multiply:Sa,partitionSelect:RI,typed:Ue}),Kze=SE({Index:Vo,matrix:jt,range:Ow,typed:Ue}),Zze=LV({DenseMatrix:Gr,Index:Vo,compareNatural:Hl,size:$o,subset:ku,typed:Ue}),Jze=qV({DenseMatrix:Gr,Index:Vo,compareNatural:Hl,size:$o,subset:ku,typed:Ue}),Yze=UV({Index:Vo,compareNatural:Hl,size:$o,subset:ku,typed:Ue}),Xze=$V({Index:Vo,compareNatural:Hl,size:$o,subset:ku,typed:Ue}),Qze=X$({compare:qv,compareNatural:Hl,matrix:jt,typed:Ue}),jK=bE({Index:Vo,matrix:jt,range:Ow,typed:Ue}),eUe=XV({Index:Vo,typed:Ue}),Xd=jW({abs:nu,addScalar:$a,det:LK,divideScalar:Yi,identity:zv,matrix:jt,multiply:Sa,typed:Ue,unaryMinus:Jc}),tUe=$W({Complex:Di,add:Xi,ctranspose:OI,deepEqual:kK,divideScalar:Yi,dot:$E,dotDivide:zE,equal:Xf,inv:Xd,matrix:jt,multiply:Sa,typed:Ue}),Yc=E$({Complex:Di,config:Tt,fraction:Iw,identity:zv,inv:Xd,matrix:jt,multiply:Sa,number:vp,typed:Ue}),$K=PV({DenseMatrix:Gr,Index:Vo,compareNatural:Hl,size:$o,subset:ku,typed:Ue}),rUe=jV({Index:Vo,compareNatural:Hl,size:$o,subset:ku,typed:Ue}),VK=iV({FibonacciHeap:PK,addScalar:$a,equalScalar:xn}),nUe=GW({abs:nu,add:Xi,identity:zv,inv:Xd,max:UK,multiply:Sa,size:$o,sqrt:Zc,subtract:Ji,typed:Ue}),kr=uV({BigNumber:Lt,Complex:Di,Fraction:Jd,abs:nu,addScalar:$a,config:Tt,divideScalar:Yi,equal:Xf,fix:qK,format:Dw,isNumeric:Yd,multiplyScalar:_a,number:vp,pow:Yc,round:jE,subtract:Ji}),iUe=rH({BigNumber:Lt,Unit:kr,config:Tt}),aUe=LH({BigNumber:Lt,Unit:kr,config:Tt}),oUe=MH({BigNumber:Lt,Unit:kr,config:Tt}),sUe=aH({BigNumber:Lt,Unit:kr,config:Tt}),uUe=NH({BigNumber:Lt,Unit:kr,config:Tt}),fUe=oH({BigNumber:Lt,Unit:kr,config:Tt}),lUe=cV({Unit:kr,typed:Ue}),cUe=yH({BigNumber:Lt,Unit:kr,config:Tt}),hUe=D$({DenseMatrix:Gr,equalScalar:xn,matrix:jt,pow:Yc,typed:Ue}),pUe=tH({BigNumber:Lt,Unit:kr,config:Tt}),dUe=iH({BigNumber:Lt,Unit:kr,config:Tt}),mUe=WW({abs:nu,add:Xi,identity:zv,inv:Xd,multiply:Sa,typed:Ue}),vUe=TH({BigNumber:Lt,Unit:kr,config:Tt}),gUe=DH({BigNumber:Lt,Unit:kr,config:Tt}),WK=sG({BigNumber:Lt,Complex:Di,config:Tt,multiplyScalar:_a,pow:Yc,typed:Ue}),yUe=YG({BigNumber:Lt,Unit:kr,config:Tt}),bUe=vH({BigNumber:Lt,Unit:kr,config:Tt}),wUe=lH({BigNumber:Lt,Unit:kr,config:Tt}),xUe=kH({BigNumber:Lt,Unit:kr,config:Tt}),_Ue=eH({BigNumber:Lt,Unit:kr,config:Tt}),SUe=PH({BigNumber:Lt,Unit:kr,config:Tt}),EUe=CH({BigNumber:Lt,Unit:kr,config:Tt}),MUe=bH({BigNumber:Lt,Unit:kr,config:Tt}),AUe=fH({BigNumber:Lt,Unit:kr,config:Tt}),NUe=VH({BigNumber:Lt,Unit:kr,config:Tt}),TUe=UH({BigNumber:Lt,Unit:kr,config:Tt}),DUe=WH({BigNumber:Lt,Unit:kr,config:Tt}),kUe=gH({BigNumber:Lt,Unit:kr,config:Tt}),IUe=QG({BigNumber:Lt,Unit:kr,config:Tt}),CUe=xH({BigNumber:Lt,Unit:kr,config:Tt}),GK=zV({DenseMatrix:Gr,Index:Vo,compareNatural:Hl,size:$o,subset:ku,typed:Ue}),OUe=JG({BigNumber:Lt,Unit:kr,config:Tt}),RUe=BH({BigNumber:Lt,Unit:kr,config:Tt}),FUe=_H({BigNumber:Lt,Unit:kr,config:Tt}),BUe=AH({BigNumber:Lt,Unit:kr,config:Tt}),LUe=cH({BigNumber:Lt,Unit:kr,config:Tt}),PUe=nH({BigNumber:Lt,Unit:kr,config:Tt}),Qf=HW({divideScalar:Yi,equalScalar:xn,inv:Xd,matrix:jt,multiply:Sa,typed:Ue}),qUe=pH({BigNumber:Lt,Unit:kr,config:Tt}),VE=fG({gamma:WK,typed:Ue}),zUe=zH({BigNumber:Lt,Unit:kr,config:Tt}),UUe=sH({BigNumber:Lt,Unit:kr,config:Tt}),HK=AW({DenseMatrix:Gr,Spa:VK,SparseMatrix:Kc,abs:nu,addScalar:$a,divideScalar:Yi,equalScalar:xn,larger:Iu,matrix:jt,multiplyScalar:_a,subtract:Ji,typed:Ue,unaryMinus:Jc}),jUe=uH({BigNumber:Lt,Unit:kr,config:Tt}),$Ue=qH({BigNumber:Lt,Unit:kr,config:Tt}),VUe=cG({add:Xi,divide:Qf,factorial:VE,isInteger:Tu,isPositive:qE,multiply:Sa,typed:Ue}),WUe=hG({factorial:VE,typed:Ue}),GUe=jH({BigNumber:Lt,Unit:kr,config:Tt}),HUe=wH({BigNumber:Lt,Unit:kr,config:Tt}),KUe=FH({BigNumber:Lt,Unit:kr,config:Tt}),KK=yG({bignumber:Hc,addScalar:$a,combinations:LE,divideScalar:Yi,factorial:VE,isInteger:Tu,isNegative:Pv,larger:Iu,multiplyScalar:_a,number:vp,pow:Yc,subtract:Ji,typed:Ue}),ZUe=fV({Unit:kr,typed:Ue}),JUe=bG({addScalar:$a,isInteger:Tu,isNegative:Pv,stirlingS2:KK,typed:Ue}),ZK=VW({abs:nu,add:Xi,addScalar:$a,atan:mK,bignumber:Hc,column:jK,complex:PE,config:Tt,cos:kI,diag:AK,divideScalar:Yi,dot:$E,equal:Xf,flatten:Cw,im:gK,inv:Xd,larger:Iu,matrix:jt,matrixFromColumns:DK,multiply:Sa,multiplyScalar:_a,number:vp,qr:CK,re:wK,sin:TI,smaller:Du,sqrt:Zc,subtract:Ji,typed:Ue,usolve:BI,usolveAll:FK}),YUe=dH({BigNumber:Lt,Unit:kr,config:Tt}),XUe=CE({add:Xi,divide:Qf,typed:Ue}),QUe=OH({BigNumber:Lt,Unit:kr,config:Tt}),eje=XG({BigNumber:Lt,Unit:kr,config:Tt}),JK=WV({Index:Vo,concat:CI,setDifference:$K,size:$o,subset:ku,typed:Ue}),tje=hH({BigNumber:Lt,Unit:kr,config:Tt}),rje=RW({DenseMatrix:Gr,lsolve:TK,lup:HK,matrix:jt,slu:OK,typed:Ue,usolve:BI}),jv=QW({add:Xi,compare:qv,divide:Qf,partitionSelect:RI,typed:Ue}),nje=GV({Index:Vo,concat:CI,setIntersect:GK,setSymDifference:JK,size:$o,subset:ku,typed:Ue}),qI=OE({add:Xi,apply:DI,divide:Qf,isNaN:kw,multiply:Sa,subtract:Ji,typed:Ue}),ije=lG({divide:Qf,dotDivide:zE,isNumeric:Yd,log:LI,matrix:jt,multiply:Sa,sum:RK,typed:Ue}),YK=ZV({abs:nu,add:Xi,conj:Lv,ctranspose:OI,eigs:ZK,equalScalar:xn,larger:Iu,matrix:jt,multiply:Sa,pow:Yc,smaller:Du,sqrt:Zc,typed:Ue}),aje=$H({BigNumber:Lt,Unit:kr,config:Tt}),XK=r$({BigNumber:Lt,DenseMatrix:Gr,SparseMatrix:Kc,addScalar:$a,config:Tt,cos:kI,matrix:jt,multiplyScalar:_a,norm:YK,sin:TI,typed:Ue,unaryMinus:Jc}),oje=IH({BigNumber:Lt,Unit:kr,config:Tt}),sje=RE({sqrt:Zc,typed:Ue,variance:qI}),uje=eG({abs:nu,map:yK,median:jv,subtract:Ji,typed:Ue}),fje=t$({multiply:Sa,rotationMatrix:XK,typed:Ue})});var Rw,WE,lje,eZ,ds,GE,Qd,$v,cje,HE,hje,pje,Vv,dje,JZt,YZt,mje,KE,vje,ZE,Wv,Gv,Xc,gje,tZ,XZt,yje,QZt,zI,eJt,bje,tJt,wje,rJt,nJt,iJt,xje=te(()=>{w();_();fw();rz();AI();QK();Rw={},WE={},lje={},eZ=BW({math:Rw}),ds=eW({mathWithTransform:WE}),GE=pW({Node:ds}),Qd=dW({Node:ds}),$v=mW({Node:ds}),cje=gW({Node:ds}),HE=nW({Node:ds}),hje=aW({Node:ds,ResultSet:hK}),pje=oW({Node:ds}),Vv=lW({Node:ds}),dje=vW({Node:ds}),JZt=IG({classes:lje}),YZt=zW({Chain:eZ,typed:Ue}),mje=cW({Node:ds,typed:Ue}),KE=rW({Node:ds,subset:ku}),vje=iW({matrix:jt,Node:ds,subset:ku}),ZE=hW({Node:ds,size:$o}),Wv=yW({Unit:kr,Node:ds,math:Rw}),Gv=wW({Node:ds,SymbolNode:Wv,math:Rw}),Xc=xW({AccessorNode:KE,ArrayNode:HE,AssignmentNode:vje,BlockNode:hje,ConditionalNode:pje,ConstantNode:Vv,FunctionAssignmentNode:mje,FunctionNode:Gv,IndexNode:ZE,ObjectNode:GE,OperatorNode:Qd,ParenthesisNode:$v,RangeNode:dje,RelationalNode:cje,SymbolNode:Wv,config:Tt,numeric:Yf,typed:Ue}),gje=NG({ConstantNode:Vv,FunctionNode:Gv,OperatorNode:Qd,ParenthesisNode:$v,parse:Xc}),tZ=AG({AccessorNode:KE,ArrayNode:HE,ConstantNode:Vv,FunctionNode:Gv,IndexNode:ZE,ObjectNode:GE,OperatorNode:Qd,ParenthesisNode:$v,SymbolNode:Wv,add:Xi,divide:Qf,equal:Xf,isZero:Wl,multiply:Sa,pow:Yc,subtract:Ji}),XZt=_W({parse:Xc,typed:Ue}),yje=FW({parse:Xc}),QZt=_G({parse:Xc,typed:Ue}),zI=MG({bignumber:Hc,fraction:Iw,AccessorNode:KE,ArrayNode:HE,ConstantNode:Vv,FunctionNode:Gv,IndexNode:ZE,ObjectNode:GE,OperatorNode:Qd,ParenthesisNode:$v,SymbolNode:Wv,add:Xi,config:Tt,divide:Qf,equal:Xf,isZero:Wl,mathWithTransform:WE,matrix:jt,multiply:Sa,parse:Xc,pow:Yc,resolve:gje,simplifyCore:tZ,subtract:Ji,typed:Ue}),eJt=TG({OperatorNode:Qd,parse:Xc,simplify:zI,typed:Ue}),bje=SW({parse:Xc,typed:Ue}),tJt=qW({Help:yje,mathWithTransform:WE,typed:Ue}),wje=EW({evaluate:bje}),rJt=kG({bignumber:Hc,fraction:Iw,AccessorNode:KE,ArrayNode:HE,ConstantNode:Vv,FunctionNode:Gv,IndexNode:ZE,ObjectNode:GE,OperatorNode:Qd,ParenthesisNode:$v,SymbolNode:Wv,add:Xi,config:Tt,divide:Qf,equal:Xf,isZero:Wl,mathWithTransform:WE,matrix:jt,multiply:Sa,parse:Xc,pow:Yc,simplify:zI,simplifyCore:tZ,subtract:Ji,typed:Ue}),nJt=DG({ConstantNode:Vv,FunctionNode:Gv,OperatorNode:Qd,ParenthesisNode:$v,SymbolNode:Wv,config:Tt,equal:Xf,isZero:Wl,numeric:Yf,parse:Xc,simplify:zI,typed:Ue}),iJt=MW({Parser:wje,typed:Ue});Ca(Rw,{e:lK,false:WPe,fineStructure:GPe,i:cK,Infinity:HPe,LN10:KPe,LOG10E:ZPe,NaN:JPe,null:YPe,phi:XPe,SQRT1_2:eqe,sackurTetrode:tqe,tau:pK,true:rqe,E:lK,version:nqe,efimovFactor:iqe,LN2:aqe,pi:dK,replacer:oqe,reviver:JZt,SQRT2:sqe,typed:Ue,unaryPlus:NI,PI:dK,weakMixingAngle:uqe,abs:nu,acos:fqe,acot:lqe,acsc:cqe,addScalar:$a,arg:hqe,asech:pqe,asinh:dqe,atan:mK,atanh:mqe,bignumber:Hc,bitNot:vqe,boolean:gqe,chain:YZt,clone:yqe,combinations:LE,complex:PE,conj:Lv,cosh:bqe,coth:wqe,csc:xqe,cube:_qe,equalScalar:xn,erf:Sqe,exp:vK,expm1:Eqe,filter:Mqe,forEach:Aqe,format:Dw,getMatrixDataType:Nqe,hex:Tqe,im:gK,isInteger:Tu,isNegative:Pv,isPositive:qE,isZero:Wl,LOG2E:Dqe,lgamma:kqe,log10:Iqe,log2:Cqe,map:yK,multiplyScalar:_a,not:bK,number:vp,oct:Oqe,pickRandom:Rqe,print:Fqe,random:Bqe,re:wK,sec:Lqe,sign:xK,sin:TI,splitUnit:Pqe,square:qqe,string:zqe,tan:Uqe,typeOf:jqe,acosh:$qe,acsch:Vqe,apply:DI,asec:Wqe,bin:Gqe,combinationsWithRep:Hqe,cos:kI,csch:Kqe,isNaN:kw,isPrime:Zqe,randomInt:Jqe,sech:Yqe,sinh:Xqe,sparse:Qqe,sqrt:Zc,tanh:eze,unaryMinus:Jc,acoth:tze,cot:rze,fraction:Iw,isNumeric:Yd,matrix:jt,matrixFromFunction:nze,mod:_K,nthRoot:ize,numeric:Yf,or:aze,prod:SK,reshape:oze,size:$o,smaller:Du,squeeze:sze,subset:ku,subtract:Ji,to:uze,transpose:II,xgcd:EK,zeros:Gl,and:fze,bitAnd:lze,bitXor:cze,cbrt:hze,compare:qv,compareText:MK,concat:CI,count:pze,ctranspose:OI,diag:AK,divideScalar:Yi,dotDivide:zE,equal:Xf,fft:NK,flatten:Cw,gcd:dze,hasNumericValue:mze,hypot:vze,ifft:gze,kron:yze,largerEq:UE,leftShift:bze,lsolve:TK,matrixFromColumns:DK,min:wze,mode:xze,nthRoots:_ze,ones:Sze,partitionSelect:RI,resize:Eze,rightArithShift:Mze,round:jE,smallerEq:FI,unequal:Aze,usolve:BI,xor:Nze,add:Xi,atan2:Tze,bitOr:Dze,catalan:kze,compareNatural:Hl,cumsum:Ize,deepEqual:kK,diff:Cze,dot:$E,equalText:Oze,floor:IK,identity:zv,invmod:Rze,larger:Iu,log:LI,lsolveAll:Fze,matrixFromRows:Bze,multiply:Sa,qr:CK,range:Ow,rightLogShift:Lze,setSize:Pze,slu:OK,sum:RK,trace:qze,usolveAll:FK,asin:zze,ceil:BK,composition:Uze,cross:jze,det:LK,distance:$ze,dotMultiply:Vze,fix:qK,intersect:Wze,lcm:Gze,log1p:Hze,max:UK,quantileSeq:Uv,row:Kze,setCartesian:Zze,setDistinct:Jze,setIsSubset:Yze,setPowerset:Xze,sort:Qze,column:jK,index:eUe,inv:Xd,pinv:tUe,pow:Yc,setDifference:$K,setMultiplicity:rUe,sqrtm:nUe,vacuumImpedance:iUe,wienDisplacement:aUe,atomicMass:oUe,bohrMagneton:sUe,boltzmann:uUe,conductanceQuantum:fUe,createUnit:lUe,deuteronMass:cUe,dotPow:hUe,electricConstant:pUe,elementaryCharge:dUe,expm:mUe,faraday:vUe,firstRadiation:gUe,gamma:WK,gravitationConstant:yUe,hartreeEnergy:bUe,klitzing:wUe,loschmidt:xUe,magneticConstant:_Ue,molarMass:SUe,molarPlanckConstant:EUe,neutronMass:MUe,nuclearMagneton:AUe,planckCharge:NUe,planckLength:TUe,planckTemperature:DUe,protonMass:kUe,reducedPlanckConstant:IUe,rydberg:CUe,setIntersect:GK,speedOfLight:OUe,stefanBoltzmann:RUe,thomsonCrossSection:FUe,avogadro:BUe,bohrRadius:LUe,coulomb:PUe,divide:Qf,electronMass:qUe,factorial:VE,gravity:zUe,inverseConductanceQuantum:UUe,lup:HK,magneticFluxQuantum:jUe,molarMassC12:$Ue,multinomial:VUe,parse:Xc,permutations:WUe,planckMass:GUe,quantumOfCirculation:HUe,resolve:gje,secondRadiation:KUe,simplifyCore:tZ,stirlingS2:KK,unit:ZUe,bellNumbers:JUe,compile:XZt,eigs:ZK,fermiCoupling:YUe,leafCount:QZt,mean:XUe,molarVolume:QUe,planckConstant:eje,setSymDifference:JK,simplify:zI,symbolicEqual:eJt,classicalElectronRadius:tje,evaluate:bje,help:tJt,lusolve:rje,median:jv,rationalize:rJt,setUnion:nje,variance:qI,derivative:nJt,kldivergence:ije,norm:YK,planckTime:aje,rotationMatrix:XK,gasConstant:oje,parser:iJt,std:sje,mad:uje,rotate:fje,config:Tt});Ca(WE,Rw,{filter:KH({typed:Ue}),forEach:ZH({typed:Ue}),map:YH({typed:Ue}),apply:GH({isInteger:Tu,typed:Ue}),diff:aK({bignumber:Hc,matrix:jt,number:vp,subtract:Ji,typed:Ue}),subset:nK({matrix:jt,typed:Ue}),concat:iK({isInteger:Tu,matrix:jt,typed:Ue}),max:XH({config:Tt,larger:Iu,numeric:Yf,typed:Ue}),min:eK({config:Tt,numeric:Yf,smaller:Du,typed:Ue}),range:tK({bignumber:Hc,matrix:jt,config:Tt,larger:Iu,largerEq:UE,smaller:Du,smallerEq:FI,typed:Ue}),sum:sK({add:Xi,config:Tt,numeric:Yf,typed:Ue}),cumsum:uK({add:Xi,typed:Ue,unaryPlus:NI}),row:rK({Index:Vo,matrix:jt,range:Ow,typed:Ue}),column:HH({Index:Vo,matrix:jt,range:Ow,typed:Ue}),index:JH({Index:Vo}),mean:QH({add:Xi,divide:Qf,typed:Ue}),variance:fK({add:Xi,apply:DI,divide:Qf,isNaN:kw,multiply:Sa,subtract:Ji,typed:Ue}),std:oK({sqrt:Zc,typed:Ue,variance:qI})});Ca(lje,{BigNumber:Lt,Chain:eZ,Complex:Di,Fraction:Jd,Matrix:BE,Node:ds,ObjectNode:GE,OperatorNode:Qd,ParenthesisNode:$v,Range:QPe,RelationalNode:cje,ResultSet:hK,ArrayNode:HE,BlockNode:hje,ConditionalNode:pje,ConstantNode:Vv,DenseMatrix:Gr,RangeNode:dje,FunctionAssignmentNode:mje,SparseMatrix:Kc,AccessorNode:KE,AssignmentNode:vje,IndexNode:ZE,FibonacciHeap:PK,ImmutableDenseMatrix:zK,Index:Vo,Spa:VK,Unit:kr,SymbolNode:Wv,FunctionNode:Gv,Help:yje,Parser:wje});eZ.createProxy(Rw)});var _je=te(()=>{w();_()});var Sje=te(()=>{w();_()});var Eje=te(()=>{w();_();QK();xje();_je();Sje();AI()});var UI=te(()=>{w();_();Eje()});var jI,Mje=te(()=>{w();_();Zi();pi();UI();ks();jr();jI=class extends Pd{constructor({strategy:r="mean",constant:n,quantile:a}={}){super();De(this,"strategy");De(this,"constant");De(this,"quantile");De(this,"name","DummyRegressor");De(this,"tf");this.tf=kt(),this.strategy=r,this.constant=n,this.quantile=a}fit(r,n){Ft(xu(n),"y variable can not be converted to a 1D Tensor."),Ft(["mean","median","constant","quantile"].includes(this.strategy),`Strategy ${this.strategy} not supported. We support 'mean', 'median', 'constant', and 'quantile'`);let a=op(n);return this.strategy==="mean"?(this.constant=a.mean().dataSync()[0],this):this.strategy==="median"?(this.constant=jv(a.arraySync()),this):this.strategy==="quantile"?(Ft(typeof this.quantile=="number"&&!isNaN(this.quantile)&&isFinite(this.quantile),"quantile is not set to a number. Please set it to a value between 0 and 1 in the constructor"),Ft(this.quantile<0||this.quantile>1,"quantile must be set to a value between 0 and 1"),this.constant=Uv(a.arraySync(),this.quantile),this):this}predict(r){Ft(ti(r),"Data can not be converted to a 2D matrix.");let a=Or(r).shape[0];return this.tf.tensor1d(Array(a).fill(this.constant))}}});function VI(t){for(var e=new Map,r,n=0,a=0;a<t.length;a++){var o=e.get(t[a]);o===void 0?o=1:o++,o>n&&(r=t[a],n=o),e.set(t[a],o)}if(n===0)throw new Error("mode requires at last one data point");return r}function oJt(t){for(var e=t,r=t,n=1;n<15;n++)r*=t*t/(2*n+1),e+=r;return Math.round((.5+e/aJt*Math.exp(-t*t/2))*1e4)/1e4}var Aje,Nje,kmn,Imn,Cmn,aJt,sJt,$I,rZ=te(()=>{w();_();Aje=function(){this.totalCount=0,this.data={}};Aje.prototype.train=function(e,r){this.data[r]||(this.data[r]={});for(var n in e){var a=e[n];this.data[r][n]===void 0&&(this.data[r][n]={}),this.data[r][n][a]===void 0&&(this.data[r][n][a]=0),this.data[r][n][a]++}this.totalCount++};Aje.prototype.score=function(e){var r={},n;for(var a in e){var o=e[a];for(n in this.data)r[n]={},this.data[n][a]?r[n][a+"_"+o]=(this.data[n][a][o]||0)/this.totalCount:r[n][a+"_"+o]=0}var s={};for(n in r){s[n]=0;for(var u in r[n])s[n]+=r[n][u]}return s};Nje=function(){this.weights=[],this.bias=0};Nje.prototype.predict=function(e){if(e.length!==this.weights.length)return null;for(var r=0,n=0;n<this.weights.length;n++)r+=this.weights[n]*e[n];return r+=this.bias,r>0?1:0};Nje.prototype.train=function(e,r){if(r!==0&&r!==1)return null;e.length!==this.weights.length&&(this.weights=e,this.bias=1);var n=this.predict(e);if(typeof n=="number"&&n!==r){for(var a=r-n,o=0;o<this.weights.length;o++)this.weights[o]+=a*e[o];this.bias+=a}return this};kmn=607/128,Imn=Math.log(Math.sqrt(2*Math.PI)),Cmn=Math.sqrt(2*Math.PI),aJt=Math.sqrt(2*Math.PI);sJt=[];for($I=0;$I<=3.09;$I+=.01)sJt.push(oJt($I))});var nZ=Ee((Rmn,Tje)=>{w();_();var uJt=Math.floor,fJt=Math.random;function lJt(t,e){return t+uJt(fJt()*(e-t+1))}Tje.exports=lJt});var iZ=Ee((Fmn,Dje)=>{w();_();var cJt=nZ();function hJt(t){var e=t.length;return e?t[cJt(0,e-1)]:void 0}Dje.exports=hJt});var Ije=Ee((Bmn,kje)=>{w();_();function pJt(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}kje.exports=pJt});var Oje=Ee((Lmn,Cje)=>{w();_();var dJt=Ije();function mJt(t,e){return dJt(e,function(r){return t[r]})}Cje.exports=mJt});var Fje=Ee((Pmn,Rje)=>{w();_();function vJt(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}Rje.exports=vJt});var WI=Ee((qmn,Bje)=>{w();_();function gJt(t){return t!=null&&typeof t=="object"}Bje.exports=gJt});var Pje=Ee((zmn,Lje)=>{w();_();var yJt=Ak(),bJt=WI(),wJt="[object Arguments]";function xJt(t){return bJt(t)&&yJt(t)==wJt}Lje.exports=xJt});var jje=Ee((Umn,Uje)=>{w();_();var qje=Pje(),_Jt=WI(),zje=Object.prototype,SJt=zje.hasOwnProperty,EJt=zje.propertyIsEnumerable,MJt=qje(function(){return arguments}())?qje:function(t){return _Jt(t)&&SJt.call(t,"callee")&&!EJt.call(t,"callee")};Uje.exports=MJt});var GI=Ee((jmn,$je)=>{w();_();var AJt=Array.isArray;$je.exports=AJt});var Wje=Ee(($mn,Vje)=>{w();_();function NJt(){return!1}Vje.exports=NJt});var Zje=Ee((JE,Fw)=>{w();_();var TJt=tw(),DJt=Wje(),Kje=typeof JE=="object"&&JE&&!JE.nodeType&&JE,Gje=Kje&&typeof Fw=="object"&&Fw&&!Fw.nodeType&&Fw,kJt=Gje&&Gje.exports===Kje,Hje=kJt?TJt.Buffer:void 0,IJt=Hje?Hje.isBuffer:void 0,CJt=IJt||DJt;Fw.exports=CJt});var Yje=Ee((Vmn,Jje)=>{w();_();var OJt=9007199254740991,RJt=/^(?:0|[1-9]\d*)$/;function FJt(t,e){var r=typeof t;return e=e==null?OJt:e,!!e&&(r=="number"||r!="symbol"&&RJt.test(t))&&t>-1&&t%1==0&&t<e}Jje.exports=FJt});var aZ=Ee((Wmn,Xje)=>{w();_();var BJt=9007199254740991;function LJt(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=BJt}Xje.exports=LJt});var e$e=Ee((Gmn,Qje)=>{w();_();var PJt=Ak(),qJt=aZ(),zJt=WI(),UJt="[object Arguments]",jJt="[object Array]",$Jt="[object Boolean]",VJt="[object Date]",WJt="[object Error]",GJt="[object Function]",HJt="[object Map]",KJt="[object Number]",ZJt="[object Object]",JJt="[object RegExp]",YJt="[object Set]",XJt="[object String]",QJt="[object WeakMap]",eYt="[object ArrayBuffer]",tYt="[object DataView]",rYt="[object Float32Array]",nYt="[object Float64Array]",iYt="[object Int8Array]",aYt="[object Int16Array]",oYt="[object Int32Array]",sYt="[object Uint8Array]",uYt="[object Uint8ClampedArray]",fYt="[object Uint16Array]",lYt="[object Uint32Array]",Qi={};Qi[rYt]=Qi[nYt]=Qi[iYt]=Qi[aYt]=Qi[oYt]=Qi[sYt]=Qi[uYt]=Qi[fYt]=Qi[lYt]=!0;Qi[UJt]=Qi[jJt]=Qi[eYt]=Qi[$Jt]=Qi[tYt]=Qi[VJt]=Qi[WJt]=Qi[GJt]=Qi[HJt]=Qi[KJt]=Qi[ZJt]=Qi[JJt]=Qi[YJt]=Qi[XJt]=Qi[QJt]=!1;function cYt(t){return zJt(t)&&qJt(t.length)&&!!Qi[PJt(t)]}Qje.exports=cYt});var r$e=Ee((Hmn,t$e)=>{w();_();function hYt(t){return function(e){return t(e)}}t$e.exports=hYt});var i$e=Ee((YE,Bw)=>{w();_();var pYt=zq(),n$e=typeof YE=="object"&&YE&&!YE.nodeType&&YE,XE=n$e&&typeof Bw=="object"&&Bw&&!Bw.nodeType&&Bw,dYt=XE&&XE.exports===n$e,oZ=dYt&&pYt.process,mYt=function(){try{var t=XE&&XE.require&&XE.require("util").types;return t||oZ&&oZ.binding&&oZ.binding("util")}catch(e){}}();Bw.exports=mYt});var u$e=Ee((Kmn,s$e)=>{w();_();var vYt=e$e(),gYt=r$e(),a$e=i$e(),o$e=a$e&&a$e.isTypedArray,yYt=o$e?gYt(o$e):vYt;s$e.exports=yYt});var l$e=Ee((Zmn,f$e)=>{w();_();var bYt=Fje(),wYt=jje(),xYt=GI(),_Yt=Zje(),SYt=Yje(),EYt=u$e(),MYt=Object.prototype,AYt=MYt.hasOwnProperty;function NYt(t,e){var r=xYt(t),n=!r&&wYt(t),a=!r&&!n&&_Yt(t),o=!r&&!n&&!a&&EYt(t),s=r||n||a||o,u=s?bYt(t.length,String):[],f=u.length;for(var l in t)(e||AYt.call(t,l))&&!(s&&(l=="length"||a&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||SYt(l,f)))&&u.push(l);return u}f$e.exports=NYt});var h$e=Ee((Jmn,c$e)=>{w();_();var TYt=Object.prototype;function DYt(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||TYt;return t===r}c$e.exports=DYt});var d$e=Ee((Ymn,p$e)=>{w();_();function kYt(t,e){return function(r){return t(e(r))}}p$e.exports=kYt});var v$e=Ee((Xmn,m$e)=>{w();_();var IYt=d$e(),CYt=IYt(Object.keys,Object);m$e.exports=CYt});var y$e=Ee((Qmn,g$e)=>{w();_();var OYt=h$e(),RYt=v$e(),FYt=Object.prototype,BYt=FYt.hasOwnProperty;function LYt(t){if(!OYt(t))return RYt(t);var e=[];for(var r in Object(t))BYt.call(t,r)&&r!="constructor"&&e.push(r);return e}g$e.exports=LYt});var w$e=Ee((e0n,b$e)=>{w();_();var PYt=$q(),qYt=aZ();function zYt(t){return t!=null&&qYt(t.length)&&!PYt(t)}b$e.exports=zYt});var _$e=Ee((t0n,x$e)=>{w();_();var UYt=l$e(),jYt=y$e(),$Yt=w$e();function VYt(t){return $Yt(t)?UYt(t):jYt(t)}x$e.exports=VYt});var sZ=Ee((r0n,S$e)=>{w();_();var WYt=Oje(),GYt=_$e();function HYt(t){return t==null?[]:WYt(t,GYt(t))}S$e.exports=HYt});var M$e=Ee((n0n,E$e)=>{w();_();var KYt=iZ(),ZYt=sZ();function JYt(t){return KYt(ZYt(t))}E$e.exports=JYt});var N$e=Ee((i0n,A$e)=>{w();_();var YYt=iZ(),XYt=M$e(),QYt=GI();function eXt(t){var e=QYt(t)?YYt:XYt;return e(t)}A$e.exports=eXt});var T$e,D$e,HI,k$e=te(()=>{w();_();Zi();pi();rZ();T$e=Bt(Hq()),D$e=Bt(N$e());ks();jr();HI=class extends qd{constructor({strategy:r="mostFrequent",constant:n=0}={}){super();De(this,"constant");De(this,"strategy");De(this,"classes");De(this,"name","DummyClassifier");De(this,"tf");this.tf=kt(),this.constant=n,this.strategy=r,this.classes=[]}fit(r,n){Ft(xu(n),"Data can not be converted to a 1D or 2D matrix."),Ft(["mostFrequent","uniform","constant"].includes(this.strategy),`Strategy ${this.strategy} not supported. We support 'mostFrequent', 'uniform', and 'constant'`);let a=op(n);return this.classes=(0,T$e.default)(a.arraySync()),this.strategy==="mostFrequent"?(this.constant=VI(a.arraySync()),this):this}predictProba(r){return Ft(ti(r),"Data can not be converted to a 1D or 2D matrix."),Ft(["mostFrequent","uniform","constant"].includes(this.strategy),`Strategy ${this.strategy} not supported. We support 'mostFrequent', 'uniform', and 'constant'`),this.tf.oneHot(this.predict(r).toInt(),this.classes.length)}predict(r){Ft(ti(r),"Data can not be converted to a 1D or 2D matrix."),Ft(["mostFrequent","uniform","constant"].includes(this.strategy),`Strategy ${this.strategy} not supported. We support 'mostFrequent', 'uniform', and 'constant'`);let a=Or(r).shape[0];if(this.strategy==="mostFrequent"||this.strategy==="constant")return this.tf.tensor1d(Array(a).fill(this.constant));let o=[];for(let s=0;s<a;s++)o.push((0,D$e.default)(this.classes));return this.tf.tensor1d(o)}}});function I$e(t,e,r){let n=kt();return r?n.tidy(()=>n.where(t.isNaN(),1/0,t).min(e)):t.min(e)}function KI(t,e,r){let n=kt();return r?n.tidy(()=>n.where(t.isNaN(),-1/0,t).max(e)):t.min(e)}function uZ(t,e,r){let n=kt();return r?n.tidy(()=>n.where(t.isNaN(),0,t).sum(e)):t.sum(e)}function fZ(t,e,r){let n=kt();return r?n.tidy(()=>n.logicalNot(t.isNaN()).sum(e)):n.onesLike(t).sum(e)}function QE(t,e,r,n){let a=kt();return r?n?a.tidy(()=>uZ(t,e,r).div(Qc(fZ(t,e,r)))):a.tidy(()=>uZ(t,e,r).div(fZ(t,e,r))):t.mean(e)}function C$e(t,e,r){return Ft(Boolean(r),"We only need to call this function when ignoreNaN is true"),kt().tidy(()=>{let a=QE(t,e,r),o=fZ(t,e,r),s=uZ(t.sub(a).square(),e,r),u=Qc(o);return s.div(u).sqrt()})}function Qc(t){let e=kt();return e.tidy(()=>{let r=e.zerosLike(t),n=t.equal(r);return t.add(n)})}var Lw=te(()=>{w();_();pi();jr()});var ZI,O$e=te(()=>{w();_();Zi();pi();Lw();ks();jr();ZI=class extends No{constructor({featureRange:r=[0,1]}={}){super();De(this,"featureRange");De(this,"scale");De(this,"min");De(this,"dataMin");De(this,"dataMax");De(this,"dataRange");De(this,"nFeaturesIn");De(this,"nSamplesSeen");De(this,"featureNamesIn");De(this,"name","MinMaxScaler");this.tf=kt(),this.featureRange=r,this.scale=this.tf.tensor1d([]),this.min=this.tf.tensor1d([]),this.dataMin=this.tf.tensor1d([]),this.dataMax=this.tf.tensor1d([]),this.dataRange=this.tf.tensor1d([]),this.nFeaturesIn=0,this.nSamplesSeen=0,this.featureNamesIn=[]}isNumber(r){return typeof r=="number"&&isFinite(r)}fit(r){Ft(ti(r),"Data can not be converted to a 2D matrix."),Ft(this.isNumber(this.featureRange[0])&&this.isNumber(this.featureRange[1])&&this.featureRange[0]<this.featureRange[1],"featureRange needs to contain exactly two numbers where the first is less than the second");let n=Or(r),a=KI(n,0,!0),o=I$e(n,0,!0),s=a.sub(o);return this.scale=this.tf.div(this.featureRange[1]-this.featureRange[0],Qc(s)),this.min=this.tf.sub(this.featureRange[0],o.mul(this.scale)),this.dataMin=o,this.dataMax=a,this.dataRange=s,this.nSamplesSeen=n.shape[0],this.nFeaturesIn=n.shape[1],wa(r)&&(this.featureNamesIn=[...r.columns]),this}transform(r){return Ft(ti(r),"Data can not be converted to a 2D matrix."),Or(r).mul(this.scale).add(this.min)}inverseTransform(r){return Ft(ti(r),"Data can not be converted to a 2D matrix."),Or(r).sub(this.min).div(this.scale)}}});var JI,R$e=te(()=>{w();_();Zi();pi();Lw();ks();jr();JI=class extends No{constructor({withMean:r=!0,withStd:n=!0}={}){super();De(this,"scale");De(this,"mean");De(this,"withMean");De(this,"withStd");De(this,"nFeaturesIn");De(this,"nSamplesSeen");De(this,"featureNamesIn");De(this,"name","StandardScaler");this.tf=kt(),this.withMean=r,this.withStd=n,this.scale=this.tf.tensor1d([]),this.mean=this.tf.tensor1d([]),this.nFeaturesIn=0,this.nSamplesSeen=0,this.featureNamesIn=[]}fit(r){Ft(ti(r),"Data can not be converted to a 2D matrix.");let n=Or(r);if(this.withMean&&(this.mean=QE(n,0,!0)),this.withStd){let a=C$e(n,0,!0);this.scale=Qc(a)}return this.nSamplesSeen=n.shape[0],this.nFeaturesIn=n.shape[1],wa(r)&&(this.featureNamesIn=[...r.columns]),this}transform(r){Ft(ti(r),"Data can not be converted to a 2D matrix.");let n=Or(r);return this.withMean&&(n=n.sub(this.mean)),this.withStd&&(n=n.div(this.scale)),n}inverseTransform(r){Ft(ti(r),"Data can not be converted to a 2D matrix.");let n=Or(r);return this.withStd&&(n=n.mul(this.scale)),this.withMean&&(n=n.add(this.mean)),n}}});var YI,F$e=te(()=>{w();_();Zi();pi();Lw();ks();jr();YI=class extends No{constructor(){super();De(this,"scale");De(this,"nFeaturesIn");De(this,"nSamplesSeen");De(this,"featureNamesIn");De(this,"name","MaxAbsScaler");this.tf=kt(),this.scale=this.tf.tensor1d([]),this.nFeaturesIn=0,this.nSamplesSeen=0,this.featureNamesIn=[]}fit(r){Ft(ti(r),"Data can not be converted to a 2D matrix.");let n=Or(r),a=KI(n.abs(),0,!0);return this.scale=Qc(a),this.nSamplesSeen=n.shape[0],this.nFeaturesIn=n.shape[1],wa(r)&&(this.featureNamesIn=[...r.columns]),this}transform(r){return Ft(ti(r),"Data can not be converted to a 2D matrix."),Or(r).div(this.scale)}inverseTransform(r){return Ft(ti(r),"Data can not be converted to a 2D matrix."),Or(r).mul(this.scale)}}});function tXt(t){return t==null||isNaN(t)&&typeof t!="string"}function B$e(t){return t.filter(r=>!tXt(r))}var XI,L$e=te(()=>{w();_();Zi();Lw();UI();rZ();ks();jr();XI=class extends No{constructor({strategy:r="mean",fillValue:n=void 0,missingValues:a=NaN}={}){super();De(this,"missingValues");De(this,"fillValue");De(this,"strategy");De(this,"statistics");De(this,"name","SimpleImputer");De(this,"tf");this.tf=kt(),this.missingValues=a,this.strategy=r,this.fillValue=n,this.statistics=this.tf.tensor1d([])}fit(r){if(this.strategy==="constant")return this;if(this.strategy==="mean"){let n=Or(r),a=QE(n,0,!0);return this.statistics=a,this}if(this.strategy==="mostFrequent"){let a=Or(r).transpose().arraySync().map(o=>VI(B$e(o)));return this.statistics=this.tf.tensor1d(a),this}if(this.strategy==="median"){let a=Or(r).transpose().arraySync().map(o=>jv(B$e(o)));return this.statistics=this.tf.tensor1d(a),this}throw new Error(`Strategy ${this.strategy} is unsupported. Supported strategies are 'mean', 'median', 'mostFrequent', and 'constant'`)}transform(r){if(this.strategy==="constant"){let a=Qb(r);return this.fillValue===void 0?a.dtype!=="string"?this.tf.where(a.isNaN(),0,a):this.tf.where(a.isNaN(),"missing_value",a):this.tf.where(a.isNaN(),this.fillValue,a)}let n=Or(r);return this.tf.where(n.isNaN(),this.statistics.reshape([1,-1]),n)}}});var em,QI=te(()=>{w();_();pi();jr();$f();em=class extends Ti{constructor(){super();De(this,"classes");De(this,"name","LabelEncoder");De(this,"tf");this.tf=kt(),this.classes=[]}convertTo1DArray(r){return ap(r)?r.values:jf(r)?r.arraySync():r}classesToMapping(r){let n=new Map;return r.forEach((a,o)=>{n.set(a,o)}),n}fit(r){let n=this.convertTo1DArray(r),a=Array.from(new Set(n));return this.classes=a,this}transform(r){let n=this.convertTo1DArray(r),a=this.classesToMapping(this.classes),o=n.map(s=>{let u=a.get(s);return u===void 0?-1:u});return this.tf.tensor1d(o)}fitTransform(r){return this.fit(r).transform(r)}inverseTransform(r){let n=this.convertTo1DArray(r),a=this.classesToMapping(this.classes),o=new Map(Array.from(a,u=>u.reverse()));return n.map(u=>o.get(u)===void 0?null:o.get(u))}}});var eC,P$e=te(()=>{w();_();Zi();ks();jr();pi();eC=class extends No{constructor({categories:r="auto",handleUnknown:n="error",unknownValue:a=NaN}={}){super();De(this,"categories");De(this,"handleUnknown");De(this,"unknownValue");De(this,"categoriesParam");De(this,"nFeaturesIn");De(this,"featureNamesIn");De(this,"name","OrdinalEncoder");this.tf=kt(),this.categoriesParam=r,this.categories=[],this.handleUnknown=n,this.unknownValue=a,this.nFeaturesIn=0,this.featureNamesIn=[]}classesToMapping(r){let n=new Map;return r.forEach((a,o)=>{n.set(a,o)}),n}loopOver2DArrayToSetLabels(r){for(let n=0;n<r[0].length;n++){let a=new Set;for(let s=0;s<r.length;s++)a.add(r[s][n]);let o=Array.from(a);this.categories.push(o)}}fit(r,n){let a=zc(r);return this.categoriesParam==="auto"?(this.loopOver2DArrayToSetLabels(a),this):(this.categories=this.categoriesParam,this.nFeaturesIn=a.length===0?0:a[0].length||0,wa(r)&&(this.featureNamesIn=[...r.columns]),this)}loopOver2DArrayToUseLabels(r){let n=this.categories.map(o=>this.classesToMapping(o)),a=[];for(let o=0;o<r.length;o++){let s=[];for(let u=0;u<r[0].length;u++){let f=r[o][u],l=n[u].get(f);if(l===void 0){if(this.handleUnknown==="error")throw new Error(`Unknown value ${f} encountered while transforming. Not encountered in training data`);l=this.unknownValue}s.push(l)}a.push(s)}return a}transform(r,n){let a=zc(r),o=this.loopOver2DArrayToUseLabels(a);return this.tf.tensor2d(o,void 0,"int32")}}});var tC,q$e=te(()=>{w();_();Zi();pi();ks();jr();tC=class extends No{constructor({norm:r="l2"}={}){super();De(this,"norm");De(this,"nFeaturesIn");De(this,"featureNamesIn");De(this,"name","Normalizer");this.tf=kt(),this.norm=r,this.nFeaturesIn=0,this.featureNamesIn=[]}fit(r){Ft(ti(r),"Data can not be converted to a 2D matrix.");let n=Or(r);return this.nFeaturesIn=n.shape[1],wa(r)&&(this.featureNamesIn=[...r.columns]),this}transform(r){Ft(ti(r),"Data can not be converted to a 2D matrix.");let n=Or(r);if(this.norm==="l1"){let o=this.tf.abs(n).sum(1).reshape([-1,1]);return n.divNoNan(o)}if(this.norm==="l2"){let o=n.square().sum(1).sqrt().reshape([-1,1]);return n.divNoNan(o)}let a=this.tf.abs(n).max(1).reshape([-1,1]);return n.divNoNan(a)}}});function z$e(...t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];e.push([n.name,n])}return new eM({steps:e})}var eM,U$e=te(()=>{w();_();pi();$f();eM=class extends Ti{constructor({steps:r=[]}={}){super();De(this,"steps");De(this,"name","Pipeline");this.steps=r,this.validateSteps(this.steps)}isTransformer(r){return r==="passthrough"||typeof r.fit=="function"&&typeof r.transform=="function"&&typeof r.fitTransform=="function"}isEstimator(r){return r==="passthrough"||typeof r.fit=="function"}validateSteps(r){if(Ft(Array.isArray(r),`steps is not an array. It is ${r}`),r.length===0)return;for(let a=0;a<r.length-1;a++){let o=r[a];Ft(Array.isArray(o),`A single step in your pipeline must be an array containing a string as the first argument, and the transformer in the second. Something akin to ['minmaxscaler', new MinMaxScaler()]. Instead it is ${o}`),Ft(this.isTransformer(o[1]),`The ${a}th step in your pipeline isn't an array containing a name and a Transformer. Instead it is ${r[a]}.`)}let n=r[r.length-1];Ft(Array.isArray(n),`The last element in your pipeline must be a 2-element array that contains a string as the first argument, and an estimator as the second. Instead it is ${n}`),Ft(this.isEstimator(n[1]),`The last element in your pipeline should be an Estimator. Instead it is ${n}`)}transformExceptLast(r){let n=r;for(let a=0;a<this.steps.length-1;a++){let[,o]=this.steps[a];o!=="passthrough"&&(n=o.transform(n))}return n}fitTransformExceptLast(r){let n=r;for(let a=0;a<this.steps.length-1;a++){let[,o]=this.steps[a];o!=="passthrough"&&(n=o.fitTransform(n))}return n}getLastEstimator(){return this.steps.length===0?null:this.steps[this.steps.length-1][1]}assertEstimatorHasFunction(r,n){Ft(r!==null,`Your final Estimator is null and therefore you can't call ${n}`),Ft(typeof r[n]=="function",`Estimator ${r} doesn't implement the function ${n}`)}fit(r,n){return it(this,null,function*(){this.validateSteps(this.steps);let a=this.getLastEstimator();this.assertEstimatorHasFunction(a,"fit");let o=this.fitTransformExceptLast(r);return yield a.fit(o,n),this})}transform(r){this.validateSteps(this.steps);let n=this.getLastEstimator();this.assertEstimatorHasFunction(n,"transform");let a=this.transformExceptLast(r);return n.transform(a)}fitTransform(r,n){this.validateSteps(this.steps);let a=this.getLastEstimator();this.assertEstimatorHasFunction(a,"fitTransform");let o=this.fitTransformExceptLast(r);return a.fitTransform(o)}predict(r){this.validateSteps(this.steps);let n=this.getLastEstimator();this.assertEstimatorHasFunction(n,"predict");let a=this.transformExceptLast(r);return n.predict(a)}fitPredict(r,n){return it(this,null,function*(){this.validateSteps(this.steps);let a=this.getLastEstimator();this.assertEstimatorHasFunction(a,"fitPredict");let o=this.fitTransformExceptLast(r);return yield a.fitPredict(o,n)})}}});function j$e(t){return Array.isArray(t)&&typeof t[0]=="string"}var rC,$$e=te(()=>{w();_();pi();jr();$f();rC=class extends Ti{constructor({transformers:r=[],remainder:n="drop"}={}){super();De(this,"transformers");De(this,"remainder");De(this,"name","ColumnTransformer");De(this,"tf");this.tf=kt(),this.transformers=r,this.remainder=n}fit(r,n){for(let a=0;a<this.transformers.length;a++){let[,o,s]=this.transformers[a],u=this.getColumns(r,s);o.fit(u,n)}return this}transform(r,n){let a=[];for(let o=0;o<this.transformers.length;o++){let[,s,u]=this.transformers[o],f=this.getColumns(r,u);a.push(s.transform(f,n))}return this.tf.concat(a,1)}fitTransform(r,n){let a=[];for(let o=0;o<this.transformers.length;o++){let[,s,u]=this.transformers[o],f=this.getColumns(r,u);a.push(s.fitTransform(f,n))}return this.tf.concat(a,1)}getColumns(r,n){if(wa(r))return j$e(n)?r.loc({columns:n}).tensor:Array.isArray(n)?r.iloc({columns:n}).tensor:typeof n=="string"?r[n].tensor:r.iloc({columns:[n]}).tensor;if(j$e(n)||typeof n=="string")throw new Error("Can't pass string selected columns when not a DataFrame");if(typeof n=="number"){let a=this.tf.tensor1d([n]);return r.gather(a,1)}else{let a=this.tf.tensor1d(n);return r.gather(a,1)}}}});function rXt(t){return t==null||isNaN(t)&&typeof t!="string"}function V$e(t){return t.filter(r=>!rXt(r))}var nC,W$e=te(()=>{w();_();Zi();pi();Lw();ks();UI();jr();nC=class extends No{constructor({quantileRange:r=[25,75],withCentering:n=!0,withScaling:a=!0}={}){super();De(this,"scale");De(this,"center");De(this,"nFeaturesIn");De(this,"featureNamesIn");De(this,"quantileRange");De(this,"withScaling");De(this,"withCentering");De(this,"name","RobustScaler");this.tf=kt(),this.scale=this.tf.tensor1d([]),this.center=this.tf.tensor1d([]),this.quantileRange=r,this.withScaling=a,this.withCentering=n,this.nFeaturesIn=0,this.featureNamesIn=[]}isNumber(r){return typeof r=="number"&&isFinite(r)}fit(r){Ft(ti(r),"Data can not be converted to a 2D matrix."),Ft(this.isNumber(this.quantileRange[0])&&this.isNumber(this.quantileRange[1]),"quantileRange values must be numbers");let n=this.quantileRange[0],a=this.quantileRange[1];Ft(n<a&&0<=n&&n<=100&&0<=a&&a<=100,"quantileRange numbers must be between 0 and 100");let o=Or(r),s=o.transpose().arraySync();if(this.withCentering){let u=s.map(f=>Uv(V$e(f),.5));this.center=this.tf.tensor1d(u)}if(this.withScaling){let u=s.map(l=>Uv(V$e(l),[n/100,a/100])),f=this.tf.tensor1d(u.map(l=>l[1]-l[0]));this.scale=Qc(f)}return this.nFeaturesIn=o.shape[1],wa(r)&&(this.featureNamesIn=[...r.columns]),this}transform(r){Ft(ti(r),"Data can not be converted to a 2D matrix.");let n=Or(r);return this.withCentering&&(n=n.sub(this.center)),this.withScaling&&(n=n.div(this.scale)),n}inverseTransform(r){Ft(ti(r),"Data can not be converted to a 2D matrix.");let n=Or(r);return this.withScaling&&(n=n.mul(this.scale)),this.withCentering&&(n=n.add(this.center)),n}}});var iC,G$e=te(()=>{w();_();Zi();jr();$f();iC=class extends Ti{constructor({nClusters:r=8,init:n="random",maxIter:a=300,tol:o=1e-4,nInit:s=10,randomState:u}={}){super();De(this,"nClusters");De(this,"init");De(this,"nInit");De(this,"maxIter");De(this,"tol");De(this,"randomState");De(this,"clusterCenters");De(this,"name","KMeans");De(this,"tf");this.tf=kt(),this.nClusters=r,this.init=n,this.maxIter=a,this.tol=o,this.randomState=u,this.nInit=s,this.clusterCenters=this.tf.tensor2d([[]])}initCentroids(r){if(this.init==="random"){let n=Mk(r.shape[0],this.nClusters,this.randomState);this.clusterCenters=this.tf.gather(r,n);return}throw new Error(`init ${this.init} is not currently implemented`)}closestCentroid(r){return this.tf.tidy(()=>{let n=this.tf.expandDims(r,1),a=this.tf.expandDims(this.clusterCenters,0);return this.tf.squaredDifference(n,a).sum(2).argMin(1)})}updateCentroids(r,n){return this.tf.tidy(()=>{let a=[];for(let o=0;o<this.nClusters;o++){let s=this.tf.equal(n,this.tf.scalar(o).toInt()),u=this.tf.div(this.tf.sum(this.tf.mul(this.tf.expandDims(s.toFloat(),1),r),0),this.tf.sum(s.toFloat()));a.push(u)}return this.tf.stack(a)})}fit(r){let n=Or(r);this.initCentroids(n);for(let a=0;a<this.maxIter;a++){let o=this.closestCentroid(n);this.clusterCenters=this.updateCentroids(n,o)}return this}predict(r){let n=Or(r);return this.closestCentroid(n)}transform(r){return this.tf.tidy(()=>{let n=Or(r),a=this.tf.expandDims(n,1),o=this.tf.expandDims(this.clusterCenters,0);return this.tf.squaredDifference(a,o).sum(2).sqrt()})}fitPredict(r){return this.fit(r).predict(r)}fitTransform(r){return this.fit(r).transform(r)}score(r){return this.tf.tidy(()=>{let n=Or(r),a=this.tf.expandDims(n,1),o=this.tf.expandDims(this.clusterCenters,0);return this.tf.squaredDifference(a,o).sum(2).min(1).sqrt().sum()})}}});var H$e,K$e=te(()=>{w();_();H$e={loadBoston:"http://scikitjs.org/data/boston.csv",loadIris:"http://scikitjs.org/data/iris.csv",loadWine:"http://scikitjs.org/data/wine.csv",loadDiabetes:"http://scikitjs.org/data/diabetes.csv",loadBreastCancer:"http://scikitjs.org/data/breast_cancer.csv",loadDigits:"http://scikitjs.org/data/digits.csv",fetchCaliforniaHousing:"http://scikitjs.org/data/california_housing.csv"}});function Z$e(...t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];e.push([n.name,n])}return new tM({estimators:e})}var tM,J$e=te(()=>{w();_();ks();jr();tM=class extends Pd{constructor({estimators:r=[],weights:n=void 0}={}){super();De(this,"estimators");De(this,"weights");De(this,"name","VotingRegressor");this.tf=kt(),this.estimators=r,this.weights=n}fit(r,n){return it(this,null,function*(){var a;for(let o=0;o<((a=this.estimators)==null?void 0:a.length);o++){let[s,u]=this.estimators[o];yield u.fit(r,n)}return this})}predict(r){let n=[],a=this.estimators.length,o=this.weights||Array(a).fill(1/a);for(let s=0;s<a;s++){let[u,f]=this.estimators[s],l=o[s];n.push(f.predict(r).mul(l))}return this.tf.addN(n)}transform(r){let n=[],a=this.estimators.length;for(let o=0;o<a;o++){let[s,u]=this.estimators[o];n.push(u.predict(r))}return n}fitTransform(r,n){return it(this,null,function*(){return(yield this.fit(r,n)).transform(r)})}}});function Y$e(...t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];e.push([n.name,n])}return new rM({estimators:e})}var rM,X$e=te(()=>{w();_();jr();ks();QI();rM=class extends qd{constructor({estimators:r=[],weights:n=void 0,voting:a="hard"}={}){super();De(this,"estimators");De(this,"weights");De(this,"le");De(this,"name","VotingClassifier");De(this,"tf");this.tf=kt(),this.estimators=r,this.weights=n,this.voting=a,this.le=new em}fit(r,n){return it(this,null,function*(){var o;let a=this.le.fitTransform(n);for(let s=0;s<((o=this.estimators)==null?void 0:o.length);s++){let[u,f]=this.estimators[s];yield f.fit(r,a)}return this})}predictProba(r){let n=[],a=this.estimators.length,o=this.weights||Array(a).fill(1/a);for(let s=0;s<a;s++){let[u,f]=this.estimators[s],l=o[s];n.push(f.predictProba(r).mul(l))}return this.tf.addN(n)}predict(r){let n=[],a=this.estimators.length,o=this.weights||Array(a).fill(1/a);if(this.voting==="hard"){for(let s=0;s<a;s++){let[u,f]=this.estimators[s],l=o[s],c=f.predict(r).toInt(),h=this.tf.oneHot(c,this.le.classes.length);n.push(h.mul(l))}return this.tf.tensor1d(this.le.inverseTransform(this.tf.addN(n).argMax(1)))}else{for(let s=0;s<a;s++){let[u,f]=this.estimators[s],l=o[s],c=f.predictProba(r);n.push(c.mul(l))}return this.tf.tensor1d(this.le.inverseTransform(this.tf.addN(n).argMax(1)))}}transform(r){let n=[],a=this.estimators.length;if(this.voting==="hard"){for(let o=0;o<a;o++){let[s,u]=this.estimators[o];n.push(u.predict(r))}return n}else{for(let o=0;o<a;o++){let[s,u]=this.estimators[o];n.push(u.predictProba(r))}return n}}fitTransform(r,n){return it(this,null,function*(){return(yield this.fit(r,n)).transform(r)})}}});var aC,Q$e=te(()=>{w();_();pi();jr();aC=class{constructor({metric:e,entries:r}){De(this,"_metric");De(this,"_entries");De(this,"tf");this._metric=e,this._entries=r,this.tf=kt()}kNearest(e,r){let{_metric:n,_entries:a}=this;return Ft(a.shape[1]==r.shape[1],"X_train.shape[1] must equal X_predict.shape[1]"),this.tf.tidy(()=>{let o=this.tf.unstack(r).map(s=>this.tf.tidy(()=>{let u=n.tensorDistance(s,a).neg(),{values:f,indices:l}=this.tf.topk(u,e);return[f,l]}));return{distances:this.tf.stack(o.map(s=>s[0])).neg(),indices:this.tf.stack(o.map(s=>s[1]))}})}}});var oC,nM,nXt,iXt,aXt,eVe=te(()=>{w();_();pi();jr();oC=t=>(e,r)=>{var s,u;let n=kt(),a=(s=e.shape[e.rank-1])!=null?s:NaN,o=(u=r.shape[r.rank-1])!=null?u:NaN;return Ft(a===o,`minkowskiDistance(${t}).tensorDistance(u,v): u.shape[-1] must equal v.shape[-1].`),n.tidy(()=>n.norm(n.sub(e,r),t,-1))},nM=t=>{switch(t){case 1:return nXt;case 2:return iXt;case 1/0:return aXt}Ft(1<=t,"minkowskiMetric(p): Invalid p.");let e={tensorDistance:oC(t),distance(r,n){let a=r.length;if(a!==n.length)throw new Error(`minkowskiMetric(${t}).treeMetric(u,v): u and v must have same length.`);let o=0;for(let s=0;s<a;s++)o+=ir(Math.abs(r[s]-n[s]),t);return ir(o,1/t)},distToBBox(r,n){if(r.length*2!=n.length)throw new Error(`minkowskiMetric(${t}).treeMetric.minDistToBBox(pt,bBox): pt.length*2 must equal bBox.length.`);let a=0;for(let o=0,s=0;s<r.length;s++){let u=Math.max(0,n[o++]-r[s],r[s]-n[o++]);a+=ir(u,t)}return ir(a,1/t)},name:`minkowskiMetric(${t})`,toString(){return this.name}};return Object.freeze(e)},nXt=Object.freeze({tensorDistance:oC(1),distance(t,e){let r=t.length;if(r!==e.length)throw new Error("minkowskiMetric(1).distance(u,v): u and v must have same length.");let n=0;for(let a=0;a<r;a++)n+=Math.abs(t[a]-e[a]);return n},minDistToBBox(t,e){let r=e.length;if(r!==t.length<<1)throw new Error("minkowskiMetric(1).minDistToBBox(pt,bBox): pt.length*2 must equal bBox.length.");let n=0;for(let a=0;a<r;){let o=t[a>>>1],s=e[a++]-o,u=o-e[a++];n+=.5*(Math.abs(s)+s+(Math.abs(u)+u))}return n},name:"manhattanMetric",toString(){return this.name}}),iXt=Object.freeze({tensorDistance:oC(2),distance(t,e){let r=t.length;if(r!==e.length)throw new Error("minkowskiMetric(2).distance(u,v): u and v must have same length.");let n=0;for(let a=0;a<r;a++){let o=t[a]-e[a];n+=o*o}return Math.sqrt(n)},minDistToBBox(t,e){let r=e.length;if(r!==t.length*2)throw new Error("minkowskiMetric(2).minDistToBBox(pt,bBox): pt.length*2 must equal bBox.length.");let n=0;for(let a=0;a<r;){let o=t[a>>>1],s=e[a++]-o,u=o-e[a++],f=.5*(Math.abs(s)+s+(Math.abs(u)+u));n+=f*f}return Math.sqrt(n)},name:"euclideanMetric",toString(){return this.name}}),aXt=Object.freeze({tensorDistance:oC(1/0),distance(t,e){let r=t.length;if(r!==e.length)throw new Error("minkowskiMetric(Infinity).distance(u,v): u and v must have same length.");let n=0;for(let a=0;a<r;a++){let o=Math.abs(t[a]-e[a]);n=Math.max(n,o)}return n},minDistToBBox(t,e){let r=e.length;if(r!==t.length*2)throw new Error("minkowskiMetric(Infinity).minDistToBBox(pt,bBox): pt.length*2 must equal bBox.length.");let n=-1/0;for(let a=0;a<r;){let o=t[a>>>1],s=e[a++]-o,u=o-e[a++],f=.5*(Math.abs(s)+s+(Math.abs(u)+u));n=Math.max(n,f)}return n},name:"chebyshevMetric",toString(){return this.name}})});function oXt(t,e,r){let n=r&&r.state;n&&(typeof n=="object"&&e.copy(n,e),t.state=()=>e.copy(e,{}))}function cZ(t,e){let r=new lZ(t),n=()=>r.next();return oXt(n,r,e),n}var lZ,tVe,hZ,rVe,sC=te(()=>{w();_();lZ=class{constructor(e){De(this,"c");De(this,"s0");De(this,"s1");De(this,"s2");e==null&&(e=+new Date);let r=4022871197;this.c=1,this.s0=n(" "),this.s1=n(" "),this.s2=n(" "),this.s0-=n(e),this.s0<0&&(this.s0+=1),this.s1-=n(e),this.s1<0&&(this.s1+=1),this.s2-=n(e),this.s2<0&&(this.s2+=1);function n(a){a=String(a);for(let o=0;o<a.length;o++){r+=a.charCodeAt(o);let s=.02519603282416938*r;r=s>>>0,s-=r,s*=r,r=s>>>0,s-=r,r+=s*4294967296}return(r>>>0)*23283064365386963e-26}}next(){let{c:e,s0:r,s1:n,s2:a}=this,o=2091639*r+e*23283064365386963e-26;return this.s0=n,this.s1=a,this.s2=o-(this.c=o|0)}copy(e,r){return r.c=e.c,r.s0=e.s0,r.s1=e.s1,r.s2=e.s2,r}},tVe=t=>cZ(t==null?void 0:t.toString()),hZ=t=>(e,r)=>{if(e>=r)throw new Error("randInt(rng)(from,until): from must be less than until.");let n=Math.floor(e+(r-e)*t());return n===r?n-1:n},rVe=t=>e=>{let r=hZ(t);for(let n=e.length;n>1;n--){let a=r(0,n),o=e[n-1];e[n-1]=e[a],e[a]=o}}});var uC,iVe=te(()=>{w();_();pi();uC=class{constructor(e,r){De(this,"_keys");De(this,"_vals");De(this,"_pos");let n=e.length;Ft(n>0,"new CappedMaxHeap(keys,vals): keys.length must be positive."),Ft(n===r.length,"new CappedMaxHeap(keys,vals): keys.length must equal vals.length."),e[0]=NaN,this._keys=e,this._vals=r,this._pos=n}get maxKey(){return this._keys[0]}add(e,r){let{_keys:n,_vals:a,_pos:o}=this;if(0<o)this._pos=--o;else if(n[0]<=e)return;let s=n.length-1;for(;;){let u=(o<<1)+1;if(u>s||(u+=+(u<s&&n[u]<n[u+1]),n[u]<=e))break;n[o]=n[u],a[o]=a[u],o=u}n[o]=e,a[o]=r}sort(){let{_keys:e,_vals:r,_pos:n}=this;Ft(n===0,"CappedMaxHeap().sort(): Heap is not full yet.");let a=(f,l)=>{let c=e[f];e[f]=e[l],e[l]=c;let h=r[f];r[f]=r[l],r[l]=h},o=f=>{e[f]>e[f+1]&&a(f,f+1)},s=f=>{o(f),e[f+1]>e[f+2]&&(a(f+1,f+2),o(f))},u=(f,l)=>{switch(l-f){case 0:return;case 1:return;case 2:return o(f);case 3:return s(f)}let c=f+l>>>1;s(c-1);let h=e[c];a(f,c);let m=f,g=f+1;for(let b=g;b<l;b++){let A=e[b];A<=h&&(a(b,g),A<h&&a(m++,g),g++)}u(f,m),u(g,l)};u(0,e.length)}}});var aVe,sXt,uXt,Pw,oVe=te(()=>{w();_();pi();sC();sC();iVe();jr();aVe=t=>(t<<1)+1,sXt=t=>t-1>>1,uXt=t=>(Ft(0<=t&&t<=1073741824,"ceilPow2(x): x must be in range [0, 1<<30]."),t=Math.ceil(t),t=Math.max(t,1),2147483648>>>-1+Math.clz32(t-1)),Pw=class{constructor(e,r,n,a,o,s,u){De(this,"_nSamples");De(this,"_nFeatures");De(this,"_metric");De(this,"_points");De(this,"_indices");De(this,"_bBoxes");De(this,"_offsets");De(this,"tf");this.tf=kt(),this._nSamples=e,this._nFeatures=r,this._metric=n,this._points=a,this._bBoxes=o,this._offsets=s,this._indices=u,Object.freeze(this)}static build(a){return it(this,arguments,function*({metric:e,entries:r,leafSize:n=16}){Ft(1<n,"new KdTree({leafSize=16}): leafSize must be a positive number."),Ft(typeof e.minDistToBBox=="function","new KdTree({metric}): metric must implement `minDistToBBox` function.");let[o,s]=r.shape,u=new Int32Array(o);for(let O=0;O<o;O++)u[O]=O;let f=(yield r.data()).slice(),l=Array.from(u,(O,F)=>f.subarray(s*F,s*++F)),c=uXt(o/n),h=c*2-1,m=h-c,g=new Int32Array(c+1),b=function(){let O=s*2,F=new Float32Array(h*O),z=[];for(let B=0;B<h;)z.push(F.subarray(O*B,O*++B));return z}(),A=hZ(cZ(`KdTree[${o},${s}]`)),I=(O,F)=>{let z=u[O];u[O]=u[F],u[F]=z},C=(O,F,z)=>{let B=b[O];for(let T=0;T<B.length;T++)B[T]=T%2?-1/0:1/0;for(let T=F;T<z;T++){let p=s*u[T];for(let v=0;v<B.length;){let S=f[p+(v>>>1)];B[v]=Math.min(B[v++],S),B[v]=Math.max(B[v++],S)}}if(m<=O){let T=O-m;g[T]=F,g[T+1]=z;return}let $=function(){let T=0,p=-1/0;for(let v=B.length;v>0;){let S=B[--v]-B[--v];S>p&&(p=S,T=v>>>1)}return T}(),j=F+z>>>1;for(let T=F,p=z;;){let v=f[s*u[A(T,p)]+$],S=T,y=T;for(let M=T;M<p;M++){let D=f[s*u[M]+$];D<=v&&(I(M,y),D<v&&I(S++,y),y++)}if(S>j)p=S;else if(y<j)T=y;else break}let W=aVe(O);C(W,F,j),C(W+1,j,z)};C(0,0,o);let R=(O,F)=>{O*=s,F*=s;for(let z=O+s;O<z;O++,F++){let B=f[O];f[O]=f[F],f[F]=B}};for(let O=u.slice(),F=0;F<o;F++)for(let z=F;;){let B=O[z];if(O[z]=z,B===F)break;R(z,z=B)}return new Pw(o,s,e,l,b,g,u)})}kNearest(e,r){let{_nSamples:n,_nFeatures:a,_metric:o,_points:s,_bBoxes:u,_offsets:f,_indices:l}=this;e=Math.min(e,n);let[c,h]=r.shape;Ft(a===h,"KNeighbors: X_train.shape[1] must equal X_predict.shape[1].");let m=new Float32Array(c*e),g=new Int32Array(c*e),b=sXt(u.length-1)+1;if(0<e&&0<c){let A=r.dataSync(),I,C,R=(O,F)=>{if(!(F>=I.maxKey))if(O<b){let z=aVe(O),B=o.minDistToBBox(C,u[z]),$=o.minDistToBBox(C,u[z+1]);B<=$?(R(z,B),R(z+1,$)):(R(z+1,$),R(z,B))}else{O-=b;let z=f[O],B=f[O+1];for(let $=z;$<B;$++){let j=o.distance(C,s[$]);I.add(j,l[$])}}};for(let O=0;O<c;O++){C=A.subarray(h*O,h*(O+1));let F=e*O,z=e+F;I=new uC(m.subarray(F,z),g.subarray(F,z)),R(0,o.minDistToBBox(C,u[0]))}}return{distances:this.tf.tensor2d(m,[c,e],"float32"),indices:this.tf.tensor2d(g,[c,e],"int32")}}}});var sVe,uVe,iM,Hv,pZ=te(()=>{w();_();Q$e();eVe();Zi();pi();oVe();jr();$f();sVe={uniform(t){let e=kt(),{shape:r}=t;return e.fill(r,1/r[1])},distance(t){let e=kt();return e.tidy(()=>{let r=t.min(1,!0),n=e.divNoNan(r.toFloat(),t),a=t.lessEqual(0).toFloat(),o=e.where(r.lessEqual(0),a,n),s=o.sum(1,!0);return o.div(s)})}},uVe={minkowski:t=>nM(t),manhattan:()=>nM(1),euclidean:()=>nM(2),chebyshev:()=>nM(1/0)},iM={kdTree:Pw.build,brute:t=>it(void 0,null,function*(){return new aC(t)}),auto:t=>typeof t.metric.minDistToBBox=="function"?iM.kdTree(t):iM.brute(t)},Hv=class extends Ti{constructor(r={}){super();De(this,"_neighborhood");De(this,"_y");De(this,"weights");De(this,"algorithm");De(this,"leafSize");De(this,"p");De(this,"metric");De(this,"nNeighbors");Object.assign(this,r)}_getFitParams(){let{_neighborhood:r,_y:n,nNeighbors:a=5,weights:o="uniform"}=this;Ft(0<=a&&a%1===0,"KNeighbors({nNeighbors})::predict(X): nNeighbors must be a positive int."),Ft(Object.keys(sVe).includes(o),"KNeighbors({weights})::predict(X): invalid weights."),Ft(r!=null&&n!=null,"KNeighbors::predict(X): model not trained yet. Call `await fit(x, y)` first.");let s=sVe[o];return{nNeighbors:a,weightsFn:s,neighborhood:r,y:n}}fit(r,n){return it(this,null,function*(){let{algorithm:a="auto",metric:o="minkowski",p:s=2,leafSize:u}=this;Ft(Object.keys(uVe).includes(o),"KNeighbors({metric}).fit(X,y): invalid metric."),Ft(Object.keys(iM).includes(a),"KNeighbors({algorithm}).fit(X,y): invalid algorithm.");let f=uVe[o](s),l=Or(r);return this._neighborhood=yield iM[a]({entries:l,metric:f,leafSize:u}),this._y=op(n),this})}};De(Hv,"SUPPORTED_ALGORITHMS",Object.freeze(Object.keys(iM)))});var fC,fVe=te(()=>{w();_();pZ();Zi();jr();fC=class extends Hv{constructor(){super(...arguments);De(this,"name","KNeighborsRegressor")}predict(r){let n=kt(),{neighborhood:a,y:o,nNeighbors:s,weightsFn:u}=this._getFitParams();return n.tidy(()=>{let f=Or(r),{distances:l,indices:c}=a.kNearest(s,f),h=o.gather(c),m=u(l);return n.matMul(h.reshape([-1,1,s]),m.reshape([-1,s,1])).as1D()})}}});function lC(t){t.engine().backendNames().includes("tensorflow")&&!t.getKernel("Unique","tensorflow")&&(console.info("[scikit.js] Installing tfjs-node polyfill for tf.unique()."),t.registerKernel({kernelName:"Unique",backendName:"tensorflow",kernelFunc:e=>{let r=e.inputs.x,n=e.backend,{axis:a}=e.attrs,o=t.tensor1d([a],"int32"),s={float32:n.binding.TF_FLOAT,float64:n.binding.TF_DOUBLE,int32:n.binding.TF_INT32,int64:n.binding.TF_INT64,complex64:n.binding.TF_COMPLEX64,bool:n.binding.TF_BOOL,string:n.binding.TF_STRING};Ft(Object.keys(s).includes(r.dtype),"Unexpected dtype.");try{let u=[{value:s[r.dtype],name:"T",type:n.binding.TF_ATTR_TYPE},{value:s.int32,name:"Taxis",type:n.binding.TF_ATTR_TYPE},{value:s.int32,name:"out_idx",type:n.binding.TF_ATTR_TYPE}];return n.executeMultipleOutputs("UniqueV2",u,[r,o],2)}finally{o.dispose()}}}))}var dZ=te(()=>{w();_();pi();});function lVe(t,e){let r=kt();return r.tidy(()=>{e=Pl(e);let n=this.predict(t);return r.equal(e,n).sum().div(e.shape[0])})}var cVe=te(()=>{w();_();jr();Zi();});var qw,hVe=te(()=>{w();_();pZ();Zi();dZ();cVe();jr();qw=class extends Hv{constructor(){super(...arguments);De(this,"classes_");De(this,"score",lVe);De(this,"name","KNeighborsClassifier")}predictProba(r){var l;let{neighborhood:n,y:a,nNeighbors:o,weightsFn:s}=this._getFitParams(),[u]=(l=this.classes_)==null?void 0:l.shape,f=kt();return f.tidy(()=>{let c=Or(r),h=c.shape[0],{distances:m,indices:g}=n.kNearest(o,c),b=a.gather(g),A=s(m),I=f.oneHot(b,u);return f.mul(I.reshape([h,o,u]),A.reshape([h,o,1])).sum(1)})}predict(r){let n=this.classes_;return kt().tidy(()=>{let s=this.predictProba(r).argMax(1);return n.gather(s)})}fit(r,n){return it(this,null,function*(){let a=kt(),{values:o,indices:s}=a.tidy(()=>{let u=Pl(n);return lC(a),a.unique(u)});return yield Gw(qw.prototype,this,"fit").call(this,r,s),this.classes_=o,this})}}});var cC,pVe=te(()=>{w();_();Qq();jr();cC=class extends uw{constructor({penalty:e="l2",C:r=1,fitIntercept:n=!0}={}){let a=kt();super({modelCompileArgs:{optimizer:a.train.adam(.1),loss:a.losses.hingeLoss,metrics:["accuracy"]},modelFitArgs:{batchSize:32,epochs:1e3,verbose:0,callbacks:[a.callbacks.earlyStopping({monitor:"loss",patience:50})]},denseLayerArgs:{units:1,useBias:Boolean(n),activation:"softmax",kernelInitializer:a.initializers.zeros(),biasInitializer:a.initializers.zeros(),kernelRegularizer:e==="l2"?a.regularizers.l2({l2:r}):e==="l1"?a.regularizers.l1({l1:r}):void 0},isClassification:!0,optimizerType:"adam",lossType:"hingeLoss"}),this.name="LinearSVC"}}});var hC,dVe=te(()=>{w();_();ow();jr();hC=class extends Vf{constructor({epsilon:e=0,C:r=1,fitIntercept:n=!0}={}){let a=kt();super({modelCompileArgs:{optimizer:a.train.adam(.1),loss:function(o,s){return a.abs(a.sub(o,s)).sub(e).maximum(0)},metrics:["accuracy"]},modelFitArgs:{batchSize:32,epochs:1e3,verbose:0,callbacks:[a.callbacks.earlyStopping({monitor:"loss",patience:50})]},denseLayerArgs:{units:1,useBias:Boolean(n),kernelRegularizer:a.regularizers.l2({l2:r})},optimizerType:"adam",lossType:"custom"}),this.name="LinearSVR"}}});var pC,mVe=te(()=>{w();_();dZ();Zi();jr();$f();pC=class extends Ti{constructor(r={}){super();De(this,"priors");De(this,"varSmoothing");De(this,"classes");De(this,"means");De(this,"variances");De(this,"tf");this.tf=kt(),this.classes=this.tf.tensor1d([]),this.means=[],this.variances=[],r.priors&&(this.priors=Pl(r.priors)),this.varSmoothing=r.varSmoothing?r.varSmoothing:1e-9}fit(r,n){return it(this,null,function*(){let a=Or(r),o=Pl(n),{values:s,meansByLabel:u,variancesByLabel:f}=this.tf.tidy(()=>{lC(this.tf);let l=[],c=[],{values:h}=this.tf.unique(o),{variance:m}=this.tf.moments(a,0),g=m.max().mul(this.varSmoothing);return this.tf.unstack(h).forEach(b=>{let A=this.tf.equal(o,b).toFloat(),I=this.tf.sum(A),C=this.tf.mul(a,A.expandDims(1)).sum(0).div(I),R=this.tf.sub(a,C).mul(A.expandDims(1)).pow(2).sum(0).div(I).add(g);l.push(C),c.push(R)}),{values:h,meansByLabel:l,variancesByLabel:c}});return this.classes=s,this.means=u,this.variances=f,this})}predictProba(r){let n=Or(r);return this.tf.tidy(()=>{let o=[];this.classes.unstack().forEach((u,f)=>{let l=this.means[f],c=this.variances[f],h=this.kernel(n,l,c);o.push(h)});let s=this.tf.stack(o,1);return this.priors?s.mul(this.priors):s})}predict(r){return this.predictProba(r).argMax(1)}}});var dC,vVe=te(()=>{w();_();mVe();jr();dC=class extends pC{constructor(){super(...arguments);De(this,"name","GaussianNB")}kernel(r,n,a){let o=kt();return o.tidy(()=>o.sub(r,n.expandDims(0)).pow(2).div(a.expandDims(0).mul(-2)).exp().div(a.mul(2*Math.PI).expandDims(0).sqrt()).prod(1))}}});function gVe(t,e){let r=0;for(let n=0;n<t.length;n++)r+=t[n]*t[n];return 1-r/(e*e)}function yVe(t,e){let r=0;for(let n=0;n<t.length;n++){let a=t[n];a>0&&(a/=e,r-=a*Math.log2(a))}return r}function bVe(t,e,r){let n=e/r;return t/r-n*n}function fXt(t){let e=Number.NEGATIVE_INFINITY;for(let r=0;r<t.length;r++)t[r]>e&&(e=t[r]);return e}var tm,rm,mZ=te(()=>{w();_();$f();tm=class extends Ti{constructor({impurityMeasure:r,y:n}){super();De(this,"y");De(this,"impurityMeasure");De(this,"start",0);De(this,"end",0);De(this,"pos",0);De(this,"nLabels");De(this,"labelFreqsTotal",[]);De(this,"labelFreqsLeft",[]);De(this,"labelFreqsRight",[]);De(this,"nSamples",0);De(this,"nSamplesLeft",0);De(this,"nSamplesRight",0);De(this,"name","ClassificationCriterion");this.impurityMeasure=r,this.nLabels=fXt(n)+1,this.y=n,this.labelFreqsTotal=new Array(this.nLabels).fill(0),this.labelFreqsLeft=new Array(this.nLabels).fill(0),this.labelFreqsRight=new Array(this.nLabels).fill(0)}init(r,n,a){this.start=r,this.end=n,this.nSamples=n-r,this.labelFreqsTotal=this.labelFreqsTotal.fill(0),this.labelFreqsLeft=this.labelFreqsLeft.fill(0),this.labelFreqsRight=this.labelFreqsRight.fill(0);for(let o=r;o<n;o++){let s=a[o];this.labelFreqsTotal[this.y[s]]+=1}}reset(){this.pos=this.start,this.labelFreqsLeft=this.labelFreqsLeft.fill(0),this.labelFreqsRight=this.labelFreqsRight.fill(0)}update(r,n){for(let a=this.pos;a<r;a++){let o=n[a];this.labelFreqsLeft[this.y[o]]+=1}for(let a=0;a<this.labelFreqsTotal.length;a++)this.labelFreqsRight[a]=this.labelFreqsTotal[a]-this.labelFreqsLeft[a];this.pos=r,this.nSamplesLeft=this.pos-this.start,this.nSamplesRight=this.end-this.pos}childrenImpurities(){let r=this.impurityMeasure==="gini"?gVe:yVe;return{impurityLeft:r(this.labelFreqsLeft,this.nSamplesLeft),impurityRight:r(this.labelFreqsRight,this.nSamplesRight)}}impurityImprovement(){let{impurityLeft:r,impurityRight:n}=this.childrenImpurities();return-this.nSamplesLeft*r-this.nSamplesRight*n}nodeImpurity(){return(this.impurityMeasure==="gini"?gVe:yVe)(this.labelFreqsTotal,this.nSamples)}nodeValue(){return this.labelFreqsTotal}static fromJson(r){let n=JSON.parse(r),a=new tm({impurityMeasure:n.impurityMeasure,y:n.y});return Object.assign(a,n)}},rm=class extends Ti{constructor({impurityMeasure:r,y:n}){super();De(this,"y");De(this,"impurityMeasure");De(this,"start",0);De(this,"end",0);De(this,"pos",0);De(this,"squaredSum",0);De(this,"squaredSumLeft",0);De(this,"squaredSumRight",0);De(this,"sumTotal",0);De(this,"sumTotalLeft",0);De(this,"sumTotalRight",0);De(this,"nSamples",0);De(this,"nSamplesLeft",0);De(this,"nSamplesRight",0);De(this,"name","RegressionCriterion");this.impurityMeasure=r,this.y=n}init(r,n,a){this.sumTotal=0,this.squaredSum=0,this.start=r,this.end=n,this.nSamples=n-r;for(let o=r;o<n;o++){let s=a[o],u=this.y[s];this.sumTotal+=u,this.squaredSum+=u*u}}reset(){this.pos=this.start,this.squaredSumLeft=0,this.sumTotalLeft=0,this.squaredSumRight=0,this.sumTotalRight=0}update(r,n){for(let a=this.pos;a<r;a++){let o=n[a],s=this.y[o];this.sumTotalLeft+=s,this.squaredSumLeft+=s*s}this.sumTotalRight=this.sumTotal-this.sumTotalLeft,this.squaredSumRight=this.squaredSum-this.squaredSumLeft,this.pos=r,this.nSamplesLeft=this.pos-this.start,this.nSamplesRight=this.end-this.pos}childrenImpurities(){let r=bVe;return{impurityLeft:r(this.squaredSumLeft,this.sumTotalLeft,this.nSamplesLeft),impurityRight:r(this.squaredSumRight,this.sumTotalRight,this.nSamplesRight)}}impurityImprovement(){let{impurityLeft:r,impurityRight:n}=this.childrenImpurities();return-this.nSamplesLeft*r-this.nSamplesRight*n}nodeImpurity(){return bVe(this.squaredSum,this.sumTotal,this.nSamples)}nodeValue(){return[this.sumTotal/this.nSamples]}static fromJson(r){let n=JSON.parse(r),a=new rm({impurityMeasure:n.impurityMeasure,y:n.y});return Object.assign(a,n)}}});var xVe=Ee((Sgn,wVe)=>{w();_();function lXt(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}wVe.exports=lXt});var vZ=Ee((Egn,_Ve)=>{w();_();var cXt=nZ();function hXt(t,e){var r=-1,n=t.length,a=n-1;for(e=e===void 0?n:e;++r<e;){var o=cXt(r,a),s=t[o];t[o]=t[r],t[r]=s}return t.length=e,t}_Ve.exports=hXt});var EVe=Ee((Mgn,SVe)=>{w();_();var pXt=xVe(),dXt=vZ();function mXt(t){return dXt(pXt(t))}SVe.exports=mXt});var AVe=Ee((Agn,MVe)=>{w();_();var vXt=vZ(),gXt=sZ();function yXt(t){return vXt(gXt(t))}MVe.exports=yXt});var TVe=Ee((Ngn,NVe)=>{w();_();var bXt=EVe(),wXt=AVe(),xXt=GI();function _Xt(t){var e=xXt(t)?bXt:wXt;return e(t)}NVe.exports=_Xt});function mC(){return{feature:0,threshold:0,pos:-1,impurityLeft:Number.POSITIVE_INFINITY,impurityRight:Number.POSITIVE_INFINITY,foundSplit:!1}}var DVe,zw,vC=te(()=>{w();_();mZ();DVe=Bt(TVe());$f();zw=class extends Ti{constructor({X:r,y:n,minSamplesLeaf:a,impurityMeasure:o,maxFeatures:s,samplesSubset:u=[]}){super();De(this,"kMinSplitDiff");De(this,"X");De(this,"y");De(this,"criterion");De(this,"start");De(this,"end");De(this,"minSamplesLeaf");De(this,"maxFeatures");De(this,"featureOrder");De(this,"shuffleFeatures");De(this,"sampleMap");De(this,"nSamplesTotal");De(this,"nFeatures");De(this,"name","Splitter");if(this.X=r,this.y=n,this.nFeatures=r[0].length,this.minSamplesLeaf=a,this.maxFeatures=Math.min(s,this.nFeatures),this.shuffleFeatures=s<this.nFeatures,this.sampleMap=new Int32Array(r.length),this.start=0,this.end=0,this.kMinSplitDiff=1e-8,u.length===0){this.nSamplesTotal=r.length;for(let f=0;f<this.nSamplesTotal;f++)this.sampleMap[f]=f}else{this.nSamplesTotal=u.length;for(let f=0;f<this.nSamplesTotal;f++)this.sampleMap[f]=u[f]}o==="squared_error"?this.criterion=new rm({impurityMeasure:o,y:n}):this.criterion=new tm({impurityMeasure:o,y:n}),this.featureOrder=[];for(let f=0;f<this.nFeatures;f++)this.featureOrder.push(f);this.resetSampleRange(0,this.nSamplesTotal)}resetSampleRange(r,n){this.start=r,this.end=n,this.criterion.init(r,n,this.sampleMap)}splitNode(){let r=mC(),n=mC(),a=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=0,u=0;for(r.foundSplit=!1,this.shuffleFeatures&&(this.featureOrder=(0,DVe.default)(this.featureOrder));s<this.maxFeatures;){u=this.featureOrder[s];let f=new Float32Array(this.end-this.start);for(let c=this.start;c<this.end;c++){let m=this.X[this.sampleMap[c]][u];f[c-this.start]=m}if(f.sort(),this.criterion.reset(),this.sampleMap.subarray(this.start,this.end).sort((c,h)=>this.X[c][u]-this.X[h][u]),f[0]===f[f.length-1]){s+=1;continue}let l=this.start+1;for(;l<this.end;){for(;l<this.end&&f[l-this.start]<=f[l-this.start-1]+this.kMinSplitDiff;)l++;if(l===this.end){l++;continue}l-this.start<this.minSamplesLeaf||this.end-l<this.minSamplesLeaf||(r.pos=l,this.criterion.update(r.pos,this.sampleMap),a=this.criterion.impurityImprovement(),a>o&&(o=a,r.foundSplit=!0,r.feature=u,r.threshold=(f[l-this.start-1]+f[l-this.start])/2,n=Object.assign({},r))),l+=1}s+=1}if(r.foundSplit){if(n.pos<this.end&&u!==n.feature){let c=this.start,h=this.end,m=0;for(;c<h;)this.X[this.sampleMap[c]][n.feature]<=n.threshold?c+=1:(h-=1,m=this.sampleMap[c],this.sampleMap[c]=this.sampleMap[h],this.sampleMap[h]=m)}this.criterion.reset(),this.criterion.update(n.pos,this.sampleMap);let{impurityLeft:f,impurityRight:l}=this.criterion.childrenImpurities();return n.impurityLeft=f,n.impurityRight=l,n}else return r}}});function gC(t){if(t.length===0)throw new Error(`X can not be empty, but it has a length of 0. It is ${t}.`);for(let e=0;e<t.length;e++){let r=t[e];if(r.length===0)throw new Error(`Rows in X can not be empty, but row ${e} in X is ${r}.`);for(let n=0;n<r.length;n++)if(typeof r[n]!="number"||!Number.isFinite(r[n]))throw new Error(`X must contain finite non-NaN numbers, but the element at X[${e}][${n}] is ${r[n]}`)}}function kVe(t){if(t.length===0)throw new Error(`y can not be empty, but it has a length of 0. It is ${t}.`);for(let e=0;e<t.length;e++){let r=t[e];if(!Number.isSafeInteger(r))throw new Error(`Some y values are not an integer. Found ${r} but must be an integer only`)}}var IVe=te(()=>{w();_()});function SXt(t){return t.map((e,r)=>[e,r]).reduce((e,r)=>r[0]>e[0]?r:e)[1]}var aM,Uw,yC,bC,gZ=te(()=>{w();_();vC();kk();vC();pi();IVe();Zi();QI();$f();aM=class{constructor(){De(this,"nodes",[]);De(this,"isBuilt",!1);De(this,"name","DecisionTree")}getLeafNodes(e){let r=[];for(let n=0;n<e.length;n++){let a=0;for(;!this.nodes[a].isLeaf;)e[n][this.nodes[a].splitFeature]<=this.nodes[a].threshold?a=this.nodes[a].leftChildId:a=this.nodes[a].rightChildId;r.push(a)}return r}populateChildIds(){for(let e=1;e<this.nodes.length;e++)this.nodes[e].isLeft?this.nodes[this.nodes[e].parentId].leftChildId=e:this.nodes[this.nodes[e].parentId].rightChildId=e}predictProba(e){if(!this.isBuilt)throw new Error("Decision tree must be built with BuildTree method before predictions can be made.");let r=this.getLeafNodes(e),n=[];for(let a=0;a<r.length;a++){let o=[],s=r[a];for(let u=0;u<this.nodes[0].value.length;u++)o.push(this.nodes[s].value[u]/this.nodes[s].nSamples);n.push(o)}return n}predictClassification(e){if(!this.isBuilt)throw new Error("Decision tree must be built with BuildTree method before predictions can be made.");let r=this.getLeafNodes(e),n=[];for(let a=0;a<r.length;a++){let o=r[a];n.push(SXt(this.nodes[o].value))}return n}predictRegression(e){if(!this.isBuilt)throw new Error("Decision tree must be built with BuildTree method before predictions can be made.");let r=this.getLeafNodes(e),n=[];for(let a=0;a<r.length;a++){let o=r[a];n.push(this.nodes[o].value[0])}return n}},Uw=class extends Ti{constructor({criterion:r="gini",maxDepth:n=Number.POSITIVE_INFINITY,minSamplesSplit:a=2,minSamplesLeaf:o=1,maxFeatures:s=void 0,minImpurityDecrease:u=0}={}){super();De(this,"splitter");De(this,"stack",[]);De(this,"minSamplesLeaf");De(this,"maxDepth");De(this,"minSamplesSplit");De(this,"minImpurityDecrease");De(this,"tree");De(this,"criterion");De(this,"maxFeatures");De(this,"maxFeaturesNumb");De(this,"X",[]);De(this,"y",[]);De(this,"labelEncoder");De(this,"name");this.criterion=r,this.maxDepth=n===void 0?Number.POSITIVE_INFINITY:Number(n),this.minSamplesSplit=a,this.minSamplesLeaf=o,this.maxFeatures=s,this.minImpurityDecrease=u,this.maxFeaturesNumb=0,this.tree=new aM,this.name="DecisionTreeBase"}calcMaxFeatures(r,n){return n==="log2"?Math.floor(Math.log2(r)):n==="sqrt"||n==="auto"?Math.floor(Math.sqrt(r)):typeof n=="number"?(Ft(n>=1,"maxFeatures must be greater than 1"),Math.min(Math.floor(n),r)):r}fit(r,n,a){this.X=r,this.y=n;let o=a||[];this.maxFeaturesNumb=this.calcMaxFeatures(r[0].length,this.maxFeatures),this.splitter=new zw({X:r,y:n,minSamplesLeaf:this.minSamplesLeaf,impurityMeasure:this.criterion,maxFeatures:this.maxFeaturesNumb,samplesSubset:o});let s={start:0,end:this.splitter.sampleMap.length,depth:0,impurity:0,nSamples:this.splitter.sampleMap.length,parentId:-1,isLeft:!1};this.stack.push(s);let u=!0;for(;this.stack.length!==0;){let f=this.stack.pop();this.splitter.resetSampleRange(f.start,f.end);let l=mC(),c=!(f.depth<this.maxDepth)||f.nSamples<this.minSamplesSplit||f.nSamples<2*this.minSamplesLeaf;u&&(f.impurity=this.splitter.criterion.nodeImpurity(),u=!1),c||(l=this.splitter.splitNode(),c=c||!l.foundSplit||f.impurity<=this.minImpurityDecrease);let h={parentId:f.parentId,impurity:f.impurity,isLeaf:c,isLeft:f.isLeft,nSamples:f.nSamples,splitFeature:l.feature,threshold:l.threshold,value:this.splitter.criterion.nodeValue().slice(),leftChildId:-1,rightChildId:-1};this.tree.nodes.push(h);let m=this.tree.nodes.length-1;if(!c){let g={start:l.pos,end:f.end,nSamples:f.end-l.pos,depth:f.depth+1,parentId:m,isLeft:!1,impurity:l.impurityRight};this.stack.push(g);let b={start:f.start,end:l.pos,nSamples:l.pos-f.start,depth:f.depth+1,parentId:m,isLeft:!0,impurity:l.impurityLeft};this.stack.push(b)}}this.tree.populateChildIds(),this.tree.isBuilt=!0}},yC=class extends Uw{constructor({criterion:r="gini",maxDepth:n=void 0,minSamplesSplit:a=2,minSamplesLeaf:o=1,maxFeatures:s=void 0,minImpurityDecrease:u=0}={}){Ft(["gini","entropy"].includes(r),'For classification must pass either the "gini" or "entropy" criterion');super({criterion:r,maxDepth:n,minSamplesSplit:a,minSamplesLeaf:o,maxFeatures:s,minImpurityDecrease:u});De(this,"labelEncoder");De(this,"name");this.labelEncoder=new em,this.name="DecisionTreeClassifier"}fit(r,n){Ft(xu(n),"y value is not a 1D container"),Ft(ti(r),"X value is not a 2D container");let a=zc(r),o=Ek(n);Ft(a.length===o.length,"X and y must be the same size"),gC(a),kVe(o);let s=this.labelEncoder.fitTransform(o);return super.fit(a,Ek(s)),this}getNLeaves(){return this.tree.nodes.filter(r=>r.isLeaf).length}predict(r){Ft(ti(r),"X value is not a 2D container");let n=zc(r);gC(n);let a=this.tree.predictClassification(n);return this.labelEncoder.inverseTransform(a)}predictProba(r){return this.tree.predictProba(r)}score(r,n){let a=this.predict(r);return Sv(n,a)}},bC=class extends Uw{constructor({criterion:r="squared_error",maxDepth:n=void 0,minSamplesSplit:a=2,minSamplesLeaf:o=1,maxFeatures:s=void 0,minImpurityDecrease:u=0}={}){Ft(["squared_error"].includes(r),'Must pass the regression criterion of "squared_error"');super({criterion:r,maxDepth:n,minSamplesSplit:a,minSamplesLeaf:o,maxFeatures:s,minImpurityDecrease:u});De(this,"name");this.name="DecisionTreeRegressor"}fit(r,n){Ft(xu(n),"y value is not a 1D container"),Ft(ti(r),"X value is not a 2D container");let a=zc(r),o=Ek(n);return Ft(a.length===o.length,"X and y must be the same size"),gC(a),super.fit(a,o),this}getNLeaves(){return this.tree.nodes.filter(r=>r.isLeaf).length}predict(r){return this.tree.predictRegression(r)}score(r,n){let a=this.predict(r);return nE(n,a)}}});var CVe,yZ,OVe=te(()=>{w();_();jr();CVe=({nSamples:t=100,nFeatures:e=100,nInformative:r=10,nTargets:n=1,noise:a=1,bias:o=0,effectiveRank:s=null,tailStrength:u=.5,shuffle:f=!1,coef:l=!1}={})=>{let c=kt();return c.tidy(()=>{let h=Math.min(e,r),m;s===null?m=c.randomNormal([t,e]):m=yZ({nSamples:t,nFeatures:e,effectiveRank:s,tailStrength:u});let g=c.randomNormal([h,n]).mul(100),b=c.zeros([e-h,n]),A=c.concat([g,b]),I=m.dot(A).add(o);if(a>0&&(I=I.add(c.randomNormal(I.shape,void 0,a))),f){let C=c.util.createShuffledIndices(t);m=m.gather(C)}return I=c.squeeze(I),l?[m,I,c.squeeze(A)]:[m,I]})},yZ=({nSamples:t=100,nFeatures:e=100,effectiveRank:r=10,tailStrength:n=.5}={})=>{let a=kt();return a.tidy(()=>{let o=Math.min(t,e),[s]=a.linalg.qr(a.randomNormal([t,o])),[u]=a.linalg.qr(a.randomNormal([e,o])),l=a.range(0,o).div(r),c=a.exp(l.square().neg()).mul(1-n),h=a.exp(l.mul(-.1)).mul(n),m=c.add(h);return s.mul(m).dot(u.transpose())})}});var jw,bZ=te(()=>{w();_();pi();sC();Zi();jr();jw=class{constructor({nSplits:e=5,shuffle:r=!1,randomState:n}={}){De(this,"nSplits");De(this,"shuffle");De(this,"randomState");De(this,"name");De(this,"tf");e=Number(e),Ft(Number.isInteger(e)&&e>1,"new KFold({nSplits}): nSplits must be an int greater than 1."),this.tf=kt(),this.nSplits=e,this.shuffle=Boolean(r),this.randomState=n,this.name="KFold"}getNumSplits(){return this.nSplits}*split(e,r,n){let{nSplits:a,shuffle:o,randomState:s}=this,u=_v(e);Ft(a<=u,"KFold({nSplits})::split(X): nSplits must not be greater than X.shape[0]."),r!=null&&Ft(u===_v(r),"KFold::split(X,y): X.shape[0] must equal y.shape[0]."),n!=null&&Ft(u===_v(n),"KFold::split(X,y,groups): X.shape[0] must equal groups.shape[0].");let f=new Int32Array(u);for(let m=0;m<f.length;m++)f[m]=m;if(o){let m=tVe(s);rVe(m)(f)}let l=Math.floor(u/a),c=u%a,h=0;for(;h<u;){let m=c-- >0?l+1:l,g=new Int32Array(u-m);g.set(f.subarray(0,h),0),g.set(f.subarray(h+m),h);let b=f.slice(h,h+m);yield{trainIndex:this.tf.tensor1d(g,"int32"),testIndex:this.tf.tensor1d(b,"int32")},h+=m}}}});function EXt(t,e,r,n=.1){if(Ft(r===void 0||typeof r=="number",`Invalid value for trainSize: ${r}. Must be number or undefined`),Ft(e===void 0||typeof e=="number",`Invalid value for testSize: ${e}. Must be number or undefined`),e===void 0&&r===void 0&&(e=n),typeof e=="number"&&(Number.isInteger(e)&&(e>=t||e<=0)||!Number.isInteger(e)&&(e<=0||e>=1)))throw Error(`testSize=${e} should be either positive and smaller than the number of samples ${t} or a float in the (0, 1) range`);if(typeof r=="number"&&(Number.isInteger(r)&&(r>=t||r<=0)||!Number.isInteger(r)&&(r<=0||r>=1)))throw Error(`trainSize=${r} should be either positive and smaller than the number of samples ${t} or a float in the (0, 1) range`);if(!Number.isInteger(r)&&!Number.isInteger(e)&&r&&e&&r+e>1)throw Error(`The sum of testSize and trainSize = ${r+e}, should be in the (0, 1) range. Reduce testSize and/or trainSize.`);let a,o;if(Number.isInteger(e)?a=e:typeof e=="number"&&(a=Math.ceil(e*t)),Number.isInteger(r)?o=r:typeof r=="number"&&(o=Math.ceil(r*t)),r===void 0&&(o=t-a),e===void 0&&(a=t-o),typeof o!="number"||typeof a!="number")throw Error("nTrain and nTest must be a number");if(o+a>t)throw Error(`The sum of trainSize and testSize = ${o+a}, should be smaller than the number of samples ${t}. Reduce testSize and/or trainSize.`);if(o=Math.floor(o),a=Math.floor(a),o===0)throw Error(`With nSamples=${t}, testSize=${e} and trainSize=${r}, the resulting train set will be empty. Adjust any of the aforementioned parameters.`);return[o,a]}function wC(t,e){let r=kt();return jf(t)?r.gather(t,e):wa(t)?t.iloc({rows:e}):ap(t)?t.iloc(e):e.map(n=>t[n])}function RVe(t,e,r=.1,n,a){let o=_v(t),s=_v(e);Ft(o===s,"X and y don't have the same number of elements. They are of different size");let[u,f]=EXt(o,r,n),l=Mk(o,o,a),c=l.slice(0,u),h=l.slice(u);return[wC(t,c),wC(t,h),wC(e,c),wC(e,h)]}var FVe=te(()=>{w();_();pi();Zi();jr()});function BVe(t,e,r,n){return it(this,null,function*(){let a=kt(),o=r==null||n==null&&!xu(r);o&&(n=n!=null?n:r);let{cv:s=new jw,groups:u,scoring:f}=n!=null?n:{};f==null&&(Ft(typeof t.score=="function","crossValScore(estimator,[X,y],params): Either params.scoring or estimator.score(X,y) must be defined."),f=t.score);let l=[];f=f.bind(t);let c;a.engine().startScope();try{e=Qb(e),o||(r=Pl(r));for(let{trainIndex:h,testIndex:m}of s.split(e,r,u)){let g,b=e.gather(h),A=e.gather(m);if(o)yield t.fit(b),g=f(A);else{let I=r.gather(h),C=r.gather(m);yield t.fit(b,I),g=f(A,C),I.dispose(),C.dispose()}l.push(g),h.dispose(),m.dispose(),b.dispose(),A.dispose()}return c=a.stack(l)}finally{a.engine().endScope(c)}})}var LVe=te(()=>{w();_();pi();bZ();pi();Zi();jr();});var Ck={};tl(Ck,{ClassificationCriterion:()=>tm,ColumnTransformer:()=>rC,DecisionTree:()=>aM,DecisionTreeBase:()=>Uw,DecisionTreeClassifier:()=>yC,DecisionTreeRegressor:()=>bC,DummyClassifier:()=>HI,DummyRegressor:()=>jI,ElasticNet:()=>Bk,GaussianNB:()=>dC,KFold:()=>jw,KMeans:()=>iC,KNeighborsClassifier:()=>qw,KNeighborsRegressor:()=>fC,LabelEncoder:()=>em,LassoRegression:()=>Rk,LinearRegression:()=>Ok,LinearSVC:()=>cC,LinearSVR:()=>hC,LogisticRegression:()=>Lk,MaxAbsScaler:()=>YI,MinMaxScaler:()=>ZI,Normalizer:()=>tC,OneHotEncoder:()=>sw,OrdinalEncoder:()=>eC,Pipeline:()=>eM,RegressionCriterion:()=>rm,RidgeRegression:()=>Fk,RobustScaler:()=>nC,Serialize:()=>Ti,SimpleImputer:()=>XI,Splitter:()=>zw,StandardScaler:()=>JI,VotingClassifier:()=>rM,VotingRegressor:()=>tM,crossValScore:()=>BVe,dataUrls:()=>H$e,fromJSON:()=>hAe,fromObject:()=>Jq,getBackend:()=>kt,makeLowRankMatrix:()=>yZ,makePipeline:()=>z$e,makeRegression:()=>CVe,makeVotingClassifier:()=>Y$e,makeVotingRegressor:()=>Z$e,metrics:()=>Dk,setBackend:()=>fEe,trainTestSplit:()=>RVe});var Yq=te(()=>{w();_();pAe();dAe();mAe();vAe();gAe();kk();Mje();k$e();O$e();R$e();F$e();L$e();Xq();QI();P$e();q$e();U$e();$$e();W$e();G$e();K$e();J$e();X$e();fVe();hVe();pVe();dVe();vVe();gZ();OVe();jr();bZ();FVe();LVe();$f();mZ();vC();gZ();});var BXt={};tl(BXt,{Data:()=>dy,JSONModel:()=>Kl,Model:()=>bS,ModelCategories:()=>xZ,ModelTypes:()=>wZ,ModelX:()=>Kl,autoAssignFeatureColumns:()=>_k,createModelFitCallback:()=>uEe,getAutoFeatures:()=>wk,getBackend:()=>YS,getDataSet:()=>oM,getGeneratedStatefulFunction:()=>_Z,getModel:()=>WVe,getModelFromJSONM:()=>NZ,getModelTrainingOptions:()=>TZ,getScikit:()=>_C,setBackend:()=>sEe,setScikit:()=>PVe,sumPreviousRows:()=>SZ});w();_();w();_();var dy={};tl(dy,{DataSet:()=>Ga,PD:()=>qfe.default,calc:()=>zht,cross_validation:()=>_B,csv:()=>Uht,nlp:()=>RN,util:()=>Vn});w();_();var Rfe=Bt(SA()),Ffe=Bt(q5()),Bfe=Bt(z5()),wB=Bt(U5()),qfe=Bt(Nue()),zfe=Bt(_2()),hy=Bt(_2()),Ufe=Bt(l0()),jfe=Bt(oB());w();_();function Cct(t){return t.next()|0}function c0(t,e){return e===0?t:r=>t(r)+e}function que(t){let e=t.next()|0,r=t.next()>>>0;return(e&2097151)*4294967296+r+(e&2097152?-9007199254740992:0)}function Oct(t){for(;;){let e=t.next()|0;if(e&4194304){if((e&8388607)===4194304&&(t.next()|0)===0)return 9007199254740992}else{let r=t.next()>>>0;return(e&2097151)*4294967296+r+(e&2097152?-9007199254740992:0)}}}function Rct(t){return t.next()>>>0}function Fct(t){let e=t.next()&2097151,r=t.next()>>>0;return e*4294967296+r}function Bct(t){for(;;){let e=t.next()|0;if(e&2097152){if((e&2097151)===0&&(t.next()|0)===0)return 9007199254740992}else{let r=t.next()>>>0;return(e&2097151)*4294967296+r}}}function jue(t){return(t+1&t)===0}function Lct(t){return e=>e.next()&t}function Pct(t){let e=t+1,r=e*Math.floor(4294967296/e);return n=>{let a=0;do a=n.next()>>>0;while(a>=r);return a%e}}function qct(t){return jue(t)?Lct(t):Pct(t)}function zct(t){return(t|0)===0}function Uct(t){return e=>{let r=e.next()&t,n=e.next()>>>0;return r*4294967296+n}}function jct(t){let e=t*Math.floor(9007199254740992/t);return r=>{let n=0;do{let a=r.next()&2097151,o=r.next()>>>0;n=a*4294967296+o}while(n>=e);return n%t}}function $ct(t){let e=t+1;if(zct(e)){let r=(e/4294967296|0)-1;if(jue(r))return Uct(r)}return jct(e)}function zue(t,e){return r=>{let n=0;do{let a=r.next()|0,o=r.next()>>>0;n=(a&2097151)*4294967296+o+(a&2097152?-9007199254740992:0)}while(n<t||n>e);return n}}function IN(t,e){if(t=Math.floor(t),e=Math.floor(e),t<-9007199254740992||!isFinite(t))throw new RangeError(`Expected min to be at least ${-9007199254740992}`);if(e>9007199254740992||!isFinite(e))throw new RangeError(`Expected max to be at most ${9007199254740992}`);let r=e-t;return r<=0||!isFinite(r)?()=>t:r===4294967295?t===0?Rct:c0(Cct,t+2147483648):r<4294967295?c0(qct(r),t):r===9007199254740991?c0(Fct,t):r<9007199254740991?c0($ct(r),t):e-1-t===9007199254740991?c0(Bct,t):t===-9007199254740992&&e===9007199254740992?Oct:t===-9007199254740992&&e===9007199254740991?que:t===-9007199254740991&&e===9007199254740992?c0(que,1):e===9007199254740992?c0(zue(t-1,e-1),1):zue(t,e)}var Vct="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-";function $ue(t=Vct){let e=t.length;if(!e)throw new Error("Expected pool not to be an empty string");let r=IN(0,e-1);return(n,a)=>{let o="";for(let s=0;s<a;++s){let u=r(n);o+=t.charAt(u)}return o}}var Vue="0123456789abcdef",qir=$ue(Vue),zir=$ue(Vue.toUpperCase());var Uir=Array.prototype.slice;var jir=(()=>{try{if("x".repeat(3)==="xxx")return(t,e)=>t.repeat(e)}catch(t){}return(t,e)=>{let r="";for(;e>0;)e&1&&(r+=t),e>>=1,t+=t;return r}})();var Wct={next(){return Math.random()*4294967296|0}};var Gct=(()=>{try{let t=new ArrayBuffer(4),e=new Int32Array(t);if(e[0]=2147483648,e[0]===-2147483648)return Int32Array}catch(t){}return Array})();function Hct(t=Wct,e=16){let r=[];r.push(new Date().getTime()|0);for(let n=1;n<e;++n)r[n]=t.next()|0;return r}var fB=(()=>{try{if(Math.imul(4294967295,5)===-5)return Math.imul}catch(e){}let t=65535;return(e,r)=>{let n=e>>>16&t,a=e&t,o=r>>>16&t,s=r&t;return a*s+(n*s+a*o<<16>>>0)|0}})(),Sc=624,rd=Sc-1,lB=397,Uue=Sc-lB,sB=2567483615,wh=class{constructor(){this.data=new Gct(Sc),this.index=0,this.uses=0}static seed(e){return new wh().seed(e)}static seedWithArray(e){return new wh().seedWithArray(e)}static autoSeed(){return wh.seedWithArray(Hct())}next(){(this.index|0)>=Sc&&(uB(this.data),this.index=0);let e=this.data[this.index];return this.index=this.index+1|0,this.uses+=1,Kct(e)|0}getUseCount(){return this.uses}discard(e){if(e<=0)return this;for(this.uses+=e,(this.index|0)>=Sc&&(uB(this.data),this.index=0);e+this.index>Sc;)e-=Sc-this.index,uB(this.data),this.index=0;return this.index=this.index+e|0,this}seed(e){let r=0;this.data[0]=r=e|0;for(let n=1;n<Sc;n=n+1|0)this.data[n]=r=fB(r^r>>>30,1812433253)+n|0;return this.index=Sc,this.uses=0,this}seedWithArray(e){return this.seed(19650218),Zct(this.data,e),this}};function uB(t){let e=0,r=0;for(;(e|0)<Uue;e=e+1|0)r=t[e]&2147483648|t[e+1|0]&2147483647,t[e]=t[e+lB|0]^r>>>1^(r&1?sB:0);for(;(e|0)<rd;e=e+1|0)r=t[e]&2147483648|t[e+1|0]&2147483647,t[e]=t[e-Uue|0]^r>>>1^(r&1?sB:0);r=t[rd]&2147483648|t[0]&2147483647,t[rd]=t[lB-1]^r>>>1^(r&1?sB:0)}function Kct(t){return t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,t^t>>>18}function Zct(t,e){let r=1,n=0,a=e.length,o=Math.max(a,Sc)|0,s=t[0]|0;for(;(o|0)>0;--o)t[r]=s=(t[r]^fB(s^s>>>30,1664525))+(e[n]|0)+(n|0)|0,r=r+1|0,++n,(r|0)>rd&&(t[0]=t[rd],r=1),n>=a&&(n=0);for(o=rd;(o|0)>0;--o)t[r]=s=(t[r]^fB(s^s>>>30,1566083941))-r|0,r=r+1|0,(r|0)>rd&&(t[0]=t[rd],r=1);t[0]=2147483648}var Wfe=Bt(l0());w();_();w();_();w();_();var Jct=Object.prototype.toString;function mo(t){return Jct.call(t).endsWith("Array]")}w();_();w();_();function Wue(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!mo(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var r=e.fromIndex,n=r===void 0?0:r,a=e.toIndex,o=a===void 0?t.length:a;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=n||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[n],u=n+1;u<o;u++)t[u]>s&&(s=t[u]);return s}w();_();function Gue(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!mo(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var r=e.fromIndex,n=r===void 0?0:r,a=e.toIndex,o=a===void 0?t.length:a;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=n||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[n],u=n+1;u<o;u++)t[u]<s&&(s=t[u]);return s}function cB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(mo(t)){if(t.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var r;if(e.output!==void 0){if(!mo(e.output))throw new TypeError("output option must be an array if specified");r=e.output}else r=new Array(t.length);var n=Gue(t),a=Wue(t);if(n===a)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=e.min,s=o===void 0?e.autoMinMax?n:0:o,u=e.max,f=u===void 0?e.autoMinMax?a:1:u;if(s>=f)throw new RangeError("min option must be smaller than max option");for(var l=(f-s)/(a-n),c=0;c<t.length;c++)r[c]=(t[c]-n)*l+s;return r}w();_();var CN=" ".repeat(2),Hue=" ".repeat(4);function Kue(){return hB(this)}function hB(t,e={}){let{maxRows:r=15,maxColumns:n=10,maxNumSize:a=8}=e;return`${t.constructor.name} {
${CN}[
${Hue}${Yct(t,r,n,a)}
${CN}]
${CN}rows: ${t.rows}
${CN}columns: ${t.columns}
}`}function Yct(t,e,r,n){let{rows:a,columns:o}=t,s=Math.min(a,e),u=Math.min(o,r),f=[];for(let l=0;l<s;l++){let c=[];for(let h=0;h<u;h++)c.push(Xct(t.get(l,h),n));f.push(`${c.join(" ")}`)}return u!==o&&(f[f.length-1]+=` ... ${o-r} more columns`),s!==a&&f.push(`... ${a-e} more rows`),f.join(`
${Hue}`)}function Xct(t,e){let r=String(t);if(r.length<=e)return r.padEnd(e," ");let n=t.toPrecision(e-2);if(n.length<=e)return n;let a=t.toExponential(e-2),o=a.indexOf("e"),s=a.slice(o);return a.slice(0,e-s.length)+s}w();_();function Zue(t,e){t.prototype.add=function(n){return typeof n=="number"?this.addS(n):this.addM(n)},t.prototype.addS=function(n){for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)+n);return this},t.prototype.addM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)+n.get(a,o));return this},t.add=function(n,a){return new e(n).add(a)},t.prototype.sub=function(n){return typeof n=="number"?this.subS(n):this.subM(n)},t.prototype.subS=function(n){for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)-n);return this},t.prototype.subM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)-n.get(a,o));return this},t.sub=function(n,a){return new e(n).sub(a)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(n){return typeof n=="number"?this.mulS(n):this.mulM(n)},t.prototype.mulS=function(n){for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)*n);return this},t.prototype.mulM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)*n.get(a,o));return this},t.mul=function(n,a){return new e(n).mul(a)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(n){return typeof n=="number"?this.divS(n):this.divM(n)},t.prototype.divS=function(n){for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)/n);return this},t.prototype.divM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)/n.get(a,o));return this},t.div=function(n,a){return new e(n).div(a)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(n){return typeof n=="number"?this.modS(n):this.modM(n)},t.prototype.modS=function(n){for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)%n);return this},t.prototype.modM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)%n.get(a,o));return this},t.mod=function(n,a){return new e(n).mod(a)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(n){return typeof n=="number"?this.andS(n):this.andM(n)},t.prototype.andS=function(n){for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)&n);return this},t.prototype.andM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)&n.get(a,o));return this},t.and=function(n,a){return new e(n).and(a)},t.prototype.or=function(n){return typeof n=="number"?this.orS(n):this.orM(n)},t.prototype.orS=function(n){for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)|n);return this},t.prototype.orM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)|n.get(a,o));return this},t.or=function(n,a){return new e(n).or(a)},t.prototype.xor=function(n){return typeof n=="number"?this.xorS(n):this.xorM(n)},t.prototype.xorS=function(n){for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)^n);return this},t.prototype.xorM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)^n.get(a,o));return this},t.xor=function(n,a){return new e(n).xor(a)},t.prototype.leftShift=function(n){return typeof n=="number"?this.leftShiftS(n):this.leftShiftM(n)},t.prototype.leftShiftS=function(n){for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)<<n);return this},t.prototype.leftShiftM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)<<n.get(a,o));return this},t.leftShift=function(n,a){return new e(n).leftShift(a)},t.prototype.signPropagatingRightShift=function(n){return typeof n=="number"?this.signPropagatingRightShiftS(n):this.signPropagatingRightShiftM(n)},t.prototype.signPropagatingRightShiftS=function(n){for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)>>n);return this},t.prototype.signPropagatingRightShiftM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)>>n.get(a,o));return this},t.signPropagatingRightShift=function(n,a){return new e(n).signPropagatingRightShift(a)},t.prototype.rightShift=function(n){return typeof n=="number"?this.rightShiftS(n):this.rightShiftM(n)},t.prototype.rightShiftS=function(n){for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)>>>n);return this},t.prototype.rightShiftM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,this.get(a,o)>>>n.get(a,o));return this},t.rightShift=function(n,a){return new e(n).rightShift(a)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,~this.get(n,a));return this},t.not=function(n){return new e(n).not()},t.prototype.abs=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.abs(this.get(n,a)));return this},t.abs=function(n){return new e(n).abs()},t.prototype.acos=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.acos(this.get(n,a)));return this},t.acos=function(n){return new e(n).acos()},t.prototype.acosh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.acosh(this.get(n,a)));return this},t.acosh=function(n){return new e(n).acosh()},t.prototype.asin=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.asin(this.get(n,a)));return this},t.asin=function(n){return new e(n).asin()},t.prototype.asinh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.asinh(this.get(n,a)));return this},t.asinh=function(n){return new e(n).asinh()},t.prototype.atan=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.atan(this.get(n,a)));return this},t.atan=function(n){return new e(n).atan()},t.prototype.atanh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.atanh(this.get(n,a)));return this},t.atanh=function(n){return new e(n).atanh()},t.prototype.cbrt=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.cbrt(this.get(n,a)));return this},t.cbrt=function(n){return new e(n).cbrt()},t.prototype.ceil=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.ceil(this.get(n,a)));return this},t.ceil=function(n){return new e(n).ceil()},t.prototype.clz32=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.clz32(this.get(n,a)));return this},t.clz32=function(n){return new e(n).clz32()},t.prototype.cos=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.cos(this.get(n,a)));return this},t.cos=function(n){return new e(n).cos()},t.prototype.cosh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.cosh(this.get(n,a)));return this},t.cosh=function(n){return new e(n).cosh()},t.prototype.exp=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.exp(this.get(n,a)));return this},t.exp=function(n){return new e(n).exp()},t.prototype.expm1=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.expm1(this.get(n,a)));return this},t.expm1=function(n){return new e(n).expm1()},t.prototype.floor=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.floor(this.get(n,a)));return this},t.floor=function(n){return new e(n).floor()},t.prototype.fround=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.fround(this.get(n,a)));return this},t.fround=function(n){return new e(n).fround()},t.prototype.log=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.log(this.get(n,a)));return this},t.log=function(n){return new e(n).log()},t.prototype.log1p=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.log1p(this.get(n,a)));return this},t.log1p=function(n){return new e(n).log1p()},t.prototype.log10=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.log10(this.get(n,a)));return this},t.log10=function(n){return new e(n).log10()},t.prototype.log2=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.log2(this.get(n,a)));return this},t.log2=function(n){return new e(n).log2()},t.prototype.round=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.round(this.get(n,a)));return this},t.round=function(n){return new e(n).round()},t.prototype.sign=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.sign(this.get(n,a)));return this},t.sign=function(n){return new e(n).sign()},t.prototype.sin=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.sin(this.get(n,a)));return this},t.sin=function(n){return new e(n).sin()},t.prototype.sinh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.sinh(this.get(n,a)));return this},t.sinh=function(n){return new e(n).sinh()},t.prototype.sqrt=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.sqrt(this.get(n,a)));return this},t.sqrt=function(n){return new e(n).sqrt()},t.prototype.tan=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.tan(this.get(n,a)));return this},t.tan=function(n){return new e(n).tan()},t.prototype.tanh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.tanh(this.get(n,a)));return this},t.tanh=function(n){return new e(n).tanh()},t.prototype.trunc=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.trunc(this.get(n,a)));return this},t.trunc=function(n){return new e(n).trunc()},t.pow=function(n,a){return new e(n).pow(a)},t.prototype.pow=function(n){return typeof n=="number"?this.powS(n):this.powM(n)},t.prototype.powS=function(n){for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,Math.pow(this.get(a,o),n));return this},t.prototype.powM=function(n){if(n=e.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let o=0;o<this.columns;o++)this.set(a,o,Math.pow(this.get(a,o),n.get(a,o)));return this}}w();_();w();_();function of(t,e,r){let n=r?t.rows:t.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function sf(t,e,r){let n=r?t.columns:t.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function h0(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function p0(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function Jue(t,e){if(!mo(e))throw new TypeError("row indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.rows)throw new RangeError("row indices are out of range")}function Yue(t,e){if(!mo(e))throw new TypeError("column indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.columns)throw new RangeError("column indices are out of range")}function pB(t,e,r,n,a){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(ON("startRow",e),ON("endRow",r),ON("startColumn",n),ON("endColumn",a),e>r||n>a||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||a<0||a>=t.columns)throw new RangeError("Submatrix indices are out of range")}function S2(t,e=0){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function ON(t,e){if(typeof e!="number")throw new TypeError(`${t} must be a number`)}function d0(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}function Xue(t){let e=S2(t.rows);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]+=t.get(r,n);return e}function Que(t){let e=S2(t.columns);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]+=t.get(r,n);return e}function efe(t){let e=0;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e+=t.get(r,n);return e}function tfe(t){let e=S2(t.rows,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]*=t.get(r,n);return e}function rfe(t){let e=S2(t.columns,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]*=t.get(r,n);return e}function nfe(t){let e=1;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e*=t.get(r,n);return e}function ife(t,e,r){let n=t.rows,a=t.columns,o=[];for(let s=0;s<n;s++){let u=0,f=0,l=0;for(let c=0;c<a;c++)l=t.get(s,c)-r[s],u+=l,f+=l*l;e?o.push((f-u*u/a)/(a-1)):o.push((f-u*u/a)/a)}return o}function afe(t,e,r){let n=t.rows,a=t.columns,o=[];for(let s=0;s<a;s++){let u=0,f=0,l=0;for(let c=0;c<n;c++)l=t.get(c,s)-r[s],u+=l,f+=l*l;e?o.push((f-u*u/n)/(n-1)):o.push((f-u*u/n)/n)}return o}function ofe(t,e,r){let n=t.rows,a=t.columns,o=n*a,s=0,u=0,f=0;for(let l=0;l<n;l++)for(let c=0;c<a;c++)f=t.get(l,c)-r,s+=f,u+=f*f;return e?(u-s*s/o)/(o-1):(u-s*s/o)/o}function sfe(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[r])}function ufe(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[n])}function ffe(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e)}function lfe(t){let e=[];for(let r=0;r<t.rows;r++){let n=0;for(let a=0;a<t.columns;a++)n+=Math.pow(t.get(r,a),2)/(t.columns-1);e.push(Math.sqrt(n))}return e}function cfe(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[r])}function hfe(t){let e=[];for(let r=0;r<t.columns;r++){let n=0;for(let a=0;a<t.rows;a++)n+=Math.pow(t.get(a,r),2)/(t.rows-1);e.push(Math.sqrt(n))}return e}function pfe(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[n])}function dfe(t){let e=t.size-1,r=0;for(let n=0;n<t.columns;n++)for(let a=0;a<t.rows;a++)r+=Math.pow(t.get(a,n),2)/e;return Math.sqrt(r)}function mfe(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e)}var Xr=class{static from1DArray(e,r,n){if(e*r!==n.length)throw new RangeError("data length does not match given dimensions");let o=new Ur(e,r);for(let s=0;s<e;s++)for(let u=0;u<r;u++)o.set(s,u,n[s*r+u]);return o}static rowVector(e){let r=new Ur(1,e.length);for(let n=0;n<e.length;n++)r.set(0,n,e[n]);return r}static columnVector(e){let r=new Ur(e.length,1);for(let n=0;n<e.length;n++)r.set(n,0,e[n]);return r}static zeros(e,r){return new Ur(e,r)}static ones(e,r){return new Ur(e,r).fill(1)}static rand(e,r,n={}){if(typeof n!="object")throw new TypeError("options must be an object");let{random:a=Math.random}=n,o=new Ur(e,r);for(let s=0;s<e;s++)for(let u=0;u<r;u++)o.set(s,u,a());return o}static randInt(e,r,n={}){if(typeof n!="object")throw new TypeError("options must be an object");let{min:a=0,max:o=1e3,random:s=Math.random}=n;if(!Number.isInteger(a))throw new TypeError("min must be an integer");if(!Number.isInteger(o))throw new TypeError("max must be an integer");if(a>=o)throw new RangeError("min must be smaller than max");let u=o-a,f=new Ur(e,r);for(let l=0;l<e;l++)for(let c=0;c<r;c++){let h=a+Math.round(s()*u);f.set(l,c,h)}return f}static eye(e,r,n){r===void 0&&(r=e),n===void 0&&(n=1);let a=Math.min(e,r),o=this.zeros(e,r);for(let s=0;s<a;s++)o.set(s,s,n);return o}static diag(e,r,n){let a=e.length;r===void 0&&(r=a),n===void 0&&(n=r);let o=Math.min(a,r,n),s=this.zeros(r,n);for(let u=0;u<o;u++)s.set(u,u,e[u]);return s}static min(e,r){e=this.checkMatrix(e),r=this.checkMatrix(r);let n=e.rows,a=e.columns,o=new Ur(n,a);for(let s=0;s<n;s++)for(let u=0;u<a;u++)o.set(s,u,Math.min(e.get(s,u),r.get(s,u)));return o}static max(e,r){e=this.checkMatrix(e),r=this.checkMatrix(r);let n=e.rows,a=e.columns,o=new this(n,a);for(let s=0;s<n;s++)for(let u=0;u<a;u++)o.set(s,u,Math.max(e.get(s,u),r.get(s,u)));return o}static checkMatrix(e){return Xr.isMatrix(e)?e:new Ur(e)}static isMatrix(e){return e!=null&&e.klass==="Matrix"}get size(){return this.rows*this.columns}apply(e){if(typeof e!="function")throw new TypeError("callback must be a function");for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)e.call(this,r,n);return this}to1DArray(){let e=[];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)e.push(this.get(r,n));return e}to2DArray(){let e=[];for(let r=0;r<this.rows;r++){e.push([]);for(let n=0;n<this.columns;n++)e[r].push(this.get(r,n))}return e}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let r=0;r<=e;r++)if(this.get(e,r)!==this.get(r,e))return!1;return!0}return!1}isEchelonForm(){let e=0,r=0,n=-1,a=!0,o=!1;for(;e<this.rows&&a;){for(r=0,o=!1;r<this.columns&&o===!1;)this.get(e,r)===0?r++:this.get(e,r)===1&&r>n?(o=!0,n=r):(a=!1,o=!0);e++}return a}isReducedEchelonForm(){let e=0,r=0,n=-1,a=!0,o=!1;for(;e<this.rows&&a;){for(r=0,o=!1;r<this.columns&&o===!1;)this.get(e,r)===0?r++:this.get(e,r)===1&&r>n?(o=!0,n=r):(a=!1,o=!0);for(let s=r+1;s<this.rows;s++)this.get(e,s)!==0&&(a=!1);e++}return a}echelonForm(){let e=this.clone(),r=0,n=0;for(;r<e.rows&&n<e.columns;){let a=r;for(let o=r;o<e.rows;o++)e.get(o,n)>e.get(a,n)&&(a=o);if(e.get(a,n)===0)n++;else{e.swapRows(r,a);let o=e.get(r,n);for(let s=n;s<e.columns;s++)e.set(r,s,e.get(r,s)/o);for(let s=r+1;s<e.rows;s++){let u=e.get(s,n)/e.get(r,n);e.set(s,n,0);for(let f=n+1;f<e.columns;f++)e.set(s,f,e.get(s,f)-e.get(r,f)*u)}r++,n++}}return e}reducedEchelonForm(){let e=this.echelonForm(),r=e.columns,n=e.rows,a=n-1;for(;a>=0;)if(e.maxRow(a)===0)a--;else{let o=0,s=!1;for(;o<n&&s===!1;)e.get(a,o)===1?s=!0:o++;for(let u=0;u<a;u++){let f=e.get(u,o);for(let l=o;l<r;l++){let c=e.get(u,l)-f*e.get(a,l);e.set(u,l,c)}}a--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if(typeof e!="object")throw new TypeError("options must be an object");let{rows:r=1,columns:n=1}=e;if(!Number.isInteger(r)||r<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let a=new Ur(this.rows*r,this.columns*n);for(let o=0;o<r;o++)for(let s=0;s<n;s++)a.setSubMatrix(this,this.rows*o,this.columns*s);return a}fill(e){for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,e);return this}neg(){return this.mulS(-1)}getRow(e){of(this,e);let r=[];for(let n=0;n<this.columns;n++)r.push(this.get(e,n));return r}getRowVector(e){return Ur.rowVector(this.getRow(e))}setRow(e,r){of(this,e),r=h0(this,r);for(let n=0;n<this.columns;n++)this.set(e,n,r[n]);return this}swapRows(e,r){of(this,e),of(this,r);for(let n=0;n<this.columns;n++){let a=this.get(e,n);this.set(e,n,this.get(r,n)),this.set(r,n,a)}return this}getColumn(e){sf(this,e);let r=[];for(let n=0;n<this.rows;n++)r.push(this.get(n,e));return r}getColumnVector(e){return Ur.columnVector(this.getColumn(e))}setColumn(e,r){sf(this,e),r=p0(this,r);for(let n=0;n<this.rows;n++)this.set(n,e,r[n]);return this}swapColumns(e,r){sf(this,e),sf(this,r);for(let n=0;n<this.rows;n++){let a=this.get(n,e);this.set(n,e,this.get(n,r)),this.set(n,r,a)}return this}addRowVector(e){e=h0(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)+e[n]);return this}subRowVector(e){e=h0(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)-e[n]);return this}mulRowVector(e){e=h0(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)*e[n]);return this}divRowVector(e){e=h0(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)/e[n]);return this}addColumnVector(e){e=p0(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)+e[r]);return this}subColumnVector(e){e=p0(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)-e[r]);return this}mulColumnVector(e){e=p0(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)*e[r]);return this}divColumnVector(e){e=p0(this,e);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)/e[r]);return this}mulRow(e,r){of(this,e);for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*r);return this}mulColumn(e,r){sf(this,e);for(let n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*r);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{let r=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)>r[n]&&(r[n]=this.get(n,a));return r}case"column":{let r=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)>r[a]&&(r[a]=this.get(n,a));return r}case void 0:{let r=this.get(0,0);for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)>r&&(r=this.get(n,a));return r}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){d0(this);let e=this.get(0,0),r=[0,0];for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)>e&&(e=this.get(n,a),r[0]=n,r[1]=a);return r}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{let r=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)<r[n]&&(r[n]=this.get(n,a));return r}case"column":{let r=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)<r[a]&&(r[a]=this.get(n,a));return r}case void 0:{let r=this.get(0,0);for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)<r&&(r=this.get(n,a));return r}default:throw new Error(`invalid option: ${e}`)}}minIndex(){d0(this);let e=this.get(0,0),r=[0,0];for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)<e&&(e=this.get(n,a),r[0]=n,r[1]=a);return r}maxRow(e){if(of(this,e),this.isEmpty())return NaN;let r=this.get(e,0);for(let n=1;n<this.columns;n++)this.get(e,n)>r&&(r=this.get(e,n));return r}maxRowIndex(e){of(this,e),d0(this);let r=this.get(e,0),n=[e,0];for(let a=1;a<this.columns;a++)this.get(e,a)>r&&(r=this.get(e,a),n[1]=a);return n}minRow(e){if(of(this,e),this.isEmpty())return NaN;let r=this.get(e,0);for(let n=1;n<this.columns;n++)this.get(e,n)<r&&(r=this.get(e,n));return r}minRowIndex(e){of(this,e),d0(this);let r=this.get(e,0),n=[e,0];for(let a=1;a<this.columns;a++)this.get(e,a)<r&&(r=this.get(e,a),n[1]=a);return n}maxColumn(e){if(sf(this,e),this.isEmpty())return NaN;let r=this.get(0,e);for(let n=1;n<this.rows;n++)this.get(n,e)>r&&(r=this.get(n,e));return r}maxColumnIndex(e){sf(this,e),d0(this);let r=this.get(0,e),n=[0,e];for(let a=1;a<this.rows;a++)this.get(a,e)>r&&(r=this.get(a,e),n[0]=a);return n}minColumn(e){if(sf(this,e),this.isEmpty())return NaN;let r=this.get(0,e);for(let n=1;n<this.rows;n++)this.get(n,e)<r&&(r=this.get(n,e));return r}minColumnIndex(e){sf(this,e),d0(this);let r=this.get(0,e),n=[0,e];for(let a=1;a<this.rows;a++)this.get(a,e)<r&&(r=this.get(a,e),n[0]=a);return n}diag(){let e=Math.min(this.rows,this.columns),r=[];for(let n=0;n<e;n++)r.push(this.get(n,n));return r}norm(e="frobenius"){let r=0;if(e==="max")return this.max();if(e==="frobenius"){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)r=r+this.get(n,a)*this.get(n,a);return Math.sqrt(r)}else throw new RangeError(`unknown norm type: ${e}`)}cumulativeSum(){let e=0;for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)e+=this.get(r,n),this.set(r,n,e);return this}dot(e){Xr.isMatrix(e)&&(e=e.to1DArray());let r=this.to1DArray();if(r.length!==e.length)throw new RangeError("vectors do not have the same size");let n=0;for(let a=0;a<r.length;a++)n+=r[a]*e[a];return n}mmul(e){e=Ur.checkMatrix(e);let r=this.rows,n=this.columns,a=e.columns,o=new Ur(r,a),s=new Float64Array(n);for(let u=0;u<a;u++){for(let f=0;f<n;f++)s[f]=e.get(f,u);for(let f=0;f<r;f++){let l=0;for(let c=0;c<n;c++)l+=this.get(f,c)*s[c];o.set(f,u,l)}}return o}strassen2x2(e){e=Ur.checkMatrix(e);let r=new Ur(2,2),n=this.get(0,0),a=e.get(0,0),o=this.get(0,1),s=e.get(0,1),u=this.get(1,0),f=e.get(1,0),l=this.get(1,1),c=e.get(1,1),h=(n+l)*(a+c),m=(u+l)*a,g=n*(s-c),b=l*(f-a),A=(n+o)*c,I=(u-n)*(a+s),C=(o-l)*(f+c),R=h+b-A+C,O=g+A,F=m+b,z=h-m+g+I;return r.set(0,0,R),r.set(0,1,O),r.set(1,0,F),r.set(1,1,z),r}strassen3x3(e){e=Ur.checkMatrix(e);let r=new Ur(3,3),n=this.get(0,0),a=this.get(0,1),o=this.get(0,2),s=this.get(1,0),u=this.get(1,1),f=this.get(1,2),l=this.get(2,0),c=this.get(2,1),h=this.get(2,2),m=e.get(0,0),g=e.get(0,1),b=e.get(0,2),A=e.get(1,0),I=e.get(1,1),C=e.get(1,2),R=e.get(2,0),O=e.get(2,1),F=e.get(2,2),z=(n+a+o-s-u-c-h)*I,B=(n-s)*(-g+I),$=u*(-m+g+A-I-C-R+F),j=(-n+s+u)*(m-g+I),W=(s+u)*(-m+g),T=n*m,p=(-n+l+c)*(m-b+C),v=(-n+l)*(b-C),S=(l+c)*(-m+b),y=(n+a+o-u-f-l-c)*C,M=c*(-m+b+A-I-C-R+O),D=(-o+c+h)*(I+R-O),k=(o-h)*(I-O),E=o*R,d=(c+h)*(-R+O),N=(-o+u+f)*(C+R-F),U=(o-f)*(C-F),q=(u+f)*(-R+F),P=a*A,G=f*O,Z=s*b,X=l*g,he=h*F,V=T+E+P,K=z+j+W+T+D+E+d,ne=T+p+S+y+E+N+q,fe=B+$+j+T+E+N+U,pe=B+j+W+T+G,Ie=E+N+U+q+Z,ke=T+p+v+M+D+k+E,ue=D+k+E+d+X,xe=T+p+v+S+he;return r.set(0,0,V),r.set(0,1,K),r.set(0,2,ne),r.set(1,0,fe),r.set(1,1,pe),r.set(1,2,Ie),r.set(2,0,ke),r.set(2,1,ue),r.set(2,2,xe),r}mmulStrassen(e){e=Ur.checkMatrix(e);let r=this.clone(),n=r.rows,a=r.columns,o=e.rows,s=e.columns;a!==o&&console.warn(`Multiplying ${n} x ${a} and ${o} x ${s} matrix: dimensions do not match.`);function u(h,m,g){let b=h.rows,A=h.columns;if(b===m&&A===g)return h;{let I=Xr.zeros(m,g);return I=I.setSubMatrix(h,0,0),I}}let f=Math.max(n,o),l=Math.max(a,s);r=u(r,f,l),e=u(e,f,l);function c(h,m,g,b){if(g<=512||b<=512)return h.mmul(m);g%2===1&&b%2===1?(h=u(h,g+1,b+1),m=u(m,g+1,b+1)):g%2===1?(h=u(h,g+1,b),m=u(m,g+1,b)):b%2===1&&(h=u(h,g,b+1),m=u(m,g,b+1));let A=parseInt(h.rows/2,10),I=parseInt(h.columns/2,10),C=h.subMatrix(0,A-1,0,I-1),R=m.subMatrix(0,A-1,0,I-1),O=h.subMatrix(0,A-1,I,h.columns-1),F=m.subMatrix(0,A-1,I,m.columns-1),z=h.subMatrix(A,h.rows-1,0,I-1),B=m.subMatrix(A,m.rows-1,0,I-1),$=h.subMatrix(A,h.rows-1,I,h.columns-1),j=m.subMatrix(A,m.rows-1,I,m.columns-1),W=c(Xr.add(C,$),Xr.add(R,j),A,I),T=c(Xr.add(z,$),R,A,I),p=c(C,Xr.sub(F,j),A,I),v=c($,Xr.sub(B,R),A,I),S=c(Xr.add(C,O),j,A,I),y=c(Xr.sub(z,C),Xr.add(R,F),A,I),M=c(Xr.sub(O,$),Xr.add(B,j),A,I),D=Xr.add(W,v);D.sub(S),D.add(M);let k=Xr.add(p,S),E=Xr.add(T,v),d=Xr.sub(W,T);d.add(p),d.add(y);let N=Xr.zeros(2*D.rows,2*D.columns);return N=N.setSubMatrix(D,0,0),N=N.setSubMatrix(k,D.rows,0),N=N.setSubMatrix(E,0,D.columns),N=N.setSubMatrix(d,D.rows,D.columns),N.subMatrix(0,g-1,0,b-1)}return c(r,e,f,l)}scaleRows(e={}){if(typeof e!="object")throw new TypeError("options must be an object");let{min:r=0,max:n=1}=e;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(r>=n)throw new RangeError("min must be smaller than max");let a=new Ur(this.rows,this.columns);for(let o=0;o<this.rows;o++){let s=this.getRow(o);s.length>0&&cB(s,{min:r,max:n,output:s}),a.setRow(o,s)}return a}scaleColumns(e={}){if(typeof e!="object")throw new TypeError("options must be an object");let{min:r=0,max:n=1}=e;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(r>=n)throw new RangeError("min must be smaller than max");let a=new Ur(this.rows,this.columns);for(let o=0;o<this.columns;o++){let s=this.getColumn(o);s.length&&cB(s,{min:r,max:n,output:s}),a.setColumn(o,s)}return a}flipRows(){let e=Math.ceil(this.columns/2);for(let r=0;r<this.rows;r++)for(let n=0;n<e;n++){let a=this.get(r,n),o=this.get(r,this.columns-1-n);this.set(r,n,o),this.set(r,this.columns-1-n,a)}return this}flipColumns(){let e=Math.ceil(this.rows/2);for(let r=0;r<this.columns;r++)for(let n=0;n<e;n++){let a=this.get(n,r),o=this.get(this.rows-1-n,r);this.set(n,r,o),this.set(this.rows-1-n,r,a)}return this}kroneckerProduct(e){e=Ur.checkMatrix(e);let r=this.rows,n=this.columns,a=e.rows,o=e.columns,s=new Ur(r*a,n*o);for(let u=0;u<r;u++)for(let f=0;f<n;f++)for(let l=0;l<a;l++)for(let c=0;c<o;c++)s.set(a*u+l,o*f+c,this.get(u,f)*e.get(l,c));return s}kroneckerSum(e){if(e=Ur.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let r=this.rows,n=e.rows,a=this.kroneckerProduct(Ur.eye(n,n)),o=Ur.eye(r,r).kroneckerProduct(e);return a.add(o)}transpose(){let e=new Ur(this.columns,this.rows);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)e.set(n,r,this.get(r,n));return e}sortRows(e=vfe){for(let r=0;r<this.rows;r++)this.setRow(r,this.getRow(r).sort(e));return this}sortColumns(e=vfe){for(let r=0;r<this.columns;r++)this.setColumn(r,this.getColumn(r).sort(e));return this}subMatrix(e,r,n,a){pB(this,e,r,n,a);let o=new Ur(r-e+1,a-n+1);for(let s=e;s<=r;s++)for(let u=n;u<=a;u++)o.set(s-e,u-n,this.get(s,u));return o}subMatrixRow(e,r,n){if(r===void 0&&(r=0),n===void 0&&(n=this.columns-1),r>n||r<0||r>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let a=new Ur(e.length,n-r+1);for(let o=0;o<e.length;o++)for(let s=r;s<=n;s++){if(e[o]<0||e[o]>=this.rows)throw new RangeError(`Row index out of range: ${e[o]}`);a.set(o,s-r,this.get(e[o],s))}return a}subMatrixColumn(e,r,n){if(r===void 0&&(r=0),n===void 0&&(n=this.rows-1),r>n||r<0||r>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let a=new Ur(n-r+1,e.length);for(let o=0;o<e.length;o++)for(let s=r;s<=n;s++){if(e[o]<0||e[o]>=this.columns)throw new RangeError(`Column index out of range: ${e[o]}`);a.set(s-r,o,this.get(s,e[o]))}return a}setSubMatrix(e,r,n){if(e=Ur.checkMatrix(e),e.isEmpty())return this;let a=r+e.rows-1,o=n+e.columns-1;pB(this,r,a,n,o);for(let s=0;s<e.rows;s++)for(let u=0;u<e.columns;u++)this.set(r+s,n+u,e.get(s,u));return this}selection(e,r){Jue(this,e),Yue(this,r);let n=new Ur(e.length,r.length);for(let a=0;a<e.length;a++){let o=e[a];for(let s=0;s<r.length;s++){let u=r[s];n.set(a,s,this.get(o,u))}}return n}trace(){let e=Math.min(this.rows,this.columns),r=0;for(let n=0;n<e;n++)r+=this.get(n,n);return r}clone(){let e=new Ur(this.rows,this.columns);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)e.set(r,n,this.get(r,n));return e}sum(e){switch(e){case"row":return Xue(this);case"column":return Que(this);case void 0:return efe(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return tfe(this);case"column":return rfe(this);case void 0:return nfe(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){let r=this.sum(e);switch(e){case"row":{for(let n=0;n<this.rows;n++)r[n]/=this.columns;return r}case"column":{for(let n=0;n<this.columns;n++)r[n]/=this.rows;return r}case void 0:return r/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,r={}){if(typeof e=="object"&&(r=e,e=void 0),typeof r!="object")throw new TypeError("options must be an object");let{unbiased:n=!0,mean:a=this.mean(e)}=r;if(typeof n!="boolean")throw new TypeError("unbiased must be a boolean");switch(e){case"row":{if(!mo(a))throw new TypeError("mean must be an array");return ife(this,n,a)}case"column":{if(!mo(a))throw new TypeError("mean must be an array");return afe(this,n,a)}case void 0:{if(typeof a!="number")throw new TypeError("mean must be a number");return ofe(this,n,a)}default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,r){typeof e=="object"&&(r=e,e=void 0);let n=this.variance(e,r);if(e===void 0)return Math.sqrt(n);for(let a=0;a<n.length;a++)n[a]=Math.sqrt(n[a]);return n}center(e,r={}){if(typeof e=="object"&&(r=e,e=void 0),typeof r!="object")throw new TypeError("options must be an object");let{center:n=this.mean(e)}=r;switch(e){case"row":{if(!mo(n))throw new TypeError("center must be an array");return sfe(this,n),this}case"column":{if(!mo(n))throw new TypeError("center must be an array");return ufe(this,n),this}case void 0:{if(typeof n!="number")throw new TypeError("center must be a number");return ffe(this,n),this}default:throw new Error(`invalid option: ${e}`)}}scale(e,r={}){if(typeof e=="object"&&(r=e,e=void 0),typeof r!="object")throw new TypeError("options must be an object");let n=r.scale;switch(e){case"row":{if(n===void 0)n=lfe(this);else if(!mo(n))throw new TypeError("scale must be an array");return cfe(this,n),this}case"column":{if(n===void 0)n=hfe(this);else if(!mo(n))throw new TypeError("scale must be an array");return pfe(this,n),this}case void 0:{if(n===void 0)n=dfe(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return mfe(this,n),this}default:throw new Error(`invalid option: ${e}`)}}toString(e){return hB(this,e)}};Xr.prototype.klass="Matrix";typeof Symbol!="undefined"&&(Xr.prototype[Symbol.for("nodejs.util.inspect.custom")]=Kue);function vfe(t,e){return t-e}function Qct(t){return t.every(e=>typeof e=="number")}Xr.random=Xr.rand;Xr.randomInt=Xr.randInt;Xr.diagonal=Xr.diag;Xr.prototype.diagonal=Xr.prototype.diag;Xr.identity=Xr.eye;Xr.prototype.negate=Xr.prototype.neg;Xr.prototype.tensorProduct=Xr.prototype.kroneckerProduct;var Ur=class extends Xr{constructor(e,r){if(super(),Ur.isMatrix(e))return e.clone();if(Number.isInteger(e)&&e>=0)if(this.data=[],Number.isInteger(r)&&r>=0)for(let n=0;n<e;n++)this.data.push(new Float64Array(r));else throw new TypeError("nColumns must be a positive integer");else if(mo(e)){let n=e;if(e=n.length,r=e?n[0].length:0,typeof r!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let a=0;a<e;a++){if(n[a].length!==r)throw new RangeError("Inconsistent array dimensions");if(!Qct(n[a]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(n[a]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=e,this.columns=r}set(e,r,n){return this.data[e][r]=n,this}get(e,r){return this.data[e][r]}removeRow(e){return of(this,e),this.data.splice(e,1),this.rows-=1,this}addRow(e,r){return r===void 0&&(r=e,e=this.rows),of(this,e,!0),r=Float64Array.from(h0(this,r)),this.data.splice(e,0,r),this.rows+=1,this}removeColumn(e){sf(this,e);for(let r=0;r<this.rows;r++){let n=new Float64Array(this.columns-1);for(let a=0;a<e;a++)n[a]=this.data[r][a];for(let a=e+1;a<this.columns;a++)n[a-1]=this.data[r][a];this.data[r]=n}return this.columns-=1,this}addColumn(e,r){typeof r=="undefined"&&(r=e,e=this.columns),sf(this,e,!0),r=p0(this,r);for(let n=0;n<this.rows;n++){let a=new Float64Array(this.columns+1),o=0;for(;o<e;o++)a[o]=this.data[n][o];for(a[o++]=r[n];o<this.columns+1;o++)a[o]=this.data[n][o-1];this.data[n]=a}return this.columns+=1,this}};Zue(Xr,Ur);w();_();var xh=class{constructor(e,r){if(e.length!==e[0].length)throw new Error("Confusion matrix must be square");if(r.length!==e.length)throw new Error("Confusion matrix and labels should have the same length");this.labels=r,this.matrix=e}static fromLabels(e,r,n={}){if(r.length!==e.length)throw new Error("predicted and actual must have the same length");let a;n.labels?a=new Set(n.labels):a=new Set([...e,...r]),a=Array.from(a),n.sort&&a.sort(n.sort);let o=Array.from({length:a.length});for(let s=0;s<o.length;s++)o[s]=new Array(o.length),o[s].fill(0);for(let s=0;s<r.length;s++){let u=a.indexOf(e[s]),f=a.indexOf(r[s]);u>=0&&f>=0&&o[u][f]++}return new xh(o,a)}getMatrix(){return this.matrix}getLabels(){return this.labels}getTotalCount(){let e=0;for(let r=0;r<this.matrix.length;r++)for(let n=0;n<this.matrix.length;n++)e+=this.matrix[r][n];return e}getTrueCount(){let e=0;for(let r=0;r<this.matrix.length;r++)e+=this.matrix[r][r];return e}getFalseCount(){return this.getTotalCount()-this.getTrueCount()}getTruePositiveCount(e){let r=this.getIndex(e);return this.matrix[r][r]}getTrueNegativeCount(e){let r=this.getIndex(e),n=0;for(let a=0;a<this.matrix.length;a++)for(let o=0;o<this.matrix.length;o++)a!==r&&o!==r&&(n+=this.matrix[a][o]);return n}getFalsePositiveCount(e){let r=this.getIndex(e),n=0;for(let a=0;a<this.matrix.length;a++)a!==r&&(n+=this.matrix[a][r]);return n}getFalseNegativeCount(e){let r=this.getIndex(e),n=0;for(let a=0;a<this.matrix.length;a++)a!==r&&(n+=this.matrix[r][a]);return n}getPositiveCount(e){return this.getTruePositiveCount(e)+this.getFalseNegativeCount(e)}getNegativeCount(e){return this.getTrueNegativeCount(e)+this.getFalsePositiveCount(e)}getIndex(e){let r=this.labels.indexOf(e);if(r===-1)throw new Error("The label does not exist");return r}getTruePositiveRate(e){return this.getTruePositiveCount(e)/this.getPositiveCount(e)}getTrueNegativeRate(e){return this.getTrueNegativeCount(e)/this.getNegativeCount(e)}getPositivePredictiveValue(e){let r=this.getTruePositiveCount(e);return r/(r+this.getFalsePositiveCount(e))}getNegativePredictiveValue(e){let r=this.getTrueNegativeCount(e);return r/(r+this.getFalseNegativeCount(e))}getFalseNegativeRate(e){return 1-this.getTruePositiveRate(e)}getFalsePositiveRate(e){return 1-this.getTrueNegativeRate(e)}getFalseDiscoveryRate(e){let r=this.getFalsePositiveCount(e);return r/(r+this.getTruePositiveCount(e))}getFalseOmissionRate(e){let r=this.getFalseNegativeCount(e);return r/(r+this.getTruePositiveCount(e))}getF1Score(e){let r=this.getTruePositiveCount(e);return 2*r/(2*r+this.getFalsePositiveCount(e)+this.getFalseNegativeCount(e))}getMatthewsCorrelationCoefficient(e){let r=this.getTruePositiveCount(e),n=this.getTrueNegativeCount(e),a=this.getFalsePositiveCount(e),o=this.getFalseNegativeCount(e);return(r*n-a*o)/Math.sqrt((r+a)*(r+o)*(n+a)*(n+o))}getInformedness(e){return this.getTruePositiveRate(e)+this.getTrueNegativeRate(e)-1}getMarkedness(e){return this.getPositivePredictiveValue(e)+this.getNegativePredictiveValue(e)-1}getConfusionTable(e){return[[this.getTruePositiveCount(e),this.getFalseNegativeCount(e)],[this.getFalsePositiveCount(e),this.getTrueNegativeCount(e)]]}getAccuracy(){let e=0,r=0;for(let n=0;n<this.matrix.length;n++)for(let a=0;a<this.matrix.length;a++)n===a?e+=this.matrix[n][a]:r+=this.matrix[n][a];return e/(e+r)}getCount(e,r){let n=this.getIndex(e),a=this.getIndex(r);return this.matrix[n][a]}get accuracy(){return this.getAccuracy()}get total(){return this.getTotalCount()}};var Gfe=Bt(xfe()),Bht=Bt(Efe());var sht=Object.create,BN=Object.defineProperty,uht=Object.getOwnPropertyDescriptor,Ife=Object.getOwnPropertyNames,fht=Object.getPrototypeOf,lht=Object.prototype.hasOwnProperty,cht=(t,e,r)=>e in t?BN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hht=(t,e)=>function(){return e||(0,t[Ife(t)[0]])((e={exports:{}}).exports,e),e.exports},pht=(t,e)=>{for(var r in e)BN(t,r,{get:e[r],enumerable:!0})},dht=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Ife(e))!lht.call(t,a)&&a!==r&&BN(t,a,{get:()=>e[a],enumerable:!(n=uht(e,a))||n.enumerable});return t},mht=(t,e,r)=>(r=t!=null?sht(fht(t)):{},dht(e||!t||!t.__esModule?BN(r,"default",{value:t,enumerable:!0}):r,t)),Cfe=(t,e,r)=>(cht(t,typeof e!="symbol"?e+"":e,r),r),vht=hht({"node_modules/stemmer/index.js"(t,e){"use strict";e.exports=T;var r={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},n={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},a="[^aeiou]",o="[aeiouy]",s="("+a+"[^aeiouy]*)",u="("+o+"[aeiou]*)",f=new RegExp("^"+s+"?"+u+s),l=new RegExp("^"+s+"?"+u+s+u+"?$"),c=new RegExp("^"+s+"?("+u+s+"){2,}"),h=new RegExp("^"+s+"?"+o),m=new RegExp("^"+s+o+"[^aeiouwxy]$"),g=/ll$/,b=/^(.+?)e$/,A=/^(.+?)y$/,I=/^(.+?(s|t))(ion)$/,C=/^(.+?)(ed|ing)$/,R=/(at|bl|iz)$/,O=/^(.+?)eed$/,F=/^.+?[^s]s$/,z=/^.+?(ss|i)es$/,B=/([^aeiouylsz])\1$/,$=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,j=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,W=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;function T(p){var v,S;return p=String(p).toLowerCase(),p.length<3||(p.charCodeAt(0)===121&&(v=!0,p="Y"+p.slice(1)),z.test(p)?p=p.slice(0,p.length-2):F.test(p)&&(p=p.slice(0,p.length-1)),(S=O.exec(p))?f.test(S[1])&&(p=p.slice(0,p.length-1)):(S=C.exec(p))&&h.test(S[1])&&(p=S[1],R.test(p)?p+="e":B.test(p)?p=p.slice(0,p.length-1):m.test(p)&&(p+="e")),(S=A.exec(p))&&h.test(S[1])&&(p=S[1]+"i"),(S=$.exec(p))&&f.test(S[1])&&(p=S[1]+r[S[2]]),(S=j.exec(p))&&f.test(S[1])&&(p=S[1]+n[S[2]]),(S=W.exec(p))?c.test(S[1])&&(p=S[1]):(S=I.exec(p))&&c.test(S[1])&&(p=S[1]),(S=b.exec(p))&&(c.test(S[1])||l.test(S[1])&&!m.test(S[1]))&&(p=S[1]),g.test(p)&&c.test(p)&&(p=p.slice(0,p.length-1)),v&&(p="y"+p.slice(1))),p}}}),Ofe={};pht(Ofe,{loadCSV:()=>Pfe,loadCSVURI:()=>Lfe,loadTSV:()=>ght});function Lfe(t,e){return it(this,null,function*(){let r=t.search(/https/gi)>-1?Ffe.get:Rfe.get;return new Promise((n,a)=>{let o=[],s=Object.assign({checkType:!0},e);r(t,f=>{(0,wB.default)(s).fromStream(f).subscribe(l=>{o.push(l)},l=>a(l),l=>l?a(l):n(o))}).on("error",a)})})}function Pfe(t,e){return it(this,null,function*(){return Bfe.default.isUri(t)?Lfe(t,e):new Promise((r,n)=>{let a=[],o=Object.assign({checkType:!0},e);(0,wB.default)(o).fromFile(t).subscribe((s,u)=>{a.push(s)},s=>n(s),s=>s?n(s):r(a))})})}function ght(t,e){return it(this,null,function*(){let r=Object.assign({checkType:!0},e,{delimiter:"	"});return Pfe(t,r)})}var yht=mht(vht(),1),bht={PorterStemmer:{tokenizeAndStem:(t="")=>t.split(" ").map(r=>r.trim()).filter(r=>r).map(yht.default)}},wht=bht,uf=hy.array.mean,xht=uf,m0=hy.array.sum,xB=(t,e)=>t.map(r=>(r-uf(t))/e),LN=hy.array.max,PN=hy.array.min,M2=hy.array.standardDeviation;function $fe(t,e){return t.reduce((r,n,a,o)=>(r.push(Math.pow(e[a]-n,2)),r),[])}function _ht(t=[],e=[]){if(t.length!==e.length)throw new RangeError("arrays must have the same length");let r=$fe(t,e);return Math.sqrt(m0(r)/(t.length-2))}function Mfe(t=[]){let e=uf(t),r=M2(t);return t.map(n=>(n-e)/r)}function Vfe(t=[],e=[]){if(t.length!==e.length)throw new RangeError("arrays must have the same length");let r=xht(t),n=m0(t.reduce((s,u,f)=>(s.push(Math.pow(t[f]-r,2)),s),[])),a=m0(t.reduce((s,u,f)=>(s.push(Math.pow(t[f]-e[f],2)),s),[]));return(n-a)/n}function gB(t){let{actuals:e,estimates:r,rSquared:n,independentVariables:a,sampleSize:o}=t,s=n||Vfe(e,r),u=o||e.length,f=a;return 1-(1-s)*((u-1)/(u-(f+1)))}function yB(t=[],e=[]){if(t.length!==e.length)throw new RangeError("arrays must have the same length");let r=m0(t),n=m0(e),a=t.reduce((l,c,h)=>(l=l+t[h]*e[h],l),0),o=t.reduce((l,c)=>(l=l+c*c,l),0),s=e.reduce((l,c)=>(l=l+c*c,l),0),u=t.length;return(u*a-r*n)/Math.sqrt((u*o-Math.pow(r,2))*(u*s-Math.pow(n,2)))}function Sht(t=[],e=[]){return Math.pow(yB(t,e),2)}function Eht(t=[]){return t.reduce((e,r,n)=>(r.forEach((a,o)=>{n===0?e.push([a]):e[o].push(a)}),e),[])}function Mht(t=[]){return t.length?t[0].map((e,r)=>{let n=[];return t.forEach((a,o)=>{n.push(t[o][r])}),n}):t}var Aht=t=>xB(t,M2(t));function Nht(t=[],e=-1,r=!1,n={}){let a=typeof n.average!="undefined"?n.average:uf(t),o=typeof n.standard_dev!="undefined"?n.standard_dev:M2(t),s=typeof n.maximum!="undefined"?n.maximum:LN(t),u=typeof n.minimum!="undefined"?n.minimum:PN(t),f=h=>{let m=(h-a)/o;return isNaN(m)&&r?m:isNaN(m)&&r===!1?isNaN(o)?h:o:m},l=h=>{let m=h*o+a;return isNaN(m)&&r?m:isNaN(m)&&r===!1?isNaN(o)?h:o:m},c=t.map(f).map(h=>isNaN(h)?e:h);return{components:{average:a,standard_dev:o,maximum:s,minimum:u},scale:f,descale:l,values:c}}var Tht=t=>xB(t,LN(t)-PN(t));function Dht(t=[],e=-1,r=!1,n={}){let a=typeof n.average!="undefined"?n.average:uf(t),o=typeof n.standard_dev!="undefined"?n.standard_dev:M2(t),s=typeof n.maximum!="undefined"?n.maximum:LN(t),u=typeof n.minimum!="undefined"?n.minimum:PN(t),f=h=>{let m=(h-a)/(s-u);return isNaN(m)&&r?m:isNaN(m)&&r===!1?isNaN(o)?h:o:m},l=h=>{let m=h*(s-u)+a;return isNaN(m)&&r?m:isNaN(m)&&r===!1?isNaN(o)?h:o:m},c=t.map(f).map(h=>isNaN(h)?e:h);return{components:{average:a,standard_dev:o,maximum:s,minimum:u},scale:f,descale:l,values:c}}function kht(t,e=!0){if(t<-6.5)return 0;if(t>6.5)return 1;let r=1,n=0,a=1,o=0,s=Math.exp(-23);for(;Math.abs(a)>s;)a=.3989422804*Math.pow(-1,o)*Math.pow(t,o)/(2*o+1)/Math.pow(2,o)*Math.pow(t,o+1)/r,n+=a,o++,r*=o;return n+=.5,e?1-n:n}function Iht(t){return t.replace(/[^\w\s]/gi,"_")}function py(t,e){if(t.length!==e.length)throw new Error(`Actuals length (${t.length}) must equal Estimates length (${e.length})`);return t.map((r,n)=>r-e[n])}function Afe(t,e){let r=py(t,e);return uf(r)}function FN(t,e){let r=py(t,e).map(n=>Math.abs(n));return uf(r)}function Nfe(t,e){let r=m0(py(t,e)),n=FN(t,e);return r/n}function Tfe(t,e){let r=py(t,e).map(n=>n*n);return uf(r)}function Dfe(t,e){let r=FN(t,e),n=uf(t);return r/n}function kfe(t,e){let n=py(t,e).map(a=>Math.abs(a)).map((a,o)=>a/t[o]);return uf(n)}var Vn={range:Ufe.default,rangeRight:jfe.default,scale:xB,avg:uf,mean:uf,sum:m0,max:LN,min:PN,sd:M2,StandardScaler:Aht,StandardScalerTransforms:Nht,MinMaxScaler:Tht,MinMaxScalerTransforms:Dht,LogScaler:t=>t.map(Math.log),ExpScaler:t=>t.map(Math.exp),squaredDifference:$fe,standardError:_ht,coefficientOfDetermination:Vfe,coefficientOfCorrelation:yB,r:yB,rSquared:Sht,adjustedCoefficentOfDetermination:gB,rBarSquared:gB,adjustedRSquared:gB,pivotVector:Eht,pivotArrays:Mht,standardScore:Mfe,zScore:Mfe,approximateZPercentile:kht,getSafePropertyName:Iht,forecastErrors:py,meanForecastError:Afe,MFE:Afe,meanAbsoluteDeviation:FN,MAD:FN,trackingSignal:Nfe,TS:Nfe,meanSquaredError:Tfe,MSE:Tfe,MADMeanRatio:Dfe,MMR:Dfe,meanAbsolutePercentageError:kfe,MAPE:kfe},Cht={scale:"scaleOptions",descale:"descaleOptions",label:"labelOptions",labelEncoder:"labelOptions",labeldecode:"labelOptions",labelDecode:"labelOptions",labelDecoder:"labelOptions",onehot:"oneHotOptions",oneHot:"oneHotOptions",oneHotEncode:"oneHotOptions",oneHotEncoder:"oneHotOptions",reducer:"reducerOptions",reduce:"reducerOptions",merge:"mergeData"},Qa=class{constructor(t=[],e={}){De(this,"config");De(this,"data");De(this,"labels");De(this,"encoders");De(this,"scalers");De(this,"selectColumns");De(this,"columnArray");De(this,"encodeObject");De(this,"oneHotEncoder");De(this,"oneHotDecoder");De(this,"columnMatrix");De(this,"reverseColumnMatrix");De(this,"reverseColumnVector");De(this,"getTransforms");return this.config=Object.assign({debug:!0},e),this.data=[...t],this.labels=new Map,this.encoders=new Map,this.scalers=new Map,this.selectColumns=Qa.selectColumns,this.columnArray=Qa.columnArray,this.encodeObject=Qa.encodeObject,this.oneHotEncoder=Qa.oneHotEncoder,this.oneHotDecoder=Qa.oneHotDecoder,this.columnMatrix=Qa.columnMatrix,this.reverseColumnMatrix=Qa.reverseColumnMatrix,this.reverseColumnVector=Qa.reverseColumnVector,this.getTransforms=Qa.getTransforms,(this.config.labels||this.config.encoders||this.config.scalers)&&this.importFeatures({labels:this.config.labels,encoders:this.config.encoders,scalers:this.config.scalers}),this}static getTransforms(t={}){return Object.keys(t).reduce((e,r)=>{let n=t[r],a={name:r,options:{strategy:Array.isArray(n)?n[0]:n}};return Array.isArray(n)&&n.length>1&&(a.options[Cht[n[0]]]=n[1]),e.push(a),e},[])}static reverseColumnMatrix(t={}){let{vectors:e=[],labels:r=[]}=t,n=Array.isArray(r)&&Array.isArray(r[0])?r:r.map(a=>[a]);return e.reduce((a,o)=>(a.push(o.reduce((s,u,f)=>(s[n[f][0]]=o[f],s),{})),a),[])}static reverseColumnVector(t={}){let{vector:e=[],labels:r=[]}=t,n=Array.isArray(r)&&Array.isArray(r[0])?r:r.map(a=>[a]);return e.reduce((a,o)=>(a.push({[n[0][0]]:o}),a),[])}static encodeObject(t,e){let{labels:r,prefix:n,name:a}=e;return r.reduce((s,u)=>{let f=`${n}${u}`;return s[f]=u&&t[a]&&t[a].toString()===u.toString()?1:0,s},{})}static oneHotEncoder(t,e){let r=Object.assign({merge:!0},e),n=r.data||this.columnArray(t,r.columnArrayOptions),a=Array.from(new Set(n).values()),o=r.prefix||`${t}_`,s=n.reduce((u,f,l,c)=>(a.forEach(h=>{let m=`${o}${h}`,g=f===h?1:0;Array.isArray(u[m])?u[m].push(g):u[m]=[g]}),u),{});return this.encoders.has(t)&&r.merge?this.encoders.get(t).labels=Array.from(new Set(a.concat(this.encoders.get(t).labels))):this.encoders.set(t,{name:t,labels:a,prefix:o}),s}static oneHotDecoder(t,e){let r=Object.assign({},e),n=r.encoders||this.encoders,a=r.prefix||n.get(t).prefix,o=r.labels||n.get(t).labels;return(r.data||this.oneHotColumnArray(t,r.oneHotColumnArrayOptions)).reduce((u,f)=>{let c=Object.keys(f).filter(m=>f[m]===1&&(o.indexOf(m.replace(a,""))!==-1||o.map(g=>String(g)).indexOf(m.replace(a,""))!==-1))[0]||"",h={[t]:c.replace(a,"")};return u.push(h),u},[])}static oneHotColumnArray(t,e){throw new Error("Method not implemented.")}static selectColumns(t,e={}){return(Object.assign({},e).data||this.data).reduce((a,o)=>{let s={};return t.forEach(u=>{s[u]=o[u]}),a.push(s),a},[])}static columnArray(t,e={}){let r=Object.assign({prefilter:()=>!0,filter:()=>!0,replace:{test:void 0,value:void 0},parseInt:!1,parseIntBase:10,parseFloat:!!e.scale,scale:!1},e),a=(r.data||this.data).filter(r.prefilter).reduce((o,s,u,f)=>{let l=s[t],c=typeof r.replace.test=="function"&&r.replace.test(l)?typeof r.replace.value=="function"?r.replace.value(o,s,u,f,t):r.replace.value:l;return r.filter(c)&&(r.parseInt?o.push(parseInt(c,r.parseIntBase)):r.parseFloat?o.push(parseFloat(c)):o.push(c)),o},[]);if(typeof r.scale=="function")return a.map(r.scale);if(r.scale)switch(r.scale){case"standard":return Vn.StandardScaler(a);case"log":return Vn.LogScaler(a);case"exp":return Vn.ExpScaler(a);case"normalize":default:return Vn.MinMaxScaler(a)}else return a}static columnMatrix(t=[],e=[]){let r=e.length?{data:e}:{},a=(Array.isArray(t)&&Array.isArray(t[0])?t:t.map(o=>[o,r])).map(o=>Qa.columnArray.call(this,...o));return Vn.pivotArrays(a)}static mapToObject(t=new Map){return Array.from(t.keys()).reduce((e,r)=>{let n=t.get(r);return n instanceof Map?e[r]=Qa.mapToObject(n):typeof n=="function"?e[r]=`[Function ${n.name}]`:e[r]=JSON.parse(JSON.stringify(n)),e},{})}static getBinaryValue(t=""){if(!t)return 0;switch(t){case!1:case"N":case"n":case"NO":case"No":case"no":case"False":case"FALSE":case"F":case"f":return 0;default:return 1}}exportFeatures(t={}){let e=Object.assign({},t);return{encoders:Qa.mapToObject(this.encoders),labels:Qa.mapToObject(this.labels),scalers:Qa.mapToObject(this.scalers)}}importFeatures(t={}){Object.keys(t.encoders||{}).forEach(e=>{let r=t.encoders[e];this.encoders.set(e,r)}),Object.keys(t.labels||{}).forEach(e=>{let r=t.labels[e],n=Object.keys(r).map(a=>[a,r[a]]);typeof r[0]!="undefined"&&typeof r[1]!="undefined"&&n.push([0,!1],[!1,0],[null,0],["no",0],["No",0],["NO",0],["FALSE",0],["F",0],["f",0],["null",0],["",0],[void 0,0],["undefined",0],["TRUE",1],["true",1],[1,!0],[!0,1]),this.labels.set(e,new Map(n))}),Object.keys(t.scalers||{}).forEach(e=>{let r,n=t.scalers[e],{config:a}=n;switch(a.strategy){case"standard":r=Vn.StandardScalerTransforms(void 0,a.nan_value,a.return_nan,n.components),n.scale=r.scale,n.descale=r.descale;break;case"normalize":case"minmax":r=Vn.MinMaxScalerTransforms(void 0,a.nan_value,a.return_nan,n.components),n.scale=r.scale,n.descale=r.descale;break;case"log":default:n.scale=Math.log,n.descale=Math.exp;break}this.scalers.set(e,n)})}filterColumn(t=()=>!0){return this.data.filter(t)}columnScale(t,e={}){let n=Object.assign({strategy:"log",forced_coercion:!1},typeof e=="string"?{strategy:e}:e),a=n.data||this.columnArray(t,n.columnArrayOptions),o,s;switch(a=a.filter(u=>typeof u!="undefined").map((u,f)=>{if(typeof u!="number"){this.config.debug&&n.forced_coercion===!1&&console.error(TypeError(`Each value must be a number, error at index [${t}][${f}]: <${typeof u}>${u}`));let l=Number(u);if(isNaN(l)&&n.forced_coercion)return 0;if(isNaN(l))throw TypeError(`Only numerical values in (${t}) can be scaled i: ${f} datum: ${u}`);return l}else return u}),n.strategy){case"standard":s=Vn.StandardScalerTransforms(a,n.nan_value,n.return_nan),this.scalers.set(t,{name:t,scale:s.scale,descale:s.descale,components:s.components}),o=s.values;break;case"normalize":case"minmax":s=Vn.MinMaxScalerTransforms(a,n.nan_value,n.return_nan),this.scalers.set(t,{name:t,scale:s.scale,descale:s.descale,components:s.components}),o=s.values;break;case"log":default:this.scalers.set(t,{name:t,scale:Math.log,descale:Math.exp,components:{average:Vn.avg(a),standard_dev:Vn.sd(a),maximum:Vn.max(a),minimum:Vn.min(a)}}),o=Vn.LogScaler(a);break}return this.scalers.get(t).config=n,o}columnDescale(t,e){let r=Object.assign({},e),n=r.data||this.columnArray(t,r.columnArrayOptions),a=this.scalers.get(t).descale;return n.map(a)}labelEncoder(t,e){let r=Object.assign({binary:!1,merge:!0},e),n=r.data||this.columnArray(t,r.columnArrayOptions),a=Array.from(new Set(n).values()).sort(r.sortFunction),o=new Map(a.reduce((u,f,l)=>(r.binary?(l===0&&u.push([0,!1],["0",!1],["FALSE",0],["false",0],[1,!0],["1",!0],["TRUE",1],["true",1]),u.push([f,Qa.getBinaryValue(f)])):(u.push([f,l]),u.push([l,f])),u),[]));return this.labels.has(t)&&r.merge?this.labels.set(t,new Map([...this.labels.get(t),...o])):this.labels.set(t,o),r.binary?n.map(Qa.getBinaryValue):n.map(u=>o.get(u))}labelDecode(t,e={}){let r=Object.assign({},e);return(r.data||this.columnArray(t,r.columnArrayOptions)).map(a=>this.labels.get(t).get(a))}oneHotColumnArray(t,e){let r=Object.assign({},e),n=r.labels||this.encoders.get(t).labels,a=r.prefix||this.encoders.get(t).prefix;return this.selectColumns(n.map(o=>`${a}${o}`))}columnReducer(t,e){return{[t]:this.columnArray(e.columnName,e.columnOptions).reduce(e.reducer,[])}}columnMerge(t,e=[]){if(this.data.length!==e.length)throw new RangeError(`Merged data column must have the same length(${e.length}) as the DataSet's length (${this.data.length})`);return{[t]:e}}inverseTransformObject(t,e){let r=Object.assign({removeValues:!1},e),n=[],a=Object.assign({},t),o=Object.keys(this.data[0]),s=o.reduce((l,c)=>(this.scalers.has(c)&&(l[c]=this.scalers.get(c).descale(t[c])),l),{}),u=o.reduce((l,c)=>(this.labels.has(c)&&(l[c]=this.labels.get(c).get(t[c])),l),{}),f=o.reduce((l,c)=>{if(this.encoders.has(c)){let h=this.oneHotDecoder(c,{data:[t]});l=Object.assign({},l,h[0]),r.removeValues&&n.push(...this.encoders.get(c).labels.map(m=>`${this.encoders.get(c).prefix}${m}`))}return l},{});return a=Object.assign(a,s,u,f),r.removeValues&&n.length&&(a=Object.keys(a).reduce((l,c)=>(n.indexOf(c)===-1&&(l[c]=a[c]),l),{})),a}transformObject(t,e){let r=Object.assign({removeValues:!1,checkColumnLength:!0},e),n=[],a=new Array().concat(...Array.from(this.encoders.keys()).map(l=>this.encoders.get(l).labels.map(c=>`${this.encoders.get(l).prefix}${c}`))),o=this.data.length?Object.keys(this.data[0]):Object.keys(t),s=Object.keys(t).concat(a),u=s.reduce((l,c)=>(o.indexOf(c)===-1&&a.indexOf(c)===-1&&l.push(c),l),[]),f=Object.assign({},t);if(r.checkColumnLength&&o.length!==s.length&&o.length+a.length!==s.length)throw new RangeError(`Object must have the same number of keys (${s.length}) as data in your dataset(${o.length})`);if(r.checkColumnLength&&u.length)throw new ReferenceError(`Object must have identical keys as data in your DataSet. Invalid keys: ${u.join(",")}`);{let l=s.reduce((m,g)=>(this.scalers.has(g)&&(m[g]=this.scalers.get(g).scale(t[g])),m),{}),c=s.reduce((m,g)=>(this.labels.has(g)&&(m[g]=this.labels.get(g).get(t[g])),m),{}),h=s.reduce((m,g)=>(this.encoders.has(g)&&(m=Object.assign({},m,this.encodeObject(t,this.encoders.get(g))),r.removeValues&&n.push(g)),m),{});f=Object.assign(f,l,c,h),r.removeValues&&n.length&&(f=Object.keys(f).reduce((m,g)=>(n.indexOf(g)===-1&&(m[g]=f[g]),m),{}))}return f}columnReplace(t,e={}){let r=Object.assign({strategy:"mean",empty:!0,arrayOptions:{parseFloat:!0,filter:o=>o},labelOptions:{}},e),n,a={test:o=>!o,value:n};switch(r.strategy){case"scale":n=this.columnScale(t,r.scaleOptions),a={test:o=>!0,value:(o,s,u,f)=>n[u]};break;case"descale":n=this.columnDescale(t,r.descaleOptions),a={test:o=>!0,value:(o,s,u,f)=>n[u]};break;case"label":case"labelEncoder":n=this.labelEncoder(t,r.labelOptions),a={test:o=>!0,value:(o,s,u,f)=>n[u]};break;case"labeldecode":case"labelDecode":case"labelDecoder":n=this.labelDecode(t,r.labelOptions),a={test:o=>!0,value:(o,s,u,f)=>n[u]};break;case"onehot":case"oneHot":case"oneHotEncode":case"oneHotEncoder":return n=this.oneHotEncoder(t,r.oneHotOptions),a={test:o=>!0,value:(o,s,u,f)=>n[u]},n;case"reducer":case"reduce":return n=this.columnReducer(t,r.reducerOptions),n;case"merge":return n=this.columnMerge(t,r.mergeData),n;case"parseNumber":return n=this.columnArray(t).map(o=>Number(o)),n;default:n=zfe.array[r.strategy](this.columnArray(t,r.arrayOptions)),a.value=n;break}return this.columnArray(t,Object.assign({},{replace:a,scale:e.scale},e.columnOptions))}fitColumns(t={},e={}){let r=Object.assign({returnData:!0,columns:[]},t);(!t.columns||Array.isArray(t.columns)===!1)&&(r.columns=t.columns?Qa.getTransforms(t.columns):Qa.getTransforms(t));let n=r.columns.reduce((a,o,s,u)=>{let f=this.columnReplace(o.name,o.options);return Array.isArray(f)?(f=f.map(l=>({[o.name]:l})),a[o.name]=f):Object.keys(f).forEach(l=>{a[l]=f[l].map(c=>({[l]:c}))}),a},{});if(Object.keys(n)&&Object.keys(n).length){let a=Object.keys(n),o=n[a[0]].reduce((s,u,f,l)=>{let c={};return a.forEach(h=>{c[h]=n[h][f][h]}),s.push(c),s},[]);this.data=this.data.map((s,u)=>Object.assign({},s,o[u]))}return r.returnData?this.data:this}fitInverseTransforms(t={}){let e=Object.assign({returnData:!0},t);return this.data=this.data.map(r=>t.removeValues?this.inverseTransformObject(r,t):Object.assign({},r,this.inverseTransformObject(r,t))),e.returnData?this.data:this}fitTransforms(t={}){let e=Object.assign({returnData:!0},t);return this.data=this.data.map(r=>t.removeValues?this.transformObject(r,t):Object.assign({},r,this.transformObject(r,t))),e.returnData?this.data:this}},Ga=Qa;Cfe(Ga,"encoders");Cfe(Ga,"data");var Oht=class{constructor(t={}){De(this,"data");De(this,"tokens");De(this,"vectors");De(this,"wordMap");De(this,"wordCountMap");De(this,"maxFeatures");De(this,"sortedWordCount");De(this,"limitedFeatures");De(this,"matrix");De(this,"replacer");try{typeof RN.PorterStemmer=="undefined"&&Object.assign(RN,wht)}catch(e){console.error({E:e})}return this.data=t.data||[],this.tokens=new Set,this.vectors=[],this.wordMap={},this.wordCountMap={},this.maxFeatures=t.maxFeatures,this.sortedWordCount=[],this.limitedFeatures=[],this.matrix=[],this.replacer=(e="")=>{let r=e.toLowerCase().replace(/[^a-zA-Z]/gi," ");return RN.PorterStemmer.tokenizeAndStem(r).join(" ")},this}get_tokens(){return Array.from(this.tokens)}get_vector_array(){return this.get_tokens().map(t=>[t])}fit_transform(t={}){(t.data||this.data).forEach(n=>{let a={};this.replacer(n).split(" ").forEach(o=>{let s=o.toLowerCase();a[s]=a[s]?a[s]+1:1,this.wordCountMap[s]=this.wordCountMap[s]?this.wordCountMap[s]+1:1,this.tokens.add(s)}),this.vectors.push(a)}),this.wordMap=Array.from(this.tokens).reduce((n,a)=>(n[a]=0,n),{}),this.sortedWordCount=Object.keys(this.wordCountMap).sort((n,a)=>this.wordCountMap[a]-this.wordCountMap[n]),this.vectors=this.vectors.map(n=>Object.assign({},this.wordMap,n));let r=new Ga(this.vectors);return this.limitedFeatures=this.get_limited_features(t),this.matrix=r.columnMatrix(this.limitedFeatures),this.matrix}get_limited_features(t={}){let e=t.maxFeatures||this.maxFeatures||this.tokens.size;return this.sortedWordCount.slice(0,e).map(r=>[r])}evaluateString(t=""){let r=this.replacer(t).split(" ").reduce((n,a)=>(this.tokens.has(a)&&(n[a]=n[a]!==void 0?n[a]+1:1),n),{});return It(It({},this.wordMap),r)}evaluate(t="",e){let r=this.evaluateString(t),n=this.get_limited_features(e);return new Ga([r]).columnMatrix(n)}},RN=Object.assign({ColumnVectorizer:Oht}),{GridSearch:Hfe}=Gfe.default;function Rht(t=[],e={test_size:.2,train_size:.8,random_state:0,return_array:!1,parse_int_train_size:!0}){let r=wh.seed(e.random_state||0),n=[],a=typeof e.parse_int_train_size=="boolean"?e.parse_int_train_size:!0,o=e.train_size?e.train_size*t.length:(1-(e.test_size||.2))*t.length,s=a?parseInt(o.toString(),10):o,u=new Array().concat(t);for(;n.length<s;){let f=IN(0,u.length-1)(r);n.push(u.splice(f,1)[0])}return e.return_array?[n,u]:{train:n,test:u}}function bB(t=[],e={folds:3,random_state:0}){let r=wh.seed(e.random_state||0),n=e.folds||3,a=[],o=[].concat(t),s=t.length/(n||3),u=Math.floor(s);for(let f in(0,Wfe.default)(n)){let l=[];for(;l.length<u;){let c=IN(0,o.length-1)(r);l.push(o.splice(c,1)[0])}a.push(l)}return a}function Kfe(t={}){let e=It({dependentFeatures:[["X"]],independentFeatures:[["Y"]],folds:10,accuracy:"standardError",use_train_x_matrix:!0,use_train_y_matrix:!1,use_train_y_vector:!1,use_estimates_y_vector:!1},t),r=e.classifier,n=e.regression,a=bB(e.dataset,{folds:e.folds,random_state:e.random_state}),o=new Ga(e.testingset),s=o.columnMatrix(e.independentFeatures),u=o.columnMatrix(e.dependentFeatures),f=Vn.pivotVector(s)[0];return a.map(c=>{let h=new Ga(c),m=h.columnMatrix(e.dependentFeatures),g=h.columnMatrix(e.independentFeatures),b=e.use_train_x_matrix?new Ur(m):m,A=e.use_train_y_matrix?new Ur(g):e.use_train_y_vector?Vn.pivotVector(g)[0]:g;if(n){let I,C;typeof n.train=="function"?(I=n.train(b,A,e.modelOptions),C=n.predict(u)):(I=new n(b,A,e.modelOptions),C=I.predict(u));let R=C;return e.accuracy==="standardError"?Vn.standardError(f,R):Vn.rSquared(f,R)}else{let I,C;typeof r.train=="function"?(r.train(b,A,e.modelOptions),C=r.predict(u)):(I=new r(b,A,e.modelOptions),C=I.predict(u));let R=e.use_estimates_y_vector?Vn.pivotVector(C)[0]:C;return xh.fromLabels(f,R).getAccuracy()}})}function Fht(t={}){let e=It({return_parameters:!1,compare_score:"mean",sortAccuracyScore:"desc",parameters:{}},t),r=e.regression,n=e.classifier,a=!t.sortAccuracyScore&&e.regression?"asc":e.sortAccuracyScore,o=new Hfe({params:e.parameters,run_callback:f=>{e.regression?e.regression=new r(f):e.classifier=new n(f);let l=Kfe(e);return e.compare_score?Vn[e.compare_score](l):l}});o.run();let s=a==="desc"?(f,l)=>l.results-f.results:(f,l)=>f.results-l.results,u=o._results.sort(s);return e.return_parameters?u:u[0]}var _B={train_test_split:Rht,cross_validation_split:bB,kfolds:bB,cross_validate_score:Kfe,grid_search:Fht,GridSearch:Hfe},{FPGrowth:Lht}=Bht;function Pht(t,e){let r=Object.assign({},{exludeEmptyTranscations:!0},e),n=new Set,a=new Map,o=t.map(s=>([...Object.values(s)].forEach(u=>{n.add(u)}),n.forEach(u=>{if(!a.get(u)){let f=a.size<0?0:Math.round(a.size/2);a.set(u,f.toString()),a.set(f.toString(),u)}}),Object.values(s).map(u=>a.get(u)).filter(u=>u!==void 0)));return{values:n,valuesMap:a,transactions:r.exludeEmptyTranscations?o.filter(s=>s.length):o}}function qht(t=[],e){return new Promise((r,n)=>{try{let a=Object.assign({},{support:.4,minLength:2,summary:!0,valuesMap:new Map},e);new Lht(a.support).exec(t).then(s=>{let u=s.itemsets?s.itemsets:s;a.summary?r(u.map(f=>({items_labels:f.items.map(l=>a.valuesMap.get(l)),items:f.items,support:f.support,support_percent:f.support/t.length})).filter(f=>f.items.length>1).sort((f,l)=>l.support-f.support)):r(s)}).catch(n)}catch(a){n(a)}})}var zht={getTransactions:Pht,assocationRuleLearning:qht},Uht=Ofe;w();_();var ale=Bt(_2(),1);w();_();var my=Bt(_2(),1),tle=Bt(l0(),1),rle=Bt(oB(),1),ff=my.array.mean,jht=ff,v0=my.array.sum,MB=(t,e)=>t.map(r=>(r-ff(t))/e),zN=my.array.max,UN=my.array.min,A2=my.array.standardDeviation;function nle(t,e){return t.reduce((r,n,a,o)=>(r.push(Math.pow(e[a]-n,2)),r),[])}function $ht(t=[],e=[]){if(t.length!==e.length)throw new RangeError("arrays must have the same length");let r=nle(t,e);return Math.sqrt(v0(r)/(t.length-2))}function Zfe(t=[]){let e=ff(t),r=A2(t);return t.map(n=>(n-e)/r)}function ile(t=[],e=[]){if(t.length!==e.length)throw new RangeError("arrays must have the same length");let r=jht(t),n=v0(t.reduce((s,u,f)=>(s.push(Math.pow(t[f]-r,2)),s),[])),a=v0(t.reduce((s,u,f)=>(s.push(Math.pow(t[f]-e[f],2)),s),[]));return(n-a)/n}function SB(t){let{actuals:e,estimates:r,rSquared:n,independentVariables:a,sampleSize:o}=t,s=n||ile(e,r),u=o||e.length,f=a;return 1-(1-s)*((u-1)/(u-(f+1)))}function EB(t=[],e=[]){if(t.length!==e.length)throw new RangeError("arrays must have the same length");let r=v0(t),n=v0(e),a=t.reduce((l,c,h)=>(l=l+t[h]*e[h],l),0),o=t.reduce((l,c)=>(l=l+c*c,l),0),s=e.reduce((l,c)=>(l=l+c*c,l),0),u=t.length;return(u*a-r*n)/Math.sqrt((u*o-Math.pow(r,2))*(u*s-Math.pow(n,2)))}function Vht(t=[],e=[]){return Math.pow(EB(t,e),2)}function Wht(t=[]){return t.reduce((e,r,n)=>(r.forEach((a,o)=>{n===0?e.push([a]):e[o].push(a)}),e),[])}function Ght(t=[]){return t.length?t[0].map((e,r)=>{let n=[];return t.forEach((a,o)=>{n.push(t[o][r])}),n}):t}var Hht=t=>MB(t,A2(t));function Kht(t=[],e=-1,r=!1,n={}){let a=typeof n.average!="undefined"?n.average:ff(t),o=typeof n.standard_dev!="undefined"?n.standard_dev:A2(t),s=typeof n.maximum!="undefined"?n.maximum:zN(t),u=typeof n.minimum!="undefined"?n.minimum:UN(t),f=h=>{let m=(h-a)/o;return isNaN(m)&&r?m:isNaN(m)&&r===!1?isNaN(o)?h:o:m},l=h=>{let m=h*o+a;return isNaN(m)&&r?m:isNaN(m)&&r===!1?isNaN(o)?h:o:m},c=t.map(f).map(h=>isNaN(h)?e:h);return{components:{average:a,standard_dev:o,maximum:s,minimum:u},scale:f,descale:l,values:c}}var Zht=t=>MB(t,zN(t)-UN(t));function Jht(t=[],e=-1,r=!1,n={}){let a=typeof n.average!="undefined"?n.average:ff(t),o=typeof n.standard_dev!="undefined"?n.standard_dev:A2(t),s=typeof n.maximum!="undefined"?n.maximum:zN(t),u=typeof n.minimum!="undefined"?n.minimum:UN(t),f=h=>{let m=(h-a)/(s-u);return isNaN(m)&&r?m:isNaN(m)&&r===!1?isNaN(o)?h:o:m},l=h=>{let m=h*(s-u)+a;return isNaN(m)&&r?m:isNaN(m)&&r===!1?isNaN(o)?h:o:m},c=t.map(f).map(h=>isNaN(h)?e:h);return{components:{average:a,standard_dev:o,maximum:s,minimum:u},scale:f,descale:l,values:c}}function Yht(t,e=!0){if(t<-6.5)return 0;if(t>6.5)return 1;let r=1,n=0,a=1,o=0,s=Math.exp(-23);for(;Math.abs(a)>s;)a=.3989422804*Math.pow(-1,o)*Math.pow(t,o)/(2*o+1)/Math.pow(2,o)*Math.pow(t,o+1)/r,n+=a,o++,r*=o;return n+=.5,e?1-n:n}function Xht(t){return t.replace(/[^\w\s]/gi,"_")}function vy(t,e){if(t.length!==e.length)throw new Error(`Actuals length (${t.length}) must equal Estimates length (${e.length})`);return t.map((r,n)=>r-e[n])}function Jfe(t,e){let r=vy(t,e);return ff(r)}function qN(t,e){let r=vy(t,e).map(n=>Math.abs(n));return ff(r)}function Yfe(t,e){let r=v0(vy(t,e)),n=qN(t,e);return r/n}function Xfe(t,e){let r=vy(t,e).map(n=>n*n);return ff(r)}function Qfe(t,e){let r=qN(t,e),n=ff(t);return r/n}function ele(t,e){let n=vy(t,e).map(a=>Math.abs(a)).map((a,o)=>a/t[o]);return ff(n)}var gs={range:tle.default,rangeRight:rle.default,scale:MB,avg:ff,mean:ff,sum:v0,max:zN,min:UN,sd:A2,StandardScaler:Hht,StandardScalerTransforms:Kht,MinMaxScaler:Zht,MinMaxScalerTransforms:Jht,LogScaler:t=>t.map(Math.log),ExpScaler:t=>t.map(Math.exp),squaredDifference:nle,standardError:$ht,coefficientOfDetermination:ile,coefficientOfCorrelation:EB,r:EB,rSquared:Vht,adjustedCoefficentOfDetermination:SB,rBarSquared:SB,adjustedRSquared:SB,pivotVector:Wht,pivotArrays:Ght,standardScore:Zfe,zScore:Zfe,approximateZPercentile:Yht,getSafePropertyName:Xht,forecastErrors:vy,meanForecastError:Jfe,MFE:Jfe,meanAbsoluteDeviation:qN,MAD:qN,trackingSignal:Yfe,TS:Yfe,meanSquaredError:Xfe,MSE:Xfe,MADMeanRatio:Qfe,MMR:Qfe,meanAbsolutePercentageError:ele,MAPE:ele};var Qht={scale:"scaleOptions",descale:"descaleOptions",label:"labelOptions",labelEncoder:"labelOptions",labeldecode:"labelOptions",labelDecode:"labelOptions",labelDecoder:"labelOptions",onehot:"oneHotOptions",oneHot:"oneHotOptions",oneHotEncode:"oneHotOptions",oneHotEncoder:"oneHotOptions",reducer:"reducerOptions",reduce:"reducerOptions",merge:"mergeData"},la=class{static getTransforms(e={}){return Object.keys(e).reduce((r,n)=>{let a=e[n],o={name:n,options:{strategy:Array.isArray(a)?a[0]:a}};return Array.isArray(a)&&a.length>1&&(o.options[Qht[a[0]]]=a[1]),r.push(o),r},[])}static reverseColumnMatrix(e={}){let{vectors:r=[],labels:n=[]}=e,a=Array.isArray(n)&&Array.isArray(n[0])?n:n.map(o=>[o]);return r.reduce((o,s)=>(o.push(s.reduce((u,f,l)=>(u[a[l][0]]=s[l],u),{})),o),[])}static reverseColumnVector(e={}){let{vector:r=[],labels:n=[]}=e,a=Array.isArray(n)&&Array.isArray(n[0])?n:n.map(o=>[o]);return r.reduce((o,s)=>(o.push({[a[0][0]]:s}),o),[])}static encodeObject(e,r){let{labels:n,prefix:a,name:o}=r;return n.reduce((u,f)=>{let l=`${a}${f}`;return u[l]=f&&e[o]&&e[o].toString()===f.toString()?1:0,u},{})}static oneHotEncoder(e,r){let n=Object.assign({merge:!0},r),a=n.data||this.columnArray(e,n.columnArrayOptions),o=Array.from(new Set(a).values()),s=n.prefix||`${e}_`,u=a.reduce((f,l,c,h)=>(o.forEach(m=>{let g=`${s}${m}`,b=l===m?1:0;Array.isArray(f[g])?f[g].push(b):f[g]=[b]}),f),{});return this.encoders.has(e)&&n.merge?this.encoders.get(e).labels=Array.from(new Set(o.concat(this.encoders.get(e).labels))):this.encoders.set(e,{name:e,labels:o,prefix:s}),u}static oneHotDecoder(e,r){let n=Object.assign({},r),a=n.encoders||this.encoders,o=n.prefix||a.get(e).prefix,s=n.labels||a.get(e).labels;return(n.data||this.oneHotColumnArray(e,n.oneHotColumnArrayOptions)).reduce((f,l)=>{let h=Object.keys(l).filter(g=>l[g]===1&&(s.indexOf(g.replace(o,""))!==-1||s.map(b=>String(b)).indexOf(g.replace(o,""))!==-1))[0]||"",m={[e]:h.replace(o,"")};return f.push(m),f},[])}static oneHotColumnArray(e,r){throw new Error("Method not implemented.")}static selectColumns(e,r={}){return(Object.assign({},r).data||this.data).reduce((o,s)=>{let u={};return e.forEach(f=>{u[f]=s[f]}),o.push(u),o},[])}static columnArray(e,r={}){let n=Object.assign({prefilter:()=>!0,filter:()=>!0,replace:{test:void 0,value:void 0},parseInt:!1,parseIntBase:10,parseFloat:!!r.scale,scale:!1},r),o=(n.data||this.data).filter(n.prefilter).reduce((s,u,f,l)=>{let c=u[e],h=typeof n.replace.test=="function"&&n.replace.test(c)?typeof n.replace.value=="function"?n.replace.value(s,u,f,l,e):n.replace.value:c;return n.filter(h)&&(n.parseInt?s.push(parseInt(h,n.parseIntBase)):n.parseFloat?s.push(parseFloat(h)):s.push(h)),s},[]);if(typeof n.scale=="function")return o.map(n.scale);if(n.scale)switch(n.scale){case"standard":return gs.StandardScaler(o);case"log":return gs.LogScaler(o);case"exp":return gs.ExpScaler(o);case"normalize":default:return gs.MinMaxScaler(o)}else return o}static columnMatrix(e=[],r=[]){let n=r.length?{data:r}:{},o=(Array.isArray(e)&&Array.isArray(e[0])?e:e.map(s=>[s,n])).map(s=>la.columnArray.call(this,...s));return gs.pivotArrays(o)}static mapToObject(e=new Map){return Array.from(e.keys()).reduce((r,n)=>{let a=e.get(n);return a instanceof Map?r[n]=la.mapToObject(a):typeof a=="function"?r[n]=`[Function ${a.name}]`:r[n]=JSON.parse(JSON.stringify(a)),r},{})}static getBinaryValue(e=""){if(!e)return 0;switch(e){case!1:case"N":case"n":case"NO":case"No":case"no":case"False":case"FALSE":case"F":case"f":return 0;default:return 1}}constructor(e=[],r={}){return this.config=Object.assign({debug:!0},r),this.data=[...e],this.labels=new Map,this.encoders=new Map,this.scalers=new Map,this.selectColumns=la.selectColumns,this.columnArray=la.columnArray,this.encodeObject=la.encodeObject,this.oneHotEncoder=la.oneHotEncoder,this.oneHotDecoder=la.oneHotDecoder,this.columnMatrix=la.columnMatrix,this.reverseColumnMatrix=la.reverseColumnMatrix,this.reverseColumnVector=la.reverseColumnVector,this.getTransforms=la.getTransforms,(this.config.labels||this.config.encoders||this.config.scalers)&&this.importFeatures({labels:this.config.labels,encoders:this.config.encoders,scalers:this.config.scalers}),this}exportFeatures(e={}){let r=Object.assign({},e);return{encoders:la.mapToObject(this.encoders),labels:la.mapToObject(this.labels),scalers:la.mapToObject(this.scalers)}}importFeatures(e={}){Object.keys(e.encoders||{}).forEach(r=>{let n=e.encoders[r];this.encoders.set(r,n)}),Object.keys(e.labels||{}).forEach(r=>{let n=e.labels[r],a=Object.keys(n).map(o=>[o,n[o]]);typeof n[0]!="undefined"&&typeof n[1]!="undefined"&&a.push([0,!1],[!1,0],[null,0],["no",0],["No",0],["NO",0],["FALSE",0],["F",0],["f",0],["null",0],["",0],[void 0,0],["undefined",0],["TRUE",1],["true",1],[1,!0],[!0,1]),this.labels.set(r,new Map(a))}),Object.keys(e.scalers||{}).forEach(r=>{let n,a=e.scalers[r],{config:o}=a;switch(o.strategy){case"standard":n=gs.StandardScalerTransforms(void 0,o.nan_value,o.return_nan,a.components),a.scale=n.scale,a.descale=n.descale;break;case"normalize":case"minmax":n=gs.MinMaxScalerTransforms(void 0,o.nan_value,o.return_nan,a.components),a.scale=n.scale,a.descale=n.descale;break;case"log":default:a.scale=Math.log,a.descale=Math.exp;break}this.scalers.set(r,a)})}filterColumn(e=()=>!0){return this.data.filter(e)}columnScale(e,r={}){let a=Object.assign({strategy:"log",forced_coercion:!1},typeof r=="string"?{strategy:r}:r),o=a.data||this.columnArray(e,a.columnArrayOptions),s,u;switch(o=o.filter(f=>typeof f!="undefined").map((f,l)=>{if(typeof f!="number"){this.config.debug&&a.forced_coercion===!1&&console.error(TypeError(`Each value must be a number, error at index [${e}][${l}]: <${typeof f}>${f}`));let c=Number(f);if(isNaN(c)&&a.forced_coercion)return 0;if(isNaN(c))throw TypeError(`Only numerical values in (${e}) can be scaled i: ${l} datum: ${f}`);return c}else return f}),a.strategy){case"standard":u=gs.StandardScalerTransforms(o,a.nan_value,a.return_nan),this.scalers.set(e,{name:e,scale:u.scale,descale:u.descale,components:u.components}),s=u.values;break;case"normalize":case"minmax":u=gs.MinMaxScalerTransforms(o,a.nan_value,a.return_nan),this.scalers.set(e,{name:e,scale:u.scale,descale:u.descale,components:u.components}),s=u.values;break;case"log":default:this.scalers.set(e,{name:e,scale:Math.log,descale:Math.exp,components:{average:gs.avg(o),standard_dev:gs.sd(o),maximum:gs.max(o),minimum:gs.min(o)}}),s=gs.LogScaler(o);break}return this.scalers.get(e).config=a,s}columnDescale(e,r){let n=Object.assign({},r),a=n.data||this.columnArray(e,n.columnArrayOptions),o=this.scalers.get(e).descale;return a.map(o)}labelEncoder(e,r){let n=Object.assign({binary:!1,merge:!0},r),a=n.data||this.columnArray(e,n.columnArrayOptions),o=Array.from(new Set(a).values()).sort(n.sortFunction),s=new Map(o.reduce((f,l,c)=>(n.binary?(c===0&&f.push([0,!1],["0",!1],["FALSE",0],["false",0],[1,!0],["1",!0],["TRUE",1],["true",1]),f.push([l,la.getBinaryValue(l)])):(f.push([l,c]),f.push([c,l])),f),[]));return this.labels.has(e)&&n.merge?this.labels.set(e,new Map([...this.labels.get(e),...s])):this.labels.set(e,s),n.binary?a.map(la.getBinaryValue):a.map(f=>s.get(f))}labelDecode(e,r={}){let n=Object.assign({},r);return(n.data||this.columnArray(e,n.columnArrayOptions)).map(o=>this.labels.get(e).get(o))}oneHotColumnArray(e,r){let n=Object.assign({},r),a=n.labels||this.encoders.get(e).labels,o=n.prefix||this.encoders.get(e).prefix;return this.selectColumns(a.map(s=>`${o}${s}`))}columnReducer(e,r){return{[e]:this.columnArray(r.columnName,r.columnOptions).reduce(r.reducer,[])}}columnMerge(e,r=[]){if(this.data.length!==r.length)throw new RangeError(`Merged data column must have the same length(${r.length}) as the DataSet's length (${this.data.length})`);return{[e]:r}}inverseTransformObject(e,r){let n=Object.assign({removeValues:!1},r),a=[],o=Object.assign({},e),s=Object.keys(this.data[0]),u=s.reduce((c,h)=>(this.scalers.has(h)&&(c[h]=this.scalers.get(h).descale(e[h])),c),{}),f=s.reduce((c,h)=>(this.labels.has(h)&&(c[h]=this.labels.get(h).get(e[h])),c),{}),l=s.reduce((c,h)=>{if(this.encoders.has(h)){let m=this.oneHotDecoder(h,{data:[e]});c=Object.assign({},c,m[0]),n.removeValues&&a.push(...this.encoders.get(h).labels.map(g=>`${this.encoders.get(h).prefix}${g}`))}return c},{});return o=Object.assign(o,u,f,l),n.removeValues&&a.length&&(o=Object.keys(o).reduce((c,h)=>(a.indexOf(h)===-1&&(c[h]=o[h]),c),{})),o}transformObject(e,r){let n=Object.assign({removeValues:!1,checkColumnLength:!0},r),a=[],o=new Array().concat(...Array.from(this.encoders.keys()).map(c=>this.encoders.get(c).labels.map(h=>`${this.encoders.get(c).prefix}${h}`))),s=this.data.length?Object.keys(this.data[0]):Object.keys(e),u=Object.keys(e).concat(o),f=u.reduce((c,h)=>(s.indexOf(h)===-1&&o.indexOf(h)===-1&&c.push(h),c),[]),l=Object.assign({},e);if(n.checkColumnLength&&s.length!==u.length&&s.length+o.length!==u.length)throw new RangeError(`Object must have the same number of keys (${u.length}) as data in your dataset(${s.length})`);if(n.checkColumnLength&&f.length)throw new ReferenceError(`Object must have identical keys as data in your DataSet. Invalid keys: ${f.join(",")}`);{let c=u.reduce((g,b)=>(this.scalers.has(b)&&(g[b]=this.scalers.get(b).scale(e[b])),g),{}),h=u.reduce((g,b)=>(this.labels.has(b)&&(g[b]=this.labels.get(b).get(e[b])),g),{}),m=u.reduce((g,b)=>(this.encoders.has(b)&&(g=Object.assign({},g,this.encodeObject(e,this.encoders.get(b))),n.removeValues&&a.push(b)),g),{});l=Object.assign(l,c,h,m),n.removeValues&&a.length&&(l=Object.keys(l).reduce((g,b)=>(a.indexOf(b)===-1&&(g[b]=l[b]),g),{}))}return l}columnReplace(e,r={}){let n=Object.assign({strategy:"mean",empty:!0,arrayOptions:{parseFloat:!0,filter:s=>s},labelOptions:{}},r),a,o={test:s=>!s,value:a};switch(n.strategy){case"scale":a=this.columnScale(e,n.scaleOptions),o={test:s=>!0,value:(s,u,f,l)=>a[f]};break;case"descale":a=this.columnDescale(e,n.descaleOptions),o={test:s=>!0,value:(s,u,f,l)=>a[f]};break;case"label":case"labelEncoder":a=this.labelEncoder(e,n.labelOptions),o={test:s=>!0,value:(s,u,f,l)=>a[f]};break;case"labeldecode":case"labelDecode":case"labelDecoder":a=this.labelDecode(e,n.labelOptions),o={test:s=>!0,value:(s,u,f,l)=>a[f]};break;case"onehot":case"oneHot":case"oneHotEncode":case"oneHotEncoder":return a=this.oneHotEncoder(e,n.oneHotOptions),o={test:s=>!0,value:(s,u,f,l)=>a[f]},a;case"reducer":case"reduce":return a=this.columnReducer(e,n.reducerOptions),a;case"merge":return a=this.columnMerge(e,n.mergeData),a;case"parseNumber":return a=this.columnArray(e).map(s=>Number(s)),a;default:a=ale.array[n.strategy](this.columnArray(e,n.arrayOptions)),o.value=a;break}return this.columnArray(e,Object.assign({},{replace:o,scale:r.scale},r.columnOptions))}fitColumns(e={},r={}){let n=Object.assign({returnData:!0,columns:[]},e);(!e.columns||Array.isArray(e.columns)===!1)&&(n.columns=e.columns?la.getTransforms(e.columns):la.getTransforms(e));let a=n.columns.reduce((o,s,u,f)=>{let l=this.columnReplace(s.name,s.options);return Array.isArray(l)?(l=l.map(c=>({[s.name]:c})),o[s.name]=l):Object.keys(l).forEach(c=>{o[c]=l[c].map(h=>({[c]:h}))}),o},{});if(Object.keys(a)&&Object.keys(a).length){let o=Object.keys(a),s=a[o[0]].reduce((u,f,l,c)=>{let h={};return o.forEach(m=>{h[m]=a[m][l][m]}),u.push(h),u},[]);this.data=this.data.map((u,f)=>Object.assign({},u,s[f]))}return n.returnData?this.data:this}fitInverseTransforms(e={}){let r=Object.assign({returnData:!0},e);return this.data=this.data.map(n=>e.removeValues?this.inverseTransformObject(n,e):Object.assign({},n,this.inverseTransformObject(n,e))),r.returnData?this.data:this}fitTransforms(e={}){let r=Object.assign({returnData:!0},e);return this.data=this.data.map(n=>e.removeValues?this.transformObject(n,e):Object.assign({},n,this.transformObject(n,e))),r.returnData?this.data:this}};var bS={};tl(bS,{BaseNeuralNetwork:()=>Ua,DeepLearningClassification:()=>yb,DeepLearningRegression:()=>gb,FeatureEmbedding:()=>Fc,LSTMMultivariateTimeSeries:()=>ia,LSTMTimeSeries:()=>Ms,LogisticRegression:()=>bb,MachineLearningLinearRegression:()=>tk,MachineLearningLogisticRegression:()=>rk,MachineLearningModelInterface:()=>Rd,MultipleLinearRegression:()=>rv,TensorScriptModelInterface:()=>Es,TextEmbedding:()=>L6,createModelFitCallback:()=>db,getBackend:()=>Nd,getScikit:()=>ek,setBackend:()=>Q4,setScikit:()=>Q6});w();_();w();_();w();_();w();_();var Fme=Bt(_r());w();_();var Rh=Bt(_r());w();_();var bs=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,bs.prototype)}},vo=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,vo.prototype)}},$e=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,$e.prototype)}},fr=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,fr.prototype)}},Ry=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Ry.prototype)}};w();_();var Q2=class{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let r;return this.cache.has(e)&&(r=this.cache.get(e),this.cache.delete(e),this.cache.set(e,r)),r}put(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){let n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let r=0;r<this.maxEntries-e;r++){let n=this.cache.keys().next().value;this.cache.delete(n)}this.maxEntries=e}};w();_();var e_=Bt(_r());function vf(t,e){if(Array.isArray(t)){let r=[];for(let n=0;n<e;n++)r=r.concat(t);return r}else{let r=new Array(e);return r.fill(t),r}}function du(t,e){if(!t)throw new Ry(e)}function U9(t,e){let r=0;for(let n of t)n===e&&r++;return r}function Ha(t){return t.length===1?t[0]:t}function Wn(t){return Array.isArray(t)?t:[t]}function gf(t){let r=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return r[0]!=="_"?r:"private"+r}function kh(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,r)=>r.toUpperCase())}var mf={};function Fy(t){if(t==null)return null;let e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function z9(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>z9(e));else{let e=Object.keys(t);for(let r of e){let n=t[r];n!=null&&typeof n=="object"&&(!Array.isArray(n)&&n.type==="ndarray"&&typeof n.value=="number"?t[r]=n.value:z9(n))}}}function Ac(t,e={},r={},n="object",a=!1){if(typeof t=="string"){let o=t,s;if(o in r)s=r[o];else if(o in mf)s=mf[o];else if(s=e[o],s==null)throw new $e(`Unknown ${n}: ${t}. This may be due to one of the following reasons:
1. The ${n} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${n} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return s}else{let o=t;if(o.className==null||o.config==null)throw new $e(`${n}: Improper config format: ${JSON.stringify(o)}.
'className' and 'config' must set.`);let s=o.className,u,f;if(s in r?[u,f]=r[s]:s in mf?[u,f]=mf.className:s in e&&([u,f]=e[s]),u==null)throw new $e(`Unknown ${n}: ${s}. This may be due to one of the following reasons:
1. The ${n} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${n} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(f!=null){let l={};for(let g of Object.keys(mf))l[g]=mf[g];for(let g of Object.keys(r))l[g]=r[g];let c=o.config;c.customObjects=l;let h=Object.assign({},mf);for(let g of Object.keys(r))mf[g]=r[g];z9(o.config);let m=f(u,o.config,r,a);return mf=Object.assign({},h),m}else{let l=Object.assign({},mf);for(let h of Object.keys(r))mf[h]=r[h];let c=new u(o.config);return mf=Object.assign({},l),c}}}function i_t(t,e){return t<e?-1:t>e?1:0}function t_(t,e){return-1*i_t(t,e)}function yf(t){if(t==null)return t;let e=[];for(let r of t)e.indexOf(r)===-1&&e.push(r);return e}function sme(t){if(t==null)throw new $e(`Invalid value in obj: ${JSON.stringify(t)}`);for(let e in t)if(t.hasOwnProperty(e))return!1;return!0}function Nc(t,e,r){if(r!=null&&t.indexOf(r)<0)throw new $e(`${r} is not a valid ${e}.  Valid values are ${t} or null/undefined.`)}function kT(t,e,r=0,n=1/0){return du(r>=0),du(n>=r),Array.isArray(t)&&t.length>=r&&t.length<=n&&t.every(a=>typeof a===e)}function Gi(t,e){Array.isArray(t)?(e_.util.assert(t.length>0,()=>`${e} is unexpectedly an empty array.`),t.forEach((r,n)=>Gi(r,`element ${n+1} of ${e}`))):e_.util.assert(Number.isInteger(t)&&t>0,()=>`Expected ${e} to be a positive integer, but got ${ume(t)}.`)}function ume(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>ume(e)).join(",")+"]":typeof t=="string"?`"${t}"`:`${t}`}function fme(t,e,r){let n=r!=null?r():e_.util.now(),a;return(...s)=>{let u=r!=null?r():e_.util.now();return u-n<e||(n=u,a=t(...s)),a}}function IT(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}w();_();var Cme=Bt(_r());w();_();var a_t=0;function OT(){return a_t++}var CT={};function md(t=""){return t in CT||(CT[t]=0),CT[t]+=1,t+CT[t].toString()}w();_();var Ky=Bt(_r());w();_();w();_();var lme=["channelsFirst","channelsLast"],cme=["nearest","bilinear"],hme=["valid","same","causal"],pme=["max","avg"],dme=["sum","mul","concat","ave"];var By=new Map;function gi(t){Nc(lme,"DataFormat",t)}function vme(t){Nc(cme,"InterpolationFormat",t)}function es(t){Nc(hme,"PaddingMode",t)}function j9(t){Nc(pme,"PoolMode",t)}var r_=[],mme="/";function _l(t,e){r_.push(t);try{let r=e();return r_.pop(),r}catch(r){throw r_.pop(),r}}function o_t(){return r_.length===0?"":r_.join(mme)+mme}function RT(t){if(!gme(t))throw new Error("Not a valid tensor name: '"+t+"'");return o_t()+t}function FT(t){if(!gme(t))throw new Error("Not a valid tensor name: '"+t+"'");By.has(t)||By.set(t,0);let e=By.get(t);if(By.set(t,By.get(t)+1),e>0){let r=`${t}_${e}`;return By.set(r,1),r}else return t}var s_t=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function gme(t){return!!t.match(s_t)}w();_();var Pr=Bt(_r());w();_();var Vt=Bt(_r()),rs=Bt(_r());w();_();function yme(t){return t===parseInt(t.toString(),10)}function bf(t,e,r){e==null&&(e=0),r==null&&(r=t.length);let n=1;for(let a=e;a<r;++a)n*=t[a];return n}function B0(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let r=0;r<t.length;r++){let n=t[r];n<e&&(e=n)}return e}function Sl(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let r=0;r<t.length;r++){let n=t[r];n>e&&(e=n)}return e}function Bo(t,e){if(e<t)throw new $e(`end (${e}) < begin (${t}) is forbidden.`);let r=[];for(let n=t;n<e;++n)r.push(n);return r}w();_();var bme=Bt(_r());var $9;function ha(){return $9==null&&($9=(0,bme.backend)().epsilon()),$9}function ts(){return"channelsLast"}function L0(t,e){return Vt.cast(t,e)}function Ch(t,e=-1){let r=t.shape.slice();return e<0&&(e=r.length+e+1),r.splice(e,0,1),Vt.reshape(t,r)}function wme(t,e){return(0,rs.tidy)(()=>{if(t.shape.length!==2)throw new $e(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);let r=Ch(t,1);return LT(r,[1,e,1])})}function xme(t){let e=[bf(t.shape)];return Vt.reshape(t,e)}function _me(t){if(t.rank<=1)throw new $e(`batchFlatten requires a minimum rank of 2. Got rank: ${t.rank}.`);let e=[t.shape[0],bf(t.shape,1)];return Vt.reshape(t,e)}function Ih(t,e,r){return(0,rs.tidy)(()=>{switch(t.rank){case 1:return Vt.slice1d(t,e,r);case 2:return Vt.slice2d(t,[e,0],[r,t.shape[1]]);case 3:return Vt.slice3d(t,[e,0,0],[r,t.shape[1],t.shape[2]]);case 4:return Vt.slice4d(t,[e,0,0,0],[r,t.shape[1],t.shape[2],t.shape[3]]);case 5:return Vt.slice(t,[e,0,0,0,0],[r,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return Vt.slice(t,[e,0,0,0,0,0],[r,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new $e(`sliceAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}})}function V9(t,e,r){return(0,rs.tidy)(()=>{switch(t.rank){case 1:return Vt.slice1d(t,e,r);case 2:return Vt.slice2d(t,[0,e],[t.shape[0],r]);case 3:return Vt.slice3d(t,[0,0,e],[t.shape[0],t.shape[1],r]);case 4:return Vt.slice4d(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],r]);default:throw new $e(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function n_(t,e,r,n){return(0,rs.tidy)(()=>{switch(t.rank){case 1:return Vt.slice1d(t,e,r);case 2:switch(n){case 1:return Ih(t,e,r);case 2:return V9(t,e,r);default:throw new $e(`The axis is not within the rank of the tensor ${n}`)}case 3:switch(n){case 1:return Ih(t,e,r);case 2:return Vt.slice3d(t,[0,e,0],[t.shape[0],r,t.shape[2]]);case 3:return V9(t,e,r);default:throw new $e(`The axis is not within the rank of the tensor ${n}`)}case 4:switch(n){case 1:return Ih(t,e,r);case 2:return Vt.slice4d(t,[0,e,0,0],[t.shape[0],r,t.shape[2],t.shape[3]]);case 3:return Vt.slice4d(t,[0,0,e,0],[t.shape[0],t.shape[1],r,t.shape[3]]);case 4:return V9(t,e,r);default:throw new $e(`The axis is not within the rank of the tensor ${n}`)}default:throw new $e(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function Ly(t,e=-1){let r;return e<0&&(r=t[0].rank,r!==0?e=r:e=0),e===t[0].rank&&(e=-1),Vt.concat(t,e)}function G9(t,e){switch(t.rank){case 1:return Vt.concat1d([t,e]);case 2:return Vt.concat2d([t,e],0);case 3:return Vt.concat3d([t,e],0);case 4:return Vt.concat4d([t,e],0);default:throw new $e(`concatAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}}function LT(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new $e(`The length of input n (${e.length}) does not match the number of dimensions in input x (${t.rank})`);return Vt.tile(t,e)}function Py(t,e=0,r=1,n,a){return Vt.randomNormal(t,e,r,n,a)}function wf(t,e,r,n){if(t.rank<2||e.rank<2)throw new fr(`dot requires both inputs to be rank >= 2 but got x shape = ${t.shape} and y shape = ${e.shape}`);if(e.rank>=3){let a=t.shape.slice(-1)[0],o=e.shape.slice(-2)[0];if(a!==o)throw new fr(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${t.shape} and  y shape = ${e.shape}`)}if(t.rank===2&&e.rank===2)return Vt.fused.matMul({a:t,b:e,transposeA:!1,transposeB:!1,bias:n?W9(t.rank,n,ts()):null,activation:r});{let a=t.shape.slice(),o=a.pop();t=Vt.reshape(t,[-1,o]);let s=e.shape.slice(),u=s.pop(),f=s.pop(),l=[...s,u],c=Array.from({length:e.rank},(b,A)=>A===0?e.rank-2:A<=e.rank-2?A-1:A);e=Vt.reshape(Vt.transpose(e,c),[f,-1]);let h=[...a,...l],m=!1,g=!1;return Vt.reshape(Vt.fused.matMul({a:t,b:e,transposeA:m,transposeB:g,bias:n?W9(t.rank,n,ts()):null,activation:r}),h)}}function PT(t,e,r){return(0,rs.tidy)(()=>(Array.isArray(e)?e=(0,rs.tensor1d)(e,"int32"):e=Vt.cast(e,"int32"),Vt.gather(t,e,r)))}function P0(t){return Vt.mul(t,t)}function W9(t,e,r){let n=e.shape;if(e.rank!==1&&e.rank!==t)throw new $e(`Unexpected bias dimensions: ${e.rank}; expected it to be 1 or ${t}`);if(t===5){if(r==="channelsFirst")return n.length===1?Vt.reshape(e,[1,n[0],1,1,1]):Vt.reshape(e,[1,n[3],n[0],n[1],n[2]]);if(r==="channelsLast")return n.length===1?Vt.reshape(e,[1,1,1,1,n[0]]):Vt.reshape(e,[1].concat(n))}else if(t===4){if(r==="channelsFirst")return n.length===1?Vt.reshape(e,[1,n[0],1,1]):Vt.reshape(e,[1,n[2],n[0],n[1]]);if(r==="channelsLast")return n.length===1?Vt.reshape(e,[1,1,1,n[0]]):Vt.reshape(e,[1].concat(n))}else if(t===3){if(r==="channelsFirst")return n.length===1?Vt.reshape(e,[1,n[0],1]):Vt.reshape(e,[1,n[1],n[0]]);if(r==="channelsLast")return n.length===1?Vt.reshape(e,[1,1,n[0]]):Vt.reshape(e,[1].concat(n))}else if(t<3)return e;throw new $e(`Unsupported input rank by biasAdd: ${e.rank}`)}function ns(t,e,r){return(0,rs.tidy)(()=>(r==null&&(r=ts()),gi(r),Vt.add(t,W9(t.rank,e,r))))}function Sme(t,e=1){if(e!==1)throw new fr(`Support for alpha values other than 1 (${e}) is not implemented yet.`);return Vt.elu(t)}function Eme(t){return(0,rs.tidy)(()=>Vt.div(t,Vt.add(Vt.abs(t),1)))}function qT(t,e,r,n){return(0,rs.tidy)(()=>Vt.dropout(t,e,r,n))}function Mme(t){return(0,rs.tidy)(()=>{let e=Vt.add(.5,Vt.mul(.2,t));return Vt.clipByValue(e,0,1)})}function vd(t,e,r=!1){return r?t():e()}w();_();var Ame=["fanIn","fanOut","fanAvg"],Nme=["normal","uniform","truncatedNormal"];function u_t(t){Nc(Ame,"FanMode",t)}function f_t(t){Nc(Nme,"Distribution",t)}var as=class extends Pr.serialization.Serializable{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}},i_=class extends as{apply(e,r){return(0,Pr.zeros)(e,r)}};i_.className="Zeros";Pr.serialization.registerClass(i_);var q0=class extends as{apply(e,r){return(0,Pr.ones)(e,r)}};q0.className="Ones";Pr.serialization.registerClass(q0);var a_=class extends as{constructor(e){if(super(),typeof e!="object")throw new $e(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new $e(`config must have value set but got ${e}`);this.value=e.value}apply(e,r){return(0,Pr.tidy)(()=>(0,Pr.mul)((0,Pr.scalar)(this.value),(0,Pr.ones)(e,r)))}getConfig(){return{value:this.value}}};a_.className="Constant";Pr.serialization.registerClass(a_);var o_=class extends as{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,r){return(0,Pr.randomUniform)(e,this.minval,this.maxval,r)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}};o_.className="RandomUniform";Pr.serialization.registerClass(o_);var s_=class extends as{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,r){if(r=r||"float32",r!=="float32"&&r!=="int32")throw new fr(`randomNormal does not support dType ${r}.`);return Py(e,this.mean,this.stddev,r,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}};s_.className="RandomNormal";Pr.serialization.registerClass(s_);var u_=class extends as{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,r){if(r=r||"float32",r!=="float32"&&r!=="int32")throw new fr(`truncatedNormal does not support dType ${r}.`);return(0,Pr.truncatedNormal)(e,this.mean,this.stddev,r,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}};u_.className="TruncatedNormal";Pr.serialization.registerClass(u_);var f_=class extends as{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,r){return(0,Pr.tidy)(()=>{if(e.length!==2||e[0]!==e[1])throw new $e("Identity matrix initializer can only be used for 2D square matrices.");return(0,Pr.mul)(this.gain,(0,Pr.eye)(e[0]))})}getConfig(){return{gain:this.gain}}};f_.className="Identity";Pr.serialization.registerClass(f_);function l_t(t,e="channelsLast"){let r,n;if(gi(e),t.length===2)r=t[0],n=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){let a=bf(t,2);r=t[1]*a,n=t[0]*a}else if(e==="channelsLast"){let a=bf(t,0,t.length-2);r=t[t.length-2]*a,n=t[t.length-1]*a}}else{let a=bf(t);r=Math.sqrt(a),n=Math.sqrt(a)}return[r,n]}var Lo=class extends as{constructor(e){if(super(),e.scale<0)throw new $e(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,u_t(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,f_t(this.distribution),this.seed=e.seed}apply(e,r){let n=l_t(e),a=n[0],o=n[1],s=this.scale;if(this.mode==="fanIn"?s/=Math.max(1,a):this.mode==="fanOut"?s/=Math.max(1,o):s/=Math.max(1,(a+o)/2),this.distribution==="normal"){let u=Math.sqrt(s);if(r=r||"float32",r!=="float32"&&r!=="int32")throw new fr(`${this.getClassName()} does not support dType ${r}.`);return(0,Pr.truncatedNormal)(e,0,u,r,this.seed)}else{let u=Math.sqrt(3*s);return(0,Pr.randomUniform)(e,-u,u,r)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}};Lo.className="VarianceScaling";Pr.serialization.registerClass(Lo);var qy=class extends Lo{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Lo.className}};qy.className="GlorotUniform";Pr.serialization.registerClass(qy);var zy=class extends Lo{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Lo.className}};zy.className="GlorotNormal";Pr.serialization.registerClass(zy);var Uy=class extends Lo{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Lo.className}};Uy.className="HeNormal";Pr.serialization.registerClass(Uy);var jy=class extends Lo{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Lo.className}};jy.className="HeUniform";Pr.serialization.registerClass(jy);var $y=class extends Lo{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Lo.className}};$y.className="LeCunNormal";Pr.serialization.registerClass($y);var Vy=class extends Lo{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Lo.className}};Vy.className="LeCunNormal";Pr.serialization.registerClass(Vy);var l_=class extends as{constructor(e){if(super(),this.DEFAULT_GAIN=1,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed,this.seed!=null)throw new fr("Random seed is not implemented for Orthogonal Initializer yet.")}apply(e,r){return(0,Pr.tidy)(()=>{if(e.length<2)throw new fr("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn(`Orthogonal initializer is being called on a matrix with more than 2000 (${e[0]*e[1]}) elements: Slowness may result.`);let n=e[0]>e[1]?[e[1],e[0]]:e,a=Py(n,0,1,"float32"),o=Pr.linalg.gramSchmidt(a);return e[0]>e[1]&&(o=(0,Pr.transpose)(o)),(0,Pr.mul)(this.gain,o)})}getConfig(){return{gain:this.gain,seed:this.seed}}};l_.className="Orthogonal";Pr.serialization.registerClass(l_);var Tme={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function Dme(t,e={}){return Ac(t,Pr.serialization.SerializationMap.getMap().classNameMap,e,"initializer")}function Yn(t){return Fy(t)}function jn(t){if(typeof t=="string"){let e=t in Tme?Tme[t]:t;if(e==="GlorotNormal")return new zy;if(e==="GlorotUniform")return new qy;if(e==="HeNormal")return new Uy;if(e==="HeUniform")return new jy;if(e==="LeCunNormal")return new $y;if(e==="LeCunUniform")return new Vy;{let r={};return r.className=e,r.config={},Dme(r)}}else return t instanceof as?t:Dme(t)}w();_();function zT(t){return Array.isArray(t)&&Array.isArray(t[0])}function Wy(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function Nr(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new $e(`Expected Tensor length to be 1; got ${t.length}`);e=t[0]}else e=t;return e}function Wr(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new $e(`Expected exactly 1 Shape; got ${t.length}`)}else return t}w();_();function Gy(t){let e=0;for(let r of t)r.shape.length===0?e+=1:e+=r.shape.reduce((n,a)=>n*a);return e}w();_();var xf=Bt(_r());var Ime="Variable",c_=class{constructor(e,r="float32",n=Ime,a=!0,o=null){this.dtype=r==null?"float32":r,this.shape=e.shape,this.id=OT(),n=n==null?Ime:n,this.originalName=RT(n),this.name=FT(this.originalName),this.trainable_=a,this.constraint=o,this.val=xf.variable(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),h_t(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}};function h_t(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function h_(t){return t.map(e=>e.read())}function Hy(t){t.forEach(e=>{e[0].write(e[1])})}var Gn=class{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}},Po=class{constructor(e,r,n,a,o,s,u){this.dtype=e,this.shape=r,this.sourceLayer=n,this.inputs=a,this.callArgs=o,this.outputTensorIndex=u,this.id=OT(),s!=null&&(this.originalName=RT(s),this.name=FT(this.originalName)),this.rank=r.length}},p_t=0,Oh=class{constructor(e,r){this.callArgs=r,this.id=p_t++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(let n of e.inboundLayers)n!=null&&n.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){let e=[];for(let r of this.inboundLayers)r!=null?e.push(r.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},d_t=0,Dr=class extends Ky.serialization.Serializable{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=d_t++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let r=e.name;if(!r){let n=this.getClassName();r=gf(n)+"_"+md(n)}if(this.name=r,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let n;if(e.batchInputShape!=null)n=e.batchInputShape;else if(e.inputShape!=null){let o=null;e.batchSize!=null&&(o=e.batchSize),n=[o].concat(e.inputShape)}this.batchInputShape=n;let a=e.dtype;a==null&&(a=e.inputDType),a==null&&(a="float32"),this.dtype=a}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,r){return e.name+"_ib-"+r.toString()}getNodeAtIndex(e,r){if(this.inboundNodes.length===0)throw new vo(`The layer has never been called and thus has no defined ${r}.`);if(this.inboundNodes.length<=e)throw new $e(`Asked to get ${r} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return Ha(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return Ha(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new bs(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new bs(`Layer ${this.name} is not connected, no input to return.`);return Ha(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new bs(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new bs(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return Ha(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(r=>r.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){if(e=Wn(e),this.inputSpec==null||this.inputSpec.length===0)return;let r=Wn(this.inputSpec);if(e.length!==r.length)throw new $e(`Layer ${this.name} expects ${r.length} inputs, but it received ${e.length} input tensors. Input received: ${e}`);for(let n=0;n<e.length;n++){let a=e[n],o=r[n];if(o==null)continue;let s=a.rank;if(o.ndim!=null&&s!==o.ndim)throw new $e(`Input ${n} is incompatible with layer ${this.name}: expected ndim=${o.ndim}, found ndim=${s}`);if(o.maxNDim!=null&&s>o.maxNDim)throw new $e(`Input ${n} is incompatible with layer ${this.name}: expected max_ndim=${o.maxNDim}, found ndim=${s}`);if(o.minNDim!=null&&s<o.minNDim)throw new $e(`Input ${n} is incompatible with layer ${this.name}: expected min_ndim=${o.minNDim}, found ndim=${s}.`);if(o.dtype!=null&&a.dtype!==o.dtype)throw new $e(`Input ${n} is incompatible with layer ${this.name} : expected dtype=${o.dtype}, found dtype=${a.dtype}.`);if(o.axes){let u=a.shape;for(let f in o.axes){let l=Number(f),c=o.axes[f],h=l>=0?u[l]:u[u.length+l];if(c!=null&&[c,null].indexOf(h)===-1)throw new $e(`Input ${n} is incompatible with layer ${this.name}: expected axis ${l} of input shape to have value ${c} but got shape ${u}.`)}}if(o.shape!=null)for(let u=0;u<o.shape.length;++u){let f=o.shape[u],l=a.shape[u];if(f!=null&&l!=null&&f!==l)throw new $e(`Input ${n} is incompatible with layer ${this.name}: expected shape=${o.shape}, found shape=${a.shape}.`)}}}call(e,r){return e}invokeCallHook(e,r){this._callHook!=null&&this._callHook(e,r)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,r){r=r||{},this.assertNotDisposed();let n=Wn(e),a=!0;for(let s of n)if(!(s instanceof Po)){a=!1;break}let o=!0;for(let s of n)if(s instanceof Po){o=!1;break}if(a===o)throw new $e("Arguments to apply() must be all SymbolicTensors or all Tensors");return _l(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);let s=[];for(let u of Wn(e))s.push(u.shape);this.build(Ha(s)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&o&&(this._refCount=1)}if(this.assertInputCompatibility(e),o){let s=this.call(e,r),u=Wn(s),f=[];for(let l of u)n.indexOf(l)!==-1&&(l=l.clone()),f.push(l);if(s=Ha(f),this.activityRegularizer!=null)throw new fr("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return s}else{let s=m_t(e),u=this.computeOutputShape(s),f,l=v_t(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?s[0]:s),u!=null&&u.length>0&&Array.isArray(u[0])?f=u.map((c,h)=>new Po(l,c,this,Wn(e),r,this.name,h)):f=new Po(l,u,this,Wn(e),r,this.name),this.addInboundNode(e,f,null,null,s,u,r),this._refCount++,this.activityRegularizer!=null)throw new fr("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return f}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let r=!1;this.batchInputShape.forEach((n,a)=>{n!=null&&e[a]!=null&&e[a]!==n&&(r=!0)}),r&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new bs(`The layer ${this.name} has never been called and thus has no defined output shape.`);let e=[];for(let r of this.inboundNodes){let n=JSON.stringify(r.outputShapes);e.indexOf(n)===-1&&e.push(n)}if(e.length===1){let r=this.inboundNodes[0].outputShapes;return Array.isArray(r)&&Array.isArray(r[0])&&r.length===1?r[0]:r}else throw new bs(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new vo(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return Gy(this.weights)}build(e){this.built=!0}getWeights(e=!1){return h_(e?this.trainableWeights:this.weights)}setWeights(e){(0,Ky.tidy)(()=>{let r=this.weights;if(r.length!==e.length)throw new $e(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${r.length} weights. Provided weights: ${e}...`);if(r.length===0)return;let n=[],a=h_(r);for(let o=0;o<a.length;++o){let s=a[o],u=r[o],f=e[o];if(!Ky.util.arraysEqual(s.shape,f.shape))throw new $e(`Layer weight shape ${s.shape} not compatible with provided weight shape ${f.shape}`);n.push([u,f])}Hy(n)})}addWeight(e,r,n,a,o,s,u,f){if(this._addedWeightNames.indexOf(e)!==-1)throw new $e(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),n==null&&(n="float32"),this.fastWeightInitDuringBuild&&(a=f!=null?f():jn("zeros"));let l=a.apply(r,n),c=new c_(l,n,e,s,u);return l.dispose(),o!=null&&this.addLoss(()=>o.apply(c.read())),s==null&&(s=!0),s?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=Wn(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,r){if(!this.supportsMasking){if(r!=null)if(Array.isArray(r))r.forEach(n=>{if(n!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return r}addInboundNode(e,r,n,a,o,s,u=null){let f=Wn(e);r=Wn(r),n=Wn(n),a=Wn(a),o=Wy(o),s=Wy(s);let l=[],c=[],h=[];for(let m of f)l.push(m.sourceLayer),c.push(m.nodeIndex),h.push(m.tensorIndex);new Oh({outboundLayer:this,inboundLayers:l,nodeIndices:c,tensorIndices:h,inputTensors:f,outputTensors:r,inputMasks:n,outputMasks:a,inputShapes:o,outputShapes:s},u);for(let m=0;m<r.length;m++)r[m].sourceLayer=this,r[m].nodeIndex=this.inboundNodes.length-1,r[m].tensorIndex=m}getConfig(){let e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}};function m_t(t){t=Wn(t);let e=[];for(let r of t)e.push(r.shape);return Ha(e)}function v_t(t){return"float32"}function H9(t,e,r){if((e==null||r!=null&&r>0)&&(e=t.sourceLayer,r=t.nodeIndex),e.inboundNodes.length===0)return[t];{let n=e.inboundNodes[r];if(n.inboundLayers.length===0)return n.inputTensors;{let a=[];for(let o=0;o<n.inboundLayers.length;o++){let s=n.inputTensors[o],u=n.inboundLayers[o],f=n.nodeIndices[o],l=H9(s,u,f);for(let c of l)a.indexOf(c)===-1&&a.push(c)}return a}}}var El=class extends Dr{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:md("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new $e("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let r=e.batchInputShape;if(r==null){if(e.inputShape==null)throw new $e("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");r=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new $e("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");let n=e.dtype||"float32";this.batchInputShape=r,this.dtype=n,this.inputSpec=[{shape:r}];let a=new Po(this.dtype,this.batchInputShape,this,[],{},this.name);a.nodeIndex=0,a.tensorIndex=0,new Oh({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[r],outputShapes:[r]})}apply(e,r){throw new $e(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}};El.className="InputLayer";Cme.serialization.registerClass(El);function UT(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new $e("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let r=t.dtype;return r==null&&(r="float32"),new El({batchInputShape:e,name:t.name,dtype:r,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}function g_t(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return(0,Rh.cast)(e,t.dtype)}catch(r){throw new $e(`The dtype of the feed (${e.dtype}) can not be cast to the dtype of the key '${t.name}' (${t.dtype}).`)}}var _f=class{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof _f)for(let r in e.id2Value)this.id2Value[r]=e.id2Value[r],r in e.id2Mask&&(this.id2Mask[r]=e.id2Mask[r]);else{if(e==null)return;for(let r of e)this.add(r.key,r.value)}}add(e,r,n){if(this.id2Value[e.id]==null)this.id2Value[e.id]=g_t(e,r),this.name2Id[e.name]=e.id,n!=null&&(this.id2Mask[e.id]=n);else throw new $e(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof Po){if(this.id2Value[e.id]==null)throw new $e(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}else{let r=this.name2Id[e];if(r==null)throw new $e(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[r]}}getMask(e){if(e instanceof Po){if(this.id2Value[e.id]==null)throw new $e(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}else{let r=this.name2Id[e];if(r==null)throw new $e(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[r]}}disposeMasks(){this.id2Mask!=null&&(0,Rh.dispose)(this.id2Mask)}},jT=new Q2,$T=new Q2;function Rme(t){jT!=null&&jT.setMaxEntries(t),$T!=null&&$T.setMaxEntries(t)}function z0(t,e,r,n){let a=r==null?!1:r.training,o=Array.isArray(t),s=o?t:[t],u=s.map(b=>b.name),f=[],l=e.names();for(let b of u)l.indexOf(b)!==-1?f.push(e.getValue(b)):f.push(null);n!=null&&(n.maxNumTensors=-1/0,n.minNumTensors=1/0);let c=u.join(",")+"|"+e.names().sort().join(","),h=jT.get(c),m;if(h==null){let b=y_t(s,e);h=b.sorted,m=b.recipientCounts,jT.put(c,h),$T.put(c,m)}m={},a||Object.assign(m,$T.get(c));let g=new _f(e);for(let b=0;b<h.length;++b){if(n!=null){let W=(0,Rh.memory)().numTensors;W>n.maxNumTensors&&(n.maxNumTensors=W),W<n.minNumTensors&&(n.minNumTensors=W)}let A=h[b],I=A.sourceLayer;if(I instanceof El)continue;let C=[],R=[],O=[],F=!1;for(let W of A.inputs){let T=g.getValue(W),p=g.getMask(W);C.push(T),R.push(p),p!=null&&(F=!0),a||(m[W.name]--,m[W.name]===0&&!e.hasKey(W)&&u.indexOf(W.name)===-1&&!T.isDisposed&&W.sourceLayer.stateful!==!0&&O.push(T))}F&&(r=r||{},r.mask=R[0]);let z=Wn(I.apply(C,r)),B=null;I.supportsMasking&&(B=I.computeMask(C,R));let $=w_t(A),j=Array.isArray($)?$:[$];for(let W=0;W<j.length;++W){g.hasKey(j[W])||g.add(j[W],z[W],Array.isArray(B)?B[0]:B);let T=u.indexOf(j[W].name);T!==-1&&(f[T]=z[W])}a||(0,Rh.dispose)(O)}return g.disposeMasks(),o?f:f[0]}function y_t(t,e){Rh.util.assert(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let r=[],n={};if(t.length===1){let a=Ome(t[0],e);r=a.sorted,n=a.recipientMap}else{let a=new Set;for(let o of t){let{sorted:s,recipientMap:u}=Ome(o,e);for(let f of s)a.has(f.name)||(r.push(f),a.add(f.name));for(let f in u)n[f]==null&&(n[f]=new Set),u[f].forEach(l=>n[f].add(l))}}return{sorted:r,recipientCounts:b_t(n)}}function b_t(t){let e={};for(let r in t)e[r]=t[r].size;return e}function Ome(t,e){let r=new Set,n=[],a={};for(let u of e.names())r.add(u);let o=[],s=[];for(o.push(t);o.length>0;){let u=o[o.length-1];if(r.has(u.name)){o.pop();continue}let f=s[s.length-1]===o.length-1;if(u.inputs.length===0||f)o.pop(),n.push(u),r.add(u.name),f&&s.pop();else{s.push(o.length-1);for(let l of u.inputs)a[l.name]==null&&(a[l.name]=new Set),a[l.name].add(u.name),!r.has(l.name)&&o.push(l)}}return{sorted:n,recipientMap:a}}function w_t(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let r=null;for(let n=0;n<t.sourceLayer.inboundNodes.length;++n)for(let a of t.sourceLayer.inboundNodes[n].outputTensors)if(a.id===t.id){r=n;break}e=t.sourceLayer.getOutputAt(r)}return e}var x_t=(0,Fme.env)();x_t.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,Rme);w();_();w();_();w();_();var Bme="Abs",Lme="Acos",Pme="Acosh",Zy="Add",qme="AddN";var zme="ArgMax",Ume="ArgMin",jme="Asin",$me="Asinh",Vme="Atan",Wme="Atanh",Gme="Atan2",Hme="AvgPool",Kme="AvgPoolGrad",Zme="AvgPool3D",Jme="AvgPool3DGrad",VT="BatchMatMul",WT="BatchToSpaceND";var Yme="BroadcastTo";var Jy="Cast",Xme="Ceil",Qme="ClipByValue",e0e="Complex",t0e="ComplexAbs",GT="Concat",HT="Conv2D",r0e="Conv2DBackpropFilter",KT="Conv2DBackpropInput",n0e="Conv3D",i0e="Conv3DBackpropFilterV2",a0e="Conv3DBackpropInputV2",ZT="Cos",JT="Cosh",o0e="Cumprod",YT="Cumsum";var s0e="DepthwiseConv2dNative",u0e="DepthwiseConv2dNativeBackpropFilter",f0e="DepthwiseConv2dNativeBackpropInput";var l0e="Dilation2D",c0e="Dilation2DBackpropInput",h0e="Dilation2DBackpropFilter",XT="RealDiv";var QT="Elu",p0e="EluGrad",d0e="Erf",m0e="Equal",eD="Exp",tD="ExpandDims",v0e="Expm1";var rD="Floor",nD="FloorDiv",g0e="FusedBatchNorm",iD="GatherV2";var y0e="Greater",aD="GreaterEqual",Yy="Identity";var b0e="Imag",w0e="IsFinite",x0e="IsInf",_0e="IsNan",oD="LeakyRelu",S0e="Less",E0e="LessEqual";var sD="Log",M0e="Log1p",A0e="LogicalAnd",N0e="LogicalNot";var T0e="LogSoftmax";var D0e="LRN",k0e="LRNGrad",I0e="Max",uD="Maximum",C0e="MaxPool",O0e="MaxPoolGrad",R0e="MaxPool3D",F0e="MaxPool3DGrad";var B0e="Mean",L0e="Min",P0e="Minimum",q0e="MirrorPad",z0e="Mod";var fD="Multiply",lD="Neg";var U0e="OnesLike",j0e="OneHot",cD="Pack",hD="PadV2";var pD="Pow",dD="Prelu",$0e="Prod";var V0e="Real",W0e="Reciprocal",mD="Relu",vD="Reshape",G0e="ResizeNearestNeighbor",H0e="ResizeNearestNeighborGrad",K0e="ResizeBilinear",Z0e="ResizeBilinearGrad",gD="Relu6",yD="Reverse",J0e="Round",bD="Rsqrt";var wD="Select",Y0e="Selu",xD="Slice",_D="Sin",SD="Sinh",X0e="Sign",ED="Sigmoid",Q0e="Softplus",MD="Sqrt",AD="Sum",ND="SpaceToBatchND",TD="SplitV",eve="Softmax";var tve="SquaredDifference",rve="Square";var DD="Sub",nve="Tan",ive="Tanh",Xy="Tile";var Qy="Transpose";var kD="Unpack",ID="UnsortedSegmentSum";var CD="ZerosLike",OD="Step";w();_();w();_();w();_();var RD=class{refCount(e){return mu("refCount")}incRef(e){return mu("incRef")}timerAvailable(){return!0}time(e){return mu("time")}read(e){return mu("read")}readSync(e){return mu("readSync")}readToGPU(e,r){return mu("readToGPU")}numDataIds(){return mu("numDataIds")}disposeData(e,r){return mu("disposeData")}write(e,r,n){return mu("write")}move(e,r,n,a,o){return mu("move")}memory(){return mu("memory")}floatPrecision(){return mu("floatPrecision")}epsilon(){return this.floatPrecision()===32?1e-7:1e-4}dispose(){return mu("dispose")}};function mu(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}w();_();w();_();function p_(t,e,r){return Math.max(t,Math.min(e,r))}function At(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function ave(t,e,r=""){At(d_(t,e),()=>r+` Shapes ${t} and ${e} must match`)}function U0(t,e=[],r=!1){if(e==null&&(e=[]),Array.isArray(t)||vu(t)&&!r)for(let n=0;n<t.length;++n)U0(t[n],e,r);else e.push(t);return e}function zi(t){if(t.length===0)return 1;let e=t[0];for(let r=1;r<t.length;r++)e*=t[r];return e}function d_(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function e1(t){return t%1===0}function t1(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function Us(t,e){let r=e.length;return t=t==null?e.map((n,a)=>a):[].concat(t),At(t.every(n=>n>=-r&&n<r),()=>`All values in axis param must be in range [-${r}, ${r}) but got axis ${t}`),At(t.every(n=>e1(n)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(n=>n<0?r+n:n)}function ove(t,e){for(let r=0;r<t.length;r++){let n=t[r];if(isNaN(n)||!isFinite(n))throw Error(`A tensor of type ${e} being uploaded contains ${n}.`)}}function sve(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function vu(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}function K9(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function uve(t){if(t==null)return 0;let e=0;return t.forEach(r=>e+=r.length),e}function m_(t){return typeof t=="string"||t instanceof String}function __t(t){return typeof t=="boolean"}function S_t(t){return typeof t=="number"}function v_(t){return Array.isArray(t)?v_(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":S_t(t)?"float32":m_(t)?"string":__t(t)?"bool":"float32"}function Z9(t){return!!(t&&t.constructor&&t.call&&t.apply)}function g_(t,e){for(let r=e;r<t;++r)if(t%r===0)return r;return t}function gd(t){let e=t.length;if(e<2)return[];let r=new Array(e-1);r[e-2]=t[e-1];for(let n=e-3;n>=0;--n)r[n]=r[n+1]*t[n+1];return r}function fve(t,e,r,n=!1){let a=new Array;if(e.length===1){let o=e[0]*(n?2:1);for(let s=0;s<o;s++)a[s]=r[t+s]}else{let o=e[0],s=e.slice(1),u=s.reduce((f,l)=>f*l)*(n?2:1);for(let f=0;f<o;f++)a[f]=fve(t+f*u,s,r,n)}return a}function J9(t,e,r=!1){if(t.length===0)return e[0];let n=t.reduce((a,o)=>a*o)*(r?2:1);if(n===0)return[];if(n!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${r?" for a complex tensor":""}.`);return fve(0,t,e,r)}function FD(t,e){let r=y_(t,e);for(let n=0;n<r.length;n++)r[n]=1;return r}function y_(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function lve(t){t.forEach(e=>{At(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function BD(t){return t&&t.then&&typeof t.then=="function"}var cve="tfjsflags",LD=class{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=M_t,this.populateURLFlags()}setPlatform(e,r){this.platform!=null&&(gn().getBool("IS_TEST")||gn().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=r}registerFlag(e,r,n){if(this.flagRegistry[e]={evaluationFn:r,setHook:n},this.urlFlags[e]!=null){let a=this.urlFlags[e];gn().getBool("IS_TEST")||gn().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${a}.`),this.set(e,a)}}getAsync(e){return it(this,null,function*(){return e in this.flags?this.flags[e]:(this.flags[e]=yield this.evaluateFlag(e),this.flags[e])})}get(e){if(e in this.flags)return this.flags[e];let r=this.evaluateFlag(e);if(BD(r))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=r,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,r){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=r,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(r)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global=="undefined"||typeof this.global.location=="undefined"||typeof this.global.location.search=="undefined")return;let e=this.getQueryParams(this.global.location.search);cve in e&&e[cve].split(",").forEach(n=>{let[a,o]=n.split(":");this.urlFlags[a]=N_t(a,o)})}};function M_t(t){let e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(r,...n)=>(A_t(e,n[0],n[1]),n.join("="))),e}function A_t(t,e,r){t[decodeURIComponent(e)]=decodeURIComponent(r||"")}function N_t(t,e){if(e=e.toLowerCase(),e==="true"||e==="false")return e==="true";if(`${+e}`===e)return+e;throw new Error(`Could not parse value flag value ${e} for flag ${t}.`)}function gn(){return hve}var hve=null;function pve(t){hve=t}w();_();var Y9;function X9(){if(Y9==null){let t;if(typeof window!="undefined")t=window;else if(typeof globalThis!="undefined")t=globalThis;else if(typeof $process!="undefined")t=$process;else if(typeof self!="undefined")t=self;else throw new Error("Could not find a global object");Y9=t}return Y9}function T_t(){let t=X9();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function b_(t,e){let r=T_t();if(r.has(t))return r.get(t);{let n=e();return r.set(t,n),r.get(t)}}w();_();w();_();function Fh(...t){gn().getBool("IS_TEST")||gn().getBool("PROD")||console.warn(...t)}function D_t(...t){gn().getBool("IS_TEST")||gn().getBool("PROD")||console.log(...t)}var mve=b_("kernelRegistry",()=>new Map),Q9=b_("gradRegistry",()=>new Map);function e7(t,e){let r=k_t(t,e);return mve.get(r)}function t7(t){return Q9.get(t)}function r7(t){let e=mve.entries(),r=[];for(;;){let{done:n,value:a}=e.next();if(n)break;let[o,s]=a,[u]=o.split("_");u===t&&r.push(s)}return r}function vve(t){let{kernelName:e}=t;Q9.has(e)&&gn().getBool("DEBUG")&&Fh(`Overriding the gradient for '${e}'`),Q9.set(e,t)}function k_t(t,e){return`${e}_${t}`}w();_();w();_();function I_t(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function PD(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=U0(t)),gn().getBool("DEBUG")&&ove(t,e),I_t(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){let r=new Uint8Array(t.length);for(let n=0;n<r.length;++n)Math.round(t[n])!==0&&(r[n]=1);return r}else throw new Error(`Unknown data type ${e}`)}function r1(){return gn().platform.now()}function qD(t,e="utf-8"){return e=e||"utf-8",gn().platform.encode(t,e)}function w_(t,e="utf-8"){return e=e||"utf-8",gn().platform.decode(t,e)}var zD=class{constructor(e,r){this.backendTimer=e,this.logger=r,r==null&&(this.logger=new n7)}profileKernel(e,r,n){let a,o=()=>{a=n()},s,u=r1();if(this.backendTimer.timerAvailable())s=this.backendTimer.time(o);else{o();for(let l of a)l.dataSync();s=Promise.resolve({kernelMs:r1()-u})}if(gn().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let l=0;l<a.length;l++){let c=a[l];c.data().then(h=>{C_t(h,c.dtype,e)})}return{kernelName:e,outputs:a,inputs:r,timeMs:s.then(l=>l.kernelMs),extraInfo:s.then(l=>l.getExtraProfileInfo!=null?l.getExtraProfileInfo():"")}}logKernelProfile(e){let{kernelName:r,outputs:n,timeMs:a,inputs:o,extraInfo:s}=e;n.forEach(u=>{Promise.all([u.data(),a,s]).then(f=>{this.logger.logKernelProfile(r,u,f[0],f[1],o,f[2])})})}};function C_t(t,e,r){if(e!=="float32")return!1;for(let n=0;n<t.length;n++){let a=t[n];if(isNaN(a)||!isFinite(a))return console.warn(`Found ${a} in the result of '${r}'`),!0}return!1}var n7=class{logKernelProfile(e,r,n,a,o,s){let u=typeof a=="number"?t1(`${a}ms`,9):a.error,f=t1(e,25),l=r.rank,c=r.size,h=t1(r.shape.toString(),14),m="";for(let g in o){let b=o[g];if(b!=null){let A=b.shape||r.shape,I=A.length;m+=`${g}: ${I}D ${I>0?A:""} `}}console.log(`%c${f}	%c${u}	%c${l}D ${h}	%c${c}	%c${m}	%c${s}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}};w();_();function gve(t,e,r){let n={},a={};for(let f=0;f<e.length;f++)n[e[f].id]=!0;for(let f=0;f<t.length;f++){let l=t[f],c=l.inputs;for(let h in c){let m=c[h],g=!1;for(let b=0;b<e.length;b++)if(n[m.id]){l.outputs.forEach(A=>n[A.id]=!0),g=!0,a[l.id]=!0;break}if(g)break}}let o={};o[r.id]=!0;let s={};for(let f=t.length-1;f>=0;f--){let l=t[f],c=l.inputs;for(let h=0;h<l.outputs.length;h++)if(o[l.outputs[h].id]){for(let m in c)o[c[m].id]=!0,s[l.id]=!0;break}}let u=[];for(let f=0;f<t.length;f++){let l=t[f];if(a[l.id]&&s[l.id]){let c={};for(let m in l.inputs){let g=l.inputs[m];n[g.id]&&(c[m]=g)}let h=Object.assign({},l);h.inputs=c,h.outputs=l.outputs,u.push(h)}}return u}function yve(t,e,r,n){for(let a=e.length-1;a>=0;a--){let o=e[a],s=[];if(o.outputs.forEach(f=>{let l=t[f.id];l!=null?s.push(l):s.push(null)}),o.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);let u=o.gradient(s);for(let f in o.inputs){if(!(f in u))throw new Error(`Cannot backprop through input ${f}. Available gradients found: ${Object.keys(u)}.`);let l=r(()=>u[f]());if(l.dtype!=="float32")throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${f} must have 'float32' dtype, but has '${l.dtype}'`);let c=o.inputs[f];if(!d_(l.shape,c.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${f}' has shape '${l.shape}', which does not match the shape of the input '${c.shape}'`);if(t[c.id]==null)t[c.id]=l;else{let h=t[c.id];t[c.id]=n(h,l),h.dispose()}}}}w();_();w();_();var bve=20,x_=3,i7=7;function wve(t,e,r,n){let a=gd(e),o=O_t(t,e,r,a),s=e.length,u=UD(t,e,r,a,o),f=["Tensor"];return n&&(f.push(`  dtype: ${r}`),f.push(`  rank: ${s}`),f.push(`  shape: [${e}]`),f.push("  values:")),f.push(u.map(l=>"    "+l).join(`
`)),f.join(`
`)}function O_t(t,e,r,n){let a=zi(e),o=n[n.length-1],s=new Array(o).fill(0),u=e.length,f=r==="complex64"?S_(t):t;if(u>1)for(let l=0;l<a/o;l++){let c=l*o;for(let h=0;h<o;h++)s[h]=Math.max(s[h],__(f[c+h],0,r).length)}return s}function __(t,e,r){let n;return Array.isArray(t)?n=`${parseFloat(t[0].toFixed(i7))} + ${parseFloat(t[1].toFixed(i7))}j`:m_(t)?n=`'${t}'`:r==="bool"?n=xve(t):n=parseFloat(t.toFixed(i7)).toString(),t1(n,e)}function xve(t){return t===0?"false":"true"}function UD(t,e,r,n,a,o=!0){let s=r==="complex64"?2:1,u=e[0],f=e.length;if(f===0){if(r==="complex64"){let A=S_(t);return[__(A[0],0,r)]}return r==="bool"?[xve(t[0])]:[t[0].toString()]}if(f===1){if(u>bve){let I=x_*s,C=Array.from(t.slice(0,I)),R=Array.from(t.slice((u-x_)*s,u*s));return r==="complex64"&&(C=S_(C),R=S_(R)),["["+C.map((O,F)=>__(O,a[F],r)).join(", ")+", ..., "+R.map((O,F)=>__(O,a[u-x_+F],r)).join(", ")+"]"]}let A=r==="complex64"?S_(t):Array.from(t);return["["+A.map((I,C)=>__(I,a[C],r)).join(", ")+"]"]}let l=e.slice(1),c=n.slice(1),h=n[0]*s,m=[];if(u>bve){for(let A=0;A<x_;A++){let I=A*h,C=I+h;m.push(...UD(t.slice(I,C),l,r,c,a,!1))}m.push("...");for(let A=u-x_;A<u;A++){let I=A*h,C=I+h;m.push(...UD(t.slice(I,C),l,r,c,a,A===u-1))}}else for(let A=0;A<u;A++){let I=A*h,C=I+h;m.push(...UD(t.slice(I,C),l,r,c,a,A===u-1))}let g=f===2?",":"";m[0]="["+m[0]+g;for(let A=1;A<m.length-1;A++)m[A]=" "+m[A]+g;let b=`,
`;for(let A=2;A<f;A++)b+=`
`;return m[m.length-1]=" "+m[m.length-1]+"]"+(o?"":b),m}function S_(t){let e=[];for(let r=0;r<t.length;r+=2)e.push([t[r],t[r+1]]);return e}var Tc=null,E_=null,R_t=null;function _ve(t){Tc=t}function Sve(t){R_t=t}var go=class{constructor(e,r,n,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=r||"float32",this.size=zi(e),this.strides=gd(e),this.dataId=n,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}buffer(){return it(this,null,function*(){let e=yield this.data();return E_.buffer(this.shape,this.dtype,e)})}bufferSync(){return E_.buffer(this.shape,this.dtype,this.dataSync())}array(){return it(this,null,function*(){let e=yield this.data();return J9(this.shape,e,this.dtype==="complex64")})}arraySync(){return J9(this.shape,this.dataSync(),this.dtype==="complex64")}data(){return it(this,null,function*(){this.throwIfDisposed();let e=Tc().read(this.dataId);if(this.dtype==="string"){let r=yield e;try{return r.map(n=>w_(n))}catch(n){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e})}dataToGPU(e){return this.throwIfDisposed(),Tc().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();let e=Tc().readSync(this.dataId);if(this.dtype==="string")try{return e.map(r=>w_(r))}catch(r){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}bytes(){return it(this,null,function*(){this.throwIfDisposed();let e=yield Tc().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)})}dispose(){this.isDisposed||(Tc().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return E_.print(this,e)}clone(){return this.throwIfDisposed(),E_.clone(this)}toString(e=!1){let r=this.dataSync();return wve(r,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),E_.cast(this,e)}variable(e=!0,r,n){return this.throwIfDisposed(),Tc().makeVariable(this,e,r,n)}};Object.defineProperty(go,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function F_t(){return b_("Tensor",()=>go)}F_t();var j0=class extends go{constructor(e,r,n,a){super(e.shape,e.dtype,e.dataId,a),this.trainable=r,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!d_(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Tc().disposeTensor(this),this.dataId=e.dataId,Tc().incRef(this,null)}dispose(){Tc().disposeVariable(this),this.isDisposedInternal=!0}};Object.defineProperty(j0,Symbol.hasInstance,{value:t=>t instanceof go&&t.assign!=null&&t.assign instanceof Function});w();_();w();_();var Eve;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(Eve||(Eve={}));var a7;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(a7||(a7={}));var o7;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(o7||(o7={}));var s7;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(s7||(s7={}));var u7;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(u7||(u7={}));var B_t={float32:s7,int32:a7,bool:o7,complex64:u7};function jD(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return B_t[t][e]}function Ui(t,e){if(t.dtype===e.dtype)return[t,e];let r=jD(t.dtype,e.dtype);return[t.cast(r),e.cast(r)]}function Mve(t){let e=[];return Ave(t,e,new Set),e}function Ave(t,e,r){if(t==null)return;if(t instanceof go){e.push(t);return}if(!L_t(t))return;let n=t;for(let a in n){let o=n[a];r.has(o)||(r.add(o),Ave(o,e,r))}}function L_t(t){return Array.isArray(t)||typeof t=="object"}function f7(t){return t.kernelName!=null}var $D=class{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(let e in this.registeredVariables)this.registeredVariables[e].dispose()}},yd=class{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new $D}ready(){return it(this,null,function*(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;let e=this.getSortedBackends();for(let r=0;r<e.length;r++){let n=e[r];if(yield this.initializeBackend(n).success){yield this.setBackend(n);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")})}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){let{name:e,asyncInit:r}=this.initializeBackendsAndReturnBest();if(r)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){let{asyncInit:r}=this.initializeBackend(e);if(r)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,r,n=1){return e in this.registryFactory?(Fh(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:r,priority:n},!0)}setBackend(e){return it(this,null,function*(){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;let{success:r,asyncInit:n}=this.initializeBackend(e);if(!(n?yield r:r))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new zD(this.backendInstance),!0})}setupRegisteredKernels(){r7(this.backendName).forEach(r=>{r.setupFunc!=null&&r.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){r7(e).forEach(n=>{n.disposeFunc!=null&&n.disposeFunc(this.registry[e])})}initializeBackend(e){let r=this.registryFactory[e];if(r==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{let n=r.factory();if(n&&!(n instanceof RD)&&typeof n.then=="function"){let a=++this.pendingBackendInitId,o=n.then(s=>a<this.pendingBackendInitId?!1:(this.registry[e]=s,this.pendingBackendInit=null,!0)).catch(s=>(a<this.pendingBackendInitId||(this.pendingBackendInit=null,Fh(`Initialization of backend ${e} failed`),Fh(s.stack||s.message)),!1));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}else return this.registry[e]=n,{success:!0,asyncInit:!1}}catch(n){return Fh(`Initialization of backend ${e} failed`),Fh(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,r)=>this.registryFactory[r].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){let e=this.getSortedBackends();for(let r=0;r<e.length;r++){let n=e[r],{success:a,asyncInit:o}=this.initializeBackend(n);if(o||a)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,r){let n=this.state.tensorInfo.get(r),a=n.backend,o=this.readSync(r),s=a.refCount(r);a.disposeData(r,!0),n.backend=e,e.move(r,o,n.shape,n.dtype,s),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,r){let n=null;if(r==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");r=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof r!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");n=e}let a;return this.scopedRun(()=>this.startScope(n),()=>this.endScope(a),()=>(a=r(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a))}scopedRun(e,r,n){e();try{let a=n();return r(),a}catch(a){throw r(),a}}nextTensorId(){return yd.nextTensorId++}nextVariableId(){return yd.nextVariableId++}clone(e){let r=st.runKernel(Yy,{x:e}),n={x:e},a=s=>({x:()=>{let u="float32",f={x:s},l={dtype:u};return st.runKernel(Jy,f,l)}}),o=[];return this.addTapeNode(this.state.activeScope.name,n,[r],a,o,{}),r}runKernel(e,r,n){if(this.backendName==null&&this.backend,!(e7(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:r,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,r,n){let a=this.backend.numDataIds(),o=0;n.forEach(f=>{o+=f.dtype==="complex64"?3:1});let s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],u=a-r-o-s;if(u>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${u} data ids) after running '${e}'`)}runKernelFunc(e){let r,n=[],a=this.isTapeOn(),o=this.state.numBytes,s=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let u;this.backendName==null&&this.backend;let f,l=f7(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(f7(e)){let{kernelName:b,inputs:A,attrs:I}=e;this.backendName==null&&this.backend;let C=e7(b,this.backendName);At(C!=null,()=>`Cannot find registered kernel '${b}' for backend '${this.backendName}'`),u=()=>{let R=this.backend.numDataIds();f=C.kernelFunc({inputs:A,attrs:I,backend:this.backend});let O=Array.isArray(f)?f:[f];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(b,R,O);let F=O.map(z=>z.rank!=null?z:this.makeTensorFromTensorInfo(z));if(a){let z=this.getTensorsForGradient(b,A,F);n=this.saveTensorsForBackwardMode(z)}return F}}else{let{forwardFunc:b}=e,A=I=>{!a||(n=I.map(C=>this.keep(this.clone(C))))};u=()=>{let I=this.backend.numDataIds();f=this.tidy(()=>b(this.backend,A));let C=Array.isArray(f)?f:[f];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,I,C),C}}let{inputs:c,attrs:h}=e,m=f7(e)?null:e.backwardsFunc,g;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?r=u():(g=this.profiler.profileKernel(l,c,()=>u()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(g),r=g.outputs)}),a&&this.addTapeNode(l,c,r,m,n,h),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-s,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(b=>c[b]!=null?c[b].shape:null),outputShapes:r.map(b=>b.shape),kernelTimeMs:g.timeMs,extraInfo:g.extraInfo}),Array.isArray(f)?r:r[0]}saveTensorsForBackwardMode(e){return e.map(n=>this.keep(this.clone(n)))}getTensorsForGradient(e,r,n){let a=t7(e);if(a!=null){let o=a.inputsToSave||[],s=a.outputsToSave||[],u;a.saveAllInputs?(At(Array.isArray(r),()=>"saveAllInputs is true, expected inputs to be an array."),u=Object.keys(r).map(l=>r[l])):u=o.map(l=>r[l]);let f=n.filter((l,c)=>s[c]);return u.concat(f)}return[]}makeTensor(e,r,n,a){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",a=a||this.backend;let o=e;n==="string"&&m_(e[0])&&(o=e.map(f=>qD(f)));let s=a.write(o,r,n),u=new go(r,n,s,this.nextTensorId());if(this.trackTensor(u,a),n==="string"){let f=this.state.tensorInfo.get(s),l=uve(o);this.state.numBytes+=l-f.bytes,f.bytes=l}return u}makeTensorFromDataId(e,r,n,a){n=n||"float32";let o={dataId:e,shape:r,dtype:n};return this.makeTensorFromTensorInfo(o,a)}makeTensorFromTensorInfo(e,r){let{dataId:n,shape:a,dtype:o}=e,s=new go(a,o,n,this.nextTensorId());return this.trackTensor(s,r),s}makeVariable(e,r=!0,n,a){n=n||this.nextVariableId().toString(),a!=null&&a!==e.dtype&&(e=e.cast(a));let o=new j0(e,r,n,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(e,r){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let n=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(n=e.size*K9(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:r||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof j0||this.track(e)}incRef(e,r){this.trackTensor(e,r),this.backend.incRef(e.dataId)}removeDataId(e,r){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===r&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;let r=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=r.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){let n=e.size*K9(e.dtype);this.state.numBytes-=n}r.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,r.backend)}disposeVariables(){for(let e in this.state.registeredVariables){let r=this.state.registeredVariables[e];this.disposeVariable(r)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){let e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}profile(e){return it(this,null,function*(){this.state.profiling=!0;let r=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=yield e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(a=>a.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-r,this.state.activeProfile.newTensors=this.state.numTensors-n;for(let a of this.state.activeProfile.kernels)a.kernelTimeMs=yield a.kernelTimeMs,a.extraInfo=yield a.extraInfo;return this.state.activeProfile})}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,r,n,a,o,s){let u={id:this.state.nextTapeNodeId++,kernelName:e,inputs:r,outputs:n,saved:o},f=t7(e);f!=null&&(a=f.gradFunc),a!=null&&(u.gradient=l=>(l=l.map((c,h)=>{if(c==null){let m=n[h],g=y_(m.size,m.dtype);return this.makeTensor(g,m.shape,m.dtype)}return c}),a(l.length>1?l:l[0],o,s))),this.state.activeTape.push(u)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){let r={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(r.name=e),this.state.scopeStack.push(r),this.state.activeScope=r}endScope(e){let r=Mve(e),n=new Set(r.map(o=>o.id));for(let o=0;o<this.state.activeScope.track.length;o++){let s=this.state.activeScope.track[o];!s.kept&&!n.has(s.id)&&s.dispose()}let a=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(o=>{!o.kept&&o.scopeId===a.id&&this.track(o)})}gradients(e,r,n,a=!1){if(At(r.length>0,()=>"gradients() received an empty list of xs."),n!=null&&n.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);let o=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));At(o instanceof go,()=>"The result y returned by f() must be a tensor.");let s=gve(this.state.activeTape,r,o);if(!a&&s.length===0&&r.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{let u={};u[o.id]=n==null?P_t(o.shape):n,yve(u,s,l=>this.tidy(l),z_t);let f=r.map(l=>u[l.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(l=>{for(let c of l.saved)c.dispose()}),this.state.activeTape=null),{value:o,grads:f}})}customGrad(e){return At(Z9(e),()=>"The f passed in customGrad(f) must be a function."),(...r)=>{At(r.every(u=>u instanceof go),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let n,a={};r.forEach((u,f)=>{a[f]=u});let o=(u,f)=>(n=e(...r,f),At(n.value instanceof go,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),At(Z9(n.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),n.value),s=(u,f)=>{let l=n.gradFunc(u,f),c=Array.isArray(l)?l:[l];At(c.length===r.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),At(c.every(m=>m instanceof go),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");let h={};return c.forEach((m,g)=>{h[g]=()=>m}),h};return this.runKernelFunc({forwardFunc:o,backwardsFunc:s,inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,r){return this.state.tensorInfo.get(e).backend.readToGPU(e,r)}time(e){return it(this,null,function*(){let r=r1(),n=yield this.backend.time(e);return n.wallMs=r1()-r,n})}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new $D;for(let e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}};yd.nextTensorId=0;yd.nextVariableId=0;function P_t(t){let e=FD(zi(t),"float32");return st.makeTensor(e,t,"float32")}function q_t(){let t=X9();if(t._tfengine==null){let e=new LD(t);t._tfengine=new yd(e)}return pve(t._tfengine.ENV),_ve(()=>t._tfengine),t._tfengine}var st=q_t();function z_t(t,e){let r={a:t,b:e};return st.runKernel(Zy,r)}w();_();function U_t(t,e){let r=t;if(vu(t))return e==="string"?[]:[t.length];if(!Array.isArray(t))return[];let n=[];for(;Array.isArray(r)||vu(r)&&e!=="string";)n.push(r.length),r=r[0];return Array.isArray(t)&&gn().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Tve(t,n,[]),n}function Tve(t,e,r){if(r=r||[],!Array.isArray(t)&&!vu(t)){At(e.length===0,()=>`Element arr[${r.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}At(e.length>0,()=>`Element arr[${r.join("][")}] should be a primitive, but is an array of ${t.length} elements`),At(t.length===e[0],()=>`Element arr[${r.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);let n=e.slice(1);for(let a=0;a<t.length;++a)Tve(t[a],n,r.concat(a))}function Nve(t,e,r,n){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${r}' passed to '${n}' must be ${t} tensor, but got ${e} tensor`)}}function xt(t,e,r,n="numeric"){if(t instanceof go)return Nve(n,t.dtype,e,r),t;let a=v_(t);if(a!=="string"&&["bool","int32","float32"].indexOf(n)>=0&&(a=n),Nve(n,a,e,r),t==null||!vu(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){let f=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${r}' must be a Tensor or TensorLike, but got '${f}'`)}let o=U_t(t,a);!vu(t)&&!Array.isArray(t)&&(t=[t]);let u=a!=="string"?PD(t,a):U0(t,[],!0);return st.makeTensor(u,o,a)}function VD(t,e,r,n="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${r} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((o,s)=>xt(o,`${e}[${s}]`,r,n))}w();_();var j_t="__op";function St(t){let e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let r=e[0],n=t[r];r.endsWith("_")&&(r=r.substring(0,r.length-1)),r=r+j_t;let a=(...o)=>{st.startScope(r);try{let s=n(...o);return BD(s)&&console.error("Cannot return a Promise inside of tidy."),st.endScope(s),s}catch(s){throw st.endScope(null),s}};return Object.defineProperty(a,"name",{value:r,configurable:!0}),a}function $_t(t,e){let r=xt(t,"x","cast");if(!sve(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&r.dtype!=="string"||e!=="string"&&r.dtype==="string")throw new Error("Only strings can be casted to strings");let n={x:r},a={dtype:e};return st.runKernel(Jy,n,a)}var sr=St({cast_:$_t});w();_();function V_t(t,e){let r=xt(t,"a","mul"),n=xt(e,"b","mul");[r,n]=Ui(r,n);let a={a:r,b:n};return st.runKernel(fD,a)}var Ct=St({mul_:V_t});w();_();function W_t(t,e=0){let n={x:xt(t,"x","step")},a={alpha:e};return st.runKernel(OD,n,a)}var bd=St({step_:W_t});var WD={kernelName:Bme,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Ct(t,bd(sr(r,"float32"),-1))}}};w();_();w();_();w();_();function G_t(t,e){let r=xt(t,"a","floorDiv"),n=xt(e,"b","floorDiv");[r,n]=Ui(r,n);let a={a:r,b:n};return st.runKernel(nD,a)}var Dve=St({floorDiv_:G_t});function H_t(t,e){let r=xt(t,"a","div"),n=xt(e,"b","div");if([r,n]=Ui(r,n),r.dtype==="int32"&&n.dtype==="int32")return Dve(r,n);let a={a:r,b:n},o={};return st.runKernel(XT,a,o)}var yn=St({div_:H_t});w();_();function K_t(t){let r={x:xt(t,"x","neg")};return st.runKernel(lD,r)}var ta=St({neg_:K_t});w();_();w();_();function kve(t,e,r,n){if(n==null&&(n=v_(t)),n==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!vu(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){lve(e);let a=zi(e),o=zi(r);At(a===o,()=>`Based on the provided shape, [${e}], the tensor should have ${a} values but has ${o}`);for(let s=0;s<r.length;++s){let u=r[s],f=s===r.length-1?u!==zi(e.slice(s)):!0;At(r[s]===e[s]||!f,()=>`Error creating a new Tensor. Inferred shape (${r}) does not match the provided shape (${e}). `)}}return!vu(t)&&!Array.isArray(t)&&(t=[t]),e=e||r,t=n!=="string"?PD(t,n):U0(t,[],!0),st.makeTensor(t,e,n)}function Mi(t,e){if((vu(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&vu(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return kve(t,[],[],e)}w();_();function Z_t(t){let r={x:xt(t,"x","sqrt","float32")};return st.runKernel(MD,r)}var Dc=St({sqrt_:Z_t});w();_();function J_t(t){let e=xt(t,"x","square"),r={};return st.runKernel("Square",{x:e},r)}var ui=St({square_:J_t});w();_();function Y_t(t,e){let r=xt(t,"a","sub"),n=xt(e,"b","sub");[r,n]=Ui(r,n);let a={a:r,b:n};return st.runKernel(DD,a)}var pa=St({sub_:Y_t});var Ive={kernelName:Lme,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>{let n=ui(sr(r,"float32")),a=Dc(pa(Mi(1),n));return ta(yn(t,a))}}}};w();_();var Cve={kernelName:Pme,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>{let n=Dc(pa(ui(sr(r,"float32")),1));return yn(t,n)}}}};w();_();w();_();function X_t(t,e){let r=t.length,n=[];for(let a=0;a<r;a++){let o=r-1-a,s=t[o]||1;(e[e.length-1-a]||1)>1&&s===1&&n.unshift(o)}return n}function Xn(t,e){let r=[];for(let n=0;n<e.length;n++){let a=t[t.length-n-1],o=e.length-n-1,s=e[o];(a==null||a===1&&s>1)&&r.unshift(o)}return r}function On(t,e){let r=[],n=Math.max(t.length,e.length);for(let a=0;a<n;a++){let o=t[t.length-a-1];o==null&&(o=1);let s=e[e.length-a-1];if(s==null&&(s=1),o===1)r.unshift(s);else if(s===1)r.unshift(o);else if(o!==s){let u=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(u)}else r.unshift(o)}return r}w();_();function Q_t(t,e){let n={x:xt(t,"x","reshape","string_or_numeric")},a={shape:e};return st.runKernel(vD,n,a)}var Pt=St({reshape_:Q_t});w();_();function eSt(t,e=null,r=!1){let n=xt(t,"x","sum");n.dtype==="bool"&&(n=sr(n,"int32"));let a={x:n},o={axis:e,keepDims:r};return st.runKernel(AD,a,o)}var an=St({sum_:eSt});var Ove={kernelName:Zy,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=On(r.shape,n.shape);return{a:()=>{let u=t,f=Xn(r.shape,a);return f.length>0&&(u=an(u,f)),Pt(u,r.shape)},b:()=>{let u=t,f=Xn(n.shape,a);return f.length>0&&(u=an(u,f)),Pt(u,n.shape)}}}};w();_();var Rve={kernelName:qme,saveAllInputs:!0,gradFunc:(t,e)=>{let r={};return e.forEach((n,a)=>{r[a]=()=>t.clone()}),r}};w();_();w();_();function tSt(t){let r={x:xt(t,"x","zerosLike")};return st.runKernel(CD,r)}var en=St({zerosLike_:tSt});var Fve={kernelName:zme,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>en(r)}}};w();_();var Bve={kernelName:Ume,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>en(r)}}};w();_();var Lve={kernelName:jme,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>yn(t,Dc(pa(Mi(1),ui(sr(r,"float32")))))}}};w();_();w();_();function rSt(t,e){let r=xt(t,"a","add"),n=xt(e,"b","add");[r,n]=Ui(r,n);let a={a:r,b:n};return st.runKernel(Zy,a)}var os=St({add_:rSt});var Pve={kernelName:$me,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>{let n=Dc(os(Mi(1),ui(sr(r,"float32"))));return yn(t,n)}}}};w();_();var qve={kernelName:Gme,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=On(r.shape,n.shape);return{a:()=>{let u=os(ui(r),ui(n)),f=Ct(t,yn(n,u)),l=Xn(r.shape,a);return l.length>0&&(f=an(f,l)),Pt(f,r.shape)},b:()=>{let u=os(ui(r),ui(n)),f=ta(Ct(t,yn(r,u))),l=Xn(n.shape,a);return l.length>0&&(f=an(f,l)),Pt(f,n.shape)}}}};w();_();var zve={kernelName:Vme,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>yn(t,os(ui(sr(r,"float32")),1))}}};w();_();var Uve={kernelName:Wme,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>yn(t,pa(Mi(1),ui(sr(r,"float32"))))}}};w();_();w();_();w();_();function nSt(t,e,r,n,a="NHWC",o){let s=t[3],u=[...e,s],f=$ve(a);return c7(t,u,r,o,n,null,null,f)}function iSt(t,e,r,n,a,o,s="channelsLast"){let[u,f]=GD(e),l;if(s==="channelsLast")l=[u,f,t[3],t[3]];else if(s==="channelsFirst")l=[u,f,t[1],t[1]];else throw new Error(`Unknown dataFormat ${s}`);return c7(t,l,r,n,a,o,!1,s)}function aSt(t,e,r,n,a,o,s="NDHWC"){let[u,f,l]=l7(e),c,h;if(s==="NDHWC")h="channelsLast",c=[u,f,l,t[4],t[4]];else if(s==="NCDHW")h="channelsFirst",c=[u,f,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${s}`);return jve(t,c,r,n,a,!1,h,o)}function c7(t,e,r,n,a,o,s=!1,u="channelsLast"){let[f,l,c,h]=[-1,-1,-1,-1];if(u==="channelsLast")[f,l,c,h]=t;else if(u==="channelsFirst")[f,h,l,c]=t;else throw new Error(`Unknown dataFormat ${u}`);let[m,g,,b]=e,[A,I]=GD(r),[C,R]=GD(n),O=n1(m,C),F=n1(g,R),{padInfo:z,outHeight:B,outWidth:$}=uSt(a,l,c,A,I,O,F,o,u),j=s?b*h:b,W;return u==="channelsFirst"?W=[f,j,B,$]:u==="channelsLast"&&(W=[f,B,$,j]),{batchSize:f,dataFormat:u,inHeight:l,inWidth:c,inChannels:h,outHeight:B,outWidth:$,outChannels:j,padInfo:z,strideHeight:A,strideWidth:I,filterHeight:m,filterWidth:g,effectiveFilterHeight:O,effectiveFilterWidth:F,dilationHeight:C,dilationWidth:R,inShape:t,outShape:W,filterShape:e}}function jve(t,e,r,n,a,o=!1,s="channelsLast",u){let[f,l,c,h,m]=[-1,-1,-1,-1,-1];if(s==="channelsLast")[f,l,c,h,m]=t;else if(s==="channelsFirst")[f,m,l,c,h]=t;else throw new Error(`Unknown dataFormat ${s}`);let[g,b,A,,I]=e,[C,R,O]=l7(r),[F,z,B]=l7(n),$=n1(g,F),j=n1(b,z),W=n1(A,B),{padInfo:T,outDepth:p,outHeight:v,outWidth:S}=fSt(a,l,c,h,C,R,O,$,j,W,u),y=o?I*m:I,M;return s==="channelsFirst"?M=[f,y,p,v,S]:s==="channelsLast"&&(M=[f,p,v,S,y]),{batchSize:f,dataFormat:s,inDepth:l,inHeight:c,inWidth:h,inChannels:m,outDepth:p,outHeight:v,outWidth:S,outChannels:y,padInfo:T,strideDepth:C,strideHeight:R,strideWidth:O,filterDepth:g,filterHeight:b,filterWidth:A,effectiveFilterDepth:$,effectiveFilterHeight:j,effectiveFilterWidth:W,dilationDepth:F,dilationHeight:z,dilationWidth:B,inShape:t,outShape:M,filterShape:e}}function oSt(t,e,r,n,a){n==null&&(n=h7(t,e,r));let o=t[0],s=t[1],u=$0((o-e+2*n)/r+1,a),f=$0((s-e+2*n)/r+1,a);return[u,f]}function sSt(t,e,r,n,a,o){a==null&&(a=h7(t,e,n));let s=t[0],u=t[1],f=t[2],l=$0((s-e+2*a)/n+1,o),c=$0((u-e+2*a)/n+1,o),h=$0((f-e+2*a)/n+1,o);return[l,c,h,r]}function h7(t,e,r,n=1){let a=n1(e,n);return Math.floor((t[0]*(r-1)-r+a)/2)}function GD(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function l7(t){return typeof t=="number"?[t,t,t]:t}function n1(t,e){return e<=1?t:t+(t-1)*(e-1)}function uSt(t,e,r,n,a,o,s,u,f){let l,c,h;if(typeof t=="number"){l={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};let g=oSt([e,r],o,n,t,u);c=g[0],h=g[1]}else if(t==="same"){c=Math.ceil(e/n),h=Math.ceil(r/a);let m=Math.max(0,(c-1)*n+o-e),g=Math.max(0,(h-1)*a+s-r),b=Math.floor(m/2),A=m-b,I=Math.floor(g/2),C=g-I;l={top:b,bottom:A,left:I,right:C,type:"SAME"}}else if(t==="valid")l={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-o+1)/n),h=Math.ceil((r-s+1)/a);else if(typeof t=="object"){let m=f==="channelsLast"?t[1][0]:t[2][0],g=f==="channelsLast"?t[1][1]:t[2][1],b=f==="channelsLast"?t[2][0]:t[3][0],A=f==="channelsLast"?t[2][1]:t[3][1];l={top:m,bottom:g,left:b,right:A,type:m===0&&g===0&&b===0&&A===0?"VALID":"EXPLICIT"},c=$0((e-o+m+g)/n+1,u),h=$0((r-s+b+A)/a+1,u)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:l,outHeight:c,outWidth:h}}function fSt(t,e,r,n,a,o,s,u,f,l,c){let h,m,g,b;if(typeof t=="number"){h={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};let I=sSt([e,r,n,1],u,1,a,t,c);m=I[0],g=I[1],b=I[2]}else if(t==="same"){m=Math.ceil(e/a),g=Math.ceil(r/o),b=Math.ceil(n/s);let A=(m-1)*a+u-e,I=(g-1)*o+f-r,C=(b-1)*s+l-n,R=Math.floor(A/2),O=A-R,F=Math.floor(I/2),z=I-F,B=Math.floor(C/2),$=C-B;h={top:F,bottom:z,left:B,right:$,front:R,back:O,type:"SAME"}}else if(t==="valid")h={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},m=Math.ceil((e-u+1)/a),g=Math.ceil((r-f+1)/o),b=Math.ceil((n-l+1)/s);else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:h,outDepth:m,outHeight:g,outWidth:b}}function $0(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function Bh(t){let[e,r,n]=GD(t);return e===1&&r===1&&n===1}function A_(t,e){return Bh(t)||Bh(e)}function $ve(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function ws(t,e,r){if(r!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${r} but got pad ${e}.`);if(typeof e=="number")At(e1(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${r} but got pad ${e}.`);else if(typeof e=="object")e.forEach(n=>{n.forEach(a=>{At(e1(a),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${r} but got pad ${a}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}function lSt(t,e,r,n,a,o){let s=xt(t,"dy","avgPool3dGrad"),u=xt(e,"input","avgPool3dGrad"),f=s,l=u,c=!1;u.rank===4&&(c=!0,f=Pt(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),l=Pt(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),At(f.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${f.rank}.`),At(l.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${l.rank}.`),ws("avgPool3dGrad",a,o);let h={dy:f,input:l},m={filterSize:r,strides:n,pad:a,dimRoundingMode:o},g=st.runKernel(Jme,h,m);return c?Pt(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}var Vve=St({avgPool3dGrad_:lSt});var Wve={kernelName:Zme,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{filterSize:a,strides:o,pad:s,dimRoundingMode:u}=r;return{x:()=>Vve(t,n,a,o,s,u)}}};w();_();w();_();function cSt(t,e,r,n,a){let o=xt(t,"dy","avgPoolGrad"),s=xt(e,"input","avgPoolGrad");At(s.rank===o.rank,()=>`Rank of input (${s.rank}) does not match rank of dy (${o.rank})`);let u=s,f=o,l=!1;s.rank===3&&(l=!0,u=Pt(s,[1,s.shape[0],s.shape[1],s.shape[2]]),f=Pt(o,[1,o.shape[0],o.shape[1],o.shape[2]])),At(f.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${f.rank}.`),At(u.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${u.rank}.`);let c={dy:f,input:u},h={filterSize:r,strides:n,pad:a},m=st.runKernel(Kme,c,h);return l?Pt(m,[m.shape[1],m.shape[2],m.shape[3]]):m}var Gve=St({avgPoolGrad_:cSt});var Hve={kernelName:Hme,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{filterSize:a,strides:o,pad:s}=r;return{x:()=>Gve(t,n,a,o,s)}}};w();_();w();_();function hSt(t,e,r=!1,n=!1){let a=xt(t,"a","matMul"),o=xt(e,"b","matMul");[a,o]=Ui(a,o);let s={a,b:o},u={transposeA:r,transposeB:n};return st.runKernel(VT,s,u)}var Lh=St({matMul_:hSt});var Kve={kernelName:VT,inputsToSave:["a","b"],gradFunc:(t,e,r)=>{let[n,a]=e,{transposeA:o,transposeB:s}=r;return!o&&!s?{a:()=>Lh(t,a,!1,!0),b:()=>Lh(n,t,!0,!1)}:!o&&s?{a:()=>Lh(t,a,!1,!1),b:()=>Lh(t,n,!0,!1)}:o&&!s?{a:()=>Lh(a,t,!1,!0),b:()=>Lh(n,t,!1,!1)}:{a:()=>Lh(a,t,!0,!0),b:()=>Lh(t,n,!0,!0)}}};w();_();w();_();function pSt(t,e,r){let n=xt(t,"x","spaceToBatchND");At(n.rank>=1+e.length,()=>`input rank ${n.rank} should be > than [blockShape] ${e.length}`),At(r.length===e.length,()=>`paddings.shape[0] ${r.length} must be equal to [blockShape] ${e.length}`),At(n.shape.reduce((s,u,f)=>f>0&&f<=e.length?s&&(u+r[f-1][0]+r[f-1][1])%e[f-1]===0:s,!0),()=>`input spatial dimensions ${n.shape.slice(1)} with paddings ${r.toString()} must be divisible by blockShapes ${e.toString()}`);let a={x:n},o={blockShape:e,paddings:r};return st.runKernel(ND,a,o)}var Zve=St({spaceToBatchND_:pSt});var Jve={kernelName:WT,gradFunc:(t,e,r)=>{let{blockShape:n,crops:a}=r;return{x:()=>Zve(t,n,a)}}};w();_();var Yve={kernelName:Yme,gradFunc:(t,e,r)=>{let n=r,a=n.inputShape,o=n.shape,s=Array.from(o);for(let f=a.length-1;f>=0;f--)if(a[f]===o[f])s[f]=1;else if(a[f]!==1)throw new Error(`broadcastTo(): [${a}] cannot be broadcast to [${o}].`);let u=[];for(let f=0;f<s.length;f++)s[f]>1&&u.push(f);return{x:()=>an(t,u,!0)}}};w();_();var Xve={kernelName:Jy,gradFunc:t=>({x:()=>t.clone()})};w();_();var Qve={kernelName:Xme,gradFunc:t=>({x:()=>en(t)})};w();_();w();_();function dSt(t,e){let r=xt(t,"a","greaterEqual","string_or_numeric"),n=xt(e,"b","greaterEqual","string_or_numeric");[r,n]=Ui(r,n),On(r.shape,n.shape);let a={a:r,b:n};return st.runKernel(aD,a)}var a1=St({greaterEqual_:dSt});w();_();function mSt(t,e){let r=xt(t,"a","lessEqual","string_or_numeric"),n=xt(e,"b","lessEqual","string_or_numeric");[r,n]=Ui(r,n),On(r.shape,n.shape);let a={a:r,b:n};return st.runKernel(E0e,a)}var o1=St({lessEqual_:mSt});w();_();function vSt(t,e){let r=xt(t,"a","logicalAnd","bool"),n=xt(e,"b","logicalAnd","bool");On(r.shape,n.shape);let a={a:r,b:n};return st.runKernel(A0e,a)}var HD=St({logicalAnd_:vSt});w();_();w();_();w();_();function gSt(t){let r={x:xt(t,"x","clone","string_or_numeric")};return st.runKernel(Yy,r)}var KD=St({clone_:gSt});function ySt(t,e){let r=xt(t,"broadcastTo","x"),n=r.shape;if(e.some(l=>!(l>0)||l%1!==0))throw new Error(`broadcastTo(): Invalid broadcast shape [${e}].`);if(e.length<r.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${r.rank}.`);if(e.length>r.rank){let l=r.shape.slice();for(;l.length<e.length;)l.unshift(1);r=Pt(r,l)}let a=r.shape,o=Array.from(e);for(let l=e.length-1;l>=0;l--)if(a[l]===e[l])o[l]=1;else if(r.shape[l]!==1)throw new Error(`broadcastTo(): [${n}] cannot be broadcast to [${e}].`);if(o.map((l,c)=>l>1?c:-1).filter(l=>l>=0).length===0)return KD(r);let u={x:r},f={reps:o};return st.runKernel(Xy,u,f)}var ZD=St({broadcastTo_:ySt});function bSt(t,e,r){let n=xt(e,"a","where"),a=xt(r,"b","where"),o=xt(t,"condition","where","bool"),s=On(On(o.shape,n.shape),a.shape),u=ZD(o,s),f=ZD(n,s),l=ZD(a,s),c={condition:u,t:f,e:l};return st.runKernel(wD,c)}var gu=St({where_:bSt});var ege={kernelName:Qme,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{clipValueMin:a,clipValueMax:o}=r;return{x:()=>gu(HD(a1(n,a),o1(n,o)),t,en(t))}}};w();_();var tge={kernelName:t0e,inputsToSave:["x"],gradFunc:WD.gradFunc};w();_();w();_();function wSt(t,e,r=0){let a={x:xt(t,"x","split")},o={numOrSizeSplits:e,axis:r};return st.runKernel(TD,a,o)}var rge=St({split_:wSt});var nge={kernelName:GT,saveAllInputs:!0,gradFunc:(t,e,r)=>{let n=e.map(f=>f.shape),{axis:a}=r,o=Us(a,e[0].shape)[0],s=n.map(f=>f[o]);return rge(t,s,o).map(f=>()=>f)}};w();_();w();_();function xSt(t,e,r,n,a,o="NHWC",s){let u=t;t.rank===3&&(u=Pt(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let f=e;f.rank===3&&(f=Pt(e,[1,e.shape[0],e.shape[1],e.shape[2]])),At(u.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${u.shape}.`),At(f.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${f.shape}.`),At(r.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${r}.`);let l=o==="NHWC"?u.shape[3]:u.shape[1],c=o==="NHWC"?f.shape[3]:f.shape[1];At(l===r[2],()=>`Error in conv2dDerFilter: depth of input ${l}) must match input depth in filter (${r[2]}.`),At(c===r[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${r[3]}).`),ws("conv2dDerFilter",a,s);let h={x:u,dy:f},m={strides:n,pad:a,dataFormat:o,dimRoundingMode:s,filterShape:r};return st.runKernel(r0e,h,m)}var JD=St({conv2DBackpropFilter_:xSt});w();_();function _St(t,e,r,n,a,o="NHWC",s){At(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let u=t,f=e,l=!1;e.rank===3&&(l=!0,f=Pt(e,[1,e.shape[0],e.shape[1],e.shape[2]]),u=[1,t[0],t[1],t[2]]),At(u.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${u.length}.`),At(f.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${f.rank}`),At(r.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${r.rank}`);let c=o==="NHWC"?u[3]:u[1],h=o==="NHWC"?f.shape[3]:f.shape[1];At(c===r.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${r.shape[2]}.`),At(h===r.shape[3],()=>`Error in conv2dDerInput: depth of output (${h}) must match output depth for filter ${r.shape[3]}.`),ws("conv2dDerInput",a,s);let m={dy:f,filter:r},g={strides:n,pad:a,dataFormat:o,dimRoundingMode:s,inputShape:u},b=st.runKernel(KT,m,g);return l?Pt(b,[b.shape[1],b.shape[2],b.shape[3]]):b}var ige=St({conv2DBackpropInput_:_St});var age={kernelName:HT,inputsToSave:["x","filter"],gradFunc:(t,e,r)=>{let[n,a]=e,{dilations:o,strides:s,pad:u,dataFormat:f}=r;return At(Bh(o),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`),{x:()=>ige(n.shape,t,a,s,u,f),filter:()=>JD(n,t,a.shape,s,u,f)}}};w();_();w();_();function SSt(t,e,r,n,a="NHWC",o=[1,1],s){let u=xt(t,"x","conv2d","float32"),f=xt(e,"filter","conv2d","float32"),l=u,c=!1;u.rank===3&&(c=!0,l=Pt(u,[1,u.shape[0],u.shape[1],u.shape[2]])),At(l.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${l.rank}.`),At(f.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${f.rank}.`),ws("conv2d",n,s);let h=a==="NHWC"?l.shape[3]:l.shape[1];At(h===f.shape[2],()=>`Error in conv2d: depth of input (${h}) must match input depth for filter ${f.shape[2]}.`),At(A_(r,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${r} and dilations '${o}'`);let m={x:l,filter:f},g={strides:r,pad:n,dataFormat:a,dilations:o,dimRoundingMode:s},b=st.runKernel(HT,m,g);return c?Pt(b,[b.shape[1],b.shape[2],b.shape[3]]):b}var oge=St({conv2d_:SSt});var sge={kernelName:KT,inputsToSave:["dy","filter"],gradFunc:(t,e,r)=>{let[n,a]=e,{strides:o,pad:s,dataFormat:u,dimRoundingMode:f}=r;return{dy:()=>oge(t,a,o,s,u,1,f),filter:()=>JD(t,n,a.shape,o,s,u,f)}}};w();_();w();_();function ESt(t,e,r,n,a){let o=t;t.rank===4&&(o=Pt(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let s=e;s.rank===4&&(s=Pt(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),At(o.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${o.shape}.`),At(s.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${s.shape}.`),At(r.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${r}.`),At(o.shape[4]===r[3],()=>`Error in conv3dDerFilter: depth of input ${o.shape[4]}) must match input depth in filter (${r[3]}.`),At(s.shape[4]===r[4],()=>`Error in conv3dDerFilter: depth of dy (${s.shape[4]}) must match output depth for filter (${r[4]}).`);let u={x:o,dy:s},f={strides:n,pad:a,filterShape:r};return st.runKernel(i0e,u,f)}var uge=St({conv3DBackpropFilter_:ESt});w();_();function MSt(t,e,r,n,a){At(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let o=t,s=e,u=!1;e.rank===4&&(u=!0,s=Pt(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),o=[1,t[0],t[1],t[2],t[3]]);let f=o[4],l=s.shape[4];At(o.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${o.length}.`),At(s.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${s.rank}`),At(r.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${r.rank}`),At(f===r.shape[3],()=>`Error in conv3dDerInput: depth of input (${f}) must match input depth for filter ${r.shape[3]}.`),At(l===r.shape[4],()=>`Error in conv3dDerInput: depth of output (${l}) must match output depth for filter ${r.shape[4]}.`);let c={dy:s,filter:r},h={pad:a,strides:n,inputShape:o},m=st.runKernel(a0e,c,h);return u?Pt(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}var fge=St({conv3DBackpropInput_:MSt});var lge={kernelName:n0e,inputsToSave:["x","filter"],gradFunc:(t,e,r)=>{let{dilations:n,strides:a,pad:o}=r;At(Bh(n),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${n}'`);let[s,u]=e;return{x:()=>fge(s.shape,t,u,a,o),filter:()=>uge(s,t,u.shape,a,o)}}};w();_();w();_();function ASt(t){let r={x:xt(t,"x","sin","float32")};return st.runKernel(_D,r)}var cge=St({sin_:ASt});var hge={kernelName:ZT,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Ct(ta(cge(sr(r,"float32"))),t)}}};w();_();w();_();function NSt(t){let r={x:xt(t,"x","sinh")};return st.runKernel(SD,r)}var pge=St({sinh_:NSt});var dge={kernelName:JT,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Ct(pge(sr(r,"float32")),t)}}};w();_();w();_();function p7(t,e){for(let r=0;r<t.length;++r)if(t[t.length-r-1]!==e-1-r)return!1;return!0}function mge(t,e,r){let n=t.length+e.length,a=[],o=0,s=0;for(let u=0;u<n;u++)r.indexOf(u)===-1?a.push(t[o++]):a.push(e[s++]);return a}function d7(t,e){let r=[],n=t.length;for(let o=0;o<n;o++)e.indexOf(o)===-1&&r.push(t[o]);let a=e.map(o=>t[o]);return[r,a]}function YD(t,e){let r=e.map(n=>1);return mge(t,r,e)}function TSt(t,e,r){At(p7(e,r),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${r} input.`)}function m7(t,e){if(p7(t,e))return null;let r=[];for(let n=0;n<e;++n)t.indexOf(n)===-1&&r.push(n);return t.forEach(n=>r.push(n)),r}function N_(t){return t.map((e,r)=>[r,e]).sort((e,r)=>e[1]-r[1]).map(e=>e[0])}function DSt(t,e){let r=[];for(let n=e-t;n<e;++n)r.push(n);return r}w();_();function kSt(t,e=0,r=!1,n=!1){let o={x:xt(t,"x","cumsum")},s={axis:e,exclusive:r,reverse:n};return st.runKernel(YT,o,s)}var gge=St({cumsum_:kSt});w();_();w();_();function ISt(t){gn().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}Sve(ISt);function yge(t,e){return st.tidy(t,e)}w();_();function CSt(t,e){let r=xt(t,"real","complex"),n=xt(e,"imag","complex");ave(r.shape,n.shape,`real and imag shapes, ${r.shape} and ${n.shape}, must match in call to tf.complex().`);let a={real:r,imag:n};return st.runKernel(e0e,a)}var s1=St({complex_:CSt});w();_();function OSt(t){let r={input:xt(t,"input","imag")};return st.runKernel(b0e,r)}var bge=St({imag_:OSt});w();_();function RSt(t){let r={input:xt(t,"input","real")};return st.runKernel(V0e,r)}var wge=St({real_:RSt});function FSt(t,e,r){let n=xt(t,"x","transpose");if(e==null&&(e=n.shape.map((s,u)=>u).reverse()),At(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of perm ${e}.`),e.forEach(s=>{At(s>=0&&s<n.rank,()=>`All entries in 'perm' must be between 0 and ${n.rank-1} but got ${e}`)}),n.rank<=1)return n.clone();let a={x:n},o={perm:e};return n.dtype==="complex64"?yge(()=>{let s=wge(n),u=bge(n);return s=st.runKernel(Qy,{x:s},o),u=st.runKernel(Qy,{x:u},o),r&&(u=ta(u)),s1(s,u)}):st.runKernel(Qy,a,o)}var kc=St({transpose_:FSt});var xge={kernelName:YT,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{axis:a,exclusive:o,reverse:s}=r;return{x:()=>{let u=m7([a],n.rank),f=gge(t,a,o,!s);return u!=null&&(f=kc(f,u)),f}}}};w();_();w();_();function BSt(t,e,r,n,a,o=[1,1],s){let u=t;t.rank===3&&(u=Pt(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let f=e;f.rank===3&&(f=Pt(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l={x:u,dy:f},c={strides:n,pad:a,dimRoundingMode:s,dilations:o,filterShape:r};return st.runKernel(u0e,l,c)}var _ge=St({depthwiseConv2dNativeBackpropFilter_:BSt});w();_();function LSt(t,e,r,n,a,o=[1,1],s){let u=e,f=!1;e.rank===3&&(f=!0,u=Pt(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l={dy:u,filter:r},c={strides:n,pad:a,dimRoundingMode:s,dilations:o,inputShape:t},h=st.runKernel(f0e,l,c);return f?Pt(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var Sge=St({depthwiseConv2dNativeBackpropInput_:LSt});var Ege={kernelName:s0e,inputsToSave:["x","filter"],gradFunc:(t,e,r)=>{let{dilations:n,strides:a,pad:o,dimRoundingMode:s}=r,u=n==null?[1,1]:n;At(Bh(u),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${u}'`);let[f,l]=e;return At(f.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${f.rank}.`),At(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${l.rank}.`),At(f.shape[3]===l.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${f.shape[3]}) must match the inChannels dimension in filter ${l.shape[2]}.`),At(A_(a,u),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${a} and dilations '${u}'.`),ws("depthwiseConv2d",o,s),{x:()=>Sge(f.shape,t,l,a,o,u,s),filter:()=>_ge(f,t,l.shape,a,o,u,s)}}};w();_();var Mge={kernelName:l0e,inputsToSave:["x","filter"],gradFunc:(t,e,r)=>{let[n,a]=e,o={x:n,filter:a,dy:t},s={x:n,filter:a,dy:t};return{x:()=>st.runKernel(c0e,o,r),filter:()=>st.runKernel(h0e,s,r)}}};w();_();var Age={kernelName:QT,outputsToSave:[!0],gradFunc:(t,e)=>{let[r]=e,n={dy:t,y:r};return{x:()=>st.runKernel(p0e,n)}}};w();_();w();_();function PSt(t){let r={x:xt(t,"x","exp")};return st.runKernel(eD,r)}var wd=St({exp_:PSt});var Nge={kernelName:d0e,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e,n=Ct(wd(ta(ui(r))),2/Math.sqrt(Math.PI));return{x:()=>Ct(t,n)}}};w();_();var Tge={kernelName:eD,outputsToSave:[!0],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Ct(t,r)}}};w();_();var Dge={kernelName:tD,inputsToSave:["input"],gradFunc:(t,e)=>{let[r]=e;return{input:()=>Pt(t,r.shape)}}};w();_();var kge={kernelName:v0e,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Ct(t,wd(r))}}};w();_();var Ige={kernelName:rD,gradFunc:t=>({x:()=>en(t)})};w();_();var Cge={kernelName:nD,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=On(r.shape,n.shape);return{a:()=>{let u=yn(t,sr(n,"float32")),f=Xn(r.shape,a);return f.length>0?Pt(an(u,f),r.shape):u},b:()=>{let u=Ct(t,sr(r,"float32")),f=Xn(n.shape,a);f.length>0&&(u=Pt(an(u,f),n.shape));let l=ui(n);return ta(yn(u,sr(l,"float32")))}}}};w();_();w();_();function qSt(t){let r={x:xt(t,"x","rsqrt","float32")};return st.runKernel(bD,r)}var Oge=St({rsqrt_:qSt});w();_();function zSt(t,e){let r=xt(t,"x","tile","string_or_numeric");At(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of reps ${e}.`);let n={x:r},a={reps:e};return st.runKernel(Xy,n,a)}var Rge=St({tile_:zSt});var Fge={kernelName:g0e,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,r)=>{let{varianceEpsilon:n}=r,[a,o,s,u]=e,f=u==null?Mi(1):u,l=Xn(o.shape,a.shape),c=[];if(o.rank===1){for(let F=0;F<a.shape.length-1;++F)c.push(a.shape[F]);c.push(1)}let h=pa(a,o),m=Ct(t,f),g=Oge(os(s,Mi(n))),b=Ct(Ct(Ct(g,g),g),Mi(-.5));return{x:()=>o.rank===1?Pt(Ct(Ct(t,Rge(Pt(g,[1,1,1,o.shape[0]]),c)),f),a.shape):Pt(Ct(Ct(t,g),f),a.shape),mean:()=>{let F=Ct(Ct(g,Mi(-1)),m);return o.rank===1&&(F=an(F,l)),Pt(F,o.shape)},variance:()=>{let F=Ct(Ct(b,h),m);return o.rank===1&&(F=an(F,l)),Pt(F,o.shape)},scale:()=>{let F=Ct(h,g),z=Ct(t,F);return o.rank===1&&(z=an(z,l)),Pt(z,o.shape)},offset:()=>{let F=t;return o.rank===1&&(F=an(F,l)),Pt(F,o.shape)}}}};w();_();w();_();function USt(t,e,r){let n=xt(t,"x","unsortedSegmentSum"),a=xt(e,"segmentIds","unsortedSegmentSum","int32");At(e1(r),()=>"numSegments must be of dtype int");let o={x:n,segmentIds:a},s={numSegments:r};return st.runKernel(ID,o,s)}var Bge=St({unsortedSegmentSum_:USt});var qge={kernelName:iD,inputsToSave:["x","indices"],gradFunc:(t,e,r)=>{let[n,a]=e,{axis:o}=r,s=Us(o,n.shape)[0];return{x:()=>{let f=n.shape,l=a.size,c=f.slice(0,s),h=c.length,m=f.slice(o,f.length).slice(1),g=m.length,b=Lge(0,h),A=Lge(h+1,h+1+g),I=Pge([c,[l],m]),C=Pt(t,I),R=Pt(a,[l]),O=Pge([[h],b,A]),F=kc(C,O),z=Bge(F,R,n.shape[s]),B=N_(O);return z=kc(z,B),z},indices:()=>a}}};function Lge(t,e){let r=[];for(let n=t;n<e;++n)r.push(n);return r}function Pge(t){let e=[];for(let r=0;r<t.length;++r)for(let n=0;n<t[r].length;++n)e.push(t[r][n]);return e}w();_();var zge={kernelName:aD,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e;return{a:()=>en(r),b:()=>en(n)}}};w();_();var Uge={kernelName:Yy,gradFunc:t=>({x:()=>sr(t,"float32")})};w();_();var jge={kernelName:w0e,gradFunc:t=>({x:()=>en(t)})};w();_();var $ge={kernelName:x0e,gradFunc:t=>({x:()=>en(t)})};w();_();var Vge={kernelName:_0e,gradFunc:t=>({x:()=>en(t)})};w();_();w();_();function jSt(t,e){let r=xt(t,"a","greater","string_or_numeric"),n=xt(e,"b","greater","string_or_numeric");[r,n]=Ui(r,n),On(r.shape,n.shape);let a={a:r,b:n};return st.runKernel(y0e,a)}var Ic=St({greater_:jSt});var Wge={kernelName:oD,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{alpha:a}=r,o=Ic(n,0);return{x:()=>gu(o,t,Ct(t,a))}}};w();_();var Gge={kernelName:M0e,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>yn(t,os(r,1))}}};w();_();var Hge={kernelName:sD,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>yn(t,sr(r,"float32"))}}};w();_();var Kge={kernelName:T0e,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,r)=>{let[n]=e,{axis:a}=r;return{logits:()=>{let s=wd(n);return pa(t,Ct(an(t,a,!0),s))}}}};w();_();w();_();function $St(t,e,r,n=5,a=1,o=1,s=.5){let u={x:t,y:e,dy:r},f={depthRadius:n,bias:a,alpha:o,beta:s};return st.runKernel(k0e,u,f)}var Zge=St({localResponseNormalizationBackprop_:$St});var Jge={kernelName:D0e,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,r)=>{let[n,a]=e,{depthRadius:o,bias:s,alpha:u,beta:f}=r;return{x:()=>Zge(n,a,t,o,s,u,f)}}};w();_();w();_();w();_();function VSt(t,e){let r=xt(t,"a","equal","string_or_numeric"),n=xt(e,"b","equal","string_or_numeric");[r,n]=Ui(r,n),On(r.shape,n.shape);let a={a:r,b:n};return st.runKernel(m0e,a)}var Yge=St({equal_:VSt});function XD(t,e,r,n){return e.rank<r.rank&&(e=Pt(e,YD(e.shape,n))),t.rank<r.rank&&(t=Pt(t,YD(t.shape,n))),{x:()=>Ct(t,sr(Yge(r,e),t.dtype))}}var v7={kernelName:I0e,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,r)=>{let n=r,{reductionIndices:a}=n,o=e[0],s=e[1],u=Us(a,o.shape),f=XD(t,s,o,u);return{x:()=>f.x()}}};w();_();w();_();function WSt(t,e){let r=xt(t,"a","less","string_or_numeric"),n=xt(e,"b","less","string_or_numeric");[r,n]=Ui(r,n),On(r.shape,n.shape);let a={a:r,b:n};return st.runKernel(S0e,a)}var Xge=St({less_:WSt});var Qge={kernelName:uD,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e;return{a:()=>Ct(t,sr(a1(r,n),"float32")),b:()=>Ct(t,sr(Xge(r,n),"float32"))}}};w();_();w();_();function GSt(t,e,r,n,a,o,s){let u=xt(t,"dy","maxPool3dGrad"),f=xt(e,"input","maxPool3dGrad"),l=xt(r,"output","maxPool3dGrad"),c=u,h=f,m=l,g=!1;f.rank===4&&(g=!0,c=Pt(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),h=Pt(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]]),m=Pt(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),At(c.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`),At(h.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${h.rank}.`),At(m.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${m.rank}.`),ws("maxPool3dGrad",o,s);let b={dy:c,input:h,output:m},A={filterSize:n,strides:a,pad:o,dimRoundingMode:s},I=st.runKernel(F0e,b,A);return g?Pt(I,[I.shape[1],I.shape[2],I.shape[3],I.shape[4]]):I}var eye=St({maxPool3dGrad_:GSt});var tye={kernelName:R0e,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,r)=>{let[n,a]=e,{filterSize:o,strides:s,pad:u,dimRoundingMode:f}=r;return{x:()=>eye(t,n,a,o,s,u,f)}}};w();_();w();_();function HSt(t,e,r,n,a,o,s){let u=xt(t,"dy","maxPoolGrad"),f=xt(e,"input","maxPoolGrad"),l=xt(r,"output","maxPoolGrad");At(f.rank===u.rank,()=>`Rank of input (${f.rank}) does not match rank of dy (${u.rank})`),At(u.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${u.rank}.`),At(f.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${f.rank}.`),ws("maxPoolGrad",o,s);let c={dy:u,input:f,output:l},h={filterSize:n,strides:a,pad:o,dimRoundingMode:s};return st.runKernel(O0e,c,h)}var rye=St({maxPoolGrad_:HSt});var nye={kernelName:C0e,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,r)=>{let[n,a]=e,{filterSize:o,strides:s,pad:u}=r;return{x:()=>rye(t,n,a,o,s,u)}}};w();_();w();_();w();_();function u1(t,e="float32"){if(e==="complex64"){let n=u1(t,"float32"),a=u1(t,"float32");return s1(n,a)}let r=y_(zi(t),e);return st.makeTensor(r,t,e)}function V0(t,e="float32"){if(e==="complex64"){let n=V0(t,"float32"),a=u1(t,"float32");return s1(n,a)}let r=FD(zi(t),e);return st.makeTensor(r,t,e)}var iye={kernelName:B0e,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{axis:a}=r,o=Us(a,n.shape),u=d7(n.shape,o)[1],f=zi(u);return{x:()=>{let c=n.shape.slice();o.forEach(g=>{c[g]=1});let h=Pt(t,c);return yn(Ct(h,V0(n.shape,"float32")),f)}}}};w();_();var aye={kernelName:L0e,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,r)=>{let n=r,{axis:a}=n,[o,s]=e,u=Us(a,o.shape),f=XD(t,s,o,u);return{x:()=>f.x()}}};w();_();var oye={kernelName:P0e,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e;return{a:()=>Ct(t,sr(o1(r,n),"float32")),b:()=>Ct(t,sr(Ic(r,n),"float32"))}}};w();_();w();_();function KSt(t,e,r){let n=xt(t,"x","slice","string_or_numeric");if(n.rank===0)throw new Error("Slicing scalar is not possible");let a={x:n},o={begin:e,size:r};return st.runKernel(xD,a,o)}var Ph=St({slice_:KSt});var sye={kernelName:q0e,inputsToSave:["x"],gradFunc:(t,e,r)=>{let n=e[0],{paddings:a}=r,o=a.map(s=>s[0]);return{x:()=>Ph(t,o,n.shape)}}};w();_();w();_();function ZSt(t){let r={x:xt(t,"x","floor","float32")};return st.runKernel(rD,r)}var uye=St({floor_:ZSt});var fye={kernelName:z0e,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=On(r.shape,n.shape);return{a:()=>{let u=Xn(r.shape,a);return u.length>0?Pt(an(t,u),r.shape):t},b:()=>{let u=Ct(t,ta(uye(yn(r,n)))),f=Xn(n.shape,a);return f.length>0?Pt(an(u,f),n.shape):u}}}};w();_();var lye={kernelName:fD,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=On(r.shape,n.shape);return{a:()=>{let u=Ct(t,sr(n,"float32")),f=Xn(r.shape,a);return f.length>0?Pt(an(u,f),r.shape):u},b:()=>{let u=Ct(t,sr(r,"float32")),f=Xn(n.shape,a);return f.length>0?Pt(an(u,f),n.shape):u}}}};w();_();var cye={kernelName:lD,gradFunc:t=>({x:()=>ta(t)})};w();_();var hye={kernelName:j0e,inputsToSave:["indices"],gradFunc:(t,e)=>{let r=e[0];return{indices:()=>u1(r.shape,"float32")}}};w();_();var pye={kernelName:U0e,gradFunc:t=>({x:()=>en(t)})};w();_();w();_();function JSt(t,e=0){let r=xt(t,"x","unstack","string_or_numeric");At(e>=-r.shape.length&&e<r.shape.length,()=>`Axis = ${e} is not in [-${r.shape.length}, ${r.shape.length})`);let n={value:r},a={axis:e};return st.runKernel(kD,n,a)}var dye=St({unstack_:JSt});var mye={kernelName:cD,saveAllInputs:!0,gradFunc:(t,e,r)=>{let{axis:n}=r;return dye(t,n).map(o=>()=>o)}};w();_();var g7={kernelName:hD,inputsToSave:["x"],gradFunc:(t,e,r)=>{let n=e[0],{paddings:a}=r,o=a.map(s=>s[0]);return{x:()=>Ph(t,o,n.shape)}}};w();_();w();_();function YSt(t){let r={x:xt(t,"x","log","float32")};return st.runKernel(sD,r)}var vye=St({log_:YSt});w();_();function XSt(t,e){let r=xt(t,"base","pow"),n=xt(e,"exp","pow");[r,n]=Ui(r,n);let a={a:r,b:n};return st.runKernel(pD,a)}var QD=St({pow_:XSt});var gye={kernelName:pD,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{let[r,n,a]=e,o=r,s=n,u=On(o.shape,s.shape);return{a:()=>{let c=sr(s,"float32"),h=Ct(t,Ct(c,QD(o,pa(c,Mi(1))))),m=Xn(o.shape,u);return m.length>0&&(h=an(h,m)),Pt(h,o.shape)},b:()=>{let c=Ic(o,0),h=gu(c,vye(o),en(o)),m=Ct(t,Ct(a,h)),g=Xn(s.shape,u);return g.length>0&&(m=an(m,g)),Pt(m,s.shape)}}}};w();_();var yye={kernelName:dD,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{let[r,n]=e,a=Ic(r,0);return{x:()=>gu(a,t,Ct(t,n)),alpha:()=>{let o=gu(a,en(t),Ct(t,r)),s=Xn(n.shape,t.shape);return s.length>0&&(o=an(o,s)),Pt(o,n.shape)}}}};w();_();w();_();w();_();w();_();w();_();w();_();function bye(){return typeof window!="undefined"&&window.document!=null||typeof WorkerGlobalScope!="undefined"}var Sf=gn();Sf.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Sf.registerFlag("IS_BROWSER",()=>bye());Sf.registerFlag("IS_NODE",()=>typeof $process!="undefined"&&typeof $process.versions!="undefined"&&typeof $process.versions.node!="undefined");Sf.registerFlag("IS_CHROME",()=>typeof navigator!="undefined"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Sf.registerFlag("PROD",()=>!1);Sf.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Sf.getBool("DEBUG"));Sf.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Sf.registerFlag("IS_TEST",()=>!1);Sf.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>!0);Sf.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Sf.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);w();_();w();_();var y7=typeof $Buffer!="undefined"&&(typeof Blob=="undefined"||typeof atob=="undefined"||typeof btoa=="undefined");function wye(t){return y7?$Buffer.byteLength(t):new Blob([t]).size}function xye(t){if(y7)return $Buffer.from(t).toString("base64");let e=new Uint8Array(t),r="";for(let n=0,a=e.length;n<a;n++)r+=String.fromCharCode(e[n]);return btoa(r)}function _ye(t){if(y7){let n=$Buffer.from(t,"base64");return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}let e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;++n)r.set([e.charCodeAt(n)],n);return r.buffer}function e4(t){if(t.length===1)return t[0];let e=0;t.forEach(a=>{e+=a.byteLength});let r=new Uint8Array(e),n=0;return t.forEach(a=>{r.set(new Uint8Array(a),n),n+=a.byteLength}),r.buffer}function t4(t,e){let r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),r}function r4(t,e){return it(this,null,function*(){let r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){let[n,a]=yield e(t.weightsManifest);r.weightSpecs=n,r.weightData=a}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),r})}function qh(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:wye(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:wye(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:t.weightData.byteLength}}w();_();var Hi=class{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return Hi.instance==null&&(Hi.instance=new Hi),Hi.instance}static registerSaveRouter(e){Hi.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Hi.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Hi.getHandlers(e,"save")}static getLoadHandlers(e,r){return Hi.getHandlers(e,"load",r)}static getHandlers(e,r,n){let a=[];return(r==="load"?Hi.getInstance().loadRouters:Hi.getInstance().saveRouters).forEach(s=>{let u=s(e,n);u!==null&&a.push(u)}),a}};var tEt="tensorflowjs",rEt=1,T_="models_store",n4="model_info_store";function nEt(){if(!gn().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");let t=typeof window=="undefined"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function iEt(t){let e=t.result;e.createObjectStore(T_,{keyPath:"modelPath"}),e.createObjectStore(n4,{keyPath:"modelPath"})}var f1=class{constructor(e){if(this.indexedDB=nEt(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}save(e){return it(this,null,function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)})}load(){return it(this,null,function*(){return this.databaseAction(this.modelPath)})}databaseAction(e,r){return new Promise((n,a)=>{let o=this.indexedDB.open(tEt,rEt);o.onupgradeneeded=()=>iEt(o),o.onsuccess=()=>{let s=o.result;if(r==null){let u=s.transaction(T_,"readonly"),l=u.objectStore(T_).get(this.modelPath);l.onsuccess=()=>{if(l.result==null)return s.close(),a(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));n(l.result.modelArtifacts)},l.onerror=c=>(s.close(),a(l.error)),u.oncomplete=()=>s.close()}else{let u=qh(r),f=s.transaction(n4,"readwrite"),l=f.objectStore(n4),c=l.put({modelPath:this.modelPath,modelArtifactsInfo:u}),h;c.onsuccess=()=>{h=s.transaction(T_,"readwrite");let g=h.objectStore(T_).put({modelPath:this.modelPath,modelArtifacts:r,modelArtifactsInfo:u});g.onsuccess=()=>n({modelArtifactsInfo:u}),g.onerror=b=>{l=f.objectStore(n4);let A=l.delete(this.modelPath);A.onsuccess=()=>(s.close(),a(g.error)),A.onerror=I=>(s.close(),a(g.error))}},c.onerror=m=>(s.close(),a(c.error)),f.oncomplete=()=>{h==null?s.close():h.oncomplete=()=>s.close()}}},o.onerror=s=>a(o.error)})}};f1.URL_SCHEME="indexeddb://";var Sye=t=>gn().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(f1.URL_SCHEME)?aEt(t.slice(f1.URL_SCHEME.length)):null;Hi.registerSaveRouter(Sye);Hi.registerLoadRouter(Sye);function aEt(t){return new f1(t)}w();_();var D_="/",k_="tensorflowjs_models",oEt="info",sEt="model_topology",uEt="weight_specs",fEt="weight_data",lEt="model_metadata";function cEt(t){return{info:[k_,t,oEt].join(D_),topology:[k_,t,sEt].join(D_),weightSpecs:[k_,t,uEt].join(D_),weightData:[k_,t,fEt].join(D_),modelMetadata:[k_,t,lEt].join(D_)}}function hEt(t){for(let e of Object.values(t))window.localStorage.removeItem(e)}var l1=class{constructor(e){if(!gn().getBool("IS_BROWSER")||typeof window=="undefined"||typeof window.localStorage=="undefined")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=cEt(this.modelPath)}save(e){return it(this,null,function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{let r=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),a=qh(e);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,r),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,xye(e.weightData));let o={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),{modelArtifactsInfo:a}}catch(o){throw hEt(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${a.modelTopologyBytes}, weightSpecsBytes=${a.weightSpecsBytes}, weightDataBytes=${a.weightDataBytes}.`)}}})}load(){return it(this,null,function*(){let e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");let r={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(n==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);r.modelTopology=n;let a=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(a==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);r.weightSpecs=a;let o=this.LS.getItem(this.keys.modelMetadata);if(o!=null){let u=JSON.parse(o);r.format=u.format,r.generatedBy=u.generatedBy,r.convertedBy=u.convertedBy,u.signature!=null&&(r.signature=u.signature),u.userDefinedMetadata!=null&&(r.userDefinedMetadata=u.userDefinedMetadata),u.modelInitializer!=null&&(r.modelInitializer=u.modelInitializer),u.trainingConfig!=null&&(r.trainingConfig=u.trainingConfig)}let s=this.LS.getItem(this.keys.weightData);if(s==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return r.weightData=_ye(s),r})}};l1.URL_SCHEME="localstorage://";var Eye=t=>gn().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(l1.URL_SCHEME)?pEt(t.slice(l1.URL_SCHEME.length)):null;Hi.registerSaveRouter(Eye);Hi.registerLoadRouter(Eye);function pEt(t){return new l1(t)}w();_();var dEt="model",mEt=".json",vEt=".weights.bin";function Mye(t){return new Promise(e=>setTimeout(e)).then(t)}var zh=class{constructor(e){if(!gn().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(zh.URL_SCHEME)&&(e=e.slice(zh.URL_SCHEME.length)),(e==null||e.length===0)&&(e=dEt),this.modelJsonFileName=e+mEt,this.weightDataFileName=e+vEt}save(e){return it(this,null,function*(){if(typeof document=="undefined")throw new Error("Browser downloads are not supported in this environment since `document` is not present");let r=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{let n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],a=t4(e,n),o=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),s=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(s.download=this.modelJsonFileName,s.href=o,yield Mye(()=>s.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){let u=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;u.download=this.weightDataFileName,u.href=r,yield Mye(()=>u.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:qh(e)}}})}};zh.URL_SCHEME="downloads://";var gEt=t=>gn().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(zh.URL_SCHEME)?yEt(t.slice(zh.URL_SCHEME.length)):null;Hi.registerSaveRouter(gEt);function yEt(t="model"){return new zh(t)}w();_();w();_();w();_();function b7(t,e,r,n){s(t),r=r==null?0:r,n=n==null?1:n,u(r,n);let a=0,o=f=>(f.then(l=>{let c=r+ ++a/t.length*(n-r);return e(c),l}),f);function s(f){At(f!=null&&Array.isArray(f)&&f.length>0,()=>"promises must be a none empty array")}function u(f,l){At(f>=0&&f<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${f}`),At(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${l}`),At(l>=f,()=>`startFraction must be no more than endFraction, but got startFraction ${f} and endFraction ${l}`)}return Promise.all(t.map(o))}function Aye(t,e){return it(this,null,function*(){e==null&&(e={});let r=e.fetchFunc==null?gn().platform.fetch:e.fetchFunc,n=t.map(h=>r(h,e.requestInit,{isBinary:!0})),a=0,o=.5,u=(e.onProgress==null?yield Promise.all(n):yield b7(n,e.onProgress,a,o)).map(h=>h.arrayBuffer()),f=.5,l=1;return e.onProgress==null?yield Promise.all(u):yield b7(u,e.onProgress,f,l)})}var wEt="application/octet-stream",xEt="application/json",I_=class{constructor(e,r){if(this.DEFAULT_METHOD="POST",r==null&&(r={}),this.weightPathPrefix=r.weightPathPrefix,this.onProgress=r.onProgress,this.weightUrlConverter=r.weightUrlConverter,r.fetchFunc!=null?(At(typeof r.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=r.fetchFunc):this.fetch=gn().platform.fetch,At(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&At(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,r.requestInit!=null&&r.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=r.requestInit||{}}save(e){return it(this,null,function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");let r=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);r.body=new FormData;let n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a=t4(e,n);r.body.append("model.json",new Blob([JSON.stringify(a)],{type:xEt}),"model.json"),e.weightData!=null&&r.body.append("model.weights.bin",new Blob([e.weightData],{type:wEt}),"model.weights.bin");let o=yield this.fetch(this.path,r);if(o.ok)return{modelArtifactsInfo:qh(e),responses:[o]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${o.status}.`)})}load(){return it(this,null,function*(){let e=yield this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let r;try{r=yield e.json()}catch(o){let s=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?s+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":s+=" Please make sure the server is serving valid JSON for this request.",new Error(s)}let n=r.modelTopology,a=r.weightsManifest;if(n==null&&a==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return r4(r,o=>this.loadWeights(o))})}loadWeights(e){return it(this,null,function*(){let r=Array.isArray(this.path)?this.path[1]:this.path,[n,a]=_Et(r),o=this.weightPathPrefix||n,s=[];for(let c of e)s.push(...c.weights);let u=[],f=[];for(let c of e)for(let h of c.paths)this.weightUrlConverter!=null?f.push(this.weightUrlConverter(h)):u.push(o+h+a);this.weightUrlConverter&&u.push(...yield Promise.all(f));let l=yield Aye(u,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[s,e4(l)]})}};I_.URL_SCHEME_REGEX=/^https?:\/\//;function _Et(t){let e=t.lastIndexOf("/"),r=t.lastIndexOf("?"),n=t.substring(0,e),a=r>e?t.substring(r):"";return[n+"/",a]}function w7(t){return t.match(I_.URL_SCHEME_REGEX)!=null}var Nye=(t,e)=>{if(typeof fetch=="undefined"&&(e==null||e.fetchFunc==null))return null;{let r=!0;if(Array.isArray(t)?r=t.every(n=>w7(n)):r=w7(t),r)return Tye(t,e)}return null};Hi.registerSaveRouter(Nye);Hi.registerLoadRouter(Nye);function Tye(t,e){return new I_(t,e)}w();_();w();_();w();_();function EEt(t,e){let r=t.shape.length,n=e.shape.length;if(r<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${r}.`);if(n<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${n}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[n-1]>r)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[n-1]} vs. ${r}`);if(zi(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);let a=e.shape,o=a[a.length-1],s=1;for(let h=0;h<a.length-1;++h)s*=a[h];let u=t.shape,f=a.slice();f.pop();let l=1;for(let h=o;h<r;++h)l*=u[h],f.push(u[h]);let c=[...gd(t.shape).map(h=>h/l),1].slice(0,o);return[f,s,l,c]}w();_();function Dye(t,e,r){let n=e.rank>1?e.shape[e.rank-1]:1,a=e.rank>1?e.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${r.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${n}, and batchDim: ${a}.`;if(r.rank<a)throw new Error(o+` update.rank < ${a}. `);if(t.length<n+(r.rank-a))throw new Error(o+` Output shape length < ${n+(r.rank-a)}`);if(r.rank!==a+t.length-n)throw new Error(o+` update.rank != ${a+t.length-n}`);for(let s=0;s<a;++s)if(r.shape[s]!==e.shape[s])throw new Error(o+` updates.shape[${s}] (${r.shape[s]}) != indices.shape[${s}] (${e.shape[s]}).`);for(let s=0;s<r.rank-a;++s)if(r.shape[s+a]!==t[s+n])throw new Error(o+` updates.shape[${s+a}] (${r.shape[s+a]}) != shape[${s+a}] (${t[s+a]})`)}function MEt(t,e,r){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(r.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${r}`);if(r.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}Dye(r,e,t)}function AEt(t,e,r){let n=e.shape.length,a=n>1?e.shape[n-1]:1,o=r.length,s=1;for(let h=a;h<o;++h)s*=r[h];let u=a<1?1:a,f=zi(e.shape)/u,l=[...gd(r.slice(0,a)),1],c=zi(r);return{sliceRank:a,numUpdates:f,sliceSize:s,strides:l,outputSize:c}}var S7={};tl(S7,{assertParamsValid:()=>TEt,computeFlatOffset:()=>OEt,computeOutShape:()=>kEt,getNormalizedAxes:()=>IEt,isSliceContinous:()=>CEt,maskToAxes:()=>DEt,parseSliceParams:()=>_7,sliceInfo:()=>REt,startForAxis:()=>Lye,startIndicesWithElidedDims:()=>Rye,stopForAxis:()=>Pye,stopIndicesWithElidedDims:()=>Fye,stridesForAxis:()=>Bye,stridesWithElidedDims:()=>Iye});w();_();var x7=-2,NEt=-1;function TEt(t,e,r){let n=t.shape.length;At(n===e.length,()=>`Error in slice${n}D: Length of begin ${e} must match the rank of the array (${n}).`),At(n===r.length,()=>`Error in slice${n}D: Length of size ${r} must match the rank of the array (${n}).`);for(let a=0;a<n;++a)At(e[a]+r[a]<=t.shape[a],()=>`Error in slice${n}D: begin[${a}] + size[${a}] (${e[a]+r[a]}) would overflow input.shape[${a}] (${t.shape[a]})`)}function DEt(t){let e=[],r=0;for(;t>0;)t&1&&e.push(r),t/=2,r++;return e}function kEt(t,e,r){let n=[];for(let a=0;a<t.length;a++)n[a]=Math.ceil((e[a]-t[a])/r[a]);return n}function Iye(t,e,r,n){let a=[...t];for(let o=a.length;o<n.length;o++)a.push(1);for(let o=0;o<r;o++)o===0?a[e]=1:(a.splice(e,0,1),a.pop());return a}function Cye(t,e,r){return r<=t?r:r-(e-1)}function Oye(t,e){let r=[];for(let n=0;n<t;n++)r.push(e+n);return r}function IEt(t,e,r,n,a,o,s,u,f){let l=t.length,c=new Array(l),h=new Array(l),m=new Array(l);if(e.length&&r>0){let g=e[0],b=r+1;c=Rye(s,g,b,n,t),h=Fye(u,g,b,a,t),m=Iye(o,g,b,t)}else for(let g=0;g<l;g++)c[g]=Lye(s,n,o,t,g,f),h[g]=Pye(u,a,o,t,g,f),m[g]=Bye(o,g,f);return{begin:c,end:h,strides:m}}function Rye(t,e,r,n,a){let o=[...a],s=Oye(r,e);for(let u=0;u<o.length;u++)if(s.indexOf(u)>-1)o[u]=0;else{let f=Cye(e,r,u),l=n[f];t&1<<f&&(l=0),o[u]=l}return o}function Fye(t,e,r,n,a){let o=[...a],s=Oye(r,e);for(let u=0;u<o.length;u++)if(s.indexOf(u)>-1)o[u]=Number.MAX_SAFE_INTEGER;else{let f=Cye(e,r,u),l=n[f];t&1<<f&&(l=Number.MAX_SAFE_INTEGER),o[u]=l}for(let u=0;u<o.length;u++){let f=a[u];o[u]<0&&(o[u]+=f),o[u]=p_(0,o[u],a[u])}return o}function Bye(t,e,r){let n=t[e];return(r&1<<e||n==null)&&(n=1),n}function Lye(t,e,r,n,a,o){let s=e[a],u=r[a]||1;(t&1<<a||o&1<<a||s==null)&&(u>0?s=Number.MIN_SAFE_INTEGER:s=Number.MAX_SAFE_INTEGER);let f=n[a];return s<0&&(s+=f),s=p_(0,s,f-1),s}function Pye(t,e,r,n,a,o){let s=e[a],u=r[a]||1;(t&1<<a||o&1<<a||s==null)&&(u>0?s=Number.MAX_SAFE_INTEGER:s=Number.MIN_SAFE_INTEGER);let f=n[a];return s<0&&(s+=f),u>0?s=p_(0,s,f):s=p_(-1,s,f-1),s}function CEt(t,e,r){let n=r.length;for(let a=0;a<r.length;a++)if(r[a]>1){n=a;break}for(let a=n+1;a<r.length;a++)if(e[a]>0||r[a]!==t[a])return!1;return!0}function OEt(t,e){let r=t.length>0?t[t.length-1]:1;for(let n=0;n<t.length-1;n++)r+=t[n]*e[n];return r}function _7(t,e,r){let n,a=t.shape.length;typeof e=="number"?n=[e,...new Array(a-1).fill(0)]:e.length<a?n=e.concat(new Array(a-e.length).fill(0)):n=e.slice(),n.forEach(s=>{At(s!==-1,()=>"slice() does not support negative begin indexing.")});let o;return r==null?o=new Array(a).fill(-1):typeof r=="number"?o=[r,...new Array(a-1).fill(-1)]:r.length<a?o=r.concat(new Array(a-r.length).fill(-1)):o=r,o=o.map((s,u)=>s>=0?s:(At(s===-1,()=>`Negative size values should be exactly -1 but got ${s} for the slice() size at index ${u}.`),t.shape[u]-n[u])),[n,o]}function REt(t,e,r,n,a,o,s,u,f){let l;if(n==null?(l=new Array(e.length),l.fill(1)):l=n,s!=null&&(s&s-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1,h={dims:l.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:r.slice(),strides:l.slice(),beginMask:a,endMask:o,ellipsisMask:s,newAxisMask:u,shrinkAxisMask:f};for(let O=0;O<h.dims;O++)c&&(1<<O&u)!==0&&h.numAddAxisAfterEllipsis++,1<<O&s&&(c=!0);c||(h.ellipsisMask|=1<<h.dims,h.dims++);let m={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};FEt(h,m);let g=!0,b=!0,A=!0,I=[],C=[];for(let O=0;O<t.length;++O){if(m.strides[O]===0)throw Error(`strides[${O}] must be non-zero`);let F=!!(m.shrinkAxisMask&1<<O),z=t[O];if(z===-1){I.push(F?1:-1);continue}let B=[m.beginMask&1<<O,m.endMask&1<<O],$=[m.strides[O]>0?0:-1,m.strides[O]>0?z:z-1];if(F&&m.strides[O]<=0)throw Error("only stride 1 allowed on non-range indexing.");A=A&&m.strides[O]===1;let j=!!(m.beginMask&1<<O&&m.endMask&1<<O);if(m.beginValid&&m.endValid){if(F){let v=m.begin[O]<0?z+m.begin[O]:m.begin[O];if(m.begin[O]=v,m.end[O]=m.begin[O]+1,v<0||v>=z)throw Error(`slice index ${m.begin[O]} of dimension ${O} out of bounds.`)}else m.begin[O]=kye(m.begin[O],0,m.strides[O],z,B,$),m.end[O]=kye(m.end[O],1,m.strides[O],z,B,$);let p=m.strides[O]===1&&m.begin[O]===0&&m.end[O]===z;g=g&&p,b=b&&(O===0&&m.strides[O]===1||p)}else g=g&&m.strides[O]===1&&j,b=b&&(O===0&&m.strides[O]===1||j);let W,T=!1;if(m.beginValid&&m.endValid?(W=m.end[O]-m.begin[O],T=!0):F?(W=1,T=!0):j&&z>=0&&(m.strides[O]<0?W=-z:W=z,T=!0),T){let p;W===0||W<0!=m.strides[O]<0?p=0:p=Math.trunc(W/m.strides[O])+(W%m.strides[O]!==0?1:0),I.push(p)}else I.push(-1)}for(let O=0;O<m.finalShapeGatherIndices.length;++O){let F=m.finalShapeGatherIndices[O];F>=0?C.push(I[F]):F===x7&&C.push(1)}return{finalShapeSparse:C.filter((O,F)=>m.finalShapeGatherIndices[F]!==x7),finalShape:C,isIdentity:g,sliceDim0:b,isSimpleSlice:A,begin:m.begin,end:m.end,strides:m.strides}}function FEt(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let r=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let n=0;n<t.dims;n++)if(1<<n&t.ellipsisMask){let a=Math.min(e.dims-(t.dims-n)+1+t.numAddAxisAfterEllipsis,e.dims);for(;r<a;r++)e.begin[r]=0,e.end[r]=0,e.strides[r]=1,e.beginMask|=1<<r,e.endMask|=1<<r,e.finalShapeGatherIndices.push(r),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[r]=n}else if(1<<n&t.newAxisMask)e.finalShapeGatherIndices.push(x7),e.finalShapeGatherIndicesSparse.push(-1);else{if(r===e.begin.length)throw Error(`Index out of range using input dim ${r}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[r]=t.begin[n]),t.end!=null&&(e.end[r]=t.end[n]),e.strides[r]=t.strides[n],t.beginMask&1<<n&&(e.beginMask|=1<<r),t.endMask&1<<n&&(e.endMask|=1<<r),t.shrinkAxisMask&1<<n?(e.finalShapeGatherIndices.push(NEt),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<r):(e.finalShapeGatherIndices.push(r),e.finalShapeGatherIndicesSparse.push(n)),e.inputShapeGatherIndicesSparse[r]=n,r++}}function kye(t,e,r,n,a,o){if(a[e])return r>0?o[e]:o[e+1&1];{let s=t<0?n+t:t;return s<o[0]?o[0]:s>o[1]?o[1]:s}}w();_();function BEt(t,e=0){At(t.length>=1,()=>"Pass at least one tensor to concat");let r=VD(t,"tensors","concat","string_or_numeric");if(r[0].dtype==="complex64"&&r.forEach(o=>{if(o.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${o.dtype}. `)}),r.length===1)return KD(r[0]);let n=r,a={axis:e};return st.runKernel(GT,n,a)}var qye=St({concat_:BEt});w();_();function LEt(t){let r={x:xt(t,"x","sigmoid","float32")};return st.runKernel(ED,r)}var i4=St({sigmoid_:LEt});w();_();function PEt(t,e,r){let n=xt(t,"x","batchToSpaceND"),a=e.reduce((u,f)=>u*f);At(n.rank>=1+e.length,()=>`input rank is ${n.rank} but should be > than blockShape.length ${e.length}`),At(r.length===e.length,()=>`crops.length is ${r.length} but should be equal to blockShape.length  ${e.length}`),At(n.shape[0]%a===0,()=>`input tensor batch is ${n.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${a}`);let o={x:n},s={blockShape:e,crops:r};return st.runKernel(WT,o,s)}var zye=St({batchToSpaceND_:PEt});w();_();function qEt(t){let r={x:xt(t,"x","cos","float32")};return st.runKernel(ZT,r)}var a4=St({cos_:qEt});w();_();function zEt(t){let r={x:xt(t,"x","cosh","float32")};return st.runKernel(JT,r)}var Uye=St({cosh_:zEt});w();_();function UEt(t,e=0,r=!1,n=!1){let o={x:xt(t,"x","cumprod")},s={axis:e,exclusive:r,reverse:n};return st.runKernel(o0e,o,s)}var E7=St({cumprod_:UEt});w();_();function jEt(t){let r={x:xt(t,"x","elu","float32")};return st.runKernel(QT,r)}var jye=St({elu_:jEt});w();_();function $Et(t,e=0){let r=xt(t,"x","expandDims","string_or_numeric");At(e<=r.rank,()=>"Axis must be <= rank of the tensor");let n={input:r},a={dim:e};return st.runKernel(tD,n,a)}var $ye=St({expandDims_:$Et});w();_();function VEt(t,e,r=0,n=0){let a=xt(t,"x","gather"),o=xt(e,"indices","gather","int32"),s={x:a,indices:o},u={axis:r,batchDims:n};return st.runKernel(iD,s,u)}var Vye=St({gather_:VEt});w();_();function WEt(t,e=.2){let n={x:xt(t,"x","leakyRelu")},a={alpha:e};return st.runKernel(oD,n,a)}var Wye=St({leakyRelu_:WEt});w();_();function GEt(t){let r={x:xt(t,"x","logicalNot","bool")};return st.runKernel(N0e,r)}var Gye=St({logicalNot_:GEt});w();_();function HEt(t,e){let r=xt(t,"a","maximum"),n=xt(e,"b","maximum");[r,n]=Ui(r,n),r.dtype==="bool"&&(r=sr(r,"int32"),n=sr(n,"int32")),On(r.shape,n.shape);let a={a:r,b:n};return st.runKernel(uD,a)}var Hye=St({maximum_:HEt});w();_();function KEt(t,e,r=0){let n=xt(t,"x","pad");if(n.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");let a={paddings:e,constantValue:r},o={x:n};return st.runKernel(hD,o,a)}var Kye=St({pad_:KEt});w();_();function ZEt(t,e){let r=xt(t,"x","prelu"),n=xt(e,"alpha","prelu"),a={x:r,alpha:n};return st.runKernel(dD,a)}var Zye=St({prelu_:ZEt});w();_();function rMt(t){let r={x:xt(t,"x","relu")};return st.runKernel(mD,r)}var h1e=St({relu_:rMt});w();_();function nMt(t){let r={x:xt(t,"x","relu6")};return st.runKernel(gD,r)}var p1e=St({relu6_:nMt});w();_();function iMt(t,e){let n={x:xt(t,"x","reverse")},a={dims:e};return st.runKernel(yD,n,a)}var d1e=St({reverse_:iMt});w();_();function aMt(t,e=0){let r=VD(t,"tensors","stack","string_or_numeric");At(r.length>=1,()=>"Pass at least one tensor to tf.stack"),r.length>0&&At(e<=r[0].rank,()=>"Axis must be <= rank of the tensor");let n=r,a={axis:e};return st.runKernel(cD,n,a)}var m1e=St({stack_:aMt});w();_();function oMt(t,e,r){if(r==null||r==="linear")return t;if(r==="relu")return Ct(t,bd(e));throw new Error(`Cannot compute gradient for fused activation ${r}.`)}function sMt(t,e){let r=e,n=Xn(t.shape,e.shape);return n.length>0&&(r=an(r,n)),Pt(r,t.shape)}function uMt(t,e,r,n){if(e==="linear")return t;if(e==="relu")return h1e(t);if(e==="elu")return jye(t);if(e==="relu6")return p1e(t);if(e==="prelu")return Zye(t,r);if(e==="leakyrelu")return Wye(t,n);if(e==="sigmoid")return i4(t);throw new Error(`Unknown fused activation ${e}.`)}var fMt=(t,e)=>!(t>0)||e==="linear";var C_={};tl(C_,{ERF_A1:()=>wMt,ERF_A2:()=>xMt,ERF_A3:()=>_Mt,ERF_A4:()=>SMt,ERF_A5:()=>EMt,ERF_P:()=>bMt,PARALLELIZE_THRESHOLD:()=>s4,SELU_SCALE:()=>C7,SELU_SCALEALPHA:()=>I7,applyActivation:()=>uMt,assertAndGetBroadcastShape:()=>On,assertAxesAreInnerMostDims:()=>TSt,assertParamsConsistent:()=>lMt,assignToTypedArray:()=>kMt,axesAreInnerMostDims:()=>p7,calculateShapes:()=>AEt,checkEinsumDimSizes:()=>BMt,checkPadOnDimRoundingMode:()=>ws,combineLocations:()=>mge,complexWithEvenIndex:()=>NMt,complexWithOddIndex:()=>TMt,computeConv2DInfo:()=>c7,computeConv3DInfo:()=>jve,computeDefaultPad:()=>h7,computeDilation2DInfo:()=>nSt,computeOptimalWindowSize:()=>hMt,computeOutAndReduceShapes:()=>d7,computeOutShape:()=>cMt,computePool2DInfo:()=>iSt,computePool3DInfo:()=>aSt,convertConv2DDataFormat:()=>$ve,decodeEinsumEquation:()=>RMt,eitherStridesOrDilationsAreOne:()=>A_,expandShapeToKeepDim:()=>YD,exponent:()=>CMt,exponents:()=>IMt,fromStringArrayToUint8:()=>nAt,fromUint8ToStringArray:()=>rAt,getAxesPermutation:()=>m7,getBroadcastDims:()=>X_t,getComplexWithIndex:()=>DMt,getEinsumComputePath:()=>LMt,getEinsumPermutation:()=>FMt,getFusedBiasGradient:()=>sMt,getFusedDyActivation:()=>oMt,getImageCenter:()=>pMt,getInnerMostAxes:()=>DSt,getPermuted:()=>mMt,getReductionAxes:()=>Xn,getReshaped:()=>dMt,getReshapedPermuted:()=>vMt,getSliceBeginCoords:()=>gMt,getSliceSize:()=>yMt,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>UMt,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>jMt,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>$Mt,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>GMt,getSparseReshapeInputOutputMismatchErrorMessage:()=>KMt,getSparseReshapeInputOutputMultipleErrorMessage:()=>HMt,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>VMt,getSparseReshapeNegativeOutputDimErrorMessage:()=>WMt,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>XMt,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>ZMt,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>JMt,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>YMt,getUndoAxesPermutation:()=>N_,isIdentityPermutation:()=>PMt,log:()=>D_t,mergeRealAndImagArrays:()=>MMt,prepareAndValidate:()=>EEt,prepareSplitSize:()=>zMt,segment_util:()=>R7,shouldFuse:()=>fMt,slice_util:()=>S7,splitRealAndImagArrays:()=>AMt,tupleValuesAreOne:()=>Bh,upcastType:()=>jD,validateInput:()=>MEt,validateUpdateShape:()=>Dye,warn:()=>Fh});w();_();w();_();function lMt(t,e){let r=t[0].length;t.forEach((a,o)=>{At(a.length===r,()=>`Error in concat${r}D: rank of tensors[${o}] must be the same as the rank of the rest (${r})`)}),At(e>=0&&e<r,()=>`Error in concat${r}D: axis must be between 0 and ${r-1}.`);let n=t[0];t.forEach((a,o)=>{for(let s=0;s<r;s++)At(s===e||a[s]===n[s],()=>`Error in concat${r}D: Shape of tensors[${o}] (${a}) does not match the shape of the rest (${n}) along the non-concatenated axis ${o}.`)})}function cMt(t,e){let r=t[0].slice();for(let n=1;n<t.length;n++)r[e]+=t[n][e];return r}w();_();var s4=30;function hMt(t){return t<=s4?t:g_(t,Math.floor(Math.sqrt(t)))}w();_();function pMt(t,e,r){let n=r*(typeof t=="number"?t:t[0]),a=e*(typeof t=="number"?t:t[1]);return[n,a]}w();_();function dMt(t,e,r,n=!0){let a=[];if(n)a=a.concat(e.slice(0)),a.push(t[0]/r),a=a.concat(t.slice(1));else{a=a.concat(t[0]);let o=e.length;for(let s=0;s<o;++s)a=a.concat([t[s+1]/e[s],e[s]]);a=a.concat(t.slice(o+1))}return a}function mMt(t,e,r=!0){let n=[];if(r){n.push(e);for(let a=e+1;a<t;++a)a<=2*e?(n.push(a),n.push(a-(e+1))):n.push(a)}else{let a=[],o=[];for(let s=1;s<t;++s)s>=e*2+1||s%2===1?o.push(s):a.push(s);n.push(...a),n.push(0),n.push(...o)}return n}function vMt(t,e,r,n=!0){let a=[];n?a.push(t[0]/r):a.push(t[0]*r);for(let o=1;o<t.length;++o)o<=e.length?n?a.push(e[o-1]*t[o]):a.push(t[o]/e[o-1]):a.push(t[o]);return a}function gMt(t,e){let r=[0];for(let n=0;n<e;++n)r.push(t[n][0]);return r}function yMt(t,e,r){let n=t.slice(0,1);for(let a=0;a<r;++a)n.push(t[a+1]-e[a][0]-e[a][1]);return n}w();_();var I7=1.7580993408473768,C7=1.0507009873554805;w();_();var bMt=.3275911,wMt=.254829592,xMt=-.284496736,_Mt=1.421413741,SMt=-1.453152027,EMt=1.061405429;w();_();function MMt(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);let r=new Float32Array(t.length*2);for(let n=0;n<r.length;n+=2)r[n]=t[n/2],r[n+1]=e[n/2];return r}function AMt(t){let e=new Float32Array(t.length/2),r=new Float32Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n/2]=t[n],r[n/2]=t[n+1];return{real:e,imag:r}}function NMt(t){let e=Math.ceil(t.length/4),r=new Float32Array(e),n=new Float32Array(e);for(let a=0;a<t.length;a+=4)r[Math.floor(a/4)]=t[a],n[Math.floor(a/4)]=t[a+1];return{real:r,imag:n}}function TMt(t){let e=Math.floor(t.length/4),r=new Float32Array(e),n=new Float32Array(e);for(let a=2;a<t.length;a+=4)r[Math.floor(a/4)]=t[a],n[Math.floor(a/4)]=t[a+1];return{real:r,imag:n}}function DMt(t,e){let r=t[e*2],n=t[e*2+1];return{real:r,imag:n}}function kMt(t,e,r,n){t[n*2]=e,t[n*2+1]=r}function IMt(t,e){let r=new Float32Array(t/2),n=new Float32Array(t/2);for(let a=0;a<Math.ceil(t/2);a++){let o=(e?2:-2)*Math.PI*(a/t);r[a]=Math.cos(o),n[a]=Math.sin(o)}return{real:r,imag:n}}function CMt(t,e,r){let n=(r?2:-2)*Math.PI*(t/e),a=Math.cos(n),o=Math.sin(n);return{real:a,imag:o}}w();_();var O7="->",OMt=/->/g,v1e=",",g1e="...";function RMt(t,e){t=t.replace(/\s/g,"");let r=(t.length-t.replace(OMt,"").length)/O7.length;if(r<1)throw new Error("Equations without an arrow are not supported.");if(r>1)throw new Error(`Equation must contain exactly one arrow ("${O7}").`);let[n,a]=t.split(O7);At(n.indexOf(g1e)===-1,()=>`The ellipsis notation ("${g1e}") is not supported yet.`);let o=n.split(v1e),s=o.length;if(e!==s)throw new Error(`Expected ${s} input tensors, received ${e}`);if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");let u=[];for(let m=0;m<a.length;++m){let g=a[m];if(!o.some(b=>b.indexOf(g)!==-1))throw new Error(`Output subscripts contain the label ${g} not present in the input subscripts.`);u.indexOf(g)===-1&&u.push(g)}for(let m=0;m<n.length;++m){let g=n[m];u.indexOf(g)===-1&&g!==v1e&&u.push(g)}let f=new Array(o.length);for(let m=0;m<s;++m){if(new Set(o[m].split("")).size!==o[m].length)throw new Error(`Found duplicate axes in input component ${o[m]}. Support for duplicate axes in input is not implemented yet.`);f[m]=[];for(let g=0;g<o[m].length;++g)f[m].push(u.indexOf(o[m][g]))}let l=u.length,c=a.length,h=[];for(let m=c;m<l;++m)h.push(m);return{allDims:u,summedDims:h,idDims:f}}function FMt(t,e){let r=new Array(t);r.fill(-1);for(let a=0;a<e.length;++a)r[e[a]]=a;let n=[];for(let a=0;a<t;++a)r[a]===-1&&n.push(a);return r=r.filter(a=>a!==-1),{permutationIndices:r,expandDims:n}}function BMt(t,e,r){let n=new Array(t);for(let a=0;a<r.length;++a){let o=r[a].shape;for(let s=0;s<e[a].length;++s)n[e[a][s]]===void 0?n[e[a][s]]=o[s]:At(n[e[a][s]]===o[s],()=>`Expected dimension ${n[e[a][s]]} at axis ${s} of input shaped ${JSON.stringify(o)}, but got dimension ${o[s]}`)}}function LMt(t,e){let r=t,n=[],a=0;t.length===0&&r.push(-1),a=t.length+1;for(let s=0;s<a;++s)n.push([]);let o=[];for(let s=0;s<r.length;++s){let u=r[s],f=qMt(e,u);for(let l of f)o.indexOf(l)===-1&&(n[s].push(l),o.push(l))}return{path:r,steps:n}}function PMt(t){return t.every((e,r)=>e===r)}function qMt(t,e){let r=[];for(let n=0;n<t.length;++n)(t[n].length===0||t[n].indexOf(e)!==-1||e===-1)&&r.push(n);return r}w();_();function zMt(t,e,r=0){let n=[];if(typeof e=="number")At(t.shape[r]%e===0,()=>"Number of splits must evenly divide the axis."),n=new Array(e).fill(t.shape[r]/e);else{let a=e.reduce((s,u)=>(u===-1&&(s+=1),s),0);At(a<=1,()=>"There should be only one negative value in split array.");let o=e.indexOf(-1);if(o!==-1){let s=e.reduce((u,f)=>f>0?u+f:u);e[o]=t.shape[r]-s}At(t.shape[r]===e.reduce((s,u)=>s+u),()=>"The sum of sizes must match the size of the axis dimension."),n=e}return n}w();_();function UMt(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function jMt(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function $Mt(t,e,r){return`indices(${t}, 0) is invalid: ${e} >= ${r}`}w();_();function VMt(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function WMt(t,e){return`size ${t} must be non-negative, not ${e}`}function GMt(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function HMt(t,e){let r=zi(t),n=zi(e);return`Input to reshape is a SparseTensor with ${r}
  dense values, but the requested shape requires a multiple of ${n}. inputShape=${t} outputShape= ${e}`}function KMt(t,e){let r=zi(t),n=zi(e);return`Input to reshape is a tensor with ${r} dense values, but the requested shape has ${n}. inputShape=${t} outputShape=${e}`}w();_();function ZMt(){return"segment ids must be >= 0"}function JMt(){return"segment ids are not increasing"}function YMt(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function XMt(t,e,r){return`Bad: indices[${t}] == ${e} out of range [0, ${r})`}var R7={};tl(R7,{collectGatherOpShapeInfo:()=>tAt,computeOutShape:()=>eAt,segOpComputeOptimalWindowSize:()=>QMt});w();_();function QMt(t,e){let r=!1,n;for(t<=s4?(n=t,r=!0):n=g_(t,Math.floor(Math.sqrt(t)));!r;)n>e||n===t?r=!0:n=g_(t,n+1);return n}function eAt(t,e,r){let n=[],a=t.length;for(let o=0;o<a;o++)o!==e?n.push(t[o]):n.push(r);return n}function tAt(t,e,r,n){let a=e.shape.length,o=t.shape.length;if(n!==0&&(n<-a||n>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${n}`);if(n<0&&(n+=a),n>o)throw new Error(`batchDims (${n}) must be less than rank(x) (
    ${o}).`);if(r<n)throw new Error(`batchDims (${n}) must be less than or equal to axis (${r}).`);for(let h=0;h<n;++h)if(t.shape[h]!==e.shape[h])throw new Error(`x.shape[${h}]: ${t.shape[h]} should be equal to indices.shape[${h}]: ${e.shape[h]}.`);let s=t.shape[r],u=[],f=1,l=1,c=1;for(let h=0;h<n;++h)u.push(t.shape[h]),f*=t.shape[h];for(let h=n;h<r;h++)u.push(t.shape[h]),l*=t.shape[h];for(let h=n;h<a;h++)u.push(e.shape[h]);for(let h=r+1;h<o;h++)u.push(t.shape[h]),c*=t.shape[h];return{batchSize:f,sliceSize:c,outerSize:l,dimSize:s,outputShape:u}}function rAt(t){try{return t.map(e=>w_(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function nAt(t){return t.map(e=>qD(e))}function iAt(t,e,r){let n=t.shape.slice();n[r]=1;let a=Pt(e,n),o=E7(t,r,!0,!1),s=E7(t,r,!0,!0),u=Ct(o,s);return Ct(a,u)}function aAt(t,e,r){let n=t.shape.length,a=n-r.length,o=C_.getAxesPermutation(r,n),s=t;o!=null&&(s=kc(t,o));let u=s.shape.slice(),l=u.splice(n-r.length,r.length).reduce((m,g)=>m*g,1);u.push(l);let c=s.reshape(u),h=iAt(c,e,a);if(h=h.reshape(s.shape),o!=null){let m=C_.getUndoAxesPermutation(o);h=kc(h,m)}return h}var y1e={kernelName:$0e,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{axis:a}=r,o=[];return a==null?o=n.shape.map((s,u)=>u):typeof a=="number"?o=[a]:o=a,{x:()=>aAt(n,t,o)}}};w();_();var b1e={kernelName:XT,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=On(r.shape,n.shape);return{a:()=>{let u=yn(t,sr(n,"float32")),f=Xn(r.shape,a);return f.length>0?Pt(an(u,f),r.shape):u},b:()=>{let u=Ct(t,sr(r,"float32")),f=Xn(n.shape,a);f.length>0&&(u=Pt(an(u,f),n.shape));let l=ui(n);return ta(yn(u,sr(l,"float32")))}}}};w();_();var w1e={kernelName:W0e,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>yn(t,ta(ui(r)))}}};w();_();var x1e={kernelName:gD,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e,n=Ct(o1(r,6),bd(r));return{x:()=>Ct(t,sr(n,"float32"))}}};w();_();var _1e={kernelName:mD,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Ct(t,sr(bd(r),"float32"))}}};w();_();var S1e={kernelName:vD,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Pt(t,r.shape)}}};w();_();var E1e={kernelName:K0e,inputsToSave:["images"],gradFunc:(t,e,r)=>{let[n]=e,a={dy:t,images:n};return{images:()=>st.runKernel(Z0e,a,r)}}};w();_();var M1e={kernelName:G0e,inputsToSave:["images"],gradFunc:(t,e,r)=>{let[n]=e,a={dy:t,images:n};return{images:()=>st.runKernel(H0e,a,r)}}};w();_();var A1e={kernelName:yD,gradFunc:(t,e,r)=>{let{dims:n}=r,a=Us(n,t.shape);return{x:()=>d1e(t,a)}}};w();_();var N1e={kernelName:J0e,gradFunc:t=>({x:()=>en(t)})};w();_();var T1e={kernelName:bD,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>ta(yn(t,Ct(QD(r,1.5),2)))}}};w();_();var D1e={kernelName:wD,inputsToSave:["condition"],gradFunc:(t,e)=>{let[r]=e;return{condition:()=>sr(en(r),"float32"),t:()=>Ct(t,sr(r,t.dtype)),e:()=>Ct(t,sr(Gye(r),t.dtype))}}};w();_();var k1e={kernelName:Y0e,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>{let n=Ic(r,Mi(0)),a=Mi(I7),o=Mi(C7),s=Ct(t,o),u=Ct(Ct(t,a),wd(sr(r,"float32")));return gu(n,s,u)}}}};w();_();var I1e={kernelName:ED,outputsToSave:[!0],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Ct(t,Ct(r,pa(Mi(1),r)))}}};w();_();var C1e={kernelName:X0e,gradFunc:t=>({x:()=>en(t)})};w();_();var O1e={kernelName:_D,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Ct(a4(sr(r,"float32")),t)}}};w();_();var R1e={kernelName:SD,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Ct(Uye(sr(r,"float32")),t)}}};w();_();var F1e={kernelName:xD,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{begin:a,size:o}=r,s=n.shape,[u,f]=_7(n,a,o),l=[];for(let c=0;c<t.rank;c++)l.push([u[c],s[c]-u[c]-f[c]]);return{x:()=>Kye(t,l)}}};w();_();var B1e={kernelName:eve,outputsToSave:[!0],gradFunc:(t,e,r)=>{let[n]=e,{dim:a}=r,o=!0,s=Ct(t,n);return{logits:()=>pa(s,Ct(an(s,[a],o),n))}}};w();_();var L1e={kernelName:Q0e,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Ct(t,i4(r))}}};w();_();var F7={kernelName:ND,gradFunc:(t,e,r)=>{let{blockShape:n,paddings:a}=r;return{x:()=>zye(t,n,a)}}};w();_();var B7={kernelName:TD,gradFunc:(t,e,r)=>{let{axis:n}=r;return{x:()=>qye(t,n)}}};w();_();var P1e={kernelName:MD,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>yn(t,Ct(Dc(sr(r,"float32")),2))}}};w();_();var q1e={kernelName:rve,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Ct(t,Ct(sr(r,"float32"),2))}}};w();_();var z1e={kernelName:tve,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=Mi(2);return{a:()=>Ct(t,Ct(a,pa(r,n))),b:()=>Ct(t,Ct(a,pa(n,r)))}}};w();_();var U1e={kernelName:OD,gradFunc:t=>({x:()=>en(t)})};w();_();var j1e={kernelName:DD,inputsToSave:["a","b"],gradFunc:(t,e)=>{let[r,n]=e,a=On(r.shape,n.shape);return{a:()=>{let u=t,f=Xn(r.shape,a);return f.length>0&&(u=an(u,f)),Pt(u,r.shape)},b:()=>{let u=t,f=Xn(n.shape,a);return f.length>0&&(u=an(u,f)),Pt(ta(u),n.shape)}}}};w();_();var $1e={kernelName:AD,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,a=n.shape.slice(),{axis:o}=r;Us(o,n.shape).forEach(l=>{a[l]=1});let u=Pt(t,a),f=Ct(u,V0(n.shape,"float32"));return{x:()=>f}}};w();_();var V1e={kernelName:nve,inputsToSave:["x"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>yn(t,ui(a4(r)))}}};w();_();var W1e={kernelName:ive,outputsToSave:[!0],gradFunc:(t,e)=>{let[r]=e;return{x:()=>Ct(pa(Mi(1),ui(r)),t)}}};w();_();var G1e={kernelName:Xy,inputsToSave:["x"],gradFunc:(t,e,r)=>{let[n]=e,{reps:a}=r;return{x:()=>{let s=en(n);if(n.rank===1)for(let u=0;u<a[0];++u)s=os(s,Ph(t,[u*n.shape[0]],[n.shape[0]]));else if(n.rank===2)for(let u=0;u<a[0];++u)for(let f=0;f<a[1];++f)s=os(s,Ph(t,[u*n.shape[0],f*n.shape[1]],[n.shape[0],n.shape[1]]));else if(n.rank===3)for(let u=0;u<a[0];++u)for(let f=0;f<a[1];++f)for(let l=0;l<a[2];++l)s=os(s,Ph(t,[u*n.shape[0],f*n.shape[1],l*n.shape[2]],[n.shape[0],n.shape[1],n.shape[2]]));else if(n.rank===4)for(let u=0;u<a[0];++u)for(let f=0;f<a[1];++f)for(let l=0;l<a[2];++l)for(let c=0;c<a[3];++c)s=os(s,Ph(t,[u*n.shape[0],f*n.shape[1],l*n.shape[2],c*n.shape[3]],[n.shape[0],n.shape[1],n.shape[2],n.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${n.rank} tensors yet.`);return s}}}};w();_();var H1e={kernelName:Qy,gradFunc:(t,e,r)=>{let n=r,{perm:a}=n,o=N_(a);return{x:()=>kc(t,o)}}};w();_();var K1e={kernelName:kD,gradFunc:(t,e,r)=>{let n=r,{axis:a}=n;return{value:()=>m1e(t,a)}}};w();_();var Z1e={kernelName:ID,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{let[r]=e;return{x:()=>oAt(t,r)}}};function oAt(t,e){let r=Hye(e,en(e)),n=Vye(t,r),a=a1(e,Mi(0,"int32")),o=n.rank-a.rank;for(let u=0;u<o;++u)a=$ye(a,u+1);a=HD(a,V0(n.shape,"bool"));let s=en(n);return gu(a,n,s)}w();_();var J1e={kernelName:CD,gradFunc:t=>({x:()=>en(t)})};var sAt=[WD,Ive,Cve,Ove,Rve,Fve,Bve,Lve,Pve,qve,zve,Uve,Wve,Hve,Kve,Jve,Yve,Xve,Qve,ege,tge,nge,sge,age,lge,hge,dge,xge,Ege,Mge,b1e,Age,Nge,Tge,Dge,kge,Cge,Ige,Fge,qge,zge,Uge,jge,$ge,Vge,Wge,Gge,Hge,Kge,Jge,v7,v7,Qge,tye,nye,iye,aye,oye,sye,fye,lye,cye,hye,pye,mye,g7,g7,gye,yye,y1e,w1e,x1e,_1e,S1e,E1e,M1e,A1e,N1e,T1e,D1e,k1e,I1e,C1e,O1e,R1e,F1e,B1e,L1e,F7,F7,B7,B7,P1e,z1e,q1e,U1e,j1e,$1e,V1e,W1e,G1e,H1e,K1e,Z1e,J1e];for(let t of sAt)vve(t);w();_();w();_();var ra=Bt(_r()),Ef=Bt(_r());function L7(t,e){return(0,Ef.tidy)(()=>ra.sqrt(ra.sum(ra.mul(t,t),e,!0)))}var G0=class extends Ef.serialization.Serializable{getConfig(){return{}}},O_=class extends G0{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return(0,Ef.tidy)(()=>{let r=L7(e,this.axis),n=ra.clipByValue(r,0,this.maxValue);return ra.mul(e,ra.div(n,ra.add(ha(),r)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}};O_.className="MaxNorm";Ef.serialization.registerClass(O_);var R_=class extends G0{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return(0,Ef.tidy)(()=>ra.div(e,ra.add(ha(),L7(e,this.axis))))}getConfig(){return{axis:this.axis}}};R_.className="UnitNorm";Ef.serialization.registerClass(R_);var F_=class extends G0{apply(e){return ra.relu(e)}};F_.className="NonNeg";Ef.serialization.registerClass(F_);var B_=class extends G0{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return(0,Ef.tidy)(()=>{let r=L7(e,this.axis),n=ra.add(ra.mul(this.rate,ra.clipByValue(r,this.minValue,this.maxValue)),ra.mul(1-this.rate,r));return ra.mul(e,ra.div(n,ra.add(ha(),r)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}};B_.className="MinMaxNorm";Ef.serialization.registerClass(B_);var Y1e={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Ai(t){return Fy(t)}function X1e(t,e={}){return Ac(t,Ef.serialization.SerializationMap.getMap().classNameMap,e,"constraint")}function Ni(t){if(t==null)return null;if(typeof t=="string"){let r={className:t in Y1e?Y1e[t]:t,config:{}};return X1e(r)}else return t instanceof G0?t:X1e(t)}w();_();var X4={};tl(X4,{Layer:()=>Dr,RNN:()=>Ss,RNNCell:()=>Wh,activation:()=>b3t,add:()=>T3t,alphaDropout:()=>cNt,average:()=>D3t,averagePooling1d:()=>Y7,averagePooling2d:()=>X7,averagePooling3d:()=>Q7,avgPool1d:()=>P3t,avgPool2d:()=>z3t,avgPool3d:()=>j3t,avgPooling1d:()=>q3t,avgPooling2d:()=>U3t,avgPooling3d:()=>$3t,batchNormalization:()=>F3t,bidirectional:()=>nNt,concatenate:()=>k3t,conv1d:()=>l3t,conv2d:()=>c3t,conv2dTranspose:()=>h3t,conv3d:()=>p3t,conv3dTranspose:()=>d3t,convLstm2d:()=>Q3t,convLstm2dCell:()=>eNt,cropping2D:()=>v3t,dense:()=>w3t,depthwiseConv2d:()=>y3t,dot:()=>R3t,dropout:()=>x3t,elu:()=>i3t,embedding:()=>N3t,flatten:()=>S3t,gaussianDropout:()=>lNt,gaussianNoise:()=>fNt,globalAveragePooling1d:()=>V3t,globalAveragePooling2d:()=>W3t,globalMaxPool1d:()=>aNt,globalMaxPool2d:()=>oNt,globalMaxPooling1d:()=>Abe,globalMaxPooling2d:()=>Nbe,gru:()=>H3t,gruCell:()=>K3t,input:()=>G7,inputLayer:()=>n3t,layerNormalization:()=>B3t,leakyReLU:()=>o3t,lstm:()=>Z3t,lstmCell:()=>J3t,masking:()=>hNt,maxPool1d:()=>sNt,maxPool2d:()=>uNt,maxPooling1d:()=>Tbe,maxPooling2d:()=>Dbe,maxPooling3d:()=>G3t,maximum:()=>I3t,minimum:()=>C3t,multiply:()=>O3t,permute:()=>A3t,prelu:()=>s3t,reLU:()=>a3t,repeatVector:()=>E3t,reshape:()=>M3t,rnn:()=>tNt,separableConv2d:()=>m3t,simpleRNN:()=>Y3t,simpleRNNCell:()=>X3t,softmax:()=>u3t,spatialDropout1d:()=>_3t,stackedRNNCells:()=>rNt,thresholdedReLU:()=>f3t,timeDistributed:()=>iNt,upSampling2d:()=>g3t,zeroPadding2d:()=>L3t});w();_();w();_();w();_();var yo=Bt(_r());w();_();var Q1e=Bt(_r());function Uh(t){return it(this,null,function*(){if(t==null)return;let e=[],r=[],n=[];for(let a in t){let o=t[a];if(typeof o!="number"){let s=o;e.push(s.data()),r.push(a),n.push(s)}}if(e.length>0){let a=yield Promise.all(e);for(let o=0;o<a.length;++o)t[r[o]]=a[o][0];(0,Q1e.dispose)(n)}})}function u4(t){if(t!=null)for(let e in t){let r=t[e];typeof r!="number"&&r.dispose()}}var ebe;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(ebe||(ebe={}));var lAt=125,xd=class{constructor(){this.validationData=null}setParams(e){this.params=e}onEpochBegin(e,r){return it(this,null,function*(){})}onEpochEnd(e,r){return it(this,null,function*(){})}onBatchBegin(e,r){return it(this,null,function*(){})}onBatchEnd(e,r){return it(this,null,function*(){})}onTrainBegin(e){return it(this,null,function*(){})}onTrainEnd(e){return it(this,null,function*(){})}setModel(e){}},f4=class{constructor(e,r=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=r}append(e){this.callbacks.push(e)}setParams(e){for(let r of this.callbacks)r.setParams(e)}setModel(e){for(let r of this.callbacks)r.setModel(e)}onEpochBegin(e,r){return it(this,null,function*(){r==null&&(r={});for(let n of this.callbacks)yield n.onEpochBegin(e,r)})}onEpochEnd(e,r){return it(this,null,function*(){r==null&&(r={});for(let n of this.callbacks)yield n.onEpochEnd(e,r)})}onBatchBegin(e,r){return it(this,null,function*(){r==null&&(r={});for(let n of this.callbacks)yield n.onBatchBegin(e,r)})}onBatchEnd(e,r){return it(this,null,function*(){r==null&&(r={});for(let n of this.callbacks)yield n.onBatchEnd(e,r)})}onTrainBegin(e){return it(this,null,function*(){e==null&&(e={});for(let r of this.callbacks)yield r.onTrainBegin(e)})}onTrainEnd(e){return it(this,null,function*(){e==null&&(e={});for(let r of this.callbacks)yield r.onTrainEnd(e)})}},P7=class extends xd{constructor(){super()}onEpochBegin(e){return it(this,null,function*(){this.seen=0,this.totals={}})}onBatchEnd(e,r){return it(this,null,function*(){r==null&&(r={});let n=r.size==null?0:r.size;this.seen+=n;for(let a in r){let o=r[a];if(typeof o=="number")this.totals.hasOwnProperty(a)||(this.totals[a]=0),this.totals[a]=this.totals[a]+o*n;else{let s;a in this.totals?s=this.totals[a]:this.totals[a]=0;let u=(0,yo.tidy)(()=>(0,yo.add)(this.totals[a],(0,yo.mul)(o,n)));this.totals[a]=u,s!=null&&s.dispose()}}})}onEpochEnd(e,r){return it(this,null,function*(){if(r!=null)for(let n of this.params.metrics)this.totals[n]!=null&&(typeof this.totals[n]=="number"?r[n]=this.totals[n]/this.seen:(0,yo.tidy)(()=>{let a=(0,yo.mul)((0,yo.div)(1,this.seen),this.totals[n]);r[n]=a,this.totals[n].dispose(),(0,yo.keep)(r[n])}))})}},l4=class extends xd{onTrainBegin(e){return it(this,null,function*(){this.epoch=[],this.history={}})}onEpochEnd(e,r){return it(this,null,function*(){r==null&&(r={}),this.epoch.push(e);for(let n in r)this.history[n]==null&&(this.history[n]=[]),this.history[n].push(r[n])})}syncData(){return it(this,null,function*(){let e=[],r=[],n=[];for(let o in this.history){let s=this.history[o];for(let u=0;u<s.length;++u)if(typeof s[u]!="number"){let f=s[u];e.push(f.data()),r.push(o),n.push(u)}}let a=yield Promise.all(e);for(let o=0;o<a.length;++o)this.history[r[o]][n[o]].dispose(),this.history[r[o]][n[o]]=a[o][0]})}},c4=class extends xd{constructor(e,r){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||yo.nextFrame,this.yieldEvery=r||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=lAt),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");yo.util.isNumber(this.yieldEvery)&&(this.maybeWait=fme(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}maybeWait(e,r,n){return it(this,null,function*(){let a=[];this.yield!=null&&(yield Uh(n),a.push(this.yield(e,r,n))),a.push(this.nextFrameFunc()),yield Promise.all(a)})}onEpochBegin(e,r){return it(this,null,function*(){this.currentEpoch=e,this.epochBegin!=null&&(yield Uh(r),yield this.epochBegin(e,r))})}onEpochEnd(e,r){return it(this,null,function*(){let n=[];this.epochEnd!=null&&(yield Uh(r),n.push(this.epochEnd(e,r))),this.yieldEvery==="epoch"&&n.push(this.nextFrameFunc()),yield Promise.all(n)})}onBatchBegin(e,r){return it(this,null,function*(){this.batchBegin!=null&&(yield Uh(r),yield this.batchBegin(e,r))})}onBatchEnd(e,r){return it(this,null,function*(){let n=[];this.batchEnd!=null&&(yield Uh(r),n.push(this.batchEnd(e,r))),this.yieldEvery==="batch"?n.push(this.nextFrameFunc()):yo.util.isNumber(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,r)),yield Promise.all(n)})}onTrainBegin(e){return it(this,null,function*(){this.trainBegin!=null&&(yield Uh(e),yield this.trainBegin(e))})}onTrainEnd(e){return it(this,null,function*(){this.trainEnd!=null&&(yield Uh(e),yield this.trainEnd(e))})}};function h4(t,e){return t==null&&(t={}),t instanceof xd?[t]:Array.isArray(t)&&t[0]instanceof xd?t:Wn(t).map(n=>new c4(n,e))}var xs=class{constructor(){}static registerCallbackConstructor(e,r){yo.util.assert(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),xs.checkForDuplicate(r),xs.constructors[e]==null&&(xs.constructors[e]=[]),xs.constructors[e].push(r)}static checkForDuplicate(e){for(let r in xs.constructors)xs.constructors[+r].forEach(a=>{if(a===e)throw new $e("Duplicate callback constructor.")})}static clear(){xs.constructors={}}static createCallbacks(e){let r=[];for(let n in xs.constructors){let a=+n;e>=a&&r.push(...xs.constructors[a])}return r.map(n=>new n)}};xs.constructors={};function p4(t,e,r,n,a,o,s,u,f){let l=new l4,c=[new P7,...xs.createCallbacks(e)];t!=null&&c.push(...t),c.push(l);let h=new f4(c);return h.setParams({epochs:r,initialEpoch:n,samples:a,steps:o,batchSize:s,verbose:e,doValidation:u,metrics:f}),{callbackList:h,history:l}}w();_();var fi=Bt(_r()),ro=Bt(_r());w();_();var tbe=Bt(_r());function js(t,e={},r=!1){return Ac(t,tbe.serialization.SerializationMap.getMap().classNameMap,e,"layer",r)}w();_();var Dt=Bt(_r()),to=Bt(_r());function L_(t,e){return(0,to.tidy)(()=>{t.dtype!=="float32"&&(t=Dt.cast(t,"float32"));let r=Dt.sum(P0(t),e,!0),n=Dt.fill(r.shape,ha()),a=Dt.sqrt(Dt.maximum(r,n));return Dt.div(t,a)})}function H0(t,e){return(0,to.tidy)(()=>Dt.mean(P0(Dt.sub(e,t)),-1))}function q_(t,e){return(0,to.tidy)(()=>Dt.mean(Dt.abs(Dt.sub(e,t)),-1))}function z_(t,e){return(0,to.tidy)(()=>{let r=Dt.sub(t,e),n=Dt.clipByValue(Dt.abs(t),ha(),Number.MAX_VALUE),a=Dt.abs(Dt.div(r,n));return Dt.mul(100,Dt.mean(a,-1))})}function cAt(t,e){return(0,to.tidy)(()=>{let r=Dt.clipByValue(e,ha(),Number.MAX_VALUE),n=Dt.log(Dt.add(1,r)),a=Dt.clipByValue(t,ha(),Number.MAX_VALUE),o=Dt.log(Dt.add(1,a));return Dt.mean(P0(Dt.sub(n,o)),-1)})}function hAt(t,e){return(0,to.tidy)(()=>{let r=Dt.maximum(0,Dt.sub(1,Dt.mul(t,e)));return Dt.mean(P0(r),-1)})}function pAt(t,e){return(0,to.tidy)(()=>{let r=Dt.maximum(0,Dt.sub(1,Dt.mul(t,e)));return Dt.mean(r,-1)})}function dAt(t,e){return(0,to.tidy)(()=>{let r=Dt.sum(Dt.mul(t,e),-1),n=Dt.max(Dt.mul(Dt.sub(1,t),e),-1);return Dt.maximum(0,Dt.add(1,Dt.sub(n,r)))})}function mAt(t,e){return(0,to.tidy)(()=>{let r=Math.log(2),n=Dt.sub(e,t),a=Dt.sub(Dt.add(n,Dt.softplus(Dt.mul(-2,n))),r);return Dt.mean(a,-1)})}function K0(t,e,r=!1){return(0,to.tidy)(()=>{if(r)e=Dt.softmax(e);else{let n=Dt.sum(e,e.shape.length-1,!0);e=Dt.div(e,n)}return e=Dt.clipByValue(e,ha(),1-ha()),Dt.neg(Dt.sum(Dt.mul(Dt.cast(t,"float32"),Dt.log(e)),e.shape.length-1))})}function c1(t,e,r=!1){return(0,to.tidy)(()=>{let n=Dt.cast(Dt.floor(xme(t)),"int32");e=Dt.clipByValue(e,ha(),1-ha());let a=e.shape,o=Dt.reshape(Dt.oneHot(n,a[a.length-1]),a);return K0(o,e,r)})}function vAt(t,e){if(!to.util.arraysEqual(t.shape,e.shape))throw new $e(`logits and labels must have the same shape, but got shapes ${JSON.stringify(t.shape)} and ${JSON.stringify(e.shape)}`);return(0,to.tidy)(()=>{let r=Dt.relu(e),n=Dt.neg(Dt.abs(e));return Dt.add(Dt.sub(r,Dt.mul(e,t)),Dt.log1p(Dt.exp(n)))})}function h1(t,e){return(0,to.tidy)(()=>{let r;return r=Dt.clipByValue(e,ha(),1-ha()),r=Dt.log(Dt.div(r,Dt.sub(1,r))),Dt.mean(vAt(t,r),-1)})}function gAt(t,e){return(0,to.tidy)(()=>{let r=Dt.clipByValue(t,ha(),1),n=Dt.clipByValue(e,ha(),1);return Dt.sum(Dt.mul(t,Dt.log(Dt.div(r,n))),-1)})}function yAt(t,e){return(0,to.tidy)(()=>{let r=Dt.log(Dt.add(ha(),e));return Dt.mean(Dt.sub(e,Dt.mul(t,r)),-1)})}function d4(t,e){return(0,to.tidy)(()=>{let r=L_(t,-1),n=L_(e,-1),a=Dt.mul(r,n);return Dt.neg(Dt.sum(a,-1))})}var P_={meanSquaredError:H0,meanAbsoluteError:q_,meanAbsolutePercentageError:z_,meanSquaredLogarithmicError:cAt,squaredHinge:hAt,hinge:pAt,categoricalHinge:dAt,logcosh:mAt,categoricalCrossentropy:K0,sparseCategoricalCrossentropy:c1,binaryCrossentropy:h1,kullbackLeiblerDivergence:gAt,poisson:yAt,cosineProximity:d4};function m4(t){if(typeof t=="string"){if(t in P_)return P_[t];let e=`Unknown loss ${t}`;throw t.toLowerCase().includes("softmaxcrossentropy")&&(e=`Unknown loss ${t}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new $e(e)}else return t}w();_();var Kr=Bt(_r()),p1=Bt(_r());function g4(t,e){return(0,p1.tidy)(()=>{let r=Kr.mul(.5,Kr.onesLike(e)),n=L0(Kr.greater(e,r),t.dtype);return Kr.mean(Kr.equal(t,n),-1)})}function y4(t,e){return(0,p1.tidy)(()=>L0(Kr.equal(Kr.argMax(t,-1),Kr.argMax(e,-1)),"float32"))}function bAt(t,e){return(0,p1.tidy)(()=>Kr.cast(Kr.sum(Kr.logicalAnd(Kr.equal(t,1),Kr.equal(e,1))),"float32"))}function wAt(t,e){return(0,p1.tidy)(()=>Kr.cast(Kr.sum(Kr.logicalAnd(Kr.equal(t,0),Kr.equal(e,1))),"float32"))}function nbe(t,e){return(0,p1.tidy)(()=>{let r=bAt(t,e),n=wAt(t,e),a=Kr.add(r,n);return Kr.cast(Kr.where(Kr.greater(a,0),Kr.div(r,a),0),"float32")})}function q7(t,e){return h1(t,e)}function z7(t,e){return t.rank===e.rank&&(t=Kr.squeeze(t,[t.rank-1])),e=Kr.argMax(e,-1),e.dtype!==t.dtype&&(e=Kr.cast(e,t.dtype)),Kr.cast(Kr.equal(t,e),"float32")}var xAt=H0,_At=H0,SAt=q_,EAt=q_,MAt=z_,AAt=z_,b4=K0,NAt=d4,U7=c1,v4={binaryAccuracy:g4,categoricalAccuracy:y4,precision:nbe,categoricalCrossentropy:b4,sparseCategoricalCrossentropy:U7,mse:xAt,MSE:_At,mae:SAt,MAE:EAt,mape:MAt,MAPE:AAt,cosine:NAt};function ibe(t){if(typeof t=="string"&&t in v4)return v4[t];if(typeof t!="string"&&t!=null)return t;throw new $e(`Unknown metric ${t}`)}function U_(t){if(du(t!==null,`Unknown LossOrMetricFn ${t}`),typeof t=="string")return t;{let e;for(let r of Object.keys(P_))if(P_[r]===t){e=r;break}if(e!==void 0)return e;for(let r of Object.keys(v4))if(v4[r]===t){e=r;break}return e!==void 0?e:t.name}}w();_();var Z0=Bt(_r());function obe(t){let e={Adagrad:()=>Z0.train.adagrad(.01),Adadelta:()=>Z0.train.adadelta(1,.95,ha()),Adam:()=>Z0.train.adam(.001,.9,.999,ha()),Adamax:()=>Z0.train.adamax(.002,.9,.999,ha(),0),RMSProp:()=>Z0.train.rmsprop(.001,.9,0,ha()),SGD:()=>Z0.train.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new $e(`Unknown Optimizer ${t}`)}w();_();function $7(t,e,r=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!j7(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(r){let n=JSON.stringify(t);n.length>1048576&&console.warn(`User-defined metadata of model "${e}" is too large in size (length=${n.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${1048576}.`)}}function j7(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){let e=Object.keys(t);for(let r of e)if(typeof r!="string"||!j7(t[r]))return!1;return!0}else if(Array.isArray(t)){for(let e of t)if(!j7(e))return!1;return!0}else return!1;else{let e=typeof t;return e==="string"||e==="number"||e==="boolean"}}w();_();function sbe(t,e,r,n=console.log){let a=kAt(t),o=["Layer (type)","Input Shape","Output shape","Param #"];a?(e=e||90,r=r||[.32,.61,.89,1]):(e=e||115,r=r||[.24,.48,.7,.8,1]),r[r.length-1]<=1&&(r=r.map(c=>Math.floor(e*c)));let s;if(!a){o.push("Receives inputs"),s=[];for(let c in t.nodesByDepth)s.push(...t.nodesByDepth[c])}n("_".repeat(e)),w4(o,r,n),n("=".repeat(e));let u=t.layers;for(let c=0;c<u.length;++c)a?IAt(u[c],r,n):CAt(u[c],r,s,n),n((c===u.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();let f=DAt(t),l=Gy(t.nonTrainableWeights);n(`Total params: ${f+l}`),n(`Trainable params: ${f}`),n(`Non-trainable params: ${l}`),n("_".repeat(e))}function DAt(t){let e;return t.collectedTrainableWeights!=null?e=Gy(t.collectedTrainableWeights):e=Gy(t.trainableWeights),e}function kAt(t){let e=!0,r=[],n=[];for(let a in t.nodesByDepth)r.push(t.nodesByDepth[a]);for(let a of r){if(a.length>1||a.length===1&&a[0].inboundLayers.length>1){e=!1;break}n.push(...a)}if(e)for(let a of t.layers){let o=!1;for(let s of a.inboundNodes)if(n.indexOf(s)!==-1)if(o){e=!1;break}else o=!0;if(!e)break}return e}function w4(t,e,r=console.log){let n="";for(let a=0;a<t.length;++a)a>0&&(n=n.slice(0,n.length-1)+" "),n+=t[a],n=n.slice(0,e[a]),n+=" ".repeat(e[a]-n.length);r(n)}function IAt(t,e,r){let n,a;try{a=t.inboundNodes.map(f=>JSON.stringify(f.inputShapes)).join(",")}catch(f){a="multiple"}try{n=JSON.stringify(t.outputShape)}catch(f){n="multiple"}let o=t.name,s=t.getClassName(),u=[`${o} (${s})`,a,n,t.countParams().toString()];w4(u,e,r)}function CAt(t,e,r,n){let a,o;try{o=t.inboundNodes.map(h=>JSON.stringify(h.inputShapes)).join(",")}catch(h){o="multiple"}try{a=JSON.stringify(t.outputShape)}catch(h){a="multiple"}let s=[];for(let h of t.inboundNodes)if(!(r!=null&&r.length>0&&r.indexOf(h)===-1))for(let m=0;m<h.inboundLayers.length;++m){let g=h.inboundLayers[m].name,b=h.nodeIndices[m],A=h.tensorIndices[m];s.push(`${g}[${b}][${A}]`)}let u=t.name,f=t.getClassName(),l=s.length===0?"":s[0],c=[`${u} (${f})`,o,a,t.countParams().toString(),l];w4(c,e,n);for(let h=1;h<s.length;++h)w4(["","","","",s[h]],e,n)}w();_();function ube(t,e,r){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof r=="string"}function j_(t,e){if(t===null)return null;if(typeof t=="string")return kh(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){let r=[],n=t.length;for(let a=0;a<n;++a){let o=t[a];ube(e,a,o)?r.push(o):r.push(j_(o,e))}return r}else{let r={};for(let n of Object.keys(t)){let a=t[n];if(n==="name"&&typeof a=="string")r[n]=a;else{let o=kh(n);r[o]=j_(a,o)}}return r}}function x4(t,e){if(t==null)return null;if(typeof t=="string")return gf(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){let r=[],n=t.length;for(let a=0;a<n;++a){let o=t[a];ube(e,a,o)?r.push(o):r.push(x4(o,e))}return r}else{let r={};for(let n of Object.keys(t)){let a=t[n],o=gf(n);(n==="name"||n==="className")&&typeof a=="string"?r[o]=a:r[o]=x4(a,n)}return r}}w();_();var $_="3.19.0";w();_();var V_=Bt(_r());var $s=class extends Dr{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){let R=this.getClassName().toLowerCase();this.name=md(R)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],yf(this.inputs).length!==this.inputs.length)throw new $e(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(R=>R.name)}`);yf(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(R=>R.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(let R of this.outputs){let O=R.sourceLayer,F=R.nodeIndex,z=R.tensorIndex;this.outputLayers.push(O),this.outputLayersNodeIndices.push(F),this.outputLayersTensorIndices.push(z)}for(let R of this.inputs){let O=R.sourceLayer,F=R.nodeIndex,z=R.tensorIndex;du(F===0,"input layer has >1 nodes"),du(z===0,"input layer has >1 tensors"),this.inputLayers.push(O),this.inputLayersNodeIndices.push(F),this.inputLayersTensorIndices.push(z)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let R=0;R<this.inputLayers.length;R++){let O=this.inputLayers[R];if(!(O instanceof El))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${R} (0-based) originates from layer type ${O.getClassName()}.`);this.inputNames.push(O.name),this.feedInputShapes.push(O.batchInputShape),this.feedInputNames.push(O.name)}for(let R of this.outputLayers)this.outputNames.push(R.name);this.internalInputShapes=this.inputs.map(R=>R.shape),this.internalOutputShapes=this.outputs.map(R=>R.shape);let r={},n={},a={},o={},s={},u=[],f=(R,O,F,z,B,$)=>{(z==null||B==null||$==null)&&(z=R.sourceLayer,B=R.nodeIndex,$=R.tensorIndex);let j=z.inboundNodes[B];if(F.indexOf(j)!==-1)throw new vo(`The tensor ${R.name} at layer "${z.name}" is part of a cycle.`);if(O.indexOf(j)!==-1)return;this.containerNodes.add($s.nodeKey(z,B)),z.id in s||(s[z.id]=Object.keys(s).length),F.indexOf(j)===-1&&F.push(j);let W=j.inboundLayers.length;for(let T=0;T<W;T++){let p=j.inputTensors[T],v=j.inboundLayers[T],S=j.nodeIndices[T],y=j.tensorIndices[T];f(p,O,F,v,S,y)}for(O.push(j);F.indexOf(j)>=0;)F.splice(F.indexOf(j),1);u.push(j)},l=[],c=[];for(let R of this.outputs)f(R,l,c);let h=u.slice().reverse();for(let R of h){n[R.id]=R,R.id in r||(r[R.id]=0);let O=r[R.id],F=a[R.outboundLayer.id]==null?0:a[R.outboundLayer.id];O=Math.max(O,F),a[R.outboundLayer.id]=O,o[R.outboundLayer.id]=R.outboundLayer,r[R.id]=O;for(let z=0;z<R.inboundLayers.length;z++){let B=R.inboundLayers[z],$=R.nodeIndices[z],j=B.inboundNodes[$],W=r[j.id]==null?0:r[j.id];r[j.id]=Math.max(O+1,W),n[j.id]=j}}let m={};for(let R in r){let O=r[R];O in m||(m[O]=[]),m[O].push(n[R])}let g={};for(let R in a){let O=a[R];O in g||(g[O]=[]),g[O].push(o[R])}let b=Object.keys(g).map(R=>parseInt(R,10)).sort(t_);this.layers=[];for(let R of b){let O=g[R];O.sort((F,z)=>{let B=s[F.id],$=s[z.id];return B<$?-1:B>$?1:0});for(let F of O)F instanceof $s&&this.internalContainerRefs.push(F),this.layers.push(F)}this.layersByDepth=g,b=Object.keys(m).map(R=>parseInt(R,10)).sort(t_);let A=this.inputs.slice(),I=[];for(let R of b)for(let O of m[R]){let F=O.outboundLayer;if(F!=null){for(let z of O.inputTensors)if(A.indexOf(z)===-1)throw new vo(`Graph disconnected: cannot obtain value for tensor ${z} at layer "${F.name}". The following previous layers were accessed without issue: ${I}`);for(let z of O.outputTensors)A.push(z);I.push(F.name)}}this.nodesByDepth=m;let C=this.layers.map(R=>R.name);for(let R of C){let O=C.filter(F=>F===R).length;if(O!==1)throw new vo(`The name "${R}" is used ${O} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(C))}this.outboundNodes=[],this.inboundNodes=[],new Oh({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(R=>null),outputMasks:this.outputs.map(R=>null),inputShapes:this.inputs.map(R=>R.shape),outputShapes:this.outputs.map(R=>R.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();let e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(let r of this.layers)e.numDisposedVariables+=r.dispose().numDisposedVariables;for(let r of this.internalContainerRefs)e.numDisposedVariables+=r.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(r=>{r._trainableWeights.forEach(n=>n.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new $e("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(let r of this.layers)e=e.concat(r.trainableWeights);return e}get nonTrainableWeights(){let e=[];for(let r of this.layers)e.push(...r.nonTrainableWeights);if(!this.trainable){let r=[];for(let n of this.layers)r.push(...n.trainableWeights);return r.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,r=!0){let n={},a=0;for(let s of this.layers)for(let u of s.weights){if(n[u.originalName]!=null)throw new $e(`Duplicate weight name: ${u.originalName}`);n[u.originalName]=u,a++}let o=[];for(let s in e){let u=s;if(n[s]==null){let f=s.split("/");u=f.slice(0,-2).concat([f[f.length-1]]).join("/")}if(n[u]!=null)o.push([n[u],e[s]]);else if(r)throw new $e(`Provided weight data has no target variable: ${s}`);delete n[u]}if(r){let s=[];for(let u in n)s.push(u);if(s.length>0)throw new $e(`${s.length} of ${a} weights are not set: ${s}`)}Hy(o)}updatedConfig(){let e=this.getConfig(),r={};return r.className=this.getClassName(),r.config=e,r.kerasVersion=`tfjs-layers ${$_}`,r.backend="TensorFlow.js",r}toJSON(e,r=!0){let n=x4(this.updatedConfig());return r?JSON.stringify(n):n}call(e,r){return(0,V_.tidy)(()=>{e=Wn(e);let n=new _f;for(let a=0;a<this.inputs.length;++a)n.add(this.inputs[a],e[a]);return z0(this.outputs,n,r)})}computeMask(e,r){return(0,V_.tidy)(()=>{e=Wn(e);let n;return r==null?n=vf(null,e.length):n=Wn(r),this.runInternalGraph(e,n)[1]})}computeOutputShape(e){let r=Wy(e);if(r.length!==this.inputLayers.length)throw new $e(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);let n={};for(let u=0;u<r.length;u++){let f=this.inputLayers[u],l=r[u],c=f.name+"_0_0";n[c]=l}let a=Object.keys(this.nodesByDepth).map(u=>parseInt(u,10)).sort(t_);if(a.length>1)for(let u of a){let f=this.nodesByDepth[u];for(let l of f){let c=l.outboundLayer;if(this.inputLayers.map(A=>A.id).indexOf(c.id)!==-1)continue;let h=[];for(let A=0;A<l.inboundLayers.length;A++){let I=l.inboundLayers[A],C=l.nodeIndices[A],R=l.tensorIndices[A],O=`${I.name}_${C}_${R}`,F=n[O];h.push(F)}let m=c.computeOutputShape(Ha(h)),g=Wy(m),b=c.inboundNodes.indexOf(l);for(let A=0;A<g.length;A++){let I=`${c.name}_${b}_${A}`;n[I]=g[A]}}}let o=[],s=[];for(let u=0;u<this.outputLayers.length;u++){let f=this.outputLayers[u],l=this.outputLayersNodeIndices[u],c=this.outputLayersTensorIndices[u],h=`${f.name}_${l}_${c}`;s.push(h)}for(let u=0;u<s.length;u++){let f=s[u];du(f in n),o.push(n[f])}return Ha(o)}runInternalGraph(e,r){r==null&&(r=vf(null,e.length));let n={};for(let f=0;f<this.inputs.length;++f){let l=this.inputs[f],c=e[f],h=r[f];n[l.id]=[c,h]}let a=Object.keys(this.nodesByDepth).map(f=>parseInt(f,10)).sort(t_);for(let f of a){let l=this.nodesByDepth[f];for(let c of l){let h=c.outboundLayer,m=c.inputTensors,g=c.outputTensors,b=new Array;for(let A of m)A.id in n&&b.push(n[A.id]);if(b.length===m.length){let A={},I,C,R,O;if(c.callArgs!=null&&(A=c.callArgs),b.length===1){let[F,z]=b[0];A.mask==null&&(A.mask=z),R=Wn(h.call(F,A)),O=Wn(h.computeMask(F,z)),I=[F],C=[z]}else I=b.map(F=>F[0]),C=b.map(F=>F[1]),A.mask==null&&(A.mask=C),R=Wn(h.call(I,A)),O=Wn(h.computeMask(I,C));if(h.activityRegularizer)throw new fr("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let F=0;F<g.length;++F){let z=g[F],B=R[F],$=O[F];n[z.id]=[B,$]}}}}let o=[],s=[],u=[];for(let f of this.outputs){du(f.id in n,`Could not compute output ${f.name} : ${f.id}`);let[l,c]=n[f.id];u.push(l.shape),o.push(l),s.push(c)}return[o,s,u]}buildNodeConversionMap(e){let r={},n;for(let a of this.layers){n=a instanceof $s?1:0;for(let o=0;o<a.inboundNodes.length;o++){let s=$s.nodeKey(a,o);this.containerNodes.has(s)&&(r[s]=n,n+=1)}}return r}getLayer(e,r){if(r!=null){if(this.layers.length<=r)throw new $e(`Was asked to retrieve layer at index ${r}, but model only has ${this.layers.length} layer(s).`);return this.layers[r]}else if(e==null)throw new $e("Provide either a layer name or layer index");for(let n of this.layers)if(n.name===e)return n;throw new $e(`No such layer: ${e}`)}calculateLosses(){return(0,V_.tidy)(()=>{let e=[];for(let r of this.layers)for(let n=0;n<r.inboundNodes.length;++n){let a=$s.nodeKey(r,n);this.containerNodes.has(a)&&e.push(...r.calculateLosses())}return e})}getConfig(){let e={name:this.name},r=this.buildNodeConversionMap(this.layers),n=[];for(let s of this.layers){let u=s.getClassName(),f=s.getConfig(),l=[];for(let h=0;h<s.inboundNodes.length;h++){let m=s.inboundNodes[h],g=$s.nodeKey(s,h),b={};if(this.containerNodes.has(g)){if(m.callArgs)try{JSON.stringify(m.callArgs),b=m.callArgs}catch(A){console.warn(`Layer ${s.name} was passed non-serializable keyword arguments: ${m.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),b={}}if(m.inboundLayers.length>0){let A=[];for(let I=0;I<m.inboundLayers.length;I++){let C=m.inboundLayers[I],R=m.nodeIndices[I],O=m.tensorIndices[I],F=$s.nodeKey(C,R),z=r[F];z==null&&(z=0),A.push([C.name,z,O,b])}l.push(A)}}}let c={};c.name=s.name,c.className=u,c.config=f,c.inboundNodes=l,n.push(c)}e.layers=n;let a=[];for(let s=0;s<this.inputLayers.length;s++){let u=this.inputLayers[s],f=this.inputLayersNodeIndices[s],l=$s.nodeKey(u,f);if(!this.containerNodes.has(l))continue;let c=r[l];c==null&&(c=0);let h=this.inputLayersTensorIndices[s];a.push([u.name,c,h])}e.inputLayers=a;let o=[];for(let s=0;s<this.outputLayers.length;s++){let u=this.outputLayers[s],f=this.outputLayersNodeIndices[s],l=$s.nodeKey(u,f);if(!this.containerNodes.has(l))continue;let c=r[l];c==null&&(c=0);let h=this.outputLayersTensorIndices[s];o.push([u.name,c,h])}return e.outputLayers=o,e}static fromConfig(e,r,n={},a=!1){let o={},s={};function u(I,C){I.name in s?s[I.name].push(C):s[I.name]=[C]}function f(I,C){let R=[],O;for(let F of C){let z=F[0],B=F[1],$=F[2];if(O=F[3]==null?{}:F[3],!(z in o)){u(I,C);return}let j=o[z];if(j.inboundNodes.length<=B){u(I,C);return}let W=j.inboundNodes[B];R.push(W.outputTensors[$])}R.length>0&&I.apply(Ha(R),O)}function l(I){let C=I.name,R=js(I,r.customObjects!=null?r.customObjects:{});R.setFastWeightInitDuringBuild(a),o[C]=R,I.inboundNodes.forEach(F=>{if(!(F instanceof Array))throw new $e(`Corrupted configuration, expected array for nodeData: ${F}`);u(R,F)})}let c=r.name,h=r.layers;for(let I of h)l(I);for(;!sme(s);)for(let I of h){let C=o[I.name];if(C.name in s){let R=s[C.name];delete s[C.name];for(let O of R)f(C,O)}}let m=[],g=[],b=r.inputLayers;for(let I of b){let C=I[0],R=I[1],O=I[2];du(C in o);let z=o[C].inboundNodes[R].outputTensors;m.push(z[O])}let A=r.outputLayers;for(let I of A){let C=I[0],R=I[1],O=I[2];du(C in o);let z=o[C].inboundNodes[R].outputTensors;g.push(z[O])}return new e({inputs:m,outputs:g,name:c})}get stateful(){if(this._stateful)throw new $e("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(let e of this.layers)if(e.stateful)return!0;return!1}resetStates(){(0,V_.tidy)(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}};w();_();var Rn=Bt(_r()),hbe=Bt(_r());w();_();var Vs=Bt(_r());function OAt(t,e,r){let n=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(a=>null);if(n===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==n)throw new Error(`Provided ${r} is an array of ${t.length} element(s), but the model has ${n} outputs. Make sure a set of weights is provided for each model output.`);return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){let a=[];return e.forEach(o=>{o in t?a.push(t[o]):a.push(null)}),a}else throw new Error(`The model has multiple (${n}) outputs, so ${r} must be either an array with ${n} elements or an object with ${e} keys. Provided ${r} not understood: ${JSON.stringify(t)}`)}function _4(t,e){return OAt(t,e,"classWeight")}function S4(t,e,r,n){return it(this,null,function*(){if(e!=null||n!=null)throw new Error("Support sampleWeight is not implemented yet");if(r!=null){let a=(0,Vs.tidy)(()=>{if(t.shape.length===1)return(0,Vs.clone)(t);if(t.shape.length===2){if(t.shape[1]>1)return(0,Vs.argMax)(t,1);if(t.shape[1]===1)return(0,Vs.reshape)(t,[t.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${t.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${t.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),o=Array.from(yield a.data());(0,Vs.dispose)(a);let s=[];return o.forEach(u=>{if(r[u]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${u} exists in the data but not in classWeight`);s.push(r[u])}),(0,Vs.tensor1d)(s,"float32")}else return null})}function fbe(t,e){return(0,Vs.mul)(t,e)}var RAt=32;function pbe(t,e){let r,n,a=e;r=a.xs,n=a.ys,Rn.util.assert(r!=null&&n!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${e}`);let o=lbe("input",t.inputNames,r),s=lbe("output",t.outputNames,n),u=o[0].shape[0];Rn.util.assert(o.length===t.inputs.length,()=>`LayersModel has ${t.inputs.length} inputs, but the dataset provides ${o.length} inputs.  (Expected input keys: ${JSON.stringify(t.inputNames)})`),Rn.util.assert(s.length===t.outputs.length,()=>`LayersModel has ${t.outputs.length} outputs, but the dataset provides ${s.length} outputs.  (Expected output keys: ${JSON.stringify(t.outputNames)})`);for(let f=0;f<o.length;f++)Rn.util.assert(o[f].shape[0]===u,()=>`Batch size mismatch: input ${t.inputNames[f]} has ${o[f].shape[0]}; expected  ${u} based on input ${t.inputNames[0]}.`);for(let f=0;f<s.length;f++)Rn.util.assert(s[f].shape[0]===u,()=>`Batch size mismatch: output ${t.outputNames[f]} has ${s[f].shape[0]}; expected  ${u} based on input ${t.inputNames[0]}.`);return{xs:o,ys:s}}function lbe(t,e,r){if(r instanceof Rn.Tensor)return[r];if(Array.isArray(r))return Rn.util.assert(r.length===e.length,()=>`Received an array of ${r.length} Tensors, but expected ${e.length} to match the ${t} keys ${e}.`),r;{let n=[];for(let a of e){if(r[a]==null)throw new $e(`The feature data generated by the dataset lacks the required ${t} key '${a}'.`);n.push(r[a])}return n}}function FAt(t){if(t.length===3)throw new fr("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}function dbe(t,e,r){return it(this,null,function*(){let n=r.batchesPerEpoch!=null;if(Rn.util.assert(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),Rn.util.assert(r!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),Rn.util.assert(r.epochs!=null&&r.epochs>0&&Number.isInteger(r.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${r.epochs}`),Rn.util.assert(!n||r.batchesPerEpoch>0&&Number.isInteger(r.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${r.batchesPerEpoch}`),Rn.util.assert(r.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{let a=r.validationData!=null,o,s;if(a)if(cbe(r.validationData))Rn.util.assert(r.validationBatches==null||r.validationBatches>0&&Number.isInteger(r.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${r.validationBatches}`);else{let I=FAt(r.validationData);o=I.xs,s=I.ys}let u=t.makeTrainFunction(),f=t.getDedupedMetricsNames(),l;a?l=f.slice().concat(f.map(I=>"val_"+I)):l=f.slice();let c=h4(r.callbacks,r.yieldEvery),h=r.verbose==null?1:r.verbose,{callbackList:m,history:g}=p4(c,h,r.epochs,null,null,BAt(e,r),null,a,l);m.setModel(t),t.history=g,yield m.onTrainBegin(),t.stopTraining_=!1;let b=r.initialEpoch==null?0:r.initialEpoch,A=yield e.iterator();for(;b<r.epochs;){let I={};yield m.onEpochBegin(b);let C=0,R=0;for(n||(A=yield e.iterator());!n||C<r.batchesPerEpoch;){let O=yield A.next();if(n&&O.done){console.warn(`You provided \`batchesPerEpoch\` as ${r.batchesPerEpoch}, but your dataset iterator ran out of data after ${C} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${r.batchesPerEpoch*r.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(O.value!=null){let{xs:F,ys:z}=pbe(t,O.value),B={};B.batch=R,B.size=F[0].shape[0],yield m.onBatchBegin(R,B);let $=[];if(r.classWeight!=null){let T=_4(r.classWeight,t.outputNames);for(let p=0;p<T.length;++p)$.push(yield S4(z[p],null,T[p]))}let j=F.concat(z).concat($),W=u(j);Rn.dispose(j);for(let T=0;T<f.length;++T){let p=f[T],v=W[T];B[p]=v,Rn.keep(v)}yield m.onBatchEnd(R,B),u4(B),R++,C++}if(n?C>=r.batchesPerEpoch:O.done){if(a){let F;cbe(r.validationData)?F=Wn(yield t.evaluateDataset(r.validationData,{batches:r.validationBatches})):F=Wn(t.evaluate(o,s,{batchSize:r.validationBatchSize==null?RAt:r.validationBatchSize,verbose:0}));for(let z=0;z<t.metricsNames.length;++z)I[`val_${t.metricsNames[z]}`]=F[z]}break}if(t.stopTraining_)break}if(yield m.onEpochEnd(b,I),b++,t.stopTraining_)break}return yield m.onTrainEnd(),yield t.history.syncData(),t.history}finally{t.isTraining=!1}})}function BAt(t,e){let r=null;return e.batchesPerEpoch!=null?r=e.batchesPerEpoch:Number.isFinite(t.size)&&(r=t.size),r}function cbe(t){return typeof t.iterator=="function"}function LAt(t){return typeof t.next=="function"}function mbe(t,e,r){return it(this,null,function*(){r=r||{};let n=r.batches!=null,a=t.testFunction,o=[];if(r.verbose>0)throw new fr("Verbose mode is not implemented yet.");Rn.util.assert(!n||r.batches>0&&Number.isInteger(r.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(r.batches)}`);let s=LAt(e)?e:yield e.iterator(),u=0,f=0;for(;!n||f<r.batches;){let l=yield s.next();if(o=Rn.tidy(()=>{if(l.value){let{xs:c,ys:h}=pbe(t,l.value),m=c.concat(h),g=Rn.tidy(()=>a(m));if(Rn.dispose(m),f===0)for(let A=0;A<g.length;++A)o.push((0,hbe.scalar)(0));let b=m[0].shape[0];for(let A=0;A<g.length;++A){let I=g[A],C=o[A];o[A]=Rn.tidy(()=>Rn.add(o[A],Rn.mul(b,I))),f>0&&Rn.dispose(C)}Rn.dispose(g),u+=b,++f}return o}),l.done){n&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${r.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let l=0;l<o.length;++l){let c=o[l];o[l]=Rn.div(o[l],u),Rn.dispose(c)}return Ha(o)})}w();_();var Af=Bt(_r()),_d=Bt(_r());function E4(t){Af.util.assert(t>0&&Number.isInteger(t),()=>`batchSize is required to be a positive integer, but got ${t}`)}function d1(t,e,r){return t==null?[null]:Array.isArray(t)?t.map(n=>Ih(n,e,r-e)):Ih(t,e,r-e)}function M4(t,e){return Af.tidy(()=>t==null?null:Array.isArray(t)?t.map(r=>M4(r,e)):PT(t,e.dtype==="int32"?e:Af.cast(e,"int32")))}function A4(t,e){let r=[],n=0,a=null;for(;n<t;)a=n+e,a>=t&&(a=t),r.push([n,a]),n=a;return r}function PAt(t,e,r,n,a,o,s,u,f,l,c,h,m,g,b){return it(this,null,function*(){a==null&&(a=32),o==null&&(o=1),c==null&&(c=!0),m==null&&(m=0);let A=!1;if(f!=null&&l!=null&&(A=!0),b!=null&&(A=!0,g==null))throw new $e("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");let I=t.checkNumSamples(r,a,g,"steps_per_epoch"),C;I!=null&&(C=Bo(0,I)),s==null&&(s=1);let{callbackList:R,history:O}=p4(u,s,o,m,I,g,a,A,h);R.setModel(t),t.history=O,yield R.onTrainBegin(),t.stopTraining_=!1;for(let F=m;F<o;++F){yield R.onEpochBegin(F);let z={};if(g!=null)throw new fr("stepsPerEpoch mode is not implemented yet.");{if(c==="batch")throw new fr("batch shuffling is not implemneted yet");c&&_d.util.shuffle(C);let B=(0,_d.tensor1d)(C),$=A4(I,a);for(let j=0;j<$.length;++j){let W={};if(yield R.onBatchBegin(j,W),Af.tidy(()=>{let T=$[j][0],p=$[j][1],v=Ih(B,T,p-T);W.batch=j,W.size=p-T;let S=M4(r,v),y=e(S);for(let M=0;M<n.length;++M){let D=n[M],k=y[M];W[D]=k,Af.keep(k)}if(j===$.length-1&&A){let M=t.testLoop(f,l,a);for(let D=0;D<n.length;++D){let k=n[D],E=M[D];Af.keep(E),z["val_"+k]=E}}}),yield R.onBatchEnd(j,W),u4(W),t.stopTraining_)break}B.dispose()}if(yield R.onEpochEnd(F,z),t.stopTraining_)break}return yield R.onTrainEnd(),yield t.history.syncData(),t.history})}function vbe(a,o,s){return it(this,arguments,function*(t,e,r,n={}){if(t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;let u,f,l,c,h,m,g,b,A;try{let I=n.batchSize==null?32:n.batchSize;E4(I);let C=!1,R=yield t.standardizeUserData(e,r,n.sampleWeight,n.classWeight,C,I);u=R[0],f=R[1],A=R[2];let O=!1,F;if(n.validationData!=null&&n.validationData.length>0){if(O=!0,n.validationData.length===2)h=n.validationData[0],m=n.validationData[1];else throw n.validationData.length===3?new fr("validationData including sample weights is not supported yet."):new $e(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${n.validationData} is invalid.`);let v=!0,S=yield t.standardizeUserData(h,m,null,null,v,I);g=S[0],b=S[1],F=g.concat(b)}else if(n.validationSplit!=null&&n.validationSplit>0&&n.validationSplit<1){O=!0;let v=Math.floor(u[0].shape[0]*(1-n.validationSplit)),S=u[0].shape[0];g=d1(u,v,S),l=u,u=d1(u,0,v),b=d1(f,v,S),c=f,f=d1(f,0,v),F=g.concat(b)}else n.validationSteps!=null&&(O=!0);let z=u.concat(f).concat(A);t.checkTrainableWeightsConsistency();let B=t.makeTrainFunction(),$=t.getDedupedMetricsNames(),j,W;O?(t.makeTestFunction(),j=t.testFunction,W=$.slice().concat($.map(v=>"val_"+v))):(j=null,F=[],W=$.slice());let T=h4(n.callbacks,n.yieldEvery);return yield PAt(t,B,z,$,I,n.epochs,n.verbose,T,j,F,n.shuffle,W,n.initialEpoch,null,null)}finally{t.isTraining=!1,Mf(u,e),Mf(f,r),Mf(l,e),Mf(c,r),Mf(g,h),Mf(b,m),A!=null&&Af.dispose(A)}})}function V7(t){let e=[];t instanceof _d.Tensor&&(t=[t]);for(let r=0;r<t.length;++r){let n=t[r];if(n.rank===1)e.push(Ch(n,1));else{if(n.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(n)}}return e}function Mf(t,e){if(t==null)return;let r=[];if(e instanceof _d.Tensor)r.push(e.id);else if(Array.isArray(e))e.forEach(a=>r.push(a.id));else if(e!=null)for(let a in e){let o=e[a];r.push(o.id)}let n=[];if(t instanceof _d.Tensor)r.indexOf(t.id)===-1&&n.push(t);else if(Array.isArray(t))t.forEach(a=>{r.indexOf(a.id)===-1&&n.push(a)});else if(t!=null)for(let a in t){let o=t[a];r.indexOf(o.id)===-1&&n.push(o)}n.forEach(a=>{a.isDisposed||a.dispose()})}function qAt(t){return t instanceof ro.Tensor}function W7(t){return Array.isArray(t)}function gbe(t){return!qAt(t)&&!W7(t)}function ybe(t,e,r,n=!0,a=""){if(e==null||e.length===0){if(t!=null){let s=!1;if(W7(t)&&t.length>0)s=!0;else if(gbe(t)){for(let u in t)if(t.hasOwnProperty(u)){s=!0;break}}else s=!0;if(s)throw new $e(`Error when checking model ${a} expected no data, but got ${t}`)}return[]}if(t==null)return e.map(s=>null);let o;if(gbe(t)){t=t,o=[];for(let s of e){if(t[s]==null)throw new $e(`No data provided for "${s}". Need data for each key in: ${e}`);o.push(t[s])}}else if(W7(t)){if(t=t,t.length!==e.length)throw new $e(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${e.length} Tensor(s), but instead got the following list of Tensor(s): ${t}`);o=t}else{if(t=t,e.length>1)throw new $e(`The model ${a} expects ${e.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${t.shape}`);o=[t]}if(o=V7(o),r!=null)for(let s=0;s<e.length;++s){if(r[s]==null)continue;let u=o[s];if(u.shape.length!==r[s].length)throw new $e(`Error when checking ${a}: expected ${e[s]} to have ${r[s].length} dimension(s). but got array with shape ${u.shape}`);for(let f=0;f<r[s].length;++f){if(f===0&&!n)continue;let l=u.shape[f],c=r[s][f];if(c!=null&&c>=0&&l!==c)throw new $e(`${a} expected a batch of elements where each example has shape [${r[s].slice(1,r[s].length)}] (i.e.,tensor shape [*,${r[s].slice(1,r[s].length)}]) but the ${a} received an input with ${u.shape[0]} examples, each with shape [${u.shape.slice(1,u.shape.length)}] (tensor shape [${u.shape}])`)}}return o}function zAt(t,e,r){let n=yf(t.map(o=>o.shape[0]));n.sort();let a=yf(e.map(o=>o.shape[0]));if(a.sort(),n.length>1)throw new $e(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(o=>o.shape))}`);if(a.length>1)throw new $e(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(o=>o.shape))}`);if(n.length>0&&a.length>0&&!ro.util.arraysEqual(n,a))throw new $e(`Input Tensors should have the same number of samples as target Tensors. Found ${n[0]} input sample(s) and ${a[0]} target sample(s).`)}function UAt(t,e,r){let n=[H0,h1,K0];for(let a=0;a<t.length;++a){let o=t[a],s=e[a],u=r[a];if(s!=null){if(s===K0&&o.shape[o.shape.length-1]===1)throw new $e(`You are passing a target array of shape ${o.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(n.indexOf(s)!==-1){let f=o.shape.slice(1),l=u.slice(1);for(let c=0;c<f.length;++c){let h=f[c],m=l[c];if(m!=null&&h!==m)throw new $e(`A target Tensor with shape ${o.shape} was passed for an output of shape ${u}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function bbe(t,e,r,n=!0,a=""){let o;if(Array.isArray(t)){if(t.length!==e.length)throw new $e(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${e.length} Tensor(s), but instead got ${t.length} Tensors(s).`);o=t}else{if(e.length>1)throw new $e(`The model expects ${e.length} ${a} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(t.shape)}.`);o=[t]}if(r!=null)for(let s=0;s<e.length;++s){if(r[s]==null)continue;let u=o[s];if(u.shape.length!==r[s].length)throw new $e(`Error when checking ${a}: expected ${e[s]} to have ${r[s].length} dimension(s), but got array with shape ${JSON.stringify(u.shape)}`);for(let f=0;f<r[s].length;++f){if(f===0&&!n)continue;let l=u.shape[f],c=r[s][f];if(c!=null&&c!==l)throw new $e(`Error when checking ${a}: expected ${e[s]} to have shape ${JSON.stringify(r[s])} but got array with shape ${JSON.stringify(u.shape)}.`)}}}function jAt(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(n=>[]);let r;if(typeof t=="string"||typeof t=="function")r=[t];else if(Array.isArray(t)||typeof t=="object")r=t;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${t}`);if(Array.isArray(r))return e.map(n=>r);{let n=[];for(let a of e){let o=r.hasOwnProperty(a)?r[a]:[];Array.isArray(o)||(o=[o]),n.push(o)}return n}}var $At="layers-model",Nf=class extends $s{constructor(e){super(e),this.isTraining=!1}summary(e,r,n=console.log){if(!this.built)throw new $e("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");sbe(this,e,r,n)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=obe(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof ro.Optimizer))throw new $e("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let r=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(let s in e.loss)if(this.outputNames.indexOf(s)===-1)throw new $e(`Unknown entry in loss dictionary: "${s}". Only expected the following keys: ${this.outputNames}`);for(let s of this.outputNames)e.loss[s]==null&&console.warn(`Output "${s}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${s} during training`),r.push(m4(e.loss[s]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new $e(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);r=e.loss.map(u=>m4(u))}else{let s=m4(e.loss);this.outputs.forEach(u=>{r.push(s)})}this.lossFunctions=r,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let s=0;s<this.outputs.length;++s){let u=this.internalOutputShapes[s],f=this.outputNames[s];this.feedOutputNames.push(f),this.feedOutputShapes.push(u),this.feedLossFns.push(this.lossFunctions[s])}let n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],_l("loss",()=>{for(let s=0;s<this.outputs.length;++s){if(n.indexOf(s)!==-1)continue;let u=this.lossFunctions[s];this.outputs.length>1&&(this.metricsTensors.push([u,s]),this.metricsNames.push(this.outputNames[s]+"_loss"))}});let a=jAt(e.metrics,this.outputNames),o=(s,u,f)=>{this.outputNames.length>1&&(u=this.outputNames[s]+"_"+u),this.metricsNames.push(u),this.metricsTensors.push([f,s])};_l("metric",()=>{for(let s=0;s<this.outputs.length;++s){if(n.indexOf(s)!==-1)continue;let u=a[s];(l=>{let c="",h,m,g;for(let b of l){if(typeof b=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(b)!==-1){let I=this.internalOutputShapes[s];I[I.length-1]===1||this.lossFunctions[s]===h1?["accuracy","acc"].indexOf(b)!==-1?m=g4:["crossentropy","ce"].indexOf(b)!==-1&&(m=q7):this.lossFunctions[s]===c1?["accuracy","acc"].indexOf(b)!==-1?m=z7:["crossentropy","ce"].indexOf(b)!==-1&&(m=U7):["accuracy","acc"].indexOf(b)!==-1?m=y4:["crossentropy","ce"].indexOf(b)!==-1&&(m=b4);let C;["accuracy","acc"].indexOf(b)!==-1?C="acc":["crossentropy","ce"].indexOf(b)!==-1&&(C="ce"),g=m,h=c+C}else g=ibe(b),h=c+U_(b);let A;_l(h,()=>{A=g}),o(s,h,A)}})(u)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,r,n={}){let a=n.batchSize==null?32:n.batchSize;E4(a);let o=!0,s=this.standardizeUserDataXY(e,r,o,a);try{let u=s[0].concat(s[1]);this.makeTestFunction();let f=this.testFunction,l=this.testLoop(f,u,a,n.verbose,n.steps);return Ha(l)}finally{Mf(s[0],e),Mf(s[1],r)}}evaluateDataset(e,r){return it(this,null,function*(){return this.makeTestFunction(),mbe(this,e,r)})}checkNumSamples(e,r,n,a="steps"){let o;if(n!=null){if(o=null,r!=null)throw new $e(`If ${a} is set, batchSize must be null or undefined.Got batchSize = ${r}`)}else if(e!=null)Array.isArray(e)?o=e[0].shape[0]:o=e.shape[0];else throw new $e(`Either the input data should have a defined shape, or ${a} shoud be specified.`);return o}execute(e,r){if(Array.isArray(r)&&r.length===0)throw new $e("`outputs` is an empty Array, which is not allowed.");let n=Array.isArray(r),a=n?r:[r],o=this.retrieveSymbolicTensors(a),s=new _f;if(e instanceof ro.Tensor&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new $e(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let f=0;f<this.inputs.length;++f)s.add(this.inputs[f],e[f])}else for(let f of this.inputs){let l=e[f.name];if(l==null)throw new $e(`No value is provided for the model's input ${f.name}`);s.add(f,l)}let u=z0(o,s);return n?u:u[0]}retrieveSymbolicTensors(e){let r=vf(null,e.length),n=e.length;for(let a of this.layers){let o=Array.isArray(a.output)?a.output:[a.output],s=o.map(u=>u.name);for(let u=0;u<e.length;++u){let f=s.indexOf(e[u]);if(f!==-1&&(r[u]=o[f],n--),n===0)break}if(n===0)break}if(n>0){let a=[];throw r.forEach((o,s)=>{o==null&&a.push(e[s])}),new $e(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(a)}`)}return r}predictLoop(e,r=32,n=!1){return fi.tidy(()=>{let a=this.checkNumSamples(e);if(n)throw new fr("Verbose predictLoop() is not implemented yet.");let o=A4(a,r),s=this.outputs.map(u=>[]);for(let u=0;u<o.length;++u)fi.tidy(()=>{let l=o[u][0],c=o[u][1],h=d1(e,l,c),m=[];if(Array.isArray(h))for(let b=0;b<h.length;++b)m.push({key:this.inputs[b],value:h[b]});else m.push({key:this.inputs[0],value:h});let g=new _f(m);return z0(this.outputs,g)}).forEach((l,c)=>s[c].push(l));return Ha(s.map(u=>fi.concat(u,0)))})}predict(e,r={}){let n=V7(e);bbe(n,this.inputNames,this.feedInputShapes,!1);try{let a=r.batchSize==null?32:r.batchSize;return E4(a),this.predictLoop(n,a)}finally{Mf(n,e)}}predictOnBatch(e){bbe(e,this.inputNames,this.feedInputShapes,!0);let r=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,r)}standardizeUserDataXY(e,r,n=!0,a){if(this.optimizer_==null)throw new vo("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");let o=[];for(let s=0;s<this.feedOutputShapes.length;++s){let u=this.feedOutputShapes[s];this.feedLossFns[s]===c1?o.push(u.slice(0,u.length-1).concat([1])):o.push(u)}if(e=ybe(e,this.feedInputNames,this.feedInputShapes,!1,"input"),r=ybe(r,this.feedOutputNames,o,!1,"target"),zAt(e,r,null),UAt(r,this.feedLossFns,this.feedOutputShapes),this.stateful&&a!=null&&a>0&&e[0].shape[0]%a!==0)throw new $e(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${a}. Found: ${e[0].shape[0]} sample(s).`);return[e,r]}standardizeUserData(e,r,n,a,o=!0,s){return it(this,null,function*(){let[u,f]=this.standardizeUserDataXY(e,r,o,s);if(n!=null)throw new Error("sample weight is not supported yet.");let l=null;if(a!=null){let c=_4(a,this.outputNames);l=[];for(let h=0;h<c.length;++h)l.push(yield S4(f[h],null,c[h]))}return[u,f,l]})}testLoop(e,r,n,a=0,o){return fi.tidy(()=>{let s=this.checkNumSamples(r,n,o,"steps"),u=[];if(a>0)throw new fr("Verbose mode is not implemented yet.");if(o!=null)throw new fr("steps mode in testLoop() is not implemented yet");{let f=A4(s,n),l=(0,ro.tensor1d)(Bo(0,s));for(let c=0;c<f.length;++c){let h=f[c][0],m=f[c][1],g=Ih(l,h,m-h),b=M4(r,g),A=e(b);if(c===0)for(let I=0;I<A.length;++I)u.push((0,ro.scalar)(0));for(let I=0;I<A.length;++I){let C=A[I];u[I]=fi.add(u[I],fi.mul(m-h,C))}}for(let c=0;c<u.length;++c)u[c]=fi.div(u[c],s)}return u})}getDedupedMetricsNames(){let e=this.metricsNames,r=[];for(let n=0;n<e.length;++n){let a=e[n],o=a;U9(e,a)>1&&(o+=`_${U9(e.slice(0,n),a)}`),r.push(o)}return r}makeTrainFunction(){return e=>{let r=[],n=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),s=[],u=()=>{let h=[];for(let A=0;A<this.inputs.length;++A)h.push({key:this.inputs[A],value:n[A]});let m=new _f(h),g=z0(this.outputs,m,{training:!0}),b;for(let A=0;A<this.lossFunctions.length;++A){let I=this.lossFunctions[A],C=I(a[A],g[A]);o[A]!=null&&(C=fbe(C,o[A]));let R=fi.mean(C);r.push(R),A===0?b=C:b=fi.add(b,C)}for(let A=0;A<this.metricsTensors.length;++A){let I;if(this.outputs.length>1&&A<this.outputs.length)I=r[A];else{let C=this.metricsTensors[A][0],R=this.metricsTensors[A][1];I=fi.mean(C(a[R],g[R]))}fi.keep(I),s.push(I)}return b=fi.mean(b),this.calculateLosses().forEach(A=>{b=fi.add(b,A)}),b},f=this.collectedTrainableWeights.map(h=>h.read()),l=!0;return[this.optimizer_.minimize(u,l,f)].concat(s)}}makeTestFunction(){this.testFunction=e=>fi.tidy(()=>{let r=[],n,a=e.slice(0,this.inputs.length),o=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),s=[];for(let l=0;l<this.inputs.length;++l)s.push({key:this.inputs[l],value:a[l]});let u=new _f(s),f=z0(this.outputs,u);for(let l=0;l<this.lossFunctions.length;++l){let c=this.lossFunctions[l],h=fi.mean(c(o[l],f[l]));l===0?n=h:n=fi.add(n,h),r.push(n)}for(let l=0;l<this.metricsTensors.length;++l){let c=this.metricsTensors[l][0],h=this.metricsTensors[l][1],m=fi.mean(c(o[h],f[h]));r.push(m)}return r})}fit(a,o){return it(this,arguments,function*(e,r,n={}){return vbe(this,e,r,n)})}fitDataset(e,r){return it(this,null,function*(){return dbe(this,e,r)})}trainOnBatch(e,r){return it(this,null,function*(){let n=yield this.standardizeUserData(e,r),a=n[0],o=n[1],u=this.makeTrainFunction()(a.concat(o)),f=[];for(let l of u){let c=yield l.data();f.push(c[0])}return fi.dispose(u),Mf(n[0],e),Mf(n[1],r),Ha(f)})}getNamedWeights(e){let r=[],n=e!=null&&e.trainableOnly,a=n?this.trainableWeights:this.weights,o=this.getWeights(n);for(let s=0;s<a.length;++s)n&&!a[s].trainable||r.push({name:a[s].originalName,tensor:o[s]});return r}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){let e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){let r=fi.memory().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=r-fi.memory().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=gf(this.loss);else if(Array.isArray(this.loss)){for(let r of this.loss)if(typeof r!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(r=>gf(r))}else{let r=Object.keys(this.loss);e={};let n=this.loss;for(let a of r)if(typeof n[a]=="string")e[a]=gf(n[a]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[gf(U_(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>gf(U_(e)));{let e={};for(let r in this.metrics)e[r]=gf(U_(this.metrics[r]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");let r=j_(e.optimizer_config),n=js(r),a;if(typeof e.loss=="string")a=kh(e.loss);else if(Array.isArray(e.loss))a=e.loss.map(s=>kh(s));else if(e.loss!=null){a={};for(let s in e.loss)a[s]=kh(e.loss[s])}let o;if(Array.isArray(e.metrics))o=e.metrics.map(s=>kh(s));else if(e.metrics!=null){o={};for(let s in e.metrics)o[s]=kh(e.metrics[s])}this.compile({loss:a,metrics:o,optimizer:n})}save(e,r){return it(this,null,function*(){if(typeof e=="string"){let l=ro.io.getSaveHandlers(e);if(l.length===0)throw new $e(`Cannot find any save handlers for URL '${e}'`);if(l.length>1)throw new $e(`Found more than one (${l.length}) save handlers for URL '${e}'`);e=l[0]}if(e.save==null)throw new $e("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");let n=yield ro.io.encodeWeights(this.getNamedWeights(r)),a=!1,o=null,u={modelTopology:this.toJSON(o,a),format:$At,generatedBy:`TensorFlow.js tfjs-layers v${$_}`,convertedBy:null};if((r==null?!1:r.includeOptimizer)&&this.optimizer!=null){u.trainingConfig=this.getTrainingConfig();let l="optimizer",{data:c,specs:h}=yield ro.io.encodeWeights(yield this.optimizer.getWeights(),l);n.specs.push(...h),n.data=ro.io.concatenateArrayBuffers([n.data,c])}return this.userDefinedMetadata!=null&&($7(this.userDefinedMetadata,this.name,!0),u.userDefinedMetadata=this.userDefinedMetadata),u.weightData=n.data,u.weightSpecs=n.specs,e.save(u)})}setUserDefinedMetadata(e){$7(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}};Nf.className="Model";ro.serialization.registerClass(Nf);var N4=class extends Nf{};N4.className="Functional";ro.serialization.registerClass(N4);w();_();var m1=Bt(_r());var jh=class extends Nf{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:md("sequential_"),e.layers!=null)for(let r of e.layers)this.add(r)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(n=>n<0))throw new $e(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){let r=e instanceof jh||e instanceof Nf,n;if(r){if(n=e,n.outputs.length!==1)throw new $e("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(n.inputs.length!==1)throw new $e("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new $e("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");let a=UT({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(r)this.outputs=n.outputs,this.inputs=n.inputs;else{if(e.inboundNodes.length!==1)throw new $e(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(e.inboundNodes[0].outputTensors.length!==1)throw new $e("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=H9(this.outputs[0])}this.inboundNodes=[],new Oh({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:vf(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(a=>a.shape),outputShapes:this.outputs[0].shape})}else{let a=e.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{let e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,r){return this.model==null&&this.build(),this.model.call(e,r)}build(e){if(Wr(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Nf({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,r,n=console.log){this.built||this.build(),super.summary(e,r,n)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,r,n={}){if(!this.built)throw new vo("The model needs to be compiled before being used.");return this.model.evaluate(e,r,n)}evaluateDataset(e,r){return it(this,null,function*(){if(!this.built)throw new vo("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,r)})}predict(e,r={}){return this.model==null&&this.build(),this.model.predict(e,r)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}fit(a,o){return it(this,arguments,function*(e,r,n={}){if(!this.built)throw new vo("The model needs to be compiled before being used.");return this.model.fit(e,r,n)})}fitDataset(e,r){return it(this,null,function*(){if(!this.built)throw new vo("The model needs to be compiled before being used.");return this.model.fitDataset(e,r)})}trainOnBatch(e,r){return it(this,null,function*(){return this.model.trainOnBatch(e,r)})}static fromConfig(e,r,n={},a=!1){let o,s={};if(r instanceof Array){if(r[0].className==null||r[0].className==="Merge")throw new $e("Legacy serialization format not supported yet.");o=r}else m1.util.assert(r.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),o=r.layers,delete r.layers,s=r;let u=new e(s);if(!(u instanceof jh))throw new fr(`Sequential.fromConfig called on non-Sequential input: ${u}`);for(let f of o){let c=js(f,void 0,a);a&&c.setFastWeightInitDuringBuild(!0),u.add(c)}return u}set stopTraining(e){if(this.model==null)throw new $e("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new $e("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){let e=[];for(let r of this.layers){let n={};n.className=r.getClassName(),n.config=r.getConfig(),e.push(n)}return{name:this.name,layers:e}}};jh.className="Sequential";m1.serialization.registerClass(jh);function G7(t){return UT(t)}w();_();var da=Bt(_r());w();_();var na=Bt(_r()),Pa=Bt(_r());var qo=class extends Pa.serialization.Serializable{getConfig(){return{}}},T4=class extends qo{apply(e,r=1){return Sme(e,r)}};T4.className="elu";Pa.serialization.registerClass(T4);var D4=class extends qo{apply(e){return na.selu(e)}};D4.className="selu";Pa.serialization.registerClass(D4);var k4=class extends qo{apply(e){return na.relu(e)}};k4.className="relu";Pa.serialization.registerClass(k4);var I4=class extends qo{apply(e){return(0,Pa.tidy)(()=>na.minimum(6,na.relu(e)))}};I4.className="relu6";Pa.serialization.registerClass(I4);var C4=class extends qo{apply(e){return e}};C4.className="linear";Pa.serialization.registerClass(C4);var O4=class extends qo{apply(e){return na.sigmoid(e)}};O4.className="sigmoid";Pa.serialization.registerClass(O4);var R4=class extends qo{apply(e){return Mme(e)}};R4.className="hardSigmoid";Pa.serialization.registerClass(R4);var F4=class extends qo{apply(e){return na.softplus(e)}};F4.className="softplus";Pa.serialization.registerClass(F4);var B4=class extends qo{apply(e){return Eme(e)}};B4.className="softsign";Pa.serialization.registerClass(B4);var L4=class extends qo{apply(e){return na.tanh(e)}};L4.className="tanh";Pa.serialization.registerClass(L4);var v1=class extends qo{apply(e,r=-1){return na.softmax(e,r)}};v1.className="softmax";Pa.serialization.registerClass(v1);var P4=class extends qo{apply(e,r=-1){return na.logSoftmax(e,r)}};P4.className="logSoftmax";Pa.serialization.registerClass(P4);var q4=class extends qo{apply(e,r=1){return(0,Pa.tidy)(()=>na.mul(na.sigmoid(na.mul(e,r)),e))}};q4.className="swish";Pa.serialization.registerClass(q4);var z4=class extends qo{apply(e){return(0,Pa.tidy)(()=>na.mul(e,na.tanh(na.softplus(e))))}};z4.className="mish";Pa.serialization.registerClass(z4);function Ml(t){return t.getClassName()}function H7(t,e={}){return Ac(t,Pa.serialization.SerializationMap.getMap().classNameMap,e,"activation")}function Al(t){if(t==null){let e={};return e.className="linear",e.config={},H7(e)}if(typeof t=="string"){let e={};return e.className=t,e.config={},H7(e)}else return t instanceof qo?t:H7(t)}w();_();var W_=Bt(_r()),ss=Bt(_r());function VAt(t){if(t!=null&&typeof t!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${t}`)}var U4=class extends ss.serialization.Serializable{},G_=class extends U4{constructor(e){super(),VAt(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return(0,ss.tidy)(()=>{let r=(0,ss.zeros)([1]);return this.hasL1&&(r=(0,ss.add)(r,(0,ss.sum)(W_.mul(this.l1,(0,ss.abs)(e))))),this.hasL2&&(r=(0,ss.add)(r,(0,ss.sum)(W_.mul(this.l2,P0(e))))),W_.reshape(r,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,r){return new e({l1:r.l1,l2:r.l2})}};G_.className="L1L2";ss.serialization.registerClass(G_);var wbe={l1l2:"L1L2"};function Mn(t){return Fy(t)}function xbe(t,e={}){return Ac(t,ss.serialization.SerializationMap.getMap().classNameMap,e,"regularizer")}function Kn(t){if(t==null)return null;if(typeof t=="string"){let r={className:t in wbe?wbe[t]:t,config:{}};return xbe(r)}else return t instanceof U4?t:xbe(t)}var g1=class extends Dr{constructor(e){super(e==null?{}:e),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,r){e=Nr(e);let n=(0,da.relu)(e);return this.maxValue!=null&&(n=(0,da.clipByValue)(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){let e={maxValue:this.maxValue},r=super.getConfig();return Object.assign(e,r),e}};g1.className="ReLU";da.serialization.registerClass(g1);var y1=class extends Dr{constructor(e){super(e==null?{}:e),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,r){let n=Nr(e);return(0,da.leakyRelu)(n,this.alpha)}computeOutputShape(e){return e}getConfig(){let e={alpha:this.alpha},r=super.getConfig();return Object.assign(e,r),e}};y1.className="LeakyReLU";da.serialization.registerClass(y1);var b1=class extends Dr{constructor(e){if(super(e==null?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=jn(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Kn(e.alphaRegularizer),this.alphaConstraint=Ni(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new $e(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=Wr(e);let r=e.slice(1);if(this.sharedAxes!=null)for(let a of this.sharedAxes)r[a-1]=1;this.alpha=this.addWeight("alpha",r,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);let n={};if(this.sharedAxes!=null)for(let a=1;a<e.length;++a)n[a]=e[a];this.inputSpec=[new Gn({ndim:e.length,axes:n})],this.built=!0}call(e,r){return e=Nr(e),(0,da.prelu)(e,this.alpha.read())}getConfig(){let e={alphaInitializer:Yn(this.alphaInitializer),alphaRegularizer:Mn(this.alphaRegularizer),alphaConstraint:Ai(this.alphaConstraint),sharedAxes:this.sharedAxes},r=super.getConfig();return Object.assign(e,r),e}};b1.className="PReLU";da.serialization.registerClass(b1);var w1=class extends Dr{constructor(e){if(super(e==null?{}:e),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new fr(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,r){let n=Nr(e);return(0,da.elu)(n)}computeOutputShape(e){return e}getConfig(){let e={alpha:this.alpha},r=super.getConfig();return Object.assign(e,r),e}};w1.className="ELU";da.serialization.registerClass(w1);var x1=class extends Dr{constructor(e){super(e==null?{}:e),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,r){let n=Nr(e);return(0,da.mul)(n,(0,da.cast)((0,da.greater)(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){let e={theta:this.theta},r=super.getConfig();return Object.assign(e,r),e}};x1.className="ThresholdedReLU";da.serialization.registerClass(x1);var _1=class extends Dr{constructor(e){super(e==null?{}:e),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new v1().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,r){let n=Nr(e);return this.softmax(n,this.axis)}computeOutputShape(e){return e}getConfig(){let e={axis:this.axis},r=super.getConfig();return Object.assign(e,r),e}};_1.className="Softmax";da.serialization.registerClass(_1);w();_();var An=Bt(_r()),bo=Bt(_r());w();_();function Sd(t,e,r){if(typeof t=="number")return vf(t,e);if(t.length!==e)throw new $e(`The ${r} argument must be an integer or tuple of ${e} integers. Received: ${t.length} elements.`);for(let n=0;n<e;++n){let a=t[n];if(!yme(a))throw new $e(`The ${r} argument must be an integer or tuple of ${e} integers. Received: ${JSON.stringify(t)} including a non-integer number ${a}`)}return t}function _s(t,e,r,n,a=1){if(t==null)return t;let o=e+(e-1)*(a-1),s;return r==="same"?s=t:s=t-o+1,Math.floor((s+n-1)/n)}function Nl(t,e,r,n){if(t==null)return null;if(n==="valid")t=t*e+Sl([r-e,0]);else if(n==="same")t=t*e;else throw new $e(`Unsupport padding mode: ${n}.`);return t}function H_(t,e){return(0,bo.tidy)(()=>(gi(e),e==="channelsFirst"?An.transpose(t,[0,2,3,1]):t))}function K7(t,e){return(0,bo.tidy)(()=>(gi(e),e==="channelsFirst"?An.transpose(t,[0,2,3,4,1]):t))}function GAt(t,e,r,n=1,a="valid",o,s=1){return(0,bo.tidy)(()=>{if(o==null&&(o=ts()),gi(o),t.shape.length!==3)throw new $e(`The input of a conv1dWithBias operation should be 3, but is ${t.shape.length} instead.`);if(e.shape.length!==3)throw new $e(`The kernel for a conv1dWithBias operation should be 3, but is ${e.shape.length} instead`);if(r!=null&&r.shape.length!==1)throw new $e(`The bias for a conv1dWithBias operation should be 1, but is ${e.shape.length} instead`);if(o==="channelsFirst"&&(t=An.transpose(t,[0,2,1])),a==="causal")throw new fr("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let u=An.conv1d(t,e,n,a==="same"?"same":"valid","NWC",s);return r!=null&&(u=ns(u,r)),u})}function _be(t,e,r,n=[1,1],a="valid",o,s,u=null){return(0,bo.tidy)(()=>{if(o==null&&(o=ts()),gi(o),t.rank!==3&&t.rank!==4)throw new $e(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${t.rank}.`);if(e.rank!==3&&e.rank!==4)throw new $e(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${t.rank}.`);let f=H_(t,o);if(a==="causal")throw new fr("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return f=An.fused.conv2d({x:f,filter:e,strides:n,pad:a==="same"?"same":"valid",dilations:s,dataFormat:"NHWC",bias:r,activation:u}),o==="channelsFirst"&&(f=An.transpose(f,[0,3,1,2])),f})}function HAt(t,e,r,n=[1,1,1],a="valid",o,s){return(0,bo.tidy)(()=>{if(o==null&&(o=ts()),gi(o),t.rank!==4&&t.rank!==5)throw new $e(`conv3dWithBias expects input to be of rank 4 or 5, but received ${t.rank}.`);if(e.rank!==4&&e.rank!==5)throw new $e(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${t.rank}.`);let u=K7(t,o);if(a==="causal")throw new fr("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return u=An.conv3d(u,e,n,a==="same"?"same":"valid","NDHWC",s),r!=null&&(u=ns(u,r)),o==="channelsFirst"&&(u=An.transpose(u,[0,4,1,2,3])),u})}var J0=class extends Dr{constructor(e,r){if(super(r),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",J0.verifyArgs(r),this.rank=e,Gi(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new fr(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Sd(r.kernelSize,e,"kernelSize"),this.strides=Sd(r.strides==null?1:r.strides,e,"strides"),this.padding=r.padding==null?"valid":r.padding,es(this.padding),this.dataFormat=r.dataFormat==null?"channelsLast":r.dataFormat,gi(this.dataFormat),this.activation=Al(r.activation),this.useBias=r.useBias==null?!0:r.useBias,this.biasInitializer=jn(r.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=Ni(r.biasConstraint),this.biasRegularizer=Kn(r.biasRegularizer),this.activityRegularizer=Kn(r.activityRegularizer),this.dilationRate=Sd(r.dilationRate==null?1:r.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new $e(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new $e(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new $e(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if(du("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!kT(e.kernelSize,"number",1,3))throw new $e(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){let e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Ml(this.activation),useBias:this.useBias,biasInitializer:Yn(this.biasInitializer),biasRegularizer:Mn(this.biasRegularizer),activityRegularizer:Mn(this.activityRegularizer),biasConstraint:Ai(this.biasConstraint)},r=super.getConfig();return Object.assign(e,r),e}},Ed=class extends J0{constructor(e,r){super(e,r),this.kernel=null,Ed.verifyArgs(r),this.filters=r.filters,Gi(this.filters,"filters"),this.kernelInitializer=jn(r.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=Ni(r.kernelConstraint),this.kernelRegularizer=Kn(r.kernelRegularizer)}build(e){e=Wr(e);let r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null)throw new $e(`The channel dimension of the input should be defined. Found ${e[r]}`);let n=e[r],a=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[r]:n}}],this.built=!0}call(e,r){return(0,bo.tidy)(()=>{e=Nr(e);let n,a=this.bias==null?null:this.bias.read(),o=IT(this.activation.getClassName());if(o!=null&&this.rank===2)n=_be(e,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate,o);else{if(this.rank===1)n=GAt(e,this.kernel.read(),a,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)n=_be(e,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)n=HAt(e,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new fr("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(n=this.activation.apply(n))}return n})}computeOutputShape(e){e=Wr(e);let r=[],n=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let o=0;o<n.length;++o){let s=_s(n[o],this.kernelSize[o],this.padding,this.strides[o],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[o]);r.push(s)}let a=[e[0]];return this.dataFormat==="channelsLast"?(a=a.concat(r),a.push(this.filters)):(a.push(this.filters),a=a.concat(r)),a}getConfig(){let e={filters:this.filters,kernelInitializer:Yn(this.kernelInitializer),kernelRegularizer:Mn(this.kernelRegularizer),kernelConstraint:Ai(this.kernelConstraint)},r=super.getConfig();return Object.assign(e,r),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new $e(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}},$h=class extends Ed{constructor(e){super(2,e),$h.verifyArgs(e)}getConfig(){let e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!kT(e.kernelSize,"number",1,2))throw new $e(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}};$h.className="Conv2D";bo.serialization.registerClass($h);var Vh=class extends Ed{constructor(e){super(3,e),Vh.verifyArgs(e)}getConfig(){let e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new $e(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}};Vh.className="Conv3D";bo.serialization.registerClass(Vh);var S1=class extends $h{constructor(e){if(super(e),this.inputSpec=[new Gn({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new $e(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Wr(e),e.length!==4)throw new $e("Input should have rank 4; Received input shape: "+JSON.stringify(e));let r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null)throw new $e("The channel dimension of the inputs should be defined. Found `None`.");let n=e[r],a=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Gn({ndim:4,axes:{[r]:n}})],this.built=!0}call(e,r){return An.tidy(()=>{let n=Nr(e);if(n.shape.length!==4)throw new $e(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${n.shape.length}`);let a=n.shape,o=a[0],s,u;this.dataFormat==="channelsFirst"?(s=2,u=3):(s=1,u=2);let f=a[s],l=a[u],c=this.kernelSize[0],h=this.kernelSize[1],m=this.strides[0],g=this.strides[1],b=Nl(f,m,c,this.padding),A=Nl(l,g,h,this.padding),I=[o,b,A,this.filters];this.dataFormat!=="channelsLast"&&(n=An.transpose(n,[0,2,3,1]));let C=An.conv2dTranspose(n,this.kernel.read(),I,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(C=An.transpose(C,[0,3,1,2])),this.bias!=null&&(C=ns(C,this.bias.read(),this.dataFormat)),this.activation!=null&&(C=this.activation.apply(C)),C})}computeOutputShape(e){e=Wr(e);let r=e.slice(),n,a,o;this.dataFormat==="channelsFirst"?(n=1,a=2,o=3):(n=3,a=1,o=2);let s=this.kernelSize[0],u=this.kernelSize[1],f=this.strides[0],l=this.strides[1];return r[n]=this.filters,r[a]=Nl(r[a],f,s,this.padding),r[o]=Nl(r[o],l,u,this.padding),r}getConfig(){let e=super.getConfig();return delete e.dilationRate,e}};S1.className="Conv2DTranspose";bo.serialization.registerClass(S1);var E1=class extends Vh{constructor(e){if(super(e),this.inputSpec=[new Gn({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new $e(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Wr(e),e.length!==5)throw new $e("Input should have rank 5; Received input shape: "+JSON.stringify(e));let r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null)throw new $e("The channel dimension of the inputs should be defined. Found `None`.");let n=e[r],a=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Gn({ndim:5,axes:{[r]:n}})],this.built=!0}call(e,r){return An.tidy(()=>{let n=Nr(e);if(n.shape.length!==5)throw new $e(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${n.shape.length}`);let a=n.shape,o=a[0],s,u,f;this.dataFormat==="channelsFirst"?(f=2,s=3,u=4):(f=1,s=2,u=3);let l=a[f],c=a[s],h=a[u],m=this.kernelSize[0],g=this.kernelSize[1],b=this.kernelSize[2],A=this.strides[0],I=this.strides[1],C=this.strides[2],R=Nl(l,A,m,this.padding),O=Nl(c,I,g,this.padding),F=Nl(h,C,b,this.padding),z=[o,R,O,F,this.filters];this.dataFormat!=="channelsLast"&&(n=An.transpose(n,[0,2,3,4,1]));let B=An.conv3dTranspose(n,this.kernel.read(),z,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(B=An.transpose(B,[0,4,1,2,3])),this.bias!==null&&(B=ns(B,this.bias.read(),this.dataFormat)),this.activation!==null&&(B=this.activation.apply(B)),B})}computeOutputShape(e){e=Wr(e);let r=e.slice(),n,a,o,s;this.dataFormat==="channelsFirst"?(n=1,a=2,o=3,s=4):(n=4,a=1,o=2,s=3);let u=this.kernelSize[0],f=this.kernelSize[1],l=this.kernelSize[2],c=this.strides[0],h=this.strides[1],m=this.strides[2];return r[n]=this.filters,r[a]=Nl(r[a],c,u,this.padding),r[o]=Nl(r[o],h,f,this.padding),r[s]=Nl(r[s],m,l,this.padding),r}getConfig(){let e=super.getConfig();return delete e.dilationRate,e}};E1.className="Conv3DTranspose";bo.serialization.registerClass(E1);var j4=class extends Ed{constructor(e,r){if(super(e,r),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,r.filters==null)throw new $e("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(r.kernelInitializer!=null||r.kernelRegularizer!=null||r.kernelConstraint!=null)throw new $e("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(r.padding!=null&&r.padding!=="same"&&r.padding!=="valid")throw new $e(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(r.padding)}`);this.depthMultiplier=r.depthMultiplier==null?1:r.depthMultiplier,this.depthwiseInitializer=jn(r.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Kn(r.depthwiseRegularizer),this.depthwiseConstraint=Ni(r.depthwiseConstraint),this.pointwiseInitializer=jn(r.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Kn(r.pointwiseRegularizer),this.pointwiseConstraint=Ni(r.pointwiseConstraint)}build(e){if(e=Wr(e),e.length<this.rank+2)throw new $e(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);let r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null||e[r]<0)throw new $e(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[r])}`);let n=e[r],a=this.kernelSize.concat([n,this.depthMultiplier]),o=[];for(let u=0;u<this.rank;++u)o.push(1);o.push(n*this.depthMultiplier,this.filters);let s=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",a,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,s,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",o,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,s,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,s,this.biasConstraint):this.bias=null,this.inputSpec=[new Gn({ndim:this.rank+2,axes:{[r]:n}})],this.built=!0}call(e,r){return(0,bo.tidy)(()=>{e=Nr(e);let n;if(this.rank===1)throw new fr("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=An.transpose(e,[0,2,3,1])),n=An.separableConv2d(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(n=ns(n,this.bias.read(),this.dataFormat)),this.activation!=null&&(n=this.activation.apply(n)),this.dataFormat==="channelsFirst"&&(n=An.transpose(n,[0,3,1,2])),n})}getConfig(){let e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Yn(this.depthwiseInitializer),e.pointwiseInitializer=Yn(this.pointwiseInitializer),e.depthwiseRegularizer=Mn(this.depthwiseRegularizer),e.pointwiseRegularizer=Mn(this.pointwiseRegularizer),e.depthwiseConstraint=Ai(this.depthwiseConstraint),e.pointwiseConstraint=Ai(this.pointwiseConstraint),e}};j4.className="SeparableConv";var M1=class extends j4{constructor(e){super(2,e)}};M1.className="SeparableConv2D";bo.serialization.registerClass(M1);var Md=class extends Ed{constructor(e){super(1,e),Md.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){let e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!kT(e.kernelSize,"number",1,1))throw new $e(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}};Md.className="Conv1D";bo.serialization.registerClass(Md);var A1=class extends Dr{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,r){return(0,bo.tidy)(()=>{if(e=Nr(e),this.dataFormat==="channelsLast"){let n=n_(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return n_(n,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{let n=n_(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return n_(n,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){let e={cropping:this.cropping,dataFormat:this.dataFormat},r=super.getConfig();return Object.assign(e,r),e}};A1.className="Cropping2D";bo.serialization.registerClass(A1);var N1=class extends Dr{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,gi(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,vme(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){let r=e[2]==null?null:this.size[0]*e[2],n=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],r,n]}else{let r=e[1]==null?null:this.size[0]*e[1],n=e[2]==null?null:this.size[1]*e[2];return[e[0],r,n,e[3]]}}call(e,r){return An.tidy(()=>{let n=Nr(e),a=n.shape;if(this.dataFormat==="channelsFirst"){n=An.transpose(n,[0,2,3,1]);let o=this.size[0]*a[2],s=this.size[1]*a[3],u=this.interpolation==="nearest"?An.image.resizeNearestNeighbor(n,[o,s]):An.image.resizeBilinear(n,[o,s]);return An.transpose(u,[0,3,1,2])}else{let o=this.size[0]*a[1],s=this.size[1]*a[2];return this.interpolation==="nearest"?An.image.resizeNearestNeighbor(n,[o,s]):An.image.resizeBilinear(n,[o,s])}})}getConfig(){let e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},r=super.getConfig();return Object.assign(e,r),e}};N1.className="UpSampling2D";bo.serialization.registerClass(N1);w();_();var $4=Bt(_r()),K_=Bt(_r());function KAt(t,e,r=[1,1],n="valid",a,o){return(0,K_.tidy)(()=>{a==null&&(a=ts()),gi(a);let s=H_(t,a);if(t.rank!==4)throw new $e(`Input for depthwiseConv2d is required to be 4-D, but is instead ${t.rank}-D`);if(e.rank!==4)throw new $e(`depthwiseKernel is required to be 4-D, but is instead ${e.rank}-D`);return s=$4.depthwiseConv2d(s,e,r,n==="same"?"same":"valid","NHWC",o),a==="channelsFirst"&&(s=$4.transpose(s,[0,3,1,2])),s})}var T1=class extends J0{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=jn(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=Ni(e.depthwiseConstraint),this.depthwiseRegularizer=Kn(e.depthwiseRegularizer)}build(e){if(e=Wr(e),e.length<4)throw new $e(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);let r=this.dataFormat==="channelsFirst"?1:3;if(e[r]==null||e[r]<0)throw new $e(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[r]}).`);let n=e[r],a=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",a,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,r){return(0,K_.tidy)(()=>{e=Nr(e);let n=KAt(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(n=ns(n,this.bias.read(),this.dataFormat)),this.activation!=null&&(n=this.activation.apply(n)),n})}computeOutputShape(e){e=Wr(e);let r=this.dataFormat==="channelsFirst"?e[2]:e[1],n=this.dataFormat==="channelsFirst"?e[3]:e[2],a=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,o=_s(r,this.kernelSize[0],this.padding,this.strides[0]),s=_s(n,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],a,o,s]:[e[0],o,s,a]}getConfig(){let e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Yn(this.depthwiseInitializer),e.depthwiseRegularizer=Mn(this.depthwiseRegularizer),e.depthwiseConstraint=Ai(this.depthwiseRegularizer),e}};T1.className="DepthwiseConv2D";K_.serialization.registerClass(T1);w();_();var qr=Bt(_r()),Sbe=Bt(_r());w();_();var qt=Bt(_r()),ma=Bt(_r());function Z7(t,e,r,n){if(Array.isArray(t)){if(e!=null||r!=null)throw new $e("When inputs is an array, neither initialState or constants should be provided");n!=null&&(r=t.slice(t.length-n,t.length),t=t.slice(0,t.length-n)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function a(o){return o==null||Array.isArray(o)?o:[o]}return e=a(e),r=a(r),{inputs:t,initialState:e,constants:r}}function J7(t,e,r,n=!1,a,o,s=!1,u=!1){return qt.tidy(()=>{let f=e.shape.length;if(f<3)throw new $e(`Input should be at least 3D, but is ${f}D.`);let l=[1,0].concat(Bo(2,f));if(e=qt.transpose(e,l),o!=null)throw new fr("The rnn() functoin of the deeplearn.js backend does not support constants yet.");s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),a!=null&&(a=qt.cast(qt.cast(a,"bool"),"float32"),a.rank===f-1&&(a=qt.expandDims(a,-1)),a=qt.transpose(a,l)),n&&(e=qt.reverse(e,0),a!=null&&(a=qt.reverse(a,0)));let c=[],h,m=r,g=e.shape[0],b=qt.unstack(e),A;a!=null&&(A=qt.unstack(a));for(let C=0;C<g;++C){let R=b[C],O=qt.tidy(()=>t(R,m));if(a==null)h=O[0],m=O[1];else{let F=qt.tidy(()=>{let z=A[C],B=qt.sub(qt.onesLike(z),z),$=qt.add(qt.mul(O[0],z),qt.mul(m[0],B)),j=m.map((W,T)=>qt.add(qt.mul(O[1][T],z),qt.mul(W,B)));return{output:$,newStates:j}});h=F.output,m=F.newStates}u&&c.push(h)}let I;return u&&(I=qt.stack(c,1)),[h,I,m]})}var Ss=class extends Dr{constructor(e){super(e);let r;if(e.cell==null)throw new $e("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?r=new Q0({cells:e.cell}):r=e.cell,r.stateSize==null)throw new $e("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=r,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new Gn({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){let e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return Bo(0,e).map(r=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){zT(e)&&(e=e[0]),e=e;let r=this.cell.stateSize;Array.isArray(r)||(r=[r]);let n=r[0],a;if(this.returnSequences?a=[e[0],e[1],n]:a=[e[0],n],this.returnState){let o=[];for(let s of r)o.push([e[0],s]);return[a].concat(o)}else return a}computeMask(e,r){return qt.tidy(()=>{Array.isArray(r)&&(r=r[0]);let n=this.returnSequences?r:null;if(this.returnState){let a=this.states.map(o=>null);return[n].concat(a)}else return n})}get states(){if(this.states_==null){let e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,r=[];for(let n=0;n<e;++n)r.push(null);return r}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new fr("Constants support is not implemented in RNN yet.");zT(e)&&(e=e[0]),e=e;let n=this.stateful?e[0]:null,a=e.slice(2);this.inputSpec[0]=new Gn({shape:[n,null,...a]});let o=[e[0]].concat(e.slice(2));this.cell.build(o);let s;if(Array.isArray(this.cell.stateSize)?s=this.cell.stateSize:s=[this.cell.stateSize],this.stateSpec!=null){if(!ma.util.arraysEqual(this.stateSpec.map(u=>u.shape[u.shape.length-1]),s))throw new $e(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=s.map(u=>new Gn({shape:[null,u]}));this.stateful&&this.resetStates()}resetStates(e,r=!1){(0,ma.tidy)(()=>{if(!this.stateful)throw new bs("Cannot call resetStates() on an RNN Layer that is not stateful.");let n=this.inputSpec[0].shape[0];if(n==null)throw new $e("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>qt.zeros([n,a])):this.states_=[qt.zeros([n,this.cell.stateSize])];else if(e==null)qt.dispose(this.states_),this.keptStates!=null&&(qt.dispose(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>qt.zeros([n,a])):this.states_[0]=qt.zeros([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new $e(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);r===!0?this.keptStates.push(this.states_.slice()):qt.dispose(this.states_);for(let a=0;a<this.states_.length;++a){let o=e[a],s=Array.isArray(this.cell.stateSize)?this.cell.stateSize[a]:this.cell.stateSize,u=[n,s];if(!ma.util.arraysEqual(o.shape,u))throw new $e(`State ${a} is incompatible with layer ${this.name}: expected shape=${u}, received shape=${o.shape}`);this.states_[a]=o}}this.states_=this.states_.map(a=>qt.keep(a.clone()))})}apply(e,r){let n=r==null?null:r.initialState,a=r==null?null:r.constants;r==null&&(r={});let o=Z7(e,n,a,this.numConstants);e=o.inputs,n=o.initialState,a=o.constants;let s=[],u=[];if(n!=null){r.initialState=n,s=s.concat(n),this.stateSpec=[];for(let l of n)this.stateSpec.push(new Gn({shape:l.shape}));u=u.concat(this.stateSpec)}if(a!=null&&(r.constants=a,s=s.concat(a),this.numConstants=a.length),s[0]instanceof Po){let l=[e].concat(s),c=this.inputSpec.concat(u),h=this.inputSpec;this.inputSpec=c;let m=super.apply(l,r);return this.inputSpec=h,m}else return super.apply(e,r)}call(e,r){return(0,ma.tidy)(()=>{let n=r==null?null:r.mask,a=r==null?null:r.training,o=r==null?null:r.initialState;e=Nr(e),o==null&&(this.stateful?o=this.states_:o=this.getInitialState(e));let s=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(o.length!==s)throw new $e(`RNN Layer has ${s} state(s) but was passed ${o.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");let u={training:a},l=J7((b,A)=>{let I=this.cell.call([b].concat(A),u);return[I[0],I.slice(1)]},e,o,this.goBackwards,n,null,this.unroll,this.returnSequences),c=l[0],h=l[1],m=l[2];this.stateful&&this.resetStates(m,a);let g=this.returnSequences?h:c;return this.returnState?[g].concat(m):g})}getInitialState(e){return(0,ma.tidy)(()=>{let r=qt.zeros(e.shape);return r=qt.sum(r,[1,2]),r=Ch(r),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(n=>n>1?LT(r,[1,n]):r):this.cell.stateSize>1?[LT(r,[1,this.cell.stateSize])]:[r]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){let e=super.getConfig(),r={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(r.numConstants=this.numConstants);let n=this.cell.getConfig();return this.getClassName()===Ss.className&&(r.cell={className:this.cell.getClassName(),config:n}),Object.assign({},n,e,r)}static fromConfig(e,r,n={}){let a=r.cell,o=js(a,n);return new e(Object.assign(r,{cell:o}))}};Ss.className="RNN";ma.serialization.registerClass(Ss);var Wh=class extends Dr{},Y0=class extends Wh{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Gi(this.units,"units"),this.activation=Al(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=jn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=jn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=jn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Kn(e.kernelRegularizer),this.recurrentRegularizer=Kn(e.recurrentRegularizer),this.biasRegularizer=Kn(e.biasRegularizer),this.kernelConstraint=Ni(e.kernelConstraint),this.recurrentConstraint=Ni(e.recurrentConstraint),this.biasConstraint=Ni(e.biasConstraint),this.dropout=B0([1,Sl([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=B0([1,Sl([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Wr(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,r){return(0,ma.tidy)(()=>{if(e=e,e.length!==2)throw new $e(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let n=e[1];e=e[0];let a=r.training==null?!1:r.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Hh({ones:()=>qt.onesLike(e),rate:this.dropout,training:a,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Hh({ones:()=>qt.onesLike(n),rate:this.recurrentDropout,training:a,dropoutFunc:this.dropoutFunc}));let o,s=this.dropoutMask,u=this.recurrentDropoutMask;s!=null?o=wf(qt.mul(e,s),this.kernel.read()):o=wf(e,this.kernel.read()),this.bias!=null&&(o=ns(o,this.bias.read())),u!=null&&(n=qt.mul(n,u));let f=qt.add(o,wf(n,this.recurrentKernel.read()));return this.activation!=null&&(f=this.activation.apply(f)),[f,f]})}getConfig(){let e=super.getConfig(),r={units:this.units,activation:Ml(this.activation),useBias:this.useBias,kernelInitializer:Yn(this.kernelInitializer),recurrentInitializer:Yn(this.recurrentInitializer),biasInitializer:Yn(this.biasInitializer),kernelRegularizer:Mn(this.kernelRegularizer),recurrentRegularizer:Mn(this.recurrentRegularizer),biasRegularizer:Mn(this.biasRegularizer),activityRegularizer:Mn(this.activityRegularizer),kernelConstraint:Ai(this.kernelConstraint),recurrentConstraint:Ai(this.recurrentConstraint),biasConstraint:Ai(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign({},e,r)}};Y0.className="SimpleRNNCell";ma.serialization.registerClass(Y0);var D1=class extends Ss{constructor(e){e.cell=new Y0(e),super(e)}call(e,r){return(0,ma.tidy)(()=>{this.cell.dropoutMask!=null&&(qt.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(qt.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);let n=r==null?null:r.mask,a=r==null?null:r.training,o=r==null?null:r.initialState;return super.call(e,{mask:n,training:a,initialState:o})})}static fromConfig(e,r){return new e(r)}};D1.className="SimpleRNN";ma.serialization.registerClass(D1);var X0=class extends Wh{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new $e("GRUCell does not support reset_after parameter set to true.");this.units=e.units,Gi(this.units,"units"),this.activation=Al(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Al(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=jn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=jn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=jn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Kn(e.kernelRegularizer),this.recurrentRegularizer=Kn(e.recurrentRegularizer),this.biasRegularizer=Kn(e.biasRegularizer),this.kernelConstraint=Ni(e.kernelConstraint),this.recurrentConstraint=Ni(e.recurrentConstraint),this.biasConstraint=Ni(e.biasConstraint),this.dropout=B0([1,Sl([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=B0([1,Sl([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Wr(e);let r=e[e.length-1];this.kernel=this.addWeight("kernel",[r,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,r){return(0,ma.tidy)(()=>{if(e=e,e.length!==2)throw new $e(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);let n=r.training==null?!1:r.training,a=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Hh({ones:()=>qt.onesLike(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Hh({ones:()=>qt.onesLike(a),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));let o=this.dropoutMask,s=this.recurrentDropoutMask,u,f,l;0<this.dropout&&this.dropout<1&&(e=qt.mul(e,o[0]));let c=wf(e,this.kernel.read());this.useBias&&(c=ns(c,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(a=qt.mul(a,s[0]));let h=this.recurrentKernel.read(),[m,g]=qt.split(h,[2*this.units,this.units],h.rank-1),b=wf(a,m),[A,I,C]=qt.split(c,3,c.rank-1),[R,O]=qt.split(b,2,b.rank-1);u=this.recurrentActivation.apply(qt.add(A,R)),f=this.recurrentActivation.apply(qt.add(I,O));let F=wf(qt.mul(f,a),g);l=this.activation.apply(qt.add(C,F));let z=qt.add(qt.mul(u,a),qt.mul(qt.add(1,qt.neg(u)),l));return[z,z]})}getConfig(){let e=super.getConfig(),r={units:this.units,activation:Ml(this.activation),recurrentActivation:Ml(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Yn(this.kernelInitializer),recurrentInitializer:Yn(this.recurrentInitializer),biasInitializer:Yn(this.biasInitializer),kernelRegularizer:Mn(this.kernelRegularizer),recurrentRegularizer:Mn(this.recurrentRegularizer),biasRegularizer:Mn(this.biasRegularizer),activityRegularizer:Mn(this.activityRegularizer),kernelConstraint:Ai(this.kernelConstraint),recurrentConstraint:Ai(this.recurrentConstraint),biasConstraint:Ai(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign({},e,r)}};X0.className="GRUCell";ma.serialization.registerClass(X0);var k1=class extends Ss{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new X0(e),super(e)}call(e,r){return(0,ma.tidy)(()=>{this.cell.dropoutMask!=null&&(qt.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(qt.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);let n=r==null?null:r.mask,a=r==null?null:r.training,o=r==null?null:r.initialState;return super.call(e,{mask:n,training:a,initialState:o})})}static fromConfig(e,r){return r.implmentation===0&&(r.implementation=1),new e(r)}};k1.className="GRU";ma.serialization.registerClass(k1);var Gh=class extends Wh{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Gi(this.units,"units"),this.activation=Al(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Al(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=jn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=jn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=jn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Kn(e.kernelRegularizer),this.recurrentRegularizer=Kn(e.recurrentRegularizer),this.biasRegularizer=Kn(e.biasRegularizer),this.kernelConstraint=Ni(e.kernelConstraint),this.recurrentConstraint=Ni(e.recurrentConstraint),this.biasConstraint=Ni(e.biasConstraint),this.dropout=B0([1,Sl([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=B0([1,Sl([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var r;e=Wr(e);let n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let a;if(this.useBias){if(this.unitForgetBias){let o=this.biasInitializer,s=this.units;a=new(r=class extends as{apply(f,l){let c=o.apply([s]),h=new q0().apply([s]),m=o.apply([s*2]);return G9(G9(c,h),m)}},r.className="CustomInit",r)}else a=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,a,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,r){return(0,ma.tidy)(()=>{let n=r.training==null?!1:r.training;if(e=e,e.length!==3)throw new $e(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let a=e[1],o=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Hh({ones:()=>qt.onesLike(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Hh({ones:()=>qt.onesLike(a),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));let s=this.dropoutMask,u=this.recurrentDropoutMask,f,l,c,h;0<this.dropout&&this.dropout<1&&(e=qt.mul(e,s[0]));let m=wf(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(a=qt.mul(a,u[0])),m=qt.add(m,wf(a,this.recurrentKernel.read())),this.useBias&&(m=ns(m,this.bias.read()));let[g,b,A,I]=qt.split(m,4,m.rank-1);f=this.recurrentActivation.apply(g),l=this.recurrentActivation.apply(b),c=qt.add(qt.mul(l,o),qt.mul(f,this.activation.apply(A))),h=this.recurrentActivation.apply(I);let C=qt.mul(h,this.activation.apply(c));return[C,C,c]})}getConfig(){let e=super.getConfig(),r={units:this.units,activation:Ml(this.activation),recurrentActivation:Ml(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Yn(this.kernelInitializer),recurrentInitializer:Yn(this.recurrentInitializer),biasInitializer:Yn(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Mn(this.kernelRegularizer),recurrentRegularizer:Mn(this.recurrentRegularizer),biasRegularizer:Mn(this.biasRegularizer),activityRegularizer:Mn(this.activityRegularizer),kernelConstraint:Ai(this.kernelConstraint),recurrentConstraint:Ai(this.recurrentConstraint),biasConstraint:Ai(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign({},e,r)}};Gh.className="LSTMCell";ma.serialization.registerClass(Gh);var I1=class extends Ss{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Gh(e),super(e)}call(e,r){return(0,ma.tidy)(()=>{this.cell.dropoutMask!=null&&(qt.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(qt.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);let n=r==null?null:r.mask,a=r==null?null:r.training,o=r==null?null:r.initialState;return super.call(e,{mask:n,training:a,initialState:o})})}static fromConfig(e,r){return r.implmentation===0&&(r.implementation=1),new e(r)}};I1.className="LSTM";ma.serialization.registerClass(I1);var Q0=class extends Wh{constructor(e){super(e),this.cells=e.cells}get stateSize(){let e=[];for(let r of this.cells.slice().reverse())Array.isArray(r.stateSize)?e.push(...r.stateSize):e.push(r.stateSize);return e}call(e,r){return(0,ma.tidy)(()=>{e=e;let n=e.slice(1),a=[];for(let u of this.cells.slice().reverse())Array.isArray(u.stateSize)?a.push(n.splice(0,u.stateSize.length)):a.push(n.splice(0,1));a.reverse();let o=[],s;for(let u=0;u<this.cells.length;++u){let f=this.cells[u];n=a[u],u===0?s=[e[0]].concat(n):s=[s[0]].concat(n),s=f.call(s,r),o.push(s.slice(1))}n=[];for(let u of o.slice().reverse())n.push(...u);return[s[0]].concat(n)})}build(e){zT(e)&&(e=e[0]),e=e;let r;this.cells.forEach((n,a)=>{_l(`RNNCell_${a}`,()=>{n.build(e),Array.isArray(n.stateSize)?r=n.stateSize[0]:r=n.stateSize,e=[e[0],r]})}),this.built=!0}getConfig(){let e=super.getConfig(),r=o=>({className:o.getClassName(),config:o.getConfig()}),a={cells:this.cells.map(r)};return Object.assign({},e,a)}static fromConfig(e,r,n={}){let a=[];for(let o of r.cells)a.push(js(o,n));return new e({cells:a})}get trainableWeights(){if(!this.trainable)return[];let e=[];for(let r of this.cells)e.push(...r.trainableWeights);return e}get nonTrainableWeights(){let e=[];for(let r of this.cells)e.push(...r.nonTrainableWeights);if(!this.trainable){let r=[];for(let n of this.cells)r.push(...n.trainableWeights);return r.concat(e)}return e}getWeights(){let e=[];for(let r of this.cells)e.push(...r.weights);return h_(e)}setWeights(e){let r=[];for(let n of this.cells){let a=n.weights.length,o=e.splice(a);for(let s=0;s<n.weights.length;++s)r.push([n.weights[s],o[s]])}Hy(r)}};Q0.className="StackedRNNCells";ma.serialization.registerClass(Q0);function Hh(t){let{ones:e,rate:r,training:n=!1,count:a=1,dropoutFunc:o}=t,s=()=>o!=null?o(e(),r):qT(e(),r),u=()=>vd(s,e,n);return!a||a<=1?qt.keep(u().clone()):Array(a).fill(void 0).map(u).map(l=>qt.keep(l.clone()))}var ZAt=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};var V4=class extends Ss{constructor(e){if(e.unroll)throw new fr("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new fr("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Gn({ndim:5})]}call(e,r){return qr.tidy(()=>{if(this.cell.dropoutMask!=null&&(qr.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(qr.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),r&&r.constants)throw new $e("ConvRNN2D cell does not support constants");let n=r==null?null:r.mask,a=r==null?null:r.training,o=r==null?null:r.initialState;return super.call(e,{mask:n,training:a,initialState:o})})}computeOutputShape(e){let r=this.computeSingleOutputShape(e);return this.returnSequences||(r=[r[0],...r.slice(2)]),this.returnState&&(r=[r,...Array(2).fill([e[0],...r.slice(-3)])]),r}getInitialState(e){return qr.tidy(()=>{let{stateSize:r}=this.cell,n=e.shape,a=this.computeSingleOutputShape(n),o=[a[0],...a.slice(2)],s=qr.zeros(o);return Array.isArray(r)?Array(r.length).fill(s):[s]})}resetStates(e,r=!1){qr.tidy(()=>{if(!this.stateful)throw new bs("Cannot call resetStates() on an RNN Layer that is not stateful.");let n=this.inputSpec[0].shape,a=this.computeSingleOutputShape(n),o=[a[0],...a.slice(2)];if(n[0]==null)throw new $e("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>qr.zeros(o)):this.states_=[qr.zeros(o)];else if(e==null)qr.dispose(this.states_),this.keptStates!=null&&(qr.dispose(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>qr.zeros(o)):this.states_[0]=qr.zeros(o);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new $e(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);r?this.keptStates.push(this.states_.slice()):qr.dispose(this.states_);for(let u=0;u<this.states_.length;++u){let f=e[u],l=o;if(!Sbe.util.arraysEqual(f.shape,l))throw new $e(`State ${u} is incompatible with layer ${this.name}: expected shape=${l}, received shape=${f.shape}`);this.states_[u]=f}}this.states_=this.states_.map(u=>qr.keep(u.clone()))})}computeSingleOutputShape(e){let{dataFormat:r,filters:n,kernelSize:a,padding:o,strides:s,dilationRate:u}=this.cell,f=r==="channelsFirst",l=e[f?3:2],c=e[f?4:3],h=_s(l,a[0],o,s[0],u[0]),m=_s(c,a[1],o,s[1],u[1]);return[...e.slice(0,2),...f?[n,h,m]:[h,m,n]]}};V4.className="ConvRNN2D";var ev=class extends Gh{constructor(e){let{filters:r,kernelSize:n,strides:a,padding:o,dataFormat:s,dilationRate:u}=e;super(Object.assign({},e,{units:r})),this.filters=r,Gi(this.filters,"filters"),this.kernelSize=Sd(n,2,"kernelSize"),this.kernelSize.forEach(f=>Gi(f,"kernelSize")),this.strides=Sd(a||1,2,"strides"),this.strides.forEach(f=>Gi(f,"strides")),this.padding=o||"valid",es(this.padding),this.dataFormat=s||"channelsLast",gi(this.dataFormat),this.dilationRate=Sd(u||1,2,"dilationRate"),this.dilationRate.forEach(f=>Gi(f,"dilationRate"))}build(e){var r;e=Wr(e);let n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new $e(`The channel dimension of the input should be defined. Found ${e[n]}`);let a=e[n],o=4,s=this.kernelSize.concat([a,this.filters*o]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);let u=this.kernelSize.concat([this.filters,this.filters*o]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",u,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let f;if(this.unitForgetBias){let l=this.biasInitializer,c=this.filters;f=new(r=class extends as{apply(m,g){let b=l.apply([c]),A=qr.ones([c]),I=l.apply([c*2]);return Ly([b,A,I])}},r.className="CustomInit",r)}else f=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*o],null,f,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,r){return qr.tidy(()=>{if(e.length!==3)throw new $e(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let n=r.training||!1,a=e[0],o=e[1],s=e[2],u=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Hh({ones:()=>qr.onesLike(a),rate:this.dropout,training:n,count:u,dropoutFunc:this.dropoutFunc}));let f=this.dropoutMask,l=(N,U,q)=>!U||!U[q]?N:qr.mul(U[q],N),c=l(a,f,0),h=l(a,f,1),m=l(a,f,2),g=l(a,f,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Hh({ones:()=>qr.onesLike(o),rate:this.recurrentDropout,training:n,count:u,dropoutFunc:this.dropoutFunc}));let b=this.recurrentDropoutMask,A=l(o,b,0),I=l(o,b,1),C=l(o,b,2),R=l(o,b,3),O=3,[F,z,B,$]=qr.split(this.kernel.read(),u,O),[j,W,T,p]=this.useBias?qr.split(this.bias.read(),u):[null,null,null,null];c=this.inputConv(c,F,j,this.padding),h=this.inputConv(h,z,W,this.padding),m=this.inputConv(m,B,T,this.padding),g=this.inputConv(g,$,p,this.padding);let[v,S,y,M]=qr.split(this.recurrentKernel.read(),u,O);A=this.recurrentConv(A,v),I=this.recurrentConv(I,S),C=this.recurrentConv(C,y),R=this.recurrentConv(R,M);let D=this.recurrentActivation.apply(qr.add(c,A)),k=this.recurrentActivation.apply(qr.add(h,I)),E=qr.add(qr.mul(k,s),qr.mul(D,this.activation.apply(qr.add(m,C)))),d=qr.mul(this.recurrentActivation.apply(qr.add(g,R)),this.activation.apply(E));return[d,d,E]})}getConfig(){let e=super.getConfig(),{units:r}=e,n=ZAt(e,["units"]),a={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign({},n,a)}inputConv(e,r,n,a){let o=qr.conv2d(e,r,this.strides,a||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return n?ns(o,n,this.dataFormat):o}recurrentConv(e,r){return qr.conv2d(e,r,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}};ev.className="ConvLSTM2DCell";qr.serialization.registerClass(ev);var C1=class extends V4{constructor(e){let r=new ev(e);super(Object.assign({},e,{cell:r}))}static fromConfig(e,r){return new e(r)}};C1.className="ConvLSTM2D";qr.serialization.registerClass(C1);w();_();var Nn=Bt(_r());var tv=class extends Dr{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;let r=e.shape,n=[];for(let a=0;a<this.noiseShape.length;++a)n.push(this.noiseShape[a]==null?r[a]:this.noiseShape[a]);return n}call(e,r){return(0,Nn.tidy)(()=>{this.invokeCallHook(e,r);let n=Nr(e);if(0<this.rate&&this.rate<1){let a=r.training==null?!1:r.training,o=this.getNoiseShape(n);return vd(()=>qT(n,this.rate,o,this.seed),()=>n,a)}return e})}getConfig(){let e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},r=super.getConfig();return Object.assign(e,r),e}dispose(){return super.dispose()}};tv.className="Dropout";Nn.serialization.registerClass(tv);var O1=class extends tv{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){let r=e.shape;return[r[0],1,r[2]]}};O1.className="SpatialDropout1D";Nn.serialization.registerClass(O1);var R1=class extends Dr{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let r=null;e.batchSize!=null&&(r=e.batchSize),this.batchInputShape=[r,e.inputDim]}this.units=e.units,Gi(this.units,"units"),this.activation=Al(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=jn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=jn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=Ni(e.kernelConstraint),this.biasConstraint=Ni(e.biasConstraint),this.kernelRegularizer=Kn(e.kernelRegularizer),this.biasRegularizer=Kn(e.biasRegularizer),this.activityRegularizer=Kn(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=Wr(e);let r=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[r,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:r}}],this.built=!0}computeOutputShape(e){e=Wr(e);let r=e.slice();return r[r.length-1]=this.units,r}call(e,r){return(0,Nn.tidy)(()=>{this.invokeCallHook(e,r);let n=Nr(e),a=IT(this.activation.getClassName()),o;return a!=null?o=wf(n,this.kernel.read(),a,this.bias?this.bias.read():null):(o=wf(n,this.kernel.read()),this.bias!=null&&(o=ns(o,this.bias.read())),this.activation!=null&&(o=this.activation.apply(o))),o})}getConfig(){let e={units:this.units,activation:Ml(this.activation),useBias:this.useBias,kernelInitializer:Yn(this.kernelInitializer),biasInitializer:Yn(this.biasInitializer),kernelRegularizer:Mn(this.kernelRegularizer),biasRegularizer:Mn(this.biasRegularizer),activityRegularizer:Mn(this.activityRegularizer),kernelConstraint:Ai(this.kernelConstraint),biasConstraint:Ai(this.biasConstraint)},r=super.getConfig();return Object.assign(e,r),e}};R1.className="Dense";Nn.serialization.registerClass(R1);var F1=class extends Dr{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=Wr(e);for(let r of e.slice(1))if(r==null)throw new $e(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],bf(e,1)]}call(e,r){return(0,Nn.tidy)(()=>{this.invokeCallHook(e,r);let n=Nr(e);if(this.dataFormat==="channelsFirst"&&n.rank>1){let a=[0];for(let o=2;o<n.rank;++o)a.push(o);a.push(1),n=(0,Nn.transpose)(n,a)}return _me(n)})}getConfig(){let e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);let r=super.getConfig();return Object.assign(e,r),e}};F1.className="Flatten";Nn.serialization.registerClass(F1);var B1=class extends Dr{constructor(e){super(e),this.supportsMasking=!0,this.activation=Al(e.activation)}call(e,r){return(0,Nn.tidy)(()=>{this.invokeCallHook(e,r);let n=Nr(e);return this.activation.apply(n)})}getConfig(){let e={activation:Ml(this.activation)},r=super.getConfig();return Object.assign(e,r),e}};B1.className="Activation";Nn.serialization.registerClass(B1);var L1=class extends Dr{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,r){return(0,Nn.tidy)(()=>(e=Nr(e),wme(e,this.n)))}getConfig(){let e={n:this.n},r=super.getConfig();return Object.assign(e,r),e}};L1.className="RepeatVector";Nn.serialization.registerClass(L1);var P1=class extends Dr{constructor(e){super(e),this.targetShape=e.targetShape;for(let r=0;r<this.targetShape.length;++r)this.isUnknown(this.targetShape[r])&&(this.targetShape[r]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,r){let n="Total size of new array must be unchanged.",a=r.slice(),o=1,s=null;for(let f=0;f<a.length;++f){let l=a[f];if(this.isUnknown(l))if(s===null)s=f;else throw new $e("Can only specifiy one unknown dimension.");else o*=l}let u=bf(e);if(s!==null){if(o===0||u%o!==0)throw new $e(n);a[s]=u/o}else if(u!==o)throw new $e(n);return a}computeOutputShape(e){let r=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){r=!0;break}return r?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,r){return(0,Nn.tidy)(()=>{this.invokeCallHook(e,r);let n=Nr(e),a=n.shape,o=a.slice(0,1).concat(this.fixUnknownDimension(a.slice(1),this.targetShape));return(0,Nn.reshape)(n,o)})}getConfig(){let e={targetShape:this.targetShape},r=super.getConfig();return Object.assign(e,r),e}};P1.className="Reshape";Nn.serialization.registerClass(P1);var q1=class extends Dr{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);let r=Bo(1,e.dims.length+1);if(!Nn.util.arraysEqual(e.dims.slice().sort(),r))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Gn({ndim:this.dims.length+1})]}computeOutputShape(e){e=Wr(e);let r=e.slice();return this.dims.forEach((n,a)=>{r[a+1]=e[n]}),r}call(e,r){return(0,Nn.transpose)(Nr(e),this.dimsIncludingBatch)}getConfig(){let e={dims:this.dims},r=super.getConfig();return Object.assign(e,r),e}};q1.className="Permute";Nn.serialization.registerClass(q1);var z1=class extends Dr{constructor(e){super(e==null?{}:e),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),r={maskValue:this.maskValue};return Object.assign(r,e),r}computeMask(e,r){let n=Nr(e),a=-1;return(0,Nn.any)((0,Nn.notEqual)(n,this.maskValue),a)}call(e,r){return(0,Nn.tidy)(()=>{this.invokeCallHook(e,r);let n=Nr(e),a=-1,o=!0,s=(0,Nn.any)((0,Nn.notEqual)(n,this.maskValue),a,o);return(0,Nn.mul)(n,(0,Nn.cast)(s,n.dtype))})}};z1.className="Masking";Nn.serialization.registerClass(z1);w();_();var Tf=Bt(_r());var U1=class extends Dr{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let r=null;e.batchSize!=null&&(r=e.batchSize),e.inputLength==null?this.batchInputShape=[r,null]:this.batchInputShape=[r].concat(Wn(e.inputLength))}this.inputDim=e.inputDim,Gi(this.inputDim,"inputDim"),this.outputDim=e.outputDim,Gi(this.outputDim,"outputDim"),this.embeddingsInitializer=jn(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Kn(e.embeddingsRegularizer),this.activityRegularizer=Kn(e.activityRegularizer),this.embeddingsConstraint=Ni(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,r){return(0,Tf.tidy)(()=>this.maskZero?(e=Nr(e),(0,Tf.notEqual)(e,(0,Tf.zerosLike)(e))):null)}computeOutputShape(e){if(e=Wr(e),this.inputLength==null)return[...e,this.outputDim];let r=Wn(this.inputLength);if(r.length!==e.length-1)throw new $e(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let n=0;for(let a=0;a<r.length;++a){let o=r[a],s=e[a+1];if(o!=null&&s!=null&&o!==s)throw new $e(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);o==null&&(r[n]=s),n++}}return[e[0],...r,this.outputDim]}call(e,r){return(0,Tf.tidy)(()=>{this.invokeCallHook(e,r);let n=Nr(e);n.dtype!=="int32"&&(n=L0(n,"int32"));let a=PT(this.embeddings.read(),(0,Tf.reshape)(n,[n.size]));return(0,Tf.reshape)(a,Wr(this.computeOutputShape(n.shape)))})}getConfig(){let e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Yn(this.embeddingsInitializer),embeddingsRegularizer:Mn(this.embeddingsRegularizer),activityRegularizer:Mn(this.activityRegularizer),embeddingsConstraint:Ai(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},r=super.getConfig();return Object.assign(e,r),e}};U1.className="Embedding";Tf.serialization.registerClass(U1);w();_();var Mr=Bt(_r()),wo=Bt(_r());var Kh=class extends Dr{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new fr}computeElementwiseOpOutputShape(e,r){if(e==null||r==null)return null;if(e.length<r.length)return this.computeElementwiseOpOutputShape(r,e);if(r.length===0)return e;let n=e.slice(0,e.length-r.length);for(let a=0;a<r.length;++a){let o=e[e.length-r.length+a],s=r[a];if(o==null||s==null||o<0||s<0)n.push(null);else if(o===1)n.push(s);else if(s===1)n.push(o);else{if(o!==s)throw new $e("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(r));n.push(o)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Wr(e)]),e=e,e.length<2)throw new $e(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let r=[];for(let o of e)o!=null&&o[0]!==null&&r.push(o[0]);if(r=yf(r),r.length>1)throw new $e(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let n=e[0]==null?null:e[0].slice(1);for(let o=1;o<e.length;++o){let s=e[o]==null?null:e[o].slice(1);n=this.computeElementwiseOpOutputShape(n,s)}let a=e.map(o=>o.length);e.indexOf(null)===-1&&yf(a).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,r){return(0,wo.tidy)(()=>{if(e=e,this.reshapeRequired){let n=[],a=e.map(o=>o.rank);if(a.indexOf(null)===-1){let o=Sl(a);for(let s of e){let u=s.rank;for(let f=0;f<o-u;++f)s=Ch(s,1);n.push(s)}return this.mergeFunction(n)}else{let o=!1;for(let f of e){let l=f.rank;if(l==null){let c=f.shape,h=c[0],m=c.slice(1).concat([h]),g=Mr.reshape(f,[h].concat(bf(c.slice(1))));g=Mr.transpose(g,[1,0]),g=Mr.reshape(g,m),n.push(g),o=!0}else if(l>1){let c=Bo(1,l).concat([0]);n.push(Mr.transpose(f,c)),o=!0}else n.push(f)}let s=this.mergeFunction(n),u=s.rank;if(o){if(u==null){let f=s.shape,l=f.length,c=f[l-1],h=[c].concat(f.slice(0,f.length-1));s=Mr.reshape(Mr.transpose(Mr.reshape(s,[-1,c]),[1,0]),h)}else if(u>1){let f=[u-1].concat(Bo(0,u-1));s=Mr.transpose(s,f)}}return s}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let r;e[0]==null?r=null:r=e[0].slice(1);for(let a=1;a<e.length;++a){let o=e[a]==null?null:e[a].slice(1);r=this.computeElementwiseOpOutputShape(r,o)}let n=[];for(let a of e)a!=null&&a[0]!==null&&n.push(a[0]);return n=yf(n),n.length===1?r=n.concat(r):r=[null].concat(r),r}computeMask(e,r){return Mr.tidy(()=>{if(r==null)return null;if(!Array.isArray(r))throw new $e("`mask` should be an Array");if(!Array.isArray(e))throw new $e("`inputs` should be an Array");if(r.length!==e.length)throw new $e(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${r.length})`);if(r.every(a=>a==null))return null;r=r.map(a=>a==null?a:Mr.expandDims(a,0));let n=r[0];for(let a=1;a<r.length-1;++a)n=Mr.logicalAnd(n,r[a]);return n})}},j1=class extends Kh{constructor(e){super(e)}mergeFunction(e){return(0,wo.tidy)(()=>{let r=e[0].clone();for(let n=1;n<e.length;++n)r=Mr.add(r,e[n]);return r})}};j1.className="Add";wo.serialization.registerClass(j1);var $1=class extends Kh{constructor(e){super(e)}mergeFunction(e){return(0,wo.tidy)(()=>{let r=e[0].clone();for(let n=1;n<e.length;++n)r=Mr.mul(r,e[n]);return r})}};$1.className="Multiply";wo.serialization.registerClass($1);var V1=class extends Kh{constructor(e){super(e)}mergeFunction(e){return(0,wo.tidy)(()=>{let r=e[0].clone();for(let n=1;n<e.length;++n)r=Mr.add(r,e[n]);return Mr.mul(1/e.length,r)})}};V1.className="Average";wo.serialization.registerClass(V1);var W1=class extends Kh{constructor(e){super(e)}mergeFunction(e){return(0,wo.tidy)(()=>{let r=e[0];for(let n=1;n<e.length;++n)r=Mr.maximum(r,e[n]);return r})}};W1.className="Maximum";wo.serialization.registerClass(W1);var G1=class extends Kh{constructor(e){super(e)}mergeFunction(e){return(0,wo.tidy)(()=>{let r=e[0];for(let n=1;n<e.length;++n)r=Mr.minimum(r,e[n]);return r})}};G1.className="Minimum";wo.serialization.registerClass(G1);var H1=class extends Kh{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new $e("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let r=!0;for(let a of e)if(a!=null){r=!1;break}if(r)return;let n=[];for(let a=0;a<e.length;++a){let o=e[a].slice();o.splice(this.axis,1);let s=!1;for(let u of n)if(wo.util.arraysEqual(u,o)){s=!0;break}s||n.push(o)}if(n.length>1)throw new $e("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return(0,wo.tidy)(()=>Ly(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new $e("A `Concatenate` layer should be called on a list of inputs.");let r=e,n=r[0].slice(),a=this.axis<0?n.length+this.axis:this.axis;for(let o of r.slice(1)){if(n[a]==null||o[a]==null){n[a]=null;break}n[a]+=o[a]}return n}computeMask(e,r){if(r==null)return null;if(!Array.isArray(r))throw new $e("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new $e("`inputs` should be an array for Concatenate");if(r.length!==e.length)throw new $e(`Mismatch in the length of mask (${r.length}) and the legnth of inputs (${e.length})`);return Mr.tidy(()=>{let n=!0;if(r.forEach(s=>{if(s!=null){n=!1;return}}),n)return null;let a=[];for(let s=0;s<e.length;++s)r[s]==null?a.push(Mr.cast(Mr.onesLike(e[s]),"bool")):r[s].rank<e[s].rank?a.push(Mr.expandDims(r[s],-1)):a.push(r[s]);let o=Mr.concat(a,this.axis);return Mr.all(o,-1,!1)})}getConfig(){let e={axis:this.axis},r=super.getConfig();return Object.assign(e,r),e}};H1.className="Concatenate";wo.serialization.registerClass(H1);function Z_(t,e){for(;t<0;)t+=e;return t}function JAt(t,e,r){if(t.shape.length>3||e.shape.length>3)throw new fr("batchDot is not implemented for tensors of 4D or higher rank yet");if(Mr.util.assert(t.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${t.shape.length}`),Mr.util.assert(t.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${e.shape.length}`),typeof r=="number"&&(r=[r,r]),t.dtype==="complex64"||e.dtype==="complex64")throw new fr("batchDot is not implemented for complex64-type Tensors yet.");let n=t.shape.length,a=e.shape.length;r==null&&(r=[n-1,a-2]);let o=r;return Mr.tidy(()=>{let s;if(n>a){s=n-a;let f=[];for(let l=0;l<s;++l)f.push(1);e=Mr.reshape(e,e.shape.concat(f))}else if(a>n){s=a-n;let f=[];for(let l=0;l<s;++l)f.push(1);t=Mr.reshape(t,t.shape.concat(f))}else s=0;let u;if(t.shape.length===2&&e.shape.length===2)o[0]===o[1]?u=Mr.sum(Mr.mul(t,e),o[0]):u=Mr.sum(Mr.mul(Mr.transpose(t,[1,0]),e),o[1]);else{let f=o[0]!==t.shape.length-1,l=o[1]===e.shape.length-1;u=Mr.matMul(t,e,f,l)}if(s>0){let f;n>a?f=n+a-3:f=n-1;let l=[];for(let c=f;c<f+s;++c)l.push(c);u=Mr.squeeze(u,l)}return u.shape.length===1&&(u=Mr.expandDims(u,1)),u})}var K1=class extends Kh{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){Mr.util.assert(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");let r=e[0],n=e[1];if(r.length>3||n.length>3)throw new fr("Dot layer does not support tensors of 4D or higher rank yet.");let a=this.interpretAxes(r,n);if(r[a[0]]!==n[a[1]])throw new $e(`Dimension incompatibility: ${r[a[0]]} !== ${n[a[1]]}`)}mergeFunction(e){if(e.length!==2)throw new $e(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let r=e[0],n=e[1],a;return Array.isArray(this.axes)?a=this.axes.map((o,s)=>Z_(o,e[s].shape.length)):a=[Z_(this.axes,r.shape.length),Z_(this.axes,n.shape.length)],this.normalize&&(r=L_(r,a[0]),n=L_(n,a[1])),JAt(r,n,a)}interpretAxes(e,r){let n;return Array.isArray(this.axes)?n=this.axes:n=[Z_(this.axes,e.length),Z_(this.axes,r.length)],n}computeOutputShape(e){Mr.util.assert(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");let r=e[0].slice(),n=e[1].slice();if(r.length>3||n.length>3)throw new fr("Dot layer does not support tensors of 4D or higher rank yet.");let a=this.interpretAxes(r,n);r.splice(a[0],1),n.splice(a[1],1),n.splice(0,1);let o=r.concat(n);return o.length===1&&o.push(1),o}computeMask(e,r){return null}getConfig(){let e={axes:this.axes,normalize:this.normalize},r=super.getConfig();return Object.assign(e,r),e}};K1.className="Dot";wo.serialization.registerClass(K1);w();_();var ka=Bt(_r());var Z1=class extends Dr{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),r={stddev:this.stddev};return Object.assign(r,e),r}call(e,r){return(0,ka.tidy)(()=>{this.invokeCallHook(e,r);let n=Nr(e);return vd(()=>(0,ka.add)(Py(n.shape,0,this.stddev),n),()=>n,r.training||!1)})}};Z1.className="GaussianNoise";ka.serialization.registerClass(Z1);var J1=class extends Dr{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),r={rate:this.rate};return Object.assign(r,e),r}call(e,r){return(0,ka.tidy)(()=>{this.invokeCallHook(e,r);let n=Nr(e);return this.rate>0&&this.rate<1?vd(()=>{let o=Math.sqrt(this.rate/(1-this.rate));return(0,ka.mul)(n,Py(n.shape,1,o))},()=>n,r.training||!1):n})}};J1.className="GaussianDropout";ka.serialization.registerClass(J1);var Y1=class extends Dr{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||Nr(e).shape}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),r={rate:this.rate};return Object.assign(r,e),r}call(e,r){return(0,ka.tidy)(()=>{if(this.rate<1&&this.rate>0){let n=this._getNoiseShape(e);return vd(()=>{let o=Nr(e),s=1.6732632423543772,u=1.0507009873554805,f=-s*u,l=(0,ka.greaterEqual)((0,ka.randomUniform)(n),this.rate);l=L0(l,"float32");let c=ir((1-this.rate)*(1+this.rate*ir(f,2)),-.5),h=-c*f*this.rate,m=(0,ka.add)((0,ka.mul)(o,l),(0,ka.mul)((0,ka.add)(l,-1),f));return(0,ka.add)((0,ka.mul)(m,c),h)},()=>Nr(e),r.training||!1)}return e})}};Y1.className="AlphaDropout";ka.serialization.registerClass(Y1);w();_();var va=Bt(_r()),Ia=Bt(_r());function J_(t,e,r,n,a,o=.001){let s;if(t.rank===2)s=va.batchNorm2d(t,e,r,n,a,o);else if(t.rank===3)s=va.batchNorm3d(t,e,r,n,a,o);else if(t.rank===4)s=va.batchNorm4d(t,e,r,n,a,o);else throw new fr(`batchNormalization is not implemented for array of rank ${t.rank} yet`);return s}function YAt(t,e,r,n,a=.001){return(0,Ia.tidy)(()=>{let o=va.moments(t,n),s=o.mean,u=o.variance;return[J_(t,s,u,r,e,a),s,u]})}function XAt(t,e,r,n,a=.001){return(0,Ia.tidy)(()=>{let o=va.moments(t,n),s=o.mean,u=o.variance,f=[];for(let b of Bo(0,t.rank))n.indexOf(b)!==-1?f.push(1):f.push(t.shape[b]);let l=(0,Ia.reshape)(s,f),c=(0,Ia.reshape)(u,f),h=e==null?null:(0,Ia.reshape)(e,f),m=r==null?null:(0,Ia.reshape)(r,f);return[J_(t,l,c,m,h,a),s,u]})}function QAt(t,e,r,n,a=.001){return Ia.util.arraysEqual(n.slice().sort(),Bo(0,t.rank-1))?YAt(t,e,r,n,a):XAt(t,e,r,n,a)}var X1=class extends Dr{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=jn(e.betaInitializer||"zeros"),this.gammaInitializer=jn(e.gammaInitializer||"ones"),this.movingMeanInitializer=jn(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=jn(e.movingVarianceInitializer||"ones"),this.betaConstraint=Ni(e.betaConstraint),this.gammaConstraint=Ni(e.gammaConstraint),this.betaRegularizer=Kn(e.betaRegularizer),this.gammaRegularizer=Kn(e.gammaRegularizer)}build(e){e=Wr(e);let r=this.axis>=0?this.axis:this.axis+e.length,n=e[r];if(n==null)throw new $e(`Axis ${r} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Gn({ndim:e.length,axes:{[r]:n}})];let a=[n];this.scale&&(this.gamma=this.addWeight("gamma",a,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",a,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",a,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",a,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,r){return(0,Ia.tidy)(()=>{let n=r.training==null?!1:r.training,a=Nr(e),o=a.shape,s=o.length,u=Bo(0,s),f=this.axis>=0?this.axis:this.axis+s;u.splice(f,1);let l=vf(1,s);l[f]=o[f];let c=u.slice();c.sort();let h=!Ia.util.arraysEqual(c,Bo(0,s).slice(0,s-1)),m=()=>{if(h){let R=(0,Ia.reshape)(this.movingMean.read(),l),O=(0,Ia.reshape)(this.movingVariance.read(),l),F=this.center?(0,Ia.reshape)(this.beta.read(),l):null,z=this.scale?(0,Ia.reshape)(this.gamma.read(),l):null;return J_(a,R,O,F,z,this.epsilon)}else return J_(a,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!n)return m();let[g,b,A]=QAt(a,this.gamma.read(),this.beta.read(),u,this.epsilon),I=(R,O,F)=>{va.tidy(()=>{let z=1-F,B=R.read(),$=va.mul(va.sub(B,O),z);R.write(va.sub(B,$))})};return(()=>{I(this.movingMean,b,this.momentum),I(this.movingVariance,A,this.momentum)})(),g})}getConfig(){let e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Yn(this.betaInitializer),gammaInitializer:Yn(this.gammaInitializer),movingMeanInitializer:Yn(this.movingMeanInitializer),movingVarianceInitializer:Yn(this.movingVarianceInitializer),betaRegularizer:Mn(this.betaRegularizer),gammaRegularizer:Mn(this.gammaRegularizer),betaConstraint:Ai(this.betaConstraint),gammaConstraint:Ai(this.gammaConstraint)},r=super.getConfig();return Object.assign(e,r),e}};X1.className="BatchNormalization";Ia.serialization.registerClass(X1);var Q1=class extends Dr{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(let r of this.axis)if(!Number.isInteger(r))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=jn(e.betaInitializer||"zeros"),this.gammaInitializer=jn(e.gammaInitializer||"ones"),this.betaRegularizer=Kn(e.betaRegularizer),this.gammaRegularizer=Kn(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=Wr(e);let r=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let o=0;o<this.axis.length;++o)this.axis[o]<0&&(this.axis[o]+=r);for(let o of this.axis)if(o<0||o>=r)throw new Error(`Invalid axis: ${o}`);if(this.axis.length!==yf(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);let n=this.axis.map(o=>e[o]),a=!0;this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,a):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,a):this.beta=null,this.built=!0}call(e,r){let n=Nr(e),a=n.shape,o=a.length;return(0,Ia.tidy)(()=>{let{mean:u,variance:f}=(0,Ia.moments)(n,this.axis,!0),l=vf(1,o);for(let A of this.axis)l[A]=a[A];let c=A=>A!=null&&A.shape.length!==o?va.reshape(A,l):A,h=this.scale?c(this.gamma.read()):null,m=this.center?c(this.beta.read()):null,g=[],b=[];for(let A=0;A<o;++A)this.axis.indexOf(A)!==-1?(g.push(a[A]),b.push(1)):(g.push(1),b.push(a[A]));return u=va.tile(u,g),f=va.tile(f,g),h!=null&&(h=va.tile(h,b)),m!=null&&(m=va.tile(m,b)),J_(n,u,f,m,h,this.epsilon)})}getConfig(){let e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Yn(this.betaInitializer),gammaInitializer:Yn(this.gammaInitializer),betaRegularizer:Mn(this.betaRegularizer),gammaRegularizer:Mn(this.gammaRegularizer)},r=super.getConfig();return Object.assign(e,r),e}};Q1.className="LayerNormalization";Ia.serialization.registerClass(Q1);w();_();var Ebe=Bt(_r()),Y_=Bt(_r());function e3t(t,e,r){return(0,Y_.tidy)(()=>{if(t.rank!==4)throw new $e(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new $e("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(r==null&&(r=ts()),r!=="channelsLast"&&r!=="channelsFirst")throw new $e(`Unknown data format: ${r}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let n;return r==="channelsFirst"?n=[[0,0],[0,0],e[0],e[1]]:n=[[0,0],e[0],e[1],[0,0]],Ebe.pad(t,n)})}var eb=class extends Dr{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?ts():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new $e(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let r,n;if(typeof e.padding[0]=="number")r=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new $e(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(r=e.padding[0],e.padding[1].length!==2)throw new $e(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);n=e.padding[1]}this.padding=[r,n]}this.inputSpec=[new Gn({ndim:4})]}computeOutputShape(e){e=Wr(e);let r,n;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?r=e[2]+this.padding[0][0]+this.padding[0][1]:r=null,e[3]!=null&&e[3]>=0?n=e[3]+this.padding[1][0]+this.padding[1][1]:n=null,[e[0],e[1],r,n]):(e[1]!=null&&e[1]>=0?r=e[1]+this.padding[0][0]+this.padding[0][1]:r=null,e[2]!=null&&e[2]>=0?n=e[2]+this.padding[1][0]+this.padding[1][1]:n=null,[e[0],r,n,e[3]])}call(e,r){return(0,Y_.tidy)(()=>e3t(Nr(e),this.padding,this.dataFormat))}getConfig(){let e={padding:this.padding,dataFormat:this.dataFormat},r=super.getConfig();return Object.assign(e,r),e}};eb.className="ZeroPadding2D";Y_.serialization.registerClass(eb);w();_();var qa=Bt(_r()),za=Bt(_r());function J4(t,e,r,n,a,o){return(0,za.tidy)(()=>{gi(a),j9(o),es(n),r==null&&(r=[1,1]),n==null&&(n="valid"),a==null&&(a=ts()),o==null&&(o="max"),t=H_(t,a);let s,u=n==="same"?"same":"valid";return o==="max"?s=qa.maxPool(t,e,r,u):s=qa.avgPool(t,e,r,u),a==="channelsFirst"&&(s=qa.transpose(s,[0,3,1,2])),s})}function Mbe(t,e,r,n,a,o){return(0,za.tidy)(()=>{gi(a),j9(o),es(n),r==null&&(r=[1,1,1]),n==null&&(n="valid"),a==null&&(a=ts()),o==null&&(o="max"),t=K7(t,a);let s,u=n==="same"?"same":"valid";return o==="max"?s=qa.maxPool3d(t,e,r,u):s=qa.avgPool3d(t,e,r,u),a==="channelsFirst"&&(s=qa.transpose(s,[0,4,1,2,3])),s})}var W4=class extends Dr{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new $e(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(Gi(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new $e(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);Gi(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,es(this.padding),this.inputSpec=[new Gn({ndim:3})]}computeOutputShape(e){e=Wr(e);let r=_s(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],r,e[2]]}call(e,r){return(0,za.tidy)(()=>{this.invokeCallHook(e,r),e=Ch(Nr(e),2);let n=this.poolingFunction(Nr(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return qa.squeeze(n,[2])})}getConfig(){let e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},r=super.getConfig();return Object.assign(e,r),e}},tb=class extends W4{constructor(e){super(e)}poolingFunction(e,r,n,a,o){return gi(o),es(a),J4(e,r,n,a,o,"max")}};tb.className="MaxPooling1D";za.serialization.registerClass(tb);var rb=class extends W4{constructor(e){super(e)}poolingFunction(e,r,n,a,o){return gi(o),es(a),J4(e,r,n,a,o,"avg")}};rb.className="AveragePooling1D";za.serialization.registerClass(rb);var G4=class extends Dr{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new $e(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];Gi(this.poolSize,"poolSize"),Gi(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,gi(this.dataFormat),es(this.padding),this.inputSpec=[new Gn({ndim:4})]}computeOutputShape(e){e=Wr(e);let r=this.dataFormat==="channelsFirst"?e[2]:e[1],n=this.dataFormat==="channelsFirst"?e[3]:e[2];return r=_s(r,this.poolSize[0],this.padding,this.strides[0]),n=_s(n,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],r,n]:[e[0],r,n,e[3]]}call(e,r){return(0,za.tidy)(()=>(this.invokeCallHook(e,r),this.poolingFunction(Nr(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){let e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},r=super.getConfig();return Object.assign(e,r),e}},nb=class extends G4{constructor(e){super(e)}poolingFunction(e,r,n,a,o){return gi(o),es(a),J4(e,r,n,a,o,"max")}};nb.className="MaxPooling2D";za.serialization.registerClass(nb);var ib=class extends G4{constructor(e){super(e)}poolingFunction(e,r,n,a,o){return gi(o),es(a),J4(e,r,n,a,o,"avg")}};ib.className="AveragePooling2D";za.serialization.registerClass(ib);var H4=class extends Dr{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new $e(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];Gi(this.poolSize,"poolSize"),Gi(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,gi(this.dataFormat),es(this.padding),this.inputSpec=[new Gn({ndim:5})]}computeOutputShape(e){e=Wr(e);let r=this.dataFormat==="channelsFirst"?e[2]:e[1],n=this.dataFormat==="channelsFirst"?e[3]:e[2],a=this.dataFormat==="channelsFirst"?e[4]:e[3];return r=_s(r,this.poolSize[0],this.padding,this.strides[0]),n=_s(n,this.poolSize[1],this.padding,this.strides[1]),a=_s(a,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],r,n,a]:[e[0],r,n,a,e[4]]}call(e,r){return(0,za.tidy)(()=>(this.invokeCallHook(e,r),this.poolingFunction(Nr(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){let e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},r=super.getConfig();return Object.assign(e,r),e}},ab=class extends H4{constructor(e){super(e)}poolingFunction(e,r,n,a,o){return gi(o),es(a),Mbe(e,r,n,a,o,"max")}};ab.className="MaxPooling3D";za.serialization.registerClass(ab);var ob=class extends H4{constructor(e){super(e)}poolingFunction(e,r,n,a,o){return gi(o),es(a),Mbe(e,r,n,a,o,"avg")}};ob.className="AveragePooling3D";za.serialization.registerClass(ob);var K4=class extends Dr{constructor(e){super(e),this.inputSpec=[new Gn({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,r){throw new fr}},sb=class extends K4{constructor(e){super(e||{})}call(e,r){return(0,za.tidy)(()=>{let n=Nr(e);return qa.mean(n,1)})}};sb.className="GlobalAveragePooling1D";za.serialization.registerClass(sb);var ub=class extends K4{constructor(e){super(e||{})}call(e,r){return(0,za.tidy)(()=>{let n=Nr(e);return qa.max(n,1)})}};ub.className="GlobalMaxPooling1D";za.serialization.registerClass(ub);var Z4=class extends Dr{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,gi(this.dataFormat),this.inputSpec=[new Gn({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,r){throw new fr}getConfig(){let e={dataFormat:this.dataFormat},r=super.getConfig();return Object.assign(e,r),e}},fb=class extends Z4{call(e,r){return(0,za.tidy)(()=>{let n=Nr(e);return this.dataFormat==="channelsLast"?qa.mean(n,[1,2]):qa.mean(n,[2,3])})}};fb.className="GlobalAveragePooling2D";za.serialization.registerClass(fb);var lb=class extends Z4{call(e,r){return(0,za.tidy)(()=>{let n=Nr(e);return this.dataFormat==="channelsLast"?qa.max(n,[1,2]):qa.max(n,[2,3])})}};lb.className="GlobalMaxPooling2D";za.serialization.registerClass(lb);w();_();var Ad=Bt(_r()),pb=Bt(_r());var Y4=class extends Dr{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){let e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},r=super.getConfig();return Object.assign(e,r),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,r,n={}){let a=r.layer,o=js(a,n);delete r.layer;let s={layer:o};return Object.assign(s,r),new e(s)}},cb=class extends Y4{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=Wr(e),e.length<3)throw new $e(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];let r=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(r),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=Wr(e);let r=[e[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(r),a=e[1];return[n[0],a].concat(n.slice(1))}call(e,r){return(0,pb.tidy)(()=>(e=Nr(e),J7((s,u)=>[Nr(this.layer.call(s,r)),[]],e,[],!1,null,null,!1,!0)[1]))}};cb.className="TimeDistributed";pb.serialization.registerClass(cb);function t3t(t){Nc(dme,"BidirectionalMergeMode",t)}var r3t="concat",hb=class extends Y4{constructor(e){super(e);let r=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=r,this.forwardLayer=js(n),r.goBackwards=r.goBackwards!==!0;let a={};if(a.className=e.layer.getClassName(),a.config=r,this.backwardLayer=js(a),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?r3t:e.mergeMode,t3t(this.mergeMode),e.weights)throw new fr("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){let r=e.length,n=Math.floor(r/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let r=this.forwardLayer.computeOutputShape(e);Array.isArray(r)&&Array.isArray(r[0])||(r=[r]),r=r;let n,a,o;return this.returnState&&(o=r.slice(1)),n=r[0],n=n,this.mergeMode==="concat"?(n[n.length-1]*=2,a=[n]):this.mergeMode==null?a=[n,n.slice()]:a=[n],this.returnState?this.mergeMode==null?a.concat(o).concat(o.slice()):[n].concat(o).concat(o.slice()):Ha(a)}apply(e,r){let n=r==null?null:r.initialState,a=r==null?null:r.constants;r==null&&(r={});let o=Z7(e,n,a,this.numConstants);if(e=o.inputs,n=o.initialState,a=o.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(n==null||n.length===0)&&a==null)return super.apply(e,r);let s=[],u=[];if(n!=null){let l=n.length;if(l%2>0)throw new $e("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");r.initialState=n,s.push(...n);let c=n.map(h=>new Gn({shape:h.shape}));this.forwardLayer.stateSpec=c.slice(0,l/2),this.backwardLayer.stateSpec=c.slice(l/2),u.push(...c)}if(a!=null)throw new fr("Support for constants in Bidirectional layers is not implemented yet.");let f=s[0]instanceof Po;for(let l of s)if(l instanceof Po!==f)throw new $e("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(f){let l=[e].concat(s),c=this.inputSpec.concat(u),h=this.inputSpec;this.inputSpec=c;let m=super.apply(l,r);return this.inputSpec=h,m}else return super.apply(e,r)}call(e,r){return(0,pb.tidy)(()=>{let n=r.initialState,a,o;if(n==null)a=this.forwardLayer.call(e,r),o=this.backwardLayer.call(e,r);else{let f=n.slice(0,n.length/2),l=n.slice(n.length/2);a=this.forwardLayer.call(e,Object.assign(r,{initialState:f})),o=this.backwardLayer.call(e,Object.assign(r,{initialState:l}))}let s;this.returnState&&(Array.isArray(a)&&(s=a.slice(1).concat(o.slice(1))),a=a[0],o=o[0]),this.returnSequences&&(o=Ad.reverse(o,1));let u;return this.mergeMode==="concat"?u=Ly([a,o]):this.mergeMode==="sum"?u=Ad.add(a,o):this.mergeMode==="ave"?u=Ad.mul(.5,Ad.add(a,o)):this.mergeMode==="mul"?u=Ad.mul(a,o):this.mergeMode==null&&(u=[a,o]),this.returnState?this.mergeMode==null?u.concat(s):[u].concat(s):u})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){_l(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),_l(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,r){Array.isArray(r)&&(r=r[0]);let n;if(this.returnSequences?this.mergeMode==null?n=[r,r]:n=r:this.mergeMode==null?n=[null,null]:n=null,this.returnState){let o=this.forwardLayer.states.map(s=>null);return Array.isArray(n)?n.concat(o).concat(o):[n].concat(o).concat(o)}else return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){let e={mergeMode:this.mergeMode},r=super.getConfig();return Object.assign(e,r),e}static fromConfig(e,r){let n=js(r.layer);if(delete r.layer,r.numConstants!=null)throw new fr("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");let a=r;return a.layer=n,new e(a)}};hb.className="Bidirectional";pb.serialization.registerClass(hb);function n3t(t){return new El(t)}function i3t(t){return new w1(t)}function a3t(t){return new g1(t)}function o3t(t){return new y1(t)}function s3t(t){return new b1(t)}function u3t(t){return new _1(t)}function f3t(t){return new x1(t)}function l3t(t){return new Md(t)}function c3t(t){return new $h(t)}function h3t(t){return new S1(t)}function p3t(t){return new Vh(t)}function d3t(t){return new E1(t)}function m3t(t){return new M1(t)}function v3t(t){return new A1(t)}function g3t(t){return new N1(t)}function y3t(t){return new T1(t)}function b3t(t){return new B1(t)}function w3t(t){return new R1(t)}function x3t(t){return new tv(t)}function _3t(t){return new O1(t)}function S3t(t){return new F1(t)}function E3t(t){return new L1(t)}function M3t(t){return new P1(t)}function A3t(t){return new q1(t)}function N3t(t){return new U1(t)}function T3t(t){return new j1(t)}function D3t(t){return new V1(t)}function k3t(t){return new H1(t)}function I3t(t){return new W1(t)}function C3t(t){return new G1(t)}function O3t(t){return new $1(t)}function R3t(t){return new K1(t)}function F3t(t){return new X1(t)}function B3t(t){return new Q1(t)}function L3t(t){return new eb(t)}function Y7(t){return new rb(t)}function P3t(t){return Y7(t)}function q3t(t){return Y7(t)}function X7(t){return new ib(t)}function z3t(t){return X7(t)}function U3t(t){return X7(t)}function Q7(t){return new ob(t)}function j3t(t){return Q7(t)}function $3t(t){return Q7(t)}function V3t(t){return new sb(t)}function W3t(t){return new fb(t)}function Abe(t){return new ub(t)}function Nbe(t){return new lb(t)}function Tbe(t){return new tb(t)}function Dbe(t){return new nb(t)}function G3t(t){return new ab(t)}function H3t(t){return new k1(t)}function K3t(t){return new X0(t)}function Z3t(t){return new I1(t)}function J3t(t){return new Gh(t)}function Y3t(t){return new D1(t)}function X3t(t){return new Y0(t)}function Q3t(t){return new C1(t)}function eNt(t){return new ev(t)}function tNt(t){return new Ss(t)}function rNt(t){return new Q0(t)}function nNt(t){return new hb(t)}function iNt(t){return new cb(t)}var aNt=Abe,oNt=Nbe,sNt=Tbe,uNt=Dbe;function fNt(t){return new Z1(t)}function lNt(t){return new J1(t)}function cNt(t){return new Y1(t)}function hNt(t){return new z1(t)}w();_();w();_();w();_();w();_();w();_();var eL=null;function Q4(t){eL=t}function Nd(){if(eL===null)throw Error(`
============================
Howdy \u{1F44B}\u{1F44B}. Looks like you are running @jsonstack/model but you haven't set a Tensorflow backend. 
To do so, simply import (or require) your tensorflow library, and call setBackend like so,

import * as tf from '@tensorflow/tfjs';
import * as jsm from '@jsonstack/model';
jsm.setBackend(tf);

That will let @jsonstack/model know you wish to use a tensorflow library to perform your calculations.
============================
    `);return eL}function db(t){let e=Nd();return Array.isArray(t)?t:t?Object.keys(t).map(r=>new e.CustomCallback({[r]:t[r]})):[]}var rL=class extends X4.Layer{constructor(r){super(r);De(this,"lambdaFunction");De(this,"lambdaOutputShape");r.name===void 0&&(r.name=(+new Date*Math.random()).toString(36)),this.name=r.name,this.lambdaFunction=r.lambdaFunction,r.lambdaOutputShape&&(this.lambdaOutputShape=r.lambdaOutputShape)}call(r,n){let a=Nd();return a.tidy(()=>{let o=new Array;return o=new Function("input","tf",this.lambdaFunction)(r,a),o})}computeOutputShape(r){return this.lambdaOutputShape===void 0?r[0]:this.lambdaOutputShape}getConfig(){return Va(It({},super.getConfig()),{lambdaFunction:this.lambdaFunction,lambdaOutputShape:this.lambdaOutputShape})}static get className(){return"LambdaLayer"}},Es=class{constructor(e={},r={}){De(this,"type");De(this,"settings");De(this,"model");De(this,"tokenizer");De(this,"tf");De(this,"trained");De(this,"compiled");De(this,"reshape");De(this,"getInputShape");De(this,"xShape");De(this,"yShape");De(this,"layers");De(this,"getTimeseriesShape");De(this,"loss");let n=Nd();return this.type="ModelInterface",this.settings=Object.assign({},e),this.model=r.model,this.tf=r.tf||n,this.trained=!1,this.compiled=!1,this.reshape=Es.reshape,this.getInputShape=Es.getInputShape,this.tf&&this.tf.serialization&&this.tf.serialization.registerClass&&this.tf.serialization.registerClass(rL),this}static reshape(e,r){let n=gNt(e);function a(f){return f.reduce((l,c)=>l*c)}if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new mb(0,a(tL(e)),"!=");let o,s=1,u=r[0];for(let f=0;f<r.length;f++)s*=r[f];if(n.length!==s)throw new mb(a(r),a(tL(e)),"!=");try{o=vNt(n,r)}catch(f){throw f instanceof mb?new mb(a(r),a(tL(e)),"!="):f}if(o.length!==u)throw new SyntaxError(`specified shape (${r}) is compatible with input array or length (${e.length})`);return o}static getInputShape(e=[]){if(Array.isArray(e)===!1||!e[0]||!e[0].length||Array.isArray(e[0])===!1)throw new TypeError("input must be a matrix");let r=[],n=e[0].length,a=e;for(e.forEach(o=>{if(o.length!==n)throw new SyntaxError("input must have the same length in each row")});r.push(a.length),Array.isArray(a[0]);)a=a[0];return r}exportConfiguration(){return{type:this.type,settings:this.settings,trained:this.trained,compiled:this.compiled,xShape:this.xShape,yShape:this.yShape,layers:this.layers}}importConfiguration(e){this.type=e.type||this.type,this.settings=It(It({},this.settings),e.settings),this.trained=e.trained||this.trained,this.compiled=e.compiled||this.compiled,this.xShape=e.xShape||this.xShape,this.yShape=e.yShape||this.yShape,this.layers=e.layers||this.layers}train(e,r){throw new ReferenceError("train method is not implemented")}calculate(e){throw new ReferenceError("calculate method is not implemented")}loadModel(e){return it(this,null,function*(){return this.model=yield this.tf.loadLayersModel(e),this.xShape=this.model.inputs[0].shape,this.yShape=this.model.outputs[0].shape,this.trained=!0,this.model})}saveModel(e){return it(this,null,function*(){return yield this.model.save(e)})}predict(e,r){return it(this,null,function*(){if(!e||Array.isArray(e)===!1)throw new Error("invalid input matrix");let n=It({json:!0,probability:!0},r),a=Array.isArray(e)||n.skip_matrix_check?e:[e];return this.calculate(a).data().then(o=>{if(n.json===!1)return o;{if(!this.yShape)throw new Error("Model is missing yShape");let s=[a.length,this.yShape[1]],u=n.probability===!1?Array.from(o).map(Math.round):Array.from(o);return this.reshape(u,s)}}).catch(o=>{throw o})})}};function tL(t){let e=[];for(;Array.isArray(t);)e.push(t.length),t=t[0];return e}function vNt(t,e){for(var r=t,n,a=e.length-1;a>0;a--){var o=e[a];n=[];for(var s=r.length/o,u=0;u<s;u++)n.push(r.slice(u*o,(u+1)*o));r=n}return r}var mb=class extends RangeError{constructor(r,n,a){let o="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" != "+(Array.isArray(n)?"["+n.join(", ")+"]":n)+")";super(o);De(this,"actual");De(this,"expected");De(this,"relation");De(this,"isDimensionError");this.actual=r,this.expected=n,this.relation=a,this.message=o,this.name="DimensionError",this.isDimensionError=!0}};function gNt(t){if(!Array.isArray(t))return t;let e=[];return t.forEach(function r(n){Array.isArray(n)?n.forEach(r):e.push(n)}),e}function vb(t,e){return it(this,null,function*(){for(let r=0;r<t.length;r++)yield e(t[r],r,t)})}w();_();var Ua=class extends Es{constructor(e={},r){let n=Object.assign({layers:[],compile:{loss:"meanSquaredError",optimizer:"adam"},fit:{epochs:100,batchSize:5,verbose:0}},e);return super(n,r),this.type="BaseNeuralNetwork",this}generateLayers(e,r){throw new ReferenceError("generateLayers method is not implemented")}train(e,r,n,a,o){return it(this,null,function*(){let s=this.getInputShape(e),u=this.getInputShape(r),f=this.tf.tensor(e,s),l=this.tf.tensor(r,u);return this.xShape=s,this.yShape=u,(typeof this.compiled=="undefined"||this.compiled===!1)&&(this.model=this.tf.sequential(),this.generateLayers.call(this,e,r,n||this.layers,a,o),this.model.compile(this.settings.compile),this.compiled=!0),yield this.model.fit(f,l,this.settings.fit),this.trained=!0,f.dispose(),l.dispose(),this.model})}calculate(e,r){if(!e||Array.isArray(e)===!1)throw new Error("invalid input matrix");let n=Array.isArray(e[0])?e:[e],a=this.tf.tensor(n),o=this.model.predict(a,r);return a.dispose(),o}};w();_();var gb=class extends Ua{constructor(e={},r){let n=Object.assign({layers:[],layerPreference:"deep",compile:{loss:"meanSquaredError",optimizer:"adam"},fit:{epochs:100,batchSize:5}},e);return super(n,r),this.type="DeepLearningRegression",this}generateLayers(e,r,n){let a=this.getInputShape(e),o=this.getInputShape(r),s=[];n?s.push(...n):this.settings.layerPreference==="deep"?(s.push({units:a[1],inputShape:[a[1]],kernelInitializer:"randomNormal",activation:"relu"}),s.push({units:parseInt(String(Math.ceil(a[1]/2)),10),kernelInitializer:"randomNormal",activation:"relu"}),s.push({units:o[1],kernelInitializer:"randomNormal"})):(s.push({units:a[1]*2,inputShape:[a[1]],kernelInitializer:"randomNormal",activation:"relu"}),s.push({units:o[1],kernelInitializer:"randomNormal"})),this.layers=s,s.forEach(u=>{this.model.add(this.tf.layers.dense(u))})}};w();_();var yb=class extends Ua{constructor(e={},r){let n=Object.assign({layers:[],compile:{loss:"categoricalCrossentropy",optimizer:"adam"},fit:{epochs:100,batchSize:5}},e);return super(n,r),this.type="DeepLearningClassification",this}generateLayers(e,r,n){let a=this.getInputShape(e),o=this.getInputShape(r);this.yShape=o,this.xShape=a;let s=[];n?s.push(...n):(s.push({units:a[1]*2,inputDim:a[1],activation:"relu"}),s.push({units:o[1],activation:"softmax"})),this.layers=s,s.forEach(u=>{this.model.add(this.tf.layers.dense(u))})}};w();_();var bb=class extends Ua{constructor(e={},r){let n=Object.assign({layers:[],type:"simple",compile:{loss:"meanSquaredError",optimizer:"rmsprop"},fit:{epochs:100,batchSize:5}},e);return super(n,r),this.type="LogisticRegression",this}generateLayers(e,r,n,a,o){let s=this.getInputShape(e),u=this.getInputShape(r);this.yShape=u,this.xShape=s;let f=[];if(n)f.push(...n);else if(this.settings.type==="class"&&this.settings.compile)f.push({units:1,inputDim:s[1],activation:"sigmoid"}),this.settings.compile.loss="binaryCrossentropy";else if(this.settings.type==="l1l2"&&this.settings.compile){let l=this.tf.regularizers.l1l2({l1:.01,l2:.01});f.push({units:1,inputDim:s[1],activation:"sigmoid",kernelRegularizer:l}),this.settings.compile.loss="binaryCrossentropy"}else f.push({units:1,inputShape:[s[1]]});this.layers=f,f.forEach(l=>{this.model.add(this.tf.layers.dense(l))}),a&&o&&this.settings&&this.settings.fit&&(this.settings.fit.validationData=[a,o])}};w();_();var rv=class extends Ua{constructor(e={},r={}){let n=Object.assign({layers:[],compile:{loss:"meanSquaredError",optimizer:"sgd"},fit:{epochs:500,batchSize:5}},e);return super(n,r),this.type="MultipleLinearRegression",this}generateLayers(e,r,n){let a=this.getInputShape(e),o=this.getInputShape(r),s=[];n?s.push(...n):s.push({units:o[1],inputShape:[a[1]]}),this.layers=s,s.forEach(u=>{this.model.add(this.tf.layers.dense(u))})}};w();_();var kbe=Bt(l0(),1);var Ms=class extends Ua{constructor(r={},n){let a=Object.assign({layers:[],type:"simple",stateful:!1,stacked:!1,mulitpleTimeSteps:!1,lookback:1,batchSize:1,timeSteps:1,learningRate:.1,compile:{loss:"meanSquaredError",optimizer:"adam"},fit:{epochs:100,batchSize:1}},r);super(a,n);De(this,"createDataset");De(this,"getTimeseriesShape");De(this,"getTimeseriesDataSet");return this.type="LSTMTimeSeries",this.createDataset=Ms.createDataset,this.getTimeseriesDataSet=Ms.getTimeseriesDataSet,this.getTimeseriesShape=Ms.getTimeseriesShape,this}static createDataset(r=[],n=1){let a=new Array,o=new Array;for(let s in(0,kbe.default)(r.length-n-1)){let u=parseInt(s),f=r.slice(u,u+n);a.push(f),o.push(r[u+n])}return[a,o]}static getTimeseriesShape(r){let n=this.settings.timeSteps,a=this.getInputShape(r),o=a[0],s=n,u=a[1];return this.settings.mulitpleTimeSteps||this.settings.stateful?[o,u,s]:[o,s,u]}static getTimeseriesDataSet(r,n){let a=n||this.settings.lookback,o=Ms.createDataset.call(this,r,a),s=o[0],u=o[1],f=Ua.reshape(s,[s.length,a]),l=Ua.getInputShape(f);return{yShape:Ua.getInputShape(u),xShape:l,y_matrix:u,x_matrix:f}}generateLayers(r,n,a){let o=this.getInputShape(r),s=this.getInputShape(n);this.yShape=s,this.xShape=o;let u=[],f=[],l=[];if(a)a.lstmLayers&&a.lstmLayers.length&&u.push(...a.lstmLayers),a.rnnLayers&&a.rnnLayers.length&&f.push(...a.rnnLayers),a.denseLayers&&a.denseLayers.length&&l.push(...a.denseLayers);else if(this.settings&&this.settings.fit&&this.settings.stateful){let c=[this.settings.fit.batchSize,this.settings.lookback,1];f.push({units:4,batchInputShape:c,returnSequences:!0}),f.push({units:4,batchInputShape:c}),l.push({units:s[1]})}else{let c=[1,this.settings.lookback];u.push({units:4,inputShape:c}),l.push({units:s[1]})}u.length&&u.forEach(c=>{this.model.add(this.tf.layers.lstm(c))}),f.length&&f.forEach(c=>{this.model.add(this.tf.layers.simpleRNN(c))}),l.length&&l.forEach(c=>{this.model.add(this.tf.layers.dense(c))}),this.layers={lstmLayers:u,rnnLayers:f,denseLayers:l}}train(r,n,a,o,s){return it(this,null,function*(){let u,f,l,c=this.settings.lookback;if(n)f=r,l=n;else{let A=this.createDataset(r,c);f=A[0],l=A[1],u=this.getInputShape(l)}let h=this.getTimeseriesShape(f),m=Ua.reshape(f,h),g=this.tf.tensor(m,h),b=this.tf.tensor(l,u);return this.xShape=h,this.yShape=u,this.compiled===!1&&(this.model=this.tf.sequential(),this.generateLayers.call(this,m,l,a||this.layers),this.model.compile(this.settings.compile),this.settings.fit&&this.settings.stateful&&(this.settings.fit.shuffle=!1),this.compiled=!0),yield this.model.fit(g,b,this.settings.fit),this.trained=!0,g.dispose(),b.dispose(),this.model})}calculate(r){let n=this.getTimeseriesShape(r),a=Ua.reshape(r,n);return super.calculate(a)}predict(a){return it(this,arguments,function*(r,n={}){return this.settings.stateful&&r.length>1?Promise.all(r.map(o=>Gw(Ms.prototype,this,"predict").call(this,[o],n))):Gw(Ms.prototype,this,"predict").call(this,r,n)})}};w();_();var e6=Bt(l0(),1);var ia=class extends Ms{constructor(r={},n){let a=Object.assign({layers:[],stateful:!0,mulitpleTimeSteps:!1,lookback:1,features:void 0,outputs:1,learningRate:.1,compile:{loss:"meanSquaredError",optimizer:"adam"},fit:{epochs:100,batchSize:1,shuffle:!1}},r);super(a,n);De(this,"createDataset");De(this,"seriesToSupervised");De(this,"getDropableColumns");De(this,"drop");De(this,"getTimeseriesShape");De(this,"getTimeseriesDataSet");return this.type="LSTMMultivariateTimeSeries",this.createDataset=ia.createDataset,this.seriesToSupervised=ia.seriesToSupervised,this.getDropableColumns=ia.getDropableColumns,this.drop=ia.drop,this.getTimeseriesShape=ia.getTimeseriesShape,this.getTimeseriesDataSet=ia.getTimeseriesDataSet,this}static createDataset(r=[],n=1){let a=this.settings&&this.settings.features?this.settings.features:r[0].length-1,o=n||this.settings.lookback||1,s=this.settings&&this.settings.outputs?this.settings.outputs:1,u=ia.seriesToSupervised(r,o,s),f=ia.getDropableColumns(a,o,s),l=ia.drop(u,f),c=[0],h=[0,l[0].length-1];for(let b=0;b<o;b++)c.push((b+1)*a+1);let m=Ibe(l)[l[0].length-1];return[ia.drop(l,h),m,a]}static drop(r,n){return r.reduce((a,o,s)=>(a[s]=[],o.forEach((u,f)=>{n.indexOf(f)===-1&&a[s].push(u)}),a),[])}static seriesToSupervised(r,n=1,a=1){if(a!==1)throw new RangeError("Only 1 future iteration supported");if(r&&Array.isArray(r)&&Array.isArray(r[0])&&r[0].length<2)throw new RangeError("Must include at least two columns, the first column must be the dependent variable, followed by independent variables");let o=[];for(let s in r){if(s=Number(parseInt(s)),s+n+a>r.length)break;o[s]=[];for(let f in(0,e6.default)(n))f=parseInt(f),o[s].push(...r[s+f]);for(let f in(0,e6.default)(a))f=parseInt(f),o[s].push(...r[s+f+n])}return o}static getDropableColumns(r,n,a){if(a!==1)throw new RangeError("Only 1 future iteration supported");let o=r+1,s=o*n+o*a;return(0,e6.default)(s-o+1,s)}static getTimeseriesShape(r){let n=this.settings&&this.settings.lookback?this.settings.lookback:1,a=this.getInputShape(r),o=a[0],s=n,u=this.settings&&this.settings.features?this.settings.features:a[1];return[o,s,u]}static getTimeseriesDataSet(r,n){let a=n||this.settings.lookback,o=ia.createDataset.call(this,r,a),s=o[0],u=ia.reshape(o[1],[o[1].length,1]),f=ia.getTimeseriesShape.call(this,s),l=ia.reshape(s,f),c=ia.getInputShape(l),h=Ibe(u)[u[0].length-1];return{yShape:ia.getInputShape(u),xShape:c,y_matrix:h,x_matrix:l}}generateLayers(r,n,a){let o=this.getInputShape(r),s=this.getInputShape(n);this.yShape=s,this.xShape=o;let u=[],f=[];if(a)a.lstmLayers&&a.lstmLayers.length&&u.push(...a.lstmLayers),a.denseLayers&&a.denseLayers.length&&f.push(...a.denseLayers);else{let l=[o[1],o[2]];u.push({units:10,inputShape:l}),f.push({units:s[1]})}u.length&&u.forEach(l=>{this.model.add(this.tf.layers.lstm(l))}),f.length&&f.forEach(l=>{this.model.add(this.tf.layers.dense(l))}),this.layers={lstmLayers:u,denseLayers:f}}train(r,n,a,o,s){return it(this,null,function*(){let u,f,l,c,h=this.settings.lookback;if(n)l=r,c=n,u=this.getInputShape(l),f=this.getInputShape(c);else{let I=this.createDataset(r,h);l=I[0],c=this.reshape(I[1],[I[1].length,1]),u=this.getInputShape(l),f=this.getInputShape(c)}let m=this.getTimeseriesShape(l),g=ia.reshape(l,m),b=this.tf.tensor(g,m),A=this.tf.tensor(c,f);return this.xShape=m,this.yShape=f,this.compiled===!1&&(this.model=this.tf.sequential(),this.generateLayers.call(this,g,c,a||this.layers),this.model.compile(this.settings.compile),this.compiled=!0),o&&s&&this.settings&&this.settings.fit&&(this.settings.fit.validation_data=[o,s]),yield this.model.fit(b,A,this.settings.fit),this.trained=!0,b.dispose(),A.dispose(),this.model})}};function Ibe(t=[]){return t.reduce((e,r,n)=>(r.forEach((a,o)=>{n===0?e.push([a]):e[o].push(a)}),e),[])}w();_();var P6=Bt(gxe(),1),C2e=Bt(CP(),1);var p9t="https://storage.googleapis.com/tfjs-models/savedmodel/universal_sentence_encoder";function d9t(t){return it(this,null,function*(){return(yield C2e.default.get(t)).data})}function m9t(){return it(this,null,function*(){let t=yield d9t(`${p9t}/vocab.json`);return new P6.Tokenizer(t)})}var mS,vS,L6=class extends Es{constructor(e={},r){let n=Object.assign({},e);return super(n,r),this.type="TextEmbedding",this}train(){return it(this,null,function*(){let e=[];mS?e.push(Promise.resolve(mS)):e.push((0,P6.load)()),vS?e.push(Promise.resolve(vS)):e.push(m9t());let r=yield Promise.all(e);return mS||(mS=r[0]),vS||(vS=r[1]),this.model=mS,this.tokenizer=vS,this.trained=!0,this.compiled=!0,this.model})}calculate(e,r={}){if(!e||Array.isArray(e)===!1)throw new Error("invalid input array of sentences");return this.model.embed(e)}predict(n){return it(this,arguments,function*(e,r={}){let a=Object.assign({json:!0,probability:!0},r),s=yield(yield this.calculate(e,r)).data();if(a.json===!1)return s;{let u=[e.length,512],f=r.probability===!1?Array.from(s).map(Math.round):Array.from(s);return this.reshape(f,u)}})}};w();_();var C_e=Bt(l0(),1),O_e=Bt(k_e(),1);var Fc=class extends Ua{constructor(r={},n){let a=It({layers:[],type:"cbow",compile:{loss:"categoricalCrossentropy",optimizer:"rmsprop"},fit:{epochs:15,batchSize:1},embedSize:50,windowSize:2,PAD:"PAD",streamInputMatrix:!0,initialLayerInitializerType:"randomNormal",initialLayerInitializerOptions:{seed:1}},r);super(a,n);De(this,"featureToId");De(this,"idToFeature");De(this,"featureIds");De(this,"numberOfFeatures");De(this,"importedEmbeddings");De(this,"getMergedArray");De(this,"getFeatureDataSet");De(this,"getContextPairs");return this.type="FeatureEmbedding",this.featureToId,this.idToFeature,this.featureIds,this.numberOfFeatures,this.getMergedArray=Fc.getMergedArray,this.getFeatureDataSet=Fc.getFeatureDataSet.bind(this),this.getContextPairs=Fc.getContextPairs.bind(this),this}static getFeatureDataSet(s){return it(this,arguments,function*({inputMatrixFeatures:r,PAD:n="PAD",initialIdToFeature:a,initialFeatureToId:o}){let u=o?Object.keys(o).length:1,f=It({0:this&&this.settings&&this.settings.PAD?this.settings.PAD:n},a),l=r.reduce((m,g)=>(g.forEach(b=>{m[b]||(f[u]&&u++,m[b]=u,f[u]=b,u++)}),m),It({[n]:0},o)),c=r.map(m=>m.map(g=>l[g])),h=Object.keys(l).length;return{featureToId:l,idToFeature:f,featureIds:c,numberOfFeatures:h}})}static getMergedArray(r=[],n=[],a=!1,o=!0){let s=new Array().concat(r);return a?s.splice(r.length-n.length,n.length,...n):s.splice(0,n.length,...n),o&&a?s.slice(-1*r.length):o?s.slice(0,r.length):s}static getContextPairs(s){return it(this,arguments,function*({inputMatrix:r,numberOfFeatures:n,window_size:a=2,tf:o}){let u=this&&this.tf?this.tf:Nd(),f=(this&&this.settings&&this.settings.windowSize?this.settings.windowSize:a)*2,[l,c]=yield Promise.all([u.zeros([f]).array(),u.zeros([n]).array()]),h=[],m=[];return r.forEach((g,b)=>{g.forEach((A,I)=>{if(A!=0){let C=new Array().concat(c),R=new Array().concat(r[b]);R.splice(I,1);let O=Fc.getMergedArray(l,R,!0);C[A]=1,h.push(O),m.push(C)}})}),{context_length:f,emptyXVector:l,emptyYVector:c,x:h,y:m}})}generateLayers(r,n,a){if(!this.numberOfFeatures)throw ReferenceError(`${this.settings.name} model is missing numberOfFeatures`);if(!this.settings.embedSize)throw ReferenceError(`${this.settings.name} model is missing embedSize`);let o=[this.numberOfFeatures,this.settings.embedSize];this.yShape=o;let s=[];if(s.push({units:this.numberOfFeatures,inputDim:this.numberOfFeatures,outputDim:this.settings.embedSize,inputLength:(this.settings.windowSize||2)*2,embeddingsInitializer:this.settings.initialLayerInitializerType?this.tf.initializers[this.settings.initialLayerInitializerType](this.settings.initialLayerInitializerOptions):void 0}),s.push({lambdaFunction:"result = tf.mean(input,1,true)",lambdaOutputShape:[this.numberOfFeatures,this.settings.embedSize]}),s.push({units:this.numberOfFeatures,activation:"softmax"}),this.layers=s,this.model.add(this.tf.layers.embedding(s[0])),this.model.add(this.tf.layers.flatten()),this.model.add(this.tf.layers.dense(s[2])),a&&a.length&&a[0].weights){let u=this.model.getWeights();u[0]=a[0].weights,this.model.setWeights(u)}}trainOnBatch(f){return it(this,arguments,function*({x_input_matrix:r,y_output_matrix:n,epoch:a,trainingLoss:o,inputVectorIndex:s,inputVectorLength:u}){var c,h,m,g,b,A,I,C;let l=1/0;return(h=(c=this.settings.fit)==null?void 0:c.callbacks)!=null&&h.onEpochBegin&&((g=(m=this.settings.fit)==null?void 0:m.callbacks)==null||g.onEpochBegin(a,{loss:o})),yield vb(r,(R,O)=>it(this,null,function*(){var W,T,p,v,S,y,M,D,k,E,d,N;(T=(W=this.settings.fit)==null?void 0:W.callbacks)!=null&&T.onBatchBegin&&((v=(p=this.settings.fit)==null?void 0:p.callbacks)==null||v.onBatchBegin(O,{loss:o}));let F=n[O],z=this.getInputShape([R]),B=this.tf.tensor(R,z),$=this.getInputShape([F]),j=this.tf.tensor(F,$);l=yield this.model.trainOnBatch(B,j),(y=(S=this.settings.fit)==null?void 0:S.callbacks)!=null&&y.onYield&&((D=(M=this.settings.fit)==null?void 0:M.callbacks)==null||D.onYield(a,O,{loss:l,inputVectorIndex:s,inputVectorLength:u,completion:`${(100*(((s||O)+1)/(u||r.length))).toFixed(2)}%`})),(E=(k=this.settings.fit)==null?void 0:k.callbacks)!=null&&E.onBatchEnd&&((N=(d=this.settings.fit)==null?void 0:d.callbacks)==null||N.onBatchEnd(O,{loss:l})),B.dispose(),j.dispose()})),(A=(b=this.settings.fit)==null?void 0:b.callbacks)!=null&&A.onEpochEnd&&((C=(I=this.settings.fit)==null?void 0:I.callbacks)==null||C.onEpochEnd(a,{loss:l})),{loss:l}})}generateBatch(n){return it(this,arguments,function*({epoch:r}){if(!this.featureIds)throw ReferenceError(`${this.settings.name} model is missing featureIds`);let a=this.featureIds,o=(this&&this.settings&&this.settings.windowSize?this.settings.windowSize:2)*2,[s,u]=yield Promise.all([this.tf.zeros([o]).array(),this.tf.zeros([this.numberOfFeatures]).array()]),f=[],l=[],c=1/0;return yield vb(a,(h,m)=>it(this,null,function*(){yield vb(h,(g,b)=>it(this,null,function*(){if(this.settings.checkInputMatrix&&this.numberOfFeatures&&g>=this.numberOfFeatures)console.warn("invalid word in corpus",{trainingLoss:c,word:g,"this.idToFeature[word]":this.idToFeature&&this.idToFeature[g],"this.numberOfFeatures":this.numberOfFeatures});else if(g!=0){let A=new Array().concat(u),I=new Array().concat(a[m]);I.splice(b,1);let C=Fc.getMergedArray(s,I,!0);A[g]=1,f=[C],l=[A],this.settings.checkInputMatrix&&this.numberOfFeatures&&this.numberOfFeatures>0&&C.filter(R=>this.numberOfFeatures&&R>=this.numberOfFeatures).length?console.warn("Input matrix contains unknown weight",{input:C,"this.numberOfFeatures":this.numberOfFeatures}):(f=[C],l=[A],c=(yield this.trainOnBatch({x_input_matrix:f,y_output_matrix:l,epoch:r,trainingLoss:c,inputVectorIndex:m,inputVectorLength:a.length})).loss)}}))})),{loss:c}})}exportEmbeddings(){return it(this,null,function*(){if(this.trained!==!0)throw new ReferenceError("The model has to be trained before embeddings can be exported");let r=yield this.predict(),n=this.labelWeights(r);return{featureToId:this.featureToId,idToFeature:this.idToFeature,featureIds:this.featureIds,numberOfFeatures:this.numberOfFeatures,labeledWeights:n}})}importEmbeddings(c){return it(this,arguments,function*({featureToId:r,idToFeature:n,featureIds:a,numberOfFeatures:o,labeledWeights:s,addNewWeights:u=!0,inputMatrixFeatures:f,fixImportedWeights:l=!1}){this.model=void 0;let h;u&&(f&&(h=yield this.getFeatureDataSet({inputMatrixFeatures:f,initialIdToFeature:n,initialFeatureToId:r}),r=h==null?void 0:h.featureToId,n=h==null?void 0:h.idToFeature,a=h==null?void 0:h.featureIds,o=h==null?void 0:h.numberOfFeatures),r&&(yield vb(Object.keys(r),b=>it(this,null,function*(){(!s[b]||!s[b].length)&&(s[b]=yield this.tf.randomUniform([1,this.settings.embedSize],-1,1).array(),Array.isArray(s[b][0])&&(typeof s[b].flat=="function"?s[b]=s[b].flat():s[b]=s[b].reduce((A,I)=>A.concat(I),[])))})))),l&&Object.keys(s).forEach(b=>{Array.isArray(s[b][0])&&(typeof s[b].flat=="function"?s[b]=s[b].flat():s[b]=s[b].reduce((A,I)=>A.concat(I),[]))});let m=Object.keys(s)[0];if(!m||!s[m]||s[m].length!==this.settings.embedSize)throw new RangeError(`imported weights (${s[m]?s[m].length:"firstLabeledWeight:undefined"}) must have the same embedding size as model (${this.settings.embedSize})`);let g=this.tf.variable(this.tf.tensor(Object.values(s)));this.featureToId=r,this.idToFeature=n,this.featureIds=a,this.numberOfFeatures=o,g.shape[0]!==this.numberOfFeatures&&(console.warn("INVALID NUMBER OF this.numberOfFeatures",{"trainedWeights.shape[0]":g.shape[0],"this.numberOfFeatures":this.numberOfFeatures}),this.numberOfFeatures=g.shape[0]),this.compileModel({layers:[{weights:g}]}),this.importedEmbeddings=!0})}compileModel({layers:r}={}){this.model=void 0,this.model=this.tf.sequential(),this.generateLayers.call(this,[],[],r||this.layers),this.model.compile(this.settings.compile),this.compiled=!0}train(r,n,a){return it(this,null,function*(){var s,u,f,l,c,h,m,g,b;if(!this.featureToId||!this.idToFeature||!this.featureIds||!this.numberOfFeatures){let A=yield this.getFeatureDataSet({inputMatrixFeatures:r});this.featureToId=A.featureToId,this.idToFeature=A.idToFeature,this.featureIds=A.featureIds,this.numberOfFeatures=A.numberOfFeatures}else this.importedEmbeddings&&r&&r.length&&(this.featureIds=r);this.compiled===!1&&this.compileModel({layers:a});let o=1/0;return(u=(s=this.settings.fit)==null?void 0:s.callbacks)!=null&&u.onTrainBegin&&((l=(f=this.settings.fit)==null?void 0:f.callbacks)==null||l.onTrainBegin({loss:o})),yield vb((0,C_e.default)(0,(c=this.settings.fit)==null?void 0:c.epochs),A=>it(this,null,function*(){if(this.settings.streamInputMatrix)o=(yield this.generateBatch({epoch:A})).loss;else{if(!this.numberOfFeatures)throw ReferenceError(`${this.settings.name} model is missing numberOfFeatures`);if(!this.featureIds)throw ReferenceError(`${this.settings.name} model is missing featureIds`);let I=yield this.getContextPairs({tf:this.tf,numberOfFeatures:this.numberOfFeatures,inputMatrix:this.featureIds}),C=I.x,R=I.y;o=(yield this.trainOnBatch({x_input_matrix:C,y_output_matrix:R,epoch:A,trainingLoss:o})).loss}})),(m=(h=this.settings.fit)==null?void 0:h.callbacks)!=null&&m.onTrainEnd&&((b=(g=this.settings.fit)==null?void 0:g.callbacks)==null||b.onTrainEnd({loss:o})),this.loss=o,this.trained=!0,this.model})}calculate(){return it(this,null,function*(){return this.model.getWeights()[0]})}predict(){return it(this,arguments,function*(r={}){let n=yield this.calculate();if(r.json===!1)return yield n.data();{let a=yield n.array();if(!this.yShape)throw new Error("Model is missing yShape");return this.reshape(a,n.shape)}})}labelWeights(r){return r.reduce((n,a,o)=>(this.idToFeature&&(n[this.idToFeature[o]]=a),n),{})}reduceWeights(r,n){return it(this,null,function*(){let a=new O_e.default(It({dim:2,perplexity:30,earlyExaggeration:4,learningRate:100,nIter:1e3,metric:"euclidean"},n));a.init({data:r,type:n?n.type:"dense"});let[o,s]=a.run();return a.getOutput()})}findSimilarFeatures(a){return it(this,arguments,function*(r,n={}){let o=this.tf,{features:s=[],limit:u=5,labeledWeights:f,metric:l="distance"}=n,c=f||this.labelWeights(r);return this.settings&&this.settings.PAD&&delete c[this.settings.PAD],s.reduce((h,m)=>{let g=c[m];if(!g)throw new ReferenceError(`Invalid feature: ${m}`);let b=Object.keys(c).map(A=>{let I=o.tidy(()=>{let C=o.metrics.cosineProximity(o.tensor(g),o.tensor(c[A])),R=o.metrics.meanSquaredError(o.tensor(g),o.tensor(c[A]));return[C.asScalar().dataSync()[0],R.asScalar().dataSync()[0]]});return{comparedFeature:A,proximity:I[0],distance:I[1]}}).sort((A,I)=>l==="distance"?A.distance-I.distance:A.proximity-I.proximity);return h[m]=b.slice(1,u+1),h},{})})}},I_e;(function(t){t.DISTANCE="distance",t.PROXIMITY="proximity"})(I_e||(I_e={}));w();_();var PP=null;function Q6(t){PP=t}function ek(){if(PP===null)throw Error(`
============================
Howdy \u{1F44B}\u{1F44B}. Looks like you are running @jsonstack/model but you haven't set a ScikitJS backend. 
To do so, simply import (or require) your scikit library, and call setScikit like so,

import * as tf from '@tensorflow/tfjs';
import * as scikit from 'scikitjs';
import * as jsm from '@jsonstack/model';
jsm.setBackend(tf);
jsm.setScikit(scikit);

That will let @jsonstack/model know you wish to use a scikitjs library to perform your calculations.
============================
    `);return PP}w();_();var Rd=class extends Es{constructor(r={},n={}){let a=ek(),o=It({},r);super(o,n);De(this,"scikit");return this.scikit=n.scikit||a,this.type="MachineLearningModelInterface",this}explain(){return{coefficients:this.model.coef,intercept:this.model.intercept}}};w();_();var tk=class extends Rd{constructor(e={},r){var a,o;let n=It({layers:[],layerPreference:"deep",compile:{},fit:{callbacks:[]}},e);return super(n,r),(a=e==null?void 0:e.fit)!=null&&a.callbacks&&(n.fit.callbacks=[this.tf.callbacks.earlyStopping({monitor:"mse",patience:30})].concat(db((o=e==null?void 0:e.fit)==null?void 0:o.callbacks))),this.type="MachineLearningLinearRegression",this.model=new this.scikit.LinearRegression({modelFitOptions:n.fit}),this}train(e,r){return it(this,null,function*(){let n=this.getInputShape(e),a=this.getInputShape(r);return this.xShape=n,this.yShape=a,yield this.model.fit(e,r,this.settings.fit),this.trained=!0,this.compiled=!0,this.model})}calculate(e,r){if(!e||Array.isArray(e)===!1)throw new Error("invalid input matrix");let n=Array.isArray(e[0])?e:[e],a=this.tf.tensor(n),o=this.model.predict(a,r);return a.dispose(),o}};w();_();var rk=class extends Rd{constructor(e={},r){var a,o;let n=It({layers:[],layerPreference:"deep",compile:{},fit:{callbacks:[]}},e);return super(n,r),(a=e==null?void 0:e.fit)!=null&&a.callbacks&&(n.fit.callbacks=[this.tf.callbacks.earlyStopping({monitor:"loss",patience:50})].concat(db((o=e==null?void 0:e.fit)==null?void 0:o.callbacks))),this.type="MachineLearningLogisticRegression",this.model=new this.scikit.LogisticRegression({modelFitOptions:n.fit}),this}train(e,r){return it(this,null,function*(){let n=r.map(s=>s[0]),a=this.getInputShape(e),o=this.getInputShape(r);return this.xShape=a,this.yShape=o,yield this.model.fit(e,n,this.settings.fit),this.trained=!0,this.compiled=!0,this.model})}calculate(e,r){if(!e||Array.isArray(e)===!1)throw new Error("invalid input matrix");let n=Array.isArray(e[0])?e:[e],a=this.tf.tensor(n),o=this.model.predict(a,r);return a.dispose(),o}};w();_();w();_();w();_();function qP(t){let e={};for(let r in t){let n=Object.getOwnPropertyDescriptor(t,r);n&&n.writable&&(e[r]=t[r])}return e}w();_();w();_();var R_e=Symbol("isPending"),F_e=Symbol("isFulfulled"),Lb=Symbol("isRejected"),zP=Symbol("isPaused");function $7t(t,e){if(typeof this.timeout=="number"&&this.timeout>0){let r=setTimeout(()=>{this.value=t,e(t),clearTimeout(r)},this.timeout)}else this.value=t,e(t)}function V7t(t,e){if(typeof this.timeout=="number"){let r=setTimeout(()=>{e(t),clearTimeout(r)},this.timeout)}else e(t)}var nk=class{constructor(e){this.action=e.action,this.timeout=e.timeout||0,this.index=e.index,this.value=e.value,this[R_e]=!0,this[F_e]=!1,this[Lb]=!1,this.fulfill=$7t.bind(this),this.reject=V7t.bind(this),this.next=void 0}resolve(e){return new Promise((r,n)=>{try{let a=typeof this.action=="function"?this.action(e):this.action;if(a&&typeof a.then=="function"&&typeof a.catch=="function")return a.then(o=>this.fulfill(o,r)).catch(o=>this.reject(o,n));this.fulfill(a,r)}catch(a){this.reject(a,n)}})}};R_e,F_e,Lb;function W7t(t){let e=[],r=t;for(;r;)e.push(r.value),r=r.next;return e}function B_e(t,e){for(;this.active<this.concurrency&&this.current;){this.active++;let r=this.current;this.current=r.next,r.action=this.action,r.resolve(r.value).then(n=>{--this.active===0&&!this.current?t(this.decompress(this.root)):this.resolve(t,e)},n=>{this[Lb]=!0,e(n)})}}var tp=class{constructor(e){this.action=e.action,this.concurrency=e.concurrency||1/0,this.values=e.values||[],this.active=0,this.timeout=e.timeout||0,this.current=void 0,this[zP]=!1,this[Lb]=!1,this.root=void 0,this.length=0,this.decompress=(e.decompress||W7t).bind(this)}insert(...e){for(let r=0;r<e.length;r++)if(this.length++,!this.root)this.root=new nk({index:r,action:void 0,value:e[r],timeout:this.timeout});else{let n=this.root;for(;n&&n.next;)n=n.next;n.next=new nk({index:r,action:void 0,value:e[r],timeout:this.timeout})}return this.current=this.root,this}resolve(e,r){if(!this.current||this[Lb]||this[zP])return null;if(e&&r)B_e.call(this,e,r);else return new Promise((n,a)=>{B_e.call(this,n,a)})}};zP,Lb;function UP(t,e,r,n){let a=typeof r=="function"?r:n,o=typeof r=="number"?r:void 0;return new tp({action:t,concurrency:o}).insert(...e).resolve().then(f=>a(null,f)).catch(a)}w();_();function jP(t,e,r,n){let a=typeof r=="function"?r:n,o=typeof r=="number"?r:void 0;return new tp({action:f=>{let{operation:l,key:c}=f;if(typeof l=="function"){if(Array.isArray(e)){let h=e;return Promise.all([l(...h),c])}return Promise.all([l(e),c])}return[l,c]},concurrency:o,decompress:f=>{let l={},c=f;for(;c;){let[h,m]=c.value;l[m]=h,c=c.next}return l}}).insert(...Object.keys(t).map(f=>({operation:t[f],key:f}))).resolve().then(f=>a(null,f)).catch(a)}function $P(t){return Object.keys(t).reduce((e,r)=>(t[r]&&typeof t[r]=="object"?e[r]=()=>Hr.parallel($P(t[r])):e[r]=t[r],e),{})}w();_();function VP(t,e,r){let n=typeof e=="function"?e:r,a=typeof e=="number"?e:void 0,o=[],s=[];return new tp({action(l){if(typeof l=="function")try{let c=l();if(c&&typeof c.then=="function"&&typeof c.catch=="function")return c.then(h=>{o.push({value:h,status:"fulfilled"})},h=>{s.push({value:h,status:"rejected"})});o.push({value:c,status:"fulfilled"})}catch(c){s.push({value:c,status:"rejected"})}else o.push({value:l,status:"fulfilled"});return null},decompress(l){return null},concurrency:a}).insert(...t).resolve().then(()=>n(null,{fulfilled:o,rejected:s})).catch(n)}w();_();function WP(t){return function e(r,n){let a;try{a=t.next(r)}catch(u){n(u)}a||n(new Error("ERROR: generator returned 'undefined' value and is not iterable"));let{done:o,value:s}=a||{done:!0,value:null};if(o)n(null,s);else if(s&&typeof s.then=="function"&&typeof s.catch=="function")s.then(u=>e(u,n),n);else{let u=setTimeout(()=>{e(s,n),clearTimeout(u)},0)}}}w();_();function GP(t,e){let r;return function*(){do{let a=t();a&&typeof a.then=="function"&&typeof a.catch=="function"?yield a.then(o=>(r=o,r),o=>Promise.reject(o)):(r=a,yield r)}while(e(r))}}w();_();function G7t(t=0){return new Promise(e=>{let r=setTimeout(function(){clearTimeout(r),e()},t)})}function HP(t,e){let r,n=!0,{times:a,timeout:o}=e;return function*(){do{a--;let u=n||typeof o!="number"||o===0?t():(()=>G7t(o).then(t).catch(f=>Promise.reject(f)))();n=!1,u&&typeof u.then=="function"&&typeof u.catch=="function"?yield u.then(f=>(r={__isRejected:!1,e:null,value:f},r),f=>(r={__isRejected:!0,e:f,value:null},r)):(r={__isRejected:!1,e:null,value:u},yield r)}while(a&&r&&Object.hasOwnProperty.call(r,"__isRejected"));return r}}w();_();function H7t(t,e){return t.map(r=>{let n=typeof e=="object"?Array.isArray(e)?Object.assign([],e):Object.assign({},e):e;return typeof r=="function"?r(n):r})}function KP(t){return function*(){let r,n;for(;t.length;)r=t.shift(),Array.isArray(r)?n=yield Promise.all(H7t(r,n)).then(o=>Array.isArray(n)?n.concat(o):o).catch(o=>Promise.reject(o)):r!==void 0&&(n=yield r(n));return n}}var Bc={safeAssign:qP,map:UP,parallel:jP,handleRecursiveParallel:$P,settle:VP,iterator:WP,doWhilst:GP,retry:HP,series:KP};function K7t(t){return t&&typeof t=="object"}function Pb(t,e){return{success:t,failure:typeof e=="function"?e:void 0}}var Hr=class extends Promise{constructor(e){super(e)}then(e,r){return super.then(e,r)}try(e,r){let{success:n,failure:a}=Pb(function(o){try{return typeof e=="function"?e(o):Hr.reject(new TypeError("ERROR: try expects onSuccess handler to be a function"))}catch(s){return Hr.reject(s)}},r);return this.then(n,a)}spread(e,r){let{success:n,failure:a}=Pb(function(o){return typeof o[Symbol.iterator]!="function"?Hr.reject(new TypeError("ERROR: spread expects input to be iterable")):typeof e!="function"?Hr.reject(new TypeError("ERROR: spread expects onSuccess handler to be a function")):e(...o)},r);return this.then(n,a)}map(e,r,n){typeof r=="number"&&(n=r,r=void 0);let{success:a,failure:o}=Pb(function(s){return Array.isArray(s)?typeof e!="function"?Hr.reject(new TypeError("ERROR: map expects onSuccess handler to be a function")):Hr.map(s,n,e):Hr.reject(new TypeError("ERROR: map expects input to be an array"))},r);return this.then(a,o)}each(e,r,n){typeof r=="number"&&(n=r,r=void 0);let{success:a,failure:o}=Pb(function(s){return Array.isArray(s)?typeof e!="function"?Hr.reject(new TypeError("ERROR: each expects onSuccess handler to be a function")):Hr.each(s,n,e):Hr.reject(new TypeError("ERROR: each expects input to be an array"))},r);return this.then(a,o)}settle(e,r){let{success:n,failure:a}=Pb(function(o){if(!Array.isArray(o))return Hr.reject(new TypeError("ERROR: settle expects input to be an array"));if(typeof e!="function")return Hr.reject(new TypeError("ERROR: settle expects onSuccess handler to be a function"));let s=o.map(u=>()=>e(u));return Hr.settle(s)},r);return this.then(n,a)}retry(e,r,n){r&&typeof r=="object"&&(n=r,r=void 0);let{success:a,failure:o}=Pb(function(s){return typeof e!="function"?Hr.reject(new TypeError("ERROR: retry expects onSuccess handler to be a function")):Hr.retry(()=>e(s),n)},r);return this.then(a,o)}finally(e){let r=()=>typeof e=="function"?e():Hr.reject(new TypeError("ERROR: finally expects handler to be a function"));return this.then(r,r)}static promisify(e,r){let n=function(...a){return new Hr((o,s)=>{a.push(function(u,f){u?s(u):o(f)}),e.apply(this,a)})};return r?n.bind(r):n}static promisifyAll(e,r,n){let a=Object.assign({readonly:!0,recursive:!1},n),o=Object.create(e);a.readonly?o=Bc.safeAssign(e):o=Object.assign(o,e);let s={};return Object.keys(o).forEach(u=>{if(typeof o[u]=="function")s[`${u}Async`]=r?this.promisify(o[u],r):this.promisify(o[u]);else if(a.recursive){let f=o[u];K7t(f)&&(s[u]=this.promisifyAll(f,r,a))}}),s}static series(e){return Hr.iterate(Bc.series(e),null)}static pipe(e){return function(...r){let n=Object.assign([],e),a=n[0];return n[0]=function(){return a(...r)},Hr.series(n)}}static compose(e){return Hr.pipe(e.reverse())}static map(e,r,n){let a=typeof r=="function"?r:n;return typeof r!="number"&&(r=1),Hr.promisify(Bc.map)(a,e,r)}static each(e,r,n){return Hr.map(e,r,n).then(()=>e)}static parallel(e,r,n={}){let{recursive:a=!1,concurrency:o}=n;return a&&(e=Bc.handleRecursiveParallel(e)),Hr.promisify(Bc.parallel)(e,r,o)}static settle(e,r){return Hr.promisify(Bc.settle)(e,r)}static iterate(e,r){let n=Bc.iterator(e(r));return Hr.promisify(n)(r)}static doWhilst(e,r){return Hr.iterate(Bc.doWhilst(e,r),null)}static sleep(e){return new Hr(r=>{setTimeout(()=>{r()},e)})}static retry(e,r){let{times:n=3,timeout:a=0}=r||{};return Hr.iterate(Bc.retry(e,{times:n,timeout:a}),null).then(o=>{let{__isRejected:s,e:u,value:f}=o;return s?Hr.reject(u):Hr.resolve(f)})}};w();_();var gk={};tl(gk,{DateTime:()=>Wt,Duration:()=>Jr,FixedOffsetZone:()=>oa,IANAZone:()=>Za,Info:()=>qc,Interval:()=>bi,InvalidZone:()=>bv,Settings:()=>hi,SystemZone:()=>Fl,VERSION:()=>bPt,Zone:()=>Ds});w();_();w();_();w();_();w();_();var rp=class extends Error{},ik=class extends rp{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},ak=class extends rp{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},ok=class extends rp{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},np=class extends rp{},qb=class extends rp{constructor(e){super(`Invalid unit ${e}`)}},Mo=class extends rp{},Ol=class extends rp{constructor(){super("Zone is an abstract class")}};w();_();w();_();w();_();var er="numeric",Rl="short",wu="long",zb={year:er,month:er,day:er},wS={year:er,month:Rl,day:er},ZP={year:er,month:Rl,day:er,weekday:Rl},xS={year:er,month:wu,day:er},_S={year:er,month:wu,day:er,weekday:wu},SS={hour:er,minute:er},ES={hour:er,minute:er,second:er},MS={hour:er,minute:er,second:er,timeZoneName:Rl},AS={hour:er,minute:er,second:er,timeZoneName:wu},NS={hour:er,minute:er,hourCycle:"h23"},TS={hour:er,minute:er,second:er,hourCycle:"h23"},DS={hour:er,minute:er,second:er,hourCycle:"h23",timeZoneName:Rl},kS={hour:er,minute:er,second:er,hourCycle:"h23",timeZoneName:wu},IS={year:er,month:er,day:er,hour:er,minute:er},CS={year:er,month:er,day:er,hour:er,minute:er,second:er},OS={year:er,month:Rl,day:er,hour:er,minute:er},RS={year:er,month:Rl,day:er,hour:er,minute:er,second:er},JP={year:er,month:Rl,day:er,weekday:Rl,hour:er,minute:er},FS={year:er,month:wu,day:er,hour:er,minute:er,timeZoneName:Rl},BS={year:er,month:wu,day:er,hour:er,minute:er,second:er,timeZoneName:Rl},LS={year:er,month:wu,day:er,weekday:wu,hour:er,minute:er,timeZoneName:wu},PS={year:er,month:wu,day:er,weekday:wu,hour:er,minute:er,second:er,timeZoneName:wu};w();_();function tn(t){return typeof t=="undefined"}function Lc(t){return typeof t=="number"}function qS(t){return typeof t=="number"&&t%1===0}function L_e(t){return typeof t=="string"}function P_e(t){return Object.prototype.toString.call(t)==="[object Date]"}function sk(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function q_e(t){return Array.isArray(t)?t:[t]}function XP(t,e,r){if(t.length!==0)return t.reduce((n,a)=>{let o=[e(a),a];return n&&r(n[0],o[0])===n[0]?n:o},null)[1]}function z_e(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Fd(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Pc(t,e,r){return qS(t)&&t>=e&&t<=r}function Z7t(t,e){return t-e*Math.floor(t/e)}function ba(t,e=2){let r=t<0,n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function ip(t){if(!(tn(t)||t===null||t===""))return parseInt(t,10)}function Bd(t){if(!(tn(t)||t===null||t===""))return parseFloat(t)}function zS(t){if(!(tn(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Ub(t,e,r=!1){let n=ir(10,e);return(r?Math.trunc:Math.round)(t*n)/n}function vv(t){return t%4===0&&(t%100!==0||t%400===0)}function gv(t){return vv(t)?366:365}function jb(t,e){let r=Z7t(e-1,12)+1,n=t+(e-r)/12;return r===2?vv(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function US(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function $b(t){let e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,r=t-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return e===4||n===3?53:52}function jS(t){return t>99?t:t>60?1900+t:2e3+t}function uk(t,e,r,n=null){let a=new Date(t),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);let s=It({timeZoneName:e},o),u=new Intl.DateTimeFormat(r,s).formatToParts(a).find(f=>f.type.toLowerCase()==="timezonename");return u?u.value:null}function yv(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);let n=parseInt(e,10)||0,a=r<0||Object.is(r,-0)?-n:n;return r*60+a}function QP(t){let e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Mo(`Invalid unit value ${t}`);return e}function Vb(t,e){let r={};for(let n in t)if(Fd(t,n)){let a=t[n];if(a==null)continue;r[e(n)]=QP(a)}return r}function Ld(t,e){let r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),a=t>=0?"+":"-";switch(e){case"short":return`${a}${ba(r,2)}:${ba(n,2)}`;case"narrow":return`${a}${r}${n>0?`:${n}`:""}`;case"techie":return`${a}${ba(r,2)}${ba(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function $S(t){return z_e(t,["hour","minute","second","millisecond"])}var eq=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;var J7t=["January","February","March","April","May","June","July","August","September","October","November","December"],tq=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Y7t=["J","F","M","A","M","J","J","A","S","O","N","D"];function rq(t){switch(t){case"narrow":return[...Y7t];case"short":return[...tq];case"long":return[...J7t];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var nq=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],iq=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],X7t=["M","T","W","T","F","S","S"];function aq(t){switch(t){case"narrow":return[...X7t];case"short":return[...iq];case"long":return[...nq];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var oq=["AM","PM"],Q7t=["Before Christ","Anno Domini"],eLt=["BC","AD"],tLt=["B","A"];function sq(t){switch(t){case"narrow":return[...tLt];case"short":return[...eLt];case"long":return[...Q7t];default:return null}}function U_e(t){return oq[t.hour<12?0:1]}function j_e(t,e){return aq(e)[t.weekday-1]}function $_e(t,e){return rq(e)[t.month-1]}function V_e(t,e){return sq(e)[t.year<0?0:1]}function W_e(t,e,r="always",n=!1){let a={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&o){let h=t==="days";switch(e){case 1:return h?"tomorrow":`next ${a[t][0]}`;case-1:return h?"yesterday":`last ${a[t][0]}`;case 0:return h?"today":`this ${a[t][0]}`;default:}}let s=Object.is(e,-0)||e<0,u=Math.abs(e),f=u===1,l=a[t],c=n?f?l[1]:l[2]||l[1]:f?a[t][0]:t;return s?`${u} ${c} ago`:`in ${u} ${c}`}function G_e(t,e){let r="";for(let n of t)n.literal?r+=n.val:r+=e(n.val);return r}var rLt={D:zb,DD:wS,DDD:xS,DDDD:_S,t:SS,tt:ES,ttt:MS,tttt:AS,T:NS,TT:TS,TTT:DS,TTTT:kS,f:IS,ff:OS,fff:FS,ffff:LS,F:CS,FF:RS,FFF:BS,FFFF:PS},Ka=class{static create(e,r={}){return new Ka(e,r)}static parseFormat(e){let r=null,n="",a=!1,o=[];for(let s=0;s<e.length;s++){let u=e.charAt(s);u==="'"?(n.length>0&&o.push({literal:a,val:n}),r=null,n="",a=!a):a||u===r?n+=u:(n.length>0&&o.push({literal:!1,val:n}),n=u,r=u)}return n.length>0&&o.push({literal:a,val:n}),o}static macroTokenToFormatOpts(e){return rLt[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,It(It({},this.opts),r)).format()}formatDateTime(e,r={}){return this.loc.dtFormatter(e,It(It({},this.opts),r)).format()}formatDateTimeParts(e,r={}){return this.loc.dtFormatter(e,It(It({},this.opts),r)).formatToParts()}resolvedOptions(e,r={}){return this.loc.dtFormatter(e,It(It({},this.opts),r)).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return ba(e,r);let n=It({},this.opts);return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){let n=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(g,b)=>this.loc.extract(e,g,b),s=g=>e.isOffsetFixed&&e.offset===0&&g.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,g.format):"",u=()=>n?U_e(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),f=(g,b)=>n?$_e(e,g):o(b?{month:g}:{month:g,day:"numeric"},"month"),l=(g,b)=>n?j_e(e,g):o(b?{weekday:g}:{weekday:g,month:"long",day:"numeric"},"weekday"),c=g=>{let b=Ka.macroTokenToFormatOpts(g);return b?this.formatWithSystemDefault(e,b):g},h=g=>n?V_e(e,g):o({era:g},"era"),m=g=>{switch(g){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return u();case"d":return a?o({day:"numeric"},"day"):this.num(e.day);case"dd":return a?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return a?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return a?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return f("short",!0);case"LLLL":return f("long",!0);case"LLLLL":return f("narrow",!0);case"M":return a?o({month:"numeric"},"month"):this.num(e.month);case"MM":return a?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return f("short",!1);case"MMMM":return f("long",!1);case"MMMMM":return f("narrow",!1);case"y":return a?o({year:"numeric"},"year"):this.num(e.year);case"yy":return a?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return a?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return a?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(g)}};return G_e(Ka.parseFormat(r),m)}formatDurationFromString(e,r){let n=f=>{switch(f[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},a=f=>l=>{let c=n(l);return c?this.num(f.get(c),l.length):l},o=Ka.parseFormat(r),s=o.reduce((f,{literal:l,val:c})=>l?f:f.concat(c),[]),u=e.shiftTo(...s.map(n).filter(f=>f));return G_e(o,a(u))}};w();_();var Ao=class{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};w();_();w();_();w();_();w();_();var Ds=class{get type(){throw new Ol}get name(){throw new Ol}get ianaName(){return this.name}get isUniversal(){throw new Ol}offsetName(e,r){throw new Ol}formatOffset(e,r){throw new Ol}offset(e){throw new Ol}equals(e){throw new Ol}get isValid(){throw new Ol}};var fq=null,Fl=class extends Ds{static get instance(){return fq===null&&(fq=new Fl),fq}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return uk(e,r,n)}formatOffset(e,r){return Ld(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}};w();_();var lk={};function nLt(t){return lk[t]||(lk[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),lk[t]}var iLt={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function aLt(t,e){let r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,a,o,s,u,f,l,c]=n;return[s,a,o,u,f,l,c]}function oLt(t,e){let r=t.formatToParts(e),n=[];for(let a=0;a<r.length;a++){let{type:o,value:s}=r[a],u=iLt[o];o==="era"?n[u]=s:tn(u)||(n[u]=parseInt(s,10))}return n}var fk={},Za=class extends Ds{static create(e){return fk[e]||(fk[e]=new Za(e)),fk[e]}static resetCache(){fk={},lk={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(r){return!1}}constructor(e){super(),this.zoneName=e,this.valid=Za.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return uk(e,r,n,this.name)}formatOffset(e,r){return Ld(this.offset(e),r)}offset(e){let r=new Date(e);if(isNaN(r))return NaN;let n=nLt(this.name),[a,o,s,u,f,l,c]=n.formatToParts?oLt(n,r):aLt(n,r);u==="BC"&&(a=-Math.abs(a)+1);let m=US({year:a,month:o,day:s,hour:f===24?0:f,minute:l,second:c,millisecond:0}),g=+r,b=g%1e3;return g-=b>=0?b:1e3+b,(m-g)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}};w();_();w();_();var lq=null,oa=class extends Ds{static get utcInstance(){return lq===null&&(lq=new oa(0)),lq}static instance(e){return e===0?oa.utcInstance:new oa(e)}static parseSpecifier(e){if(e){let r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new oa(yv(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Ld(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Ld(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Ld(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}};w();_();var bv=class extends Ds{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function Bl(t,e){let r;if(tn(t)||t===null)return e;if(t instanceof Ds)return t;if(L_e(t)){let n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?Fl.instance:n==="utc"||n==="gmt"?oa.utcInstance:oa.parseSpecifier(n)||Za.create(t)}else return Lc(t)?oa.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new bv(t)}var H_e=()=>Date.now(),K_e="system",Z_e=null,J_e=null,Y_e=null,X_e,hi=class{static get now(){return H_e}static set now(e){H_e=e}static set defaultZone(e){K_e=e}static get defaultZone(){return Bl(K_e,Fl.instance)}static get defaultLocale(){return Z_e}static set defaultLocale(e){Z_e=e}static get defaultNumberingSystem(){return J_e}static set defaultNumberingSystem(e){J_e=e}static get defaultOutputCalendar(){return Y_e}static set defaultOutputCalendar(e){Y_e=e}static get throwOnInvalid(){return X_e}static set throwOnInvalid(e){X_e=e}static resetCaches(){Qn.resetCache(),Za.resetCache()}};var Q_e={};function sLt(t,e={}){let r=JSON.stringify([t,e]),n=Q_e[r];return n||(n=new Intl.ListFormat(t,e),Q_e[r]=n),n}var cq={};function hq(t,e={}){let r=JSON.stringify([t,e]),n=cq[r];return n||(n=new Intl.DateTimeFormat(t,e),cq[r]=n),n}var pq={};function uLt(t,e={}){let r=JSON.stringify([t,e]),n=pq[r];return n||(n=new Intl.NumberFormat(t,e),pq[r]=n),n}var dq={};function fLt(t,e={}){let s=e,{base:r}=s,n=MC(s,["base"]),a=JSON.stringify([t,n]),o=dq[a];return o||(o=new Intl.RelativeTimeFormat(t,e),dq[a]=o),o}var VS=null;function lLt(){return VS||(VS=new Intl.DateTimeFormat().resolvedOptions().locale,VS)}function cLt(t){let e=t.indexOf("-u-");if(e===-1)return[t];{let r,n=t.substring(0,e);try{r=hq(t).resolvedOptions()}catch(s){r=hq(n).resolvedOptions()}let{numberingSystem:a,calendar:o}=r;return[n,a,o]}}function hLt(t,e,r){return(r||e)&&(t+="-u",r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function pLt(t){let e=[];for(let r=1;r<=12;r++){let n=Wt.utc(2016,r,1);e.push(t(n))}return e}function dLt(t){let e=[];for(let r=1;r<=7;r++){let n=Wt.utc(2016,11,13+r);e.push(t(n))}return e}function ck(t,e,r,n,a){let o=t.listingMode(r);return o==="error"?null:o==="en"?n(e):a(e)}function mLt(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}var mq=class{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let u=n,{padTo:a,floor:o}=u,s=MC(u,["padTo","floor"]);if(!r||Object.keys(s).length>0){let f=It({useGrouping:!1},n);n.padTo>0&&(f.minimumIntegerDigits=n.padTo),this.inf=uLt(e,f)}}format(e){if(this.inf){let r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{let r=this.floor?Math.floor(e):Ub(e,3);return ba(r,this.padTo)}}},vq=class{constructor(e,r,n){this.opts=n;let a;if(e.zone.isUniversal){let s=-1*(e.offset/60),u=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;e.offset!==0&&Za.create(u).valid?(a=u,this.dt=e):(a="UTC",n.timeZoneName?this.dt=e:this.dt=e.offset===0?e:Wt.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,a=e.zone.name);let o=It({},this.opts);a&&(o.timeZone=a),this.dtf=hq(r,o)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}},gq=class{constructor(e,r,n){this.opts=It({style:"long"},n),!r&&sk()&&(this.rtf=fLt(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):W_e(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}},Qn=class{static fromOpts(e){return Qn.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,r,n,a=!1){let o=e||hi.defaultLocale,s=o||(a?"en-US":lLt()),u=r||hi.defaultNumberingSystem,f=n||hi.defaultOutputCalendar;return new Qn(s,u,f,o)}static resetCache(){VS=null,cq={},pq={},dq={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n}={}){return Qn.create(e,r,n)}constructor(e,r,n,a){let[o,s,u]=cLt(e);this.locale=o,this.numberingSystem=r||s||null,this.outputCalendar=n||u||null,this.intl=hLt(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=mLt(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Qn.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone(Va(It({},e),{defaultToEN:!0}))}redefaultToSystem(e={}){return this.clone(Va(It({},e),{defaultToEN:!1}))}months(e,r=!1,n=!0){return ck(this,e,n,rq,()=>{let a=r?{month:e,day:"numeric"}:{month:e},o=r?"format":"standalone";return this.monthsCache[o][e]||(this.monthsCache[o][e]=pLt(s=>this.extract(s,a,"month"))),this.monthsCache[o][e]})}weekdays(e,r=!1,n=!0){return ck(this,e,n,aq,()=>{let a=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},o=r?"format":"standalone";return this.weekdaysCache[o][e]||(this.weekdaysCache[o][e]=dLt(s=>this.extract(s,a,"weekday"))),this.weekdaysCache[o][e]})}meridiems(e=!0){return ck(this,void 0,e,()=>oq,()=>{if(!this.meridiemCache){let r={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Wt.utc(2016,11,13,9),Wt.utc(2016,11,13,19)].map(n=>this.extract(n,r,"dayperiod"))}return this.meridiemCache})}eras(e,r=!0){return ck(this,e,r,sq,()=>{let n={era:e};return this.eraCache[e]||(this.eraCache[e]=[Wt.utc(-40,1,1),Wt.utc(2017,1,1)].map(a=>this.extract(a,n,"era"))),this.eraCache[e]})}extract(e,r,n){let a=this.dtFormatter(e,r),o=a.formatToParts(),s=o.find(u=>u.type.toLowerCase()===n);return s?s.value:null}numberFormatter(e={}){return new mq(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new vq(e,this.intl,r)}relFormatter(e={}){return new gq(this.intl,this.isEnglish(),e)}listFormatter(e={}){return sLt(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}};w();_();function Gb(...t){let e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function Hb(...t){return e=>t.reduce(([r,n,a],o)=>{let[s,u,f]=o(e,a);return[It(It({},r),s),u||n,f]},[{},null,1]).slice(0,2)}function Kb(t,...e){if(t==null)return[null,null];for(let[r,n]of e){let a=r.exec(t);if(a)return n(a)}return[null,null]}function tSe(...t){return(e,r)=>{let n={},a;for(a=0;a<t.length;a++)n[t[a]]=ip(e[r+a]);return[n,null,r+a]}}var rSe=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,vLt=`(?:${rSe.source}?(?:\\[(${eq.source})\\])?)?`,yq=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,nSe=RegExp(`${yq.source}${vLt}`),bq=RegExp(`(?:T${nSe.source})?`),gLt=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,yLt=/(\d{4})-?W(\d\d)(?:-?(\d))?/,bLt=/(\d{4})-?(\d{3})/,wLt=tSe("weekYear","weekNumber","weekDay"),xLt=tSe("year","ordinal"),_Lt=/(\d{4})-(\d\d)-(\d\d)/,iSe=RegExp(`${yq.source} ?(?:${rSe.source}|(${eq.source}))?`),SLt=RegExp(`(?: ${iSe.source})?`);function Wb(t,e,r){let n=t[e];return tn(n)?r:ip(n)}function ELt(t,e){return[{year:Wb(t,e),month:Wb(t,e+1,1),day:Wb(t,e+2,1)},null,e+3]}function Zb(t,e){return[{hours:Wb(t,e,0),minutes:Wb(t,e+1,0),seconds:Wb(t,e+2,0),milliseconds:zS(t[e+3])},null,e+4]}function WS(t,e){let r=!t[e]&&!t[e+1],n=yv(t[e+1],t[e+2]),a=r?null:oa.instance(n);return[{},a,e+3]}function GS(t,e){let r=t[e]?Za.create(t[e]):null;return[{},r,e+1]}var MLt=RegExp(`^T?${yq.source}$`),ALt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function NLt(t){let[e,r,n,a,o,s,u,f,l]=t,c=e[0]==="-",h=f&&f[0]==="-",m=(g,b=!1)=>g!==void 0&&(b||g&&c)?-g:g;return[{years:m(Bd(r)),months:m(Bd(n)),weeks:m(Bd(a)),days:m(Bd(o)),hours:m(Bd(s)),minutes:m(Bd(u)),seconds:m(Bd(f),f==="-0"),milliseconds:m(zS(l),h)}]}var TLt={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function wq(t,e,r,n,a,o,s){let u={year:e.length===2?jS(ip(e)):ip(e),month:tq.indexOf(r)+1,day:ip(n),hour:ip(a),minute:ip(o)};return s&&(u.second=ip(s)),t&&(u.weekday=t.length>3?nq.indexOf(t)+1:iq.indexOf(t)+1),u}var DLt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function kLt(t){let[,e,r,n,a,o,s,u,f,l,c,h]=t,m=wq(e,a,n,r,o,s,u),g;return f?g=TLt[f]:l?g=0:g=yv(c,h),[m,new oa(g)]}function ILt(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var CLt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,OLt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,RLt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function eSe(t){let[,e,r,n,a,o,s,u]=t;return[wq(e,a,n,r,o,s,u),oa.utcInstance]}function FLt(t){let[,e,r,n,a,o,s,u]=t;return[wq(e,u,r,n,a,o,s),oa.utcInstance]}var BLt=Gb(gLt,bq),LLt=Gb(yLt,bq),PLt=Gb(bLt,bq),qLt=Gb(nSe),aSe=Hb(ELt,Zb,WS,GS),zLt=Hb(wLt,Zb,WS,GS),ULt=Hb(xLt,Zb,WS,GS),jLt=Hb(Zb,WS,GS);function oSe(t){return Kb(t,[BLt,aSe],[LLt,zLt],[PLt,ULt],[qLt,jLt])}function sSe(t){return Kb(ILt(t),[DLt,kLt])}function uSe(t){return Kb(t,[CLt,eSe],[OLt,eSe],[RLt,FLt])}function fSe(t){return Kb(t,[ALt,NLt])}var $Lt=Hb(Zb);function lSe(t){return Kb(t,[MLt,$Lt])}var VLt=Gb(_Lt,SLt),WLt=Gb(iSe),GLt=Hb(Zb,WS,GS);function cSe(t){return Kb(t,[VLt,aSe],[WLt,GLt])}var HLt="Invalid Duration",hSe={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},KLt=It({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},hSe),Lf=146097/400,Jb=146097/4800,ZLt=It({years:{quarters:4,months:12,weeks:Lf/7,days:Lf,hours:Lf*24,minutes:Lf*24*60,seconds:Lf*24*60*60,milliseconds:Lf*24*60*60*1e3},quarters:{months:3,weeks:Lf/28,days:Lf/4,hours:Lf*24/4,minutes:Lf*24*60/4,seconds:Lf*24*60*60/4,milliseconds:Lf*24*60*60*1e3/4},months:{weeks:Jb/7,days:Jb,hours:Jb*24,minutes:Jb*24*60,seconds:Jb*24*60*60,milliseconds:Jb*24*60*60*1e3}},hSe),xv=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],JLt=xv.slice(0).reverse();function wv(t,e,r=!1){let n={values:r?e.values:It(It({},t.values),e.values||{}),loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy};return new Jr(n)}function YLt(t){return t<0?Math.floor(t):Math.ceil(t)}function pSe(t,e,r,n,a){let o=t[a][r],s=e[r]/o,u=Math.sign(s)===Math.sign(n[a]),f=!u&&n[a]!==0&&Math.abs(s)<=1?YLt(s):Math.trunc(s);n[a]+=f,e[r]-=f*o}function XLt(t,e){JLt.reduce((r,n)=>tn(e[n])?r:(r&&pSe(t,e,r,e,n),n),null)}var Jr=class{constructor(e){let r=e.conversionAccuracy==="longterm"||!1;this.values=e.values,this.loc=e.loc||Qn.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r?ZLt:KLt,this.isLuxonDuration=!0}static fromMillis(e,r){return Jr.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Mo(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Jr({values:Vb(e,Jr.normalizeUnit),loc:Qn.fromObject(r),conversionAccuracy:r.conversionAccuracy})}static fromDurationLike(e){if(Lc(e))return Jr.fromMillis(e);if(Jr.isDuration(e))return e;if(typeof e=="object")return Jr.fromObject(e);throw new Mo(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){let[n]=fSe(e);return n?Jr.fromObject(n,r):Jr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){let[n]=lSe(e);return n?Jr.fromObject(n,r):Jr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Mo("need to specify a reason the Duration is invalid");let n=e instanceof Ao?e:new Ao(e,r);if(hi.throwOnInvalid)throw new ok(n);return new Jr({invalid:n})}static normalizeUnit(e){let r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new qb(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){let n=Va(It({},r),{floor:r.round!==!1&&r.floor!==!1});return this.isValid?Ka.create(this.loc,n).formatDurationFromString(this,e):HLt}toHuman(e={}){let r=xv.map(n=>{let a=this.values[n];return tn(a)?null:this.loc.numberFormatter(Va(It({style:"unit",unitDisplay:"long"},e),{unit:n.slice(0,-1)})).format(a)}).filter(n=>n);return this.loc.listFormatter(It({type:"conjunction",style:e.listStyle||"narrow"},e)).format(r)}toObject(){return this.isValid?It({},this.values):{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Ub(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let r=this.toMillis();if(r<0||r>=864e5)return null;e=It({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);let n=this.shiftTo("hours","minutes","seconds","milliseconds"),a=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(a+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||n.milliseconds!==0)&&(a+=".SSS"));let o=n.toFormat(a);return e.includePrefix&&(o="T"+o),o}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let r=Jr.fromDurationLike(e),n={};for(let a of xv)(Fd(r.values,a)||Fd(this.values,a))&&(n[a]=r.get(a)+this.get(a));return wv(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let r=Jr.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;let r={};for(let n of Object.keys(this.values))r[n]=QP(e(this.values[n],n));return wv(this,{values:r},!0)}get(e){return this[Jr.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let r=It(It({},this.values),Vb(e,Jr.normalizeUnit));return wv(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n}={}){let a=this.loc.clone({locale:e,numberingSystem:r}),o={loc:a};return n&&(o.conversionAccuracy=n),wv(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return XLt(this.matrix,e),wv(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(s=>Jr.normalizeUnit(s));let r={},n={},a=this.toObject(),o;for(let s of xv)if(e.indexOf(s)>=0){o=s;let u=0;for(let l in n)u+=this.matrix[l][s]*n[l],n[l]=0;Lc(a[s])&&(u+=a[s]);let f=Math.trunc(u);r[s]=f,n[s]=(u*1e3-f*1e3)/1e3;for(let l in a)xv.indexOf(l)>xv.indexOf(s)&&pSe(this.matrix,a,l,r,s)}else Lc(a[s])&&(n[s]=a[s]);for(let s in n)n[s]!==0&&(r[o]+=s===o?n[s]:n[s]/this.matrix[o][s]);return wv(this,{values:r},!0).normalize()}negate(){if(!this.isValid)return this;let e={};for(let r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return wv(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,a){return n===void 0||n===0?a===void 0||a===0:n===a}for(let n of xv)if(!r(this.values[n],e.values[n]))return!1;return!0}};w();_();var HS="Invalid Interval";function QLt(t,e){return!t||!t.isValid?bi.invalid("missing or invalid start"):!e||!e.isValid?bi.invalid("missing or invalid end"):e<t?bi.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var bi=class{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Mo("need to specify a reason the Interval is invalid");let n=e instanceof Ao?e:new Ao(e,r);if(hi.throwOnInvalid)throw new ak(n);return new bi({invalid:n})}static fromDateTimes(e,r){let n=Yb(e),a=Yb(r),o=QLt(n,a);return o==null?new bi({start:n,end:a}):o}static after(e,r){let n=Jr.fromDurationLike(r),a=Yb(e);return bi.fromDateTimes(a,a.plus(n))}static before(e,r){let n=Jr.fromDurationLike(r),a=Yb(e);return bi.fromDateTimes(a.minus(n),a)}static fromISO(e,r){let[n,a]=(e||"").split("/",2);if(n&&a){let o,s;try{o=Wt.fromISO(n,r),s=o.isValid}catch(l){s=!1}let u,f;try{u=Wt.fromISO(a,r),f=u.isValid}catch(l){f=!1}if(s&&f)return bi.fromDateTimes(o,u);if(s){let l=Jr.fromISO(a,r);if(l.isValid)return bi.after(o,l)}else if(f){let l=Jr.fromISO(n,r);if(l.isValid)return bi.before(u,l)}}return bi.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let r=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(r,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?bi.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];let r=e.map(Yb).filter(s=>this.contains(s)).sort(),n=[],{s:a}=this,o=0;for(;a<this.e;){let s=r[o]||this.e,u=+s>+this.e?this.e:s;n.push(bi.fromDateTimes(a,u)),a=u,o+=1}return n}splitBy(e){let r=Jr.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,a=1,o,s=[];for(;n<this.e;){let u=this.start.plus(r.mapUnits(f=>f*a));o=+u>+this.e?this.e:u,s.push(bi.fromDateTimes(n,o)),n=o,a+=1}return s}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:bi.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;let r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return bi.fromDateTimes(r,n)}static merge(e){let[r,n]=e.sort((a,o)=>a.s-o.s).reduce(([a,o],s)=>o?o.overlaps(s)||o.abutsStart(s)?[a,o.union(s)]:[a.concat([o]),s]:[a,s],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0,a=[],o=e.map(f=>[{time:f.s,type:"s"},{time:f.e,type:"e"}]),s=Array.prototype.concat(...o),u=s.sort((f,l)=>f.time-l.time);for(let f of u)n+=f.type==="s"?1:-1,n===1?r=f.time:(r&&+r!=+f.time&&a.push(bi.fromDateTimes(r,f.time)),r=null);return bi.merge(a)}difference(...e){return bi.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:HS}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:HS}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:HS}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:HS}toFormat(e,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:HS}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):Jr.invalid(this.invalidReason)}mapEndpoints(e){return bi.fromDateTimes(e(this.s),e(this.e))}};w();_();var qc=class{static hasDST(e=hi.defaultZone){let r=Wt.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return Za.isValidZone(e)}static normalizeZone(e){return Bl(e,hi.defaultZone)}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:a=null,outputCalendar:o="gregory"}={}){return(a||Qn.create(r,n,o)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:a=null,outputCalendar:o="gregory"}={}){return(a||Qn.create(r,n,o)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:a=null}={}){return(a||Qn.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:a=null}={}){return(a||Qn.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Qn.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Qn.create(r,null,"gregory").eras(e)}static features(){return{relative:sk()}}};w();_();function dSe(t,e){let r=a=>a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(Jr.fromMillis(n).as("days"))}function ePt(t,e,r){let n=[["years",(u,f)=>f.year-u.year],["quarters",(u,f)=>f.quarter-u.quarter],["months",(u,f)=>f.month-u.month+(f.year-u.year)*12],["weeks",(u,f)=>{let l=dSe(u,f);return(l-l%7)/7}],["days",dSe]],a={},o,s;for(let[u,f]of n)if(r.indexOf(u)>=0){o=u;let l=f(t,e);s=t.plus({[u]:l}),s>e?(t=t.plus({[u]:l-1}),l-=1):t=s,a[u]=l}return[t,a,s,o]}function mSe(t,e,r,n){let[a,o,s,u]=ePt(t,e,r),f=e-a,l=r.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);l.length===0&&(s<e&&(s=a.plus({[u]:1})),s!==a&&(o[u]=(o[u]||0)+f/(s-a)));let c=Jr.fromObject(o,n);return l.length>0?Jr.fromMillis(f,n).shiftTo(...l).plus(c):c}w();_();w();_();var xq={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},vSe={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},tPt=xq.hanidec.replace(/[\[|\]]/g,"").split("");function gSe(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(t[r].search(xq.hanidec)!==-1)e+=tPt.indexOf(t[r]);else for(let a in vSe){let[o,s]=vSe[a];n>=o&&n<=s&&(e+=n-o)}}return parseInt(e,10)}else return e}function Pf({numberingSystem:t},e=""){return new RegExp(`${xq[t||"latn"]}${e}`)}var rPt="missing Intl.DateTimeFormat.formatToParts support";function ei(t,e=r=>r){return{regex:t,deser:([r])=>e(gSe(r))}}var nPt=String.fromCharCode(160),wSe=`[ ${nPt}]`,xSe=new RegExp(wSe,"g");function iPt(t){return t.replace(/\./g,"\\.?").replace(xSe,wSe)}function ySe(t){return t.replace(/\./g,"").replace(xSe," ").toLowerCase()}function Ll(t,e){return t===null?null:{regex:RegExp(t.map(iPt).join("|")),deser:([r])=>t.findIndex(n=>ySe(r)===ySe(n))+e}}function bSe(t,e){return{regex:t,deser:([,r,n])=>yv(r,n),groups:e}}function _q(t){return{regex:t,deser:([e])=>e}}function aPt(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function oPt(t,e){let r=Pf(e),n=Pf(e,"{2}"),a=Pf(e,"{3}"),o=Pf(e,"{4}"),s=Pf(e,"{6}"),u=Pf(e,"{1,2}"),f=Pf(e,"{1,3}"),l=Pf(e,"{1,6}"),c=Pf(e,"{1,9}"),h=Pf(e,"{2,4}"),m=Pf(e,"{4,6}"),g=I=>({regex:RegExp(aPt(I.val)),deser:([C])=>C,literal:!0}),A=(I=>{if(t.literal)return g(I);switch(I.val){case"G":return Ll(e.eras("short",!1),0);case"GG":return Ll(e.eras("long",!1),0);case"y":return ei(l);case"yy":return ei(h,jS);case"yyyy":return ei(o);case"yyyyy":return ei(m);case"yyyyyy":return ei(s);case"M":return ei(u);case"MM":return ei(n);case"MMM":return Ll(e.months("short",!0,!1),1);case"MMMM":return Ll(e.months("long",!0,!1),1);case"L":return ei(u);case"LL":return ei(n);case"LLL":return Ll(e.months("short",!1,!1),1);case"LLLL":return Ll(e.months("long",!1,!1),1);case"d":return ei(u);case"dd":return ei(n);case"o":return ei(f);case"ooo":return ei(a);case"HH":return ei(n);case"H":return ei(u);case"hh":return ei(n);case"h":return ei(u);case"mm":return ei(n);case"m":return ei(u);case"q":return ei(u);case"qq":return ei(n);case"s":return ei(u);case"ss":return ei(n);case"S":return ei(f);case"SSS":return ei(a);case"u":return _q(c);case"uu":return _q(u);case"uuu":return ei(r);case"a":return Ll(e.meridiems(),0);case"kkkk":return ei(o);case"kk":return ei(h,jS);case"W":return ei(u);case"WW":return ei(n);case"E":case"c":return ei(r);case"EEE":return Ll(e.weekdays("short",!1,!1),1);case"EEEE":return Ll(e.weekdays("long",!1,!1),1);case"ccc":return Ll(e.weekdays("short",!0,!1),1);case"cccc":return Ll(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return bSe(new RegExp(`([+-]${u.source})(?::(${n.source}))?`),2);case"ZZZ":return bSe(new RegExp(`([+-]${u.source})(${n.source})?`),2);case"z":return _q(/[a-z_+-/]{1,256}?/i);default:return g(I)}})(t)||{invalidReason:rPt};return A.token=t,A}var sPt={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function uPt(t,e,r){let{type:n,value:a}=t;if(n==="literal")return{literal:!0,val:a};let o=r[n],s=sPt[n];if(typeof s=="object"&&(s=s[o]),s)return{literal:!1,val:s}}function fPt(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function lPt(t,e,r){let n=t.match(e);if(n){let a={},o=1;for(let s in r)if(Fd(r,s)){let u=r[s],f=u.groups?u.groups+1:1;!u.literal&&u.token&&(a[u.token.val[0]]=u.deser(n.slice(o,o+f))),o+=f}return[n,a]}else return[n,{}]}function cPt(t){let e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},r=null,n;return tn(t.z)||(r=Za.create(t.z)),tn(t.Z)||(r||(r=new oa(t.Z)),n=t.Z),tn(t.q)||(t.M=(t.q-1)*3+1),tn(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),tn(t.u)||(t.S=zS(t.u)),[Object.keys(t).reduce((o,s)=>{let u=e(s);return u&&(o[u]=t[s]),o},{}),r,n]}var Sq=null;function hPt(){return Sq||(Sq=Wt.fromMillis(1555555555555)),Sq}function pPt(t,e){if(t.literal)return t;let r=Ka.macroTokenToFormatOpts(t.val),n=Mq(r,e);return n==null||n.includes(void 0)?t:n}function dPt(t,e){return Array.prototype.concat(...t.map(r=>pPt(r,e)))}function Eq(t,e,r){let n=dPt(Ka.parseFormat(r),t),a=n.map(s=>oPt(s,t)),o=a.find(s=>s.invalidReason);if(o)return{input:e,tokens:n,invalidReason:o.invalidReason};{let[s,u]=fPt(a),f=RegExp(s,"i"),[l,c]=lPt(e,f,u),[h,m,g]=c?cPt(c):[null,null,void 0];if(Fd(c,"a")&&Fd(c,"H"))throw new np("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:f,rawMatches:l,matches:c,result:h,zone:m,specificOffset:g}}}function _Se(t,e,r){let{result:n,zone:a,specificOffset:o,invalidReason:s}=Eq(t,e,r);return[n,a,o,s]}function Mq(t,e){return t?Ka.create(e,t).formatDateTimeParts(hPt()).map(a=>uPt(a,e,t)):null}w();_();var SSe=[0,31,59,90,120,151,181,212,243,273,304,334],ESe=[0,31,60,91,121,152,182,213,244,274,305,335];function qf(t,e){return new Ao("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function MSe(t,e,r){let n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let a=n.getUTCDay();return a===0?7:a}function ASe(t,e,r){return r+(vv(t)?ESe:SSe)[e-1]}function NSe(t,e){let r=vv(t)?ESe:SSe,n=r.findIndex(o=>o<e),a=e-r[n];return{month:n+1,day:a}}function hk(t){let{year:e,month:r,day:n}=t,a=ASe(e,r,n),o=MSe(e,r,n),s=Math.floor((a-o+10)/7),u;return s<1?(u=e-1,s=$b(u)):s>$b(e)?(u=e+1,s=1):u=e,It({weekYear:u,weekNumber:s,weekday:o},$S(t))}function Aq(t){let{weekYear:e,weekNumber:r,weekday:n}=t,a=MSe(e,1,4),o=gv(e),s=r*7+n-a-3,u;s<1?(u=e-1,s+=gv(u)):s>o?(u=e+1,s-=gv(e)):u=e;let{month:f,day:l}=NSe(u,s);return It({year:u,month:f,day:l},$S(t))}function pk(t){let{year:e,month:r,day:n}=t,a=ASe(e,r,n);return It({year:e,ordinal:a},$S(t))}function Nq(t){let{year:e,ordinal:r}=t,{month:n,day:a}=NSe(e,r);return It({year:e,month:n,day:a},$S(t))}function TSe(t){let e=qS(t.weekYear),r=Pc(t.weekNumber,1,$b(t.weekYear)),n=Pc(t.weekday,1,7);return e?r?n?!1:qf("weekday",t.weekday):qf("week",t.week):qf("weekYear",t.weekYear)}function DSe(t){let e=qS(t.year),r=Pc(t.ordinal,1,gv(t.year));return e?r?!1:qf("ordinal",t.ordinal):qf("year",t.year)}function Tq(t){let e=qS(t.year),r=Pc(t.month,1,12),n=Pc(t.day,1,jb(t.year,t.month));return e?r?n?!1:qf("day",t.day):qf("month",t.month):qf("year",t.year)}function Dq(t){let{hour:e,minute:r,second:n,millisecond:a}=t,o=Pc(e,0,23)||e===24&&r===0&&n===0&&a===0,s=Pc(r,0,59),u=Pc(n,0,59),f=Pc(a,0,999);return o?s?u?f?!1:qf("millisecond",a):qf("second",n):qf("minute",r):qf("hour",e)}var kq="Invalid DateTime",kSe=864e13;function dk(t){return new Ao("unsupported zone",`the zone "${t.name}" is not supported`)}function Iq(t){return t.weekData===null&&(t.weekData=hk(t.c)),t.weekData}function KS(t,e){let r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Wt(Va(It(It({},r),e),{old:r}))}function PSe(t,e,r){let n=t-e*60*1e3,a=r.offset(n);if(e===a)return[n,e];n-=(a-e)*60*1e3;let o=r.offset(n);return a===o?[n,a]:[t-Math.min(a,o)*60*1e3,Math.max(a,o)]}function ISe(t,e){t+=e*60*1e3;let r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function vk(t,e,r){return PSe(US(t),e,r)}function CSe(t,e){let r=t.o,n=t.c.year+Math.trunc(e.years),a=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o=Va(It({},t.c),{year:n,month:a,day:Math.min(t.c.day,jb(n,a))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),s=Jr.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),u=US(o),[f,l]=PSe(u,r,t.zone);return s!==0&&(f+=s,l=t.zone.offset(f)),{ts:f,o:l}}function ZS(t,e,r,n,a,o){let{setZone:s,zone:u}=r;if(t&&Object.keys(t).length!==0){let f=e||u,l=Wt.fromObject(t,Va(It({},r),{zone:f,specificOffset:o}));return s?l:l.setZone(u)}else return Wt.invalid(new Ao("unparsable",`the input "${a}" can't be parsed as ${n}`))}function mk(t,e,r=!0){return t.isValid?Ka.create(Qn.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Cq(t,e){let r=t.c.year>9999||t.c.year<0,n="";return r&&t.c.year>=0&&(n+="+"),n+=ba(t.c.year,r?6:4),e?(n+="-",n+=ba(t.c.month),n+="-",n+=ba(t.c.day)):(n+=ba(t.c.month),n+=ba(t.c.day)),n}function OSe(t,e,r,n,a,o){let s=ba(t.c.hour);return e?(s+=":",s+=ba(t.c.minute),(t.c.second!==0||!r)&&(s+=":")):s+=ba(t.c.minute),(t.c.second!==0||!r)&&(s+=ba(t.c.second),(t.c.millisecond!==0||!n)&&(s+=".",s+=ba(t.c.millisecond,3))),a&&(t.isOffsetFixed&&t.offset===0&&!o?s+="Z":t.o<0?(s+="-",s+=ba(Math.trunc(-t.o/60)),s+=":",s+=ba(Math.trunc(-t.o%60))):(s+="+",s+=ba(Math.trunc(t.o/60)),s+=":",s+=ba(Math.trunc(t.o%60)))),o&&(s+="["+t.zone.ianaName+"]"),s}var qSe={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},mPt={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},vPt={ordinal:1,hour:0,minute:0,second:0,millisecond:0},zSe=["year","month","day","hour","minute","second","millisecond"],gPt=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],yPt=["year","ordinal","hour","minute","second","millisecond"];function RSe(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new qb(t);return e}function FSe(t,e){let r=Bl(e.zone,hi.defaultZone),n=Qn.fromObject(e),a=hi.now(),o,s;if(tn(t.year))o=a;else{for(let l of zSe)tn(t[l])&&(t[l]=qSe[l]);let u=Tq(t)||Dq(t);if(u)return Wt.invalid(u);let f=r.offset(a);[o,s]=vk(t,f,r)}return new Wt({ts:o,zone:r,loc:n,o:s})}function BSe(t,e,r){let n=tn(r.round)?!0:r.round,a=(s,u)=>(s=Ub(s,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(s,u)),o=s=>r.calendary?e.hasSame(t,s)?0:e.startOf(s).diff(t.startOf(s),s).get(s):e.diff(t,s).get(s);if(r.unit)return a(o(r.unit),r.unit);for(let s of r.units){let u=o(s);if(Math.abs(u)>=1)return a(u,s)}return a(t>e?-0:0,r.units[r.units.length-1])}function LSe(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}var Wt=class{constructor(e){let r=e.zone||hi.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new Ao("invalid input"):null)||(r.isValid?null:dk(r));this.ts=tn(e.ts)?hi.now():e.ts;let a=null,o=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[a,o]=[e.old.c,e.old.o];else{let u=r.offset(this.ts);a=ISe(this.ts,u),n=Number.isNaN(a.year)?new Ao("invalid input"):null,a=n?null:a,o=n?null:u}this._zone=r,this.loc=e.loc||Qn.create(),this.invalid=n,this.weekData=null,this.c=a,this.o=o,this.isLuxonDateTime=!0}static now(){return new Wt({})}static local(){let[e,r]=LSe(arguments),[n,a,o,s,u,f,l]=r;return FSe({year:n,month:a,day:o,hour:s,minute:u,second:f,millisecond:l},e)}static utc(){let[e,r]=LSe(arguments),[n,a,o,s,u,f,l]=r;return e.zone=oa.utcInstance,FSe({year:n,month:a,day:o,hour:s,minute:u,second:f,millisecond:l},e)}static fromJSDate(e,r={}){let n=P_e(e)?e.valueOf():NaN;if(Number.isNaN(n))return Wt.invalid("invalid input");let a=Bl(r.zone,hi.defaultZone);return a.isValid?new Wt({ts:n,zone:a,loc:Qn.fromObject(r)}):Wt.invalid(dk(a))}static fromMillis(e,r={}){if(Lc(e))return e<-kSe||e>kSe?Wt.invalid("Timestamp out of range"):new Wt({ts:e,zone:Bl(r.zone,hi.defaultZone),loc:Qn.fromObject(r)});throw new Mo(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(Lc(e))return new Wt({ts:e*1e3,zone:Bl(r.zone,hi.defaultZone),loc:Qn.fromObject(r)});throw new Mo("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};let n=Bl(r.zone,hi.defaultZone);if(!n.isValid)return Wt.invalid(dk(n));let a=hi.now(),o=tn(r.specificOffset)?n.offset(a):r.specificOffset,s=Vb(e,RSe),u=!tn(s.ordinal),f=!tn(s.year),l=!tn(s.month)||!tn(s.day),c=f||l,h=s.weekYear||s.weekNumber,m=Qn.fromObject(r);if((c||u)&&h)throw new np("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&u)throw new np("Can't mix ordinal dates with month/day");let g=h||s.weekday&&!c,b,A,I=ISe(a,o);g?(b=gPt,A=mPt,I=hk(I)):u?(b=yPt,A=vPt,I=pk(I)):(b=zSe,A=qSe);let C=!1;for(let j of b){let W=s[j];tn(W)?C?s[j]=A[j]:s[j]=I[j]:C=!0}let R=g?TSe(s):u?DSe(s):Tq(s),O=R||Dq(s);if(O)return Wt.invalid(O);let F=g?Aq(s):u?Nq(s):s,[z,B]=vk(F,o,n),$=new Wt({ts:z,zone:n,o:B,loc:m});return s.weekday&&c&&e.weekday!==$.weekday?Wt.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${$.toISO()}`):$}static fromISO(e,r={}){let[n,a]=oSe(e);return ZS(n,a,r,"ISO 8601",e)}static fromRFC2822(e,r={}){let[n,a]=sSe(e);return ZS(n,a,r,"RFC 2822",e)}static fromHTTP(e,r={}){let[n,a]=uSe(e);return ZS(n,a,r,"HTTP",r)}static fromFormat(e,r,n={}){if(tn(e)||tn(r))throw new Mo("fromFormat requires an input string and a format");let{locale:a=null,numberingSystem:o=null}=n,s=Qn.fromOpts({locale:a,numberingSystem:o,defaultToEN:!0}),[u,f,l,c]=_Se(s,e,r);return c?Wt.invalid(c):ZS(u,f,n,`format ${r}`,e,l)}static fromString(e,r,n={}){return Wt.fromFormat(e,r,n)}static fromSQL(e,r={}){let[n,a]=cSe(e);return ZS(n,a,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Mo("need to specify a reason the DateTime is invalid");let n=e instanceof Ao?e:new Ao(e,r);if(hi.throwOnInvalid)throw new ik(n);return new Wt({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){let n=Mq(e,Qn.fromObject(r));return n?n.map(a=>a?a.val:null).join(""):null}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Iq(this).weekYear:NaN}get weekNumber(){return this.isValid?Iq(this).weekNumber:NaN}get weekday(){return this.isValid?Iq(this).weekday:NaN}get ordinal(){return this.isValid?pk(this.c).ordinal:NaN}get monthShort(){return this.isValid?qc.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?qc.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?qc.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?qc.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return vv(this.year)}get daysInMonth(){return jb(this.year,this.month)}get daysInYear(){return this.isValid?gv(this.year):NaN}get weeksInWeekYear(){return this.isValid?$b(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:r,numberingSystem:n,calendar:a}=Ka.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:a}}toUTC(e=0,r={}){return this.setZone(oa.instance(e),r)}toLocal(){return this.setZone(hi.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=Bl(e,hi.defaultZone),e.equals(this.zone))return this;if(e.isValid){let a=this.ts;if(r||n){let o=e.offset(this.ts),s=this.toObject();[a]=vk(s,o,e)}return KS(this,{ts:a,zone:e})}else return Wt.invalid(dk(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){let a=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return KS(this,{loc:a})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let r=Vb(e,RSe),n=!tn(r.weekYear)||!tn(r.weekNumber)||!tn(r.weekday),a=!tn(r.ordinal),o=!tn(r.year),s=!tn(r.month)||!tn(r.day),u=o||s,f=r.weekYear||r.weekNumber;if((u||a)&&f)throw new np("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&a)throw new np("Can't mix ordinal dates with month/day");let l;n?l=Aq(It(It({},hk(this.c)),r)):tn(r.ordinal)?(l=It(It({},this.toObject()),r),tn(r.day)&&(l.day=Math.min(jb(l.year,l.month),l.day))):l=Nq(It(It({},pk(this.c)),r));let[c,h]=vk(l,this.o,this.zone);return KS(this,{ts:c,o:h})}plus(e){if(!this.isValid)return this;let r=Jr.fromDurationLike(e);return KS(this,CSe(this,r))}minus(e){if(!this.isValid)return this;let r=Jr.fromDurationLike(e).negate();return KS(this,CSe(this,r))}startOf(e){if(!this.isValid)return this;let r={},n=Jr.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break;case"milliseconds":break}if(n==="weeks"&&(r.weekday=1),n==="quarters"){let a=Math.ceil(this.month/3);r.month=(a-1)*3+1}return this.set(r)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,r={}){return this.isValid?Ka.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):kq}toLocaleString(e=zb,r={}){return this.isValid?Ka.create(this.loc.clone(r),e).formatDateTime(this):kq}toLocaleParts(e={}){return this.isValid?Ka.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:a=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;let s=e==="extended",u=Cq(this,s);return u+="T",u+=OSe(this,s,r,n,a,o),u}toISODate({format:e="extended"}={}){return this.isValid?Cq(this,e==="extended"):null}toISOWeekDate(){return mk(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:a=!1,extendedZone:o=!1,format:s="extended"}={}){return this.isValid?(a?"T":"")+OSe(this,s==="extended",r,e,n,o):null}toRFC2822(){return mk(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return mk(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Cq(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let a="HH:mm:ss.SSS";return(r||e)&&(n&&(a+=" "),r?a+="z":e&&(a+="ZZ")),mk(this,a,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():kq}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let r=It({},this.c);return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return Jr.invalid("created by diffing an invalid DateTime");let a=It({locale:this.locale,numberingSystem:this.numberingSystem},n),o=q_e(r).map(Jr.normalizeUnit),s=e.valueOf()>this.valueOf(),u=s?this:e,f=s?e:this,l=mSe(u,f,o,a);return s?l.negate():l}diffNow(e="milliseconds",r={}){return this.diff(Wt.now(),e,r)}until(e){return this.isValid?bi.fromDateTimes(this,e):this}hasSame(e,r){if(!this.isValid)return!1;let n=e.valueOf(),a=this.setZone(e.zone,{keepLocalTime:!0});return a.startOf(r)<=n&&n<=a.endOf(r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let r=e.base||Wt.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0,a=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(a=e.unit,o=void 0),BSe(r,this.plus(n),Va(It({},e),{numeric:"always",units:a,unit:o}))}toRelativeCalendar(e={}){return this.isValid?BSe(e.base||Wt.fromObject({},{zone:this.zone}),this,Va(It({},e),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...e){if(!e.every(Wt.isDateTime))throw new Mo("min requires all arguments be DateTimes");return XP(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(Wt.isDateTime))throw new Mo("max requires all arguments be DateTimes");return XP(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){let{locale:a=null,numberingSystem:o=null}=n,s=Qn.fromOpts({locale:a,numberingSystem:o,defaultToEN:!0});return Eq(s,e,r)}static fromStringExplain(e,r,n={}){return Wt.fromFormatExplain(e,r,n)}static get DATE_SHORT(){return zb}static get DATE_MED(){return wS}static get DATE_MED_WITH_WEEKDAY(){return ZP}static get DATE_FULL(){return xS}static get DATE_HUGE(){return _S}static get TIME_SIMPLE(){return SS}static get TIME_WITH_SECONDS(){return ES}static get TIME_WITH_SHORT_OFFSET(){return MS}static get TIME_WITH_LONG_OFFSET(){return AS}static get TIME_24_SIMPLE(){return NS}static get TIME_24_WITH_SECONDS(){return TS}static get TIME_24_WITH_SHORT_OFFSET(){return DS}static get TIME_24_WITH_LONG_OFFSET(){return kS}static get DATETIME_SHORT(){return IS}static get DATETIME_SHORT_WITH_SECONDS(){return CS}static get DATETIME_MED(){return OS}static get DATETIME_MED_WITH_SECONDS(){return RS}static get DATETIME_MED_WITH_WEEKDAY(){return JP}static get DATETIME_FULL(){return FS}static get DATETIME_FULL_WITH_SECONDS(){return BS}static get DATETIME_HUGE(){return LS}static get DATETIME_HUGE_WITH_SECONDS(){return PS}};function Yb(t){if(Wt.isDateTime(t))return t;if(t&&t.valueOf&&Lc(t.valueOf()))return Wt.fromJSDate(t);if(t&&typeof t=="object")return Wt.fromObject(t);throw new Mo(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var bPt="3.0.1";var WSe=Bt(jSe(),1);function Xb(t){let{dateObject:e,dateFormat:r}=t;return r==="js"&&typeof e=="object"||typeof e=="object"&&e instanceof Date?{date:Wt.fromJSDate(e,{zone:t.time_zone}),format:"js"}:typeof r=="string"&&r!=="iso"&&r!=="js"?{date:Wt.fromFormat(e,r,{zone:t.time_zone}),format:r}:{date:Wt.fromISO(e,{zone:t.time_zone}),format:"iso"}}var wPt=[],xPt=[],$Se=[],_Pt=[],SPt=[],EPt=[],MPt=[],APt=[],GSe={year:new Date().getFullYear(),month:1,day:1,hour:0,minute:0,second:0,week:1,weekday:1,quarter_hour:1,oridinalday:1},HSe=[GSe];for(let t=0;t<=366;t++){let e=Object.assign({},GSe);t>=1&&t<=12&&(e.month=t,wPt.push(t)),t>=1&&t<=52&&(e.week=t,xPt.push(t)),t>=1&&t<=7&&(e.weekday=t,$Se.push(t)),t>=1&&t<=366&&(e.oridinalday=t,SPt.push(t)),t>=1&&t<=31&&(e.day=t,$Se.push(t)),t>=1&&t<=96&&(e.quarter_hour=t,_Pt.push(t)),t<=23&&(e.hour=t,EPt.push(t)),t<=59&&(e.minute=t,MPt.push(t)),t<=59&&(e.second=t,APt.push(t)),HSe.push(e)}function KSe({completion_percentage:t,loss:e,epoch:r,status:n,logs:a,defaultLog:o=!0}){o&&console.log({completion_percentage:t,loss:e,epoch:r,status:n,logs:a})}var ZSe=HSe;function NPt(t){let e=t/15;return e<1?1:e<2?2:e<3?3:4}function TPt(t){if(typeof t.hour=="undefined"||typeof t.minute=="undefined")throw new ReferenceError("both hour and minute are required");return t.hour*4+NPt(t.minute)}function JSe(t,e){let r=Wt.fromJSDate(t,e),n=Object.assign({},r.toObject());return n.week=r.weekNumber,n.ordinal_day=r.ordinal,n.weekday=r.weekday,n.days_in_month=r.daysInMonth,n.weekend=r.weekday===6||r.weekday===7,n.quarter_hour=TPt(n),n}function Oq({date:t,time_zone:e,dimension:r}){let n=Wt.fromJSDate(t).plus({[Rq[r]]:1}).toJSDate(),a=Wt.fromJSDate(t,{zone:e}),o=Wt.fromJSDate(n,{zone:e}),s=Wt.fromJSDate(t),u=Wt.fromJSDate(n),{year:f,month:l,day:c,ordinal:h,weekday:m,hour:g,minute:b,second:A}=a;return{year:f,month:l,day:c,hour:g,minute:b,second:A,days_in_month:a.daysInMonth,ordinal_day:h,week:a.weekNumber,weekday:m,weekend:a.weekday>=6,origin_time_zone:e,start_origin_date_string:a.toFormat(VSe),start_gmt_date_string:s.toJSDate().toUTCString(),end_origin_date_string:o.toFormat(VSe),end_gmt_date_string:u.toJSDate().toUTCString()}}var VSe="ccc, dd LLL yyyy TTT",Rq={["monthly"]:"months",["weekly"]:"weeks",["daily"]:"days",["hourly"]:"hours"},YSe={years:"yearly",weeks:"weekly",months:"monthly",days:"daily",hours:"hourly"};var Fq={includeOffset:!1,suppressMilliseconds:!0};var XSe=["years","months","weeks","days","hours"],Uf="+=+";function QSe(t={}){return 1}function eEe({outlier_property:t}={}){if(t){let e=this.data,r=(0,WSe.default)(e.map(o=>o[t])),a=this.datum[t];return r.testOutlier(a)?1:-1}else return 0}function yk(t,{mockEncodedData:e=[],includeConstants:r=!0}){let n=new Array().concat(e,r?ZSe:[]);return t.data=t.data.concat(n),t}function bk(t,{mockEncodedData:e=[],includeConstants:r=!0}){let n=new Array().concat(e,r?ZSe:[]);return t.data.splice(t.data.length-n.length,n.length),t}function tEe(t){return t.actuals=void 0,delete t.actuals,t.estimates=void 0,delete t.estimates,t}w();_();function DPt({start:t,end:e,time_zone:r}){if(!r)throw new ReferenceError("Missing required timezone");let n=Wt.fromISO(t,{zone:r}).set({month:1,day:1,hour:0,minute:0,second:0,millisecond:0}),a=Wt.fromISO(e,{zone:r}).set({month:1,day:1,hour:0,minute:0,second:0,millisecond:0}),o=[];do{if(n.isValid===!1)throw new SyntaxError("Date format is invalid, must be an ISO Date (ISO 8601 e.g. 2019-03-21T11:42:00 - YYYY-MM-DDTHH:mm:ss)");o.push(n.toJSDate()),n=n.plus({years:1})}while(n<=a);return o}function kPt({start:t,end:e,time_zone:r}){if(!r)throw new ReferenceError("Missing required timezone");let n=Wt.fromISO(t,{zone:r}).set({day:1,hour:0,minute:0,second:0,millisecond:0}),a=Wt.fromISO(e,{zone:r}).set({day:1,hour:0,minute:0,second:0,millisecond:0}),o=[];do{if(n.isValid===!1)throw new SyntaxError("Date format is invalid, must be an ISO Date (ISO 8601 e.g. 2019-03-21T11:42:00 - YYYY-MM-DDTHH:mm:ss)");o.push(n.toJSDate()),n=n.plus({months:1})}while(n<=a);return o}function IPt({start:t,end:e,weekday:r="monday",time_zone:n}){if(!n)throw new ReferenceError("Missing required timezone");let a={monday:1,1:1,tuesday:2,2:1,wednesday:3,3:1,thursday:4,4:1,friday:5,5:1,saturday:6,6:1,sunday:7,7:1,default:1},o=r.toString().toLowerCase(),s=a[o];if(!s)throw new ReferenceError(`Invalid weekday (${r}), must be either 1-7 or monday-sunday`);let u=Wt.fromISO(t,{zone:n}).set({hour:0,minute:0,second:0,millisecond:0}),f=Wt.fromISO(e,{zone:n}).set({hour:0,minute:0,second:0,millisecond:0}),l=s>=u.weekday?u.plus({days:s-u.weekday}):u.minus({days:u.weekday-s}),c=s>=f.weekday?f.plus({days:s-f.weekday}):f.minus({days:f.weekday-s}),h=[];do{if(l.isValid===!1)throw new SyntaxError("Date format is invalid, must be an ISO Date (ISO 8601 e.g. 2019-03-21T11:42:00 - YYYY-MM-DDTHH:mm:ss)");h.push(l.toJSDate()),l=l.plus({days:7})}while(l<=c);return h}function CPt({start:t,end:e,time_zone:r}){if(!r)throw new ReferenceError("Missing required timezone");let n=Wt.fromISO(t,{zone:r}).set({hour:0,minute:0,second:0,millisecond:0}),a=Wt.fromISO(e,{zone:r}).set({hour:0,minute:0,second:0,millisecond:0}),o=[];do{if(n.isValid===!1)throw new SyntaxError("Date format is invalid, must be an ISO Date (ISO 8601 e.g. 2019-03-21T11:42:00 - YYYY-MM-DDTHH:mm:ss)");o.push(n.toJSDate()),n=n.plus({days:1})}while(n<=a);return o}function OPt({start:t,end:e,time_zone:r}){if(!r)throw new ReferenceError("Missing required timezone");let n=Wt.fromISO(t,{zone:r}).set({minute:0,second:0,millisecond:0}),a=Wt.fromISO(e,{zone:r}).set({minute:0,second:0,millisecond:0}),o=[];do{if(n.isValid===!1)throw new SyntaxError("Date format is invalid, must be an ISO Date (ISO 8601 e.g. 2019-03-21T11:42:00 - YYYY-MM-DDTHH:mm:ss)");o.push(n.toJSDate()),n=n.plus({hours:1})}while(n<=a);return o}function RPt({start:t,end:e,time_zone:r}){if(!r)throw new ReferenceError("Missing required timezone");let n=Wt.fromISO(t,{zone:r}).set({second:0,millisecond:0}),a=Wt.fromISO(e,{zone:r}).set({second:0,millisecond:0}),o=[];do{if(n.isValid===!1)throw new SyntaxError("Date format is invalid, must be an ISO Date (ISO 8601 e.g. 2019-03-21T11:42:00 - YYYY-MM-DDTHH:mm:ss)");o.push(n.toJSDate()),n=n.plus({minutes:1})}while(n<=a);return o}function FPt({start:t,end:e,time_zone:r}){if(!r)throw new ReferenceError("Missing required timezone");let n=Wt.fromISO(t,{zone:r}).set({millisecond:0}),a=Wt.fromISO(e,{zone:r}).set({millisecond:0}),o=[];do{if(n.isValid===!1)throw new SyntaxError("Date format is invalid, must be an ISO Date (ISO 8601 e.g. 2019-03-21T11:42:00 - YYYY-MM-DDTHH:mm:ss)");o.push(n.toJSDate()),n=n.plus({seconds:1})}while(n<=a);return o}var xk={["yearly"]:DPt,["monthly"]:kPt,["weekly"]:IPt,["daily"]:CPt,["hourly"]:OPt,["minutely"]:RPt,["secondly"]:FPt};function Bq({DataSet:t,features:e=[]}){if(t.encoders.size){let r=new Array().concat(e),n=[];for(let a of t.encoders.keys())if(e.includes(a)){let o=r.indexOf(a);r.splice(o,1),n.push(...t.encoders.get(a).labels.map(s=>`${t.encoders.get(a).prefix}${s}`))}return Array.from(new Set(n.concat(r)))}return e}function wk({variables:t,datum:e}){return t.map(r=>{let n={feature_field_name:r,feature_field_type:"auto-detect"};return typeof e[r]=="number"?n.feature_field_type="number":typeof e[r]=="boolean"?n.feature_field_type="boolean":typeof e[r]=="string"&&(n.feature_field_type="text-encoded"),n})}function _k({independent_variables:t,dependent_variables:e,datum:r,input_independent_features:n,output_dependent_features:a,training_feature_column_options:o={},preprocessing_feature_column_options:s={}}){let u=h=>Object.keys(o).includes(h.feature_field_name)===!1,f=new Array().concat(t&&t.length&&r?wk({variables:t,datum:r}):[],n||[]),l=new Array().concat(e&&e.length&&r?wk({variables:e,datum:r}):[],a||[]);return new Array().concat(f,l).filter(u).forEach(h=>{h.feature_field_type==="text-encoded"?o[h.feature_field_name]=["onehot"]:h.feature_field_type==="text-label"?o[h.feature_field_name]=["label"]:h.feature_field_type==="boolean"?o[h.feature_field_name]=["label",{binary:!0}]:["number","auto-detect"].includes(h.feature_field_type)&&(o[h.feature_field_name]=["scale","standard"],s[h.feature_field_name]=["median"])}),{x_raw_independent_features:f.map(h=>h.feature_field_name),y_raw_dependent_labels:l.map(h=>h.feature_field_name),training_feature_column_options:o,preprocessing_feature_column_options:s}}var el=Bt(oEe(),1);w();_();var Lq=null;function sEe(t){Lq=t}function YS(){if(Lq===null)throw Error(`
============================
Howdy \u{1F44B}\u{1F44B}. Looks like you are running @jsonstack/jsonm but you haven't set a Tensorflow backend. 
To do so, simply import (or require) your tensorflow library, and call setBackend like so,

import * as tf from '@tensorflow/tfjs';
import * as jsm from '@jsonstack/jsonm';
jsm.setBackend(tf);

That will let @jsonstack/jsonm know you wish to use a tensorflow library to perform your calculations.
============================
    `);return Lq}function uEe(t){let e=YS();return Array.isArray(t)?t:t?Object.keys(t).map(r=>new e.CustomCallback({[r]:t[r]})):[]}w();_();Yq();var xC=null;xC=Ck;function PVe(t){xC=t}function _C(){if(xC===null)throw Error(`
============================
Howdy \u{1F44B}\u{1F44B}. Looks like you are running @jsonstack/model but you haven't set a ScikitJS backend. 
To do so, simply import (or require) your scikit library, and call setScikit like so,

import * as tf from '@tensorflow/tfjs';
import * as scikit from 'scikitjs';
import * as jsm from '@jsonstack/model';
jsm.setBackend(tf);
jsm.setScikit(scikit);

That will let @jsonstack/model know you wish to use a scikitjs library to perform your calculations.
============================
    `);return xC}var wZ=(u=>(u.FAST_FORECAST="ai-fast-forecast",u.FORECAST="ai-forecast",u.TIMESERIES_REGRESSION_FORECAST="ai-timeseries-regression-forecast",u.LINEAR_REGRESSION="ai-linear-regression",u.REGRESSION="ai-regression",u.CLASSIFICATION="ai-classification",u.LOGISTIC_CLASSIFICATION="ai-logistic-classification",u))(wZ||{}),xZ=(o=>(o.PREDICTION="regression",o.DECISION="classification",o.FORECAST="timeseries",o.RECOMMENDATION="recommendation",o.REACTION="reinforced",o))(xZ||{}),MXt={"ai-fast-forecast":Ms,"ai-forecast":ia,"ai-timeseries-regression-forecast":rv,"ai-linear-regression":rv,"ai-regression":gb,"ai-classification":yb,"ai-logistic-classification":bb},AXt={["ai-fast-forecast"]:"timeseries",["ai-forecast"]:"timeseries",["ai-timeseries-regression-forecast"]:"timeseries",["ai-linear-regression"]:"regression",["ai-regression"]:"regression",["ai-classification"]:"classification",["ai-logistic-classification"]:"classification"};function _Z({variable_name:t="",function_body:e="",props:r,function_name_prefix:n="next_value_"}){let a=Function("state",`'use strict';${e}`).bind({props:r});return Object.defineProperty(a,"name",{value:`${n}${t}`}),a}function SZ(t){let{property:e,rows:r,offset:n=1}=t,a=Boolean(this.reverseTransform),o=typeof this.offset=="number"?this.offset:n,s=o;if(this.debug&&o<1)throw new RangeError(`Offset must be larger than or equal to the default of 1 [property:${e}]`);let u=s,f=r+s;return this.data.slice(u,f).reduce((c,h)=>{let m=a?this.DataSet.inverseTransformObject(h):h;return c=c+m[e],c},0)}var EZ=class{constructor(e,r={}){De(this,"config");De(this,"status");De(this,"trainingData");De(this,"removedFilterdtrainingData");De(this,"use_empty_objects");De(this,"use_preprocessing_on_trainning_data");De(this,"use_next_value_functions_for_training_data");De(this,"use_mock_encoded_data");De(this,"validate_training_data");De(this,"x_independent_features");De(this,"y_dependent_labels");De(this,"x_raw_independent_features");De(this,"y_raw_dependent_labels");De(this,"original_data_test");De(this,"original_data_train");De(this,"testDataSet");De(this,"trainDataSet");De(this,"prediction_inputs");De(this,"prediction_options");De(this,"x_indep_matrix_train");De(this,"x_indep_matrix_test");De(this,"y_dep_matrix_train");De(this,"y_dep_matrix_test");De(this,"Model");De(this,"training_options");De(this,"cross_validation_options");De(this,"training_size_values");De(this,"training_model_loss");De(this,"preprocessing_feature_column_options");De(this,"training_feature_column_options");De(this,"training_data_filter_function_body");De(this,"training_data_filter_function");De(this,"training_progress_callback");De(this,"prediction_inputs_next_value_functions");De(this,"prediction_inputs_next_value_function");De(this,"prediction_timeseries_time_zone");De(this,"prediction_timeseries_date_feature");De(this,"prediction_timeseries_date_format");De(this,"retrain_forecast_model_with_predictions");De(this,"prediction_timeseries_dimension_feature");De(this,"prediction_timeseries_start_date");De(this,"prediction_timeseries_end_date");De(this,"dimension");De(this,"entity");De(this,"DataSet");De(this,"forecastDates");De(this,"emptyObject");De(this,"mockEncodedData");De(this,"debug");De(this,"tf");De(this,"scikit");De(this,"auto_assign_features");De(this,"independent_variables");De(this,"dependent_variables");De(this,"input_independent_features");De(this,"output_dependent_features");De(this,"max_evaluation_outputs");De(this,"getTimeseriesDimension");this.debug=typeof e.debug=="boolean"?e.debug:!0,this.config={use_cache:typeof e.use_cache=="boolean"?e.use_cache:!0,model_type:e.model_type||"ai-regression",use_mock_dates_to_fit_trainning_data:e.use_mock_dates_to_fit_trainning_data},this.config.model_category=AXt[this.config.model_type],this.status={trained:!1,lastTrained:void 0},this.entity=e.entity||{},this.emptyObject=e.emptyObject||{},this.mockEncodedData=e.mockEncodedData||[],this.use_empty_objects=Boolean(Object.keys(this.emptyObject).length),this.use_mock_encoded_data=Boolean(this.mockEncodedData.length),this.dimension=e.dimension,this.training_data_filter_function_body=e.training_data_filter_function_body,this.training_data_filter_function=e.training_data_filter_function,this.trainingData=e.trainingData||[],this.removedFilterdtrainingData=[],this.DataSet=e.DataSet||new Ga,this.max_evaluation_outputs=e.max_evaluation_outputs||5,this.testDataSet=e.testDataSet||new Ga,this.trainDataSet=e.trainDataSet||new Ga,this.x_indep_matrix_train=e.x_indep_matrix_train||[],this.x_indep_matrix_test=e.x_indep_matrix_test||[],this.y_dep_matrix_train=e.y_dep_matrix_train||[],this.y_dep_matrix_test=e.y_dep_matrix_test||[],this.x_independent_features=e.x_independent_features||[],this.x_raw_independent_features=e.x_raw_independent_features||[],this.y_dependent_labels=e.y_dependent_labels||[],this.y_raw_dependent_labels=e.y_raw_dependent_labels||[],this.auto_assign_features=typeof e.auto_assign_features=="boolean"?e.auto_assign_features:!0,this.independent_variables=e.independent_variables,this.dependent_variables=e.dependent_variables,this.input_independent_features=e.input_independent_features,this.output_dependent_features=e.output_dependent_features,this.use_next_value_functions_for_training_data=e.use_next_value_functions_for_training_data,this.training_size_values=e.training_size_values,this.cross_validation_options=It({train_size:.7},e.cross_validation_options),this.preprocessing_feature_column_options=e.preprocessing_feature_column_options||{},this.training_feature_column_options=e.training_feature_column_options||{};let n=e.training_options&&e.training_options.fit?e.training_options.fit:{};return this.training_options=Va(It({stateful:!0,features:this.x_independent_features.length},e.training_options),{fit:It({epochs:100,batchSize:5,verbose:0,callbacks:{}},n)}),this.training_progress_callback=e.training_progress_callback||KSe,this.training_options&&this.training_options.fit&&this.training_options.fit.callbacks&&this.training_options.fit.epochs&&(this.training_options.fit.callbacks.onEpochEnd=(a,o)=>{let s=this.training_options.fit?this.training_options.fit.epochs:0,u=a/s||0;this.training_model_loss=o.loss,this.training_progress_callback({completion_percentage:u,loss:o.loss,epoch:a,logs:o,status:"training",defaultLog:this.debug})},this.training_options.fit.callbacks.onTrainEnd=a=>{let o=this.training_options.fit?this.training_options.fit.epochs:0,s=1;this.training_progress_callback({completion_percentage:s,loss:this.training_model_loss||0,epoch:o,logs:a,status:"trained",defaultLog:this.debug})},this.training_options.fit.callbacks.onTrainBegin=a=>{let o=this.training_options.fit?this.training_options.fit.epochs:0,s=0;this.training_progress_callback({completion_percentage:s,loss:a.loss,epoch:o,logs:a,status:"initializing",defaultLog:this.debug})}),this.prediction_options=e.prediction_options||{},this.prediction_inputs=e.prediction_inputs||[],this.prediction_timeseries_time_zone=e.prediction_timeseries_time_zone||"utc",this.prediction_timeseries_date_feature=e.prediction_timeseries_date_feature||"date",this.prediction_timeseries_date_format=e.prediction_timeseries_date_format,this.validate_training_data=typeof e.validate_training_data=="boolean"?e.validate_training_data:!0,this.retrain_forecast_model_with_predictions=e.retrain_forecast_model_with_predictions,this.use_preprocessing_on_trainning_data=typeof e.use_preprocessing_on_trainning_data!="undefined"?e.use_preprocessing_on_trainning_data:!0,this.prediction_timeseries_start_date=e.prediction_timeseries_start_date,this.prediction_timeseries_end_date=e.prediction_timeseries_end_date,this.prediction_timeseries_dimension_feature=e.prediction_timeseries_dimension_feature||"dimension",this.prediction_inputs_next_value_functions=e.prediction_inputs_next_value_functions||e.next_value_functions||[],this.tf=YS(),this.scikit=_C(),this.scikit.setBackend(this.tf),Q4(this.tf),Q6(this.scikit),this.Model=e.Model||new Es,this.original_data_test=[],this.original_data_train=[],this.forecastDates=[],this.getTimeseriesDimension=EZ.calcTimeseriesDimension.bind(this),this}static calcTimeseriesDimension(e={}){let r=e.timeseries_date_format||this.prediction_timeseries_date_format,n=e.dimension||this.dimension,a=e.timeseries_date_feature||this.prediction_timeseries_date_feature,o=e.DataSetData||this.DataSet&&this.DataSet.data||[];if(n&&r)return this.dimension=n,{dimension:n,dateFormat:r};if(typeof n!="string"&&o&&Array.isArray(o)&&o.length&&(o.length&&o[0][this.prediction_timeseries_dimension_feature]&&(n=o[0][this.prediction_timeseries_dimension_feature]),o.length>1&&o[0][a])){let s=o[1][a],u=Xb({dateObject:s,dateFormat:r});r=u.format;let f=u.date,l=Xb({dateObject:o[0][a],dateFormat:r}).date,c=f.diff(l,XSe).toObject(),h=Object.keys(c).filter(m=>c[m]===1);h.length===1&&(n=YSe[h[0]])}if(typeof n!="string"||Object.keys(xk).indexOf(n)===-1)throw new ReferenceError(`Invalid timeseries dimension (${n})`);if(this.prediction_timeseries_date_format=r,this.dimension=n,typeof r=="undefined")throw new ReferenceError("Invalid timeseries date format");return{dimension:n,dateFormat:r}}getForecastDates(e={}){let r=this.prediction_timeseries_start_date&&this.prediction_timeseries_start_date instanceof Date?Wt.fromJSDate(this.prediction_timeseries_start_date).toISO(Fq):this.prediction_timeseries_start_date,n=this.prediction_timeseries_end_date instanceof Date?Wt.fromJSDate(this.prediction_timeseries_end_date).toISO(Fq):this.prediction_timeseries_end_date;if(this.dimension){if(!r||!n)throw ReferenceError("Start and End Forecast Dates are required")}else throw ReferenceError("Forecasts require a timeseries dimension");return this.forecastDates=xk[this.dimension]({start:r,end:n,time_zone:this.prediction_timeseries_time_zone}),this.forecastDates}addMockData({use_mock_dates:e=!1}={}){e&&this.use_mock_encoded_data&&this.DataSet?this.DataSet=yk(this.DataSet,{includeConstants:!0,mockEncodedData:this.mockEncodedData}):e&&this.DataSet?this.DataSet=yk(this.DataSet,{}):this.use_mock_encoded_data&&this.DataSet&&(this.DataSet=yk(this.DataSet,{includeConstants:!1,mockEncodedData:this.mockEncodedData}))}removeMockData({use_mock_dates:e=!1}={}){e&&this.use_mock_encoded_data&&this.DataSet?this.DataSet=bk(this.DataSet,{includeConstants:!0,mockEncodedData:this.mockEncodedData}):e&&this.DataSet?this.DataSet=bk(this.DataSet,{}):this.use_mock_encoded_data&&this.DataSet&&(this.DataSet=bk(this.DataSet,{includeConstants:!1,mockEncodedData:this.mockEncodedData}))}getCrosstrainingData(){let e,r;if(this.config.model_category==="timeseries"){let n=this.cross_validation_options.train_size||.7,a=this.training_size_values?this.DataSet.data.length-this.training_size_values:parseInt((this.DataSet.data.length*n).toString());e=this.DataSet.data.slice(a,this.DataSet.data.length),r=this.DataSet.data.slice(0,a)}else{let n=_B.train_test_split(this.DataSet.data,this.cross_validation_options);r=n.train,e=n.test}return{test:e,train:r}}validateTrainingData({cross_validate_training_data:e,inputMatrix:r}={inputMatrix:void 0}){let n=r||this.x_indep_matrix_train,a=r?"Prediction":"Trainning";return n.forEach((o,s)=>{o.forEach((u,f)=>{if(typeof u!="number"||isNaN(u))throw new TypeError(`${a} data (${s}) has an invalid ${this.x_independent_features[f]}. Value: ${u}`)})}),!0}getTrainingData(){return it(this,arguments,function*(e={}){e.trainingData?this.trainingData=e.trainingData:typeof e.getDataPromise=="function"&&(this.trainingData=yield e.getDataPromise({}))})}checkTrainingStatus(){return it(this,arguments,function*(e={}){return(e.retrain||this.status.trained===!1)&&(yield this.getTrainingData(e),yield this.trainModel(e)),!0})}getDataSetProperties(){return it(this,arguments,function*(e={}){let{nextValueIncludeForecastDate:r=!0,nextValueIncludeForecastTimezone:n=!0,nextValueIncludeForecastAssociations:a=!0,nextValueIncludeDateProperty:o=!0,nextValueIncludeParsedDate:s=!0,nextValueIncludeLocalParsedDate:u=!0,nextValueIncludeForecastInputs:f=!0}=e,l={Luxon:gk,JSONStackData:dy},c=this.prediction_inputs_next_value_functions.reduce((m,g)=>(m[g.variable_name]=_Z(Va(It({},g),{props:l,function_name_prefix:"next_value_"})),m),{}),h=`'use strict';
    ${this.training_data_filter_function_body}
    `;this.training_data_filter_function=this.training_data_filter_function_body?Function("datum","datumIndex",h).bind({props:l}):this.training_data_filter_function,typeof this.training_data_filter_function=="function"&&this.training_data_filter_function.name&&this.training_data_filter_function.name.includes("anonymous")&&Object.defineProperty(this.training_data_filter_function,"name",{value:"training_data_filter_function"}),this.prediction_inputs_next_value_function=function(g){let b=g.lastDataRow||{},A=b.origin_time_zone||this.prediction_timeseries_time_zone,I=g.forecastDate;g.sumPreviousRows=SZ.bind({data:g.data,DataSet:g.DataSet,offset:g.existingDatasetObjectIndex,reverseTransform:g.reverseTransform});let C={};if(r&&(C[this.prediction_timeseries_date_feature]=g.forecastDate),o&&(C.date=g.forecastDate),n&&(C.origin_time_zone=b.origin_time_zone),a&&(C.associated_data_location=b.associated_data_location?b.associated_data_location.toString():b.associated_data_location,C.associated_data_product=b.associated_data_product?b.associated_data_product.toString():b.associated_data_product,C.associated_data_entity=b.associated_data_entity?b.associated_data_entity.toString():b.associated_data_entity,C.forecast_entity_type=b.feature_entity_type?b.feature_entity_type.toString():b.forecast_entity_type,C.forecast_entity_title=b.feature_entity_title?b.feature_entity_title.toString():b.forecast_entity_title,C.forecast_entity_name=b.feature_entity_name?b.feature_entity_name.toString():b.forecast_entity_name,C.forecast_entity_id=b.feature_entity_id?b.feature_entity_id.toString():b.forecast_entity_id),s&&g.forecastDate){let R=JSe(g.forecastDate,{zone:A}),O=QSe.bind({entity:this.entity,dimension:this.dimension},{date:I,parsedDate:R,zone:A}),F=eEe.bind({entity:this.entity,data:g.data,datum:C});g.parsedDate=R,g.isOpen=O,g.isOutlier=F,Object.assign(C,R)}return u&&Object.assign(C,Oq({date:g.forecastDate,time_zone:A,dimension:this.dimension})),f&&Object.assign(C,g.rawInputPredictionObject),Object.keys(c).reduce((R,O)=>(R[O]=c[O](g),R),C)},this.config.model_category==="timeseries"&&(this.dimension=this.getTimeseriesDimension(e).dimension),this.dimension&&this.config.model_category==="timeseries"&&this.prediction_inputs&&this.prediction_inputs.length&&(!this.prediction_timeseries_start_date||!this.prediction_timeseries_end_date)&&(this.prediction_timeseries_start_date||(this.prediction_timeseries_start_date=this.prediction_inputs[0][this.prediction_timeseries_date_feature]),this.prediction_timeseries_end_date||(this.prediction_timeseries_end_date=this.prediction_inputs[this.prediction_inputs.length-1][this.prediction_timeseries_date_feature])),this.dimension&&this.config.model_category==="timeseries"&&this.prediction_timeseries_start_date&&this.prediction_timeseries_end_date&&this.getForecastDates()})}getForecastDatesFromPredictionInputs(e={}){let r=e.prediction_inputs.map(a=>{let o=a[this.prediction_timeseries_date_feature],s=o&&o instanceof Date?o:this.prediction_timeseries_date_format?Wt.fromFormat(o,this.prediction_timeseries_date_format).toJSDate():o;return Va(It({},a),{[this.prediction_timeseries_date_feature]:s})});return{forecastDates:r.map(a=>a[this.prediction_timeseries_date_feature]),raw_prediction_inputs:r}}validateTimeseriesData(){return it(this,arguments,function*(e={}){let{fixPredictionDates:r=!0}=e,n=this.dimension,a=e.prediction_inputs||(yield this.getPredictionData(e))||[],o=this.DataSet.data.length-1,s=this.DataSet.data[o],u=this.forecastDates;if(e.set_forecast_dates_for_predictions&&this.forecastDates.length<1){let A=this.getForecastDatesFromPredictionInputs(e);u=A.forecastDates,a=A.raw_prediction_inputs}let f=Xb({dateObject:s[this.prediction_timeseries_date_feature],dateFormat:this.prediction_timeseries_date_format,time_zone:this.prediction_timeseries_time_zone}),l=f.date,c=f.format,h=l.toJSDate(),m=s[this.prediction_timeseries_date_feature]instanceof Date?this.DataSet.columnArray(this.prediction_timeseries_date_feature):this.DataSet.columnArray(this.prediction_timeseries_date_feature).map(A=>Xb({dateObject:A,dateFormat:c,time_zone:this.prediction_timeseries_time_zone}).date.toJSDate()),g=m[0];r&&typeof this.prediction_timeseries_start_date=="string"&&(this.prediction_timeseries_start_date=Wt.fromISO(this.prediction_timeseries_start_date).toJSDate()),r&&this.prediction_timeseries_start_date&&this.prediction_timeseries_start_date<g&&(this.prediction_timeseries_start_date=g,u=this.getForecastDates(),console.log("modified",{forecastDates:u}));let b;if(u.length){if(b=m.findIndex(A=>A.valueOf()===u[0].valueOf()),b===-1){let A=m[m.length-1],I=u[0];Wt.fromJSDate(A,{zone:this.prediction_timeseries_time_zone}).plus({[Rq[n]]:1}).valueOf()===I.valueOf()&&(b=m.length)}if(b===-1)throw new RangeError(`Forecast Date Range (${this.prediction_timeseries_start_date} - ${this.prediction_timeseries_end_date}) must include an existing forecast date (${this.DataSet.data[0][this.prediction_timeseries_date_feature]} - ${this.DataSet.data[o][this.prediction_timeseries_date_feature]})`);if(a.length){a[0][this.prediction_timeseries_date_feature]instanceof Date||(a=a.map(O=>Object.assign({},O,{[this.prediction_timeseries_date_feature]:Xb({dateObject:O[this.prediction_timeseries_date_feature],dateFormat:c,time_zone:this.prediction_timeseries_time_zone}).date.toJSDate()})));let A=a[0][this.prediction_timeseries_date_feature],I=u[0],C=a.map(O=>O[this.prediction_timeseries_date_feature]);if(r&&I>A){let O=C.findIndex(F=>F.valueOf()===I.valueOf());a=a.slice(O),C=a.map(F=>F[this.prediction_timeseries_date_feature])}if(u.findIndex(O=>O.valueOf()===C[0].valueOf())<0)throw new RangeError(`Prediction Input First Date(${C[0]}) must be inclusive of forecastDates ( ${u[0]} - ${u[u.length-1]})`)}}return{forecastDates:u,forecastDateFirstDataSetDateIndex:b,lastOriginalForecastDate:h,raw_prediction_inputs:a,dimension:n,datasetDates:m}})}getPredictionData(){return it(this,arguments,function*(e={}){return typeof e.getPredictionInputPromise=="function"&&(this.prediction_inputs=yield e.getPredictionInputPromise({ModelX:this})),this.prediction_inputs})}trainModel(){return it(this,arguments,function*(e={}){let{cross_validate_training_data:r=!0,use_next_value_functions_for_training_data:n=!1,use_mock_dates_to_fit_trainning_data:a=!1}=e,o=MXt[this.config.model_type],s=a||this.config.use_mock_dates_to_fit_trainning_data,u=e.trainingData||this.trainingData||[];u=new Array().concat(u);let f,l;if(this.status.trained=!1,yield this.getDataSetProperties({DataSetData:u}),typeof this.training_data_filter_function=="function"&&n===!1&&(u=u.filter(this.training_data_filter_function)),!n&&this.use_empty_objects&&(u=u.map(c=>It(It({},this.emptyObject),c))),this.DataSet=new Ga(u),this.auto_assign_features&&(!this.x_independent_features||!this.x_independent_features.length)&&!this.y_dependent_labels||!this.y_dependent_labels.length){let c=_k({input_independent_features:this.input_independent_features,output_dependent_features:this.output_dependent_features,independent_variables:this.independent_variables,dependent_variables:this.dependent_variables,training_feature_column_options:this.training_feature_column_options,preprocessing_feature_column_options:this.preprocessing_feature_column_options,datum:u[0]});this.x_raw_independent_features=Array.from(new Set(new Array().concat(this.x_raw_independent_features,c.x_raw_independent_features))),this.y_raw_dependent_labels=Array.from(new Set(new Array().concat(this.y_raw_dependent_labels,c.y_raw_dependent_labels))),this.preprocessing_feature_column_options=It(It({},c.preprocessing_feature_column_options),this.preprocessing_feature_column_options),this.training_feature_column_options=It(It({},c.training_feature_column_options),this.training_feature_column_options)}if(this.use_preprocessing_on_trainning_data&&this.preprocessing_feature_column_options&&Object.keys(this.preprocessing_feature_column_options).length&&this.DataSet.fitColumns(this.preprocessing_feature_column_options),n||this.use_next_value_functions_for_training_data){let c=u.map(h=>h[this.prediction_timeseries_date_feature]);u=u.map((h,m)=>{this.prediction_timeseries_date_format&&(h[this.prediction_timeseries_date_feature]=Wt.fromFormat(h[this.prediction_timeseries_date_feature],this.prediction_timeseries_date_format).toJSDate());let g=h[this.prediction_timeseries_date_feature],b=m;h._id&&(h._id=h._id.toString()),h.feature_entity_id&&(h.feature_entity_id=h.feature_entity_id.toString());let A=this.prediction_inputs_next_value_function?this.prediction_inputs_next_value_function({rawInputPredictionObject:h,forecastDate:g,forecastDates:c,forecastPredictionIndex:b,existingDatasetObjectIndex:m,unscaledLastForecastedValue:u[m-1],data:u,DataSet:this.DataSet||new Ga,lastDataRow:u[u.length-1],reverseTransform:!1}):{};return this.use_empty_objects?Object.assign({},this.emptyObject,(0,el.default)(h,{maxDepth:2,delimiter:Uf}),(0,el.default)(A,{maxDepth:2,delimiter:Uf})):Object.assign({},h,A)}),typeof this.training_data_filter_function=="function"&&n===!0&&(u=u.filter((h,m)=>{if(this.training_data_filter_function){let g=this.training_data_filter_function(h,m);return g||this.removedFilterdtrainingData.push(h),g}})),this.DataSet=new Ga(u)}if(["is_location_open","is_open_hour","is_location_open"].forEach(c=>{this.training_feature_column_options[c]&&(this.training_feature_column_options[c]=["label",{binary:!0}])}),this.addMockData({use_mock_dates:s}),this.DataSet.fitColumns(this.training_feature_column_options),this.removeMockData({use_mock_dates:s}),this.auto_assign_features&&(!this.x_independent_features||!this.x_independent_features.length)&&(!this.y_dependent_labels||!this.y_dependent_labels.length)&&(this.x_independent_features=new Array().concat(this.x_independent_features,Bq({DataSet:this.DataSet,features:this.x_raw_independent_features})),this.y_dependent_labels=new Array().concat(this.y_dependent_labels,Bq({DataSet:this.DataSet,features:this.y_raw_dependent_labels}))),!this.x_independent_features||!this.x_independent_features.length)throw new ReferenceError("Missing Inputs (x_independent_features)");if(!this.y_dependent_labels||!this.y_dependent_labels.length)throw new ReferenceError("Missing Outputs (y_dependent_labels)");if(this.x_independent_features=Array.from(new Set(this.x_independent_features)),this.y_dependent_labels=Array.from(new Set(this.y_dependent_labels)),r){let c=this.getCrosstrainingData();f=c.test,l=c.train,this.original_data_test=c.test,this.original_data_train=c.train,this.testDataSet=new Ga(f),this.trainDataSet=new Ga(l),this.x_indep_matrix_train=this.trainDataSet.columnMatrix(this.x_independent_features),this.x_indep_matrix_test=this.testDataSet.columnMatrix(this.x_independent_features),this.y_dep_matrix_train=this.trainDataSet.columnMatrix(this.y_dependent_labels),this.y_dep_matrix_test=this.testDataSet.columnMatrix(this.y_dependent_labels)}else this.x_indep_matrix_train=this.DataSet.columnMatrix(this.x_independent_features),this.y_dep_matrix_train=this.DataSet.columnMatrix(this.y_dependent_labels);if(this.Model=new o(this.training_options,{}),this.config.model_category==="timeseries"){let c=yield this.validateTimeseriesData(e)}return this.validate_training_data&&this.validateTrainingData({cross_validate_training_data:r}),this.config.model_category==="timeseries"&&this.config.model_type==="ai-fast-forecast"?yield this.Model.train(this.x_indep_matrix_train,this.y_dep_matrix_train,void 0,void 0,void 0):yield this.Model.train(this.x_indep_matrix_train,this.y_dep_matrix_train,void 0,void 0,void 0),this.status.trained=!0,this.status.lastTrained=new Date,this})}predictModel(){return it(this,arguments,function*(e={}){Array.isArray(e)&&(e={prediction_inputs:e});let{descalePredictions:r=!0,includeInputs:n=!0,includeEvaluation:a=!1}=e,o=It(It({probability:this.config.model_category!=="classification"},this.prediction_options),e.predictionOptions),s,u,f,l,[c,h]=yield Promise.all([this.checkTrainingStatus(e),e.prediction_inputs||(yield this.getPredictionData(e))]);if(a){let{test:m,train:g}=this.getCrosstrainingData(),b=new la(m),A=b.columnMatrix(this.x_independent_features),I=b.columnMatrix(this.y_dependent_labels),C=Object.assign({},e,{x_indep_matrix_test:A,y_dep_matrix_test:I}),R=this.y_dependent_labels[0],O=yield this.evaluateModel(C);l=Object.keys(O).reduce((F,z)=>{let B=tEe(O[z]);return z===R?(F=Object.assign({},F,B),this.y_dependent_labels.length>1&&(F.data[z]=B)):F.data[z]=B,F},{data:{}})}if(this.config.model_category==="timeseries")s=yield this.timeseriesForecast(e);else{f=h,this.prediction_inputs=h.map(g=>{let b=this.use_empty_objects?Object.assign({},this.emptyObject,(0,el.default)(g,{maxDepth:2,delimiter:Uf})):g;return this.DataSet.transformObject(b,{checkColumnLength:!1})});let m=this.DataSet.columnMatrix(this.x_independent_features,this.prediction_inputs);this.validate_training_data&&this.validateTrainingData({cross_validate_training_data:!1,inputMatrix:m}),u=yield this.Model.predict(m,o),s=this.DataSet.reverseColumnMatrix({vectors:u,labels:this.y_dependent_labels})}if(r){let m=this.y_dependent_labels.reduce((b,A)=>(b[A]=0,b),{}),g=this.dimension;s=s.map((b,A)=>{let I=this.DataSet.inverseTransformObject(b,{}),C=I.is_location_open,R={};return(g==="hourly"||g==="daily")&&this.entity&&!C&&(this.debug&&console.info(`Manually fixing prediction on closed - ${g} ${I.date}`),R=Object.assign({},m)),Object.assign({},R,I,n&&this.config.model_category!=="timeseries"?f[A]:{},a?{__evaluation:l}:{})})}else n&&this.config.model_category!=="timeseries"&&(s=s.map((m,g)=>Object.assign({},this.DataSet.inverseTransformObject(m,{}),n?this.prediction_inputs[g]:{},a?{__evaluation:l}:{})));return this.use_empty_objects&&(s=s.map(m=>el.default.unflatten(m,{delimiter:Uf}))),s})}retrainTimeseriesModel(){return it(this,arguments,function*(e={}){let{inputMatrix:r,predictionMatrix:n,fitOptions:a}=e,o=It(It({},this.Model.settings.fit),a),s=r,u=n,f=s,l=u,c;this.Model;let h=typeof this.Model.getTimeseriesShape=="function"?this.Model.getTimeseriesShape(f):void 0,m=typeof h!="undefined"?this.Model.reshape(f,h):f,g=this.Model.tf.tensor(m,h),b=this.Model.tf.tensor(l,c);return yield this.Model.model.fit(g,b,o),g.dispose(),b.dispose(),this})}timeseriesForecast(){return it(this,arguments,function*(e={}){let r=this.retrain_forecast_model_with_predictions,n=Object.assign({probability:this.config.model_category!=="classification"},this.prediction_options,e.predictionOptions);e.set_forecast_dates_for_predictions=!0;let{forecastDates:a,forecastDateFirstDataSetDateIndex:o,lastOriginalForecastDate:s,raw_prediction_inputs:u,dimension:f,datasetDates:l}=yield this.validateTimeseriesData(e),c=[],h=0,m=l[l.length-1];return yield Hr.each(a,1,g=>it(this,null,function*(){let b=o+h,A=u[h],I,C,R,O,F,z;g<=s&&(R=this.DataSet.data[b],O=this.DataSet.inverseTransformObject(R,{}),C=[R]);let B=c.length?c[c.length-1]:{},$=Object.keys(B).length?this.DataSet.inverseTransformObject(B,{}):{};$=this.y_dependent_labels.reduce((p,v)=>(typeof $[v]!="undefined"&&(p[v]=$[v]),p),{});let j=[].concat(this.removedFilterdtrainingData,this.DataSet.data.map(p=>this.DataSet.inverseTransformObject(p,{}))),W=Object.keys(this.prediction_inputs_next_value_functions).length>0?this.prediction_inputs_next_value_function({rawInputPredictionObject:A,forecastDate:g,forecastDates:a,forecastPredictionIndex:h,existingDatasetObjectIndex:b+this.removedFilterdtrainingData.length,unscaledLastForecastedValue:$,data:j,DataSet:this.DataSet,lastDataRow:Object.assign({},this.DataSet.data[this.DataSet.data.length-1],O,A,$)}):{},T=Oq({date:g,time_zone:this.prediction_timeseries_time_zone,dimension:f});if(F=this.use_empty_objects?Object.assign({},this.emptyObject,(0,el.default)(O||{},{maxDepth:2,delimiter:Uf}),(0,el.default)(W||{},{maxDepth:2,delimiter:Uf}),(0,el.default)(A||{},{maxDepth:2,delimiter:Uf}),(0,el.default)($,{maxDepth:2,delimiter:Uf}),(0,el.default)(T,{maxDepth:2,delimiter:Uf})):Object.assign({},O,W,A,$,T),z=this.DataSet.transformObject(F,{checkColumnLength:!1}),C=[z],C){let p=this.DataSet.columnMatrix(this.x_independent_features,C);this.validate_training_data&&this.validateTrainingData({cross_validate_training_data:!1,inputMatrix:p}),I=yield this.Model.predict(p,n),r&&g>m&&(yield this.retrainTimeseriesModel({inputMatrix:p,predictionMatrix:I}));let v=this.DataSet.reverseColumnMatrix({vectors:I,labels:this.y_dependent_labels})[0],S=Object.assign({},R,z,v,T,{[this.prediction_timeseries_date_feature]:g});g>s&&this.DataSet.data.splice(b,0,S),c.push(S)}return h++,I})),c})}evaluateClassificationAccuracy(e={}){let{dependent_feature_label:r,estimatesDescaled:n,actualsDescaled:a}=e,o=Ga.columnArray(r,{data:n}),s=Ga.columnArray(r,{data:a}),u=xh.fromLabels(s,o);return{accuracy:u.getAccuracy(),matrix:u.matrix,labels:u.labels,actuals:s,estimates:o}}evaluateRegressionAccuracy(e={}){let{dependent_feature_label:r,estimatesDescaled:n,actualsDescaled:a}=e,o=Ga.columnArray(r,{data:n}),s=Ga.columnArray(r,{data:a}),u=Vn.standardError(s,o),f=Vn.rSquared(s,o),l=Vn.adjustedRSquared({actuals:s,estimates:o,rSquared:f,sampleSize:s.length,independentVariables:this.x_independent_features.length}),c=Boolean(s.filter(R=>R===0||isNaN(R)).length),h=Vn.meanAbsolutePercentageError(s,o),m=Vn.meanAbsoluteDeviation(s,o),g=Vn.mean(s),b="meanAbsolutePercentageError",A="Actuals do not contain Zero values";c&&(b="MAD over MEAN ratio",A="Actuals contain Zero values");let I=c?m/g:h;I<0&&(I=0),I>1&&(I=1);let C=1-I;return{standardError:u,rSquared:f,adjustedRSquared:l,actuals:s,estimates:o,meanForecastError:Vn.meanForecastError(s,o),meanAbsoluteDeviation:Vn.meanAbsoluteDeviation(s,o),trackingSignal:Vn.trackingSignal(s,o),meanSquaredError:Vn.meanSquaredError(s,o),meanAbsolutePercentageError:I,accuracyPercentage:C,metric:b,reason:A,originalMeanAbsolutePercentageError:h}}evaluateModel(){return it(this,arguments,function*(e={}){yield this.checkTrainingStatus(e);let r=e.x_indep_matrix_test||this.x_indep_matrix_test,n=e.y_dep_matrix_test||this.y_dep_matrix_test,a=Object.assign({probability:this.config.model_category!=="classification"},this.prediction_options,e.predictionOptions),o=yield this.Model.predict(r,a),s=this.DataSet.reverseColumnMatrix({vectors:o,labels:this.y_dependent_labels}),u=this.DataSet.reverseColumnMatrix({vectors:n,labels:this.y_dependent_labels}),f=this.dimension,l=this.y_dependent_labels.reduce((g,b)=>(g[b]=0,g),{}),c=s.map((g,b)=>{let A=this.DataSet.inverseTransformObject(g,{});if(this.config.model_category==="timeseries"){let C=r[b],[R]=this.DataSet.reverseColumnMatrix({vectors:[C],labels:this.x_independent_features}),O=this.DataSet.inverseTransformObject(R,{}),F=R.is_location_open,{year:z,month:B,day:$,hour:j}=O;(f==="hourly"||f==="daily")&&this.entity&&!F&&(console.info(`Manually fixing prediction on closed - ${f} ${z}-${B}-${$}T${j}`),A=l)}return this.use_empty_objects?el.default.unflatten(A,{delimiter:Uf}):A}),h=u.map(g=>{let b=this.DataSet.inverseTransformObject(g,{});return this.use_empty_objects?el.default.unflatten(b,{delimiter:Uf}):b}),m=Array.isArray(this.y_raw_dependent_labels)&&this.y_raw_dependent_labels.length?this.y_raw_dependent_labels:this.y_dependent_labels;return m.splice(this.max_evaluation_outputs),this.config.model_category==="classification"?m.reduce((g,b)=>(g[b]=this.evaluateClassificationAccuracy({dependent_feature_label:b,estimatesDescaled:c,actualsDescaled:h}),g),{}):m.reduce((g,b)=>(g[b]=this.evaluateRegressionAccuracy({dependent_feature_label:b,estimatesDescaled:c,actualsDescaled:h}),g),{})})}},Kl=EZ;De(Kl,"prediction_timeseries_date_format"),De(Kl,"prediction_timeseries_date_feature"),De(Kl,"dimension"),De(Kl,"prediction_timeseries_dimension_feature");w();_();w();_();w();_();var qVe=Bt(SA(),1),zVe=Bt(q5(),1),UVe=Bt(z5(),1),MZ=Bt(U5(),1);function NXt(t,e){return it(this,null,function*(){let r=t.search(/https/gi)>-1?zVe.get:qVe.get;return new Promise((n,a)=>{let o=[],s=Object.assign({checkType:!0},e);r(t,f=>{(0,MZ.default)(s).fromStream(f).subscribe(l=>{o.push(l)},l=>a(l),l=>l?a(l):n(o))}).on("error",a)})})}function AZ(t,e){return it(this,null,function*(){return UVe.default.isUri(t)?NXt(t,e):new Promise((r,n)=>{let a=[],o=Object.assign({checkType:!0},e);(0,MZ.default)(o).fromFile(t).subscribe((s,u)=>{a.push(s)},s=>n(s),s=>s?n(s):r(a))})})}function jVe(t,e){return it(this,null,function*(){let r=Object.assign({checkType:!0},e,{delimiter:"	"});return AZ(t,r)})}w();_();function $Ve(t={}){return t[Object.keys(t)[0]]||[]}var VVe=Bt(CP(),1);var TXt={Promisie:Hr,getFirstDataset:$Ve};function oM(){return it(this,arguments,function*(t={}){if(Array.isArray(t))return t;let{reducer:e,data:r,_data_static:n,_data_promise:a,_data_url:o,_data_csv:s,_data_tsv:u,_data_csv_options:f}=t,l=[];return r?l=r:n?l=n:s?l=yield AZ(s,f):u?l=yield jVe(u,f):e?l=yield DXt(e):a?l=yield a():o&&(l=yield(yield(0,VVe.default)(o)).data),l})}function DXt(t){return it(this,null,function*(){let{name:e}=t,r={context:It(Va(It({},TXt),{name:e}),t.context)},a=(Array.isArray(t.reducer_function)?t.reducer_function:[t.reducer_function]).map((f,l)=>IXt({reducer_function:f,name:e,context:r,index:l})),o=Hr.pipe(a),s=yield kXt(t.datasets),{dataset_reduced:u}=yield o(s);return u})}function kXt(){return it(this,arguments,function*(t=[]){let e=0,r={};return t.length&&(r=(yield Hr.map(t,10,a=>it(this,null,function*(){let o={};if(Array.isArray(a))o[`dataset_${e}`]=a;else{let s=yield oM(a);o[a.name||`dataset_${e}`]=s}return e++,o}))).reduce((a,o)=>{let s=Object.keys(o)[0],u=o[s];return a[s]=u,a},{})),r})}function IXt(t){let{reducer_function:e,name:r,context:n,index:a}=t;if(typeof e=="function"){let o=function(u){return it(this,null,function*(){return{dataset_reduced:yield e.call(n,u)}})}.bind(n);return Object.defineProperty(o,"name",{value:e.name||"ReducerFunction_"+a}),o}else{let o=`'use strict'; 
    return async function getAsyncString(){
      try {
        const dataset_reduced = await (async function getReducerData(){
          ${e}
        }.bind(this))();
        return {dataset_reduced};
      } catch(e){
        throw e;
      }
    }.call(this /* ,options */);
    `,s=Function("datasets",o).bind(n);return Object.defineProperty(s,"name",{value:r||"ReducerFunction_"+a}),s}}var CXt={regression:"ai-linear-regression",prediction:"ai-regression",classification:"ai-classification",description:"ai-classification",forecast:"ai-timeseries-regression-forecast"};function NZ(t){return it(this,null,function*(){let e=Array.isArray(t.dataset)?t.dataset:yield oM(t.dataset);return new Kl(It({trainingData:e,independent_variables:OXt(t),input_independent_features:t.input_transforms,dependent_variables:t.outputs,output_dependent_features:t.output_transforms,training_progress_callback:t.on_progress,training_options:t.training_options||TZ(t.options),model_type:t.model_type||CXt[t.type]||t.type},FXt(t,e[0])))})}var WVe=NZ;function TZ({accuracy_target:t}={}){return{fit:{epochs:300,batchSize:20}}}function OXt(t){return(t==null?void 0:t.type)==="forecast"?Array.from(new Set(t.inputs.concat(["year","month","day"]))):t.inputs}function RXt(t){return t!=null&&t.Date?"Date":"date"}function FXt(t,e){let r={};return!(t!=null&&t.model_options)&&(t==null?void 0:t.type)==="forecast"&&(r.prediction_timeseries_time_zone=t==null?void 0:t.forecast_date_time_zone,r.prediction_timeseries_date_feature=(t==null?void 0:t.forecast_date_field)||RXt(e),r.prediction_timeseries_date_format=t==null?void 0:t.forecast_date_format,r.validate_training_data=!0,r.retrain_forecast_model_with_predictions=!0,r.use_next_value_functions_for_training_data=!0,r.use_mock_dates_to_fit_trainning_data=!0,r.use_preprocessing_on_trainning_data=!0,r.training_feature_column_options={year:["onehot"],month:["onehot"],day:["onehot"]}),It(It({},r),t==null?void 0:t.model_options)}return uM(BXt);})();
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
    * @license
    * Copyright 2021 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
/**
*  @license
* Copyright 2021, JsData. All rights reserved.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.

* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
* ==========================================================================
*/
/**
*  @license
* Copyright 2022, JsData. All rights reserved.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.

* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
* ==========================================================================
*/
/** @license See the LICENSE file. */
// *  @license
//# sourceMappingURL=indexlegacy-min.js.map
